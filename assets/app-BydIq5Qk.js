const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.html-C-RlZCqv.js","assets/CC-BY-SA_icon-BrYTWxWC.js","assets/index-wx.html-B6Hy-Pf4.js","assets/2024-2025.html-DzWQ8neg.js","assets/2025-2-ChPqBZt7.js","assets/index.html-DQ0fcWEw.js","assets/index.html-RKISsMET.js","assets/3-By_0Luwc.js","assets/index.html-3XAH1-QV.js"])))=>i.map(i=>d[i]);
var JJ=Object.defineProperty;var QJ=(e,t,n)=>t in e?JJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ur=(e,t,n)=>QJ(e,typeof t!="symbol"?t+"":t,n);const eQ="modulepreload",tQ=function(e){return"/"+e},I3={},Kt=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=tQ(c),c in I3)return;I3[c]=!0;const h=c.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":eQ,h||(g.as="script"),g.crossOrigin="",g.href=c,a&&g.setAttribute("nonce",a),document.head.appendChild(g),h)return new Promise((y,v)=>{g.addEventListener("load",y),g.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})};/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Dg(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const zr={},$m=[],Gl=()=>{},nQ=()=>!1,X0=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),fD=e=>e.startsWith("onUpdate:"),so=Object.assign,pD=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},rQ=Object.prototype.hasOwnProperty,Cr=(e,t)=>rQ.call(e,t),An=Array.isArray,zm=e=>YS(e)==="[object Map]",S8=e=>YS(e)==="[object Set]",$n=e=>typeof e=="function",ni=e=>typeof e=="string",ac=e=>typeof e=="symbol",ri=e=>e!==null&&typeof e=="object",C8=e=>(ri(e)||$n(e))&&$n(e.then)&&$n(e.catch),T8=Object.prototype.toString,YS=e=>T8.call(e),iQ=e=>YS(e).slice(8,-1),P8=e=>YS(e)==="[object Object]",mD=e=>ni(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Bm=Dg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),JS=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},oQ=/-(\w)/g,ka=JS(e=>e.replace(oQ,(t,n)=>n?n.toUpperCase():"")),aQ=/\B([A-Z])/g,sc=JS(e=>e.replace(aQ,"-$1").toLowerCase()),Y0=JS(e=>e.charAt(0).toUpperCase()+e.slice(1)),NT=JS(e=>e?`on${Y0(e)}`:""),ph=(e,t)=>!Object.is(e,t),VT=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},og=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},sQ=e=>{const t=parseFloat(e);return isNaN(t)?e:t},lQ=e=>{const t=ni(e)?Number(e):NaN;return isNaN(t)?e:t};let M3;const QS=()=>M3||(M3=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function kg(e){if(An(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=ni(r)?dQ(r):kg(r);if(i)for(const o in i)t[o]=i[o]}return t}else if(ni(e)||ri(e))return e}const uQ=/;(?![^(]*\))/g,cQ=/:([^]+)/,hQ=/\/\*[^]*?\*\//g;function dQ(e){const t={};return e.replace(hQ,"").split(uQ).forEach(n=>{if(n){const r=n.split(cQ);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function fQ(e){if(!e)return"";if(ni(e))return e;let t="";for(const n in e){const r=e[n];if(ni(r)||typeof r=="number"){const i=n.startsWith("--")?n:sc(n);t+=`${i}:${r};`}}return t}function Jo(e){let t="";if(ni(e))t=e;else if(An(e))for(let n=0;n<e.length;n++){const r=Jo(e[n]);r&&(t+=r+" ")}else if(ri(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const E8="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",pQ=Dg(E8),A3=Dg(E8+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function gD(e){return!!e||e===""}const mQ=Dg("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),gQ=Dg("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xmlns:xlink,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan");function vQ(e){if(e==null)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"}const yQ=/[ !"#$%&'()*+,./:;<=>?@[\\\]^`{|}~]/g;function _Q(e,t){return e.replace(yQ,n=>`\\${n}`)}const I8=e=>!!(e&&e.__v_isRef===!0),Rn=e=>ni(e)?e:e==null?"":An(e)||ri(e)&&(e.toString===T8||!$n(e.toString))?I8(e)?Rn(e.value):JSON.stringify(e,M8,2):String(e),M8=(e,t)=>I8(t)?M8(e,t.value):zm(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i],o)=>(n[jT(r,o)+" =>"]=i,n),{})}:S8(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>jT(n))}:ac(t)?jT(t):ri(t)&&!An(t)&&!P8(t)?String(t):t,jT=(e,t="")=>{var n;return ac(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ca;class bQ{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ca,!t&&ca&&(this.index=(ca.scopes||(ca.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=ca;try{return ca=this,t()}finally{ca=n}}}on(){ca=this}off(){ca=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function A8(){return ca}function xQ(e,t=!1){ca&&ca.cleanups.push(e)}let Yr;const HT=new WeakSet;class D8{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ca&&ca.active&&ca.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,HT.has(this)&&(HT.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||O8(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,D3(this),R8(this);const t=Yr,n=ol;Yr=this,ol=!0;try{return this.fn()}finally{L8(this),Yr=t,ol=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)_D(t);this.deps=this.depsTail=void 0,D3(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?HT.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){AI(this)&&this.run()}get dirty(){return AI(this)}}let k8=0,S_,C_;function O8(e,t=!1){if(e.flags|=8,t){e.next=C_,C_=e;return}e.next=S_,S_=e}function vD(){k8++}function yD(){if(--k8>0)return;if(C_){let t=C_;for(C_=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;S_;){let t=S_;for(S_=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function R8(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function L8(e){let t,n=e.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),_D(r),wQ(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}e.deps=t,e.depsTail=n}function AI(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&($8(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function $8(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===e0))return;e.globalVersion=e0;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!AI(e)){e.flags&=-3;return}const n=Yr,r=ol;Yr=e,ol=!0;try{R8(e);const i=e.fn(e._value);(t.version===0||ph(i,e._value))&&(e._value=i,t.version++)}catch(i){throw t.version++,i}finally{Yr=n,ol=r,L8(e),e.flags&=-3}}function _D(e,t=!1){const{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)_D(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function wQ(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let ol=!0;const z8=[];function lc(){z8.push(ol),ol=!1}function uc(){const e=z8.pop();ol=e===void 0?!0:e}function D3(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Yr;Yr=void 0;try{t()}finally{Yr=n}}}let e0=0;class SQ{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class e2{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Yr||!ol||Yr===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Yr)n=this.activeLink=new SQ(Yr,this),Yr.deps?(n.prevDep=Yr.depsTail,Yr.depsTail.nextDep=n,Yr.depsTail=n):Yr.deps=Yr.depsTail=n,B8(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Yr.depsTail,n.nextDep=void 0,Yr.depsTail.nextDep=n,Yr.depsTail=n,Yr.deps===n&&(Yr.deps=r)}return n}trigger(t){this.version++,e0++,this.notify(t)}notify(t){vD();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{yD()}}}function B8(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)B8(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Nw=new WeakMap,pf=Symbol(""),DI=Symbol(""),t0=Symbol("");function Zo(e,t,n){if(ol&&Yr){let r=Nw.get(e);r||Nw.set(e,r=new Map);let i=r.get(n);i||(r.set(n,i=new e2),i.map=r,i.key=n),i.track()}}function Gu(e,t,n,r,i,o){const s=Nw.get(e);if(!s){e0++;return}const a=c=>{c&&c.trigger()};if(vD(),t==="clear")s.forEach(a);else{const c=An(e),h=c&&mD(n);if(c&&n==="length"){const d=Number(r);s.forEach((g,y)=>{(y==="length"||y===t0||!ac(y)&&y>=d)&&a(g)})}else switch((n!==void 0||s.has(void 0))&&a(s.get(n)),h&&a(s.get(t0)),t){case"add":c?h&&a(s.get("length")):(a(s.get(pf)),zm(e)&&a(s.get(DI)));break;case"delete":c||(a(s.get(pf)),zm(e)&&a(s.get(DI)));break;case"set":zm(e)&&a(s.get(pf));break}}yD()}function CQ(e,t){const n=Nw.get(e);return n&&n.get(t)}function Zp(e){const t=Un(e);return t===e?t:(Zo(t,"iterate",t0),Bs(e)?t:t.map(qo))}function t2(e){return Zo(e=Un(e),"iterate",t0),e}const TQ={__proto__:null,[Symbol.iterator](){return UT(this,Symbol.iterator,qo)},concat(...e){return Zp(this).concat(...e.map(t=>An(t)?Zp(t):t))},entries(){return UT(this,"entries",e=>(e[1]=qo(e[1]),e))},every(e,t){return Au(this,"every",e,t,void 0,arguments)},filter(e,t){return Au(this,"filter",e,t,n=>n.map(qo),arguments)},find(e,t){return Au(this,"find",e,t,qo,arguments)},findIndex(e,t){return Au(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Au(this,"findLast",e,t,qo,arguments)},findLastIndex(e,t){return Au(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Au(this,"forEach",e,t,void 0,arguments)},includes(...e){return GT(this,"includes",e)},indexOf(...e){return GT(this,"indexOf",e)},join(e){return Zp(this).join(e)},lastIndexOf(...e){return GT(this,"lastIndexOf",e)},map(e,t){return Au(this,"map",e,t,void 0,arguments)},pop(){return wy(this,"pop")},push(...e){return wy(this,"push",e)},reduce(e,...t){return k3(this,"reduce",e,t)},reduceRight(e,...t){return k3(this,"reduceRight",e,t)},shift(){return wy(this,"shift")},some(e,t){return Au(this,"some",e,t,void 0,arguments)},splice(...e){return wy(this,"splice",e)},toReversed(){return Zp(this).toReversed()},toSorted(e){return Zp(this).toSorted(e)},toSpliced(...e){return Zp(this).toSpliced(...e)},unshift(...e){return wy(this,"unshift",e)},values(){return UT(this,"values",qo)}};function UT(e,t,n){const r=t2(e),i=r[t]();return r!==e&&!Bs(e)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.value&&(o.value=n(o.value)),o}),i}const PQ=Array.prototype;function Au(e,t,n,r,i,o){const s=t2(e),a=s!==e&&!Bs(e),c=s[t];if(c!==PQ[t]){const g=c.apply(e,o);return a?qo(g):g}let h=n;s!==e&&(a?h=function(g,y){return n.call(this,qo(g),y,e)}:n.length>2&&(h=function(g,y){return n.call(this,g,y,e)}));const d=c.call(s,h,r);return a&&i?i(d):d}function k3(e,t,n,r){const i=t2(e);let o=n;return i!==e&&(Bs(e)?n.length>3&&(o=function(s,a,c){return n.call(this,s,a,c,e)}):o=function(s,a,c){return n.call(this,s,qo(a),c,e)}),i[t](o,...r)}function GT(e,t,n){const r=Un(e);Zo(r,"iterate",t0);const i=r[t](...n);return(i===-1||i===!1)&&wD(n[0])?(n[0]=Un(n[0]),r[t](...n)):i}function wy(e,t,n=[]){lc(),vD();const r=Un(e)[t].apply(e,n);return yD(),uc(),r}const EQ=Dg("__proto__,__v_isRef,__isVue"),F8=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ac));function IQ(e){ac(e)||(e=String(e));const t=Un(this);return Zo(t,"has",e),t.hasOwnProperty(e)}class N8{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(i?o?BQ:U8:o?H8:j8).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const s=An(t);if(!i){let c;if(s&&(c=TQ[n]))return c;if(n==="hasOwnProperty")return IQ}const a=Reflect.get(t,n,zi(t)?t:r);return(ac(n)?F8.has(n):EQ(n))||(i||Zo(t,"get",n),o)?a:zi(a)?s&&mD(n)?a:a.value:ri(a)?i?J0(a):Gi(a):a}}class V8 extends N8{constructor(t=!1){super(!1,t)}set(t,n,r,i){let o=t[n];if(!this._isShallow){const c=Ef(o);if(!Bs(r)&&!Ef(r)&&(o=Un(o),r=Un(r)),!An(t)&&zi(o)&&!zi(r))return c?!1:(o.value=r,!0)}const s=An(t)&&mD(n)?Number(n)<t.length:Cr(t,n),a=Reflect.set(t,n,r,zi(t)?t:i);return t===Un(i)&&(s?ph(r,o)&&Gu(t,"set",n,r):Gu(t,"add",n,r)),a}deleteProperty(t,n){const r=Cr(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&r&&Gu(t,"delete",n,void 0),i}has(t,n){const r=Reflect.has(t,n);return(!ac(n)||!F8.has(n))&&Zo(t,"has",n),r}ownKeys(t){return Zo(t,"iterate",An(t)?"length":pf),Reflect.ownKeys(t)}}class MQ extends N8{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const AQ=new V8,DQ=new MQ,kQ=new V8(!0);const kI=e=>e,$1=e=>Reflect.getPrototypeOf(e);function OQ(e,t,n){return function(...r){const i=this.__v_raw,o=Un(i),s=zm(o),a=e==="entries"||e===Symbol.iterator&&s,c=e==="keys"&&s,h=i[e](...r),d=n?kI:t?OI:qo;return!t&&Zo(o,"iterate",c?DI:pf),{next(){const{value:g,done:y}=h.next();return y?{value:g,done:y}:{value:a?[d(g[0]),d(g[1])]:d(g),done:y}},[Symbol.iterator](){return this}}}}function z1(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function RQ(e,t){const n={get(i){const o=this.__v_raw,s=Un(o),a=Un(i);e||(ph(i,a)&&Zo(s,"get",i),Zo(s,"get",a));const{has:c}=$1(s),h=t?kI:e?OI:qo;if(c.call(s,i))return h(o.get(i));if(c.call(s,a))return h(o.get(a));o!==s&&o.get(i)},get size(){const i=this.__v_raw;return!e&&Zo(Un(i),"iterate",pf),Reflect.get(i,"size",i)},has(i){const o=this.__v_raw,s=Un(o),a=Un(i);return e||(ph(i,a)&&Zo(s,"has",i),Zo(s,"has",a)),i===a?o.has(i):o.has(i)||o.has(a)},forEach(i,o){const s=this,a=s.__v_raw,c=Un(a),h=t?kI:e?OI:qo;return!e&&Zo(c,"iterate",pf),a.forEach((d,g)=>i.call(o,h(d),h(g),s))}};return so(n,e?{add:z1("add"),set:z1("set"),delete:z1("delete"),clear:z1("clear")}:{add(i){!t&&!Bs(i)&&!Ef(i)&&(i=Un(i));const o=Un(this);return $1(o).has.call(o,i)||(o.add(i),Gu(o,"add",i,i)),this},set(i,o){!t&&!Bs(o)&&!Ef(o)&&(o=Un(o));const s=Un(this),{has:a,get:c}=$1(s);let h=a.call(s,i);h||(i=Un(i),h=a.call(s,i));const d=c.call(s,i);return s.set(i,o),h?ph(o,d)&&Gu(s,"set",i,o):Gu(s,"add",i,o),this},delete(i){const o=Un(this),{has:s,get:a}=$1(o);let c=s.call(o,i);c||(i=Un(i),c=s.call(o,i)),a&&a.call(o,i);const h=o.delete(i);return c&&Gu(o,"delete",i,void 0),h},clear(){const i=Un(this),o=i.size!==0,s=i.clear();return o&&Gu(i,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=OQ(i,e,t)}),n}function bD(e,t){const n=RQ(e,t);return(r,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(Cr(n,i)&&i in r?n:r,i,o)}const LQ={get:bD(!1,!1)},$Q={get:bD(!1,!0)},zQ={get:bD(!0,!1)};const j8=new WeakMap,H8=new WeakMap,U8=new WeakMap,BQ=new WeakMap;function FQ(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function NQ(e){return e.__v_skip||!Object.isExtensible(e)?0:FQ(iQ(e))}function Gi(e){return Ef(e)?e:xD(e,!1,AQ,LQ,j8)}function G8(e){return xD(e,!1,kQ,$Q,H8)}function J0(e){return xD(e,!0,DQ,zQ,U8)}function xD(e,t,n,r,i){if(!ri(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const s=NQ(e);if(s===0)return e;const a=new Proxy(e,s===2?r:n);return i.set(e,a),a}function Fm(e){return Ef(e)?Fm(e.__v_raw):!!(e&&e.__v_isReactive)}function Ef(e){return!!(e&&e.__v_isReadonly)}function Bs(e){return!!(e&&e.__v_isShallow)}function wD(e){return e?!!e.__v_raw:!1}function Un(e){const t=e&&e.__v_raw;return t?Un(t):e}function VQ(e){return!Cr(e,"__v_skip")&&Object.isExtensible(e)&&og(e,"__v_skip",!0),e}const qo=e=>ri(e)?Gi(e):e,OI=e=>ri(e)?J0(e):e;function zi(e){return e?e.__v_isRef===!0:!1}function Ot(e){return W8(e,!1)}function Et(e){return W8(e,!0)}function W8(e,t){return zi(e)?e:new jQ(e,t)}class jQ{constructor(t,n){this.dep=new e2,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Un(t),this._value=n?t:qo(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Bs(t)||Ef(t);t=r?t:Un(t),ph(t,n)&&(this._rawValue=t,this._value=r?t:qo(t),this.dep.trigger())}}function HQ(e){e.dep&&e.dep.trigger()}function Ui(e){return zi(e)?e.value:e}const UQ={get:(e,t,n)=>t==="__v_raw"?e:Ui(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return zi(i)&&!zi(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Z8(e){return Fm(e)?e:new Proxy(e,UQ)}class GQ{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new e2,{get:r,set:i}=t(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=i}get value(){return this._value=this._get()}set value(t){this._set(t)}}function WQ(e){return new GQ(e)}function Q0(e){const t=An(e)?new Array(e.length):{};for(const n in e)t[n]=q8(e,n);return t}class ZQ{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return CQ(Un(this._object),this._key)}}class qQ{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Ds(e,t,n){return zi(e)?e:$n(e)?new qQ(e):ri(e)&&arguments.length>1?q8(e,t,n):Ot(e)}function q8(e,t,n){const r=e[t];return zi(r)?r:new ZQ(e,t,n)}class KQ{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new e2(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=e0-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Yr!==this)return O8(this,!0),!0}get value(){const t=this.dep.track();return $8(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function XQ(e,t,n=!1){let r,i;return $n(e)?r=e:(r=e.get,i=e.set),new KQ(r,i,n)}const B1={},Vw=new WeakMap;let Xd;function YQ(e,t=!1,n=Xd){if(n){let r=Vw.get(n);r||Vw.set(n,r=[]),r.push(e)}}function JQ(e,t,n=zr){const{immediate:r,deep:i,once:o,scheduler:s,augmentJob:a,call:c}=n,h=z=>i?z:Bs(z)||i===!1||i===0?Wu(z,1):Wu(z);let d,g,y,v,x=!1,C=!1;if(zi(e)?(g=()=>e.value,x=Bs(e)):Fm(e)?(g=()=>h(e),x=!0):An(e)?(C=!0,x=e.some(z=>Fm(z)||Bs(z)),g=()=>e.map(z=>{if(zi(z))return z.value;if(Fm(z))return h(z);if($n(z))return c?c(z,2):z()})):$n(e)?t?g=c?()=>c(e,2):e:g=()=>{if(y){lc();try{y()}finally{uc()}}const z=Xd;Xd=d;try{return c?c(e,3,[v]):e(v)}finally{Xd=z}}:g=Gl,t&&i){const z=g,V=i===!0?1/0:i;g=()=>Wu(z(),V)}const I=A8(),A=()=>{d.stop(),I&&I.active&&pD(I.effects,d)};if(o&&t){const z=t;t=(...V)=>{z(...V),A()}}let k=C?new Array(e.length).fill(B1):B1;const R=z=>{if(!(!(d.flags&1)||!d.dirty&&!z))if(t){const V=d.run();if(i||x||(C?V.some((U,N)=>ph(U,k[N])):ph(V,k))){y&&y();const U=Xd;Xd=d;try{const N=[V,k===B1?void 0:C&&k[0]===B1?[]:k,v];c?c(t,3,N):t(...N),k=V}finally{Xd=U}}}else d.run()};return a&&a(R),d=new D8(g),d.scheduler=s?()=>s(R,!1):R,v=z=>YQ(z,!1,d),y=d.onStop=()=>{const z=Vw.get(d);if(z){if(c)c(z,4);else for(const V of z)V();Vw.delete(d)}},t?r?R(!0):k=d.run():s?s(R.bind(null,!0),!0):d.run(),A.pause=d.pause.bind(d),A.resume=d.resume.bind(d),A.stop=A,A}function Wu(e,t=1/0,n){if(t<=0||!ri(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,zi(e))Wu(e.value,t,n);else if(An(e))for(let r=0;r<e.length;r++)Wu(e[r],t,n);else if(S8(e)||zm(e))e.forEach(r=>{Wu(r,t,n)});else if(P8(e)){for(const r in e)Wu(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Wu(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const T_=[];let WT=!1;function Yc(e,...t){if(WT)return;WT=!0,lc();const n=T_.length?T_[T_.length-1].component:null,r=n&&n.appContext.config.warnHandler,i=QQ();if(r)Og(r,n,11,[e+t.map(o=>{var s,a;return(a=(s=o.toString)==null?void 0:s.call(o))!=null?a:JSON.stringify(o)}).join(""),n&&n.proxy,i.map(({vnode:o})=>`at <${GV(n,o.type)}>`).join(`
`),i]);else{const o=[`[Vue warn]: ${e}`,...t];i.length&&o.push(`
`,...eee(i)),console.warn(...o)}uc(),WT=!1}function QQ(){let e=T_[T_.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const r=e.component&&e.component.parent;e=r&&r.vnode}return t}function eee(e){const t=[];return e.forEach((n,r)=>{t.push(...r===0?[]:[`
`],...tee(n))}),t}function tee({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",r=e.component?e.component.parent==null:!1,i=` at <${GV(e.component,e.type,r)}`,o=">"+n;return e.props?[i,...nee(e.props),o]:[i+o]}function nee(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(r=>{t.push(...K8(r,e[r]))}),n.length>3&&t.push(" ..."),t}function K8(e,t,n){return ni(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:zi(t)?(t=K8(e,Un(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):$n(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=Un(t),n?t:[`${e}=`,t])}function Og(e,t,n,r){try{return r?e(...r):e()}catch(i){eb(i,t,n)}}function ul(e,t,n,r){if($n(e)){const i=Og(e,t,n,r);return i&&C8(i)&&i.catch(o=>{eb(o,t,n)}),i}if(An(e)){const i=[];for(let o=0;o<e.length;o++)i.push(ul(e[o],t,n,r));return i}}function eb(e,t,n,r=!0){const i=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:s}=t&&t.appContext.config||zr;if(t){let a=t.parent;const c=t.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const d=a.ec;if(d){for(let g=0;g<d.length;g++)if(d[g](e,c,h)===!1)return}a=a.parent}if(o){lc(),Og(o,null,10,[e,c,h]),uc();return}}ree(e,n,i,r,s)}function ree(e,t,n,r=!0,i=!1){if(i)throw e;console.error(e)}const da=[];let kl=-1;const Nm=[];let th=null,vm=0;const X8=Promise.resolve();let jw=null;function wi(e){const t=jw||X8;return e?t.then(this?e.bind(this):e):t}function iee(e){let t=kl+1,n=da.length;for(;t<n;){const r=t+n>>>1,i=da[r],o=n0(i);o<e||o===e&&i.flags&2?t=r+1:n=r}return t}function SD(e){if(!(e.flags&1)){const t=n0(e),n=da[da.length-1];!n||!(e.flags&2)&&t>=n0(n)?da.push(e):da.splice(iee(t),0,e),e.flags|=1,Y8()}}function Y8(){jw||(jw=X8.then(J8))}function oee(e){An(e)?Nm.push(...e):th&&e.id===-1?th.splice(vm+1,0,e):e.flags&1||(Nm.push(e),e.flags|=1),Y8()}function O3(e,t,n=kl+1){for(;n<da.length;n++){const r=da[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;da.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Hw(e){if(Nm.length){const t=[...new Set(Nm)].sort((n,r)=>n0(n)-n0(r));if(Nm.length=0,th){th.push(...t);return}for(th=t,vm=0;vm<th.length;vm++){const n=th[vm];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}th=null,vm=0}}const n0=e=>e.id==null?e.flags&2?-1:1/0:e.id;function J8(e){try{for(kl=0;kl<da.length;kl++){const t=da[kl];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Og(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;kl<da.length;kl++){const t=da[kl];t&&(t.flags&=-2)}kl=-1,da.length=0,Hw(),jw=null,(da.length||Nm.length)&&J8()}}let zl,a_=[],RI=!1;function n2(e,...t){zl?zl.emit(e,...t):RI||a_.push({event:e,args:t})}function Q8(e,t){var n,r;zl=e,zl?(zl.enabled=!0,a_.forEach(({event:i,args:o})=>zl.emit(i,...o)),a_=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(o=>{Q8(o,t)}),setTimeout(()=>{zl||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,RI=!0,a_=[])},3e3)):(RI=!0,a_=[])}function aee(e,t){n2("app:init",e,t,{Fragment:vn,Text:Wl,Comment:to,Static:Vm})}function see(e){n2("app:unmount",e)}const lee=CD("component:added"),eV=CD("component:updated"),uee=CD("component:removed"),cee=e=>{zl&&typeof zl.cleanupBuffer=="function"&&!zl.cleanupBuffer(e)&&uee(e)};/*! #__NO_SIDE_EFFECTS__ */function CD(e){return t=>{n2(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}function hee(e,t,n){n2("component:emit",e.appContext.app,e,t,n)}let io=null,tV=null;function Uw(e){const t=io;return io=e,tV=e&&e.type.__scopeId||null,t}function Bn(e,t=io,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&Y3(-1);const o=Uw(t);let s;try{s=e(...i)}finally{Uw(o),r._d&&Y3(1)}return eV(t),s};return r._n=!0,r._c=!0,r._d=!0,r}function xh(e,t){if(io===null)return e;const n=o2(io),r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,s,a,c=zr]=t[i];o&&($n(o)&&(o={mounted:o,updated:o}),o.deep&&Wu(s),r.push({dir:o,instance:n,value:s,oldValue:void 0,arg:a,modifiers:c}))}return e}function Ol(e,t,n,r){const i=e.dirs,o=t&&t.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let c=a.dir[r];c&&(lc(),ul(c,n,8,[e.el,a,e,t]),uc())}}const nV=Symbol("_vte"),rV=e=>e.__isTeleport,P_=e=>e&&(e.disabled||e.disabled===""),R3=e=>e&&(e.defer||e.defer===""),L3=e=>typeof SVGElement<"u"&&e instanceof SVGElement,$3=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,LI=(e,t)=>{const n=e&&e.to;return ni(n)?t?t(n):null:n},iV={name:"Teleport",__isTeleport:!0,process(e,t,n,r,i,o,s,a,c,h){const{mc:d,pc:g,pbc:y,o:{insert:v,querySelector:x,createText:C,createComment:I}}=h,A=P_(t.props);let{shapeFlag:k,children:R,dynamicChildren:z}=t;if(e==null){const V=t.el=C(""),U=t.anchor=C("");v(V,n,r),v(U,n,r);const N=(X,K)=>{k&16&&(i&&i.isCE&&(i.ce._teleportTarget=X),d(R,X,K,i,o,s,a,c))},W=()=>{const X=t.target=LI(t.props,x),K=oV(X,t,C,v);X&&(s!=="svg"&&L3(X)?s="svg":s!=="mathml"&&$3(X)&&(s="mathml"),A||(N(X,K),tw(t,!1)))};A&&(N(n,U),tw(t,!0)),R3(t.props)?ua(()=>{W(),t.el.__isMounted=!0},o):W()}else{if(R3(t.props)&&!e.el.__isMounted){ua(()=>{iV.process(e,t,n,r,i,o,s,a,c,h),delete e.el.__isMounted},o);return}t.el=e.el,t.targetStart=e.targetStart;const V=t.anchor=e.anchor,U=t.target=e.target,N=t.targetAnchor=e.targetAnchor,W=P_(e.props),X=W?n:U,K=W?V:N;if(s==="svg"||L3(U)?s="svg":(s==="mathml"||$3(U))&&(s="mathml"),z?(y(e.dynamicChildren,z,X,i,o,s,a),MD(e,t,!0)):c||g(e,t,X,K,i,o,s,a,!1),A)W?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):F1(t,n,V,h,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const te=t.target=LI(t.props,x);te&&F1(t,te,null,h,0)}else W&&F1(t,U,N,h,1);tw(t,A)}},remove(e,t,n,{um:r,o:{remove:i}},o){const{shapeFlag:s,children:a,anchor:c,targetStart:h,targetAnchor:d,target:g,props:y}=e;if(g&&(i(h),i(d)),o&&i(c),s&16){const v=o||!P_(y);for(let x=0;x<a.length;x++){const C=a[x];r(C,t,n,v,!!C.dynamicChildren)}}},move:F1,hydrate:dee};function F1(e,t,n,{o:{insert:r},m:i},o=2){o===0&&r(e.targetAnchor,t,n);const{el:s,anchor:a,shapeFlag:c,children:h,props:d}=e,g=o===2;if(g&&r(s,t,n),(!g||P_(d))&&c&16)for(let y=0;y<h.length;y++)i(h[y],t,n,2);g&&r(a,t,n)}function dee(e,t,n,r,i,o,{o:{nextSibling:s,parentNode:a,querySelector:c,insert:h,createText:d}},g){const y=t.target=LI(t.props,c);if(y){const v=P_(t.props),x=y._lpa||y.firstChild;if(t.shapeFlag&16)if(v)t.anchor=g(s(e),t,a(e),n,r,i,o),t.targetStart=x,t.targetAnchor=x&&s(x);else{t.anchor=s(e);let C=x;for(;C;){if(C&&C.nodeType===8){if(C.data==="teleport start anchor")t.targetStart=C;else if(C.data==="teleport anchor"){t.targetAnchor=C,y._lpa=t.targetAnchor&&s(t.targetAnchor);break}}C=s(C)}t.targetAnchor||oV(y,t,d,h),g(x&&s(x),t,y,n,r,i,o)}tw(t,v)}return t.anchor&&s(t.anchor)}const TD=iV;function tw(e,t){const n=e.ctx;if(n&&n.ut){let r,i;for(t?(r=e.el,i=e.anchor):(r=e.targetStart,i=e.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function oV(e,t,n,r){const i=t.targetStart=n(""),o=t.targetAnchor=n("");return i[nV]=o,e&&(r(i,e),r(o,e)),o}const nh=Symbol("_leaveCb"),N1=Symbol("_enterCb");function aV(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Nn(()=>{e.isMounted=!0}),ii(()=>{e.isUnmounting=!0}),e}const xs=[Function,Array],sV={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:xs,onEnter:xs,onAfterEnter:xs,onEnterCancelled:xs,onBeforeLeave:xs,onLeave:xs,onAfterLeave:xs,onLeaveCancelled:xs,onBeforeAppear:xs,onAppear:xs,onAfterAppear:xs,onAppearCancelled:xs},lV=e=>{const t=e.subTree;return t.component?lV(t.component):t},fee={name:"BaseTransition",props:sV,setup(e,{slots:t}){const n=Ao(),r=aV();return()=>{const i=t.default&&PD(t.default(),!0);if(!i||!i.length)return;const o=uV(i),s=Un(e),{mode:a}=s;if(r.isLeaving)return ZT(o);const c=z3(o);if(!c)return ZT(o);let h=r0(c,s,r,n,g=>h=g);c.type!==to&&If(c,h);let d=n.subTree&&z3(n.subTree);if(d&&d.type!==to&&!ef(c,d)&&lV(n).type!==to){let g=r0(d,s,r,n);if(If(d,g),a==="out-in"&&c.type!==to)return r.isLeaving=!0,g.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete g.afterLeave,d=void 0},ZT(o);a==="in-out"&&c.type!==to?g.delayLeave=(y,v,x)=>{const C=cV(r,d);C[String(d.key)]=d,y[nh]=()=>{v(),y[nh]=void 0,delete h.delayedLeave,d=void 0},h.delayedLeave=()=>{x(),delete h.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return o}}};function uV(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==to){t=n;break}}return t}const pee=fee;function cV(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function r0(e,t,n,r,i){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:c,onEnter:h,onAfterEnter:d,onEnterCancelled:g,onBeforeLeave:y,onLeave:v,onAfterLeave:x,onLeaveCancelled:C,onBeforeAppear:I,onAppear:A,onAfterAppear:k,onAppearCancelled:R}=t,z=String(e.key),V=cV(n,e),U=(X,K)=>{X&&ul(X,r,9,K)},N=(X,K)=>{const te=K[1];U(X,K),An(X)?X.every(ae=>ae.length<=1)&&te():X.length<=1&&te()},W={mode:s,persisted:a,beforeEnter(X){let K=c;if(!n.isMounted)if(o)K=I||c;else return;X[nh]&&X[nh](!0);const te=V[z];te&&ef(e,te)&&te.el[nh]&&te.el[nh](),U(K,[X])},enter(X){let K=h,te=d,ae=g;if(!n.isMounted)if(o)K=A||h,te=k||d,ae=R||g;else return;let me=!1;const we=X[N1]=se=>{me||(me=!0,se?U(ae,[X]):U(te,[X]),W.delayedLeave&&W.delayedLeave(),X[N1]=void 0)};K?N(K,[X,we]):we()},leave(X,K){const te=String(e.key);if(X[N1]&&X[N1](!0),n.isUnmounting)return K();U(y,[X]);let ae=!1;const me=X[nh]=we=>{ae||(ae=!0,K(),we?U(C,[X]):U(x,[X]),X[nh]=void 0,V[te]===e&&delete V[te])};V[te]=e,v?N(v,[X,me]):me()},clone(X){const K=r0(X,t,n,r,i);return i&&i(K),K}};return W}function ZT(e){if(tb(e))return e=os(e),e.children=null,e}function z3(e){if(!tb(e))return rV(e.type)&&e.children?uV(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&$n(n.default))return n.default()}}function If(e,t){e.shapeFlag&6&&e.component?(e.transition=t,If(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function PD(e,t=!1,n){let r=[],i=0;for(let o=0;o<e.length;o++){let s=e[o];const a=n==null?s.key:String(n)+String(s.key!=null?s.key:o);s.type===vn?(s.patchFlag&128&&i++,r=r.concat(PD(s.children,t,a))):(t||s.type!==to)&&r.push(a!=null?os(s,{key:a}):s)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Pt(e,t){return $n(e)?so({name:e.name},t,{setup:e}):e}function ED(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function B3(e){const t=Ao(),n=Et(null);if(t){const i=t.refs===zr?t.refs={}:t.refs;Object.defineProperty(i,e,{enumerable:!0,get:()=>n.value,set:o=>n.value=o})}return n}function i0(e,t,n,r,i=!1){if(An(e)){e.forEach((x,C)=>i0(x,t&&(An(t)?t[C]:t),n,r,i));return}if(mf(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&i0(e,t,n,r.component.subTree);return}const o=r.shapeFlag&4?o2(r.component):r.el,s=i?null:o,{i:a,r:c}=e,h=t&&t.r,d=a.refs===zr?a.refs={}:a.refs,g=a.setupState,y=Un(g),v=g===zr?()=>!1:x=>Cr(y,x);if(h!=null&&h!==c&&(ni(h)?(d[h]=null,v(h)&&(g[h]=null)):zi(h)&&(h.value=null)),$n(c))Og(c,a,12,[s,d]);else{const x=ni(c),C=zi(c);if(x||C){const I=()=>{if(e.f){const A=x?v(c)?g[c]:d[c]:c.value;i?An(A)&&pD(A,o):An(A)?A.includes(o)||A.push(o):x?(d[c]=[o],v(c)&&(g[c]=d[c])):(c.value=[o],e.k&&(d[e.k]=c.value))}else x?(d[c]=s,v(c)&&(g[c]=s)):C&&(c.value=s,e.k&&(d[e.k]=s))};s?(I.id=-1,ua(I,n)):I()}}}let F3=!1;const _d=()=>{F3||(console.error("Hydration completed but contains mismatches."),F3=!0)},mee=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",gee=e=>e.namespaceURI.includes("MathML"),V1=e=>{if(e.nodeType===1){if(mee(e))return"svg";if(gee(e))return"mathml"}},Qd=e=>e.nodeType===8;function vee(e){const{mt:t,p:n,o:{patchProp:r,createText:i,nextSibling:o,parentNode:s,remove:a,insert:c,createComment:h}}=e,d=(R,z)=>{if(!z.hasChildNodes()){Yc("Attempting to hydrate existing markup but container is empty. Performing full mount instead."),n(null,R,z),Hw(),z._vnode=R;return}g(z.firstChild,R,null,null,null),Hw(),z._vnode=R},g=(R,z,V,U,N,W=!1)=>{W=W||!!z.dynamicChildren;const X=Qd(R)&&R.data==="[",K=()=>C(R,z,V,U,N,X),{type:te,ref:ae,shapeFlag:me,patchFlag:we}=z;let se=R.nodeType;z.el=R,og(R,"__vnode",z,!0),og(R,"__vueParentComponent",V,!0),we===-2&&(W=!1,z.dynamicChildren=null);let ue=null;switch(te){case Wl:se!==3?z.children===""?(c(z.el=i(""),s(R),R),ue=R):ue=K():(R.data!==z.children&&(Yc("Hydration text mismatch in",R.parentNode,`
  - rendered on server: ${JSON.stringify(R.data)}
  - expected on client: ${JSON.stringify(z.children)}`),_d(),R.data=z.children),ue=o(R));break;case to:k(R)?(ue=o(R),A(z.el=R.content.firstChild,R,V)):se!==8||X?ue=K():ue=o(R);break;case Vm:if(X&&(R=o(R),se=R.nodeType),se===1||se===3){ue=R;const Te=!z.children.length;for(let Be=0;Be<z.staticCount;Be++)Te&&(z.children+=ue.nodeType===1?ue.outerHTML:ue.data),Be===z.staticCount-1&&(z.anchor=ue),ue=o(ue);return X?o(ue):ue}else K();break;case vn:X?ue=x(R,z,V,U,N,W):ue=K();break;default:if(me&1)(se!==1||z.type.toLowerCase()!==R.tagName.toLowerCase())&&!k(R)?ue=K():ue=y(R,z,V,U,N,W);else if(me&6){z.slotScopeIds=N;const Te=s(R);if(X?ue=I(R):Qd(R)&&R.data==="teleport start"?ue=I(R,R.data,"teleport end"):ue=o(R),t(z,Te,null,V,U,V1(Te),W),mf(z)&&!z.type.__asyncResolved){let Be;X?(Be=ne(vn),Be.anchor=ue?ue.previousSibling:Te.lastChild):Be=R.nodeType===3?Wi(""):ne("div"),Be.el=R,z.component.subTree=Be}}else me&64?se!==8?ue=K():ue=z.type.hydrate(R,z,V,U,N,W,e,v):me&128?ue=z.type.hydrate(R,z,V,U,V1(s(R)),N,W,e,g):Yc("Invalid HostVNode type:",te,`(${typeof te})`)}return ae!=null&&i0(ae,null,U,z),ue},y=(R,z,V,U,N,W)=>{W=W||!!z.dynamicChildren;const{type:X,props:K,patchFlag:te,shapeFlag:ae,dirs:me,transition:we}=z,se=X==="input"||X==="option";if(se||te!==-1){me&&Ol(z,null,V,"created");let ue=!1;if(k(R)){ue=OV(null,we)&&V&&V.vnode.props&&V.vnode.props.appear;const Be=R.content.firstChild;ue&&we.beforeEnter(Be),A(Be,R,V),z.el=R=Be}if(ae&16&&!(K&&(K.innerHTML||K.textContent))){let Be=v(R.firstChild,z,R,V,U,N,W),ke=!1;for(;Be;){s_(R,1)||(ke||(Yc("Hydration children mismatch on",R,`
Server rendered element contains more child nodes than client vdom.`),ke=!0),_d());const rt=Be;Be=Be.nextSibling,a(rt)}}else if(ae&8){let Be=z.children;Be[0]===`
`&&(R.tagName==="PRE"||R.tagName==="TEXTAREA")&&(Be=Be.slice(1)),R.textContent!==Be&&(s_(R,0)||(Yc("Hydration text content mismatch on",R,`
  - rendered on server: ${R.textContent}
  - expected on client: ${z.children}`),_d()),R.textContent=z.children)}if(K){const Be=R.tagName.includes("-");for(const ke in K)!(me&&me.some(rt=>rt.dir.created))&&yee(R,ke,K[ke],z,V)&&_d(),(se&&(ke.endsWith("value")||ke==="indeterminate")||X0(ke)&&!Bm(ke)||ke[0]==="."||Be)&&r(R,ke,null,K[ke],void 0,V)}let Te;(Te=K&&K.onVnodeBeforeMount)&&Is(Te,V,z),me&&Ol(z,null,V,"beforeMount"),((Te=K&&K.onVnodeMounted)||me||ue)&&FV(()=>{Te&&Is(Te,V,z),ue&&we.enter(R),me&&Ol(z,null,V,"mounted")},U)}return R.nextSibling},v=(R,z,V,U,N,W,X)=>{X=X||!!z.dynamicChildren;const K=z.children,te=K.length;let ae=!1;for(let me=0;me<te;me++){const we=X?K[me]:K[me]=Os(K[me]),se=we.type===Wl;R?(se&&!X&&me+1<te&&Os(K[me+1]).type===Wl&&(c(i(R.data.slice(we.children.length)),V,o(R)),R.data=we.children),R=g(R,we,U,N,W,X)):se&&!we.children?c(we.el=i(""),V):(s_(V,1)||(ae||(Yc("Hydration children mismatch on",V,`
Server rendered element contains fewer child nodes than client vdom.`),ae=!0),_d()),n(null,we,V,null,U,N,V1(V),W))}return R},x=(R,z,V,U,N,W)=>{const{slotScopeIds:X}=z;X&&(N=N?N.concat(X):X);const K=s(R),te=v(o(R),z,K,V,U,N,W);return te&&Qd(te)&&te.data==="]"?o(z.anchor=te):(_d(),c(z.anchor=h("]"),K,te),te)},C=(R,z,V,U,N,W)=>{if(s_(R.parentElement,1)||(Yc(`Hydration node mismatch:
- rendered on server:`,R,R.nodeType===3?"(text)":Qd(R)&&R.data==="["?"(start of fragment)":"",`
- expected on client:`,z.type),_d()),z.el=null,W){const te=I(R);for(;;){const ae=o(R);if(ae&&ae!==te)a(ae);else break}}const X=o(R),K=s(R);return a(R),n(null,z,K,X,V,U,V1(K),N),V&&(V.vnode.el=z.el,zV(V,z.el)),X},I=(R,z="[",V="]")=>{let U=0;for(;R;)if(R=o(R),R&&Qd(R)&&(R.data===z&&U++,R.data===V)){if(U===0)return o(R);U--}return R},A=(R,z,V)=>{const U=z.parentNode;U&&U.replaceChild(R,z);let N=V;for(;N;)N.vnode.el===z&&(N.vnode.el=N.subTree.el=R),N=N.parent},k=R=>R.nodeType===1&&R.tagName==="TEMPLATE";return[d,g]}function yee(e,t,n,r,i){let o,s,a,c;if(t==="class")a=e.getAttribute("class"),c=Jo(n),_ee(N3(a||""),N3(c))||(o=2,s="class");else if(t==="style"){a=e.getAttribute("style")||"",c=ni(n)?n:fQ(kg(n));const h=V3(a),d=V3(c);if(r.dirs)for(const{dir:g,value:y}of r.dirs)g.name==="show"&&!y&&d.set("display","none");i&&hV(i,r,d),bee(h,d)||(o=3,s="style")}else(e instanceof SVGElement&&gQ(t)||e instanceof HTMLElement&&(A3(t)||mQ(t)))&&(A3(t)?(a=e.hasAttribute(t),c=gD(n)):n==null?(a=e.hasAttribute(t),c=!1):(e.hasAttribute(t)?a=e.getAttribute(t):t==="value"&&e.tagName==="TEXTAREA"?a=e.value:a=!1,c=vQ(n)?String(n):!1),a!==c&&(o=4,s=t));if(o!=null&&!s_(e,o)){const h=y=>y===!1?"(not rendered)":`${s}="${y}"`,d=`Hydration ${dV[o]} mismatch on`,g=`
  - rendered on server: ${h(a)}
  - expected on client: ${h(c)}
  Note: this mismatch is check-only. The DOM will not be rectified in production due to performance overhead.
  You should fix the source of the mismatch.`;return Yc(d,e,g),!0}return!1}function N3(e){return new Set(e.trim().split(/\s+/))}function _ee(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function V3(e){const t=new Map;for(const n of e.split(";")){let[r,i]=n.split(":");r=r.trim(),i=i&&i.trim(),r&&i&&t.set(r,i)}return t}function bee(e,t){if(e.size!==t.size)return!1;for(const[n,r]of e)if(r!==t.get(n))return!1;return!0}function hV(e,t,n){const r=e.subTree;if(e.getCssVars&&(t===r||r&&r.type===vn&&r.children.includes(t))){const i=e.getCssVars();for(const o in i)n.set(`--${_Q(o)}`,String(i[o]))}t===r&&e.parent&&hV(e.parent,e.vnode,n)}const j3="data-allow-mismatch",dV={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function s_(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute(j3);)e=e.parentElement;const n=e&&e.getAttribute(j3);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return t===0&&r.includes("children")?!0:n.split(",").includes(dV[t])}}QS().requestIdleCallback;QS().cancelIdleCallback;function xee(e,t){if(Qd(e)&&e.data==="["){let n=1,r=e.nextSibling;for(;r;){if(r.nodeType===1){if(t(r)===!1)break}else if(Qd(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else t(e)}const mf=e=>!!e.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function wee(e){$n(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:r,delay:i=200,hydrate:o,timeout:s,suspensible:a=!0,onError:c}=e;let h=null,d,g=0;const y=()=>(g++,h=null,v()),v=()=>{let x;return h||(x=h=t().catch(C=>{if(C=C instanceof Error?C:new Error(String(C)),c)return new Promise((I,A)=>{c(C,()=>I(y()),()=>A(C),g+1)});throw C}).then(C=>x!==h&&h?h:(C&&(C.__esModule||C[Symbol.toStringTag]==="Module")&&(C=C.default),d=C,C)))};return Pt({name:"AsyncComponentWrapper",__asyncLoader:v,__asyncHydrate(x,C,I){const A=o?()=>{const k=o(I,R=>xee(x,R));k&&(C.bum||(C.bum=[])).push(k)}:I;d?A():v().then(()=>!C.isUnmounted&&A())},get __asyncResolved(){return d},setup(){const x=no;if(ED(x),d)return()=>qT(d,x);const C=R=>{h=null,eb(R,x,13,!r)};if(a&&x.suspense||ag)return v().then(R=>()=>qT(R,x)).catch(R=>(C(R),()=>r?ne(r,{error:R}):null));const I=Ot(!1),A=Ot(),k=Ot(!!i);return i&&setTimeout(()=>{k.value=!1},i),s!=null&&setTimeout(()=>{if(!I.value&&!A.value){const R=new Error(`Async component timed out after ${s}ms.`);C(R),A.value=R}},s),v().then(()=>{I.value=!0,x.parent&&tb(x.parent.vnode)&&x.parent.update()}).catch(R=>{C(R),A.value=R}),()=>{if(I.value&&d)return qT(d,x);if(A.value&&r)return ne(r,{error:A.value});if(n&&!k.value)return ne(n)}}})}function qT(e,t){const{ref:n,props:r,children:i,ce:o}=t.vnode,s=ne(e,r,i);return s.ref=n,s.ce=o,delete t.vnode.ce,s}const tb=e=>e.type.__isKeepAlive;function See(e,t){fV(e,"a",t)}function Cee(e,t){fV(e,"da",t)}function fV(e,t,n=no){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(r2(t,r,n),n){let i=n.parent;for(;i&&i.parent;)tb(i.parent.vnode)&&Tee(r,t,n,i),i=i.parent}}function Tee(e,t,n,r){const i=r2(t,e,r,!0);eu(()=>{pD(r[t],i)},n)}function r2(e,t,n=no,r=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...s)=>{lc();const a=nb(n),c=ul(t,n,e,s);return a(),uc(),c});return r?i.unshift(o):i.push(o),o}}const cc=e=>(t,n=no)=>{(!ag||e==="sp")&&r2(e,(...r)=>t(...r),n)},pV=cc("bm"),Nn=cc("m"),mV=cc("bu"),Dh=cc("u"),ii=cc("bum"),eu=cc("um"),Pee=cc("sp"),Eee=cc("rtg"),Iee=cc("rtc");function Mee(e,t=no){r2("ec",e,t)}const gV="components",Aee="directives";function or(e,t){return vV(gV,e,!0,t)||e}const Dee=Symbol.for("v-ndc");function kee(e){return vV(Aee,e)}function vV(e,t,n=!0,r=!1){const i=io||no;if(i){const o=i.type;if(e===gV){const a=UV(o,!1);if(a&&(a===t||a===ka(t)||a===Y0(ka(t))))return o}const s=H3(i[e]||o[e],t)||H3(i.appContext[e],t);return!s&&r?o:s}}function H3(e,t){return e&&(e[t]||e[ka(t)]||e[Y0(ka(t))])}function ea(e,t,n,r){let i;const o=n,s=An(e);if(s||ni(e)){const a=s&&Fm(e);let c=!1;a&&(c=!Bs(e),e=t2(e)),i=new Array(e.length);for(let h=0,d=e.length;h<d;h++)i[h]=t(c?qo(e[h]):e[h],h,void 0,o)}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,o)}else if(ri(e))if(e[Symbol.iterator])i=Array.from(e,(a,c)=>t(a,c,void 0,o));else{const a=Object.keys(e);i=new Array(a.length);for(let c=0,h=a.length;c<h;c++){const d=a[c];i[c]=t(e[d],d,c,o)}}else i=[];return i}function _i(e,t,n={},r,i){if(io.ce||io.parent&&mf(io.parent)&&io.parent.ce)return t!=="default"&&(n.name=t),Dt(),Gr(vn,null,[ne("slot",n,r&&r())],64);let o=e[t];o&&o._c&&(o._d=!1),Dt();const s=o&&yV(o(n)),a=n.key||s&&s.key,c=Gr(vn,{key:(a&&!ac(a)?a:`_${t}`)+(!s&&r?"_fb":"")},s||(r?r():[]),s&&e._===1?64:-2);return c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),o&&o._c&&(o._d=!0),c}function yV(e){return e.some(t=>ta(t)?!(t.type===to||t.type===vn&&!yV(t.children)):!0)?e:null}const $I=e=>e?jV(e)?o2(e):$I(e.parent):null,E_=so(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>$I(e.parent),$root:e=>$I(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>bV(e),$forceUpdate:e=>e.f||(e.f=()=>{SD(e.update)}),$nextTick:e=>e.n||(e.n=wi.bind(e.proxy)),$watch:e=>Jee.bind(e)}),KT=(e,t)=>e!==zr&&!e.__isScriptSetup&&Cr(e,t),Oee={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:c}=e;let h;if(t[0]!=="$"){const v=s[t];if(v!==void 0)switch(v){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return o[t]}else{if(KT(r,t))return s[t]=1,r[t];if(i!==zr&&Cr(i,t))return s[t]=2,i[t];if((h=e.propsOptions[0])&&Cr(h,t))return s[t]=3,o[t];if(n!==zr&&Cr(n,t))return s[t]=4,n[t];zI&&(s[t]=0)}}const d=E_[t];let g,y;if(d)return t==="$attrs"&&Zo(e.attrs,"get",""),d(e);if((g=a.__cssModules)&&(g=g[t]))return g;if(n!==zr&&Cr(n,t))return s[t]=4,n[t];if(y=c.config.globalProperties,Cr(y,t))return y[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:o}=e;return KT(i,t)?(i[t]=n,!0):r!==zr&&Cr(r,t)?(r[t]=n,!0):Cr(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let a;return!!n[s]||e!==zr&&Cr(e,s)||KT(t,s)||(a=o[0])&&Cr(a,s)||Cr(r,s)||Cr(E_,s)||Cr(i.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Cr(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function U3(e){return An(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let zI=!0;function Ree(e){const t=bV(e),n=e.proxy,r=e.ctx;zI=!1,t.beforeCreate&&G3(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:s,watch:a,provide:c,inject:h,created:d,beforeMount:g,mounted:y,beforeUpdate:v,updated:x,activated:C,deactivated:I,beforeDestroy:A,beforeUnmount:k,destroyed:R,unmounted:z,render:V,renderTracked:U,renderTriggered:N,errorCaptured:W,serverPrefetch:X,expose:K,inheritAttrs:te,components:ae,directives:me,filters:we}=t;if(h&&Lee(h,r,null),s)for(const Te in s){const Be=s[Te];$n(Be)&&(r[Te]=Be.bind(n))}if(i){const Te=i.call(n,n);ri(Te)&&(e.data=Gi(Te))}if(zI=!0,o)for(const Te in o){const Be=o[Te],ke=$n(Be)?Be.bind(n,n):$n(Be.get)?Be.get.bind(n,n):Gl,rt=!$n(Be)&&$n(Be.set)?Be.set.bind(n):Gl,ot=ge({get:ke,set:rt});Object.defineProperty(r,Te,{enumerable:!0,configurable:!0,get:()=>ot.value,set:tt=>ot.value=tt})}if(a)for(const Te in a)_V(a[Te],r,n,Te);if(c){const Te=$n(c)?c.call(n):c;Reflect.ownKeys(Te).forEach(Be=>{fr(Be,Te[Be])})}d&&G3(d,e,"c");function ue(Te,Be){An(Be)?Be.forEach(ke=>Te(ke.bind(n))):Be&&Te(Be.bind(n))}if(ue(pV,g),ue(Nn,y),ue(mV,v),ue(Dh,x),ue(See,C),ue(Cee,I),ue(Mee,W),ue(Iee,U),ue(Eee,N),ue(ii,k),ue(eu,z),ue(Pee,X),An(K))if(K.length){const Te=e.exposed||(e.exposed={});K.forEach(Be=>{Object.defineProperty(Te,Be,{get:()=>n[Be],set:ke=>n[Be]=ke})})}else e.exposed||(e.exposed={});V&&e.render===Gl&&(e.render=V),te!=null&&(e.inheritAttrs=te),ae&&(e.components=ae),me&&(e.directives=me),X&&ED(e)}function Lee(e,t,n=Gl){An(e)&&(e=BI(e));for(const r in e){const i=e[r];let o;ri(i)?"default"in i?o=Mn(i.from||r,i.default,!0):o=Mn(i.from||r):o=Mn(i),zi(o)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):t[r]=o}}function G3(e,t,n){ul(An(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function _V(e,t,n,r){let i=r.includes(".")?LV(n,r):()=>n[r];if(ni(e)){const o=t[e];$n(o)&&qt(i,o)}else if($n(e))qt(i,e.bind(n));else if(ri(e))if(An(e))e.forEach(o=>_V(o,t,n,r));else{const o=$n(e.handler)?e.handler.bind(n):t[e.handler];$n(o)&&qt(i,o,e)}}function bV(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,a=o.get(t);let c;return a?c=a:!i.length&&!n&&!r?c=t:(c={},i.length&&i.forEach(h=>Gw(c,h,s,!0)),Gw(c,t,s)),ri(t)&&o.set(t,c),c}function Gw(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&Gw(e,o,n,!0),i&&i.forEach(s=>Gw(e,s,n,!0));for(const s in t)if(!(r&&s==="expose")){const a=$ee[s]||n&&n[s];e[s]=a?a(e[s],t[s]):t[s]}return e}const $ee={data:W3,props:Z3,emits:Z3,methods:l_,computed:l_,beforeCreate:la,created:la,beforeMount:la,mounted:la,beforeUpdate:la,updated:la,beforeDestroy:la,beforeUnmount:la,destroyed:la,unmounted:la,activated:la,deactivated:la,errorCaptured:la,serverPrefetch:la,components:l_,directives:l_,watch:Bee,provide:W3,inject:zee};function W3(e,t){return t?e?function(){return so($n(e)?e.call(this,this):e,$n(t)?t.call(this,this):t)}:t:e}function zee(e,t){return l_(BI(e),BI(t))}function BI(e){if(An(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function la(e,t){return e?[...new Set([].concat(e,t))]:t}function l_(e,t){return e?so(Object.create(null),e,t):t}function Z3(e,t){return e?An(e)&&An(t)?[...new Set([...e,...t])]:so(Object.create(null),U3(e),U3(t??{})):t}function Bee(e,t){if(!e)return t;if(!t)return e;const n=so(Object.create(null),e);for(const r in t)n[r]=la(e[r],t[r]);return n}function xV(){return{app:null,config:{isNativeTag:nQ,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Fee=0;function Nee(e,t){return function(r,i=null){$n(r)||(r=so({},r)),i!=null&&!ri(i)&&(i=null);const o=xV(),s=new WeakSet,a=[];let c=!1;const h=o.app={_uid:Fee++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:e$,get config(){return o.config},set config(d){},use(d,...g){return s.has(d)||(d&&$n(d.install)?(s.add(d),d.install(h,...g)):$n(d)&&(s.add(d),d(h,...g))),h},mixin(d){return o.mixins.includes(d)||o.mixins.push(d),h},component(d,g){return g?(o.components[d]=g,h):o.components[d]},directive(d,g){return g?(o.directives[d]=g,h):o.directives[d]},mount(d,g,y){if(!c){const v=h._ceVNode||ne(r,i);return v.appContext=o,y===!0?y="svg":y===!1&&(y=void 0),g&&t?t(v,d):e(v,d,y),c=!0,h._container=d,d.__vue_app__=h,h._instance=v.component,aee(h,e$),o2(v.component)}},onUnmount(d){a.push(d)},unmount(){c&&(ul(a,h._instance,16),e(null,h._container),h._instance=null,see(h),delete h._container.__vue_app__)},provide(d,g){return o.provides[d]=g,h},runWithContext(d){const g=gf;gf=h;try{return d()}finally{gf=g}}};return h}}let gf=null;function fr(e,t){if(no){let n=no.provides;const r=no.parent&&no.parent.provides;r===n&&(n=no.provides=Object.create(r)),n[e]=t}}function Mn(e,t,n=!1){const r=no||io;if(r||gf){const i=gf?gf._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&$n(t)?t.call(r&&r.proxy):t}}function wV(){return!!(no||io||gf)}const SV={},CV=()=>Object.create(SV),TV=e=>Object.getPrototypeOf(e)===SV;function Vee(e,t,n,r=!1){const i={},o=CV();e.propsDefaults=Object.create(null),PV(e,t,i,o);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);n?e.props=r?i:G8(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function jee(e,t,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=e,a=Un(i),[c]=e.propsOptions;let h=!1;if((r||s>0)&&!(s&16)){if(s&8){const d=e.vnode.dynamicProps;for(let g=0;g<d.length;g++){let y=d[g];if(i2(e.emitsOptions,y))continue;const v=t[y];if(c)if(Cr(o,y))v!==o[y]&&(o[y]=v,h=!0);else{const x=ka(y);i[x]=FI(c,a,x,v,e,!1)}else v!==o[y]&&(o[y]=v,h=!0)}}}else{PV(e,t,i,o)&&(h=!0);let d;for(const g in a)(!t||!Cr(t,g)&&((d=sc(g))===g||!Cr(t,d)))&&(c?n&&(n[g]!==void 0||n[d]!==void 0)&&(i[g]=FI(c,a,g,void 0,e,!0)):delete i[g]);if(o!==a)for(const g in o)(!t||!Cr(t,g))&&(delete o[g],h=!0)}h&&Gu(e.attrs,"set","")}function PV(e,t,n,r){const[i,o]=e.propsOptions;let s=!1,a;if(t)for(let c in t){if(Bm(c))continue;const h=t[c];let d;i&&Cr(i,d=ka(c))?!o||!o.includes(d)?n[d]=h:(a||(a={}))[d]=h:i2(e.emitsOptions,c)||(!(c in r)||h!==r[c])&&(r[c]=h,s=!0)}if(o){const c=Un(n),h=a||zr;for(let d=0;d<o.length;d++){const g=o[d];n[g]=FI(i,c,g,h[g],e,!Cr(h,g))}}return s}function FI(e,t,n,r,i,o){const s=e[n];if(s!=null){const a=Cr(s,"default");if(a&&r===void 0){const c=s.default;if(s.type!==Function&&!s.skipFactory&&$n(c)){const{propsDefaults:h}=i;if(n in h)r=h[n];else{const d=nb(i);r=h[n]=c.call(null,t),d()}}else r=c;i.ce&&i.ce._setProp(n,r)}s[0]&&(o&&!a?r=!1:s[1]&&(r===""||r===sc(n))&&(r=!0))}return r}const Hee=new WeakMap;function EV(e,t,n=!1){const r=n?Hee:t.propsCache,i=r.get(e);if(i)return i;const o=e.props,s={},a=[];let c=!1;if(!$n(e)){const d=g=>{c=!0;const[y,v]=EV(g,t,!0);so(s,y),v&&a.push(...v)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!o&&!c)return ri(e)&&r.set(e,$m),$m;if(An(o))for(let d=0;d<o.length;d++){const g=ka(o[d]);q3(g)&&(s[g]=zr)}else if(o)for(const d in o){const g=ka(d);if(q3(g)){const y=o[d],v=s[g]=An(y)||$n(y)?{type:y}:so({},y),x=v.type;let C=!1,I=!0;if(An(x))for(let A=0;A<x.length;++A){const k=x[A],R=$n(k)&&k.name;if(R==="Boolean"){C=!0;break}else R==="String"&&(I=!1)}else C=$n(x)&&x.name==="Boolean";v[0]=C,v[1]=I,(C||Cr(v,"default"))&&a.push(g)}}const h=[s,a];return ri(e)&&r.set(e,h),h}function q3(e){return e[0]!=="$"&&!Bm(e)}const IV=e=>e[0]==="_"||e==="$stable",ID=e=>An(e)?e.map(Os):[Os(e)],Uee=(e,t,n)=>{if(t._n)return t;const r=Bn((...i)=>ID(t(...i)),n);return r._c=!1,r},MV=(e,t,n)=>{const r=e._ctx;for(const i in e){if(IV(i))continue;const o=e[i];if($n(o))t[i]=Uee(i,o,r);else if(o!=null){const s=ID(o);t[i]=()=>s}}},AV=(e,t)=>{const n=ID(t);e.slots.default=()=>n},DV=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},Gee=(e,t,n)=>{const r=e.slots=CV();if(e.vnode.shapeFlag&32){const i=t._;i?(DV(r,t,n),n&&og(r,"_",i,!0)):MV(t,r)}else t&&AV(e,t)},Wee=(e,t,n)=>{const{vnode:r,slots:i}=e;let o=!0,s=zr;if(r.shapeFlag&32){const a=t._;a?n&&a===1?o=!1:DV(i,t,n):(o=!t.$stable,MV(t,i)),s=t}else t&&(AV(e,t),s={default:1});if(o)for(const a in i)!IV(a)&&s[a]==null&&delete i[a]},ua=FV;function Zee(e){return kV(e)}function qee(e){return kV(e,vee)}function kV(e,t){const n=QS();n.__VUE__=!0,Q8(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:r,remove:i,patchProp:o,createElement:s,createText:a,createComment:c,setText:h,setElementText:d,parentNode:g,nextSibling:y,setScopeId:v=Gl,insertStaticContent:x}=e,C=(pe,ye,Ze,ht=null,st=null,Xe=null,Qe=void 0,lt=null,St=!!ye.dynamicChildren)=>{if(pe===ye)return;pe&&!ef(pe,ye)&&(ht=ze(pe),tt(pe,st,Xe,!0),pe=null),ye.patchFlag===-2&&(St=!1,ye.dynamicChildren=null);const{type:Tt,ref:Wt,shapeFlag:Ft}=ye;switch(Tt){case Wl:I(pe,ye,Ze,ht);break;case to:A(pe,ye,Ze,ht);break;case Vm:pe==null&&k(ye,Ze,ht,Qe);break;case vn:ae(pe,ye,Ze,ht,st,Xe,Qe,lt,St);break;default:Ft&1?V(pe,ye,Ze,ht,st,Xe,Qe,lt,St):Ft&6?me(pe,ye,Ze,ht,st,Xe,Qe,lt,St):(Ft&64||Ft&128)&&Tt.process(pe,ye,Ze,ht,st,Xe,Qe,lt,St,Ve)}Wt!=null&&st&&i0(Wt,pe&&pe.ref,Xe,ye||pe,!ye)},I=(pe,ye,Ze,ht)=>{if(pe==null)r(ye.el=a(ye.children),Ze,ht);else{const st=ye.el=pe.el;ye.children!==pe.children&&h(st,ye.children)}},A=(pe,ye,Ze,ht)=>{pe==null?r(ye.el=c(ye.children||""),Ze,ht):ye.el=pe.el},k=(pe,ye,Ze,ht)=>{[pe.el,pe.anchor]=x(pe.children,ye,Ze,ht,pe.el,pe.anchor)},R=({el:pe,anchor:ye},Ze,ht)=>{let st;for(;pe&&pe!==ye;)st=y(pe),r(pe,Ze,ht),pe=st;r(ye,Ze,ht)},z=({el:pe,anchor:ye})=>{let Ze;for(;pe&&pe!==ye;)Ze=y(pe),i(pe),pe=Ze;i(ye)},V=(pe,ye,Ze,ht,st,Xe,Qe,lt,St)=>{ye.type==="svg"?Qe="svg":ye.type==="math"&&(Qe="mathml"),pe==null?U(ye,Ze,ht,st,Xe,Qe,lt,St):X(pe,ye,st,Xe,Qe,lt,St)},U=(pe,ye,Ze,ht,st,Xe,Qe,lt)=>{let St,Tt;const{props:Wt,shapeFlag:Ft,transition:Qt,dirs:sn}=pe;if(St=pe.el=s(pe.type,Xe,Wt&&Wt.is,Wt),Ft&8?d(St,pe.children):Ft&16&&W(pe.children,St,null,ht,st,XT(pe,Xe),Qe,lt),sn&&Ol(pe,null,ht,"created"),N(St,pe,pe.scopeId,Qe,ht),Wt){for(const En in Wt)En!=="value"&&!Bm(En)&&o(St,En,null,Wt[En],Xe,ht);"value"in Wt&&o(St,"value",null,Wt.value,Xe),(Tt=Wt.onVnodeBeforeMount)&&Is(Tt,ht,pe)}og(St,"__vnode",pe,!0),og(St,"__vueParentComponent",ht,!0),sn&&Ol(pe,null,ht,"beforeMount");const xn=OV(st,Qt);xn&&Qt.beforeEnter(St),r(St,ye,Ze),((Tt=Wt&&Wt.onVnodeMounted)||xn||sn)&&ua(()=>{Tt&&Is(Tt,ht,pe),xn&&Qt.enter(St),sn&&Ol(pe,null,ht,"mounted")},st)},N=(pe,ye,Ze,ht,st)=>{if(Ze&&v(pe,Ze),ht)for(let Xe=0;Xe<ht.length;Xe++)v(pe,ht[Xe]);if(st){let Xe=st.subTree;if(ye===Xe||BV(Xe.type)&&(Xe.ssContent===ye||Xe.ssFallback===ye)){const Qe=st.vnode;N(pe,Qe,Qe.scopeId,Qe.slotScopeIds,st.parent)}}},W=(pe,ye,Ze,ht,st,Xe,Qe,lt,St=0)=>{for(let Tt=St;Tt<pe.length;Tt++){const Wt=pe[Tt]=lt?rh(pe[Tt]):Os(pe[Tt]);C(null,Wt,ye,Ze,ht,st,Xe,Qe,lt)}},X=(pe,ye,Ze,ht,st,Xe,Qe)=>{const lt=ye.el=pe.el;lt.__vnode=ye;let{patchFlag:St,dynamicChildren:Tt,dirs:Wt}=ye;St|=pe.patchFlag&16;const Ft=pe.props||zr,Qt=ye.props||zr;let sn;if(Ze&&bd(Ze,!1),(sn=Qt.onVnodeBeforeUpdate)&&Is(sn,Ze,ye,pe),Wt&&Ol(ye,pe,Ze,"beforeUpdate"),Ze&&bd(Ze,!0),(Ft.innerHTML&&Qt.innerHTML==null||Ft.textContent&&Qt.textContent==null)&&d(lt,""),Tt?K(pe.dynamicChildren,Tt,lt,Ze,ht,XT(ye,st),Xe):Qe||Be(pe,ye,lt,null,Ze,ht,XT(ye,st),Xe,!1),St>0){if(St&16)te(lt,Ft,Qt,Ze,st);else if(St&2&&Ft.class!==Qt.class&&o(lt,"class",null,Qt.class,st),St&4&&o(lt,"style",Ft.style,Qt.style,st),St&8){const xn=ye.dynamicProps;for(let En=0;En<xn.length;En++){const bn=xn[En],Xn=Ft[bn],tr=Qt[bn];(tr!==Xn||bn==="value")&&o(lt,bn,Xn,tr,st,Ze)}}St&1&&pe.children!==ye.children&&d(lt,ye.children)}else!Qe&&Tt==null&&te(lt,Ft,Qt,Ze,st);((sn=Qt.onVnodeUpdated)||Wt)&&ua(()=>{sn&&Is(sn,Ze,ye,pe),Wt&&Ol(ye,pe,Ze,"updated")},ht)},K=(pe,ye,Ze,ht,st,Xe,Qe)=>{for(let lt=0;lt<ye.length;lt++){const St=pe[lt],Tt=ye[lt],Wt=St.el&&(St.type===vn||!ef(St,Tt)||St.shapeFlag&70)?g(St.el):Ze;C(St,Tt,Wt,null,ht,st,Xe,Qe,!0)}},te=(pe,ye,Ze,ht,st)=>{if(ye!==Ze){if(ye!==zr)for(const Xe in ye)!Bm(Xe)&&!(Xe in Ze)&&o(pe,Xe,ye[Xe],null,st,ht);for(const Xe in Ze){if(Bm(Xe))continue;const Qe=Ze[Xe],lt=ye[Xe];Qe!==lt&&Xe!=="value"&&o(pe,Xe,lt,Qe,st,ht)}"value"in Ze&&o(pe,"value",ye.value,Ze.value,st)}},ae=(pe,ye,Ze,ht,st,Xe,Qe,lt,St)=>{const Tt=ye.el=pe?pe.el:a(""),Wt=ye.anchor=pe?pe.anchor:a("");let{patchFlag:Ft,dynamicChildren:Qt,slotScopeIds:sn}=ye;sn&&(lt=lt?lt.concat(sn):sn),pe==null?(r(Tt,Ze,ht),r(Wt,Ze,ht),W(ye.children||[],Ze,Wt,st,Xe,Qe,lt,St)):Ft>0&&Ft&64&&Qt&&pe.dynamicChildren?(K(pe.dynamicChildren,Qt,Ze,st,Xe,Qe,lt),(ye.key!=null||st&&ye===st.subTree)&&MD(pe,ye,!0)):Be(pe,ye,Ze,Wt,st,Xe,Qe,lt,St)},me=(pe,ye,Ze,ht,st,Xe,Qe,lt,St)=>{ye.slotScopeIds=lt,pe==null?ye.shapeFlag&512?st.ctx.activate(ye,Ze,ht,Qe,St):we(ye,Ze,ht,st,Xe,Qe,St):se(pe,ye,St)},we=(pe,ye,Ze,ht,st,Xe,Qe)=>{const lt=pe.component=hte(pe,ht,st);if(tb(pe)&&(lt.ctx.renderer=Ve),dte(lt,!1,Qe),lt.asyncDep){if(st&&st.registerDep(lt,ue,Qe),!pe.el){const St=lt.subTree=ne(to);A(null,St,ye,Ze)}}else ue(lt,pe,ye,Ze,st,Xe,Qe)},se=(pe,ye,Ze)=>{const ht=ye.component=pe.component;if(rte(pe,ye,Ze))if(ht.asyncDep&&!ht.asyncResolved){Te(ht,ye,Ze);return}else ht.next=ye,ht.update();else ye.el=pe.el,ht.vnode=ye},ue=(pe,ye,Ze,ht,st,Xe,Qe)=>{const lt=()=>{if(pe.isMounted){let{next:Ft,bu:Qt,u:sn,parent:xn,vnode:En}=pe;{const Vr=RV(pe);if(Vr){Ft&&(Ft.el=En.el,Te(pe,Ft,Qe)),Vr.asyncDep.then(()=>{pe.isUnmounted||lt()});return}}let bn=Ft,Xn;bd(pe,!1),Ft?(Ft.el=En.el,Te(pe,Ft,Qe)):Ft=En,Qt&&VT(Qt),(Xn=Ft.props&&Ft.props.onVnodeBeforeUpdate)&&Is(Xn,xn,Ft,En),bd(pe,!0);const tr=YT(pe),Zr=pe.subTree;pe.subTree=tr,C(Zr,tr,g(Zr.el),ze(Zr),pe,st,Xe),Ft.el=tr.el,bn===null&&zV(pe,tr.el),sn&&ua(sn,st),(Xn=Ft.props&&Ft.props.onVnodeUpdated)&&ua(()=>Is(Xn,xn,Ft,En),st),eV(pe)}else{let Ft;const{el:Qt,props:sn}=ye,{bm:xn,m:En,parent:bn,root:Xn,type:tr}=pe,Zr=mf(ye);if(bd(pe,!1),xn&&VT(xn),!Zr&&(Ft=sn&&sn.onVnodeBeforeMount)&&Is(Ft,bn,ye),bd(pe,!0),Qt&&Ye){const Vr=()=>{pe.subTree=YT(pe),Ye(Qt,pe.subTree,pe,st,null)};Zr&&tr.__asyncHydrate?tr.__asyncHydrate(Qt,pe,Vr):Vr()}else{Xn.ce&&Xn.ce._injectChildStyle(tr);const Vr=pe.subTree=YT(pe);C(null,Vr,Ze,ht,pe,st,Xe),ye.el=Vr.el}if(En&&ua(En,st),!Zr&&(Ft=sn&&sn.onVnodeMounted)){const Vr=ye;ua(()=>Is(Ft,bn,Vr),st)}(ye.shapeFlag&256||bn&&mf(bn.vnode)&&bn.vnode.shapeFlag&256)&&pe.a&&ua(pe.a,st),pe.isMounted=!0,lee(pe),ye=Ze=ht=null}};pe.scope.on();const St=pe.effect=new D8(lt);pe.scope.off();const Tt=pe.update=St.run.bind(St),Wt=pe.job=St.runIfDirty.bind(St);Wt.i=pe,Wt.id=pe.uid,St.scheduler=()=>SD(Wt),bd(pe,!0),Tt()},Te=(pe,ye,Ze)=>{ye.component=pe;const ht=pe.vnode.props;pe.vnode=ye,pe.next=null,jee(pe,ye.props,ht,Ze),Wee(pe,ye.children,Ze),lc(),O3(pe),uc()},Be=(pe,ye,Ze,ht,st,Xe,Qe,lt,St=!1)=>{const Tt=pe&&pe.children,Wt=pe?pe.shapeFlag:0,Ft=ye.children,{patchFlag:Qt,shapeFlag:sn}=ye;if(Qt>0){if(Qt&128){rt(Tt,Ft,Ze,ht,st,Xe,Qe,lt,St);return}else if(Qt&256){ke(Tt,Ft,Ze,ht,st,Xe,Qe,lt,St);return}}sn&8?(Wt&16&&Yt(Tt,st,Xe),Ft!==Tt&&d(Ze,Ft)):Wt&16?sn&16?rt(Tt,Ft,Ze,ht,st,Xe,Qe,lt,St):Yt(Tt,st,Xe,!0):(Wt&8&&d(Ze,""),sn&16&&W(Ft,Ze,ht,st,Xe,Qe,lt,St))},ke=(pe,ye,Ze,ht,st,Xe,Qe,lt,St)=>{pe=pe||$m,ye=ye||$m;const Tt=pe.length,Wt=ye.length,Ft=Math.min(Tt,Wt);let Qt;for(Qt=0;Qt<Ft;Qt++){const sn=ye[Qt]=St?rh(ye[Qt]):Os(ye[Qt]);C(pe[Qt],sn,Ze,null,st,Xe,Qe,lt,St)}Tt>Wt?Yt(pe,st,Xe,!0,!1,Ft):W(ye,Ze,ht,st,Xe,Qe,lt,St,Ft)},rt=(pe,ye,Ze,ht,st,Xe,Qe,lt,St)=>{let Tt=0;const Wt=ye.length;let Ft=pe.length-1,Qt=Wt-1;for(;Tt<=Ft&&Tt<=Qt;){const sn=pe[Tt],xn=ye[Tt]=St?rh(ye[Tt]):Os(ye[Tt]);if(ef(sn,xn))C(sn,xn,Ze,null,st,Xe,Qe,lt,St);else break;Tt++}for(;Tt<=Ft&&Tt<=Qt;){const sn=pe[Ft],xn=ye[Qt]=St?rh(ye[Qt]):Os(ye[Qt]);if(ef(sn,xn))C(sn,xn,Ze,null,st,Xe,Qe,lt,St);else break;Ft--,Qt--}if(Tt>Ft){if(Tt<=Qt){const sn=Qt+1,xn=sn<Wt?ye[sn].el:ht;for(;Tt<=Qt;)C(null,ye[Tt]=St?rh(ye[Tt]):Os(ye[Tt]),Ze,xn,st,Xe,Qe,lt,St),Tt++}}else if(Tt>Qt)for(;Tt<=Ft;)tt(pe[Tt],st,Xe,!0),Tt++;else{const sn=Tt,xn=Tt,En=new Map;for(Tt=xn;Tt<=Qt;Tt++){const le=ye[Tt]=St?rh(ye[Tt]):Os(ye[Tt]);le.key!=null&&En.set(le.key,Tt)}let bn,Xn=0;const tr=Qt-xn+1;let Zr=!1,Vr=0;const Pi=new Array(tr);for(Tt=0;Tt<tr;Tt++)Pi[Tt]=0;for(Tt=sn;Tt<=Ft;Tt++){const le=pe[Tt];if(Xn>=tr){tt(le,st,Xe,!0);continue}let fe;if(le.key!=null)fe=En.get(le.key);else for(bn=xn;bn<=Qt;bn++)if(Pi[bn-xn]===0&&ef(le,ye[bn])){fe=bn;break}fe===void 0?tt(le,st,Xe,!0):(Pi[fe-xn]=Tt+1,fe>=Vr?Vr=fe:Zr=!0,C(le,ye[fe],Ze,null,st,Xe,Qe,lt,St),Xn++)}const xe=Zr?Kee(Pi):$m;for(bn=xe.length-1,Tt=tr-1;Tt>=0;Tt--){const le=xn+Tt,fe=ye[le],ve=le+1<Wt?ye[le+1].el:ht;Pi[Tt]===0?C(null,fe,Ze,ve,st,Xe,Qe,lt,St):Zr&&(bn<0||Tt!==xe[bn]?ot(fe,Ze,ve,2):bn--)}}},ot=(pe,ye,Ze,ht,st=null)=>{const{el:Xe,type:Qe,transition:lt,children:St,shapeFlag:Tt}=pe;if(Tt&6){ot(pe.component.subTree,ye,Ze,ht);return}if(Tt&128){pe.suspense.move(ye,Ze,ht);return}if(Tt&64){Qe.move(pe,ye,Ze,Ve);return}if(Qe===vn){r(Xe,ye,Ze);for(let Ft=0;Ft<St.length;Ft++)ot(St[Ft],ye,Ze,ht);r(pe.anchor,ye,Ze);return}if(Qe===Vm){R(pe,ye,Ze);return}if(ht!==2&&Tt&1&&lt)if(ht===0)lt.beforeEnter(Xe),r(Xe,ye,Ze),ua(()=>lt.enter(Xe),st);else{const{leave:Ft,delayLeave:Qt,afterLeave:sn}=lt,xn=()=>r(Xe,ye,Ze),En=()=>{Ft(Xe,()=>{xn(),sn&&sn()})};Qt?Qt(Xe,xn,En):En()}else r(Xe,ye,Ze)},tt=(pe,ye,Ze,ht=!1,st=!1)=>{const{type:Xe,props:Qe,ref:lt,children:St,dynamicChildren:Tt,shapeFlag:Wt,patchFlag:Ft,dirs:Qt,cacheIndex:sn}=pe;if(Ft===-2&&(st=!1),lt!=null&&i0(lt,null,Ze,pe,!0),sn!=null&&(ye.renderCache[sn]=void 0),Wt&256){ye.ctx.deactivate(pe);return}const xn=Wt&1&&Qt,En=!mf(pe);let bn;if(En&&(bn=Qe&&Qe.onVnodeBeforeUnmount)&&Is(bn,ye,pe),Wt&6)Lt(pe.component,Ze,ht);else{if(Wt&128){pe.suspense.unmount(Ze,ht);return}xn&&Ol(pe,null,ye,"beforeUnmount"),Wt&64?pe.type.remove(pe,ye,Ze,Ve,ht):Tt&&!Tt.hasOnce&&(Xe!==vn||Ft>0&&Ft&64)?Yt(Tt,ye,Ze,!1,!0):(Xe===vn&&Ft&384||!st&&Wt&16)&&Yt(St,ye,Ze),ht&&It(pe)}(En&&(bn=Qe&&Qe.onVnodeUnmounted)||xn)&&ua(()=>{bn&&Is(bn,ye,pe),xn&&Ol(pe,null,ye,"unmounted")},Ze)},It=pe=>{const{type:ye,el:Ze,anchor:ht,transition:st}=pe;if(ye===vn){Bt(Ze,ht);return}if(ye===Vm){z(pe);return}const Xe=()=>{i(Ze),st&&!st.persisted&&st.afterLeave&&st.afterLeave()};if(pe.shapeFlag&1&&st&&!st.persisted){const{leave:Qe,delayLeave:lt}=st,St=()=>Qe(Ze,Xe);lt?lt(pe.el,Xe,St):St()}else Xe()},Bt=(pe,ye)=>{let Ze;for(;pe!==ye;)Ze=y(pe),i(pe),pe=Ze;i(ye)},Lt=(pe,ye,Ze)=>{const{bum:ht,scope:st,job:Xe,subTree:Qe,um:lt,m:St,a:Tt}=pe;K3(St),K3(Tt),ht&&VT(ht),st.stop(),Xe&&(Xe.flags|=8,tt(Qe,pe,ye,Ze)),lt&&ua(lt,ye),ua(()=>{pe.isUnmounted=!0},ye),ye&&ye.pendingBranch&&!ye.isUnmounted&&pe.asyncDep&&!pe.asyncResolved&&pe.suspenseId===ye.pendingId&&(ye.deps--,ye.deps===0&&ye.resolve()),cee(pe)},Yt=(pe,ye,Ze,ht=!1,st=!1,Xe=0)=>{for(let Qe=Xe;Qe<pe.length;Qe++)tt(pe[Qe],ye,Ze,ht,st)},ze=pe=>{if(pe.shapeFlag&6)return ze(pe.component.subTree);if(pe.shapeFlag&128)return pe.suspense.next();const ye=y(pe.anchor||pe.el),Ze=ye&&ye[nV];return Ze?y(Ze):ye};let ut=!1;const Re=(pe,ye,Ze)=>{pe==null?ye._vnode&&tt(ye._vnode,null,null,!0):C(ye._vnode||null,pe,ye,null,null,null,Ze),ye._vnode=pe,ut||(ut=!0,O3(),Hw(),ut=!1)},Ve={p:C,um:tt,m:ot,r:It,mt:we,mc:W,pc:Be,pbc:K,n:ze,o:e};let Le,Ye;return t&&([Le,Ye]=t(Ve)),{render:Re,hydrate:Le,createApp:Nee(Re,Le)}}function XT({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function bd({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function OV(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function MD(e,t,n=!1){const r=e.children,i=t.children;if(An(r)&&An(i))for(let o=0;o<r.length;o++){const s=r[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=rh(i[o]),a.el=s.el),!n&&a.patchFlag!==-2&&MD(s,a)),a.type===Wl&&(a.el=s.el)}}function Kee(e){const t=e.slice(),n=[0];let r,i,o,s,a;const c=e.length;for(r=0;r<c;r++){const h=e[r];if(h!==0){if(i=n[n.length-1],e[i]<h){t[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,e[n[a]]<h?o=a+1:s=a;h<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=t[s];return n}function RV(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:RV(t)}function K3(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Xee=Symbol.for("v-scx"),Yee=()=>Mn(Xee);function Dr(e,t){return AD(e,null,t)}function qt(e,t,n){return AD(e,t,n)}function AD(e,t,n=zr){const{immediate:r,deep:i,flush:o,once:s}=n,a=so({},n),c=t&&r||!t&&o!=="post";let h;if(ag){if(o==="sync"){const v=Yee();h=v.__watcherHandles||(v.__watcherHandles=[])}else if(!c){const v=()=>{};return v.stop=Gl,v.resume=Gl,v.pause=Gl,v}}const d=no;a.call=(v,x,C)=>ul(v,d,x,C);let g=!1;o==="post"?a.scheduler=v=>{ua(v,d&&d.suspense)}:o!=="sync"&&(g=!0,a.scheduler=(v,x)=>{x?v():SD(v)}),a.augmentJob=v=>{t&&(v.flags|=4),g&&(v.flags|=2,d&&(v.id=d.uid,v.i=d))};const y=JQ(e,t,a);return ag&&(h?h.push(y):c&&y()),y}function Jee(e,t,n){const r=this.proxy,i=ni(e)?e.includes(".")?LV(r,e):()=>r[e]:e.bind(r,r);let o;$n(t)?o=t:(o=t.handler,n=t);const s=nb(this),a=AD(i,o.bind(r),n);return s(),a}function LV(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const Qee=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ka(t)}Modifiers`]||e[`${sc(t)}Modifiers`];function ete(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||zr;let i=n;const o=t.startsWith("update:"),s=o&&Qee(r,t.slice(7));s&&(s.trim&&(i=n.map(d=>ni(d)?d.trim():d)),s.number&&(i=n.map(sQ))),hee(e,t,i);let a,c=r[a=NT(t)]||r[a=NT(ka(t))];!c&&o&&(c=r[a=NT(sc(t))]),c&&ul(c,e,6,i);const h=r[a+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,ul(h,e,6,i)}}function $V(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const o=e.emits;let s={},a=!1;if(!$n(e)){const c=h=>{const d=$V(h,t,!0);d&&(a=!0,so(s,d))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!o&&!a?(ri(e)&&r.set(e,null),null):(An(o)?o.forEach(c=>s[c]=null):so(s,o),ri(e)&&r.set(e,s),s)}function i2(e,t){return!e||!X0(t)?!1:(t=t.slice(2).replace(/Once$/,""),Cr(e,t[0].toLowerCase()+t.slice(1))||Cr(e,sc(t))||Cr(e,t))}function YT(e){const{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[o],slots:s,attrs:a,emit:c,render:h,renderCache:d,props:g,data:y,setupState:v,ctx:x,inheritAttrs:C}=e,I=Uw(e);let A,k;try{if(n.shapeFlag&4){const z=i||r,V=z;A=Os(h.call(V,z,d,g,v,y,x)),k=a}else{const z=t;A=Os(z.length>1?z(g,{attrs:a,slots:s,emit:c}):z(g,null)),k=t.props?a:tte(a)}}catch(z){I_.length=0,eb(z,e,1),A=ne(to)}let R=A;if(k&&C!==!1){const z=Object.keys(k),{shapeFlag:V}=R;z.length&&V&7&&(o&&z.some(fD)&&(k=nte(k,o)),R=os(R,k,!1,!0))}return n.dirs&&(R=os(R,null,!1,!0),R.dirs=R.dirs?R.dirs.concat(n.dirs):n.dirs),n.transition&&If(R,n.transition),A=R,Uw(I),A}const tte=e=>{let t;for(const n in e)(n==="class"||n==="style"||X0(n))&&((t||(t={}))[n]=e[n]);return t},nte=(e,t)=>{const n={};for(const r in e)(!fD(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function rte(e,t,n){const{props:r,children:i,component:o}=e,{props:s,children:a,patchFlag:c}=t,h=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?X3(r,s,h):!!s;if(c&8){const d=t.dynamicProps;for(let g=0;g<d.length;g++){const y=d[g];if(s[y]!==r[y]&&!i2(h,y))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?X3(r,s,h):!0:!!s;return!1}function X3(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!i2(n,o))return!0}return!1}function zV({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const BV=e=>e.__isSuspense;function FV(e,t){t&&t.pendingBranch?An(e)?t.effects.push(...e):t.effects.push(e):oee(e)}const vn=Symbol.for("v-fgt"),Wl=Symbol.for("v-txt"),to=Symbol.for("v-cmt"),Vm=Symbol.for("v-stc"),I_=[];let ns=null;function Dt(e=!1){I_.push(ns=e?null:[])}function ite(){I_.pop(),ns=I_[I_.length-1]||null}let o0=1;function Y3(e,t=!1){o0+=e,e<0&&ns&&t&&(ns.hasOnce=!0)}function NV(e){return e.dynamicChildren=o0>0?ns||$m:null,ite(),o0>0&&ns&&ns.push(e),e}function Zt(e,t,n,r,i,o){return NV(kt(e,t,n,r,i,o,!0))}function Gr(e,t,n,r,i){return NV(ne(e,t,n,r,i,!0))}function ta(e){return e?e.__v_isVNode===!0:!1}function ef(e,t){return e.type===t.type&&e.key===t.key}const VV=({key:e})=>e??null,nw=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ni(e)||zi(e)||$n(e)?{i:io,r:e,k:t,f:!!n}:e:null);function kt(e,t=null,n=null,r=0,i=null,o=e===vn?0:1,s=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&VV(t),ref:t&&nw(t),scopeId:tV,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:io};return a?(DD(c,n),o&128&&e.normalize(c)):n&&(c.shapeFlag|=ni(n)?8:16),o0>0&&!s&&ns&&(c.patchFlag>0||o&6)&&c.patchFlag!==32&&ns.push(c),c}const ne=ote;function ote(e,t=null,n=null,r=0,i=null,o=!1){if((!e||e===Dee)&&(e=to),ta(e)){const a=os(e,t,!0);return n&&DD(a,n),o0>0&&!o&&ns&&(a.shapeFlag&6?ns[ns.indexOf(e)]=a:ns.push(a)),a.patchFlag=-2,a}if(yte(e)&&(e=e.__vccOpts),t){t=ate(t);let{class:a,style:c}=t;a&&!ni(a)&&(t.class=Jo(a)),ri(c)&&(wD(c)&&!An(c)&&(c=so({},c)),t.style=kg(c))}const s=ni(e)?1:BV(e)?128:rV(e)?64:ri(e)?4:$n(e)?2:0;return kt(e,t,n,r,i,s,o,!0)}function ate(e){return e?wD(e)||TV(e)?so({},e):e:null}function os(e,t,n=!1,r=!1){const{props:i,ref:o,patchFlag:s,children:a,transition:c}=e,h=t?lte(i||{},t):i,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:h,key:h&&VV(h),ref:t&&t.ref?n&&o?An(o)?o.concat(nw(t)):[o,nw(t)]:nw(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==vn?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&os(e.ssContent),ssFallback:e.ssFallback&&os(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&r&&If(d,c.clone(d)),d}function Wi(e=" ",t=0){return ne(Wl,null,e,t)}function ste(e,t){const n=ne(Vm,null,e);return n.staticCount=t,n}function vr(e="",t=!1){return t?(Dt(),Gr(to,null,e)):ne(to,null,e)}function Os(e){return e==null||typeof e=="boolean"?ne(to):An(e)?ne(vn,null,e.slice()):ta(e)?rh(e):ne(Wl,null,String(e))}function rh(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:os(e)}function DD(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(An(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),DD(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!TV(t)?t._ctx=io:i===3&&io&&(io.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else $n(t)?(t={default:t,_ctx:io},n=32):(t=String(t),r&64?(n=16,t=[Wi(t)]):n=8);e.children=t,e.shapeFlag|=n}function lte(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=Jo([t.class,r.class]));else if(i==="style")t.style=kg([t.style,r.style]);else if(X0(i)){const o=t[i],s=r[i];s&&o!==s&&!(An(o)&&o.includes(s))&&(t[i]=o?[].concat(o,s):s)}else i!==""&&(t[i]=r[i])}return t}function Is(e,t,n,r=null){ul(e,t,7,[n,r])}const ute=xV();let cte=0;function hte(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||ute,o={uid:cte++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new bQ(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:EV(r,i),emitsOptions:$V(r,i),emit:null,emitted:null,propsDefaults:zr,inheritAttrs:r.inheritAttrs,ctx:zr,data:zr,props:zr,attrs:zr,slots:zr,refs:zr,setupState:zr,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=ete.bind(null,o),e.ce&&e.ce(o),o}let no=null;const Ao=()=>no||io;let Ww,NI;{const e=QS(),t=(n,r)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(r),o=>{i.length>1?i.forEach(s=>s(o)):i[0](o)}};Ww=t("__VUE_INSTANCE_SETTERS__",n=>no=n),NI=t("__VUE_SSR_SETTERS__",n=>ag=n)}const nb=e=>{const t=no;return Ww(e),e.scope.on(),()=>{e.scope.off(),Ww(t)}},J3=()=>{no&&no.scope.off(),Ww(null)};function jV(e){return e.vnode.shapeFlag&4}let ag=!1;function dte(e,t=!1,n=!1){t&&NI(t);const{props:r,children:i}=e.vnode,o=jV(e);Vee(e,r,o,t),Gee(e,i,n);const s=o?fte(e,t):void 0;return t&&NI(!1),s}function fte(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Oee);const{setup:r}=n;if(r){lc();const i=e.setupContext=r.length>1?mte(e):null,o=nb(e),s=Og(r,e,0,[e.props,i]),a=C8(s);if(uc(),o(),(a||e.sp)&&!mf(e)&&ED(e),a){if(s.then(J3,J3),t)return s.then(c=>{Q3(e,c)}).catch(c=>{eb(c,e,0)});e.asyncDep=s}else Q3(e,s)}else HV(e)}function Q3(e,t,n){$n(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ri(t)&&(e.devtoolsRawSetupState=t,e.setupState=Z8(t)),HV(e)}function HV(e,t,n){const r=e.type;e.render||(e.render=r.render||Gl);{const i=nb(e);lc();try{Ree(e)}finally{uc(),i()}}}const pte={get(e,t){return Zo(e,"get",""),e[t]}};function mte(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,pte),slots:e.slots,emit:e.emit,expose:t}}function o2(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Z8(VQ(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in E_)return E_[n](e)},has(t,n){return n in t||n in E_}})):e.proxy}const gte=/(?:^|[-_])(\w)/g,vte=e=>e.replace(gte,t=>t.toUpperCase()).replace(/[-_]/g,"");function UV(e,t=!0){return $n(e)?e.displayName||e.name:e.name||t&&e.__name}function GV(e,t,n=!1){let r=UV(t);if(!r&&t.__file){const i=t.__file.match(/([^/\\]+)\.\w+$/);i&&(r=i[1])}if(!r&&e&&e.parent){const i=o=>{for(const s in o)if(o[s]===t)return s};r=i(e.components||e.parent.type.components)||i(e.appContext.components)}return r?vte(r):n?"App":"Anonymous"}function yte(e){return $n(e)&&"__vccOpts"in e}const ge=(e,t)=>XQ(e,t,ag);function Cn(e,t,n){const r=arguments.length;return r===2?ri(t)&&!An(t)?ta(t)?ne(e,null,[t]):ne(e,t):ne(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ta(n)&&(n=[n]),ne(e,t,n))}const e$="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let VI;const t$=typeof window<"u"&&window.trustedTypes;if(t$)try{VI=t$.createPolicy("vue",{createHTML:e=>e})}catch{}const WV=VI?e=>VI.createHTML(e):e=>e,_te="http://www.w3.org/2000/svg",bte="http://www.w3.org/1998/Math/MathML",Nu=typeof document<"u"?document:null,n$=Nu&&Nu.createElement("template"),xte={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t==="svg"?Nu.createElementNS(_te,e):t==="mathml"?Nu.createElementNS(bte,e):n?Nu.createElement(e,{is:n}):Nu.createElement(e);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>Nu.createTextNode(e),createComment:e=>Nu.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Nu.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,o){const s=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{n$.innerHTML=WV(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=n$.content;if(r==="svg"||r==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Fc="transition",Sy="animation",sg=Symbol("_vtc"),ZV={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},qV=so({},sV,ZV),wte=e=>(e.displayName="Transition",e.props=qV,e),us=wte((e,{slots:t})=>Cn(pee,KV(e),t)),xd=(e,t=[])=>{An(e)?e.forEach(n=>n(...t)):e&&e(...t)},r$=e=>e?An(e)?e.some(t=>t.length>1):e.length>1:!1;function KV(e){const t={};for(const ae in e)ae in ZV||(t[ae]=e[ae]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=o,appearActiveClass:h=s,appearToClass:d=a,leaveFromClass:g=`${n}-leave-from`,leaveActiveClass:y=`${n}-leave-active`,leaveToClass:v=`${n}-leave-to`}=e,x=Ste(i),C=x&&x[0],I=x&&x[1],{onBeforeEnter:A,onEnter:k,onEnterCancelled:R,onLeave:z,onLeaveCancelled:V,onBeforeAppear:U=A,onAppear:N=k,onAppearCancelled:W=R}=t,X=(ae,me,we,se)=>{ae._enterCancelled=se,Jc(ae,me?d:a),Jc(ae,me?h:s),we&&we()},K=(ae,me)=>{ae._isLeaving=!1,Jc(ae,g),Jc(ae,v),Jc(ae,y),me&&me()},te=ae=>(me,we)=>{const se=ae?N:k,ue=()=>X(me,ae,we);xd(se,[me,ue]),i$(()=>{Jc(me,ae?c:o),Ml(me,ae?d:a),r$(se)||o$(me,r,C,ue)})};return so(t,{onBeforeEnter(ae){xd(A,[ae]),Ml(ae,o),Ml(ae,s)},onBeforeAppear(ae){xd(U,[ae]),Ml(ae,c),Ml(ae,h)},onEnter:te(!1),onAppear:te(!0),onLeave(ae,me){ae._isLeaving=!0;const we=()=>K(ae,me);Ml(ae,g),ae._enterCancelled?(Ml(ae,y),jI()):(jI(),Ml(ae,y)),i$(()=>{ae._isLeaving&&(Jc(ae,g),Ml(ae,v),r$(z)||o$(ae,r,I,we))}),xd(z,[ae,we])},onEnterCancelled(ae){X(ae,!1,void 0,!0),xd(R,[ae])},onAppearCancelled(ae){X(ae,!0,void 0,!0),xd(W,[ae])},onLeaveCancelled(ae){K(ae),xd(V,[ae])}})}function Ste(e){if(e==null)return null;if(ri(e))return[JT(e.enter),JT(e.leave)];{const t=JT(e);return[t,t]}}function JT(e){return lQ(e)}function Ml(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[sg]||(e[sg]=new Set)).add(t)}function Jc(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[sg];n&&(n.delete(t),n.size||(e[sg]=void 0))}function i$(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Cte=0;function o$(e,t,n,r){const i=e._endId=++Cte,o=()=>{i===e._endId&&r()};if(n!=null)return setTimeout(o,n);const{type:s,timeout:a,propCount:c}=XV(e,t);if(!s)return r();const h=s+"end";let d=0;const g=()=>{e.removeEventListener(h,y),o()},y=v=>{v.target===e&&++d>=c&&g()};setTimeout(()=>{d<c&&g()},a+1),e.addEventListener(h,y)}function XV(e,t){const n=window.getComputedStyle(e),r=x=>(n[x]||"").split(", "),i=r(`${Fc}Delay`),o=r(`${Fc}Duration`),s=a$(i,o),a=r(`${Sy}Delay`),c=r(`${Sy}Duration`),h=a$(a,c);let d=null,g=0,y=0;t===Fc?s>0&&(d=Fc,g=s,y=o.length):t===Sy?h>0&&(d=Sy,g=h,y=c.length):(g=Math.max(s,h),d=g>0?s>h?Fc:Sy:null,y=d?d===Fc?o.length:c.length:0);const v=d===Fc&&/\b(transform|all)(,|$)/.test(r(`${Fc}Property`).toString());return{type:d,timeout:g,propCount:y,hasTransform:v}}function a$(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>s$(n)+s$(e[r])))}function s$(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function jI(){return document.body.offsetHeight}function Tte(e,t,n){const r=e[sg];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Zw=Symbol("_vod"),YV=Symbol("_vsh"),Mf={beforeMount(e,{value:t},{transition:n}){e[Zw]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Cy(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Cy(e,!0),r.enter(e)):r.leave(e,()=>{Cy(e,!1)}):Cy(e,t))},beforeUnmount(e,{value:t}){Cy(e,t)}};function Cy(e,t){e.style.display=t?e[Zw]:"none",e[YV]=!t}const Pte=Symbol(""),Ete=/(^|;)\s*display\s*:/;function Ite(e,t,n){const r=e.style,i=ni(n);let o=!1;if(n&&!i){if(t)if(ni(t))for(const s of t.split(";")){const a=s.slice(0,s.indexOf(":")).trim();n[a]==null&&rw(r,a,"")}else for(const s in t)n[s]==null&&rw(r,s,"");for(const s in n)s==="display"&&(o=!0),rw(r,s,n[s])}else if(i){if(t!==n){const s=r[Pte];s&&(n+=";"+s),r.cssText=n,o=Ete.test(n)}}else t&&e.removeAttribute("style");Zw in e&&(e[Zw]=o?r.display:"",e[YV]&&(r.display="none"))}const l$=/\s*!important$/;function rw(e,t,n){if(An(n))n.forEach(r=>rw(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Mte(e,t);l$.test(n)?e.setProperty(sc(r),n.replace(l$,""),"important"):e[r]=n}}const u$=["Webkit","Moz","ms"],QT={};function Mte(e,t){const n=QT[t];if(n)return n;let r=ka(t);if(r!=="filter"&&r in e)return QT[t]=r;r=Y0(r);for(let i=0;i<u$.length;i++){const o=u$[i]+r;if(o in e)return QT[t]=o}return t}const c$="http://www.w3.org/1999/xlink";function h$(e,t,n,r,i,o=pQ(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(c$,t.slice(6,t.length)):e.setAttributeNS(c$,t,n):n==null||o&&!gD(n)?e.removeAttribute(t):e.setAttribute(t,o?"":ac(n)?String(n):n)}function d$(e,t,n,r,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?WV(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(a!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let s=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=gD(n):n==null&&a==="string"?(n="",s=!0):a==="number"&&(n=0,s=!0)}try{e[t]=n}catch{}s&&e.removeAttribute(i||t)}function Ate(e,t,n,r){e.addEventListener(t,n,r)}function Dte(e,t,n,r){e.removeEventListener(t,n,r)}const f$=Symbol("_vei");function kte(e,t,n,r,i=null){const o=e[f$]||(e[f$]={}),s=o[t];if(r&&s)s.value=r;else{const[a,c]=Ote(t);if(r){const h=o[t]=$te(r,i);Ate(e,a,h,c)}else s&&(Dte(e,a,s,c),o[t]=void 0)}}const p$=/(?:Once|Passive|Capture)$/;function Ote(e){let t;if(p$.test(e)){t={};let r;for(;r=e.match(p$);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):sc(e.slice(2)),t]}let eP=0;const Rte=Promise.resolve(),Lte=()=>eP||(Rte.then(()=>eP=0),eP=Date.now());function $te(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ul(zte(r,n.value),t,5,[r])};return n.value=e,n.attached=Lte(),n}function zte(e,t){if(An(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const m$=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Bte=(e,t,n,r,i,o)=>{const s=i==="svg";t==="class"?Tte(e,r,s):t==="style"?Ite(e,n,r):X0(t)?fD(t)||kte(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Fte(e,t,r,s))?(d$(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&h$(e,t,r,s,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ni(r))?d$(e,ka(t),r,o,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),h$(e,t,r,s))};function Fte(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&m$(t)&&$n(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return m$(t)&&ni(n)?!1:t in e}const JV=new WeakMap,QV=new WeakMap,qw=Symbol("_moveCb"),g$=Symbol("_enterCb"),Nte=e=>(delete e.props.mode,e),Vte=Nte({name:"TransitionGroup",props:so({},qV,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Ao(),r=aV();let i,o;return Dh(()=>{if(!i.length)return;const s=e.moveClass||`${e.name||"v"}-move`;if(!Gte(i[0].el,n.vnode.el,s))return;i.forEach(jte),i.forEach(Hte);const a=i.filter(Ute);jI(),a.forEach(c=>{const h=c.el,d=h.style;Ml(h,s),d.transform=d.webkitTransform=d.transitionDuration="";const g=h[qw]=y=>{y&&y.target!==h||(!y||/transform$/.test(y.propertyName))&&(h.removeEventListener("transitionend",g),h[qw]=null,Jc(h,s))};h.addEventListener("transitionend",g)})}),()=>{const s=Un(e),a=KV(s);let c=s.tag||vn;if(i=[],o)for(let h=0;h<o.length;h++){const d=o[h];d.el&&d.el instanceof Element&&(i.push(d),If(d,r0(d,a,r,n)),JV.set(d,d.el.getBoundingClientRect()))}o=t.default?PD(t.default()):[];for(let h=0;h<o.length;h++){const d=o[h];d.key!=null&&If(d,r0(d,a,r,n))}return ne(c,null,o)}}}),e7=Vte;function jte(e){const t=e.el;t[qw]&&t[qw](),t[g$]&&t[g$]()}function Hte(e){QV.set(e,e.el.getBoundingClientRect())}function Ute(e){const t=JV.get(e),n=QV.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const o=e.el.style;return o.transform=o.webkitTransform=`translate(${r}px,${i}px)`,o.transitionDuration="0s",e}}function Gte(e,t,n){const r=e.cloneNode(),i=e[sg];i&&i.forEach(a=>{a.split(/\s+/).forEach(c=>c&&r.classList.remove(c))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(r);const{hasTransform:s}=XV(r);return o.removeChild(r),s}const Wte=["ctrl","shift","alt","meta"],Zte={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Wte.some(n=>e[`${n}Key`]&&!t.includes(n))},v$=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(i,...o)=>{for(let s=0;s<t.length;s++){const a=Zte[t[s]];if(a&&a(i,t))return}return e(i,...o)})},qte={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Kte=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const o=sc(i.key);if(t.some(s=>s===o||qte[s]===o))return e(i)})},t7=so({patchProp:Bte},xte);let M_,y$=!1;function Xte(){return M_||(M_=Zee(t7))}function Yte(){return M_=y$?M_:qee(t7),y$=!0,M_}const a0=(...e)=>{Xte().render(...e)},Jte=(...e)=>{const t=Yte().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=ene(r);if(i)return n(i,!0,Qte(i))},t};function Qte(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function ene(e){return ni(e)?document.querySelector(e):e}var rb=e=>/^[a-z][a-z0-9+.-]*:/.test(e)||e.startsWith("//"),tne=/.md((\?|#).*)?$/,nne=(e,t="/")=>rb(e)||e.startsWith("/")&&!e.startsWith(t)&&!tne.test(e),a2=e=>/^(https?:)?\/\//.test(e),_$=e=>{if(!e||e.endsWith("/"))return e;let t=e.replace(/(^|\/)README.md$/i,"$1index.html");return t.endsWith(".md")?t=`${t.substring(0,t.length-3)}.html`:t.endsWith(".html")||(t=`${t}.html`),t.endsWith("/index.html")&&(t=t.substring(0,t.length-10)),t},rne="http://.",ine=(e,t)=>{if(!e.startsWith("/")&&t){const n=t.slice(0,t.lastIndexOf("/"));return _$(new URL(`${n}/${e}`,rne).pathname)}return _$(e)},one=(e,t)=>{const n=Object.keys(e).sort((r,i)=>{const o=i.split("/").length-r.split("/").length;return o!==0?o:i.length-r.length});for(const r of n)if(t.startsWith(r))return r;return"/"},ane=(e,t="/")=>{const n=e.replace(/^(?:https?:)?\/\/[^/]*/,"");return n.startsWith(t)?`/${n.slice(t.length)}`:n},sne=/(#|\?)/,n7=e=>{const[t,...n]=e.split(sne);return{pathname:t,hashAndQueries:n.join("")}},lne=["link","meta","script","style","noscript","template"],une=["title","base"],cne=([e,t,n])=>une.includes(e)?e:lne.includes(e)?e==="meta"&&t.name?`${e}.${t.name}`:e==="template"&&t.id?`${e}.${t.id}`:JSON.stringify([e,Object.entries(t).map(([r,i])=>typeof i=="boolean"?i?[r,""]:null:[r,i]).filter(r=>r!=null).sort(([r],[i])=>r.localeCompare(i)),n]):null,hne=e=>{const t=new Set,n=[];return e.forEach(r=>{const i=cne(r);i&&!t.has(i)&&(t.add(i),n.push(r))}),n},dne=e=>e.endsWith("/")||e.endsWith(".html")?e:`${e}/`,r7=e=>e.endsWith("/")?e.slice(0,-1):e,kD=e=>e.startsWith("/")?e.slice(1):e,OD=e=>Object.prototype.toString.call(e)==="[object Object]",al=e=>typeof e=="string";const fne=JSON.parse("{}"),pne=Object.fromEntries([["/",{loader:()=>Kt(()=>import("./index.html-C-RlZCqv.js"),__vite__mapDeps([0,1])),meta:{title:"📚南科手册"}}],["/index-wx.html",{loader:()=>Kt(()=>import("./index-wx.html-B6Hy-Pf4.js"),__vite__mapDeps([2,1])),meta:{title:"📚你科手册"}}],["/about/",{loader:()=>Kt(()=>import("./index.html-DciPtBE3.js"),[]),meta:{title:"帮助我们完善"}}],["/calendar/2018-2019.html",{loader:()=>Kt(()=>import("./2018-2019.html-DQh6tpa3.js"),[]),meta:{title:"校历 - 2018-2019 学年"}}],["/calendar/2019-2020.html",{loader:()=>Kt(()=>import("./2019-2020.html-BmKMUikh.js"),[]),meta:{title:"校历 - 2019-2020 学年"}}],["/calendar/2020-2021.html",{loader:()=>Kt(()=>import("./2020-2021.html-BvXi_D55.js"),[]),meta:{title:"校历 - 2020-2021 学年"}}],["/calendar/2021-2022.html",{loader:()=>Kt(()=>import("./2021-2022.html-DkrBeg0m.js"),[]),meta:{title:"校历 - 2021-2022 学年"}}],["/calendar/2021fall.html",{loader:()=>Kt(()=>import("./2021fall.html-RCn1FfwN.js"),[]),meta:{title:""}}],["/calendar/2022-2023.html",{loader:()=>Kt(()=>import("./2022-2023.html-DUUmJ1Vv.js"),[]),meta:{title:"校历 - 2022-2023 学年"}}],["/calendar/2023-2024.html",{loader:()=>Kt(()=>import("./2023-2024.html-DlFlMucV.js"),[]),meta:{title:"校历 - 2023-2024 学年"}}],["/calendar/2024-2025.html",{loader:()=>Kt(()=>import("./2024-2025.html-DzWQ8neg.js"),__vite__mapDeps([3,4])),meta:{title:"校历 - 2024-2025 学年"}}],["/calendar/",{loader:()=>Kt(()=>import("./index.html-DQ0fcWEw.js"),__vite__mapDeps([5,4])),meta:{title:"📅校历"}}],["/canteen/",{loader:()=>Kt(()=>import("./index.html-BRkQjl0m.js"),[]),meta:{title:"🍜饭堂服务"}}],["/canteen/canteen-wx.html",{loader:()=>Kt(()=>import("./canteen-wx.html-BO7kZt2-.js"),[]),meta:{title:"🍜饭堂服务"}}],["/contact/",{loader:()=>Kt(()=>import("./index.html-CijP9ZA_.js"),[]),meta:{title:"📇黄页"}}],["/emergency/",{loader:()=>Kt(()=>import("./index.html-C9j0Qm_d.js"),[]),meta:{title:"应急处理"}}],["/facility/",{loader:()=>Kt(()=>import("./index.html-BThGyN9D.js"),[]),meta:{title:"🏫建筑与设施"}}],["/facility/building-11-elevator.html",{loader:()=>Kt(()=>import("./building-11-elevator.html-B2rntwF7.js"),[]),meta:{title:"如何“破解”11栋电梯"}}],["/if-you-are-a-freshman/2021.html",{loader:()=>Kt(()=>import("./2021.html-C2HbaVRT.js"),[]),meta:{title:"如果你是新生..."}}],["/if-you-are-a-freshman/",{loader:()=>Kt(()=>import("./index.html-DOAhC-_7.js"),[]),meta:{title:"如果你是新生..."}}],["/life/",{loader:()=>Kt(()=>import("./index.html-CkMIuH03.js"),[]),meta:{title:"👨‍🎓生活在南科"}}],["/life/vehicle-charger.html",{loader:()=>Kt(()=>import("./vehicle-charger.html-tMt9guOo.js"),[]),meta:{title:"充电桩分布"}}],["/media/",{loader:()=>Kt(()=>import("./index.html-BMliBUS2.js"),[]),meta:{title:"📺媒体与网站"}}],["/miniapp/",{loader:()=>Kt(()=>import("./index.html-D_Yqoo_s.js"),[]),meta:{title:"南科手册-微信小程序"}}],["/news/",{loader:()=>Kt(()=>import("./index.html-CvVTM0FY.js"),[]),meta:{title:"更新日志"}}],["/organizations/",{loader:()=>Kt(()=>import("./index.html-BsKa8xxG.js"),[]),meta:{title:"🎡社团活动"}}],["/organizations/registered-organization-2019.html",{loader:()=>Kt(()=>import("./registered-organization-2019.html-D0oNcFOe.js"),[]),meta:{title:"注册社团列表（2018-2019年度）"}}],["/organizations/registered-organization-2020.html",{loader:()=>Kt(()=>import("./registered-organization-2020.html-p6DVsjaj.js"),[]),meta:{title:"注册社团列表（2019-2020年度）"}}],["/organizations/registered-organization-2021.html",{loader:()=>Kt(()=>import("./registered-organization-2021.html-C-UxrG8H.js"),[]),meta:{title:"注册社团列表（2020-2021年度）"}}],["/service/",{loader:()=>Kt(()=>import("./index.html-D1Hv1__d.js"),[]),meta:{title:"🖥服务与技巧"}}],["/site-help/",{loader:()=>Kt(()=>import("./index.html-BcBXOwa4.js"),[]),meta:{title:"❓站点帮助"}}],["/site-help/adt.html",{loader:()=>Kt(()=>import("./adt.html-CtlXy5D0.js"),[]),meta:{title:"ADT"}}],["/study/",{loader:()=>Kt(()=>import("./index.html-LABCsOqx.js"),[]),meta:{title:"🎓学在南科"}}],["/study/paper-tools.html",{loader:()=>Kt(()=>import("./paper-tools.html-BJajaHkq.js"),[]),meta:{title:"几个赶 ddl 的好用工具🔧"}}],["/surroundings/",{loader:()=>Kt(()=>import("./index.html-RKISsMET.js"),__vite__mapDeps([6,7])),meta:{title:"🛍周边"}}],["/transport/",{loader:()=>Kt(()=>import("./index.html-3XAH1-QV.js"),__vite__mapDeps([8,7])),meta:{title:"🚄交通"}}],["/transport/bustimer-old.html",{loader:()=>Kt(()=>import("./bustimer-old.html-C5wJRxLH.js"),[]),meta:{title:"🚌校园巴士时刻表 SUSTech Campus Bus Info"}}],["/transport/bustimer-wx.html",{loader:()=>Kt(()=>import("./bustimer-wx.html-BQnBg5Si.js"),[]),meta:{title:"🚌校园巴士时刻表 SUSTech Campus Bus Info"}}],["/transport/bustimer.html",{loader:()=>Kt(()=>import("./bustimer.html-IC7SBizm.js"),[]),meta:{title:"🚌校园巴士时刻表 SUSTech Campus Bus Info"}}],["/transport/redirect.html",{loader:()=>Kt(()=>import("./redirect.html-BiX31t1v.js"),[]),meta:{title:"🚌校园巴士 - 自动跳转"}}],["/contact/professor-emails/",{loader:()=>Kt(()=>import("./index.html-DtGeBthh.js"),[]),meta:{title:"教授邮件列表"}}],["/facility/panolens/",{loader:()=>Kt(()=>import("./index.html-DvVblEKe.js"),[]),meta:{title:"全景看校园"}}],["/if-you-are-a-freshman/preview/",{loader:()=>Kt(()=>import("./index.html-ukNGcoGI.js"),[]),meta:{title:"蓢村拾遗：南科大冷知识2021"}}],["/life/by-zhicheng-college/%E6%96%B0%E7%94%9F%E6%94%BB%E7%95%A5%E4%B9%8B%E5%AE%BF%E8%88%8D%E7%94%9F%E6%B4%BB%E7%AF%87.html",{loader:()=>Kt(()=>import("./新生攻略之宿舍生活篇.html-CyoLiAG8.js"),[]),meta:{title:"新生攻略之宿舍生活篇"}}],["/life/by-zhicheng-college/%E6%96%B0%E7%94%9F%E6%94%BB%E7%95%A5%E4%B9%8B%E6%A0%A1%E5%86%85%E4%BB%8B%E7%BB%8D%E7%AF%87.html",{loader:()=>Kt(()=>import("./新生攻略之校内介绍篇.html-DiYs8ZxU.js"),[]),meta:{title:"新生攻略之校内介绍篇"}}],["/life/by-zhicheng-college/%E6%96%B0%E7%94%9F%E6%94%BB%E7%95%A5%E4%B9%8B%E7%A4%BE%E5%9B%A2%E7%AF%87.html",{loader:()=>Kt(()=>import("./新生攻略之社团篇.html-Dk5DoOOb.js"),[]),meta:{title:"新生攻略之社团篇"}}],["/life/catering/",{loader:()=>Kt(()=>import("./index.html-C8yOgSBK.js"),[]),meta:{title:"☕️餐饮"}}],["/life/dormitory/",{loader:()=>Kt(()=>import("./index.html-COjDrFkN.js"),[]),meta:{title:"🏠住在南科"}}],["/life/dormitory/dorm-floor-plan.html",{loader:()=>Kt(()=>import("./dorm-floor-plan.html-cxKEllRc.js"),[]),meta:{title:"宿舍平面图"}}],["/life/freshman-register/",{loader:()=>Kt(()=>import("./index.html-YRs0GFf9.js"),[]),meta:{title:"新生报到"}}],["/life/sports-facility/",{loader:()=>Kt(()=>import("./index.html-DhcBwzx4.js"),[]),meta:{title:"🏊‍♀️运动设施"}}],["/service/campus-card/",{loader:()=>Kt(()=>import("./index.html-Cjw5q8K_.js"),[]),meta:{title:"💳校园卡"}}],["/service/email/",{loader:()=>Kt(()=>import("./index.html-BUoGXiTO.js"),[]),meta:{title:"电子邮件服务"}}],["/service/email/send-receive-email-by-proxy.html",{loader:()=>Kt(()=>import("./send-receive-email-by-proxy.html-DkIZeLu_.js"),[]),meta:{title:"解决邮箱容量不足的问题"}}],["/service/mail-and-express/",{loader:()=>Kt(()=>import("./index.html-D3ViNxUx.js"),[]),meta:{title:"📦邮件与快递收发"}}],["/service/matlab/",{loader:()=>Kt(()=>import("./index.html-BgRs1qrH.js"),[]),meta:{title:"MATLAB 激活"}}],["/service/medical-treatment/",{loader:()=>Kt(()=>import("./index.html-dmvES9Ys.js"),[]),meta:{title:"🏥就医指南"}}],["/service/network/",{loader:()=>Kt(()=>import("./index.html-DW80cp30.js"),[]),meta:{title:"🌐网络与信息中心 (its@sustech.edu.cn)"}}],["/service/sakai/",{loader:()=>Kt(()=>import("./index.html-DimUZyye.js"),[]),meta:{title:"Sakai | 文件分享"}}],["/service/sid/",{loader:()=>Kt(()=>import("./index.html-u1R0VelR.js"),[]),meta:{title:"学号（SID）"}}],["/service/student-train-ticket/",{loader:()=>Kt(()=>import("./index.html-BC6FveOE.js"),[]),meta:{title:"火车票学生优惠使用指南"}}],["/service/tax/",{loader:()=>Kt(()=>import("./index.html-DfEHwkFM.js"),[]),meta:{title:"如何申报退税？-- 年度个人所得税年度汇算"}}],["/service/unifound/",{loader:()=>Kt(()=>import("./index.html-Di7Jy7Yg.js"),[]),meta:{title:"🖨️联创打印系统"}}],["/service/work-wechat/",{loader:()=>Kt(()=>import("./index.html-CImNPl2D.js"),[]),meta:{title:"企业微信"}}],["/study/borrow-books/",{loader:()=>Kt(()=>import("./index.html-D1iQ5NcW.js"),[]),meta:{title:"📗教材与图书借还"}}],["/study/by-shude-college/advice-on-study.html",{loader:()=>Kt(()=>import("./advice-on-study.html-NTiGz6Uz.js"),[]),meta:{title:"📖学习建议"}}],["/study/by-shude-college/info-on-study.html",{loader:()=>Kt(()=>import("./info-on-study.html-BK072cuD.js"),[]),meta:{title:"📖学习制度与信息"}}],["/study/by-zhicheng-college/%E6%96%B0%E7%94%9F%E6%94%BB%E7%95%A5%E4%B9%8B%E5%AD%A6%E4%B9%A0%E7%AF%87.html",{loader:()=>Kt(()=>import("./新生攻略之学习篇.html-CfouGhQx.js"),[]),meta:{title:"新生攻略之学习篇"}}],["/study/cse/innovative-project.html",{loader:()=>Kt(()=>import("./innovative-project.html-UG7a6KaI.js"),[]),meta:{title:"南方科技大学计算机系创新实践项目汇总"}}],["/study/send-transcripts-to-other-universites/",{loader:()=>Kt(()=>import("./index.html-Bfyi3JHQ.js"),[]),meta:{title:"向境外院校发送成绩单"}}],["/study/talks/2025-03-14T10-30-00_%E6%9D%8E%E7%AB%B9.html",{loader:()=>Kt(()=>import("./2025-03-14T10-30-00_李竹.html-DtZ6m-1Y.js"),[]),meta:{title:"李竹：多尺度稀疏卷积学习在点云压缩、超分辨率和去块效应中的应用"}}],["/study/talks/2025-03-14T16-30-00_Prof._Peter_May.html",{loader:()=>Kt(()=>import("./2025-03-14T16-30-00_Prof._Peter_May.html-hZxmLI9B.js"),[]),meta:{title:"《科学大讲堂第188期》Prof. Peter May：有限集、对称群与范畴组合"}}],["/study/talks/2025-03-19T10-00-00_%E9%82%B5%E5%B3%B0.html",{loader:()=>Kt(()=>import("./2025-03-19T10-00-00_邵峰.html-1xXD1rmH.js"),[]),meta:{title:"《南科大讲堂第395期》邵峰：Gasdermin家族介导的焦亡：从抗菌到抗肿瘤免疫"}}],["/study/talks/2025-03-19T16-00-00_%E5%91%A8%E5%AD%9F%E5%88%9D_%E6%95%99%E6%8E%88.html",{loader:()=>Kt(()=>import("./2025-03-19T16-00-00_周孟初_教授.html-DwgM6aXP.js"),[]),meta:{title:"《SUSTech Lecture Series 第396期》周孟初 教授：推动知识蒸馏技术发展的多学科方法"}}],["/study/talks/2025-03-20T10-00-00_%E4%BA%8E%E6%B5%B7%E6%98%8E.html",{loader:()=>Kt(()=>import("./2025-03-20T10-00-00_于海明.html-Bd8WMJvu.js"),[]),meta:{title:"《大湾区物理讲堂 2025-13期》于海明：反铁磁绝缘体中的自旋波传输"}}],["/study/talks/",{loader:()=>Kt(()=>import("./index.html-D6wO_PhJ.js"),[]),meta:{title:"讲座信息"}}],["/service/blackboard/retrive-ics-url/",{loader:()=>Kt(()=>import("./index.html-Ciw0ZCdj.js"),[]),meta:{title:"BB | 将Blackboard中作业，DDL等日程添加到系统日历"}}],["/service/network/apply-for-vpn/",{loader:()=>Kt(()=>import("./index.html-BWlrUdbA.js"),[]),meta:{title:"申请回校VPN"}}],["/service/network/choose-a-pad/",{loader:()=>Kt(()=>import("./index.html-C2NskNv2.js"),[]),meta:{title:"选择一台合适的平板电脑"}}],["/service/network/choose-a-router/",{loader:()=>Kt(()=>import("./index.html-CLnQcKIW.js"),[]),meta:{title:"📶选择一台合适的路由器"}}],["/service/network/eduroam/",{loader:()=>Kt(()=>import("./index.html-Cd_JukHA.js"),[]),meta:{title:"eduroam（学术网路漫游）"}}],["/service/network/ipv6/",{loader:()=>Kt(()=>import("./index.html-CL9Y6LUT.js"),[]),meta:{title:"校内 IPv6 设置教程"}}],["/service/network/remote-desktop/",{loader:()=>Kt(()=>import("./index.html-DWkmpUju.js"),[]),meta:{title:"校内远程桌面使用指北"}}],["/service/network/use-vpn/",{loader:()=>Kt(()=>import("./index.html-BzmjvN0g.js"),[]),meta:{title:"使用 SSL VPN 说明"}}],["/study/book-list-by-prof-yuan/2018/",{loader:()=>Kt(()=>import("./index.html-Bx2NH0bU.js"),[]),meta:{title:"袁长庚老师为新生推荐的书单（2018）"}}],["/404.html",{loader:()=>Kt(()=>import("./404.html-ASxLqIQu.js"),[]),meta:{title:""}}]]);function mne(){return i7().__VUE_DEVTOOLS_GLOBAL_HOOK__}function i7(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const gne=typeof Proxy=="function",vne="devtools-plugin:setup",yne="plugin:settings:set";let qp,HI;function _ne(){var e;return qp!==void 0||(typeof window<"u"&&window.performance?(qp=!0,HI=window.performance):typeof globalThis<"u"&&(!((e=globalThis.perf_hooks)===null||e===void 0)&&e.performance)?(qp=!0,HI=globalThis.perf_hooks.performance):qp=!1),qp}function bne(){return _ne()?HI.now():Date.now()}class xne{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const s in t.settings){const a=t.settings[s];r[s]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let o=Object.assign({},r);try{const s=localStorage.getItem(i),a=JSON.parse(s);Object.assign(o,a)}catch{}this.fallbacks={getSettings(){return o},setSettings(s){try{localStorage.setItem(i,JSON.stringify(s))}catch{}o=s},now(){return bne()}},n&&n.on(yne,(s,a)=>{s===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(s,a)=>this.target?this.target.on[a]:(...c)=>{this.onQueue.push({method:a,args:c})}}),this.proxiedTarget=new Proxy({},{get:(s,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...c)=>(this.targetQueue.push({method:a,args:c,resolve:()=>{}}),this.fallbacks[a](...c)):(...c)=>new Promise(h=>{this.targetQueue.push({method:a,args:c,resolve:h})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function wne(e,t){const n=e,r=i7(),i=mne(),o=gne&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!o))i.emit(vne,e,t);else{const s=o?new xne(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:s}),s&&t(s.proxiedTarget)}}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Hu=typeof document<"u";function o7(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Sne(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&o7(e.default)}const mr=Object.assign;function tP(e,t){const n={};for(const r in t){const i=t[r];n[r]=as(i)?i.map(e):e(i)}return n}const A_=()=>{},as=Array.isArray,a7=/#/g,Cne=/&/g,Tne=/\//g,Pne=/=/g,Ene=/\?/g,s7=/\+/g,Ine=/%5B/g,Mne=/%5D/g,l7=/%5E/g,Ane=/%60/g,u7=/%7B/g,Dne=/%7C/g,c7=/%7D/g,kne=/%20/g;function RD(e){return encodeURI(""+e).replace(Dne,"|").replace(Ine,"[").replace(Mne,"]")}function One(e){return RD(e).replace(u7,"{").replace(c7,"}").replace(l7,"^")}function UI(e){return RD(e).replace(s7,"%2B").replace(kne,"+").replace(a7,"%23").replace(Cne,"%26").replace(Ane,"`").replace(u7,"{").replace(c7,"}").replace(l7,"^")}function Rne(e){return UI(e).replace(Pne,"%3D")}function Lne(e){return RD(e).replace(a7,"%23").replace(Ene,"%3F")}function $ne(e){return e==null?"":Lne(e).replace(Tne,"%2F")}function lg(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const zne=/\/$/,Bne=e=>e.replace(zne,"");function nP(e,t,n="/"){let r,i={},o="",s="";const a=t.indexOf("#");let c=t.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(r=t.slice(0,c),o=t.slice(c+1,a>-1?a:t.length),i=e(o)),a>-1&&(r=r||t.slice(0,a),s=t.slice(a,t.length)),r=jne(r??t,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:lg(s)}}function Fne(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function b$(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Nne(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&wh(t.matched[r],n.matched[i])&&h7(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function wh(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function h7(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Vne(e[n],t[n]))return!1;return!0}function Vne(e,t){return as(e)?x$(e,t):as(t)?x$(t,e):e===t}function x$(e,t){return as(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function jne(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let o=n.length-1,s,a;for(s=0;s<r.length;s++)if(a=r[s],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(s).join("/")}const Fu={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var s0;(function(e){e.pop="pop",e.push="push"})(s0||(s0={}));var D_;(function(e){e.back="back",e.forward="forward",e.unknown=""})(D_||(D_={}));function Hne(e){if(!e)if(Hu){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Bne(e)}const Une=/^[^#]+#/;function Gne(e,t){return e.replace(Une,"#")+t}function Wne(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const s2=()=>({left:window.scrollX,top:window.scrollY});function Zne(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=Wne(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function w$(e,t){return(history.state?history.state.position-t:-1)+e}const GI=new Map;function qne(e,t){GI.set(e,t)}function Kne(e){const t=GI.get(e);return GI.delete(e),t}let Xne=()=>location.protocol+"//"+location.host;function d7(e,t){const{pathname:n,search:r,hash:i}=t,o=e.indexOf("#");if(o>-1){let a=i.includes(e.slice(o))?e.slice(o).length:1,c=i.slice(a);return c[0]!=="/"&&(c="/"+c),b$(c,"")}return b$(n,e)+r+i}function Yne(e,t,n,r){let i=[],o=[],s=null;const a=({state:y})=>{const v=d7(e,location),x=n.value,C=t.value;let I=0;if(y){if(n.value=v,t.value=y,s&&s===x){s=null;return}I=C?y.position-C.position:0}else r(v);i.forEach(A=>{A(n.value,x,{delta:I,type:s0.pop,direction:I?I>0?D_.forward:D_.back:D_.unknown})})};function c(){s=n.value}function h(y){i.push(y);const v=()=>{const x=i.indexOf(y);x>-1&&i.splice(x,1)};return o.push(v),v}function d(){const{history:y}=window;y.state&&y.replaceState(mr({},y.state,{scroll:s2()}),"")}function g(){for(const y of o)y();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:c,listen:h,destroy:g}}function S$(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?s2():null}}function Jne(e){const{history:t,location:n}=window,r={value:d7(e,n)},i={value:t.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(c,h,d){const g=e.indexOf("#"),y=g>-1?(n.host&&document.querySelector("base")?e:e.slice(g))+c:Xne()+e+c;try{t[d?"replaceState":"pushState"](h,"",y),i.value=h}catch(v){console.error(v),n[d?"replace":"assign"](y)}}function s(c,h){const d=mr({},t.state,S$(i.value.back,c,i.value.forward,!0),h,{position:i.value.position});o(c,d,!0),r.value=c}function a(c,h){const d=mr({},i.value,t.state,{forward:c,scroll:s2()});o(d.current,d,!0);const g=mr({},S$(r.value,c,null),{position:d.position+1},h);o(c,g,!1),r.value=c}return{location:r,state:i,push:a,replace:s}}function Qne(e){e=Hne(e);const t=Jne(e),n=Yne(e,t.state,t.location,t.replace);function r(o,s=!0){s||n.pauseListeners(),history.go(o)}const i=mr({location:"",base:e,go:r,createHref:Gne.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function f7(e){return typeof e=="string"||e&&typeof e=="object"}function p7(e){return typeof e=="string"||typeof e=="symbol"}const m7=Symbol("");var C$;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(C$||(C$={}));function ug(e,t){return mr(new Error,{type:e,[m7]:!0},t)}function Du(e,t){return e instanceof Error&&m7 in e&&(t==null||!!(e.type&t))}const T$="[^/]+?",ere={sensitive:!1,strict:!1,start:!0,end:!0},tre=/[.+*?^${}()[\]/\\]/g;function nre(e,t){const n=mr({},ere,t),r=[];let i=n.start?"^":"";const o=[];for(const h of e){const d=h.length?[]:[90];n.strict&&!h.length&&(i+="/");for(let g=0;g<h.length;g++){const y=h[g];let v=40+(n.sensitive?.25:0);if(y.type===0)g||(i+="/"),i+=y.value.replace(tre,"\\$&"),v+=40;else if(y.type===1){const{value:x,repeatable:C,optional:I,regexp:A}=y;o.push({name:x,repeatable:C,optional:I});const k=A||T$;if(k!==T$){v+=10;try{new RegExp(`(${k})`)}catch(z){throw new Error(`Invalid custom RegExp for param "${x}" (${k}): `+z.message)}}let R=C?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;g||(R=I&&h.length<2?`(?:/${R})`:"/"+R),I&&(R+="?"),i+=R,v+=20,I&&(v+=-8),C&&(v+=-20),k===".*"&&(v+=-50)}d.push(v)}r.push(d)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function a(h){const d=h.match(s),g={};if(!d)return null;for(let y=1;y<d.length;y++){const v=d[y]||"",x=o[y-1];g[x.name]=v&&x.repeatable?v.split("/"):v}return g}function c(h){let d="",g=!1;for(const y of e){(!g||!d.endsWith("/"))&&(d+="/"),g=!1;for(const v of y)if(v.type===0)d+=v.value;else if(v.type===1){const{value:x,repeatable:C,optional:I}=v,A=x in h?h[x]:"";if(as(A)&&!C)throw new Error(`Provided param "${x}" is an array but it is not repeatable (* or + modifiers)`);const k=as(A)?A.join("/"):A;if(!k)if(I)y.length<2&&(d.endsWith("/")?d=d.slice(0,-1):g=!0);else throw new Error(`Missing required param "${x}"`);d+=k}}return d||"/"}return{re:s,score:r,keys:o,parse:a,stringify:c}}function rre(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function g7(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const o=rre(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if(P$(r))return 1;if(P$(i))return-1}return i.length-r.length}function P$(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ire={type:0,value:""},ore=/[a-zA-Z0-9_]/;function are(e){if(!e)return[[]];if(e==="/")return[[ire]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(v){throw new Error(`ERR (${n})/"${h}": ${v}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let a=0,c,h="",d="";function g(){h&&(n===0?o.push({type:0,value:h}):n===1||n===2||n===3?(o.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:h,regexp:d,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),h="")}function y(){h+=c}for(;a<e.length;){if(c=e[a++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(h&&g(),s()):c===":"?(g(),n=1):y();break;case 4:y(),n=r;break;case 1:c==="("?n=2:ore.test(c)?y():(g(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+c:n=3:d+=c;break;case 3:g(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,d="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${h}"`),g(),s(),i}function sre(e,t,n){const r=nre(are(e.path),n),i=mr(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function lre(e,t){const n=[],r=new Map;t=A$({strict:!1,end:!0,sensitive:!1},t);function i(g){return r.get(g)}function o(g,y,v){const x=!v,C=I$(g);C.aliasOf=v&&v.record;const I=A$(t,g),A=[C];if("alias"in g){const z=typeof g.alias=="string"?[g.alias]:g.alias;for(const V of z)A.push(I$(mr({},C,{components:v?v.record.components:C.components,path:V,aliasOf:v?v.record:C})))}let k,R;for(const z of A){const{path:V}=z;if(y&&V[0]!=="/"){const U=y.record.path,N=U[U.length-1]==="/"?"":"/";z.path=y.record.path+(V&&N+V)}if(k=sre(z,y,I),v?v.alias.push(k):(R=R||k,R!==k&&R.alias.push(k),x&&g.name&&!M$(k)&&s(g.name)),v7(k)&&c(k),C.children){const U=C.children;for(let N=0;N<U.length;N++)o(U[N],k,v&&v.children[N])}v=v||k}return R?()=>{s(R)}:A_}function s(g){if(p7(g)){const y=r.get(g);y&&(r.delete(g),n.splice(n.indexOf(y),1),y.children.forEach(s),y.alias.forEach(s))}else{const y=n.indexOf(g);y>-1&&(n.splice(y,1),g.record.name&&r.delete(g.record.name),g.children.forEach(s),g.alias.forEach(s))}}function a(){return n}function c(g){const y=hre(g,n);n.splice(y,0,g),g.record.name&&!M$(g)&&r.set(g.record.name,g)}function h(g,y){let v,x={},C,I;if("name"in g&&g.name){if(v=r.get(g.name),!v)throw ug(1,{location:g});I=v.record.name,x=mr(E$(y.params,v.keys.filter(R=>!R.optional).concat(v.parent?v.parent.keys.filter(R=>R.optional):[]).map(R=>R.name)),g.params&&E$(g.params,v.keys.map(R=>R.name))),C=v.stringify(x)}else if(g.path!=null)C=g.path,v=n.find(R=>R.re.test(C)),v&&(x=v.parse(C),I=v.record.name);else{if(v=y.name?r.get(y.name):n.find(R=>R.re.test(y.path)),!v)throw ug(1,{location:g,currentLocation:y});I=v.record.name,x=mr({},y.params,g.params),C=v.stringify(x)}const A=[];let k=v;for(;k;)A.unshift(k.record),k=k.parent;return{name:I,path:C,params:x,matched:A,meta:cre(A)}}e.forEach(g=>o(g));function d(){n.length=0,r.clear()}return{addRoute:o,resolve:h,removeRoute:s,clearRoutes:d,getRoutes:a,getRecordMatcher:i}}function E$(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function I$(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:ure(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function ure(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function M$(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function cre(e){return e.reduce((t,n)=>mr(t,n.meta),{})}function A$(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function hre(e,t){let n=0,r=t.length;for(;n!==r;){const o=n+r>>1;g7(e,t[o])<0?r=o:n=o+1}const i=dre(e);return i&&(r=t.lastIndexOf(i,r-1)),r}function dre(e){let t=e;for(;t=t.parent;)if(v7(t)&&g7(e,t)===0)return t}function v7({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function fre(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(s7," "),s=o.indexOf("="),a=lg(s<0?o:o.slice(0,s)),c=s<0?null:lg(o.slice(s+1));if(a in t){let h=t[a];as(h)||(h=t[a]=[h]),h.push(c)}else t[a]=c}return t}function D$(e){let t="";for(let n in e){const r=e[n];if(n=Rne(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(as(r)?r.map(o=>o&&UI(o)):[r&&UI(r)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function pre(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=as(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const mre=Symbol(""),k$=Symbol(""),l2=Symbol(""),LD=Symbol(""),WI=Symbol("");function Ty(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function ih(e,t,n,r,i,o=s=>s()){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,c)=>{const h=y=>{y===!1?c(ug(4,{from:n,to:t})):y instanceof Error?c(y):f7(y)?c(ug(2,{from:t,to:y})):(s&&r.enterCallbacks[i]===s&&typeof y=="function"&&s.push(y),a())},d=o(()=>e.call(r&&r.instances[i],t,n,h));let g=Promise.resolve(d);e.length<3&&(g=g.then(h)),g.catch(y=>c(y))})}function rP(e,t,n,r,i=o=>o()){const o=[];for(const s of e)for(const a in s.components){let c=s.components[a];if(!(t!=="beforeRouteEnter"&&!s.instances[a]))if(o7(c)){const d=(c.__vccOpts||c)[t];d&&o.push(ih(d,n,r,s,a,i))}else{let h=c();o.push(()=>h.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${a}" at "${s.path}"`);const g=Sne(d)?d.default:d;s.mods[a]=d,s.components[a]=g;const v=(g.__vccOpts||g)[t];return v&&ih(v,n,r,s,a,i)()}))}}return o}function O$(e){const t=Mn(l2),n=Mn(LD),r=ge(()=>{const c=Ui(e.to);return t.resolve(c)}),i=ge(()=>{const{matched:c}=r.value,{length:h}=c,d=c[h-1],g=n.matched;if(!d||!g.length)return-1;const y=g.findIndex(wh.bind(null,d));if(y>-1)return y;const v=R$(c[h-2]);return h>1&&R$(d)===v&&g[g.length-1].path!==v?g.findIndex(wh.bind(null,c[h-2])):y}),o=ge(()=>i.value>-1&&_re(n.params,r.value.params)),s=ge(()=>i.value>-1&&i.value===n.matched.length-1&&h7(n.params,r.value.params));function a(c={}){if(yre(c)){const h=t[Ui(e.replace)?"replace":"push"](Ui(e.to)).catch(A_);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}if(Hu){const c=Ao();if(c){const h={route:r.value,isActive:o.value,isExactActive:s.value,error:null};c.__vrl_devtools=c.__vrl_devtools||[],c.__vrl_devtools.push(h),Dr(()=>{h.route=r.value,h.isActive=o.value,h.isExactActive=s.value,h.error=f7(Ui(e.to))?null:'Invalid "to" value'},{flush:"post"})}}return{route:r,href:ge(()=>r.value.href),isActive:o,isExactActive:s,navigate:a}}function gre(e){return e.length===1?e[0]:e}const vre=Pt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:O$,setup(e,{slots:t}){const n=Gi(O$(e)),{options:r}=Mn(l2),i=ge(()=>({[L$(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[L$(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&gre(t.default(n));return e.custom?o:Cn("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),y7=vre;function yre(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function _re(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!as(i)||i.length!==r.length||r.some((o,s)=>o!==i[s]))return!1}return!0}function R$(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const L$=(e,t,n)=>e??t??n,bre=Pt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Mn(WI),i=ge(()=>e.route||r.value),o=Mn(k$,0),s=ge(()=>{let h=Ui(o);const{matched:d}=i.value;let g;for(;(g=d[h])&&!g.components;)h++;return h}),a=ge(()=>i.value.matched[s.value]);fr(k$,ge(()=>s.value+1)),fr(mre,a),fr(WI,i);const c=Ot();return qt(()=>[c.value,a.value,e.name],([h,d,g],[y,v,x])=>{d&&(d.instances[g]=h,v&&v!==d&&h&&h===y&&(d.leaveGuards.size||(d.leaveGuards=v.leaveGuards),d.updateGuards.size||(d.updateGuards=v.updateGuards))),h&&d&&(!v||!wh(d,v)||!y)&&(d.enterCallbacks[g]||[]).forEach(C=>C(h))},{flush:"post"}),()=>{const h=i.value,d=e.name,g=a.value,y=g&&g.components[d];if(!y)return $$(n.default,{Component:y,route:h});const v=g.props[d],x=v?v===!0?h.params:typeof v=="function"?v(h):v:null,I=Cn(y,mr({},x,t,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(g.instances[d]=null)},ref:c}));if(Hu&&I.ref){const A={depth:s.value,name:g.name,path:g.path,meta:g.meta};(as(I.ref)?I.ref.map(R=>R.i):[I.ref.i]).forEach(R=>{R.__vrv_devtools=A})}return $$(n.default,{Component:I,route:h})||I}}});function $$(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const xre=bre;function Py(e,t){const n=mr({},e,{matched:e.matched.map(r=>kre(r,["instances","children","aliasOf"]))});return{_custom:{type:null,readOnly:!0,display:e.fullPath,tooltip:t,value:n}}}function j1(e){return{_custom:{display:e}}}let wre=0;function Sre(e,t,n){if(t.__hasDevtools)return;t.__hasDevtools=!0;const r=wre++;wne({id:"org.vuejs.router"+(r?"."+r:""),label:"Vue Router",packageName:"vue-router",homepage:"https://router.vuejs.org",logo:"https://router.vuejs.org/logo.png",componentStateTypes:["Routing"],app:e},i=>{typeof i.now!="function"&&console.warn("[Vue Router]: You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),i.on.inspectComponent((d,g)=>{d.instanceData&&d.instanceData.state.push({type:"Routing",key:"$route",editable:!1,value:Py(t.currentRoute.value,"Current Route")})}),i.on.visitComponentTree(({treeNode:d,componentInstance:g})=>{if(g.__vrv_devtools){const y=g.__vrv_devtools;d.tags.push({label:(y.name?`${y.name.toString()}: `:"")+y.path,textColor:0,tooltip:"This component is rendered by &lt;router-view&gt;",backgroundColor:_7})}as(g.__vrl_devtools)&&(g.__devtoolsApi=i,g.__vrl_devtools.forEach(y=>{let v=y.route.path,x=w7,C="",I=0;y.error?(v=y.error,x=Ire,I=Mre):y.isExactActive?(x=x7,C="This is exactly active"):y.isActive&&(x=b7,C="This link is active"),d.tags.push({label:v,textColor:I,tooltip:C,backgroundColor:x})}))}),qt(t.currentRoute,()=>{c(),i.notifyComponentUpdate(),i.sendInspectorTree(a),i.sendInspectorState(a)});const o="router:navigations:"+r;i.addTimelineLayer({id:o,label:`Router${r?" "+r:""} Navigations`,color:4237508}),t.onError((d,g)=>{i.addTimelineEvent({layerId:o,event:{title:"Error during Navigation",subtitle:g.fullPath,logType:"error",time:i.now(),data:{error:d},groupId:g.meta.__navigationId}})});let s=0;t.beforeEach((d,g)=>{const y={guard:j1("beforeEach"),from:Py(g,"Current Location during this navigation"),to:Py(d,"Target location")};Object.defineProperty(d.meta,"__navigationId",{value:s++}),i.addTimelineEvent({layerId:o,event:{time:i.now(),title:"Start of navigation",subtitle:d.fullPath,data:y,groupId:d.meta.__navigationId}})}),t.afterEach((d,g,y)=>{const v={guard:j1("afterEach")};y?(v.failure={_custom:{type:Error,readOnly:!0,display:y?y.message:"",tooltip:"Navigation Failure",value:y}},v.status=j1("❌")):v.status=j1("✅"),v.from=Py(g,"Current Location during this navigation"),v.to=Py(d,"Target location"),i.addTimelineEvent({layerId:o,event:{title:"End of navigation",subtitle:d.fullPath,time:i.now(),data:v,logType:y?"warning":"default",groupId:d.meta.__navigationId}})});const a="router-inspector:"+r;i.addInspector({id:a,label:"Routes"+(r?" "+r:""),icon:"book",treeFilterPlaceholder:"Search routes"});function c(){if(!h)return;const d=h;let g=n.getRoutes().filter(y=>!y.parent||!y.parent.record.components);g.forEach(T7),d.filter&&(g=g.filter(y=>ZI(y,d.filter.toLowerCase()))),g.forEach(y=>C7(y,t.currentRoute.value)),d.rootNodes=g.map(S7)}let h;i.on.getInspectorTree(d=>{h=d,d.app===e&&d.inspectorId===a&&c()}),i.on.getInspectorState(d=>{if(d.app===e&&d.inspectorId===a){const y=n.getRoutes().find(v=>v.record.__vd_id===d.nodeId);y&&(d.state={options:Tre(y)})}}),i.sendInspectorTree(a),i.sendInspectorState(a)})}function Cre(e){return e.optional?e.repeatable?"*":"?":e.repeatable?"+":""}function Tre(e){const{record:t}=e,n=[{editable:!1,key:"path",value:t.path}];return t.name!=null&&n.push({editable:!1,key:"name",value:t.name}),n.push({editable:!1,key:"regexp",value:e.re}),e.keys.length&&n.push({editable:!1,key:"keys",value:{_custom:{type:null,readOnly:!0,display:e.keys.map(r=>`${r.name}${Cre(r)}`).join(" "),tooltip:"Param keys",value:e.keys}}}),t.redirect!=null&&n.push({editable:!1,key:"redirect",value:t.redirect}),e.alias.length&&n.push({editable:!1,key:"aliases",value:e.alias.map(r=>r.record.path)}),Object.keys(e.record.meta).length&&n.push({editable:!1,key:"meta",value:e.record.meta}),n.push({key:"score",editable:!1,value:{_custom:{type:null,readOnly:!0,display:e.score.map(r=>r.join(", ")).join(" | "),tooltip:"Score used to sort routes",value:e.score}}}),n}const _7=15485081,b7=2450411,x7=8702998,Pre=2282478,w7=16486972,Ere=6710886,Ire=16704226,Mre=12131356;function S7(e){const t=[],{record:n}=e;n.name!=null&&t.push({label:String(n.name),textColor:0,backgroundColor:Pre}),n.aliasOf&&t.push({label:"alias",textColor:0,backgroundColor:w7}),e.__vd_match&&t.push({label:"matches",textColor:0,backgroundColor:_7}),e.__vd_exactActive&&t.push({label:"exact",textColor:0,backgroundColor:x7}),e.__vd_active&&t.push({label:"active",textColor:0,backgroundColor:b7}),n.redirect&&t.push({label:typeof n.redirect=="string"?`redirect: ${n.redirect}`:"redirects",textColor:16777215,backgroundColor:Ere});let r=n.__vd_id;return r==null&&(r=String(Are++),n.__vd_id=r),{id:r,label:n.path,tags:t,children:e.children.map(S7)}}let Are=0;const Dre=/^\/(.*)\/([a-z]*)$/;function C7(e,t){const n=t.matched.length&&wh(t.matched[t.matched.length-1],e.record);e.__vd_exactActive=e.__vd_active=n,n||(e.__vd_active=t.matched.some(r=>wh(r,e.record))),e.children.forEach(r=>C7(r,t))}function T7(e){e.__vd_match=!1,e.children.forEach(T7)}function ZI(e,t){const n=String(e.re).match(Dre);if(e.__vd_match=!1,!n||n.length<3)return!1;if(new RegExp(n[1].replace(/\$$/,""),n[2]).test(t))return e.children.forEach(s=>ZI(s,t)),e.record.path!=="/"||t==="/"?(e.__vd_match=e.re.test(t),!0):!1;const i=e.record.path.toLowerCase(),o=lg(i);return!t.startsWith("/")&&(o.includes(t)||i.includes(t))||o.startsWith(t)||i.startsWith(t)||e.record.name&&String(e.record.name).includes(t)?!0:e.children.some(s=>ZI(s,t))}function kre(e,t){const n={};for(const r in e)t.includes(r)||(n[r]=e[r]);return n}function Ore(e){const t=lre(e.routes,e),n=e.parseQuery||fre,r=e.stringifyQuery||D$,i=e.history,o=Ty(),s=Ty(),a=Ty(),c=Et(Fu);let h=Fu;Hu&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=tP.bind(null,ze=>""+ze),g=tP.bind(null,$ne),y=tP.bind(null,lg);function v(ze,ut){let Re,Ve;return p7(ze)?(Re=t.getRecordMatcher(ze),Ve=ut):Ve=ze,t.addRoute(Ve,Re)}function x(ze){const ut=t.getRecordMatcher(ze);ut&&t.removeRoute(ut)}function C(){return t.getRoutes().map(ze=>ze.record)}function I(ze){return!!t.getRecordMatcher(ze)}function A(ze,ut){if(ut=mr({},ut||c.value),typeof ze=="string"){const ye=nP(n,ze,ut.path),Ze=t.resolve({path:ye.path},ut),ht=i.createHref(ye.fullPath);return mr(ye,Ze,{params:y(Ze.params),hash:lg(ye.hash),redirectedFrom:void 0,href:ht})}let Re;if(ze.path!=null)Re=mr({},ze,{path:nP(n,ze.path,ut.path).path});else{const ye=mr({},ze.params);for(const Ze in ye)ye[Ze]==null&&delete ye[Ze];Re=mr({},ze,{params:g(ye)}),ut.params=g(ut.params)}const Ve=t.resolve(Re,ut),Le=ze.hash||"";Ve.params=d(y(Ve.params));const Ye=Fne(r,mr({},ze,{hash:One(Le),path:Ve.path})),pe=i.createHref(Ye);return mr({fullPath:Ye,hash:Le,query:r===D$?pre(ze.query):ze.query||{}},Ve,{redirectedFrom:void 0,href:pe})}function k(ze){return typeof ze=="string"?nP(n,ze,c.value.path):mr({},ze)}function R(ze,ut){if(h!==ze)return ug(8,{from:ut,to:ze})}function z(ze){return N(ze)}function V(ze){return z(mr(k(ze),{replace:!0}))}function U(ze){const ut=ze.matched[ze.matched.length-1];if(ut&&ut.redirect){const{redirect:Re}=ut;let Ve=typeof Re=="function"?Re(ze):Re;return typeof Ve=="string"&&(Ve=Ve.includes("?")||Ve.includes("#")?Ve=k(Ve):{path:Ve},Ve.params={}),mr({query:ze.query,hash:ze.hash,params:Ve.path!=null?{}:ze.params},Ve)}}function N(ze,ut){const Re=h=A(ze),Ve=c.value,Le=ze.state,Ye=ze.force,pe=ze.replace===!0,ye=U(Re);if(ye)return N(mr(k(ye),{state:typeof ye=="object"?mr({},Le,ye.state):Le,force:Ye,replace:pe}),ut||Re);const Ze=Re;Ze.redirectedFrom=ut;let ht;return!Ye&&Nne(r,Ve,Re)&&(ht=ug(16,{to:Ze,from:Ve}),ot(Ve,Ve,!0,!1)),(ht?Promise.resolve(ht):K(Ze,Ve)).catch(st=>Du(st)?Du(st,2)?st:rt(st):Be(st,Ze,Ve)).then(st=>{if(st){if(Du(st,2))return N(mr({replace:pe},k(st.to),{state:typeof st.to=="object"?mr({},Le,st.to.state):Le,force:Ye}),ut||Ze)}else st=ae(Ze,Ve,!0,pe,Le);return te(Ze,Ve,st),st})}function W(ze,ut){const Re=R(ze,ut);return Re?Promise.reject(Re):Promise.resolve()}function X(ze){const ut=Bt.values().next().value;return ut&&typeof ut.runWithContext=="function"?ut.runWithContext(ze):ze()}function K(ze,ut){let Re;const[Ve,Le,Ye]=Rre(ze,ut);Re=rP(Ve.reverse(),"beforeRouteLeave",ze,ut);for(const ye of Ve)ye.leaveGuards.forEach(Ze=>{Re.push(ih(Ze,ze,ut))});const pe=W.bind(null,ze,ut);return Re.push(pe),Yt(Re).then(()=>{Re=[];for(const ye of o.list())Re.push(ih(ye,ze,ut));return Re.push(pe),Yt(Re)}).then(()=>{Re=rP(Le,"beforeRouteUpdate",ze,ut);for(const ye of Le)ye.updateGuards.forEach(Ze=>{Re.push(ih(Ze,ze,ut))});return Re.push(pe),Yt(Re)}).then(()=>{Re=[];for(const ye of Ye)if(ye.beforeEnter)if(as(ye.beforeEnter))for(const Ze of ye.beforeEnter)Re.push(ih(Ze,ze,ut));else Re.push(ih(ye.beforeEnter,ze,ut));return Re.push(pe),Yt(Re)}).then(()=>(ze.matched.forEach(ye=>ye.enterCallbacks={}),Re=rP(Ye,"beforeRouteEnter",ze,ut,X),Re.push(pe),Yt(Re))).then(()=>{Re=[];for(const ye of s.list())Re.push(ih(ye,ze,ut));return Re.push(pe),Yt(Re)}).catch(ye=>Du(ye,8)?ye:Promise.reject(ye))}function te(ze,ut,Re){a.list().forEach(Ve=>X(()=>Ve(ze,ut,Re)))}function ae(ze,ut,Re,Ve,Le){const Ye=R(ze,ut);if(Ye)return Ye;const pe=ut===Fu,ye=Hu?history.state:{};Re&&(Ve||pe?i.replace(ze.fullPath,mr({scroll:pe&&ye&&ye.scroll},Le)):i.push(ze.fullPath,Le)),c.value=ze,ot(ze,ut,Re,pe),rt()}let me;function we(){me||(me=i.listen((ze,ut,Re)=>{if(!Lt.listening)return;const Ve=A(ze),Le=U(Ve);if(Le){N(mr(Le,{replace:!0,force:!0}),Ve).catch(A_);return}h=Ve;const Ye=c.value;Hu&&qne(w$(Ye.fullPath,Re.delta),s2()),K(Ve,Ye).catch(pe=>Du(pe,12)?pe:Du(pe,2)?(N(mr(k(pe.to),{force:!0}),Ve).then(ye=>{Du(ye,20)&&!Re.delta&&Re.type===s0.pop&&i.go(-1,!1)}).catch(A_),Promise.reject()):(Re.delta&&i.go(-Re.delta,!1),Be(pe,Ve,Ye))).then(pe=>{pe=pe||ae(Ve,Ye,!1),pe&&(Re.delta&&!Du(pe,8)?i.go(-Re.delta,!1):Re.type===s0.pop&&Du(pe,20)&&i.go(-1,!1)),te(Ve,Ye,pe)}).catch(A_)}))}let se=Ty(),ue=Ty(),Te;function Be(ze,ut,Re){rt(ze);const Ve=ue.list();return Ve.length?Ve.forEach(Le=>Le(ze,ut,Re)):console.error(ze),Promise.reject(ze)}function ke(){return Te&&c.value!==Fu?Promise.resolve():new Promise((ze,ut)=>{se.add([ze,ut])})}function rt(ze){return Te||(Te=!ze,we(),se.list().forEach(([ut,Re])=>ze?Re(ze):ut()),se.reset()),ze}function ot(ze,ut,Re,Ve){const{scrollBehavior:Le}=e;if(!Hu||!Le)return Promise.resolve();const Ye=!Re&&Kne(w$(ze.fullPath,0))||(Ve||!Re)&&history.state&&history.state.scroll||null;return wi().then(()=>Le(ze,ut,Ye)).then(pe=>pe&&Zne(pe)).catch(pe=>Be(pe,ze,ut))}const tt=ze=>i.go(ze);let It;const Bt=new Set,Lt={currentRoute:c,listening:!0,addRoute:v,removeRoute:x,clearRoutes:t.clearRoutes,hasRoute:I,getRoutes:C,resolve:A,options:e,push:z,replace:V,go:tt,back:()=>tt(-1),forward:()=>tt(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:ue.add,isReady:ke,install(ze){const ut=this;ze.component("RouterLink",y7),ze.component("RouterView",xre),ze.config.globalProperties.$router=ut,Object.defineProperty(ze.config.globalProperties,"$route",{enumerable:!0,get:()=>Ui(c)}),Hu&&!It&&c.value===Fu&&(It=!0,z(i.location).catch(Le=>{}));const Re={};for(const Le in Fu)Object.defineProperty(Re,Le,{get:()=>c.value[Le],enumerable:!0});ze.provide(l2,ut),ze.provide(LD,G8(Re)),ze.provide(WI,c);const Ve=ze.unmount;Bt.add(ze),ze.unmount=function(){Bt.delete(ze),Bt.size<1&&(h=Fu,me&&me(),me=null,c.value=Fu,It=!1,Te=!1),Ve()},Hu&&Sre(ze,ut,t)}};function Yt(ze){return ze.reduce((ut,Re)=>ut.then(()=>X(Re)),Promise.resolve())}return Lt}function Rre(e,t){const n=[],r=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let s=0;s<o;s++){const a=t.matched[s];a&&(e.matched.find(h=>wh(h,a))?r.push(a):n.push(a));const c=e.matched[s];c&&(t.matched.find(h=>wh(h,c))||i.push(c))}return[n,r,i]}function kh(){return Mn(l2)}function tu(e){return Mn(LD)}var $D=Symbol(""),nu=()=>{const e=Mn($D);if(!e)throw new Error("useClientData() is called without provider.");return e},Lre=()=>nu().pageComponent,jf=()=>nu().pageData,fl=()=>nu().pageFrontmatter,$re=()=>nu().pageHead,P7=()=>nu().pageLang,zre=()=>nu().pageLayout,Hf=()=>nu().routeLocale,Bre=()=>nu().routes,E7=()=>nu().siteData,zD=()=>nu().siteLocaleData,Fre=Symbol(""),qI=Et(fne),jm=Et(pne),I7=(e,t)=>{const n=ine(e,t);if(jm.value[n])return n;const r=encodeURI(n);if(jm.value[r])return r;const i=qI.value[n]||qI.value[r];return i||n},l0=(e,t)=>{const{pathname:n,hashAndQueries:r}=n7(e),i=I7(n,t),o=i+r;return jm.value[i]?{...jm.value[i],path:o,notFound:!1}:{...jm.value["/404.html"],path:o,notFound:!0}},Nre=(e,t)=>{const{pathname:n,hashAndQueries:r}=n7(e);return I7(n,t)+r},Vre=e=>{if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget){const t=e.currentTarget.getAttribute("target");if(t!=null&&t.match(/\b_blank\b/i))return}return e.preventDefault(),!0}},ib=Pt({name:"RouteLink",props:{to:{type:String,required:!0},active:Boolean,activeClass:{type:String,default:"route-link-active"}},slots:Object,setup(e,{slots:t}){const n=kh(),r=tu(),i=ge(()=>e.to.startsWith("#")||e.to.startsWith("?")?e.to:`/${Nre(e.to,r.path).substring(1)}`);return()=>Cn("a",{class:["route-link",{[e.activeClass]:e.active}],href:i.value,onClick:(o={})=>{Vre(o)&&n.push(e.to).catch()}},t.default())}}),Rg=Pt({name:"AutoLink",props:{config:{type:Object,required:!0}},slots:Object,setup(e,{slots:t}){const n=Ds(e,"config"),r=tu(),i=E7(),o=ge(()=>rb(n.value.link)),s=ge(()=>n.value.target||(o.value?"_blank":void 0)),a=ge(()=>s.value==="_blank"),c=ge(()=>!o.value&&!a.value),h=ge(()=>n.value.rel||(a.value?"noopener noreferrer":null)),d=ge(()=>n.value.ariaLabel??n.value.text),g=ge(()=>{if(n.value.exact)return!1;const v=Object.keys(i.value.locales);return v.length?v.every(x=>x!==n.value.link):n.value.link!=="/"}),y=ge(()=>c.value?n.value.activeMatch?(n.value.activeMatch instanceof RegExp?n.value.activeMatch:new RegExp(n.value.activeMatch,"u")).test(r.path):g.value?r.path.startsWith(n.value.link):r.path===n.value.link:!1);return()=>{const{before:v,after:x,default:C}=t,I=(C==null?void 0:C(n.value))??[v==null?void 0:v(n.value),n.value.text,x==null?void 0:x(n.value)];return c.value?Cn(ib,{class:"auto-link",to:n.value.link,active:y.value,"aria-label":d.value},()=>I):Cn("a",{class:"auto-link external-link",href:n.value.link,"aria-label":d.value,rel:h.value,target:s.value},I)}}}),BD=Pt({name:"ClientOnly",setup(e,t){const n=Ot(!1);return Nn(()=>{n.value=!0}),()=>{var r,i;return n.value?(i=(r=t.slots).default)==null?void 0:i.call(r):null}}}),FD=Pt({name:"Content",props:{path:{type:String,required:!1,default:""}},setup(e){const t=Lre(),n=ge(()=>{if(!e.path)return t.value;const r=l0(e.path);return wee(async()=>r.loader().then(({comp:i})=>i))});return()=>Cn(n.value)}}),jre="Layout",Hre="en-US",wd=Gi({resolveLayouts:e=>e.reduce((t,n)=>({...t,...n.layouts}),{}),resolvePageHead:(e,t,n)=>{const r=al(t.description)?t.description:n.description,i=[...Array.isArray(t.head)?t.head:[],...n.head,["title",{},e],["meta",{name:"description",content:r}]];return hne(i)},resolvePageHeadTitle:(e,t)=>[e.title,t.title].filter(n=>!!n).join(" | "),resolvePageLang:(e,t)=>e.lang||t.lang||Hre,resolvePageLayout:(e,t)=>{const n=al(e.frontmatter.layout)?e.frontmatter.layout:jre;if(!t[n])throw new Error(`[vuepress] Cannot resolve layout: ${n}`);return t[n]},resolveRouteLocale:(e,t)=>one(e,decodeURI(t)),resolveSiteLocaleData:({base:e,locales:t,...n},r)=>{var i;return{...n,...t[r],head:[...((i=t[r])==null?void 0:i.head)??[],...n.head]}}}),pl=(e={})=>e,u2=e=>a2(e)?e:`/${kD(e)}`;function c2(e){return A8()?(xQ(e),!0):!1}const iP=new WeakMap,Ure=(...e)=>{var t;const n=e[0],r=(t=Ao())==null?void 0:t.proxy;if(r==null&&!wV())throw new Error("injectLocal must be called in setup");return r&&iP.has(r)&&n in iP.get(r)?iP.get(r)[n]:Mn(...e)};function Vs(e){return typeof e=="function"?e():Ui(e)}const ND=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Gre=Object.prototype.toString,Wre=e=>Gre.call(e)==="[object Object]",KI=()=>{};function M7(e,t){function n(...r){return new Promise((i,o)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(i).catch(o)})}return n}const A7=e=>e();function Zre(e,t={}){let n,r,i=KI;const o=a=>{clearTimeout(a),i(),i=KI};return a=>{const c=Vs(e),h=Vs(t.maxWait);return n&&o(n),c<=0||h!==void 0&&h<=0?(r&&(o(r),r=null),Promise.resolve(a())):new Promise((d,g)=>{i=t.rejectOnCancel?g:d,h&&!r&&(r=setTimeout(()=>{n&&o(n),r=null,d(a())},h)),n=setTimeout(()=>{r&&o(r),r=null,d(a())},c)})}}function qre(e=A7){const t=Ot(!0);function n(){t.value=!1}function r(){t.value=!0}const i=(...o)=>{t.value&&e(...o)};return{isActive:J0(t),pause:n,resume:r,eventFilter:i}}function Kre(e){let t;function n(){return t||(t=e()),t}return n.reset=async()=>{const r=t;t=void 0,r&&await r},n}function z$(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function Xre(e){return Ao()}function Yre(e,t=200,n={}){return M7(Zre(t,n),e)}function Jre(e,t,n={}){const{eventFilter:r=A7,...i}=n;return qt(e,M7(r,t),i)}function Qre(e,t,n={}){const{eventFilter:r,...i}=n,{eventFilter:o,pause:s,resume:a,isActive:c}=qre(r);return{stop:Jre(e,t,{...i,eventFilter:o}),pause:s,resume:a,isActive:c}}function VD(e,t=!0,n){Xre()?Nn(e,n):t?e():wi(e)}function eie(e,t,n={}){const{immediate:r=!0}=n,i=Ot(!1);let o=null;function s(){o&&(clearTimeout(o),o=null)}function a(){i.value=!1,s()}function c(...h){s(),i.value=!0,o=setTimeout(()=>{i.value=!1,o=null,e(...h)},Vs(t))}return r&&(i.value=!0,ND&&c()),c2(a),{isPending:J0(i),start:c,stop:a}}function D7(e=!1,t={}){const{truthyValue:n=!0,falsyValue:r=!1}=t,i=zi(e),o=Ot(e);function s(a){if(arguments.length)return o.value=a,o.value;{const c=Vs(n);return o.value=o.value===c?Vs(r):c,o.value}}return i?s:[o,s]}function k7(e,t,n){return qt(e,t,{...n,immediate:!0})}const Sh=ND?window:void 0,O7=ND?window.navigator:void 0;function sf(e){var t;const n=Vs(e);return(t=n==null?void 0:n.$el)!=null?t:n}function ba(...e){let t,n,r,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,i]=e,t=Sh):[t,n,r,i]=e,!t)return KI;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const o=[],s=()=>{o.forEach(d=>d()),o.length=0},a=(d,g,y,v)=>(d.addEventListener(g,y,v),()=>d.removeEventListener(g,y,v)),c=qt(()=>[sf(t),Vs(i)],([d,g])=>{if(s(),!d)return;const y=Wre(g)?{...g}:g;o.push(...n.flatMap(v=>r.map(x=>a(d,v,x,y))))},{immediate:!0,flush:"post"}),h=()=>{c(),s()};return c2(h),h}function tie(){const e=Ot(!1),t=Ao();return t&&Nn(()=>{e.value=!0},t),e}function h2(e){const t=tie();return ge(()=>(t.value,!!e()))}const nie=Symbol("vueuse-ssr-width");function rie(){const e=wV()?Ure(nie,null):null;return typeof e=="number"?e:void 0}function jD(e,t={}){const{window:n=Sh,ssrWidth:r=rie()}=t,i=h2(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function"),o=Ot(typeof r=="number");let s;const a=Ot(!1),c=g=>{a.value=g.matches},h=()=>{s&&("removeEventListener"in s?s.removeEventListener("change",c):s.removeListener(c))},d=Dr(()=>{if(o.value){o.value=!i.value;const g=Vs(e).split(",");a.value=g.some(y=>{const v=y.includes("not all"),x=y.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),C=y.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let I=!!(x||C);return x&&I&&(I=r>=z$(x[1])),C&&I&&(I=r<=z$(C[1])),v?!I:I});return}i.value&&(h(),s=n.matchMedia(Vs(e)),"addEventListener"in s?s.addEventListener("change",c):s.addListener(c),a.value=s.matches)});return c2(()=>{d(),h(),s=void 0}),ge(()=>a.value)}function B$(e,t={}){const{controls:n=!1,navigator:r=O7}=t,i=h2(()=>r&&"permissions"in r),o=Et(),s=typeof e=="string"?{name:e}:e,a=Et(),c=()=>{var d,g;a.value=(g=(d=o.value)==null?void 0:d.state)!=null?g:"prompt"};ba(o,"change",c);const h=Kre(async()=>{if(i.value){if(!o.value)try{o.value=await r.permissions.query(s)}catch{o.value=void 0}finally{c()}if(n)return Un(o.value)}});return h(),n?{state:a,isSupported:i,query:h}:a}function iie(e={}){const{navigator:t=O7,read:n=!1,source:r,copiedDuring:i=1500,legacy:o=!1}=e,s=h2(()=>t&&"clipboard"in t),a=B$("clipboard-read"),c=B$("clipboard-write"),h=ge(()=>s.value||o),d=Ot(""),g=Ot(!1),y=eie(()=>g.value=!1,i);function v(){s.value&&A(a.value)?t.clipboard.readText().then(k=>{d.value=k}):d.value=I()}h.value&&n&&ba(["copy","cut"],v);async function x(k=Vs(r)){h.value&&k!=null&&(s.value&&A(c.value)?await t.clipboard.writeText(k):C(k),d.value=k,g.value=!0,y.start())}function C(k){const R=document.createElement("textarea");R.value=k??"",R.style.position="absolute",R.style.opacity="0",document.body.appendChild(R),R.select(),document.execCommand("copy"),R.remove()}function I(){var k,R,z;return(z=(R=(k=document==null?void 0:document.getSelection)==null?void 0:k.call(document))==null?void 0:R.toString())!=null?z:""}function A(k){return k==="granted"||k==="prompt"}return{isSupported:h,text:d,copied:g,copy:x}}const H1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},U1="__vueuse_ssr_handlers__",oie=aie();function aie(){return U1 in H1||(H1[U1]=H1[U1]||{}),H1[U1]}function sie(e,t){return oie[e]||t}function lie(e){return jD("(prefers-color-scheme: dark)",e)}function uie(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const cie={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},F$="vueuse-storage";function HD(e,t,n,r={}){var i;const{flush:o="pre",deep:s=!0,listenToStorageChanges:a=!0,writeDefaults:c=!0,mergeDefaults:h=!1,shallow:d,window:g=Sh,eventFilter:y,onError:v=K=>{console.error(K)},initOnMounted:x}=r,C=(d?Et:Ot)(typeof t=="function"?t():t);if(!n)try{n=sie("getDefaultStorage",()=>{var K;return(K=Sh)==null?void 0:K.localStorage})()}catch(K){v(K)}if(!n)return C;const I=Vs(t),A=uie(I),k=(i=r.serializer)!=null?i:cie[A],{pause:R,resume:z}=Qre(C,()=>U(C.value),{flush:o,deep:s,eventFilter:y});g&&a&&VD(()=>{n instanceof Storage?ba(g,"storage",W):ba(g,F$,X),x&&W()}),x||W();function V(K,te){if(g){const ae={key:e,oldValue:K,newValue:te,storageArea:n};g.dispatchEvent(n instanceof Storage?new StorageEvent("storage",ae):new CustomEvent(F$,{detail:ae}))}}function U(K){try{const te=n.getItem(e);if(K==null)V(te,null),n.removeItem(e);else{const ae=k.write(K);te!==ae&&(n.setItem(e,ae),V(te,ae))}}catch(te){v(te)}}function N(K){const te=K?K.newValue:n.getItem(e);if(te==null)return c&&I!=null&&n.setItem(e,k.write(I)),I;if(!K&&h){const ae=k.read(te);return typeof h=="function"?h(ae,I):A==="object"&&!Array.isArray(ae)?{...I,...ae}:ae}else return typeof te!="string"?te:k.read(te)}function W(K){if(!(K&&K.storageArea!==n)){if(K&&K.key==null){C.value=I;return}if(!(K&&K.key!==e)){R();try{(K==null?void 0:K.newValue)!==k.write(C.value)&&(C.value=N(K))}catch(te){v(te)}finally{K?wi(z):z()}}}}function X(K){W(K.detail)}return C}function hie(e,t,n={}){const{window:r=Sh,...i}=n;let o;const s=h2(()=>r&&"ResizeObserver"in r),a=()=>{o&&(o.disconnect(),o=void 0)},c=ge(()=>{const g=Vs(e);return Array.isArray(g)?g.map(y=>sf(y)):[sf(g)]}),h=qt(c,g=>{if(a(),s.value&&r){o=new ResizeObserver(t);for(const y of g)y&&o.observe(y,i)}},{immediate:!0,flush:"post"}),d=()=>{a(),h()};return c2(d),{isSupported:s,stop:d}}function die(e,t={width:0,height:0},n={}){const{window:r=Sh,box:i="content-box"}=n,o=ge(()=>{var g,y;return(y=(g=sf(e))==null?void 0:g.namespaceURI)==null?void 0:y.includes("svg")}),s=Ot(t.width),a=Ot(t.height),{stop:c}=hie(e,([g])=>{const y=i==="border-box"?g.borderBoxSize:i==="content-box"?g.contentBoxSize:g.devicePixelContentBoxSize;if(r&&o.value){const v=sf(e);if(v){const x=v.getBoundingClientRect();s.value=x.width,a.value=x.height}}else if(y){const v=Array.isArray(y)?y:[y];s.value=v.reduce((x,{inlineSize:C})=>x+C,0),a.value=v.reduce((x,{blockSize:C})=>x+C,0)}else s.value=g.contentRect.width,a.value=g.contentRect.height},n);VD(()=>{const g=sf(e);g&&(s.value="offsetWidth"in g?g.offsetWidth:t.width,a.value="offsetHeight"in g?g.offsetHeight:t.height)});const h=qt(()=>sf(e),g=>{s.value=g?t.width:0,a.value=g?t.height:0});function d(){c(),h()}return{width:s,height:a,stop:d}}function fie(e={}){const{window:t=Sh,behavior:n="auto"}=e;if(!t)return{x:Ot(0),y:Ot(0)};const r=Ot(t.scrollX),i=Ot(t.scrollY),o=ge({get(){return r.value},set(a){scrollTo({left:a,behavior:n})}}),s=ge({get(){return i.value},set(a){scrollTo({top:a,behavior:n})}});return ba(t,"scroll",()=>{r.value=t.scrollX,i.value=t.scrollY},{capture:!1,passive:!0}),{x:o,y:s}}function pie(e={}){const{window:t=Sh,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:r=Number.POSITIVE_INFINITY,listenOrientation:i=!0,includeScrollbar:o=!0,type:s="inner"}=e,a=Ot(n),c=Ot(r),h=()=>{if(t)if(s==="outer")a.value=t.outerWidth,c.value=t.outerHeight;else if(s==="visual"&&t.visualViewport){const{width:d,height:g,scale:y}=t.visualViewport;a.value=Math.round(d*y),c.value=Math.round(g*y)}else o?(a.value=t.innerWidth,c.value=t.innerHeight):(a.value=t.document.documentElement.clientWidth,c.value=t.document.documentElement.clientHeight)};if(h(),VD(h),ba("resize",h,{passive:!0}),t&&s==="visual"&&t.visualViewport&&ba(t.visualViewport,"resize",h,{passive:!0}),i){const d=jD("(orientation: portrait)");qt(d,()=>h())}return{width:a,height:c}}const N$=async(e,t)=>{const{path:n,query:r}=e.currentRoute.value,{scrollBehavior:i}=e.options;e.options.scrollBehavior=void 0,await e.replace({path:n,query:r,hash:t}),e.options.scrollBehavior=i},mie=({headerLinkSelector:e,headerAnchorSelector:t,delay:n,offset:r=5})=>{const i=kh();ba("scroll",Yre(()=>{var x,C;const s=Math.max(window.scrollY,document.documentElement.scrollTop,document.body.scrollTop);if(Math.abs(s-0)<r){N$(i,"");return}const c=window.innerHeight+s,h=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),d=Math.abs(h-c)<r,g=Array.from(document.querySelectorAll(e)),v=Array.from(document.querySelectorAll(t)).filter(I=>g.some(A=>A.hash===I.hash));for(let I=0;I<v.length;I++){const A=v[I],k=v[I+1],R=s>=(((x=A.parentElement)==null?void 0:x.offsetTop)??0)-r,z=!k||s<(((C=k.parentElement)==null?void 0:C.offsetTop)??0)-r;if(!(R&&z))continue;const U=decodeURIComponent(i.currentRoute.value.hash),N=decodeURIComponent(A.hash);if(U===N)return;if(d){for(let W=I+1;W<v.length;W++)if(U===decodeURIComponent(v[W].hash))return}N$(i,N);return}},n))},gie="a.vp-sidebar-item",vie=".header-anchor",yie=300,_ie=5,bie=pl({setup(){mie({headerLinkSelector:gie,headerAnchorSelector:vie,delay:yie,offset:_ie})}}),xie=Object.freeze(Object.defineProperty({__proto__:null,default:bie},Symbol.toStringTag,{value:"Module"}));var es=Uint8Array,Tm=Uint16Array,wie=Int32Array,R7=new es([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),L7=new es([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Sie=new es([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$7=function(e,t){for(var n=new Tm(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new wie(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return{b:n,r:i}},z7=$7(R7,2),B7=z7.b,Cie=z7.r;B7[28]=258,Cie[258]=28;var Tie=$7(L7,0),Pie=Tie.b,XI=new Tm(32768);for(var hi=0;hi<32768;++hi){var Nc=(hi&43690)>>1|(hi&21845)<<1;Nc=(Nc&52428)>>2|(Nc&13107)<<2,Nc=(Nc&61680)>>4|(Nc&3855)<<4,XI[hi]=((Nc&65280)>>8|(Nc&255)<<8)>>1}var k_=function(e,t,n){for(var r=e.length,i=0,o=new Tm(t);i<r;++i)e[i]&&++o[e[i]-1];var s=new Tm(t);for(i=1;i<t;++i)s[i]=s[i-1]+o[i-1]<<1;var a;if(n){a=new Tm(1<<t);var c=15-t;for(i=0;i<r;++i)if(e[i])for(var h=i<<4|e[i],d=t-e[i],g=s[e[i]-1]++<<d,y=g|(1<<d)-1;g<=y;++g)a[XI[g]>>c]=h}else for(a=new Tm(r),i=0;i<r;++i)e[i]&&(a[i]=XI[s[e[i]-1]++]>>15-e[i]);return a},ob=new es(288);for(var hi=0;hi<144;++hi)ob[hi]=8;for(var hi=144;hi<256;++hi)ob[hi]=9;for(var hi=256;hi<280;++hi)ob[hi]=7;for(var hi=280;hi<288;++hi)ob[hi]=8;var F7=new es(32);for(var hi=0;hi<32;++hi)F7[hi]=5;var Eie=k_(ob,9,1),Iie=k_(F7,5,1),oP=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Ys=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},aP=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},Mie=function(e){return(e+7)/8|0},Aie=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new es(e.subarray(t,n))},Die=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Qa=function(e,t,n){var r=new Error(t||Die[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,Qa),!n)throw r;return r},UD=function(e,t,n,r){var i=e.length,o=0;if(!i||t.f&&!t.l)return n||new es(0);var s=!n,a=s||t.i!=2,c=t.i;s&&(n=new es(i*3));var h=function(Le){var Ye=n.length;if(Le>Ye){var pe=new es(Math.max(Ye*2,Le));pe.set(n),n=pe}},d=t.f||0,g=t.p||0,y=t.b||0,v=t.l,x=t.d,C=t.m,I=t.n,A=i*8;do{if(!v){d=Ys(e,g,1);var k=Ys(e,g+1,3);if(g+=3,k)if(k==1)v=Eie,x=Iie,C=9,I=5;else if(k==2){var U=Ys(e,g,31)+257,N=Ys(e,g+10,15)+4,W=U+Ys(e,g+5,31)+1;g+=14;for(var X=new es(W),K=new es(19),te=0;te<N;++te)K[Sie[te]]=Ys(e,g+te*3,7);g+=N*3;for(var ae=oP(K),me=(1<<ae)-1,we=k_(K,ae,1),te=0;te<W;){var se=we[Ys(e,g,me)];g+=se&15;var R=se>>4;if(R<16)X[te++]=R;else{var ue=0,Te=0;for(R==16?(Te=3+Ys(e,g,3),g+=2,ue=X[te-1]):R==17?(Te=3+Ys(e,g,7),g+=3):R==18&&(Te=11+Ys(e,g,127),g+=7);Te--;)X[te++]=ue}}var Be=X.subarray(0,U),ke=X.subarray(U);C=oP(Be),I=oP(ke),v=k_(Be,C,1),x=k_(ke,I,1)}else Qa(1);else{var R=Mie(g)+4,z=e[R-4]|e[R-3]<<8,V=R+z;if(V>i){c&&Qa(0);break}a&&h(y+z),n.set(e.subarray(R,V),y),t.b=y+=z,t.p=g=V*8,t.f=d;continue}if(g>A){c&&Qa(0);break}}a&&h(y+131072);for(var rt=(1<<C)-1,ot=(1<<I)-1,tt=g;;tt=g){var ue=v[aP(e,g)&rt],It=ue>>4;if(g+=ue&15,g>A){c&&Qa(0);break}if(ue||Qa(2),It<256)n[y++]=It;else if(It==256){tt=g,v=null;break}else{var Bt=It-254;if(It>264){var te=It-257,Lt=R7[te];Bt=Ys(e,g,(1<<Lt)-1)+B7[te],g+=Lt}var Yt=x[aP(e,g)&ot],ze=Yt>>4;Yt||Qa(3),g+=Yt&15;var ke=Pie[ze];if(ze>3){var Lt=L7[ze];ke+=aP(e,g)&(1<<Lt)-1,g+=Lt}if(g>A){c&&Qa(0);break}a&&h(y+131072);var ut=y+Bt;if(y<ke){var Re=o-ke,Ve=Math.min(ke,ut);for(Re+y<0&&Qa(3);y<Ve;++y)n[y]=r[Re+y]}for(;y<ut;++y)n[y]=n[y-ke]}}t.l=v,t.p=tt,t.b=y,t.f=d,v&&(d=1,t.m=C,t.d=x,t.n=I)}while(!d);return y!=n.length&&s?Aie(n,0,y):n.subarray(0,y)},kie=new es(0),Oie=function(e){(e[0]!=31||e[1]!=139||e[2]!=8)&&Qa(6,"invalid gzip data");var t=e[3],n=10;t&4&&(n+=(e[10]|e[11]<<8)+2);for(var r=(t>>3&1)+(t>>4&1);r>0;r-=!e[n++]);return n+(t&2)},Rie=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0},Lie=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Qa(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Qa(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function $ie(e,t){return UD(e,{i:2},t,t)}function zie(e,t){var n=Oie(e);return n+8>e.length&&Qa(6,"invalid gzip data"),UD(e.subarray(n,-8),{i:2},new es(Rie(e)),t)}function Bie(e,t){return UD(e.subarray(Lie(e,t),-4),{i:2},t,t)}function Fie(e,t){return e[0]==31&&e[1]==139&&e[2]==8?zie(e,t):(e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31?$ie(e,t):Bie(e,t)}var Nie=typeof TextDecoder<"u"&&new TextDecoder,Vie=0;try{Nie.decode(kie,{stream:!0}),Vie=1}catch{}const jie=(e,t=2)=>{if(t===!1)return[];const[n,r]=typeof t=="number"?[t,t]:t==="deep"?[2,6]:t,i=e.filter(s=>s.level>=n&&s.level<=r),o=[];e:for(let s=0;s<i.length;s++){const a=i[s];if(s===0)o.push(a);else{for(let c=s-1;c>=0;c--){const h=i[c];if(h.level<a.level){(h.children??(h.children=[])).push(a);continue e}}o.push(a)}}return o},Hie=(e,t=[])=>{let n;if(t.length){const r=e.cloneNode(!0);r.querySelectorAll(t.join(",")).forEach(i=>{i.remove()}),n=r.textContent||""}else n=e.textContent||"";return n.trim()},Uie=({selector:e=[...new Array(6)].map((r,i)=>`[vp-content] h${i+1}`).join(","),levels:t=2,ignore:n=[]}={})=>{const r=Array.from(document.querySelectorAll(e)).filter(i=>i.id&&i.hasChildNodes()).map(i=>{const o=Number(i.tagName[1]);return{element:i,title:Hie(i,n),link:`#${i.id}`,slug:i.id,level:o}});return jie(r,t)},N7=(e,t)=>{var r;const n=(r=Ao())==null?void 0:r.appContext.components;return n?e in n||ka(e)in n||Y0(ka(e))in n:!1},V7=e=>new Promise(t=>{setTimeout(t,e)}),GD=e=>{const t=Hf();return ge(()=>e[t.value]??{})},Gie=()=>{const e=Bre();return ge(()=>Object.keys(e.value))},Wie=e=>typeof e<"u",j7=(e,t)=>al(e)&&e.startsWith(t),{keys:Zie}=Object,H7=e=>j7(e,"/");var qie={"/":{backToTop:"返回顶部"}};const Kie=Pt({name:"BackToTop",setup(){const e=fl(),t=GD(qie),n=Et(),{height:r}=die(n),{height:i}=pie(),{y:o}=fie(),s=ge(()=>e.value.backToTop!==!1&&o.value>100),a=ge(()=>o.value/(r.value-i.value)*100);return Nn(()=>{n.value=document.body}),()=>Cn(us,{name:"back-to-top"},()=>s.value?Cn("button",{type:"button",class:"vp-back-to-top-button","aria-label":t.value.backToTop,onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})}},[Cn("span",{class:"vp-scroll-progress",role:"progressbar","aria-labelledby":"loadinglabel","aria-valuenow":a.value},Cn("svg",Cn("circle",{cx:"26",cy:"26",r:"24",fill:"none",stroke:"currentColor","stroke-width":"4","stroke-dasharray":`${Math.PI*a.value*.48} ${Math.PI*(100-a.value)*.48}`}))),Cn("div",{class:"back-to-top-icon"})]):null)}}),Xie=pl({rootComponents:[Kie]}),Yie=Object.freeze(Object.defineProperty({__proto__:null,default:Xie},Symbol.toStringTag,{value:"Module"})),Jie=/language-(shellscript|shell|bash|sh|zsh)/,Qie=({delay:e=500,duration:t=2e3,locales:n,selector:r,showInMobile:i,ignoreSelector:o=[],transform:s})=>{const a=jD("(max-width: 419px)"),c=ge(()=>!a.value||i),h=GD(n),d=jf(),g=I=>{var k;if(I.hasAttribute("copy-code"))return;const A=document.createElement("button");A.type="button",A.classList.add("vp-copy-code-button"),A.setAttribute("aria-label",h.value.copy),A.setAttribute("data-copied",h.value.copied),(k=I.parentElement)==null||k.insertBefore(A,I),I.setAttribute("copy-code","")};k7(()=>[d.value.path,c.value],async()=>{document.body.classList.toggle("no-copy-code",!c.value),c.value&&(await wi(),await V7(e),document.querySelectorAll(r.join(",")).forEach(g))});const{copy:v}=iie({legacy:!0}),x=new WeakMap,C=async(I,A,k)=>{const R=A.cloneNode(!0);o.length&&R.querySelectorAll(o.join(",")).forEach(U=>{U.remove()}),s&&s(R);let z=R.textContent||"";if(Jie.test(I.className)&&(z=z.replace(/^ *(\$|>) /gm,"")),await v(z),t<=0)return;k.classList.add("copied"),clearTimeout(x.get(k));const V=setTimeout(()=>{k.classList.remove("copied"),k.blur(),x.delete(k)},t);x.set(k,V)};ba("click",I=>{const A=I.target;if(c.value&&A.matches('div[class*="language-"] > button.vp-copy-code-button')){const k=A.parentElement,R=A.nextElementSibling;if(!k||!R)return;C(k,R,A)}})};var eoe=[],toe={"/":{copy:"复制代码",copied:"已复制"}},noe=['[vp-content] div[class*="language-"] pre'];const roe=pl({setup:()=>{Qie({selector:noe,ignoreSelector:eoe,locales:toe,duration:2e3,delay:500,showInMobile:!1})}}),ioe=Object.freeze(Object.defineProperty({__proto__:null,default:roe},Symbol.toStringTag,{value:"Module"})),ooe=pl({setup(){ba("beforeprint",()=>{document.querySelectorAll("details").forEach(e=>{e.open=!0})})}}),aoe=Object.freeze(Object.defineProperty({__proto__:null,default:ooe},Symbol.toStringTag,{value:"Module"}));/*! medium-zoom 1.1.0 | MIT License | https://github.com/francoischalifour/medium-zoom */var Yd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G1=function(t){return t.tagName==="IMG"},soe=function(t){return NodeList.prototype.isPrototypeOf(t)},iw=function(t){return t&&t.nodeType===1},V$=function(t){var n=t.currentSrc||t.src;return n.substr(-4).toLowerCase()===".svg"},j$=function(t){try{return Array.isArray(t)?t.filter(G1):soe(t)?[].slice.call(t).filter(G1):iw(t)?[t].filter(G1):typeof t=="string"?[].slice.call(document.querySelectorAll(t)).filter(G1):[]}catch{throw new TypeError(`The provided selector is invalid.
Expects a CSS selector, a Node element, a NodeList or an array.
See: https://github.com/francoischalifour/medium-zoom`)}},loe=function(t){var n=document.createElement("div");return n.classList.add("medium-zoom-overlay"),n.style.background=t,n},uoe=function(t){var n=t.getBoundingClientRect(),r=n.top,i=n.left,o=n.width,s=n.height,a=t.cloneNode(),c=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,h=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return a.removeAttribute("id"),a.style.position="absolute",a.style.top=r+c+"px",a.style.left=i+h+"px",a.style.width=o+"px",a.style.height=s+"px",a.style.transform="",a},Kp=function(t,n){var r=Yd({bubbles:!1,cancelable:!1,detail:void 0},n);if(typeof window.CustomEvent=="function")return new CustomEvent(t,r);var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,r.bubbles,r.cancelable,r.detail),i},coe=function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=window.Promise||function(ae){function me(){}ae(me,me)},i=function(ae){var me=ae.target;if(me===X){x();return}R.indexOf(me)!==-1&&C({target:me})},o=function(){if(!(V||!W.original)){var ae=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(U-ae)>N.scrollOffset&&setTimeout(x,150)}},s=function(ae){var me=ae.key||ae.keyCode;(me==="Escape"||me==="Esc"||me===27)&&x()},a=function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},me=ae;if(ae.background&&(X.style.background=ae.background),ae.container&&ae.container instanceof Object&&(me.container=Yd({},N.container,ae.container)),ae.template){var we=iw(ae.template)?ae.template:document.querySelector(ae.template);me.template=we}return N=Yd({},N,me),R.forEach(function(se){se.dispatchEvent(Kp("medium-zoom:update",{detail:{zoom:K}}))}),K},c=function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e(Yd({},N,ae))},h=function(){for(var ae=arguments.length,me=Array(ae),we=0;we<ae;we++)me[we]=arguments[we];var se=me.reduce(function(ue,Te){return[].concat(ue,j$(Te))},[]);return se.filter(function(ue){return R.indexOf(ue)===-1}).forEach(function(ue){R.push(ue),ue.classList.add("medium-zoom-image")}),z.forEach(function(ue){var Te=ue.type,Be=ue.listener,ke=ue.options;se.forEach(function(rt){rt.addEventListener(Te,Be,ke)})}),K},d=function(){for(var ae=arguments.length,me=Array(ae),we=0;we<ae;we++)me[we]=arguments[we];W.zoomed&&x();var se=me.length>0?me.reduce(function(ue,Te){return[].concat(ue,j$(Te))},[]):R;return se.forEach(function(ue){ue.classList.remove("medium-zoom-image"),ue.dispatchEvent(Kp("medium-zoom:detach",{detail:{zoom:K}}))}),R=R.filter(function(ue){return se.indexOf(ue)===-1}),K},g=function(ae,me){var we=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return R.forEach(function(se){se.addEventListener("medium-zoom:"+ae,me,we)}),z.push({type:"medium-zoom:"+ae,listener:me,options:we}),K},y=function(ae,me){var we=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return R.forEach(function(se){se.removeEventListener("medium-zoom:"+ae,me,we)}),z=z.filter(function(se){return!(se.type==="medium-zoom:"+ae&&se.listener.toString()===me.toString())}),K},v=function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},me=ae.target,we=function(){var ue={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},Te=void 0,Be=void 0;if(N.container)if(N.container instanceof Object)ue=Yd({},ue,N.container),Te=ue.width-ue.left-ue.right-N.margin*2,Be=ue.height-ue.top-ue.bottom-N.margin*2;else{var ke=iw(N.container)?N.container:document.querySelector(N.container),rt=ke.getBoundingClientRect(),ot=rt.width,tt=rt.height,It=rt.left,Bt=rt.top;ue=Yd({},ue,{width:ot,height:tt,left:It,top:Bt})}Te=Te||ue.width-N.margin*2,Be=Be||ue.height-N.margin*2;var Lt=W.zoomedHd||W.original,Yt=V$(Lt)?Te:Lt.naturalWidth||Te,ze=V$(Lt)?Be:Lt.naturalHeight||Be,ut=Lt.getBoundingClientRect(),Re=ut.top,Ve=ut.left,Le=ut.width,Ye=ut.height,pe=Math.min(Math.max(Le,Yt),Te)/Le,ye=Math.min(Math.max(Ye,ze),Be)/Ye,Ze=Math.min(pe,ye),ht=(-Ve+(Te-Le)/2+N.margin+ue.left)/Ze,st=(-Re+(Be-Ye)/2+N.margin+ue.top)/Ze,Xe="scale("+Ze+") translate3d("+ht+"px, "+st+"px, 0)";W.zoomed.style.transform=Xe,W.zoomedHd&&(W.zoomedHd.style.transform=Xe)};return new r(function(se){if(me&&R.indexOf(me)===-1){se(K);return}var ue=function ot(){V=!1,W.zoomed.removeEventListener("transitionend",ot),W.original.dispatchEvent(Kp("medium-zoom:opened",{detail:{zoom:K}})),se(K)};if(W.zoomed){se(K);return}if(me)W.original=me;else if(R.length>0){var Te=R;W.original=Te[0]}else{se(K);return}if(W.original.dispatchEvent(Kp("medium-zoom:open",{detail:{zoom:K}})),U=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,V=!0,W.zoomed=uoe(W.original),document.body.appendChild(X),N.template){var Be=iw(N.template)?N.template:document.querySelector(N.template);W.template=document.createElement("div"),W.template.appendChild(Be.content.cloneNode(!0)),document.body.appendChild(W.template)}if(W.original.parentElement&&W.original.parentElement.tagName==="PICTURE"&&W.original.currentSrc&&(W.zoomed.src=W.original.currentSrc),document.body.appendChild(W.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),W.original.classList.add("medium-zoom-image--hidden"),W.zoomed.classList.add("medium-zoom-image--opened"),W.zoomed.addEventListener("click",x),W.zoomed.addEventListener("transitionend",ue),W.original.getAttribute("data-zoom-src")){W.zoomedHd=W.zoomed.cloneNode(),W.zoomedHd.removeAttribute("srcset"),W.zoomedHd.removeAttribute("sizes"),W.zoomedHd.removeAttribute("loading"),W.zoomedHd.src=W.zoomed.getAttribute("data-zoom-src"),W.zoomedHd.onerror=function(){clearInterval(ke),console.warn("Unable to reach the zoom image target "+W.zoomedHd.src),W.zoomedHd=null,we()};var ke=setInterval(function(){W.zoomedHd.complete&&(clearInterval(ke),W.zoomedHd.classList.add("medium-zoom-image--opened"),W.zoomedHd.addEventListener("click",x),document.body.appendChild(W.zoomedHd),we())},10)}else if(W.original.hasAttribute("srcset")){W.zoomedHd=W.zoomed.cloneNode(),W.zoomedHd.removeAttribute("sizes"),W.zoomedHd.removeAttribute("loading");var rt=W.zoomedHd.addEventListener("load",function(){W.zoomedHd.removeEventListener("load",rt),W.zoomedHd.classList.add("medium-zoom-image--opened"),W.zoomedHd.addEventListener("click",x),document.body.appendChild(W.zoomedHd),we()})}else we()})},x=function(){return new r(function(ae){if(V||!W.original){ae(K);return}var me=function we(){W.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(W.zoomed),W.zoomedHd&&document.body.removeChild(W.zoomedHd),document.body.removeChild(X),W.zoomed.classList.remove("medium-zoom-image--opened"),W.template&&document.body.removeChild(W.template),V=!1,W.zoomed.removeEventListener("transitionend",we),W.original.dispatchEvent(Kp("medium-zoom:closed",{detail:{zoom:K}})),W.original=null,W.zoomed=null,W.zoomedHd=null,W.template=null,ae(K)};V=!0,document.body.classList.remove("medium-zoom--opened"),W.zoomed.style.transform="",W.zoomedHd&&(W.zoomedHd.style.transform=""),W.template&&(W.template.style.transition="opacity 150ms",W.template.style.opacity=0),W.original.dispatchEvent(Kp("medium-zoom:close",{detail:{zoom:K}})),W.zoomed.addEventListener("transitionend",me)})},C=function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},me=ae.target;return W.original?x():v({target:me})},I=function(){return N},A=function(){return R},k=function(){return W.original},R=[],z=[],V=!1,U=0,N=n,W={original:null,zoomed:null,zoomedHd:null,template:null};Object.prototype.toString.call(t)==="[object Object]"?N=t:(t||typeof t=="string")&&h(t),N=Yd({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},N);var X=loe(N.background);document.addEventListener("click",i),document.addEventListener("keyup",s),document.addEventListener("scroll",o),window.addEventListener("resize",x);var K={open:v,close:x,toggle:C,update:a,clone:c,attach:h,detach:d,on:g,off:y,getOptions:I,getImages:A,getZoomedImage:k};return K};function hoe(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var doe=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";hoe(doe);const foe=Symbol("mediumZoom");var poe={};const moe="[vp-content] > img, [vp-content] :not(a) > img",goe=poe,voe=300,yoe=pl({enhance({app:e,router:t}){const n=coe(goe);n.refresh=(r=moe)=>{n.detach(),n.attach(r)},e.provide(foe,n),t.afterEach(()=>{V7(voe).then(()=>{n.refresh()})})}}),_oe=Object.freeze(Object.defineProperty({__proto__:null,default:yoe},Symbol.toStringTag,{value:"Module"}));/**
 * NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT
 */const H$=(e,t)=>{e.classList.add(t)},U$=(e,t)=>{e.classList.remove(t)},boe=e=>{var t;(t=e==null?void 0:e.parentNode)==null||t.removeChild(e)},sP=(e,t,n)=>e<t?t:e>n?n:e,G$=e=>(-1+e)*100,xoe=(()=>{const e=[],t=()=>{const n=e.shift();n&&n(t)};return n=>{e.push(n),e.length===1&&t()}})(),woe=e=>e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(t,n)=>n.toUpperCase()),W1=(()=>{const e=["Webkit","O","Moz","ms"],t={},n=o=>{const{style:s}=document.body;if(o in s)return o;const a=o.charAt(0).toUpperCase()+o.slice(1);let c=e.length;for(;c--;){const h=`${e[c]}${a}`;if(h in s)return h}return o},r=o=>{const s=woe(o);return t[s]??(t[s]=n(s))},i=(o,s,a)=>{o.style[r(s)]=a};return(o,s)=>{for(const a in s){const c=s[a];Object.hasOwn(s,a)&&Wie(c)&&i(o,a,c)}}})(),ku={minimum:.08,easing:"ease",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,barSelector:'[role="bar"]',parent:"body",template:'<div class="bar" role="bar"></div>'},bi={percent:null,isRendered:()=>!!document.getElementById("nprogress"),set:e=>{const{speed:t,easing:n}=ku,r=bi.isStarted(),i=sP(e,ku.minimum,1);bi.percent=i===1?null:i;const o=bi.render(!r),s=o.querySelector(ku.barSelector);return o.offsetWidth,xoe(a=>{W1(s,{transform:`translate3d(${G$(i)}%,0,0)`,transition:`all ${t}ms ${n}`}),i===1?(W1(o,{transition:"none",opacity:"1"}),o.offsetWidth,setTimeout(()=>{W1(o,{transition:`all ${t}ms linear`,opacity:"0"}),setTimeout(()=>{bi.remove(),a()},t)},t)):setTimeout(()=>{a()},t)}),bi},isStarted:()=>typeof bi.percent=="number",start:()=>{bi.percent||bi.set(0);const e=()=>{setTimeout(()=>{bi.percent&&(bi.trickle(),e())},ku.trickleSpeed)};return e(),bi},done:e=>!e&&!bi.percent?bi:bi.increase(.3+.5*Math.random()).set(1),increase:e=>{let{percent:t}=bi;return t?(t=sP(t+(typeof e=="number"?e:(1-t)*sP(Math.random()*t,.1,.95)),0,.994),bi.set(t)):bi.start()},trickle:()=>bi.increase(Math.random()*ku.trickleRate),render:e=>{if(bi.isRendered())return document.getElementById("nprogress");H$(document.documentElement,"nprogress-busy");const t=document.createElement("div");t.id="nprogress",t.innerHTML=ku.template;const n=t.querySelector(ku.barSelector),r=document.querySelector(ku.parent),i=e?"-100":G$(bi.percent??0);return W1(n,{transition:"all 0 linear",transform:`translate3d(${i}%,0,0)`}),r&&(r!==document.body&&H$(r,"nprogress-custom-parent"),r.appendChild(t)),t},remove:()=>{U$(document.documentElement,"nprogress-busy"),U$(document.querySelector(ku.parent),"nprogress-custom-parent"),boe(document.getElementById("nprogress"))}},Soe=()=>{Nn(()=>{const e=kh(),t=new Set;t.add(e.currentRoute.value.path),e.beforeEach(n=>{t.has(n.path)||bi.start()}),e.afterEach(n=>{t.add(n.path),bi.done()})})},Coe=pl({setup(){Soe()}}),Toe=Object.freeze(Object.defineProperty({__proto__:null,default:Coe},Symbol.toStringTag,{value:"Module"})),Poe=({selector:e='div[class*="language-"].has-collapsed-lines > .collapsed-lines'}={})=>{ba("click",t=>{const n=t.target;if(n.matches(e)){const r=n.parentElement;r!=null&&r.classList.toggle("collapsed")&&r.scrollIntoView({block:"center",behavior:"instant"})}})},Eoe={setup(){Poe()}},Ioe=Object.freeze(Object.defineProperty({__proto__:null,default:Eoe},Symbol.toStringTag,{value:"Module"})),Moe="VUEPRESS_CODE_TAB_STORE",Z1=HD(Moe,{}),Aoe=Pt({name:"CodeTabs",props:{active:{type:Number,default:0},data:{type:Array,required:!0},id:{type:String,required:!0},tabId:{type:String,default:""}},slots:Object,setup(e,{slots:t}){const n=Ot(e.active),r=Et([]),i=()=>{e.tabId&&(Z1.value[e.tabId]=e.data[n.value].id)},o=(h=n.value)=>{n.value=h<r.value.length-1?h+1:0,r.value[n.value].focus()},s=(h=n.value)=>{n.value=h>0?h-1:r.value.length-1,r.value[n.value].focus()},a=(h,d)=>{h.key===" "||h.key==="Enter"?(h.preventDefault(),n.value=d):h.key==="ArrowRight"?(h.preventDefault(),o()):h.key==="ArrowLeft"&&(h.preventDefault(),s()),e.tabId&&(Z1.value[e.tabId]=e.data[n.value].id)},c=()=>{if(e.tabId){const h=e.data.findIndex(({id:d})=>Z1.value[e.tabId]===d);if(h!==-1)return h}return e.active};return Nn(()=>{n.value=c(),qt(()=>Z1.value[e.tabId],(h,d)=>{if(e.tabId&&h!==d){const g=e.data.findIndex(({id:y})=>y===h);g!==-1&&(n.value=g)}})}),()=>e.data.length?Cn("div",{class:"vp-code-tabs"},[Cn("div",{class:"vp-code-tabs-nav",role:"tablist"},e.data.map(({id:h},d)=>{const g=d===n.value;return Cn("button",{type:"button",ref:y=>{y&&(r.value[d]=y)},class:["vp-code-tab-nav",{active:g}],role:"tab","aria-controls":`codetab-${e.id}-${d}`,"aria-selected":g,onClick:()=>{n.value=d,i()},onKeydown:y=>{a(y,d)}},t[`title${d}`]({value:h,isActive:g}))})),e.data.map(({id:h},d)=>{const g=d===n.value;return Cn("div",{class:["vp-code-tab",{active:g}],id:`codetab-${e.id}-${d}`,role:"tabpanel","aria-expanded":g},[Cn("div",{class:"vp-code-tab-title"},t[`title${d}`]({value:h,isActive:g})),t[`tab${d}`]({value:h,isActive:g})])})]):null}}),Doe="VUEPRESS_TAB_STORE",lP=HD(Doe,{}),koe=Pt({name:"Tabs",props:{active:{type:Number,default:0},data:{type:Array,required:!0},id:{type:String,required:!0},tabId:{type:String,default:""}},slots:Object,setup(e,{slots:t}){const n=Ot(e.active),r=Et([]),i=()=>{e.tabId&&(lP.value[e.tabId]=e.data[n.value].id)},o=(h=n.value)=>{n.value=h<r.value.length-1?h+1:0,r.value[n.value].focus()},s=(h=n.value)=>{n.value=h>0?h-1:r.value.length-1,r.value[n.value].focus()},a=(h,d)=>{h.key===" "||h.key==="Enter"?(h.preventDefault(),n.value=d):h.key==="ArrowRight"?(h.preventDefault(),o()):h.key==="ArrowLeft"&&(h.preventDefault(),s()),i()},c=()=>{if(e.tabId){const h=e.data.findIndex(({id:d})=>lP.value[e.tabId]===d);if(h!==-1)return h}return e.active};return Nn(()=>{n.value=c(),qt(()=>lP.value[e.tabId],(h,d)=>{if(e.tabId&&h!==d){const g=e.data.findIndex(({id:y})=>y===h);g!==-1&&(n.value=g)}})}),()=>e.data.length?Cn("div",{class:"vp-tabs"},[Cn("div",{class:"vp-tabs-nav",role:"tablist"},e.data.map(({id:h},d)=>{const g=d===n.value;return Cn("button",{type:"button",ref:y=>{y&&(r.value[d]=y)},class:["vp-tab-nav",{active:g}],role:"tab","aria-controls":`tab-${e.id}-${d}`,"aria-selected":g,onClick:()=>{n.value=d,i()},onKeydown:y=>{a(y,d)}},t[`title${d}`]({value:h,isActive:g}))})),e.data.map(({id:h},d)=>{const g=d===n.value;return Cn("div",{class:["vp-tab",{active:g}],id:`tab-${e.id}-${d}`,role:"tabpanel","aria-expanded":g},[Cn("div",{class:"vp-tab-title"},t[`title${d}`]({value:h,isActive:g})),t[`tab${d}`]({value:h,isActive:g})])})]):null}}),Ooe={enhance:({app:e})=>{e.component("CodeTabs",Aoe),e.component("Tabs",koe)}},Roe=Object.freeze(Object.defineProperty({__proto__:null,default:Ooe},Symbol.toStringTag,{value:"Module"}));var Loe=Object.create,U7=Object.defineProperty,$oe=Object.getOwnPropertyDescriptor,WD=Object.getOwnPropertyNames,zoe=Object.getPrototypeOf,Boe=Object.prototype.hasOwnProperty,Foe=(e,t)=>function(){return e&&(t=(0,e[WD(e)[0]])(e=0)),t},Noe=(e,t)=>function(){return t||(0,e[WD(e)[0]])((t={exports:{}}).exports,t),t.exports},Voe=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of WD(t))!Boe.call(e,i)&&i!==n&&U7(e,i,{get:()=>t[i],enumerable:!(r=$oe(t,i))||r.enumerable});return e},joe=(e,t,n)=>(n=e!=null?Loe(zoe(e)):{},Voe(U7(n,"default",{value:e,enumerable:!0}),e)),ab=Foe({"../../node_modules/.pnpm/tsup@8.3.5_@microsoft+api-extractor@7.48.0_@types+node@22.10.1__@swc+core@1.5.29_jiti@2.0.0_p_swvvp2d4pgn6xuiiec4l4x2i7a/node_modules/tsup/assets/esm_shims.js"(){}}),Hoe=Noe({"../../node_modules/.pnpm/rfdc@1.4.1/node_modules/rfdc/index.js"(e,t){ab(),t.exports=r;function n(o){return o instanceof Buffer?Buffer.from(o):new o.constructor(o.buffer.slice(),o.byteOffset,o.length)}function r(o){if(o=o||{},o.circles)return i(o);const s=new Map;if(s.set(Date,g=>new Date(g)),s.set(Map,(g,y)=>new Map(c(Array.from(g),y))),s.set(Set,(g,y)=>new Set(c(Array.from(g),y))),o.constructorHandlers)for(const g of o.constructorHandlers)s.set(g[0],g[1]);let a=null;return o.proto?d:h;function c(g,y){const v=Object.keys(g),x=new Array(v.length);for(let C=0;C<v.length;C++){const I=v[C],A=g[I];typeof A!="object"||A===null?x[I]=A:A.constructor!==Object&&(a=s.get(A.constructor))?x[I]=a(A,y):ArrayBuffer.isView(A)?x[I]=n(A):x[I]=y(A)}return x}function h(g){if(typeof g!="object"||g===null)return g;if(Array.isArray(g))return c(g,h);if(g.constructor!==Object&&(a=s.get(g.constructor)))return a(g,h);const y={};for(const v in g){if(Object.hasOwnProperty.call(g,v)===!1)continue;const x=g[v];typeof x!="object"||x===null?y[v]=x:x.constructor!==Object&&(a=s.get(x.constructor))?y[v]=a(x,h):ArrayBuffer.isView(x)?y[v]=n(x):y[v]=h(x)}return y}function d(g){if(typeof g!="object"||g===null)return g;if(Array.isArray(g))return c(g,d);if(g.constructor!==Object&&(a=s.get(g.constructor)))return a(g,d);const y={};for(const v in g){const x=g[v];typeof x!="object"||x===null?y[v]=x:x.constructor!==Object&&(a=s.get(x.constructor))?y[v]=a(x,d):ArrayBuffer.isView(x)?y[v]=n(x):y[v]=d(x)}return y}}function i(o){const s=[],a=[],c=new Map;if(c.set(Date,v=>new Date(v)),c.set(Map,(v,x)=>new Map(d(Array.from(v),x))),c.set(Set,(v,x)=>new Set(d(Array.from(v),x))),o.constructorHandlers)for(const v of o.constructorHandlers)c.set(v[0],v[1]);let h=null;return o.proto?y:g;function d(v,x){const C=Object.keys(v),I=new Array(C.length);for(let A=0;A<C.length;A++){const k=C[A],R=v[k];if(typeof R!="object"||R===null)I[k]=R;else if(R.constructor!==Object&&(h=c.get(R.constructor)))I[k]=h(R,x);else if(ArrayBuffer.isView(R))I[k]=n(R);else{const z=s.indexOf(R);z!==-1?I[k]=a[z]:I[k]=x(R)}}return I}function g(v){if(typeof v!="object"||v===null)return v;if(Array.isArray(v))return d(v,g);if(v.constructor!==Object&&(h=c.get(v.constructor)))return h(v,g);const x={};s.push(v),a.push(x);for(const C in v){if(Object.hasOwnProperty.call(v,C)===!1)continue;const I=v[C];if(typeof I!="object"||I===null)x[C]=I;else if(I.constructor!==Object&&(h=c.get(I.constructor)))x[C]=h(I,g);else if(ArrayBuffer.isView(I))x[C]=n(I);else{const A=s.indexOf(I);A!==-1?x[C]=a[A]:x[C]=g(I)}}return s.pop(),a.pop(),x}function y(v){if(typeof v!="object"||v===null)return v;if(Array.isArray(v))return d(v,y);if(v.constructor!==Object&&(h=c.get(v.constructor)))return h(v,y);const x={};s.push(v),a.push(x);for(const C in v){const I=v[C];if(typeof I!="object"||I===null)x[C]=I;else if(I.constructor!==Object&&(h=c.get(I.constructor)))x[C]=h(I,y);else if(ArrayBuffer.isView(I))x[C]=n(I);else{const A=s.indexOf(I);A!==-1?x[C]=a[A]:x[C]=y(I)}}return s.pop(),a.pop(),x}}}});ab();ab();ab();var G7=typeof navigator<"u",hn=typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof global<"u"?global:{};typeof hn.chrome<"u"&&hn.chrome.devtools;G7&&(hn.self,hn.top);var W$;typeof navigator<"u"&&((W$=navigator.userAgent)==null||W$.toLowerCase().includes("electron"));ab();var Uoe=joe(Hoe()),Goe=/(?:^|[-_/])(\w)/g;function Woe(e,t){return t?t.toUpperCase():""}function Zoe(e){return e&&`${e}`.replace(Goe,Woe)}function qoe(e,t){let n=e.replace(/^[a-z]:/i,"").replace(/\\/g,"/");n.endsWith(`index${t}`)&&(n=n.replace(`/index${t}`,t));const r=n.lastIndexOf("/"),i=n.substring(r+1);{const o=i.lastIndexOf(t);return i.substring(0,o)}}var Z$=(0,Uoe.default)({circles:!0});const Koe={trailing:!0};function cg(e,t=25,n={}){if(n={...Koe,...n},!Number.isFinite(t))throw new TypeError("Expected `wait` to be a finite number");let r,i,o=[],s,a;const c=(h,d)=>(s=Xoe(e,h,d),s.finally(()=>{if(s=null,n.trailing&&a&&!i){const g=c(h,a);return a=null,g}}),s);return function(...h){return s?(n.trailing&&(a=h),s):new Promise(d=>{const g=!i&&n.leading;clearTimeout(i),i=setTimeout(()=>{i=null;const y=n.leading?r:c(this,h);for(const v of o)v(y);o=[]},t),g?(r=c(this,h),d(r)):o.push(d)})}}async function Xoe(e,t,n){return await e.apply(t,n)}function YI(e,t={},n){for(const r in e){const i=e[r],o=n?`${n}:${r}`:r;typeof i=="object"&&i!==null?YI(i,t,o):typeof i=="function"&&(t[o]=i)}return t}const Yoe={run:e=>e()},Joe=()=>Yoe,W7=typeof console.createTask<"u"?console.createTask:Joe;function Qoe(e,t){const n=t.shift(),r=W7(n);return e.reduce((i,o)=>i.then(()=>r.run(()=>o(...t))),Promise.resolve())}function eae(e,t){const n=t.shift(),r=W7(n);return Promise.all(e.map(i=>r.run(()=>i(...t))))}function uP(e,t){for(const n of[...e])n(t)}class tae{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,n,r={}){if(!t||typeof n!="function")return()=>{};const i=t;let o;for(;this._deprecatedHooks[t];)o=this._deprecatedHooks[t],t=o.to;if(o&&!r.allowDeprecated){let s=o.message;s||(s=`${i} hook has been deprecated`+(o.to?`, please use ${o.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(s)||(console.warn(s),this._deprecatedMessages.add(s))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(n),()=>{n&&(this.removeHook(t,n),n=void 0)}}hookOnce(t,n){let r,i=(...o)=>(typeof r=="function"&&r(),r=void 0,i=void 0,n(...o));return r=this.hook(t,i),r}removeHook(t,n){if(this._hooks[t]){const r=this._hooks[t].indexOf(n);r!==-1&&this._hooks[t].splice(r,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,n){this._deprecatedHooks[t]=typeof n=="string"?{to:n}:n;const r=this._hooks[t]||[];delete this._hooks[t];for(const i of r)this.hook(t,i)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const n in t)this.deprecateHook(n,t[n])}addHooks(t){const n=YI(t),r=Object.keys(n).map(i=>this.hook(i,n[i]));return()=>{for(const i of r.splice(0,r.length))i()}}removeHooks(t){const n=YI(t);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...n){return n.unshift(t),this.callHookWith(Qoe,t,...n)}callHookParallel(t,...n){return n.unshift(t),this.callHookWith(eae,t,...n)}callHookWith(t,n,...r){const i=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&uP(this._before,i);const o=t(n in this._hooks?[...this._hooks[n]]:[],r);return o instanceof Promise?o.finally(()=>{this._after&&i&&uP(this._after,i)}):(this._after&&i&&uP(this._after,i),o)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const n=this._before.indexOf(t);n!==-1&&this._before.splice(n,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const n=this._after.indexOf(t);n!==-1&&this._after.splice(n,1)}}}}function Z7(){return new tae}var nae=Object.create,q7=Object.defineProperty,rae=Object.getOwnPropertyDescriptor,ZD=Object.getOwnPropertyNames,iae=Object.getPrototypeOf,oae=Object.prototype.hasOwnProperty,aae=(e,t)=>function(){return e&&(t=(0,e[ZD(e)[0]])(e=0)),t},K7=(e,t)=>function(){return t||(0,e[ZD(e)[0]])((t={exports:{}}).exports,t),t.exports},sae=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ZD(t))!oae.call(e,i)&&i!==n&&q7(e,i,{get:()=>t[i],enumerable:!(r=rae(t,i))||r.enumerable});return e},lae=(e,t,n)=>(n=e!=null?nae(iae(e)):{},sae(q7(n,"default",{value:e,enumerable:!0}),e)),zt=aae({"../../node_modules/.pnpm/tsup@8.3.5_@microsoft+api-extractor@7.48.0_@types+node@22.10.1__@swc+core@1.5.29_jiti@2.0.0_p_swvvp2d4pgn6xuiiec4l4x2i7a/node_modules/tsup/assets/esm_shims.js"(){}}),uae=K7({"../../node_modules/.pnpm/speakingurl@14.0.1/node_modules/speakingurl/lib/speakingurl.js"(e,t){zt(),function(n){var r={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"Ae",Å:"A",Æ:"AE",Ç:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"Oe",Ő:"O",Ø:"O",Ù:"U",Ú:"U",Û:"U",Ü:"Ue",Ű:"U",Ý:"Y",Þ:"TH",ß:"ss",à:"a",á:"a",â:"a",ã:"a",ä:"ae",å:"a",æ:"ae",ç:"c",è:"e",é:"e",ê:"e",ë:"e",ì:"i",í:"i",î:"i",ï:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"oe",ő:"o",ø:"o",ù:"u",ú:"u",û:"u",ü:"ue",ű:"u",ý:"y",þ:"th",ÿ:"y","ẞ":"SS",ا:"a",أ:"a",إ:"i",آ:"aa",ؤ:"u",ئ:"e",ء:"a",ب:"b",ت:"t",ث:"th",ج:"j",ح:"h",خ:"kh",د:"d",ذ:"th",ر:"r",ز:"z",س:"s",ش:"sh",ص:"s",ض:"dh",ط:"t",ظ:"z",ع:"a",غ:"gh",ف:"f",ق:"q",ك:"k",ل:"l",م:"m",ن:"n",ه:"h",و:"w",ي:"y",ى:"a",ة:"h",ﻻ:"la",ﻷ:"laa",ﻹ:"lai",ﻵ:"laa",گ:"g",چ:"ch",پ:"p",ژ:"zh",ک:"k",ی:"y","َ":"a","ً":"an","ِ":"e","ٍ":"en","ُ":"u","ٌ":"on","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9",က:"k",ခ:"kh",ဂ:"g",ဃ:"ga",င:"ng",စ:"s",ဆ:"sa",ဇ:"z","စျ":"za",ည:"ny",ဋ:"t",ဌ:"ta",ဍ:"d",ဎ:"da",ဏ:"na",တ:"t",ထ:"ta",ဒ:"d",ဓ:"da",န:"n",ပ:"p",ဖ:"pa",ဗ:"b",ဘ:"ba",မ:"m",ယ:"y",ရ:"ya",လ:"l",ဝ:"w",သ:"th",ဟ:"h",ဠ:"la",အ:"a","ြ":"y","ျ":"ya","ွ":"w","ြွ":"yw","ျွ":"ywa","ှ":"h",ဧ:"e","၏":"-e",ဣ:"i",ဤ:"-i",ဉ:"u",ဦ:"-u",ဩ:"aw","သြော":"aw",ဪ:"aw","၀":"0","၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","္":"","့":"","း":"",č:"c",ď:"d",ě:"e",ň:"n",ř:"r",š:"s",ť:"t",ů:"u",ž:"z",Č:"C",Ď:"D",Ě:"E",Ň:"N",Ř:"R",Š:"S",Ť:"T",Ů:"U",Ž:"Z",ހ:"h",ށ:"sh",ނ:"n",ރ:"r",ބ:"b",ޅ:"lh",ކ:"k",އ:"a",ވ:"v",މ:"m",ފ:"f",ދ:"dh",ތ:"th",ލ:"l",ގ:"g",ޏ:"gn",ސ:"s",ޑ:"d",ޒ:"z",ޓ:"t",ޔ:"y",ޕ:"p",ޖ:"j",ޗ:"ch",ޘ:"tt",ޙ:"hh",ޚ:"kh",ޛ:"th",ޜ:"z",ޝ:"sh",ޞ:"s",ޟ:"d",ޠ:"t",ޡ:"z",ޢ:"a",ޣ:"gh",ޤ:"q",ޥ:"w","ަ":"a","ާ":"aa","ި":"i","ީ":"ee","ު":"u","ޫ":"oo","ެ":"e","ޭ":"ey","ޮ":"o","ޯ":"oa","ް":"",ა:"a",ბ:"b",გ:"g",დ:"d",ე:"e",ვ:"v",ზ:"z",თ:"t",ი:"i",კ:"k",ლ:"l",მ:"m",ნ:"n",ო:"o",პ:"p",ჟ:"zh",რ:"r",ს:"s",ტ:"t",უ:"u",ფ:"p",ქ:"k",ღ:"gh",ყ:"q",შ:"sh",ჩ:"ch",ც:"ts",ძ:"dz",წ:"ts",ჭ:"ch",ხ:"kh",ჯ:"j",ჰ:"h",α:"a",β:"v",γ:"g",δ:"d",ε:"e",ζ:"z",η:"i",θ:"th",ι:"i",κ:"k",λ:"l",μ:"m",ν:"n",ξ:"ks",ο:"o",π:"p",ρ:"r",σ:"s",τ:"t",υ:"y",φ:"f",χ:"x",ψ:"ps",ω:"o",ά:"a",έ:"e",ί:"i",ό:"o",ύ:"y",ή:"i",ώ:"o",ς:"s",ϊ:"i",ΰ:"y",ϋ:"y",ΐ:"i",Α:"A",Β:"B",Γ:"G",Δ:"D",Ε:"E",Ζ:"Z",Η:"I",Θ:"TH",Ι:"I",Κ:"K",Λ:"L",Μ:"M",Ν:"N",Ξ:"KS",Ο:"O",Π:"P",Ρ:"R",Σ:"S",Τ:"T",Υ:"Y",Φ:"F",Χ:"X",Ψ:"PS",Ω:"O",Ά:"A",Έ:"E",Ί:"I",Ό:"O",Ύ:"Y",Ή:"I",Ώ:"O",Ϊ:"I",Ϋ:"Y",ā:"a",ē:"e",ģ:"g",ī:"i",ķ:"k",ļ:"l",ņ:"n",ū:"u",Ā:"A",Ē:"E",Ģ:"G",Ī:"I",Ķ:"k",Ļ:"L",Ņ:"N",Ū:"U",Ќ:"Kj",ќ:"kj",Љ:"Lj",љ:"lj",Њ:"Nj",њ:"nj",Тс:"Ts",тс:"ts",ą:"a",ć:"c",ę:"e",ł:"l",ń:"n",ś:"s",ź:"z",ż:"z",Ą:"A",Ć:"C",Ę:"E",Ł:"L",Ń:"N",Ś:"S",Ź:"Z",Ż:"Z",Є:"Ye",І:"I",Ї:"Yi",Ґ:"G",є:"ye",і:"i",ї:"yi",ґ:"g",ă:"a",Ă:"A",ș:"s",Ș:"S",ț:"t",Ț:"T",ţ:"t",Ţ:"T",а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"yo",ж:"zh",з:"z",и:"i",й:"i",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"kh",ц:"c",ч:"ch",ш:"sh",щ:"sh",ъ:"",ы:"y",ь:"",э:"e",ю:"yu",я:"ya",А:"A",Б:"B",В:"V",Г:"G",Д:"D",Е:"E",Ё:"Yo",Ж:"Zh",З:"Z",И:"I",Й:"I",К:"K",Л:"L",М:"M",Н:"N",О:"O",П:"P",Р:"R",С:"S",Т:"T",У:"U",Ф:"F",Х:"Kh",Ц:"C",Ч:"Ch",Ш:"Sh",Щ:"Sh",Ъ:"",Ы:"Y",Ь:"",Э:"E",Ю:"Yu",Я:"Ya",ђ:"dj",ј:"j",ћ:"c",џ:"dz",Ђ:"Dj",Ј:"j",Ћ:"C",Џ:"Dz",ľ:"l",ĺ:"l",ŕ:"r",Ľ:"L",Ĺ:"L",Ŕ:"R",ş:"s",Ş:"S",ı:"i",İ:"I",ğ:"g",Ğ:"G",ả:"a",Ả:"A",ẳ:"a",Ẳ:"A",ẩ:"a",Ẩ:"A",đ:"d",Đ:"D",ẹ:"e",Ẹ:"E",ẽ:"e",Ẽ:"E",ẻ:"e",Ẻ:"E",ế:"e",Ế:"E",ề:"e",Ề:"E",ệ:"e",Ệ:"E",ễ:"e",Ễ:"E",ể:"e",Ể:"E",ỏ:"o",ọ:"o",Ọ:"o",ố:"o",Ố:"O",ồ:"o",Ồ:"O",ổ:"o",Ổ:"O",ộ:"o",Ộ:"O",ỗ:"o",Ỗ:"O",ơ:"o",Ơ:"O",ớ:"o",Ớ:"O",ờ:"o",Ờ:"O",ợ:"o",Ợ:"O",ỡ:"o",Ỡ:"O",Ở:"o",ở:"o",ị:"i",Ị:"I",ĩ:"i",Ĩ:"I",ỉ:"i",Ỉ:"i",ủ:"u",Ủ:"U",ụ:"u",Ụ:"U",ũ:"u",Ũ:"U",ư:"u",Ư:"U",ứ:"u",Ứ:"U",ừ:"u",Ừ:"U",ự:"u",Ự:"U",ữ:"u",Ữ:"U",ử:"u",Ử:"ư",ỷ:"y",Ỷ:"y",ỳ:"y",Ỳ:"Y",ỵ:"y",Ỵ:"Y",ỹ:"y",Ỹ:"Y",ạ:"a",Ạ:"A",ấ:"a",Ấ:"A",ầ:"a",Ầ:"A",ậ:"a",Ậ:"A",ẫ:"a",Ẫ:"A",ắ:"a",Ắ:"A",ằ:"a",Ằ:"A",ặ:"a",Ặ:"A",ẵ:"a",Ẵ:"A","⓪":"0","①":"1","②":"2","③":"3","④":"4","⑤":"5","⑥":"6","⑦":"7","⑧":"8","⑨":"9","⑩":"10","⑪":"11","⑫":"12","⑬":"13","⑭":"14","⑮":"15","⑯":"16","⑰":"17","⑱":"18","⑲":"18","⑳":"18","⓵":"1","⓶":"2","⓷":"3","⓸":"4","⓹":"5","⓺":"6","⓻":"7","⓼":"8","⓽":"9","⓾":"10","⓿":"0","⓫":"11","⓬":"12","⓭":"13","⓮":"14","⓯":"15","⓰":"16","⓱":"17","⓲":"18","⓳":"19","⓴":"20","Ⓐ":"A","Ⓑ":"B","Ⓒ":"C","Ⓓ":"D","Ⓔ":"E","Ⓕ":"F","Ⓖ":"G","Ⓗ":"H","Ⓘ":"I","Ⓙ":"J","Ⓚ":"K","Ⓛ":"L","Ⓜ":"M","Ⓝ":"N","Ⓞ":"O","Ⓟ":"P","Ⓠ":"Q","Ⓡ":"R","Ⓢ":"S","Ⓣ":"T","Ⓤ":"U","Ⓥ":"V","Ⓦ":"W","Ⓧ":"X","Ⓨ":"Y","Ⓩ":"Z","ⓐ":"a","ⓑ":"b","ⓒ":"c","ⓓ":"d","ⓔ":"e","ⓕ":"f","ⓖ":"g","ⓗ":"h","ⓘ":"i","ⓙ":"j","ⓚ":"k","ⓛ":"l","ⓜ":"m","ⓝ":"n","ⓞ":"o","ⓟ":"p","ⓠ":"q","ⓡ":"r","ⓢ":"s","ⓣ":"t","ⓤ":"u","ⓦ":"v","ⓥ":"w","ⓧ":"x","ⓨ":"y","ⓩ":"z","“":'"',"”":'"',"‘":"'","’":"'","∂":"d",ƒ:"f","™":"(TM)","©":"(C)",œ:"oe",Œ:"OE","®":"(R)","†":"+","℠":"(SM)","…":"...","˚":"o",º:"o",ª:"a","•":"*","၊":",","။":".",$:"USD","€":"EUR","₢":"BRN","₣":"FRF","£":"GBP","₤":"ITL","₦":"NGN","₧":"ESP","₩":"KRW","₪":"ILS","₫":"VND","₭":"LAK","₮":"MNT","₯":"GRD","₱":"ARS","₲":"PYG","₳":"ARA","₴":"UAH","₵":"GHS","¢":"cent","¥":"CNY",元:"CNY",円:"YEN","﷼":"IRR","₠":"EWE","฿":"THB","₨":"INR","₹":"INR","₰":"PF","₺":"TRY","؋":"AFN","₼":"AZN",лв:"BGN","៛":"KHR","₡":"CRC","₸":"KZT",ден:"MKD",zł:"PLN","₽":"RUB","₾":"GEL"},i=["်","ް"],o={"ာ":"a","ါ":"a","ေ":"e","ဲ":"e","ိ":"i","ီ":"i","ို":"o","ု":"u","ူ":"u","ေါင်":"aung","ော":"aw","ော်":"aw","ေါ":"aw","ေါ်":"aw","်":"်","က်":"et","ိုက်":"aik","ောက်":"auk","င်":"in","ိုင်":"aing","ောင်":"aung","စ်":"it","ည်":"i","တ်":"at","ိတ်":"eik","ုတ်":"ok","ွတ်":"ut","ေတ်":"it","ဒ်":"d","ိုဒ်":"ok","ုဒ်":"ait","န်":"an","ာန်":"an","ိန်":"ein","ုန်":"on","ွန်":"un","ပ်":"at","ိပ်":"eik","ုပ်":"ok","ွပ်":"ut","န်ုပ်":"nub","မ်":"an","ိမ်":"ein","ုမ်":"on","ွမ်":"un","ယ်":"e","ိုလ်":"ol","ဉ်":"in","ံ":"an","ိံ":"ein","ုံ":"on","ައް":"ah","ަށް":"ah"},s={en:{},az:{ç:"c",ə:"e",ğ:"g",ı:"i",ö:"o",ş:"s",ü:"u",Ç:"C",Ə:"E",Ğ:"G",İ:"I",Ö:"O",Ş:"S",Ü:"U"},cs:{č:"c",ď:"d",ě:"e",ň:"n",ř:"r",š:"s",ť:"t",ů:"u",ž:"z",Č:"C",Ď:"D",Ě:"E",Ň:"N",Ř:"R",Š:"S",Ť:"T",Ů:"U",Ž:"Z"},fi:{ä:"a",Ä:"A",ö:"o",Ö:"O"},hu:{ä:"a",Ä:"A",ö:"o",Ö:"O",ü:"u",Ü:"U",ű:"u",Ű:"U"},lt:{ą:"a",č:"c",ę:"e",ė:"e",į:"i",š:"s",ų:"u",ū:"u",ž:"z",Ą:"A",Č:"C",Ę:"E",Ė:"E",Į:"I",Š:"S",Ų:"U",Ū:"U"},lv:{ā:"a",č:"c",ē:"e",ģ:"g",ī:"i",ķ:"k",ļ:"l",ņ:"n",š:"s",ū:"u",ž:"z",Ā:"A",Č:"C",Ē:"E",Ģ:"G",Ī:"i",Ķ:"k",Ļ:"L",Ņ:"N",Š:"S",Ū:"u",Ž:"Z"},pl:{ą:"a",ć:"c",ę:"e",ł:"l",ń:"n",ó:"o",ś:"s",ź:"z",ż:"z",Ą:"A",Ć:"C",Ę:"e",Ł:"L",Ń:"N",Ó:"O",Ś:"S",Ź:"Z",Ż:"Z"},sv:{ä:"a",Ä:"A",ö:"o",Ö:"O"},sk:{ä:"a",Ä:"A"},sr:{љ:"lj",њ:"nj",Љ:"Lj",Њ:"Nj",đ:"dj",Đ:"Dj"},tr:{Ü:"U",Ö:"O",ü:"u",ö:"o"}},a={ar:{"∆":"delta","∞":"la-nihaya","♥":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","∑":"majmou","¤":"omla"},az:{},ca:{"∆":"delta","∞":"infinit","♥":"amor","&":"i","|":"o","<":"menys que",">":"mes que","∑":"suma dels","¤":"moneda"},cs:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"nebo","<":"mensi nez",">":"vetsi nez","∑":"soucet","¤":"mena"},de:{"∆":"delta","∞":"unendlich","♥":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","∑":"Summe von","¤":"Waehrung"},dv:{"∆":"delta","∞":"kolunulaa","♥":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","∑":"jumula","¤":"faisaa"},en:{"∆":"delta","∞":"infinity","♥":"love","&":"and","|":"or","<":"less than",">":"greater than","∑":"sum","¤":"currency"},es:{"∆":"delta","∞":"infinito","♥":"amor","&":"y","|":"u","<":"menos que",">":"mas que","∑":"suma de los","¤":"moneda"},fa:{"∆":"delta","∞":"bi-nahayat","♥":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","∑":"majmooe","¤":"vahed"},fi:{"∆":"delta","∞":"aarettomyys","♥":"rakkaus","&":"ja","|":"tai","<":"pienempi kuin",">":"suurempi kuin","∑":"summa","¤":"valuutta"},fr:{"∆":"delta","∞":"infiniment","♥":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","∑":"somme des","¤":"monnaie"},ge:{"∆":"delta","∞":"usasruloba","♥":"siqvaruli","&":"da","|":"an","<":"naklebi",">":"meti","∑":"jami","¤":"valuta"},gr:{},hu:{"∆":"delta","∞":"vegtelen","♥":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","∑":"szumma","¤":"penznem"},it:{"∆":"delta","∞":"infinito","♥":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","∑":"somma","¤":"moneta"},lt:{"∆":"delta","∞":"begalybe","♥":"meile","&":"ir","|":"ar","<":"maziau nei",">":"daugiau nei","∑":"suma","¤":"valiuta"},lv:{"∆":"delta","∞":"bezgaliba","♥":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","∑":"summa","¤":"valuta"},my:{"∆":"kwahkhyaet","∞":"asaonasme","♥":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","∑":"paungld","¤":"ngwekye"},mk:{},nl:{"∆":"delta","∞":"oneindig","♥":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","∑":"som","¤":"valuta"},pl:{"∆":"delta","∞":"nieskonczonosc","♥":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","∑":"suma","¤":"waluta"},pt:{"∆":"delta","∞":"infinito","♥":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","∑":"soma","¤":"moeda"},ro:{"∆":"delta","∞":"infinit","♥":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","∑":"suma","¤":"valuta"},ru:{"∆":"delta","∞":"beskonechno","♥":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","∑":"summa","¤":"valjuta"},sk:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","∑":"sucet","¤":"mena"},sr:{},tr:{"∆":"delta","∞":"sonsuzluk","♥":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","∑":"toplam","¤":"para birimi"},uk:{"∆":"delta","∞":"bezkinechnist","♥":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","∑":"suma","¤":"valjuta"},vn:{"∆":"delta","∞":"vo cuc","♥":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","∑":"tong","¤":"tien te"}},c=[";","?",":","@","&","=","+","$",",","/"].join(""),h=[";","?",":","@","&","=","+","$",","].join(""),d=[".","!","~","*","'","(",")"].join(""),g=function(I,A){var k="-",R="",z="",V=!0,U={},N,W,X,K,te,ae,me,we,se,ue,Te,Be,ke,rt,ot="";if(typeof I!="string")return"";if(typeof A=="string"&&(k=A),me=a.en,we=s.en,typeof A=="object"){N=A.maintainCase||!1,U=A.custom&&typeof A.custom=="object"?A.custom:U,X=+A.truncate>1&&A.truncate||!1,K=A.uric||!1,te=A.uricNoSlash||!1,ae=A.mark||!1,V=!(A.symbols===!1||A.lang===!1),k=A.separator||k,K&&(ot+=c),te&&(ot+=h),ae&&(ot+=d),me=A.lang&&a[A.lang]&&V?a[A.lang]:V?a.en:{},we=A.lang&&s[A.lang]?s[A.lang]:A.lang===!1||A.lang===!0?{}:s.en,A.titleCase&&typeof A.titleCase.length=="number"&&Array.prototype.toString.call(A.titleCase)?(A.titleCase.forEach(function(tt){U[tt+""]=tt+""}),W=!0):W=!!A.titleCase,A.custom&&typeof A.custom.length=="number"&&Array.prototype.toString.call(A.custom)&&A.custom.forEach(function(tt){U[tt+""]=tt+""}),Object.keys(U).forEach(function(tt){var It;tt.length>1?It=new RegExp("\\b"+v(tt)+"\\b","gi"):It=new RegExp(v(tt),"gi"),I=I.replace(It,U[tt])});for(Te in U)ot+=Te}for(ot+=k,ot=v(ot),I=I.replace(/(^\s+|\s+$)/g,""),ke=!1,rt=!1,ue=0,Be=I.length;ue<Be;ue++)Te=I[ue],x(Te,U)?ke=!1:we[Te]?(Te=ke&&we[Te].match(/[A-Za-z0-9]/)?" "+we[Te]:we[Te],ke=!1):Te in r?(ue+1<Be&&i.indexOf(I[ue+1])>=0?(z+=Te,Te=""):rt===!0?(Te=o[z]+r[Te],z=""):Te=ke&&r[Te].match(/[A-Za-z0-9]/)?" "+r[Te]:r[Te],ke=!1,rt=!1):Te in o?(z+=Te,Te="",ue===Be-1&&(Te=o[z]),rt=!0):me[Te]&&!(K&&c.indexOf(Te)!==-1)&&!(te&&h.indexOf(Te)!==-1)?(Te=ke||R.substr(-1).match(/[A-Za-z0-9]/)?k+me[Te]:me[Te],Te+=I[ue+1]!==void 0&&I[ue+1].match(/[A-Za-z0-9]/)?k:"",ke=!0):(rt===!0?(Te=o[z]+Te,z="",rt=!1):ke&&(/[A-Za-z0-9]/.test(Te)||R.substr(-1).match(/A-Za-z0-9]/))&&(Te=" "+Te),ke=!1),R+=Te.replace(new RegExp("[^\\w\\s"+ot+"_-]","g"),k);return W&&(R=R.replace(/(\w)(\S*)/g,function(tt,It,Bt){var Lt=It.toUpperCase()+(Bt!==null?Bt:"");return Object.keys(U).indexOf(Lt.toLowerCase())<0?Lt:Lt.toLowerCase()})),R=R.replace(/\s+/g,k).replace(new RegExp("\\"+k+"+","g"),k).replace(new RegExp("(^\\"+k+"+|\\"+k+"+$)","g"),""),X&&R.length>X&&(se=R.charAt(X)===k,R=R.slice(0,X),se||(R=R.slice(0,R.lastIndexOf(k)))),!N&&!W&&(R=R.toLowerCase()),R},y=function(I){return function(k){return g(k,I)}},v=function(I){return I.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},x=function(C,I){for(var A in I)if(I[A]===C)return!0};if(typeof t<"u"&&t.exports)t.exports=g,t.exports.createSlug=y;else if(typeof define<"u"&&define.amd)define([],function(){return g});else try{if(n.getSlug||n.createSlug)throw"speakingurl: globals exists /(getSlug|createSlug)/";n.getSlug=g,n.createSlug=y}catch{}}(e)}}),cae=K7({"../../node_modules/.pnpm/speakingurl@14.0.1/node_modules/speakingurl/index.js"(e,t){zt(),t.exports=uae()}});zt();zt();zt();zt();zt();zt();zt();zt();function hae(e){var t;const n=e.name||e._componentTag||e.__VUE_DEVTOOLS_COMPONENT_GUSSED_NAME__||e.__name;return n==="index"&&((t=e.__file)!=null&&t.endsWith("index.vue"))?"":n}function dae(e){const t=e.__file;if(t)return Zoe(qoe(t,".vue"))}function q$(e,t){return e.type.__VUE_DEVTOOLS_COMPONENT_GUSSED_NAME__=t,t}function d2(e){if(e.__VUE_DEVTOOLS_NEXT_APP_RECORD__)return e.__VUE_DEVTOOLS_NEXT_APP_RECORD__;if(e.root)return e.appContext.app.__VUE_DEVTOOLS_NEXT_APP_RECORD__}async function fae(e){const{app:t,uid:n,instance:r}=e;try{if(r.__VUE_DEVTOOLS_NEXT_UID__)return r.__VUE_DEVTOOLS_NEXT_UID__;const i=await d2(t);if(!i)return null;const o=i.rootInstance===r;return`${i.id}:${o?"root":n}`}catch{}}function X7(e){var t,n;const r=(t=e.subTree)==null?void 0:t.type,i=d2(e);return i?((n=i==null?void 0:i.types)==null?void 0:n.Fragment)===r:!1}function f2(e){var t,n,r;const i=hae((e==null?void 0:e.type)||{});if(i)return i;if((e==null?void 0:e.root)===e)return"Root";for(const s in(n=(t=e.parent)==null?void 0:t.type)==null?void 0:n.components)if(e.parent.type.components[s]===(e==null?void 0:e.type))return q$(e,s);for(const s in(r=e.appContext)==null?void 0:r.components)if(e.appContext.components[s]===(e==null?void 0:e.type))return q$(e,s);const o=dae((e==null?void 0:e.type)||{});return o||"Anonymous Component"}function JI(e,t){return t=t||`${e.id}:root`,e.instanceMap.get(t)||e.instanceMap.get(":root")}function pae(){const e={top:0,bottom:0,left:0,right:0,get width(){return e.right-e.left},get height(){return e.bottom-e.top}};return e}var q1;function mae(e){return q1||(q1=document.createRange()),q1.selectNode(e),q1.getBoundingClientRect()}function gae(e){const t=pae();if(!e.children)return t;for(let n=0,r=e.children.length;n<r;n++){const i=e.children[n];let o;if(i.component)o=Af(i.component);else if(i.el){const s=i.el;s.nodeType===1||s.getBoundingClientRect?o=s.getBoundingClientRect():s.nodeType===3&&s.data.trim()&&(o=mae(s))}o&&vae(t,o)}return t}function vae(e,t){return(!e.top||t.top<e.top)&&(e.top=t.top),(!e.bottom||t.bottom>e.bottom)&&(e.bottom=t.bottom),(!e.left||t.left<e.left)&&(e.left=t.left),(!e.right||t.right>e.right)&&(e.right=t.right),e}var K$={top:0,left:0,right:0,bottom:0,width:0,height:0};function Af(e){const t=e.subTree.el;return typeof window>"u"?K$:X7(e)?gae(e.subTree):(t==null?void 0:t.nodeType)===1?t==null?void 0:t.getBoundingClientRect():e.subTree.component?Af(e.subTree.component):K$}zt();function qD(e){return X7(e)?yae(e.subTree):e.subTree?[e.subTree.el]:[]}function yae(e){if(!e.children)return[];const t=[];return e.children.forEach(n=>{n.component?t.push(...qD(n.component)):n!=null&&n.el&&t.push(n.el)}),t}var Y7="__vue-devtools-component-inspector__",J7="__vue-devtools-component-inspector__card__",Q7="__vue-devtools-component-inspector__name__",ej="__vue-devtools-component-inspector__indicator__",tj={display:"block",zIndex:2147483640,position:"fixed",backgroundColor:"#42b88325",border:"1px solid #42b88350",borderRadius:"5px",transition:"all 0.1s ease-in",pointerEvents:"none"},_ae={fontFamily:"Arial, Helvetica, sans-serif",padding:"5px 8px",borderRadius:"4px",textAlign:"left",position:"absolute",left:0,color:"#e9e9e9",fontSize:"14px",fontWeight:600,lineHeight:"24px",backgroundColor:"#42b883",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)"},bae={display:"inline-block",fontWeight:400,fontStyle:"normal",fontSize:"12px",opacity:.7};function Lg(){return document.getElementById(Y7)}function xae(){return document.getElementById(J7)}function wae(){return document.getElementById(ej)}function Sae(){return document.getElementById(Q7)}function KD(e){return{left:`${Math.round(e.left*100)/100}px`,top:`${Math.round(e.top*100)/100}px`,width:`${Math.round(e.width*100)/100}px`,height:`${Math.round(e.height*100)/100}px`}}function XD(e){var t;const n=document.createElement("div");n.id=(t=e.elementId)!=null?t:Y7,Object.assign(n.style,{...tj,...KD(e.bounds),...e.style});const r=document.createElement("span");r.id=J7,Object.assign(r.style,{..._ae,top:e.bounds.top<35?0:"-35px"});const i=document.createElement("span");i.id=Q7,i.innerHTML=`&lt;${e.name}&gt;&nbsp;&nbsp;`;const o=document.createElement("i");return o.id=ej,o.innerHTML=`${Math.round(e.bounds.width*100)/100} x ${Math.round(e.bounds.height*100)/100}`,Object.assign(o.style,bae),r.appendChild(i),r.appendChild(o),n.appendChild(r),document.body.appendChild(n),n}function YD(e){const t=Lg(),n=xae(),r=Sae(),i=wae();t&&(Object.assign(t.style,{...tj,...KD(e.bounds)}),Object.assign(n.style,{top:e.bounds.top<35?0:"-35px"}),r.innerHTML=`&lt;${e.name}&gt;&nbsp;&nbsp;`,i.innerHTML=`${Math.round(e.bounds.width*100)/100} x ${Math.round(e.bounds.height*100)/100}`)}function Cae(e){const t=Af(e);if(!t.width&&!t.height)return;const n=f2(e);Lg()?YD({bounds:t,name:n}):XD({bounds:t,name:n})}function nj(){const e=Lg();e&&(e.style.display="none")}var QI=null;function eM(e){const t=e.target;if(t){const n=t.__vueParentComponent;if(n&&(QI=n,n.vnode.el)){const i=Af(n),o=f2(n);Lg()?YD({bounds:i,name:o}):XD({bounds:i,name:o})}}}function Tae(e,t){var n;if(e.preventDefault(),e.stopPropagation(),QI){const r=(n=Ko.value)==null?void 0:n.app;fae({app:r,uid:r.uid,instance:QI}).then(i=>{t(i)})}}var Kw=null;function Pae(){nj(),window.removeEventListener("mouseover",eM),window.removeEventListener("click",Kw,!0),Kw=null}function Eae(){return window.addEventListener("mouseover",eM),new Promise(e=>{function t(n){n.preventDefault(),n.stopPropagation(),Tae(n,r=>{window.removeEventListener("click",t,!0),Kw=null,window.removeEventListener("mouseover",eM);const i=Lg();i&&(i.style.display="none"),e(JSON.stringify({id:r}))})}Kw=t,window.addEventListener("click",t,!0)})}function Iae(e){const t=JI(Ko.value,e.id);if(t){const[n]=qD(t);if(typeof n.scrollIntoView=="function")n.scrollIntoView({behavior:"smooth"});else{const r=Af(t),i=document.createElement("div"),o={...KD(r),position:"absolute"};Object.assign(i.style,o),document.body.appendChild(i),i.scrollIntoView({behavior:"smooth"}),setTimeout(()=>{document.body.removeChild(i)},2e3)}setTimeout(()=>{const r=Af(t);if(r.width||r.height){const i=f2(t),o=Lg();o?YD({...e,name:i,bounds:r}):XD({...e,name:i,bounds:r}),setTimeout(()=>{o&&(o.style.display="none")},1500)}},1200)}}zt();var X$,Y$;(Y$=(X$=hn).__VUE_DEVTOOLS_COMPONENT_INSPECTOR_ENABLED__)!=null||(X$.__VUE_DEVTOOLS_COMPONENT_INSPECTOR_ENABLED__=!0);function Mae(e){let t=0;const n=setInterval(()=>{hn.__VUE_INSPECTOR__&&(clearInterval(n),t+=30,e()),t>=5e3&&clearInterval(n)},30)}function Aae(){const e=hn.__VUE_INSPECTOR__,t=e.openInEditor;e.openInEditor=async(...n)=>{e.disable(),t(...n)}}function Dae(){return new Promise(e=>{function t(){Aae(),e(hn.__VUE_INSPECTOR__)}hn.__VUE_INSPECTOR__?t():Mae(()=>{t()})})}zt();zt();function kae(e){return!!(e&&e.__v_isReadonly)}function rj(e){return kae(e)?rj(e.__v_raw):!!(e&&e.__v_isReactive)}function cP(e){return!!(e&&e.__v_isRef===!0)}function u_(e){const t=e&&e.__v_raw;return t?u_(t):e}var Oae=class{constructor(){this.refEditor=new Rae}set(e,t,n,r){const i=Array.isArray(t)?t:t.split(".");for(;i.length>1;){const a=i.shift();e instanceof Map&&(e=e.get(a)),e instanceof Set?e=Array.from(e.values())[a]:e=e[a],this.refEditor.isRef(e)&&(e=this.refEditor.get(e))}const o=i[0],s=this.refEditor.get(e)[o];r?r(e,o,n):this.refEditor.isRef(s)?this.refEditor.set(s,n):e[o]=n}get(e,t){const n=Array.isArray(t)?t:t.split(".");for(let r=0;r<n.length;r++)if(e instanceof Map?e=e.get(n[r]):e=e[n[r]],this.refEditor.isRef(e)&&(e=this.refEditor.get(e)),!e)return;return e}has(e,t,n=!1){if(typeof e>"u")return!1;const r=Array.isArray(t)?t.slice():t.split("."),i=n?2:1;for(;e&&r.length>i;){const o=r.shift();e=e[o],this.refEditor.isRef(e)&&(e=this.refEditor.get(e))}return e!=null&&Object.prototype.hasOwnProperty.call(e,r[0])}createDefaultSetCallback(e){return(t,n,r)=>{if((e.remove||e.newKey)&&(Array.isArray(t)?t.splice(n,1):u_(t)instanceof Map?t.delete(n):u_(t)instanceof Set?t.delete(Array.from(t.values())[n]):Reflect.deleteProperty(t,n)),!e.remove){const i=t[e.newKey||n];this.refEditor.isRef(i)?this.refEditor.set(i,r):u_(t)instanceof Map?t.set(e.newKey||n,r):u_(t)instanceof Set?t.add(r):t[e.newKey||n]=r}}}},Rae=class{set(e,t){if(cP(e))e.value=t;else{if(e instanceof Set&&Array.isArray(t)){e.clear(),t.forEach(i=>e.add(i));return}const n=Object.keys(t);if(e instanceof Map){const i=new Set(e.keys());n.forEach(o=>{e.set(o,Reflect.get(t,o)),i.delete(o)}),i.forEach(o=>e.delete(o));return}const r=new Set(Object.keys(e));n.forEach(i=>{Reflect.set(e,i,Reflect.get(t,i)),r.delete(i)}),r.forEach(i=>Reflect.deleteProperty(e,i))}}get(e){return cP(e)?e.value:e}isRef(e){return cP(e)||rj(e)}};zt();zt();zt();var Lae="__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS_STATE__";function $ae(){if(!G7||typeof localStorage>"u"||localStorage===null)return{recordingState:!1,mouseEventEnabled:!1,keyboardEventEnabled:!1,componentEventEnabled:!1,performanceEventEnabled:!1,selected:""};const e=localStorage.getItem(Lae);return e?JSON.parse(e):{recordingState:!1,mouseEventEnabled:!1,keyboardEventEnabled:!1,componentEventEnabled:!1,performanceEventEnabled:!1,selected:""}}zt();zt();zt();var J$,Q$;(Q$=(J$=hn).__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS)!=null||(J$.__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS=[]);var zae=new Proxy(hn.__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS,{get(e,t,n){return Reflect.get(e,t,n)}});function Bae(e,t){ro.timelineLayersState[t.id]=!1,zae.push({...e,descriptorId:t.id,appRecord:d2(t.app)})}var e5,t5;(t5=(e5=hn).__VUE_DEVTOOLS_KIT_INSPECTOR__)!=null||(e5.__VUE_DEVTOOLS_KIT_INSPECTOR__=[]);var JD=new Proxy(hn.__VUE_DEVTOOLS_KIT_INSPECTOR__,{get(e,t,n){return Reflect.get(e,t,n)}}),ij=cg(()=>{$g.hooks.callHook("sendInspectorToClient",oj())});function Fae(e,t){var n,r;JD.push({options:e,descriptor:t,treeFilterPlaceholder:(n=e.treeFilterPlaceholder)!=null?n:"Search tree...",stateFilterPlaceholder:(r=e.stateFilterPlaceholder)!=null?r:"Search state...",treeFilter:"",selectedNodeId:"",appRecord:d2(t.app)}),ij()}function oj(){return JD.filter(e=>e.descriptor.app===Ko.value.app).filter(e=>e.descriptor.id!=="components").map(e=>{var t;const n=e.descriptor,r=e.options;return{id:r.id,label:r.label,logo:n.logo,icon:`custom-ic-baseline-${(t=r==null?void 0:r.icon)==null?void 0:t.replace(/_/g,"-")}`,packageName:n.packageName,homepage:n.homepage,pluginId:n.id}})}function ow(e,t){return JD.find(n=>n.options.id===e&&(t?n.descriptor.app===t:!0))}function Nae(){const e=Z7();e.hook("addInspector",({inspector:r,plugin:i})=>{Fae(r,i.descriptor)});const t=cg(async({inspectorId:r,plugin:i})=>{var o;if(!r||!((o=i==null?void 0:i.descriptor)!=null&&o.app)||ro.highPerfModeEnabled)return;const s=ow(r,i.descriptor.app),a={app:i.descriptor.app,inspectorId:r,filter:(s==null?void 0:s.treeFilter)||"",rootNodes:[]};await new Promise(c=>{e.callHookWith(async h=>{await Promise.all(h.map(d=>d(a))),c()},"getInspectorTree")}),e.callHookWith(async c=>{await Promise.all(c.map(h=>h({inspectorId:r,rootNodes:a.rootNodes})))},"sendInspectorTreeToClient")},120);e.hook("sendInspectorTree",t);const n=cg(async({inspectorId:r,plugin:i})=>{var o;if(!r||!((o=i==null?void 0:i.descriptor)!=null&&o.app)||ro.highPerfModeEnabled)return;const s=ow(r,i.descriptor.app),a={app:i.descriptor.app,inspectorId:r,nodeId:(s==null?void 0:s.selectedNodeId)||"",state:null},c={currentTab:`custom-inspector:${r}`};a.nodeId&&await new Promise(h=>{e.callHookWith(async d=>{await Promise.all(d.map(g=>g(a,c))),h()},"getInspectorState")}),e.callHookWith(async h=>{await Promise.all(h.map(d=>d({inspectorId:r,nodeId:a.nodeId,state:a.state})))},"sendInspectorStateToClient")},120);return e.hook("sendInspectorState",n),e.hook("customInspectorSelectNode",({inspectorId:r,nodeId:i,plugin:o})=>{const s=ow(r,o.descriptor.app);s&&(s.selectedNodeId=i)}),e.hook("timelineLayerAdded",({options:r,plugin:i})=>{Bae(r,i.descriptor)}),e.hook("timelineEventAdded",({options:r,plugin:i})=>{var o;const s=["performance","component-event","keyboard","mouse"];ro.highPerfModeEnabled||!((o=ro.timelineLayersState)!=null&&o[i.descriptor.id])&&!s.includes(r.layerId)||e.callHookWith(async a=>{await Promise.all(a.map(c=>c(r)))},"sendTimelineEventToClient")}),e.hook("getComponentInstances",async({app:r})=>{const i=r.__VUE_DEVTOOLS_NEXT_APP_RECORD__;if(!i)return null;const o=i.id.toString();return[...i.instanceMap].filter(([a])=>a.split(":")[0]===o).map(([,a])=>a)}),e.hook("getComponentBounds",async({instance:r})=>Af(r)),e.hook("getComponentName",({instance:r})=>f2(r)),e.hook("componentHighlight",({uid:r})=>{const i=Ko.value.instanceMap.get(r);i&&Cae(i)}),e.hook("componentUnhighlight",()=>{nj()}),e}var n5,r5;(r5=(n5=hn).__VUE_DEVTOOLS_KIT_APP_RECORDS__)!=null||(n5.__VUE_DEVTOOLS_KIT_APP_RECORDS__=[]);var i5,o5;(o5=(i5=hn).__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__)!=null||(i5.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__={});var a5,s5;(s5=(a5=hn).__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__)!=null||(a5.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__="");var l5,u5;(u5=(l5=hn).__VUE_DEVTOOLS_KIT_CUSTOM_TABS__)!=null||(l5.__VUE_DEVTOOLS_KIT_CUSTOM_TABS__=[]);var c5,h5;(h5=(c5=hn).__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__)!=null||(c5.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__=[]);var lf="__VUE_DEVTOOLS_KIT_GLOBAL_STATE__";function Vae(){return{connected:!1,clientConnected:!1,vitePluginDetected:!0,appRecords:[],activeAppRecordId:"",tabs:[],commands:[],highPerfModeEnabled:!0,devtoolsClientDetected:{},perfUniqueGroupId:0,timelineLayersState:$ae()}}var d5,f5;(f5=(d5=hn)[lf])!=null||(d5[lf]=Vae());var jae=cg(e=>{$g.hooks.callHook("devtoolsStateUpdated",{state:e})});cg((e,t)=>{$g.hooks.callHook("devtoolsConnectedUpdated",{state:e,oldState:t})});var p2=new Proxy(hn.__VUE_DEVTOOLS_KIT_APP_RECORDS__,{get(e,t,n){return t==="value"?hn.__VUE_DEVTOOLS_KIT_APP_RECORDS__:hn.__VUE_DEVTOOLS_KIT_APP_RECORDS__[t]}}),Ko=new Proxy(hn.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__,{get(e,t,n){return t==="value"?hn.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__:t==="id"?hn.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__:hn.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__[t]}});function aj(){jae({...hn[lf],appRecords:p2.value,activeAppRecordId:Ko.id,tabs:hn.__VUE_DEVTOOLS_KIT_CUSTOM_TABS__,commands:hn.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__})}function Hae(e){hn.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__=e,aj()}function Uae(e){hn.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__=e,aj()}var ro=new Proxy(hn[lf],{get(e,t){return t==="appRecords"?p2:t==="activeAppRecordId"?Ko.id:t==="tabs"?hn.__VUE_DEVTOOLS_KIT_CUSTOM_TABS__:t==="commands"?hn.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__:hn[lf][t]},deleteProperty(e,t){return delete e[t],!0},set(e,t,n){return{...hn[lf]},e[t]=n,hn[lf][t]=n,!0}});function Gae(e={}){var t,n,r;const{file:i,host:o,baseUrl:s=window.location.origin,line:a=0,column:c=0}=e;if(i){if(o==="chrome-extension"){const h=i.replace(/\\/g,"\\\\"),d=(n=(t=window.VUE_DEVTOOLS_CONFIG)==null?void 0:t.openInEditorHost)!=null?n:"/";fetch(`${d}__open-in-editor?file=${encodeURI(i)}`).then(g=>{if(!g.ok){const y=`Opening component ${h} failed`;console.log(`%c${y}`,"color:red")}})}else if(ro.vitePluginDetected){const h=(r=hn.__VUE_DEVTOOLS_OPEN_IN_EDITOR_BASE_URL__)!=null?r:s;hn.__VUE_INSPECTOR__.openInEditor(h,i,a,c)}}}zt();zt();zt();zt();zt();var p5,m5;(m5=(p5=hn).__VUE_DEVTOOLS_KIT_PLUGIN_BUFFER__)!=null||(p5.__VUE_DEVTOOLS_KIT_PLUGIN_BUFFER__=[]);var QD=new Proxy(hn.__VUE_DEVTOOLS_KIT_PLUGIN_BUFFER__,{get(e,t,n){return Reflect.get(e,t,n)}});function tM(e){const t={};return Object.keys(e).forEach(n=>{t[n]=e[n].defaultValue}),t}function ek(e){return`__VUE_DEVTOOLS_NEXT_PLUGIN_SETTINGS__${e}__`}function Wae(e){var t,n,r;const i=(n=(t=QD.find(o=>{var s;return o[0].id===e&&!!((s=o[0])!=null&&s.settings)}))==null?void 0:t[0])!=null?n:null;return(r=i==null?void 0:i.settings)!=null?r:null}function sj(e,t){var n,r,i;const o=ek(e);if(o){const s=localStorage.getItem(o);if(s)return JSON.parse(s)}if(e){const s=(r=(n=QD.find(a=>a[0].id===e))==null?void 0:n[0])!=null?r:null;return tM((i=s==null?void 0:s.settings)!=null?i:{})}return tM(t)}function Zae(e,t){const n=ek(e);localStorage.getItem(n)||localStorage.setItem(n,JSON.stringify(tM(t)))}function qae(e,t,n){const r=ek(e),i=localStorage.getItem(r),o=JSON.parse(i||"{}"),s={...o,[t]:n};localStorage.setItem(r,JSON.stringify(s)),$g.hooks.callHookWith(a=>{a.forEach(c=>c({pluginId:e,key:t,oldValue:o[t],newValue:n,settings:s}))},"setPluginSettings")}zt();zt();zt();zt();zt();zt();zt();zt();zt();zt();zt();var g5,v5,Ja=(v5=(g5=hn).__VUE_DEVTOOLS_HOOK)!=null?v5:g5.__VUE_DEVTOOLS_HOOK=Z7(),Kae={vueAppInit(e){Ja.hook("app:init",e)},vueAppUnmount(e){Ja.hook("app:unmount",e)},vueAppConnected(e){Ja.hook("app:connected",e)},componentAdded(e){return Ja.hook("component:added",e)},componentEmit(e){return Ja.hook("component:emit",e)},componentUpdated(e){return Ja.hook("component:updated",e)},componentRemoved(e){return Ja.hook("component:removed",e)},setupDevtoolsPlugin(e){Ja.hook("devtools-plugin:setup",e)},perfStart(e){return Ja.hook("perf:start",e)},perfEnd(e){return Ja.hook("perf:end",e)}},lj={on:Kae,setupDevToolsPlugin(e,t){return Ja.callHook("devtools-plugin:setup",e,t)}},Xae=class{constructor({plugin:e,ctx:t}){this.hooks=t.hooks,this.plugin=e}get on(){return{visitComponentTree:e=>{this.hooks.hook("visitComponentTree",e)},inspectComponent:e=>{this.hooks.hook("inspectComponent",e)},editComponentState:e=>{this.hooks.hook("editComponentState",e)},getInspectorTree:e=>{this.hooks.hook("getInspectorTree",e)},getInspectorState:e=>{this.hooks.hook("getInspectorState",e)},editInspectorState:e=>{this.hooks.hook("editInspectorState",e)},inspectTimelineEvent:e=>{this.hooks.hook("inspectTimelineEvent",e)},timelineCleared:e=>{this.hooks.hook("timelineCleared",e)},setPluginSettings:e=>{this.hooks.hook("setPluginSettings",e)}}}notifyComponentUpdate(e){var t;if(ro.highPerfModeEnabled)return;const n=oj().find(r=>r.packageName===this.plugin.descriptor.packageName);if(n!=null&&n.id){if(e){const r=[e.appContext.app,e.uid,(t=e.parent)==null?void 0:t.uid,e];Ja.callHook("component:updated",...r)}else Ja.callHook("component:updated");this.hooks.callHook("sendInspectorState",{inspectorId:n.id,plugin:this.plugin})}}addInspector(e){this.hooks.callHook("addInspector",{inspector:e,plugin:this.plugin}),this.plugin.descriptor.settings&&Zae(e.id,this.plugin.descriptor.settings)}sendInspectorTree(e){ro.highPerfModeEnabled||this.hooks.callHook("sendInspectorTree",{inspectorId:e,plugin:this.plugin})}sendInspectorState(e){ro.highPerfModeEnabled||this.hooks.callHook("sendInspectorState",{inspectorId:e,plugin:this.plugin})}selectInspectorNode(e,t){this.hooks.callHook("customInspectorSelectNode",{inspectorId:e,nodeId:t,plugin:this.plugin})}visitComponentTree(e){return this.hooks.callHook("visitComponentTree",e)}now(){return ro.highPerfModeEnabled?0:Date.now()}addTimelineLayer(e){this.hooks.callHook("timelineLayerAdded",{options:e,plugin:this.plugin})}addTimelineEvent(e){ro.highPerfModeEnabled||this.hooks.callHook("timelineEventAdded",{options:e,plugin:this.plugin})}getSettings(e){return sj(e??this.plugin.descriptor.id,this.plugin.descriptor.settings)}getComponentInstances(e){return this.hooks.callHook("getComponentInstances",{app:e})}getComponentBounds(e){return this.hooks.callHook("getComponentBounds",{instance:e})}getComponentName(e){return this.hooks.callHook("getComponentName",{instance:e})}highlightElement(e){const t=e.__VUE_DEVTOOLS_NEXT_UID__;return this.hooks.callHook("componentHighlight",{uid:t})}unhighlightElement(){return this.hooks.callHook("componentUnhighlight")}},Yae=Xae;zt();zt();zt();zt();var Jae="__vue_devtool_undefined__",Qae="__vue_devtool_infinity__",ese="__vue_devtool_negative_infinity__",tse="__vue_devtool_nan__";zt();zt();var nse={[Jae]:"undefined",[tse]:"NaN",[Qae]:"Infinity",[ese]:"-Infinity"};Object.entries(nse).reduce((e,[t,n])=>(e[n]=t,e),{});zt();zt();zt();zt();zt();var y5,_5;(_5=(y5=hn).__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__)!=null||(y5.__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__=new Set);function rse(e,t){return lj.setupDevToolsPlugin(e,t)}function ise(e,t){const[n,r]=e;if(n.app!==t)return;const i=new Yae({plugin:{setupFn:r,descriptor:n},ctx:$g});n.packageName==="vuex"&&i.on.editInspectorState(o=>{i.sendInspectorState(o.inspectorId)}),r(i)}function uj(e){hn.__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__.has(e)||ro.highPerfModeEnabled||(hn.__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__.add(e),QD.forEach(t=>{ise(t,e)}))}zt();zt();var u0="__VUE_DEVTOOLS_ROUTER__",hg="__VUE_DEVTOOLS_ROUTER_INFO__",b5,x5;(x5=(b5=hn)[hg])!=null||(b5[hg]={currentRoute:null,routes:[]});var w5,S5;(S5=(w5=hn)[u0])!=null||(w5[u0]={});new Proxy(hn[hg],{get(e,t){return hn[hg][t]}});new Proxy(hn[u0],{get(e,t){if(t==="value")return hn[u0]}});function ose(e){const t=new Map;return((e==null?void 0:e.getRoutes())||[]).filter(n=>!t.has(n.path)&&t.set(n.path,1))}function tk(e){return e.map(t=>{let{path:n,name:r,children:i,meta:o}=t;return i!=null&&i.length&&(i=tk(i)),{path:n,name:r,children:i,meta:o}})}function ase(e){if(e){const{fullPath:t,hash:n,href:r,path:i,name:o,matched:s,params:a,query:c}=e;return{fullPath:t,hash:n,href:r,path:i,name:o,params:a,query:c,matched:tk(s)}}return e}function sse(e,t){function n(){var r;const i=(r=e.app)==null?void 0:r.config.globalProperties.$router,o=ase(i==null?void 0:i.currentRoute.value),s=tk(ose(i)),a=console.warn;console.warn=()=>{},hn[hg]={currentRoute:o?Z$(o):{},routes:Z$(s)},hn[u0]=i,console.warn=a}n(),lj.on.componentUpdated(cg(()=>{var r;((r=t.value)==null?void 0:r.app)===e.app&&(n(),!ro.highPerfModeEnabled&&$g.hooks.callHook("routerInfoUpdated",{state:hn[hg]}))},200))}function lse(e){return{async getInspectorTree(t){const n={...t,app:Ko.value.app,rootNodes:[]};return await new Promise(r=>{e.callHookWith(async i=>{await Promise.all(i.map(o=>o(n))),r()},"getInspectorTree")}),n.rootNodes},async getInspectorState(t){const n={...t,app:Ko.value.app,state:null},r={currentTab:`custom-inspector:${t.inspectorId}`};return await new Promise(i=>{e.callHookWith(async o=>{await Promise.all(o.map(s=>s(n,r))),i()},"getInspectorState")}),n.state},editInspectorState(t){const n=new Oae,r={...t,app:Ko.value.app,set:(i,o=t.path,s=t.state.value,a)=>{n.set(i,o,s,a||n.createDefaultSetCallback(t.state))}};e.callHookWith(i=>{i.forEach(o=>o(r))},"editInspectorState")},sendInspectorState(t){const n=ow(t);e.callHook("sendInspectorState",{inspectorId:t,plugin:{descriptor:n.descriptor,setupFn:()=>({})}})},inspectComponentInspector(){return Eae()},cancelInspectComponentInspector(){return Pae()},getComponentRenderCode(t){const n=JI(Ko.value,t);if(n)return(n==null?void 0:n.type)instanceof Function?n.type.toString():n.render.toString()},scrollToComponent(t){return Iae({id:t})},openInEditor:Gae,getVueInspector:Dae,toggleApp(t){const n=p2.value.find(r=>r.id===t);n&&(Uae(t),Hae(n),sse(n,Ko),ij(),uj(n.app))},inspectDOM(t){const n=JI(Ko.value,t);if(n){const[r]=qD(n);r&&(hn.__VUE_DEVTOOLS_INSPECT_DOM_TARGET__=r)}},updatePluginSettings(t,n,r){qae(t,n,r)},getPluginSettings(t){return{options:Wae(t),values:sj(t)}}}}zt();var C5,T5;(T5=(C5=hn).__VUE_DEVTOOLS_ENV__)!=null||(C5.__VUE_DEVTOOLS_ENV__={vitePluginDetected:!1});var P5=Nae(),E5,I5;(I5=(E5=hn).__VUE_DEVTOOLS_KIT_CONTEXT__)!=null||(E5.__VUE_DEVTOOLS_KIT_CONTEXT__={hooks:P5,get state(){return{...ro,activeAppRecordId:Ko.id,activeAppRecord:Ko.value,appRecords:p2.value}},api:lse(P5)});var $g=hn.__VUE_DEVTOOLS_KIT_CONTEXT__;zt();lae(cae());var M5,A5;(A5=(M5=hn).__VUE_DEVTOOLS_NEXT_APP_RECORD_INFO__)!=null||(M5.__VUE_DEVTOOLS_NEXT_APP_RECORD_INFO__={id:0,appIds:new Set});zt();function use(e){ro.highPerfModeEnabled=e??!ro.highPerfModeEnabled,!e&&Ko.value&&uj(Ko.value.app)}zt();zt();zt();function cse(e){ro.devtoolsClientDetected={...ro.devtoolsClientDetected,...e};const t=Object.values(ro.devtoolsClientDetected).some(Boolean);use(!t)}var D5,k5;(k5=(D5=hn).__VUE_DEVTOOLS_UPDATE_CLIENT_DETECTED__)!=null||(D5.__VUE_DEVTOOLS_UPDATE_CLIENT_DETECTED__=cse);zt();zt();zt();zt();zt();zt();zt();var hse=class{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(e,t){this.keyToValue.set(e,t),this.valueToKey.set(t,e)}getByKey(e){return this.keyToValue.get(e)}getByValue(e){return this.valueToKey.get(e)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}},cj=class{constructor(e){this.generateIdentifier=e,this.kv=new hse}register(e,t){this.kv.getByValue(e)||(t||(t=this.generateIdentifier(e)),this.kv.set(t,e))}clear(){this.kv.clear()}getIdentifier(e){return this.kv.getByValue(e)}getValue(e){return this.kv.getByKey(e)}},dse=class extends cj{constructor(){super(e=>e.name),this.classToAllowedProps=new Map}register(e,t){typeof t=="object"?(t.allowProps&&this.classToAllowedProps.set(e,t.allowProps),super.register(e,t.identifier)):super.register(e,t)}getAllowedProps(e){return this.classToAllowedProps.get(e)}};zt();zt();function fse(e){if("values"in Object)return Object.values(e);const t=[];for(const n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function pse(e,t){const n=fse(e);if("find"in n)return n.find(t);const r=n;for(let i=0;i<r.length;i++){const o=r[i];if(t(o))return o}}function dg(e,t){Object.entries(e).forEach(([n,r])=>t(r,n))}function aw(e,t){return e.indexOf(t)!==-1}function O5(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(t(r))return r}}var mse=class{constructor(){this.transfomers={}}register(e){this.transfomers[e.name]=e}findApplicable(e){return pse(this.transfomers,t=>t.isApplicable(e))}findByName(e){return this.transfomers[e]}};zt();zt();var gse=e=>Object.prototype.toString.call(e).slice(8,-1),hj=e=>typeof e>"u",vse=e=>e===null,c0=e=>typeof e!="object"||e===null||e===Object.prototype?!1:Object.getPrototypeOf(e)===null?!0:Object.getPrototypeOf(e)===Object.prototype,nM=e=>c0(e)&&Object.keys(e).length===0,Ch=e=>Array.isArray(e),yse=e=>typeof e=="string",_se=e=>typeof e=="number"&&!isNaN(e),bse=e=>typeof e=="boolean",xse=e=>e instanceof RegExp,h0=e=>e instanceof Map,d0=e=>e instanceof Set,dj=e=>gse(e)==="Symbol",wse=e=>e instanceof Date&&!isNaN(e.valueOf()),Sse=e=>e instanceof Error,R5=e=>typeof e=="number"&&isNaN(e),Cse=e=>bse(e)||vse(e)||hj(e)||_se(e)||yse(e)||dj(e),Tse=e=>typeof e=="bigint",Pse=e=>e===1/0||e===-1/0,Ese=e=>ArrayBuffer.isView(e)&&!(e instanceof DataView),Ise=e=>e instanceof URL;zt();var fj=e=>e.replace(/\./g,"\\."),hP=e=>e.map(String).map(fj).join("."),O_=e=>{const t=[];let n="";for(let i=0;i<e.length;i++){let o=e.charAt(i);if(o==="\\"&&e.charAt(i+1)==="."){n+=".",i++;continue}if(o==="."){t.push(n),n="";continue}n+=o}const r=n;return t.push(r),t};zt();function Sl(e,t,n,r){return{isApplicable:e,annotation:t,transform:n,untransform:r}}var pj=[Sl(hj,"undefined",()=>null,()=>{}),Sl(Tse,"bigint",e=>e.toString(),e=>typeof BigInt<"u"?BigInt(e):(console.error("Please add a BigInt polyfill."),e)),Sl(wse,"Date",e=>e.toISOString(),e=>new Date(e)),Sl(Sse,"Error",(e,t)=>{const n={name:e.name,message:e.message};return t.allowedErrorProps.forEach(r=>{n[r]=e[r]}),n},(e,t)=>{const n=new Error(e.message);return n.name=e.name,n.stack=e.stack,t.allowedErrorProps.forEach(r=>{n[r]=e[r]}),n}),Sl(xse,"regexp",e=>""+e,e=>{const t=e.slice(1,e.lastIndexOf("/")),n=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,n)}),Sl(d0,"set",e=>[...e.values()],e=>new Set(e)),Sl(h0,"map",e=>[...e.entries()],e=>new Map(e)),Sl(e=>R5(e)||Pse(e),"number",e=>R5(e)?"NaN":e>0?"Infinity":"-Infinity",Number),Sl(e=>e===0&&1/e===-1/0,"number",()=>"-0",Number),Sl(Ise,"URL",e=>e.toString(),e=>new URL(e))];function m2(e,t,n,r){return{isApplicable:e,annotation:t,transform:n,untransform:r}}var mj=m2((e,t)=>dj(e)?!!t.symbolRegistry.getIdentifier(e):!1,(e,t)=>["symbol",t.symbolRegistry.getIdentifier(e)],e=>e.description,(e,t,n)=>{const r=n.symbolRegistry.getValue(t[1]);if(!r)throw new Error("Trying to deserialize unknown symbol");return r}),Mse=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((e,t)=>(e[t.name]=t,e),{}),gj=m2(Ese,e=>["typed-array",e.constructor.name],e=>[...e],(e,t)=>{const n=Mse[t[1]];if(!n)throw new Error("Trying to deserialize unknown typed array");return new n(e)});function vj(e,t){return e!=null&&e.constructor?!!t.classRegistry.getIdentifier(e.constructor):!1}var yj=m2(vj,(e,t)=>["class",t.classRegistry.getIdentifier(e.constructor)],(e,t)=>{const n=t.classRegistry.getAllowedProps(e.constructor);if(!n)return{...e};const r={};return n.forEach(i=>{r[i]=e[i]}),r},(e,t,n)=>{const r=n.classRegistry.getValue(t[1]);if(!r)throw new Error("Trying to deserialize unknown class - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564");return Object.assign(Object.create(r.prototype),e)}),_j=m2((e,t)=>!!t.customTransformerRegistry.findApplicable(e),(e,t)=>["custom",t.customTransformerRegistry.findApplicable(e).name],(e,t)=>t.customTransformerRegistry.findApplicable(e).serialize(e),(e,t,n)=>{const r=n.customTransformerRegistry.findByName(t[1]);if(!r)throw new Error("Trying to deserialize unknown custom value");return r.deserialize(e)}),Ase=[yj,mj,_j,gj],L5=(e,t)=>{const n=O5(Ase,i=>i.isApplicable(e,t));if(n)return{value:n.transform(e,t),type:n.annotation(e,t)};const r=O5(pj,i=>i.isApplicable(e,t));if(r)return{value:r.transform(e,t),type:r.annotation}},bj={};pj.forEach(e=>{bj[e.annotation]=e});var Dse=(e,t,n)=>{if(Ch(t))switch(t[0]){case"symbol":return mj.untransform(e,t,n);case"class":return yj.untransform(e,t,n);case"custom":return _j.untransform(e,t,n);case"typed-array":return gj.untransform(e,t,n);default:throw new Error("Unknown transformation: "+t)}else{const r=bj[t];if(!r)throw new Error("Unknown transformation: "+t);return r.untransform(e,n)}};zt();var Pm=(e,t)=>{const n=e.keys();for(;t>0;)n.next(),t--;return n.next().value};function xj(e){if(aw(e,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(aw(e,"prototype"))throw new Error("prototype is not allowed as a property");if(aw(e,"constructor"))throw new Error("constructor is not allowed as a property")}var kse=(e,t)=>{xj(t);for(let n=0;n<t.length;n++){const r=t[n];if(d0(e))e=Pm(e,+r);else if(h0(e)){const i=+r,o=+t[++n]==0?"key":"value",s=Pm(e,i);switch(o){case"key":e=s;break;case"value":e=e.get(s);break}}else e=e[r]}return e},rM=(e,t,n)=>{if(xj(t),t.length===0)return n(e);let r=e;for(let o=0;o<t.length-1;o++){const s=t[o];if(Ch(r)){const a=+s;r=r[a]}else if(c0(r))r=r[s];else if(d0(r)){const a=+s;r=Pm(r,a)}else if(h0(r)){if(o===t.length-2)break;const c=+s,h=+t[++o]==0?"key":"value",d=Pm(r,c);switch(h){case"key":r=d;break;case"value":r=r.get(d);break}}}const i=t[t.length-1];if(Ch(r)?r[+i]=n(r[+i]):c0(r)&&(r[i]=n(r[i])),d0(r)){const o=Pm(r,+i),s=n(o);o!==s&&(r.delete(o),r.add(s))}if(h0(r)){const o=+t[t.length-2],s=Pm(r,o);switch(+i==0?"key":"value"){case"key":{const c=n(s);r.set(c,r.get(s)),c!==s&&r.delete(s);break}case"value":{r.set(s,n(r.get(s)));break}}}return e};function iM(e,t,n=[]){if(!e)return;if(!Ch(e)){dg(e,(o,s)=>iM(o,t,[...n,...O_(s)]));return}const[r,i]=e;i&&dg(i,(o,s)=>{iM(o,t,[...n,...O_(s)])}),t(r,n)}function Ose(e,t,n){return iM(t,(r,i)=>{e=rM(e,i,o=>Dse(o,r,n))}),e}function Rse(e,t){function n(r,i){const o=kse(e,O_(i));r.map(O_).forEach(s=>{e=rM(e,s,()=>o)})}if(Ch(t)){const[r,i]=t;r.forEach(o=>{e=rM(e,O_(o),()=>e)}),i&&dg(i,n)}else dg(t,n);return e}var Lse=(e,t)=>c0(e)||Ch(e)||h0(e)||d0(e)||vj(e,t);function $se(e,t,n){const r=n.get(e);r?r.push(t):n.set(e,[t])}function zse(e,t){const n={};let r;return e.forEach(i=>{if(i.length<=1)return;t||(i=i.map(a=>a.map(String)).sort((a,c)=>a.length-c.length));const[o,...s]=i;o.length===0?r=s.map(hP):n[hP(o)]=s.map(hP)}),r?nM(n)?[r]:[r,n]:nM(n)?void 0:n}var wj=(e,t,n,r,i=[],o=[],s=new Map)=>{var a;const c=Cse(e);if(!c){$se(e,i,t);const x=s.get(e);if(x)return r?{transformedValue:null}:x}if(!Lse(e,n)){const x=L5(e,n),C=x?{transformedValue:x.value,annotations:[x.type]}:{transformedValue:e};return c||s.set(e,C),C}if(aw(o,e))return{transformedValue:null};const h=L5(e,n),d=(a=h==null?void 0:h.value)!=null?a:e,g=Ch(d)?[]:{},y={};dg(d,(x,C)=>{if(C==="__proto__"||C==="constructor"||C==="prototype")throw new Error(`Detected property ${C}. This is a prototype pollution risk, please remove it from your object.`);const I=wj(x,t,n,r,[...i,C],[...o,e],s);g[C]=I.transformedValue,Ch(I.annotations)?y[C]=I.annotations:c0(I.annotations)&&dg(I.annotations,(A,k)=>{y[fj(C)+"."+k]=A})});const v=nM(y)?{transformedValue:g,annotations:h?[h.type]:void 0}:{transformedValue:g,annotations:h?[h.type,y]:y};return c||s.set(e,v),v};zt();zt();function Sj(e){return Object.prototype.toString.call(e).slice(8,-1)}function $5(e){return Sj(e)==="Array"}function Bse(e){if(Sj(e)!=="Object")return!1;const t=Object.getPrototypeOf(e);return!!t&&t.constructor===Object&&t===Object.prototype}function Fse(e,t,n,r,i){const o={}.propertyIsEnumerable.call(r,t)?"enumerable":"nonenumerable";o==="enumerable"&&(e[t]=n),i&&o==="nonenumerable"&&Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0,configurable:!0})}function oM(e,t={}){if($5(e))return e.map(i=>oM(i,t));if(!Bse(e))return e;const n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertySymbols(e);return[...n,...r].reduce((i,o)=>{if($5(t.props)&&!t.props.includes(o))return i;const s=e[o],a=oM(s,t);return Fse(i,o,a,e,t.nonenumerable),i},{})}var ei=class{constructor({dedupe:e=!1}={}){this.classRegistry=new dse,this.symbolRegistry=new cj(t=>{var n;return(n=t.description)!=null?n:""}),this.customTransformerRegistry=new mse,this.allowedErrorProps=[],this.dedupe=e}serialize(e){const t=new Map,n=wj(e,t,this,this.dedupe),r={json:n.transformedValue};n.annotations&&(r.meta={...r.meta,values:n.annotations});const i=zse(t,this.dedupe);return i&&(r.meta={...r.meta,referentialEqualities:i}),r}deserialize(e){const{json:t,meta:n}=e;let r=oM(t);return n!=null&&n.values&&(r=Ose(r,n.values,this)),n!=null&&n.referentialEqualities&&(r=Rse(r,n.referentialEqualities)),r}stringify(e){return JSON.stringify(this.serialize(e))}parse(e){return this.deserialize(JSON.parse(e))}registerClass(e,t){this.classRegistry.register(e,t)}registerSymbol(e,t){this.symbolRegistry.register(e,t)}registerCustom(e,t){this.customTransformerRegistry.register({name:t,...e})}allowErrorProps(...e){this.allowedErrorProps.push(...e)}};ei.defaultInstance=new ei;ei.serialize=ei.defaultInstance.serialize.bind(ei.defaultInstance);ei.deserialize=ei.defaultInstance.deserialize.bind(ei.defaultInstance);ei.stringify=ei.defaultInstance.stringify.bind(ei.defaultInstance);ei.parse=ei.defaultInstance.parse.bind(ei.defaultInstance);ei.registerClass=ei.defaultInstance.registerClass.bind(ei.defaultInstance);ei.registerSymbol=ei.defaultInstance.registerSymbol.bind(ei.defaultInstance);ei.registerCustom=ei.defaultInstance.registerCustom.bind(ei.defaultInstance);ei.allowErrorProps=ei.defaultInstance.allowErrorProps.bind(ei.defaultInstance);zt();zt();zt();zt();zt();zt();zt();zt();zt();zt();zt();zt();zt();zt();zt();zt();zt();zt();zt();zt();zt();zt();zt();var z5,B5;(B5=(z5=hn).__VUE_DEVTOOLS_KIT_MESSAGE_CHANNELS__)!=null||(z5.__VUE_DEVTOOLS_KIT_MESSAGE_CHANNELS__=[]);var F5,N5;(N5=(F5=hn).__VUE_DEVTOOLS_KIT_RPC_CLIENT__)!=null||(F5.__VUE_DEVTOOLS_KIT_RPC_CLIENT__=null);var V5,j5;(j5=(V5=hn).__VUE_DEVTOOLS_KIT_RPC_SERVER__)!=null||(V5.__VUE_DEVTOOLS_KIT_RPC_SERVER__=null);var H5,U5;(U5=(H5=hn).__VUE_DEVTOOLS_KIT_VITE_RPC_CLIENT__)!=null||(H5.__VUE_DEVTOOLS_KIT_VITE_RPC_CLIENT__=null);var G5,W5;(W5=(G5=hn).__VUE_DEVTOOLS_KIT_VITE_RPC_SERVER__)!=null||(G5.__VUE_DEVTOOLS_KIT_VITE_RPC_SERVER__=null);var Z5,q5;(q5=(Z5=hn).__VUE_DEVTOOLS_KIT_BROADCAST_RPC_SERVER__)!=null||(Z5.__VUE_DEVTOOLS_KIT_BROADCAST_RPC_SERVER__=null);zt();zt();zt();zt();zt();zt();zt();const Nse=JSON.parse('{"navbar":[{"text":"主页","link":"/"},{"text":"快讯网","link":"https://daily.sustech.online/"},{"text":"小程序","link":"/miniapp/"},{"text":"关于","link":"/about/"},{"text":"站点帮助","link":"/site-help/"}],"repo":"sustech-cra/sustech-online-ng","repoLabel":"在Github上查看","docsRepo":"sustech-cra/sustech-online-ng","docsDir":"docs","editLinkText":"一起完善这本手册！","lastUpdatedText":"上次更新","contributorsText":"贡献者","editLink":true,"docsBranch":"master","tip":"提示","warning":"注意","danger":"警告","notFound":["这里什么都没有","我们怎么到这来了？","这是一个 404 页面","看起来我们进入了错误的链接"],"backToHome":"返回首页","openInNewWindow":"在新窗口打开","toggleColorMode":"切换夜间模式","toggleSidebar":"切换侧边栏","sidebarDepth":2,"sidebar":["/","/facility/","/contact/","/calendar/","/service/","/life/","/study/","/canteen/","/organizations/","/media/",{"text":"🚄交通","link":"/transport/","children":[{"text":"🚌新版巴士时刻表","link":"/transport/bustimer.md","children":[]},{"text":"周围交通","link":"/transport/","children":[]}]},"/surroundings/"],"locales":{"/":{"selectLanguageName":"English"}},"colorMode":"auto","colorModeSwitch":true,"logo":null,"selectLanguageText":"Languages","selectLanguageAriaLabel":"Select language","lastUpdated":true,"contributors":true}'),Vse=Ot(Nse),Cj=()=>Vse,Tj=Symbol(""),jse=()=>{const e=Mn(Tj);if(!e)throw new Error("useThemeLocaleData() is called without provider.");return e},Hse=(e,t)=>{const{locales:n,...r}=e;return{...r,...n==null?void 0:n[t]}},Use=pl({enhance({app:e}){const t=Cj(),n=e._context.provides[$D],r=ge(()=>Hse(t.value,n.routeLocale.value));e.provide(Tj,r),Object.defineProperties(e.config.globalProperties,{$theme:{get(){return t.value}},$themeLocale:{get(){return r.value}}}),rse({app:e,id:"org.vuejs.vuepress.plugin-theme-data",label:"VuePress Theme Data Plugin",packageName:"@vuepress/plugin-theme-data",homepage:"https://v2.vuepress.vuejs.org",logo:"https://v2.vuepress.vuejs.org/images/hero.png",componentStateTypes:["VuePress"]},i=>{i.on.inspectComponent(o=>{o.instanceData.state.push({type:"VuePress",key:"themeData",editable:!1,value:t.value},{type:"VuePress",key:"themeLocaleData",editable:!1,value:r.value})})})}}),Gse=Object.freeze(Object.defineProperty({__proto__:null,default:Use},Symbol.toStringTag,{value:"Module"})),Wse=()=>Cj(),lo=()=>jse(),Pj=Symbol(""),Zse=e=>{const t=(n=e.value)=>{const r=window.document.documentElement;r.dataset.theme=n?"dark":"light"};Nn(()=>{k7(e,t)}),eu(()=>{t()})},nk=()=>{const e=Mn(Pj);if(!e)throw new Error("useDarkMode() is called without provider.");return e},qse=()=>{const e=lo(),t=lie(),n=HD("vuepress-color-scheme",e.value.colorMode),r=ge({get(){return e.value.colorModeSwitch?n.value==="auto"?t.value:n.value==="dark":e.value.colorMode==="dark"},set(i){i===t.value?n.value="auto":n.value=i?"dark":"light"}});fr(Pj,r),Zse(r)};let dP=null,Ey=null;const Kse={wait:()=>dP,pending:()=>{dP=new Promise(e=>{Ey=e})},resolve:()=>{Ey==null||Ey(),dP=null,Ey=null}},Ej=()=>Kse,fg=(e,t)=>{const{notFound:n,meta:r,path:i}=l0(e,t);return n?{text:i,link:i}:{text:r.title||i,link:i}},K5=e=>decodeURI(e).replace(/#.*$/,"").replace(/(index)?\.(md|html)$/,""),Xse=(e,t)=>{if(t.hash===e)return!0;const n=K5(t.path),r=K5(e);return n===r},Ij=(e,t)=>e.link&&Xse(e.link,t)?!0:"children"in e?e.children.some(n=>Ij(n,t)):!1,Mj=e=>!nne(e)&&!rb(e),Aj=e=>!a2(e)||e.includes("github.com")?"GitHub":e.includes("bitbucket.org")?"Bitbucket":e.includes("gitlab.com")?"GitLab":e.includes("gitee.com")?"Gitee":null,Yse={GitHub:":repo/edit/:branch/:path",GitLab:":repo/-/edit/:branch/:path",Gitee:":repo/edit/:branch/:path",Bitbucket:":repo/src/:branch/:path?mode=edit&spa=0&at=:branch&fileviewer=file-view-default"},Jse=({docsRepo:e,editLinkPattern:t})=>{if(t)return t;const n=Aj(e);return n!==null?Yse[n]:null},Qse=({docsRepo:e,docsBranch:t,docsDir:n,filePathRelative:r,editLinkPattern:i})=>{if(!r)return null;const o=Jse({docsRepo:e,editLinkPattern:i});return o?o.replace(/:repo/,a2(e)?e:`https://github.com/${e}`).replace(/:branch/,t).replace(/:path/,kD(`${r7(n)}/${r}`)):null},Hm=(e="",t="")=>H7(t)||rb(t)?t:`${dne(e)}${t}`,sw=Ot([]),ele=()=>{const e=kh(),t=lo(),n=fl(),r=ge(()=>n.value.sidebarDepth??t.value.sidebarDepth??2);e.beforeEach((o,s)=>{o.path!==s.path&&(sw.value=[])});const i=()=>{if(r.value<=0){sw.value=[];return}sw.value=Uie({levels:[2,r.value+1],ignore:[".vp-badge"]})};qt(r,i),Nn(i)},tle=()=>sw,nle=e=>({text:e.title,link:e.link,children:rk(e.children)}),rk=e=>e?e.map(t=>nle(t)):[],Dj=(e,t)=>[{text:e.title,children:rk(t)}],kj=(e,t,n,r="")=>{const i=(o,s)=>{var c;const a=al(o)?fg(Hm(s,o)):al(o.link)?{...o,link:Mj(o.link)?fg(Hm(s,o.link)).link:o.link}:o;if("children"in a)return{...a,children:a.children.map(h=>i(h,Hm(s,a.prefix)))};if(a.link===n){const h=((c=t[0])==null?void 0:c.level)===1?t[0].children:t;return{...a,children:rk(h)}}return a};return e.map(o=>i(o,r))},rle=(e,t,n,r)=>{const i=Zie(e).sort((o,s)=>s.length-o.length);for(const o of i)if(j7(decodeURI(r),o)){const s=e[o];return s?s==="heading"?Dj(t,n):kj(s,n,r,o):[]}return console.warn(`${decodeURI(r)} is missing sidebar config.`),[]},Oj=Symbol("sidebarItems"),ik=()=>{const e=Mn(Oj);if(!e)throw new Error("useSidebarItems() is called without provider.");return e},ile=(e,t,n,r,i)=>e===!1?[]:e==="heading"?Dj(t,i):Array.isArray(e)?kj(e,i,n,r):OD(e)?rle(e,t,i,n):[],ole=()=>{const e=lo(),t=fl(),n=jf(),r=tu(),i=Hf(),o=tle(),s=ge(()=>t.value.home?!1:t.value.sidebar??e.value.sidebar??"heading"),a=ge(()=>ile(s.value,n.value,r.path,i.value,o.value));fr(Oj,a)},ale=Pt({__name:"Badge",props:{type:{default:"tip"},text:{default:""},vertical:{default:void 0}},setup(e,{expose:t}){t();const n={};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}}),Zn=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n};function sle(e,t,n,r,i,o){return Dt(),Zt("span",{class:Jo(["vp-badge",n.type]),style:kg({verticalAlign:n.vertical})},[_i(e.$slots,"default",{},()=>[Wi(Rn(n.text),1)])],6)}const lle=Zn(ale,[["render",sle],["__file","Badge.vue"]]),ule=Pt({__name:"VPHomeFeatures",setup(e,{expose:t}){t();const n=fl(),r=ge(()=>n.value.features??[]),i={frontmatter:n,features:r};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),cle={key:0,class:"vp-features"};function hle(e,t,n,r,i,o){return r.features.length?(Dt(),Zt("div",cle,[(Dt(!0),Zt(vn,null,ea(r.features,s=>(Dt(),Zt("div",{key:s.title,class:"vp-feature"},[kt("h2",null,Rn(s.title),1),kt("p",null,Rn(s.details),1)]))),128))])):vr("",!0)}const dle=Zn(ule,[["render",hle],["__file","VPHomeFeatures.vue"]]),fle=Pt({__name:"VPHomeFooter",setup(e,{expose:t}){t();const n=fl(),r=ge(()=>n.value.footer),i=ge(()=>n.value.footerHtml),o={frontmatter:n,footer:r,footerHtml:i};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}}),ple=["innerHTML"],mle=["textContent"];function gle(e,t,n,r,i,o){return r.footer?(Dt(),Zt(vn,{key:0},[r.footerHtml?(Dt(),Zt("div",{key:0,class:"vp-footer","vp-footer":"",innerHTML:r.footer},null,8,ple)):(Dt(),Zt("div",{key:1,class:"vp-footer","vp-footer":"",textContent:Rn(r.footer)},null,8,mle))],64)):vr("",!0)}const vle=Zn(fle,[["render",gle],["__file","VPHomeFooter.vue"]]),yle=Pt({__name:"VPHomeHero",setup(e,{expose:t}){t();const n=fl(),r=zD(),i=nk(),o=ge(()=>n.value.heroText===null?null:n.value.heroText||r.value.title||"Hello"),s=ge(()=>n.value.tagline===null?null:n.value.tagline||r.value.description||"Welcome to your VuePress site"),a=ge(()=>i.value&&n.value.heroImageDark!==void 0?n.value.heroImageDark:n.value.heroImage),c=ge(()=>n.value.heroAlt||o.value||"hero"),h=ge(()=>n.value.heroHeight??280),d=ge(()=>Array.isArray(n.value.actions)?n.value.actions.map(({text:v,link:x,type:C="primary"})=>({text:v,link:x,type:C})):[]),y={frontmatter:n,siteLocale:r,isDarkMode:i,heroText:o,tagline:s,heroImage:a,heroAlt:c,heroHeight:h,actions:d,HomeHeroImage:()=>{if(!a.value)return null;const v=Cn("img",{class:"vp-hero-image",src:u2(a.value),alt:c.value,height:h.value});return n.value.heroImageDark===void 0?v:Cn(BD,()=>v)},get AutoLink(){return Rg}};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}}),_le={class:"vp-hero"},ble={key:0,id:"main-title"},xle={key:1,class:"vp-hero-description"},wle={key:2,class:"vp-hero-actions"};function Sle(e,t,n,r,i,o){return Dt(),Zt("header",_le,[ne(r.HomeHeroImage),r.heroText?(Dt(),Zt("h1",ble,Rn(r.heroText),1)):vr("",!0),r.tagline?(Dt(),Zt("p",xle,Rn(r.tagline),1)):vr("",!0),r.actions.length?(Dt(),Zt("p",wle,[(Dt(!0),Zt(vn,null,ea(r.actions,s=>(Dt(),Gr(r.AutoLink,{key:s.text,class:Jo(["vp-hero-action-button",[s.type]]),config:s},null,8,["class","config"]))),128))])):vr("",!0)])}const Cle=Zn(yle,[["render",Sle],["__file","VPHomeHero.vue"]]),Tle=Pt({__name:"VPHome",setup(e,{expose:t}){t();const n={VPHomeFeatures:dle,VPHomeFooter:vle,VPHomeHero:Cle,get Content(){return FD}};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}}),Ple={class:"vp-home"},Ele={"vp-content":""};function Ile(e,t,n,r,i,o){return Dt(),Zt("main",Ple,[ne(r.VPHomeHero),ne(r.VPHomeFeatures),kt("div",Ele,[ne(r.Content)]),ne(r.VPHomeFooter)])}const Mle=Zn(Tle,[["render",Ile],["__file","VPHome.vue"]]),Ale=Pt({__name:"VPNavbarBrand",setup(e,{expose:t}){t();const n=Hf(),r=zD(),i=lo(),o=nk(),s=ge(()=>i.value.home||n.value),a=ge(()=>r.value.title),c=ge(()=>o.value&&i.value.logoDark!==void 0?i.value.logoDark:i.value.logo),h=ge(()=>i.value.logoAlt??a.value),d=ge(()=>a.value.toLocaleUpperCase().trim()===h.value.toLocaleUpperCase().trim()),y={routeLocale:n,siteLocale:r,themeLocale:i,isDarkMode:o,navbarBrandLink:s,navbarBrandTitle:a,navbarBrandLogo:c,navbarBrandLogoAlt:h,navBarLogoAltMatchesTitle:d,NavbarBrandLogo:()=>{if(!c.value)return null;const v=Cn("img",{class:"vp-site-logo",src:u2(c.value),alt:h.value});return i.value.logoDark===void 0?v:Cn(BD,()=>v)},get RouteLink(){return ib}};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}}),Dle=["aria-hidden"];function kle(e,t,n,r,i,o){return Dt(),Gr(r.RouteLink,{to:r.navbarBrandLink},{default:Bn(()=>[ne(r.NavbarBrandLogo),r.navbarBrandTitle?(Dt(),Zt("span",{key:0,class:Jo(["vp-site-name",{"vp-hide-mobile":r.navbarBrandLogo}]),"aria-hidden":r.navBarLogoAltMatchesTitle},Rn(r.navbarBrandTitle),11,Dle)):vr("",!0)]),_:1},8,["to"])}const Ole=Zn(Ale,[["render",kle],["__file","VPNavbarBrand.vue"]]),Rle=Pt({__name:"VPDropdownTransition",setup(e,{expose:t}){t();const i={setHeight:o=>{o.style.height=`${o.scrollHeight}px`},unsetHeight:o=>{o.style.height=""}};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}});function Lle(e,t,n,r,i,o){return Dt(),Gr(us,{name:"vp-dropdown",onEnter:r.setHeight,onAfterEnter:r.unsetHeight,onBeforeLeave:r.setHeight},{default:Bn(()=>[_i(e.$slots,"default")]),_:3})}const Rj=Zn(Rle,[["render",Lle],["__file","VPDropdownTransition.vue"]]),$le=Pt({__name:"VPNavbarDropdown",props:{config:{}},setup(e,{expose:t}){t();const n=e,{config:r}=Q0(n),i=tu(),[o,s]=D7(!1),a=ge(()=>r.value.ariaLabel||r.value.text),c=(g,y)=>y[y.length-1]===g,h=g=>{g.detail===0?s():s(!1)};qt(()=>i.path,()=>{s(!1)});const d={props:n,config:r,route:i,open:o,toggleOpen:s,dropdownAriaLabel:a,isLastItemOfArray:c,handleDropdown:h,VPDropdownTransition:Rj,get AutoLink(){return Rg}};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}}),zle=["aria-label"],Ble={class:"title"},Fle=["aria-label"],Nle={class:"title"},Vle={class:"vp-navbar-dropdown"},jle={class:"vp-navbar-dropdown-subtitle"},Hle={key:1},Ule={class:"vp-navbar-dropdown-subitem-wrapper"};function Gle(e,t,n,r,i,o){return Dt(),Zt("div",{class:Jo(["vp-navbar-dropdown-wrapper",{open:r.open}])},[kt("button",{class:"vp-navbar-dropdown-title",type:"button","aria-label":r.dropdownAriaLabel,onClick:r.handleDropdown},[kt("span",Ble,Rn(r.config.text),1),t[1]||(t[1]=kt("span",{class:"arrow down"},null,-1))],8,zle),kt("button",{class:"vp-navbar-dropdown-title-mobile",type:"button","aria-label":r.dropdownAriaLabel,onClick:t[0]||(t[0]=()=>r.toggleOpen())},[kt("span",Nle,Rn(r.config.text),1),kt("span",{class:Jo(["arrow",r.open?"down":"right"])},null,2)],8,Fle),ne(r.VPDropdownTransition,null,{default:Bn(()=>[xh(kt("ul",Vle,[(Dt(!0),Zt(vn,null,ea(r.config.children,s=>(Dt(),Zt("li",{key:s.text,class:"vp-navbar-dropdown-item"},["children"in s?(Dt(),Zt(vn,{key:0},[kt("h4",jle,[s.link?(Dt(),Gr(r.AutoLink,{key:0,config:s,onFocusout:()=>{r.isLastItemOfArray(s,r.config.children)&&s.children.length===0&&(r.open=!1)}},null,8,["config","onFocusout"])):(Dt(),Zt("span",Hle,Rn(s.text),1))]),kt("ul",Ule,[(Dt(!0),Zt(vn,null,ea(s.children,a=>(Dt(),Zt("li",{key:a.link,class:"vp-navbar-dropdown-subitem"},[ne(r.AutoLink,{config:a,onFocusout:()=>{r.isLastItemOfArray(a,s.children)&&r.isLastItemOfArray(s,r.config.children)&&r.toggleOpen(!1)}},null,8,["config","onFocusout"])]))),128))])],64)):(Dt(),Gr(r.AutoLink,{key:1,config:s,onFocusout:()=>{r.isLastItemOfArray(s,r.config.children)&&r.toggleOpen(!1)}},null,8,["config","onFocusout"]))]))),128))],512),[[Mf,r.open]])]),_:1})],2)}const Wle=Zn($le,[["render",Gle],["__file","VPNavbarDropdown.vue"]]),Lj=(e,t="")=>al(e)?fg(Hm(t,e)):"children"in e?{...e,children:e.children.map(n=>Lj(n,Hm(t,e.prefix)))}:{...e,link:Mj(e.link)?fg(Hm(t,e.link)).link:e.link},Zle=()=>{const e=lo();return ge(()=>(e.value.navbar||[]).map(t=>Lj(t)))},qle=()=>{const e=lo(),t=ge(()=>e.value.repo),n=ge(()=>t.value?Aj(t.value):null),r=ge(()=>t.value&&!a2(t.value)?`https://github.com/${t.value}`:t.value),i=ge(()=>r.value?e.value.repoLabel?e.value.repoLabel:n.value===null?"Source":n.value:null);return ge(()=>!r.value||!i.value?[]:[{text:i.value,link:r.value}])},Kle=()=>{const e=tu(),t=Gie(),n=Hf(),r=E7(),i=zD(),o=Wse(),s=lo();return ge(()=>{const a=Object.keys(r.value.locales);if(a.length<2)return[];const c=e.path,h=e.fullPath;return[{text:`${s.value.selectLanguageText}`,ariaLabel:`${s.value.selectLanguageAriaLabel??s.value.selectLanguageText}`,children:a.map(g=>{var A,k;const y=((A=r.value.locales)==null?void 0:A[g])??{},v=((k=o.value.locales)==null?void 0:k[g])??{},x=`${y.lang}`,C=v.selectLanguageName??x;if(x===i.value.lang)return{text:C,activeMatch:".",link:e.fullPath};const I=c.replace(n.value,g);return{text:C,link:t.value.some(R=>R===I)?h.replace(c,I):v.home??g}})}]})},Xle="719px",Yle={mobile:Xle};var f0;(function(e){e.Mobile="mobile"})(f0||(f0={}));const Jle={[f0.Mobile]:Number.parseInt(Yle.mobile.replace("px",""),10)},$j=(e,t)=>{const n=Jle[e];Number.isInteger(n)&&(ba("orientationchange",()=>{t(n)},!1),ba("resize",()=>{t(n)},!1),Nn(()=>{t(n)}))},Qle=Pt({__name:"VPNavbarItems",setup(e,{expose:t}){t();const n=Zle(),r=Kle(),i=qle(),o=Ot(!1),s=ge(()=>lo().value.navbarLabel??"site navigation"),a=ge(()=>[...n.value,...r.value,...i.value]);$j(f0.Mobile,h=>{o.value=window.innerWidth<h});const c={navbarConfig:n,navbarSelectLanguage:r,navbarRepo:i,isMobile:o,navbarLabel:s,navbarLinks:a,VPNavbarDropdown:Wle,get AutoLink(){return Rg}};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}}),eue=["aria-label"];function tue(e,t,n,r,i,o){return r.navbarLinks.length?(Dt(),Zt("nav",{key:0,class:"vp-navbar-items","aria-label":r.navbarLabel},[(Dt(!0),Zt(vn,null,ea(r.navbarLinks,s=>(Dt(),Zt("div",{key:s.text,class:"vp-navbar-item"},["children"in s?(Dt(),Gr(r.VPNavbarDropdown,{key:0,class:Jo({mobile:r.isMobile}),config:s},null,8,["class","config"])):(Dt(),Gr(r.AutoLink,{key:1,config:s},null,8,["config"]))]))),128))],8,eue)):vr("",!0)}const zj=Zn(Qle,[["render",tue],["__file","VPNavbarItems.vue"]]),nue={},rue={class:"dark-icon",viewBox:"0 0 32 32"};function iue(e,t){return Dt(),Zt("svg",rue,t[0]||(t[0]=[kt("path",{d:"M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z",fill:"currentColor"},null,-1)]))}const oue=Zn(nue,[["render",iue],["__file","VPDarkIcon.vue"]]),aue={},sue={class:"light-icon",viewBox:"0 0 32 32"};function lue(e,t){return Dt(),Zt("svg",sue,t[0]||(t[0]=[ste('<path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path>',9)]))}const uue=Zn(aue,[["render",lue],["__file","VPLightIcon.vue"]]),cue=Pt({__name:"VPToggleColorModeButton",setup(e,{expose:t}){t();const n=lo(),r=nk(),o={themeLocale:n,isDarkMode:r,toggleColorMode:()=>{r.value=!r.value},VPDarkIcon:oue,VPLightIcon:uue};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}}),hue=["title"];function due(e,t,n,r,i,o){return Dt(),Zt("button",{type:"button",class:"vp-toggle-color-mode-button",title:r.themeLocale.toggleColorMode,onClick:r.toggleColorMode},[xh(ne(r.VPLightIcon,null,null,512),[[Mf,!r.isDarkMode]]),xh(ne(r.VPDarkIcon,null,null,512),[[Mf,r.isDarkMode]])],8,hue)}const fue=Zn(cue,[["render",due],["__file","VPToggleColorModeButton.vue"]]),pue=Pt({__name:"VPToggleSidebarButton",emits:["toggle"],setup(e,{expose:t}){t();const r={themeLocale:lo()};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}}),mue=["title"];function gue(e,t,n,r,i,o){return Dt(),Zt("div",{class:"vp-toggle-sidebar-button",title:r.themeLocale.toggleSidebar,"aria-expanded":"false",role:"button",tabindex:"0",onClick:t[0]||(t[0]=s=>e.$emit("toggle"))},t[1]||(t[1]=[kt("div",{class:"icon","aria-hidden":"true"},[kt("span"),kt("span"),kt("span")],-1)]),8,mue)}const vue=Zn(pue,[["render",gue],["__file","VPToggleSidebarButton.vue"]]),yue=Pt({__name:"VPNavbar",emits:["toggleSidebar"],setup(e,{expose:t}){t();const n=N7("SearchBox")?or("SearchBox"):()=>null,r=lo(),i=B3("navbar"),o=B3("navbar-brand"),s=Ot(0),a=ge(()=>s.value?{maxWidth:`${s.value}px`}:{}),c=(d,g)=>{var x;const y=(x=d==null?void 0:d.ownerDocument.defaultView)==null?void 0:x.getComputedStyle(d,null)[g],v=Number.parseInt(y,10);return Number.isNaN(v)?0:v};$j(f0.Mobile,d=>{var y;const g=c(i.value,"paddingLeft")+c(i.value,"paddingRight");window.innerWidth<d?s.value=0:s.value=i.value.offsetWidth-g-(((y=o.value)==null?void 0:y.offsetWidth)??0)});const h={SearchBox:n,themeLocale:r,navbar:i,navbarBrand:o,linksWrapperMaxWidth:s,linksWrapperStyle:a,getCssValue:c,VPNavbarBrand:Ole,VPNavbarItems:zj,VPToggleColorModeButton:fue,VPToggleSidebarButton:vue};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}}),_ue={ref:"navbar",class:"vp-navbar","vp-navbar":""},bue={ref:"navbar-brand"};function xue(e,t,n,r,i,o){return Dt(),Zt("header",_ue,[ne(r.VPToggleSidebarButton,{onToggle:t[0]||(t[0]=s=>e.$emit("toggleSidebar"))}),kt("span",bue,[ne(r.VPNavbarBrand)],512),kt("div",{class:"vp-navbar-items-wrapper",style:kg(r.linksWrapperStyle)},[_i(e.$slots,"before"),ne(r.VPNavbarItems,{class:"vp-hide-mobile"}),_i(e.$slots,"after"),r.themeLocale.colorModeSwitch?(Dt(),Gr(r.VPToggleColorModeButton,{key:0})):vr("",!0),ne(r.SearchBox)],4)],512)}const wue=Zn(yue,[["render",xue],["__file","VPNavbar.vue"]]),Sue={},Cue={class:"edit-icon",viewBox:"0 0 1024 1024"};function Tue(e,t){return Dt(),Zt("svg",Cue,t[0]||(t[0]=[kt("g",{fill:"currentColor"},[kt("path",{d:"M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"}),kt("path",{d:"M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"})],-1)]))}const Pue=Zn(Sue,[["render",Tue],["__file","VPEditIcon.vue"]]),Eue=()=>{const e=lo(),t=jf(),n=fl();return ge(()=>{var i;return n.value.contributors??e.value.contributors??!0?((i=t.value.git)==null?void 0:i.contributors)??null:null})},Iue=()=>{const e=lo(),t=jf(),n=fl();return ge(()=>{if(!(n.value.editLink??e.value.editLink??!0))return null;const{repo:i,docsRepo:o=i,docsBranch:s="main",docsDir:a="",editLinkText:c}=e.value;if(!o)return null;const h=Qse({docsRepo:o,docsBranch:s,docsDir:a,filePathRelative:t.value.filePathRelative,editLinkPattern:n.value.editLinkPattern??e.value.editLinkPattern});return h?{text:c??"Edit this page",link:h}:null})},Mue=()=>{const e=lo(),t=jf(),n=fl();return ge(()=>{var o;return!(n.value.lastUpdated??e.value.lastUpdated??!0)||!((o=t.value.git)!=null&&o.updatedTime)?null:new Date(t.value.git.updatedTime).toLocaleString()})},Aue=Pt({__name:"VPPageMeta",setup(e,{expose:t}){t();const n=lo(),r=Iue(),i=Mue(),o=Eue(),s={themeLocale:n,editLink:r,lastUpdated:i,contributors:o,VPEditIcon:Pue,get AutoLink(){return Rg}};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}}),Due={class:"vp-page-meta"},kue={key:0,class:"vp-meta-item edit-link"},Oue={class:"vp-meta-item git-info"},Rue={key:0,class:"vp-meta-item last-updated"},Lue={class:"meta-item-label"},$ue={class:"meta-item-info"},zue={key:1,class:"vp-meta-item contributors"},Bue={class:"meta-item-label"},Fue={class:"meta-item-info"},Nue=["title"];function Vue(e,t,n,r,i,o){const s=or("ClientOnly");return Dt(),Zt("footer",Due,[r.editLink?(Dt(),Zt("div",kue,[ne(r.AutoLink,{class:"label",config:r.editLink},{before:Bn(()=>[ne(r.VPEditIcon)]),_:1},8,["config"])])):vr("",!0),kt("div",Oue,[r.lastUpdated?(Dt(),Zt("div",Rue,[kt("span",Lue,Rn(r.themeLocale.lastUpdatedText)+": ",1),ne(s,null,{default:Bn(()=>[kt("span",$ue,Rn(r.lastUpdated),1)]),_:1})])):vr("",!0),r.contributors&&r.contributors.length?(Dt(),Zt("div",zue,[kt("span",Bue,Rn(r.themeLocale.contributorsText)+": ",1),kt("span",Fue,[(Dt(!0),Zt(vn,null,ea(r.contributors,(a,c)=>(Dt(),Zt(vn,{key:c},[kt("span",{class:"contributor",title:`email: ${a.email}`},Rn(a.name),9,Nue),c!==r.contributors.length-1?(Dt(),Zt(vn,{key:0},[Wi(", ")],64)):vr("",!0)],64))),128))])])):vr("",!0)])])}const jue=Zn(Aue,[["render",Vue],["__file","VPPageMeta.vue"]]),Hue=()=>{const e=kh(),t=tu();return n=>{n&&(H7(n)?t.path!==n&&e.push(n):rb(n)?window.open(n):e.push(encodeURI(n)))}},X5=(e,t)=>e===!1?!1:al(e)?fg(e,t):OD(e)?{...e,link:fg(e.link,t).link}:null,aM=(e,t,n)=>{const r=e.findIndex(o=>o.link===t);if(r!==-1){const o=e[r+n];return o?o.link?o:"prefix"in o&&!l0(o.prefix).notFound?{...o,link:o.prefix}:null:null}for(const o of e)if("children"in o){const s=aM(o.children,t,n);if(s)return s}const i=e.findIndex(o=>"prefix"in o&&o.prefix===t);if(i!==-1){const o=e[i+n];return o?o.link?o:"prefix"in o&&!l0(o.prefix).notFound?{...o,link:o.prefix}:null:null}return null},Uue=()=>{const e=fl(),t=lo(),n=ik(),r=tu(),i=ge(()=>{const s=X5(e.value.prev,r.path);return s===!1?null:s??(t.value.prev===!1?null:aM(n.value,r.path,-1))}),o=ge(()=>{const s=X5(e.value.next,r.path);return s===!1?null:s??(t.value.next===!1?null:aM(n.value,r.path,1))});return{prevLink:i,nextLink:o}},Gue=Pt({__name:"VPPageNav",setup(e,{expose:t}){t();const n=lo(),r=Hue(),{prevLink:i,nextLink:o}=Uue(),s=ge(()=>n.value.pageNavbarLabel??"page navigation");ba("keydown",c=>{c.altKey&&(c.key==="ArrowRight"?o.value&&(r(o.value.link),c.preventDefault()):c.key==="ArrowLeft"&&i.value&&(r(i.value.link),c.preventDefault()))});const a={themeLocale:n,navigate:r,prevLink:i,nextLink:o,navbarLabel:s,get AutoLink(){return Rg}};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}}),Wue=["aria-label"],Zue={class:"hint"},que={class:"link"},Kue={class:"hint"},Xue={class:"link"};function Yue(e,t,n,r,i,o){return r.prevLink||r.nextLink?(Dt(),Zt("nav",{key:0,class:"vp-page-nav","aria-label":r.navbarLabel},[r.prevLink?(Dt(),Gr(r.AutoLink,{key:0,class:"prev",config:r.prevLink},{default:Bn(()=>[kt("div",Zue,[t[0]||(t[0]=kt("span",{class:"arrow left"},null,-1)),Wi(" "+Rn(r.themeLocale.prev??"Prev"),1)]),kt("div",que,[kt("span",null,Rn(r.prevLink.text),1)])]),_:1},8,["config"])):vr("",!0),r.nextLink?(Dt(),Gr(r.AutoLink,{key:1,class:"next",config:r.nextLink},{default:Bn(()=>[kt("div",Kue,[Wi(Rn(r.themeLocale.next??"Next")+" ",1),t[1]||(t[1]=kt("span",{class:"arrow right"},null,-1))]),kt("div",Xue,[kt("span",null,Rn(r.nextLink.text),1)])]),_:1},8,["config"])):vr("",!0)],8,Wue)):vr("",!0)}const Jue=Zn(Gue,[["render",Yue],["__file","VPPageNav.vue"]]),Que=Pt({__name:"VPPage",setup(e,{expose:t}){t(),ele();const n={VPPageMeta:jue,VPPageNav:Jue,get Content(){return FD}};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}}),ece={class:"vp-page"},tce={"vp-content":""};function nce(e,t,n,r,i,o){return Dt(),Zt("main",ece,[_i(e.$slots,"top"),kt("div",tce,[_i(e.$slots,"content-top"),ne(r.Content),_i(e.$slots,"content-bottom")]),ne(r.VPPageMeta),ne(r.VPPageNav),_i(e.$slots,"bottom")])}const rce=Zn(Que,[["render",nce],["__file","VPPage.vue"]]),ice=Pt({__name:"VPSidebarItem",props:{item:{},depth:{default:0}},setup(e,{expose:t}){t();const n=e,{item:r,depth:i}=Q0(n),o=tu(),s=kh(),a=ge(()=>"collapsible"in r.value&&r.value.collapsible),c=ge(()=>Ij(r.value,o)),h=ge(()=>({"vp-sidebar-item":!0,"vp-sidebar-heading":i.value===0,active:c.value,collapsible:a.value})),d=ge(()=>a.value?c.value:!0),[g,y]=D7(d.value),v=I=>{a.value&&(I.preventDefault(),y())},x=s.afterEach(()=>{wi(()=>{g.value=d.value})});ii(()=>{x()});const C={props:n,item:r,depth:i,route:o,router:s,collapsible:a,isActive:c,itemClass:h,isOpenDefault:d,isOpen:g,toggleIsOpen:y,onClick:v,unregisterRouterHook:x,VPDropdownTransition:Rj,get AutoLink(){return Rg}};return Object.defineProperty(C,"__isScriptSetup",{enumerable:!1,value:!0}),C}}),oce={class:"vp-sidebar-children"};function ace(e,t,n,r,i,o){const s=or("VPSidebarItem",!0);return Dt(),Zt("li",null,[r.item.link?(Dt(),Gr(r.AutoLink,{key:0,class:Jo(r.itemClass),config:r.item},null,8,["class","config"])):(Dt(),Zt("p",{key:1,tabindex:"0",class:Jo(r.itemClass),onClick:r.onClick,onKeydown:Kte(r.onClick,["enter"])},[Wi(Rn(r.item.text)+" ",1),r.collapsible?(Dt(),Zt("span",{key:0,class:Jo(["arrow",r.isOpen?"down":"right"])},null,2)):vr("",!0)],34)),"children"in r.item&&r.item.children.length?(Dt(),Gr(r.VPDropdownTransition,{key:2},{default:Bn(()=>[xh(kt("ul",oce,[(Dt(!0),Zt(vn,null,ea(r.item.children,a=>(Dt(),Gr(s,{key:`${r.depth}${a.text}${a.link}`,item:a,depth:r.depth+1},null,8,["item","depth"]))),128))],512),[[Mf,r.isOpen]])]),_:1})):vr("",!0)])}const sce=Zn(ice,[["render",ace],["__file","VPSidebarItem.vue"]]),lce=Pt({__name:"VPSidebarItems",setup(e,{expose:t}){t();const n=tu(),r=ik();Nn(()=>{qt(()=>n.hash,o=>{const s=document.querySelector(".vp-sidebar");if(!s)return;const a=document.querySelector(`.vp-sidebar a.vp-sidebar-item[href="${n.path}${o}"]`);if(!a)return;const{top:c,height:h}=s.getBoundingClientRect(),{top:d,height:g}=a.getBoundingClientRect();d<c?a.scrollIntoView(!0):d+g>c+h&&a.scrollIntoView(!1)})});const i={route:n,sidebarItems:r,VPSidebarItem:sce};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),uce={key:0,class:"vp-sidebar-items"};function cce(e,t,n,r,i,o){return r.sidebarItems.length?(Dt(),Zt("ul",uce,[(Dt(!0),Zt(vn,null,ea(r.sidebarItems,s=>(Dt(),Gr(r.VPSidebarItem,{key:`${s.text}${s.link}`,item:s},null,8,["item"]))),128))])):vr("",!0)}const hce=Zn(lce,[["render",cce],["__file","VPSidebarItems.vue"]]),dce=Pt({__name:"VPSidebar",setup(e,{expose:t}){t();const n={VPNavbarItems:zj,VPSidebarItems:hce};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}}),fce={class:"vp-sidebar","vp-sidebar":""};function pce(e,t,n,r,i,o){return Dt(),Zt("aside",fce,[ne(r.VPNavbarItems),_i(e.$slots,"top"),ne(r.VPSidebarItems),_i(e.$slots,"bottom")])}const mce=Zn(dce,[["render",pce],["__file","VPSidebar.vue"]]),gce=Pt({__name:"Layout",setup(e,{expose:t}){t();const n=jf(),r=fl(),i=lo(),o=ge(()=>r.value.navbar!==!1&&i.value.navbar!==!1),s=ik(),a=Ot(!1),c=R=>{a.value=typeof R=="boolean"?R:!a.value},h={x:0,y:0},d=R=>{h.x=R.changedTouches[0].clientX,h.y=R.changedTouches[0].clientY},g=R=>{const z=R.changedTouches[0].clientX-h.x,V=R.changedTouches[0].clientY-h.y;Math.abs(z)>Math.abs(V)&&Math.abs(z)>40&&(z>0&&h.x<=80?c(!0):c(!1))},y=ge(()=>r.value.externalLinkIcon??i.value.externalLinkIcon??!0),v=ge(()=>[{"no-navbar":!o.value,"no-sidebar":!s.value.length,"sidebar-open":a.value,"external-link-icon":y.value},r.value.pageClass]);let x;Nn(()=>{x=kh().afterEach(()=>{c(!1)})}),eu(()=>{x()});const C=Ej(),I=C.resolve,A=C.pending,k={page:n,frontmatter:r,themeLocale:i,shouldShowNavbar:o,sidebarItems:s,isSidebarOpen:a,toggleSidebar:c,touchStart:h,onTouchStart:d,onTouchEnd:g,enableExternalLinkIcon:y,containerClass:v,get unregisterRouterHook(){return x},set unregisterRouterHook(R){x=R},scrollPromise:C,onBeforeEnter:I,onBeforeLeave:A,VPHome:Mle,VPNavbar:wue,VPPage:rce,VPSidebar:mce};return Object.defineProperty(k,"__isScriptSetup",{enumerable:!1,value:!0}),k}});function vce(e,t,n,r,i,o){return Dt(),Zt("div",{class:Jo(["vp-theme-container",r.containerClass]),"vp-container":"",onTouchstart:r.onTouchStart,onTouchend:r.onTouchEnd},[_i(e.$slots,"navbar",{},()=>[r.shouldShowNavbar?(Dt(),Gr(r.VPNavbar,{key:0,onToggleSidebar:r.toggleSidebar},{before:Bn(()=>[_i(e.$slots,"navbar-before")]),after:Bn(()=>[_i(e.$slots,"navbar-after")]),_:3})):vr("",!0)]),kt("div",{class:"vp-sidebar-mask",onClick:t[0]||(t[0]=s=>r.toggleSidebar(!1))}),_i(e.$slots,"sidebar",{},()=>[ne(r.VPSidebar,null,{top:Bn(()=>[_i(e.$slots,"sidebar-top")]),bottom:Bn(()=>[_i(e.$slots,"sidebar-bottom")]),_:3})]),_i(e.$slots,"page",{},()=>[r.frontmatter.home?(Dt(),Gr(r.VPHome,{key:0})):(Dt(),Gr(us,{key:1,name:"fade-slide-y",mode:"out-in",onBeforeEnter:r.onBeforeEnter,onBeforeLeave:r.onBeforeLeave},{default:Bn(()=>[(Dt(),Gr(r.VPPage,{key:r.page.path},{top:Bn(()=>[_i(e.$slots,"page-top")]),"content-top":Bn(()=>[_i(e.$slots,"page-content-top")]),"content-bottom":Bn(()=>[_i(e.$slots,"page-content-bottom")]),bottom:Bn(()=>[_i(e.$slots,"page-bottom")]),_:3}))]),_:3},8,["onBeforeEnter","onBeforeLeave"]))])],34)}const yce=Zn(gce,[["render",vce],["__file","Layout.vue"]]),_ce=Pt({__name:"NotFound",setup(e,{expose:t}){t();const n=Hf(),r=lo(),i=r.value.notFound??["Not Found"],o=()=>i[Math.floor(Math.random()*i.length)],s=r.value.home??n.value,a=r.value.backToHome??"Back to home",c={routeLocale:n,themeLocale:r,messages:i,getMsg:o,homeLink:s,homeText:a,get RouteLink(){return ib}};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}}),bce={class:"vp-theme-container","vp-container":""},xce={class:"page"},wce={"vp-content":""};function Sce(e,t,n,r,i,o){return Dt(),Zt("div",bce,[kt("main",xce,[kt("div",wce,[t[0]||(t[0]=kt("h1",null,"404",-1)),kt("blockquote",null,Rn(r.getMsg()),1),ne(r.RouteLink,{to:r.homeLink},{default:Bn(()=>[Wi(Rn(r.homeText),1)]),_:1},8,["to"])])])])}const Cce=Zn(_ce,[["render",Sce],["__scopeId","data-v-e6af0d3d"],["__file","NotFound.vue"]]),Tce=pl({enhance({app:e,router:t}){N7("Badge")||e.component("Badge",lle);const n=t.options.scrollBehavior;t.options.scrollBehavior=async(...r)=>(await Ej().wait(),n(...r))},setup(){qse(),ole()},layouts:{Layout:yce,NotFound:Cce}}),Pce=Object.freeze(Object.defineProperty({__proto__:null,default:Tce},Symbol.toStringTag,{value:"Module"}));function Ece(e,t,n){var r,i,o;n===void 0&&(n={});var s=(r=n.isImmediate)!=null&&r,a=(i=n.callback)!=null&&i,c=n.maxWait,h=Date.now(),d=[];function g(){if(c!==void 0){var v=Date.now()-h;if(v+t>=c)return c-v}return t}var y=function(){var v=[].slice.call(arguments),x=this;return new Promise(function(C,I){var A=s&&o===void 0;if(o!==void 0&&clearTimeout(o),o=setTimeout(function(){if(o=void 0,h=Date.now(),!s){var R=e.apply(x,v);a&&a(R),d.forEach(function(z){return(0,z.resolve)(R)}),d=[]}},g()),A){var k=e.apply(x,v);return a&&a(k),C(k)}d.push({resolve:C,reject:I})})};return y.cancel=function(v){o!==void 0&&clearTimeout(o),d.forEach(function(x){return(0,x.reject)(v)}),d=[]},y}var Ice={appId:"51MD42WJ9Y",apiKey:"9b4e38ac3e880ab6800175b16f674d78",indexName:"sustech",locales:{"/":{placeholder:"搜索手册",translations:{button:{buttonText:"搜索手册",buttonAriaLabel:"搜索手册"},modal:{searchBox:{resetButtonTitle:"清除查询条件",resetButtonAriaLabel:"清除查询条件",cancelButtonText:"取消",cancelButtonAriaLabel:"取消"},startScreen:{recentSearchesTitle:"搜索历史",noRecentSearchesText:"没有搜索历史",saveRecentSearchButtonTitle:"保存至搜索历史",removeRecentSearchButtonTitle:"从搜索历史中移除",favoriteSearchesTitle:"收藏",removeFavoriteSearchButtonTitle:"从收藏中移除"},errorScreen:{titleText:"无法获取结果",helpText:"你可能需要检查你的网络连接"},footer:{selectText:"选择",navigateText:"切换",closeText:"关闭",searchByText:"搜索提供者"},noResultsScreen:{noResultsText:"无法找到相关结果",suggestedQueryText:"你可以尝试查询",reportMissingResultsText:"你认为该查询应该有结果？",reportMissingResultsLinkText:"点击反馈"}}}}}};const Mce=e=>{const t=ba("keydown",n=>{const r=n.key==="k"&&(n.ctrlKey||n.metaKey);n.key!=="/"&&!r||(n.preventDefault(),e(),t())})},Ace=e=>e.button===1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey,Dce=()=>{const e=kh();return{transformItems:t=>t.map(n=>({...n,url:`/${kD(ane(n.url,"/"))}`})),hitComponent:({hit:t,children:n})=>({type:"a",ref:void 0,constructor:void 0,key:void 0,props:{href:t.url,onClick:r=>{Ace(r)||(r.preventDefault(),e.push(t.url.replace("/","/")))},children:n},__v:null}),navigator:{navigate:({itemUrl:t})=>{e.push(t.replace("/","/"))}},transformSearchClient:t=>{const n=Ece(t.search,500);return{...t,search:async r=>n(r)}}}},kce=Ice,Oce=Ot(kce),Bj=Symbol(""),Rce=()=>{const e=Mn(Bj),t=Hf();return ge(()=>{var n;return{...e.value,...(n=e.value.locales)==null?void 0:n[t.value]}})},Lce=e=>{e.provide(Bj,J0(Oce))},$ce=(e,t=[])=>[`lang:${e}`,...Array.isArray(t)?t:[t]],zce=({buttonText:e="Search",buttonAriaLabel:t=e}={})=>`<button type="button" class="DocSearch DocSearch-Button" aria-label="${t}"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">${e}</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button>`,Fj=()=>{if(document.querySelector(".DocSearch-Modal"))return;const e=new Event("keydown");e.key="k",e.metaKey=!0,window.dispatchEvent(e),setTimeout(Fj,16)},Bce=e=>{const t="algolia-preconnect";("requestIdleCallback"in window?window.requestIdleCallback:setTimeout)(()=>{if(document.head.querySelector(`#${t}`))return;const n=document.createElement("link");n.id=t,n.rel="preconnect",n.href=`https://${e}-dsn.algolia.net`,n.crossOrigin="",document.head.appendChild(n)})},Fce=Pt({name:"DocSearch",props:{containerId:{type:String,default:"docsearch-container"},options:{type:Object,default:()=>({})}},setup(e){const t=Rce(),n=Dce(),r=P7(),i=Hf(),o=Ot(!1),s=Ot(!1),a=ge(()=>{const{locales:d={},...g}=e.options;return{...t.value,...g,...d[i.value]}}),c=async()=>{const{default:d}=await Kt(async()=>{const{default:y}=await import("./index-DuqNHZ2Z.js");return{default:y}},[]),{searchParameters:g}=a.value;d({...n,...a.value,container:`#${e.containerId}`,searchParameters:{...g,facetFilters:$ce(r.value,g==null?void 0:g.facetFilters)}}),o.value=!0},h=()=>{s.value||o.value||(s.value=!0,c(),Fj(),qt(i,c))};return Mce(h),Nn(()=>{Bce(a.value.appId)}),()=>{var d;return[Cn("div",{id:e.containerId,style:{display:o.value?"block":"none"}}),o.value?null:Cn("div",{onClick:h,innerHTML:zce((d=a.value.translations)==null?void 0:d.button)})]}}}),Nce={enhance({app:e}){Lce(e),e.component("SearchBox",Fce)}},Vce=Object.freeze(Object.defineProperty({__proto__:null,default:Nce},Symbol.toStringTag,{value:"Module"}));function jce(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(i){i(n)}),(r=e.get("*"))&&r.slice().map(function(i){i(t,n)})}}}const Nj=Symbol(""),Hce=()=>{const e=Mn(Nj);if(!e)throw new Error("usePwaEvent() is called without provider.");return e},Uce=()=>{navigator.serviceWorker.getRegistration().then(e=>{e!=null&&e.active&&e.addEventListener("updatefound",()=>{window.location.reload(!0)})})},Gce=async(e,t={},n=!0)=>{const{register:r}=await Kt(async()=>{const{register:i}=await import("./index-DTEEl-sV.js");return{register:i}},[]);r(e,{ready(i){var o;n&&console.info("[Service Worker]: active"),(o=t.ready)==null||o.call(t,i)},registered(i){var o;n&&console.log("[Service Worker]: registered"),(o=t.registered)==null||o.call(t,i)},cached(i){var o;n&&console.log("[Service Worker]: cached"),(o=t.cached)==null||o.call(t,i)},async updatefound(i){var o;await navigator.serviceWorker.getRegistration()&&(n&&console.log("[Service Worker]: update found"),(o=t.updatefound)==null||o.call(t,i))},updated(i){var o;n&&console.log("[Service Worker]: updated"),(o=t.updated)==null||o.call(t,i)},offline(){var i;n&&console.log("[Service Worker]: offline"),(i=t.offline)==null||i.call(t)},error(i){var o;n&&console.error("[Service Worker]: ",i),(o=t.error)==null||o.call(t,i)}})},Wce=async(e,t)=>Gce(u2(e),{ready(n){t.emit("ready",n)},registered(n){t.emit("registered",n)},cached(n){t.emit("cached",n)},updatefound(n){t.emit("updatefound",n)},updated(n){const r="service-worker-version",i=Number(localStorage.getItem(r)||0);localStorage.setItem(r,(i+1).toString()),localStorage.removeItem("manifest"),t.emit("updated",n)},offline(){t.emit("offline")},error(n){t.emit("error",n)}}),Zce=(e,t=!1)=>{const n=jce();fr(Nj,n),Nn(async()=>{if(!("serviceWorker"in navigator))return;let r=!1;navigator.serviceWorker.controller&&navigator.serviceWorker.addEventListener("controllerchange",()=>{r||(r=!0,window.location.reload())}),t&&Uce(),await Wce(e,n)})},qce=()=>{Nn(()=>{if(window.matchMedia("(display-mode: standalone)").matches){const e=document.head.querySelector('meta[name="viewport"]');if(e){e.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover");return}const t=document.createElement("meta");t.name="viewport",t.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover",document.head.appendChild(t)}})},Vj=({name:e="",color:t="currentColor"},{slots:n})=>Cn("svg",{xmlns:"http://www.w3.org/2000/svg",class:["icon",`${e}-icon`],viewBox:"0 0 1024 1024",fill:t,"aria-label":`${e} icon`},n.default());Vj.displayName="SVGWrapper";const jj=()=>Cn(Vj,{name:"update"},()=>Cn("path",{d:"M949.949 146.25v255.826c0 21.981-13.989 35.97-35.97 35.97H658.154c-13.988 0-25.983-7.992-33.973-21.981-5.997-13.989-4-27.977 7.991-39.97l79.942-77.946c-55.954-51.973-121.918-77.955-199.863-77.955-37.975 0-75.95 8.002-113.924 21.99-37.975 15.985-67.948 37.976-91.934 63.957-25.982 23.987-47.973 53.96-63.957 91.934-29.983 73.955-29.983 153.895 0 227.85 15.984 37.976 37.975 67.947 63.957 91.934 23.986 25.982 53.959 47.973 91.934 63.956 37.974 13.989 75.95 21.991 113.924 21.991 45.967 0 87.942-9.998 127.913-29.982 41.976-17.99 75.951-45.967 101.931-83.943 7.993-4 11.994-5.995 13.989-5.995 5.997 0 9.998 1.994 13.988 5.995l77.958 77.946c3.989 4 5.986 7.993 5.986 11.994 0 1.994-1.996 5.995-3.99 11.994-43.973 51.962-93.941 91.934-151.9 117.914-53.958 25.983-115.92 39.972-185.874 39.972-61.961 0-119.921-11.984-169.89-33.973-57.96-25.985-105.923-57.963-139.896-93.943-35.98-33.972-67.958-81.936-93.94-139.897-45.967-101.93-45.967-237.846 0-339.777 25.982-57.96 57.96-105.923 93.94-139.896 33.973-35.98 81.936-67.958 139.896-93.94 49.968-21.99 107.928-33.974 169.89-33.974 55.963 0 109.923 9.988 161.885 29.973 53.97 21.99 101.933 51.963 139.908 89.938l73.954-73.944c9.987-9.998 23.987-13.988 39.971-8.002 13.988 8.002 21.98 19.995 21.98 33.984z"}));jj.displayName="UpdateIcon";const Kce=e=>{const t=e.waiting;if(!t)return;const n=new MessageChannel;t.postMessage({type:"SKIP_WAITING"},[n.port2])},Xce=Pt({name:"PwaReadyPopup",props:{locales:{type:Object,required:!0}},slots:Object,setup(e,{slots:t}){const n=GD(e.locales),r=Et(),i=ge(()=>!!r.value),o=()=>{r.value&&(Kce(r.value),r.value=void 0)};return Nn(()=>{Hce().on("updated",s=>{r.value=s})}),()=>Cn(us,{name:"popup"},()=>{var s;return((s=t.default)==null?void 0:s.call(t,{isReady:i.value,reload:o}))??(i.value?Cn("button",{type:"button",class:"sw-update-popup",tabindex:0,onClick:()=>{o()}},[n.value.update,Cn("span",{class:"icon-wrapper"},Cn(jj))]):null)})}}),Yce={"/":{install:"安装",iOSInstall:"点击分享按钮然后点击“添加到主屏幕”",cancel:"取消",close:"关闭",prevImage:"上一张图片",nextImage:"下一张图片",desc:"详情",feature:"主要特色",explain:"该应用可以安装在你的 PC 或移动设备上。这将使该 Web 应用程序外观和行为与其他应用程序相同。它将在出现在应用程序列表中，并可以固定到主屏幕，开始菜单或任务栏。此 Web 应用程序还将能够与其他应用程序和你的操作系统安全地进行交互。",hint:"发现新内容可用",update:"新内容已就绪"}},Jce=pl({setup:()=>{Zce("service-worker.js",!1),qce()},rootComponents:[()=>Cn(Xce,{locales:Yce})]}),Qce=Object.freeze(Object.defineProperty({__proto__:null,default:Jce},Symbol.toStringTag,{value:"Module"})),ehe=(e,t,n)=>{const r=`#${e.slug}`,i=[t.linkClass];return t.linkActiveClass&&n.hash===r&&i.push(t.linkActiveClass),t.linkChildrenActiveClass&&e.children.some(o=>`#${o.slug}`===n.hash)&&i.push(t.linkChildrenActiveClass),t.linkTag==="RouteLink"?Cn(ib,{to:r,class:i,ariaLabel:e.title},()=>e.title):t.linkTag==="RouterLink"?Cn(y7,{to:r,class:i,ariaLabel:e.title},()=>e.title):Cn("a",{href:r,class:i,ariaLabel:e.title},e.title)},Hj=(e,t,n)=>e.length===0?[]:[Cn("ul",{class:t.listClass},e.map(r=>Cn("li",{class:t.itemClass},[ehe(r,t,n),Hj(r.children,t,n)])))],the=Pt({name:"Toc",props:{headers:{type:Array,default:void 0},options:{type:Object,default:()=>({})}},setup(e){const{headers:t,options:n}=Q0(e),r=tu(),i=jf(),o=ge(()=>{var c;const a=t.value??i.value.headers;return((c=a[0])==null?void 0:c.level)===1?a[0].children:a}),s=ge(()=>({containerTag:"nav",containerClass:"vuepress-toc",listClass:"vuepress-toc-list",itemClass:"vuepress-toc-item",linkTag:"RouteLink",linkClass:"vuepress-toc-link",linkActiveClass:"active",linkChildrenActiveClass:"active",...n.value}));return()=>{const a=Hj(o.value,s.value,r);return s.value.containerTag?Cn(s.value.containerTag,{class:s.value.containerClass},a):a}}});var nhe={};const rhe=nhe;var ihe=pl({enhance({app:e}){e.component("Toc",t=>Cn(the,{headers:t.headers,options:{...rhe,...t.options}}))}});const ohe=Object.freeze(Object.defineProperty({__proto__:null,default:ihe},Symbol.toStringTag,{value:"Module"}));function Uj(e,t){return function(){return e.apply(t,arguments)}}const{toString:ahe}=Object.prototype,{getPrototypeOf:ok}=Object,g2=(e=>t=>{const n=ahe.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ml=e=>(e=e.toLowerCase(),t=>g2(t)===e),v2=e=>t=>typeof t===e,{isArray:zg}=Array,p0=v2("undefined");function she(e){return e!==null&&!p0(e)&&e.constructor!==null&&!p0(e.constructor)&&rs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Gj=ml("ArrayBuffer");function lhe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Gj(e.buffer),t}const uhe=v2("string"),rs=v2("function"),Wj=v2("number"),y2=e=>e!==null&&typeof e=="object",che=e=>e===!0||e===!1,lw=e=>{if(g2(e)!=="object")return!1;const t=ok(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},hhe=ml("Date"),dhe=ml("File"),fhe=ml("Blob"),phe=ml("FileList"),mhe=e=>y2(e)&&rs(e.pipe),ghe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||rs(e.append)&&((t=g2(e))==="formdata"||t==="object"&&rs(e.toString)&&e.toString()==="[object FormData]"))},vhe=ml("URLSearchParams"),[yhe,_he,bhe,xhe]=["ReadableStream","Request","Response","Headers"].map(ml),whe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function sb(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),zg(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),s=o.length;let a;for(r=0;r<s;r++)a=o[r],t.call(null,e[a],a,e)}}function Zj(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const uf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qj=e=>!p0(e)&&e!==uf;function sM(){const{caseless:e}=qj(this)&&this||{},t={},n=(r,i)=>{const o=e&&Zj(t,i)||i;lw(t[o])&&lw(r)?t[o]=sM(t[o],r):lw(r)?t[o]=sM({},r):zg(r)?t[o]=r.slice():t[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&sb(arguments[r],n);return t}const She=(e,t,n,{allOwnKeys:r}={})=>(sb(t,(i,o)=>{n&&rs(i)?e[o]=Uj(i,n):e[o]=i},{allOwnKeys:r}),e),Che=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),The=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Phe=(e,t,n,r)=>{let i,o,s;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],(!r||r(s,e,t))&&!a[s]&&(t[s]=e[s],a[s]=!0);e=n!==!1&&ok(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Ehe=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Ihe=e=>{if(!e)return null;if(zg(e))return e;let t=e.length;if(!Wj(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Mhe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ok(Uint8Array)),Ahe=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},Dhe=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},khe=ml("HTMLFormElement"),Ohe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Y5=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Rhe=ml("RegExp"),Kj=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};sb(n,(i,o)=>{let s;(s=t(i,o,e))!==!1&&(r[o]=s||i)}),Object.defineProperties(e,r)},Lhe=e=>{Kj(e,(t,n)=>{if(rs(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(rs(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},$he=(e,t)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return zg(e)?r(e):r(String(e).split(t)),n},zhe=()=>{},Bhe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,fP="abcdefghijklmnopqrstuvwxyz",J5="0123456789",Xj={DIGIT:J5,ALPHA:fP,ALPHA_DIGIT:fP+fP.toUpperCase()+J5},Fhe=(e=16,t=Xj.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function Nhe(e){return!!(e&&rs(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Vhe=e=>{const t=new Array(10),n=(r,i)=>{if(y2(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const o=zg(r)?[]:{};return sb(r,(s,a)=>{const c=n(s,i+1);!p0(c)&&(o[a]=c)}),t[i]=void 0,o}}return r};return n(e,0)},jhe=ml("AsyncFunction"),Hhe=e=>e&&(y2(e)||rs(e))&&rs(e.then)&&rs(e.catch),Yj=((e,t)=>e?setImmediate:t?((n,r)=>(uf.addEventListener("message",({source:i,data:o})=>{i===uf&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),uf.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",rs(uf.postMessage)),Uhe=typeof queueMicrotask<"u"?queueMicrotask.bind(uf):typeof process<"u"&&process.nextTick||Yj,wt={isArray:zg,isArrayBuffer:Gj,isBuffer:she,isFormData:ghe,isArrayBufferView:lhe,isString:uhe,isNumber:Wj,isBoolean:che,isObject:y2,isPlainObject:lw,isReadableStream:yhe,isRequest:_he,isResponse:bhe,isHeaders:xhe,isUndefined:p0,isDate:hhe,isFile:dhe,isBlob:fhe,isRegExp:Rhe,isFunction:rs,isStream:mhe,isURLSearchParams:vhe,isTypedArray:Mhe,isFileList:phe,forEach:sb,merge:sM,extend:She,trim:whe,stripBOM:Che,inherits:The,toFlatObject:Phe,kindOf:g2,kindOfTest:ml,endsWith:Ehe,toArray:Ihe,forEachEntry:Ahe,matchAll:Dhe,isHTMLForm:khe,hasOwnProperty:Y5,hasOwnProp:Y5,reduceDescriptors:Kj,freezeMethods:Lhe,toObjectSet:$he,toCamelCase:Ohe,noop:zhe,toFiniteNumber:Bhe,findKey:Zj,global:uf,isContextDefined:qj,ALPHABET:Xj,generateString:Fhe,isSpecCompliantForm:Nhe,toJSONObject:Vhe,isAsyncFn:jhe,isThenable:Hhe,setImmediate:Yj,asap:Uhe};function Gn(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}wt.inherits(Gn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:wt.toJSONObject(this.config),code:this.code,status:this.status}}});const Jj=Gn.prototype,Qj={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Qj[e]={value:e}});Object.defineProperties(Gn,Qj);Object.defineProperty(Jj,"isAxiosError",{value:!0});Gn.from=(e,t,n,r,i,o)=>{const s=Object.create(Jj);return wt.toFlatObject(e,s,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),Gn.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const Ghe=null;function lM(e){return wt.isPlainObject(e)||wt.isArray(e)}function eH(e){return wt.endsWith(e,"[]")?e.slice(0,-2):e}function Q5(e,t,n){return e?e.concat(t).map(function(i,o){return i=eH(i),!n&&o?"["+i+"]":i}).join(n?".":""):t}function Whe(e){return wt.isArray(e)&&!e.some(lM)}const Zhe=wt.toFlatObject(wt,{},null,function(t){return/^is[A-Z]/.test(t)});function _2(e,t,n){if(!wt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=wt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,I){return!wt.isUndefined(I[C])});const r=n.metaTokens,i=n.visitor||d,o=n.dots,s=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&wt.isSpecCompliantForm(t);if(!wt.isFunction(i))throw new TypeError("visitor must be a function");function h(x){if(x===null)return"";if(wt.isDate(x))return x.toISOString();if(!c&&wt.isBlob(x))throw new Gn("Blob is not supported. Use a Buffer instead.");return wt.isArrayBuffer(x)||wt.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,C,I){let A=x;if(x&&!I&&typeof x=="object"){if(wt.endsWith(C,"{}"))C=r?C:C.slice(0,-2),x=JSON.stringify(x);else if(wt.isArray(x)&&Whe(x)||(wt.isFileList(x)||wt.endsWith(C,"[]"))&&(A=wt.toArray(x)))return C=eH(C),A.forEach(function(R,z){!(wt.isUndefined(R)||R===null)&&t.append(s===!0?Q5([C],z,o):s===null?C:C+"[]",h(R))}),!1}return lM(x)?!0:(t.append(Q5(I,C,o),h(x)),!1)}const g=[],y=Object.assign(Zhe,{defaultVisitor:d,convertValue:h,isVisitable:lM});function v(x,C){if(!wt.isUndefined(x)){if(g.indexOf(x)!==-1)throw Error("Circular reference detected in "+C.join("."));g.push(x),wt.forEach(x,function(A,k){(!(wt.isUndefined(A)||A===null)&&i.call(t,A,wt.isString(k)?k.trim():k,C,y))===!0&&v(A,C?C.concat(k):[k])}),g.pop()}}if(!wt.isObject(e))throw new TypeError("data must be an object");return v(e),t}function ez(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function ak(e,t){this._pairs=[],e&&_2(e,this,t)}const tH=ak.prototype;tH.append=function(t,n){this._pairs.push([t,n])};tH.toString=function(t){const n=t?function(r){return t.call(this,r,ez)}:ez;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function qhe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nH(e,t,n){if(!t)return e;const r=n&&n.encode||qhe;wt.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(t,n):o=wt.isURLSearchParams(t)?t.toString():new ak(t,n).toString(r),o){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class tz{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){wt.forEach(this.handlers,function(r){r!==null&&t(r)})}}const rH={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Khe=typeof URLSearchParams<"u"?URLSearchParams:ak,Xhe=typeof FormData<"u"?FormData:null,Yhe=typeof Blob<"u"?Blob:null,Jhe={isBrowser:!0,classes:{URLSearchParams:Khe,FormData:Xhe,Blob:Yhe},protocols:["http","https","file","blob","url","data"]},sk=typeof window<"u"&&typeof document<"u",uM=typeof navigator=="object"&&navigator||void 0,Qhe=sk&&(!uM||["ReactNative","NativeScript","NS"].indexOf(uM.product)<0),ede=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",tde=sk&&window.location.href||"http://localhost",nde=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:sk,hasStandardBrowserEnv:Qhe,hasStandardBrowserWebWorkerEnv:ede,navigator:uM,origin:tde},Symbol.toStringTag,{value:"Module"})),Xo={...nde,...Jhe};function rde(e,t){return _2(e,new Xo.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return Xo.isNode&&wt.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function ide(e){return wt.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ode(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}function iH(e){function t(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),c=o>=n.length;return s=!s&&wt.isArray(i)?i.length:s,c?(wt.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!wt.isObject(i[s]))&&(i[s]=[]),t(n,r,i[s],o)&&wt.isArray(i[s])&&(i[s]=ode(i[s])),!a)}if(wt.isFormData(e)&&wt.isFunction(e.entries)){const n={};return wt.forEachEntry(e,(r,i)=>{t(ide(r),i,n,0)}),n}return null}function ade(e,t,n){if(wt.isString(e))try{return(t||JSON.parse)(e),wt.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const lb={transitional:rH,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=wt.isObject(t);if(o&&wt.isHTMLForm(t)&&(t=new FormData(t)),wt.isFormData(t))return i?JSON.stringify(iH(t)):t;if(wt.isArrayBuffer(t)||wt.isBuffer(t)||wt.isStream(t)||wt.isFile(t)||wt.isBlob(t)||wt.isReadableStream(t))return t;if(wt.isArrayBufferView(t))return t.buffer;if(wt.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return rde(t,this.formSerializer).toString();if((a=wt.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return _2(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),ade(t)):t}],transformResponse:[function(t){const n=this.transitional||lb.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(wt.isResponse(t)||wt.isReadableStream(t))return t;if(t&&wt.isString(t)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(a){if(s)throw a.name==="SyntaxError"?Gn.from(a,Gn.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xo.classes.FormData,Blob:Xo.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};wt.forEach(["delete","get","head","post","put","patch"],e=>{lb.headers[e]={}});const sde=wt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lde=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||t[n]&&sde[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},nz=Symbol("internals");function Iy(e){return e&&String(e).trim().toLowerCase()}function uw(e){return e===!1||e==null?e:wt.isArray(e)?e.map(uw):String(e)}function ude(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const cde=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function pP(e,t,n,r,i){if(wt.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!wt.isString(t)){if(wt.isString(r))return t.indexOf(r)!==-1;if(wt.isRegExp(r))return r.test(t)}}function hde(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function dde(e,t){const n=wt.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,o,s){return this[r].call(this,t,i,o,s)},configurable:!0})})}class Da{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function o(a,c,h){const d=Iy(c);if(!d)throw new Error("header name must be a non-empty string");const g=wt.findKey(i,d);(!g||i[g]===void 0||h===!0||h===void 0&&i[g]!==!1)&&(i[g||c]=uw(a))}const s=(a,c)=>wt.forEach(a,(h,d)=>o(h,d,c));if(wt.isPlainObject(t)||t instanceof this.constructor)s(t,n);else if(wt.isString(t)&&(t=t.trim())&&!cde(t))s(lde(t),n);else if(wt.isHeaders(t))for(const[a,c]of t.entries())o(c,a,r);else t!=null&&o(n,t,r);return this}get(t,n){if(t=Iy(t),t){const r=wt.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return ude(i);if(wt.isFunction(n))return n.call(this,i,r);if(wt.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Iy(t),t){const r=wt.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||pP(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function o(s){if(s=Iy(s),s){const a=wt.findKey(r,s);a&&(!n||pP(r,r[a],a,n))&&(delete r[a],i=!0)}}return wt.isArray(t)?t.forEach(o):o(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!t||pP(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const n=this,r={};return wt.forEach(this,(i,o)=>{const s=wt.findKey(r,o);if(s){n[s]=uw(i),delete n[o];return}const a=t?hde(o):String(o).trim();a!==o&&delete n[o],n[a]=uw(i),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return wt.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&wt.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[nz]=this[nz]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=Iy(s);r[a]||(dde(i,s),r[a]=!0)}return wt.isArray(t)?t.forEach(o):o(t),this}}Da.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);wt.reduceDescriptors(Da.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});wt.freezeMethods(Da);function mP(e,t){const n=this||lb,r=t||n,i=Da.from(r.headers);let o=r.data;return wt.forEach(e,function(a){o=a.call(n,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function oH(e){return!!(e&&e.__CANCEL__)}function Bg(e,t,n){Gn.call(this,e??"canceled",Gn.ERR_CANCELED,t,n),this.name="CanceledError"}wt.inherits(Bg,Gn,{__CANCEL__:!0});function aH(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Gn("Request failed with status code "+n.status,[Gn.ERR_BAD_REQUEST,Gn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function fde(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function pde(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,o=0,s;return t=t!==void 0?t:1e3,function(c){const h=Date.now(),d=r[o];s||(s=h),n[i]=c,r[i]=h;let g=o,y=0;for(;g!==i;)y+=n[g++],g=g%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),h-s<t)return;const v=d&&h-d;return v?Math.round(y*1e3/v):void 0}}function mde(e,t){let n=0,r=1e3/t,i,o;const s=(h,d=Date.now())=>{n=d,i=null,o&&(clearTimeout(o),o=null),e.apply(null,h)};return[(...h)=>{const d=Date.now(),g=d-n;g>=r?s(h,d):(i=h,o||(o=setTimeout(()=>{o=null,s(i)},r-g)))},()=>i&&s(i)]}const Xw=(e,t,n=3)=>{let r=0;const i=pde(50,250);return mde(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,c=s-r,h=i(c),d=s<=a;r=s;const g={loaded:s,total:a,progress:a?s/a:void 0,bytes:c,rate:h||void 0,estimated:h&&a&&d?(a-s)/h:void 0,event:o,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(g)},n)},rz=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},iz=e=>(...t)=>wt.asap(()=>e(...t)),gde=Xo.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Xo.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Xo.origin),Xo.navigator&&/(msie|trident)/i.test(Xo.navigator.userAgent)):()=>!0,vde=Xo.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const s=[e+"="+encodeURIComponent(t)];wt.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),wt.isString(r)&&s.push("path="+r),wt.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function yde(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function _de(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function sH(e,t){return e&&!yde(t)?_de(e,t):t}const oz=e=>e instanceof Da?{...e}:e;function Df(e,t){t=t||{};const n={};function r(h,d,g,y){return wt.isPlainObject(h)&&wt.isPlainObject(d)?wt.merge.call({caseless:y},h,d):wt.isPlainObject(d)?wt.merge({},d):wt.isArray(d)?d.slice():d}function i(h,d,g,y){if(wt.isUndefined(d)){if(!wt.isUndefined(h))return r(void 0,h,g,y)}else return r(h,d,g,y)}function o(h,d){if(!wt.isUndefined(d))return r(void 0,d)}function s(h,d){if(wt.isUndefined(d)){if(!wt.isUndefined(h))return r(void 0,h)}else return r(void 0,d)}function a(h,d,g){if(g in t)return r(h,d);if(g in e)return r(void 0,h)}const c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(h,d,g)=>i(oz(h),oz(d),g,!0)};return wt.forEach(Object.keys(Object.assign({},e,t)),function(d){const g=c[d]||i,y=g(e[d],t[d],d);wt.isUndefined(y)&&g!==a||(n[d]=y)}),n}const lH=e=>{const t=Df({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=t;t.headers=s=Da.from(s),t.url=nH(sH(t.baseURL,t.url),e.params,e.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(wt.isFormData(n)){if(Xo.hasStandardBrowserEnv||Xo.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[h,...d]=c?c.split(";").map(g=>g.trim()).filter(Boolean):[];s.setContentType([h||"multipart/form-data",...d].join("; "))}}if(Xo.hasStandardBrowserEnv&&(r&&wt.isFunction(r)&&(r=r(t)),r||r!==!1&&gde(t.url))){const h=i&&o&&vde.read(o);h&&s.set(i,h)}return t},bde=typeof XMLHttpRequest<"u",xde=bde&&function(e){return new Promise(function(n,r){const i=lH(e);let o=i.data;const s=Da.from(i.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:h}=i,d,g,y,v,x;function C(){v&&v(),x&&x(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let I=new XMLHttpRequest;I.open(i.method.toUpperCase(),i.url,!0),I.timeout=i.timeout;function A(){if(!I)return;const R=Da.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),V={data:!a||a==="text"||a==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:R,config:e,request:I};aH(function(N){n(N),C()},function(N){r(N),C()},V),I=null}"onloadend"in I?I.onloadend=A:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(A)},I.onabort=function(){I&&(r(new Gn("Request aborted",Gn.ECONNABORTED,e,I)),I=null)},I.onerror=function(){r(new Gn("Network Error",Gn.ERR_NETWORK,e,I)),I=null},I.ontimeout=function(){let z=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const V=i.transitional||rH;i.timeoutErrorMessage&&(z=i.timeoutErrorMessage),r(new Gn(z,V.clarifyTimeoutError?Gn.ETIMEDOUT:Gn.ECONNABORTED,e,I)),I=null},o===void 0&&s.setContentType(null),"setRequestHeader"in I&&wt.forEach(s.toJSON(),function(z,V){I.setRequestHeader(V,z)}),wt.isUndefined(i.withCredentials)||(I.withCredentials=!!i.withCredentials),a&&a!=="json"&&(I.responseType=i.responseType),h&&([y,x]=Xw(h,!0),I.addEventListener("progress",y)),c&&I.upload&&([g,v]=Xw(c),I.upload.addEventListener("progress",g),I.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(d=R=>{I&&(r(!R||R.type?new Bg(null,e,I):R),I.abort(),I=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const k=fde(i.url);if(k&&Xo.protocols.indexOf(k)===-1){r(new Gn("Unsupported protocol "+k+":",Gn.ERR_BAD_REQUEST,e));return}I.send(o||null)})},wde=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const o=function(h){if(!i){i=!0,a();const d=h instanceof Error?h:this.reason;r.abort(d instanceof Gn?d:new Bg(d instanceof Error?d.message:d))}};let s=t&&setTimeout(()=>{s=null,o(new Gn(`timeout ${t} of ms exceeded`,Gn.ETIMEDOUT))},t);const a=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),e=null)};e.forEach(h=>h.addEventListener("abort",o));const{signal:c}=r;return c.unsubscribe=()=>wt.asap(a),c}},Sde=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},Cde=async function*(e,t){for await(const n of Tde(e))yield*Sde(n,t)},Tde=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},az=(e,t,n,r)=>{const i=Cde(e,t);let o=0,s,a=c=>{s||(s=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:h,value:d}=await i.next();if(h){a(),c.close();return}let g=d.byteLength;if(n){let y=o+=g;n(y)}c.enqueue(new Uint8Array(d))}catch(h){throw a(h),h}},cancel(c){return a(c),i.return()}},{highWaterMark:2})},b2=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",uH=b2&&typeof ReadableStream=="function",Pde=b2&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),cH=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Ede=uH&&cH(()=>{let e=!1;const t=new Request(Xo.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),sz=64*1024,cM=uH&&cH(()=>wt.isReadableStream(new Response("").body)),Yw={stream:cM&&(e=>e.body)};b2&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Yw[t]&&(Yw[t]=wt.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Gn(`Response type '${t}' is not supported`,Gn.ERR_NOT_SUPPORT,r)})})})(new Response);const Ide=async e=>{if(e==null)return 0;if(wt.isBlob(e))return e.size;if(wt.isSpecCompliantForm(e))return(await new Request(Xo.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(wt.isArrayBufferView(e)||wt.isArrayBuffer(e))return e.byteLength;if(wt.isURLSearchParams(e)&&(e=e+""),wt.isString(e))return(await Pde(e)).byteLength},Mde=async(e,t)=>{const n=wt.toFiniteNumber(e.getContentLength());return n??Ide(t)},Ade=b2&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:c,responseType:h,headers:d,withCredentials:g="same-origin",fetchOptions:y}=lH(e);h=h?(h+"").toLowerCase():"text";let v=wde([i,o&&o.toAbortSignal()],s),x;const C=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let I;try{if(c&&Ede&&n!=="get"&&n!=="head"&&(I=await Mde(d,r))!==0){let V=new Request(t,{method:"POST",body:r,duplex:"half"}),U;if(wt.isFormData(r)&&(U=V.headers.get("content-type"))&&d.setContentType(U),V.body){const[N,W]=rz(I,Xw(iz(c)));r=az(V.body,sz,N,W)}}wt.isString(g)||(g=g?"include":"omit");const A="credentials"in Request.prototype;x=new Request(t,{...y,signal:v,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:A?g:void 0});let k=await fetch(x);const R=cM&&(h==="stream"||h==="response");if(cM&&(a||R&&C)){const V={};["status","statusText","headers"].forEach(X=>{V[X]=k[X]});const U=wt.toFiniteNumber(k.headers.get("content-length")),[N,W]=a&&rz(U,Xw(iz(a),!0))||[];k=new Response(az(k.body,sz,N,()=>{W&&W(),C&&C()}),V)}h=h||"text";let z=await Yw[wt.findKey(Yw,h)||"text"](k,e);return!R&&C&&C(),await new Promise((V,U)=>{aH(V,U,{data:z,headers:Da.from(k.headers),status:k.status,statusText:k.statusText,config:e,request:x})})}catch(A){throw C&&C(),A&&A.name==="TypeError"&&/fetch/i.test(A.message)?Object.assign(new Gn("Network Error",Gn.ERR_NETWORK,e,x),{cause:A.cause||A}):Gn.from(A,A&&A.code,e,x)}}),hM={http:Ghe,xhr:xde,fetch:Ade};wt.forEach(hM,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const lz=e=>`- ${e}`,Dde=e=>wt.isFunction(e)||e===null||e===!1,hH={getAdapter:e=>{e=wt.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){n=e[o];let s;if(r=n,!Dde(n)&&(r=hM[(s=String(n)).toLowerCase()],r===void 0))throw new Gn(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=t?o.length>1?`since :
`+o.map(lz).join(`
`):" "+lz(o[0]):"as no adapter specified";throw new Gn("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:hM};function gP(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Bg(null,e)}function uz(e){return gP(e),e.headers=Da.from(e.headers),e.data=mP.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),hH.getAdapter(e.adapter||lb.adapter)(e).then(function(r){return gP(e),r.data=mP.call(e,e.transformResponse,r),r.headers=Da.from(r.headers),r},function(r){return oH(r)||(gP(e),r&&r.response&&(r.response.data=mP.call(e,e.transformResponse,r.response),r.response.headers=Da.from(r.response.headers))),Promise.reject(r)})}const dH="1.7.9",x2={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{x2[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const cz={};x2.transitional=function(t,n,r){function i(o,s){return"[Axios v"+dH+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(t===!1)throw new Gn(i(s," has been removed"+(n?" in "+n:"")),Gn.ERR_DEPRECATED);return n&&!cz[s]&&(cz[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,s,a):!0}};x2.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function kde(e,t,n){if(typeof e!="object")throw new Gn("options must be an object",Gn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],s=t[o];if(s){const a=e[o],c=a===void 0||s(a,o,e);if(c!==!0)throw new Gn("option "+o+" must be "+c,Gn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Gn("Unknown option "+o,Gn.ERR_BAD_OPTION)}}const cw={assertOptions:kde,validators:x2},Cl=cw.validators;class vf{constructor(t){this.defaults=t,this.interceptors={request:new tz,response:new tz}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Df(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&cw.assertOptions(r,{silentJSONParsing:Cl.transitional(Cl.boolean),forcedJSONParsing:Cl.transitional(Cl.boolean),clarifyTimeoutError:Cl.transitional(Cl.boolean)},!1),i!=null&&(wt.isFunction(i)?n.paramsSerializer={serialize:i}:cw.assertOptions(i,{encode:Cl.function,serialize:Cl.function},!0)),cw.assertOptions(n,{baseUrl:Cl.spelling("baseURL"),withXsrfToken:Cl.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&wt.merge(o.common,o[n.method]);o&&wt.forEach(["delete","get","head","post","put","patch","common"],x=>{delete o[x]}),n.headers=Da.concat(s,o);const a=[];let c=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(n)===!1||(c=c&&C.synchronous,a.unshift(C.fulfilled,C.rejected))});const h=[];this.interceptors.response.forEach(function(C){h.push(C.fulfilled,C.rejected)});let d,g=0,y;if(!c){const x=[uz.bind(this),void 0];for(x.unshift.apply(x,a),x.push.apply(x,h),y=x.length,d=Promise.resolve(n);g<y;)d=d.then(x[g++],x[g++]);return d}y=a.length;let v=n;for(g=0;g<y;){const x=a[g++],C=a[g++];try{v=x(v)}catch(I){C.call(this,I);break}}try{d=uz.call(this,v)}catch(x){return Promise.reject(x)}for(g=0,y=h.length;g<y;)d=d.then(h[g++],h[g++]);return d}getUri(t){t=Df(this.defaults,t);const n=sH(t.baseURL,t.url);return nH(n,t.params,t.paramsSerializer)}}wt.forEach(["delete","get","head","options"],function(t){vf.prototype[t]=function(n,r){return this.request(Df(r||{},{method:t,url:n,data:(r||{}).data}))}});wt.forEach(["post","put","patch"],function(t){function n(r){return function(o,s,a){return this.request(Df(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}vf.prototype[t]=n(),vf.prototype[t+"Form"]=n(!0)});class lk{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},t(function(o,s,a){r.reason||(r.reason=new Bg(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new lk(function(i){t=i}),cancel:t}}}function Ode(e){return function(n){return e.apply(null,n)}}function Rde(e){return wt.isObject(e)&&e.isAxiosError===!0}const dM={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(dM).forEach(([e,t])=>{dM[t]=e});function fH(e){const t=new vf(e),n=Uj(vf.prototype.request,t);return wt.extend(n,vf.prototype,t,{allOwnKeys:!0}),wt.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return fH(Df(e,i))},n}const Tn=fH(lb);Tn.Axios=vf;Tn.CanceledError=Bg;Tn.CancelToken=lk;Tn.isCancel=oH;Tn.VERSION=dH;Tn.toFormData=_2;Tn.AxiosError=Gn;Tn.Cancel=Tn.CanceledError;Tn.all=function(t){return Promise.all(t)};Tn.spread=Ode;Tn.isAxiosError=Rde;Tn.mergeConfig=Df;Tn.AxiosHeaders=Da;Tn.formToJSON=e=>iH(wt.isHTMLForm(e)?new FormData(e):e);Tn.getAdapter=hH.getAdapter;Tn.HttpStatusCode=dM;Tn.default=Tn;function m0(e){"@babel/helpers - typeof";return m0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m0(e)}function Lde(e,t){if(m0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(m0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $de(e){var t=Lde(e,"string");return m0(t)=="symbol"?t:t+""}function zde(e,t,n){return(t=$de(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hz(Object(n),!0).forEach(function(r){zde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ee.apply(null,arguments)}const Bde=e=>typeof e=="function",Fde=Array.isArray,Nde=e=>typeof e=="string",Vde=e=>e!==null&&typeof e=="object",jde=/^on[^a-z]/,Hde=e=>jde.test(e),uk=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Ude=/-(\w)/g,ck=uk(e=>e.replace(Ude,(t,n)=>n?n.toUpperCase():"")),Gde=/\B([A-Z])/g,Wde=uk(e=>e.replace(Gde,"-$1").toLowerCase()),Zde=uk(e=>e.charAt(0).toUpperCase()+e.slice(1)),qde=Object.prototype.hasOwnProperty,dz=(e,t)=>qde.call(e,t);function Kde(e,t,n,r){const i=e[n];if(i!=null){const o=dz(i,"default");if(o&&r===void 0){const s=i.default;r=i.type!==Function&&Bde(s)?s():s}i.type===Boolean&&(!dz(t,n)&&!o?r=!1:r===""&&(r=!0))}return r}function Xde(e){return Object.keys(e).reduce((t,n)=>((n.startsWith("data-")||n.startsWith("aria-"))&&(t[n]=e[n]),t),{})}function My(e){return typeof e=="number"?`${e}px`:e}function Em(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return typeof e=="function"?e(t):e??n}function Yde(e){let t;const n=new Promise(i=>{t=e(()=>{i(!0)})}),r=()=>{t==null||t()};return r.then=(i,o)=>n.then(i,o),r.promise=n,r}function an(){const e=[];for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];if(n){if(Nde(n))e.push(n);else if(Fde(n))for(let r=0;r<n.length;r++){const i=an(n[r]);i&&e.push(i)}else if(Vde(n))for(const r in n)n[r]&&e.push(r)}}return e.join(" ")}var pH=function(){if(typeof Map<"u")return Map;function e(t,n){var r=-1;return t.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(n){var r=e(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},t.prototype.set=function(n,r){var i=e(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},t.prototype.delete=function(n){var r=this.__entries__,i=e(r,n);~i&&r.splice(i,1)},t.prototype.has=function(n){return!!~e(this.__entries__,n)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var s=o[i];n.call(r,s[1],s[0])}},t}()}(),fM=typeof window<"u"&&typeof document<"u"&&window.document===document,Jw=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Jde=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Jw):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),Qde=2;function efe(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&a()}function s(){Jde(o)}function a(){var c=Date.now();if(n){if(c-i<Qde)return;r=!0}else n=!0,r=!1,setTimeout(s,t);i=c}return a}var tfe=20,nfe=["top","right","bottom","left","width","height","size","weight"],rfe=typeof MutationObserver<"u",ife=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=efe(this.refresh.bind(this),tfe)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var n=this.observers_,r=n.indexOf(t);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return t.forEach(function(n){return n.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!fM||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),rfe?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!fM||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var n=t.propertyName,r=n===void 0?"":n,i=nfe.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),mH=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},pg=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||Jw},gH=w2(0,0,0,0);function Qw(e){return parseFloat(e)||0}function fz(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(r,i){var o=e["border-"+i+"-width"];return r+Qw(o)},0)}function ofe(e){for(var t=["top","right","bottom","left"],n={},r=0,i=t;r<i.length;r++){var o=i[r],s=e["padding-"+o];n[o]=Qw(s)}return n}function afe(e){var t=e.getBBox();return w2(0,0,t.width,t.height)}function sfe(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return gH;var r=pg(e).getComputedStyle(e),i=ofe(r),o=i.left+i.right,s=i.top+i.bottom,a=Qw(r.width),c=Qw(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+o)!==t&&(a-=fz(r,"left","right")+o),Math.round(c+s)!==n&&(c-=fz(r,"top","bottom")+s)),!ufe(e)){var h=Math.round(a+o)-t,d=Math.round(c+s)-n;Math.abs(h)!==1&&(a-=h),Math.abs(d)!==1&&(c-=d)}return w2(i.left,i.top,a,c)}var lfe=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof pg(e).SVGGraphicsElement}:function(e){return e instanceof pg(e).SVGElement&&typeof e.getBBox=="function"}}();function ufe(e){return e===pg(e).document.documentElement}function cfe(e){return fM?lfe(e)?afe(e):sfe(e):gH}function hfe(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(o.prototype);return mH(s,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),s}function w2(e,t,n,r){return{x:e,y:t,width:n,height:r}}var dfe=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=w2(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=cfe(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),ffe=function(){function e(t,n){var r=hfe(n);mH(this,{target:t,contentRect:r})}return e}(),pfe=function(){function e(t,n,r){if(this.activeObservations_=[],this.observations_=new pH,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=r}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof pg(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)||(n.set(t,new dfe(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof pg(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)&&(n.delete(t),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&t.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new ffe(r.target,r.broadcastRect())});this.callback_.call(t,n,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),vH=typeof WeakMap<"u"?new WeakMap:new pH,yH=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=ife.getInstance(),r=new pfe(t,n,this);vH.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach(function(e){yH.prototype[e]=function(){var t;return(t=vH.get(this))[e].apply(t,arguments)}});var _H=function(){return typeof Jw.ResizeObserver<"u"?Jw.ResizeObserver:yH}();const pM=e=>e!=null&&e!=="",xa=(e,t)=>{const n=ee({},e);return Object.keys(t).forEach(r=>{const i=n[r];if(i)i.type||i.default?i.default=t[r]:i.def?i.def(t[r]):n[r]={type:i,default:t[r]};else throw new Error(`not have ${r} prop`)}),n},mfe=e=>{const t=Object.keys(e),n={},r={},i={};for(let o=0,s=t.length;o<s;o++){const a=t[o];Hde(a)?(n[a[2].toLowerCase()+a.slice(3)]=e[a],r[a]=e[a]):i[a]=e[a]}return{onEvents:r,events:n,extraAttrs:i}},gfe=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n={},r=/;(?![^(]*\))/g,i=/:(.+)/;return typeof e=="object"?e:(e.split(r).forEach(function(o){if(o){const s=o.split(i);if(s.length>1){const a=t?ck(s[0].trim()):s[0].trim();n[a]=s[1].trim()}}}),n)},vfe=(e,t)=>e[t]!==void 0,bH=Symbol("skipFlatten"),ao=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=Array.isArray(e)?e:[e],r=[];return n.forEach(i=>{Array.isArray(i)?r.push(...ao(i,t)):i&&i.type===vn?i.key===bH?r.push(i):r.push(...ao(i.children,t)):i&&ta(i)?t&&!S2(i)?r.push(i):t||r.push(i):pM(i)&&r.push(i)}),r},yfe=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(ta(e))return e.type===vn?t==="default"?ao(e.children):[]:e.children&&e.children[t]?ao(e.children[t](n)):[];{const r=e.$slots[t]&&e.$slots[t](n);return ao(r)}},ah=e=>{var t;let n=((t=e==null?void 0:e.vnode)===null||t===void 0?void 0:t.el)||e&&(e.$el||e);for(;n&&!n.tagName;)n=n.nextSibling;return n},_fe=e=>{const t={};if(e.$&&e.$.vnode){const n=e.$.vnode.props||{};Object.keys(e.$props).forEach(r=>{const i=e.$props[r],o=Wde(r);(i!==void 0||o in n)&&(t[r]=i)})}else if(ta(e)&&typeof e.type=="object"){const n=e.props||{},r={};Object.keys(n).forEach(o=>{r[ck(o)]=n[o]});const i=e.type.props||{};Object.keys(i).forEach(o=>{const s=Kde(i,r,o,r[o]);(s!==void 0||o in r)&&(t[o]=s)})}return t},bfe=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i;if(e.$){const o=e[t];if(o!==void 0)return typeof o=="function"&&r?o(n):o;i=e.$slots[t],i=r&&i?i(n):i}else if(ta(e)){const o=e.props&&e.props[t];if(o!==void 0&&e.props!==null)return typeof o=="function"&&r?o(n):o;e.type===vn?i=e.children:e.children&&e.children[t]&&(i=e.children[t],i=r&&i?i(n):i)}return Array.isArray(i)&&(i=ao(i),i=i.length===1?i[0]:i,i=i.length===0?void 0:i),i};function pz(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n={};return e.$?n=ee(ee({},n),e.$attrs):n=ee(ee({},n),e.props),mfe(n)[t?"onEvents":"events"]}function xfe(e,t){let r=((ta(e)?e.props:e.$attrs)||{}).style||{};return typeof r=="string"&&(r=gfe(r,t)),r}function wfe(e){return e.length===1&&e[0].type===vn}function S2(e){return e&&(e.type===to||e.type===vn&&e.children.length===0||e.type===Wl&&e.children.trim()==="")}function Uf(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=[];return e.forEach(n=>{Array.isArray(n)?t.push(...n):(n==null?void 0:n.type)===vn?t.push(...Uf(n.children)):t.push(n)}),t.filter(n=>!S2(n))}function Ay(e){if(e){const t=Uf(e);return t.length?t:void 0}else return e}function Oh(e){return Array.isArray(e)&&e.length===1&&(e=e[0]),e&&e.__v_isVNode&&typeof e.type!="symbol"}function yf(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"default";var r,i;return(r=t[n])!==null&&r!==void 0?r:(i=e[n])===null||i===void 0?void 0:i.call(e)}const g0=Pt({compatConfig:{MODE:3},name:"ResizeObserver",props:{disabled:Boolean,onResize:Function},emits:["resize"],setup(e,t){let{slots:n}=t;const r=Gi({width:0,height:0,offsetHeight:0,offsetWidth:0});let i=null,o=null;const s=()=>{o&&(o.disconnect(),o=null)},a=d=>{const{onResize:g}=e,y=d[0].target,{width:v,height:x}=y.getBoundingClientRect(),{offsetWidth:C,offsetHeight:I}=y,A=Math.floor(v),k=Math.floor(x);if(r.width!==A||r.height!==k||r.offsetWidth!==C||r.offsetHeight!==I){const R={width:A,height:k,offsetWidth:C,offsetHeight:I};ee(r,R),g&&Promise.resolve().then(()=>{g(ee(ee({},R),{offsetWidth:C,offsetHeight:I}),y)})}},c=Ao(),h=()=>{const{disabled:d}=e;if(d){s();return}const g=ah(c);g!==i&&(s(),i=g),!o&&g&&(o=new _H(a),o.observe(g))};return Nn(()=>{h()}),Dh(()=>{h()}),eu(()=>{s()}),qt(()=>e.disabled,()=>{h()},{flush:"post"}),()=>{var d;return(d=n.default)===null||d===void 0?void 0:d.call(n)[0]}}});let xH=e=>setTimeout(e,16),wH=e=>clearTimeout(e);typeof window<"u"&&"requestAnimationFrame"in window&&(xH=e=>window.requestAnimationFrame(e),wH=e=>window.cancelAnimationFrame(e));let mz=0;const hk=new Map;function SH(e){hk.delete(e)}function Tr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;mz+=1;const n=mz;function r(i){if(i===0)SH(n),e();else{const o=xH(()=>{r(i-1)});hk.set(n,o)}}return r(t),n}Tr.cancel=e=>{const t=hk.get(e);return SH(t),wH(t)};const eS=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t},ub=e=>{const t=e;return t.install=function(n){n.component(t.displayName||t.name,e)},e};function mM(){return{type:[Function,Array]}}function Jr(e){return{type:Object,default:e}}function Br(e){return{type:Boolean,default:e}}function mi(e){return{type:Function,default:e}}function il(e,t){const n={validator:()=>!0,default:e};return n}function vP(){return{validator:()=>!0}}function kf(e){return{type:Array,default:e}}function Yo(e){return{type:String,default:e}}function Th(e,t){return e?{type:e,default:t}:il(t)}let fa=!1;try{const e=Object.defineProperty({},"passive",{get(){fa=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch{}function c_(e,t,n,r){if(e&&e.addEventListener){let i=r;i===void 0&&fa&&(t==="touchstart"||t==="touchmove"||t==="wheel")&&(i={passive:!1}),e.addEventListener(t,n,i)}return{remove:()=>{e&&e.removeEventListener&&e.removeEventListener(t,n)}}}const dk="anticon",Sfe=Symbol("GlobalFormContextKey"),Cfe=e=>{fr(Sfe,e)},Tfe=()=>({iconPrefixCls:String,getTargetContainer:{type:Function},getPopupContainer:{type:Function},prefixCls:String,getPrefixCls:{type:Function},renderEmpty:{type:Function},transformCellText:{type:Function},csp:Jr(),input:Jr(),autoInsertSpaceInButton:{type:Boolean,default:void 0},locale:Jr(),pageHeader:Jr(),componentSize:{type:String},componentDisabled:{type:Boolean,default:void 0},direction:{type:String,default:"ltr"},space:Jr(),virtual:{type:Boolean,default:void 0},dropdownMatchSelectWidth:{type:[Number,Boolean],default:!0},form:Jr(),pagination:Jr(),theme:Jr(),select:Jr(),wave:Jr()}),fk=Symbol("configProvider"),CH={getPrefixCls:(e,t)=>t||(e?`ant-${e}`:"ant"),iconPrefixCls:ge(()=>dk),getPopupContainer:ge(()=>()=>document.body),direction:ge(()=>"ltr")},TH=()=>Mn(fk,CH),Pfe=e=>fr(fk,e),PH=Symbol("DisabledContextKey"),cb=()=>Mn(PH,Ot(void 0)),Efe=e=>{const t=cb();return fr(PH,ge(()=>{var n;return(n=e.value)!==null&&n!==void 0?n:t.value})),e},Ife={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages"},Mfe={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},EH={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},gz={lang:ee({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},Mfe),timePickerLocale:ee({},EH)},qa="${label} is not a valid ${type}",v0={locale:"en",Pagination:Ife,DatePicker:gz,TimePicker:EH,Calendar:gz,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:qa,method:qa,array:qa,object:qa,number:qa,date:qa,boolean:qa,integer:qa,float:qa,regexp:qa,email:qa,url:qa,hex:qa},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"}},IH=Pt({compatConfig:{MODE:3},name:"LocaleReceiver",props:{componentName:String,defaultLocale:{type:[Object,Function]},children:{type:Function}},setup(e,t){let{slots:n}=t;const r=Mn("localeData",{}),i=ge(()=>{const{componentName:s="global",defaultLocale:a}=e,c=a||v0[s||"global"],{antLocale:h}=r,d=s&&h?h[s]:{};return ee(ee({},typeof c=="function"?c():c),d||{})}),o=ge(()=>{const{antLocale:s}=r,a=s&&s.locale;return s&&s.exist&&!a?v0.locale:a});return()=>{const s=e.children||n.default,{antLocale:a}=r;return s==null?void 0:s(i.value,o.value,a)}}});function pk(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}const vz="%";class Afe{constructor(t){this.cache=new Map,this.instanceId=t}get(t){return this.cache.get(Array.isArray(t)?t.join(vz):t)||null}update(t,n){const r=Array.isArray(t)?t.join(vz):t,i=this.cache.get(r),o=n(i);o===null?this.cache.delete(r):this.cache.set(r,o)}}const MH="data-token-hash",_f="data-css-hash",Im="__cssinjs_instance__";function y0(){const e=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){const t=document.body.querySelectorAll(`style[${_f}]`)||[],{firstChild:n}=document.head;Array.from(t).forEach(i=>{i[Im]=i[Im]||e,i[Im]===e&&document.head.insertBefore(i,n)});const r={};Array.from(document.querySelectorAll(`style[${_f}]`)).forEach(i=>{var o;const s=i.getAttribute(_f);r[s]?i[Im]===e&&((o=i.parentNode)===null||o===void 0||o.removeChild(i)):r[s]=!0})}return new Afe(e)}const AH=Symbol("StyleContextKey"),Dfe=()=>{var e,t,n;const r=Ao();let i;if(r&&r.appContext){const o=(n=(t=(e=r.appContext)===null||e===void 0?void 0:e.config)===null||t===void 0?void 0:t.globalProperties)===null||n===void 0?void 0:n.__ANTDV_CSSINJS_CACHE__;o?i=o:(i=y0(),r.appContext.config.globalProperties&&(r.appContext.config.globalProperties.__ANTDV_CSSINJS_CACHE__=i))}else i=y0();return i},DH={cache:y0(),defaultCache:!0,hashPriority:"low"},C2=()=>{const e=Dfe();return Mn(AH,Et(ee(ee({},DH),{cache:e})))},kfe=e=>{const t=C2(),n=Et(ee(ee({},DH),{cache:y0()}));return qt([()=>Ui(e),t],()=>{const r=ee({},t.value),i=Ui(e);Object.keys(i).forEach(s=>{const a=i[s];i[s]!==void 0&&(r[s]=a)});const{cache:o}=i;r.cache=r.cache||y0(),r.defaultCache=!o&&t.value.defaultCache,n.value=r},{immediate:!0}),fr(AH,n),n},Ofe=()=>({autoClear:Br(),mock:Yo(),cache:Jr(),defaultCache:Br(),hashPriority:Yo(),container:Th(),ssrInline:Br(),transformers:kf(),linters:kf()});ub(Pt({name:"AStyleProvider",inheritAttrs:!1,props:Ofe(),setup(e,t){let{slots:n}=t;return kfe(e),()=>{var r;return(r=n.default)===null||r===void 0?void 0:r.call(n)}}}));function kH(e,t,n,r){const i=C2(),o=Et(""),s=Et();Dr(()=>{o.value=[e,...t.value].join("%")});const a=c=>{i.value.cache.update(c,h=>{const[d=0,g]=h||[];return d-1===0?(r==null||r(g,!1),null):[d-1,g]})};return qt(o,(c,h)=>{h&&a(h),i.value.cache.update(c,d=>{const[g=0,y]=d||[],x=y||n();return[g+1,x]}),s.value=i.value.cache.get(o.value)[1]},{immediate:!0}),ii(()=>{a(o.value)}),s}function cl(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function tf(e,t){return e&&e.contains?e.contains(t):!1}const yz="data-vc-order",Rfe="vc-util-key",gM=new Map;function OH(){let{mark:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e?e.startsWith("data-")?e:`data-${e}`:Rfe}function T2(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function Lfe(e){return e==="queue"?"prependQueue":e?"prepend":"append"}function RH(e){return Array.from((gM.get(e)||e).children).filter(t=>t.tagName==="STYLE")}function LH(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!cl())return null;const{csp:n,prepend:r}=t,i=document.createElement("style");i.setAttribute(yz,Lfe(r)),n!=null&&n.nonce&&(i.nonce=n==null?void 0:n.nonce),i.innerHTML=e;const o=T2(t),{firstChild:s}=o;if(r){if(r==="queue"){const a=RH(o).filter(c=>["prepend","prependQueue"].includes(c.getAttribute(yz)));if(a.length)return o.insertBefore(i,a[a.length-1].nextSibling),i}o.insertBefore(i,s)}else o.appendChild(i);return i}function $H(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=T2(t);return RH(n).find(r=>r.getAttribute(OH(t))===e)}function tS(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=$H(e,t);n&&T2(t).removeChild(n)}function $fe(e,t){const n=gM.get(e);if(!n||!tf(document,n)){const r=LH("",t),{parentNode:i}=r;gM.set(e,i),e.removeChild(r)}}function _0(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var r,i,o;const s=T2(n);$fe(s,n);const a=$H(t,n);if(a)return!((r=n.csp)===null||r===void 0)&&r.nonce&&a.nonce!==((i=n.csp)===null||i===void 0?void 0:i.nonce)&&(a.nonce=(o=n.csp)===null||o===void 0?void 0:o.nonce),a.innerHTML!==e&&(a.innerHTML=e),a;const c=LH(e,n);return c.setAttribute(OH(n),t),c}function zfe(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}class mg{constructor(){this.cache=new Map,this.keys=[],this.cacheCallTimes=0}size(){return this.keys.length}internalGet(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r={map:this.cache};return t.forEach(i=>{var o;r?r=(o=r==null?void 0:r.map)===null||o===void 0?void 0:o.get(i):r=void 0}),r!=null&&r.value&&n&&(r.value[1]=this.cacheCallTimes++),r==null?void 0:r.value}get(t){var n;return(n=this.internalGet(t,!0))===null||n===void 0?void 0:n[0]}has(t){return!!this.internalGet(t)}set(t,n){if(!this.has(t)){if(this.size()+1>mg.MAX_CACHE_SIZE+mg.MAX_CACHE_OFFSET){const[i]=this.keys.reduce((o,s)=>{const[,a]=o;return this.internalGet(s)[1]<a?[s,this.internalGet(s)[1]]:o},[this.keys[0],this.cacheCallTimes]);this.delete(i)}this.keys.push(t)}let r=this.cache;t.forEach((i,o)=>{if(o===t.length-1)r.set(i,{value:[n,this.cacheCallTimes++]});else{const s=r.get(i);s?s.map||(s.map=new Map):r.set(i,{map:new Map}),r=r.get(i).map}})}deleteByPath(t,n){var r;const i=t.get(n[0]);if(n.length===1)return i.map?t.set(n[0],{map:i.map}):t.delete(n[0]),(r=i.value)===null||r===void 0?void 0:r[0];const o=this.deleteByPath(i.map,n.slice(1));return(!i.map||i.map.size===0)&&!i.value&&t.delete(n[0]),o}delete(t){if(this.has(t))return this.keys=this.keys.filter(n=>!zfe(n,t)),this.deleteByPath(this.cache,t)}}mg.MAX_CACHE_SIZE=20;mg.MAX_CACHE_OFFSET=5;let _z={};function Bfe(e,t){}function Ffe(e,t,n){!t&&!_z[n]&&(_z[n]=!0)}function Nfe(e,t){Ffe(Bfe,e,t)}function Vfe(){}let P2=Vfe,bz=0;class zH{constructor(t){this.derivatives=Array.isArray(t)?t:[t],this.id=bz,t.length===0&&P2(t.length>0),bz+=1}getDerivativeToken(t){return this.derivatives.reduce((n,r)=>r(t,n),void 0)}}const yP=new mg;function BH(e){const t=Array.isArray(e)?e:[e];return yP.has(t)||yP.set(t,new zH(t)),yP.get(t)}const xz=new WeakMap;function nS(e){let t=xz.get(e)||"";return t||(Object.keys(e).forEach(n=>{const r=e[n];t+=n,r instanceof zH?t+=r.id:r&&typeof r=="object"?t+=nS(r):t+=r}),xz.set(e,t)),t}function jfe(e,t){return pk(`${t}_${nS(e)}`)}const R_=`random-${Date.now()}-${Math.random()}`.replace(/\./g,""),FH="_bAmBoO_";function Hfe(e,t,n){var r,i;if(cl()){_0(e,R_);const o=document.createElement("div");o.style.position="fixed",o.style.left="0",o.style.top="0",t==null||t(o),document.body.appendChild(o);const s=n?n(o):(r=getComputedStyle(o).content)===null||r===void 0?void 0:r.includes(FH);return(i=o.parentNode)===null||i===void 0||i.removeChild(o),tS(R_),s}return!1}let _P;function Ufe(){return _P===void 0&&(_P=Hfe(`@layer ${R_} { .${R_} { content: "${FH}"!important; } }`,e=>{e.className=R_})),_P}const wz={},Gfe="css",nf=new Map;function Wfe(e){nf.set(e,(nf.get(e)||0)+1)}function Zfe(e,t){typeof document<"u"&&document.querySelectorAll(`style[${MH}="${e}"]`).forEach(r=>{var i;r[Im]===t&&((i=r.parentNode)===null||i===void 0||i.removeChild(r))})}const qfe=0;function Kfe(e,t){nf.set(e,(nf.get(e)||0)-1);const n=Array.from(nf.keys()),r=n.filter(i=>(nf.get(i)||0)<=0);n.length-r.length>qfe&&r.forEach(i=>{Zfe(i,t),nf.delete(i)})}const Xfe=(e,t,n,r)=>{const i=n.getDerivativeToken(e);let o=ee(ee({},i),t);return r&&(o=r(o)),o};function Yfe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ot({});const r=C2(),i=ge(()=>ee({},...t.value)),o=ge(()=>nS(i.value)),s=ge(()=>nS(n.value.override||wz));return kH("token",ge(()=>[n.value.salt||"",e.value.id,o.value,s.value]),()=>{const{salt:c="",override:h=wz,formatToken:d,getComputedToken:g}=n.value,y=g?g(i.value,h,e.value):Xfe(i.value,h,e.value,d),v=jfe(y,c);y._tokenKey=v,Wfe(v);const x=`${Gfe}-${pk(v)}`;return y._hashId=x,[y,x]},c=>{var h;Kfe(c[0]._tokenKey,(h=r.value)===null||h===void 0?void 0:h.cache.instanceId)})}var Jfe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},NH="comm",VH="rule",jH="decl",Qfe="@import",epe="@keyframes",tpe="@layer",HH=Math.abs,mk=String.fromCharCode;function UH(e){return e.trim()}function hw(e,t,n){return e.replace(t,n)}function npe(e,t,n){return e.indexOf(t,n)}function b0(e,t){return e.charCodeAt(t)|0}function gg(e,t,n){return e.slice(t,n)}function Rl(e){return e.length}function rpe(e){return e.length}function K1(e,t){return t.push(e),e}var E2=1,vg=1,GH=0,js=0,Hi=0,Fg="";function gk(e,t,n,r,i,o,s,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:E2,column:vg,length:s,return:"",siblings:a}}function ipe(){return Hi}function ope(){return Hi=js>0?b0(Fg,--js):0,vg--,Hi===10&&(vg=1,E2--),Hi}function sl(){return Hi=js<GH?b0(Fg,js++):0,vg++,Hi===10&&(vg=1,E2++),Hi}function sh(){return b0(Fg,js)}function dw(){return js}function I2(e,t){return gg(Fg,e,t)}function x0(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ape(e){return E2=vg=1,GH=Rl(Fg=e),js=0,[]}function spe(e){return Fg="",e}function bP(e){return UH(I2(js-1,vM(e===91?e+2:e===40?e+1:e)))}function lpe(e){for(;(Hi=sh())&&Hi<33;)sl();return x0(e)>2||x0(Hi)>3?"":" "}function upe(e,t){for(;--t&&sl()&&!(Hi<48||Hi>102||Hi>57&&Hi<65||Hi>70&&Hi<97););return I2(e,dw()+(t<6&&sh()==32&&sl()==32))}function vM(e){for(;sl();)switch(Hi){case e:return js;case 34:case 39:e!==34&&e!==39&&vM(Hi);break;case 40:e===41&&vM(e);break;case 92:sl();break}return js}function cpe(e,t){for(;sl()&&e+Hi!==57;)if(e+Hi===84&&sh()===47)break;return"/*"+I2(t,js-1)+"*"+mk(e===47?e:sl())}function hpe(e){for(;!x0(sh());)sl();return I2(e,js)}function dpe(e){return spe(fw("",null,null,null,[""],e=ape(e),0,[0],e))}function fw(e,t,n,r,i,o,s,a,c){for(var h=0,d=0,g=s,y=0,v=0,x=0,C=1,I=1,A=1,k=0,R="",z=i,V=o,U=r,N=R;I;)switch(x=k,k=sl()){case 40:if(x!=108&&b0(N,g-1)==58){npe(N+=hw(bP(k),"&","&\f"),"&\f",HH(h?a[h-1]:0))!=-1&&(A=-1);break}case 34:case 39:case 91:N+=bP(k);break;case 9:case 10:case 13:case 32:N+=lpe(x);break;case 92:N+=upe(dw()-1,7);continue;case 47:switch(sh()){case 42:case 47:K1(fpe(cpe(sl(),dw()),t,n,c),c),(x0(x||1)==5||x0(sh()||1)==5)&&Rl(N)&&gg(N,-1,void 0)!==" "&&(N+=" ");break;default:N+="/"}break;case 123*C:a[h++]=Rl(N)*A;case 125*C:case 59:case 0:switch(k){case 0:case 125:I=0;case 59+d:A==-1&&(N=hw(N,/\f/g,"")),v>0&&(Rl(N)-g||C===0&&x===47)&&K1(v>32?Cz(N+";",r,n,g-1,c):Cz(hw(N," ","")+";",r,n,g-2,c),c);break;case 59:N+=";";default:if(K1(U=Sz(N,t,n,h,d,i,a,R,z=[],V=[],g,o),o),k===123)if(d===0)fw(N,t,U,U,z,o,g,a,V);else switch(y===99&&b0(N,3)===110?100:y){case 100:case 108:case 109:case 115:fw(e,U,U,r&&K1(Sz(e,U,U,0,0,i,a,R,i,z=[],g,V),V),i,V,g,a,r?z:V);break;default:fw(N,U,U,U,[""],V,0,a,V)}}h=d=v=0,C=A=1,R=N="",g=s;break;case 58:g=1+Rl(N),v=x;default:if(C<1){if(k==123)--C;else if(k==125&&C++==0&&ope()==125)continue}switch(N+=mk(k),k*C){case 38:A=d>0?1:(N+="\f",-1);break;case 44:a[h++]=(Rl(N)-1)*A,A=1;break;case 64:sh()===45&&(N+=bP(sl())),y=sh(),d=g=Rl(R=N+=hpe(dw())),k++;break;case 45:x===45&&Rl(N)==2&&(C=0)}}return o}function Sz(e,t,n,r,i,o,s,a,c,h,d,g){for(var y=i-1,v=i===0?o:[""],x=rpe(v),C=0,I=0,A=0;C<r;++C)for(var k=0,R=gg(e,y+1,y=HH(I=s[C])),z=e;k<x;++k)(z=UH(I>0?v[k]+" "+R:hw(R,/&\f/g,v[k])))&&(c[A++]=z);return gk(e,t,n,i===0?VH:a,c,h,d,g)}function fpe(e,t,n,r){return gk(e,t,n,NH,mk(ipe()),gg(e,2,-2),0,r)}function Cz(e,t,n,r,i){return gk(e,t,n,jH,gg(e,0,r),gg(e,r+1,-1),r,i)}function yM(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function ppe(e,t,n,r){switch(e.type){case tpe:if(e.children.length)break;case Qfe:case jH:return e.return=e.return||e.value;case NH:return"";case epe:return e.return=e.value+"{"+yM(e.children,r)+"}";case VH:if(!Rl(e.value=e.props.join(",")))return""}return Rl(n=yM(e.children,r))?e.return=e.value+"{"+n+"}":""}const Tz="data-ant-cssinjs-cache-path",mpe="_FILE_STYLE__";let bf,WH=!0;function gpe(){var e;if(!bf&&(bf={},cl())){const t=document.createElement("div");t.className=Tz,t.style.position="fixed",t.style.visibility="hidden",t.style.top="-9999px",document.body.appendChild(t);let n=getComputedStyle(t).content||"";n=n.replace(/^"/,"").replace(/"$/,""),n.split(";").forEach(i=>{const[o,s]=i.split(":");bf[o]=s});const r=document.querySelector(`style[${Tz}]`);r&&(WH=!1,(e=r.parentNode)===null||e===void 0||e.removeChild(r)),document.body.removeChild(t)}}function vpe(e){return gpe(),!!bf[e]}function ype(e){const t=bf[e];let n=null;if(t&&cl())if(WH)n=mpe;else{const r=document.querySelector(`style[${_f}="${bf[e]}"]`);r?n=r.innerHTML:delete bf[e]}return[n,t]}const Pz=cl(),_pe="_skip_check_",ZH="_multi_value_";function Ez(e){return yM(dpe(e),ppe).replace(/\{%%%\:[^;];}/g,";")}function bpe(e){return typeof e=="object"&&e&&(_pe in e||ZH in e)}function xpe(e,t,n){if(!t)return e;const r=`.${t}`,i=n==="low"?`:where(${r})`:r;return e.split(",").map(s=>{var a;const c=s.trim().split(/\s+/);let h=c[0]||"";const d=((a=h.match(/^\w+/))===null||a===void 0?void 0:a[0])||"";return h=`${d}${i}${h.slice(d.length)}`,[h,...c.slice(1)].join(" ")}).join(",")}const Iz=new Set,_M=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{root:n,injectHash:r,parentSelectors:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]};const{hashId:o,layer:s,path:a,hashPriority:c,transformers:h=[],linters:d=[]}=t;let g="",y={};function v(I){const A=I.getName(o);if(!y[A]){const[k]=_M(I.style,t,{root:!1,parentSelectors:i});y[A]=`@keyframes ${I.getName(o)}${k}`}}function x(I){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return I.forEach(k=>{Array.isArray(k)?x(k,A):k&&A.push(k)}),A}if(x(Array.isArray(e)?e:[e]).forEach(I=>{const A=typeof I=="string"&&!n?{}:I;if(typeof A=="string")g+=`${A}
`;else if(A._keyframe)v(A);else{const k=h.reduce((R,z)=>{var V;return((V=z==null?void 0:z.visit)===null||V===void 0?void 0:V.call(z,R))||R},A);Object.keys(k).forEach(R=>{var z;const V=k[R];if(typeof V=="object"&&V&&(R!=="animationName"||!V._keyframe)&&!bpe(V)){let U=!1,N=R.trim(),W=!1;(n||r)&&o?N.startsWith("@")?U=!0:N=xpe(R,o,c):n&&!o&&(N==="&"||N==="")&&(N="",W=!0);const[X,K]=_M(V,t,{root:W,injectHash:U,parentSelectors:[...i,N]});y=ee(ee({},y),K),g+=`${N}${X}`}else{let U=function(W,X){const K=W.replace(/[A-Z]/g,ae=>`-${ae.toLowerCase()}`);let te=X;!Jfe[W]&&typeof te=="number"&&te!==0&&(te=`${te}px`),W==="animationName"&&(X!=null&&X._keyframe)&&(v(X),te=X.getName(o)),g+=`${K}:${te};`};const N=(z=V==null?void 0:V.value)!==null&&z!==void 0?z:V;typeof V=="object"&&(V!=null&&V[ZH])&&Array.isArray(N)?N.forEach(W=>{U(R,W)}):U(R,N)}})}}),!n)g=`{${g}}`;else if(s&&Ufe()){const I=s.split(",");g=`@layer ${I[I.length-1].trim()} {${g}}`,I.length>1&&(g=`@layer ${s}{%%%:%}${g}`)}return[g,y]};function wpe(e,t){return pk(`${e.join("%")}${t}`)}function bM(e,t){const n=C2(),r=ge(()=>e.value.token._tokenKey),i=ge(()=>[r.value,...e.value.path]);let o=Pz;return kH("style",i,()=>{const{path:s,hashId:a,layer:c,nonce:h,clientOnly:d,order:g=0}=e.value,y=i.value.join("|");if(vpe(y)){const[N,W]=ype(y);if(N)return[N,r.value,W,{},d,g]}const v=t(),{hashPriority:x,container:C,transformers:I,linters:A,cache:k}=n.value,[R,z]=_M(v,{hashId:a,hashPriority:x,layer:c,path:s.join("-"),transformers:I,linters:A}),V=Ez(R),U=wpe(i.value,V);if(o){const N={mark:_f,prepend:"queue",attachTo:C,priority:g},W=typeof h=="function"?h():h;W&&(N.csp={nonce:W});const X=_0(V,U,N);X[Im]=k.instanceId,X.setAttribute(MH,r.value),Object.keys(z).forEach(K=>{Iz.has(K)||(Iz.add(K),_0(Ez(z[K]),`_effect-${K}`,{mark:_f,prepend:"queue",attachTo:C}))})}return[V,r.value,U,z,d,g]},(s,a)=>{let[,,c]=s;(a||n.value.autoClear)&&Pz&&tS(c,{mark:_f})}),s=>s}class Qn{constructor(t,n){this._keyframe=!0,this.name=t,this.style=n}getName(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t?`${t}-${this.name}`:this.name}}const Spe="4.2.6",rS=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function Eo(e,t){Cpe(e)&&(e="100%");var n=Tpe(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function X1(e){return Math.min(1,Math.max(0,e))}function Cpe(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function Tpe(e){return typeof e=="string"&&e.indexOf("%")!==-1}function qH(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Y1(e){return e<=1?"".concat(Number(e)*100,"%"):e}function cf(e){return e.length===1?"0"+e:String(e)}function Ppe(e,t,n){return{r:Eo(e,255)*255,g:Eo(t,255)*255,b:Eo(n,255)*255}}function Mz(e,t,n){e=Eo(e,255),t=Eo(t,255),n=Eo(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o=0,s=0,a=(r+i)/2;if(r===i)s=0,o=0;else{var c=r-i;switch(s=a>.5?c/(2-r-i):c/(r+i),r){case e:o=(t-n)/c+(t<n?6:0);break;case t:o=(n-e)/c+2;break;case n:o=(e-t)/c+4;break}o/=6}return{h:o,s,l:a}}function xP(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Epe(e,t,n){var r,i,o;if(e=Eo(e,360),t=Eo(t,100),n=Eo(n,100),t===0)i=n,o=n,r=n;else{var s=n<.5?n*(1+t):n+t-n*t,a=2*n-s;r=xP(a,s,e+1/3),i=xP(a,s,e),o=xP(a,s,e-1/3)}return{r:r*255,g:i*255,b:o*255}}function xM(e,t,n){e=Eo(e,255),t=Eo(t,255),n=Eo(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o=0,s=r,a=r-i,c=r===0?0:a/r;if(r===i)o=0;else{switch(r){case e:o=(t-n)/a+(t<n?6:0);break;case t:o=(n-e)/a+2;break;case n:o=(e-t)/a+4;break}o/=6}return{h:o,s:c,v:s}}function Ipe(e,t,n){e=Eo(e,360)*6,t=Eo(t,100),n=Eo(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),s=n*(1-i*t),a=n*(1-(1-i)*t),c=r%6,h=[n,s,o,o,a,n][c],d=[a,n,n,s,o,o][c],g=[o,o,a,n,n,s][c];return{r:h*255,g:d*255,b:g*255}}function wM(e,t,n,r){var i=[cf(Math.round(e).toString(16)),cf(Math.round(t).toString(16)),cf(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Mpe(e,t,n,r,i){var o=[cf(Math.round(e).toString(16)),cf(Math.round(t).toString(16)),cf(Math.round(n).toString(16)),cf(Ape(r))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function Ape(e){return Math.round(parseFloat(e)*255).toString(16)}function Az(e){return Xa(e)/255}function Xa(e){return parseInt(e,16)}function Dpe(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var SM={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function ym(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return typeof e=="string"&&(e=Rpe(e)),typeof e=="object"&&(Ou(e.r)&&Ou(e.g)&&Ou(e.b)?(t=Ppe(e.r,e.g,e.b),s=!0,a=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Ou(e.h)&&Ou(e.s)&&Ou(e.v)?(r=Y1(e.s),i=Y1(e.v),t=Ipe(e.h,r,i),s=!0,a="hsv"):Ou(e.h)&&Ou(e.s)&&Ou(e.l)&&(r=Y1(e.s),o=Y1(e.l),t=Epe(e.h,r,o),s=!0,a="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=qH(n),{ok:s,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var kpe="[-\\+]?\\d+%?",Ope="[-\\+]?\\d*\\.\\d+%?",lh="(?:".concat(Ope,")|(?:").concat(kpe,")"),wP="[\\s|\\(]+(".concat(lh,")[,|\\s]+(").concat(lh,")[,|\\s]+(").concat(lh,")\\s*\\)?"),SP="[\\s|\\(]+(".concat(lh,")[,|\\s]+(").concat(lh,")[,|\\s]+(").concat(lh,")[,|\\s]+(").concat(lh,")\\s*\\)?"),el={CSS_UNIT:new RegExp(lh),rgb:new RegExp("rgb"+wP),rgba:new RegExp("rgba"+SP),hsl:new RegExp("hsl"+wP),hsla:new RegExp("hsla"+SP),hsv:new RegExp("hsv"+wP),hsva:new RegExp("hsva"+SP),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Rpe(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(SM[e])e=SM[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=el.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=el.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=el.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=el.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=el.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=el.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=el.hex8.exec(e),n?{r:Xa(n[1]),g:Xa(n[2]),b:Xa(n[3]),a:Az(n[4]),format:t?"name":"hex8"}:(n=el.hex6.exec(e),n?{r:Xa(n[1]),g:Xa(n[2]),b:Xa(n[3]),format:t?"name":"hex"}:(n=el.hex4.exec(e),n?{r:Xa(n[1]+n[1]),g:Xa(n[2]+n[2]),b:Xa(n[3]+n[3]),a:Az(n[4]+n[4]),format:t?"name":"hex8"}:(n=el.hex3.exec(e),n?{r:Xa(n[1]+n[1]),g:Xa(n[2]+n[2]),b:Xa(n[3]+n[3]),format:t?"name":"hex"}:!1)))))))))}function Ou(e){return!!el.CSS_UNIT.exec(String(e))}var Li=function(){function e(t,n){t===void 0&&(t=""),n===void 0&&(n={});var r;if(t instanceof e)return t;typeof t=="number"&&(t=Dpe(t)),this.originalInput=t;var i=ym(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),n,r,i,o=t.r/255,s=t.g/255,a=t.b/255;return o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),s<=.03928?r=s/12.92:r=Math.pow((s+.055)/1.055,2.4),a<=.03928?i=a/12.92:i=Math.pow((a+.055)/1.055,2.4),.2126*n+.7152*r+.0722*i},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=qH(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=xM(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=xM(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=Mz(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=Mz(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),wM(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),Mpe(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(n,", ").concat(r,")"):"rgba(".concat(t,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(n){return"".concat(Math.round(Eo(n,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(n){return Math.round(Eo(n,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+wM(this.r,this.g,this.b,!1),n=0,r=Object.entries(SM);n<r.length;n++){var i=r[n],o=i[0],s=i[1];if(t===s)return o}return!1},e.prototype.toString=function(t){var n=!!t;t=t??this.format;var r=!1,i=this.a<1&&this.a>=0,o=!n&&i&&(t.startsWith("hex")||t==="name");return o?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=X1(n.l),new e(n)},e.prototype.brighten=function(t){t===void 0&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),new e(n)},e.prototype.darken=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=X1(n.l),new e(n)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=X1(n.s),new e(n)},e.prototype.saturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=X1(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){n===void 0&&(n=50);var r=this.toRgb(),i=new e(t).toRgb(),o=n/100,s={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return new e(s)},e.prototype.analogous=function(t,n){t===void 0&&(t=6),n===void 0&&(n=30);var r=this.toHsl(),i=360/n,o=[this];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(new e(r));return o},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var n=this.toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/t;t--;)s.push(new e({h:r,s:i,v:o})),o=(o+a)%1;return s},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),i=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/i,g:(n.g*n.a+r.g*r.a*(1-n.a))/i,b:(n.b*n.a+r.b*r.a*(1-n.a))/i,a:i})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,i=[this],o=360/t,s=1;s<t;s++)i.push(new e({h:(r+s*o)%360,s:n.s,l:n.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}(),J1=2,Dz=.16,Lpe=.05,$pe=.05,zpe=.15,KH=5,XH=4,Bpe=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function kz(e){var t=e.r,n=e.g,r=e.b,i=xM(t,n,r);return{h:i.h*360,s:i.s,v:i.v}}function Q1(e){var t=e.r,n=e.g,r=e.b;return"#".concat(wM(t,n,r,!1))}function Fpe(e,t,n){var r=n/100,i={r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b};return i}function Oz(e,t,n){var r;return Math.round(e.h)>=60&&Math.round(e.h)<=240?r=n?Math.round(e.h)-J1*t:Math.round(e.h)+J1*t:r=n?Math.round(e.h)+J1*t:Math.round(e.h)-J1*t,r<0?r+=360:r>=360&&(r-=360),r}function Rz(e,t,n){if(e.h===0&&e.s===0)return e.s;var r;return n?r=e.s-Dz*t:t===XH?r=e.s+Dz:r=e.s+Lpe*t,r>1&&(r=1),n&&t===KH&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function Lz(e,t,n){var r;return n?r=e.v+$pe*t:r=e.v-zpe*t,r>1&&(r=1),Number(r.toFixed(2))}function tc(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=ym(e),i=KH;i>0;i-=1){var o=kz(r),s=Q1(ym({h:Oz(o,i,!0),s:Rz(o,i,!0),v:Lz(o,i,!0)}));n.push(s)}n.push(Q1(r));for(var a=1;a<=XH;a+=1){var c=kz(r),h=Q1(ym({h:Oz(c,a),s:Rz(c,a),v:Lz(c,a)}));n.push(h)}return t.theme==="dark"?Bpe.map(function(d){var g=d.index,y=d.opacity,v=Q1(Fpe(ym(t.backgroundColor||"#141414"),ym(n[g]),y*100));return v}):n}var CP={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},pw={},TP={};Object.keys(CP).forEach(function(e){pw[e]=tc(CP[e]),pw[e].primary=pw[e][5],TP[e]=tc(CP[e],{theme:"dark",backgroundColor:"#141414"}),TP[e].primary=TP[e][5]});var Npe=pw.blue;const YH=e=>{const{controlHeight:t}=e;return{controlHeightSM:t*.75,controlHeightXS:t*.5,controlHeightLG:t*1.25}};function Vpe(e){const{sizeUnit:t,sizeStep:n}=e;return{sizeXXL:t*(n+8),sizeXL:t*(n+4),sizeLG:t*(n+2),sizeMD:t*(n+1),sizeMS:t*n,size:t*n,sizeSM:t*(n-1),sizeXS:t*(n-2),sizeXXS:t*(n-3)}}const vk={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},M2=ee(ee({},vk),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1});function JH(e,t){let{generateColorPalettes:n,generateNeutralColorPalettes:r}=t;const{colorSuccess:i,colorWarning:o,colorError:s,colorInfo:a,colorPrimary:c,colorBgBase:h,colorTextBase:d}=e,g=n(c),y=n(i),v=n(o),x=n(s),C=n(a),I=r(h,d);return ee(ee({},I),{colorPrimaryBg:g[1],colorPrimaryBgHover:g[2],colorPrimaryBorder:g[3],colorPrimaryBorderHover:g[4],colorPrimaryHover:g[5],colorPrimary:g[6],colorPrimaryActive:g[7],colorPrimaryTextHover:g[8],colorPrimaryText:g[9],colorPrimaryTextActive:g[10],colorSuccessBg:y[1],colorSuccessBgHover:y[2],colorSuccessBorder:y[3],colorSuccessBorderHover:y[4],colorSuccessHover:y[4],colorSuccess:y[6],colorSuccessActive:y[7],colorSuccessTextHover:y[8],colorSuccessText:y[9],colorSuccessTextActive:y[10],colorErrorBg:x[1],colorErrorBgHover:x[2],colorErrorBorder:x[3],colorErrorBorderHover:x[4],colorErrorHover:x[5],colorError:x[6],colorErrorActive:x[7],colorErrorTextHover:x[8],colorErrorText:x[9],colorErrorTextActive:x[10],colorWarningBg:v[1],colorWarningBgHover:v[2],colorWarningBorder:v[3],colorWarningBorderHover:v[4],colorWarningHover:v[4],colorWarning:v[6],colorWarningActive:v[7],colorWarningTextHover:v[8],colorWarningText:v[9],colorWarningTextActive:v[10],colorInfoBg:C[1],colorInfoBgHover:C[2],colorInfoBorder:C[3],colorInfoBorderHover:C[4],colorInfoHover:C[4],colorInfo:C[6],colorInfoActive:C[7],colorInfoTextHover:C[8],colorInfoText:C[9],colorInfoTextActive:C[10],colorBgMask:new Li("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const jpe=e=>{let t=e,n=e,r=e,i=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?n=4:e<8&&e>=7?n=5:e<14&&e>=8?n=6:e<16&&e>=14?n=7:e>=16&&(n=8),e<6&&e>=2?r=1:e>=6&&(r=2),e>4&&e<8?i=4:e>=8&&(i=6),{borderRadius:e>16?16:e,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:t,borderRadiusOuter:i}};function Hpe(e){const{motionUnit:t,motionBase:n,borderRadius:r,lineWidth:i}=e;return ee({motionDurationFast:`${(n+t).toFixed(1)}s`,motionDurationMid:`${(n+t*2).toFixed(1)}s`,motionDurationSlow:`${(n+t*3).toFixed(1)}s`,lineWidthBold:i+1},jpe(r))}const Ru=(e,t)=>new Li(e).setAlpha(t).toRgbString(),Dy=(e,t)=>new Li(e).darken(t).toHexString(),Upe=e=>{const t=tc(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},Gpe=(e,t)=>{const n=e||"#fff",r=t||"#000";return{colorBgBase:n,colorTextBase:r,colorText:Ru(r,.88),colorTextSecondary:Ru(r,.65),colorTextTertiary:Ru(r,.45),colorTextQuaternary:Ru(r,.25),colorFill:Ru(r,.15),colorFillSecondary:Ru(r,.06),colorFillTertiary:Ru(r,.04),colorFillQuaternary:Ru(r,.02),colorBgLayout:Dy(n,4),colorBgContainer:Dy(n,0),colorBgElevated:Dy(n,0),colorBgSpotlight:Ru(r,.85),colorBorder:Dy(n,15),colorBorderSecondary:Dy(n,6)}};function Wpe(e){const t=new Array(10).fill(null).map((n,r)=>{const i=r-1,o=e*Math.pow(2.71828,i/5),s=r>1?Math.floor(o):Math.ceil(o);return Math.floor(s/2)*2});return t[1]=e,t.map(n=>{const r=n+8;return{size:n,lineHeight:r/n}})}const QH=e=>{const t=Wpe(e),n=t.map(i=>i.size),r=t.map(i=>i.lineHeight);return{fontSizeSM:n[0],fontSize:n[1],fontSizeLG:n[2],fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:r[1],lineHeightLG:r[2],lineHeightSM:r[0],lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};function A2(e){const t=Object.keys(vk).map(n=>{const r=tc(e[n]);return new Array(10).fill(1).reduce((i,o,s)=>(i[`${n}-${s+1}`]=r[s],i),{})}).reduce((n,r)=>(n=ee(ee({},n),r),n),{});return ee(ee(ee(ee(ee(ee(ee({},e),t),JH(e,{generateColorPalettes:Upe,generateNeutralColorPalettes:Gpe})),QH(e.fontSize)),Vpe(e)),YH(e)),Hpe(e))}function PP(e){return e>=0&&e<=255}function ex(e,t){const{r:n,g:r,b:i,a:o}=new Li(e).toRgb();if(o<1)return e;const{r:s,g:a,b:c}=new Li(t).toRgb();for(let h=.01;h<=1;h+=.01){const d=Math.round((n-s*(1-h))/h),g=Math.round((r-a*(1-h))/h),y=Math.round((i-c*(1-h))/h);if(PP(d)&&PP(g)&&PP(y))return new Li({r:d,g,b:y,a:Math.round(h*100)/100}).toRgbString()}return new Li({r:n,g:r,b:i,a:1}).toRgbString()}var Zpe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function qpe(e){const{override:t}=e,n=Zpe(e,["override"]),r=ee({},t);Object.keys(M2).forEach(v=>{delete r[v]});const i=ee(ee({},n),r),o=480,s=576,a=768,c=992,h=1200,d=1600,g=2e3;return ee(ee(ee({},i),{colorLink:i.colorInfoText,colorLinkHover:i.colorInfoHover,colorLinkActive:i.colorInfoActive,colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:ex(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:ex(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:ex(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidth:i.lineWidth,controlOutlineWidth:i.lineWidth*2,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:ex(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:o,screenXSMin:o,screenXSMax:s-1,screenSM:s,screenSMMin:s,screenSMMax:a-1,screenMD:a,screenMDMin:a,screenMDMax:c-1,screenLG:c,screenLGMin:c,screenLGMax:h-1,screenXL:h,screenXLMin:h,screenXLMax:d-1,screenXXL:d,screenXXLMin:d,screenXXLMax:g-1,screenXXXL:g,screenXXXLMin:g,boxShadowPopoverArrow:"3px 3px 7px rgba(0, 0, 0, 0.1)",boxShadowCard:`
      0 1px 2px -2px ${new Li("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new Li("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new Li("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}const Kpe=(e,t,n,r,i)=>{const o=e/2,s=0,a=o,c=n*1/Math.sqrt(2),h=o-n*(1-1/Math.sqrt(2)),d=o-t*(1/Math.sqrt(2)),g=n*(Math.sqrt(2)-1)+t*(1/Math.sqrt(2)),y=2*o-d,v=g,x=2*o-c,C=h,I=2*o-s,A=a,k=o*Math.sqrt(2)+n*(Math.sqrt(2)-2),R=n*(Math.sqrt(2)-1);return{pointerEvents:"none",width:e,height:e,overflow:"hidden","&::after":{content:'""',position:"absolute",width:k,height:k,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${t}px 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:i,zIndex:0,background:"transparent"},"&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:e,height:e/2,background:r,clipPath:{_multi_value_:!0,value:[`polygon(${R}px 100%, 50% ${R}px, ${2*o-R}px 100%, ${R}px 100%)`,`path('M ${s} ${a} A ${n} ${n} 0 0 0 ${c} ${h} L ${d} ${g} A ${t} ${t} 0 0 1 ${y} ${v} L ${x} ${C} A ${n} ${n} 0 0 0 ${I} ${A} Z')`]},content:'""'}}};function eU(e,t){return rS.reduce((n,r)=>{const i=e[`${r}-1`],o=e[`${r}-3`],s=e[`${r}-6`],a=e[`${r}-7`];return ee(ee({},n),t(r,{lightColor:i,lightBorderColor:o,darkColor:s,textColor:a}))},{})}const Ph={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},Io=e=>({boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:e.fontFamily}),hb=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),yg=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),Xpe=e=>({a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},"&:active,\n  &:hover":{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}),Ype=(e,t)=>{const{fontFamily:n,fontSize:r}=e,i=`[class^="${t}"], [class*=" ${t}"]`;return{[i]:{fontFamily:n,fontSize:r,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"},[i]:{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}}}},yk=e=>({outline:`${e.lineWidthBold}px solid ${e.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),_k=e=>({"&:focus-visible":ee({},yk(e))});function Do(e,t,n){return r=>{const i=ge(()=>r==null?void 0:r.value),[o,s,a]=Ng(),{getPrefixCls:c,iconPrefixCls:h}=TH(),d=ge(()=>c()),g=ge(()=>({theme:o.value,token:s.value,hashId:a.value,path:["Shared",d.value]}));bM(g,()=>[{"&":Xpe(s.value)}]);const y=ge(()=>({theme:o.value,token:s.value,hashId:a.value,path:[e,i.value,h.value]}));return[bM(y,()=>{const{token:v,flush:x}=Qpe(s.value),C=typeof n=="function"?n(v):n,I=ee(ee({},C),s.value[e]),A=`.${i.value}`,k=Wr(v,{componentCls:A,prefixCls:i.value,iconCls:`.${h.value}`,antCls:`.${d.value}`},I),R=t(k,{hashId:a.value,prefixCls:i.value,rootPrefixCls:d.value,iconPrefixCls:h.value,overrideComponentToken:s.value[e]});return x(e,I),[Ype(s.value,i.value),R]}),a]}}const tU=typeof CSSINJS_STATISTIC<"u";let CM=!0;function Wr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!tU)return ee({},...t);CM=!1;const r={};return t.forEach(i=>{Object.keys(i).forEach(s=>{Object.defineProperty(r,s,{configurable:!0,enumerable:!0,get:()=>i[s]})})}),CM=!0,r}function Jpe(){}function Qpe(e){let t,n=e,r=Jpe;return tU&&(t=new Set,n=new Proxy(e,{get(i,o){return CM&&t.add(o),i[o]}}),r=(i,o)=>{Array.from(t)}),{token:n,keys:t,flush:r}}const eme=BH(A2),iS={token:M2,hashed:!0},nU=Symbol("DesignTokenContext"),TM=Et(),tme=e=>{fr(nU,e),qt(e,()=>{TM.value=Ui(e),HQ(TM)},{immediate:!0,deep:!0})},nme=Pt({props:{value:Jr()},setup(e,t){let{slots:n}=t;return tme(ge(()=>e.value)),()=>{var r;return(r=n.default)===null||r===void 0?void 0:r.call(n)}}});function Ng(){const e=Mn(nU,ge(()=>TM.value||iS)),t=ge(()=>`${Spe}-${e.value.hashed||""}`),n=ge(()=>e.value.theme||eme),r=Yfe(n,ge(()=>[M2,e.value.token]),ge(()=>({salt:t.value,override:ee({override:e.value.token},e.value.components),formatToken:qpe})));return[n,ge(()=>r.value[0]),ge(()=>e.value.hashed?r.value[1]:"")]}const bk=Pt({compatConfig:{MODE:3},setup(){const[,e]=Ng(),t=ge(()=>new Li(e.value.colorBgBase).toHsl().l<.5?{opacity:.65}:{});return()=>ne("svg",{style:t.value,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},[ne("g",{fill:"none","fill-rule":"evenodd"},[ne("g",{transform:"translate(24 31.67)"},[ne("ellipse",{"fill-opacity":".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"},null),ne("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"},null),ne("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"},null),ne("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"},null),ne("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"},null)]),ne("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"},null),ne("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},[ne("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"},null),ne("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"},null)])])])}});bk.PRESENTED_IMAGE_DEFAULT=!0;const rU=Pt({compatConfig:{MODE:3},setup(){const[,e]=Ng(),t=ge(()=>{const{colorFill:n,colorFillTertiary:r,colorFillQuaternary:i,colorBgContainer:o}=e.value;return{borderColor:new Li(n).onBackground(o).toHexString(),shadowColor:new Li(r).onBackground(o).toHexString(),contentColor:new Li(i).onBackground(o).toHexString()}});return()=>ne("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},[ne("g",{transform:"translate(0 1)",fill:"none","fill-rule":"evenodd"},[ne("ellipse",{fill:t.value.shadowColor,cx:"32",cy:"33",rx:"32",ry:"7"},null),ne("g",{"fill-rule":"nonzero",stroke:t.value.borderColor},[ne("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"},null),ne("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:t.value.contentColor},null)])])])}});rU.PRESENTED_IMAGE_SIMPLE=!0;const rme=e=>{const{componentCls:t,margin:n,marginXS:r,marginXL:i,fontSize:o,lineHeight:s}=e;return{[t]:{marginInline:r,fontSize:o,lineHeight:s,textAlign:"center",[`${t}-image`]:{height:e.emptyImgHeight,marginBottom:r,opacity:e.opacityImage,img:{height:"100%"},svg:{height:"100%",margin:"auto"}},[`${t}-footer`]:{marginTop:n},"&-normal":{marginBlock:i,color:e.colorTextDisabled,[`${t}-image`]:{height:e.emptyImgHeightMD}},"&-small":{marginBlock:r,color:e.colorTextDisabled,[`${t}-image`]:{height:e.emptyImgHeightSM}}}}},ime=Do("Empty",e=>{const{componentCls:t,controlHeightLG:n}=e,r=Wr(e,{emptyImgCls:`${t}-img`,emptyImgHeight:n*2.5,emptyImgHeightMD:n,emptyImgHeightSM:n*.875});return[rme(r)]});var ome=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const ame=()=>({prefixCls:String,imageStyle:Jr(),image:il(),description:il()}),xk=Pt({name:"AEmpty",compatConfig:{MODE:3},inheritAttrs:!1,props:ame(),setup(e,t){let{slots:n={},attrs:r}=t;const{direction:i,prefixCls:o}=Nr("empty",e),[s,a]=ime(o);return()=>{var c,h;const d=o.value,g=ee(ee({},e),r),{image:y=((c=n.image)===null||c===void 0?void 0:c.call(n))||Cn(bk),description:v=((h=n.description)===null||h===void 0?void 0:h.call(n))||void 0,imageStyle:x,class:C=""}=g,I=ome(g,["image","description","imageStyle","class"]),A=typeof y=="function"?y():y,k=typeof A=="object"&&"type"in A&&A.type.PRESENTED_IMAGE_SIMPLE;return s(ne(IH,{componentName:"Empty",children:R=>{const z=typeof v<"u"?v:R.description,V=typeof z=="string"?z:"empty";let U=null;return typeof A=="string"?U=ne("img",{alt:V,src:A},null):U=A,ne("div",Ct({class:an(d,C,a.value,{[`${d}-normal`]:k,[`${d}-rtl`]:i.value==="rtl"})},I),[ne("div",{class:`${d}-image`,style:x},[U]),z&&ne("p",{class:`${d}-description`},[z]),n.default&&ne("div",{class:`${d}-footer`},[Uf(n.default())])])}},null))}}});xk.PRESENTED_IMAGE_DEFAULT=()=>Cn(bk);xk.PRESENTED_IMAGE_SIMPLE=()=>Cn(rU);const _m=ub(xk),wk=e=>{const{prefixCls:t}=Nr("empty",e);return(r=>{switch(r){case"Table":case"List":return ne(_m,{image:_m.PRESENTED_IMAGE_SIMPLE},null);case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return ne(_m,{image:_m.PRESENTED_IMAGE_SIMPLE,class:`${t.value}-small`},null);default:return ne(_m,null,null)}})(e.componentName)};function sme(e){return ne(wk,{componentName:e},null)}const iU=Symbol("SizeContextKey"),oU=()=>Mn(iU,Ot(void 0)),lme=e=>{const t=oU();return fr(iU,ge(()=>e.value||t.value)),e},Nr=(e,t)=>{const n=oU(),r=cb(),i=Mn(fk,ee(ee({},CH),{renderEmpty:N=>Cn(wk,{componentName:N})})),o=ge(()=>i.getPrefixCls(e,t.prefixCls)),s=ge(()=>{var N,W;return(N=t.direction)!==null&&N!==void 0?N:(W=i.direction)===null||W===void 0?void 0:W.value}),a=ge(()=>{var N;return(N=t.iconPrefixCls)!==null&&N!==void 0?N:i.iconPrefixCls.value}),c=ge(()=>i.getPrefixCls()),h=ge(()=>{var N;return(N=i.autoInsertSpaceInButton)===null||N===void 0?void 0:N.value}),d=i.renderEmpty,g=i.space,y=i.pageHeader,v=i.form,x=ge(()=>{var N,W;return(N=t.getTargetContainer)!==null&&N!==void 0?N:(W=i.getTargetContainer)===null||W===void 0?void 0:W.value}),C=ge(()=>{var N,W,X;return(W=(N=t.getContainer)!==null&&N!==void 0?N:t.getPopupContainer)!==null&&W!==void 0?W:(X=i.getPopupContainer)===null||X===void 0?void 0:X.value}),I=ge(()=>{var N,W;return(N=t.dropdownMatchSelectWidth)!==null&&N!==void 0?N:(W=i.dropdownMatchSelectWidth)===null||W===void 0?void 0:W.value}),A=ge(()=>{var N;return(t.virtual===void 0?((N=i.virtual)===null||N===void 0?void 0:N.value)!==!1:t.virtual!==!1)&&I.value!==!1}),k=ge(()=>t.size||n.value),R=ge(()=>{var N,W,X;return(N=t.autocomplete)!==null&&N!==void 0?N:(X=(W=i.input)===null||W===void 0?void 0:W.value)===null||X===void 0?void 0:X.autocomplete}),z=ge(()=>{var N;return(N=t.disabled)!==null&&N!==void 0?N:r.value}),V=ge(()=>{var N;return(N=t.csp)!==null&&N!==void 0?N:i.csp}),U=ge(()=>{var N,W;return(N=t.wave)!==null&&N!==void 0?N:(W=i.wave)===null||W===void 0?void 0:W.value});return{configProvider:i,prefixCls:o,direction:s,size:k,getTargetContainer:x,getPopupContainer:C,space:g,pageHeader:y,form:v,autoInsertSpaceInButton:h,renderEmpty:d,virtual:A,dropdownMatchSelectWidth:I,rootPrefixCls:c,getPrefixCls:i.getPrefixCls,autocomplete:R,csp:V,iconPrefixCls:a,disabled:z,select:i.select,wave:U}};function Gf(e,t){const n=ee({},e);for(let r=0;r<t.length;r+=1){const i=t[r];delete n[i]}return n}function ume(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aU(e,t,n){return n&&ume(e,n),e}function mw(){return(mw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function sU(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function lU(e,t){if(e==null)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}function $z(e){return((t=e)!=null&&typeof t=="object"&&Array.isArray(t)===!1)==1&&Object.prototype.toString.call(e)==="[object Object]";var t}var uU=Object.prototype,cU=uU.toString,cme=uU.hasOwnProperty,hU=/^\s*function (\w+)/;function zz(e){var t,n=(t=e==null?void 0:e.type)!==null&&t!==void 0?t:e;if(n){var r=n.toString().match(hU);return r?r[1]:""}return""}var Of=function(e){var t,n;return $z(e)!==!1&&typeof(t=e.constructor)=="function"&&$z(n=t.prototype)!==!1&&n.hasOwnProperty("isPrototypeOf")!==!1},hme=function(e){return e},ga=hme,w0=function(e,t){return cme.call(e,t)},dme=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e},_g=Array.isArray||function(e){return cU.call(e)==="[object Array]"},bg=function(e){return cU.call(e)==="[object Function]"},oS=function(e){return Of(e)&&w0(e,"_vueTypes_name")},dU=function(e){return Of(e)&&(w0(e,"type")||["_vueTypes_name","validator","default","required"].some(function(t){return w0(e,t)}))};function Sk(e,t){return Object.defineProperty(e.bind(t),"__original",{value:e})}function Wf(e,t,n){var r;n===void 0&&(n=!1);var i=!0,o="";r=Of(e)?e:{type:e};var s=oS(r)?r._vueTypes_name+" - ":"";if(dU(r)&&r.type!==null){if(r.type===void 0||r.type===!0||!r.required&&t===void 0)return i;_g(r.type)?(i=r.type.some(function(g){return Wf(g,t,!0)===!0}),o=r.type.map(function(g){return zz(g)}).join(" or ")):i=(o=zz(r))==="Array"?_g(t):o==="Object"?Of(t):o==="String"||o==="Number"||o==="Boolean"||o==="Function"?function(g){if(g==null)return"";var y=g.constructor.toString().match(hU);return y?y[1]:""}(t)===o:t instanceof r.type}if(!i){var a=s+'value "'+t+'" should be of type "'+o+'"';return n===!1?(ga(a),!1):a}if(w0(r,"validator")&&bg(r.validator)){var c=ga,h=[];if(ga=function(g){h.push(g)},i=r.validator(t),ga=c,!i){var d=(h.length>1?"* ":"")+h.join(`
* `);return h.length=0,n===!1?(ga(d),i):d}}return i}function ss(e,t){var n=Object.defineProperties(t,{_vueTypes_name:{value:e,writable:!0},isRequired:{get:function(){return this.required=!0,this}},def:{value:function(i){return i!==void 0||this.default?bg(i)||Wf(this,i,!0)===!0?(this.default=_g(i)?function(){return[].concat(i)}:Of(i)?function(){return Object.assign({},i)}:i,this):(ga(this._vueTypes_name+' - invalid default value: "'+i+'"'),this):this}}}),r=n.validator;return bg(r)&&(n.validator=Sk(r,n)),n}function Kl(e,t){var n=ss(e,t);return Object.defineProperty(n,"validate",{value:function(r){return bg(this.validator)&&ga(this._vueTypes_name+` - calling .validate() will overwrite the current custom validator function. Validator info:
`+JSON.stringify(this)),this.validator=Sk(r,this),this}})}function Bz(e,t,n){var r,i,o=(r=t,i={},Object.getOwnPropertyNames(r).forEach(function(g){i[g]=Object.getOwnPropertyDescriptor(r,g)}),Object.defineProperties({},i));if(o._vueTypes_name=e,!Of(n))return o;var s,a,c=n.validator,h=lU(n,["validator"]);if(bg(c)){var d=o.validator;d&&(d=(a=(s=d).__original)!==null&&a!==void 0?a:s),o.validator=Sk(d?function(g){return d.call(this,g)&&c.call(this,g)}:c,o)}return Object.assign(o,h)}function D2(e){return e.replace(/^(?!\s*$)/gm,"  ")}var fme=function(){return Kl("any",{})},pme=function(){return Kl("function",{type:Function})},mme=function(){return Kl("boolean",{type:Boolean})},gme=function(){return Kl("string",{type:String})},vme=function(){return Kl("number",{type:Number})},yme=function(){return Kl("array",{type:Array})},_me=function(){return Kl("object",{type:Object})},bme=function(){return ss("integer",{type:Number,validator:function(e){return dme(e)}})},xme=function(){return ss("symbol",{validator:function(e){return typeof e=="symbol"}})};function wme(e,t){if(t===void 0&&(t="custom validation failed"),typeof e!="function")throw new TypeError("[VueTypes error]: You must provide a function as argument");return ss(e.name||"<<anonymous function>>",{validator:function(n){var r=e(n);return r||ga(this._vueTypes_name+" - "+t),r}})}function Sme(e){if(!_g(e))throw new TypeError("[VueTypes error]: You must provide an array as argument.");var t='oneOf - value should be one of "'+e.join('", "')+'".',n=e.reduce(function(r,i){if(i!=null){var o=i.constructor;r.indexOf(o)===-1&&r.push(o)}return r},[]);return ss("oneOf",{type:n.length>0?n:void 0,validator:function(r){var i=e.indexOf(r)!==-1;return i||ga(t),i}})}function Cme(e){if(!_g(e))throw new TypeError("[VueTypes error]: You must provide an array as argument");for(var t=!1,n=[],r=0;r<e.length;r+=1){var i=e[r];if(dU(i)){if(oS(i)&&i._vueTypes_name==="oneOf"){n=n.concat(i.type);continue}if(bg(i.validator)&&(t=!0),i.type!==!0&&i.type){n=n.concat(i.type);continue}}n.push(i)}return n=n.filter(function(o,s){return n.indexOf(o)===s}),ss("oneOfType",t?{type:n,validator:function(o){var s=[],a=e.some(function(c){var h=Wf(oS(c)&&c._vueTypes_name==="oneOf"?c.type||null:c,o,!0);return typeof h=="string"&&s.push(h),h===!0});return a||ga("oneOfType - provided value does not match any of the "+s.length+` passed-in validators:
`+D2(s.join(`
`))),a}}:{type:n})}function Tme(e){return ss("arrayOf",{type:Array,validator:function(t){var n,r=t.every(function(i){return(n=Wf(e,i,!0))===!0});return r||ga(`arrayOf - value validation error:
`+D2(n)),r}})}function Pme(e){return ss("instanceOf",{type:e})}function Eme(e){return ss("objectOf",{type:Object,validator:function(t){var n,r=Object.keys(t).every(function(i){return(n=Wf(e,t[i],!0))===!0});return r||ga(`objectOf - value validation error:
`+D2(n)),r}})}function Ime(e){var t=Object.keys(e),n=t.filter(function(i){var o;return!!(!((o=e[i])===null||o===void 0)&&o.required)}),r=ss("shape",{type:Object,validator:function(i){var o=this;if(!Of(i))return!1;var s=Object.keys(i);if(n.length>0&&n.some(function(c){return s.indexOf(c)===-1})){var a=n.filter(function(c){return s.indexOf(c)===-1});return ga(a.length===1?'shape - required property "'+a[0]+'" is not defined.':'shape - required properties "'+a.join('", "')+'" are not defined.'),!1}return s.every(function(c){if(t.indexOf(c)===-1)return o._vueTypes_isLoose===!0||(ga('shape - shape definition does not include a "'+c+'" property. Allowed keys: "'+t.join('", "')+'".'),!1);var h=Wf(e[c],i[c],!0);return typeof h=="string"&&ga('shape - "'+c+`" property validation error:
 `+D2(h)),h===!0})}});return Object.defineProperty(r,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(r,"loose",{get:function(){return this._vueTypes_isLoose=!0,this}}),r}var Al=function(){function e(){}return e.extend=function(t){var n=this;if(_g(t))return t.forEach(function(g){return n.extend(g)}),this;var r=t.name,i=t.validate,o=i!==void 0&&i,s=t.getter,a=s!==void 0&&s,c=lU(t,["name","validate","getter"]);if(w0(this,r))throw new TypeError('[VueTypes error]: Type "'+r+'" already defined');var h,d=c.type;return oS(d)?(delete c.type,Object.defineProperty(this,r,a?{get:function(){return Bz(r,d,c)}}:{value:function(){var g,y=Bz(r,d,c);return y.validator&&(y.validator=(g=y.validator).bind.apply(g,[y].concat([].slice.call(arguments)))),y}})):(h=a?{get:function(){var g=Object.assign({},c);return o?Kl(r,g):ss(r,g)},enumerable:!0}:{value:function(){var g,y,v=Object.assign({},c);return g=o?Kl(r,v):ss(r,v),v.validator&&(g.validator=(y=v.validator).bind.apply(y,[g].concat([].slice.call(arguments)))),g},enumerable:!0},Object.defineProperty(this,r,h))},aU(e,null,[{key:"any",get:function(){return fme()}},{key:"func",get:function(){return pme().def(this.defaults.func)}},{key:"bool",get:function(){return mme().def(this.defaults.bool)}},{key:"string",get:function(){return gme().def(this.defaults.string)}},{key:"number",get:function(){return vme().def(this.defaults.number)}},{key:"array",get:function(){return yme().def(this.defaults.array)}},{key:"object",get:function(){return _me().def(this.defaults.object)}},{key:"integer",get:function(){return bme().def(this.defaults.integer)}},{key:"symbol",get:function(){return xme()}}]),e}();function fU(e){var t;return e===void 0&&(e={func:function(){},bool:!0,string:"",number:0,array:function(){return[]},object:function(){return{}},integer:0}),(t=function(n){function r(){return n.apply(this,arguments)||this}return sU(r,n),aU(r,null,[{key:"sensibleDefaults",get:function(){return mw({},this.defaults)},set:function(i){this.defaults=i!==!1?mw({},i!==!0?i:e):{}}}]),r}(Al)).defaults=mw({},e),t}Al.defaults={},Al.custom=wme,Al.oneOf=Sme,Al.instanceOf=Pme,Al.oneOfType=Cme,Al.arrayOf=Tme,Al.objectOf=Eme,Al.shape=Ime,Al.utils={validate:function(e,t){return Wf(t,e,!0)===!0},toType:function(e,t,n){return n===void 0&&(n=!1),n?Kl(e,t):ss(e,t)}};(function(e){function t(){return e.apply(this,arguments)||this}return sU(t,e),t})(fU());const ft=fU({func:void 0,bool:void 0,string:void 0,number:void 0,array:void 0,object:void 0,integer:void 0});ft.extend([{name:"looseBool",getter:!0,type:Boolean,default:void 0},{name:"style",getter:!0,type:[String,Object],default:void 0},{name:"VueNode",getter:!0,type:null}]);const ll=(e,t,n)=>{Nfe(e,`[ant-design-vue: ${t}] ${n}`)};function Fz(e,t){const{key:n}=e;let r;return"value"in e&&({value:r}=e),n??(r!==void 0?r:`rc-index-key-${t}`)}function pU(e,t){const{label:n,value:r,options:i}=e||{};return{label:n||(t?"children":"label"),value:r||"value",options:i||"options"}}function Mme(e){let{fieldNames:t,childrenAsData:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=[],{label:i,value:o,options:s}=pU(t,!1);function a(c,h){c.forEach(d=>{const g=d[i];if(h||!(s in d)){const y=d[o];r.push({key:Fz(d,r.length),groupOption:h,data:d,label:g,value:y})}else{let y=g;y===void 0&&n&&(y=d.label),r.push({key:Fz(d,r.length),group:!0,data:d,label:y}),a(d[s],!0)}})}return a(e,!1),r}function PM(e){const t=ee({},e);return"props"in t||Object.defineProperty(t,"props",{get(){return t}}),t}function Ame(e,t){if(!t||!t.length)return null;let n=!1;function r(o,s){let[a,...c]=s;if(!a)return[o];const h=o.split(a);return n=n||h.length>1,h.reduce((d,g)=>[...d,...r(g,c)],[]).filter(d=>d)}const i=r(e,t);return n?i:null}function Dme(){return""}function kme(e){return e?e.ownerDocument:window.document}function mU(){}const Ome=()=>({action:ft.oneOfType([ft.string,ft.arrayOf(ft.string)]).def([]),showAction:ft.any.def([]),hideAction:ft.any.def([]),getPopupClassNameFromAlign:ft.any.def(Dme),onPopupVisibleChange:Function,afterPopupVisibleChange:ft.func.def(mU),popup:ft.any,arrow:ft.bool.def(!0),popupStyle:{type:Object,default:void 0},prefixCls:ft.string.def("rc-trigger-popup"),popupClassName:ft.string.def(""),popupPlacement:String,builtinPlacements:ft.object,popupTransitionName:String,popupAnimation:ft.any,mouseEnterDelay:ft.number.def(0),mouseLeaveDelay:ft.number.def(.1),zIndex:Number,focusDelay:ft.number.def(0),blurDelay:ft.number.def(.15),getPopupContainer:Function,getDocument:ft.func.def(kme),forceRender:{type:Boolean,default:void 0},destroyPopupOnHide:{type:Boolean,default:!1},mask:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0},popupAlign:ft.object.def(()=>({})),popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},maskTransitionName:String,maskAnimation:String,stretch:String,alignPoint:{type:Boolean,default:void 0},autoDestroy:{type:Boolean,default:!1},mobile:Object,getTriggerDOMNode:Function}),Ck={visible:Boolean,prefixCls:String,zIndex:Number,destroyPopupOnHide:Boolean,forceRender:Boolean,arrow:{type:Boolean,default:!0},animation:[String,Object],transitionName:String,stretch:{type:String},align:{type:Object},point:{type:Object},getRootDomNode:{type:Function},getClassNameFromAlign:{type:Function},onAlign:{type:Function},onMouseenter:{type:Function},onMouseleave:{type:Function},onMousedown:{type:Function},onTouchstart:{type:Function}},Rme=ee(ee({},Ck),{mobile:{type:Object}}),Lme=ee(ee({},Ck),{mask:Boolean,mobile:{type:Object},maskAnimation:String,maskTransitionName:String});function Tk(e){let{prefixCls:t,animation:n,transitionName:r}=e;return n?{name:`${t}-${n}`}:r?{name:r}:{}}function gU(e){const{prefixCls:t,visible:n,zIndex:r,mask:i,maskAnimation:o,maskTransitionName:s}=e;if(!i)return null;let a={};return(s||o)&&(a=Tk({prefixCls:t,transitionName:s,animation:o})),ne(us,Ct({appear:!0},a),{default:()=>[xh(ne("div",{style:{zIndex:r},class:`${t}-mask`},null),[[kee("if"),n]])]})}gU.displayName="Mask";const $me=Pt({compatConfig:{MODE:3},name:"MobilePopupInner",inheritAttrs:!1,props:Rme,emits:["mouseenter","mouseleave","mousedown","touchstart","align"],setup(e,t){let{expose:n,slots:r}=t;const i=Ot();return n({forceAlign:()=>{},getElement:()=>i.value}),()=>{var o;const{zIndex:s,visible:a,prefixCls:c,mobile:{popupClassName:h,popupStyle:d,popupMotion:g={},popupRender:y}={}}=e,v=ee({zIndex:s},d);let x=ao((o=r.default)===null||o===void 0?void 0:o.call(r));x.length>1&&(x=ne("div",{class:`${c}-content`},[x])),y&&(x=y(x));const C=an(c,h);return ne(us,Ct({ref:i},g),{default:()=>[a?ne("div",{class:C,style:v},[x]):null]})}}});var zme=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{h(r.next(d))}catch(g){s(g)}}function c(d){try{h(r.throw(d))}catch(g){s(g)}}function h(d){d.done?o(d.value):i(d.value).then(a,c)}h((r=r.apply(e,t||[])).next())})};const Nz=["measure","align",null,"motion"],Bme=(e,t)=>{const n=Et(null),r=Et(),i=Et(!1);function o(c){i.value||(n.value=c)}function s(){Tr.cancel(r.value)}function a(c){s(),r.value=Tr(()=>{let h=n.value;switch(n.value){case"align":h="motion";break;case"motion":h="stable";break}o(h),c==null||c()})}return qt(e,()=>{o("measure")},{immediate:!0,flush:"post"}),Nn(()=>{qt(n,()=>{switch(n.value){case"measure":t();break}n.value&&(r.value=Tr(()=>zme(void 0,void 0,void 0,function*(){const c=Nz.indexOf(n.value),h=Nz[c+1];h&&c!==-1&&o(h)})))},{immediate:!0,flush:"post"})}),ii(()=>{i.value=!0,s()}),[n,a]},Fme=e=>{const t=Et({width:0,height:0});function n(i){t.value={width:i.offsetWidth,height:i.offsetHeight}}return[ge(()=>{const i={};if(e.value){const{width:o,height:s}=t.value;e.value.indexOf("height")!==-1&&s?i.height=`${s}px`:e.value.indexOf("minHeight")!==-1&&s&&(i.minHeight=`${s}px`),e.value.indexOf("width")!==-1&&o?i.width=`${o}px`:e.value.indexOf("minWidth")!==-1&&o&&(i.minWidth=`${o}px`)}return i}),n]};function Vz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vz(Object(n),!0).forEach(function(r){Nme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EM(e){"@babel/helpers - typeof";return EM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},EM(e)}function Nme(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ky,Vme={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function aS(){if(ky!==void 0)return ky;ky="";var e=document.createElement("p").style,t="Transform";for(var n in Vme)n+t in e&&(ky=n);return ky}function vU(){return aS()?"".concat(aS(),"TransitionProperty"):"transitionProperty"}function k2(){return aS()?"".concat(aS(),"Transform"):"transform"}function Hz(e,t){var n=vU();n&&(e.style[n]=t,n!=="transitionProperty"&&(e.style.transitionProperty=t))}function EP(e,t){var n=k2();n&&(e.style[n]=t,n!=="transform"&&(e.style.transform=t))}function jme(e){return e.style.transitionProperty||e.style[vU()]}function Hme(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(k2());if(n&&n!=="none"){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}var Ume=/matrix\((.*)\)/,Gme=/matrix3d\((.*)\)/;function Wme(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(k2());if(r&&r!=="none"){var i,o=r.match(Ume);if(o)o=o[1],i=o.split(",").map(function(a){return parseFloat(a,10)}),i[4]=t.x,i[5]=t.y,EP(e,"matrix(".concat(i.join(","),")"));else{var s=r.match(Gme)[1];i=s.split(",").map(function(a){return parseFloat(a,10)}),i[12]=t.x,i[13]=t.y,EP(e,"matrix3d(".concat(i.join(","),")"))}}else EP(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}var Zme=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,db;function Uz(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function Um(e,t,n){var r=n;if(EM(t)==="object"){for(var i in t)t.hasOwnProperty(i)&&Um(e,i,t[i]);return}if(typeof r<"u"){typeof r=="number"&&(r="".concat(r,"px")),e.style[t]=r;return}return db(e,t)}function qme(e){var t,n,r,i=e.ownerDocument,o=i.body,s=i&&i.documentElement;return t=e.getBoundingClientRect(),n=Math.floor(t.left),r=Math.floor(t.top),n-=s.clientLeft||o.clientLeft||0,r-=s.clientTop||o.clientTop||0,{left:n,top:r}}function yU(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if(typeof n!="number"){var i=e.document;n=i.documentElement[r],typeof n!="number"&&(n=i.body[r])}return n}function _U(e){return yU(e)}function bU(e){return yU(e,!0)}function S0(e){var t=qme(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=_U(r),t.top+=bU(r),t}function Pk(e){return e!=null&&e==e.window}function xU(e){return Pk(e)?e.document:e.nodeType===9?e:e.ownerDocument}function Kme(e,t,n){var r=n,i="",o=xU(e);return r=r||o.defaultView.getComputedStyle(e,null),r&&(i=r.getPropertyValue(t)||r[t]),i}var Xme=new RegExp("^(".concat(Zme,")(?!px)[a-z%]+$"),"i"),Yme=/^(top|right|bottom|left)$/,IP="currentStyle",MP="runtimeStyle",Sd="left",Jme="px";function Qme(e,t){var n=e[IP]&&e[IP][t];if(Xme.test(n)&&!Yme.test(t)){var r=e.style,i=r[Sd],o=e[MP][Sd];e[MP][Sd]=e[IP][Sd],r[Sd]=t==="fontSize"?"1em":n||0,n=r.pixelLeft+Jme,r[Sd]=i,e[MP][Sd]=o}return n===""?"auto":n}typeof window<"u"&&(db=window.getComputedStyle?Kme:Qme);function tx(e,t){return e==="left"?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function Gz(e){if(e==="left")return"right";if(e==="right")return"left";if(e==="top")return"bottom";if(e==="bottom")return"top"}function Wz(e,t,n){Um(e,"position")==="static"&&(e.style.position="relative");var r=-999,i=-999,o=tx("left",n),s=tx("top",n),a=Gz(o),c=Gz(s);o!=="left"&&(r=999),s!=="top"&&(i=999);var h="",d=S0(e);("left"in t||"top"in t)&&(h=jme(e)||"",Hz(e,"none")),"left"in t&&(e.style[a]="",e.style[o]="".concat(r,"px")),"top"in t&&(e.style[c]="",e.style[s]="".concat(i,"px")),Uz(e);var g=S0(e),y={};for(var v in t)if(t.hasOwnProperty(v)){var x=tx(v,n),C=v==="left"?r:i,I=d[v]-g[v];x===v?y[x]=C+I:y[x]=C-I}Um(e,y),Uz(e),("left"in t||"top"in t)&&Hz(e,h);var A={};for(var k in t)if(t.hasOwnProperty(k)){var R=tx(k,n),z=t[k]-d[k];k===R?A[R]=y[R]+z:A[R]=y[R]-z}Um(e,A)}function ege(e,t){var n=S0(e),r=Hme(e),i={x:r.x,y:r.y};"left"in t&&(i.x=r.x+t.left-n.left),"top"in t&&(i.y=r.y+t.top-n.top),Wme(e,i)}function tge(e,t,n){if(n.ignoreShake){var r=S0(e),i=r.left.toFixed(0),o=r.top.toFixed(0),s=t.left.toFixed(0),a=t.top.toFixed(0);if(i===s&&o===a)return}n.useCssRight||n.useCssBottom?Wz(e,t,n):n.useCssTransform&&k2()in document.body.style?ege(e,t):Wz(e,t,n)}function Ek(e,t){for(var n=0;n<e.length;n++)t(e[n])}function wU(e){return db(e,"boxSizing")==="border-box"}var nge=["margin","border","padding"],IM=-1,rge=2,MM=1,ige=0;function oge(e,t,n){var r={},i=e.style,o;for(o in t)t.hasOwnProperty(o)&&(r[o]=i[o],i[o]=t[o]);n.call(e);for(o in t)t.hasOwnProperty(o)&&(i[o]=r[o])}function h_(e,t,n){var r=0,i,o,s;for(o=0;o<t.length;o++)if(i=t[o],i)for(s=0;s<n.length;s++){var a=void 0;i==="border"?a="".concat(i).concat(n[s],"Width"):a=i+n[s],r+=parseFloat(db(e,a))||0}return r}var Fl={getParent:function(t){var n=t;do n.nodeType===11&&n.host?n=n.host:n=n.parentNode;while(n&&n.nodeType!==1&&n.nodeType!==9);return n}};Ek(["Width","Height"],function(e){Fl["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],Fl["viewport".concat(e)](n))},Fl["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,i=r.body,o=r.documentElement,s=o[n];return r.compatMode==="CSS1Compat"&&s||i&&i[n]||s}});function Zz(e,t,n){var r=n;if(Pk(e))return t==="width"?Fl.viewportWidth(e):Fl.viewportHeight(e);if(e.nodeType===9)return t==="width"?Fl.docWidth(e):Fl.docHeight(e);var i=t==="width"?["Left","Right"]:["Top","Bottom"],o=Math.floor(t==="width"?e.getBoundingClientRect().width:e.getBoundingClientRect().height),s=wU(e),a=0;(o==null||o<=0)&&(o=void 0,a=db(e,t),(a==null||Number(a)<0)&&(a=e.style[t]||0),a=Math.floor(parseFloat(a))||0),r===void 0&&(r=s?MM:IM);var c=o!==void 0||s,h=o||a;return r===IM?c?h-h_(e,["border","padding"],i):a:c?r===MM?h:h+(r===rge?-h_(e,["border"],i):h_(e,["margin"],i)):a+h_(e,nge.slice(r),i)}var age={position:"absolute",visibility:"hidden",display:"block"};function qz(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0];return i.offsetWidth!==0?r=Zz.apply(void 0,t):oge(i,age,function(){r=Zz.apply(void 0,t)}),r}Ek(["width","height"],function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Fl["outer".concat(t)]=function(r,i){return r&&qz(r,e,i?ige:MM)};var n=e==="width"?["Left","Right"]:["Top","Bottom"];Fl[e]=function(r,i){var o=i;if(o!==void 0){if(r){var s=wU(r);return s&&(o+=h_(r,["padding","border"],n)),Um(r,e,o)}return}return r&&qz(r,e,IM)}});function SU(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var jn={getWindow:function(t){if(t&&t.document&&t.setTimeout)return t;var n=t.ownerDocument||t;return n.defaultView||n.parentWindow},getDocument:xU,offset:function(t,n,r){if(typeof n<"u")tge(t,n,r||{});else return S0(t)},isWindow:Pk,each:Ek,css:Um,clone:function(t){var n,r={};for(n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);var i=t.overflow;if(i)for(n in t)t.hasOwnProperty(n)&&(r.overflow[n]=t.overflow[n]);return r},mix:SU,getWindowScrollLeft:function(t){return _U(t)},getWindowScrollTop:function(t){return bU(t)},merge:function(){for(var t={},n=0;n<arguments.length;n++)jn.mix(t,n<0||arguments.length<=n?void 0:arguments[n]);return t},viewportWidth:0,viewportHeight:0};SU(jn,Fl);var AP=jn.getParent;function AM(e){if(jn.isWindow(e)||e.nodeType===9)return null;var t=jn.getDocument(e),n=t.body,r,i=jn.css(e,"position"),o=i==="fixed"||i==="absolute";if(!o)return e.nodeName.toLowerCase()==="html"?null:AP(e);for(r=AP(e);r&&r!==n&&r.nodeType!==9;r=AP(r))if(i=jn.css(r,"position"),i!=="static")return r;return null}var Kz=jn.getParent;function sge(e){if(jn.isWindow(e)||e.nodeType===9)return!1;var t=jn.getDocument(e),n=t.body,r=null;for(r=Kz(e);r&&r!==n&&r!==t;r=Kz(r)){var i=jn.css(r,"position");if(i==="fixed")return!0}return!1}function Ik(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=AM(e),i=jn.getDocument(e),o=i.defaultView||i.parentWindow,s=i.body,a=i.documentElement;r;){if((navigator.userAgent.indexOf("MSIE")===-1||r.clientWidth!==0)&&r!==s&&r!==a&&jn.css(r,"overflow")!=="visible"){var c=jn.offset(r);c.left+=r.clientLeft,c.top+=r.clientTop,n.top=Math.max(n.top,c.top),n.right=Math.min(n.right,c.left+r.clientWidth),n.bottom=Math.min(n.bottom,c.top+r.clientHeight),n.left=Math.max(n.left,c.left)}else if(r===s||r===a)break;r=AM(r)}var h=null;if(!jn.isWindow(e)&&e.nodeType!==9){h=e.style.position;var d=jn.css(e,"position");d==="absolute"&&(e.style.position="fixed")}var g=jn.getWindowScrollLeft(o),y=jn.getWindowScrollTop(o),v=jn.viewportWidth(o),x=jn.viewportHeight(o),C=a.scrollWidth,I=a.scrollHeight,A=window.getComputedStyle(s);if(A.overflowX==="hidden"&&(C=o.innerWidth),A.overflowY==="hidden"&&(I=o.innerHeight),e.style&&(e.style.position=h),t||sge(e))n.left=Math.max(n.left,g),n.top=Math.max(n.top,y),n.right=Math.min(n.right,g+v),n.bottom=Math.min(n.bottom,y+x);else{var k=Math.max(C,g+v);n.right=Math.min(n.right,k);var R=Math.max(I,y+x);n.bottom=Math.min(n.bottom,R)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function lge(e,t,n,r){var i=jn.clone(e),o={width:t.width,height:t.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+o.width>n.right&&(o.width-=i.left+o.width-n.right),r.adjustX&&i.left+o.width>n.right&&(i.left=Math.max(n.right-o.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+o.height>n.bottom&&(o.height-=i.top+o.height-n.bottom),r.adjustY&&i.top+o.height>n.bottom&&(i.top=Math.max(n.bottom-o.height,n.top)),jn.mix(i,o)}function Mk(e){var t,n,r;if(!jn.isWindow(e)&&e.nodeType!==9)t=jn.offset(e),n=jn.outerWidth(e),r=jn.outerHeight(e);else{var i=jn.getWindow(e);t={left:jn.getWindowScrollLeft(i),top:jn.getWindowScrollTop(i)},n=jn.viewportWidth(i),r=jn.viewportHeight(i)}return t.width=n,t.height=r,t}function Xz(e,t){var n=t.charAt(0),r=t.charAt(1),i=e.width,o=e.height,s=e.left,a=e.top;return n==="c"?a+=o/2:n==="b"&&(a+=o),r==="c"?s+=i/2:r==="r"&&(s+=i),{left:s,top:a}}function nx(e,t,n,r,i){var o=Xz(t,n[1]),s=Xz(e,n[0]),a=[s.left-o.left,s.top-o.top];return{left:Math.round(e.left-a[0]+r[0]-i[0]),top:Math.round(e.top-a[1]+r[1]-i[1])}}function Yz(e,t,n){return e.left<n.left||e.left+t.width>n.right}function Jz(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function uge(e,t,n){return e.left>n.right||e.left+t.width<n.left}function cge(e,t,n){return e.top>n.bottom||e.top+t.height<n.top}function rx(e,t,n){var r=[];return jn.each(e,function(i){r.push(i.replace(t,function(o){return n[o]}))}),r}function ix(e,t){return e[t]=-e[t],e}function Qz(e,t){var n;return/%$/.test(e)?n=parseInt(e.substring(0,e.length-1),10)/100*t:n=parseInt(e,10),n||0}function e4(e,t){e[0]=Qz(e[0],t.width),e[1]=Qz(e[1],t.height)}function CU(e,t,n,r){var i=n.points,o=n.offset||[0,0],s=n.targetOffset||[0,0],a=n.overflow,c=n.source||e;o=[].concat(o),s=[].concat(s),a=a||{};var h={},d=0,g=!!(a&&a.alwaysByViewport),y=Ik(c,g),v=Mk(c);e4(o,v),e4(s,t);var x=nx(v,t,i,o,s),C=jn.merge(v,x);if(y&&(a.adjustX||a.adjustY)&&r){if(a.adjustX&&Yz(x,v,y)){var I=rx(i,/[lr]/gi,{l:"r",r:"l"}),A=ix(o,0),k=ix(s,0),R=nx(v,t,I,A,k);uge(R,v,y)||(d=1,i=I,o=A,s=k)}if(a.adjustY&&Jz(x,v,y)){var z=rx(i,/[tb]/gi,{t:"b",b:"t"}),V=ix(o,1),U=ix(s,1),N=nx(v,t,z,V,U);cge(N,v,y)||(d=1,i=z,o=V,s=U)}d&&(x=nx(v,t,i,o,s),jn.mix(C,x));var W=Yz(x,v,y),X=Jz(x,v,y);if(W||X){var K=i;W&&(K=rx(i,/[lr]/gi,{l:"r",r:"l"})),X&&(K=rx(i,/[tb]/gi,{t:"b",b:"t"})),i=K,o=n.offset||[0,0],s=n.targetOffset||[0,0]}h.adjustX=a.adjustX&&W,h.adjustY=a.adjustY&&X,(h.adjustX||h.adjustY)&&(C=lge(x,v,y,h))}return C.width!==v.width&&jn.css(c,"width",jn.width(c)+C.width-v.width),C.height!==v.height&&jn.css(c,"height",jn.height(c)+C.height-v.height),jn.offset(c,{left:C.left,top:C.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:o,targetOffset:s,overflow:h}}function hge(e,t){var n=Ik(e,t),r=Mk(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}function Ak(e,t,n){var r=n.target||t,i=Mk(r),o=!hge(r,n.overflow&&n.overflow.alwaysByViewport);return CU(e,i,n,o)}Ak.__getOffsetParent=AM;Ak.__getVisibleRectForElement=Ik;function dge(e,t,n){var r,i,o=jn.getDocument(e),s=o.defaultView||o.parentWindow,a=jn.getWindowScrollLeft(s),c=jn.getWindowScrollTop(s),h=jn.viewportWidth(s),d=jn.viewportHeight(s);"pageX"in t?r=t.pageX:r=a+t.clientX,"pageY"in t?i=t.pageY:i=c+t.clientY;var g={left:r,top:i,width:0,height:0},y=r>=0&&r<=a+h&&i>=0&&i<=c+d,v=[n.points[0],"cc"];return CU(e,g,jz(jz({},n),{},{points:v}),y)}function Oa(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=e;if(Array.isArray(e)&&(i=Uf(e)[0]),!i)return null;const o=os(i,t,r);return o.props=n?ee(ee({},o.props),t):o.props,P2(typeof o.props.class!="object"),o}const TU=e=>(e||[]).some(t=>ta(t)?!(t.type===to||t.type===vn&&!TU(t.children)):!0)?e:null;function fge(e,t,n,r){var i;const o=(i=e[t])===null||i===void 0?void 0:i.call(e,n);return TU(o)?o:r==null?void 0:r()}const PU=e=>{if(!e)return!1;if(e.offsetParent)return!0;if(e.getBBox){const t=e.getBBox();if(t.width||t.height)return!0}if(e.getBoundingClientRect){const t=e.getBoundingClientRect();if(t.width||t.height)return!0}return!1};function pge(e,t){return e===t?!0:!e||!t?!1:"pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t?e.clientX===t.clientX&&e.clientY===t.clientY:!1}function mge(e,t){e!==document.activeElement&&tf(t,e)&&typeof e.focus=="function"&&e.focus()}function t4(e,t){let n=null,r=null;function i(s){let[{target:a}]=s;if(!document.documentElement.contains(a))return;const{width:c,height:h}=a.getBoundingClientRect(),d=Math.floor(c),g=Math.floor(h);(n!==d||r!==g)&&Promise.resolve().then(()=>{t({width:d,height:g})}),n=d,r=g}const o=new _H(i);return e&&o.observe(e),()=>{o.disconnect()}}const gge=(e,t)=>{let n=!1,r=null;function i(){clearTimeout(r)}function o(s){if(!n||s===!0){if(e()===!1)return;n=!0,i(),r=setTimeout(()=>{n=!1},t.value)}else i(),r=setTimeout(()=>{n=!1,o()},t.value)}return[o,()=>{n=!1,i()}]};function vge(){this.__data__=[],this.size=0}function Dk(e,t){return e===t||e!==e&&t!==t}function O2(e,t){for(var n=e.length;n--;)if(Dk(e[n][0],t))return n;return-1}var yge=Array.prototype,_ge=yge.splice;function bge(e){var t=this.__data__,n=O2(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():_ge.call(t,n,1),--this.size,!0}function xge(e){var t=this.__data__,n=O2(t,e);return n<0?void 0:t[n][1]}function wge(e){return O2(this.__data__,e)>-1}function Sge(e,t){var n=this.__data__,r=O2(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function hc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}hc.prototype.clear=vge;hc.prototype.delete=bge;hc.prototype.get=xge;hc.prototype.has=wge;hc.prototype.set=Sge;function Cge(){this.__data__=new hc,this.size=0}function Tge(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Pge(e){return this.__data__.get(e)}function Ege(e){return this.__data__.has(e)}var EU=typeof global=="object"&&global&&global.Object===Object&&global,Ige=typeof self=="object"&&self&&self.Object===Object&&self,dc=EU||Ige||Function("return this")(),Xl=dc.Symbol,IU=Object.prototype,Mge=IU.hasOwnProperty,Age=IU.toString,Oy=Xl?Xl.toStringTag:void 0;function Dge(e){var t=Mge.call(e,Oy),n=e[Oy];try{e[Oy]=void 0;var r=!0}catch{}var i=Age.call(e);return r&&(t?e[Oy]=n:delete e[Oy]),i}var kge=Object.prototype,Oge=kge.toString;function Rge(e){return Oge.call(e)}var Lge="[object Null]",$ge="[object Undefined]",n4=Xl?Xl.toStringTag:void 0;function Zf(e){return e==null?e===void 0?$ge:Lge:n4&&n4 in Object(e)?Dge(e):Rge(e)}function sS(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var zge="[object AsyncFunction]",Bge="[object Function]",Fge="[object GeneratorFunction]",Nge="[object Proxy]";function MU(e){if(!sS(e))return!1;var t=Zf(e);return t==Bge||t==Fge||t==zge||t==Nge}var DP=dc["__core-js_shared__"],r4=function(){var e=/[^.]+$/.exec(DP&&DP.keys&&DP.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Vge(e){return!!r4&&r4 in e}var jge=Function.prototype,Hge=jge.toString;function qf(e){if(e!=null){try{return Hge.call(e)}catch{}try{return e+""}catch{}}return""}var Uge=/[\\^$.*+?()[\]{}|]/g,Gge=/^\[object .+?Constructor\]$/,Wge=Function.prototype,Zge=Object.prototype,qge=Wge.toString,Kge=Zge.hasOwnProperty,Xge=RegExp("^"+qge.call(Kge).replace(Uge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Yge(e){if(!sS(e)||Vge(e))return!1;var t=MU(e)?Xge:Gge;return t.test(qf(e))}function Jge(e,t){return e==null?void 0:e[t]}function Kf(e,t){var n=Jge(e,t);return Yge(n)?n:void 0}var C0=Kf(dc,"Map"),T0=Kf(Object,"create");function Qge(){this.__data__=T0?T0(null):{},this.size=0}function eve(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var tve="__lodash_hash_undefined__",nve=Object.prototype,rve=nve.hasOwnProperty;function ive(e){var t=this.__data__;if(T0){var n=t[e];return n===tve?void 0:n}return rve.call(t,e)?t[e]:void 0}var ove=Object.prototype,ave=ove.hasOwnProperty;function sve(e){var t=this.__data__;return T0?t[e]!==void 0:ave.call(t,e)}var lve="__lodash_hash_undefined__";function uve(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=T0&&t===void 0?lve:t,this}function Rf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Rf.prototype.clear=Qge;Rf.prototype.delete=eve;Rf.prototype.get=ive;Rf.prototype.has=sve;Rf.prototype.set=uve;function cve(){this.size=0,this.__data__={hash:new Rf,map:new(C0||hc),string:new Rf}}function hve(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function R2(e,t){var n=e.__data__;return hve(t)?n[typeof t=="string"?"string":"hash"]:n.map}function dve(e){var t=R2(this,e).delete(e);return this.size-=t?1:0,t}function fve(e){return R2(this,e).get(e)}function pve(e){return R2(this,e).has(e)}function mve(e,t){var n=R2(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function fc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}fc.prototype.clear=cve;fc.prototype.delete=dve;fc.prototype.get=fve;fc.prototype.has=pve;fc.prototype.set=mve;var gve=200;function vve(e,t){var n=this.__data__;if(n instanceof hc){var r=n.__data__;if(!C0||r.length<gve-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new fc(r)}return n.set(e,t),this.size=n.size,this}function mh(e){var t=this.__data__=new hc(e);this.size=t.size}mh.prototype.clear=Cge;mh.prototype.delete=Tge;mh.prototype.get=Pge;mh.prototype.has=Ege;mh.prototype.set=vve;var yve="__lodash_hash_undefined__";function _ve(e){return this.__data__.set(e,yve),this}function bve(e){return this.__data__.has(e)}function P0(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new fc;++t<n;)this.add(e[t])}P0.prototype.add=P0.prototype.push=_ve;P0.prototype.has=bve;function xve(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function AU(e,t){return e.has(t)}var wve=1,Sve=2;function DU(e,t,n,r,i,o){var s=n&wve,a=e.length,c=t.length;if(a!=c&&!(s&&c>a))return!1;var h=o.get(e),d=o.get(t);if(h&&d)return h==t&&d==e;var g=-1,y=!0,v=n&Sve?new P0:void 0;for(o.set(e,t),o.set(t,e);++g<a;){var x=e[g],C=t[g];if(r)var I=s?r(C,x,g,t,e,o):r(x,C,g,e,t,o);if(I!==void 0){if(I)continue;y=!1;break}if(v){if(!xve(t,function(A,k){if(!AU(v,k)&&(x===A||i(x,A,n,r,o)))return v.push(k)})){y=!1;break}}else if(!(x===C||i(x,C,n,r,o))){y=!1;break}}return o.delete(e),o.delete(t),y}var i4=dc.Uint8Array;function Cve(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function kk(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Tve=1,Pve=2,Eve="[object Boolean]",Ive="[object Date]",Mve="[object Error]",Ave="[object Map]",Dve="[object Number]",kve="[object RegExp]",Ove="[object Set]",Rve="[object String]",Lve="[object Symbol]",$ve="[object ArrayBuffer]",zve="[object DataView]",o4=Xl?Xl.prototype:void 0,kP=o4?o4.valueOf:void 0;function Bve(e,t,n,r,i,o,s){switch(n){case zve:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case $ve:return!(e.byteLength!=t.byteLength||!o(new i4(e),new i4(t)));case Eve:case Ive:case Dve:return Dk(+e,+t);case Mve:return e.name==t.name&&e.message==t.message;case kve:case Rve:return e==t+"";case Ave:var a=Cve;case Ove:var c=r&Tve;if(a||(a=kk),e.size!=t.size&&!c)return!1;var h=s.get(e);if(h)return h==t;r|=Pve,s.set(e,t);var d=DU(a(e),a(t),r,i,o,s);return s.delete(e),d;case Lve:if(kP)return kP.call(e)==kP.call(t)}return!1}function kU(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Yl=Array.isArray;function Fve(e,t,n){var r=t(e);return Yl(e)?r:kU(r,n(e))}function Nve(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function Vve(){return[]}var jve=Object.prototype,Hve=jve.propertyIsEnumerable,a4=Object.getOwnPropertySymbols,Uve=a4?function(e){return e==null?[]:(e=Object(e),Nve(a4(e),function(t){return Hve.call(e,t)}))}:Vve;function Gve(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Lf(e){return e!=null&&typeof e=="object"}var Wve="[object Arguments]";function s4(e){return Lf(e)&&Zf(e)==Wve}var OU=Object.prototype,Zve=OU.hasOwnProperty,qve=OU.propertyIsEnumerable,L2=s4(function(){return arguments}())?s4:function(e){return Lf(e)&&Zve.call(e,"callee")&&!qve.call(e,"callee")};function Kve(){return!1}var RU=typeof exports=="object"&&exports&&!exports.nodeType&&exports,l4=RU&&typeof module=="object"&&module&&!module.nodeType&&module,Xve=l4&&l4.exports===RU,u4=Xve?dc.Buffer:void 0,Yve=u4?u4.isBuffer:void 0,lS=Yve||Kve,Jve=9007199254740991,Qve=/^(?:0|[1-9]\d*)$/;function Ok(e,t){var n=typeof e;return t=t??Jve,!!t&&(n=="number"||n!="symbol"&&Qve.test(e))&&e>-1&&e%1==0&&e<t}var eye=9007199254740991;function Rk(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=eye}var tye="[object Arguments]",nye="[object Array]",rye="[object Boolean]",iye="[object Date]",oye="[object Error]",aye="[object Function]",sye="[object Map]",lye="[object Number]",uye="[object Object]",cye="[object RegExp]",hye="[object Set]",dye="[object String]",fye="[object WeakMap]",pye="[object ArrayBuffer]",mye="[object DataView]",gye="[object Float32Array]",vye="[object Float64Array]",yye="[object Int8Array]",_ye="[object Int16Array]",bye="[object Int32Array]",xye="[object Uint8Array]",wye="[object Uint8ClampedArray]",Sye="[object Uint16Array]",Cye="[object Uint32Array]",ui={};ui[gye]=ui[vye]=ui[yye]=ui[_ye]=ui[bye]=ui[xye]=ui[wye]=ui[Sye]=ui[Cye]=!0;ui[tye]=ui[nye]=ui[pye]=ui[rye]=ui[mye]=ui[iye]=ui[oye]=ui[aye]=ui[sye]=ui[lye]=ui[uye]=ui[cye]=ui[hye]=ui[dye]=ui[fye]=!1;function Tye(e){return Lf(e)&&Rk(e.length)&&!!ui[Zf(e)]}function Pye(e){return function(t){return e(t)}}var LU=typeof exports=="object"&&exports&&!exports.nodeType&&exports,L_=LU&&typeof module=="object"&&module&&!module.nodeType&&module,Eye=L_&&L_.exports===LU,OP=Eye&&EU.process,c4=function(){try{var e=L_&&L_.require&&L_.require("util").types;return e||OP&&OP.binding&&OP.binding("util")}catch{}}(),h4=c4&&c4.isTypedArray,Lk=h4?Pye(h4):Tye,Iye=Object.prototype,Mye=Iye.hasOwnProperty;function Aye(e,t){var n=Yl(e),r=!n&&L2(e),i=!n&&!r&&lS(e),o=!n&&!r&&!i&&Lk(e),s=n||r||i||o,a=s?Gve(e.length,String):[],c=a.length;for(var h in e)Mye.call(e,h)&&!(s&&(h=="length"||i&&(h=="offset"||h=="parent")||o&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||Ok(h,c)))&&a.push(h);return a}var Dye=Object.prototype;function $U(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Dye;return e===n}function zU(e,t){return function(n){return e(t(n))}}var kye=zU(Object.keys,Object),Oye=Object.prototype,Rye=Oye.hasOwnProperty;function BU(e){if(!$U(e))return kye(e);var t=[];for(var n in Object(e))Rye.call(e,n)&&n!="constructor"&&t.push(n);return t}function FU(e){return e!=null&&Rk(e.length)&&!MU(e)}function Lye(e){return FU(e)?Aye(e):BU(e)}function d4(e){return Fve(e,Lye,Uve)}var $ye=1,zye=Object.prototype,Bye=zye.hasOwnProperty;function Fye(e,t,n,r,i,o){var s=n&$ye,a=d4(e),c=a.length,h=d4(t),d=h.length;if(c!=d&&!s)return!1;for(var g=c;g--;){var y=a[g];if(!(s?y in t:Bye.call(t,y)))return!1}var v=o.get(e),x=o.get(t);if(v&&x)return v==t&&x==e;var C=!0;o.set(e,t),o.set(t,e);for(var I=s;++g<c;){y=a[g];var A=e[y],k=t[y];if(r)var R=s?r(k,A,y,t,e,o):r(A,k,y,e,t,o);if(!(R===void 0?A===k||i(A,k,n,r,o):R)){C=!1;break}I||(I=y=="constructor")}if(C&&!I){var z=e.constructor,V=t.constructor;z!=V&&"constructor"in e&&"constructor"in t&&!(typeof z=="function"&&z instanceof z&&typeof V=="function"&&V instanceof V)&&(C=!1)}return o.delete(e),o.delete(t),C}var DM=Kf(dc,"DataView"),kM=Kf(dc,"Promise"),Gm=Kf(dc,"Set"),OM=Kf(dc,"WeakMap"),f4="[object Map]",Nye="[object Object]",p4="[object Promise]",m4="[object Set]",g4="[object WeakMap]",v4="[object DataView]",Vye=qf(DM),jye=qf(C0),Hye=qf(kM),Uye=qf(Gm),Gye=qf(OM),Uu=Zf;(DM&&Uu(new DM(new ArrayBuffer(1)))!=v4||C0&&Uu(new C0)!=f4||kM&&Uu(kM.resolve())!=p4||Gm&&Uu(new Gm)!=m4||OM&&Uu(new OM)!=g4)&&(Uu=function(e){var t=Zf(e),n=t==Nye?e.constructor:void 0,r=n?qf(n):"";if(r)switch(r){case Vye:return v4;case jye:return f4;case Hye:return p4;case Uye:return m4;case Gye:return g4}return t});var Wye=1,y4="[object Arguments]",_4="[object Array]",ox="[object Object]",Zye=Object.prototype,b4=Zye.hasOwnProperty;function qye(e,t,n,r,i,o){var s=Yl(e),a=Yl(t),c=s?_4:Uu(e),h=a?_4:Uu(t);c=c==y4?ox:c,h=h==y4?ox:h;var d=c==ox,g=h==ox,y=c==h;if(y&&lS(e)){if(!lS(t))return!1;s=!0,d=!1}if(y&&!d)return o||(o=new mh),s||Lk(e)?DU(e,t,n,r,i,o):Bve(e,t,c,n,r,i,o);if(!(n&Wye)){var v=d&&b4.call(e,"__wrapped__"),x=g&&b4.call(t,"__wrapped__");if(v||x){var C=v?e.value():e,I=x?t.value():t;return o||(o=new mh),i(C,I,n,r,o)}}return y?(o||(o=new mh),Fye(e,t,n,r,i,o)):!1}function NU(e,t,n,r,i){return e===t?!0:e==null||t==null||!Lf(e)&&!Lf(t)?e!==e&&t!==t:qye(e,t,n,r,NU,i)}function Kye(e,t){return NU(e,t)}const Xye={align:Object,target:[Object,Function],onAlign:Function,monitorBufferTime:Number,monitorWindowResize:Boolean,disabled:Boolean};function x4(e){return typeof e!="function"?null:e()}function w4(e){return typeof e!="object"||!e?null:e}const Yye=Pt({compatConfig:{MODE:3},name:"Align",props:Xye,emits:["align"],setup(e,t){let{expose:n,slots:r}=t;const i=Ot({}),o=Ot(),[s,a]=gge(()=>{const{disabled:y,target:v,align:x,onAlign:C}=e;if(!y&&v&&o.value){const I=o.value;let A;const k=x4(v),R=w4(v);i.value.element=k,i.value.point=R,i.value.align=x;const{activeElement:z}=document;return k&&PU(k)?A=Ak(I,k,x):R&&(A=dge(I,R,x)),mge(z,I),C&&A&&C(I,A),!0}return!1},ge(()=>e.monitorBufferTime)),c=Ot({cancel:()=>{}}),h=Ot({cancel:()=>{}}),d=()=>{const y=e.target,v=x4(y),x=w4(y);o.value!==h.value.element&&(h.value.cancel(),h.value.element=o.value,h.value.cancel=t4(o.value,s)),(i.value.element!==v||!pge(i.value.point,x)||!Kye(i.value.align,e.align))&&(s(),c.value.element!==v&&(c.value.cancel(),c.value.element=v,c.value.cancel=t4(v,s)))};Nn(()=>{wi(()=>{d()})}),Dh(()=>{wi(()=>{d()})}),qt(()=>e.disabled,y=>{y?a():s()},{immediate:!0,flush:"post"});const g=Ot(null);return qt(()=>e.monitorWindowResize,y=>{y?g.value||(g.value=c_(window,"resize",s)):g.value&&(g.value.remove(),g.value=null)},{flush:"post"}),eu(()=>{c.value.cancel(),h.value.cancel(),g.value&&g.value.remove(),a()}),n({forceAlign:()=>s(!0)}),()=>{const y=r==null?void 0:r.default();return y?Oa(y[0],{ref:o},!0,!0):null}}});eS("bottomLeft","bottomRight","topLeft","topRight");const Jye=e=>e!==void 0&&(e==="topLeft"||e==="topRight")?"slide-down":"slide-up",VU=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ee(e?{name:e,appear:!0,enterFromClass:`${e}-enter ${e}-enter-prepare ${e}-enter-start`,enterActiveClass:`${e}-enter ${e}-enter-prepare`,enterToClass:`${e}-enter ${e}-enter-active`,leaveFromClass:` ${e}-leave`,leaveActiveClass:`${e}-leave ${e}-leave-active`,leaveToClass:`${e}-leave ${e}-leave-active`}:{css:!1},t)},jU=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ee(e?{name:e,appear:!0,appearActiveClass:`${e}`,appearToClass:`${e}-appear ${e}-appear-active`,enterFromClass:`${e}-appear ${e}-enter ${e}-appear-prepare ${e}-enter-prepare`,enterActiveClass:`${e}`,enterToClass:`${e}-enter ${e}-appear ${e}-appear-active ${e}-enter-active`,leaveActiveClass:`${e} ${e}-leave`,leaveToClass:`${e}-leave-active`}:{css:!1},t)},HU=(e,t,n)=>n!==void 0?n:`${e}-${t}`,Qye=Pt({compatConfig:{MODE:3},name:"PopupInner",inheritAttrs:!1,props:Ck,emits:["mouseenter","mouseleave","mousedown","touchstart","align"],setup(e,t){let{expose:n,attrs:r,slots:i}=t;const o=Et(),s=Et(),a=Et(),[c,h]=Fme(Ds(e,"stretch")),d=()=>{e.stretch&&h(e.getRootDomNode())},g=Et(!1);let y;qt(()=>e.visible,U=>{clearTimeout(y),U?y=setTimeout(()=>{g.value=e.visible}):g.value=!1},{immediate:!0});const[v,x]=Bme(g,d),C=Et(),I=()=>e.point?e.point:e.getRootDomNode,A=()=>{var U;(U=o.value)===null||U===void 0||U.forceAlign()},k=(U,N)=>{var W;const X=e.getClassNameFromAlign(N),K=a.value;a.value!==X&&(a.value=X),v.value==="align"&&(K!==X?Promise.resolve().then(()=>{A()}):x(()=>{var te;(te=C.value)===null||te===void 0||te.call(C)}),(W=e.onAlign)===null||W===void 0||W.call(e,U,N))},R=ge(()=>{const U=typeof e.animation=="object"?e.animation:Tk(e);return["onAfterEnter","onAfterLeave"].forEach(N=>{const W=U[N];U[N]=X=>{x(),v.value="stable",W==null||W(X)}}),U}),z=()=>new Promise(U=>{C.value=U});qt([R,v],()=>{!R.value&&v.value==="motion"&&x()},{immediate:!0}),n({forceAlign:A,getElement:()=>s.value.$el||s.value});const V=ge(()=>{var U;return!(!((U=e.align)===null||U===void 0)&&U.points&&(v.value==="align"||v.value==="stable"))});return()=>{var U;const{zIndex:N,align:W,prefixCls:X,destroyPopupOnHide:K,onMouseenter:te,onMouseleave:ae,onTouchstart:me=()=>{},onMousedown:we}=e,se=v.value,ue=[ee(ee({},c.value),{zIndex:N,opacity:se==="motion"||se==="stable"||!g.value?null:0,pointerEvents:!g.value&&se!=="stable"?"none":null}),r.style];let Te=ao((U=i.default)===null||U===void 0?void 0:U.call(i,{visible:e.visible}));Te.length>1&&(Te=ne("div",{class:`${X}-content`},[Te]));const Be=an(X,r.class,a.value,!e.arrow&&`${X}-arrow-hidden`),rt=g.value||!e.visible?VU(R.value.name,R.value):{};return ne(us,Ct(Ct({ref:s},rt),{},{onBeforeEnter:z}),{default:()=>!K||e.visible?xh(ne(Yye,{target:I(),key:"popup",ref:o,monitorWindowResize:!0,disabled:V.value,align:W,onAlign:k},{default:()=>ne("div",{class:Be,onMouseenter:te,onMouseleave:ae,onMousedown:v$(we,["capture"]),[fa?"onTouchstartPassive":"onTouchstart"]:v$(me,["capture"]),style:ue},[Te])}),[[Mf,g.value]]):null})}}}),e_e=Pt({compatConfig:{MODE:3},name:"Popup",inheritAttrs:!1,props:Lme,setup(e,t){let{attrs:n,slots:r,expose:i}=t;const o=Et(!1),s=Et(!1),a=Et(),c=Et();return qt([()=>e.visible,()=>e.mobile],()=>{o.value=e.visible,e.visible&&e.mobile&&(s.value=!0)},{immediate:!0,flush:"post"}),i({forceAlign:()=>{var h;(h=a.value)===null||h===void 0||h.forceAlign()},getElement:()=>{var h;return(h=a.value)===null||h===void 0?void 0:h.getElement()}}),()=>{const h=ee(ee(ee({},e),n),{visible:o.value}),d=s.value?ne($me,Ct(Ct({},h),{},{mobile:e.mobile,ref:a}),{default:r.default}):ne(Qye,Ct(Ct({},h),{},{ref:a}),{default:r.default});return ne("div",{ref:c},[ne(gU,h,null),d])}}});function t_e(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function S4(e,t,n){const r=e[t]||{};return ee(ee({},r),n)}function n_e(e,t,n,r){const{points:i}=n,o=Object.keys(e);for(let s=0;s<o.length;s+=1){const a=o[s];if(t_e(e[a].points,i,r))return`${t}-placement-${a}`}return""}const r_e={methods:{setState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=typeof e=="function"?e(this.$data,this.$props):e;if(this.getDerivedStateFromProps){const r=this.getDerivedStateFromProps(_fe(this),ee(ee({},this.$data),n));if(r===null)return;n=ee(ee({},n),r||{})}ee(this.$data,n),this._.isMounted&&this.$forceUpdate(),wi(()=>{t&&t()})},__emit(){const e=[].slice.call(arguments,0);let t=e[0];t=`on${t[0].toUpperCase()}${t.substring(1)}`;const n=this.$props[t]||this.$attrs[t];if(e.length&&n)if(Array.isArray(n))for(let r=0,i=n.length;r<i;r++)n[r](...e.slice(1));else n(...e.slice(1))}}},UU=Symbol("PortalContextKey"),GU=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inTriggerContext:!0};fr(UU,{inTriggerContext:t.inTriggerContext,shouldRender:ge(()=>{const{sPopupVisible:n,popupRef:r,forceRender:i,autoDestroy:o}=e||{};let s=!1;return(n||r||i)&&(s=!0),!n&&o&&(s=!1),s})})},i_e=()=>{GU({},{inTriggerContext:!1});const e=Mn(UU,{shouldRender:ge(()=>!1),inTriggerContext:!1});return{shouldRender:ge(()=>e.shouldRender.value||e.inTriggerContext===!1)}},WU=Pt({compatConfig:{MODE:3},name:"Portal",inheritAttrs:!1,props:{getContainer:ft.func.isRequired,didUpdate:Function},setup(e,t){let{slots:n}=t,r=!0,i;const{shouldRender:o}=i_e();function s(){o.value&&(i=e.getContainer())}pV(()=>{r=!1,s()}),Nn(()=>{i||s()});const a=qt(o,()=>{o.value&&!i&&(i=e.getContainer()),i&&a()});return Dh(()=>{wi(()=>{var c;o.value&&((c=e.didUpdate)===null||c===void 0||c.call(e,e))})}),()=>{var c;return o.value?r?(c=n.default)===null||c===void 0?void 0:c.call(n):i?ne(TD,{to:i},n):null:null}}});let RP;function o_e(e){if(typeof document>"u")return 0;if(RP===void 0){const t=document.createElement("div");t.style.width="100%",t.style.height="200px";const n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(t),document.body.appendChild(n);const i=t.offsetWidth;n.style.overflow="scroll";let o=t.offsetWidth;i===o&&(o=n.clientWidth),document.body.removeChild(n),RP=i-o}return RP}const a_e=`vc-util-locker-${Date.now()}`;let C4=0;function s_e(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}function l_e(e){const t=ge(()=>!!e&&!!e.value);C4+=1;const n=`${a_e}_${C4}`;Dr(r=>{if(cl()){if(t.value){const i=o_e(),o=s_e();_0(`
html body {
  overflow-y: hidden;
  ${o?`width: calc(100% - ${i}px);`:""}
}`,n)}else tS(n);r(()=>{tS(n)})}},{flush:"post"})}let Cd=0;const gw=cl(),T4=e=>{if(!gw)return null;if(e){if(typeof e=="string")return document.querySelectorAll(e)[0];if(typeof e=="function")return e();if(typeof e=="object"&&e instanceof window.HTMLElement)return e}return document.body},u_e=Pt({compatConfig:{MODE:3},name:"PortalWrapper",inheritAttrs:!1,props:{wrapperClassName:String,forceRender:{type:Boolean,default:void 0},getContainer:ft.any,visible:{type:Boolean,default:void 0},autoLock:Br(),didUpdate:Function},setup(e,t){let{slots:n}=t;const r=Et(),i=Et(),o=Et(),s=Et(1),a=cl()&&document.createElement("div"),c=()=>{var v,x;r.value===a&&((x=(v=r.value)===null||v===void 0?void 0:v.parentNode)===null||x===void 0||x.removeChild(r.value)),r.value=null};let h=null;const d=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)||r.value&&!r.value.parentNode?(h=T4(e.getContainer),h?(h.appendChild(r.value),!0):!1):!0},g=()=>gw?(r.value||(r.value=a,d(!0)),y(),r.value):null,y=()=>{const{wrapperClassName:v}=e;r.value&&v&&v!==r.value.className&&(r.value.className=v)};return Dh(()=>{y(),d()}),l_e(ge(()=>e.autoLock&&e.visible&&cl()&&(r.value===document.body||r.value===a))),Nn(()=>{let v=!1;qt([()=>e.visible,()=>e.getContainer],(x,C)=>{let[I,A]=x,[k,R]=C;gw&&(h=T4(e.getContainer),h===document.body&&(I&&!k?Cd+=1:v&&(Cd-=1))),v&&(typeof A=="function"&&typeof R=="function"?A.toString()!==R.toString():A!==R)&&c(),v=!0},{immediate:!0,flush:"post"}),wi(()=>{d()||(o.value=Tr(()=>{s.value+=1}))})}),ii(()=>{const{visible:v}=e;gw&&h===document.body&&(Cd=v&&Cd?Cd-1:Cd),c(),Tr.cancel(o.value)}),()=>{const{forceRender:v,visible:x}=e;let C=null;const I={getOpenCount:()=>Cd,getContainer:g};return s.value&&(v||x||i.value)&&(C=ne(WU,{getContainer:g,ref:i,didUpdate:e.didUpdate},{default:()=>{var A;return(A=n.default)===null||A===void 0?void 0:A.call(n,I)}})),C}}}),c_e=["onClick","onMousedown","onTouchstart","onMouseenter","onMouseleave","onFocus","onBlur","onContextmenu"],$2=Pt({compatConfig:{MODE:3},name:"Trigger",mixins:[r_e],inheritAttrs:!1,props:Ome(),setup(e){const t=ge(()=>{const{popupPlacement:i,popupAlign:o,builtinPlacements:s}=e;return i&&s?S4(s,i,o):o}),n=Et(null),r=i=>{n.value=i};return{vcTriggerContext:Mn("vcTriggerContext",{}),popupRef:n,setPopupRef:r,triggerRef:Et(null),align:t,focusTime:null,clickOutsideHandler:null,contextmenuOutsideHandler1:null,contextmenuOutsideHandler2:null,touchOutsideHandler:null,attachId:null,delayTimer:null,hasPopupMouseDown:!1,preClickTime:null,preTouchTime:null,mouseDownTimeout:null,childOriginEvents:{}}},data(){const e=this.$props;let t;return this.popupVisible!==void 0?t=!!e.popupVisible:t=!!e.defaultPopupVisible,c_e.forEach(n=>{this[`fire${n}`]=r=>{this.fireEvents(n,r)}}),{prevPopupVisible:t,sPopupVisible:t,point:null}},watch:{popupVisible(e){e!==void 0&&(this.prevPopupVisible=this.sPopupVisible,this.sPopupVisible=e)}},created(){fr("vcTriggerContext",{onPopupMouseDown:this.onPopupMouseDown,onPopupMouseenter:this.onPopupMouseenter,onPopupMouseleave:this.onPopupMouseleave}),GU(this)},deactivated(){this.setPopupVisible(!1)},mounted(){this.$nextTick(()=>{this.updatedCal()})},updated(){this.$nextTick(()=>{this.updatedCal()})},beforeUnmount(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),Tr.cancel(this.attachId)},methods:{updatedCal(){const e=this.$props;if(this.$data.sPopupVisible){let n;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextmenuToShow())&&(n=e.getDocument(this.getRootDomNode()),this.clickOutsideHandler=c_(n,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(n=n||e.getDocument(this.getRootDomNode()),this.touchOutsideHandler=c_(n,"touchstart",this.onDocumentClick,fa?{passive:!1}:!1)),!this.contextmenuOutsideHandler1&&this.isContextmenuToShow()&&(n=n||e.getDocument(this.getRootDomNode()),this.contextmenuOutsideHandler1=c_(n,"scroll",this.onContextmenuClose)),!this.contextmenuOutsideHandler2&&this.isContextmenuToShow()&&(this.contextmenuOutsideHandler2=c_(window,"blur",this.onContextmenuClose))}else this.clearOutsideHandler()},onMouseenter(e){const{mouseEnterDelay:t}=this.$props;this.fireEvents("onMouseenter",e),this.delaySetPopupVisible(!0,t,t?null:e)},onMouseMove(e){this.fireEvents("onMousemove",e),this.setPoint(e)},onMouseleave(e){this.fireEvents("onMouseleave",e),this.delaySetPopupVisible(!1,this.$props.mouseLeaveDelay)},onPopupMouseenter(){const{vcTriggerContext:e={}}=this;e.onPopupMouseenter&&e.onPopupMouseenter(),this.clearDelayTimer()},onPopupMouseleave(e){var t;if(e&&e.relatedTarget&&!e.relatedTarget.setTimeout&&tf((t=this.popupRef)===null||t===void 0?void 0:t.getElement(),e.relatedTarget))return;this.isMouseLeaveToHide()&&this.delaySetPopupVisible(!1,this.$props.mouseLeaveDelay);const{vcTriggerContext:n={}}=this;n.onPopupMouseleave&&n.onPopupMouseleave(e)},onFocus(e){this.fireEvents("onFocus",e),this.clearDelayTimer(),this.isFocusToShow()&&(this.focusTime=Date.now(),this.delaySetPopupVisible(!0,this.$props.focusDelay))},onMousedown(e){this.fireEvents("onMousedown",e),this.preClickTime=Date.now()},onTouchstart(e){this.fireEvents("onTouchstart",e),this.preTouchTime=Date.now()},onBlur(e){tf(e.target,e.relatedTarget||document.activeElement)||(this.fireEvents("onBlur",e),this.clearDelayTimer(),this.isBlurToHide()&&this.delaySetPopupVisible(!1,this.$props.blurDelay))},onContextmenu(e){e.preventDefault(),this.fireEvents("onContextmenu",e),this.setPopupVisible(!0,e)},onContextmenuClose(){this.isContextmenuToShow()&&this.close()},onClick(e){if(this.fireEvents("onClick",e),this.focusTime){let n;if(this.preClickTime&&this.preTouchTime?n=Math.min(this.preClickTime,this.preTouchTime):this.preClickTime?n=this.preClickTime:this.preTouchTime&&(n=this.preTouchTime),Math.abs(n-this.focusTime)<20)return;this.focusTime=0}this.preClickTime=0,this.preTouchTime=0,this.isClickToShow()&&(this.isClickToHide()||this.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault(),e&&e.domEvent&&e.domEvent.preventDefault();const t=!this.$data.sPopupVisible;(this.isClickToHide()&&!t||t&&this.isClickToShow())&&this.setPopupVisible(!this.$data.sPopupVisible,e)},onPopupMouseDown(){const{vcTriggerContext:e={}}=this;this.hasPopupMouseDown=!0,clearTimeout(this.mouseDownTimeout),this.mouseDownTimeout=setTimeout(()=>{this.hasPopupMouseDown=!1},0),e.onPopupMouseDown&&e.onPopupMouseDown(...arguments)},onDocumentClick(e){if(this.$props.mask&&!this.$props.maskClosable)return;const t=e.target,n=this.getRootDomNode(),r=this.getPopupDomNode();(!tf(n,t)||this.isContextMenuOnly())&&!tf(r,t)&&!this.hasPopupMouseDown&&this.delaySetPopupVisible(!1,.1)},getPopupDomNode(){var e;return((e=this.popupRef)===null||e===void 0?void 0:e.getElement())||null},getRootDomNode(){var e,t,n,r;const{getTriggerDOMNode:i}=this.$props;if(i){const o=((t=(e=this.triggerRef)===null||e===void 0?void 0:e.$el)===null||t===void 0?void 0:t.nodeName)==="#comment"?null:ah(this.triggerRef);return ah(i(o))}try{const o=((r=(n=this.triggerRef)===null||n===void 0?void 0:n.$el)===null||r===void 0?void 0:r.nodeName)==="#comment"?null:ah(this.triggerRef);if(o)return o}catch{}return ah(this)},handleGetPopupClassFromAlign(e){const t=[],n=this.$props,{popupPlacement:r,builtinPlacements:i,prefixCls:o,alignPoint:s,getPopupClassNameFromAlign:a}=n;return r&&i&&t.push(n_e(i,o,e,s)),a&&t.push(a(e)),t.join(" ")},getPopupAlign(){const e=this.$props,{popupPlacement:t,popupAlign:n,builtinPlacements:r}=e;return t&&r?S4(r,t,n):n},getComponent(){const e={};this.isMouseEnterToShow()&&(e.onMouseenter=this.onPopupMouseenter),this.isMouseLeaveToHide()&&(e.onMouseleave=this.onPopupMouseleave),e.onMousedown=this.onPopupMouseDown,e[fa?"onTouchstartPassive":"onTouchstart"]=this.onPopupMouseDown;const{handleGetPopupClassFromAlign:t,getRootDomNode:n,$attrs:r}=this,{prefixCls:i,destroyPopupOnHide:o,popupClassName:s,popupAnimation:a,popupTransitionName:c,popupStyle:h,mask:d,maskAnimation:g,maskTransitionName:y,zIndex:v,stretch:x,alignPoint:C,mobile:I,arrow:A,forceRender:k}=this.$props,{sPopupVisible:R,point:z}=this.$data,V=ee(ee({prefixCls:i,arrow:A,destroyPopupOnHide:o,visible:R,point:C?z:null,align:this.align,animation:a,getClassNameFromAlign:t,stretch:x,getRootDomNode:n,mask:d,zIndex:v,transitionName:c,maskAnimation:g,maskTransitionName:y,class:s,style:h,onAlign:r.onPopupAlign||mU},e),{ref:this.setPopupRef,mobile:I,forceRender:k});return ne(e_e,V,{default:this.$slots.popup||(()=>bfe(this,"popup"))})},attachParent(e){Tr.cancel(this.attachId);const{getPopupContainer:t,getDocument:n}=this.$props,r=this.getRootDomNode();let i;t?(r||t.length===0)&&(i=t(r)):i=n(this.getRootDomNode()).body,i?i.appendChild(e):this.attachId=Tr(()=>{this.attachParent(e)})},getContainer(){const{$props:e}=this,{getDocument:t}=e,n=t(this.getRootDomNode()).createElement("div");return n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.width="100%",this.attachParent(n),n},setPopupVisible(e,t){const{alignPoint:n,sPopupVisible:r,onPopupVisibleChange:i}=this;this.clearDelayTimer(),r!==e&&(vfe(this,"popupVisible")||this.setState({sPopupVisible:e,prevPopupVisible:r}),i&&i(e)),n&&t&&e&&this.setPoint(t)},setPoint(e){const{alignPoint:t}=this.$props;!t||!e||this.setState({point:{pageX:e.pageX,pageY:e.pageY}})},handlePortalUpdate(){this.prevPopupVisible!==this.sPopupVisible&&this.afterPopupVisibleChange(this.sPopupVisible)},delaySetPopupVisible(e,t,n){const r=t*1e3;if(this.clearDelayTimer(),r){const i=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=setTimeout(()=>{this.setPopupVisible(e,i),this.clearDelayTimer()},r)}else this.setPopupVisible(e,n)},clearDelayTimer(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},clearOutsideHandler(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextmenuOutsideHandler1&&(this.contextmenuOutsideHandler1.remove(),this.contextmenuOutsideHandler1=null),this.contextmenuOutsideHandler2&&(this.contextmenuOutsideHandler2.remove(),this.contextmenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)},createTwoChains(e){let t=()=>{};const n=pz(this);return this.childOriginEvents[e]&&n[e]?this[`fire${e}`]:(t=this.childOriginEvents[e]||n[e]||t,t)},isClickToShow(){const{action:e,showAction:t}=this.$props;return e.indexOf("click")!==-1||t.indexOf("click")!==-1},isContextMenuOnly(){const{action:e}=this.$props;return e==="contextmenu"||e.length===1&&e[0]==="contextmenu"},isContextmenuToShow(){const{action:e,showAction:t}=this.$props;return e.indexOf("contextmenu")!==-1||t.indexOf("contextmenu")!==-1},isClickToHide(){const{action:e,hideAction:t}=this.$props;return e.indexOf("click")!==-1||t.indexOf("click")!==-1},isMouseEnterToShow(){const{action:e,showAction:t}=this.$props;return e.indexOf("hover")!==-1||t.indexOf("mouseenter")!==-1},isMouseLeaveToHide(){const{action:e,hideAction:t}=this.$props;return e.indexOf("hover")!==-1||t.indexOf("mouseleave")!==-1},isFocusToShow(){const{action:e,showAction:t}=this.$props;return e.indexOf("focus")!==-1||t.indexOf("focus")!==-1},isBlurToHide(){const{action:e,hideAction:t}=this.$props;return e.indexOf("focus")!==-1||t.indexOf("blur")!==-1},forcePopupAlign(){var e;this.$data.sPopupVisible&&((e=this.popupRef)===null||e===void 0||e.forceAlign())},fireEvents(e,t){this.childOriginEvents[e]&&this.childOriginEvents[e](t);const n=this.$props[e]||this.$attrs[e];n&&n(t)},close(){this.setPopupVisible(!1)}},render(){const{$attrs:e}=this,t=Uf(yfe(this)),{alignPoint:n,getPopupContainer:r}=this.$props,i=t[0];this.childOriginEvents=pz(i);const o={key:"trigger"};this.isContextmenuToShow()?o.onContextmenu=this.onContextmenu:o.onContextmenu=this.createTwoChains("onContextmenu"),this.isClickToHide()||this.isClickToShow()?(o.onClick=this.onClick,o.onMousedown=this.onMousedown,o[fa?"onTouchstartPassive":"onTouchstart"]=this.onTouchstart):(o.onClick=this.createTwoChains("onClick"),o.onMousedown=this.createTwoChains("onMousedown"),o[fa?"onTouchstartPassive":"onTouchstart"]=this.createTwoChains("onTouchstart")),this.isMouseEnterToShow()?(o.onMouseenter=this.onMouseenter,n&&(o.onMousemove=this.onMouseMove)):o.onMouseenter=this.createTwoChains("onMouseenter"),this.isMouseLeaveToHide()?o.onMouseleave=this.onMouseleave:o.onMouseleave=this.createTwoChains("onMouseleave"),this.isFocusToShow()||this.isBlurToHide()?(o.onFocus=this.onFocus,o.onBlur=this.onBlur):(o.onFocus=this.createTwoChains("onFocus"),o.onBlur=h=>{h&&(!h.relatedTarget||!tf(h.target,h.relatedTarget))&&this.createTwoChains("onBlur")(h)});const s=an(i&&i.props&&i.props.class,e.class);s&&(o.class=s);const a=Oa(i,ee(ee({},o),{ref:"triggerRef"}),!0,!0),c=ne(u_e,{key:"portal",getContainer:r&&(()=>r(this.getRootDomNode())),didUpdate:this.handlePortalUpdate,visible:this.$data.sPopupVisible},{default:this.getComponent});return ne(vn,null,[a,c])}});var h_e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const d_e=e=>{const t=e===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}}}},f_e=Pt({name:"SelectTrigger",inheritAttrs:!1,props:{dropdownAlign:Object,visible:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},dropdownClassName:String,dropdownStyle:ft.object,placement:String,empty:{type:Boolean,default:void 0},prefixCls:String,popupClassName:String,animation:String,transitionName:String,getPopupContainer:Function,dropdownRender:Function,containerWidth:Number,dropdownMatchSelectWidth:ft.oneOfType([Number,Boolean]).def(!0),popupElement:ft.any,direction:String,getTriggerDOMNode:Function,onPopupVisibleChange:Function,onPopupMouseEnter:Function,onPopupFocusin:Function,onPopupFocusout:Function},setup(e,t){let{slots:n,attrs:r,expose:i}=t;const o=ge(()=>{const{dropdownMatchSelectWidth:a}=e;return d_e(a)}),s=Ot();return i({getPopupElement:()=>s.value}),()=>{const a=ee(ee({},e),r),{empty:c=!1}=a,h=h_e(a,["empty"]),{visible:d,dropdownAlign:g,prefixCls:y,popupElement:v,dropdownClassName:x,dropdownStyle:C,direction:I="ltr",placement:A,dropdownMatchSelectWidth:k,containerWidth:R,dropdownRender:z,animation:V,transitionName:U,getPopupContainer:N,getTriggerDOMNode:W,onPopupVisibleChange:X,onPopupMouseEnter:K,onPopupFocusin:te,onPopupFocusout:ae}=h,me=`${y}-dropdown`;let we=v;z&&(we=z({menuNode:v,props:e}));const se=V?`${me}-${V}`:U,ue=ee({minWidth:`${R}px`},C);return typeof k=="number"?ue.width=`${k}px`:k&&(ue.width=`${R}px`),ne($2,Ct(Ct({},e),{},{showAction:X?["click"]:[],hideAction:X?["click"]:[],popupPlacement:A||(I==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:o.value,prefixCls:me,popupTransitionName:se,popupAlign:g,popupVisible:d,getPopupContainer:N,popupClassName:an(x,{[`${me}-empty`]:c}),popupStyle:ue,getTriggerDOMNode:W,onPopupVisibleChange:X}),{default:n.default,popup:()=>ne("div",{ref:s,onMouseenter:K,onFocusin:te,onFocusout:ae},[we])})}}}),Ht={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(t){const{keyCode:n}=t;if(t.altKey&&!t.ctrlKey||t.metaKey||n>=Ht.F1&&n<=Ht.F12)return!1;switch(n){case Ht.ALT:case Ht.CAPS_LOCK:case Ht.CONTEXT_MENU:case Ht.CTRL:case Ht.DOWN:case Ht.END:case Ht.ESC:case Ht.HOME:case Ht.INSERT:case Ht.LEFT:case Ht.MAC_FF_META:case Ht.META:case Ht.NUMLOCK:case Ht.NUM_CENTER:case Ht.PAGE_DOWN:case Ht.PAGE_UP:case Ht.PAUSE:case Ht.PRINT_SCREEN:case Ht.RIGHT:case Ht.SHIFT:case Ht.UP:case Ht.WIN_KEY:case Ht.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(t){if(t>=Ht.ZERO&&t<=Ht.NINE||t>=Ht.NUM_ZERO&&t<=Ht.NUM_MULTIPLY||t>=Ht.A&&t<=Ht.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&t===0)return!0;switch(t){case Ht.SPACE:case Ht.QUESTION_MARK:case Ht.NUM_PLUS:case Ht.NUM_MINUS:case Ht.NUM_PERIOD:case Ht.NUM_DIVISION:case Ht.SEMICOLON:case Ht.DASH:case Ht.EQUALS:case Ht.COMMA:case Ht.PERIOD:case Ht.SLASH:case Ht.APOSTROPHE:case Ht.SINGLE_QUOTE:case Ht.OPEN_SQUARE_BRACKET:case Ht.BACKSLASH:case Ht.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},$f=(e,t)=>{let{slots:n}=t;var r;const{class:i,customizeIcon:o,customizeIconProps:s,onMousedown:a,onClick:c}=e;let h;return typeof o=="function"?h=o(s):h=ta(o)?os(o):o,ne("span",{class:i,onMousedown:d=>{d.preventDefault(),a&&a(d)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:c,"aria-hidden":!0},[h!==void 0?h:ne("span",{class:i.split(/\s+/).map(d=>`${d}-icon`)},[(r=n.default)===null||r===void 0?void 0:r.call(n)])])};$f.inheritAttrs=!1;$f.displayName="TransBtn";$f.props={class:String,customizeIcon:ft.any,customizeIconProps:ft.any,onMousedown:Function,onClick:Function};var p_e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const m_e=Pt({compatConfig:{MODE:3},props:{disabled:ft.looseBool,type:ft.string,value:ft.any,tag:{type:String,default:"input"},size:ft.string,onChange:Function,onInput:Function,onBlur:Function,onFocus:Function,onKeydown:Function,onCompositionstart:Function,onCompositionend:Function,onKeyup:Function,onPaste:Function,onMousedown:Function},emits:["change","input","blur","keydown","focus","compositionstart","compositionend","keyup","paste","mousedown"],setup(e,t){let{expose:n}=t;const r=Et(null);return n({focus:()=>{r.value&&r.value.focus()},blur:()=>{r.value&&r.value.blur()},input:r,setSelectionRange:(c,h,d)=>{var g;(g=r.value)===null||g===void 0||g.setSelectionRange(c,h,d)},select:()=>{var c;(c=r.value)===null||c===void 0||c.select()},getSelectionStart:()=>{var c;return(c=r.value)===null||c===void 0?void 0:c.selectionStart},getSelectionEnd:()=>{var c;return(c=r.value)===null||c===void 0?void 0:c.selectionEnd},getScrollTop:()=>{var c;return(c=r.value)===null||c===void 0?void 0:c.scrollTop}}),()=>{const{tag:c,value:h}=e,d=p_e(e,["tag","value"]);return ne(c,Ct(Ct({},d),{},{ref:r,value:h}),null)}}});function g_e(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return typeof r>"u"||r===null||(t+=`${n}: ${e[n]};`),t},"")}var v_e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const y_e=Pt({compatConfig:{MODE:3},inheritAttrs:!1,props:{disabled:ft.looseBool,type:ft.string,value:ft.any,lazy:ft.bool.def(!0),tag:{type:String,default:"input"},size:ft.string,style:ft.oneOfType([String,Object]),class:ft.string},emits:["change","input","blur","keydown","focus","compositionstart","compositionend","keyup","paste","mousedown"],setup(e,t){let{emit:n,attrs:r,expose:i}=t;const o=Et(null),s=Ot(),a=Ot(!1);qt([()=>e.value,a],()=>{a.value||(s.value=e.value)},{immediate:!0});const c=N=>{n("change",N)},h=N=>{a.value=!0,N.target.composing=!0,n("compositionstart",N)},d=N=>{a.value=!1,N.target.composing=!1,n("compositionend",N);const W=document.createEvent("HTMLEvents");W.initEvent("input",!0,!0),N.target.dispatchEvent(W),c(N)},g=N=>{if(a.value&&e.lazy){s.value=N.target.value;return}n("input",N)},y=N=>{n("blur",N)},v=N=>{n("focus",N)},x=()=>{o.value&&o.value.focus()},C=()=>{o.value&&o.value.blur()},I=N=>{n("keydown",N)},A=N=>{n("keyup",N)},k=(N,W,X)=>{var K;(K=o.value)===null||K===void 0||K.setSelectionRange(N,W,X)},R=()=>{var N;(N=o.value)===null||N===void 0||N.select()};i({focus:x,blur:C,input:ge(()=>{var N;return(N=o.value)===null||N===void 0?void 0:N.input}),setSelectionRange:k,select:R,getSelectionStart:()=>{var N;return(N=o.value)===null||N===void 0?void 0:N.getSelectionStart()},getSelectionEnd:()=>{var N;return(N=o.value)===null||N===void 0?void 0:N.getSelectionEnd()},getScrollTop:()=>{var N;return(N=o.value)===null||N===void 0?void 0:N.getScrollTop()}});const z=N=>{n("mousedown",N)},V=N=>{n("paste",N)},U=ge(()=>e.style&&typeof e.style!="string"?g_e(e.style):e.style);return()=>{const N=v_e(e,["style","lazy"]);return ne(m_e,Ct(Ct(Ct({},N),r),{},{style:U.value,onInput:g,onChange:c,onBlur:y,onFocus:v,ref:o,value:s.value,onCompositionstart:h,onCompositionend:d,onKeyup:A,onKeydown:I,onPaste:V,onMousedown:z}),null)}}}),__e={inputRef:ft.any,prefixCls:String,id:String,inputElement:ft.VueNode,disabled:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,editable:{type:Boolean,default:void 0},activeDescendantId:String,value:String,open:{type:Boolean,default:void 0},tabindex:ft.oneOfType([ft.number,ft.string]),attrs:ft.object,onKeydown:{type:Function},onMousedown:{type:Function},onChange:{type:Function},onPaste:{type:Function},onCompositionstart:{type:Function},onCompositionend:{type:Function},onFocus:{type:Function},onBlur:{type:Function}},ZU=Pt({compatConfig:{MODE:3},name:"SelectInput",inheritAttrs:!1,props:__e,setup(e){let t=null;const n=Mn("VCSelectContainerEvent");return()=>{var r;const{prefixCls:i,id:o,inputElement:s,disabled:a,tabindex:c,autofocus:h,autocomplete:d,editable:g,activeDescendantId:y,value:v,onKeydown:x,onMousedown:C,onChange:I,onPaste:A,onCompositionstart:k,onCompositionend:R,onFocus:z,onBlur:V,open:U,inputRef:N,attrs:W}=e;let X=s||ne(y_e,null,null);const K=X.props||{},{onKeydown:te,onInput:ae,onFocus:me,onBlur:we,onMousedown:se,onCompositionstart:ue,onCompositionend:Te,style:Be}=K;return X=Oa(X,ee(ee(ee(ee(ee({type:"search"},K),{id:o,ref:N,disabled:a,tabindex:c,lazy:!1,autocomplete:d||"off",autofocus:h,class:an(`${i}-selection-search-input`,(r=X==null?void 0:X.props)===null||r===void 0?void 0:r.class),role:"combobox","aria-expanded":U,"aria-haspopup":"listbox","aria-owns":`${o}_list`,"aria-autocomplete":"list","aria-controls":`${o}_list`,"aria-activedescendant":y}),W),{value:g?v:"",readonly:!g,unselectable:g?null:"on",style:ee(ee({},Be),{opacity:g?null:0}),onKeydown:ke=>{x(ke),te&&te(ke)},onMousedown:ke=>{C(ke),se&&se(ke)},onInput:ke=>{I(ke),ae&&ae(ke)},onCompositionstart(ke){k(ke),ue&&ue(ke)},onCompositionend(ke){R(ke),Te&&Te(ke)},onPaste:A,onFocus:function(){clearTimeout(t),me&&me(arguments.length<=0?void 0:arguments[0]),z&&z(arguments.length<=0?void 0:arguments[0]),n==null||n.focus(arguments.length<=0?void 0:arguments[0])},onBlur:function(){for(var ke=arguments.length,rt=new Array(ke),ot=0;ot<ke;ot++)rt[ot]=arguments[ot];t=setTimeout(()=>{we&&we(rt[0]),V&&V(rt[0]),n==null||n.blur(rt[0])},100)}}),X.type==="textarea"?{}:{type:"search"}),!0,!0),X}}}),b_e=`accept acceptcharset accesskey action allowfullscreen allowtransparency
alt async autocomplete autofocus autoplay capture cellpadding cellspacing challenge
charset checked classid classname colspan cols content contenteditable contextmenu
controls coords crossorigin data datetime default defer dir disabled download draggable
enctype form formaction formenctype formmethod formnovalidate formtarget frameborder
headers height hidden high href hreflang htmlfor for httpequiv icon id inputmode integrity
is keyparams keytype kind label lang list loop low manifest marginheight marginwidth max maxlength media
mediagroup method min minlength multiple muted name novalidate nonce open
optimum pattern placeholder poster preload radiogroup readonly rel required
reversed role rowspan rows sandbox scope scoped scrolling seamless selected
shape size sizes span spellcheck src srcdoc srclang srcset start step style
summary tabindex target title type usemap value width wmode wrap`,x_e=`onCopy onCut onPaste onCompositionend onCompositionstart onCompositionupdate onKeydown
    onKeypress onKeyup onFocus onBlur onChange onInput onSubmit onClick onContextmenu onDoubleclick onDblclick
    onDrag onDragend onDragenter onDragexit onDragleave onDragover onDragstart onDrop onMousedown
    onMouseenter onMouseleave onMousemove onMouseout onMouseover onMouseup onSelect onTouchcancel
    onTouchend onTouchmove onTouchstart onTouchstartPassive onTouchmovePassive onScroll onWheel onAbort onCanplay onCanplaythrough
    onDurationchange onEmptied onEncrypted onEnded onError onLoadeddata onLoadedmetadata
    onLoadstart onPause onPlay onPlaying onProgress onRatechange onSeeked onSeeking onStalled onSuspend onTimeupdate onVolumechange onWaiting onLoad onError`,P4=`${b_e} ${x_e}`.split(/[\s\n]+/),w_e="aria-",S_e="data-";function E4(e,t){return e.indexOf(t)===0}function $k(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;t===!1?n={aria:!0,data:!0,attr:!0}:t===!0?n={aria:!0}:n=ee({},t);const r={};return Object.keys(e).forEach(i=>{(n.aria&&(i==="role"||E4(i,w_e))||n.data&&E4(i,S_e)||n.attr&&(P4.includes(i)||P4.includes(i.toLowerCase())))&&(r[i]=e[i])}),r}const qU=Symbol("OverflowContextProviderKey"),RM=Pt({compatConfig:{MODE:3},name:"OverflowContextProvider",inheritAttrs:!1,props:{value:{type:Object}},setup(e,t){let{slots:n}=t;return fr(qU,ge(()=>e.value)),()=>{var r;return(r=n.default)===null||r===void 0?void 0:r.call(n)}}}),C_e=()=>Mn(qU,ge(()=>null));var T_e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Xp=void 0,vw=Pt({compatConfig:{MODE:3},name:"Item",props:{prefixCls:String,item:ft.any,renderItem:Function,responsive:Boolean,itemKey:{type:[String,Number]},registerSize:Function,display:Boolean,order:Number,component:ft.any,invalidate:Boolean},setup(e,t){let{slots:n,expose:r}=t;const i=ge(()=>e.responsive&&!e.display),o=Ot();r({itemNodeRef:o});function s(a){e.registerSize(e.itemKey,a)}return eu(()=>{s(null)}),()=>{var a;const{prefixCls:c,invalidate:h,item:d,renderItem:g,responsive:y,registerSize:v,itemKey:x,display:C,order:I,component:A="div"}=e,k=T_e(e,["prefixCls","invalidate","item","renderItem","responsive","registerSize","itemKey","display","order","component"]),R=(a=n.default)===null||a===void 0?void 0:a.call(n),z=g&&d!==Xp?g(d):R;let V;h||(V={opacity:i.value?0:1,height:i.value?0:Xp,overflowY:i.value?"hidden":Xp,order:y?I:Xp,pointerEvents:i.value?"none":Xp,position:i.value?"absolute":Xp});const U={};return i.value&&(U["aria-hidden"]=!0),ne(g0,{disabled:!y,onResize:N=>{let{offsetWidth:W}=N;s(W)}},{default:()=>ne(A,Ct(Ct(Ct({class:an(!h&&c),style:V},U),k),{},{ref:o}),{default:()=>[z]})})}}});var LP=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const P_e=Pt({compatConfig:{MODE:3},name:"RawItem",inheritAttrs:!1,props:{component:ft.any,title:ft.any,id:String,onMouseenter:{type:Function},onMouseleave:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},role:String,tabindex:Number},setup(e,t){let{slots:n,attrs:r}=t;const i=C_e();return()=>{var o;if(!i.value){const{component:g="div"}=e,y=LP(e,["component"]);return ne(g,Ct(Ct({},y),r),{default:()=>[(o=n.default)===null||o===void 0?void 0:o.call(n)]})}const s=i.value,{className:a}=s,c=LP(s,["className"]),{class:h}=r,d=LP(r,["class"]);return ne(RM,{value:null},{default:()=>[ne(vw,Ct(Ct(Ct({class:an(a,h)},c),d),e),n)]})}}});var E_e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const KU="responsive",XU="invalidate";function I_e(e){return`+ ${e.length} ...`}const M_e=()=>({id:String,prefixCls:String,data:Array,itemKey:[String,Number,Function],itemWidth:{type:Number,default:10},renderItem:Function,renderRawItem:Function,maxCount:[Number,String],renderRest:Function,renderRawRest:Function,suffix:ft.any,component:String,itemComponent:ft.any,onVisibleChange:Function,ssr:String,onMousedown:Function,role:String}),Ju=Pt({name:"Overflow",inheritAttrs:!1,props:M_e(),emits:["visibleChange"],setup(e,t){let{attrs:n,emit:r,slots:i}=t;const o=ge(()=>e.ssr==="full"),s=Et(null),a=ge(()=>s.value||0),c=Et(new Map),h=Et(0),d=Et(0),g=Et(0),y=Et(null),v=Et(null),x=ge(()=>v.value===null&&o.value?Number.MAX_SAFE_INTEGER:v.value||0),C=Et(!1),I=ge(()=>`${e.prefixCls}-item`),A=ge(()=>Math.max(h.value,d.value)),k=ge(()=>!!(e.data.length&&e.maxCount===KU)),R=ge(()=>e.maxCount===XU),z=ge(()=>k.value||typeof e.maxCount=="number"&&e.data.length>e.maxCount),V=ge(()=>{let se=e.data;return k.value?s.value===null&&o.value?se=e.data:se=e.data.slice(0,Math.min(e.data.length,a.value/e.itemWidth)):typeof e.maxCount=="number"&&(se=e.data.slice(0,e.maxCount)),se}),U=ge(()=>k.value?e.data.slice(x.value+1):e.data.slice(V.value.length)),N=(se,ue)=>{var Te;return typeof e.itemKey=="function"?e.itemKey(se):(Te=e.itemKey&&(se==null?void 0:se[e.itemKey]))!==null&&Te!==void 0?Te:ue},W=ge(()=>e.renderItem||(se=>se)),X=(se,ue)=>{v.value=se,ue||(C.value=se<e.data.length-1,r("visibleChange",se))},K=(se,ue)=>{s.value=ue.clientWidth},te=(se,ue)=>{const Te=new Map(c.value);ue===null?Te.delete(se):Te.set(se,ue),c.value=Te},ae=(se,ue)=>{h.value=d.value,d.value=ue},me=(se,ue)=>{g.value=ue},we=se=>c.value.get(N(V.value[se],se));return qt([a,c,d,g,()=>e.itemKey,V],()=>{if(a.value&&A.value&&V.value){let se=g.value;const ue=V.value.length,Te=ue-1;if(!ue){X(0),y.value=null;return}for(let Be=0;Be<ue;Be+=1){const ke=we(Be);if(ke===void 0){X(Be-1,!0);break}if(se+=ke,Te===0&&se<=a.value||Be===Te-1&&se+we(Te)<=a.value){X(Te),y.value=null;break}else if(se+A.value>a.value){X(Be-1),y.value=se-ke-g.value+d.value;break}}e.suffix&&we(0)+g.value>a.value&&(y.value=null)}}),()=>{const se=C.value&&!!U.value.length,{itemComponent:ue,renderRawItem:Te,renderRawRest:Be,renderRest:ke,prefixCls:rt="rc-overflow",suffix:ot,component:tt="div",id:It,onMousedown:Bt}=e,{class:Lt,style:Yt}=n,ze=E_e(n,["class","style"]);let ut={};y.value!==null&&k.value&&(ut={position:"absolute",left:`${y.value}px`,top:0});const Re={prefixCls:I.value,responsive:k.value,component:ue,invalidate:R.value},Ve=Te?(ye,Ze)=>{const ht=N(ye,Ze);return ne(RM,{key:ht,value:ee(ee({},Re),{order:Ze,item:ye,itemKey:ht,registerSize:te,display:Ze<=x.value})},{default:()=>[Te(ye,Ze)]})}:(ye,Ze)=>{const ht=N(ye,Ze);return ne(vw,Ct(Ct({},Re),{},{order:Ze,key:ht,item:ye,renderItem:W.value,itemKey:ht,registerSize:te,display:Ze<=x.value}),null)};let Le=()=>null;const Ye={order:se?x.value:Number.MAX_SAFE_INTEGER,className:`${I.value} ${I.value}-rest`,registerSize:ae,display:se};if(Be)Be&&(Le=()=>ne(RM,{value:ee(ee({},Re),Ye)},{default:()=>[Be(U.value)]}));else{const ye=ke||I_e;Le=()=>ne(vw,Ct(Ct({},Re),Ye),{default:()=>typeof ye=="function"?ye(U.value):ye})}const pe=()=>{var ye;return ne(tt,Ct({id:It,class:an(!R.value&&rt,Lt),style:Yt,onMousedown:Bt,role:e.role},ze),{default:()=>[V.value.map(Ve),z.value?Le():null,ot&&ne(vw,Ct(Ct({},Re),{},{order:x.value,class:`${I.value}-suffix`,registerSize:me,display:!0,style:ut}),{default:()=>ot}),(ye=i.default)===null||ye===void 0?void 0:ye.call(i)]})};return ne(g0,{disabled:!k.value,onResize:K},{default:pe})}}});Ju.Item=P_e;Ju.RESPONSIVE=KU;Ju.INVALIDATE=XU;const A_e=Symbol("TreeSelectLegacyContextPropsKey");function zk(){return Mn(A_e,{})}const D_e={id:String,prefixCls:String,values:ft.array,open:{type:Boolean,default:void 0},searchValue:String,inputRef:ft.any,placeholder:ft.any,disabled:{type:Boolean,default:void 0},mode:String,showSearch:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,activeDescendantId:String,tabindex:ft.oneOfType([ft.number,ft.string]),compositionStatus:Boolean,removeIcon:ft.any,choiceTransitionName:String,maxTagCount:ft.oneOfType([ft.number,ft.string]),maxTagTextLength:Number,maxTagPlaceholder:ft.any.def(()=>e=>`+ ${e.length} ...`),tagRender:Function,onToggleOpen:{type:Function},onRemove:Function,onInputChange:Function,onInputPaste:Function,onInputKeyDown:Function,onInputMouseDown:Function,onInputCompositionStart:Function,onInputCompositionEnd:Function},I4=e=>{e.preventDefault(),e.stopPropagation()},k_e=Pt({name:"MultipleSelectSelector",inheritAttrs:!1,props:D_e,setup(e){const t=Et(),n=Et(0),r=Et(!1),i=zk(),o=ge(()=>`${e.prefixCls}-selection`),s=ge(()=>e.open||e.mode==="tags"?e.searchValue:""),a=ge(()=>e.mode==="tags"||e.showSearch&&(e.open||r.value)),c=Ot("");Dr(()=>{c.value=s.value}),Nn(()=>{qt(c,()=>{n.value=t.value.scrollWidth},{flush:"post",immediate:!0})});function h(x,C,I,A,k){return ne("span",{class:an(`${o.value}-item`,{[`${o.value}-item-disabled`]:I}),title:typeof x=="string"||typeof x=="number"?x.toString():void 0},[ne("span",{class:`${o.value}-item-content`},[C]),A&&ne($f,{class:`${o.value}-item-remove`,onMousedown:I4,onClick:k,customizeIcon:e.removeIcon},{default:()=>[Wi("×")]})])}function d(x,C,I,A,k,R){var z;const V=N=>{I4(N),e.onToggleOpen(!open)};let U=R;return i.keyEntities&&(U=((z=i.keyEntities[x])===null||z===void 0?void 0:z.node)||{}),ne("span",{key:x,onMousedown:V},[e.tagRender({label:C,value:x,disabled:I,closable:A,onClose:k,option:U})])}function g(x){const{disabled:C,label:I,value:A,option:k}=x,R=!e.disabled&&!C;let z=I;if(typeof e.maxTagTextLength=="number"&&(typeof I=="string"||typeof I=="number")){const U=String(z);U.length>e.maxTagTextLength&&(z=`${U.slice(0,e.maxTagTextLength)}...`)}const V=U=>{var N;U&&U.stopPropagation(),(N=e.onRemove)===null||N===void 0||N.call(e,x)};return typeof e.tagRender=="function"?d(A,z,C,R,V,k):h(I,z,C,R,V)}function y(x){const{maxTagPlaceholder:C=A=>`+ ${A.length} ...`}=e,I=typeof C=="function"?C(x):C;return h(I,I,!1)}const v=x=>{const C=x.target.composing;c.value=x.target.value,C||e.onInputChange(x)};return()=>{const{id:x,prefixCls:C,values:I,open:A,inputRef:k,placeholder:R,disabled:z,autofocus:V,autocomplete:U,activeDescendantId:N,tabindex:W,compositionStatus:X,onInputPaste:K,onInputKeyDown:te,onInputMouseDown:ae,onInputCompositionStart:me,onInputCompositionEnd:we}=e,se=ne("div",{class:`${o.value}-search`,style:{width:n.value+"px"},key:"input"},[ne(ZU,{inputRef:k,open:A,prefixCls:C,id:x,inputElement:null,disabled:z,autofocus:V,autocomplete:U,editable:a.value,activeDescendantId:N,value:c.value,onKeydown:te,onMousedown:ae,onChange:v,onPaste:K,onCompositionstart:me,onCompositionend:we,tabindex:W,attrs:$k(e,!0),onFocus:()=>r.value=!0,onBlur:()=>r.value=!1},null),ne("span",{ref:t,class:`${o.value}-search-mirror`,"aria-hidden":!0},[c.value,Wi(" ")])]),ue=ne(Ju,{prefixCls:`${o.value}-overflow`,data:I,renderItem:g,renderRest:y,suffix:se,itemKey:"key",maxCount:e.maxTagCount,key:"overflow"},null);return ne(vn,null,[ue,!I.length&&!s.value&&!X&&ne("span",{class:`${o.value}-placeholder`},[R])])}}}),O_e={inputElement:ft.any,id:String,prefixCls:String,values:ft.array,open:{type:Boolean,default:void 0},searchValue:String,inputRef:ft.any,placeholder:ft.any,compositionStatus:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},mode:String,showSearch:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,activeDescendantId:String,tabindex:ft.oneOfType([ft.number,ft.string]),activeValue:String,backfill:{type:Boolean,default:void 0},optionLabelRender:Function,onInputChange:Function,onInputPaste:Function,onInputKeyDown:Function,onInputMouseDown:Function,onInputCompositionStart:Function,onInputCompositionEnd:Function},Bk=Pt({name:"SingleSelector",setup(e){const t=Et(!1),n=ge(()=>e.mode==="combobox"),r=ge(()=>n.value||e.showSearch),i=ge(()=>{let d=e.searchValue||"";return n.value&&e.activeValue&&!t.value&&(d=e.activeValue),d}),o=zk();qt([n,()=>e.activeValue],()=>{n.value&&(t.value=!1)},{immediate:!0});const s=ge(()=>e.mode!=="combobox"&&!e.open&&!e.showSearch?!1:!!i.value||e.compositionStatus),a=ge(()=>{const d=e.values[0];return d&&(typeof d.label=="string"||typeof d.label=="number")?d.label.toString():void 0}),c=()=>{if(e.values[0])return null;const d=s.value?{visibility:"hidden"}:void 0;return ne("span",{class:`${e.prefixCls}-selection-placeholder`,style:d},[e.placeholder])},h=d=>{d.target.composing||(t.value=!0,e.onInputChange(d))};return()=>{var d,g,y,v;const{inputElement:x,prefixCls:C,id:I,values:A,inputRef:k,disabled:R,autofocus:z,autocomplete:V,activeDescendantId:U,open:N,tabindex:W,optionLabelRender:X,onInputKeyDown:K,onInputMouseDown:te,onInputPaste:ae,onInputCompositionStart:me,onInputCompositionEnd:we}=e,se=A[0];let ue=null;if(se&&o.customSlots){const Te=(d=se.key)!==null&&d!==void 0?d:se.value,Be=((g=o.keyEntities[Te])===null||g===void 0?void 0:g.node)||{};ue=o.customSlots[(y=Be.slots)===null||y===void 0?void 0:y.title]||o.customSlots.title||se.label,typeof ue=="function"&&(ue=ue(Be))}else ue=X&&se?X(se.option):se==null?void 0:se.label;return ne(vn,null,[ne("span",{class:`${C}-selection-search`},[ne(ZU,{inputRef:k,prefixCls:C,id:I,open:N,inputElement:x,disabled:R,autofocus:z,autocomplete:V,editable:r.value,activeDescendantId:U,value:i.value,onKeydown:K,onMousedown:te,onChange:h,onPaste:ae,onCompositionstart:me,onCompositionend:we,tabindex:W,attrs:$k(e,!0)},null)]),!n.value&&se&&!s.value&&ne("span",{class:`${C}-selection-item`,title:a.value},[ne(vn,{key:(v=se.key)!==null&&v!==void 0?v:se.value},[ue])]),c()])}}});Bk.props=O_e;Bk.inheritAttrs=!1;function R_e(e){return![Ht.ESC,Ht.SHIFT,Ht.BACKSPACE,Ht.TAB,Ht.WIN_KEY,Ht.ALT,Ht.META,Ht.WIN_KEY_RIGHT,Ht.CTRL,Ht.SEMICOLON,Ht.EQUALS,Ht.CAPS_LOCK,Ht.CONTEXT_MENU,Ht.F1,Ht.F2,Ht.F3,Ht.F4,Ht.F5,Ht.F6,Ht.F7,Ht.F8,Ht.F9,Ht.F10,Ht.F11,Ht.F12].includes(e)}function YU(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,t=null,n;ii(()=>{clearTimeout(n)});function r(i){(i||t===null)&&(t=i),clearTimeout(n),n=setTimeout(()=>{t=null},e)}return[()=>t,r]}function E0(){const e=t=>{e.current=t};return e}const L_e=Pt({name:"Selector",inheritAttrs:!1,props:{id:String,prefixCls:String,showSearch:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},values:ft.array,multiple:{type:Boolean,default:void 0},mode:String,searchValue:String,activeValue:String,inputElement:ft.any,autofocus:{type:Boolean,default:void 0},activeDescendantId:String,tabindex:ft.oneOfType([ft.number,ft.string]),disabled:{type:Boolean,default:void 0},placeholder:ft.any,removeIcon:ft.any,maxTagCount:ft.oneOfType([ft.number,ft.string]),maxTagTextLength:Number,maxTagPlaceholder:ft.any,tagRender:Function,optionLabelRender:Function,tokenWithEnter:{type:Boolean,default:void 0},choiceTransitionName:String,onToggleOpen:{type:Function},onSearch:Function,onSearchSubmit:Function,onRemove:Function,onInputKeyDown:{type:Function},domRef:Function},setup(e,t){let{expose:n}=t;const r=E0(),i=Ot(!1),[o,s]=YU(0),a=A=>{const{which:k}=A;(k===Ht.UP||k===Ht.DOWN)&&A.preventDefault(),e.onInputKeyDown&&e.onInputKeyDown(A),k===Ht.ENTER&&e.mode==="tags"&&!i.value&&!e.open&&e.onSearchSubmit(A.target.value),R_e(k)&&e.onToggleOpen(!0)},c=()=>{s(!0)};let h=null;const d=A=>{e.onSearch(A,!0,i.value)!==!1&&e.onToggleOpen(!0)},g=()=>{i.value=!0},y=A=>{i.value=!1,e.mode!=="combobox"&&d(A.target.value)},v=A=>{let{target:{value:k}}=A;if(e.tokenWithEnter&&h&&/[\r\n]/.test(h)){const R=h.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");k=k.replace(R,h)}h=null,d(k)},x=A=>{const{clipboardData:k}=A;h=k.getData("text")},C=A=>{let{target:k}=A;k!==r.current&&(document.body.style.msTouchAction!==void 0?setTimeout(()=>{r.current.focus()}):r.current.focus())},I=A=>{const k=o();A.target!==r.current&&!k&&A.preventDefault(),(e.mode!=="combobox"&&(!e.showSearch||!k)||!e.open)&&(e.open&&e.onSearch("",!0,!1),e.onToggleOpen())};return n({focus:()=>{r.current.focus()},blur:()=>{r.current.blur()}}),()=>{const{prefixCls:A,domRef:k,mode:R}=e,z={inputRef:r,onInputKeyDown:a,onInputMouseDown:c,onInputChange:v,onInputPaste:x,compositionStatus:i.value,onInputCompositionStart:g,onInputCompositionEnd:y},V=R==="multiple"||R==="tags"?ne(k_e,Ct(Ct({},e),z),null):ne(Bk,Ct(Ct({},e),z),null);return ne("div",{ref:k,class:`${A}-selector`,onClick:C,onMousedown:I},[V])}}});function $_e(e,t,n){function r(i){var o,s,a;let c=i.target;c.shadowRoot&&i.composed&&(c=i.composedPath()[0]||c);const h=[(o=e[0])===null||o===void 0?void 0:o.value,(a=(s=e[1])===null||s===void 0?void 0:s.value)===null||a===void 0?void 0:a.getPopupElement()];t.value&&h.every(d=>d&&!d.contains(c)&&d!==c)&&n(!1)}Nn(()=>{window.addEventListener("mousedown",r)}),ii(()=>{window.removeEventListener("mousedown",r)})}function z_e(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10;const t=Et(!1);let n;const r=()=>{clearTimeout(n)};return Nn(()=>{r()}),[t,(o,s)=>{r(),n=setTimeout(()=>{t.value=o,s&&s()},e)},r]}const JU=Symbol("BaseSelectContextKey");function B_e(e){return fr(JU,e)}function F_e(){return Mn(JU,{})}const QU=()=>{if(typeof navigator>"u"||typeof window>"u")return!1;const e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substring(0,4))};function eG(e){if(!zi(e))return Gi(e);const t=new Proxy({},{get(n,r,i){return Reflect.get(e.value,r,i)},set(n,r,i){return e.value[r]=i,!0},deleteProperty(n,r){return Reflect.deleteProperty(e.value,r)},has(n,r){return Reflect.has(e.value,r)},ownKeys(){return Object.keys(e.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return Gi(t)}var N_e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const V_e=["value","onChange","removeIcon","placeholder","autofocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabindex","OptionList","notFoundContent"],j_e=()=>({prefixCls:String,id:String,omitDomProps:Array,displayValues:Array,onDisplayValuesChange:Function,activeValue:String,activeDescendantId:String,onActiveValueChange:Function,searchValue:String,onSearch:Function,onSearchSplit:Function,maxLength:Number,OptionList:ft.any,emptyOptions:Boolean}),tG=()=>({showSearch:{type:Boolean,default:void 0},tagRender:{type:Function},optionLabelRender:{type:Function},direction:{type:String},tabindex:Number,autofocus:Boolean,notFoundContent:ft.any,placeholder:ft.any,onClear:Function,choiceTransitionName:String,mode:String,disabled:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:void 0},onDropdownVisibleChange:{type:Function},getInputElement:{type:Function},getRawInputElement:{type:Function},maxTagTextLength:Number,maxTagCount:{type:[String,Number]},maxTagPlaceholder:ft.any,tokenSeparators:{type:Array},allowClear:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:void 0},inputIcon:ft.any,clearIcon:ft.any,removeIcon:ft.any,animation:String,transitionName:String,dropdownStyle:{type:Object},dropdownClassName:String,dropdownMatchSelectWidth:{type:[Boolean,Number],default:void 0},dropdownRender:{type:Function},dropdownAlign:Object,placement:{type:String},getPopupContainer:{type:Function},showAction:{type:Array},onBlur:{type:Function},onFocus:{type:Function},onKeyup:Function,onKeydown:Function,onMousedown:Function,onPopupScroll:Function,onInputKeyDown:Function,onMouseenter:Function,onMouseleave:Function,onClick:Function}),H_e=()=>ee(ee({},j_e()),tG());function nG(e){return e==="tags"||e==="multiple"}const U_e=Pt({compatConfig:{MODE:3},name:"BaseSelect",inheritAttrs:!1,props:xa(H_e(),{showAction:[],notFoundContent:"Not Found"}),setup(e,t){let{attrs:n,expose:r,slots:i}=t;const o=ge(()=>nG(e.mode)),s=ge(()=>e.showSearch!==void 0?e.showSearch:o.value||e.mode==="combobox"),a=Et(!1);Nn(()=>{a.value=QU()});const c=zk(),h=Et(null),d=E0(),g=Et(null),y=Et(null),v=Et(null),x=Ot(!1),[C,I,A]=z_e();r({focus:()=>{var Ve;(Ve=y.value)===null||Ve===void 0||Ve.focus()},blur:()=>{var Ve;(Ve=y.value)===null||Ve===void 0||Ve.blur()},scrollTo:Ve=>{var Le;return(Le=v.value)===null||Le===void 0?void 0:Le.scrollTo(Ve)}});const z=ge(()=>{var Ve;if(e.mode!=="combobox")return e.searchValue;const Le=(Ve=e.displayValues[0])===null||Ve===void 0?void 0:Ve.value;return typeof Le=="string"||typeof Le=="number"?String(Le):""}),V=e.open!==void 0?e.open:e.defaultOpen,U=Et(V),N=Et(V),W=Ve=>{U.value=e.open!==void 0?e.open:Ve,N.value=U.value};qt(()=>e.open,()=>{W(e.open)});const X=ge(()=>!e.notFoundContent&&e.emptyOptions);Dr(()=>{N.value=U.value,(e.disabled||X.value&&N.value&&e.mode==="combobox")&&(N.value=!1)});const K=ge(()=>X.value?!1:N.value),te=Ve=>{const Le=Ve!==void 0?Ve:!N.value;N.value!==Le&&!e.disabled&&(W(Le),e.onDropdownVisibleChange&&e.onDropdownVisibleChange(Le),!Le&&tt.value&&(tt.value=!1,I(!1,()=>{rt.value=!1,x.value=!1})))},ae=ge(()=>(e.tokenSeparators||[]).some(Ve=>[`
`,`\r
`].includes(Ve))),me=(Ve,Le,Ye)=>{var pe,ye;let Ze=!0,ht=Ve;(pe=e.onActiveValueChange)===null||pe===void 0||pe.call(e,null);const st=Ye?null:Ame(Ve,e.tokenSeparators);return e.mode!=="combobox"&&st&&(ht="",(ye=e.onSearchSplit)===null||ye===void 0||ye.call(e,st),te(!1),Ze=!1),e.onSearch&&z.value!==ht&&e.onSearch(ht,{source:Le?"typing":"effect"}),Ze},we=Ve=>{var Le;!Ve||!Ve.trim()||(Le=e.onSearch)===null||Le===void 0||Le.call(e,Ve,{source:"submit"})};qt(N,()=>{!N.value&&!o.value&&e.mode!=="combobox"&&me("",!1,!1)},{immediate:!0,flush:"post"}),qt(()=>e.disabled,()=>{U.value&&e.disabled&&W(!1),e.disabled&&!x.value&&I(!1)},{immediate:!0});const[se,ue]=YU(),Te=function(Ve){var Le;const Ye=se(),{which:pe}=Ve;if(pe===Ht.ENTER&&(e.mode!=="combobox"&&Ve.preventDefault(),N.value||te(!0)),ue(!!z.value),pe===Ht.BACKSPACE&&!Ye&&o.value&&!z.value&&e.displayValues.length){const st=[...e.displayValues];let Xe=null;for(let Qe=st.length-1;Qe>=0;Qe-=1){const lt=st[Qe];if(!lt.disabled){st.splice(Qe,1),Xe=lt;break}}Xe&&e.onDisplayValuesChange(st,{type:"remove",values:[Xe]})}for(var ye=arguments.length,Ze=new Array(ye>1?ye-1:0),ht=1;ht<ye;ht++)Ze[ht-1]=arguments[ht];N.value&&v.value&&v.value.onKeydown(Ve,...Ze),(Le=e.onKeydown)===null||Le===void 0||Le.call(e,Ve,...Ze)},Be=function(Ve){for(var Le=arguments.length,Ye=new Array(Le>1?Le-1:0),pe=1;pe<Le;pe++)Ye[pe-1]=arguments[pe];N.value&&v.value&&v.value.onKeyup(Ve,...Ye),e.onKeyup&&e.onKeyup(Ve,...Ye)},ke=Ve=>{const Le=e.displayValues.filter(Ye=>Ye!==Ve);e.onDisplayValuesChange(Le,{type:"remove",values:[Ve]})},rt=Et(!1),ot=function(){I(!0),e.disabled||(e.onFocus&&!rt.value&&e.onFocus(...arguments),e.showAction&&e.showAction.includes("focus")&&te(!0)),rt.value=!0},tt=Ot(!1),It=function(){if(tt.value||(x.value=!0,I(!1,()=>{rt.value=!1,x.value=!1,te(!1)}),e.disabled))return;const Ve=z.value;Ve&&(e.mode==="tags"?e.onSearch(Ve,{source:"submit"}):e.mode==="multiple"&&e.onSearch("",{source:"blur"})),e.onBlur&&e.onBlur(...arguments)},Bt=()=>{tt.value=!0},Lt=()=>{tt.value=!1};fr("VCSelectContainerEvent",{focus:ot,blur:It});const Yt=[];Nn(()=>{Yt.forEach(Ve=>clearTimeout(Ve)),Yt.splice(0,Yt.length)}),ii(()=>{Yt.forEach(Ve=>clearTimeout(Ve)),Yt.splice(0,Yt.length)});const ze=function(Ve){var Le,Ye;const{target:pe}=Ve,ye=(Le=g.value)===null||Le===void 0?void 0:Le.getPopupElement();if(ye&&ye.contains(pe)){const Xe=setTimeout(()=>{var Qe;const lt=Yt.indexOf(Xe);lt!==-1&&Yt.splice(lt,1),A(),!a.value&&!ye.contains(document.activeElement)&&((Qe=y.value)===null||Qe===void 0||Qe.focus())});Yt.push(Xe)}for(var Ze=arguments.length,ht=new Array(Ze>1?Ze-1:0),st=1;st<Ze;st++)ht[st-1]=arguments[st];(Ye=e.onMousedown)===null||Ye===void 0||Ye.call(e,Ve,...ht)},ut=Et(null),Re=()=>{};return Nn(()=>{qt(K,()=>{var Ve;if(K.value){const Le=Math.ceil((Ve=h.value)===null||Ve===void 0?void 0:Ve.offsetWidth);ut.value!==Le&&!Number.isNaN(Le)&&(ut.value=Le)}},{immediate:!0,flush:"post"})}),$_e([h,g],K,te),B_e(eG(ee(ee({},Q0(e)),{open:N,triggerOpen:K,showSearch:s,multiple:o,toggleOpen:te}))),()=>{const Ve=ee(ee({},e),n),{prefixCls:Le,id:Ye,open:pe,defaultOpen:ye,mode:Ze,showSearch:ht,searchValue:st,onSearch:Xe,allowClear:Qe,clearIcon:lt,showArrow:St,inputIcon:Tt,disabled:Wt,loading:Ft,getInputElement:Qt,getPopupContainer:sn,placement:xn,animation:En,transitionName:bn,dropdownStyle:Xn,dropdownClassName:tr,dropdownMatchSelectWidth:Zr,dropdownRender:Vr,dropdownAlign:Pi,showAction:xe,direction:le,tokenSeparators:fe,tagRender:ve,optionLabelRender:Me,onPopupScroll:je,onDropdownVisibleChange:Ke,onFocus:at,onBlur:qe,onKeyup:gt,onKeydown:dt,onMousedown:Je,onClear:Ge,omitDomProps:Nt,getRawInputElement:Vt,displayValues:dn,onDisplayValuesChange:wn,emptyOptions:yt,activeDescendantId:Gt,activeValue:nn,OptionList:kn}=Ve,qn=N_e(Ve,["prefixCls","id","open","defaultOpen","mode","showSearch","searchValue","onSearch","allowClear","clearIcon","showArrow","inputIcon","disabled","loading","getInputElement","getPopupContainer","placement","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","showAction","direction","tokenSeparators","tagRender","optionLabelRender","onPopupScroll","onDropdownVisibleChange","onFocus","onBlur","onKeyup","onKeydown","onMousedown","onClear","omitDomProps","getRawInputElement","displayValues","onDisplayValuesChange","emptyOptions","activeDescendantId","activeValue","OptionList"]),mn=Ze==="combobox"&&Qt&&Qt()||null,Jt=typeof Vt=="function"&&Vt(),Ir=ee({},qn);let za;Jt&&(za=_o=>{te(_o)}),V_e.forEach(_o=>{delete Ir[_o]}),Nt==null||Nt.forEach(_o=>{delete Ir[_o]});const di=St!==void 0?St:Ft||!o.value&&Ze!=="combobox";let oi;di&&(oi=ne($f,{class:an(`${Le}-arrow`,{[`${Le}-arrow-loading`]:Ft}),customizeIcon:Tt,customizeIconProps:{loading:Ft,searchValue:z.value,open:N.value,focused:C.value,showSearch:s.value}},null));let _r;const yo=()=>{Ge==null||Ge(),wn([],{type:"clear",values:dn}),me("",!1,!1)};!Wt&&Qe&&(dn.length||z.value)&&(_r=ne($f,{class:`${Le}-clear`,onMousedown:yo,customizeIcon:lt},{default:()=>[Wi("×")]}));const Mr=ne(kn,{ref:v},ee(ee({},c.customSlots),{option:i.option})),au=an(Le,n.class,{[`${Le}-focused`]:C.value,[`${Le}-multiple`]:o.value,[`${Le}-single`]:!o.value,[`${Le}-allow-clear`]:Qe,[`${Le}-show-arrow`]:di,[`${Le}-disabled`]:Wt,[`${Le}-loading`]:Ft,[`${Le}-open`]:N.value,[`${Le}-customize-input`]:mn,[`${Le}-show-search`]:s.value}),Ws=ne(f_e,{ref:g,disabled:Wt,prefixCls:Le,visible:K.value,popupElement:Mr,containerWidth:ut.value,animation:En,transitionName:bn,dropdownStyle:Xn,dropdownClassName:tr,direction:le,dropdownMatchSelectWidth:Zr,dropdownRender:Vr,dropdownAlign:Pi,placement:xn,getPopupContainer:sn,empty:yt,getTriggerDOMNode:()=>d.current,onPopupVisibleChange:za,onPopupMouseEnter:Re,onPopupFocusin:Bt,onPopupFocusout:Lt},{default:()=>Jt?Oh(Jt)&&Oa(Jt,{ref:d},!1,!0):ne(L_e,Ct(Ct({},e),{},{domRef:d,prefixCls:Le,inputElement:mn,ref:y,id:Ye,showSearch:s.value,mode:Ze,activeDescendantId:Gt,tagRender:ve,optionLabelRender:Me,values:dn,open:N.value,onToggleOpen:te,activeValue:nn,searchValue:z.value,onSearch:me,onSearchSubmit:we,onRemove:ke,tokenWithEnter:ae.value}),null)});let su;return Jt?su=Ws:su=ne("div",Ct(Ct({},Ir),{},{class:au,ref:h,onMousedown:ze,onKeydown:Te,onKeyup:Be}),[C.value&&!N.value&&ne("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},[`${dn.map(_o=>{let{label:cs,value:ep}=_o;return["number","string"].includes(typeof cs)?cs:ep}).join(", ")}`]),Ws,oi,_r]),su}}}),z2=(e,t)=>{let{height:n,offset:r,prefixCls:i,onInnerResize:o}=e,{slots:s}=t;var a;let c={},h={display:"flex",flexDirection:"column"};return r!==void 0&&(c={height:`${n}px`,position:"relative",overflow:"hidden"},h=ee(ee({},h),{transform:`translateY(${r}px)`,position:"absolute",left:0,right:0,top:0})),ne("div",{style:c},[ne(g0,{onResize:d=>{let{offsetHeight:g}=d;g&&o&&o()}},{default:()=>[ne("div",{style:h,class:an({[`${i}-holder-inner`]:i})},[(a=s.default)===null||a===void 0?void 0:a.call(s)])]})])};z2.displayName="Filter";z2.inheritAttrs=!1;z2.props={prefixCls:String,height:Number,offset:Number,onInnerResize:Function};const rG=(e,t)=>{let{setRef:n}=e,{slots:r}=t;var i;const o=ao((i=r.default)===null||i===void 0?void 0:i.call(r));return o.length?os(o[0],{ref:n}):o};rG.props={setRef:{type:Function,default:()=>{}}};const G_e=20;function M4(e){return"touches"in e?e.touches[0].pageY:e.pageY}const W_e=Pt({compatConfig:{MODE:3},name:"ScrollBar",inheritAttrs:!1,props:{prefixCls:String,scrollTop:Number,scrollHeight:Number,height:Number,count:Number,onScroll:{type:Function},onStartMove:{type:Function},onStopMove:{type:Function}},setup(){return{moveRaf:null,scrollbarRef:E0(),thumbRef:E0(),visibleTimeout:null,state:Gi({dragging:!1,pageY:null,startTop:null,visible:!1})}},watch:{scrollTop:{handler(){this.delayHidden()},flush:"post"}},mounted(){var e,t;(e=this.scrollbarRef.current)===null||e===void 0||e.addEventListener("touchstart",this.onScrollbarTouchStart,fa?{passive:!1}:!1),(t=this.thumbRef.current)===null||t===void 0||t.addEventListener("touchstart",this.onMouseDown,fa?{passive:!1}:!1)},beforeUnmount(){this.removeEvents(),clearTimeout(this.visibleTimeout)},methods:{delayHidden(){clearTimeout(this.visibleTimeout),this.state.visible=!0,this.visibleTimeout=setTimeout(()=>{this.state.visible=!1},2e3)},onScrollbarTouchStart(e){e.preventDefault()},onContainerMouseDown(e){e.stopPropagation(),e.preventDefault()},patchEvents(){window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp),this.thumbRef.current.addEventListener("touchmove",this.onMouseMove,fa?{passive:!1}:!1),this.thumbRef.current.addEventListener("touchend",this.onMouseUp)},removeEvents(){window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),this.scrollbarRef.current.removeEventListener("touchstart",this.onScrollbarTouchStart,fa?{passive:!1}:!1),this.thumbRef.current&&(this.thumbRef.current.removeEventListener("touchstart",this.onMouseDown,fa?{passive:!1}:!1),this.thumbRef.current.removeEventListener("touchmove",this.onMouseMove,fa?{passive:!1}:!1),this.thumbRef.current.removeEventListener("touchend",this.onMouseUp)),Tr.cancel(this.moveRaf)},onMouseDown(e){const{onStartMove:t}=this.$props;ee(this.state,{dragging:!0,pageY:M4(e),startTop:this.getTop()}),t(),this.patchEvents(),e.stopPropagation(),e.preventDefault()},onMouseMove(e){const{dragging:t,pageY:n,startTop:r}=this.state,{onScroll:i}=this.$props;if(Tr.cancel(this.moveRaf),t){const o=M4(e)-n,s=r+o,a=this.getEnableScrollRange(),c=this.getEnableHeightRange(),h=c?s/c:0,d=Math.ceil(h*a);this.moveRaf=Tr(()=>{i(d)})}},onMouseUp(){const{onStopMove:e}=this.$props;this.state.dragging=!1,e(),this.removeEvents()},getSpinHeight(){const{height:e,scrollHeight:t}=this.$props;let n=e/t*100;return n=Math.max(n,G_e),n=Math.min(n,e/2),Math.floor(n)},getEnableScrollRange(){const{scrollHeight:e,height:t}=this.$props;return e-t||0},getEnableHeightRange(){const{height:e}=this.$props,t=this.getSpinHeight();return e-t||0},getTop(){const{scrollTop:e}=this.$props,t=this.getEnableScrollRange(),n=this.getEnableHeightRange();return e===0||t===0?0:e/t*n},showScroll(){const{height:e,scrollHeight:t}=this.$props;return t>e}},render(){const{dragging:e,visible:t}=this.state,{prefixCls:n}=this.$props,r=this.getSpinHeight()+"px",i=this.getTop()+"px",o=this.showScroll(),s=o&&t;return ne("div",{ref:this.scrollbarRef,class:an(`${n}-scrollbar`,{[`${n}-scrollbar-show`]:o}),style:{width:"8px",top:0,bottom:0,right:0,position:"absolute",display:s?void 0:"none"},onMousedown:this.onContainerMouseDown,onMousemove:this.delayHidden},[ne("div",{ref:this.thumbRef,class:an(`${n}-scrollbar-thumb`,{[`${n}-scrollbar-thumb-moving`]:e}),style:{width:"100%",height:r,top:i,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:"99px",cursor:"pointer",userSelect:"none"},onMousedown:this.onMouseDown},null)])}});function Z_e(e,t,n,r){const i=new Map,o=new Map,s=Ot(Symbol("update"));qt(e,()=>{s.value=Symbol("update")});let a;function c(){Tr.cancel(a)}function h(){c(),a=Tr(()=>{i.forEach((g,y)=>{if(g&&g.offsetParent){const{offsetHeight:v}=g;o.get(y)!==v&&(s.value=Symbol("update"),o.set(y,g.offsetHeight))}})})}function d(g,y){const v=t(g);i.get(v),y?(i.set(v,y.$el||y),h()):i.delete(v)}return eu(()=>{c()}),[d,h,o,s]}function q_e(e,t,n,r,i,o,s,a){let c;return h=>{if(h==null){a();return}Tr.cancel(c);const d=t.value,g=r.itemHeight;if(typeof h=="number")s(h);else if(h&&typeof h=="object"){let y;const{align:v}=h;"index"in h?{index:y}=h:y=d.findIndex(I=>i(I)===h.key);const{offset:x=0}=h,C=(I,A)=>{if(I<0||!e.value)return;const k=e.value.clientHeight;let R=!1,z=A;if(k){const V=A||v;let U=0,N=0,W=0;const X=Math.min(d.length,y);for(let ae=0;ae<=X;ae+=1){const me=i(d[ae]);N=U;const we=n.get(me);W=N+(we===void 0?g:we),U=W,ae===y&&we===void 0&&(R=!0)}const K=e.value.scrollTop;let te=null;switch(V){case"top":te=N-x;break;case"bottom":te=W-k+x;break;default:{const ae=K+k;N<K?z="top":W>ae&&(z="bottom")}}te!==null&&te!==K&&s(te)}c=Tr(()=>{R&&o(),C(I-1,z)},2)};C(5)}}}const K_e=typeof navigator=="object"&&/Firefox/i.test(navigator.userAgent),iG=(e,t)=>{let n=!1,r=null;function i(){clearTimeout(r),n=!0,r=setTimeout(()=>{n=!1},50)}return function(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const a=o<0&&e.value||o>0&&t.value;return s&&a?(clearTimeout(r),n=!1):(!a||n)&&i(),!n&&a}};function X_e(e,t,n,r){let i=0,o=null,s=null,a=!1;const c=iG(t,n);function h(g){if(!e.value)return;Tr.cancel(o);const{deltaY:y}=g;i+=y,s=y,!c(y)&&(K_e||g.preventDefault(),o=Tr(()=>{r(i*(a?10:1)),i=0}))}function d(g){e.value&&(a=g.detail===s)}return[h,d]}const Y_e=14/15;function J_e(e,t,n){let r=!1,i=0,o=null,s=null;const a=()=>{o&&(o.removeEventListener("touchmove",c),o.removeEventListener("touchend",h))},c=y=>{if(r){const v=Math.ceil(y.touches[0].pageY);let x=i-v;i=v,n(x)&&y.preventDefault(),clearInterval(s),s=setInterval(()=>{x*=Y_e,(!n(x,!0)||Math.abs(x)<=.1)&&clearInterval(s)},16)}},h=()=>{r=!1,a()},d=y=>{a(),y.touches.length===1&&!r&&(r=!0,i=Math.ceil(y.touches[0].pageY),o=y.target,o.addEventListener("touchmove",c,{passive:!1}),o.addEventListener("touchend",h))},g=()=>{};Nn(()=>{document.addEventListener("touchmove",g,{passive:!1}),qt(e,y=>{t.value.removeEventListener("touchstart",d),a(),clearInterval(s),y&&t.value.addEventListener("touchstart",d,{passive:!1})},{immediate:!0})}),ii(()=>{document.removeEventListener("touchmove",g)})}var Q_e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const e0e=[],t0e={overflowY:"auto",overflowAnchor:"none"};function n0e(e,t,n,r,i,o){let{getKey:s}=o;return e.slice(t,n+1).map((a,c)=>{const h=t+c,d=i(a,h,{}),g=s(a);return ne(rG,{key:g,setRef:y=>r(a,y)},{default:()=>[d]})})}const r0e=Pt({compatConfig:{MODE:3},name:"List",inheritAttrs:!1,props:{prefixCls:String,data:ft.array,height:Number,itemHeight:Number,fullHeight:{type:Boolean,default:void 0},itemKey:{type:[String,Number,Function],required:!0},component:{type:[String,Object]},virtual:{type:Boolean,default:void 0},children:Function,onScroll:Function,onMousedown:Function,onMouseenter:Function,onVisibleChange:Function},setup(e,t){let{expose:n}=t;const r=ge(()=>{const{height:ke,itemHeight:rt,virtual:ot}=e;return!!(ot!==!1&&ke&&rt)}),i=ge(()=>{const{height:ke,itemHeight:rt,data:ot}=e;return r.value&&ot&&rt*ot.length>ke}),o=Gi({scrollTop:0,scrollMoving:!1}),s=ge(()=>e.data||e0e),a=Et([]);qt(s,()=>{a.value=Un(s.value).slice()},{immediate:!0});const c=Et(ke=>{});qt(()=>e.itemKey,ke=>{typeof ke=="function"?c.value=ke:c.value=rt=>rt==null?void 0:rt[ke]},{immediate:!0});const h=Et(),d=Et(),g=Et(),y=ke=>c.value(ke),v={getKey:y};function x(ke){let rt;typeof ke=="function"?rt=ke(o.scrollTop):rt=ke;const ot=U(rt);h.value&&(h.value.scrollTop=ot),o.scrollTop=ot}const[C,I,A,k]=Z_e(a,y),R=Gi({scrollHeight:void 0,start:0,end:0,offset:void 0}),z=Et(0);Nn(()=>{wi(()=>{var ke;z.value=((ke=d.value)===null||ke===void 0?void 0:ke.offsetHeight)||0})}),Dh(()=>{wi(()=>{var ke;z.value=((ke=d.value)===null||ke===void 0?void 0:ke.offsetHeight)||0})}),qt([r,a],()=>{r.value||ee(R,{scrollHeight:void 0,start:0,end:a.value.length-1,offset:void 0})},{immediate:!0}),qt([r,a,z,i],()=>{r.value&&!i.value&&ee(R,{scrollHeight:z.value,start:0,end:a.value.length-1,offset:void 0}),h.value&&(o.scrollTop=h.value.scrollTop)},{immediate:!0}),qt([i,r,()=>o.scrollTop,a,k,()=>e.height,z],()=>{if(!r.value||!i.value)return;let ke=0,rt,ot,tt;const It=a.value.length,Bt=a.value,Lt=o.scrollTop,{itemHeight:Yt,height:ze}=e,ut=Lt+ze;for(let Re=0;Re<It;Re+=1){const Ve=Bt[Re],Le=y(Ve);let Ye=A.get(Le);Ye===void 0&&(Ye=Yt);const pe=ke+Ye;rt===void 0&&pe>=Lt&&(rt=Re,ot=ke),tt===void 0&&pe>ut&&(tt=Re),ke=pe}rt===void 0&&(rt=0,ot=0,tt=Math.ceil(ze/Yt)),tt===void 0&&(tt=It-1),tt=Math.min(tt+1,It),ee(R,{scrollHeight:ke,start:rt,end:tt,offset:ot})},{immediate:!0});const V=ge(()=>R.scrollHeight-e.height);function U(ke){let rt=ke;return Number.isNaN(V.value)||(rt=Math.min(rt,V.value)),rt=Math.max(rt,0),rt}const N=ge(()=>o.scrollTop<=0),W=ge(()=>o.scrollTop>=V.value),X=iG(N,W);function K(ke){x(ke)}function te(ke){var rt;const{scrollTop:ot}=ke.currentTarget;ot!==o.scrollTop&&x(ot),(rt=e.onScroll)===null||rt===void 0||rt.call(e,ke)}const[ae,me]=X_e(r,N,W,ke=>{x(rt=>rt+ke)});J_e(r,h,(ke,rt)=>X(ke,rt)?!1:(ae({preventDefault(){},deltaY:ke}),!0));function we(ke){r.value&&ke.preventDefault()}const se=()=>{h.value&&(h.value.removeEventListener("wheel",ae,fa?{passive:!1}:!1),h.value.removeEventListener("DOMMouseScroll",me),h.value.removeEventListener("MozMousePixelScroll",we))};Dr(()=>{wi(()=>{h.value&&(se(),h.value.addEventListener("wheel",ae,fa?{passive:!1}:!1),h.value.addEventListener("DOMMouseScroll",me),h.value.addEventListener("MozMousePixelScroll",we))})}),ii(()=>{se()});const ue=q_e(h,a,A,e,y,I,x,()=>{var ke;(ke=g.value)===null||ke===void 0||ke.delayHidden()});n({scrollTo:ue});const Te=ge(()=>{let ke=null;return e.height&&(ke=ee({[e.fullHeight?"height":"maxHeight"]:e.height+"px"},t0e),r.value&&(ke.overflowY="hidden",o.scrollMoving&&(ke.pointerEvents="none"))),ke});return qt([()=>R.start,()=>R.end,a],()=>{if(e.onVisibleChange){const ke=a.value.slice(R.start,R.end+1);e.onVisibleChange(ke,a.value)}},{flush:"post"}),{state:o,mergedData:a,componentStyle:Te,onFallbackScroll:te,onScrollBar:K,componentRef:h,useVirtual:r,calRes:R,collectHeight:I,setInstance:C,sharedConfig:v,scrollBarRef:g,fillerInnerRef:d,delayHideScrollBar:()=>{var ke;(ke=g.value)===null||ke===void 0||ke.delayHidden()}}},render(){const e=ee(ee({},this.$props),this.$attrs),{prefixCls:t="rc-virtual-list",height:n,itemHeight:r,fullHeight:i,data:o,itemKey:s,virtual:a,component:c="div",onScroll:h,children:d=this.$slots.default,style:g,class:y}=e,v=Q_e(e,["prefixCls","height","itemHeight","fullHeight","data","itemKey","virtual","component","onScroll","children","style","class"]),x=an(t,y),{scrollTop:C}=this.state,{scrollHeight:I,offset:A,start:k,end:R}=this.calRes,{componentStyle:z,onFallbackScroll:V,onScrollBar:U,useVirtual:N,collectHeight:W,sharedConfig:X,setInstance:K,mergedData:te,delayHideScrollBar:ae}=this;return ne("div",Ct({style:ee(ee({},g),{position:"relative"}),class:x},v),[ne(c,{class:`${t}-holder`,style:z,ref:"componentRef",onScroll:V,onMouseenter:ae},{default:()=>[ne(z2,{prefixCls:t,height:I,offset:A,onInnerResize:W,ref:"fillerInnerRef"},{default:()=>n0e(te,k,R,K,d,X)})]}),N&&ne(W_e,{ref:"scrollBarRef",prefixCls:t,scrollTop:C,height:n,scrollHeight:I,count:te.length,onScroll:U,onStartMove:()=>{this.state.scrollMoving=!0},onStopMove:()=>{this.state.scrollMoving=!1}},null)])}});function i0e(e,t,n){const r=Ot(e());return qt(t,(i,o)=>{n(i,o)&&(r.value=e())}),r}function o0e(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}const oG=Symbol("SelectContextKey");function a0e(e){return fr(oG,e)}function s0e(){return Mn(oG,{})}var l0e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function A4(e){return typeof e=="string"||typeof e=="number"}const u0e=Pt({compatConfig:{MODE:3},name:"OptionList",inheritAttrs:!1,setup(e,t){let{expose:n,slots:r}=t;const i=F_e(),o=s0e(),s=ge(()=>`${i.prefixCls}-item`),a=i0e(()=>o.flattenOptions,[()=>i.open,()=>o.flattenOptions],V=>V[0]),c=E0(),h=V=>{V.preventDefault()},d=V=>{c.current&&c.current.scrollTo(typeof V=="number"?{index:V}:V)},g=function(V){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const N=a.value.length;for(let W=0;W<N;W+=1){const X=(V+W*U+N)%N,{group:K,data:te}=a.value[X];if(!K&&!te.disabled)return X}return-1},y=Gi({activeIndex:g(0)}),v=function(V){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;y.activeIndex=V;const N={source:U?"keyboard":"mouse"},W=a.value[V];if(!W){o.onActiveValue(null,-1,N);return}o.onActiveValue(W.value,V,N)};qt([()=>a.value.length,()=>i.searchValue],()=>{v(o.defaultActiveFirstOption!==!1?g(0):-1)},{immediate:!0});const x=V=>o.rawValues.has(V)&&i.mode!=="combobox";qt([()=>i.open,()=>i.searchValue],()=>{if(!i.multiple&&i.open&&o.rawValues.size===1){const V=Array.from(o.rawValues)[0],U=Un(a.value).findIndex(N=>{let{data:W}=N;return W[o.fieldNames.value]===V});U!==-1&&(v(U),wi(()=>{d(U)}))}i.open&&wi(()=>{var V;(V=c.current)===null||V===void 0||V.scrollTo(void 0)})},{immediate:!0,flush:"post"});const C=V=>{V!==void 0&&o.onSelect(V,{selected:!o.rawValues.has(V)}),i.multiple||i.toggleOpen(!1)},I=V=>typeof V.label=="function"?V.label():V.label;function A(V){const U=a.value[V];if(!U)return null;const N=U.data||{},{value:W}=N,{group:X}=U,K=$k(N,!0),te=I(U);return U?ne("div",Ct(Ct({"aria-label":typeof te=="string"&&!X?te:null},K),{},{key:V,role:X?"presentation":"option",id:`${i.id}_list_${V}`,"aria-selected":x(W)}),[W]):null}return n({onKeydown:V=>{const{which:U,ctrlKey:N}=V;switch(U){case Ht.N:case Ht.P:case Ht.UP:case Ht.DOWN:{let W=0;if(U===Ht.UP?W=-1:U===Ht.DOWN?W=1:o0e()&&N&&(U===Ht.N?W=1:U===Ht.P&&(W=-1)),W!==0){const X=g(y.activeIndex+W,W);d(X),v(X,!0)}break}case Ht.ENTER:{const W=a.value[y.activeIndex];W&&!W.data.disabled?C(W.value):C(void 0),i.open&&V.preventDefault();break}case Ht.ESC:i.toggleOpen(!1),i.open&&V.stopPropagation()}},onKeyup:()=>{},scrollTo:V=>{d(V)}}),()=>{const{id:V,notFoundContent:U,onPopupScroll:N}=i,{menuItemSelectedIcon:W,fieldNames:X,virtual:K,listHeight:te,listItemHeight:ae}=o,me=r.option,{activeIndex:we}=y,se=Object.keys(X).map(ue=>X[ue]);return a.value.length===0?ne("div",{role:"listbox",id:`${V}_list`,class:`${s.value}-empty`,onMousedown:h},[U]):ne(vn,null,[ne("div",{role:"listbox",id:`${V}_list`,style:{height:0,width:0,overflow:"hidden"}},[A(we-1),A(we),A(we+1)]),ne(r0e,{itemKey:"key",ref:c,data:a.value,height:te,itemHeight:ae,fullHeight:!1,onMousedown:h,onScroll:N,virtual:K},{default:(ue,Te)=>{var Be;const{group:ke,groupOption:rt,data:ot,value:tt}=ue,{key:It}=ot,Bt=typeof ue.label=="function"?ue.label():ue.label;if(ke){const lt=(Be=ot.title)!==null&&Be!==void 0?Be:A4(Bt)&&Bt;return ne("div",{class:an(s.value,`${s.value}-group`),title:lt},[me?me(ot):Bt!==void 0?Bt:It])}const{disabled:Lt,title:Yt,children:ze,style:ut,class:Re,className:Ve}=ot,Le=l0e(ot,["disabled","title","children","style","class","className"]),Ye=Gf(Le,se),pe=x(tt),ye=`${s.value}-option`,Ze=an(s.value,ye,Re,Ve,{[`${ye}-grouped`]:rt,[`${ye}-active`]:we===Te&&!Lt,[`${ye}-disabled`]:Lt,[`${ye}-selected`]:pe}),ht=I(ue),st=!W||typeof W=="function"||pe,Xe=typeof ht=="number"?ht:ht||tt;let Qe=A4(Xe)?Xe.toString():void 0;return Yt!==void 0&&(Qe=Yt),ne("div",Ct(Ct({},Ye),{},{"aria-selected":pe,class:Ze,title:Qe,onMousemove:lt=>{Le.onMousemove&&Le.onMousemove(lt),!(we===Te||Lt)&&v(Te)},onClick:lt=>{Lt||C(tt),Le.onClick&&Le.onClick(lt)},style:ut}),[ne("div",{class:`${ye}-content`},[me?me(ot):Xe]),Oh(W)||pe,st&&ne($f,{class:`${s.value}-option-state`,customizeIcon:W,customizeIconProps:{isSelected:pe}},{default:()=>[pe?"✓":null]})])}})])}}});var c0e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function h0e(e){const t=e,{key:n,children:r}=t,i=t.props,{value:o,disabled:s}=i,a=c0e(i,["value","disabled"]),c=r==null?void 0:r.default;return ee({key:n,value:o!==void 0?o:n,children:c,disabled:s||s===""},a)}function aG(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return ao(e).map((r,i)=>{var o;if(!Oh(r)||!r.type)return null;const{type:{isSelectOptGroup:s},key:a,children:c,props:h}=r;if(t||!s)return h0e(r);const d=c&&c.default?c.default():void 0,g=(h==null?void 0:h.label)||((o=c.label)===null||o===void 0?void 0:o.call(c))||a;return ee(ee({key:`__RC_SELECT_GRP__${a===null?i:String(a)}__`},h),{label:g,options:aG(d||[])})}).filter(r=>r)}function d0e(e,t,n){const r=Et(),i=Et(),o=Et(),s=Et([]);return qt([e,t],()=>{e.value?s.value=Un(e.value).slice():s.value=aG(t.value)},{immediate:!0,deep:!0}),Dr(()=>{const a=s.value,c=new Map,h=new Map,d=n.value;function g(y){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(let x=0;x<y.length;x+=1){const C=y[x];!C[d.options]||v?(c.set(C[d.value],C),h.set(C[d.label],C)):g(C[d.options],!0)}}g(a),r.value=a,i.value=c,o.value=h}),{options:r,valueOptions:i,labelOptions:o}}let D4=0;const f0e=cl();function p0e(){let e;return f0e?(e=D4,D4+=1):e="TEST_OR_SSR",e}function m0e(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ot("");const t=`rc_select_${p0e()}`;return e.value||t}function sG(e){return Array.isArray(e)?e:e!==void 0?[e]:[]}function $P(e,t){return sG(e).join("").toUpperCase().includes(t)}const g0e=(e,t,n,r,i)=>ge(()=>{const o=n.value,s=i==null?void 0:i.value,a=r==null?void 0:r.value;if(!o||a===!1)return e.value;const{options:c,label:h,value:d}=t.value,g=[],y=typeof a=="function",v=o.toUpperCase(),x=y?a:(I,A)=>s?$P(A[s],v):A[c]?$P(A[h!=="children"?h:"label"],v):$P(A[d],v),C=y?I=>PM(I):I=>I;return e.value.forEach(I=>{if(I[c]){if(x(o,C(I)))g.push(I);else{const k=I[c].filter(R=>x(o,C(R)));k.length&&g.push(ee(ee({},I),{[c]:k}))}return}x(o,C(I))&&g.push(I)}),g}),v0e=(e,t)=>{const n=Et({values:new Map,options:new Map});return[ge(()=>{const{values:o,options:s}=n.value,a=e.value.map(d=>{var g;return d.label===void 0?ee(ee({},d),{label:(g=o.get(d.value))===null||g===void 0?void 0:g.label}):d}),c=new Map,h=new Map;return a.forEach(d=>{c.set(d.value,d),h.set(d.value,t.value.get(d.value)||s.get(d.value))}),n.value.values=c,n.value.options=h,a}),o=>t.value.get(o)||n.value.options.get(o)]};function uS(e,t){const{defaultValue:n,value:r=Ot()}=t||{};let i=typeof e=="function"?e():e;r.value!==void 0&&(i=Ui(r)),n!==void 0&&(i=typeof n=="function"?n():n);const o=Ot(i),s=Ot(i);Dr(()=>{let c=r.value!==void 0?r.value:o.value;t.postState&&(c=t.postState(c)),s.value=c});function a(c){const h=s.value;o.value=c,Un(s.value)!==c&&t.onChange&&t.onChange(c,h)}return qt(r,()=>{o.value=r.value}),[s,a]}function ci(e){const t=typeof e=="function"?e():e,n=Ot(t);function r(i){n.value=i}return[n,r]}const y0e=["inputValue"];function lG(){return ee(ee({},tG()),{prefixCls:String,id:String,backfill:{type:Boolean,default:void 0},fieldNames:Object,inputValue:String,searchValue:String,onSearch:Function,autoClearSearchValue:{type:Boolean,default:void 0},onSelect:Function,onDeselect:Function,filterOption:{type:[Boolean,Function],default:void 0},filterSort:Function,optionFilterProp:String,optionLabelProp:String,options:Array,defaultActiveFirstOption:{type:Boolean,default:void 0},virtual:{type:Boolean,default:void 0},listHeight:Number,listItemHeight:Number,menuItemSelectedIcon:ft.any,mode:String,labelInValue:{type:Boolean,default:void 0},value:ft.any,defaultValue:ft.any,onChange:Function,children:Array})}function _0e(e){return!e||typeof e!="object"}const b0e=Pt({compatConfig:{MODE:3},name:"VcSelect",inheritAttrs:!1,props:xa(lG(),{prefixCls:"vc-select",autoClearSearchValue:!0,listHeight:200,listItemHeight:20,dropdownMatchSelectWidth:!0}),setup(e,t){let{expose:n,attrs:r,slots:i}=t;const o=m0e(Ds(e,"id")),s=ge(()=>nG(e.mode)),a=ge(()=>!!(!e.options&&e.children)),c=ge(()=>e.filterOption===void 0&&e.mode==="combobox"?!1:e.filterOption),h=ge(()=>pU(e.fieldNames,a.value)),[d,g]=uS("",{value:ge(()=>e.searchValue!==void 0?e.searchValue:e.inputValue),postState:Re=>Re||""}),y=d0e(Ds(e,"options"),Ds(e,"children"),h),{valueOptions:v,labelOptions:x,options:C}=y,I=Re=>sG(Re).map(Le=>{var Ye,pe;let ye,Ze,ht,st;_0e(Le)?ye=Le:(ht=Le.key,Ze=Le.label,ye=(Ye=Le.value)!==null&&Ye!==void 0?Ye:ht);const Xe=v.value.get(ye);return Xe&&(Ze===void 0&&(Ze=Xe==null?void 0:Xe[e.optionLabelProp||h.value.label]),ht===void 0&&(ht=(pe=Xe==null?void 0:Xe.key)!==null&&pe!==void 0?pe:ye),st=Xe==null?void 0:Xe.disabled),{label:Ze,value:ye,key:ht,disabled:st,option:Xe}}),[A,k]=uS(e.defaultValue,{value:Ds(e,"value")}),R=ge(()=>{var Re;const Ve=I(A.value);return e.mode==="combobox"&&!(!((Re=Ve[0])===null||Re===void 0)&&Re.value)?[]:Ve}),[z,V]=v0e(R,v),U=ge(()=>{if(!e.mode&&z.value.length===1){const Re=z.value[0];if(Re.value===null&&(Re.label===null||Re.label===void 0))return[]}return z.value.map(Re=>{var Ve;return ee(ee({},Re),{label:(Ve=typeof Re.label=="function"?Re.label():Re.label)!==null&&Ve!==void 0?Ve:Re.value})})}),N=ge(()=>new Set(z.value.map(Re=>Re.value)));Dr(()=>{var Re;if(e.mode==="combobox"){const Ve=(Re=z.value[0])===null||Re===void 0?void 0:Re.value;Ve!=null&&g(String(Ve))}},{flush:"post"});const W=(Re,Ve)=>{const Le=Ve??Re;return{[h.value.value]:Re,[h.value.label]:Le}},X=Et();Dr(()=>{if(e.mode!=="tags"){X.value=C.value;return}const Re=C.value.slice(),Ve=Le=>v.value.has(Le);[...z.value].sort((Le,Ye)=>Le.value<Ye.value?-1:1).forEach(Le=>{const Ye=Le.value;Ve(Ye)||Re.push(W(Ye,Le.label))}),X.value=Re});const K=g0e(X,h,d,c,Ds(e,"optionFilterProp")),te=ge(()=>e.mode!=="tags"||!d.value||K.value.some(Re=>Re[e.optionFilterProp||"value"]===d.value)?K.value:[W(d.value),...K.value]),ae=ge(()=>e.filterSort?[...te.value].sort((Re,Ve)=>e.filterSort(Re,Ve)):te.value),me=ge(()=>Mme(ae.value,{fieldNames:h.value,childrenAsData:a.value})),we=Re=>{const Ve=I(Re);if(k(Ve),e.onChange&&(Ve.length!==z.value.length||Ve.some((Le,Ye)=>{var pe;return((pe=z.value[Ye])===null||pe===void 0?void 0:pe.value)!==(Le==null?void 0:Le.value)}))){const Le=e.labelInValue?Ve.map(pe=>ee(ee({},pe),{originLabel:pe.label,label:typeof pe.label=="function"?pe.label():pe.label})):Ve.map(pe=>pe.value),Ye=Ve.map(pe=>PM(V(pe.value)));e.onChange(s.value?Le:Le[0],s.value?Ye:Ye[0])}},[se,ue]=ci(null),[Te,Be]=ci(0),ke=ge(()=>e.defaultActiveFirstOption!==void 0?e.defaultActiveFirstOption:e.mode!=="combobox"),rt=function(Re,Ve){let{source:Le="keyboard"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Be(Ve),e.backfill&&e.mode==="combobox"&&Re!==null&&Le==="keyboard"&&ue(String(Re))},ot=(Re,Ve)=>{const Le=()=>{var Ye;const pe=V(Re),ye=pe==null?void 0:pe[h.value.label];return[e.labelInValue?{label:typeof ye=="function"?ye():ye,originLabel:ye,value:Re,key:(Ye=pe==null?void 0:pe.key)!==null&&Ye!==void 0?Ye:Re}:Re,PM(pe)]};if(Ve&&e.onSelect){const[Ye,pe]=Le();e.onSelect(Ye,pe)}else if(!Ve&&e.onDeselect){const[Ye,pe]=Le();e.onDeselect(Ye,pe)}},tt=(Re,Ve)=>{let Le;const Ye=s.value?Ve.selected:!0;Ye?Le=s.value?[...z.value,Re]:[Re]:Le=z.value.filter(pe=>pe.value!==Re),we(Le),ot(Re,Ye),e.mode==="combobox"?ue(""):(!s.value||e.autoClearSearchValue)&&(g(""),ue(""))},It=(Re,Ve)=>{we(Re),(Ve.type==="remove"||Ve.type==="clear")&&Ve.values.forEach(Le=>{ot(Le.value,!1)})},Bt=(Re,Ve)=>{var Le;if(g(Re),ue(null),Ve.source==="submit"){const Ye=(Re||"").trim();if(Ye){const pe=Array.from(new Set([...N.value,Ye]));we(pe),ot(Ye,!0),g("")}return}Ve.source!=="blur"&&(e.mode==="combobox"&&we(Re),(Le=e.onSearch)===null||Le===void 0||Le.call(e,Re))},Lt=Re=>{let Ve=Re;e.mode!=="tags"&&(Ve=Re.map(Ye=>{const pe=x.value.get(Ye);return pe==null?void 0:pe.value}).filter(Ye=>Ye!==void 0));const Le=Array.from(new Set([...N.value,...Ve]));we(Le),Le.forEach(Ye=>{ot(Ye,!0)})},Yt=ge(()=>e.virtual!==!1&&e.dropdownMatchSelectWidth!==!1);a0e(eG(ee(ee({},y),{flattenOptions:me,onActiveValue:rt,defaultActiveFirstOption:ke,onSelect:tt,menuItemSelectedIcon:Ds(e,"menuItemSelectedIcon"),rawValues:N,fieldNames:h,virtual:Yt,listHeight:Ds(e,"listHeight"),listItemHeight:Ds(e,"listItemHeight"),childrenAsData:a})));const ze=Ot();n({focus(){var Re;(Re=ze.value)===null||Re===void 0||Re.focus()},blur(){var Re;(Re=ze.value)===null||Re===void 0||Re.blur()},scrollTo(Re){var Ve;(Ve=ze.value)===null||Ve===void 0||Ve.scrollTo(Re)}});const ut=ge(()=>Gf(e,["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"]));return()=>ne(U_e,Ct(Ct(Ct({},ut.value),r),{},{id:o,prefixCls:e.prefixCls,ref:ze,omitDomProps:y0e,mode:e.mode,displayValues:U.value,onDisplayValuesChange:It,searchValue:d.value,onSearch:Bt,onSearchSplit:Lt,dropdownMatchSelectWidth:e.dropdownMatchSelectWidth,OptionList:u0e,emptyOptions:!me.value.length,activeValue:se.value,activeDescendantId:`${o}_list_${Te.value}`}),i)}}),Fk=()=>null;Fk.isSelectOption=!0;Fk.displayName="ASelectOption";const Nk=()=>null;Nk.isSelectOptGroup=!0;Nk.displayName="ASelectOptGroup";var x0e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},w0e=Symbol("iconContext"),uG=function(){return Mn(w0e,{prefixCls:Ot("anticon"),rootClassName:Ot(""),csp:Ot()})};function Vk(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function S0e(e,t){return e&&e.contains?e.contains(t):!1}var k4="data-vc-order",C0e="vc-icon-key",LM=new Map;function cG(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):C0e}function jk(e){if(e.attachTo)return e.attachTo;var t=document.querySelector("head");return t||document.body}function T0e(e){return e==="queue"?"prependQueue":e?"prepend":"append"}function hG(e){return Array.from((LM.get(e)||e).children).filter(function(t){return t.tagName==="STYLE"})}function dG(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Vk())return null;var n=t.csp,r=t.prepend,i=document.createElement("style");i.setAttribute(k4,T0e(r)),n&&n.nonce&&(i.nonce=n.nonce),i.innerHTML=e;var o=jk(t),s=o.firstChild;if(r){if(r==="queue"){var a=hG(o).filter(function(c){return["prepend","prependQueue"].includes(c.getAttribute(k4))});if(a.length)return o.insertBefore(i,a[a.length-1].nextSibling),i}o.insertBefore(i,s)}else o.appendChild(i);return i}function P0e(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=jk(t);return hG(n).find(function(r){return r.getAttribute(cG(t))===e})}function E0e(e,t){var n=LM.get(e);if(!n||!S0e(document,n)){var r=dG("",t),i=r.parentNode;LM.set(e,i),e.removeChild(r)}}function I0e(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=jk(n);E0e(r,n);var i=P0e(t,n);if(i)return n.csp&&n.csp.nonce&&i.nonce!==n.csp.nonce&&(i.nonce=n.csp.nonce),i.innerHTML!==e&&(i.innerHTML=e),i;var o=dG(e,n);return o.setAttribute(cG(n),t),o}function O4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){M0e(e,i,n[i])})}return e}function M0e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R4(e){return typeof e=="object"&&typeof e.name=="string"&&typeof e.theme=="string"&&(typeof e.icon=="object"||typeof e.icon=="function")}function $M(e,t,n){return n?Cn(e.tag,O4({key:t},n,e.attrs),(e.children||[]).map(function(r,i){return $M(r,"".concat(t,"-").concat(e.tag,"-").concat(i))})):Cn(e.tag,O4({key:t},e.attrs),(e.children||[]).map(function(r,i){return $M(r,"".concat(t,"-").concat(e.tag,"-").concat(i))}))}function fG(e){return tc(e)[0]}function pG(e){return e?Array.isArray(e)?e:[e]:[]}var A0e=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`;function mG(e){return e&&e.getRootNode&&e.getRootNode()}function D0e(e){return Vk()?mG(e)instanceof ShadowRoot:!1}function k0e(e){return D0e(e)?mG(e):null}var O0e=function(){var t=uG(),n=t.prefixCls,r=t.csp,i=Ao(),o=A0e;n&&(o=o.replace(/anticon/g,n.value)),wi(function(){if(Vk()){var s=i.vnode.el,a=k0e(s);I0e(o,"@ant-design-vue-icons",{prepend:!0,csp:r.value,attachTo:a})}})},R0e=["icon","primaryColor","secondaryColor"];function L0e(e,t){if(e==null)return{};var n=$0e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function $0e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function yw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){z0e(e,i,n[i])})}return e}function z0e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $_=Gi({primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1});function B0e(e){var t=e.primaryColor,n=e.secondaryColor;$_.primaryColor=t,$_.secondaryColor=n||fG(t),$_.calculated=!!n}function F0e(){return yw({},$_)}var Rh=function(t,n){var r=yw({},t,n.attrs),i=r.icon,o=r.primaryColor,s=r.secondaryColor,a=L0e(r,R0e),c=$_;if(o&&(c={primaryColor:o,secondaryColor:s||fG(o)}),R4(i),!R4(i))return null;var h=i;return h&&typeof h.icon=="function"&&(h=yw({},h,{icon:h.icon(c.primaryColor,c.secondaryColor)})),$M(h.icon,"svg-".concat(h.name),yw({},a,{"data-icon":h.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"}))};Rh.props={icon:Object,primaryColor:String,secondaryColor:String,focusable:String};Rh.inheritAttrs=!1;Rh.displayName="IconBase";Rh.getTwoToneColors=F0e;Rh.setTwoToneColors=B0e;function N0e(e,t){return U0e(e)||H0e(e,t)||j0e(e,t)||V0e()}function V0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j0e(e,t){if(e){if(typeof e=="string")return L4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L4(e,t)}}function L4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H0e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(c){o=!0,a=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function U0e(e){if(Array.isArray(e))return e}function gG(e){var t=pG(e),n=N0e(t,2),r=n[0],i=n[1];return Rh.setTwoToneColors({primaryColor:r,secondaryColor:i})}function G0e(){var e=Rh.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}var W0e=Pt({name:"InsertStyles",setup:function(){return O0e(),function(){return null}}}),Z0e=["class","icon","spin","rotate","tabindex","twoToneColor","onClick"];function q0e(e,t){return J0e(e)||Y0e(e,t)||X0e(e,t)||K0e()}function K0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X0e(e,t){if(e){if(typeof e=="string")return $4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $4(e,t)}}function $4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y0e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(c){o=!0,a=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function J0e(e){if(Array.isArray(e))return e}function z4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){d_(e,i,n[i])})}return e}function d_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q0e(e,t){if(e==null)return{};var n=ebe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ebe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}gG(Npe.primary);var Ci=function(t,n){var r,i=z4({},t,n.attrs),o=i.class,s=i.icon,a=i.spin,c=i.rotate,h=i.tabindex,d=i.twoToneColor,g=i.onClick,y=Q0e(i,Z0e),v=uG(),x=v.prefixCls,C=v.rootClassName,I=(r={},d_(r,C.value,!!C.value),d_(r,x.value,!0),d_(r,"".concat(x.value,"-").concat(s.name),!!s.name),d_(r,"".concat(x.value,"-spin"),!!a||s.name==="loading"),r),A=h;A===void 0&&g&&(A=-1);var k=c?{msTransform:"rotate(".concat(c,"deg)"),transform:"rotate(".concat(c,"deg)")}:void 0,R=pG(d),z=q0e(R,2),V=z[0],U=z[1];return ne("span",z4({role:"img","aria-label":s.name},y,{onClick:g,class:[I,o],tabindex:A}),[ne(Rh,{icon:s,primaryColor:V,secondaryColor:U,style:k},null),ne(W0e,null,null)])};Ci.props={spin:Boolean,rotate:Number,icon:Object,twoToneColor:[String,Array]};Ci.displayName="AntdIcon";Ci.inheritAttrs=!1;Ci.getTwoToneColor=G0e;Ci.setTwoToneColor=gG;function B4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){tbe(e,i,n[i])})}return e}function tbe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hk=function(t,n){var r=B4({},t,n.attrs);return ne(Ci,B4({},r,{icon:x0e}),null)};Hk.displayName="DownOutlined";Hk.inheritAttrs=!1;var nbe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};function F4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){rbe(e,i,n[i])})}return e}function rbe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Eh=function(t,n){var r=F4({},t,n.attrs);return ne(Ci,F4({},r,{icon:nbe}),null)};Eh.displayName="LoadingOutlined";Eh.inheritAttrs=!1;var ibe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};function N4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){obe(e,i,n[i])})}return e}function obe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Uk=function(t,n){var r=N4({},t,n.attrs);return ne(Ci,N4({},r,{icon:ibe}),null)};Uk.displayName="CheckOutlined";Uk.inheritAttrs=!1;var abe={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};function V4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){sbe(e,i,n[i])})}return e}function sbe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lh=function(t,n){var r=V4({},t,n.attrs);return ne(Ci,V4({},r,{icon:abe}),null)};Lh.displayName="CloseOutlined";Lh.inheritAttrs=!1;var lbe={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};function j4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){ube(e,i,n[i])})}return e}function ube(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xf=function(t,n){var r=j4({},t,n.attrs);return ne(Ci,j4({},r,{icon:lbe}),null)};Xf.displayName="CloseCircleFilled";Xf.inheritAttrs=!1;var cbe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};function H4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){hbe(e,i,n[i])})}return e}function hbe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gk=function(t,n){var r=H4({},t,n.attrs);return ne(Ci,H4({},r,{icon:cbe}),null)};Gk.displayName="SearchOutlined";Gk.inheritAttrs=!1;function dbe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{loading:n,multiple:r,prefixCls:i,hasFeedback:o,feedbackIcon:s,showArrow:a}=e,c=e.suffixIcon||t.suffixIcon&&t.suffixIcon(),h=e.clearIcon||t.clearIcon&&t.clearIcon(),d=e.menuItemSelectedIcon||t.menuItemSelectedIcon&&t.menuItemSelectedIcon(),g=e.removeIcon||t.removeIcon&&t.removeIcon(),y=h??ne(Xf,null,null),v=A=>ne(vn,null,[a!==!1&&A,o&&s]);let x=null;if(c!==void 0)x=v(c);else if(n)x=v(ne(Eh,{spin:!0},null));else{const A=`${i}-suffix`;x=k=>{let{open:R,showSearch:z}=k;return v(R&&z?ne(Gk,{class:A},null):ne(Hk,{class:A},null))}}let C=null;d!==void 0?C=d:r?C=ne(Uk,null,null):C=null;let I=null;return g!==void 0?I=g:I=ne(Lh,null,null),{clearIcon:y,suffixIcon:x,itemIcon:C,removeIcon:I}}function Wk(e){const t=Symbol("contextKey");return{useProvide:(i,o)=>{const s=Gi({});return fr(t,s),Dr(()=>{ee(s,i,o||{})}),s},useInject:()=>Mn(t,e)||{}}}const U4=Symbol("ContextProps"),G4=Symbol("InternalContextProps"),W4={id:ge(()=>{}),onFieldBlur:()=>{},onFieldChange:()=>{},clearValidate:()=>{}},Z4={addFormItemField:()=>{},removeFormItemField:()=>{}},Zk=()=>{const e=Mn(G4,Z4),t=Symbol("FormItemFieldKey"),n=Ao();return e.addFormItemField(t,n.type),ii(()=>{e.removeFormItemField(t)}),fr(G4,Z4),fr(U4,W4),Mn(U4,W4)},vG=Wk({});function fbe(e,t,n){return an({[`${e}-status-success`]:t==="success",[`${e}-status-warning`]:t==="warning",[`${e}-status-error`]:t==="error",[`${e}-status-validating`]:t==="validating",[`${e}-has-feedback`]:n})}const pbe=(e,t)=>t||e,mbe=e=>{const{componentCls:t}=e;return{[t]:{display:"inline-flex","&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},gbe=e=>{const{componentCls:t}=e;return{[t]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${t}-item`]:{"&:empty":{display:"none"}}}}},vbe=Do("Space",e=>[gbe(e),mbe(e)]);var ybe="[object Symbol]";function qk(e){return typeof e=="symbol"||Lf(e)&&Zf(e)==ybe}function _be(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var bbe=1/0,q4=Xl?Xl.prototype:void 0,K4=q4?q4.toString:void 0;function yG(e){if(typeof e=="string")return e;if(Yl(e))return _be(e,yG)+"";if(qk(e))return K4?K4.call(e):"";var t=e+"";return t=="0"&&1/e==-bbe?"-0":t}function xbe(e){return e}function wbe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Sbe(){}var Cbe=800,Tbe=16,Pbe=Date.now;function Ebe(e){var t=0,n=0;return function(){var r=Pbe(),i=Tbe-(r-n);if(n=r,i>0){if(++t>=Cbe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Ibe(e){return function(){return e}}var cS=function(){try{var e=Kf(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Mbe=cS?function(e,t){return cS(e,"toString",{configurable:!0,enumerable:!1,value:Ibe(t),writable:!0})}:xbe,Abe=Ebe(Mbe);function Dbe(e,t,n,r){for(var i=e.length,o=n+-1;++o<i;)if(t(e[o],o,e))return o;return-1}function kbe(e){return e!==e}function Obe(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function Rbe(e,t,n){return t===t?Obe(e,t,n):Dbe(e,kbe,n)}function Lbe(e,t){var n=e==null?0:e.length;return!!n&&Rbe(e,t,0)>-1}function $be(e,t,n){t=="__proto__"&&cS?cS(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var zbe=Object.prototype,Bbe=zbe.hasOwnProperty;function Fbe(e,t,n){var r=e[t];(!(Bbe.call(e,t)&&Dk(r,n))||n===void 0&&!(t in e))&&$be(e,t,n)}var X4=Math.max;function Nbe(e,t,n){return t=X4(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=X4(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),wbe(e,this,a)}}var Vbe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jbe=/^\w*$/;function Hbe(e,t){if(Yl(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||qk(e)?!0:jbe.test(e)||!Vbe.test(e)||t!=null&&e in Object(t)}var Ube="Expected a function";function Kk(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Ube);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Kk.Cache||fc),n}Kk.Cache=fc;var Gbe=500;function Wbe(e){var t=Kk(e,function(r){return n.size===Gbe&&n.clear(),r}),n=t.cache;return t}var Zbe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qbe=/\\(\\)?/g,Kbe=Wbe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Zbe,function(n,r,i,o){t.push(i?o.replace(qbe,"$1"):r||n)}),t});function Xbe(e){return e==null?"":yG(e)}function B2(e,t){return Yl(e)?e:Hbe(e,t)?[e]:Kbe(Xbe(e))}var Ybe=1/0;function Xk(e){if(typeof e=="string"||qk(e))return e;var t=e+"";return t=="0"&&1/e==-Ybe?"-0":t}function Jbe(e,t){t=B2(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Xk(t[n++])];return n&&n==r?e:void 0}var Y4=Xl?Xl.isConcatSpreadable:void 0;function Qbe(e){return Yl(e)||L2(e)||!!(Y4&&e&&e[Y4])}function e1e(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=Qbe),i||(i=[]);++o<s;){var a=e[o];n(a)?kU(i,a):i[i.length]=a}return i}function t1e(e){var t=e==null?0:e.length;return t?e1e(e):[]}function n1e(e){return Abe(Nbe(e,void 0,t1e),e+"")}var r1e=zU(Object.getPrototypeOf,Object),i1e="[object Object]",o1e=Function.prototype,a1e=Object.prototype,_G=o1e.toString,s1e=a1e.hasOwnProperty,l1e=_G.call(Object);function u1e(e){if(!Lf(e)||Zf(e)!=i1e)return!1;var t=r1e(e);if(t===null)return!0;var n=s1e.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&_G.call(n)==l1e}function c1e(e,t){return e!=null&&t in Object(e)}function h1e(e,t,n){t=B2(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var s=Xk(t[r]);if(!(o=e!=null&&n(e,s)))break;e=e[s]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&Rk(i)&&Ok(s,i)&&(Yl(e)||L2(e)))}function d1e(e,t){return e!=null&&h1e(e,t,c1e)}var f1e="[object Map]",p1e="[object Set]",m1e=Object.prototype,g1e=m1e.hasOwnProperty;function bG(e){if(e==null)return!0;if(FU(e)&&(Yl(e)||typeof e=="string"||typeof e.splice=="function"||lS(e)||Lk(e)||L2(e)))return!e.length;var t=Uu(e);if(t==f1e||t==p1e)return!e.size;if($U(e))return!BU(e).length;for(var n in e)if(g1e.call(e,n))return!1;return!0}function v1e(e,t,n,r){if(!sS(e))return e;t=B2(t,e);for(var i=-1,o=t.length,s=o-1,a=e;a!=null&&++i<o;){var c=Xk(t[i]),h=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(i!=s){var d=a[c];h=void 0,h===void 0&&(h=sS(d)?d:Ok(t[i+1])?[]:{})}Fbe(a,c,h),a=a[c]}return e}function y1e(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=Jbe(e,s);n(a,s)&&v1e(o,B2(s,e),a)}return o}function _1e(e,t){return y1e(e,t,function(n,r){return d1e(e,r)})}var xG=n1e(function(e,t){return e==null?{}:_1e(e,t)}),b1e=1/0,x1e=Gm&&1/kk(new Gm([,-0]))[1]==b1e?function(e){return new Gm(e)}:Sbe,w1e=200;function S1e(e,t,n){var r=-1,i=Lbe,o=e.length,s=!0,a=[],c=a;if(o>=w1e){var h=x1e(e);if(h)return kk(h);s=!1,i=AU,c=new P0}else c=a;e:for(;++r<o;){var d=e[r],g=d;if(d=d!==0?d:0,s&&g===g){for(var y=c.length;y--;)if(c[y]===g)continue e;a.push(d)}else i(c,g,n)||(c!==a&&c.push(g),a.push(d))}return a}function zP(e){return e&&e.length?S1e(e):[]}const C1e=()=>({compactSize:String,compactDirection:ft.oneOf(eS("horizontal","vertical")).def("horizontal"),isFirstItem:Br(),isLastItem:Br()}),Yk=Wk(null),wG=(e,t)=>{const n=Yk.useInject(),r=ge(()=>{if(!n||bG(n))return"";const{compactDirection:i,isFirstItem:o,isLastItem:s}=n,a=i==="vertical"?"-vertical-":"-";return an({[`${e.value}-compact${a}item`]:!0,[`${e.value}-compact${a}first-item`]:o,[`${e.value}-compact${a}last-item`]:s,[`${e.value}-compact${a}item-rtl`]:t.value==="rtl"})});return{compactSize:ge(()=>n==null?void 0:n.compactSize),compactDirection:ge(()=>n==null?void 0:n.compactDirection),compactItemClassnames:r}},T1e=()=>({prefixCls:String,size:{type:String},direction:ft.oneOf(eS("horizontal","vertical")).def("horizontal"),align:ft.oneOf(eS("start","end","center","baseline")),block:{type:Boolean,default:void 0}}),P1e=Pt({name:"CompactItem",props:C1e(),setup(e,t){let{slots:n}=t;return Yk.useProvide(e),()=>{var r;return(r=n.default)===null||r===void 0?void 0:r.call(n)}}});T1e();const E1e=e=>({animationDuration:e,animationFillMode:"both"}),I1e=e=>({animationDuration:e,animationFillMode:"both"}),Jk=function(e,t,n,r){const o=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${o}${e}-enter,
      ${o}${e}-appear
    `]:ee(ee({},E1e(r)),{animationPlayState:"paused"}),[`${o}${e}-leave`]:ee(ee({},I1e(r)),{animationPlayState:"paused"}),[`
      ${o}${e}-enter${e}-enter-active,
      ${o}${e}-appear${e}-appear-active
    `]:{animationName:t,animationPlayState:"running"},[`${o}${e}-leave${e}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},M1e=new Qn("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),A1e=new Qn("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),D1e=new Qn("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),k1e=new Qn("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),O1e=new Qn("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),R1e=new Qn("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),L1e=new Qn("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),$1e=new Qn("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),z1e={"move-up":{inKeyframes:L1e,outKeyframes:$1e},"move-down":{inKeyframes:M1e,outKeyframes:A1e},"move-left":{inKeyframes:D1e,outKeyframes:k1e},"move-right":{inKeyframes:O1e,outKeyframes:R1e}},J4=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:i,outKeyframes:o}=z1e[t];return[Jk(r,i,o,e.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{opacity:0,animationTimingFunction:e.motionEaseOutCirc},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]},SG=new Qn("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),CG=new Qn("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),TG=new Qn("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),PG=new Qn("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),B1e=new Qn("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),F1e=new Qn("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),N1e=new Qn("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),V1e=new Qn("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),j1e={"slide-up":{inKeyframes:SG,outKeyframes:CG},"slide-down":{inKeyframes:TG,outKeyframes:PG},"slide-left":{inKeyframes:B1e,outKeyframes:F1e},"slide-right":{inKeyframes:N1e,outKeyframes:V1e}},xg=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:i,outKeyframes:o}=j1e[t];return[Jk(r,i,o,e.motionDurationMid),{[`
      ${r}-enter,
      ${r}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:e.motionEaseOutQuint},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInQuint}}]},H1e=new Qn("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),U1e=new Qn("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),Q4=new Qn("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),eB=new Qn("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),G1e=new Qn("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),W1e=new Qn("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),Z1e=new Qn("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),q1e=new Qn("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),K1e=new Qn("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),X1e=new Qn("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),Y1e=new Qn("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),J1e=new Qn("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),Q1e={zoom:{inKeyframes:H1e,outKeyframes:U1e},"zoom-big":{inKeyframes:Q4,outKeyframes:eB},"zoom-big-fast":{inKeyframes:Q4,outKeyframes:eB},"zoom-left":{inKeyframes:Z1e,outKeyframes:q1e},"zoom-right":{inKeyframes:K1e,outKeyframes:X1e},"zoom-up":{inKeyframes:G1e,outKeyframes:W1e},"zoom-down":{inKeyframes:Y1e,outKeyframes:J1e}},EG=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:i,outKeyframes:o}=Q1e[t];return[Jk(r,i,o,t==="zoom-big-fast"?e.motionDurationFast:e.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]},IG=e=>({[e.componentCls]:{[`${e.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}},[`${e.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}}}),tB=e=>{const{controlPaddingHorizontal:t}=e;return{position:"relative",display:"block",minHeight:e.controlHeight,padding:`${(e.controlHeight-e.fontSize*e.lineHeight)/2}px ${t}px`,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,boxSizing:"border-box"}},exe=e=>{const{antCls:t,componentCls:n}=e,r=`${n}-item`;return[{[`${n}-dropdown`]:ee(ee({},Io(e)),{position:"absolute",top:-9999,zIndex:e.zIndexPopup,boxSizing:"border-box",padding:e.paddingXXS,overflow:"hidden",fontSize:e.fontSize,fontVariant:"initial",backgroundColor:e.colorBgElevated,borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,[`
            &${t}-slide-up-enter${t}-slide-up-enter-active${n}-dropdown-placement-bottomLeft,
            &${t}-slide-up-appear${t}-slide-up-appear-active${n}-dropdown-placement-bottomLeft
          `]:{animationName:SG},[`
            &${t}-slide-up-enter${t}-slide-up-enter-active${n}-dropdown-placement-topLeft,
            &${t}-slide-up-appear${t}-slide-up-appear-active${n}-dropdown-placement-topLeft
          `]:{animationName:TG},[`&${t}-slide-up-leave${t}-slide-up-leave-active${n}-dropdown-placement-bottomLeft`]:{animationName:CG},[`&${t}-slide-up-leave${t}-slide-up-leave-active${n}-dropdown-placement-topLeft`]:{animationName:PG},"&-hidden":{display:"none"},"&-empty":{color:e.colorTextDisabled},[`${r}-empty`]:ee(ee({},tB(e)),{color:e.colorTextDisabled}),[`${r}`]:ee(ee({},tB(e)),{cursor:"pointer",transition:`background ${e.motionDurationSlow} ease`,borderRadius:e.borderRadiusSM,"&-group":{color:e.colorTextDescription,fontSize:e.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":ee({flex:"auto"},Ph),"&-state":{flex:"none"},[`&-active:not(${r}-option-disabled)`]:{backgroundColor:e.controlItemBgHover},[`&-selected:not(${r}-option-disabled)`]:{color:e.colorText,fontWeight:e.fontWeightStrong,backgroundColor:e.controlItemBgActive,[`${r}-option-state`]:{color:e.colorPrimary}},"&-disabled":{[`&${r}-option-selected`]:{backgroundColor:e.colorBgContainerDisabled},color:e.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:e.controlPaddingHorizontal*2}}}),"&-rtl":{direction:"rtl"}})},xg(e,"slide-up"),xg(e,"slide-down"),J4(e,"move-up"),J4(e,"move-down")]},Yp=2;function MG(e){let{controlHeightSM:t,controlHeight:n,lineWidth:r}=e;const i=(n-t)/2-r,o=Math.ceil(i/2);return[i,o]}function BP(e,t){const{componentCls:n,iconCls:r}=e,i=`${n}-selection-overflow`,o=e.controlHeightSM,[s]=MG(e),a=t?`${n}-${t}`:"";return{[`${n}-multiple${a}`]:{fontSize:e.fontSize,[i]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"}},[`${n}-selector`]:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:`${s-Yp}px ${Yp*2}px`,borderRadius:e.borderRadius,[`${n}-show-search&`]:{cursor:"text"},[`${n}-disabled&`]:{background:e.colorBgContainerDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${Yp}px 0`,lineHeight:`${o}px`,content:'"\\a0"'}},[`
        &${n}-show-arrow ${n}-selector,
        &${n}-allow-clear ${n}-selector
      `]:{paddingInlineEnd:e.fontSizeIcon+e.controlPaddingHorizontal},[`${n}-selection-item`]:{position:"relative",display:"flex",flex:"none",boxSizing:"border-box",maxWidth:"100%",height:o,marginTop:Yp,marginBottom:Yp,lineHeight:`${o-e.lineWidth*2}px`,background:e.colorFillSecondary,border:`${e.lineWidth}px solid ${e.colorSplit}`,borderRadius:e.borderRadiusSM,cursor:"default",transition:`font-size ${e.motionDurationSlow}, line-height ${e.motionDurationSlow}, height ${e.motionDurationSlow}`,userSelect:"none",marginInlineEnd:Yp*2,paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS/2,[`${n}-disabled&`]:{color:e.colorTextDisabled,borderColor:e.colorBorder,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:e.paddingXS/2,overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":ee(ee({},hb()),{display:"inline-block",color:e.colorIcon,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${r}`]:{verticalAlign:"-0.2em"},"&:hover":{color:e.colorIconHover}})},[`${i}-item + ${i}-item`]:{[`${n}-selection-search`]:{marginInlineStart:0}},[`${n}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:e.inputPaddingHorizontalBase-s,"\n          &-input,\n          &-mirror\n        ":{height:o,fontFamily:e.fontFamily,lineHeight:`${o}px`,transition:`all ${e.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${n}-selection-placeholder `]:{position:"absolute",top:"50%",insetInlineStart:e.inputPaddingHorizontalBase,insetInlineEnd:e.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${e.motionDurationSlow}`}}}}function txe(e){const{componentCls:t}=e,n=Wr(e,{controlHeight:e.controlHeightSM,controlHeightSM:e.controlHeightXS,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS}),[,r]=MG(e);return[BP(e),BP(n,"sm"),{[`${t}-multiple${t}-sm`]:{[`${t}-selection-placeholder`]:{insetInlineStart:e.controlPaddingHorizontalSM-e.lineWidth,insetInlineEnd:"auto"},[`${t}-selection-search`]:{marginInlineStart:r}}},BP(Wr(e,{fontSize:e.fontSizeLG,controlHeight:e.controlHeightLG,controlHeightSM:e.controlHeight,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius}),"lg")]}function FP(e,t){const{componentCls:n,inputPaddingHorizontalBase:r,borderRadius:i}=e,o=e.controlHeight-e.lineWidth*2,s=Math.ceil(e.fontSize*1.25),a=t?`${n}-${t}`:"";return{[`${n}-single${a}`]:{fontSize:e.fontSize,[`${n}-selector`]:ee(ee({},Io(e)),{display:"flex",borderRadius:i,[`${n}-selection-search`]:{position:"absolute",top:0,insetInlineStart:r,insetInlineEnd:r,bottom:0,"&-input":{width:"100%"}},[`
          ${n}-selection-item,
          ${n}-selection-placeholder
        `]:{padding:0,lineHeight:`${o}px`,transition:`all ${e.motionDurationSlow}`,"@supports (-moz-appearance: meterbar)":{lineHeight:`${o}px`}},[`${n}-selection-item`]:{position:"relative",userSelect:"none"},[`${n}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${n}-selection-item:after`,`${n}-selection-placeholder:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${n}-show-arrow ${n}-selection-item,
        &${n}-show-arrow ${n}-selection-placeholder
      `]:{paddingInlineEnd:s},[`&${n}-open ${n}-selection-item`]:{color:e.colorTextPlaceholder},[`&:not(${n}-customize-input)`]:{[`${n}-selector`]:{width:"100%",height:e.controlHeight,padding:`0 ${r}px`,[`${n}-selection-search-input`]:{height:o},"&:after":{lineHeight:`${o}px`}}},[`&${n}-customize-input`]:{[`${n}-selector`]:{"&:after":{display:"none"},[`${n}-selection-search`]:{position:"static",width:"100%"},[`${n}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${r}px`,"&:after":{display:"none"}}}}}}}function nxe(e){const{componentCls:t}=e,n=e.controlPaddingHorizontalSM-e.lineWidth;return[FP(e),FP(Wr(e,{controlHeight:e.controlHeightSM,borderRadius:e.borderRadiusSM}),"sm"),{[`${t}-single${t}-sm`]:{[`&:not(${t}-customize-input)`]:{[`${t}-selection-search`]:{insetInlineStart:n,insetInlineEnd:n},[`${t}-selector`]:{padding:`0 ${n}px`},[`&${t}-show-arrow ${t}-selection-search`]:{insetInlineEnd:n+e.fontSize*1.5},[`
            &${t}-show-arrow ${t}-selection-item,
            &${t}-show-arrow ${t}-selection-placeholder
          `]:{paddingInlineEnd:e.fontSize*1.5}}}},FP(Wr(e,{controlHeight:e.controlHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG}),"lg")]}function rxe(e,t,n){const{focusElCls:r,focus:i,borderElCls:o}=n,s=o?"> *":"",a=["hover",i?"focus":null,"active"].filter(Boolean).map(c=>`&:${c} ${s}`).join(",");return{[`&-item:not(${t}-last-item)`]:{marginInlineEnd:-e.lineWidth},"&-item":ee(ee({[a]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${s}`]:{zIndex:0}})}}function ixe(e,t,n){const{borderElCls:r}=n,i=r?`> ${r}`:"";return{[`&-item:not(${t}-first-item):not(${t}-last-item) ${i}`]:{borderRadius:0},[`&-item:not(${t}-last-item)${t}-first-item`]:{[`& ${i}, &${e}-sm ${i}, &${e}-lg ${i}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${t}-first-item)${t}-last-item`]:{[`& ${i}, &${e}-sm ${i}, &${e}-lg ${i}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function AG(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:n}=e,r=`${n}-compact`;return{[r]:ee(ee({},rxe(e,r,t)),ixe(n,r,t))}}const oxe=e=>{const{componentCls:t}=e;return{position:"relative",backgroundColor:e.colorBgContainer,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,input:{cursor:"pointer"},[`${t}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit"}},[`${t}-disabled&`]:{color:e.colorTextDisabled,background:e.colorBgContainerDisabled,cursor:"not-allowed",[`${t}-multiple&`]:{background:e.colorBgContainerDisabled},input:{cursor:"not-allowed"}}}},NP=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{componentCls:r,borderHoverColor:i,outlineColor:o,antCls:s}=t,a=n?{[`${r}-selector`]:{borderColor:i}}:{};return{[e]:{[`&:not(${r}-disabled):not(${r}-customize-input):not(${s}-pagination-size-changer)`]:ee(ee({},a),{[`${r}-focused& ${r}-selector`]:{borderColor:i,boxShadow:`0 0 0 ${t.controlOutlineWidth}px ${o}`,borderInlineEndWidth:`${t.controlLineWidth}px !important`,outline:0},[`&:hover ${r}-selector`]:{borderColor:i,borderInlineEndWidth:`${t.controlLineWidth}px !important`}})}}},axe=e=>{const{componentCls:t}=e;return{[`${t}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},sxe=e=>{const{componentCls:t,inputPaddingHorizontalBase:n,iconCls:r}=e;return{[t]:ee(ee({},Io(e)),{position:"relative",display:"inline-block",cursor:"pointer",[`&:not(${t}-customize-input) ${t}-selector`]:ee(ee({},oxe(e)),axe(e)),[`${t}-selection-item`]:ee({flex:1,fontWeight:"normal"},Ph),[`${t}-selection-placeholder`]:ee(ee({},Ph),{flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"}),[`${t}-arrow`]:ee(ee({},hb()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:n,height:e.fontSizeIcon,marginTop:-e.fontSizeIcon/2,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",[r]:{verticalAlign:"top",transition:`transform ${e.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${t}-suffix)`]:{pointerEvents:"auto"}},[`${t}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${t}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:n,zIndex:1,display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,marginTop:-e.fontSizeIcon/2,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",background:e.colorBgContainer,cursor:"pointer",opacity:0,transition:`color ${e.motionDurationMid} ease, opacity ${e.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:e.colorTextTertiary}},"&:hover":{[`${t}-clear`]:{opacity:1}}}),[`${t}-has-feedback`]:{[`${t}-clear`]:{insetInlineEnd:n+e.fontSize+e.paddingXXS}}}},lxe=e=>{const{componentCls:t}=e;return[{[t]:{[`&-borderless ${t}-selector`]:{backgroundColor:"transparent !important",borderColor:"transparent !important",boxShadow:"none !important"},[`&${t}-in-form-item`]:{width:"100%"}}},sxe(e),nxe(e),txe(e),exe(e),{[`${t}-rtl`]:{direction:"rtl"}},NP(t,Wr(e,{borderHoverColor:e.colorPrimaryHover,outlineColor:e.controlOutline})),NP(`${t}-status-error`,Wr(e,{borderHoverColor:e.colorErrorHover,outlineColor:e.colorErrorOutline}),!0),NP(`${t}-status-warning`,Wr(e,{borderHoverColor:e.colorWarningHover,outlineColor:e.colorWarningOutline}),!0),AG(e,{borderElCls:`${t}-selector`,focusElCls:`${t}-focused`})]},uxe=Do("Select",(e,t)=>{let{rootPrefixCls:n}=t;const r=Wr(e,{rootPrefixCls:n,inputPaddingHorizontalBase:e.paddingSM-1});return[lxe(r)]},e=>({zIndexPopup:e.zIndexPopupBase+50})),cxe=()=>ee(ee({},Gf(lG(),["inputIcon","mode","getInputElement","getRawInputElement","backfill"])),{value:Th([Array,Object,String,Number]),defaultValue:Th([Array,Object,String,Number]),notFoundContent:ft.any,suffixIcon:ft.any,itemIcon:ft.any,size:Yo(),mode:Yo(),bordered:Br(!0),transitionName:String,choiceTransitionName:Yo(""),popupClassName:String,dropdownClassName:String,placement:Yo(),status:Yo(),"onUpdate:value":mi()}),nB="SECRET_COMBOBOX_MODE_DO_NOT_USE",Ll=Pt({compatConfig:{MODE:3},name:"ASelect",Option:Fk,OptGroup:Nk,inheritAttrs:!1,props:xa(cxe(),{listHeight:256,listItemHeight:24}),SECRET_COMBOBOX_MODE_DO_NOT_USE:nB,slots:Object,setup(e,t){let{attrs:n,emit:r,slots:i,expose:o}=t;const s=Ot(),a=Zk(),c=vG.useInject(),h=ge(()=>pbe(c.status,e.status)),d=()=>{var tt;(tt=s.value)===null||tt===void 0||tt.focus()},g=()=>{var tt;(tt=s.value)===null||tt===void 0||tt.blur()},y=tt=>{var It;(It=s.value)===null||It===void 0||It.scrollTo(tt)},v=ge(()=>{const{mode:tt}=e;if(tt!=="combobox")return tt===nB?"combobox":tt}),{prefixCls:x,direction:C,configProvider:I,renderEmpty:A,size:k,getPrefixCls:R,getPopupContainer:z,disabled:V,select:U}=Nr("select",e),{compactSize:N,compactItemClassnames:W}=wG(x,C),X=ge(()=>N.value||k.value),K=cb(),te=ge(()=>{var tt;return(tt=V.value)!==null&&tt!==void 0?tt:K.value}),[ae,me]=uxe(x),we=ge(()=>R()),se=ge(()=>e.placement!==void 0?e.placement:C.value==="rtl"?"bottomRight":"bottomLeft"),ue=ge(()=>HU(we.value,Jye(se.value),e.transitionName)),Te=ge(()=>an({[`${x.value}-lg`]:X.value==="large",[`${x.value}-sm`]:X.value==="small",[`${x.value}-rtl`]:C.value==="rtl",[`${x.value}-borderless`]:!e.bordered,[`${x.value}-in-form-item`]:c.isFormItemInput},fbe(x.value,h.value,c.hasFeedback),W.value,me.value)),Be=function(){for(var tt=arguments.length,It=new Array(tt),Bt=0;Bt<tt;Bt++)It[Bt]=arguments[Bt];r("update:value",It[0]),r("change",...It),a.onFieldChange()},ke=tt=>{r("blur",tt),a.onFieldBlur()};o({blur:g,focus:d,scrollTo:y});const rt=ge(()=>v.value==="multiple"||v.value==="tags"),ot=ge(()=>e.showArrow!==void 0?e.showArrow:e.loading||!(rt.value||v.value==="combobox"));return()=>{var tt,It,Bt,Lt;const{notFoundContent:Yt,listHeight:ze=256,listItemHeight:ut=24,popupClassName:Re,dropdownClassName:Ve,virtual:Le,dropdownMatchSelectWidth:Ye,id:pe=a.id.value,placeholder:ye=(tt=i.placeholder)===null||tt===void 0?void 0:tt.call(i),showArrow:Ze}=e,{hasFeedback:ht,feedbackIcon:st}=c;let Xe;Yt!==void 0?Xe=Yt:i.notFoundContent?Xe=i.notFoundContent():v.value==="combobox"?Xe=null:Xe=(A==null?void 0:A("Select"))||ne(wk,{componentName:"Select"},null);const{suffixIcon:Qe,itemIcon:lt,removeIcon:St,clearIcon:Tt}=dbe(ee(ee({},e),{multiple:rt.value,prefixCls:x.value,hasFeedback:ht,feedbackIcon:st,showArrow:ot.value}),i),Wt=Gf(e,["prefixCls","suffixIcon","itemIcon","removeIcon","clearIcon","size","bordered","status"]),Ft=an(Re||Ve,{[`${x.value}-dropdown-${C.value}`]:C.value==="rtl"},me.value);return ae(ne(b0e,Ct(Ct(Ct({ref:s,virtual:Le,dropdownMatchSelectWidth:Ye},Wt),n),{},{showSearch:(It=e.showSearch)!==null&&It!==void 0?It:(Bt=U==null?void 0:U.value)===null||Bt===void 0?void 0:Bt.showSearch,placeholder:ye,listHeight:ze,listItemHeight:ut,mode:v.value,prefixCls:x.value,direction:C.value,inputIcon:Qe,menuItemSelectedIcon:lt,removeIcon:St,clearIcon:Tt,notFoundContent:Xe,class:[Te.value,n.class],getPopupContainer:z==null?void 0:z.value,dropdownClassName:Ft,onChange:Be,onBlur:ke,id:pe,dropdownRender:Wt.dropdownRender||i.dropdownRender,transitionName:ue.value,children:(Lt=i.default)===null||Lt===void 0?void 0:Lt.call(i),tagRender:e.tagRender||i.tagRender,optionLabelRender:i.optionLabel,maxTagPlaceholder:e.maxTagPlaceholder||i.maxTagPlaceholder,showArrow:ht||Ze,disabled:te.value}),{option:i.option}))}}});Ll.install=function(e){return e.component(Ll.name,Ll),e.component(Ll.Option.displayName,Ll.Option),e.component(Ll.OptGroup.displayName,Ll.OptGroup),e};Ll.Option;Ll.OptGroup;var hxe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};function rB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){dxe(e,i,n[i])})}return e}function dxe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qk=function(t,n){var r=rB({},t,n.attrs);return ne(Ci,rB({},r,{icon:hxe}),null)};Qk.displayName="CheckCircleOutlined";Qk.inheritAttrs=!1;var fxe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"};function iB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){pxe(e,i,n[i])})}return e}function pxe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eO=function(t,n){var r=iB({},t,n.attrs);return ne(Ci,iB({},r,{icon:fxe}),null)};eO.displayName="ExclamationCircleOutlined";eO.inheritAttrs=!1;var mxe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};function oB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){gxe(e,i,n[i])})}return e}function gxe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tO=function(t,n){var r=oB({},t,n.attrs);return ne(Ci,oB({},r,{icon:mxe}),null)};tO.displayName="InfoCircleOutlined";tO.inheritAttrs=!1;var vxe={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};function aB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){yxe(e,i,n[i])})}return e}function yxe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nO=function(t,n){var r=aB({},t,n.attrs);return ne(Ci,aB({},r,{icon:vxe}),null)};nO.displayName="CloseCircleOutlined";nO.inheritAttrs=!1;var _xe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};function sB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){bxe(e,i,n[i])})}return e}function bxe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vg=function(t,n){var r=sB({},t,n.attrs);return ne(Ci,sB({},r,{icon:_xe}),null)};Vg.displayName="CheckCircleFilled";Vg.inheritAttrs=!1;var xxe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};function lB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){wxe(e,i,n[i])})}return e}function wxe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jg=function(t,n){var r=lB({},t,n.attrs);return ne(Ci,lB({},r,{icon:xxe}),null)};jg.displayName="ExclamationCircleFilled";jg.inheritAttrs=!1;var Sxe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};function uB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Cxe(e,i,n[i])})}return e}function Cxe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hg=function(t,n){var r=uB({},t,n.attrs);return ne(Ci,uB({},r,{icon:Sxe}),null)};Hg.displayName="InfoCircleFilled";Hg.inheritAttrs=!1;const ws={adjustX:1,adjustY:1},Ss=[0,0],DG={left:{points:["cr","cl"],overflow:ws,offset:[-4,0],targetOffset:Ss},right:{points:["cl","cr"],overflow:ws,offset:[4,0],targetOffset:Ss},top:{points:["bc","tc"],overflow:ws,offset:[0,-4],targetOffset:Ss},bottom:{points:["tc","bc"],overflow:ws,offset:[0,4],targetOffset:Ss},topLeft:{points:["bl","tl"],overflow:ws,offset:[0,-4],targetOffset:Ss},leftTop:{points:["tr","tl"],overflow:ws,offset:[-4,0],targetOffset:Ss},topRight:{points:["br","tr"],overflow:ws,offset:[0,-4],targetOffset:Ss},rightTop:{points:["tl","tr"],overflow:ws,offset:[4,0],targetOffset:Ss},bottomRight:{points:["tr","br"],overflow:ws,offset:[0,4],targetOffset:Ss},rightBottom:{points:["bl","br"],overflow:ws,offset:[4,0],targetOffset:Ss},bottomLeft:{points:["tl","bl"],overflow:ws,offset:[0,4],targetOffset:Ss},leftBottom:{points:["br","bl"],overflow:ws,offset:[-4,0],targetOffset:Ss}},Txe={prefixCls:String,id:String,overlayInnerStyle:ft.any},Pxe=Pt({compatConfig:{MODE:3},name:"TooltipContent",props:Txe,setup(e,t){let{slots:n}=t;return()=>{var r;return ne("div",{class:`${e.prefixCls}-inner`,id:e.id,role:"tooltip",style:e.overlayInnerStyle},[(r=n.overlay)===null||r===void 0?void 0:r.call(n)])}}});var Exe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function cB(){}const Ixe=Pt({compatConfig:{MODE:3},name:"Tooltip",inheritAttrs:!1,props:{trigger:ft.any.def(["hover"]),defaultVisible:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},placement:ft.string.def("right"),transitionName:String,animation:ft.any,afterVisibleChange:ft.func.def(()=>{}),overlayStyle:{type:Object,default:void 0},overlayClassName:String,prefixCls:ft.string.def("rc-tooltip"),mouseEnterDelay:ft.number.def(.1),mouseLeaveDelay:ft.number.def(.1),getPopupContainer:Function,destroyTooltipOnHide:{type:Boolean,default:!1},align:ft.object.def(()=>({})),arrowContent:ft.any.def(null),tipId:String,builtinPlacements:ft.object,overlayInnerStyle:{type:Object,default:void 0},popupVisible:{type:Boolean,default:void 0},onVisibleChange:Function,onPopupAlign:Function,arrow:{type:Boolean,default:!0}},setup(e,t){let{slots:n,attrs:r,expose:i}=t;const o=Et(),s=()=>{const{prefixCls:d,tipId:g,overlayInnerStyle:y}=e;return[e.arrow?ne("div",{class:`${d}-arrow`,key:"arrow"},[yf(n,e,"arrowContent")]):null,ne(Pxe,{key:"content",prefixCls:d,id:g,overlayInnerStyle:y},{overlay:n.overlay})]};i({getPopupDomNode:()=>o.value.getPopupDomNode(),triggerDOM:o,forcePopupAlign:()=>{var d;return(d=o.value)===null||d===void 0?void 0:d.forcePopupAlign()}});const c=Et(!1),h=Et(!1);return Dr(()=>{const{destroyTooltipOnHide:d}=e;if(typeof d=="boolean")c.value=d;else if(d&&typeof d=="object"){const{keepParent:g}=d;c.value=g===!0,h.value=g===!1}}),()=>{const{overlayClassName:d,trigger:g,mouseEnterDelay:y,mouseLeaveDelay:v,overlayStyle:x,prefixCls:C,afterVisibleChange:I,transitionName:A,animation:k,placement:R,align:z,destroyTooltipOnHide:V,defaultVisible:U}=e,N=Exe(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","afterVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible"]),W=ee({},N);e.visible!==void 0&&(W.popupVisible=e.visible);const X=ee(ee(ee({popupClassName:d,prefixCls:C,action:g,builtinPlacements:DG,popupPlacement:R,popupAlign:z,afterPopupVisibleChange:I,popupTransitionName:A,popupAnimation:k,defaultPopupVisible:U,destroyPopupOnHide:c.value,autoDestroy:h.value,mouseLeaveDelay:v,popupStyle:x,mouseEnterDelay:y},W),r),{onPopupVisibleChange:e.onVisibleChange||cB,onPopupAlign:e.onPopupAlign||cB,ref:o,arrow:!!e.arrow,popup:s()});return ne($2,X,{default:n.default})}}}),Mxe=()=>({trigger:[String,Array],open:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},placement:String,color:String,transitionName:String,overlayStyle:Jr(),overlayInnerStyle:Jr(),overlayClassName:String,openClassName:String,prefixCls:String,mouseEnterDelay:Number,mouseLeaveDelay:Number,getPopupContainer:Function,arrowPointAtCenter:{type:Boolean,default:void 0},arrow:{type:[Boolean,Object],default:!0},autoAdjustOverflow:{type:[Boolean,Object],default:void 0},destroyTooltipOnHide:{type:Boolean,default:void 0},align:Jr(),builtinPlacements:Jr(),children:Array,onVisibleChange:Function,"onUpdate:visible":Function,onOpenChange:Function,"onUpdate:open":Function}),Axe={adjustX:1,adjustY:1},hB={adjustX:0,adjustY:0},Dxe=[0,0];function dB(e){return typeof e=="boolean"?e?Axe:hB:ee(ee({},hB),e)}function kxe(e){const{arrowWidth:t=4,horizontalArrowShift:n=16,verticalArrowShift:r=8,autoAdjustOverflow:i,arrowPointAtCenter:o}=e,s={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(n+t),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(r+t)]},topRight:{points:["br","tc"],offset:[n+t,-4]},rightTop:{points:["tl","cr"],offset:[4,-(r+t)]},bottomRight:{points:["tr","bc"],offset:[n+t,4]},rightBottom:{points:["bl","cr"],offset:[4,r+t]},bottomLeft:{points:["tl","bc"],offset:[-(n+t),4]},leftBottom:{points:["br","cl"],offset:[-4,r+t]}};return Object.keys(s).forEach(a=>{s[a]=o?ee(ee({},s[a]),{overflow:dB(i),targetOffset:Dxe}):ee(ee({},DG[a]),{overflow:dB(i)}),s[a].ignoreShake=!0}),s}function kG(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];for(let t=0,n=e.length;t<n;t++)if(e[t]!==void 0)return e[t]}const Oxe=rS.map(e=>`${e}-inverse`),Rxe=["success","processing","error","default","warning"];function OG(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[...Oxe,...rS].includes(e):rS.includes(e)}function Lxe(e){return Rxe.includes(e)}function $xe(e,t){const n=OG(t),r=an({[`${e}-${t}`]:t&&n}),i={},o={};return t&&!n&&(i.background=t,o["--antd-arrow-background-color"]=t),{className:r,overlayStyle:i,arrowStyle:o}}function ax(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return e.map(n=>`${t}${n}`).join(",")}const RG=8;function zxe(e){const t=RG,{sizePopupArrow:n,contentRadius:r,borderRadiusOuter:i,limitVerticalRadius:o}=e,s=n/2-Math.ceil(i*(Math.sqrt(2)-1)),a=(r>12?r+2:12)-s,c=o?t-s:a;return{dropdownArrowOffset:a,dropdownArrowOffsetVertical:c}}function Bxe(e,t){const{componentCls:n,sizePopupArrow:r,marginXXS:i,borderRadiusXS:o,borderRadiusOuter:s,boxShadowPopoverArrow:a}=e,{colorBg:c,showArrowCls:h,contentRadius:d=e.borderRadiusLG,limitVerticalRadius:g}=t,{dropdownArrowOffsetVertical:y,dropdownArrowOffset:v}=zxe({sizePopupArrow:r,contentRadius:d,borderRadiusOuter:s,limitVerticalRadius:g}),x=r/2+i;return{[n]:{[`${n}-arrow`]:[ee(ee({position:"absolute",zIndex:1,display:"block"},Kpe(r,o,s,c,a)),{"&:before":{background:c}})],[[`&-placement-top ${n}-arrow`,`&-placement-topLeft ${n}-arrow`,`&-placement-topRight ${n}-arrow`].join(",")]:{bottom:0,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top ${n}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft ${n}-arrow`]:{left:{_skip_check_:!0,value:v}},[`&-placement-topRight ${n}-arrow`]:{right:{_skip_check_:!0,value:v}},[[`&-placement-bottom ${n}-arrow`,`&-placement-bottomLeft ${n}-arrow`,`&-placement-bottomRight ${n}-arrow`].join(",")]:{top:0,transform:"translateY(-100%)"},[`&-placement-bottom ${n}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},[`&-placement-bottomLeft ${n}-arrow`]:{left:{_skip_check_:!0,value:v}},[`&-placement-bottomRight ${n}-arrow`]:{right:{_skip_check_:!0,value:v}},[[`&-placement-left ${n}-arrow`,`&-placement-leftTop ${n}-arrow`,`&-placement-leftBottom ${n}-arrow`].join(",")]:{right:{_skip_check_:!0,value:0},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left ${n}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop ${n}-arrow`]:{top:y},[`&-placement-leftBottom ${n}-arrow`]:{bottom:y},[[`&-placement-right ${n}-arrow`,`&-placement-rightTop ${n}-arrow`,`&-placement-rightBottom ${n}-arrow`].join(",")]:{left:{_skip_check_:!0,value:0},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right ${n}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop ${n}-arrow`]:{top:y},[`&-placement-rightBottom ${n}-arrow`]:{bottom:y},[ax(["&-placement-topLeft","&-placement-top","&-placement-topRight"].map(C=>C+=":not(&-arrow-hidden)"),h)]:{paddingBottom:x},[ax(["&-placement-bottomLeft","&-placement-bottom","&-placement-bottomRight"].map(C=>C+=":not(&-arrow-hidden)"),h)]:{paddingTop:x},[ax(["&-placement-leftTop","&-placement-left","&-placement-leftBottom"].map(C=>C+=":not(&-arrow-hidden)"),h)]:{paddingRight:{_skip_check_:!0,value:x}},[ax(["&-placement-rightTop","&-placement-right","&-placement-rightBottom"].map(C=>C+=":not(&-arrow-hidden)"),h)]:{paddingLeft:{_skip_check_:!0,value:x}}}}}const Fxe=e=>{const{componentCls:t,tooltipMaxWidth:n,tooltipColor:r,tooltipBg:i,tooltipBorderRadius:o,zIndexPopup:s,controlHeight:a,boxShadowSecondary:c,paddingSM:h,paddingXS:d,tooltipRadiusOuter:g}=e;return[{[t]:ee(ee(ee(ee({},Io(e)),{position:"absolute",zIndex:s,display:"block","&":[{width:"max-content"},{width:"intrinsic"}],maxWidth:n,visibility:"visible","&-hidden":{display:"none"},"--antd-arrow-background-color":i,[`${t}-inner`]:{minWidth:a,minHeight:a,padding:`${h/2}px ${d}px`,color:r,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:i,borderRadius:o,boxShadow:c},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${t}-inner`]:{borderRadius:Math.min(o,RG)}},[`${t}-content`]:{position:"relative"}}),eU(e,(y,v)=>{let{darkColor:x}=v;return{[`&${t}-${y}`]:{[`${t}-inner`]:{backgroundColor:x},[`${t}-arrow`]:{"--antd-arrow-background-color":x}}}})),{"&-rtl":{direction:"rtl"}})},Bxe(Wr(e,{borderRadiusOuter:g}),{colorBg:"var(--antd-arrow-background-color)",showArrowCls:"",contentRadius:o,limitVerticalRadius:!0}),{[`${t}-pure`]:{position:"relative",maxWidth:"none"}}]},Nxe=(e,t)=>Do("Tooltip",r=>{if((t==null?void 0:t.value)===!1)return[];const{borderRadius:i,colorTextLightSolid:o,colorBgDefault:s,borderRadiusOuter:a}=r,c=Wr(r,{tooltipMaxWidth:250,tooltipColor:o,tooltipBorderRadius:i,tooltipBg:s,tooltipRadiusOuter:a>4?4:a});return[Fxe(c),EG(r,"zoom-big-fast")]},r=>{let{zIndexPopupBase:i,colorBgSpotlight:o}=r;return{zIndexPopup:i+70,colorBgDefault:o}})(e),Vxe=(e,t)=>{const n={},r=ee({},e);return t.forEach(i=>{e&&i in e&&(n[i]=e[i],delete r[i])}),{picked:n,omitted:r}},jxe=()=>ee(ee({},Mxe()),{title:ft.any}),Hxe=Pt({compatConfig:{MODE:3},name:"ATooltip",inheritAttrs:!1,props:xa(jxe(),{trigger:"hover",align:{},placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0}),slots:Object,setup(e,t){let{slots:n,emit:r,attrs:i,expose:o}=t;const{prefixCls:s,getPopupContainer:a,direction:c,rootPrefixCls:h}=Nr("tooltip",e),d=ge(()=>{var K;return(K=e.open)!==null&&K!==void 0?K:e.visible}),g=Ot(kG([e.open,e.visible])),y=Ot();let v;qt(d,K=>{Tr.cancel(v),v=Tr(()=>{g.value=!!K})});const x=()=>{var K;const te=(K=e.title)!==null&&K!==void 0?K:n.title;return!te&&te!==0},C=K=>{const te=x();d.value===void 0&&(g.value=te?!1:K),te||(r("update:visible",K),r("visibleChange",K),r("update:open",K),r("openChange",K))};o({getPopupDomNode:()=>y.value.getPopupDomNode(),open:g,forcePopupAlign:()=>{var K;return(K=y.value)===null||K===void 0?void 0:K.forcePopupAlign()}});const A=ge(()=>{var K;const{builtinPlacements:te,autoAdjustOverflow:ae,arrow:me,arrowPointAtCenter:we}=e;let se=we;return typeof me=="object"&&(se=(K=me.pointAtCenter)!==null&&K!==void 0?K:we),te||kxe({arrowPointAtCenter:se,autoAdjustOverflow:ae})}),k=K=>K||K==="",R=K=>{const te=K.type;if(typeof te=="object"&&K.props&&((te.__ANT_BUTTON===!0||te==="button")&&k(K.props.disabled)||te.__ANT_SWITCH===!0&&(k(K.props.disabled)||k(K.props.loading))||te.__ANT_RADIO===!0&&k(K.props.disabled))){const{picked:ae,omitted:me}=Vxe(xfe(K),["position","left","right","top","bottom","float","display","zIndex"]),we=ee(ee({display:"inline-block"},ae),{cursor:"not-allowed",lineHeight:1,width:K.props&&K.props.block?"100%":void 0}),se=ee(ee({},me),{pointerEvents:"none"}),ue=Oa(K,{style:se},!0);return ne("span",{style:we,class:`${s.value}-disabled-compatible-wrapper`},[ue])}return K},z=()=>{var K,te;return(K=e.title)!==null&&K!==void 0?K:(te=n.title)===null||te===void 0?void 0:te.call(n)},V=(K,te)=>{const ae=A.value,me=Object.keys(ae).find(we=>{var se,ue;return ae[we].points[0]===((se=te.points)===null||se===void 0?void 0:se[0])&&ae[we].points[1]===((ue=te.points)===null||ue===void 0?void 0:ue[1])});if(me){const we=K.getBoundingClientRect(),se={top:"50%",left:"50%"};me.indexOf("top")>=0||me.indexOf("Bottom")>=0?se.top=`${we.height-te.offset[1]}px`:(me.indexOf("Top")>=0||me.indexOf("bottom")>=0)&&(se.top=`${-te.offset[1]}px`),me.indexOf("left")>=0||me.indexOf("Right")>=0?se.left=`${we.width-te.offset[0]}px`:(me.indexOf("right")>=0||me.indexOf("Left")>=0)&&(se.left=`${-te.offset[0]}px`),K.style.transformOrigin=`${se.left} ${se.top}`}},U=ge(()=>$xe(s.value,e.color)),N=ge(()=>i["data-popover-inject"]),[W,X]=Nxe(s,ge(()=>!N.value));return()=>{var K,te;const{openClassName:ae,overlayClassName:me,overlayStyle:we,overlayInnerStyle:se}=e;let ue=(te=Uf((K=n.default)===null||K===void 0?void 0:K.call(n)))!==null&&te!==void 0?te:null;ue=ue.length===1?ue[0]:ue;let Te=g.value;if(d.value===void 0&&x()&&(Te=!1),!ue)return null;const Be=R(Oh(ue)&&!wfe(ue)?ue:ne("span",null,[ue])),ke=an({[ae||`${s.value}-open`]:!0,[Be.props&&Be.props.class]:Be.props&&Be.props.class}),rt=an(me,{[`${s.value}-rtl`]:c.value==="rtl"},U.value.className,X.value),ot=ee(ee({},U.value.overlayStyle),se),tt=U.value.arrowStyle,It=ee(ee(ee({},i),e),{prefixCls:s.value,arrow:!!e.arrow,getPopupContainer:a==null?void 0:a.value,builtinPlacements:A.value,visible:Te,ref:y,overlayClassName:rt,overlayStyle:ee(ee({},tt),we),overlayInnerStyle:ot,onVisibleChange:C,onPopupAlign:V,transitionName:HU(h.value,"zoom-big-fast",e.transitionName)});return W(ne(Ixe,It,{default:()=>[g.value?Oa(Be,{class:ke}):Be],arrowContent:()=>ne("span",{class:`${s.value}-arrow-content`},null),overlay:z}))}}}),Uxe=ub(Hxe),Jp={adjustX:1,adjustY:1},Qp=[0,0],Gxe={topLeft:{points:["bl","tl"],overflow:Jp,offset:[0,-4],targetOffset:Qp},topCenter:{points:["bc","tc"],overflow:Jp,offset:[0,-4],targetOffset:Qp},topRight:{points:["br","tr"],overflow:Jp,offset:[0,-4],targetOffset:Qp},bottomLeft:{points:["tl","bl"],overflow:Jp,offset:[0,4],targetOffset:Qp},bottomCenter:{points:["tc","bc"],overflow:Jp,offset:[0,4],targetOffset:Qp},bottomRight:{points:["tr","br"],overflow:Jp,offset:[0,4],targetOffset:Qp}};var Wxe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Zxe=Pt({compatConfig:{MODE:3},props:{minOverlayWidthMatchTrigger:{type:Boolean,default:void 0},arrow:{type:Boolean,default:!1},prefixCls:ft.string.def("rc-dropdown"),transitionName:String,overlayClassName:ft.string.def(""),openClassName:String,animation:ft.any,align:ft.object,overlayStyle:{type:Object,default:void 0},placement:ft.string.def("bottomLeft"),overlay:ft.any,trigger:ft.oneOfType([ft.string,ft.arrayOf(ft.string)]).def("hover"),alignPoint:{type:Boolean,default:void 0},showAction:ft.array,hideAction:ft.array,getPopupContainer:Function,visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!1},mouseEnterDelay:ft.number.def(.15),mouseLeaveDelay:ft.number.def(.1)},emits:["visibleChange","overlayClick"],setup(e,t){let{slots:n,emit:r,expose:i}=t;const o=Ot(!!e.visible);qt(()=>e.visible,v=>{v!==void 0&&(o.value=v)});const s=Ot();i({triggerRef:s});const a=v=>{e.visible===void 0&&(o.value=!1),r("overlayClick",v)},c=v=>{e.visible===void 0&&(o.value=v),r("visibleChange",v)},h=()=>{var v;const x=(v=n.overlay)===null||v===void 0?void 0:v.call(n),C={prefixCls:`${e.prefixCls}-menu`,onClick:a};return ne(vn,{key:bH},[e.arrow&&ne("div",{class:`${e.prefixCls}-arrow`},null),Oa(x,C,!1)])},d=ge(()=>{const{minOverlayWidthMatchTrigger:v=!e.alignPoint}=e;return v}),g=()=>{var v;const x=(v=n.default)===null||v===void 0?void 0:v.call(n);return o.value&&x?Oa(x[0],{class:e.openClassName||`${e.prefixCls}-open`},!1):x},y=ge(()=>!e.hideAction&&e.trigger.indexOf("contextmenu")!==-1?["click"]:e.hideAction);return()=>{const{prefixCls:v,arrow:x,showAction:C,overlayStyle:I,trigger:A,placement:k,align:R,getPopupContainer:z,transitionName:V,animation:U,overlayClassName:N}=e,W=Wxe(e,["prefixCls","arrow","showAction","overlayStyle","trigger","placement","align","getPopupContainer","transitionName","animation","overlayClassName"]);return ne($2,Ct(Ct({},W),{},{prefixCls:v,ref:s,popupClassName:an(N,{[`${v}-show-arrow`]:x}),popupStyle:I,builtinPlacements:Gxe,action:A,showAction:C,hideAction:y.value||[],popupPlacement:k,popupAlign:R,popupTransitionName:V,popupAnimation:U,popupVisible:o.value,stretch:d.value?"minWidth":"",onPopupVisibleChange:c,getPopupContainer:z}),{popup:h,default:g})}}}),qxe=e=>{const{componentCls:t,colorPrimary:n}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0}}}}},Kxe=Do("Wave",e=>[qxe(e)]);function Xxe(e){const t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return t&&t[1]&&t[2]&&t[3]?!(t[1]===t[2]&&t[2]===t[3]):!0}function VP(e){return e&&e!=="#fff"&&e!=="#ffffff"&&e!=="rgb(255, 255, 255)"&&e!=="rgba(255, 255, 255, 1)"&&Xxe(e)&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&e!=="transparent"}function Yxe(e){const{borderTopColor:t,borderColor:n,backgroundColor:r}=getComputedStyle(e);return VP(t)?t:VP(n)?n:VP(r)?r:null}function jP(e){return Number.isNaN(e)?0:e}const Jxe=Pt({props:{target:Jr(),className:String},setup(e){const t=Et(null),[n,r]=ci(null),[i,o]=ci([]),[s,a]=ci(0),[c,h]=ci(0),[d,g]=ci(0),[y,v]=ci(0),[x,C]=ci(!1);function I(){const{target:N}=e,W=getComputedStyle(N);r(Yxe(N));const X=W.position==="static",{borderLeftWidth:K,borderTopWidth:te}=W;a(X?N.offsetLeft:jP(-parseFloat(K))),h(X?N.offsetTop:jP(-parseFloat(te))),g(N.offsetWidth),v(N.offsetHeight);const{borderTopLeftRadius:ae,borderTopRightRadius:me,borderBottomLeftRadius:we,borderBottomRightRadius:se}=W;o([ae,me,se,we].map(ue=>jP(parseFloat(ue))))}let A,k,R;const z=()=>{clearTimeout(R),Tr.cancel(k),A==null||A.disconnect()},V=()=>{var N;const W=(N=t.value)===null||N===void 0?void 0:N.parentElement;W&&(a0(null,W),W.parentElement&&W.parentElement.removeChild(W))};Nn(()=>{z(),R=setTimeout(()=>{V()},5e3);const{target:N}=e;N&&(k=Tr(()=>{I(),C(!0)}),typeof ResizeObserver<"u"&&(A=new ResizeObserver(I),A.observe(N)))}),ii(()=>{z()});const U=N=>{N.propertyName==="opacity"&&V()};return()=>{if(!x.value)return null;const N={left:`${s.value}px`,top:`${c.value}px`,width:`${d.value}px`,height:`${y.value}px`,borderRadius:i.value.map(W=>`${W}px`).join(" ")};return n&&(N["--wave-color"]=n.value),ne(us,{appear:!0,name:"wave-motion",appearFromClass:"wave-motion-appear",appearActiveClass:"wave-motion-appear",appearToClass:"wave-motion-appear wave-motion-appear-active"},{default:()=>[ne("div",{ref:t,class:e.className,style:N,onTransitionend:U},null)]})}}});function Qxe(e,t){const n=document.createElement("div");return n.style.position="absolute",n.style.left="0px",n.style.top="0px",e==null||e.insertBefore(n,e==null?void 0:e.firstChild),a0(ne(Jxe,{target:e,className:t},null),n),()=>{a0(null,n),n.parentElement&&n.parentElement.removeChild(n)}}function ewe(e,t){const n=Ao();let r;function i(){var o;const s=ah(n);r==null||r(),!(!((o=t==null?void 0:t.value)===null||o===void 0)&&o.disabled||!s)&&(r=Qxe(s,e.value))}return ii(()=>{r==null||r()}),i}const LG=Pt({compatConfig:{MODE:3},name:"Wave",props:{disabled:Boolean},setup(e,t){let{slots:n}=t;const r=Ao(),{prefixCls:i,wave:o}=Nr("wave",e),[,s]=Kxe(i),a=ewe(ge(()=>an(i.value,s.value)),o);let c;const h=()=>{ah(r).removeEventListener("click",c,!0)};return Nn(()=>{qt(()=>e.disabled,()=>{h(),wi(()=>{const d=ah(r);d==null||d.removeEventListener("click",c,!0),!(!d||d.nodeType!==1||e.disabled)&&(c=g=>{g.target.tagName==="INPUT"||!PU(g.target)||!d.getAttribute||d.getAttribute("disabled")||d.disabled||d.className.includes("disabled")||d.className.includes("-leave")||a()},d.addEventListener("click",c,!0))})},{immediate:!0,flush:"post"})}),ii(()=>{h()}),()=>{var d;return(d=n.default)===null||d===void 0?void 0:d.call(n)[0]}}}),twe=()=>({prefixCls:String,type:String,htmlType:{type:String,default:"button"},shape:{type:String},size:{type:String},loading:{type:[Boolean,Object],default:()=>!1},disabled:{type:Boolean,default:void 0},ghost:{type:Boolean,default:void 0},block:{type:Boolean,default:void 0},danger:{type:Boolean,default:void 0},icon:ft.any,href:String,target:String,title:String,onClick:mM(),onMousedown:mM()}),fB=e=>{e&&(e.style.width="0px",e.style.opacity="0",e.style.transform="scale(0)")},pB=e=>{wi(()=>{e&&(e.style.width=`${e.scrollWidth}px`,e.style.opacity="1",e.style.transform="scale(1)")})},mB=e=>{e&&e.style&&(e.style.width=null,e.style.opacity=null,e.style.transform=null)},nwe=Pt({compatConfig:{MODE:3},name:"LoadingIcon",props:{prefixCls:String,loading:[Boolean,Object],existIcon:Boolean},setup(e){return()=>{const{existIcon:t,prefixCls:n,loading:r}=e;if(t)return ne("span",{class:`${n}-loading-icon`},[ne(Eh,null,null)]);const i=!!r;return ne(us,{name:`${n}-loading-icon-motion`,onBeforeEnter:fB,onEnter:pB,onAfterEnter:mB,onBeforeLeave:pB,onLeave:o=>{setTimeout(()=>{fB(o)})},onAfterLeave:mB},{default:()=>[i?ne("span",{class:`${n}-loading-icon`},[ne(Eh,null,null)]):null]})}}}),gB=(e,t)=>({[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}}),rwe=e=>{const{componentCls:t,fontSize:n,lineWidth:r,colorPrimaryHover:i,colorErrorHover:o}=e;return{[`${t}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:-r,[`&, & > ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover,\n          &:focus,\n          &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${t}-icon-only`]:{fontSize:n}},gB(`${t}-primary`,i),gB(`${t}-danger`,o)]}};function iwe(e,t){return{[`&-item:not(${t}-last-item)`]:{marginBottom:-e.lineWidth},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function owe(e,t){return{[`&-item:not(${t}-first-item):not(${t}-last-item)`]:{borderRadius:0},[`&-item${t}-first-item:not(${t}-last-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${t}-last-item:not(${t}-first-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function awe(e){const t=`${e.componentCls}-compact-vertical`;return{[t]:ee(ee({},iwe(e,t)),owe(e.componentCls,t))}}const swe=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:{outline:"none",position:"relative",display:"inline-block",fontWeight:400,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",backgroundColor:"transparent",border:`${e.lineWidth}px ${e.lineType} transparent`,cursor:"pointer",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",lineHeight:e.lineHeight,color:e.colorText,"> span":{display:"inline-block"},[`> ${n} + span, > span + ${n}`]:{marginInlineStart:e.marginXS},"> a":{color:"currentColor"},"&:not(:disabled)":ee({},_k(e)),[`&-icon-only${t}-compact-item`]:{flex:"none"},[`&-compact-item${t}-primary`]:{[`&:not([disabled]) + ${t}-compact-item${t}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-e.lineWidth,insetInlineStart:-e.lineWidth,display:"inline-block",width:e.lineWidth,height:`calc(100% + ${e.lineWidth*2}px)`,backgroundColor:e.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${t}-primary`]:{[`&:not([disabled]) + ${t}-compact-vertical-item${t}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-e.lineWidth,insetInlineStart:-e.lineWidth,display:"inline-block",width:`calc(100% + ${e.lineWidth*2}px)`,height:e.lineWidth,backgroundColor:e.colorPrimaryHover,content:'""'}}}}}}},nc=(e,t)=>({"&:not(:disabled)":{"&:hover":e,"&:active":t}}),lwe=e=>({minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),uwe=e=>({borderRadius:e.controlHeight,paddingInlineStart:e.controlHeight/2,paddingInlineEnd:e.controlHeight/2}),zM=e=>({cursor:"not-allowed",borderColor:e.colorBorder,color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,boxShadow:"none"}),hS=(e,t,n,r,i,o,s)=>({[`&${e}-background-ghost`]:ee(ee({color:t||void 0,backgroundColor:"transparent",borderColor:n||void 0,boxShadow:"none"},nc(ee({backgroundColor:"transparent"},o),ee({backgroundColor:"transparent"},s))),{"&:disabled":{cursor:"not-allowed",color:r||void 0,borderColor:i||void 0}})}),rO=e=>({"&:disabled":ee({},zM(e))}),$G=e=>ee({},rO(e)),dS=e=>({"&:disabled":{cursor:"not-allowed",color:e.colorTextDisabled}}),zG=e=>ee(ee(ee(ee(ee({},$G(e)),{backgroundColor:e.colorBgContainer,borderColor:e.colorBorder,boxShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlTmpOutline}`}),nc({color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),hS(e.componentCls,e.colorBgContainer,e.colorBgContainer,e.colorTextDisabled,e.colorBorder)),{[`&${e.componentCls}-dangerous`]:ee(ee(ee({color:e.colorError,borderColor:e.colorError},nc({color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),hS(e.componentCls,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder)),rO(e))}),cwe=e=>ee(ee(ee(ee(ee({},$G(e)),{color:e.colorTextLightSolid,backgroundColor:e.colorPrimary,boxShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlOutline}`}),nc({color:e.colorTextLightSolid,backgroundColor:e.colorPrimaryHover},{color:e.colorTextLightSolid,backgroundColor:e.colorPrimaryActive})),hS(e.componentCls,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),{[`&${e.componentCls}-dangerous`]:ee(ee(ee({backgroundColor:e.colorError,boxShadow:`0 ${e.controlOutlineWidth}px 0 ${e.colorErrorOutline}`},nc({backgroundColor:e.colorErrorHover},{backgroundColor:e.colorErrorActive})),hS(e.componentCls,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),rO(e))}),hwe=e=>ee(ee({},zG(e)),{borderStyle:"dashed"}),dwe=e=>ee(ee(ee({color:e.colorLink},nc({color:e.colorLinkHover},{color:e.colorLinkActive})),dS(e)),{[`&${e.componentCls}-dangerous`]:ee(ee({color:e.colorError},nc({color:e.colorErrorHover},{color:e.colorErrorActive})),dS(e))}),fwe=e=>ee(ee(ee({},nc({color:e.colorText,backgroundColor:e.colorBgTextHover},{color:e.colorText,backgroundColor:e.colorBgTextActive})),dS(e)),{[`&${e.componentCls}-dangerous`]:ee(ee({color:e.colorError},dS(e)),nc({color:e.colorErrorHover,backgroundColor:e.colorErrorBg},{color:e.colorErrorHover,backgroundColor:e.colorErrorBg}))}),pwe=e=>ee(ee({},zM(e)),{[`&${e.componentCls}:hover`]:ee({},zM(e))}),mwe=e=>{const{componentCls:t}=e;return{[`${t}-default`]:zG(e),[`${t}-primary`]:cwe(e),[`${t}-dashed`]:hwe(e),[`${t}-link`]:dwe(e),[`${t}-text`]:fwe(e),[`${t}-disabled`]:pwe(e)}},iO=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:n,iconCls:r,controlHeight:i,fontSize:o,lineHeight:s,lineWidth:a,borderRadius:c,buttonPaddingHorizontal:h}=e,d=Math.max(0,(i-o*s)/2-a),g=h-a,y=`${n}-icon-only`;return[{[`${n}${t}`]:{fontSize:o,height:i,padding:`${d}px ${g}px`,borderRadius:c,[`&${y}`]:{width:i,paddingInlineStart:0,paddingInlineEnd:0,[`&${n}-round`]:{width:"auto"},"> span":{transform:"scale(1.143)"}},[`&${n}-loading`]:{opacity:e.opacityLoading,cursor:"default"},[`${n}-loading-icon`]:{transition:`width ${e.motionDurationSlow} ${e.motionEaseInOut}, opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`},[`&:not(${y}) ${n}-loading-icon > ${r}`]:{marginInlineEnd:e.marginXS}}},{[`${n}${n}-circle${t}`]:lwe(e)},{[`${n}${n}-round${t}`]:uwe(e)}]},gwe=e=>iO(e),vwe=e=>{const t=Wr(e,{controlHeight:e.controlHeightSM,padding:e.paddingXS,buttonPaddingHorizontal:8,borderRadius:e.borderRadiusSM});return iO(t,`${e.componentCls}-sm`)},ywe=e=>{const t=Wr(e,{controlHeight:e.controlHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG});return iO(t,`${e.componentCls}-lg`)},_we=e=>{const{componentCls:t}=e;return{[t]:{[`&${t}-block`]:{width:"100%"}}}},bwe=Do("Button",e=>{const{controlTmpOutline:t,paddingContentHorizontal:n}=e,r=Wr(e,{colorOutlineDefault:t,buttonPaddingHorizontal:n});return[swe(r),vwe(r),gwe(r),ywe(r),_we(r),mwe(r),rwe(r),AG(e,{focus:!1}),awe(e)]}),xwe=()=>({prefixCls:String,size:{type:String}}),BG=Wk(),BM=Pt({compatConfig:{MODE:3},name:"AButtonGroup",props:xwe(),setup(e,t){let{slots:n}=t;const{prefixCls:r,direction:i}=Nr("btn-group",e),[,,o]=Ng();BG.useProvide(Gi({size:ge(()=>e.size)}));const s=ge(()=>{const{size:a}=e;let c="";switch(a){case"large":c="lg";break;case"small":c="sm";break;case"middle":case void 0:break;default:ll(!a,"Button.Group","Invalid prop `size`.")}return{[`${r.value}`]:!0,[`${r.value}-${c}`]:c,[`${r.value}-rtl`]:i.value==="rtl",[o.value]:!0}});return()=>{var a;return ne("div",{class:s.value},[ao((a=n.default)===null||a===void 0?void 0:a.call(n))])}}}),vB=/^[\u4e00-\u9fa5]{2}$/,yB=vB.test.bind(vB);function sx(e){return e==="text"||e==="link"}const Wm=Pt({compatConfig:{MODE:3},name:"AButton",inheritAttrs:!1,__ANT_BUTTON:!0,props:xa(twe(),{type:"default"}),slots:Object,setup(e,t){let{slots:n,attrs:r,emit:i,expose:o}=t;const{prefixCls:s,autoInsertSpaceInButton:a,direction:c,size:h}=Nr("btn",e),[d,g]=bwe(s),y=BG.useInject(),v=cb(),x=ge(()=>{var se;return(se=e.disabled)!==null&&se!==void 0?se:v.value}),C=Et(null),I=Et(void 0);let A=!1;const k=Et(!1),R=Et(!1),z=ge(()=>a.value!==!1),{compactSize:V,compactItemClassnames:U}=wG(s,c),N=ge(()=>typeof e.loading=="object"&&e.loading.delay?e.loading.delay||!0:!!e.loading);qt(N,se=>{clearTimeout(I.value),typeof N.value=="number"?I.value=setTimeout(()=>{k.value=se},N.value):k.value=se},{immediate:!0});const W=ge(()=>{const{type:se,shape:ue="default",ghost:Te,block:Be,danger:ke}=e,rt=s.value,ot={large:"lg",small:"sm",middle:void 0},tt=V.value||(y==null?void 0:y.size)||h.value,It=tt&&ot[tt]||"";return[U.value,{[g.value]:!0,[`${rt}`]:!0,[`${rt}-${ue}`]:ue!=="default"&&ue,[`${rt}-${se}`]:se,[`${rt}-${It}`]:It,[`${rt}-loading`]:k.value,[`${rt}-background-ghost`]:Te&&!sx(se),[`${rt}-two-chinese-chars`]:R.value&&z.value,[`${rt}-block`]:Be,[`${rt}-dangerous`]:!!ke,[`${rt}-rtl`]:c.value==="rtl"}]}),X=()=>{const se=C.value;if(!se||a.value===!1)return;const ue=se.textContent;A&&yB(ue)?R.value||(R.value=!0):R.value&&(R.value=!1)},K=se=>{if(k.value||x.value){se.preventDefault();return}i("click",se)},te=se=>{i("mousedown",se)},ae=(se,ue)=>{const Te=ue?" ":"";if(se.type===Wl){let Be=se.children.trim();return yB(Be)&&(Be=Be.split("").join(Te)),ne("span",null,[Be])}return se};return Dr(()=>{ll(!(e.ghost&&sx(e.type)),"Button","`link` or `text` button can't be a `ghost` button.")}),Nn(X),Dh(X),ii(()=>{I.value&&clearTimeout(I.value)}),o({focus:()=>{var se;(se=C.value)===null||se===void 0||se.focus()},blur:()=>{var se;(se=C.value)===null||se===void 0||se.blur()}}),()=>{var se,ue;const{icon:Te=(se=n.icon)===null||se===void 0?void 0:se.call(n)}=e,Be=ao((ue=n.default)===null||ue===void 0?void 0:ue.call(n));A=Be.length===1&&!Te&&!sx(e.type);const{type:ke,htmlType:rt,href:ot,title:tt,target:It}=e,Bt=k.value?"loading":Te,Lt=ee(ee({},r),{title:tt,disabled:x.value,class:[W.value,r.class,{[`${s.value}-icon-only`]:Be.length===0&&!!Bt}],onClick:K,onMousedown:te});x.value||delete Lt.disabled;const Yt=Te&&!k.value?Te:ne(nwe,{existIcon:!!Te,prefixCls:s.value,loading:!!k.value},null),ze=Be.map(Re=>ae(Re,A&&z.value));if(ot!==void 0)return d(ne("a",Ct(Ct({},Lt),{},{href:ot,target:It,ref:C}),[Yt,ze]));let ut=ne("button",Ct(Ct({},Lt),{},{ref:C,type:rt}),[Yt,ze]);if(!sx(ke)){const Re=function(){return ut}();ut=ne(LG,{ref:"wave",disabled:!!k.value},{default:()=>[Re]})}return d(ut)}}});Wm.Group=BM;Wm.install=function(e){return e.component(Wm.name,Wm),e.component(BM.name,BM),e};var wwe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};function _B(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Swe(e,i,n[i])})}return e}function Swe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F2=function(t,n){var r=_B({},t,n.attrs);return ne(Ci,_B({},r,{icon:wwe}),null)};F2.displayName="EllipsisOutlined";F2.inheritAttrs=!1;var Cwe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};function bB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Twe(e,i,n[i])})}return e}function Twe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oO=function(t,n){var r=bB({},t,n.attrs);return ne(Ci,bB({},r,{icon:Cwe}),null)};oO.displayName="RightOutlined";oO.inheritAttrs=!1;const FG=Symbol("OverrideContextKey"),NG=()=>Mn(FG,void 0),Pwe=e=>{var t,n,r;const{prefixCls:i,mode:o,selectable:s,validator:a,onClick:c,expandIcon:h}=NG()||{};fr(FG,{prefixCls:ge(()=>{var d,g;return(g=(d=e.prefixCls)===null||d===void 0?void 0:d.value)!==null&&g!==void 0?g:i==null?void 0:i.value}),mode:ge(()=>{var d,g;return(g=(d=e.mode)===null||d===void 0?void 0:d.value)!==null&&g!==void 0?g:o==null?void 0:o.value}),selectable:ge(()=>{var d,g;return(g=(d=e.selectable)===null||d===void 0?void 0:d.value)!==null&&g!==void 0?g:s==null?void 0:s.value}),validator:(t=e.validator)!==null&&t!==void 0?t:a,onClick:(n=e.onClick)!==null&&n!==void 0?n:c,expandIcon:(r=e.expandIcon)!==null&&r!==void 0?r:h==null?void 0:h.value})};function Ewe(e,t,n,r){let i;if(i!==void 0)return!!i;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;const o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;const a=Object.prototype.hasOwnProperty.bind(t);for(let c=0;c<o.length;c++){const h=o[c];if(!a(h))return!1;const d=e[h],g=t[h];if(i=void 0,i===!1||i===void 0&&d!==g)return!1}return!0}function Ry(e,t){return Ewe(Un(e),Un(t))}const VG=Symbol("menuContextKey"),jG=e=>{fr(VG,e)},pc=()=>Mn(VG),HG=Symbol("ForceRenderKey"),Iwe=e=>{fr(HG,e)},UG=()=>Mn(HG,!1),GG=Symbol("menuFirstLevelContextKey"),WG=e=>{fr(GG,e)},Mwe=()=>Mn(GG,!0),fS=Pt({compatConfig:{MODE:3},name:"MenuContextProvider",inheritAttrs:!1,props:{mode:{type:String,default:void 0},overflowDisabled:{type:Boolean,default:void 0}},setup(e,t){let{slots:n}=t;const r=pc(),i=ee({},r);return e.mode!==void 0&&(i.mode=Ds(e,"mode")),e.overflowDisabled!==void 0&&(i.overflowDisabled=Ds(e,"overflowDisabled")),jG(i),()=>{var o;return(o=n.default)===null||o===void 0?void 0:o.call(n)}}}),Awe=Symbol("siderCollapsed"),lx="$$__vc-menu-more__key",ZG=Symbol("KeyPathContext"),aO=()=>Mn(ZG,{parentEventKeys:ge(()=>[]),parentKeys:ge(()=>[]),parentInfo:{}}),Dwe=(e,t,n)=>{const{parentEventKeys:r,parentKeys:i}=aO(),o=ge(()=>[...r.value,e]),s=ge(()=>[...i.value,t]);return fr(ZG,{parentEventKeys:o,parentKeys:s,parentInfo:n}),s},qG=Symbol("measure"),xB=Pt({compatConfig:{MODE:3},setup(e,t){let{slots:n}=t;return fr(qG,!0),()=>{var r;return(r=n.default)===null||r===void 0?void 0:r.call(n)}}}),sO=()=>Mn(qG,!1);function KG(e){const{mode:t,rtl:n,inlineIndent:r}=pc();return ge(()=>t.value!=="inline"?null:n.value?{paddingRight:`${e.value*r.value}px`}:{paddingLeft:`${e.value*r.value}px`})}let kwe=0;const Owe=()=>({id:String,role:String,disabled:Boolean,danger:Boolean,title:{type:[String,Boolean],default:void 0},icon:ft.any,onMouseenter:Function,onMouseleave:Function,onClick:Function,onKeydown:Function,onFocus:Function,originItemValue:Jr()}),wg=Pt({compatConfig:{MODE:3},name:"AMenuItem",inheritAttrs:!1,props:Owe(),slots:Object,setup(e,t){let{slots:n,emit:r,attrs:i}=t;const o=Ao(),s=sO(),a=typeof o.vnode.key=="symbol"?String(o.vnode.key):o.vnode.key;ll(typeof o.vnode.key!="symbol","MenuItem",`MenuItem \`:key="${String(a)}"\` not support Symbol type`);const c=`menu_item_${++kwe}_$$_${a}`,{parentEventKeys:h,parentKeys:d}=aO(),{prefixCls:g,activeKeys:y,disabled:v,changeActiveKeys:x,rtl:C,inlineCollapsed:I,siderCollapsed:A,onItemClick:k,selectedKeys:R,registerMenuInfo:z,unRegisterMenuInfo:V}=pc(),U=Mwe(),N=Et(!1),W=ge(()=>[...d.value,a]);z(c,{eventKey:c,key:a,parentEventKeys:h,parentKeys:d,isLeaf:!0}),ii(()=>{V(c)}),qt(y,()=>{N.value=!!y.value.find(ot=>ot===a)},{immediate:!0});const K=ge(()=>v.value||e.disabled),te=ge(()=>R.value.includes(a)),ae=ge(()=>{const ot=`${g.value}-item`;return{[`${ot}`]:!0,[`${ot}-danger`]:e.danger,[`${ot}-active`]:N.value,[`${ot}-selected`]:te.value,[`${ot}-disabled`]:K.value}}),me=ot=>({key:a,eventKey:c,keyPath:W.value,eventKeyPath:[...h.value,c],domEvent:ot,item:ee(ee({},e),i)}),we=ot=>{if(K.value)return;const tt=me(ot);r("click",ot),k(tt)},se=ot=>{K.value||(x(W.value),r("mouseenter",ot))},ue=ot=>{K.value||(x([]),r("mouseleave",ot))},Te=ot=>{if(r("keydown",ot),ot.which===Ht.ENTER){const tt=me(ot);r("click",ot),k(tt)}},Be=ot=>{x(W.value),r("focus",ot)},ke=(ot,tt)=>{const It=ne("span",{class:`${g.value}-title-content`},[tt]);return(!ot||Oh(tt)&&tt.type==="span")&&I.value&&U&&typeof tt=="string"?ne("div",{class:`${g.value}-inline-collapsed-noicon`},[tt.charAt(0)]):It},rt=KG(ge(()=>W.value.length));return()=>{var ot,tt,It,Bt,Lt;if(s)return null;const Yt=(ot=e.title)!==null&&ot!==void 0?ot:(tt=n.title)===null||tt===void 0?void 0:tt.call(n),ze=ao((It=n.default)===null||It===void 0?void 0:It.call(n)),ut=ze.length;let Re=Yt;typeof Yt>"u"?Re=U&&ut?ze:"":Yt===!1&&(Re="");const Ve={title:Re};!A.value&&!I.value&&(Ve.title=null,Ve.open=!1);const Le={};e.role==="option"&&(Le["aria-selected"]=te.value);const Ye=(Bt=e.icon)!==null&&Bt!==void 0?Bt:(Lt=n.icon)===null||Lt===void 0?void 0:Lt.call(n,e);return ne(Uxe,Ct(Ct({},Ve),{},{placement:C.value?"left":"right",overlayClassName:`${g.value}-inline-collapsed-tooltip`}),{default:()=>[ne(Ju.Item,Ct(Ct(Ct({component:"li"},i),{},{id:e.id,style:ee(ee({},i.style||{}),rt.value),class:[ae.value,{[`${i.class}`]:!!i.class,[`${g.value}-item-only-child`]:(Ye?ut+1:ut)===1}],role:e.role||"menuitem",tabindex:e.disabled?null:-1,"data-menu-id":a,"aria-disabled":e.disabled},Le),{},{onMouseenter:se,onMouseleave:ue,onClick:we,onKeydown:Te,onFocus:Be,title:typeof Yt=="string"?Yt:void 0}),{default:()=>[Oa(typeof Ye=="function"?Ye(e.originItemValue):Ye,{class:`${g.value}-item-icon`},!1),ke(Ye,ze)]})]})}}}),uh={adjustX:1,adjustY:1},Rwe={topLeft:{points:["bl","tl"],overflow:uh,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:uh,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:uh,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:uh,offset:[4,0]}},Lwe={topLeft:{points:["bl","tl"],overflow:uh,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:uh,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:uh,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:uh,offset:[4,0]}},$we={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"},wB=Pt({compatConfig:{MODE:3},name:"PopupTrigger",inheritAttrs:!1,props:{prefixCls:String,mode:String,visible:Boolean,popupClassName:String,popupOffset:Array,disabled:Boolean,onVisibleChange:Function},slots:Object,emits:["visibleChange"],setup(e,t){let{slots:n,emit:r}=t;const i=Et(!1),{getPopupContainer:o,rtl:s,subMenuOpenDelay:a,subMenuCloseDelay:c,builtinPlacements:h,triggerSubMenuAction:d,forceSubMenuRender:g,motion:y,defaultMotions:v,rootClassName:x}=pc(),C=UG(),I=ge(()=>s.value?ee(ee({},Lwe),h.value):ee(ee({},Rwe),h.value)),A=ge(()=>$we[e.mode]),k=Et();qt(()=>e.visible,V=>{Tr.cancel(k.value),k.value=Tr(()=>{i.value=V})},{immediate:!0}),ii(()=>{Tr.cancel(k.value)});const R=V=>{r("visibleChange",V)},z=ge(()=>{var V,U;const N=y.value||((V=v.value)===null||V===void 0?void 0:V[e.mode])||((U=v.value)===null||U===void 0?void 0:U.other),W=typeof N=="function"?N():N;return W?VU(W.name,{css:!0}):void 0});return()=>{const{prefixCls:V,popupClassName:U,mode:N,popupOffset:W,disabled:X}=e;return ne($2,{prefixCls:V,popupClassName:an(`${V}-popup`,{[`${V}-rtl`]:s.value},U,x.value),stretch:N==="horizontal"?"minWidth":null,getPopupContainer:o.value,builtinPlacements:I.value,popupPlacement:A.value,popupVisible:i.value,popupAlign:W&&{offset:W},action:X?[]:[d.value],mouseEnterDelay:a.value,mouseLeaveDelay:c.value,onPopupVisibleChange:R,forceRender:C||g.value,popupAnimation:z.value},{popup:n.popup,default:n.default})}}}),lO=(e,t)=>{let{slots:n,attrs:r}=t;var i;const{prefixCls:o,mode:s}=pc();return ne("ul",Ct(Ct({},r),{},{class:an(o.value,`${o.value}-sub`,`${o.value}-${s.value==="inline"?"inline":"vertical"}`),"data-menu-list":!0}),[(i=n.default)===null||i===void 0?void 0:i.call(n)])};lO.displayName="SubMenuList";const zwe=Pt({compatConfig:{MODE:3},name:"InlineSubMenuList",inheritAttrs:!1,props:{id:String,open:Boolean,keyPath:Array},setup(e,t){let{slots:n}=t;const r=ge(()=>"inline"),{motion:i,mode:o,defaultMotions:s}=pc(),a=ge(()=>o.value===r.value),c=Ot(!a.value),h=ge(()=>a.value?e.open:!1);qt(o,()=>{a.value&&(c.value=!1)},{flush:"post"});const d=ge(()=>{var g,y;const v=i.value||((g=s.value)===null||g===void 0?void 0:g[r.value])||((y=s.value)===null||y===void 0?void 0:y.other),x=typeof v=="function"?v():v;return ee(ee({},x),{appear:e.keyPath.length<=1})});return()=>{var g;return c.value?null:ne(fS,{mode:r.value},{default:()=>[ne(us,d.value,{default:()=>[xh(ne(lO,{id:e.id},{default:()=>[(g=n.default)===null||g===void 0?void 0:g.call(n)]}),[[Mf,h.value]])]})]})}}});let SB=0;const Bwe=()=>({icon:ft.any,title:ft.any,disabled:Boolean,level:Number,popupClassName:String,popupOffset:Array,internalPopupClose:Boolean,eventKey:String,expandIcon:Function,theme:String,onMouseenter:Function,onMouseleave:Function,onTitleClick:Function,originItemValue:Jr()}),Sg=Pt({compatConfig:{MODE:3},name:"ASubMenu",inheritAttrs:!1,props:Bwe(),slots:Object,setup(e,t){let{slots:n,attrs:r,emit:i}=t;var o,s;WG(!1);const a=sO(),c=Ao(),h=typeof c.vnode.key=="symbol"?String(c.vnode.key):c.vnode.key;ll(typeof c.vnode.key!="symbol","SubMenu",`SubMenu \`:key="${String(h)}"\` not support Symbol type`);const d=pM(h)?h:`sub_menu_${++SB}_$$_not_set_key`,g=(o=e.eventKey)!==null&&o!==void 0?o:pM(h)?`sub_menu_${++SB}_$$_${h}`:d,{parentEventKeys:y,parentInfo:v,parentKeys:x}=aO(),C=ge(()=>[...x.value,d]),I=Et([]),A={eventKey:g,key:d,parentEventKeys:y,childrenEventKeys:I,parentKeys:x};(s=v.childrenEventKeys)===null||s===void 0||s.value.push(g),ii(()=>{var Qe;v.childrenEventKeys&&(v.childrenEventKeys.value=(Qe=v.childrenEventKeys)===null||Qe===void 0?void 0:Qe.value.filter(lt=>lt!=g))}),Dwe(g,d,A);const{prefixCls:k,activeKeys:R,disabled:z,changeActiveKeys:V,mode:U,inlineCollapsed:N,openKeys:W,overflowDisabled:X,onOpenChange:K,registerMenuInfo:te,unRegisterMenuInfo:ae,selectedSubMenuKeys:me,expandIcon:we,theme:se}=pc(),ue=h!=null,Te=!a&&(UG()||!ue);Iwe(Te),(a&&ue||!a&&!ue||Te)&&(te(g,A),ii(()=>{ae(g)}));const Be=ge(()=>`${k.value}-submenu`),ke=ge(()=>z.value||e.disabled),rt=Et(),ot=Et(),tt=ge(()=>W.value.includes(d)),It=ge(()=>!X.value&&tt.value),Bt=ge(()=>me.value.includes(d)),Lt=Et(!1);qt(R,()=>{Lt.value=!!R.value.find(Qe=>Qe===d)},{immediate:!0});const Yt=Qe=>{ke.value||(i("titleClick",Qe,d),U.value==="inline"&&K(d,!tt.value))},ze=Qe=>{ke.value||(V(C.value),i("mouseenter",Qe))},ut=Qe=>{ke.value||(V([]),i("mouseleave",Qe))},Re=KG(ge(()=>C.value.length)),Ve=Qe=>{U.value!=="inline"&&K(d,Qe)},Le=()=>{V(C.value)},Ye=g&&`${g}-popup`,pe=ge(()=>an(k.value,`${k.value}-${e.theme||se.value}`,e.popupClassName)),ye=(Qe,lt)=>{if(!lt)return N.value&&!x.value.length&&Qe&&typeof Qe=="string"?ne("div",{class:`${k.value}-inline-collapsed-noicon`},[Qe.charAt(0)]):ne("span",{class:`${k.value}-title-content`},[Qe]);const St=Oh(Qe)&&Qe.type==="span";return ne(vn,null,[Oa(typeof lt=="function"?lt(e.originItemValue):lt,{class:`${k.value}-item-icon`},!1),St?Qe:ne("span",{class:`${k.value}-title-content`},[Qe])])},Ze=ge(()=>U.value!=="inline"&&C.value.length>1?"vertical":U.value),ht=ge(()=>U.value==="horizontal"?"vertical":U.value),st=ge(()=>Ze.value==="horizontal"?"vertical":Ze.value),Xe=()=>{var Qe,lt;const St=Be.value,Tt=(Qe=e.icon)!==null&&Qe!==void 0?Qe:(lt=n.icon)===null||lt===void 0?void 0:lt.call(n,e),Wt=e.expandIcon||n.expandIcon||we.value,Ft=ye(yf(n,e,"title"),Tt);return ne("div",{style:Re.value,class:`${St}-title`,tabindex:ke.value?null:-1,ref:rt,title:typeof Ft=="string"?Ft:null,"data-menu-id":d,"aria-expanded":It.value,"aria-haspopup":!0,"aria-controls":Ye,"aria-disabled":ke.value,onClick:Yt,onFocus:Le},[Ft,U.value!=="horizontal"&&Wt?Wt(ee(ee({},e),{isOpen:It.value})):ne("i",{class:`${St}-arrow`},null)])};return()=>{var Qe;if(a)return ue?(Qe=n.default)===null||Qe===void 0?void 0:Qe.call(n):null;const lt=Be.value;let St=()=>null;if(!X.value&&U.value!=="inline"){const Tt=U.value==="horizontal"?[0,8]:[10,0];St=()=>ne(wB,{mode:Ze.value,prefixCls:lt,visible:!e.internalPopupClose&&It.value,popupClassName:pe.value,popupOffset:e.popupOffset||Tt,disabled:ke.value,onVisibleChange:Ve},{default:()=>[Xe()],popup:()=>ne(fS,{mode:st.value},{default:()=>[ne(lO,{id:Ye,ref:ot},{default:n.default})]})})}else St=()=>ne(wB,null,{default:Xe});return ne(fS,{mode:ht.value},{default:()=>[ne(Ju.Item,Ct(Ct({component:"li"},r),{},{role:"none",class:an(lt,`${lt}-${U.value}`,r.class,{[`${lt}-open`]:It.value,[`${lt}-active`]:Lt.value,[`${lt}-selected`]:Bt.value,[`${lt}-disabled`]:ke.value}),onMouseenter:ze,onMouseleave:ut,"data-submenu-id":d}),{default:()=>ne(vn,null,[St(),!X.value&&ne(zwe,{id:Ye,open:It.value,keyPath:C.value},{default:n.default})])})]})}}});function XG(e,t){return e.classList?e.classList.contains(t):` ${e.className} `.indexOf(` ${t} `)>-1}function FM(e,t){e.classList?e.classList.add(t):XG(e,t)||(e.className=`${e.className} ${t}`)}function NM(e,t){if(e.classList)e.classList.remove(t);else if(XG(e,t)){const n=e.className;e.className=` ${n} `.replace(` ${t} `," ")}}const YG=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ant-motion-collapse",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return{name:e,appear:t,css:!0,onBeforeEnter:n=>{n.style.height="0px",n.style.opacity="0",FM(n,e)},onEnter:n=>{wi(()=>{n.style.height=`${n.scrollHeight}px`,n.style.opacity="1"})},onAfterEnter:n=>{n&&(NM(n,e),n.style.height=null,n.style.opacity=null)},onBeforeLeave:n=>{FM(n,e),n.style.height=`${n.offsetHeight}px`,n.style.opacity=null},onLeave:n=>{setTimeout(()=>{n.style.height="0px",n.style.opacity="0"})},onAfterLeave:n=>{n&&(NM(n,e),n.style&&(n.style.height=null,n.style.opacity=null))}}},Fwe=()=>({title:ft.any,originItemValue:Jr()}),pS=Pt({compatConfig:{MODE:3},name:"AMenuItemGroup",inheritAttrs:!1,props:Fwe(),slots:Object,setup(e,t){let{slots:n,attrs:r}=t;const{prefixCls:i}=pc(),o=ge(()=>`${i.value}-item-group`),s=sO();return()=>{var a,c;return s?(a=n.default)===null||a===void 0?void 0:a.call(n):ne("li",Ct(Ct({},r),{},{onClick:h=>h.stopPropagation(),class:o.value}),[ne("div",{title:typeof e.title=="string"?e.title:void 0,class:`${o.value}-title`},[yf(n,e,"title")]),ne("ul",{class:`${o.value}-list`},[(c=n.default)===null||c===void 0?void 0:c.call(n)])])}}}),Nwe=()=>({prefixCls:String,dashed:Boolean}),mS=Pt({compatConfig:{MODE:3},name:"AMenuDivider",props:Nwe(),setup(e){const{prefixCls:t}=pc(),n=ge(()=>({[`${t.value}-item-divider`]:!0,[`${t.value}-item-divider-dashed`]:!!e.dashed}));return()=>ne("li",{class:n.value},null)}});var Vwe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function VM(e,t,n){return(e||[]).map((r,i)=>{if(r&&typeof r=="object"){const o=r,{label:s,children:a,key:c,type:h}=o,d=Vwe(o,["label","children","key","type"]),g=c??`tmp-${i}`,y=n?n.parentKeys.slice():[],v=[],x={eventKey:g,key:g,parentEventKeys:Ot(y),parentKeys:Ot(y),childrenEventKeys:Ot(v),isLeaf:!1};if(a||h==="group"){if(h==="group"){const I=VM(a,t,n);return ne(pS,Ct(Ct({key:g},d),{},{title:s,originItemValue:r}),{default:()=>[I]})}t.set(g,x),n&&n.childrenEventKeys.push(g);const C=VM(a,t,{childrenEventKeys:v,parentKeys:[].concat(y,g)});return ne(Sg,Ct(Ct({key:g},d),{},{title:s,originItemValue:r}),{default:()=>[C]})}return h==="divider"?ne(mS,Ct({key:g},d),null):(x.isLeaf=!0,t.set(g,x),ne(wg,Ct(Ct({key:g},d),{},{originItemValue:r}),{default:()=>[s]}))}return null}).filter(r=>r)}function jwe(e){const t=Et([]),n=Et(!1),r=Et(new Map);return qt(()=>e.items,()=>{const i=new Map;n.value=!1,e.items?(n.value=!0,t.value=VM(e.items,i)):t.value=void 0,r.value=i},{immediate:!0,deep:!0}),{itemsNodes:t,store:r,hasItmes:n}}const Hwe=e=>{const{componentCls:t,motionDurationSlow:n,menuHorizontalHeight:r,colorSplit:i,lineWidth:o,lineType:s,menuItemPaddingInline:a}=e;return{[`${t}-horizontal`]:{lineHeight:`${r}px`,border:0,borderBottom:`${o}px ${s} ${i}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${t}-item, ${t}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:a},[`> ${t}-item:hover,
        > ${t}-item-active,
        > ${t}-submenu ${t}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${t}-item, ${t}-submenu-title`]:{transition:[`border-color ${n}`,`background ${n}`].join(",")},[`${t}-submenu-arrow`]:{display:"none"}}}},Uwe=e=>{let{componentCls:t,menuArrowOffset:n}=e;return{[`${t}-rtl`]:{direction:"rtl"},[`${t}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${t}-rtl${t}-vertical,
    ${t}-submenu-rtl ${t}-vertical`]:{[`${t}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(-${n})`},"&::after":{transform:`rotate(45deg) translateY(${n})`}}}}},CB=e=>ee({},yk(e)),TB=(e,t)=>{const{componentCls:n,colorItemText:r,colorItemTextSelected:i,colorGroupTitle:o,colorItemBg:s,colorSubItemBg:a,colorItemBgSelected:c,colorActiveBarHeight:h,colorActiveBarWidth:d,colorActiveBarBorderSize:g,motionDurationSlow:y,motionEaseInOut:v,motionEaseOut:x,menuItemPaddingInline:C,motionDurationMid:I,colorItemTextHover:A,lineType:k,colorSplit:R,colorItemTextDisabled:z,colorDangerItemText:V,colorDangerItemTextHover:U,colorDangerItemTextSelected:N,colorDangerItemBgActive:W,colorDangerItemBgSelected:X,colorItemBgHover:K,menuSubMenuBg:te,colorItemTextSelectedHorizontal:ae,colorItemBgSelectedHorizontal:me}=e;return{[`${n}-${t}`]:{color:r,background:s,[`&${n}-root:focus-visible`]:ee({},CB(e)),[`${n}-item-group-title`]:{color:o},[`${n}-submenu-selected`]:{[`> ${n}-submenu-title`]:{color:i}},[`${n}-item-disabled, ${n}-submenu-disabled`]:{color:`${z} !important`},[`${n}-item:hover, ${n}-submenu-title:hover`]:{[`&:not(${n}-item-selected):not(${n}-submenu-selected)`]:{color:A}},[`&:not(${n}-horizontal)`]:{[`${n}-item:not(${n}-item-selected)`]:{"&:hover":{backgroundColor:K},"&:active":{backgroundColor:c}},[`${n}-submenu-title`]:{"&:hover":{backgroundColor:K},"&:active":{backgroundColor:c}}},[`${n}-item-danger`]:{color:V,[`&${n}-item:hover`]:{[`&:not(${n}-item-selected):not(${n}-submenu-selected)`]:{color:U}},[`&${n}-item:active`]:{background:W}},[`${n}-item a`]:{"&, &:hover":{color:"inherit"}},[`${n}-item-selected`]:{color:i,[`&${n}-item-danger`]:{color:N},"a, a:hover":{color:"inherit"}},[`& ${n}-item-selected`]:{backgroundColor:c,[`&${n}-item-danger`]:{backgroundColor:X}},[`${n}-item, ${n}-submenu-title`]:{[`&:not(${n}-item-disabled):focus-visible`]:ee({},CB(e))},[`&${n}-submenu > ${n}`]:{backgroundColor:te},[`&${n}-popup > ${n}`]:{backgroundColor:s},[`&${n}-horizontal`]:ee(ee({},t==="dark"?{borderBottom:0}:{}),{[`> ${n}-item, > ${n}-submenu`]:{top:g,marginTop:-g,marginBottom:0,borderRadius:0,"&::after":{position:"absolute",insetInline:C,bottom:0,borderBottom:`${h}px solid transparent`,transition:`border-color ${y} ${v}`,content:'""'},"&:hover, &-active, &-open":{"&::after":{borderBottomWidth:h,borderBottomColor:ae}},"&-selected":{color:ae,backgroundColor:me,"&::after":{borderBottomWidth:h,borderBottomColor:ae}}}}),[`&${n}-root`]:{[`&${n}-inline, &${n}-vertical`]:{borderInlineEnd:`${g}px ${k} ${R}`}},[`&${n}-inline`]:{[`${n}-sub${n}-inline`]:{background:a},[`${n}-item, ${n}-submenu-title`]:g&&d?{width:`calc(100% + ${g}px)`}:{},[`${n}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${d}px solid ${i}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${I} ${x}`,`opacity ${I} ${x}`].join(","),content:'""'},[`&${n}-item-danger`]:{"&::after":{borderInlineEndColor:N}}},[`${n}-selected, ${n}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${I} ${v}`,`opacity ${I} ${v}`].join(",")}}}}}},PB=e=>{const{componentCls:t,menuItemHeight:n,itemMarginInline:r,padding:i,menuArrowSize:o,marginXS:s,marginXXS:a}=e,c=i+o+s;return{[`${t}-item`]:{position:"relative"},[`${t}-item, ${t}-submenu-title`]:{height:n,lineHeight:`${n}px`,paddingInline:i,overflow:"hidden",textOverflow:"ellipsis",marginInline:r,marginBlock:a,width:`calc(100% - ${r*2}px)`},[`${t}-submenu`]:{paddingBottom:.02},[`> ${t}-item,
            > ${t}-submenu > ${t}-submenu-title`]:{height:n,lineHeight:`${n}px`},[`${t}-item-group-list ${t}-submenu-title,
            ${t}-submenu-title`]:{paddingInlineEnd:c}}},Gwe=e=>{const{componentCls:t,iconCls:n,menuItemHeight:r,colorTextLightSolid:i,dropdownWidth:o,controlHeightLG:s,motionDurationMid:a,motionEaseOut:c,paddingXL:h,fontSizeSM:d,fontSizeLG:g,motionDurationSlow:y,paddingXS:v,boxShadowSecondary:x}=e,C={height:r,lineHeight:`${r}px`,listStylePosition:"inside",listStyleType:"disc"};return[{[t]:{"&-inline, &-vertical":ee({[`&${t}-root`]:{boxShadow:"none"}},PB(e))},[`${t}-submenu-popup`]:{[`${t}-vertical`]:ee(ee({},PB(e)),{boxShadow:x})}},{[`${t}-submenu-popup ${t}-vertical${t}-sub`]:{minWidth:o,maxHeight:`calc(100vh - ${s*2.5}px)`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${t}-inline`]:{width:"100%",[`&${t}-root`]:{[`${t}-item, ${t}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${y}`,`background ${y}`,`padding ${a} ${c}`].join(","),[`> ${t}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${t}-sub${t}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${t}-submenu > ${t}-submenu-title`]:C,[`& ${t}-item-group-title`]:{paddingInlineStart:h}},[`${t}-item`]:C}},{[`${t}-inline-collapsed`]:{width:r*2,[`&${t}-root`]:{[`${t}-item, ${t}-submenu ${t}-submenu-title`]:{[`> ${t}-inline-collapsed-noicon`]:{fontSize:g,textAlign:"center"}}},[`> ${t}-item,
          > ${t}-item-group > ${t}-item-group-list > ${t}-item,
          > ${t}-item-group > ${t}-item-group-list > ${t}-submenu > ${t}-submenu-title,
          > ${t}-submenu > ${t}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${d}px)`,textOverflow:"clip",[`
            ${t}-submenu-arrow,
            ${t}-submenu-expand-icon
          `]:{opacity:0},[`${t}-item-icon, ${n}`]:{margin:0,fontSize:g,lineHeight:`${r}px`,"+ span":{display:"inline-block",opacity:0}}},[`${t}-item-icon, ${n}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${t}-item-icon, ${n}`]:{display:"none"},"a, a:hover":{color:i}},[`${t}-item-group-title`]:ee(ee({},Ph),{paddingInline:v})}}]},EB=e=>{const{componentCls:t,fontSize:n,motionDurationSlow:r,motionDurationMid:i,motionEaseInOut:o,motionEaseOut:s,iconCls:a,controlHeightSM:c}=e;return{[`${t}-item, ${t}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${r}`,`background ${r}`,`padding ${r} ${o}`].join(","),[`${t}-item-icon, ${a}`]:{minWidth:n,fontSize:n,transition:[`font-size ${i} ${s}`,`margin ${r} ${o}`,`color ${r}`].join(","),"+ span":{marginInlineStart:c-n,opacity:1,transition:[`opacity ${r} ${o}`,`margin ${r}`,`color ${r}`].join(",")}},[`${t}-item-icon`]:ee({},hb()),[`&${t}-item-only-child`]:{[`> ${a}, > ${t}-item-icon`]:{marginInlineEnd:0}}},[`${t}-item-disabled, ${t}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important"},[`> ${t}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},IB=e=>{const{componentCls:t,motionDurationSlow:n,motionEaseInOut:r,borderRadius:i,menuArrowSize:o,menuArrowOffset:s}=e;return{[`${t}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:e.margin,width:o,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${n} ${r}, opacity ${n}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:o*.6,height:o*.15,backgroundColor:"currentcolor",borderRadius:i,transition:[`background ${n} ${r}`,`transform ${n} ${r}`,`top ${n} ${r}`,`color ${n} ${r}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(-${s})`},"&::after":{transform:`rotate(-45deg) translateY(${s})`}}}}},Wwe=e=>{const{antCls:t,componentCls:n,fontSize:r,motionDurationSlow:i,motionDurationMid:o,motionEaseInOut:s,lineHeight:a,paddingXS:c,padding:h,colorSplit:d,lineWidth:g,zIndexPopup:y,borderRadiusLG:v,radiusSubMenuItem:x,menuArrowSize:C,menuArrowOffset:I,lineType:A,menuPanelMaskInset:k}=e;return[{"":{[`${n}`]:ee(ee({},yg()),{"&-hidden":{display:"none"}})},[`${n}-submenu-hidden`]:{display:"none"}},{[n]:ee(ee(ee(ee(ee(ee(ee({},Io(e)),yg()),{marginBottom:0,paddingInlineStart:0,fontSize:r,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${i} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${n}-item`]:{flex:"none"}},[`${n}-item, ${n}-submenu, ${n}-submenu-title`]:{borderRadius:e.radiusItem},[`${n}-item-group-title`]:{padding:`${c}px ${h}px`,fontSize:r,lineHeight:a,transition:`all ${i}`},[`&-horizontal ${n}-submenu`]:{transition:[`border-color ${i} ${s}`,`background ${i} ${s}`].join(",")},[`${n}-submenu, ${n}-submenu-inline`]:{transition:[`border-color ${i} ${s}`,`background ${i} ${s}`,`padding ${o} ${s}`].join(",")},[`${n}-submenu ${n}-sub`]:{cursor:"initial",transition:[`background ${i} ${s}`,`padding ${i} ${s}`].join(",")},[`${n}-title-content`]:{transition:`color ${i}`},[`${n}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${n}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:d,borderStyle:A,borderWidth:0,borderTopWidth:g,marginBlock:g,padding:0,"&-dashed":{borderStyle:"dashed"}}}),EB(e)),{[`${n}-item-group`]:{[`${n}-item-group-list`]:{margin:0,padding:0,[`${n}-item, ${n}-submenu-title`]:{paddingInline:`${r*2}px ${h}px`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:y,background:"transparent",borderRadius:v,boxShadow:"none",transformOrigin:"0 0","&::before":{position:"absolute",inset:`${k}px 0 0`,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'}},"&-placement-rightTop::before":{top:0,insetInlineStart:k},[`> ${n}`]:ee(ee(ee({borderRadius:v},EB(e)),IB(e)),{[`${n}-item, ${n}-submenu > ${n}-submenu-title`]:{borderRadius:x},[`${n}-submenu-title::after`]:{transition:`transform ${i} ${s}`}})}}),IB(e)),{[`&-inline-collapsed ${n}-submenu-arrow,
        &-inline ${n}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${I})`},"&::after":{transform:`rotate(45deg) translateX(-${I})`}},[`${n}-submenu-open${n}-submenu-inline > ${n}-submenu-title > ${n}-submenu-arrow`]:{transform:`translateY(-${C*.2}px)`,"&::after":{transform:`rotate(-45deg) translateX(-${I})`},"&::before":{transform:`rotate(45deg) translateX(${I})`}}})},{[`${t}-layout-header`]:{[n]:{lineHeight:"inherit"}}}]},Zwe=(e,t)=>Do("Menu",(r,i)=>{let{overrideComponentToken:o}=i;if((t==null?void 0:t.value)===!1)return[];const{colorBgElevated:s,colorPrimary:a,colorError:c,colorErrorHover:h,colorTextLightSolid:d}=r,{controlHeightLG:g,fontSize:y}=r,v=y/7*5,x=Wr(r,{menuItemHeight:g,menuItemPaddingInline:r.margin,menuArrowSize:v,menuHorizontalHeight:g*1.15,menuArrowOffset:`${v*.25}px`,menuPanelMaskInset:-7,menuSubMenuBg:s}),C=new Li(d).setAlpha(.65).toRgbString(),I=Wr(x,{colorItemText:C,colorItemTextHover:d,colorGroupTitle:C,colorItemTextSelected:d,colorItemBg:"#001529",colorSubItemBg:"#000c17",colorItemBgActive:"transparent",colorItemBgSelected:a,colorActiveBarWidth:0,colorActiveBarHeight:0,colorActiveBarBorderSize:0,colorItemTextDisabled:new Li(d).setAlpha(.25).toRgbString(),colorDangerItemText:c,colorDangerItemTextHover:h,colorDangerItemTextSelected:d,colorDangerItemBgActive:c,colorDangerItemBgSelected:c,menuSubMenuBg:"#001529",colorItemTextSelectedHorizontal:d,colorItemBgSelectedHorizontal:a},ee({},o));return[Wwe(x),Hwe(x),Gwe(x),TB(x,"light"),TB(I,"dark"),Uwe(x),IG(x),xg(x,"slide-up"),xg(x,"slide-down"),EG(x,"zoom-big")]},r=>{const{colorPrimary:i,colorError:o,colorTextDisabled:s,colorErrorBg:a,colorText:c,colorTextDescription:h,colorBgContainer:d,colorFillAlter:g,colorFillContent:y,lineWidth:v,lineWidthBold:x,controlItemBgActive:C,colorBgTextHover:I}=r;return{dropdownWidth:160,zIndexPopup:r.zIndexPopupBase+50,radiusItem:r.borderRadiusLG,radiusSubMenuItem:r.borderRadiusSM,colorItemText:c,colorItemTextHover:c,colorItemTextHoverHorizontal:i,colorGroupTitle:h,colorItemTextSelected:i,colorItemTextSelectedHorizontal:i,colorItemBg:d,colorItemBgHover:I,colorItemBgActive:y,colorSubItemBg:g,colorItemBgSelected:C,colorItemBgSelectedHorizontal:"transparent",colorActiveBarWidth:0,colorActiveBarHeight:x,colorActiveBarBorderSize:v,colorItemTextDisabled:s,colorDangerItemText:o,colorDangerItemTextHover:o,colorDangerItemTextSelected:o,colorDangerItemBgActive:a,colorDangerItemBgSelected:a,itemMarginInline:r.marginXXS}})(e),qwe=()=>({id:String,prefixCls:String,items:Array,disabled:Boolean,inlineCollapsed:Boolean,disabledOverflow:Boolean,forceSubMenuRender:Boolean,openKeys:Array,selectedKeys:Array,activeKey:String,selectable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},tabindex:{type:[Number,String]},motion:Object,role:String,theme:{type:String,default:"light"},mode:{type:String,default:"vertical"},inlineIndent:{type:Number,default:24},subMenuOpenDelay:{type:Number,default:0},subMenuCloseDelay:{type:Number,default:.1},builtinPlacements:{type:Object},triggerSubMenuAction:{type:String,default:"hover"},getPopupContainer:Function,expandIcon:Function,onOpenChange:Function,onSelect:Function,onDeselect:Function,onClick:[Function,Array],onFocus:Function,onBlur:Function,onMousedown:Function,"onUpdate:openKeys":Function,"onUpdate:selectedKeys":Function,"onUpdate:activeKey":Function}),MB=[],gh=Pt({compatConfig:{MODE:3},name:"AMenu",inheritAttrs:!1,props:qwe(),slots:Object,setup(e,t){let{slots:n,emit:r,attrs:i}=t;const{direction:o,getPrefixCls:s}=Nr("menu",e),a=NG(),c=ge(()=>{var ze;return s("menu",e.prefixCls||((ze=a==null?void 0:a.prefixCls)===null||ze===void 0?void 0:ze.value))}),[h,d]=Zwe(c,ge(()=>!a)),g=Et(new Map),y=Mn(Awe,Ot(void 0)),v=ge(()=>y.value!==void 0?y.value:e.inlineCollapsed),{itemsNodes:x}=jwe(e),C=Et(!1);Nn(()=>{C.value=!0}),Dr(()=>{ll(!(e.inlineCollapsed===!0&&e.mode!=="inline"),"Menu","`inlineCollapsed` should only be used when `mode` is inline."),ll(!(y.value!==void 0&&e.inlineCollapsed===!0),"Menu","`inlineCollapsed` not control Menu under Sider. Should set `collapsed` on Sider instead.")});const I=Ot([]),A=Ot([]),k=Ot({});qt(g,()=>{const ze={};for(const ut of g.value.values())ze[ut.key]=ut;k.value=ze},{flush:"post"}),Dr(()=>{if(e.activeKey!==void 0){let ze=[];const ut=e.activeKey?k.value[e.activeKey]:void 0;ut&&e.activeKey!==void 0?ze=zP([].concat(Ui(ut.parentKeys),e.activeKey)):ze=[],Ry(I.value,ze)||(I.value=ze)}}),qt(()=>e.selectedKeys,ze=>{ze&&(A.value=ze.slice())},{immediate:!0,deep:!0});const R=Ot([]);qt([k,A],()=>{let ze=[];A.value.forEach(ut=>{const Re=k.value[ut];Re&&(ze=ze.concat(Ui(Re.parentKeys)))}),ze=zP(ze),Ry(R.value,ze)||(R.value=ze)},{immediate:!0});const z=ze=>{if(e.selectable){const{key:ut}=ze,Re=A.value.includes(ut);let Ve;e.multiple?Re?Ve=A.value.filter(Ye=>Ye!==ut):Ve=[...A.value,ut]:Ve=[ut];const Le=ee(ee({},ze),{selectedKeys:Ve});Ry(Ve,A.value)||(e.selectedKeys===void 0&&(A.value=Ve),r("update:selectedKeys",Ve),Re&&e.multiple?r("deselect",Le):r("select",Le))}K.value!=="inline"&&!e.multiple&&V.value.length&&me(MB)},V=Ot([]);qt(()=>e.openKeys,function(){let ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:V.value;Ry(V.value,ze)||(V.value=ze.slice())},{immediate:!0,deep:!0});let U;const N=ze=>{clearTimeout(U),U=setTimeout(()=>{e.activeKey===void 0&&(I.value=ze),r("update:activeKey",ze[ze.length-1])})},W=ge(()=>!!e.disabled),X=ge(()=>o.value==="rtl"),K=Ot("vertical"),te=Et(!1);Dr(()=>{var ze;(e.mode==="inline"||e.mode==="vertical")&&v.value?(K.value="vertical",te.value=v.value):(K.value=e.mode,te.value=!1),!((ze=a==null?void 0:a.mode)===null||ze===void 0)&&ze.value&&(K.value=a.mode.value)});const ae=ge(()=>K.value==="inline"),me=ze=>{V.value=ze,r("update:openKeys",ze),r("openChange",ze)},we=Ot(V.value),se=Et(!1);qt(V,()=>{ae.value&&(we.value=V.value)},{immediate:!0}),qt(ae,()=>{if(!se.value){se.value=!0;return}ae.value?V.value=we.value:me(MB)},{immediate:!0});const ue=ge(()=>({[`${c.value}`]:!0,[`${c.value}-root`]:!0,[`${c.value}-${K.value}`]:!0,[`${c.value}-inline-collapsed`]:te.value,[`${c.value}-rtl`]:X.value,[`${c.value}-${e.theme}`]:!0})),Te=ge(()=>s()),Be=ge(()=>({horizontal:{name:`${Te.value}-slide-up`},inline:YG(`${Te.value}-motion-collapse`),other:{name:`${Te.value}-zoom-big`}}));WG(!0);const ke=function(){let ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const ut=[],Re=g.value;return ze.forEach(Ve=>{const{key:Le,childrenEventKeys:Ye}=Re.get(Ve);ut.push(Le,...ke(Ui(Ye)))}),ut},rt=ze=>{var ut;r("click",ze),z(ze),(ut=a==null?void 0:a.onClick)===null||ut===void 0||ut.call(a)},ot=(ze,ut)=>{var Re;const Ve=((Re=k.value[ze])===null||Re===void 0?void 0:Re.childrenEventKeys)||[];let Le=V.value.filter(Ye=>Ye!==ze);if(ut)Le.push(ze);else if(K.value!=="inline"){const Ye=ke(Ui(Ve));Le=zP(Le.filter(pe=>!Ye.includes(pe)))}Ry(V,Le)||me(Le)},tt=(ze,ut)=>{g.value.set(ze,ut),g.value=new Map(g.value)},It=ze=>{g.value.delete(ze),g.value=new Map(g.value)},Bt=Ot(0),Lt=ge(()=>{var ze;return e.expandIcon||n.expandIcon||!((ze=a==null?void 0:a.expandIcon)===null||ze===void 0)&&ze.value?ut=>{let Re=e.expandIcon||n.expandIcon;return Re=typeof Re=="function"?Re(ut):Re,Oa(Re,{class:`${c.value}-submenu-expand-icon`},!1)}:null});jG({prefixCls:c,activeKeys:I,openKeys:V,selectedKeys:A,changeActiveKeys:N,disabled:W,rtl:X,mode:K,inlineIndent:ge(()=>e.inlineIndent),subMenuCloseDelay:ge(()=>e.subMenuCloseDelay),subMenuOpenDelay:ge(()=>e.subMenuOpenDelay),builtinPlacements:ge(()=>e.builtinPlacements),triggerSubMenuAction:ge(()=>e.triggerSubMenuAction),getPopupContainer:ge(()=>e.getPopupContainer),inlineCollapsed:te,theme:ge(()=>e.theme),siderCollapsed:y,defaultMotions:ge(()=>C.value?Be.value:null),motion:ge(()=>C.value?e.motion:null),overflowDisabled:Et(void 0),onOpenChange:ot,onItemClick:rt,registerMenuInfo:tt,unRegisterMenuInfo:It,selectedSubMenuKeys:R,expandIcon:Lt,forceSubMenuRender:ge(()=>e.forceSubMenuRender),rootClassName:d});const Yt=()=>{var ze;return x.value||ao((ze=n.default)===null||ze===void 0?void 0:ze.call(n))};return()=>{var ze;const ut=Yt(),Re=Bt.value>=ut.length-1||K.value!=="horizontal"||e.disabledOverflow,Ve=Ye=>K.value!=="horizontal"||e.disabledOverflow?Ye:Ye.map((pe,ye)=>ne(fS,{key:pe.key,overflowDisabled:ye>Bt.value},{default:()=>pe})),Le=((ze=n.overflowedIndicator)===null||ze===void 0?void 0:ze.call(n))||ne(F2,null,null);return h(ne(Ju,Ct(Ct({},i),{},{onMousedown:e.onMousedown,prefixCls:`${c.value}-overflow`,component:"ul",itemComponent:wg,class:[ue.value,i.class,d.value],role:"menu",id:e.id,data:Ve(ut),renderRawItem:Ye=>Ye,renderRawRest:Ye=>{const pe=Ye.length,ye=pe?ut.slice(-pe):null;return ne(vn,null,[ne(Sg,{eventKey:lx,key:lx,title:Le,disabled:Re,internalPopupClose:pe===0},{default:()=>ye}),ne(xB,null,{default:()=>[ne(Sg,{eventKey:lx,key:lx,title:Le,disabled:Re,internalPopupClose:pe===0},{default:()=>ye})]})])},maxCount:K.value!=="horizontal"||e.disabledOverflow?Ju.INVALIDATE:Ju.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:Ye=>{Bt.value=Ye}}),{default:()=>[ne(TD,{to:"body"},{default:()=>[ne("div",{style:{display:"none"},"aria-hidden":!0},[ne(xB,null,{default:()=>[Ve(Yt())]})])]})]}))}}});gh.install=function(e){return e.component(gh.name,gh),e.component(wg.name,wg),e.component(Sg.name,Sg),e.component(mS.name,mS),e.component(pS.name,pS),e};gh.Item=wg;gh.Divider=mS;gh.SubMenu=Sg;gh.ItemGroup=pS;function Kwe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xwe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Ywe={prefixCls:String,name:String,id:String,type:String,defaultChecked:{type:[Boolean,Number],default:void 0},checked:{type:[Boolean,Number],default:void 0},disabled:Boolean,tabindex:{type:[Number,String]},readonly:Boolean,autofocus:Boolean,value:ft.any,required:Boolean},Jwe=Pt({compatConfig:{MODE:3},name:"Checkbox",inheritAttrs:!1,props:xa(Ywe,{prefixCls:"rc-checkbox",type:"checkbox",defaultChecked:!1}),emits:["click","change"],setup(e,t){let{attrs:n,emit:r,expose:i}=t;const o=Ot(e.checked===void 0?e.defaultChecked:e.checked),s=Ot();qt(()=>e.checked,()=>{o.value=e.checked}),i({focus(){var d;(d=s.value)===null||d===void 0||d.focus()},blur(){var d;(d=s.value)===null||d===void 0||d.blur()}});const a=Ot(),c=d=>{if(e.disabled)return;e.checked===void 0&&(o.value=d.target.checked),d.shiftKey=a.value;const g={target:ee(ee({},e),{checked:d.target.checked}),stopPropagation(){d.stopPropagation()},preventDefault(){d.preventDefault()},nativeEvent:d};e.checked!==void 0&&(s.value.checked=!!e.checked),r("change",g),a.value=!1},h=d=>{r("click",d),a.value=d.shiftKey};return()=>{const{prefixCls:d,name:g,id:y,type:v,disabled:x,readonly:C,tabindex:I,autofocus:A,value:k,required:R}=e,z=Xwe(e,["prefixCls","name","id","type","disabled","readonly","tabindex","autofocus","value","required"]),{class:V,onFocus:U,onBlur:N,onKeydown:W,onKeypress:X,onKeyup:K}=n,te=ee(ee({},z),n),ae=Object.keys(te).reduce((se,ue)=>((ue.startsWith("data-")||ue.startsWith("aria-")||ue==="role")&&(se[ue]=te[ue]),se),{}),me=an(d,V,{[`${d}-checked`]:o.value,[`${d}-disabled`]:x}),we=ee(ee({name:g,id:y,type:v,readonly:C,disabled:x,tabindex:I,class:`${d}-input`,checked:!!o.value,autofocus:A,value:k},ae),{onChange:c,onClick:h,onFocus:U,onBlur:N,onKeydown:W,onKeypress:X,onKeyup:K,required:R});return ne("span",{class:me},[ne("input",Ct({ref:s},we),null),ne("span",{class:`${d}-inner`},null)])}}});function Qwe(e){const t=Et(),n=Et(!1);function r(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];n.value||(Tr.cancel(t.value),t.value=Tr(()=>{e(...o)}))}return ii(()=>{n.value=!0,Tr.cancel(t.value)}),r}function eSe(e){const t=Et([]),n=Et(typeof e=="function"?e():e),r=Qwe(()=>{let o=n.value;t.value.forEach(s=>{o=s(o)}),t.value=[],n.value=o});function i(o){t.value.push(o),r()}return[n,i]}const tSe=Pt({compatConfig:{MODE:3},name:"TabNode",props:{id:{type:String},prefixCls:{type:String},tab:{type:Object},active:{type:Boolean},closable:{type:Boolean},editable:{type:Object},onClick:{type:Function},onResize:{type:Function},renderWrapper:{type:Function},removeAriaLabel:{type:String},onFocus:{type:Function}},emits:["click","resize","remove","focus"],setup(e,t){let{expose:n,attrs:r}=t;const i=Ot();function o(c){var h;!((h=e.tab)===null||h===void 0)&&h.disabled||e.onClick(c)}n({domRef:i});function s(c){var h;c.preventDefault(),c.stopPropagation(),e.editable.onEdit("remove",{key:(h=e.tab)===null||h===void 0?void 0:h.key,event:c})}const a=ge(()=>{var c;return e.editable&&e.closable!==!1&&!(!((c=e.tab)===null||c===void 0)&&c.disabled)});return()=>{var c;const{prefixCls:h,id:d,active:g,tab:{key:y,tab:v,disabled:x,closeIcon:C},renderWrapper:I,removeAriaLabel:A,editable:k,onFocus:R}=e,z=`${h}-tab`,V=ne("div",{key:y,ref:i,class:an(z,{[`${z}-with-remove`]:a.value,[`${z}-active`]:g,[`${z}-disabled`]:x}),style:r.style,onClick:o},[ne("div",{role:"tab","aria-selected":g,id:d&&`${d}-tab-${y}`,class:`${z}-btn`,"aria-controls":d&&`${d}-panel-${y}`,"aria-disabled":x,tabindex:x?null:0,onClick:U=>{U.stopPropagation(),o(U)},onKeydown:U=>{[Ht.SPACE,Ht.ENTER].includes(U.which)&&(U.preventDefault(),o(U))},onFocus:R},[typeof v=="function"?v():v]),a.value&&ne("button",{type:"button","aria-label":A||"remove",tabindex:0,class:`${z}-remove`,onClick:U=>{U.stopPropagation(),s(U)}},[(C==null?void 0:C())||((c=k.removeIcon)===null||c===void 0?void 0:c.call(k))||"×"])]);return I?I(V):V}}}),AB={width:0,height:0,left:0,top:0};function nSe(e,t){const n=Ot(new Map);return Dr(()=>{var r,i;const o=new Map,s=e.value,a=t.value.get((r=s[0])===null||r===void 0?void 0:r.key)||AB,c=a.left+a.width;for(let h=0;h<s.length;h+=1){const{key:d}=s[h];let g=t.value.get(d);g||(g=t.value.get((i=s[h-1])===null||i===void 0?void 0:i.key)||AB);const y=o.get(d)||ee({},g);y.right=c-y.left-y.width,o.set(d,y)}n.value=new Map(o)}),n}const JG=Pt({compatConfig:{MODE:3},name:"AddButton",inheritAttrs:!1,props:{prefixCls:String,editable:{type:Object},locale:{type:Object,default:void 0}},setup(e,t){let{expose:n,attrs:r}=t;const i=Ot();return n({domRef:i}),()=>{const{prefixCls:o,editable:s,locale:a}=e;return!s||s.showAdd===!1?null:ne("button",{ref:i,type:"button",class:`${o}-nav-add`,style:r.style,"aria-label":(a==null?void 0:a.addAriaLabel)||"Add tab",onClick:c=>{s.onEdit("add",{event:c})}},[s.addIcon?s.addIcon():"+"])}}}),rSe={prefixCls:{type:String},id:{type:String},tabs:{type:Object},rtl:{type:Boolean},tabBarGutter:{type:Number},activeKey:{type:[String,Number]},mobile:{type:Boolean},moreIcon:ft.any,moreTransitionName:{type:String},editable:{type:Object},locale:{type:Object,default:void 0},removeAriaLabel:String,onTabClick:{type:Function},popupClassName:String,getPopupContainer:mi()},iSe=Pt({compatConfig:{MODE:3},name:"OperationNode",inheritAttrs:!1,props:rSe,emits:["tabClick"],slots:Object,setup(e,t){let{attrs:n,slots:r}=t;const[i,o]=ci(!1),[s,a]=ci(null),c=v=>{const x=e.tabs.filter(A=>!A.disabled);let C=x.findIndex(A=>A.key===s.value)||0;const I=x.length;for(let A=0;A<I;A+=1){C=(C+v+I)%I;const k=x[C];if(!k.disabled){a(k.key);return}}},h=v=>{const{which:x}=v;if(!i.value){[Ht.DOWN,Ht.SPACE,Ht.ENTER].includes(x)&&(o(!0),v.preventDefault());return}switch(x){case Ht.UP:c(-1),v.preventDefault();break;case Ht.DOWN:c(1),v.preventDefault();break;case Ht.ESC:o(!1);break;case Ht.SPACE:case Ht.ENTER:s.value!==null&&e.onTabClick(s.value,v);break}},d=ge(()=>`${e.id}-more-popup`),g=ge(()=>s.value!==null?`${d.value}-${s.value}`:null),y=(v,x)=>{v.preventDefault(),v.stopPropagation(),e.editable.onEdit("remove",{key:x,event:v})};return Nn(()=>{qt(s,()=>{const v=document.getElementById(g.value);v&&v.scrollIntoView&&v.scrollIntoView(!1)},{flush:"post",immediate:!0})}),qt(i,()=>{i.value||a(null)}),Pwe({}),()=>{var v;const{prefixCls:x,id:C,tabs:I,locale:A,mobile:k,moreIcon:R=((v=r.moreIcon)===null||v===void 0?void 0:v.call(r))||ne(F2,null,null),moreTransitionName:z,editable:V,tabBarGutter:U,rtl:N,onTabClick:W,popupClassName:X}=e;if(!I.length)return null;const K=`${x}-dropdown`,te=A==null?void 0:A.dropdownAriaLabel,ae={[N?"marginRight":"marginLeft"]:U};I.length||(ae.visibility="hidden",ae.order=1);const me=an({[`${K}-rtl`]:N,[`${X}`]:!0}),we=k?null:ne(Zxe,{prefixCls:K,trigger:["hover"],visible:i.value,transitionName:z,onVisibleChange:o,overlayClassName:me,mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:e.getPopupContainer},{overlay:()=>ne(gh,{onClick:se=>{let{key:ue,domEvent:Te}=se;W(ue,Te),o(!1)},id:d.value,tabindex:-1,role:"listbox","aria-activedescendant":g.value,selectedKeys:[s.value],"aria-label":te!==void 0?te:"expanded dropdown"},{default:()=>[I.map(se=>{var ue,Te;const Be=V&&se.closable!==!1&&!se.disabled;return ne(wg,{key:se.key,id:`${d.value}-${se.key}`,role:"option","aria-controls":C&&`${C}-panel-${se.key}`,disabled:se.disabled},{default:()=>[ne("span",null,[typeof se.tab=="function"?se.tab():se.tab]),Be&&ne("button",{type:"button","aria-label":e.removeAriaLabel||"remove",tabindex:0,class:`${K}-menu-item-remove`,onClick:ke=>{ke.stopPropagation(),y(ke,se.key)}},[((ue=se.closeIcon)===null||ue===void 0?void 0:ue.call(se))||((Te=V.removeIcon)===null||Te===void 0?void 0:Te.call(V))||"×"])]})})]}),default:()=>ne("button",{type:"button",class:`${x}-nav-more`,style:ae,tabindex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":d.value,id:`${C}-more`,"aria-expanded":i.value,onKeydown:h},[R])});return ne("div",{class:an(`${x}-nav-operations`,n.class),style:n.style},[we,ne(JG,{prefixCls:x,locale:A,editable:V},null)])}}}),QG=Symbol("tabsContextKey"),oSe=e=>{fr(QG,e)},eW=()=>Mn(QG,{tabs:Ot([]),prefixCls:Ot()}),aSe=.1,DB=.01,_w=20,kB=Math.pow(.995,_w);function sSe(e,t){const[n,r]=ci(),[i,o]=ci(0),[s,a]=ci(0),[c,h]=ci(),d=Ot();function g(V){const{screenX:U,screenY:N}=V.touches[0];r({x:U,y:N}),clearInterval(d.value)}function y(V){if(!n.value)return;V.preventDefault();const{screenX:U,screenY:N}=V.touches[0],W=U-n.value.x,X=N-n.value.y;t(W,X),r({x:U,y:N});const K=Date.now();a(K-i.value),o(K),h({x:W,y:X})}function v(){if(!n.value)return;const V=c.value;if(r(null),h(null),V){const U=V.x/s.value,N=V.y/s.value,W=Math.abs(U),X=Math.abs(N);if(Math.max(W,X)<aSe)return;let K=U,te=N;d.value=setInterval(()=>{if(Math.abs(K)<DB&&Math.abs(te)<DB){clearInterval(d.value);return}K*=kB,te*=kB,t(K*_w,te*_w)},_w)}}const x=Ot();function C(V){const{deltaX:U,deltaY:N}=V;let W=0;const X=Math.abs(U),K=Math.abs(N);X===K?W=x.value==="x"?U:N:X>K?(W=U,x.value="x"):(W=N,x.value="y"),t(-W,-W)&&V.preventDefault()}const I=Ot({onTouchStart:g,onTouchMove:y,onTouchEnd:v,onWheel:C});function A(V){I.value.onTouchStart(V)}function k(V){I.value.onTouchMove(V)}function R(V){I.value.onTouchEnd(V)}function z(V){I.value.onWheel(V)}Nn(()=>{var V,U;document.addEventListener("touchmove",k,{passive:!1}),document.addEventListener("touchend",R,{passive:!1}),(V=e.value)===null||V===void 0||V.addEventListener("touchstart",A,{passive:!1}),(U=e.value)===null||U===void 0||U.addEventListener("wheel",z,{passive:!1})}),ii(()=>{document.removeEventListener("touchmove",k),document.removeEventListener("touchend",R)})}function OB(e,t){const n=Ot(e);function r(i){const o=typeof i=="function"?i(n.value):i;o!==n.value&&t(o,n.value),n.value=o}return[n,r]}const lSe=()=>{const e=Ot(new Map),t=n=>r=>{e.value.set(n,r)};return mV(()=>{e.value=new Map}),[t,e]},RB={width:0,height:0,left:0,top:0,right:0},uSe=()=>({id:{type:String},tabPosition:{type:String},activeKey:{type:[String,Number]},rtl:{type:Boolean},animated:Jr(),editable:Jr(),moreIcon:ft.any,moreTransitionName:{type:String},mobile:{type:Boolean},tabBarGutter:{type:Number},renderTabBar:{type:Function},locale:Jr(),popupClassName:String,getPopupContainer:mi(),onTabClick:{type:Function},onTabScroll:{type:Function}}),cSe=(e,t)=>{const{offsetWidth:n,offsetHeight:r,offsetTop:i,offsetLeft:o}=e,{width:s,height:a,x:c,y:h}=e.getBoundingClientRect();return Math.abs(s-n)<1?[s,a,c-t.x,h-t.y]:[n,r,o,i]},LB=Pt({compatConfig:{MODE:3},name:"TabNavList",inheritAttrs:!1,props:uSe(),slots:Object,emits:["tabClick","tabScroll"],setup(e,t){let{attrs:n,slots:r}=t;const{tabs:i,prefixCls:o}=eW(),s=Et(),a=Et(),c=Et(),h=Et(),[d,g]=lSe(),y=ge(()=>e.tabPosition==="top"||e.tabPosition==="bottom"),[v,x]=OB(0,(Xe,Qe)=>{y.value&&e.onTabScroll&&e.onTabScroll({direction:Xe>Qe?"left":"right"})}),[C,I]=OB(0,(Xe,Qe)=>{!y.value&&e.onTabScroll&&e.onTabScroll({direction:Xe>Qe?"top":"bottom"})}),[A,k]=ci(0),[R,z]=ci(0),[V,U]=ci(null),[N,W]=ci(null),[X,K]=ci(0),[te,ae]=ci(0),[me,we]=eSe(new Map),se=nSe(i,me),ue=ge(()=>`${o.value}-nav-operations-hidden`),Te=Et(0),Be=Et(0);Dr(()=>{y.value?e.rtl?(Te.value=0,Be.value=Math.max(0,A.value-V.value)):(Te.value=Math.min(0,V.value-A.value),Be.value=0):(Te.value=Math.min(0,N.value-R.value),Be.value=0)});const ke=Xe=>Xe<Te.value?Te.value:Xe>Be.value?Be.value:Xe,rt=Et(),[ot,tt]=ci(),It=()=>{tt(Date.now())},Bt=()=>{clearTimeout(rt.value)},Lt=(Xe,Qe)=>{Xe(lt=>ke(lt+Qe))};sSe(s,(Xe,Qe)=>{if(y.value){if(V.value>=A.value)return!1;Lt(x,Xe)}else{if(N.value>=R.value)return!1;Lt(I,Qe)}return Bt(),It(),!0}),qt(ot,()=>{Bt(),ot.value&&(rt.value=setTimeout(()=>{tt(0)},100))});const Yt=function(){let Xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activeKey;const Qe=se.value.get(Xe)||{width:0,height:0,left:0,right:0,top:0};if(y.value){let lt=v.value;e.rtl?Qe.right<v.value?lt=Qe.right:Qe.right+Qe.width>v.value+V.value&&(lt=Qe.right+Qe.width-V.value):Qe.left<-v.value?lt=-Qe.left:Qe.left+Qe.width>-v.value+V.value&&(lt=-(Qe.left+Qe.width-V.value)),I(0),x(ke(lt))}else{let lt=C.value;Qe.top<-C.value?lt=-Qe.top:Qe.top+Qe.height>-C.value+N.value&&(lt=-(Qe.top+Qe.height-N.value)),x(0),I(ke(lt))}},ze=Et(0),ut=Et(0);Dr(()=>{let Xe,Qe,lt,St,Tt,Wt;const Ft=se.value;["top","bottom"].includes(e.tabPosition)?(Xe="width",St=V.value,Tt=A.value,Wt=X.value,Qe=e.rtl?"right":"left",lt=Math.abs(v.value)):(Xe="height",St=N.value,Tt=A.value,Wt=te.value,Qe="top",lt=-C.value);let Qt=St;Tt+Wt>St&&Tt<St&&(Qt=St-Wt);const sn=i.value;if(!sn.length)return[ze.value,ut.value]=[0,0];const xn=sn.length;let En=xn;for(let Xn=0;Xn<xn;Xn+=1){const tr=Ft.get(sn[Xn].key)||RB;if(tr[Qe]+tr[Xe]>lt+Qt){En=Xn-1;break}}let bn=0;for(let Xn=xn-1;Xn>=0;Xn-=1)if((Ft.get(sn[Xn].key)||RB)[Qe]<lt){bn=Xn+1;break}return[ze.value,ut.value]=[bn,En]});const Re=()=>{we(()=>{var Xe;const Qe=new Map,lt=(Xe=a.value)===null||Xe===void 0?void 0:Xe.getBoundingClientRect();return i.value.forEach(St=>{let{key:Tt}=St;const Wt=g.value.get(Tt),Ft=(Wt==null?void 0:Wt.$el)||Wt;if(Ft){const[Qt,sn,xn,En]=cSe(Ft,lt);Qe.set(Tt,{width:Qt,height:sn,left:xn,top:En})}}),Qe})};qt(()=>i.value.map(Xe=>Xe.key).join("%%"),()=>{Re()},{flush:"post"});const Ve=()=>{var Xe,Qe,lt,St,Tt;const Wt=((Xe=s.value)===null||Xe===void 0?void 0:Xe.offsetWidth)||0,Ft=((Qe=s.value)===null||Qe===void 0?void 0:Qe.offsetHeight)||0,Qt=((lt=h.value)===null||lt===void 0?void 0:lt.$el)||{},sn=Qt.offsetWidth||0,xn=Qt.offsetHeight||0;U(Wt),W(Ft),K(sn),ae(xn);const En=(((St=a.value)===null||St===void 0?void 0:St.offsetWidth)||0)-sn,bn=(((Tt=a.value)===null||Tt===void 0?void 0:Tt.offsetHeight)||0)-xn;k(En),z(bn),Re()},Le=ge(()=>[...i.value.slice(0,ze.value),...i.value.slice(ut.value+1)]),[Ye,pe]=ci(),ye=ge(()=>se.value.get(e.activeKey)),Ze=Et(),ht=()=>{Tr.cancel(Ze.value)};qt([ye,y,()=>e.rtl],()=>{const Xe={};ye.value&&(y.value?(e.rtl?Xe.right=My(ye.value.right):Xe.left=My(ye.value.left),Xe.width=My(ye.value.width)):(Xe.top=My(ye.value.top),Xe.height=My(ye.value.height))),ht(),Ze.value=Tr(()=>{pe(Xe)})}),qt([()=>e.activeKey,ye,se,y],()=>{Yt()},{flush:"post"}),qt([()=>e.rtl,()=>e.tabBarGutter,()=>e.activeKey,()=>i.value],()=>{Ve()},{flush:"post"});const st=Xe=>{let{position:Qe,prefixCls:lt,extra:St}=Xe;if(!St)return null;const Tt=St==null?void 0:St({position:Qe});return Tt?ne("div",{class:`${lt}-extra-content`},[Tt]):null};return ii(()=>{Bt(),ht()}),()=>{const{id:Xe,animated:Qe,activeKey:lt,rtl:St,editable:Tt,locale:Wt,tabPosition:Ft,tabBarGutter:Qt,onTabClick:sn}=e,{class:xn,style:En}=n,bn=o.value,Xn=!!Le.value.length,tr=`${bn}-nav-wrap`;let Zr,Vr,Pi,xe;y.value?St?(Vr=v.value>0,Zr=v.value+V.value<A.value):(Zr=v.value<0,Vr=-v.value+V.value<A.value):(Pi=C.value<0,xe=-C.value+N.value<R.value);const le={};Ft==="top"||Ft==="bottom"?le[St?"marginRight":"marginLeft"]=typeof Qt=="number"?`${Qt}px`:Qt:le.marginTop=typeof Qt=="number"?`${Qt}px`:Qt;const fe=i.value.map((ve,Me)=>{const{key:je}=ve;return ne(tSe,{id:Xe,prefixCls:bn,key:je,tab:ve,style:Me===0?void 0:le,closable:ve.closable,editable:Tt,active:je===lt,removeAriaLabel:Wt==null?void 0:Wt.removeAriaLabel,ref:d(je),onClick:Ke=>{sn(je,Ke)},onFocus:()=>{Yt(je),It(),s.value&&(St||(s.value.scrollLeft=0),s.value.scrollTop=0)}},r)});return ne("div",{role:"tablist",class:an(`${bn}-nav`,xn),style:En,onKeydown:()=>{It()}},[ne(st,{position:"left",prefixCls:bn,extra:r.leftExtra},null),ne(g0,{onResize:Ve},{default:()=>[ne("div",{class:an(tr,{[`${tr}-ping-left`]:Zr,[`${tr}-ping-right`]:Vr,[`${tr}-ping-top`]:Pi,[`${tr}-ping-bottom`]:xe}),ref:s},[ne(g0,{onResize:Ve},{default:()=>[ne("div",{ref:a,class:`${bn}-nav-list`,style:{transform:`translate(${v.value}px, ${C.value}px)`,transition:ot.value?"none":void 0}},[fe,ne(JG,{ref:h,prefixCls:bn,locale:Wt,editable:Tt,style:ee(ee({},fe.length===0?void 0:le),{visibility:Xn?"hidden":null})},null),ne("div",{class:an(`${bn}-ink-bar`,{[`${bn}-ink-bar-animated`]:Qe.inkBar}),style:Ye.value},null)])]})])]}),ne(iSe,Ct(Ct({},e),{},{removeAriaLabel:Wt==null?void 0:Wt.removeAriaLabel,ref:c,prefixCls:bn,tabs:Le.value,class:!Xn&&ue.value}),xG(r,["moreIcon"])),ne(st,{position:"right",prefixCls:bn,extra:r.rightExtra},null),ne(st,{position:"right",prefixCls:bn,extra:r.tabBarExtraContent},null)])}}}),hSe=Pt({compatConfig:{MODE:3},name:"TabPanelList",inheritAttrs:!1,props:{activeKey:{type:[String,Number]},id:{type:String},rtl:{type:Boolean},animated:{type:Object,default:void 0},tabPosition:{type:String},destroyInactiveTabPane:{type:Boolean}},setup(e){const{tabs:t,prefixCls:n}=eW();return()=>{const{id:r,activeKey:i,animated:o,tabPosition:s,rtl:a,destroyInactiveTabPane:c}=e,h=o.tabPane,d=n.value,g=t.value.findIndex(y=>y.key===i);return ne("div",{class:`${d}-content-holder`},[ne("div",{class:[`${d}-content`,`${d}-content-${s}`,{[`${d}-content-animated`]:h}],style:g&&h?{[a?"marginRight":"marginLeft"]:`-${g}00%`}:null},[t.value.map(y=>Oa(y.node,{key:y.key,prefixCls:d,tabKey:y.key,id:r,animated:h,active:y.key===i,destroyInactiveTabPane:c}))])])}}});var dSe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};function $B(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){fSe(e,i,n[i])})}return e}function fSe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uO=function(t,n){var r=$B({},t,n.attrs);return ne(Ci,$B({},r,{icon:dSe}),null)};uO.displayName="PlusOutlined";uO.inheritAttrs=!1;const pSe=e=>{const{componentCls:t,motionDurationSlow:n}=e;return[{[t]:{[`${t}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${n}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${n}`}}}}},[xg(e,"slide-up"),xg(e,"slide-down")]]},mSe=e=>{const{componentCls:t,tabsCardHorizontalPadding:n,tabsCardHeadBackground:r,tabsCardGutter:i,colorSplit:o}=e;return{[`${t}-card`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{margin:0,padding:n,background:r,border:`${e.lineWidth}px ${e.lineType} ${o}`,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`},[`${t}-tab-active`]:{color:e.colorPrimary,background:e.colorBgContainer},[`${t}-ink-bar`]:{visibility:"hidden"}},[`&${t}-top, &${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginLeft:{_skip_check_:!0,value:`${i}px`}}}},[`&${t}-top`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`},[`${t}-tab-active`]:{borderBottomColor:e.colorBgContainer}}},[`&${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px`},[`${t}-tab-active`]:{borderTopColor:e.colorBgContainer}}},[`&${t}-left, &${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginTop:`${i}px`}}},[`&${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${e.borderRadiusLG}px 0 0 ${e.borderRadiusLG}px`}},[`${t}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:e.colorBgContainer}}}},[`&${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px 0`}},[`${t}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:e.colorBgContainer}}}}}}},gSe=e=>{const{componentCls:t,tabsHoverColor:n,dropdownEdgeChildVerticalPadding:r}=e;return{[`${t}-dropdown`]:ee(ee({},Io(e)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:e.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${t}-dropdown-menu`]:{maxHeight:e.tabsDropdownHeight,margin:0,padding:`${r}px 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:e.colorBgContainer,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,"&-item":ee(ee({},Ph),{display:"flex",alignItems:"center",minWidth:e.tabsDropdownWidth,margin:0,padding:`${e.paddingXXS}px ${e.paddingSM}px`,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:e.marginSM},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:n}},"&:hover":{background:e.controlItemBgHover},"&-disabled":{"&, &:hover":{color:e.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},vSe=e=>{const{componentCls:t,margin:n,colorSplit:r}=e;return{[`${t}-top, ${t}-bottom`]:{flexDirection:"column",[`> ${t}-nav, > div > ${t}-nav`]:{margin:`0 0 ${n}px 0`,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${e.lineWidth}px ${e.lineType} ${r}`,content:"''"},[`${t}-ink-bar`]:{height:e.lineWidthBold,"&-animated":{transition:`width ${e.motionDurationSlow}, left ${e.motionDurationSlow},
            right ${e.motionDurationSlow}`}},[`${t}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:e.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowRight},[`&${t}-nav-wrap-ping-left::before`]:{opacity:1},[`&${t}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${t}-top`]:{[`> ${t}-nav,
        > div > ${t}-nav`]:{"&::before":{bottom:0},[`${t}-ink-bar`]:{bottom:0}}},[`${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,marginTop:`${n}px`,marginBottom:0,"&::before":{top:0},[`${t}-ink-bar`]:{top:0}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0}},[`${t}-left, ${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{flexDirection:"column",minWidth:e.controlHeight*1.25,[`${t}-tab`]:{padding:`${e.paddingXS}px ${e.paddingLG}px`,textAlign:"center"},[`${t}-tab + ${t}-tab`]:{margin:`${e.margin}px 0 0 0`},[`${t}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:e.controlHeight},"&::before":{top:0,boxShadow:e.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:e.boxShadowTabsOverflowBottom},[`&${t}-nav-wrap-ping-top::before`]:{opacity:1},[`&${t}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${t}-ink-bar`]:{width:e.lineWidthBold,"&-animated":{transition:`height ${e.motionDurationSlow}, top ${e.motionDurationSlow}`}},[`${t}-nav-list, ${t}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{marginLeft:{_skip_check_:!0,value:`-${e.lineWidth}px`},borderLeft:{_skip_check_:!0,value:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:e.paddingLG}}}},[`${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,[`${t}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:-e.lineWidth},borderRight:{_skip_check_:!0,value:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingRight:{_skip_check_:!0,value:e.paddingLG}}}}}},ySe=e=>{const{componentCls:t,padding:n}=e;return{[t]:{"&-small":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:`${e.paddingXS}px 0`,fontSize:e.fontSize}}},"&-large":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:`${n}px 0`,fontSize:e.fontSizeLG}}}},[`${t}-card`]:{[`&${t}-small`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:`${e.paddingXXS*1.5}px ${n}px`}},[`&${t}-bottom`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`0 0 ${e.borderRadius}px ${e.borderRadius}px`}},[`&${t}-top`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`${e.borderRadius}px ${e.borderRadius}px 0 0`}},[`&${t}-right`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${e.borderRadius}px ${e.borderRadius}px 0`}}},[`&${t}-left`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${e.borderRadius}px 0 0 ${e.borderRadius}px`}}}},[`&${t}-large`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:`${e.paddingXS}px ${n}px ${e.paddingXXS*1.5}px`}}}}}},_Se=e=>{const{componentCls:t,tabsActiveColor:n,tabsHoverColor:r,iconCls:i,tabsHorizontalGutter:o}=e,s=`${t}-tab`;return{[s]:{position:"relative",display:"inline-flex",alignItems:"center",padding:`${e.paddingSM}px 0`,fontSize:`${e.fontSize}px`,background:"transparent",border:0,outline:"none",cursor:"pointer","&-btn, &-remove":ee({"&:focus:not(:focus-visible), &:active":{color:n}},_k(e)),"&-btn":{outline:"none",transition:"all 0.3s"},"&-remove":{flex:"none",marginRight:{_skip_check_:!0,value:-e.marginXXS},marginLeft:{_skip_check_:!0,value:e.marginXS},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"&:hover":{color:e.colorTextHeading}},"&:hover":{color:r},[`&${s}-active ${s}-btn`]:{color:e.colorPrimary,textShadow:e.tabsActiveTextShadow},[`&${s}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${s}-disabled ${s}-btn, &${s}-disabled ${t}-remove`]:{"&:focus, &:active":{color:e.colorTextDisabled}},[`& ${s}-remove ${i}`]:{margin:0},[i]:{marginRight:{_skip_check_:!0,value:e.marginSM}}},[`${s} + ${s}`]:{margin:{_skip_check_:!0,value:`0 0 0 ${o}px`}}}},bSe=e=>{const{componentCls:t,tabsHorizontalGutter:n,iconCls:r,tabsCardGutter:i}=e;return{[`${t}-rtl`]:{direction:"rtl",[`${t}-nav`]:{[`${t}-tab`]:{margin:{_skip_check_:!0,value:`0 0 0 ${n}px`},[`${t}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[r]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:`${e.marginSM}px`}},[`${t}-tab-remove`]:{marginRight:{_skip_check_:!0,value:`${e.marginXS}px`},marginLeft:{_skip_check_:!0,value:`-${e.marginXXS}px`},[r]:{margin:0}}}},[`&${t}-left`]:{[`> ${t}-nav`]:{order:1},[`> ${t}-content-holder`]:{order:0}},[`&${t}-right`]:{[`> ${t}-nav`]:{order:0},[`> ${t}-content-holder`]:{order:1}},[`&${t}-card${t}-top, &${t}-card${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginRight:{_skip_check_:!0,value:`${i}px`},marginLeft:{_skip_check_:!0,value:0}}}}},[`${t}-dropdown-rtl`]:{direction:"rtl"},[`${t}-menu-item`]:{[`${t}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},xSe=e=>{const{componentCls:t,tabsCardHorizontalPadding:n,tabsCardHeight:r,tabsCardGutter:i,tabsHoverColor:o,tabsActiveColor:s,colorSplit:a}=e;return{[t]:ee(ee(ee(ee({},Io(e)),{display:"flex",[`> ${t}-nav, > div > ${t}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${t}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${e.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${t}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${e.motionDurationSlow}`},[`${t}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${t}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${t}-nav-more`]:{position:"relative",padding:n,background:"transparent",border:0,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:e.controlHeightLG/8,transform:"translateY(100%)",content:"''"}},[`${t}-nav-add`]:ee({minWidth:`${r}px`,marginLeft:{_skip_check_:!0,value:`${i}px`},padding:`0 ${e.paddingXS}px`,background:"transparent",border:`${e.lineWidth}px ${e.lineType} ${a}`,borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`,outline:"none",cursor:"pointer",color:e.colorText,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`,"&:hover":{color:o},"&:active, &:focus:not(:focus-visible)":{color:s}},_k(e))},[`${t}-extra-content`]:{flex:"none"},[`${t}-ink-bar`]:{position:"absolute",background:e.colorPrimary,pointerEvents:"none"}}),_Se(e)),{[`${t}-content`]:{position:"relative",display:"flex",width:"100%","&-animated":{transition:"margin 0.3s"}},[`${t}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${t}-tabpane`]:{outline:"none",flex:"none",width:"100%"}}),[`${t}-centered`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-nav-wrap`]:{[`&:not([class*='${t}-nav-wrap-ping'])`]:{justifyContent:"center"}}}}}},wSe=Do("Tabs",e=>{const t=e.controlHeightLG,n=Wr(e,{tabsHoverColor:e.colorPrimaryHover,tabsActiveColor:e.colorPrimaryActive,tabsCardHorizontalPadding:`${(t-Math.round(e.fontSize*e.lineHeight))/2-e.lineWidth}px ${e.padding}px`,tabsCardHeight:t,tabsCardGutter:e.marginXXS/2,tabsHorizontalGutter:32,tabsCardHeadBackground:e.colorFillAlter,dropdownEdgeChildVerticalPadding:e.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120});return[ySe(n),bSe(n),vSe(n),gSe(n),mSe(n),xSe(n),pSe(n)]},e=>({zIndexPopup:e.zIndexPopupBase+50}));let zB=0;const tW=()=>({prefixCls:{type:String},id:{type:String},popupClassName:String,getPopupContainer:mi(),activeKey:{type:[String,Number]},defaultActiveKey:{type:[String,Number]},direction:Yo(),animated:Th([Boolean,Object]),renderTabBar:mi(),tabBarGutter:{type:Number},tabBarStyle:Jr(),tabPosition:Yo(),destroyInactiveTabPane:Br(),hideAdd:Boolean,type:Yo(),size:Yo(),centered:Boolean,onEdit:mi(),onChange:mi(),onTabClick:mi(),onTabScroll:mi(),"onUpdate:activeKey":mi(),locale:Jr(),onPrevClick:mi(),onNextClick:mi(),tabBarExtraContent:ft.any});function SSe(e){return e.map(t=>{if(Oh(t)){const n=ee({},t.props||{});for(const[y,v]of Object.entries(n))delete n[y],n[ck(y)]=v;const r=t.children||{},i=t.key!==void 0?t.key:void 0,{tab:o=r.tab,disabled:s,forceRender:a,closable:c,animated:h,active:d,destroyInactiveTabPane:g}=n;return ee(ee({key:i},n),{node:t,closeIcon:r.closeIcon,tab:o,disabled:s===""||s,forceRender:a===""||a,closable:c===""||c,animated:h===""||h,active:d===""||d,destroyInactiveTabPane:g===""||g})}return null}).filter(t=>t)}const CSe=Pt({compatConfig:{MODE:3},name:"InternalTabs",inheritAttrs:!1,props:ee(ee({},xa(tW(),{tabPosition:"top",animated:{inkBar:!0,tabPane:!1}})),{tabs:kf()}),slots:Object,setup(e,t){let{attrs:n,slots:r}=t;ll(e.onPrevClick===void 0&&e.onNextClick===void 0,"Tabs","`onPrevClick / @prevClick` and `onNextClick / @nextClick` has been removed. Please use `onTabScroll / @tabScroll` instead."),ll(e.tabBarExtraContent===void 0,"Tabs","`tabBarExtraContent` prop has been removed. Please use `rightExtra` slot instead."),ll(r.tabBarExtraContent===void 0,"Tabs","`tabBarExtraContent` slot is deprecated. Please use `rightExtra` slot instead.");const{prefixCls:i,direction:o,size:s,rootPrefixCls:a,getPopupContainer:c}=Nr("tabs",e),[h,d]=wSe(i),g=ge(()=>o.value==="rtl"),y=ge(()=>{const{animated:N,tabPosition:W}=e;return N===!1||["left","right"].includes(W)?{inkBar:!1,tabPane:!1}:N===!0?{inkBar:!0,tabPane:!0}:ee({inkBar:!0,tabPane:!1},typeof N=="object"?N:{})}),[v,x]=ci(!1);Nn(()=>{x(QU())});const[C,I]=uS(()=>{var N;return(N=e.tabs[0])===null||N===void 0?void 0:N.key},{value:ge(()=>e.activeKey),defaultValue:e.defaultActiveKey}),[A,k]=ci(()=>e.tabs.findIndex(N=>N.key===C.value));Dr(()=>{var N;let W=e.tabs.findIndex(X=>X.key===C.value);W===-1&&(W=Math.max(0,Math.min(A.value,e.tabs.length-1)),I((N=e.tabs[W])===null||N===void 0?void 0:N.key)),k(W)});const[R,z]=uS(null,{value:ge(()=>e.id)}),V=ge(()=>v.value&&!["left","right"].includes(e.tabPosition)?"top":e.tabPosition);Nn(()=>{e.id||(z(`rc-tabs-${zB}`),zB+=1)});const U=(N,W)=>{var X,K;(X=e.onTabClick)===null||X===void 0||X.call(e,N,W);const te=N!==C.value;I(N),te&&((K=e.onChange)===null||K===void 0||K.call(e,N))};return oSe({tabs:ge(()=>e.tabs),prefixCls:i}),()=>{const{id:N,type:W,tabBarGutter:X,tabBarStyle:K,locale:te,destroyInactiveTabPane:ae,renderTabBar:me=r.renderTabBar,onTabScroll:we,hideAdd:se,centered:ue}=e,Te={id:R.value,activeKey:C.value,animated:y.value,tabPosition:V.value,rtl:g.value,mobile:v.value};let Be;W==="editable-card"&&(Be={onEdit:(tt,It)=>{let{key:Bt,event:Lt}=It;var Yt;(Yt=e.onEdit)===null||Yt===void 0||Yt.call(e,tt==="add"?Lt:Bt,tt)},removeIcon:()=>ne(Lh,null,null),addIcon:r.addIcon?r.addIcon:()=>ne(uO,null,null),showAdd:se!==!0});let ke;const rt=ee(ee({},Te),{moreTransitionName:`${a.value}-slide-up`,editable:Be,locale:te,tabBarGutter:X,onTabClick:U,onTabScroll:we,style:K,getPopupContainer:c.value,popupClassName:an(e.popupClassName,d.value)});me?ke=me(ee(ee({},rt),{DefaultTabBar:LB})):ke=ne(LB,rt,xG(r,["moreIcon","leftExtra","rightExtra","tabBarExtraContent"]));const ot=i.value;return h(ne("div",Ct(Ct({},n),{},{id:N,class:an(ot,`${ot}-${V.value}`,{[d.value]:!0,[`${ot}-${s.value}`]:s.value,[`${ot}-card`]:["card","editable-card"].includes(W),[`${ot}-editable-card`]:W==="editable-card",[`${ot}-centered`]:ue,[`${ot}-mobile`]:v.value,[`${ot}-editable`]:W==="editable-card",[`${ot}-rtl`]:g.value},n.class)}),[ke,ne(hSe,Ct(Ct({destroyInactiveTabPane:ae},Te),{},{animated:y.value}),null)]))}}}),xf=Pt({compatConfig:{MODE:3},name:"ATabs",inheritAttrs:!1,props:xa(tW(),{tabPosition:"top",animated:{inkBar:!0,tabPane:!1}}),slots:Object,setup(e,t){let{attrs:n,slots:r,emit:i}=t;const o=s=>{i("update:activeKey",s),i("change",s)};return()=>{var s;const a=SSe(ao((s=r.default)===null||s===void 0?void 0:s.call(r)));return ne(CSe,Ct(Ct(Ct({},Gf(e,["onUpdate:activeKey"])),n),{},{onChange:o,tabs:a}),r)}}}),TSe=()=>({tab:ft.any,disabled:{type:Boolean},forceRender:{type:Boolean},closable:{type:Boolean},animated:{type:Boolean},active:{type:Boolean},destroyInactiveTabPane:{type:Boolean},prefixCls:{type:String},tabKey:{type:[String,Number]},id:{type:String}}),gS=Pt({compatConfig:{MODE:3},name:"ATabPane",inheritAttrs:!1,__ANT_TAB_PANE:!0,props:TSe(),slots:Object,setup(e,t){let{attrs:n,slots:r}=t;const i=Ot(e.forceRender);qt([()=>e.active,()=>e.destroyInactiveTabPane],()=>{e.active?i.value=!0:e.destroyInactiveTabPane&&(i.value=!1)},{immediate:!0});const o=ge(()=>e.active?{}:e.animated?{visibility:"hidden",height:0,overflowY:"hidden"}:{display:"none"});return()=>{var s;const{prefixCls:a,forceRender:c,id:h,active:d,tabKey:g}=e;return ne("div",{id:h&&`${h}-panel-${g}`,role:"tabpanel",tabindex:d?0:-1,"aria-labelledby":h&&`${h}-tab-${g}`,"aria-hidden":!d,style:[o.value,n.style],class:[`${a}-tabpane`,d&&`${a}-tabpane-active`,n.class]},[(d||i.value||c)&&((s=r.default)===null||s===void 0?void 0:s.call(r))])}}});xf.TabPane=gS;xf.install=function(e){return e.component(xf.name,xf),e.component(gS.name,gS),e};const PSe=e=>{const{antCls:t,componentCls:n,cardHeadHeight:r,cardPaddingBase:i,cardHeadTabsMarginBottom:o}=e;return ee(ee({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:r,marginBottom:-1,padding:`0 ${i}px`,color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,background:"transparent",borderBottom:`${e.lineWidth}px ${e.lineType} ${e.colorBorderSecondary}`,borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`},yg()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":ee(ee({display:"inline-block",flex:1},Ph),{[`
          > ${n}-typography,
          > ${n}-typography-edit-content
        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${t}-tabs-top`]:{clear:"both",marginBottom:o,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,"&-bar":{borderBottom:`${e.lineWidth}px ${e.lineType} ${e.colorBorderSecondary}`}}})},ESe=e=>{const{cardPaddingBase:t,colorBorderSecondary:n,cardShadow:r,lineWidth:i}=e;return{width:"33.33%",padding:t,border:0,borderRadius:0,boxShadow:`
      ${i}px 0 0 0 ${n},
      0 ${i}px 0 0 ${n},
      ${i}px ${i}px 0 0 ${n},
      ${i}px 0 0 0 ${n} inset,
      0 ${i}px 0 0 ${n} inset;
    `,transition:`all ${e.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:r}}},ISe=e=>{const{componentCls:t,iconCls:n,cardActionsLiMargin:r,cardActionsIconSize:i,colorBorderSecondary:o}=e;return ee(ee({margin:0,padding:0,listStyle:"none",background:e.colorBgContainer,borderTop:`${e.lineWidth}px ${e.lineType} ${o}`,display:"flex",borderRadius:`0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px `},yg()),{"& > li":{margin:r,color:e.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:e.cardActionsIconSize*2,fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer","&:hover":{color:e.colorPrimary,transition:`color ${e.motionDurationMid}`},[`a:not(${t}-btn), > ${n}`]:{display:"inline-block",width:"100%",color:e.colorTextDescription,lineHeight:`${e.fontSize*e.lineHeight}px`,transition:`color ${e.motionDurationMid}`,"&:hover":{color:e.colorPrimary}},[`> ${n}`]:{fontSize:i,lineHeight:`${i*e.lineHeight}px`}},"&:not(:last-child)":{borderInlineEnd:`${e.lineWidth}px ${e.lineType} ${o}`}}})},MSe=e=>ee(ee({margin:`-${e.marginXXS}px 0`,display:"flex"},yg()),{"&-avatar":{paddingInlineEnd:e.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:e.marginXS}},"&-title":ee({color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG},Ph),"&-description":{color:e.colorTextDescription}}),ASe=e=>{const{componentCls:t,cardPaddingBase:n,colorFillAlter:r}=e;return{[`${t}-head`]:{padding:`0 ${n}px`,background:r,"&-title":{fontSize:e.fontSize}},[`${t}-body`]:{padding:`${e.padding}px ${n}px`}}},DSe=e=>{const{componentCls:t}=e;return{overflow:"hidden",[`${t}-body`]:{userSelect:"none"}}},kSe=e=>{const{componentCls:t,cardShadow:n,cardHeadPadding:r,colorBorderSecondary:i,boxShadow:o,cardPaddingBase:s}=e;return{[t]:ee(ee({},Io(e)),{position:"relative",background:e.colorBgContainer,borderRadius:e.borderRadiusLG,[`&:not(${t}-bordered)`]:{boxShadow:o},[`${t}-head`]:PSe(e),[`${t}-extra`]:{marginInlineStart:"auto",color:"",fontWeight:"normal",fontSize:e.fontSize},[`${t}-body`]:ee({padding:s,borderRadius:` 0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px`},yg()),[`${t}-grid`]:ESe(e),[`${t}-cover`]:{"> *":{display:"block",width:"100%"},img:{borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`}},[`${t}-actions`]:ISe(e),[`${t}-meta`]:MSe(e)}),[`${t}-bordered`]:{border:`${e.lineWidth}px ${e.lineType} ${i}`,[`${t}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${t}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${e.motionDurationMid}, border-color ${e.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:n}},[`${t}-contain-grid`]:{[`${t}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${t}-loading) ${t}-body`]:{marginBlockStart:-e.lineWidth,marginInlineStart:-e.lineWidth,padding:0}},[`${t}-contain-tabs`]:{[`> ${t}-head`]:{[`${t}-head-title, ${t}-extra`]:{paddingTop:r}}},[`${t}-type-inner`]:ASe(e),[`${t}-loading`]:DSe(e),[`${t}-rtl`]:{direction:"rtl"}}},OSe=e=>{const{componentCls:t,cardPaddingSM:n,cardHeadHeightSM:r}=e;return{[`${t}-small`]:{[`> ${t}-head`]:{minHeight:r,padding:`0 ${n}px`,fontSize:e.fontSize,[`> ${t}-head-wrapper`]:{[`> ${t}-extra`]:{fontSize:e.fontSize}}},[`> ${t}-body`]:{padding:n}},[`${t}-small${t}-contain-tabs`]:{[`> ${t}-head`]:{[`${t}-head-title, ${t}-extra`]:{minHeight:r,paddingTop:0,display:"flex",alignItems:"center"}}}}},RSe=Do("Card",e=>{const t=Wr(e,{cardShadow:e.boxShadowCard,cardHeadHeight:e.fontSizeLG*e.lineHeightLG+e.padding*2,cardHeadHeightSM:e.fontSize*e.lineHeight+e.paddingXS*2,cardHeadPadding:e.padding,cardPaddingBase:e.paddingLG,cardHeadTabsMarginBottom:-e.padding-e.lineWidth,cardActionsLiMargin:`${e.paddingSM}px 0`,cardActionsIconSize:e.fontSize,cardPaddingSM:12});return[kSe(t),OSe(t)]}),LSe=()=>({prefixCls:String,width:{type:[Number,String]}}),cO=Pt({compatConfig:{MODE:3},name:"SkeletonTitle",props:LSe(),setup(e){return()=>{const{prefixCls:t,width:n}=e,r=typeof n=="number"?`${n}px`:n;return ne("h3",{class:t,style:{width:r}},null)}}}),$Se=()=>({prefixCls:String,width:{type:[Number,String,Array]},rows:Number}),zSe=Pt({compatConfig:{MODE:3},name:"SkeletonParagraph",props:$Se(),setup(e){const t=n=>{const{width:r,rows:i=2}=e;if(Array.isArray(r))return r[n];if(i-1===n)return r};return()=>{const{prefixCls:n,rows:r}=e,i=[...Array(r)].map((o,s)=>{const a=t(s);return ne("li",{key:s,style:{width:typeof a=="number"?`${a}px`:a}},null)});return ne("ul",{class:n},[i])}}}),N2=()=>({prefixCls:String,size:[String,Number],shape:String,active:{type:Boolean,default:void 0}}),fb=e=>{const{prefixCls:t,size:n,shape:r}=e,i=an({[`${t}-lg`]:n==="large",[`${t}-sm`]:n==="small"}),o=an({[`${t}-circle`]:r==="circle",[`${t}-square`]:r==="square",[`${t}-round`]:r==="round"}),s=typeof n=="number"?{width:`${n}px`,height:`${n}px`,lineHeight:`${n}px`}:{};return ne("span",{class:an(t,i,o),style:s},null)};fb.displayName="SkeletonElement";const BSe=new Qn("ant-skeleton-loading",{"0%":{transform:"translateX(-37.5%)"},"100%":{transform:"translateX(37.5%)"}}),V2=e=>({height:e,lineHeight:`${e}px`}),Zm=e=>ee({width:e},V2(e)),FSe=e=>({position:"relative",zIndex:0,overflow:"hidden",background:"transparent","&::after":{position:"absolute",top:0,insetInlineEnd:"-150%",bottom:0,insetInlineStart:"-150%",background:e.skeletonLoadingBackground,animationName:BSe,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite",content:'""'}}),HP=e=>ee({width:e*5,minWidth:e*5},V2(e)),NSe=e=>{const{skeletonAvatarCls:t,color:n,controlHeight:r,controlHeightLG:i,controlHeightSM:o}=e;return{[`${t}`]:ee({display:"inline-block",verticalAlign:"top",background:n},Zm(r)),[`${t}${t}-circle`]:{borderRadius:"50%"},[`${t}${t}-lg`]:ee({},Zm(i)),[`${t}${t}-sm`]:ee({},Zm(o))}},VSe=e=>{const{controlHeight:t,borderRadiusSM:n,skeletonInputCls:r,controlHeightLG:i,controlHeightSM:o,color:s}=e;return{[`${r}`]:ee({display:"inline-block",verticalAlign:"top",background:s,borderRadius:n},HP(t)),[`${r}-lg`]:ee({},HP(i)),[`${r}-sm`]:ee({},HP(o))}},BB=e=>ee({width:e},V2(e)),jSe=e=>{const{skeletonImageCls:t,imageSizeBase:n,color:r,borderRadiusSM:i}=e;return{[`${t}`]:ee(ee({display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",background:r,borderRadius:i},BB(n*2)),{[`${t}-path`]:{fill:"#bfbfbf"},[`${t}-svg`]:ee(ee({},BB(n)),{maxWidth:n*4,maxHeight:n*4}),[`${t}-svg${t}-svg-circle`]:{borderRadius:"50%"}}),[`${t}${t}-circle`]:{borderRadius:"50%"}}},UP=(e,t,n)=>{const{skeletonButtonCls:r}=e;return{[`${n}${r}-circle`]:{width:t,minWidth:t,borderRadius:"50%"},[`${n}${r}-round`]:{borderRadius:t}}},GP=e=>ee({width:e*2,minWidth:e*2},V2(e)),HSe=e=>{const{borderRadiusSM:t,skeletonButtonCls:n,controlHeight:r,controlHeightLG:i,controlHeightSM:o,color:s}=e;return ee(ee(ee(ee(ee({[`${n}`]:ee({display:"inline-block",verticalAlign:"top",background:s,borderRadius:t,width:r*2,minWidth:r*2},GP(r))},UP(e,r,n)),{[`${n}-lg`]:ee({},GP(i))}),UP(e,i,`${n}-lg`)),{[`${n}-sm`]:ee({},GP(o))}),UP(e,o,`${n}-sm`))},USe=e=>{const{componentCls:t,skeletonAvatarCls:n,skeletonTitleCls:r,skeletonParagraphCls:i,skeletonButtonCls:o,skeletonInputCls:s,skeletonImageCls:a,controlHeight:c,controlHeightLG:h,controlHeightSM:d,color:g,padding:y,marginSM:v,borderRadius:x,skeletonTitleHeight:C,skeletonBlockRadius:I,skeletonParagraphLineHeight:A,controlHeightXS:k,skeletonParagraphMarginTop:R}=e;return{[`${t}`]:{display:"table",width:"100%",[`${t}-header`]:{display:"table-cell",paddingInlineEnd:y,verticalAlign:"top",[`${n}`]:ee({display:"inline-block",verticalAlign:"top",background:g},Zm(c)),[`${n}-circle`]:{borderRadius:"50%"},[`${n}-lg`]:ee({},Zm(h)),[`${n}-sm`]:ee({},Zm(d))},[`${t}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[`${r}`]:{width:"100%",height:C,background:g,borderRadius:I,[`+ ${i}`]:{marginBlockStart:d}},[`${i}`]:{padding:0,"> li":{width:"100%",height:A,listStyle:"none",background:g,borderRadius:I,"+ li":{marginBlockStart:k}}},[`${i}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${t}-content`]:{[`${r}, ${i} > li`]:{borderRadius:x}}},[`${t}-with-avatar ${t}-content`]:{[`${r}`]:{marginBlockStart:v,[`+ ${i}`]:{marginBlockStart:R}}},[`${t}${t}-element`]:ee(ee(ee(ee({display:"inline-block",width:"auto"},HSe(e)),NSe(e)),VSe(e)),jSe(e)),[`${t}${t}-block`]:{width:"100%",[`${o}`]:{width:"100%"},[`${s}`]:{width:"100%"}},[`${t}${t}-active`]:{[`
        ${r},
        ${i} > li,
        ${n},
        ${o},
        ${s},
        ${a}
      `]:ee({},FSe(e))}}},pb=Do("Skeleton",e=>{const{componentCls:t}=e,n=Wr(e,{skeletonAvatarCls:`${t}-avatar`,skeletonTitleCls:`${t}-title`,skeletonParagraphCls:`${t}-paragraph`,skeletonButtonCls:`${t}-button`,skeletonInputCls:`${t}-input`,skeletonImageCls:`${t}-image`,imageSizeBase:e.controlHeight*1.5,skeletonTitleHeight:e.controlHeight/2,skeletonBlockRadius:e.borderRadiusSM,skeletonParagraphLineHeight:e.controlHeight/2,skeletonParagraphMarginTop:e.marginLG+e.marginXXS,borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${e.color} 25%, ${e.colorGradientEnd} 37%, ${e.color} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[USe(n)]},e=>{const{colorFillContent:t,colorFill:n}=e;return{color:t,colorGradientEnd:n}}),GSe=()=>({active:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},prefixCls:String,avatar:{type:[Boolean,Object],default:void 0},title:{type:[Boolean,Object],default:void 0},paragraph:{type:[Boolean,Object],default:void 0},round:{type:Boolean,default:void 0}});function WP(e){return e&&typeof e=="object"?e:{}}function WSe(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function ZSe(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}function qSe(e,t){const n={};return(!e||!t)&&(n.width="61%"),!e&&t?n.rows=3:n.rows=2,n}const Ea=Pt({compatConfig:{MODE:3},name:"ASkeleton",props:xa(GSe(),{avatar:!1,title:!0,paragraph:!0}),setup(e,t){let{slots:n}=t;const{prefixCls:r,direction:i}=Nr("skeleton",e),[o,s]=pb(r);return()=>{var a;const{loading:c,avatar:h,title:d,paragraph:g,active:y,round:v}=e,x=r.value;if(c||e.loading===void 0){const C=!!h||h==="",I=!!d||d==="",A=!!g||g==="";let k;if(C){const V=ee(ee({prefixCls:`${x}-avatar`},WSe(I,A)),WP(h));k=ne("div",{class:`${x}-header`},[ne(fb,V,null)])}let R;if(I||A){let V;if(I){const N=ee(ee({prefixCls:`${x}-title`},ZSe(C,A)),WP(d));V=ne(cO,N,null)}let U;if(A){const N=ee(ee({prefixCls:`${x}-paragraph`},qSe(C,I)),WP(g));U=ne(zSe,N,null)}R=ne("div",{class:`${x}-content`},[V,U])}const z=an(x,{[`${x}-with-avatar`]:C,[`${x}-active`]:y,[`${x}-rtl`]:i.value==="rtl",[`${x}-round`]:v,[s.value]:!0});return o(ne("div",{class:z},[k,R]))}return(a=n.default)===null||a===void 0?void 0:a.call(n)}}}),KSe=()=>ee(ee({},N2()),{size:String,block:Boolean}),nW=Pt({compatConfig:{MODE:3},name:"ASkeletonButton",props:xa(KSe(),{size:"default"}),setup(e){const{prefixCls:t}=Nr("skeleton",e),[n,r]=pb(t),i=ge(()=>an(t.value,`${t.value}-element`,{[`${t.value}-active`]:e.active,[`${t.value}-block`]:e.block},r.value));return()=>n(ne("div",{class:i.value},[ne(fb,Ct(Ct({},e),{},{prefixCls:`${t.value}-button`}),null)]))}}),rW=Pt({compatConfig:{MODE:3},name:"ASkeletonInput",props:ee(ee({},Gf(N2(),["shape"])),{size:String,block:Boolean}),setup(e){const{prefixCls:t}=Nr("skeleton",e),[n,r]=pb(t),i=ge(()=>an(t.value,`${t.value}-element`,{[`${t.value}-active`]:e.active,[`${t.value}-block`]:e.block},r.value));return()=>n(ne("div",{class:i.value},[ne(fb,Ct(Ct({},e),{},{prefixCls:`${t.value}-input`}),null)]))}}),XSe="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",iW=Pt({compatConfig:{MODE:3},name:"ASkeletonImage",props:Gf(N2(),["size","shape","active"]),setup(e){const{prefixCls:t}=Nr("skeleton",e),[n,r]=pb(t),i=ge(()=>an(t.value,`${t.value}-element`,r.value));return()=>n(ne("div",{class:i.value},[ne("div",{class:`${t.value}-image`},[ne("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",class:`${t.value}-image-svg`},[ne("path",{d:XSe,class:`${t.value}-image-path`},null)])])]))}}),YSe=()=>ee(ee({},N2()),{shape:String}),oW=Pt({compatConfig:{MODE:3},name:"ASkeletonAvatar",props:xa(YSe(),{size:"default",shape:"circle"}),setup(e){const{prefixCls:t}=Nr("skeleton",e),[n,r]=pb(t),i=ge(()=>an(t.value,`${t.value}-element`,{[`${t.value}-active`]:e.active},r.value));return()=>n(ne("div",{class:i.value},[ne(fb,Ct(Ct({},e),{},{prefixCls:`${t.value}-avatar`}),null)]))}});Ea.Button=nW;Ea.Avatar=oW;Ea.Input=rW;Ea.Image=iW;Ea.Title=cO;Ea.install=function(e){return e.component(Ea.name,Ea),e.component(Ea.Button.name,nW),e.component(Ea.Avatar.name,oW),e.component(Ea.Input.name,rW),e.component(Ea.Image.name,iW),e.component(Ea.Title.name,cO),e};const{TabPane:JSe}=xf,QSe=()=>({prefixCls:String,title:ft.any,extra:ft.any,bordered:{type:Boolean,default:!0},bodyStyle:{type:Object,default:void 0},headStyle:{type:Object,default:void 0},loading:{type:Boolean,default:!1},hoverable:{type:Boolean,default:!1},type:{type:String},size:{type:String},actions:ft.any,tabList:{type:Array},tabBarExtraContent:ft.any,activeTabKey:String,defaultActiveTabKey:String,cover:ft.any,onTabChange:{type:Function}}),wf=Pt({compatConfig:{MODE:3},name:"ACard",inheritAttrs:!1,props:QSe(),slots:Object,setup(e,t){let{slots:n,attrs:r}=t;const{prefixCls:i,direction:o,size:s}=Nr("card",e),[a,c]=RSe(i),h=y=>y.map((x,C)=>ta(x)&&!S2(x)||!ta(x)?ne("li",{style:{width:`${100/y.length}%`},key:`action-${C}`},[ne("span",null,[x])]):null),d=y=>{var v;(v=e.onTabChange)===null||v===void 0||v.call(e,y)},g=function(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],v;return y.forEach(x=>{x&&u1e(x.type)&&x.type.__ANT_CARD_GRID&&(v=!0)}),v};return()=>{var y,v,x,C,I,A;const{headStyle:k={},bodyStyle:R={},loading:z,bordered:V=!0,type:U,tabList:N,hoverable:W,activeTabKey:X,defaultActiveTabKey:K,tabBarExtraContent:te=Ay((y=n.tabBarExtraContent)===null||y===void 0?void 0:y.call(n)),title:ae=Ay((v=n.title)===null||v===void 0?void 0:v.call(n)),extra:me=Ay((x=n.extra)===null||x===void 0?void 0:x.call(n)),actions:we=Ay((C=n.actions)===null||C===void 0?void 0:C.call(n)),cover:se=Ay((I=n.cover)===null||I===void 0?void 0:I.call(n))}=e,ue=ao((A=n.default)===null||A===void 0?void 0:A.call(n)),Te=i.value,Be={[`${Te}`]:!0,[c.value]:!0,[`${Te}-loading`]:z,[`${Te}-bordered`]:V,[`${Te}-hoverable`]:!!W,[`${Te}-contain-grid`]:g(ue),[`${Te}-contain-tabs`]:N&&N.length,[`${Te}-${s.value}`]:s.value,[`${Te}-type-${U}`]:!!U,[`${Te}-rtl`]:o.value==="rtl"},ke=ne(Ea,{loading:!0,active:!0,paragraph:{rows:4},title:!1},{default:()=>[ue]}),rt=X!==void 0,ot={size:"large",[rt?"activeKey":"defaultActiveKey"]:rt?X:K,onChange:d,class:`${Te}-head-tabs`};let tt;const It=N&&N.length?ne(xf,ot,{default:()=>[N.map(ze=>{const{tab:ut,slots:Re}=ze,Ve=Re==null?void 0:Re.tab;ll(!Re,"Card","tabList slots is deprecated, Please use `customTab` instead.");let Le=ut!==void 0?ut:n[Ve]?n[Ve](ze):null;return Le=fge(n,"customTab",ze,()=>[Le]),ne(JSe,{tab:Le,key:ze.key,disabled:ze.disabled},null)})],rightExtra:te?()=>te:null}):null;(ae||me||It)&&(tt=ne("div",{class:`${Te}-head`,style:k},[ne("div",{class:`${Te}-head-wrapper`},[ae&&ne("div",{class:`${Te}-head-title`},[ae]),me&&ne("div",{class:`${Te}-extra`},[me])]),It]));const Bt=se?ne("div",{class:`${Te}-cover`},[se]):null,Lt=ne("div",{class:`${Te}-body`,style:R},[z?ke:ue]),Yt=we&&we.length?ne("ul",{class:`${Te}-actions`},[h(we)]):null;return a(ne("div",Ct(Ct({ref:"cardContainerRef"},r),{},{class:[Be,r.class]}),[tt,Bt,ue.length?Lt:null,Yt]))}}}),e2e=()=>({prefixCls:String,title:vP(),description:vP(),avatar:vP()}),jM=Pt({compatConfig:{MODE:3},name:"ACardMeta",props:e2e(),slots:Object,setup(e,t){let{slots:n}=t;const{prefixCls:r}=Nr("card",e);return()=>{const i={[`${r.value}-meta`]:!0},o=yf(n,e,"avatar"),s=yf(n,e,"title"),a=yf(n,e,"description"),c=o?ne("div",{class:`${r.value}-meta-avatar`},[o]):null,h=s?ne("div",{class:`${r.value}-meta-title`},[s]):null,d=a?ne("div",{class:`${r.value}-meta-description`},[a]):null,g=h||d?ne("div",{class:`${r.value}-meta-detail`},[h,d]):null;return ne("div",{class:i},[c,g])}}}),t2e=()=>({prefixCls:String,hoverable:{type:Boolean,default:!0}}),HM=Pt({compatConfig:{MODE:3},name:"ACardGrid",__ANT_CARD_GRID:!0,props:t2e(),setup(e,t){let{slots:n}=t;const{prefixCls:r}=Nr("card",e),i=ge(()=>({[`${r.value}-grid`]:!0,[`${r.value}-grid-hoverable`]:e.hoverable}));return()=>{var o;return ne("div",{class:i.value},[(o=n.default)===null||o===void 0?void 0:o.call(n)])}}});wf.Meta=jM;wf.Grid=HM;wf.install=function(e){return e.component(wf.name,wf),e.component(jM.name,jM),e.component(HM.name,HM),e};const n2e=()=>({prefixCls:String,activeKey:Th([Array,Number,String]),defaultActiveKey:Th([Array,Number,String]),accordion:Br(),destroyInactivePanel:Br(),bordered:Br(),expandIcon:mi(),openAnimation:ft.object,expandIconPosition:Yo(),collapsible:Yo(),ghost:Br(),onChange:mi(),"onUpdate:activeKey":mi()}),aW=()=>({openAnimation:ft.object,prefixCls:String,header:ft.any,headerClass:String,showArrow:Br(),isActive:Br(),destroyInactivePanel:Br(),disabled:Br(),accordion:Br(),forceRender:Br(),expandIcon:mi(),extra:ft.any,panelKey:Th(),collapsible:Yo(),role:String,onItemClick:mi()}),r2e=e=>{const{componentCls:t,collapseContentBg:n,padding:r,collapseContentPaddingHorizontal:i,collapseHeaderBg:o,collapseHeaderPadding:s,collapsePanelBorderRadius:a,lineWidth:c,lineType:h,colorBorder:d,colorText:g,colorTextHeading:y,colorTextDisabled:v,fontSize:x,lineHeight:C,marginSM:I,paddingSM:A,motionDurationSlow:k,fontSizeIcon:R}=e,z=`${c}px ${h} ${d}`;return{[t]:ee(ee({},Io(e)),{backgroundColor:o,border:z,borderBottom:0,borderRadius:`${a}px`,"&-rtl":{direction:"rtl"},[`& > ${t}-item`]:{borderBottom:z,"&:last-child":{[`
            &,
            & > ${t}-header`]:{borderRadius:`0 0 ${a}px ${a}px`}},[`> ${t}-header`]:{position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:s,color:y,lineHeight:C,cursor:"pointer",transition:`all ${k}, visibility 0s`,[`> ${t}-header-text`]:{flex:"auto"},"&:focus":{outline:"none"},[`${t}-expand-icon`]:{height:x*C,display:"flex",alignItems:"center",paddingInlineEnd:I},[`${t}-arrow`]:ee(ee({},hb()),{fontSize:R,svg:{transition:`transform ${k}`}}),[`${t}-header-text`]:{marginInlineEnd:"auto"}},[`${t}-header-collapsible-only`]:{cursor:"default",[`${t}-header-text`]:{flex:"none",cursor:"pointer"},[`${t}-expand-icon`]:{cursor:"pointer"}},[`${t}-icon-collapsible-only`]:{cursor:"default",[`${t}-expand-icon`]:{cursor:"pointer"}},[`&${t}-no-arrow`]:{[`> ${t}-header`]:{paddingInlineStart:A}}},[`${t}-content`]:{color:g,backgroundColor:n,borderTop:z,[`& > ${t}-content-box`]:{padding:`${r}px ${i}px`},"&-hidden":{display:"none"}},[`${t}-item:last-child`]:{[`> ${t}-content`]:{borderRadius:`0 0 ${a}px ${a}px`}},[`& ${t}-item-disabled > ${t}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:v,cursor:"not-allowed"}},[`&${t}-icon-position-end`]:{[`& > ${t}-item`]:{[`> ${t}-header`]:{[`${t}-expand-icon`]:{order:1,paddingInlineEnd:0,paddingInlineStart:I}}}}})}},i2e=e=>{const{componentCls:t}=e,n=`> ${t}-item > ${t}-header ${t}-arrow svg`;return{[`${t}-rtl`]:{[n]:{transform:"rotate(180deg)"}}}},o2e=e=>{const{componentCls:t,collapseHeaderBg:n,paddingXXS:r,colorBorder:i}=e;return{[`${t}-borderless`]:{backgroundColor:n,border:0,[`> ${t}-item`]:{borderBottom:`1px solid ${i}`},[`
        > ${t}-item:last-child,
        > ${t}-item:last-child ${t}-header
      `]:{borderRadius:0},[`> ${t}-item:last-child`]:{borderBottom:0},[`> ${t}-item > ${t}-content`]:{backgroundColor:"transparent",borderTop:0},[`> ${t}-item > ${t}-content > ${t}-content-box`]:{paddingTop:r}}}},a2e=e=>{const{componentCls:t,paddingSM:n}=e;return{[`${t}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${t}-item`]:{borderBottom:0,[`> ${t}-content`]:{backgroundColor:"transparent",border:0,[`> ${t}-content-box`]:{paddingBlock:n}}}}}},s2e=Do("Collapse",e=>{const t=Wr(e,{collapseContentBg:e.colorBgContainer,collapseHeaderBg:e.colorFillAlter,collapseHeaderPadding:`${e.paddingSM}px ${e.padding}px`,collapsePanelBorderRadius:e.borderRadiusLG,collapseContentPaddingHorizontal:16});return[r2e(t),o2e(t),a2e(t),i2e(t),IG(t)]});function FB(e){let t=e;if(!Array.isArray(t)){const n=typeof t;t=n==="number"||n==="string"?[t]:[]}return t.map(n=>String(n))}const z_=Pt({compatConfig:{MODE:3},name:"ACollapse",inheritAttrs:!1,props:xa(n2e(),{accordion:!1,destroyInactivePanel:!1,bordered:!0,expandIconPosition:"start"}),slots:Object,setup(e,t){let{attrs:n,slots:r,emit:i}=t;const o=Ot(FB(kG([e.activeKey,e.defaultActiveKey])));qt(()=>e.activeKey,()=>{o.value=FB(e.activeKey)},{deep:!0});const{prefixCls:s,direction:a,rootPrefixCls:c}=Nr("collapse",e),[h,d]=s2e(s),g=ge(()=>{const{expandIconPosition:A}=e;return A!==void 0?A:a.value==="rtl"?"end":"start"}),y=A=>{const{expandIcon:k=r.expandIcon}=e,R=k?k(A):ne(oO,{rotate:A.isActive?90:void 0},null);return ne("div",{class:[`${s.value}-expand-icon`,d.value],onClick:()=>["header","icon"].includes(e.collapsible)&&x(A.panelKey)},[Oh(Array.isArray(k)?R[0]:R)?Oa(R,{class:`${s.value}-arrow`},!1):R])},v=A=>{e.activeKey===void 0&&(o.value=A);const k=e.accordion?A[0]:A;i("update:activeKey",k),i("change",k)},x=A=>{let k=o.value;if(e.accordion)k=k[0]===A?[]:[A];else{k=[...k];const R=k.indexOf(A);R>-1?k.splice(R,1):k.push(A)}v(k)},C=(A,k)=>{var R,z,V;if(S2(A))return;const U=o.value,{accordion:N,destroyInactivePanel:W,collapsible:X,openAnimation:K}=e,te=K||YG(`${c.value}-motion-collapse`),ae=String((R=A.key)!==null&&R!==void 0?R:k),{header:me=(V=(z=A.children)===null||z===void 0?void 0:z.header)===null||V===void 0?void 0:V.call(z),headerClass:we,collapsible:se,disabled:ue}=A.props||{};let Te=!1;N?Te=U[0]===ae:Te=U.indexOf(ae)>-1;let Be=se??X;(ue||ue==="")&&(Be="disabled");const ke={key:ae,panelKey:ae,header:me,headerClass:we,isActive:Te,prefixCls:s.value,destroyInactivePanel:W,openAnimation:te,accordion:N,onItemClick:Be==="disabled"?null:x,expandIcon:y,collapsible:Be};return Oa(A,ke)},I=()=>{var A;return ao((A=r.default)===null||A===void 0?void 0:A.call(r)).map(C)};return()=>{const{accordion:A,bordered:k,ghost:R}=e,z=an(s.value,{[`${s.value}-borderless`]:!k,[`${s.value}-icon-position-${g.value}`]:!0,[`${s.value}-rtl`]:a.value==="rtl",[`${s.value}-ghost`]:!!R,[n.class]:!!n.class},d.value);return h(ne("div",Ct(Ct({class:z},Xde(n)),{},{style:n.style,role:A?"tablist":null}),[I()]))}}}),l2e=Pt({compatConfig:{MODE:3},name:"PanelContent",props:aW(),setup(e,t){let{slots:n}=t;const r=Et(!1);return Dr(()=>{(e.isActive||e.forceRender)&&(r.value=!0)}),()=>{var i;if(!r.value)return null;const{prefixCls:o,isActive:s,role:a}=e;return ne("div",{class:an(`${o}-content`,{[`${o}-content-active`]:s,[`${o}-content-inactive`]:!s}),role:a},[ne("div",{class:`${o}-content-box`},[(i=n.default)===null||i===void 0?void 0:i.call(n)])])}}}),UM=Pt({compatConfig:{MODE:3},name:"ACollapsePanel",inheritAttrs:!1,props:xa(aW(),{showArrow:!0,isActive:!1,onItemClick(){},headerClass:"",forceRender:!1}),slots:Object,setup(e,t){let{slots:n,emit:r,attrs:i}=t;ll(e.disabled===void 0,"Collapse.Panel",'`disabled` is deprecated. Please use `collapsible="disabled"` instead.');const{prefixCls:o}=Nr("collapse",e),s=()=>{r("itemClick",e.panelKey)},a=c=>{(c.key==="Enter"||c.keyCode===13||c.which===13)&&s()};return()=>{var c,h;const{header:d=(c=n.header)===null||c===void 0?void 0:c.call(n),headerClass:g,isActive:y,showArrow:v,destroyInactivePanel:x,accordion:C,forceRender:I,openAnimation:A,expandIcon:k=n.expandIcon,extra:R=(h=n.extra)===null||h===void 0?void 0:h.call(n),collapsible:z}=e,V=z==="disabled",U=o.value,N=an(`${U}-header`,{[g]:g,[`${U}-header-collapsible-only`]:z==="header",[`${U}-icon-collapsible-only`]:z==="icon"}),W=an({[`${U}-item`]:!0,[`${U}-item-active`]:y,[`${U}-item-disabled`]:V,[`${U}-no-arrow`]:!v,[`${i.class}`]:!!i.class});let X=ne("i",{class:"arrow"},null);v&&typeof k=="function"&&(X=k(e));const K=xh(ne(l2e,{prefixCls:U,isActive:y,forceRender:I,role:C?"tabpanel":null},{default:n.default}),[[Mf,y]]),te=ee({appear:!1,css:!1},A);return ne("div",Ct(Ct({},i),{},{class:W}),[ne("div",{class:N,onClick:()=>!["header","icon"].includes(z)&&s(),role:C?"tab":"button",tabindex:V?-1:0,"aria-expanded":y,onKeypress:a},[v&&X,ne("span",{onClick:()=>z==="header"&&s(),class:`${U}-header-text`},[d]),R&&ne("div",{class:`${U}-extra`},[R])]),ne(us,te,{default:()=>[!x||y?K:null]})])}}});z_.Panel=UM;z_.install=function(e){return e.component(z_.name,z_),e.component(UM.name,UM),e};const u2e=new Qn("antCheckboxEffect",{"0%":{transform:"scale(1)",opacity:.5},"100%":{transform:"scale(1.6)",opacity:0}}),c2e=e=>{const{checkboxCls:t}=e,n=`${t}-wrapper`;return[{[`${t}-group`]:ee(ee({},Io(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[n]:ee(ee({},Io(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${n}`]:{marginInlineStart:0},[`&${n}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:ee(ee({},Io(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",alignSelf:"center",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${t}-inner`]:ee({},yk(e))},[`${t}-inner`]:{boxSizing:"border-box",position:"relative",top:0,insetInlineStart:0,display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:e.checkboxSize/14*5,height:e.checkboxSize/14*8,border:`${e.lineWidthBold}px solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[t]:{"&-indeterminate":{[`${t}-inner`]:{"&:after":{top:"50%",insetInlineStart:"50%",width:e.fontSizeLG/2,height:e.fontSizeLG/2,backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{[`${n}:hover ${t}:after`]:{visibility:"visible"},[`
        ${n}:not(${n}-disabled),
        ${t}:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{borderColor:e.colorPrimary}},[`${n}:not(${n}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}},"&:after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderRadius:e.borderRadiusSM,visibility:"hidden",border:`${e.lineWidthBold}px solid ${e.colorPrimary}`,animationName:u2e,animationDuration:e.motionDurationSlow,animationTimingFunction:"ease-in-out",animationFillMode:"backwards",content:'""',transition:`all ${e.motionDurationSlow}`}},[`
        ${n}-checked:not(${n}-disabled),
        ${t}-checked:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}:after`]:{borderColor:e.colorPrimaryHover}}},{[`${n}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${t}-indeterminate ${t}-inner::after`]:{background:e.colorTextDisabled}}}]};function h2e(e,t){const n=Wr(t,{checkboxCls:`.${e}`,checkboxSize:t.controlInteractiveSize});return[c2e(n)]}const sW=Do("Checkbox",(e,t)=>{let{prefixCls:n}=t;return[h2e(n,e)]}),d2e=()=>({name:String,prefixCls:String,options:kf([]),disabled:Boolean,id:String}),f2e=()=>ee(ee({},d2e()),{defaultValue:kf(),value:kf(),onChange:mi(),"onUpdate:value":mi()}),p2e=()=>({prefixCls:String,defaultChecked:Br(),checked:Br(),disabled:Br(),isGroup:Br(),value:ft.any,name:String,id:String,indeterminate:Br(),type:Yo("checkbox"),autofocus:Br(),onChange:mi(),"onUpdate:checked":mi(),onClick:mi(),skipGroup:Br(!1)}),m2e=()=>ee(ee({},p2e()),{indeterminate:Br(!1)}),lW=Symbol("CheckboxGroupContext");var NB=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const qm=Pt({compatConfig:{MODE:3},name:"ACheckbox",inheritAttrs:!1,__ANT_CHECKBOX:!0,props:m2e(),setup(e,t){let{emit:n,attrs:r,slots:i,expose:o}=t;const s=Zk(),a=vG.useInject(),{prefixCls:c,direction:h,disabled:d}=Nr("checkbox",e),g=cb(),[y,v]=sW(c),x=Mn(lW,void 0),C=Symbol("checkboxUniId"),I=ge(()=>(x==null?void 0:x.disabled.value)||d.value);Dr(()=>{!e.skipGroup&&x&&x.registerValue(C,e.value)}),ii(()=>{x&&x.cancelValue(C)}),Nn(()=>{P2(!!(e.checked!==void 0||x||e.value===void 0))});const A=V=>{const U=V.target.checked;n("update:checked",U),n("change",V),s.onFieldChange()},k=Ot();return o({focus:()=>{var V;(V=k.value)===null||V===void 0||V.focus()},blur:()=>{var V;(V=k.value)===null||V===void 0||V.blur()}}),()=>{var V;const U=ao((V=i.default)===null||V===void 0?void 0:V.call(i)),{indeterminate:N,skipGroup:W,id:X=s.id.value}=e,K=NB(e,["indeterminate","skipGroup","id"]),{onMouseenter:te,onMouseleave:ae,onInput:me,class:we,style:se}=r,ue=NB(r,["onMouseenter","onMouseleave","onInput","class","style"]),Te=ee(ee(ee(ee({},K),{id:X,prefixCls:c.value}),ue),{disabled:I.value});x&&!W?(Te.onChange=function(){for(var ot=arguments.length,tt=new Array(ot),It=0;It<ot;It++)tt[It]=arguments[It];n("change",...tt),x.toggleOption({label:U,value:e.value})},Te.name=x.name.value,Te.checked=x.mergedValue.value.includes(e.value),Te.disabled=I.value||g.value,Te.indeterminate=N):Te.onChange=A;const Be=an({[`${c.value}-wrapper`]:!0,[`${c.value}-rtl`]:h.value==="rtl",[`${c.value}-wrapper-checked`]:Te.checked,[`${c.value}-wrapper-disabled`]:Te.disabled,[`${c.value}-wrapper-in-form-item`]:a.isFormItemInput},we,v.value),ke=an({[`${c.value}-indeterminate`]:N},v.value);return y(ne("label",{class:Be,style:se,onMouseenter:te,onMouseleave:ae},[ne(Jwe,Ct(Ct({"aria-checked":N?"mixed":void 0},Te),{},{class:ke,ref:k}),null),U.length?ne("span",null,[U]):null]))}}}),GM=Pt({compatConfig:{MODE:3},name:"ACheckboxGroup",inheritAttrs:!1,props:f2e(),setup(e,t){let{slots:n,attrs:r,emit:i,expose:o}=t;const s=Zk(),{prefixCls:a,direction:c}=Nr("checkbox",e),h=ge(()=>`${a.value}-group`),[d,g]=sW(h),y=Ot((e.value===void 0?e.defaultValue:e.value)||[]);qt(()=>e.value,()=>{y.value=e.value||[]});const v=ge(()=>e.options.map(z=>typeof z=="string"||typeof z=="number"?{label:z,value:z}:z)),x=Ot(Symbol()),C=Ot(new Map),I=z=>{C.value.delete(z),x.value=Symbol()},A=(z,V)=>{C.value.set(z,V),x.value=Symbol()},k=Ot(new Map);return qt(x,()=>{const z=new Map;for(const V of C.value.values())z.set(V,!0);k.value=z}),fr(lW,{cancelValue:I,registerValue:A,toggleOption:z=>{const V=y.value.indexOf(z.value),U=[...y.value];V===-1?U.push(z.value):U.splice(V,1),e.value===void 0&&(y.value=U);const N=U.filter(W=>k.value.has(W)).sort((W,X)=>{const K=v.value.findIndex(ae=>ae.value===W),te=v.value.findIndex(ae=>ae.value===X);return K-te});i("update:value",N),i("change",N),s.onFieldChange()},mergedValue:y,name:ge(()=>e.name),disabled:ge(()=>e.disabled)}),o({mergedValue:y}),()=>{var z;const{id:V=s.id.value}=e;let U=null;return v.value&&v.value.length>0&&(U=v.value.map(N=>{var W;return ne(qm,{prefixCls:a.value,key:N.value.toString(),disabled:"disabled"in N?N.disabled:e.disabled,indeterminate:N.indeterminate,value:N.value,checked:y.value.indexOf(N.value)!==-1,onChange:N.onChange,class:`${h.value}-item`},{default:()=>[n.label!==void 0?(W=n.label)===null||W===void 0?void 0:W.call(n,N):N.label]})})),d(ne("div",Ct(Ct({},r),{},{class:[h.value,{[`${h.value}-rtl`]:c.value==="rtl"},r.class,g.value],id:V}),[U||((z=n.default)===null||z===void 0?void 0:z.call(n))]))}}});qm.Group=GM;qm.install=function(e){return e.component(qm.name,qm),e.component(GM.name,GM),e};let ZP=ee({},v0.Modal);function g2e(e){e?ZP=ee(ee({},ZP),e):ZP=ee({},v0.Modal)}const WM="internalMark",bw=Pt({compatConfig:{MODE:3},name:"ALocaleProvider",props:{locale:{type:Object},ANT_MARK__:String},setup(e,t){let{slots:n}=t;P2(e.ANT_MARK__===WM);const r=Gi({antLocale:ee(ee({},e.locale),{exist:!0}),ANT_MARK__:WM});return fr("localeData",r),qt(()=>e.locale,i=>{g2e(i&&i.Modal),r.antLocale=ee(ee({},i),{exist:!0})},{immediate:!0}),()=>{var i;return(i=n.default)===null||i===void 0?void 0:i.call(n)}}});bw.install=function(e){return e.component(bw.name,bw),e};const v2e=ub(bw),uW=Pt({name:"Notice",inheritAttrs:!1,props:["prefixCls","duration","updateMark","noticeKey","closeIcon","closable","props","onClick","onClose","holder","visible"],setup(e,t){let{attrs:n,slots:r}=t,i,o=!1;const s=ge(()=>e.duration===void 0?4.5:e.duration),a=()=>{s.value&&!o&&(i=setTimeout(()=>{h()},s.value*1e3))},c=()=>{i&&(clearTimeout(i),i=null)},h=g=>{g&&g.stopPropagation(),c();const{onClose:y,noticeKey:v}=e;y&&y(v)},d=()=>{c(),a()};return Nn(()=>{a()}),eu(()=>{o=!0,c()}),qt([s,()=>e.updateMark,()=>e.visible],(g,y)=>{let[v,x,C]=g,[I,A,k]=y;(v!==I||x!==A||C!==k&&k)&&d()},{flush:"post"}),()=>{var g,y;const{prefixCls:v,closable:x,closeIcon:C=(g=r.closeIcon)===null||g===void 0?void 0:g.call(r),onClick:I,holder:A}=e,{class:k,style:R}=n,z=`${v}-notice`,V=Object.keys(n).reduce((N,W)=>((W.startsWith("data-")||W.startsWith("aria-")||W==="role")&&(N[W]=n[W]),N),{}),U=ne("div",Ct({class:an(z,k,{[`${z}-closable`]:x}),style:R,onMouseenter:c,onMouseleave:a,onClick:I},V),[ne("div",{class:`${z}-content`},[(y=r.default)===null||y===void 0?void 0:y.call(r)]),x?ne("a",{tabindex:0,onClick:h,class:`${z}-close`},[C||ne("span",{class:`${z}-close-x`},null)]):null]);return A?ne(TD,{to:A},{default:()=>U}):U}}});var y2e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let VB=0;const _2e=Date.now();function jB(){const e=VB;return VB+=1,`rcNotification_${_2e}_${e}`}const vS=Pt({name:"Notification",inheritAttrs:!1,props:["prefixCls","transitionName","animation","maxCount","closeIcon","hashId"],setup(e,t){let{attrs:n,expose:r,slots:i}=t;const o=new Map,s=Ot([]),a=ge(()=>{const{prefixCls:d,animation:g="fade"}=e;let y=e.transitionName;return!y&&g&&(y=`${d}-${g}`),jU(y)}),c=(d,g)=>{const y=d.key||jB(),v=ee(ee({},d),{key:y}),{maxCount:x}=e,C=s.value.map(A=>A.notice.key).indexOf(y),I=s.value.concat();C!==-1?I.splice(C,1,{notice:v,holderCallback:g}):(x&&s.value.length>=x&&(v.key=I[0].notice.key,v.updateMark=jB(),v.userPassKey=y,I.shift()),I.push({notice:v,holderCallback:g})),s.value=I},h=d=>{s.value=Un(s.value).filter(g=>{let{notice:{key:y,userPassKey:v}}=g;return(v||y)!==d})};return r({add:c,remove:h,notices:s}),()=>{var d;const{prefixCls:g,closeIcon:y=(d=i.closeIcon)===null||d===void 0?void 0:d.call(i,{prefixCls:g})}=e,v=s.value.map((C,I)=>{let{notice:A,holderCallback:k}=C;const R=I===s.value.length-1?A.updateMark:void 0,{key:z,userPassKey:V}=A,{content:U}=A,N=ee(ee(ee({prefixCls:g,closeIcon:typeof y=="function"?y({prefixCls:g}):y},A),A.props),{key:z,noticeKey:V||z,updateMark:R,onClose:W=>{var X;h(W),(X=A.onClose)===null||X===void 0||X.call(A)},onClick:A.onClick});return k?ne("div",{key:z,class:`${g}-hook-holder`,ref:W=>{typeof z>"u"||(W?(o.set(z,W),k(W,N)):o.delete(z))}},null):ne(uW,Ct(Ct({},N),{},{class:an(N.class,e.hashId)}),{default:()=>[typeof U=="function"?U({prefixCls:g}):U]})}),x={[g]:1,[n.class]:!!n.class,[e.hashId]:!0};return ne("div",{class:x,style:n.style||{top:"65px",left:"50%"}},[ne(e7,Ct({tag:"div"},a.value),{default:()=>[v]})])}}});vS.newInstance=function(t,n){const r=t||{},{name:i="notification",getContainer:o,appContext:s,prefixCls:a,rootPrefixCls:c,transitionName:h,hasTransitionName:d,useStyle:g}=r,y=y2e(r,["name","getContainer","appContext","prefixCls","rootPrefixCls","transitionName","hasTransitionName","useStyle"]),v=document.createElement("div");o?o().appendChild(v):document.body.appendChild(v);const C=ne(Pt({compatConfig:{MODE:3},name:"NotificationWrapper",setup(I,A){let{attrs:k}=A;const R=Et(),z=ge(()=>Uo.getPrefixCls(i,a)),[,V]=g(z);return Nn(()=>{n({notice(U){var N;(N=R.value)===null||N===void 0||N.add(U)},removeNotice(U){var N;(N=R.value)===null||N===void 0||N.remove(U)},destroy(){a0(null,v),v.parentNode&&v.parentNode.removeChild(v)},component:R})}),()=>{const U=Uo,N=U.getRootPrefixCls(c,z.value),W=d?h:`${z.value}-${h}`;return ne(Qu,Ct(Ct({},U),{},{prefixCls:N}),{default:()=>[ne(vS,Ct(Ct({ref:R},k),{},{prefixCls:z.value,transitionName:W,hashId:V.value}),null)]})}}}),y);C.appContext=s||C.appContext,a0(C,v)};let HB=0;const b2e=Date.now();function UB(){const e=HB;return HB+=1,`rcNotification_${b2e}_${e}`}const x2e=Pt({name:"HookNotification",inheritAttrs:!1,props:["prefixCls","transitionName","animation","maxCount","closeIcon","hashId","remove","notices","getStyles","getClassName","onAllRemoved","getContainer"],setup(e,t){let{attrs:n,slots:r}=t;const i=new Map,o=ge(()=>e.notices),s=ge(()=>{let d=e.transitionName;if(!d&&e.animation)switch(typeof e.animation){case"string":d=e.animation;break;case"function":d=e.animation().name;break;case"object":d=e.animation.name;break;default:d=`${e.prefixCls}-fade`;break}return jU(d)}),a=d=>e.remove(d),c=Ot({});qt(o,()=>{const d={};Object.keys(c.value).forEach(g=>{d[g]=[]}),e.notices.forEach(g=>{const{placement:y="topRight"}=g.notice;y&&(d[y]=d[y]||[],d[y].push(g))}),c.value=d});const h=ge(()=>Object.keys(c.value));return()=>{var d;const{prefixCls:g,closeIcon:y=(d=r.closeIcon)===null||d===void 0?void 0:d.call(r,{prefixCls:g})}=e,v=h.value.map(x=>{var C,I;const A=c.value[x],k=(C=e.getClassName)===null||C===void 0?void 0:C.call(e,x),R=(I=e.getStyles)===null||I===void 0?void 0:I.call(e,x),z=A.map((N,W)=>{let{notice:X,holderCallback:K}=N;const te=W===o.value.length-1?X.updateMark:void 0,{key:ae,userPassKey:me}=X,{content:we}=X,se=ee(ee(ee({prefixCls:g,closeIcon:typeof y=="function"?y({prefixCls:g}):y},X),X.props),{key:ae,noticeKey:me||ae,updateMark:te,onClose:ue=>{var Te;a(ue),(Te=X.onClose)===null||Te===void 0||Te.call(X)},onClick:X.onClick});return K?ne("div",{key:ae,class:`${g}-hook-holder`,ref:ue=>{typeof ae>"u"||(ue?(i.set(ae,ue),K(ue,se)):i.delete(ae))}},null):ne(uW,Ct(Ct({},se),{},{class:an(se.class,e.hashId)}),{default:()=>[typeof we=="function"?we({prefixCls:g}):we]})}),V={[g]:1,[`${g}-${x}`]:1,[n.class]:!!n.class,[e.hashId]:!0,[k]:!!k};function U(){var N;A.length>0||(Reflect.deleteProperty(c.value,x),(N=e.onAllRemoved)===null||N===void 0||N.call(e))}return ne("div",{key:x,class:V,style:n.style||R||{top:"65px",left:"50%"}},[ne(e7,Ct(Ct({tag:"div"},s.value),{},{onAfterLeave:U}),{default:()=>[z]})])});return ne(WU,{getContainer:e.getContainer},{default:()=>[v]})}}});var w2e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const S2e=()=>document.body;let GB=0;function C2e(){const e={};for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(i=>{i&&Object.keys(i).forEach(o=>{const s=i[o];s!==void 0&&(e[o]=s)})}),e}function cW(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{getContainer:t=S2e,motion:n,prefixCls:r,maxCount:i,getClassName:o,getStyles:s,onAllRemoved:a}=e,c=w2e(e,["getContainer","motion","prefixCls","maxCount","getClassName","getStyles","onAllRemoved"]),h=Et([]),d=Et(),g=(A,k)=>{const R=A.key||UB(),z=ee(ee({},A),{key:R}),V=h.value.map(N=>N.notice.key).indexOf(R),U=h.value.concat();V!==-1?U.splice(V,1,{notice:z,holderCallback:k}):(i&&h.value.length>=i&&(z.key=U[0].notice.key,z.updateMark=UB(),z.userPassKey=R,U.shift()),U.push({notice:z,holderCallback:k})),h.value=U},y=A=>{h.value=h.value.filter(k=>{let{notice:{key:R,userPassKey:z}}=k;return(z||R)!==A})},v=()=>{h.value=[]},x=()=>ne(x2e,{ref:d,prefixCls:r,maxCount:i,notices:h.value,remove:y,getClassName:o,getStyles:s,animation:n,hashId:e.hashId,onAllRemoved:a,getContainer:t},null),C=Et([]),I={open:A=>{const k=C2e(c,A);(k.key===null||k.key===void 0)&&(k.key=`vc-notification-${GB}`,GB+=1),C.value=[...C.value,{type:"open",config:k}]},close:A=>{C.value=[...C.value,{type:"close",key:A}]},destroy:()=>{C.value=[...C.value,{type:"destroy"}]}};return qt(C,()=>{C.value.length&&(C.value.forEach(A=>{switch(A.type){case"open":g(A.config);break;case"close":y(A.key);break;case"destroy":v();break}}),C.value=[])}),[I,x]}const T2e=e=>{const{componentCls:t,iconCls:n,boxShadowSecondary:r,colorBgElevated:i,colorSuccess:o,colorError:s,colorWarning:a,colorInfo:c,fontSizeLG:h,motionEaseInOutCirc:d,motionDurationSlow:g,marginXS:y,paddingXS:v,borderRadiusLG:x,zIndexPopup:C,messageNoticeContentPadding:I}=e,A=new Qn("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:v,transform:"translateY(0)",opacity:1}}),k=new Qn("MessageMoveOut",{"0%":{maxHeight:e.height,padding:v,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}});return[{[t]:ee(ee({},Io(e)),{position:"fixed",top:y,left:"50%",transform:"translateX(-50%)",width:"100%",pointerEvents:"none",zIndex:C,[`${t}-move-up`]:{animationFillMode:"forwards"},[`
        ${t}-move-up-appear,
        ${t}-move-up-enter
      `]:{animationName:A,animationDuration:g,animationPlayState:"paused",animationTimingFunction:d},[`
        ${t}-move-up-appear${t}-move-up-appear-active,
        ${t}-move-up-enter${t}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${t}-move-up-leave`]:{animationName:k,animationDuration:g,animationPlayState:"paused",animationTimingFunction:d},[`${t}-move-up-leave${t}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[`${t}-notice`]:{padding:v,textAlign:"center",[n]:{verticalAlign:"text-bottom",marginInlineEnd:y,fontSize:h},[`${t}-notice-content`]:{display:"inline-block",padding:I,background:i,borderRadius:x,boxShadow:r,pointerEvents:"all"},[`${t}-success ${n}`]:{color:o},[`${t}-error ${n}`]:{color:s},[`${t}-warning ${n}`]:{color:a},[`
        ${t}-info ${n},
        ${t}-loading ${n}`]:{color:c}}},{[`${t}-notice-pure-panel`]:{padding:0,textAlign:"start"}}]},hW=Do("Message",e=>{const t=Wr(e,{messageNoticeContentPadding:`${(e.controlHeightLG-e.fontSize*e.lineHeight)/2}px ${e.paddingSM}px`});return[T2e(t)]},e=>({height:150,zIndexPopup:e.zIndexPopupBase+10})),P2e={info:ne(Hg,null,null),success:ne(Vg,null,null),error:ne(Xf,null,null),warning:ne(jg,null,null),loading:ne(Eh,null,null)},E2e=Pt({name:"PureContent",inheritAttrs:!1,props:["prefixCls","type","icon"],setup(e,t){let{slots:n}=t;return()=>{var r;return ne("div",{class:an(`${e.prefixCls}-custom-content`,`${e.prefixCls}-${e.type}`)},[e.icon||P2e[e.type],ne("span",null,[(r=n.default)===null||r===void 0?void 0:r.call(n)])])}}});var I2e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const M2e=8,A2e=3,D2e=Pt({name:"Holder",inheritAttrs:!1,props:["top","prefixCls","getContainer","maxCount","duration","rtl","transitionName","onAllRemoved","animation","staticGetContainer"],setup(e,t){let{expose:n}=t;var r,i;const{getPrefixCls:o,getPopupContainer:s}=Nr("message",e),a=ge(()=>o("message",e.prefixCls)),[,c]=hW(a),h=()=>{var C;const I=(C=e.top)!==null&&C!==void 0?C:M2e;return{left:"50%",transform:"translateX(-50%)",top:typeof I=="number"?`${I}px`:I}},d=()=>an(c.value,e.rtl?`${a.value}-rtl`:""),g=()=>{var C;return Tk({prefixCls:a.value,animation:(C=e.animation)!==null&&C!==void 0?C:"move-up",transitionName:e.transitionName})},y=ne("span",{class:`${a.value}-close-x`},[ne(Lh,{class:`${a.value}-close-icon`},null)]),[v,x]=cW({getStyles:h,prefixCls:a.value,getClassName:d,motion:g,closable:!1,closeIcon:y,duration:(r=e.duration)!==null&&r!==void 0?r:A2e,getContainer:(i=e.staticGetContainer)!==null&&i!==void 0?i:s.value,maxCount:e.maxCount,onAllRemoved:e.onAllRemoved});return n(ee(ee({},v),{prefixCls:a,hashId:c})),x}});let WB=0;function k2e(e){const t=Et(null),n=Symbol("messageHolderKey"),r=c=>{var h;(h=t.value)===null||h===void 0||h.close(c)},i=c=>{if(!t.value){const V=()=>{};return V.then=()=>{},V}const{open:h,prefixCls:d,hashId:g}=t.value,y=`${d}-notice`,{content:v,icon:x,type:C,key:I,class:A,onClose:k}=c,R=I2e(c,["content","icon","type","key","class","onClose"]);let z=I;return z==null&&(WB+=1,z=`antd-message-${WB}`),Yde(V=>(h(ee(ee({},R),{key:z,content:()=>ne(E2e,{prefixCls:d,type:C,icon:typeof x=="function"?x():x},{default:()=>[typeof v=="function"?v():v]}),placement:"top",class:an(C&&`${y}-${C}`,g,A),onClose:()=>{k==null||k(),V()}})),()=>{r(z)}))},s={open:i,destroy:c=>{var h;c!==void 0?r(c):(h=t.value)===null||h===void 0||h.destroy()}};return["info","success","warning","error","loading"].forEach(c=>{const h=(d,g,y)=>{let v;d&&typeof d=="object"&&"content"in d?v=d:v={content:d};let x,C;typeof g=="function"?C=g:(x=g,C=y);const I=ee(ee({onClose:C,duration:x},v),{type:c});return i(I)};s[c]=h}),[s,()=>ne(D2e,Ct(Ct({key:n},e),{},{ref:t}),null)]}function O2e(e){return k2e(e)}let dW=3,fW,va,R2e=1,pW="",mW="move-up",gW=!1,vW=()=>document.body,yW,_W=!1;function L2e(){return R2e++}function $2e(e){e.top!==void 0&&(fW=e.top,va=null),e.duration!==void 0&&(dW=e.duration),e.prefixCls!==void 0&&(pW=e.prefixCls),e.getContainer!==void 0&&(vW=e.getContainer,va=null),e.transitionName!==void 0&&(mW=e.transitionName,va=null,gW=!0),e.maxCount!==void 0&&(yW=e.maxCount,va=null),e.rtl!==void 0&&(_W=e.rtl)}function z2e(e,t){if(va){t(va);return}vS.newInstance({appContext:e.appContext,prefixCls:e.prefixCls||pW,rootPrefixCls:e.rootPrefixCls,transitionName:mW,hasTransitionName:gW,style:{top:fW},getContainer:vW||e.getPopupContainer,maxCount:yW,name:"message",useStyle:hW},n=>{if(va){t(va);return}va=n,t(n)})}const bW={info:Hg,success:Vg,error:Xf,warning:jg,loading:Eh},B2e=Object.keys(bW);function F2e(e){const t=e.duration!==void 0?e.duration:dW,n=e.key||L2e(),r=new Promise(o=>{const s=()=>(typeof e.onClose=="function"&&e.onClose(),o(!0));z2e(e,a=>{a.notice({key:n,duration:t,style:e.style||{},class:e.class,content:c=>{let{prefixCls:h}=c;const d=bW[e.type],g=d?ne(d,null,null):"",y=an(`${h}-custom-content`,{[`${h}-${e.type}`]:e.type,[`${h}-rtl`]:_W===!0});return ne("div",{class:y},[typeof e.icon=="function"?e.icon():e.icon||g,ne("span",null,[typeof e.content=="function"?e.content():e.content])])},onClose:s,onClick:e.onClick})})}),i=()=>{va&&va.removeNotice(n)};return i.then=(o,s)=>r.then(o,s),i.promise=r,i}function N2e(e){return Object.prototype.toString.call(e)==="[object Object]"&&!!e.content}const I0={open:F2e,config:$2e,destroy(e){if(va)if(e){const{removeNotice:t}=va;t(e)}else{const{destroy:t}=va;t(),va=null}}};function V2e(e,t){e[t]=(n,r,i)=>N2e(n)?e.open(ee(ee({},n),{type:t})):(typeof r=="function"&&(i=r,r=void 0),e.open({content:n,duration:r,type:t,onClose:i}))}B2e.forEach(e=>V2e(I0,e));I0.warn=I0.warning;I0.useMessage=O2e;const j2e=e=>{const{componentCls:t,width:n,notificationMarginEdge:r}=e,i=new Qn("antNotificationTopFadeIn",{"0%":{marginTop:"-100%",opacity:0},"100%":{marginTop:0,opacity:1}}),o=new Qn("antNotificationBottomFadeIn",{"0%":{marginBottom:"-100%",opacity:0},"100%":{marginBottom:0,opacity:1}}),s=new Qn("antNotificationLeftFadeIn",{"0%":{right:{_skip_check_:!0,value:n},opacity:0},"100%":{right:{_skip_check_:!0,value:0},opacity:1}});return{[`&${t}-top, &${t}-bottom`]:{marginInline:0},[`&${t}-top`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:i}},[`&${t}-bottom`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:o}},[`&${t}-topLeft, &${t}-bottomLeft`]:{marginInlineEnd:0,marginInlineStart:r,[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:s}}}},H2e=e=>{const{iconCls:t,componentCls:n,boxShadowSecondary:r,fontSizeLG:i,notificationMarginBottom:o,borderRadiusLG:s,colorSuccess:a,colorInfo:c,colorWarning:h,colorError:d,colorTextHeading:g,notificationBg:y,notificationPadding:v,notificationMarginEdge:x,motionDurationMid:C,motionEaseInOut:I,fontSize:A,lineHeight:k,width:R,notificationIconSize:z}=e,V=`${n}-notice`,U=new Qn("antNotificationFadeIn",{"0%":{left:{_skip_check_:!0,value:R},opacity:0},"100%":{left:{_skip_check_:!0,value:0},opacity:1}}),N=new Qn("antNotificationFadeOut",{"0%":{maxHeight:e.animationMaxHeight,marginBottom:o,opacity:1},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[n]:ee(ee(ee(ee({},Io(e)),{position:"fixed",zIndex:e.zIndexPopup,marginInlineEnd:x,[`${n}-hook-holder`]:{position:"relative"},[`&${n}-top, &${n}-bottom`]:{[`${n}-notice`]:{marginInline:"auto auto"}},[`&${n}-topLeft, &${n}-bottomLeft`]:{[`${n}-notice`]:{marginInlineEnd:"auto",marginInlineStart:0}},[`${n}-fade-enter, ${n}-fade-appear`]:{animationDuration:e.motionDurationMid,animationTimingFunction:I,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${n}-fade-leave`]:{animationTimingFunction:I,animationFillMode:"both",animationDuration:C,animationPlayState:"paused"},[`${n}-fade-enter${n}-fade-enter-active, ${n}-fade-appear${n}-fade-appear-active`]:{animationName:U,animationPlayState:"running"},[`${n}-fade-leave${n}-fade-leave-active`]:{animationName:N,animationPlayState:"running"}}),j2e(e)),{"&-rtl":{direction:"rtl",[`${n}-notice-btn`]:{float:"left"}}})},{[V]:{position:"relative",width:R,maxWidth:`calc(100vw - ${x*2}px)`,marginBottom:o,marginInlineStart:"auto",padding:v,overflow:"hidden",lineHeight:k,wordWrap:"break-word",background:y,borderRadius:s,boxShadow:r,[`${n}-close-icon`]:{fontSize:A,cursor:"pointer"},[`${V}-message`]:{marginBottom:e.marginXS,color:g,fontSize:i,lineHeight:e.lineHeightLG},[`${V}-description`]:{fontSize:A},[`&${V}-closable ${V}-message`]:{paddingInlineEnd:e.paddingLG},[`${V}-with-icon ${V}-message`]:{marginBottom:e.marginXS,marginInlineStart:e.marginSM+z,fontSize:i},[`${V}-with-icon ${V}-description`]:{marginInlineStart:e.marginSM+z,fontSize:A},[`${V}-icon`]:{position:"absolute",fontSize:z,lineHeight:0,[`&-success${t}`]:{color:a},[`&-info${t}`]:{color:c},[`&-warning${t}`]:{color:h},[`&-error${t}`]:{color:d}},[`${V}-close`]:{position:"absolute",top:e.notificationPaddingVertical,insetInlineEnd:e.notificationPaddingHorizontal,color:e.colorIcon,outline:"none",width:e.notificationCloseButtonSize,height:e.notificationCloseButtonSize,borderRadius:e.borderRadiusSM,transition:`background-color ${e.motionDurationMid}, color ${e.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:e.colorIconHover,backgroundColor:e.wireframe?"transparent":e.colorFillContent}},[`${V}-btn`]:{float:"right",marginTop:e.marginSM}}},{[`${V}-pure-panel`]:{margin:0}}]},xW=Do("Notification",e=>{const t=e.paddingMD,n=e.paddingLG,r=Wr(e,{notificationBg:e.colorBgElevated,notificationPaddingVertical:t,notificationPaddingHorizontal:n,notificationPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`,notificationMarginBottom:e.margin,notificationMarginEdge:e.marginLG,animationMaxHeight:150,notificationIconSize:e.fontSizeLG*e.lineHeightLG,notificationCloseButtonSize:e.controlHeightLG*.55});return[H2e(r)]},e=>({zIndexPopup:e.zIndexPopupBase+50,width:384}));function U2e(e,t){return ne("span",{class:`${e}-close-x`},[ne(Lh,{class:`${e}-close-icon`},null)])}ne(Hg,null,null),ne(Vg,null,null),ne(Xf,null,null),ne(jg,null,null),ne(Eh,null,null);const G2e={success:Vg,info:Hg,error:Xf,warning:jg};function W2e(e){let{prefixCls:t,icon:n,type:r,message:i,description:o,btn:s}=e,a=null;if(n)a=ne("span",{class:`${t}-icon`},[Em(n)]);else if(r){const c=G2e[r];a=ne(c,{class:`${t}-icon ${t}-icon-${r}`},null)}return ne("div",{class:an({[`${t}-with-icon`]:a}),role:"alert"},[a,ne("div",{class:`${t}-message`},[i]),ne("div",{class:`${t}-description`},[o]),s&&ne("div",{class:`${t}-btn`},[s])])}function wW(e,t,n){let r;switch(t=typeof t=="number"?`${t}px`:t,n=typeof n=="number"?`${n}px`:n,e){case"top":r={left:"50%",transform:"translateX(-50%)",right:"auto",top:t,bottom:"auto"};break;case"topLeft":r={left:0,top:t,bottom:"auto"};break;case"topRight":r={right:0,top:t,bottom:"auto"};break;case"bottom":r={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:n};break;case"bottomLeft":r={left:0,top:"auto",bottom:n};break;default:r={right:0,top:"auto",bottom:n};break}return r}function Z2e(e){return{name:`${e}-fade`}}var q2e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const ZB=24,K2e=4.5,X2e=Pt({name:"Holder",inheritAttrs:!1,props:["prefixCls","class","type","icon","content","onAllRemoved"],setup(e,t){let{expose:n}=t;const{getPrefixCls:r,getPopupContainer:i}=Nr("notification",e),o=ge(()=>e.prefixCls||r("notification")),s=y=>{var v,x;return wW(y,(v=e.top)!==null&&v!==void 0?v:ZB,(x=e.bottom)!==null&&x!==void 0?x:ZB)},[,a]=xW(o),c=()=>an(a.value,{[`${o.value}-rtl`]:e.rtl}),h=()=>Z2e(o.value),[d,g]=cW({prefixCls:o.value,getStyles:s,getClassName:c,motion:h,closable:!0,closeIcon:U2e(o.value),duration:K2e,getContainer:()=>{var y,v;return((y=e.getPopupContainer)===null||y===void 0?void 0:y.call(e))||((v=i.value)===null||v===void 0?void 0:v.call(i))||document.body},maxCount:e.maxCount,hashId:a.value,onAllRemoved:e.onAllRemoved});return n(ee(ee({},d),{prefixCls:o.value,hashId:a})),g}});function Y2e(e){const t=Et(null),n=Symbol("notificationHolderKey"),r=a=>{if(!t.value)return;const{open:c,prefixCls:h,hashId:d}=t.value,g=`${h}-notice`,{message:y,description:v,icon:x,type:C,btn:I,class:A}=a,k=q2e(a,["message","description","icon","type","btn","class"]);return c(ee(ee({placement:"topRight"},k),{content:()=>ne(W2e,{prefixCls:g,icon:typeof x=="function"?x():x,type:C,message:typeof y=="function"?y():y,description:typeof v=="function"?v():v,btn:typeof I=="function"?I():I},null),class:an(C&&`${g}-${C}`,d,A)}))},o={open:r,destroy:a=>{var c,h;a!==void 0?(c=t.value)===null||c===void 0||c.close(a):(h=t.value)===null||h===void 0||h.destroy()}};return["success","info","warning","error"].forEach(a=>{o[a]=c=>r(ee(ee({},c),{type:a}))}),[o,()=>ne(X2e,Ct(Ct({key:n},e),{},{ref:t}),null)]}function J2e(e){return Y2e(e)}const rf={};let SW=4.5,CW="24px",TW="24px",ZM="",PW="topRight",EW=()=>document.body,IW=null,qM=!1,MW;function Q2e(e){const{duration:t,placement:n,bottom:r,top:i,getContainer:o,closeIcon:s,prefixCls:a}=e;a!==void 0&&(ZM=a),t!==void 0&&(SW=t),n!==void 0&&(PW=n),r!==void 0&&(TW=typeof r=="number"?`${r}px`:r),i!==void 0&&(CW=typeof i=="number"?`${i}px`:i),o!==void 0&&(EW=o),s!==void 0&&(IW=s),e.rtl!==void 0&&(qM=e.rtl),e.maxCount!==void 0&&(MW=e.maxCount)}function eCe(e,t){let{prefixCls:n,placement:r=PW,getContainer:i=EW,top:o,bottom:s,closeIcon:a=IW,appContext:c}=e;const{getPrefixCls:h}=dCe(),d=h("notification",n||ZM),g=`${d}-${r}-${qM}`,y=rf[g];if(y){Promise.resolve(y).then(x=>{t(x)});return}const v=an(`${d}-${r}`,{[`${d}-rtl`]:qM===!0});vS.newInstance({name:"notification",prefixCls:n||ZM,useStyle:xW,class:v,style:wW(r,o??CW,s??TW),appContext:c,getContainer:i,closeIcon:x=>{let{prefixCls:C}=x;return ne("span",{class:`${C}-close-x`},[Em(a,{},ne(Lh,{class:`${C}-close-icon`},null))])},maxCount:MW,hasTransitionName:!0},x=>{rf[g]=x,t(x)})}const tCe={success:Qk,info:tO,error:nO,warning:eO};function nCe(e){const{icon:t,type:n,description:r,message:i,btn:o}=e,s=e.duration===void 0?SW:e.duration;eCe(e,a=>{a.notice({content:c=>{let{prefixCls:h}=c;const d=`${h}-notice`;let g=null;if(t)g=()=>ne("span",{class:`${d}-icon`},[Em(t)]);else if(n){const y=tCe[n];g=()=>ne(y,{class:`${d}-icon ${d}-icon-${n}`},null)}return ne("div",{class:g?`${d}-with-icon`:""},[g&&g(),ne("div",{class:`${d}-message`},[!r&&g?ne("span",{class:`${d}-message-single-line-auto-margin`},null):null,Em(i)]),ne("div",{class:`${d}-description`},[Em(r)]),o?ne("span",{class:`${d}-btn`},[Em(o)]):null])},duration:s,closable:!0,onClose:e.onClose,onClick:e.onClick,key:e.key,style:e.style||{},class:e.class})})}const Cg={open:nCe,close(e){Object.keys(rf).forEach(t=>Promise.resolve(rf[t]).then(n=>{n.removeNotice(e)}))},config:Q2e,destroy(){Object.keys(rf).forEach(e=>{Promise.resolve(rf[e]).then(t=>{t.destroy()}),delete rf[e]})}},rCe=["success","info","warning","error"];rCe.forEach(e=>{Cg[e]=t=>Cg.open(ee(ee({},t),{type:e}))});Cg.warn=Cg.warning;Cg.useNotification=J2e;const iCe=`-ant-${Date.now()}-${Math.random()}`;function oCe(e,t){const n={},r=(s,a)=>{let c=s.clone();return c=(a==null?void 0:a(c))||c,c.toRgbString()},i=(s,a)=>{const c=new Li(s),h=tc(c.toRgbString());n[`${a}-color`]=r(c),n[`${a}-color-disabled`]=h[1],n[`${a}-color-hover`]=h[4],n[`${a}-color-active`]=h[6],n[`${a}-color-outline`]=c.clone().setAlpha(.2).toRgbString(),n[`${a}-color-deprecated-bg`]=h[0],n[`${a}-color-deprecated-border`]=h[2]};if(t.primaryColor){i(t.primaryColor,"primary");const s=new Li(t.primaryColor),a=tc(s.toRgbString());a.forEach((h,d)=>{n[`primary-${d+1}`]=h}),n["primary-color-deprecated-l-35"]=r(s,h=>h.lighten(35)),n["primary-color-deprecated-l-20"]=r(s,h=>h.lighten(20)),n["primary-color-deprecated-t-20"]=r(s,h=>h.tint(20)),n["primary-color-deprecated-t-50"]=r(s,h=>h.tint(50)),n["primary-color-deprecated-f-12"]=r(s,h=>h.setAlpha(h.getAlpha()*.12));const c=new Li(a[0]);n["primary-color-active-deprecated-f-30"]=r(c,h=>h.setAlpha(h.getAlpha()*.3)),n["primary-color-active-deprecated-d-02"]=r(c,h=>h.darken(2))}return t.successColor&&i(t.successColor,"success"),t.warningColor&&i(t.warningColor,"warning"),t.errorColor&&i(t.errorColor,"error"),t.infoColor&&i(t.infoColor,"info"),`
  :root {
    ${Object.keys(n).map(s=>`--${e}-${s}: ${n[s]};`).join(`
`)}
  }
  `.trim()}function aCe(e,t){const n=oCe(e,t);cl()&&_0(n,`${iCe}-dynamic-theme`)}const sCe=e=>{const[t,n]=Ng();return bM(ge(()=>({theme:t.value,token:n.value,hashId:"",path:["ant-design-icons",e.value]})),()=>[{[`.${e.value}`]:ee(ee({},hb()),{[`.${e.value} .${e.value}-icon`]:{display:"block"}})}])};function lCe(e,t){const n=ge(()=>(e==null?void 0:e.value)||{}),r=ge(()=>n.value.inherit===!1||!(t!=null&&t.value)?iS:t.value);return ge(()=>{if(!(e!=null&&e.value))return t==null?void 0:t.value;const o=ee({},r.value.components);return Object.keys(e.value.components||{}).forEach(s=>{o[s]=ee(ee({},o[s]),e.value.components[s])}),ee(ee(ee({},r.value),n.value),{token:ee(ee({},r.value.token),n.value.token),components:o})})}var uCe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const cCe="ant";function Km(){return Uo.prefixCls||cCe}function AW(){return Uo.iconPrefixCls||dk}const hO=Gi({}),Uo=Gi({});Dr(()=>{ee(Uo,hO),Uo.prefixCls=Km(),Uo.iconPrefixCls=AW(),Uo.getPrefixCls=(e,t)=>t||(e?`${Uo.prefixCls}-${e}`:Uo.prefixCls),Uo.getRootPrefixCls=()=>Uo.prefixCls?Uo.prefixCls:Km()});let qP;const hCe=e=>{qP&&qP(),qP=Dr(()=>{ee(hO,Gi(e)),ee(Uo,Gi(e))}),e.theme&&aCe(Km(),e.theme)},dCe=()=>({getPrefixCls:(e,t)=>t||(e?`${Km()}-${e}`:Km()),getIconPrefixCls:AW,getRootPrefixCls:()=>Uo.prefixCls?Uo.prefixCls:Km()}),Qu=Pt({compatConfig:{MODE:3},name:"AConfigProvider",inheritAttrs:!1,props:Tfe(),setup(e,t){let{slots:n}=t;const r=TH(),i=(se,ue)=>{const{prefixCls:Te="ant"}=e;if(ue)return ue;const Be=Te||r.getPrefixCls("");return se?`${Be}-${se}`:Be},o=ge(()=>e.iconPrefixCls||r.iconPrefixCls.value||dk),s=ge(()=>o.value!==r.iconPrefixCls.value),a=ge(()=>{var se;return e.csp||((se=r.csp)===null||se===void 0?void 0:se.value)}),c=sCe(o),h=lCe(ge(()=>e.theme),ge(()=>{var se;return(se=r.theme)===null||se===void 0?void 0:se.value})),d=se=>(e.renderEmpty||n.renderEmpty||r.renderEmpty||sme)(se),g=ge(()=>{var se,ue;return(se=e.autoInsertSpaceInButton)!==null&&se!==void 0?se:(ue=r.autoInsertSpaceInButton)===null||ue===void 0?void 0:ue.value}),y=ge(()=>{var se;return e.locale||((se=r.locale)===null||se===void 0?void 0:se.value)});qt(y,()=>{hO.locale=y.value},{immediate:!0});const v=ge(()=>{var se;return e.direction||((se=r.direction)===null||se===void 0?void 0:se.value)}),x=ge(()=>{var se,ue;return(se=e.space)!==null&&se!==void 0?se:(ue=r.space)===null||ue===void 0?void 0:ue.value}),C=ge(()=>{var se,ue;return(se=e.virtual)!==null&&se!==void 0?se:(ue=r.virtual)===null||ue===void 0?void 0:ue.value}),I=ge(()=>{var se,ue;return(se=e.dropdownMatchSelectWidth)!==null&&se!==void 0?se:(ue=r.dropdownMatchSelectWidth)===null||ue===void 0?void 0:ue.value}),A=ge(()=>{var se;return e.getTargetContainer!==void 0?e.getTargetContainer:(se=r.getTargetContainer)===null||se===void 0?void 0:se.value}),k=ge(()=>{var se;return e.getPopupContainer!==void 0?e.getPopupContainer:(se=r.getPopupContainer)===null||se===void 0?void 0:se.value}),R=ge(()=>{var se;return e.pageHeader!==void 0?e.pageHeader:(se=r.pageHeader)===null||se===void 0?void 0:se.value}),z=ge(()=>{var se;return e.input!==void 0?e.input:(se=r.input)===null||se===void 0?void 0:se.value}),V=ge(()=>{var se;return e.pagination!==void 0?e.pagination:(se=r.pagination)===null||se===void 0?void 0:se.value}),U=ge(()=>{var se;return e.form!==void 0?e.form:(se=r.form)===null||se===void 0?void 0:se.value}),N=ge(()=>{var se;return e.select!==void 0?e.select:(se=r.select)===null||se===void 0?void 0:se.value}),W=ge(()=>e.componentSize),X=ge(()=>e.componentDisabled),K=ge(()=>{var se,ue;return(se=e.wave)!==null&&se!==void 0?se:(ue=r.wave)===null||ue===void 0?void 0:ue.value}),te={csp:a,autoInsertSpaceInButton:g,locale:y,direction:v,space:x,virtual:C,dropdownMatchSelectWidth:I,getPrefixCls:i,iconPrefixCls:o,theme:ge(()=>{var se,ue;return(se=h.value)!==null&&se!==void 0?se:(ue=r.theme)===null||ue===void 0?void 0:ue.value}),renderEmpty:d,getTargetContainer:A,getPopupContainer:k,pageHeader:R,input:z,pagination:V,form:U,select:N,componentSize:W,componentDisabled:X,transformCellText:ge(()=>e.transformCellText),wave:K},ae=ge(()=>{const se=h.value||{},{algorithm:ue,token:Te}=se,Be=uCe(se,["algorithm","token"]),ke=ue&&(!Array.isArray(ue)||ue.length>0)?BH(ue):void 0;return ee(ee({},Be),{theme:ke,token:ee(ee({},M2),Te)})}),me=ge(()=>{var se,ue;let Te={};return y.value&&(Te=((se=y.value.Form)===null||se===void 0?void 0:se.defaultValidateMessages)||((ue=v0.Form)===null||ue===void 0?void 0:ue.defaultValidateMessages)||{}),e.form&&e.form.validateMessages&&(Te=ee(ee({},Te),e.form.validateMessages)),Te});Pfe(te),Cfe({validateMessages:me}),lme(W),Efe(X);const we=se=>{var ue,Te;let Be=s.value?c((ue=n.default)===null||ue===void 0?void 0:ue.call(n)):(Te=n.default)===null||Te===void 0?void 0:Te.call(n);if(e.theme){const ke=function(){return Be}();Be=ne(nme,{value:ae.value},{default:()=>[ke]})}return ne(v2e,{locale:y.value||se,ANT_MARK__:WM},{default:()=>[Be]})};return Dr(()=>{v.value&&(I0.config({rtl:v.value==="rtl"}),Cg.config({rtl:v.value==="rtl"}))}),()=>ne(IH,{children:(se,ue,Te)=>we(Te)},null)}});Qu.config=hCe;Qu.install=function(e){e.component(Qu.name,Qu)};const ux=(e,t,n)=>{const r=Zde(n);return{[`${e.componentCls}-${t}`]:{color:e[`color${n}`],background:e[`color${r}Bg`],borderColor:e[`color${r}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}},fCe=e=>eU(e,(t,n)=>{let{textColor:r,lightBorderColor:i,lightColor:o,darkColor:s}=n;return{[`${e.componentCls}-${t}`]:{color:r,background:o,borderColor:i,"&-inverse":{color:e.colorTextLightSolid,background:s,borderColor:s},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}}),pCe=e=>{const{paddingXXS:t,lineWidth:n,tagPaddingHorizontal:r,componentCls:i}=e,o=r-n,s=t-n;return{[i]:ee(ee({},Io(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:o,fontSize:e.tagFontSize,lineHeight:`${e.tagLineHeight}px`,whiteSpace:"nowrap",background:e.tagDefaultBg,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",[`&${i}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.tagDefaultColor},[`${i}-close-icon`]:{marginInlineStart:s,color:e.colorTextDescription,fontSize:e.tagIconSize,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${i}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${i}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:o}}),[`${i}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},DW=Do("Tag",e=>{const{fontSize:t,lineHeight:n,lineWidth:r,fontSizeIcon:i}=e,o=Math.round(t*n),s=e.fontSizeSM,a=o-r*2,c=e.colorFillAlter,h=e.colorText,d=Wr(e,{tagFontSize:s,tagLineHeight:a,tagDefaultBg:c,tagDefaultColor:h,tagIconSize:i-2*r,tagPaddingHorizontal:8,tagBorderlessBg:e.colorFillTertiary});return[pCe(d),fCe(d),ux(d,"success","Success"),ux(d,"processing","Info"),ux(d,"error","Error"),ux(d,"warning","Warning")]}),mCe=()=>({prefixCls:String,checked:{type:Boolean,default:void 0},onChange:{type:Function},onClick:{type:Function},"onUpdate:checked":Function}),KM=Pt({compatConfig:{MODE:3},name:"ACheckableTag",inheritAttrs:!1,props:mCe(),setup(e,t){let{slots:n,emit:r,attrs:i}=t;const{prefixCls:o}=Nr("tag",e),[s,a]=DW(o),c=d=>{const{checked:g}=e;r("update:checked",!g),r("change",!g),r("click",d)},h=ge(()=>an(o.value,a.value,{[`${o.value}-checkable`]:!0,[`${o.value}-checkable-checked`]:e.checked}));return()=>{var d;return s(ne("span",Ct(Ct({},i),{},{class:[h.value,i.class],onClick:c}),[(d=n.default)===null||d===void 0?void 0:d.call(n)]))}}}),gCe=()=>({prefixCls:String,color:{type:String},closable:{type:Boolean,default:!1},closeIcon:ft.any,visible:{type:Boolean,default:void 0},onClose:{type:Function},onClick:mM(),"onUpdate:visible":Function,icon:ft.any,bordered:{type:Boolean,default:!0}}),Xm=Pt({compatConfig:{MODE:3},name:"ATag",inheritAttrs:!1,props:gCe(),slots:Object,setup(e,t){let{slots:n,emit:r,attrs:i}=t;const{prefixCls:o,direction:s}=Nr("tag",e),[a,c]=DW(o),h=Et(!0);Dr(()=>{e.visible!==void 0&&(h.value=e.visible)});const d=x=>{x.stopPropagation(),r("update:visible",!1),r("close",x),!x.defaultPrevented&&e.visible===void 0&&(h.value=!1)},g=ge(()=>OG(e.color)||Lxe(e.color)),y=ge(()=>an(o.value,c.value,{[`${o.value}-${e.color}`]:g.value,[`${o.value}-has-color`]:e.color&&!g.value,[`${o.value}-hidden`]:!h.value,[`${o.value}-rtl`]:s.value==="rtl",[`${o.value}-borderless`]:!e.bordered})),v=x=>{r("click",x)};return()=>{var x,C,I;const{icon:A=(x=n.icon)===null||x===void 0?void 0:x.call(n),color:k,closeIcon:R=(C=n.closeIcon)===null||C===void 0?void 0:C.call(n),closable:z=!1}=e,V=()=>z?R?ne("span",{class:`${o.value}-close-icon`,onClick:d},[R]):ne(Lh,{class:`${o.value}-close-icon`,onClick:d},null):null,U={backgroundColor:k&&!g.value?k:void 0},N=A||null,W=(I=n.default)===null||I===void 0?void 0:I.call(n),X=N?ne(vn,null,[N,ne("span",null,[W])]):W,K=e.onClick!==void 0,te=ne("span",Ct(Ct({},i),{},{onClick:v,class:[y.value,i.class],style:[U,i.style]}),[X,V()]);return a(K?ne(LG,null,{default:()=>[te]}):te)}}});Xm.CheckableTag=KM;Xm.install=function(e){return e.component(Xm.name,Xm),e.component(KM.name,KM),e};function vCe(e,t,n){var r=n,i=r.noTrailing,o=i===void 0?!1:i,s=r.noLeading,a=s===void 0?!1:s,c=r.debounceMode,h=c===void 0?void 0:c,d,g=!1,y=0;function v(){d&&clearTimeout(d)}function x(I){var A=I||{},k=A.upcomingOnly,R=k===void 0?!1:k;v(),g=!R}function C(){for(var I=arguments.length,A=new Array(I),k=0;k<I;k++)A[k]=arguments[k];var R=this,z=Date.now()-y;if(g)return;function V(){y=Date.now(),t.apply(R,A)}function U(){d=void 0}!a&&h&&!d&&V(),v(),h===void 0&&z>e?a?(y=Date.now(),o||(d=setTimeout(h?U:V,e))):V():o!==!0&&(d=setTimeout(h?U:V,h===void 0?e-z:e))}return C.cancel=x,C}function yCe(e,t,n){var r={},i=r.atBegin,o=i===void 0?!1:i;return vCe(e,t,{debounceMode:o!==!1})}const _Ce=new Qn("antSpinMove",{to:{opacity:1}}),bCe=new Qn("antRotate",{to:{transform:"rotate(405deg)"}}),xCe=e=>({[`${e.componentCls}`]:ee(ee({},Io(e)),{position:"absolute",display:"none",color:e.colorPrimary,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`,"&-spinning":{position:"static",display:"inline-block",opacity:1},"&-nested-loading":{position:"relative",[`> div > ${e.componentCls}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:e.contentHeight,[`${e.componentCls}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:-e.spinDotSize/2},[`${e.componentCls}-text`]:{position:"absolute",top:"50%",width:"100%",paddingTop:(e.spinDotSize-e.fontSize)/2+2,textShadow:`0 1px 2px ${e.colorBgContainer}`},[`&${e.componentCls}-show-text ${e.componentCls}-dot`]:{marginTop:-(e.spinDotSize/2)-10},"&-sm":{[`${e.componentCls}-dot`]:{margin:-e.spinDotSizeSM/2},[`${e.componentCls}-text`]:{paddingTop:(e.spinDotSizeSM-e.fontSize)/2+2},[`&${e.componentCls}-show-text ${e.componentCls}-dot`]:{marginTop:-(e.spinDotSizeSM/2)-10}},"&-lg":{[`${e.componentCls}-dot`]:{margin:-(e.spinDotSizeLG/2)},[`${e.componentCls}-text`]:{paddingTop:(e.spinDotSizeLG-e.fontSize)/2+2},[`&${e.componentCls}-show-text ${e.componentCls}-dot`]:{marginTop:-(e.spinDotSizeLG/2)-10}}},[`${e.componentCls}-container`]:{position:"relative",transition:`opacity ${e.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:e.colorBgContainer,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${e.componentCls}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:e.spinDotDefault},[`${e.componentCls}-dot`]:{position:"relative",display:"inline-block",fontSize:e.spinDotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:(e.spinDotSize-e.marginXXS/2)/2,height:(e.spinDotSize-e.marginXXS/2)/2,backgroundColor:e.colorPrimary,borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:_Ce,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:bCe,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&-sm ${e.componentCls}-dot`]:{fontSize:e.spinDotSizeSM,i:{width:(e.spinDotSizeSM-e.marginXXS/2)/2,height:(e.spinDotSizeSM-e.marginXXS/2)/2}},[`&-lg ${e.componentCls}-dot`]:{fontSize:e.spinDotSizeLG,i:{width:(e.spinDotSizeLG-e.marginXXS)/2,height:(e.spinDotSizeLG-e.marginXXS)/2}},[`&${e.componentCls}-show-text ${e.componentCls}-text`]:{display:"block"}})}),wCe=Do("Spin",e=>{const t=Wr(e,{spinDotDefault:e.colorTextDescription,spinDotSize:e.controlHeightLG/2,spinDotSizeSM:e.controlHeightLG*.35,spinDotSizeLG:e.controlHeight});return[xCe(t)]},{contentHeight:400});var SCe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const CCe=()=>({prefixCls:String,spinning:{type:Boolean,default:void 0},size:String,wrapperClassName:String,tip:ft.any,delay:Number,indicator:ft.any});let xw=null;function TCe(e,t){return!!e&&!!t&&!isNaN(Number(t))}function PCe(e){const t=e.indicator;xw=typeof t=="function"?t:()=>ne(t,null,null)}const Sf=Pt({compatConfig:{MODE:3},name:"ASpin",inheritAttrs:!1,props:xa(CCe(),{size:"default",spinning:!0,wrapperClassName:""}),setup(e,t){let{attrs:n,slots:r}=t;const{prefixCls:i,size:o,direction:s}=Nr("spin",e),[a,c]=wCe(i),h=Et(e.spinning&&!TCe(e.spinning,e.delay));let d;return qt([()=>e.spinning,()=>e.delay],()=>{d==null||d.cancel(),d=yCe(e.delay,()=>{h.value=e.spinning}),d==null||d()},{immediate:!0,flush:"post"}),ii(()=>{d==null||d.cancel()}),()=>{var g,y;const{class:v}=n,x=SCe(n,["class"]),{tip:C=(g=r.tip)===null||g===void 0?void 0:g.call(r)}=e,I=(y=r.default)===null||y===void 0?void 0:y.call(r),A={[c.value]:!0,[i.value]:!0,[`${i.value}-sm`]:o.value==="small",[`${i.value}-lg`]:o.value==="large",[`${i.value}-spinning`]:h.value,[`${i.value}-show-text`]:!!C,[`${i.value}-rtl`]:s.value==="rtl",[v]:!!v};function k(z){const V=`${z}-dot`;let U=yf(r,e,"indicator");return U===null?null:(Array.isArray(U)&&(U=U.length===1?U[0]:U),ta(U)?os(U,{class:V}):xw&&ta(xw())?os(xw(),{class:V}):ne("span",{class:`${V} ${z}-dot-spin`},[ne("i",{class:`${z}-dot-item`},null),ne("i",{class:`${z}-dot-item`},null),ne("i",{class:`${z}-dot-item`},null),ne("i",{class:`${z}-dot-item`},null)]))}const R=ne("div",Ct(Ct({},x),{},{class:A,"aria-live":"polite","aria-busy":h.value}),[k(i.value),C?ne("div",{class:`${i.value}-text`},[C]):null]);if(I&&Uf(I).length){const z={[`${i.value}-container`]:!0,[`${i.value}-blur`]:h.value};return a(ne("div",{class:[`${i.value}-nested-loading`,e.wrapperClassName,c.value]},[h.value&&ne("div",{key:"loading"},[R]),ne("div",{class:z,key:"container"},[I])]))}return a(R)}}});Sf.setDefaultIndicator=PCe;Sf.install=function(e){return e.component(Sf.name,Sf),e};function qB(e,t){return{[`${e}, ${e}:hover, ${e}:focus`]:{color:t.colorTextDisabled,cursor:"not-allowed"}}}function KB(e){return{backgroundColor:e.bgColorSelected,boxShadow:e.boxShadow}}const ECe=ee({overflow:"hidden"},Ph),ICe=e=>{const{componentCls:t}=e;return{[t]:ee(ee(ee(ee(ee({},Io(e)),{display:"inline-block",padding:e.segmentedContainerPadding,color:e.labelColor,backgroundColor:e.bgColor,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,[`${t}-group`]:{position:"relative",display:"flex",alignItems:"stretch",justifyItems:"flex-start",width:"100%"},[`&${t}-rtl`]:{direction:"rtl"},[`&${t}-block`]:{display:"flex"},[`&${t}-block ${t}-item`]:{flex:1,minWidth:0},[`${t}-item`]:{position:"relative",textAlign:"center",cursor:"pointer",transition:`color ${e.motionDurationMid} ${e.motionEaseInOut}`,borderRadius:e.borderRadiusSM,"&-selected":ee(ee({},KB(e)),{color:e.labelColorHover}),"&::after":{content:'""',position:"absolute",width:"100%",height:"100%",top:0,insetInlineStart:0,borderRadius:"inherit",transition:`background-color ${e.motionDurationMid}`,pointerEvents:"none"},[`&:hover:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:e.labelColorHover,"&::after":{backgroundColor:e.bgColorHover}},"&-label":ee({minHeight:e.controlHeight-e.segmentedContainerPadding*2,lineHeight:`${e.controlHeight-e.segmentedContainerPadding*2}px`,padding:`0 ${e.segmentedPaddingHorizontal}px`},ECe),"&-icon + *":{marginInlineStart:e.marginSM/2},"&-input":{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:0,opacity:0,pointerEvents:"none"}},[`${t}-thumb`]:ee(ee({},KB(e)),{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:"100%",padding:`${e.paddingXXS}px 0`,borderRadius:e.borderRadiusSM,[`& ~ ${t}-item:not(${t}-item-selected):not(${t}-item-disabled)::after`]:{backgroundColor:"transparent"}}),[`&${t}-lg`]:{borderRadius:e.borderRadiusLG,[`${t}-item-label`]:{minHeight:e.controlHeightLG-e.segmentedContainerPadding*2,lineHeight:`${e.controlHeightLG-e.segmentedContainerPadding*2}px`,padding:`0 ${e.segmentedPaddingHorizontal}px`,fontSize:e.fontSizeLG},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadius}},[`&${t}-sm`]:{borderRadius:e.borderRadiusSM,[`${t}-item-label`]:{minHeight:e.controlHeightSM-e.segmentedContainerPadding*2,lineHeight:`${e.controlHeightSM-e.segmentedContainerPadding*2}px`,padding:`0 ${e.segmentedPaddingHorizontalSM}px`},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadiusXS}}}),qB(`&-disabled ${t}-item`,e)),qB(`${t}-item-disabled`,e)),{[`${t}-thumb-motion-appear-active`]:{transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOut}, width ${e.motionDurationSlow} ${e.motionEaseInOut}`,willChange:"transform, width"}})}},MCe=Do("Segmented",e=>{const{lineWidthBold:t,lineWidth:n,colorTextLabel:r,colorText:i,colorFillSecondary:o,colorBgLayout:s,colorBgElevated:a}=e,c=Wr(e,{segmentedPaddingHorizontal:e.controlPaddingHorizontal-n,segmentedPaddingHorizontalSM:e.controlPaddingHorizontalSM-n,segmentedContainerPadding:t,labelColor:r,labelColorHover:i,bgColor:s,bgColorHover:o,bgColorSelected:a});return[ICe(c)]}),XB=e=>e?{left:e.offsetLeft,right:e.parentElement.clientWidth-e.clientWidth-e.offsetLeft,width:e.clientWidth}:null,em=e=>e!==void 0?`${e}px`:void 0,ACe=Pt({props:{value:il(),getValueIndex:il(),prefixCls:il(),motionName:il(),onMotionStart:il(),onMotionEnd:il(),direction:il(),containerRef:il()},emits:["motionStart","motionEnd"],setup(e,t){let{emit:n}=t;const r=Ot(),i=x=>{var C;const I=e.getValueIndex(x),A=(C=e.containerRef.value)===null||C===void 0?void 0:C.querySelectorAll(`.${e.prefixCls}-item`)[I];return(A==null?void 0:A.offsetParent)&&A},o=Ot(null),s=Ot(null);qt(()=>e.value,(x,C)=>{const I=i(C),A=i(x),k=XB(I),R=XB(A);o.value=k,s.value=R,n(I&&A?"motionStart":"motionEnd")},{flush:"post"});const a=ge(()=>{var x,C;return e.direction==="rtl"?em(-((x=o.value)===null||x===void 0?void 0:x.right)):em((C=o.value)===null||C===void 0?void 0:C.left)}),c=ge(()=>{var x,C;return e.direction==="rtl"?em(-((x=s.value)===null||x===void 0?void 0:x.right)):em((C=s.value)===null||C===void 0?void 0:C.left)});let h;const d=x=>{clearTimeout(h),wi(()=>{x&&(x.style.transform="translateX(var(--thumb-start-left))",x.style.width="var(--thumb-start-width)")})},g=x=>{h=setTimeout(()=>{x&&(FM(x,`${e.motionName}-appear-active`),x.style.transform="translateX(var(--thumb-active-left))",x.style.width="var(--thumb-active-width)")})},y=x=>{o.value=null,s.value=null,x&&(x.style.transform=null,x.style.width=null,NM(x,`${e.motionName}-appear-active`)),n("motionEnd")},v=ge(()=>{var x,C;return{"--thumb-start-left":a.value,"--thumb-start-width":em((x=o.value)===null||x===void 0?void 0:x.width),"--thumb-active-left":c.value,"--thumb-active-width":em((C=s.value)===null||C===void 0?void 0:C.width)}});return ii(()=>{clearTimeout(h)}),()=>{const x={ref:r,style:v.value,class:[`${e.prefixCls}-thumb`]};return ne(us,{appear:!0,onBeforeEnter:d,onEnter:g,onAfterEnter:y},{default:()=>[!o.value||!s.value?null:ne("div",x,null)]})}}});function DCe(e){return e.map(t=>typeof t=="object"&&t!==null?t:{label:t==null?void 0:t.toString(),title:t==null?void 0:t.toString(),value:t})}const kCe=()=>({prefixCls:String,options:kf(),block:Br(),disabled:Br(),size:Yo(),value:ee(ee({},Th([String,Number])),{required:!0}),motionName:String,onChange:mi(),"onUpdate:value":mi()}),kW=(e,t)=>{let{slots:n,emit:r}=t;const{value:i,disabled:o,payload:s,title:a,prefixCls:c,label:h=n.label,checked:d,className:g}=e,y=v=>{o||r("change",v,i)};return ne("label",{class:an({[`${c}-item-disabled`]:o},g)},[ne("input",{class:`${c}-item-input`,type:"radio",disabled:o,checked:d,onChange:y},null),ne("div",{class:`${c}-item-label`,title:typeof a=="string"?a:""},[typeof h=="function"?h({value:i,disabled:o,payload:s,title:a}):h??i])])};kW.inheritAttrs=!1;const OCe=Pt({name:"ASegmented",inheritAttrs:!1,props:xa(kCe(),{options:[],motionName:"thumb-motion"}),slots:Object,setup(e,t){let{emit:n,slots:r,attrs:i}=t;const{prefixCls:o,direction:s,size:a}=Nr("segmented",e),[c,h]=MCe(o),d=Et(),g=Et(!1),y=ge(()=>DCe(e.options)),v=(x,C)=>{e.disabled||(n("update:value",C),n("change",C))};return()=>{const x=o.value;return c(ne("div",Ct(Ct({},i),{},{class:an(x,{[h.value]:!0,[`${x}-block`]:e.block,[`${x}-disabled`]:e.disabled,[`${x}-lg`]:a.value=="large",[`${x}-sm`]:a.value=="small",[`${x}-rtl`]:s.value==="rtl"},i.class),ref:d}),[ne("div",{class:`${x}-group`},[ne(ACe,{containerRef:d,prefixCls:x,value:e.value,motionName:`${x}-${e.motionName}`,direction:s.value,getValueIndex:C=>y.value.findIndex(I=>I.value===C),onMotionStart:()=>{g.value=!0},onMotionEnd:()=>{g.value=!1}},null),y.value.map(C=>ne(kW,Ct(Ct({key:C.value,prefixCls:x,checked:C.value===e.value,onChange:v},C),{},{className:an(C.className,`${x}-item`,{[`${x}-item-selected`]:C.value===e.value&&!g.value}),disabled:!!e.disabled||!!C.disabled}),r))])]))}}}),dO=ub(OCe);var RCe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M816 768h-24V428c0-141.1-104.3-257.7-240-277.1V112c0-22.1-17.9-40-40-40s-40 17.9-40 40v38.9c-135.7 19.4-240 136-240 277.1v340h-24c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h216c0 61.8 50.2 112 112 112s112-50.2 112-112h216c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM512 888c-26.5 0-48-21.5-48-48h96c0 26.5-21.5 48-48 48zM304 768V428c0-55.6 21.6-107.8 60.9-147.1S456.4 220 512 220c55.6 0 107.8 21.6 147.1 60.9S720 372.4 720 428v340H304z"}}]},name:"bell",theme:"outlined"};function YB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){LCe(e,i,n[i])})}return e}function LCe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fO=function(t,n){var r=YB({},t,n.attrs);return ne(Ci,YB({},r,{icon:RCe}),null)};fO.displayName="BellOutlined";fO.inheritAttrs=!1;const Vc=(e,t)=>new Li(e).setAlpha(t).toRgbString(),tm=(e,t)=>new Li(e).lighten(t).toHexString(),$Ce=e=>{const t=tc(e,{theme:"dark"});return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[6],6:t[5],7:t[4],8:t[6],9:t[5],10:t[4]}},zCe=(e,t)=>{const n=e||"#000",r=t||"#fff";return{colorBgBase:n,colorTextBase:r,colorText:Vc(r,.85),colorTextSecondary:Vc(r,.65),colorTextTertiary:Vc(r,.45),colorTextQuaternary:Vc(r,.25),colorFill:Vc(r,.18),colorFillSecondary:Vc(r,.12),colorFillTertiary:Vc(r,.08),colorFillQuaternary:Vc(r,.04),colorBgElevated:tm(n,12),colorBgContainer:tm(n,8),colorBgLayout:tm(n,0),colorBgSpotlight:tm(n,26),colorBorder:tm(n,26),colorBorderSecondary:tm(n,19)}},BCe=(e,t)=>{const n=Object.keys(vk).map(i=>{const o=tc(e[i],{theme:"dark"});return new Array(10).fill(1).reduce((s,a,c)=>(s[`${i}-${c+1}`]=o[c],s),{})}).reduce((i,o)=>(i=ee(ee({},i),o),i),{}),r=t??A2(e);return ee(ee(ee({},r),n),JH(e,{generateColorPalettes:$Ce,generateNeutralColorPalettes:zCe}))};function FCe(e){const{sizeUnit:t,sizeStep:n}=e,r=n-2;return{sizeXXL:t*(r+10),sizeXL:t*(r+6),sizeLG:t*(r+2),sizeMD:t*(r+2),sizeMS:t*(r+1),size:t*r,sizeSM:t*r,sizeXS:t*(r-1),sizeXXS:t*(r-1)}}const NCe=(e,t)=>{const n=t??A2(e),r=n.fontSizeSM,i=n.controlHeight-4;return ee(ee(ee(ee(ee({},n),FCe(t??e)),QH(r)),{controlHeight:i}),YH(ee(ee({},n),{controlHeight:i})))};function VCe(){const[e,t,n]=Ng();return{theme:e,token:t,hashId:n}}const XM={defaultConfig:iS,defaultSeed:iS.token,useToken:VCe,defaultAlgorithm:A2,darkAlgorithm:BCe,compactAlgorithm:NCe},jCe={name:"BusTable",components:{"a-config-provider":Qu,"a-segmented":dO,"a-tabs":xf,"a-tab-pane":gS,"a-spin":Sf,"a-checkbox":qm,"a-button":Wm},data(){return{dayType:"workday",dayOptions:[{label:`工作日
Workday`,value:"workday"},{label:`周末及节假日
Weekend & Holiday`,value:"holiday"}],lineGroup:"group1",directionIndex:0,loading:!1,currentDate:new Date,showUpcomingOnly:!0,timerId:null,groupDirections:[],scheduleMapping:{group1:{directions:[{title:"欣园总站 → 工学院 / Joy Highland → COE",lines:[{type:"line1",workday:"/bus_times/one_down.json",holiday:"/bus_times/one_down_holiday.json"},{type:"shuttle1",workday:"/bus_times/one_shuttle_down.json",holiday:"/bus_times/one_shuttle_down_holiday.json"}]},{title:"工学院 → 欣园总站 / COE → Joy Highland",lines:[{type:"line1",workday:"/bus_times/one_up.json",holiday:"/bus_times/one_up_holiday.json"},{type:"shuttle1",workday:"/bus_times/one_shuttle_up.json",holiday:"/bus_times/one_shuttle_up_holiday.json"}]}]},group2:{directions:[{title:"欣园 → 科研楼 / Joy Highland → Research Bldg.",lines:[{type:"line2",workday:"/bus_times/two_down.json",holiday:"/bus_times/two_down_holiday.json"},{type:"shuttle2",workday:"/bus_times/two_shuttle_down.json",holiday:"/bus_times/two_shuttle_down_holiday.json"}]},{title:"科研楼 → 欣园 / Research Bldg. → Joy Highland",lines:[{type:"line2",workday:"/bus_times/two_up.json",holiday:"/bus_times/two_up_holiday.json"},{type:"shuttle2",workday:"/bus_times/two_shuttle_up.json",holiday:"/bus_times/two_shuttle_up_holiday.json"}]}]}}}},computed:{currentTime(){const e=this.currentDate.getHours().toString().padStart(2,"0"),t=this.currentDate.getMinutes().toString().padStart(2,"0");return`${e}:${t}`},currentMinutes(){return this.currentDate.getHours()*60+this.currentDate.getMinutes()},currentDirection(){return this.groupDirections[this.directionIndex]||null}},watch:{currentMinutes(){this.updateBusStatus()},showUpcomingOnly(){this.applyFilter()}},async mounted(){await this.detectHoliday(),this.startClock(),await this.fetchSchedules()},beforeUnmount(){clearInterval(this.timerId)},methods:{startClock(){this.timerId=setInterval(()=>{this.currentDate=new Date},60*1e3)},async detectHoliday(){const e=new Date().getFullYear();try{const t=await Tn.get(`/${e}.json`),n={};t.data.days.forEach(a=>{n[a.date]=a.isOffDay});const r=new Date,i=`${r.getFullYear()}-${(r.getMonth()+1).toString().padStart(2,"0")}-${r.getDate().toString().padStart(2,"0")}`,o=r.getDay()===6||r.getDay()===0;let s=n[i]==null?o:n[i];if(!s)for(const a of t.data.summer_winter_holidays){const c=new Date(a.start),h=new Date(a.end);if(r>=c&&r<=h){s=!0;break}}this.dayType=s?"holiday":"workday",console.log(`Today is ${s?"Holiday":"Workday"} (${i})`)}catch(t){console.error("Failed to detect holiday, defaulting to workday.",t),this.dayType="workday"}},async fetchSchedules(){this.loading=!0;try{const e=this.scheduleMapping[this.lineGroup],t=[];for(const n of e.directions){const r=n.lines.map(s=>Tn.get(s[this.dayType])),i=await Promise.all(r),o=this.mergeSchedules(i.map((s,a)=>({type:n.lines[a].type,times:s.data.times||[],tripDuration:s.data.minuteOnRoad??15})));t.push({title:n.title,scheduleRowsAll:o,scheduleRows:[],tripDuration:15})}this.groupDirections=t,this.directionIndex>=t.length&&(this.directionIndex=0),this.updateBusStatus(),this.applyFilter()}catch(e){console.error(e),this.groupDirections=[]}finally{this.loading=!1}},mergeSchedules(e){const t={};return e.forEach(n=>{n.times.forEach(r=>{const[i,o]=r.split(":");t[i]||(t[i]=[]),t[i].push({value:o,type:n.type,timeValue:parseInt(i)*60+parseInt(o),status:"normal"})})}),Object.keys(t).sort((n,r)=>parseInt(n)-parseInt(r)).map(n=>({hour:n.padStart(2,"0"),minutes:t[n].sort((r,i)=>parseInt(r.value)-parseInt(i.value))}))},updateBusStatus(){if(!this.currentDirection||!this.currentDirection.scheduleRowsAll)return;const e=this.currentDirection.tripDuration;let t=!1;this.currentDirection.scheduleRowsAll.forEach(n=>{n.minutes.forEach(r=>{const i=r.timeValue;i<=this.currentMinutes&&this.currentMinutes<=i+e?r.status="en-route":i>this.currentMinutes&&!t?(r.status="next-bus",t=!0):r.status="normal"})})},applyFilter(){if(!(!this.currentDirection||!this.currentDirection.scheduleRowsAll))if(this.showUpcomingOnly){const e=this.currentMinutes-this.currentDirection.tripDuration;this.currentDirection.scheduleRows=this.currentDirection.scheduleRowsAll.map(t=>{const n=t.minutes.filter(r=>r.timeValue>=e);return n.length?{...t,minutes:n}:null}).filter(Boolean)}else this.currentDirection.scheduleRows=[...this.currentDirection.scheduleRowsAll]},toggleDirection(){this.groupDirections.length>0&&(this.directionIndex=(this.directionIndex+1)%this.groupDirections.length,this.updateBusStatus(),this.applyFilter())},onDayTypeChange(){this.fetchSchedules()},onLineGroupChange(){this.directionIndex=0,this.fetchSchedules()},onFilterChange(){this.applyFilter()}}},HCe={id:"bus-table",class:"mobile-container"},UCe={class:"filter-toggle-container"},GCe={key:0,class:"direction-toggle-container"},WCe={key:0,class:"schedule-container"},ZCe={class:"hour-column"},qCe={class:"minutes-column"},KCe={key:1,class:"no-data"},XCe={class:"current-time"};function YCe(e,t,n,r,i,o){const s=or("a-segmented"),a=or("a-checkbox"),c=or("a-tab-pane"),h=or("a-tabs"),d=or("a-button"),g=or("a-spin"),y=or("a-config-provider");return Dt(),Zt(vn,null,[kt("div",HCe,[ne(y,{theme:{token:{colorPrimary:"#ED6C00"}}},{default:Bn(()=>[ne(s,{class:"segmented-day",value:i.dayType,"onUpdate:value":t[0]||(t[0]=v=>i.dayType=v),options:i.dayOptions,onChange:o.onDayTypeChange},null,8,["value","options","onChange"]),t[6]||(t[6]=kt("div",{class:"legend-container"},[kt("div",{class:"legend-title"},"图例 / Legend"),kt("div",{class:"legend-grid"},[kt("div",{class:"legend-item"},[kt("div",{class:"legend-color line1-color"}),kt("span",null,"1号线 Line 1")]),kt("div",{class:"legend-item"},[kt("div",{class:"legend-color shuttle1-color"}),kt("span",null,"电瓶车1 Shuttle 1")]),kt("div",{class:"legend-item"},[kt("div",{class:"legend-color line2-color"}),kt("span",null,"2号线 Line 2")]),kt("div",{class:"legend-item"},[kt("div",{class:"legend-color shuttle2-color"}),kt("span",null,"电瓶车2 Shuttle 2")]),kt("div",{class:"legend-item"},[kt("div",{class:"legend-color en-route-color"}),kt("span",null,"运行中 En-route")]),kt("div",{class:"legend-item"},[kt("div",{class:"legend-color next-bus-color"}),kt("span",null,"下一班 Next Bus")])])],-1)),kt("div",UCe,[ne(a,{class:"filter-toggle-checkbox",checked:i.showUpcomingOnly,"onUpdate:checked":t[1]||(t[1]=v=>i.showUpcomingOnly=v),onChange:o.onFilterChange},{default:Bn(()=>t[3]||(t[3]=[Wi(" 仅显示即将 / 运行中班次 Only show upcoming/running buses ")])),_:1},8,["checked","onChange"])]),ne(h,{activeKey:i.lineGroup,"onUpdate:activeKey":t[2]||(t[2]=v=>i.lineGroup=v),class:"line-tabs",animated:"",onChange:o.onLineGroupChange},{default:Bn(()=>[ne(c,{key:"group1",tab:"1号线 · Line 1"}),ne(c,{key:"group2",tab:"2号线 · Line 2"})]),_:1},8,["activeKey","onChange"]),i.groupDirections.length>0?(Dt(),Zt("div",GCe,[ne(d,{onClick:o.toggleDirection,class:"direction-button"},{icon:Bn(()=>t[4]||(t[4]=[kt("span",{class:"direction-icon"},"⇄",-1)])),default:Bn(()=>{var v;return[Wi(Rn(((v=o.currentDirection)==null?void 0:v.title)||"Loading...")+" ",1)]}),_:1},8,["onClick"])])):vr("",!0),ne(g,{spinning:i.loading},{default:Bn(()=>[o.currentDirection?(Dt(),Zt("div",WCe,[(Dt(!0),Zt(vn,null,ea(o.currentDirection.scheduleRows,v=>(Dt(),Zt("div",{key:v.hour,class:"schedule-row"},[kt("div",ZCe,Rn(v.hour),1),t[5]||(t[5]=kt("div",{class:"separator-line"},null,-1)),kt("div",qCe,[(Dt(!0),Zt(vn,null,ea(v.minutes,x=>(Dt(),Zt("span",{key:`${x.value}-${x.type}`,class:Jo(["minute-item",x.type,x.status,{"past-bus":x.timeValue+o.currentDirection.tripDuration<o.currentMinutes}])},Rn(x.value),3))),128))])]))),128))])):i.loading?vr("",!0):(Dt(),Zt("div",KCe," No schedule data available "))]),_:1},8,["spinning"])]),_:1})]),kt("div",XCe,"Effective: 2025-09-06, refreshed at "+Rn(o.currentTime)+".",1)],64)}const JCe=Zn(jCe,[["render",YCe],["__scopeId","data-v-f5e875b3"],["__file","BusTable.vue"]]),QCe={},eTe={id:"bustable"};function tTe(e,t){return Dt(),Zt("div",eTe,t[0]||(t[0]=[kt("p",null,[kt("b",null,"2025年暑期试运行时间表，2025年7月7日生效")],-1),kt("img",{src:"https://mirrors.sustech.edu.cn/site/sustech-online/img/misc/bustimer_schedule_20250708.png",alt:"Bus Schedule 20250708",style:{width:"100%",height:"auto"}},null,-1)]))}const nTe=Zn(QCe,[["render",tTe],["__file","BusTable_img.vue"]]);function pO(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Yf=pO();function OW(e){Yf=e}var B_={exec:()=>null};function Pr(e,t=""){let n=typeof e=="string"?e:e.source,r={replace:(i,o)=>{let s=typeof o=="string"?o:o.source;return s=s.replace(ya.caret,"$1"),n=n.replace(i,s),r},getRegex:()=>new RegExp(n,t)};return r}var ya={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},rTe=/^(?:[ \t]*(?:\n|$))+/,iTe=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,oTe=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,mb=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,aTe=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,mO=/(?:[*+-]|\d{1,9}[.)])/,RW=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,LW=Pr(RW).replace(/bull/g,mO).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),sTe=Pr(RW).replace(/bull/g,mO).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),gO=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,lTe=/^[^\n]+/,vO=/(?!\s*\])(?:\\.|[^\[\]\\])+/,uTe=Pr(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",vO).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),cTe=Pr(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,mO).getRegex(),j2="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",yO=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,hTe=Pr("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",yO).replace("tag",j2).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),$W=Pr(gO).replace("hr",mb).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",j2).getRegex(),dTe=Pr(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",$W).getRegex(),_O={blockquote:dTe,code:iTe,def:uTe,fences:oTe,heading:aTe,hr:mb,html:hTe,lheading:LW,list:cTe,newline:rTe,paragraph:$W,table:B_,text:lTe},JB=Pr("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",mb).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",j2).getRegex(),fTe={..._O,lheading:sTe,table:JB,paragraph:Pr(gO).replace("hr",mb).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",JB).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",j2).getRegex()},pTe={..._O,html:Pr(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",yO).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:B_,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Pr(gO).replace("hr",mb).replace("heading",` *#{1,6} *[^
]`).replace("lheading",LW).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},mTe=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,gTe=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,zW=/^( {2,}|\\)\n(?!\s*$)/,vTe=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,H2=/[\p{P}\p{S}]/u,bO=/[\s\p{P}\p{S}]/u,BW=/[^\s\p{P}\p{S}]/u,yTe=Pr(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,bO).getRegex(),FW=/(?!~)[\p{P}\p{S}]/u,_Te=/(?!~)[\s\p{P}\p{S}]/u,bTe=/(?:[^\s\p{P}\p{S}]|~)/u,xTe=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,NW=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,wTe=Pr(NW,"u").replace(/punct/g,H2).getRegex(),STe=Pr(NW,"u").replace(/punct/g,FW).getRegex(),VW="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",CTe=Pr(VW,"gu").replace(/notPunctSpace/g,BW).replace(/punctSpace/g,bO).replace(/punct/g,H2).getRegex(),TTe=Pr(VW,"gu").replace(/notPunctSpace/g,bTe).replace(/punctSpace/g,_Te).replace(/punct/g,FW).getRegex(),PTe=Pr("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,BW).replace(/punctSpace/g,bO).replace(/punct/g,H2).getRegex(),ETe=Pr(/\\(punct)/,"gu").replace(/punct/g,H2).getRegex(),ITe=Pr(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),MTe=Pr(yO).replace("(?:-->|$)","-->").getRegex(),ATe=Pr("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",MTe).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),yS=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,DTe=Pr(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",yS).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),jW=Pr(/^!?\[(label)\]\[(ref)\]/).replace("label",yS).replace("ref",vO).getRegex(),HW=Pr(/^!?\[(ref)\](?:\[\])?/).replace("ref",vO).getRegex(),kTe=Pr("reflink|nolink(?!\\()","g").replace("reflink",jW).replace("nolink",HW).getRegex(),xO={_backpedal:B_,anyPunctuation:ETe,autolink:ITe,blockSkip:xTe,br:zW,code:gTe,del:B_,emStrongLDelim:wTe,emStrongRDelimAst:CTe,emStrongRDelimUnd:PTe,escape:mTe,link:DTe,nolink:HW,punctuation:yTe,reflink:jW,reflinkSearch:kTe,tag:ATe,text:vTe,url:B_},OTe={...xO,link:Pr(/^!?\[(label)\]\((.*?)\)/).replace("label",yS).getRegex(),reflink:Pr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",yS).getRegex()},YM={...xO,emStrongRDelimAst:TTe,emStrongLDelim:STe,url:Pr(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},RTe={...YM,br:Pr(zW).replace("{2,}","*").getRegex(),text:Pr(YM.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},cx={normal:_O,gfm:fTe,pedantic:pTe},Ly={normal:xO,gfm:YM,breaks:RTe,pedantic:OTe},LTe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},QB=e=>LTe[e];function Dl(e,t){if(t){if(ya.escapeTest.test(e))return e.replace(ya.escapeReplace,QB)}else if(ya.escapeTestNoEncode.test(e))return e.replace(ya.escapeReplaceNoEncode,QB);return e}function e6(e){try{e=encodeURI(e).replace(ya.percentDecode,"%")}catch{return null}return e}function t6(e,t){var o;let n=e.replace(ya.findPipe,(s,a,c)=>{let h=!1,d=a;for(;--d>=0&&c[d]==="\\";)h=!h;return h?"|":" |"}),r=n.split(ya.splitPipe),i=0;if(r[0].trim()||r.shift(),r.length>0&&!((o=r.at(-1))!=null&&o.trim())&&r.pop(),t)if(r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(ya.slashPipe,"|");return r}function $y(e,t,n){let r=e.length;if(r===0)return"";let i=0;for(;i<r&&(e.charAt(r-i-1)===t&&!n);)i++;return e.slice(0,r-i)}function $Te(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let r=0;r<e.length;r++)if(e[r]==="\\")r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return n>0?-2:-1}function n6(e,t,n,r,i){let o=t.href,s=t.title||null,a=e[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;let c={type:e[0].charAt(0)==="!"?"image":"link",raw:n,href:o,title:s,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,c}function zTe(e,t,n){let r=e.match(n.other.indentCodeCompensation);if(r===null)return t;let i=r[1];return t.split(`
`).map(o=>{let s=o.match(n.other.beginningSpace);if(s===null)return o;let[a]=s;return a.length>=i.length?o.slice(i.length):o}).join(`
`)}var _S=class{constructor(t){Ur(this,"options");Ur(this,"rules");Ur(this,"lexer");this.options=t||Yf}space(t){let n=this.rules.block.newline.exec(t);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(t){let n=this.rules.block.code.exec(t);if(n){let r=n[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:$y(r,`
`)}}}fences(t){let n=this.rules.block.fences.exec(t);if(n){let r=n[0],i=zTe(r,n[3]||"",this.rules);return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:i}}}heading(t){let n=this.rules.block.heading.exec(t);if(n){let r=n[2].trim();if(this.rules.other.endingHash.test(r)){let i=$y(r,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(t){let n=this.rules.block.hr.exec(t);if(n)return{type:"hr",raw:$y(n[0],`
`)}}blockquote(t){let n=this.rules.block.blockquote.exec(t);if(n){let r=$y(n[0],`
`).split(`
`),i="",o="",s=[];for(;r.length>0;){let a=!1,c=[],h;for(h=0;h<r.length;h++)if(this.rules.other.blockquoteStart.test(r[h]))c.push(r[h]),a=!0;else if(!a)c.push(r[h]);else break;r=r.slice(h);let d=c.join(`
`),g=d.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${d}`:d,o=o?`${o}
${g}`:g;let y=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(g,s,!0),this.lexer.state.top=y,r.length===0)break;let v=s.at(-1);if((v==null?void 0:v.type)==="code")break;if((v==null?void 0:v.type)==="blockquote"){let x=v,C=x.raw+`
`+r.join(`
`),I=this.blockquote(C);s[s.length-1]=I,i=i.substring(0,i.length-x.raw.length)+I.raw,o=o.substring(0,o.length-x.text.length)+I.text;break}else if((v==null?void 0:v.type)==="list"){let x=v,C=x.raw+`
`+r.join(`
`),I=this.list(C);s[s.length-1]=I,i=i.substring(0,i.length-v.raw.length)+I.raw,o=o.substring(0,o.length-x.raw.length)+I.raw,r=C.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:s,text:o}}}list(t){let n=this.rules.block.list.exec(t);if(n){let r=n[1].trim(),i=r.length>1,o={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");let s=this.rules.other.listItemRegex(r),a=!1;for(;t;){let h=!1,d="",g="";if(!(n=s.exec(t))||this.rules.block.hr.test(t))break;d=n[0],t=t.substring(d.length);let y=n[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,k=>" ".repeat(3*k.length)),v=t.split(`
`,1)[0],x=!y.trim(),C=0;if(this.options.pedantic?(C=2,g=y.trimStart()):x?C=n[1].length+1:(C=n[2].search(this.rules.other.nonSpaceChar),C=C>4?1:C,g=y.slice(C),C+=n[1].length),x&&this.rules.other.blankLine.test(v)&&(d+=v+`
`,t=t.substring(v.length+1),h=!0),!h){let k=this.rules.other.nextBulletRegex(C),R=this.rules.other.hrRegex(C),z=this.rules.other.fencesBeginRegex(C),V=this.rules.other.headingBeginRegex(C),U=this.rules.other.htmlBeginRegex(C);for(;t;){let N=t.split(`
`,1)[0],W;if(v=N,this.options.pedantic?(v=v.replace(this.rules.other.listReplaceNesting,"  "),W=v):W=v.replace(this.rules.other.tabCharGlobal,"    "),z.test(v)||V.test(v)||U.test(v)||k.test(v)||R.test(v))break;if(W.search(this.rules.other.nonSpaceChar)>=C||!v.trim())g+=`
`+W.slice(C);else{if(x||y.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||z.test(y)||V.test(y)||R.test(y))break;g+=`
`+v}!x&&!v.trim()&&(x=!0),d+=N+`
`,t=t.substring(N.length+1),y=W.slice(C)}}o.loose||(a?o.loose=!0:this.rules.other.doubleBlankLine.test(d)&&(a=!0));let I=null,A;this.options.gfm&&(I=this.rules.other.listIsTask.exec(g),I&&(A=I[0]!=="[ ] ",g=g.replace(this.rules.other.listReplaceTask,""))),o.items.push({type:"list_item",raw:d,task:!!I,checked:A,loose:!1,text:g,tokens:[]}),o.raw+=d}let c=o.items.at(-1);if(c)c.raw=c.raw.trimEnd(),c.text=c.text.trimEnd();else return;o.raw=o.raw.trimEnd();for(let h=0;h<o.items.length;h++)if(this.lexer.state.top=!1,o.items[h].tokens=this.lexer.blockTokens(o.items[h].text,[]),!o.loose){let d=o.items[h].tokens.filter(y=>y.type==="space"),g=d.length>0&&d.some(y=>this.rules.other.anyLine.test(y.raw));o.loose=g}if(o.loose)for(let h=0;h<o.items.length;h++)o.items[h].loose=!0;return o}}html(t){let n=this.rules.block.html.exec(t);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(t){let n=this.rules.block.def.exec(t);if(n){let r=n[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=n[2]?n[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:o}}}table(t){var a;let n=this.rules.block.table.exec(t);if(!n||!this.rules.other.tableDelimiter.test(n[2]))return;let r=t6(n[1]),i=n[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=(a=n[3])!=null&&a.trim()?n[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===i.length){for(let c of i)this.rules.other.tableAlignRight.test(c)?s.align.push("right"):this.rules.other.tableAlignCenter.test(c)?s.align.push("center"):this.rules.other.tableAlignLeft.test(c)?s.align.push("left"):s.align.push(null);for(let c=0;c<r.length;c++)s.header.push({text:r[c],tokens:this.lexer.inline(r[c]),header:!0,align:s.align[c]});for(let c of o)s.rows.push(t6(c,s.header.length).map((h,d)=>({text:h,tokens:this.lexer.inline(h),header:!1,align:s.align[d]})));return s}}lheading(t){let n=this.rules.block.lheading.exec(t);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(t){let n=this.rules.block.paragraph.exec(t);if(n){let r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(t){let n=this.rules.block.text.exec(t);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(t){let n=this.rules.inline.escape.exec(t);if(n)return{type:"escape",raw:n[0],text:n[1]}}tag(t){let n=this.rules.inline.tag.exec(t);if(n)return!this.lexer.state.inLink&&this.rules.other.startATag.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(t){let n=this.rules.inline.link.exec(t);if(n){let r=n[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;let s=$y(r.slice(0,-1),"\\");if((r.length-s.length)%2===0)return}else{let s=$Te(n[2],"()");if(s===-2)return;if(s>-1){let a=(n[0].indexOf("!")===0?5:4)+n[1].length+s;n[2]=n[2].substring(0,s),n[0]=n[0].substring(0,a).trim(),n[3]=""}}let i=n[2],o="";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(i);s&&(i=s[1],o=s[3])}else o=n[3]?n[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?i=i.slice(1):i=i.slice(1,-1)),n6(n,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer,this.rules)}}reflink(t,n){let r;if((r=this.rules.inline.reflink.exec(t))||(r=this.rules.inline.nolink.exec(t))){let i=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),o=n[i.toLowerCase()];if(!o){let s=r[0].charAt(0);return{type:"text",raw:s,text:s}}return n6(r,o,r[0],this.lexer,this.rules)}}emStrong(t,n,r=""){let i=this.rules.inline.emStrongLDelim.exec(t);if(!(!i||i[3]&&r.match(this.rules.other.unicodeAlphaNumeric))&&(!(i[1]||i[2])||!r||this.rules.inline.punctuation.exec(r))){let o=[...i[0]].length-1,s,a,c=o,h=0,d=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,n=n.slice(-1*t.length+o);(i=d.exec(n))!=null;){if(s=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!s)continue;if(a=[...s].length,i[3]||i[4]){c+=a;continue}else if((i[5]||i[6])&&o%3&&!((o+a)%3)){h+=a;continue}if(c-=a,c>0)continue;a=Math.min(a,a+c+h);let g=[...i[0]][0].length,y=t.slice(0,o+i.index+g+a);if(Math.min(o,a)%2){let x=y.slice(1,-1);return{type:"em",raw:y,text:x,tokens:this.lexer.inlineTokens(x)}}let v=y.slice(2,-2);return{type:"strong",raw:y,text:v,tokens:this.lexer.inlineTokens(v)}}}}codespan(t){let n=this.rules.inline.code.exec(t);if(n){let r=n[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(r),o=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return i&&o&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:n[0],text:r}}}br(t){let n=this.rules.inline.br.exec(t);if(n)return{type:"br",raw:n[0]}}del(t){let n=this.rules.inline.del.exec(t);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(t){let n=this.rules.inline.autolink.exec(t);if(n){let r,i;return n[2]==="@"?(r=n[1],i="mailto:"+r):(r=n[1],i=r),{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(t){var r;let n;if(n=this.rules.inline.url.exec(t)){let i,o;if(n[2]==="@")i=n[0],o="mailto:"+i;else{let s;do s=n[0],n[0]=((r=this.rules.inline._backpedal.exec(n[0]))==null?void 0:r[0])??"";while(s!==n[0]);i=n[0],n[1]==="www."?o="http://"+n[0]:o=n[0]}return{type:"link",raw:n[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(t){let n=this.rules.inline.text.exec(t);if(n){let r=this.lexer.state.inRawBlock;return{type:"text",raw:n[0],text:n[0],escaped:r}}}},qu=class JM{constructor(t){Ur(this,"tokens");Ur(this,"options");Ur(this,"state");Ur(this,"tokenizer");Ur(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Yf,this.options.tokenizer=this.options.tokenizer||new _S,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:ya,block:cx.normal,inline:Ly.normal};this.options.pedantic?(n.block=cx.pedantic,n.inline=Ly.pedantic):this.options.gfm&&(n.block=cx.gfm,this.options.breaks?n.inline=Ly.breaks:n.inline=Ly.gfm),this.tokenizer.rules=n}static get rules(){return{block:cx,inline:Ly}}static lex(t,n){return new JM(n).lex(t)}static lexInline(t,n){return new JM(n).inlineTokens(t)}lex(t){t=t.replace(ya.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],r=!1){var i,o,s;for(this.options.pedantic&&(t=t.replace(ya.tabCharGlobal,"    ").replace(ya.spaceLine,""));t;){let a;if((o=(i=this.options.extensions)==null?void 0:i.block)!=null&&o.some(h=>(a=h.call({lexer:this},t,n))?(t=t.substring(a.raw.length),n.push(a),!0):!1))continue;if(a=this.tokenizer.space(t)){t=t.substring(a.raw.length);let h=n.at(-1);a.raw.length===1&&h!==void 0?h.raw+=`
`:n.push(a);continue}if(a=this.tokenizer.code(t)){t=t.substring(a.raw.length);let h=n.at(-1);(h==null?void 0:h.type)==="paragraph"||(h==null?void 0:h.type)==="text"?(h.raw+=`
`+a.raw,h.text+=`
`+a.text,this.inlineQueue.at(-1).src=h.text):n.push(a);continue}if(a=this.tokenizer.fences(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.heading(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.hr(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.blockquote(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.list(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.html(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.def(t)){t=t.substring(a.raw.length);let h=n.at(-1);(h==null?void 0:h.type)==="paragraph"||(h==null?void 0:h.type)==="text"?(h.raw+=`
`+a.raw,h.text+=`
`+a.raw,this.inlineQueue.at(-1).src=h.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title});continue}if(a=this.tokenizer.table(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.lheading(t)){t=t.substring(a.raw.length),n.push(a);continue}let c=t;if((s=this.options.extensions)!=null&&s.startBlock){let h=1/0,d=t.slice(1),g;this.options.extensions.startBlock.forEach(y=>{g=y.call({lexer:this},d),typeof g=="number"&&g>=0&&(h=Math.min(h,g))}),h<1/0&&h>=0&&(c=t.substring(0,h+1))}if(this.state.top&&(a=this.tokenizer.paragraph(c))){let h=n.at(-1);r&&(h==null?void 0:h.type)==="paragraph"?(h.raw+=`
`+a.raw,h.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=h.text):n.push(a),r=c.length!==t.length,t=t.substring(a.raw.length);continue}if(a=this.tokenizer.text(t)){t=t.substring(a.raw.length);let h=n.at(-1);(h==null?void 0:h.type)==="text"?(h.raw+=`
`+a.raw,h.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=h.text):n.push(a);continue}if(t){let h="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){var a,c,h;let r=t,i=null;if(this.tokens.links){let d=Object.keys(this.tokens.links);if(d.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)d.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let o=!1,s="";for(;t;){o||(s=""),o=!1;let d;if((c=(a=this.options.extensions)==null?void 0:a.inline)!=null&&c.some(y=>(d=y.call({lexer:this},t,n))?(t=t.substring(d.raw.length),n.push(d),!0):!1))continue;if(d=this.tokenizer.escape(t)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.tag(t)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.link(t)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(d.raw.length);let y=n.at(-1);d.type==="text"&&(y==null?void 0:y.type)==="text"?(y.raw+=d.raw,y.text+=d.text):n.push(d);continue}if(d=this.tokenizer.emStrong(t,r,s)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.codespan(t)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.br(t)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.del(t)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.autolink(t)){t=t.substring(d.raw.length),n.push(d);continue}if(!this.state.inLink&&(d=this.tokenizer.url(t))){t=t.substring(d.raw.length),n.push(d);continue}let g=t;if((h=this.options.extensions)!=null&&h.startInline){let y=1/0,v=t.slice(1),x;this.options.extensions.startInline.forEach(C=>{x=C.call({lexer:this},v),typeof x=="number"&&x>=0&&(y=Math.min(y,x))}),y<1/0&&y>=0&&(g=t.substring(0,y+1))}if(d=this.tokenizer.inlineText(g)){t=t.substring(d.raw.length),d.raw.slice(-1)!=="_"&&(s=d.raw.slice(-1)),o=!0;let y=n.at(-1);(y==null?void 0:y.type)==="text"?(y.raw+=d.raw,y.text+=d.text):n.push(d);continue}if(t){let y="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(y);break}else throw new Error(y)}}return n}},bS=class{constructor(e){Ur(this,"options");Ur(this,"parser");this.options=e||Yf}space(e){return""}code({text:e,lang:t,escaped:n}){var o;let r=(o=(t||"").match(ya.notSpaceStart))==null?void 0:o[0],i=e.replace(ya.endingNewline,"")+`
`;return r?'<pre><code class="language-'+Dl(r)+'">'+(n?i:Dl(i,!0))+`</code></pre>
`:"<pre><code>"+(n?i:Dl(i,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){let t=e.ordered,n=e.start,r="";for(let s=0;s<e.items.length;s++){let a=e.items[s];r+=this.listitem(a)}let i=t?"ol":"ul",o=t&&n!==1?' start="'+n+'"':"";return"<"+i+o+`>
`+r+"</"+i+`>
`}listitem(e){var n;let t="";if(e.task){let r=this.checkbox({checked:!!e.checked});e.loose?((n=e.tokens[0])==null?void 0:n.type)==="paragraph"?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=r+" "+Dl(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):t+=r+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let i=0;i<e.header.length;i++)n+=this.tablecell(e.header[i]);t+=this.tablerow({text:n});let r="";for(let i=0;i<e.rows.length;i++){let o=e.rows[i];n="";for(let s=0;s<o.length;s++)n+=this.tablecell(o[s]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+r+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Dl(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let r=this.parser.parseInline(n),i=e6(e);if(i===null)return r;e=i;let o='<a href="'+e+'"';return t&&(o+=' title="'+Dl(t)+'"'),o+=">"+r+"</a>",o}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let i=e6(e);if(i===null)return Dl(n);e=i;let o=`<img src="${e}" alt="${n}"`;return t&&(o+=` title="${Dl(t)}"`),o+=">",o}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Dl(e.text)}},wO=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},Ku=class QM{constructor(t){Ur(this,"options");Ur(this,"renderer");Ur(this,"textRenderer");this.options=t||Yf,this.options.renderer=this.options.renderer||new bS,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new wO}static parse(t,n){return new QM(n).parse(t)}static parseInline(t,n){return new QM(n).parseInline(t)}parse(t,n=!0){var i,o;let r="";for(let s=0;s<t.length;s++){let a=t[s];if((o=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&o[a.type]){let h=a,d=this.options.extensions.renderers[h.type].call({parser:this},h);if(d!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type)){r+=d||"";continue}}let c=a;switch(c.type){case"space":{r+=this.renderer.space(c);continue}case"hr":{r+=this.renderer.hr(c);continue}case"heading":{r+=this.renderer.heading(c);continue}case"code":{r+=this.renderer.code(c);continue}case"table":{r+=this.renderer.table(c);continue}case"blockquote":{r+=this.renderer.blockquote(c);continue}case"list":{r+=this.renderer.list(c);continue}case"html":{r+=this.renderer.html(c);continue}case"paragraph":{r+=this.renderer.paragraph(c);continue}case"text":{let h=c,d=this.renderer.text(h);for(;s+1<t.length&&t[s+1].type==="text";)h=t[++s],d+=`
`+this.renderer.text(h);n?r+=this.renderer.paragraph({type:"paragraph",raw:d,text:d,tokens:[{type:"text",raw:d,text:d,escaped:!0}]}):r+=d;continue}default:{let h='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(h),"";throw new Error(h)}}}return r}parseInline(t,n=this.renderer){var i,o;let r="";for(let s=0;s<t.length;s++){let a=t[s];if((o=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&o[a.type]){let h=this.options.extensions.renderers[a.type].call({parser:this},a);if(h!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){r+=h||"";continue}}let c=a;switch(c.type){case"escape":{r+=n.text(c);break}case"html":{r+=n.html(c);break}case"link":{r+=n.link(c);break}case"image":{r+=n.image(c);break}case"strong":{r+=n.strong(c);break}case"em":{r+=n.em(c);break}case"codespan":{r+=n.codespan(c);break}case"br":{r+=n.br(c);break}case"del":{r+=n.del(c);break}case"text":{r+=n.text(c);break}default:{let h='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(h),"";throw new Error(h)}}}return r}},MI,ww=(MI=class{constructor(t){Ur(this,"options");Ur(this,"block");this.options=t||Yf}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?qu.lex:qu.lexInline}provideParser(){return this.block?Ku.parse:Ku.parseInline}},Ur(MI,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),MI),BTe=class{constructor(...t){Ur(this,"defaults",pO());Ur(this,"options",this.setOptions);Ur(this,"parse",this.parseMarkdown(!0));Ur(this,"parseInline",this.parseMarkdown(!1));Ur(this,"Parser",Ku);Ur(this,"Renderer",bS);Ur(this,"TextRenderer",wO);Ur(this,"Lexer",qu);Ur(this,"Tokenizer",_S);Ur(this,"Hooks",ww);this.use(...t)}walkTokens(t,n){var i,o;let r=[];for(let s of t)switch(r=r.concat(n.call(this,s)),s.type){case"table":{let a=s;for(let c of a.header)r=r.concat(this.walkTokens(c.tokens,n));for(let c of a.rows)for(let h of c)r=r.concat(this.walkTokens(h.tokens,n));break}case"list":{let a=s;r=r.concat(this.walkTokens(a.items,n));break}default:{let a=s;(o=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&o[a.type]?this.defaults.extensions.childTokens[a.type].forEach(c=>{let h=a[c].flat(1/0);r=r.concat(this.walkTokens(h,n))}):a.tokens&&(r=r.concat(this.walkTokens(a.tokens,n)))}}return r}use(...t){let n=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(r=>{let i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){let s=n.renderers[o.name];s?n.renderers[o.name]=function(...a){let c=o.renderer.apply(this,a);return c===!1&&(c=s.apply(this,a)),c}:n.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=n[o.level];s?s.unshift(o.tokenizer):n[o.level]=[o.tokenizer],o.start&&(o.level==="block"?n.startBlock?n.startBlock.push(o.start):n.startBlock=[o.start]:o.level==="inline"&&(n.startInline?n.startInline.push(o.start):n.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(n.childTokens[o.name]=o.childTokens)}),i.extensions=n),r.renderer){let o=this.defaults.renderer||new bS(this.defaults);for(let s in r.renderer){if(!(s in o))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let a=s,c=r.renderer[a],h=o[a];o[a]=(...d)=>{let g=c.apply(o,d);return g===!1&&(g=h.apply(o,d)),g||""}}i.renderer=o}if(r.tokenizer){let o=this.defaults.tokenizer||new _S(this.defaults);for(let s in r.tokenizer){if(!(s in o))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let a=s,c=r.tokenizer[a],h=o[a];o[a]=(...d)=>{let g=c.apply(o,d);return g===!1&&(g=h.apply(o,d)),g}}i.tokenizer=o}if(r.hooks){let o=this.defaults.hooks||new ww;for(let s in r.hooks){if(!(s in o))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let a=s,c=r.hooks[a],h=o[a];ww.passThroughHooks.has(s)?o[a]=d=>{if(this.defaults.async)return Promise.resolve(c.call(o,d)).then(y=>h.call(o,y));let g=c.call(o,d);return h.call(o,g)}:o[a]=(...d)=>{let g=c.apply(o,d);return g===!1&&(g=h.apply(o,d)),g}}i.hooks=o}if(r.walkTokens){let o=this.defaults.walkTokens,s=r.walkTokens;i.walkTokens=function(a){let c=[];return c.push(s.call(this,a)),o&&(c=c.concat(o.call(this,a))),c}}this.defaults={...this.defaults,...i}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,n){return qu.lex(t,n??this.defaults)}parser(t,n){return Ku.parse(t,n??this.defaults)}parseMarkdown(t){return(n,r)=>{let i={...r},o={...this.defaults,...i},s=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&i.async===!1)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=t);let a=o.hooks?o.hooks.provideLexer():t?qu.lex:qu.lexInline,c=o.hooks?o.hooks.provideParser():t?Ku.parse:Ku.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(n):n).then(h=>a(h,o)).then(h=>o.hooks?o.hooks.processAllTokens(h):h).then(h=>o.walkTokens?Promise.all(this.walkTokens(h,o.walkTokens)).then(()=>h):h).then(h=>c(h,o)).then(h=>o.hooks?o.hooks.postprocess(h):h).catch(s);try{o.hooks&&(n=o.hooks.preprocess(n));let h=a(n,o);o.hooks&&(h=o.hooks.processAllTokens(h)),o.walkTokens&&this.walkTokens(h,o.walkTokens);let d=c(h,o);return o.hooks&&(d=o.hooks.postprocess(d)),d}catch(h){return s(h)}}}onError(t,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let i="<p>An error occurred:</p><pre>"+Dl(r.message+"",!0)+"</pre>";return n?Promise.resolve(i):i}if(n)return Promise.reject(r);throw r}}},zf=new BTe;function Ar(e,t){return zf.parse(e,t)}Ar.options=Ar.setOptions=function(e){return zf.setOptions(e),Ar.defaults=zf.defaults,OW(Ar.defaults),Ar};Ar.getDefaults=pO;Ar.defaults=Yf;Ar.use=function(...e){return zf.use(...e),Ar.defaults=zf.defaults,OW(Ar.defaults),Ar};Ar.walkTokens=function(e,t){return zf.walkTokens(e,t)};Ar.parseInline=zf.parseInline;Ar.Parser=Ku;Ar.parser=Ku.parse;Ar.Renderer=bS;Ar.TextRenderer=wO;Ar.Lexer=qu;Ar.lexer=qu.lex;Ar.Tokenizer=_S;Ar.Hooks=ww;Ar.parse=Ar;Ar.options;Ar.setOptions;Ar.use;Ar.walkTokens;Ar.parseInline;Ku.parse;qu.lex;const{darkAlgorithm:FTe}=XM,NTe={name:"BusAnnouncement",components:{"a-config-provider":Qu,"a-card":wf,"a-tag":Xm,"a-spin":Sf,BellOutlined:fO},data(){return{loading:!0,announcement:null,error:null,appTheme:{}}},computed:{parsedContent(){return this.announcement&&this.announcement.content?Ar(this.announcement.content):""}},methods:{async fetchAnnouncement(){try{this.loading=!0;const e=await Tn.get("https://bus.sustcra.com/api/announcement/notice/latest");e.data&&Object.keys(e.data).length>0?this.announcement=e.data:this.announcement=null}catch(e){console.error("获取公交公告失败:",e),this.error=e.message}finally{this.loading=!1}},updateTheme(){const e=document.documentElement.getAttribute("data-theme")==="dark";this.appTheme=e?{algorithm:FTe}:{}}},mounted(){this.fetchAnnouncement(),this.updateTheme(),this._themeObserver=new MutationObserver(()=>{this.updateTheme()}),this._themeObserver.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]})},beforeUnmount(){this._themeObserver&&(this._themeObserver.disconnect(),this._themeObserver=null)}},VTe={class:"bus-announcement-container"},jTe={key:0,class:"loading-spinner"},HTe={key:1},UTe=["innerHTML"];function GTe(e,t,n,r,i,o){const s=or("a-spin"),a=or("a-card"),c=or("BellOutlined"),h=or("a-tag"),d=or("a-config-provider");return Dt(),Gr(d,{theme:i.appTheme},{default:Bn(()=>[kt("div",VTe,[i.loading?(Dt(),Zt("div",jTe,[ne(s,{tip:"正在加载最新公告..."})])):i.error?(Dt(),Zt("div",HTe,[ne(a,{title:"公告加载失败",size:"small"},{default:Bn(()=>[t[0]||(t[0]=kt("p",null,"无法获取服务公告，请稍后刷新重试。",-1)),kt("p",null,"错误信息: "+Rn(i.error),1)]),_:1})])):i.announcement?(Dt(),Gr(a,{key:2,bordered:!1,style:{"box-shadow":"0 2px 8px rgba(0, 0, 0, 0.09)"}},{title:Bn(()=>[ne(c,{style:{"margin-right":"8px"}}),t[1]||(t[1]=Wi(" 服务公告 "))]),extra:Bn(()=>[ne(h,{color:"processing"},{default:Bn(()=>[t[2]||(t[2]=Wi("Updated at ")),kt("b",null,Rn(i.announcement.created_at.toString().substring(0,19)),1)]),_:1})]),default:Bn(()=>[kt("div",{class:"announcement-content",innerHTML:o.parsedContent},null,8,UTe)]),_:1})):vr("",!0)])]),_:1},8,["theme"])}const WTe=Zn(NTe,[["render",GTe],["__scopeId","data-v-ab6c35e1"],["__file","BusAnnouncement.vue"]]),ZTe={name:"BusEtaSelector",components:{"a-config-provider":Qu,"a-select":Ll,"a-card":wf,"a-collapse":z_,"a-spin":Sf,"a-empty":_m,"a-tag":Xm},data(){return{apiBaseUrl:"https://bus.sustcra.com/api/v3",isLoadingRoutes:!1,isLoadingStations:!1,isLoadingEta:!1,isDarkMode:!1,routes:[],stations:[],etas:[],selectedRouteKey:void 0,selectedStationId:void 0,etaInterval:null}},computed:{antTheme(){return{algorithm:this.isDarkMode?XM.darkAlgorithm:XM.defaultAlgorithm}},routeOptions(){const e={0:"To 欣园 Joy Highland",1:"To 工学院 COE"};return this.routes.map(t=>({value:`${t.name}-${t.direction}`,label:`${t.name} (${e[t.direction]||"方向"+t.direction})`}))},stationOptions(){return this.stations.map(e=>({value:e.properties.station_id,label:e.properties.name.replace(/\n/g," / ")}))},sortedEtas(){return this.etas.slice().sort((e,t)=>e.eta_minutes-t.eta_minutes)}},methods:{handleThemeChange(e){this.isDarkMode=e.matches},async fetchRoutes(){this.isLoadingRoutes=!0;try{const e=await Tn.get(`${this.apiBaseUrl}/avail_route`);this.routes=e.data.routes||[]}catch(e){console.error("获取线路列表失败:",e)}finally{this.isLoadingRoutes=!1}},handleRouteChange(){this.selectedStationId=void 0,this.stations=[],this.etas=[],this.clearEtaInterval(),this.selectedRouteKey&&this.fetchStations()},async fetchStations(){this.isLoadingStations=!0;const[e,t]=this.selectedRouteKey.split("-");try{const n=await Tn.get(`${this.apiBaseUrl}/${e}/${t}/stations`);this.stations=n.data.features||[]}catch(n){console.error("获取站点列表失败:",n)}finally{this.isLoadingStations=!1}},handleStationChange(){this.etas=[],this.clearEtaInterval(),this.selectedStationId&&(this.fetchEta(),this.etaInterval=setInterval(this.fetchEta,3e4))},async fetchEta(){if(!this.selectedRouteKey||!this.selectedStationId)return;this.isLoadingEta=!0;const[e,t]=this.selectedRouteKey.split("-");try{const n=await Tn.get(`${this.apiBaseUrl}/${e}/${t}/${this.selectedStationId}`);this.etas=n.data||[]}catch(n){this.etas=[],console.error("获取ETA信息失败:",n)}finally{this.isLoadingEta=!1}},clearEtaInterval(){this.etaInterval&&(clearInterval(this.etaInterval),this.etaInterval=null)}},created(){if(this.fetchRoutes(),window.matchMedia){const e=window.matchMedia("(prefers-color-scheme: dark)");this.isDarkMode=e.matches,e.addEventListener("change",this.handleThemeChange)}},beforeUnmount(){this.clearEtaInterval(),window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",this.handleThemeChange)}},qTe={class:"controls-wrapper"},KTe={key:0,class:"eta-results"},XTe={key:0},YTe={key:1,class:"eta-list"},JTe={class:"eta-time"},QTe={class:"eta-minutes"},ePe={class:"eta-details"},tPe={class:"eta-plate"},nPe={class:"eta-next-station"};function rPe(e,t,n,r,i,o){const s=or("a-select"),a=or("a-spin"),c=or("a-empty"),h=or("a-tag"),d=or("a-card"),g=or("a-config-provider");return Dt(),Gr(g,{theme:o.antTheme},{default:Bn(()=>[ne(d,{title:"ETA (Bus with realtime data only)",style:{width:"100%",maxWidth:"600px",margin:"2rem auto"}},{default:Bn(()=>[ne(a,{spinning:i.isLoadingRoutes,tip:"正在加载线路..."},{default:Bn(()=>[kt("div",qTe,[ne(s,{value:i.selectedRouteKey,"onUpdate:value":t[0]||(t[0]=y=>i.selectedRouteKey=y),placeholder:"选择线路 Choose Line",style:{width:"100%"},options:o.routeOptions,onChange:o.handleRouteChange,loading:i.isLoadingStations},null,8,["value","options","onChange","loading"]),ne(s,{value:i.selectedStationId,"onUpdate:value":t[1]||(t[1]=y=>i.selectedStationId=y),placeholder:"选择站点 Choose Station",style:{width:"100%","margin-top":"16px"},disabled:!i.selectedRouteKey||i.isLoadingStations,options:o.stationOptions,onChange:o.handleStationChange,loading:i.isLoadingEta},null,8,["value","disabled","options","onChange","loading"])])]),_:1},8,["spinning"]),i.selectedStationId?(Dt(),Zt("div",KTe,[ne(a,{spinning:i.isLoadingEta,tip:"正在查询到站时间..."},{default:Bn(()=>[!i.etas.length&&!i.isLoadingEta?(Dt(),Zt("div",XTe,[ne(c,{description:"该站点暂无班车信息"})])):(Dt(),Zt("div",YTe,[(Dt(!0),Zt(vn,null,ea(o.sortedEtas,y=>(Dt(),Zt("div",{key:y.plate,class:"eta-item"},[kt("div",JTe,[kt("span",QTe,Rn(y.eta_minutes),1),t[2]||(t[2]=kt("span",{class:"eta-unit"},"Min.",-1))]),kt("div",ePe,[kt("div",tPe,[ne(h,{color:"blue"},{default:Bn(()=>[Wi(Rn(y.plate),1)]),_:2},1024)]),kt("div",nPe," Next Sta. "+Rn(y.next_station),1)])]))),128))]))]),_:1},8,["spinning"])])):vr("",!0)]),_:1})]),_:1},8,["theme"])}const iPe=Zn(ZTe,[["render",rPe],["__scopeId","data-v-7dc4e461"],["__file","BusETAdemo.vue"]]),oPe={name:"TabView",components:{ASegmented:dO},props:{isMapTabEnabled:{type:Boolean,default:!0}},setup(e){const t=Ot("bus-location"),n=Ot("bus-location"),r=Ot([{value:"bus-location",payload:{title:"车辆实时位置",subTitle:"Bus Realtime Location"}},{value:"timetable",payload:{title:"时间表",subTitle:"Timetable"}}]),i=s=>{n.value=s};let o=e.isMapTabEnabled;return{initSelect:t,currentSelect:n,tabOptions:r,switchTab:i,showMapChart:o}}},aPe={style:{padding:"4px 8px"}},sPe={class:"tab-container"},lPe={key:0},uPe={key:0,class:"bus-location-hint"},cPe={key:1};function hPe(e,t,n,r,i,o){const s=or("a-segmented"),a=or("RealtimeMapv2"),c=or("BusETAdemo"),h=or("BusChartVue"),d=or("BusTable");return Dt(),Zt("div",null,[ne(s,{value:r.initSelect,"onUpdate:value":t[0]||(t[0]=g=>r.initSelect=g),options:r.tabOptions,onChange:r.switchTab},{label:Bn(({payload:g})=>[kt("div",aPe,[kt("div",null,Rn(g.title),1),kt("div",null,Rn(g.subTitle),1)])]),_:1},8,["value","options","onChange"]),kt("div",sPe,[r.currentSelect==="bus-location"?(Dt(),Zt("div",lPe,[r.showMapChart?(Dt(),Zt("div",uPe,t[1]||(t[1]=[kt("b",null,"位置每5秒自动刷新。",-1),Wi("Location refreshes automatically every 5 seconds."),kt("br",null,null,-1),kt("b",null,"（测试中）图上点击对应的站点，可查看实时到站时间预测。",-1),Wi("Click on the station on the map to see the realtime ETA. (testing) ")]))):vr("",!0),r.showMapChart?(Dt(),Gr(a,{key:1})):vr("",!0),ne(c),ne(h)])):vr("",!0),r.currentSelect==="timetable"?(Dt(),Zt("div",cPe,[ne(d)])):vr("",!0)])])}const dPe=Zn(oPe,[["render",hPe],["__scopeId","data-v-68cc2df3"],["__file","TabView.vue"]]);var Sw={exports:{}};/**
 * MapLibre GL JS
 * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v5.0.1/LICENSE.txt
 */var fPe=Sw.exports,r6;function pPe(){return r6||(r6=1,function(e,t){(function(n,r){e.exports=r()})(fPe,function(){var n={},r={};function i(s,a,c){if(r[s]=c,s==="index"){var h="var sharedModule = {}; ("+r.shared+")(sharedModule); ("+r.worker+")(sharedModule);",d={};return r.shared(d),r.index(n,d),typeof window<"u"&&n.setWorkerUrl(window.URL.createObjectURL(new Blob([h],{type:"text/javascript"}))),n}}i("shared",["exports"],function(s){function a(m,u,p,_){return new(p||(p=Promise))(function(S,E){function M(j){try{B(_.next(j))}catch(G){E(G)}}function O(j){try{B(_.throw(j))}catch(G){E(G)}}function B(j){var G;j.done?S(j.value):(G=j.value,G instanceof p?G:new p(function(Z){Z(G)})).then(M,O)}B((_=_.apply(m,u||[])).next())})}function c(m){return m&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m}var h,d;function g(){if(d)return h;function m(u,p){this.x=u,this.y=p}return d=1,h=m,m.prototype={clone:function(){return new m(this.x,this.y)},add:function(u){return this.clone()._add(u)},sub:function(u){return this.clone()._sub(u)},multByPoint:function(u){return this.clone()._multByPoint(u)},divByPoint:function(u){return this.clone()._divByPoint(u)},mult:function(u){return this.clone()._mult(u)},div:function(u){return this.clone()._div(u)},rotate:function(u){return this.clone()._rotate(u)},rotateAround:function(u,p){return this.clone()._rotateAround(u,p)},matMult:function(u){return this.clone()._matMult(u)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(u){return this.x===u.x&&this.y===u.y},dist:function(u){return Math.sqrt(this.distSqr(u))},distSqr:function(u){var p=u.x-this.x,_=u.y-this.y;return p*p+_*_},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(u){return Math.atan2(this.y-u.y,this.x-u.x)},angleWith:function(u){return this.angleWithSep(u.x,u.y)},angleWithSep:function(u,p){return Math.atan2(this.x*p-this.y*u,this.x*u+this.y*p)},_matMult:function(u){var p=u[2]*this.x+u[3]*this.y;return this.x=u[0]*this.x+u[1]*this.y,this.y=p,this},_add:function(u){return this.x+=u.x,this.y+=u.y,this},_sub:function(u){return this.x-=u.x,this.y-=u.y,this},_mult:function(u){return this.x*=u,this.y*=u,this},_div:function(u){return this.x/=u,this.y/=u,this},_multByPoint:function(u){return this.x*=u.x,this.y*=u.y,this},_divByPoint:function(u){return this.x/=u.x,this.y/=u.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var u=this.y;return this.y=this.x,this.x=-u,this},_rotate:function(u){var p=Math.cos(u),_=Math.sin(u),S=_*this.x+p*this.y;return this.x=p*this.x-_*this.y,this.y=S,this},_rotateAround:function(u,p){var _=Math.cos(u),S=Math.sin(u),E=p.y+S*(this.x-p.x)+_*(this.y-p.y);return this.x=p.x+_*(this.x-p.x)-S*(this.y-p.y),this.y=E,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},m.convert=function(u){return u instanceof m?u:Array.isArray(u)?new m(u[0],u[1]):u},h}typeof SuppressedError=="function"&&SuppressedError;var y,v,x=c(g()),C=function(){if(v)return y;function m(u,p,_,S){this.cx=3*u,this.bx=3*(_-u)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*p,this.by=3*(S-p)-this.cy,this.ay=1-this.cy-this.by,this.p1x=u,this.p1y=p,this.p2x=_,this.p2y=S}return v=1,y=m,m.prototype={sampleCurveX:function(u){return((this.ax*u+this.bx)*u+this.cx)*u},sampleCurveY:function(u){return((this.ay*u+this.by)*u+this.cy)*u},sampleCurveDerivativeX:function(u){return(3*this.ax*u+2*this.bx)*u+this.cx},solveCurveX:function(u,p){if(p===void 0&&(p=1e-6),u<0)return 0;if(u>1)return 1;for(var _=u,S=0;S<8;S++){var E=this.sampleCurveX(_)-u;if(Math.abs(E)<p)return _;var M=this.sampleCurveDerivativeX(_);if(Math.abs(M)<1e-6)break;_-=E/M}var O=0,B=1;for(_=u,S=0;S<20&&(E=this.sampleCurveX(_),!(Math.abs(E-u)<p));S++)u>E?O=_:B=_,_=.5*(B-O)+O;return _},solve:function(u,p){return this.sampleCurveY(this.solveCurveX(u,p))}},y}(),I=c(C);let A,k;function R(){return A==null&&(A=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),A}function z(){if(k==null&&(k=!1,R())){const u=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(u){for(let _=0;_<5*5;_++){const S=4*_;u.fillStyle=`rgb(${S},${S+1},${S+2})`,u.fillRect(_%5,Math.floor(_/5),1,1)}const p=u.getImageData(0,0,5,5).data;for(let _=0;_<5*5*4;_++)if(_%4!=3&&p[_]!==_){k=!0;break}}}return k||!1}var V,U=1e-6,N=typeof Float32Array<"u"?Float32Array:Array;function W(){var m=new N(9);return N!=Float32Array&&(m[1]=0,m[2]=0,m[3]=0,m[5]=0,m[6]=0,m[7]=0),m[0]=1,m[4]=1,m[8]=1,m}function X(m){return m[0]=1,m[1]=0,m[2]=0,m[3]=0,m[4]=0,m[5]=1,m[6]=0,m[7]=0,m[8]=0,m[9]=0,m[10]=1,m[11]=0,m[12]=0,m[13]=0,m[14]=0,m[15]=1,m}function K(){var m=new N(3);return N!=Float32Array&&(m[0]=0,m[1]=0,m[2]=0),m}function te(m,u,p){var _=new N(3);return _[0]=m,_[1]=u,_[2]=p,_}function ae(m,u,p){var _=u[0],S=u[1],E=u[2],M=u[3];return m[0]=p[0]*_+p[4]*S+p[8]*E+p[12]*M,m[1]=p[1]*_+p[5]*S+p[9]*E+p[13]*M,m[2]=p[2]*_+p[6]*S+p[10]*E+p[14]*M,m[3]=p[3]*_+p[7]*S+p[11]*E+p[15]*M,m}function me(){var m=new N(4);return N!=Float32Array&&(m[0]=0,m[1]=0,m[2]=0),m[3]=1,m}function we(){var m=new N(2);return N!=Float32Array&&(m[0]=0,m[1]=0),m}function se(m,u){var p=new N(2);return p[0]=m,p[1]=u,p}Math.hypot||(Math.hypot=function(){for(var m=0,u=arguments.length;u--;)m+=arguments[u]*arguments[u];return Math.sqrt(m)}),K(),V=new N(4),N!=Float32Array&&(V[0]=0,V[1]=0,V[2]=0,V[3]=0),K(),te(1,0,0),te(0,1,0),me(),me(),W(),we();const ue=8192;function Te(m,u,p){return u*(ue/(m.tileSize*Math.pow(2,p-m.tileID.overscaledZ)))}function Be(m,u){return(m%u+u)%u}function ke(m,u,p){return m*(1-p)+u*p}function rt(m){if(m<=0)return 0;if(m>=1)return 1;const u=m*m,p=u*m;return 4*(m<.5?p:3*(m-u)+p-.75)}function ot(m,u,p,_){const S=new I(m,u,p,_);return E=>S.solve(E)}const tt=ot(.25,.1,.25,1);function It(m,u,p){return Math.min(p,Math.max(u,m))}function Bt(m,u,p){const _=p-u,S=((m-u)%_+_)%_+u;return S===u?p:S}function Lt(m,...u){for(const p of u)for(const _ in p)m[_]=p[_];return m}let Yt=1;function ze(m,u,p){const _={};for(const S in m)_[S]=u.call(this,m[S],S,m);return _}function ut(m,u,p){const _={};for(const S in m)u.call(this,m[S],S,m)&&(_[S]=m[S]);return _}function Re(m){return Array.isArray(m)?m.map(Re):typeof m=="object"&&m?ze(m,Re):m}const Ve={};function Le(m){Ve[m]||(typeof console<"u"&&console.warn(m),Ve[m]=!0)}function Ye(m,u,p){return(p.y-m.y)*(u.x-m.x)>(u.y-m.y)*(p.x-m.x)}function pe(m){return typeof WorkerGlobalScope<"u"&&m!==void 0&&m instanceof WorkerGlobalScope}let ye=null;function Ze(m){return typeof ImageBitmap<"u"&&m instanceof ImageBitmap}const ht="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function st(m,u,p,_,S){return a(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const E=new VideoFrame(m,{timestamp:0});try{const M=E==null?void 0:E.format;if(!M||!M.startsWith("BGR")&&!M.startsWith("RGB"))throw new Error(`Unrecognized format ${M}`);const O=M.startsWith("BGR"),B=new Uint8ClampedArray(_*S*4);if(yield E.copyTo(B,function(j,G,Z,Q,ie){const oe=4*Math.max(1,0),he=(Math.max(0,Z)-Z)*Q*4+oe,be=4*Q,Ee=Math.max(0,G),Ue=Math.max(0,Z);return{rect:{x:Ee,y:Ue,width:Math.min(j.width,G+Q)-Ee,height:Math.min(j.height,Z+ie)-Ue},layout:[{offset:he,stride:be}]}}(m,u,p,_,S)),O)for(let j=0;j<B.length;j+=4){const G=B[j];B[j]=B[j+2],B[j+2]=G}return B}finally{E.close()}})}let Xe,Qe;function lt(m){return m/Math.PI*180}const St="AbortError";function Tt(){return new Error(St)}const Wt={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function Ft(m){return Wt.REGISTERED_PROTOCOLS[m.substring(0,m.indexOf("://"))]}const Qt="global-dispatcher";class sn extends Error{constructor(u,p,_,S){super(`AJAXError: ${p} (${u}): ${_}`),this.status=u,this.statusText=p,this.url=_,this.body=S}}const xn=()=>pe(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,En=function(m,u){if(/:\/\//.test(m.url)&&!/^https?:|^file:/.test(m.url)){const _=Ft(m.url);if(_)return _(m,u);if(pe(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:m,targetMapId:Qt},u)}if(!(/^file:/.test(p=m.url)||/^file:/.test(xn())&&!/^\w+:/.test(p))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(_,S){return a(this,void 0,void 0,function*(){const E=new Request(_.url,{method:_.method||"GET",body:_.body,credentials:_.credentials,headers:_.headers,cache:_.cache,referrer:xn(),signal:S.signal});let M,O;_.type!=="json"||E.headers.has("Accept")||E.headers.set("Accept","application/json");try{M=yield fetch(E)}catch(j){throw new sn(0,j.message,_.url,new Blob)}if(!M.ok){const j=yield M.blob();throw new sn(M.status,M.statusText,_.url,j)}O=_.type==="arrayBuffer"||_.type==="image"?M.arrayBuffer():_.type==="json"?M.json():M.text();const B=yield O;if(S.signal.aborted)throw Tt();return{data:B,cacheControl:M.headers.get("Cache-Control"),expires:M.headers.get("Expires")}})}(m,u);if(pe(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:m,mustQueue:!0,targetMapId:Qt},u)}var p;return function(_,S){return new Promise((E,M)=>{var O;const B=new XMLHttpRequest;B.open(_.method||"GET",_.url,!0),_.type!=="arrayBuffer"&&_.type!=="image"||(B.responseType="arraybuffer");for(const j in _.headers)B.setRequestHeader(j,_.headers[j]);_.type==="json"&&(B.responseType="text",!((O=_.headers)===null||O===void 0)&&O.Accept||B.setRequestHeader("Accept","application/json")),B.withCredentials=_.credentials==="include",B.onerror=()=>{M(new Error(B.statusText))},B.onload=()=>{if(!S.signal.aborted)if((B.status>=200&&B.status<300||B.status===0)&&B.response!==null){let j=B.response;if(_.type==="json")try{j=JSON.parse(B.response)}catch(G){return void M(G)}E({data:j,cacheControl:B.getResponseHeader("Cache-Control"),expires:B.getResponseHeader("Expires")})}else{const j=new Blob([B.response],{type:B.getResponseHeader("Content-Type")});M(new sn(B.status,B.statusText,_.url,j))}},S.signal.addEventListener("abort",()=>{B.abort(),M(Tt())}),B.send(_.body)})}(m,u)};function bn(m){if(!m||m.indexOf("://")<=0||m.indexOf("data:image/")===0||m.indexOf("blob:")===0)return!0;const u=new URL(m),p=window.location;return u.protocol===p.protocol&&u.host===p.host}function Xn(m,u,p){p[m]&&p[m].indexOf(u)!==-1||(p[m]=p[m]||[],p[m].push(u))}function tr(m,u,p){if(p&&p[m]){const _=p[m].indexOf(u);_!==-1&&p[m].splice(_,1)}}class Zr{constructor(u,p={}){Lt(this,p),this.type=u}}class Vr extends Zr{constructor(u,p={}){super("error",Lt({error:u},p))}}class Pi{on(u,p){return this._listeners=this._listeners||{},Xn(u,p,this._listeners),{unsubscribe:()=>{this.off(u,p)}}}off(u,p){return tr(u,p,this._listeners),tr(u,p,this._oneTimeListeners),this}once(u,p){return p?(this._oneTimeListeners=this._oneTimeListeners||{},Xn(u,p,this._oneTimeListeners),this):new Promise(_=>this.once(u,_))}fire(u,p){typeof u=="string"&&(u=new Zr(u,p||{}));const _=u.type;if(this.listens(_)){u.target=this;const S=this._listeners&&this._listeners[_]?this._listeners[_].slice():[];for(const O of S)O.call(this,u);const E=this._oneTimeListeners&&this._oneTimeListeners[_]?this._oneTimeListeners[_].slice():[];for(const O of E)tr(_,O,this._oneTimeListeners),O.call(this,u);const M=this._eventedParent;M&&(Lt(u,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),M.fire(u))}else u instanceof Vr&&console.error(u.error);return this}listens(u){return this._listeners&&this._listeners[u]&&this._listeners[u].length>0||this._oneTimeListeners&&this._oneTimeListeners[u]&&this._oneTimeListeners[u].length>0||this._eventedParent&&this._eventedParent.listens(u)}setEventedParent(u,p){return this._eventedParent=u,this._eventedParentData=p,this}}var xe={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const le=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function fe(m,u){const p={};for(const _ in m)_!=="ref"&&(p[_]=m[_]);return le.forEach(_=>{_ in u&&(p[_]=u[_])}),p}function ve(m,u){if(Array.isArray(m)){if(!Array.isArray(u)||m.length!==u.length)return!1;for(let p=0;p<m.length;p++)if(!ve(m[p],u[p]))return!1;return!0}if(typeof m=="object"&&m!==null&&u!==null){if(typeof u!="object"||Object.keys(m).length!==Object.keys(u).length)return!1;for(const p in m)if(!ve(m[p],u[p]))return!1;return!0}return m===u}function Me(m,u){m.push(u)}function je(m,u,p){Me(p,{command:"addSource",args:[m,u[m]]})}function Ke(m,u,p){Me(u,{command:"removeSource",args:[m]}),p[m]=!0}function at(m,u,p,_){Ke(m,p,_),je(m,u,p)}function qe(m,u,p){let _;for(_ in m[p])if(Object.prototype.hasOwnProperty.call(m[p],_)&&_!=="data"&&!ve(m[p][_],u[p][_]))return!1;for(_ in u[p])if(Object.prototype.hasOwnProperty.call(u[p],_)&&_!=="data"&&!ve(m[p][_],u[p][_]))return!1;return!0}function gt(m,u,p,_,S,E){m=m||{},u=u||{};for(const M in m)Object.prototype.hasOwnProperty.call(m,M)&&(ve(m[M],u[M])||p.push({command:E,args:[_,M,u[M],S]}));for(const M in u)Object.prototype.hasOwnProperty.call(u,M)&&!Object.prototype.hasOwnProperty.call(m,M)&&(ve(m[M],u[M])||p.push({command:E,args:[_,M,u[M],S]}))}function dt(m){return m.id}function Je(m,u){return m[u.id]=u,m}class Ge{constructor(u,p,_,S){this.message=(u?`${u}: `:"")+_,S&&(this.identifier=S),p!=null&&p.__line__&&(this.line=p.__line__)}}function Nt(m,...u){for(const p of u)for(const _ in p)m[_]=p[_];return m}class Vt extends Error{constructor(u,p){super(p),this.message=p,this.key=u}}class dn{constructor(u,p=[]){this.parent=u,this.bindings={};for(const[_,S]of p)this.bindings[_]=S}concat(u){return new dn(this,u)}get(u){if(this.bindings[u])return this.bindings[u];if(this.parent)return this.parent.get(u);throw new Error(`${u} not found in scope.`)}has(u){return!!this.bindings[u]||!!this.parent&&this.parent.has(u)}}const wn={kind:"null"},yt={kind:"number"},Gt={kind:"string"},nn={kind:"boolean"},kn={kind:"color"},qn={kind:"projectionDefinition"},mn={kind:"object"},Jt={kind:"value"},Ir={kind:"collator"},za={kind:"formatted"},di={kind:"padding"},oi={kind:"resolvedImage"},_r={kind:"variableAnchorOffsetCollection"};function yo(m,u){return{kind:"array",itemType:m,N:u}}function Mr(m){if(m.kind==="array"){const u=Mr(m.itemType);return typeof m.N=="number"?`array<${u}, ${m.N}>`:m.itemType.kind==="value"?"array":`array<${u}>`}return m.kind}const au=[wn,yt,Gt,nn,kn,qn,za,mn,yo(Jt),di,oi,_r];function Ws(m,u){if(u.kind==="error")return null;if(m.kind==="array"){if(u.kind==="array"&&(u.N===0&&u.itemType.kind==="value"||!Ws(m.itemType,u.itemType))&&(typeof m.N!="number"||m.N===u.N))return null}else{if(m.kind===u.kind)return null;if(m.kind==="value"){for(const p of au)if(!Ws(p,u))return null}}return`Expected ${Mr(m)} but found ${Mr(u)} instead.`}function su(m,u){return u.some(p=>p.kind===m.kind)}function _o(m,u){return u.some(p=>p==="null"?m===null:p==="array"?Array.isArray(m):p==="object"?m&&!Array.isArray(m)&&typeof m=="object":p===typeof m)}function cs(m,u){return m.kind==="array"&&u.kind==="array"?m.itemType.kind===u.itemType.kind&&typeof m.N=="number":m.kind===u.kind}const ep=.96422,Yg=.82521,Cb=4/29,vc=6/29,Tb=3*vc*vc,AC=vc*vc*vc,DC=Math.PI/180,kC=180/Math.PI;function Pb(m){return(m%=360)<0&&(m+=360),m}function Jg([m,u,p,_]){let S,E;const M=Qg((.2225045*(m=lu(m))+.7168786*(u=lu(u))+.0606169*(p=lu(p)))/1);m===u&&u===p?S=E=M:(S=Qg((.4360747*m+.3850649*u+.1430804*p)/ep),E=Qg((.0139322*m+.0971045*u+.7141733*p)/Yg));const O=116*M-16;return[O<0?0:O,500*(S-M),200*(M-E),_]}function lu(m){return m<=.04045?m/12.92:Math.pow((m+.055)/1.055,2.4)}function Qg(m){return m>AC?Math.pow(m,1/3):m/Tb+Cb}function Eb([m,u,p,_]){let S=(m+16)/116,E=isNaN(u)?S:S+u/500,M=isNaN(p)?S:S-p/200;return S=1*ev(S),E=ep*ev(E),M=Yg*ev(M),[uu(3.1338561*E-1.6168667*S-.4906146*M),uu(-.9787684*E+1.9161415*S+.033454*M),uu(.0719453*E-.2289914*S+1.4052427*M),_]}function uu(m){return(m=m<=.00304?12.92*m:1.055*Math.pow(m,1/2.4)-.055)<0?0:m>1?1:m}function ev(m){return m>vc?m*m*m:Tb*(m-Cb)}function tp(m){return parseInt(m.padEnd(2,m),16)/255}function Ib(m,u){return cu(u?m/100:m,0,1)}function cu(m,u,p){return Math.min(Math.max(u,m),p)}function tv(m){return!m.some(Number.isNaN)}const hs={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function Vn(m,u,p){return m+p*(u-m)}function ds(m,u,p){return m.map((_,S)=>Vn(_,u[S],p))}class Hn{constructor(u,p,_,S=1,E=!0){this.r=u,this.g=p,this.b=_,this.a=S,E||(this.r*=S,this.g*=S,this.b*=S,S||this.overwriteGetter("rgb",[u,p,_,S]))}static parse(u){if(u instanceof Hn)return u;if(typeof u!="string")return;const p=function(_){if((_=_.toLowerCase().trim())==="transparent")return[0,0,0,0];const S=hs[_];if(S){const[M,O,B]=S;return[M/255,O/255,B/255,1]}if(_.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(_)){const M=_.length<6?1:2;let O=1;return[tp(_.slice(O,O+=M)),tp(_.slice(O,O+=M)),tp(_.slice(O,O+=M)),tp(_.slice(O,O+M)||"ff")]}if(_.startsWith("rgb")){const M=_.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(M){const[O,B,j,G,Z,Q,ie,oe,he,be,Ee,Ue]=M,Ae=[G||" ",ie||" ",be].join("");if(Ae==="  "||Ae==="  /"||Ae===",,"||Ae===",,,"){const re=[j,Q,he].join(""),_e=re==="%%%"?100:re===""?255:0;if(_e){const De=[cu(+B/_e,0,1),cu(+Z/_e,0,1),cu(+oe/_e,0,1),Ee?Ib(+Ee,Ue):1];if(tv(De))return De}}return}}const E=_.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(E){const[M,O,B,j,G,Z,Q,ie,oe]=E,he=[B||" ",G||" ",Q].join("");if(he==="  "||he==="  /"||he===",,"||he===",,,"){const be=[+O,cu(+j,0,100),cu(+Z,0,100),ie?Ib(+ie,oe):1];if(tv(be))return function([Ee,Ue,Ae,re]){function _e(De){const nt=(De+Ee/30)%12,Mt=Ue*Math.min(Ae,1-Ae);return Ae-Mt*Math.max(-1,Math.min(nt-3,9-nt,1))}return Ee=Pb(Ee),Ue/=100,Ae/=100,[_e(0),_e(8),_e(4),re]}(be)}}}(u);return p?new Hn(...p,!1):void 0}get rgb(){const{r:u,g:p,b:_,a:S}=this,E=S||1/0;return this.overwriteGetter("rgb",[u/E,p/E,_/E,S])}get hcl(){return this.overwriteGetter("hcl",function(u){const[p,_,S,E]=Jg(u),M=Math.sqrt(_*_+S*S);return[Math.round(1e4*M)?Pb(Math.atan2(S,_)*kC):NaN,M,p,E]}(this.rgb))}get lab(){return this.overwriteGetter("lab",Jg(this.rgb))}overwriteGetter(u,p){return Object.defineProperty(this,u,{value:p}),p}toString(){const[u,p,_,S]=this.rgb;return`rgba(${[u,p,_].map(E=>Math.round(255*E)).join(",")},${S})`}static interpolate(u,p,_,S="rgb"){switch(S){case"rgb":{const[E,M,O,B]=ds(u.rgb,p.rgb,_);return new Hn(E,M,O,B,!1)}case"hcl":{const[E,M,O,B]=u.hcl,[j,G,Z,Q]=p.hcl;let ie,oe;if(isNaN(E)||isNaN(j))isNaN(E)?isNaN(j)?ie=NaN:(ie=j,O!==1&&O!==0||(oe=G)):(ie=E,Z!==1&&Z!==0||(oe=M));else{let Ae=j-E;j>E&&Ae>180?Ae-=360:j<E&&E-j>180&&(Ae+=360),ie=E+_*Ae}const[he,be,Ee,Ue]=function([Ae,re,_e,De]){return Ae=isNaN(Ae)?0:Ae*DC,Eb([_e,Math.cos(Ae)*re,Math.sin(Ae)*re,De])}([ie,oe??Vn(M,G,_),Vn(O,Z,_),Vn(B,Q,_)]);return new Hn(he,be,Ee,Ue,!1)}case"lab":{const[E,M,O,B]=Eb(ds(u.lab,p.lab,_));return new Hn(E,M,O,B,!1)}}}}Hn.black=new Hn(0,0,0,1),Hn.white=new Hn(1,1,1,1),Hn.transparent=new Hn(0,0,0,0),Hn.red=new Hn(1,0,0,1);class np{constructor(u,p,_){this.sensitivity=u?p?"variant":"case":p?"accent":"base",this.locale=_,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(u,p){return this.collator.compare(u,p)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class rp{constructor(u,p,_,S,E){this.text=u,this.image=p,this.scale=_,this.fontStack=S,this.textColor=E}}class bo{constructor(u){this.sections=u}static fromString(u){return new bo([new rp(u,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(u=>u.text.length!==0||u.image&&u.image.name.length!==0)}static factory(u){return u instanceof bo?u:bo.fromString(u)}toString(){return this.sections.length===0?"":this.sections.map(u=>u.text).join("")}}class qr{constructor(u){this.values=u.slice()}static parse(u){if(u instanceof qr)return u;if(typeof u=="number")return new qr([u,u,u,u]);if(Array.isArray(u)&&!(u.length<1||u.length>4)){for(const p of u)if(typeof p!="number")return;switch(u.length){case 1:u=[u[0],u[0],u[0],u[0]];break;case 2:u=[u[0],u[1],u[0],u[1]];break;case 3:u=[u[0],u[1],u[2],u[1]]}return new qr(u)}}toString(){return JSON.stringify(this.values)}static interpolate(u,p,_){return new qr(ds(u.values,p.values,_))}}class jr{constructor(u){this.name="ExpressionEvaluationError",this.message=u}toJSON(){return this.message}}const ip=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class uo{constructor(u){this.values=u.slice()}static parse(u){if(u instanceof uo)return u;if(Array.isArray(u)&&!(u.length<1)&&u.length%2==0){for(let p=0;p<u.length;p+=2){const _=u[p],S=u[p+1];if(typeof _!="string"||!ip.has(_)||!Array.isArray(S)||S.length!==2||typeof S[0]!="number"||typeof S[1]!="number")return}return new uo(u)}}toString(){return JSON.stringify(this.values)}static interpolate(u,p,_){const S=u.values,E=p.values;if(S.length!==E.length)throw new jr(`Cannot interpolate values of different length. from: ${u.toString()}, to: ${p.toString()}`);const M=[];for(let O=0;O<S.length;O+=2){if(S[O]!==E[O])throw new jr(`Cannot interpolate values containing mismatched anchors. from[${O}]: ${S[O]}, to[${O}]: ${E[O]}`);M.push(S[O]);const[B,j]=S[O+1],[G,Z]=E[O+1];M.push([Vn(B,G,_),Vn(j,Z,_)])}return new uo(M)}}class ko{constructor(u){this.name=u.name,this.available=u.available}toString(){return this.name}static fromString(u){return u?new ko({name:u,available:!1}):null}}class Zi{constructor(u,p,_){this.from=u,this.to=p,this.transition=_}static interpolate(u,p,_){return new Zi(u,p,_)}static parse(u){return u instanceof Zi?u:Array.isArray(u)&&u.length===3&&typeof u[0]=="string"&&typeof u[1]=="string"&&typeof u[2]=="number"?new Zi(u[0],u[1],u[2]):typeof u=="object"&&typeof u.from=="string"&&typeof u.to=="string"&&typeof u.transition=="number"?new Zi(u.from,u.to,u.transition):typeof u=="string"?new Zi(u,u,1):void 0}}function $h(m,u,p,_){return typeof m=="number"&&m>=0&&m<=255&&typeof u=="number"&&u>=0&&u<=255&&typeof p=="number"&&p>=0&&p<=255?_===void 0||typeof _=="number"&&_>=0&&_<=1?null:`Invalid rgba value [${[m,u,p,_].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof _=="number"?[m,u,p,_]:[m,u,p]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function yc(m){if(m===null||typeof m=="string"||typeof m=="boolean"||typeof m=="number"||m instanceof Zi||m instanceof Hn||m instanceof np||m instanceof bo||m instanceof qr||m instanceof uo||m instanceof ko)return!0;if(Array.isArray(m)){for(const u of m)if(!yc(u))return!1;return!0}if(typeof m=="object"){for(const u in m)if(!yc(m[u]))return!1;return!0}return!1}function fi(m){if(m===null)return wn;if(typeof m=="string")return Gt;if(typeof m=="boolean")return nn;if(typeof m=="number")return yt;if(m instanceof Hn)return kn;if(m instanceof Zi)return qn;if(m instanceof np)return Ir;if(m instanceof bo)return za;if(m instanceof qr)return di;if(m instanceof uo)return _r;if(m instanceof ko)return oi;if(Array.isArray(m)){const u=m.length;let p;for(const _ of m){const S=fi(_);if(p){if(p===S)continue;p=Jt;break}p=S}return yo(p||Jt,u)}return mn}function Ba(m){const u=typeof m;return m===null?"":u==="string"||u==="number"||u==="boolean"?String(m):m instanceof Hn||m instanceof Zi||m instanceof bo||m instanceof qr||m instanceof uo||m instanceof ko?m.toString():JSON.stringify(m)}class hu{constructor(u,p){this.type=u,this.value=p}static parse(u,p){if(u.length!==2)return p.error(`'literal' expression requires exactly one argument, but found ${u.length-1} instead.`);if(!yc(u[1]))return p.error("invalid value");const _=u[1];let S=fi(_);const E=p.expectedType;return S.kind!=="array"||S.N!==0||!E||E.kind!=="array"||typeof E.N=="number"&&E.N!==0||(S=E),new hu(S,_)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}const du={string:Gt,number:yt,boolean:nn,object:mn};class co{constructor(u,p){this.type=u,this.args=p}static parse(u,p){if(u.length<2)return p.error("Expected at least one argument.");let _,S=1;const E=u[0];if(E==="array"){let O,B;if(u.length>2){const j=u[1];if(typeof j!="string"||!(j in du)||j==="object")return p.error('The item type argument of "array" must be one of string, number, boolean',1);O=du[j],S++}else O=Jt;if(u.length>3){if(u[2]!==null&&(typeof u[2]!="number"||u[2]<0||u[2]!==Math.floor(u[2])))return p.error('The length argument to "array" must be a positive integer literal',2);B=u[2],S++}_=yo(O,B)}else{if(!du[E])throw new Error(`Types doesn't contain name = ${E}`);_=du[E]}const M=[];for(;S<u.length;S++){const O=p.parse(u[S],S,Jt);if(!O)return null;M.push(O)}return new co(_,M)}evaluate(u){for(let p=0;p<this.args.length;p++){const _=this.args[p].evaluate(u);if(!Ws(this.type,fi(_)))return _;if(p===this.args.length-1)throw new jr(`Expected value to be of type ${Mr(this.type)}, but found ${Mr(fi(_))} instead.`)}throw new Error}eachChild(u){this.args.forEach(u)}outputDefined(){return this.args.every(u=>u.outputDefined())}}const nv={"to-boolean":nn,"to-color":kn,"to-number":yt,"to-string":Gt};class Zs{constructor(u,p){this.type=u,this.args=p}static parse(u,p){if(u.length<2)return p.error("Expected at least one argument.");const _=u[0];if(!nv[_])throw new Error(`Can't parse ${_} as it is not part of the known types`);if((_==="to-boolean"||_==="to-string")&&u.length!==2)return p.error("Expected one argument.");const S=nv[_],E=[];for(let M=1;M<u.length;M++){const O=p.parse(u[M],M,Jt);if(!O)return null;E.push(O)}return new Zs(S,E)}evaluate(u){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(u);case"color":{let p,_;for(const S of this.args){if(p=S.evaluate(u),_=null,p instanceof Hn)return p;if(typeof p=="string"){const E=u.parseColor(p);if(E)return E}else if(Array.isArray(p)&&(_=p.length<3||p.length>4?`Invalid rgba value ${JSON.stringify(p)}: expected an array containing either three or four numeric values.`:$h(p[0],p[1],p[2],p[3]),!_))return new Hn(p[0]/255,p[1]/255,p[2]/255,p[3])}throw new jr(_||`Could not parse color from value '${typeof p=="string"?p:JSON.stringify(p)}'`)}case"padding":{let p;for(const _ of this.args){p=_.evaluate(u);const S=qr.parse(p);if(S)return S}throw new jr(`Could not parse padding from value '${typeof p=="string"?p:JSON.stringify(p)}'`)}case"variableAnchorOffsetCollection":{let p;for(const _ of this.args){p=_.evaluate(u);const S=uo.parse(p);if(S)return S}throw new jr(`Could not parse variableAnchorOffsetCollection from value '${typeof p=="string"?p:JSON.stringify(p)}'`)}case"number":{let p=null;for(const _ of this.args){if(p=_.evaluate(u),p===null)return 0;const S=Number(p);if(!isNaN(S))return S}throw new jr(`Could not convert ${JSON.stringify(p)} to number.`)}case"formatted":return bo.fromString(Ba(this.args[0].evaluate(u)));case"resolvedImage":return ko.fromString(Ba(this.args[0].evaluate(u)));case"projectionDefinition":return this.args[0].evaluate(u);default:return Ba(this.args[0].evaluate(u))}}eachChild(u){this.args.forEach(u)}outputDefined(){return this.args.every(u=>u.outputDefined())}}const Mb=["Unknown","Point","LineString","Polygon"];class zh{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Mb[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(u){let p=this._parseColorCache[u];return p||(p=this._parseColorCache[u]=Hn.parse(u)),p}}class br{constructor(u,p,_=[],S,E=new dn,M=[]){this.registry=u,this.path=_,this.key=_.map(O=>`[${O}]`).join(""),this.scope=E,this.errors=M,this.expectedType=S,this._isConstant=p}parse(u,p,_,S,E={}){return p?this.concat(p,_,S)._parse(u,E):this._parse(u,E)}_parse(u,p){function _(S,E,M){return M==="assert"?new co(E,[S]):M==="coerce"?new Zs(E,[S]):S}if(u!==null&&typeof u!="string"&&typeof u!="boolean"&&typeof u!="number"||(u=["literal",u]),Array.isArray(u)){if(u.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const S=u[0];if(typeof S!="string")return this.error(`Expression name must be a string, but found ${typeof S} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const E=this.registry[S];if(E){let M=E.parse(u,this);if(!M)return null;if(this.expectedType){const O=this.expectedType,B=M.type;if(O.kind!=="string"&&O.kind!=="number"&&O.kind!=="boolean"&&O.kind!=="object"&&O.kind!=="array"||B.kind!=="value")if(O.kind!=="projectionDefinition"||B.kind!=="string"&&B.kind!=="array")if(O.kind!=="color"&&O.kind!=="formatted"&&O.kind!=="resolvedImage"||B.kind!=="value"&&B.kind!=="string")if(O.kind!=="padding"||B.kind!=="value"&&B.kind!=="number"&&B.kind!=="array")if(O.kind!=="variableAnchorOffsetCollection"||B.kind!=="value"&&B.kind!=="array"){if(this.checkSubtype(O,B))return null}else M=_(M,O,p.typeAnnotation||"coerce");else M=_(M,O,p.typeAnnotation||"coerce");else M=_(M,O,p.typeAnnotation||"coerce");else M=_(M,O,p.typeAnnotation||"coerce");else M=_(M,O,p.typeAnnotation||"assert")}if(!(M instanceof hu)&&M.type.kind!=="resolvedImage"&&this._isConstant(M)){const O=new zh;try{M=new hu(M.type,M.evaluate(O))}catch(B){return this.error(B.message),null}}return M}return this.error(`Unknown expression "${S}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(u===void 0?"'undefined' value invalid. Use null instead.":typeof u=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof u} instead.`)}concat(u,p,_){const S=typeof u=="number"?this.path.concat(u):this.path,E=_?this.scope.concat(_):this.scope;return new br(this.registry,this._isConstant,S,p||null,E,this.errors)}error(u,...p){const _=`${this.key}${p.map(S=>`[${S}]`).join("")}`;this.errors.push(new Vt(_,u))}checkSubtype(u,p){const _=Ws(u,p);return _&&this.error(_),_}}class _c{constructor(u,p){this.type=p.type,this.bindings=[].concat(u),this.result=p}evaluate(u){return this.result.evaluate(u)}eachChild(u){for(const p of this.bindings)u(p[1]);u(this.result)}static parse(u,p){if(u.length<4)return p.error(`Expected at least 3 arguments, but found ${u.length-1} instead.`);const _=[];for(let E=1;E<u.length-1;E+=2){const M=u[E];if(typeof M!="string")return p.error(`Expected string, but found ${typeof M} instead.`,E);if(/[^a-zA-Z0-9_]/.test(M))return p.error("Variable names must contain only alphanumeric characters or '_'.",E);const O=p.parse(u[E+1],E+1);if(!O)return null;_.push([M,O])}const S=p.parse(u[u.length-1],u.length-1,p.expectedType,_);return S?new _c(_,S):null}outputDefined(){return this.result.outputDefined()}}class Yn{constructor(u,p){this.type=p.type,this.name=u,this.boundExpression=p}static parse(u,p){if(u.length!==2||typeof u[1]!="string")return p.error("'var' expression requires exactly one string literal argument.");const _=u[1];return p.scope.has(_)?new Yn(_,p.scope.get(_)):p.error(`Unknown variable "${_}". Make sure "${_}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(u){return this.boundExpression.evaluate(u)}eachChild(){}outputDefined(){return!1}}class On{constructor(u,p,_){this.type=u,this.index=p,this.input=_}static parse(u,p){if(u.length!==3)return p.error(`Expected 2 arguments, but found ${u.length-1} instead.`);const _=p.parse(u[1],1,yt),S=p.parse(u[2],2,yo(p.expectedType||Jt));return _&&S?new On(S.type.itemType,_,S):null}evaluate(u){const p=this.index.evaluate(u),_=this.input.evaluate(u);if(p<0)throw new jr(`Array index out of bounds: ${p} < 0.`);if(p>=_.length)throw new jr(`Array index out of bounds: ${p} > ${_.length-1}.`);if(p!==Math.floor(p))throw new jr(`Array index must be an integer, but found ${p} instead.`);return _[p]}eachChild(u){u(this.index),u(this.input)}outputDefined(){return!1}}class Bh{constructor(u,p){this.type=nn,this.needle=u,this.haystack=p}static parse(u,p){if(u.length!==3)return p.error(`Expected 2 arguments, but found ${u.length-1} instead.`);const _=p.parse(u[1],1,Jt),S=p.parse(u[2],2,Jt);return _&&S?su(_.type,[nn,Gt,yt,wn,Jt])?new Bh(_,S):p.error(`Expected first argument to be of type boolean, string, number or null, but found ${Mr(_.type)} instead`):null}evaluate(u){const p=this.needle.evaluate(u),_=this.haystack.evaluate(u);if(!_)return!1;if(!_o(p,["boolean","string","number","null"]))throw new jr(`Expected first argument to be of type boolean, string, number or null, but found ${Mr(fi(p))} instead.`);if(!_o(_,["string","array"]))throw new jr(`Expected second argument to be of type array or string, but found ${Mr(fi(_))} instead.`);return _.indexOf(p)>=0}eachChild(u){u(this.needle),u(this.haystack)}outputDefined(){return!0}}class Jn{constructor(u,p,_){this.type=yt,this.needle=u,this.haystack=p,this.fromIndex=_}static parse(u,p){if(u.length<=2||u.length>=5)return p.error(`Expected 3 or 4 arguments, but found ${u.length-1} instead.`);const _=p.parse(u[1],1,Jt),S=p.parse(u[2],2,Jt);if(!_||!S)return null;if(!su(_.type,[nn,Gt,yt,wn,Jt]))return p.error(`Expected first argument to be of type boolean, string, number or null, but found ${Mr(_.type)} instead`);if(u.length===4){const E=p.parse(u[3],3,yt);return E?new Jn(_,S,E):null}return new Jn(_,S)}evaluate(u){const p=this.needle.evaluate(u),_=this.haystack.evaluate(u);if(!_o(p,["boolean","string","number","null"]))throw new jr(`Expected first argument to be of type boolean, string, number or null, but found ${Mr(fi(p))} instead.`);let S;if(this.fromIndex&&(S=this.fromIndex.evaluate(u)),_o(_,["string"])){const E=_.indexOf(p,S);return E===-1?-1:[..._.slice(0,E)].length}if(_o(_,["array"]))return _.indexOf(p,S);throw new jr(`Expected second argument to be of type array or string, but found ${Mr(fi(_))} instead.`)}eachChild(u){u(this.needle),u(this.haystack),this.fromIndex&&u(this.fromIndex)}outputDefined(){return!1}}class Fh{constructor(u,p,_,S,E,M){this.inputType=u,this.type=p,this.input=_,this.cases=S,this.outputs=E,this.otherwise=M}static parse(u,p){if(u.length<5)return p.error(`Expected at least 4 arguments, but found only ${u.length-1}.`);if(u.length%2!=1)return p.error("Expected an even number of arguments.");let _,S;p.expectedType&&p.expectedType.kind!=="value"&&(S=p.expectedType);const E={},M=[];for(let j=2;j<u.length-1;j+=2){let G=u[j];const Z=u[j+1];Array.isArray(G)||(G=[G]);const Q=p.concat(j);if(G.length===0)return Q.error("Expected at least one branch label.");for(const oe of G){if(typeof oe!="number"&&typeof oe!="string")return Q.error("Branch labels must be numbers or strings.");if(typeof oe=="number"&&Math.abs(oe)>Number.MAX_SAFE_INTEGER)return Q.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof oe=="number"&&Math.floor(oe)!==oe)return Q.error("Numeric branch labels must be integer values.");if(_){if(Q.checkSubtype(_,fi(oe)))return null}else _=fi(oe);if(E[String(oe)]!==void 0)return Q.error("Branch labels must be unique.");E[String(oe)]=M.length}const ie=p.parse(Z,j,S);if(!ie)return null;S=S||ie.type,M.push(ie)}const O=p.parse(u[1],1,Jt);if(!O)return null;const B=p.parse(u[u.length-1],u.length-1,S);return B?O.type.kind!=="value"&&p.concat(1).checkSubtype(_,O.type)?null:new Fh(_,S,O,E,M,B):null}evaluate(u){const p=this.input.evaluate(u);return(fi(p)===this.inputType&&this.outputs[this.cases[p]]||this.otherwise).evaluate(u)}eachChild(u){u(this.input),this.outputs.forEach(u),u(this.otherwise)}outputDefined(){return this.outputs.every(u=>u.outputDefined())&&this.otherwise.outputDefined()}}class Fa{constructor(u,p,_){this.type=u,this.branches=p,this.otherwise=_}static parse(u,p){if(u.length<4)return p.error(`Expected at least 3 arguments, but found only ${u.length-1}.`);if(u.length%2!=0)return p.error("Expected an odd number of arguments.");let _;p.expectedType&&p.expectedType.kind!=="value"&&(_=p.expectedType);const S=[];for(let M=1;M<u.length-1;M+=2){const O=p.parse(u[M],M,nn);if(!O)return null;const B=p.parse(u[M+1],M+1,_);if(!B)return null;S.push([O,B]),_=_||B.type}const E=p.parse(u[u.length-1],u.length-1,_);if(!E)return null;if(!_)throw new Error("Can't infer output type");return new Fa(_,S,E)}evaluate(u){for(const[p,_]of this.branches)if(p.evaluate(u))return _.evaluate(u);return this.otherwise.evaluate(u)}eachChild(u){for(const[p,_]of this.branches)u(p),u(_);u(this.otherwise)}outputDefined(){return this.branches.every(([u,p])=>p.outputDefined())&&this.otherwise.outputDefined()}}class bc{constructor(u,p,_,S){this.type=u,this.input=p,this.beginIndex=_,this.endIndex=S}static parse(u,p){if(u.length<=2||u.length>=5)return p.error(`Expected 3 or 4 arguments, but found ${u.length-1} instead.`);const _=p.parse(u[1],1,Jt),S=p.parse(u[2],2,yt);if(!_||!S)return null;if(!su(_.type,[yo(Jt),Gt,Jt]))return p.error(`Expected first argument to be of type array or string, but found ${Mr(_.type)} instead`);if(u.length===4){const E=p.parse(u[3],3,yt);return E?new bc(_.type,_,S,E):null}return new bc(_.type,_,S)}evaluate(u){const p=this.input.evaluate(u),_=this.beginIndex.evaluate(u);let S;if(this.endIndex&&(S=this.endIndex.evaluate(u)),_o(p,["string"]))return[...p].slice(_,S).join("");if(_o(p,["array"]))return p.slice(_,S);throw new jr(`Expected first argument to be of type array or string, but found ${Mr(fi(p))} instead.`)}eachChild(u){u(this.input),u(this.beginIndex),this.endIndex&&u(this.endIndex)}outputDefined(){return!1}}function Nh(m,u){const p=m.length-1;let _,S,E=0,M=p,O=0;for(;E<=M;)if(O=Math.floor((E+M)/2),_=m[O],S=m[O+1],_<=u){if(O===p||u<S)return O;E=O+1}else{if(!(_>u))throw new jr("Input is not a number.");M=O-1}return 0}class xc{constructor(u,p,_){this.type=u,this.input=p,this.labels=[],this.outputs=[];for(const[S,E]of _)this.labels.push(S),this.outputs.push(E)}static parse(u,p){if(u.length-1<4)return p.error(`Expected at least 4 arguments, but found only ${u.length-1}.`);if((u.length-1)%2!=0)return p.error("Expected an even number of arguments.");const _=p.parse(u[1],1,yt);if(!_)return null;const S=[];let E=null;p.expectedType&&p.expectedType.kind!=="value"&&(E=p.expectedType);for(let M=1;M<u.length;M+=2){const O=M===1?-1/0:u[M],B=u[M+1],j=M,G=M+1;if(typeof O!="number")return p.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',j);if(S.length&&S[S.length-1][0]>=O)return p.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',j);const Z=p.parse(B,G,E);if(!Z)return null;E=E||Z.type,S.push([O,Z])}return new xc(E,_,S)}evaluate(u){const p=this.labels,_=this.outputs;if(p.length===1)return _[0].evaluate(u);const S=this.input.evaluate(u);if(S<=p[0])return _[0].evaluate(u);const E=p.length;return S>=p[E-1]?_[E-1].evaluate(u):_[Nh(p,S)].evaluate(u)}eachChild(u){u(this.input);for(const p of this.outputs)u(p)}outputDefined(){return this.outputs.every(u=>u.outputDefined())}}function rv(m){return m&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m}var op,Ab,Db=function(){if(Ab)return op;function m(u,p,_,S){this.cx=3*u,this.bx=3*(_-u)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*p,this.by=3*(S-p)-this.cy,this.ay=1-this.cy-this.by,this.p1x=u,this.p1y=p,this.p2x=_,this.p2y=S}return Ab=1,op=m,m.prototype={sampleCurveX:function(u){return((this.ax*u+this.bx)*u+this.cx)*u},sampleCurveY:function(u){return((this.ay*u+this.by)*u+this.cy)*u},sampleCurveDerivativeX:function(u){return(3*this.ax*u+2*this.bx)*u+this.cx},solveCurveX:function(u,p){if(p===void 0&&(p=1e-6),u<0)return 0;if(u>1)return 1;for(var _=u,S=0;S<8;S++){var E=this.sampleCurveX(_)-u;if(Math.abs(E)<p)return _;var M=this.sampleCurveDerivativeX(_);if(Math.abs(M)<1e-6)break;_-=E/M}var O=0,B=1;for(_=u,S=0;S<20&&(E=this.sampleCurveX(_),!(Math.abs(E-u)<p));S++)u>E?O=_:B=_,_=.5*(B-O)+O;return _},solve:function(u,p){return this.sampleCurveY(this.solveCurveX(u,p))}},op}(),kb=rv(Db);class qi{constructor(u,p,_,S,E){this.type=u,this.operator=p,this.interpolation=_,this.input=S,this.labels=[],this.outputs=[];for(const[M,O]of E)this.labels.push(M),this.outputs.push(O)}static interpolationFactor(u,p,_,S){let E=0;if(u.name==="exponential")E=Bi(p,u.base,_,S);else if(u.name==="linear")E=Bi(p,1,_,S);else if(u.name==="cubic-bezier"){const M=u.controlPoints;E=new kb(M[0],M[1],M[2],M[3]).solve(Bi(p,1,_,S))}return E}static parse(u,p){let[_,S,E,...M]=u;if(!Array.isArray(S)||S.length===0)return p.error("Expected an interpolation type expression.",1);if(S[0]==="linear")S={name:"linear"};else if(S[0]==="exponential"){const j=S[1];if(typeof j!="number")return p.error("Exponential interpolation requires a numeric base.",1,1);S={name:"exponential",base:j}}else{if(S[0]!=="cubic-bezier")return p.error(`Unknown interpolation type ${String(S[0])}`,1,0);{const j=S.slice(1);if(j.length!==4||j.some(G=>typeof G!="number"||G<0||G>1))return p.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);S={name:"cubic-bezier",controlPoints:j}}}if(u.length-1<4)return p.error(`Expected at least 4 arguments, but found only ${u.length-1}.`);if((u.length-1)%2!=0)return p.error("Expected an even number of arguments.");if(E=p.parse(E,2,yt),!E)return null;const O=[];let B=null;_==="interpolate-hcl"||_==="interpolate-lab"?B=kn:p.expectedType&&p.expectedType.kind!=="value"&&(B=p.expectedType);for(let j=0;j<M.length;j+=2){const G=M[j],Z=M[j+1],Q=j+3,ie=j+4;if(typeof G!="number")return p.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Q);if(O.length&&O[O.length-1][0]>=G)return p.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Q);const oe=p.parse(Z,ie,B);if(!oe)return null;B=B||oe.type,O.push([G,oe])}return cs(B,yt)||cs(B,qn)||cs(B,kn)||cs(B,di)||cs(B,_r)||cs(B,yo(yt))?new qi(B,_,S,E,O):p.error(`Type ${Mr(B)} is not interpolatable.`)}evaluate(u){const p=this.labels,_=this.outputs;if(p.length===1)return _[0].evaluate(u);const S=this.input.evaluate(u);if(S<=p[0])return _[0].evaluate(u);const E=p.length;if(S>=p[E-1])return _[E-1].evaluate(u);const M=Nh(p,S),O=qi.interpolationFactor(this.interpolation,S,p[M],p[M+1]),B=_[M].evaluate(u),j=_[M+1].evaluate(u);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return Vn(B,j,O);case"color":return Hn.interpolate(B,j,O);case"padding":return qr.interpolate(B,j,O);case"variableAnchorOffsetCollection":return uo.interpolate(B,j,O);case"array":return ds(B,j,O);case"projectionDefinition":return Zi.interpolate(B,j,O)}case"interpolate-hcl":return Hn.interpolate(B,j,O,"hcl");case"interpolate-lab":return Hn.interpolate(B,j,O,"lab")}}eachChild(u){u(this.input);for(const p of this.outputs)u(p)}outputDefined(){return this.outputs.every(u=>u.outputDefined())}}function Bi(m,u,p,_){const S=_-p,E=m-p;return S===0?0:u===1?E/S:(Math.pow(u,E)-1)/(Math.pow(u,S)-1)}const na={color:Hn.interpolate,number:Vn,padding:qr.interpolate,variableAnchorOffsetCollection:uo.interpolate,array:ds};class Vh{constructor(u,p){this.type=u,this.args=p}static parse(u,p){if(u.length<2)return p.error("Expected at least one argument.");let _=null;const S=p.expectedType;S&&S.kind!=="value"&&(_=S);const E=[];for(const O of u.slice(1)){const B=p.parse(O,1+E.length,_,void 0,{typeAnnotation:"omit"});if(!B)return null;_=_||B.type,E.push(B)}if(!_)throw new Error("No output type");const M=S&&E.some(O=>Ws(S,O.type));return new Vh(M?Jt:_,E)}evaluate(u){let p,_=null,S=0;for(const E of this.args)if(S++,_=E.evaluate(u),_&&_ instanceof ko&&!_.available&&(p||(p=_.name),_=null,S===this.args.length&&(_=p)),_!==null)break;return _}eachChild(u){this.args.forEach(u)}outputDefined(){return this.args.every(u=>u.outputDefined())}}function jh(m,u){return m==="=="||m==="!="?u.kind==="boolean"||u.kind==="string"||u.kind==="number"||u.kind==="null"||u.kind==="value":u.kind==="string"||u.kind==="number"||u.kind==="value"}function Ei(m,u,p,_){return _.compare(u,p)===0}function fu(m,u,p){const _=m!=="=="&&m!=="!=";return class UW{constructor(E,M,O){this.type=nn,this.lhs=E,this.rhs=M,this.collator=O,this.hasUntypedArgument=E.type.kind==="value"||M.type.kind==="value"}static parse(E,M){if(E.length!==3&&E.length!==4)return M.error("Expected two or three arguments.");const O=E[0];let B=M.parse(E[1],1,Jt);if(!B)return null;if(!jh(O,B.type))return M.concat(1).error(`"${O}" comparisons are not supported for type '${Mr(B.type)}'.`);let j=M.parse(E[2],2,Jt);if(!j)return null;if(!jh(O,j.type))return M.concat(2).error(`"${O}" comparisons are not supported for type '${Mr(j.type)}'.`);if(B.type.kind!==j.type.kind&&B.type.kind!=="value"&&j.type.kind!=="value")return M.error(`Cannot compare types '${Mr(B.type)}' and '${Mr(j.type)}'.`);_&&(B.type.kind==="value"&&j.type.kind!=="value"?B=new co(j.type,[B]):B.type.kind!=="value"&&j.type.kind==="value"&&(j=new co(B.type,[j])));let G=null;if(E.length===4){if(B.type.kind!=="string"&&j.type.kind!=="string"&&B.type.kind!=="value"&&j.type.kind!=="value")return M.error("Cannot use collator to compare non-string types.");if(G=M.parse(E[3],3,Ir),!G)return null}return new UW(B,j,G)}evaluate(E){const M=this.lhs.evaluate(E),O=this.rhs.evaluate(E);if(_&&this.hasUntypedArgument){const B=fi(M),j=fi(O);if(B.kind!==j.kind||B.kind!=="string"&&B.kind!=="number")throw new jr(`Expected arguments for "${m}" to be (string, string) or (number, number), but found (${B.kind}, ${j.kind}) instead.`)}if(this.collator&&!_&&this.hasUntypedArgument){const B=fi(M),j=fi(O);if(B.kind!=="string"||j.kind!=="string")return u(E,M,O)}return this.collator?p(E,M,O,this.collator.evaluate(E)):u(E,M,O)}eachChild(E){E(this.lhs),E(this.rhs),this.collator&&E(this.collator)}outputDefined(){return!0}}}const iv=fu("==",function(m,u,p){return u===p},Ei),Ob=fu("!=",function(m,u,p){return u!==p},function(m,u,p,_){return!Ei(0,u,p,_)}),OC=fu("<",function(m,u,p){return u<p},function(m,u,p,_){return _.compare(u,p)<0}),ap=fu(">",function(m,u,p){return u>p},function(m,u,p,_){return _.compare(u,p)>0}),ov=fu("<=",function(m,u,p){return u<=p},function(m,u,p,_){return _.compare(u,p)<=0}),RC=fu(">=",function(m,u,p){return u>=p},function(m,u,p,_){return _.compare(u,p)>=0});class pu{constructor(u,p,_){this.type=Ir,this.locale=_,this.caseSensitive=u,this.diacriticSensitive=p}static parse(u,p){if(u.length!==2)return p.error("Expected one argument.");const _=u[1];if(typeof _!="object"||Array.isArray(_))return p.error("Collator options argument must be an object.");const S=p.parse(_["case-sensitive"]!==void 0&&_["case-sensitive"],1,nn);if(!S)return null;const E=p.parse(_["diacritic-sensitive"]!==void 0&&_["diacritic-sensitive"],1,nn);if(!E)return null;let M=null;return _.locale&&(M=p.parse(_.locale,1,Gt),!M)?null:new pu(S,E,M)}evaluate(u){return new np(this.caseSensitive.evaluate(u),this.diacriticSensitive.evaluate(u),this.locale?this.locale.evaluate(u):null)}eachChild(u){u(this.caseSensitive),u(this.diacriticSensitive),this.locale&&u(this.locale)}outputDefined(){return!1}}class wc{constructor(u,p,_,S,E){this.type=Gt,this.number=u,this.locale=p,this.currency=_,this.minFractionDigits=S,this.maxFractionDigits=E}static parse(u,p){if(u.length!==3)return p.error("Expected two arguments.");const _=p.parse(u[1],1,yt);if(!_)return null;const S=u[2];if(typeof S!="object"||Array.isArray(S))return p.error("NumberFormat options argument must be an object.");let E=null;if(S.locale&&(E=p.parse(S.locale,1,Gt),!E))return null;let M=null;if(S.currency&&(M=p.parse(S.currency,1,Gt),!M))return null;let O=null;if(S["min-fraction-digits"]&&(O=p.parse(S["min-fraction-digits"],1,yt),!O))return null;let B=null;return S["max-fraction-digits"]&&(B=p.parse(S["max-fraction-digits"],1,yt),!B)?null:new wc(_,E,M,O,B)}evaluate(u){return new Intl.NumberFormat(this.locale?this.locale.evaluate(u):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(u):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(u):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(u):void 0}).format(this.number.evaluate(u))}eachChild(u){u(this.number),this.locale&&u(this.locale),this.currency&&u(this.currency),this.minFractionDigits&&u(this.minFractionDigits),this.maxFractionDigits&&u(this.maxFractionDigits)}outputDefined(){return!1}}class Oo{constructor(u){this.type=za,this.sections=u}static parse(u,p){if(u.length<2)return p.error("Expected at least one argument.");const _=u[1];if(!Array.isArray(_)&&typeof _=="object")return p.error("First argument must be an image or text section.");const S=[];let E=!1;for(let M=1;M<=u.length-1;++M){const O=u[M];if(E&&typeof O=="object"&&!Array.isArray(O)){E=!1;let B=null;if(O["font-scale"]&&(B=p.parse(O["font-scale"],1,yt),!B))return null;let j=null;if(O["text-font"]&&(j=p.parse(O["text-font"],1,yo(Gt)),!j))return null;let G=null;if(O["text-color"]&&(G=p.parse(O["text-color"],1,kn),!G))return null;const Z=S[S.length-1];Z.scale=B,Z.font=j,Z.textColor=G}else{const B=p.parse(u[M],1,Jt);if(!B)return null;const j=B.type.kind;if(j!=="string"&&j!=="value"&&j!=="null"&&j!=="resolvedImage")return p.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");E=!0,S.push({content:B,scale:null,font:null,textColor:null})}}return new Oo(S)}evaluate(u){return new bo(this.sections.map(p=>{const _=p.content.evaluate(u);return fi(_)===oi?new rp("",_,null,null,null):new rp(Ba(_),null,p.scale?p.scale.evaluate(u):null,p.font?p.font.evaluate(u).join(","):null,p.textColor?p.textColor.evaluate(u):null)}))}eachChild(u){for(const p of this.sections)u(p.content),p.scale&&u(p.scale),p.font&&u(p.font),p.textColor&&u(p.textColor)}outputDefined(){return!1}}class sp{constructor(u){this.type=oi,this.input=u}static parse(u,p){if(u.length!==2)return p.error("Expected two arguments.");const _=p.parse(u[1],1,Gt);return _?new sp(_):p.error("No image name provided.")}evaluate(u){const p=this.input.evaluate(u),_=ko.fromString(p);return _&&u.availableImages&&(_.available=u.availableImages.indexOf(p)>-1),_}eachChild(u){u(this.input)}outputDefined(){return!1}}class Sc{constructor(u){this.type=yt,this.input=u}static parse(u,p){if(u.length!==2)return p.error(`Expected 1 argument, but found ${u.length-1} instead.`);const _=p.parse(u[1],1);return _?_.type.kind!=="array"&&_.type.kind!=="string"&&_.type.kind!=="value"?p.error(`Expected argument of type string or array, but found ${Mr(_.type)} instead.`):new Sc(_):null}evaluate(u){const p=this.input.evaluate(u);if(typeof p=="string")return[...p].length;if(Array.isArray(p))return p.length;throw new jr(`Expected value to be of type string or array, but found ${Mr(fi(p))} instead.`)}eachChild(u){u(this.input)}outputDefined(){return!1}}const fs=8192;function av(m,u){const p=(180+m[0])/360,_=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+m[1]*Math.PI/360)))/360,S=Math.pow(2,u.z);return[Math.round(p*S*fs),Math.round(_*S*fs)]}function sv(m,u){const p=Math.pow(2,u.z);return[(S=(m[0]/fs+u.x)/p,360*S-180),(_=(m[1]/fs+u.y)/p,360/Math.PI*Math.atan(Math.exp((180-360*_)*Math.PI/180))-90)];var _,S}function Hh(m,u){m[0]=Math.min(m[0],u[0]),m[1]=Math.min(m[1],u[1]),m[2]=Math.max(m[2],u[0]),m[3]=Math.max(m[3],u[1])}function Uh(m,u){return!(m[0]<=u[0]||m[2]>=u[2]||m[1]<=u[1]||m[3]>=u[3])}function LC(m,u,p){const _=m[0]-u[0],S=m[1]-u[1],E=m[0]-p[0],M=m[1]-p[1];return _*M-E*S==0&&_*E<=0&&S*M<=0}function mu(m,u,p,_){return(S=[_[0]-p[0],_[1]-p[1]])[0]*(E=[u[0]-m[0],u[1]-m[1]])[1]-S[1]*E[0]!=0&&!(!zb(m,u,p,_)||!zb(p,_,m,u));var S,E}function $C(m,u,p){for(const _ of p)for(let S=0;S<_.length-1;++S)if(mu(m,u,_[S],_[S+1]))return!0;return!1}function gu(m,u,p=!1){let _=!1;for(const O of u)for(let B=0;B<O.length-1;B++){if(LC(m,O[B],O[B+1]))return p;(E=O[B])[1]>(S=m)[1]!=(M=O[B+1])[1]>S[1]&&S[0]<(M[0]-E[0])*(S[1]-E[1])/(M[1]-E[1])+E[0]&&(_=!_)}var S,E,M;return _}function Rb(m,u){for(const p of u)if(gu(m,p))return!0;return!1}function Lb(m,u){for(const p of m)if(!gu(p,u))return!1;for(let p=0;p<m.length-1;++p)if($C(m[p],m[p+1],u))return!1;return!0}function $b(m,u){for(const p of u)if(Lb(m,p))return!0;return!1}function zb(m,u,p,_){const S=_[0]-p[0],E=_[1]-p[1],M=(m[0]-p[0])*E-S*(m[1]-p[1]),O=(u[0]-p[0])*E-S*(u[1]-p[1]);return M>0&&O<0||M<0&&O>0}function lv(m,u,p){const _=[];for(let S=0;S<m.length;S++){const E=[];for(let M=0;M<m[S].length;M++){const O=av(m[S][M],p);Hh(u,O),E.push(O)}_.push(E)}return _}function Bb(m,u,p){const _=[];for(let S=0;S<m.length;S++){const E=lv(m[S],u,p);_.push(E)}return _}function Fb(m,u,p,_){if(m[0]<p[0]||m[0]>p[2]){const S=.5*_;let E=m[0]-p[0]>S?-_:p[0]-m[0]>S?_:0;E===0&&(E=m[0]-p[2]>S?-_:p[2]-m[0]>S?_:0),m[0]+=E}Hh(u,m)}function Nb(m,u,p,_){const S=Math.pow(2,_.z)*fs,E=[_.x*fs,_.y*fs],M=[];for(const O of m)for(const B of O){const j=[B.x+E[0],B.y+E[1]];Fb(j,u,p,S),M.push(j)}return M}function uv(m,u,p,_){const S=Math.pow(2,_.z)*fs,E=[_.x*fs,_.y*fs],M=[];for(const B of m){const j=[];for(const G of B){const Z=[G.x+E[0],G.y+E[1]];Hh(u,Z),j.push(Z)}M.push(j)}if(u[2]-u[0]<=S/2){(O=u)[0]=O[1]=1/0,O[2]=O[3]=-1/0;for(const B of M)for(const j of B)Fb(j,u,p,S)}var O;return M}class _l{constructor(u,p){this.type=nn,this.geojson=u,this.geometries=p}static parse(u,p){if(u.length!==2)return p.error(`'within' expression requires exactly one argument, but found ${u.length-1} instead.`);if(yc(u[1])){const _=u[1];if(_.type==="FeatureCollection"){const S=[];for(const E of _.features){const{type:M,coordinates:O}=E.geometry;M==="Polygon"&&S.push(O),M==="MultiPolygon"&&S.push(...O)}if(S.length)return new _l(_,{type:"MultiPolygon",coordinates:S})}else if(_.type==="Feature"){const S=_.geometry.type;if(S==="Polygon"||S==="MultiPolygon")return new _l(_,_.geometry)}else if(_.type==="Polygon"||_.type==="MultiPolygon")return new _l(_,_)}return p.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(u){if(u.geometry()!=null&&u.canonicalID()!=null){if(u.geometryType()==="Point")return function(p,_){const S=[1/0,1/0,-1/0,-1/0],E=[1/0,1/0,-1/0,-1/0],M=p.canonicalID();if(_.type==="Polygon"){const O=lv(_.coordinates,E,M),B=Nb(p.geometry(),S,E,M);if(!Uh(S,E))return!1;for(const j of B)if(!gu(j,O))return!1}if(_.type==="MultiPolygon"){const O=Bb(_.coordinates,E,M),B=Nb(p.geometry(),S,E,M);if(!Uh(S,E))return!1;for(const j of B)if(!Rb(j,O))return!1}return!0}(u,this.geometries);if(u.geometryType()==="LineString")return function(p,_){const S=[1/0,1/0,-1/0,-1/0],E=[1/0,1/0,-1/0,-1/0],M=p.canonicalID();if(_.type==="Polygon"){const O=lv(_.coordinates,E,M),B=uv(p.geometry(),S,E,M);if(!Uh(S,E))return!1;for(const j of B)if(!Lb(j,O))return!1}if(_.type==="MultiPolygon"){const O=Bb(_.coordinates,E,M),B=uv(p.geometry(),S,E,M);if(!Uh(S,E))return!1;for(const j of B)if(!$b(j,O))return!1}return!0}(u,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let cv=class{constructor(m=[],u=(p,_)=>p<_?-1:p>_?1:0){if(this.data=m,this.length=this.data.length,this.compare=u,this.length>0)for(let p=(this.length>>1)-1;p>=0;p--)this._down(p)}push(m){this.data.push(m),this._up(this.length++)}pop(){if(this.length===0)return;const m=this.data[0],u=this.data.pop();return--this.length>0&&(this.data[0]=u,this._down(0)),m}peek(){return this.data[0]}_up(m){const{data:u,compare:p}=this,_=u[m];for(;m>0;){const S=m-1>>1,E=u[S];if(p(_,E)>=0)break;u[m]=E,m=S}u[m]=_}_down(m){const{data:u,compare:p}=this,_=this.length>>1,S=u[m];for(;m<_;){let E=1+(m<<1);const M=E+1;if(M<this.length&&p(u[M],u[E])<0&&(E=M),p(u[E],S)>=0)break;u[m]=u[E],m=E}u[m]=S}};function Vb(m,u,p=0,_=m.length-1,S=zC){for(;_>p;){if(_-p>600){const B=_-p+1,j=u-p+1,G=Math.log(B),Z=.5*Math.exp(2*G/3),Q=.5*Math.sqrt(G*Z*(B-Z)/B)*(j-B/2<0?-1:1);Vb(m,u,Math.max(p,Math.floor(u-j*Z/B+Q)),Math.min(_,Math.floor(u+(B-j)*Z/B+Q)),S)}const E=m[u];let M=p,O=_;for(Gh(m,p,u),S(m[_],E)>0&&Gh(m,p,_);M<O;){for(Gh(m,M,O),M++,O--;S(m[M],E)<0;)M++;for(;S(m[O],E)>0;)O--}S(m[p],E)===0?Gh(m,p,O):(O++,Gh(m,O,_)),O<=u&&(p=O+1),u<=O&&(_=O-1)}}function Gh(m,u,p){const _=m[u];m[u]=m[p],m[p]=_}function zC(m,u){return m<u?-1:m>u?1:0}function Cc(m,u){if(m.length<=1)return[m];const p=[];let _,S;for(const E of m){const M=FC(E);M!==0&&(E.area=Math.abs(M),S===void 0&&(S=M<0),S===M<0?(_&&p.push(_),_=[E]):_.push(E))}if(_&&p.push(_),u>1)for(let E=0;E<p.length;E++)p[E].length<=u||(Vb(p[E],u,1,p[E].length-1,BC),p[E]=p[E].slice(0,u));return p}function BC(m,u){return u.area-m.area}function FC(m){let u=0;for(let p,_,S=0,E=m.length,M=E-1;S<E;M=S++)p=m[S],_=m[M],u+=(_.x-p.x)*(p.y+_.y);return u}const jb=1/298.257223563,hv=jb*(2-jb),dv=Math.PI/180;class fv{constructor(u){const p=6378.137*dv*1e3,_=Math.cos(u*dv),S=1/(1-hv*(1-_*_)),E=Math.sqrt(S);this.kx=p*E*_,this.ky=p*E*S*(1-hv)}distance(u,p){const _=this.wrap(u[0]-p[0])*this.kx,S=(u[1]-p[1])*this.ky;return Math.sqrt(_*_+S*S)}pointOnLine(u,p){let _,S,E,M,O=1/0;for(let B=0;B<u.length-1;B++){let j=u[B][0],G=u[B][1],Z=this.wrap(u[B+1][0]-j)*this.kx,Q=(u[B+1][1]-G)*this.ky,ie=0;Z===0&&Q===0||(ie=(this.wrap(p[0]-j)*this.kx*Z+(p[1]-G)*this.ky*Q)/(Z*Z+Q*Q),ie>1?(j=u[B+1][0],G=u[B+1][1]):ie>0&&(j+=Z/this.kx*ie,G+=Q/this.ky*ie)),Z=this.wrap(p[0]-j)*this.kx,Q=(p[1]-G)*this.ky;const oe=Z*Z+Q*Q;oe<O&&(O=oe,_=j,S=G,E=B,M=ie)}return{point:[_,S],index:E,t:Math.max(0,Math.min(1,M))}}wrap(u){for(;u<-180;)u+=360;for(;u>180;)u-=360;return u}}function Hb(m,u){return u[0]-m[0]}function Wh(m){return m[1]-m[0]+1}function ps(m,u){return m[1]>=m[0]&&m[1]<u}function pv(m,u){if(m[0]>m[1])return[null,null];const p=Wh(m);if(u){if(p===2)return[m,null];const S=Math.floor(p/2);return[[m[0],m[0]+S],[m[0]+S,m[1]]]}if(p===1)return[m,null];const _=Math.floor(p/2)-1;return[[m[0],m[0]+_],[m[0]+_+1,m[1]]]}function mv(m,u){if(!ps(u,m.length))return[1/0,1/0,-1/0,-1/0];const p=[1/0,1/0,-1/0,-1/0];for(let _=u[0];_<=u[1];++_)Hh(p,m[_]);return p}function gv(m){const u=[1/0,1/0,-1/0,-1/0];for(const p of m)for(const _ of p)Hh(u,_);return u}function vv(m){return m[0]!==-1/0&&m[1]!==-1/0&&m[2]!==1/0&&m[3]!==1/0}function yv(m,u,p){if(!vv(m)||!vv(u))return NaN;let _=0,S=0;return m[2]<u[0]&&(_=u[0]-m[2]),m[0]>u[2]&&(_=m[0]-u[2]),m[1]>u[3]&&(S=m[1]-u[3]),m[3]<u[1]&&(S=u[1]-m[3]),p.distance([0,0],[_,S])}function vu(m,u,p){const _=p.pointOnLine(u,m);return p.distance(m,_.point)}function _v(m,u,p,_,S){const E=Math.min(vu(m,[p,_],S),vu(u,[p,_],S)),M=Math.min(vu(p,[m,u],S),vu(_,[m,u],S));return Math.min(E,M)}function NC(m,u,p,_,S){if(!ps(u,m.length)||!ps(_,p.length))return 1/0;let E=1/0;for(let M=u[0];M<u[1];++M){const O=m[M],B=m[M+1];for(let j=_[0];j<_[1];++j){const G=p[j],Z=p[j+1];if(mu(O,B,G,Z))return 0;E=Math.min(E,_v(O,B,G,Z,S))}}return E}function ar(m,u,p,_,S){if(!ps(u,m.length)||!ps(_,p.length))return NaN;let E=1/0;for(let M=u[0];M<=u[1];++M)for(let O=_[0];O<=_[1];++O)if(E=Math.min(E,S.distance(m[M],p[O])),E===0)return E;return E}function VC(m,u,p){if(gu(m,u,!0))return 0;let _=1/0;for(const S of u){const E=S[0],M=S[S.length-1];if(E!==M&&(_=Math.min(_,vu(m,[M,E],p)),_===0))return _;const O=p.pointOnLine(S,m);if(_=Math.min(_,p.distance(m,O.point)),_===0)return _}return _}function jC(m,u,p,_){if(!ps(u,m.length))return NaN;for(let E=u[0];E<=u[1];++E)if(gu(m[E],p,!0))return 0;let S=1/0;for(let E=u[0];E<u[1];++E){const M=m[E],O=m[E+1];for(const B of p)for(let j=0,G=B.length,Z=G-1;j<G;Z=j++){const Q=B[Z],ie=B[j];if(mu(M,O,Q,ie))return 0;S=Math.min(S,_v(M,O,Q,ie,_))}}return S}function Ub(m,u){for(const p of m)for(const _ of p)if(gu(_,u,!0))return!0;return!1}function HC(m,u,p,_=1/0){const S=gv(m),E=gv(u);if(_!==1/0&&yv(S,E,p)>=_)return _;if(Uh(S,E)){if(Ub(m,u))return 0}else if(Ub(u,m))return 0;let M=1/0;for(const O of m)for(let B=0,j=O.length,G=j-1;B<j;G=B++){const Z=O[G],Q=O[B];for(const ie of u)for(let oe=0,he=ie.length,be=he-1;oe<he;be=oe++){const Ee=ie[be],Ue=ie[oe];if(mu(Z,Q,Ee,Ue))return 0;M=Math.min(M,_v(Z,Q,Ee,Ue,p))}}return M}function Gb(m,u,p,_,S,E){if(!E)return;const M=yv(mv(_,E),S,p);M<u&&m.push([M,E,[0,0]])}function lp(m,u,p,_,S,E,M){if(!E||!M)return;const O=yv(mv(_,E),mv(S,M),p);O<u&&m.push([O,E,M])}function up(m,u,p,_,S=1/0){let E=Math.min(_.distance(m[0],p[0][0]),S);if(E===0)return E;const M=new cv([[0,[0,m.length-1],[0,0]]],Hb),O=gv(p);for(;M.length>0;){const B=M.pop();if(B[0]>=E)continue;const j=B[1],G=u?50:100;if(Wh(j)<=G){if(!ps(j,m.length))return NaN;if(u){const Z=jC(m,j,p,_);if(isNaN(Z)||Z===0)return Z;E=Math.min(E,Z)}else for(let Z=j[0];Z<=j[1];++Z){const Q=VC(m[Z],p,_);if(E=Math.min(E,Q),E===0)return 0}}else{const Z=pv(j,u);Gb(M,E,_,m,O,Z[0]),Gb(M,E,_,m,O,Z[1])}}return E}function cp(m,u,p,_,S,E=1/0){let M=Math.min(E,S.distance(m[0],p[0]));if(M===0)return M;const O=new cv([[0,[0,m.length-1],[0,p.length-1]]],Hb);for(;O.length>0;){const B=O.pop();if(B[0]>=M)continue;const j=B[1],G=B[2],Z=u?50:100,Q=_?50:100;if(Wh(j)<=Z&&Wh(G)<=Q){if(!ps(j,m.length)&&ps(G,p.length))return NaN;let ie;if(u&&_)ie=NC(m,j,p,G,S),M=Math.min(M,ie);else if(u&&!_){const oe=m.slice(j[0],j[1]+1);for(let he=G[0];he<=G[1];++he)if(ie=vu(p[he],oe,S),M=Math.min(M,ie),M===0)return M}else if(!u&&_){const oe=p.slice(G[0],G[1]+1);for(let he=j[0];he<=j[1];++he)if(ie=vu(m[he],oe,S),M=Math.min(M,ie),M===0)return M}else ie=ar(m,j,p,G,S),M=Math.min(M,ie)}else{const ie=pv(j,u),oe=pv(G,_);lp(O,M,S,m,p,ie[0],oe[0]),lp(O,M,S,m,p,ie[0],oe[1]),lp(O,M,S,m,p,ie[1],oe[0]),lp(O,M,S,m,p,ie[1],oe[1])}}return M}function bv(m){return m.type==="MultiPolygon"?m.coordinates.map(u=>({type:"Polygon",coordinates:u})):m.type==="MultiLineString"?m.coordinates.map(u=>({type:"LineString",coordinates:u})):m.type==="MultiPoint"?m.coordinates.map(u=>({type:"Point",coordinates:u})):[m]}class yu{constructor(u,p){this.type=yt,this.geojson=u,this.geometries=p}static parse(u,p){if(u.length!==2)return p.error(`'distance' expression requires exactly one argument, but found ${u.length-1} instead.`);if(yc(u[1])){const _=u[1];if(_.type==="FeatureCollection")return new yu(_,_.features.map(S=>bv(S.geometry)).flat());if(_.type==="Feature")return new yu(_,bv(_.geometry));if("type"in _&&"coordinates"in _)return new yu(_,bv(_))}return p.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(u){if(u.geometry()!=null&&u.canonicalID()!=null){if(u.geometryType()==="Point")return function(p,_){const S=p.geometry(),E=S.flat().map(B=>sv([B.x,B.y],p.canonical));if(S.length===0)return NaN;const M=new fv(E[0][1]);let O=1/0;for(const B of _){switch(B.type){case"Point":O=Math.min(O,cp(E,!1,[B.coordinates],!1,M,O));break;case"LineString":O=Math.min(O,cp(E,!1,B.coordinates,!0,M,O));break;case"Polygon":O=Math.min(O,up(E,!1,B.coordinates,M,O))}if(O===0)return O}return O}(u,this.geometries);if(u.geometryType()==="LineString")return function(p,_){const S=p.geometry(),E=S.flat().map(B=>sv([B.x,B.y],p.canonical));if(S.length===0)return NaN;const M=new fv(E[0][1]);let O=1/0;for(const B of _){switch(B.type){case"Point":O=Math.min(O,cp(E,!0,[B.coordinates],!1,M,O));break;case"LineString":O=Math.min(O,cp(E,!0,B.coordinates,!0,M,O));break;case"Polygon":O=Math.min(O,up(E,!0,B.coordinates,M,O))}if(O===0)return O}return O}(u,this.geometries);if(u.geometryType()==="Polygon")return function(p,_){const S=p.geometry();if(S.length===0||S[0].length===0)return NaN;const E=Cc(S,0).map(B=>B.map(j=>j.map(G=>sv([G.x,G.y],p.canonical)))),M=new fv(E[0][0][0][1]);let O=1/0;for(const B of _)for(const j of E){switch(B.type){case"Point":O=Math.min(O,up([B.coordinates],!1,j,M,O));break;case"LineString":O=Math.min(O,up(B.coordinates,!0,j,M,O));break;case"Polygon":O=Math.min(O,HC(j,B.coordinates,M,O))}if(O===0)return O}return O}(u,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}const Tc={"==":iv,"!=":Ob,">":ap,"<":OC,">=":RC,"<=":ov,array:co,at:On,boolean:co,case:Fa,coalesce:Vh,collator:pu,format:Oo,image:sp,in:Bh,"index-of":Jn,interpolate:qi,"interpolate-hcl":qi,"interpolate-lab":qi,length:Sc,let:_c,literal:hu,match:Fh,number:co,"number-format":wc,object:co,slice:bc,step:xc,string:co,"to-boolean":Zs,"to-color":Zs,"to-number":Zs,"to-string":Zs,var:Yn,within:_l,distance:yu};class wa{constructor(u,p,_,S){this.name=u,this.type=p,this._evaluate=_,this.args=S}evaluate(u){return this._evaluate(u,this.args)}eachChild(u){this.args.forEach(u)}outputDefined(){return!1}static parse(u,p){const _=u[0],S=wa.definitions[_];if(!S)return p.error(`Unknown expression "${_}". If you wanted a literal array, use ["literal", [...]].`,0);const E=Array.isArray(S)?S[0]:S.type,M=Array.isArray(S)?[[S[1],S[2]]]:S.overloads,O=M.filter(([j])=>!Array.isArray(j)||j.length===u.length-1);let B=null;for(const[j,G]of O){B=new br(p.registry,hp,p.path,null,p.scope);const Z=[];let Q=!1;for(let ie=1;ie<u.length;ie++){const oe=u[ie],he=Array.isArray(j)?j[ie-1]:j.type,be=B.parse(oe,1+Z.length,he);if(!be){Q=!0;break}Z.push(be)}if(!Q)if(Array.isArray(j)&&j.length!==Z.length)B.error(`Expected ${j.length} arguments, but found ${Z.length} instead.`);else{for(let ie=0;ie<Z.length;ie++){const oe=Array.isArray(j)?j[ie]:j.type,he=Z[ie];B.concat(ie+1).checkSubtype(oe,he.type)}if(B.errors.length===0)return new wa(_,E,G,Z)}}if(O.length===1)p.errors.push(...B.errors);else{const j=(O.length?O:M).map(([Z])=>{return Q=Z,Array.isArray(Q)?`(${Q.map(Mr).join(", ")})`:`(${Mr(Q.type)}...)`;var Q}).join(" | "),G=[];for(let Z=1;Z<u.length;Z++){const Q=p.parse(u[Z],1+G.length);if(!Q)return null;G.push(Mr(Q.type))}p.error(`Expected arguments of type ${j}, but found (${G.join(", ")}) instead.`)}return null}static register(u,p){wa.definitions=p;for(const _ in p)u[_]=wa}}function Wb(m,[u,p,_,S]){u=u.evaluate(m),p=p.evaluate(m),_=_.evaluate(m);const E=S?S.evaluate(m):1,M=$h(u,p,_,E);if(M)throw new jr(M);return new Hn(u/255,p/255,_/255,E,!1)}function Zb(m,u){return m in u}function xv(m,u){const p=u[m];return p===void 0?null:p}function _u(m){return{type:m}}function hp(m){if(m instanceof Yn)return hp(m.boundExpression);if(m instanceof wa&&m.name==="error"||m instanceof pu||m instanceof _l||m instanceof yu)return!1;const u=m instanceof Zs||m instanceof co;let p=!0;return m.eachChild(_=>{p=u?p&&hp(_):p&&_ instanceof hu}),!!p&&dp(m)&&fp(m,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function dp(m){if(m instanceof wa&&(m.name==="get"&&m.args.length===1||m.name==="feature-state"||m.name==="has"&&m.args.length===1||m.name==="properties"||m.name==="geometry-type"||m.name==="id"||/^filter-/.test(m.name))||m instanceof _l||m instanceof yu)return!1;let u=!0;return m.eachChild(p=>{u&&!dp(p)&&(u=!1)}),u}function Zh(m){if(m instanceof wa&&m.name==="feature-state")return!1;let u=!0;return m.eachChild(p=>{u&&!Zh(p)&&(u=!1)}),u}function fp(m,u){if(m instanceof wa&&u.indexOf(m.name)>=0)return!1;let p=!0;return m.eachChild(_=>{p&&!fp(_,u)&&(p=!1)}),p}function qb(m){return{result:"success",value:m}}function Pc(m){return{result:"error",value:m}}function Ec(m){return m["property-type"]==="data-driven"||m["property-type"]==="cross-faded-data-driven"}function Kb(m){return!!m.expression&&m.expression.parameters.indexOf("zoom")>-1}function wv(m){return!!m.expression&&m.expression.interpolated}function nr(m){return m instanceof Number?"number":m instanceof String?"string":m instanceof Boolean?"boolean":Array.isArray(m)?"array":m===null?"null":typeof m}function pp(m){return typeof m=="object"&&m!==null&&!Array.isArray(m)}function UC(m){return m}function Xb(m,u){const p=u.type==="color",_=m.stops&&typeof m.stops[0][0]=="object",S=_||!(_||m.property!==void 0),E=m.type||(wv(u)?"exponential":"interval");if(p||u.type==="padding"){const G=p?Hn.parse:qr.parse;(m=Nt({},m)).stops&&(m.stops=m.stops.map(Z=>[Z[0],G(Z[1])])),m.default=G(m.default?m.default:u.default)}if(m.colorSpace&&(M=m.colorSpace)!=="rgb"&&M!=="hcl"&&M!=="lab")throw new Error(`Unknown color space: "${m.colorSpace}"`);var M;let O,B,j;if(E==="exponential")O=Yb;else if(E==="interval")O=Sv;else if(E==="categorical"){O=GC,B=Object.create(null);for(const G of m.stops)B[G[0]]=G[1];j=typeof m.stops[0][0]}else{if(E!=="identity")throw new Error(`Unknown function type "${E}"`);O=WC}if(_){const G={},Z=[];for(let oe=0;oe<m.stops.length;oe++){const he=m.stops[oe],be=he[0].zoom;G[be]===void 0&&(G[be]={zoom:be,type:m.type,property:m.property,default:m.default,stops:[]},Z.push(be)),G[be].stops.push([he[0].value,he[1]])}const Q=[];for(const oe of Z)Q.push([G[oe].zoom,Xb(G[oe],u)]);const ie={name:"linear"};return{kind:"composite",interpolationType:ie,interpolationFactor:qi.interpolationFactor.bind(void 0,ie),zoomStops:Q.map(oe=>oe[0]),evaluate:({zoom:oe},he)=>Yb({stops:Q,base:m.base},u,oe).evaluate(oe,he)}}if(S){const G=E==="exponential"?{name:"exponential",base:m.base!==void 0?m.base:1}:null;return{kind:"camera",interpolationType:G,interpolationFactor:qi.interpolationFactor.bind(void 0,G),zoomStops:m.stops.map(Z=>Z[0]),evaluate:({zoom:Z})=>O(m,u,Z,B,j)}}return{kind:"source",evaluate(G,Z){const Q=Z&&Z.properties?Z.properties[m.property]:void 0;return Q===void 0?qh(m.default,u.default):O(m,u,Q,B,j)}}}function qh(m,u,p){return m!==void 0?m:u!==void 0?u:p!==void 0?p:void 0}function GC(m,u,p,_,S){return qh(typeof p===S?_[p]:void 0,m.default,u.default)}function Sv(m,u,p){if(nr(p)!=="number")return qh(m.default,u.default);const _=m.stops.length;if(_===1||p<=m.stops[0][0])return m.stops[0][1];if(p>=m.stops[_-1][0])return m.stops[_-1][1];const S=Nh(m.stops.map(E=>E[0]),p);return m.stops[S][1]}function Yb(m,u,p){const _=m.base!==void 0?m.base:1;if(nr(p)!=="number")return qh(m.default,u.default);const S=m.stops.length;if(S===1||p<=m.stops[0][0])return m.stops[0][1];if(p>=m.stops[S-1][0])return m.stops[S-1][1];const E=Nh(m.stops.map(G=>G[0]),p),M=function(G,Z,Q,ie){const oe=ie-Q,he=G-Q;return oe===0?0:Z===1?he/oe:(Math.pow(Z,he)-1)/(Math.pow(Z,oe)-1)}(p,_,m.stops[E][0],m.stops[E+1][0]),O=m.stops[E][1],B=m.stops[E+1][1],j=na[u.type]||UC;return typeof O.evaluate=="function"?{evaluate(...G){const Z=O.evaluate.apply(void 0,G),Q=B.evaluate.apply(void 0,G);if(Z!==void 0&&Q!==void 0)return j(Z,Q,M,m.colorSpace)}}:j(O,B,M,m.colorSpace)}function WC(m,u,p){switch(u.type){case"color":p=Hn.parse(p);break;case"formatted":p=bo.fromString(p.toString());break;case"resolvedImage":p=ko.fromString(p.toString());break;case"padding":p=qr.parse(p);break;default:nr(p)===u.type||u.type==="enum"&&u.values[p]||(p=void 0)}return qh(p,m.default,u.default)}wa.register(Tc,{error:[{kind:"error"},[Gt],(m,[u])=>{throw new jr(u.evaluate(m))}],typeof:[Gt,[Jt],(m,[u])=>Mr(fi(u.evaluate(m)))],"to-rgba":[yo(yt,4),[kn],(m,[u])=>{const[p,_,S,E]=u.evaluate(m).rgb;return[255*p,255*_,255*S,E]}],rgb:[kn,[yt,yt,yt],Wb],rgba:[kn,[yt,yt,yt,yt],Wb],has:{type:nn,overloads:[[[Gt],(m,[u])=>Zb(u.evaluate(m),m.properties())],[[Gt,mn],(m,[u,p])=>Zb(u.evaluate(m),p.evaluate(m))]]},get:{type:Jt,overloads:[[[Gt],(m,[u])=>xv(u.evaluate(m),m.properties())],[[Gt,mn],(m,[u,p])=>xv(u.evaluate(m),p.evaluate(m))]]},"feature-state":[Jt,[Gt],(m,[u])=>xv(u.evaluate(m),m.featureState||{})],properties:[mn,[],m=>m.properties()],"geometry-type":[Gt,[],m=>m.geometryType()],id:[Jt,[],m=>m.id()],zoom:[yt,[],m=>m.globals.zoom],"heatmap-density":[yt,[],m=>m.globals.heatmapDensity||0],"line-progress":[yt,[],m=>m.globals.lineProgress||0],accumulated:[Jt,[],m=>m.globals.accumulated===void 0?null:m.globals.accumulated],"+":[yt,_u(yt),(m,u)=>{let p=0;for(const _ of u)p+=_.evaluate(m);return p}],"*":[yt,_u(yt),(m,u)=>{let p=1;for(const _ of u)p*=_.evaluate(m);return p}],"-":{type:yt,overloads:[[[yt,yt],(m,[u,p])=>u.evaluate(m)-p.evaluate(m)],[[yt],(m,[u])=>-u.evaluate(m)]]},"/":[yt,[yt,yt],(m,[u,p])=>u.evaluate(m)/p.evaluate(m)],"%":[yt,[yt,yt],(m,[u,p])=>u.evaluate(m)%p.evaluate(m)],ln2:[yt,[],()=>Math.LN2],pi:[yt,[],()=>Math.PI],e:[yt,[],()=>Math.E],"^":[yt,[yt,yt],(m,[u,p])=>Math.pow(u.evaluate(m),p.evaluate(m))],sqrt:[yt,[yt],(m,[u])=>Math.sqrt(u.evaluate(m))],log10:[yt,[yt],(m,[u])=>Math.log(u.evaluate(m))/Math.LN10],ln:[yt,[yt],(m,[u])=>Math.log(u.evaluate(m))],log2:[yt,[yt],(m,[u])=>Math.log(u.evaluate(m))/Math.LN2],sin:[yt,[yt],(m,[u])=>Math.sin(u.evaluate(m))],cos:[yt,[yt],(m,[u])=>Math.cos(u.evaluate(m))],tan:[yt,[yt],(m,[u])=>Math.tan(u.evaluate(m))],asin:[yt,[yt],(m,[u])=>Math.asin(u.evaluate(m))],acos:[yt,[yt],(m,[u])=>Math.acos(u.evaluate(m))],atan:[yt,[yt],(m,[u])=>Math.atan(u.evaluate(m))],min:[yt,_u(yt),(m,u)=>Math.min(...u.map(p=>p.evaluate(m)))],max:[yt,_u(yt),(m,u)=>Math.max(...u.map(p=>p.evaluate(m)))],abs:[yt,[yt],(m,[u])=>Math.abs(u.evaluate(m))],round:[yt,[yt],(m,[u])=>{const p=u.evaluate(m);return p<0?-Math.round(-p):Math.round(p)}],floor:[yt,[yt],(m,[u])=>Math.floor(u.evaluate(m))],ceil:[yt,[yt],(m,[u])=>Math.ceil(u.evaluate(m))],"filter-==":[nn,[Gt,Jt],(m,[u,p])=>m.properties()[u.value]===p.value],"filter-id-==":[nn,[Jt],(m,[u])=>m.id()===u.value],"filter-type-==":[nn,[Gt],(m,[u])=>m.geometryType()===u.value],"filter-<":[nn,[Gt,Jt],(m,[u,p])=>{const _=m.properties()[u.value],S=p.value;return typeof _==typeof S&&_<S}],"filter-id-<":[nn,[Jt],(m,[u])=>{const p=m.id(),_=u.value;return typeof p==typeof _&&p<_}],"filter->":[nn,[Gt,Jt],(m,[u,p])=>{const _=m.properties()[u.value],S=p.value;return typeof _==typeof S&&_>S}],"filter-id->":[nn,[Jt],(m,[u])=>{const p=m.id(),_=u.value;return typeof p==typeof _&&p>_}],"filter-<=":[nn,[Gt,Jt],(m,[u,p])=>{const _=m.properties()[u.value],S=p.value;return typeof _==typeof S&&_<=S}],"filter-id-<=":[nn,[Jt],(m,[u])=>{const p=m.id(),_=u.value;return typeof p==typeof _&&p<=_}],"filter->=":[nn,[Gt,Jt],(m,[u,p])=>{const _=m.properties()[u.value],S=p.value;return typeof _==typeof S&&_>=S}],"filter-id->=":[nn,[Jt],(m,[u])=>{const p=m.id(),_=u.value;return typeof p==typeof _&&p>=_}],"filter-has":[nn,[Jt],(m,[u])=>u.value in m.properties()],"filter-has-id":[nn,[],m=>m.id()!==null&&m.id()!==void 0],"filter-type-in":[nn,[yo(Gt)],(m,[u])=>u.value.indexOf(m.geometryType())>=0],"filter-id-in":[nn,[yo(Jt)],(m,[u])=>u.value.indexOf(m.id())>=0],"filter-in-small":[nn,[Gt,yo(Jt)],(m,[u,p])=>p.value.indexOf(m.properties()[u.value])>=0],"filter-in-large":[nn,[Gt,yo(Jt)],(m,[u,p])=>function(_,S,E,M){for(;E<=M;){const O=E+M>>1;if(S[O]===_)return!0;S[O]>_?M=O-1:E=O+1}return!1}(m.properties()[u.value],p.value,0,p.value.length-1)],all:{type:nn,overloads:[[[nn,nn],(m,[u,p])=>u.evaluate(m)&&p.evaluate(m)],[_u(nn),(m,u)=>{for(const p of u)if(!p.evaluate(m))return!1;return!0}]]},any:{type:nn,overloads:[[[nn,nn],(m,[u,p])=>u.evaluate(m)||p.evaluate(m)],[_u(nn),(m,u)=>{for(const p of u)if(p.evaluate(m))return!0;return!1}]]},"!":[nn,[nn],(m,[u])=>!u.evaluate(m)],"is-supported-script":[nn,[Gt],(m,[u])=>{const p=m.globals&&m.globals.isSupportedScript;return!p||p(u.evaluate(m))}],upcase:[Gt,[Gt],(m,[u])=>u.evaluate(m).toUpperCase()],downcase:[Gt,[Gt],(m,[u])=>u.evaluate(m).toLowerCase()],concat:[Gt,_u(Jt),(m,u)=>u.map(p=>Ba(p.evaluate(m))).join("")],"resolved-locale":[Gt,[Ir],(m,[u])=>u.evaluate(m).resolvedLocale()]});class Cv{constructor(u,p){var _;this.expression=u,this._warningHistory={},this._evaluator=new zh,this._defaultValue=p?(_=p).type==="color"&&pp(_.default)?new Hn(0,0,0,0):_.type==="color"?Hn.parse(_.default)||null:_.type==="padding"?qr.parse(_.default)||null:_.type==="variableAnchorOffsetCollection"?uo.parse(_.default)||null:_.type==="projectionDefinition"?Zi.parse(_.default)||null:_.default===void 0?null:_.default:null,this._enumValues=p&&p.type==="enum"?p.values:null}evaluateWithoutErrorHandling(u,p,_,S,E,M){return this._evaluator.globals=u,this._evaluator.feature=p,this._evaluator.featureState=_,this._evaluator.canonical=S,this._evaluator.availableImages=E||null,this._evaluator.formattedSection=M,this.expression.evaluate(this._evaluator)}evaluate(u,p,_,S,E,M){this._evaluator.globals=u,this._evaluator.feature=p||null,this._evaluator.featureState=_||null,this._evaluator.canonical=S,this._evaluator.availableImages=E||null,this._evaluator.formattedSection=M||null;try{const O=this.expression.evaluate(this._evaluator);if(O==null||typeof O=="number"&&O!=O)return this._defaultValue;if(this._enumValues&&!(O in this._enumValues))throw new jr(`Expected value to be one of ${Object.keys(this._enumValues).map(B=>JSON.stringify(B)).join(", ")}, but found ${JSON.stringify(O)} instead.`);return O}catch(O){return this._warningHistory[O.message]||(this._warningHistory[O.message]=!0,typeof console<"u"&&console.warn(O.message)),this._defaultValue}}}function Kh(m){return Array.isArray(m)&&m.length>0&&typeof m[0]=="string"&&m[0]in Tc}function mp(m,u){const p=new br(Tc,hp,[],u?function(S){const E={color:kn,string:Gt,number:yt,enum:Gt,boolean:nn,formatted:za,padding:di,projectionDefinition:qn,resolvedImage:oi,variableAnchorOffsetCollection:_r};return S.type==="array"?yo(E[S.value]||Jt,S.length):E[S.type]}(u):void 0),_=p.parse(m,void 0,void 0,void 0,u&&u.type==="string"?{typeAnnotation:"coerce"}:void 0);return _?qb(new Cv(_,u)):Pc(p.errors)}class Tv{constructor(u,p){this.kind=u,this._styleExpression=p,this.isStateDependent=u!=="constant"&&!Zh(p.expression)}evaluateWithoutErrorHandling(u,p,_,S,E,M){return this._styleExpression.evaluateWithoutErrorHandling(u,p,_,S,E,M)}evaluate(u,p,_,S,E,M){return this._styleExpression.evaluate(u,p,_,S,E,M)}}class Ic{constructor(u,p,_,S){this.kind=u,this.zoomStops=_,this._styleExpression=p,this.isStateDependent=u!=="camera"&&!Zh(p.expression),this.interpolationType=S}evaluateWithoutErrorHandling(u,p,_,S,E,M){return this._styleExpression.evaluateWithoutErrorHandling(u,p,_,S,E,M)}evaluate(u,p,_,S,E,M){return this._styleExpression.evaluate(u,p,_,S,E,M)}interpolationFactor(u,p,_){return this.interpolationType?qi.interpolationFactor(this.interpolationType,u,p,_):0}}function Pv(m,u){const p=mp(m,u);if(p.result==="error")return p;const _=p.value.expression,S=dp(_);if(!S&&!Ec(u))return Pc([new Vt("","data expressions not supported")]);const E=fp(_,["zoom"]);if(!E&&!Kb(u))return Pc([new Vt("","zoom expressions not supported")]);const M=vp(_);return M||E?M instanceof Vt?Pc([M]):M instanceof qi&&!wv(u)?Pc([new Vt("",'"interpolate" expressions cannot be used with this property')]):qb(M?new Ic(S?"camera":"composite",p.value,M.labels,M instanceof qi?M.interpolation:void 0):new Tv(S?"constant":"source",p.value)):Pc([new Vt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class gp{constructor(u,p){this._parameters=u,this._specification=p,Nt(this,Xb(this._parameters,this._specification))}static deserialize(u){return new gp(u._parameters,u._specification)}static serialize(u){return{_parameters:u._parameters,_specification:u._specification}}}function vp(m){let u=null;if(m instanceof _c)u=vp(m.result);else if(m instanceof Vh){for(const p of m.args)if(u=vp(p),u)break}else(m instanceof xc||m instanceof qi)&&m.input instanceof wa&&m.input.name==="zoom"&&(u=m);return u instanceof Vt||m.eachChild(p=>{const _=vp(p);_ instanceof Vt?u=_:!u&&_?u=new Vt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):u&&_&&u!==_&&(u=new Vt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),u}function Ev(m){if(m===!0||m===!1)return!0;if(!Array.isArray(m)||m.length===0)return!1;switch(m[0]){case"has":return m.length>=2&&m[1]!=="$id"&&m[1]!=="$type";case"in":return m.length>=3&&(typeof m[1]!="string"||Array.isArray(m[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return m.length!==3||Array.isArray(m[1])||Array.isArray(m[2]);case"any":case"all":for(const u of m.slice(1))if(!Ev(u)&&typeof u!="boolean")return!1;return!0;default:return!0}}const ZC={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Iv(m){if(m==null)return{filter:()=>!0,needGeometry:!1};Ev(m)||(m=yp(m));const u=mp(m,ZC);if(u.result==="error")throw new Error(u.value.map(p=>`${p.key}: ${p.message}`).join(", "));return{filter:(p,_,S)=>u.value.evaluate(p,_,{},S),needGeometry:Mv(m)}}function Jb(m,u){return m<u?-1:m>u?1:0}function Mv(m){if(!Array.isArray(m))return!1;if(m[0]==="within"||m[0]==="distance")return!0;for(let u=1;u<m.length;u++)if(Mv(m[u]))return!0;return!1}function yp(m){if(!m)return!0;const u=m[0];return m.length<=1?u!=="any":u==="=="?Av(m[1],m[2],"=="):u==="!="?Xh(Av(m[1],m[2],"==")):u==="<"||u===">"||u==="<="||u===">="?Av(m[1],m[2],u):u==="any"?(p=m.slice(1),["any"].concat(p.map(yp))):u==="all"?["all"].concat(m.slice(1).map(yp)):u==="none"?["all"].concat(m.slice(1).map(yp).map(Xh)):u==="in"?Dv(m[1],m.slice(2)):u==="!in"?Xh(Dv(m[1],m.slice(2))):u==="has"?kv(m[1]):u!=="!has"||Xh(kv(m[1]));var p}function Av(m,u,p){switch(m){case"$type":return[`filter-type-${p}`,u];case"$id":return[`filter-id-${p}`,u];default:return[`filter-${p}`,m,u]}}function Dv(m,u){if(u.length===0)return!1;switch(m){case"$type":return["filter-type-in",["literal",u]];case"$id":return["filter-id-in",["literal",u]];default:return u.length>200&&!u.some(p=>typeof p!=typeof u[0])?["filter-in-large",m,["literal",u.sort(Jb)]]:["filter-in-small",m,["literal",u]]}}function kv(m){switch(m){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",m]}}function Xh(m){return["!",m]}function _p(m){const u=typeof m;if(u==="number"||u==="boolean"||u==="string"||m==null)return JSON.stringify(m);if(Array.isArray(m)){let S="[";for(const E of m)S+=`${_p(E)},`;return`${S}]`}const p=Object.keys(m).sort();let _="{";for(let S=0;S<p.length;S++)_+=`${JSON.stringify(p[S])}:${_p(m[p[S]])},`;return`${_}}`}function Ov(m){let u="";for(const p of le)u+=`/${_p(m[p])}`;return u}function bp(m){const u=m.value;return u?[new Ge(m.key,u,"constants have been deprecated as of v8")]:[]}function Kr(m){return m instanceof Number||m instanceof String||m instanceof Boolean?m.valueOf():m}function ms(m){if(Array.isArray(m))return m.map(ms);if(m instanceof Object&&!(m instanceof Number||m instanceof String||m instanceof Boolean)){const u={};for(const p in m)u[p]=ms(m[p]);return u}return Kr(m)}function Sa(m){const u=m.key,p=m.value,_=m.valueSpec||{},S=m.objectElementValidators||{},E=m.style,M=m.styleSpec,O=m.validateSpec;let B=[];const j=nr(p);if(j!=="object")return[new Ge(u,p,`object expected, ${j} found`)];for(const G in p){const Z=G.split(".")[0],Q=_[Z]||_["*"];let ie;if(S[Z])ie=S[Z];else if(_[Z])ie=O;else if(S["*"])ie=S["*"];else{if(!_["*"]){B.push(new Ge(u,p[G],`unknown property "${G}"`));continue}ie=O}B=B.concat(ie({key:(u&&`${u}.`)+G,value:p[G],valueSpec:Q,style:E,styleSpec:M,object:p,objectKey:G,validateSpec:O},p))}for(const G in _)S[G]||_[G].required&&_[G].default===void 0&&p[G]===void 0&&B.push(new Ge(u,p,`missing required property "${G}"`));return B}function Rv(m){const u=m.value,p=m.valueSpec,_=m.style,S=m.styleSpec,E=m.key,M=m.arrayElementValidator||m.validateSpec;if(nr(u)!=="array")return[new Ge(E,u,`array expected, ${nr(u)} found`)];if(p.length&&u.length!==p.length)return[new Ge(E,u,`array length ${p.length} expected, length ${u.length} found`)];if(p["min-length"]&&u.length<p["min-length"])return[new Ge(E,u,`array length at least ${p["min-length"]} expected, length ${u.length} found`)];let O={type:p.value,values:p.values};S.$version<7&&(O.function=p.function),nr(p.value)==="object"&&(O=p.value);let B=[];for(let j=0;j<u.length;j++)B=B.concat(M({array:u,arrayIndex:j,value:u[j],valueSpec:O,validateSpec:m.validateSpec,style:_,styleSpec:S,key:`${E}[${j}]`}));return B}function Lv(m){const u=m.key,p=m.value,_=m.valueSpec;let S=nr(p);return S==="number"&&p!=p&&(S="NaN"),S!=="number"?[new Ge(u,p,`number expected, ${S} found`)]:"minimum"in _&&p<_.minimum?[new Ge(u,p,`${p} is less than the minimum value ${_.minimum}`)]:"maximum"in _&&p>_.maximum?[new Ge(u,p,`${p} is greater than the maximum value ${_.maximum}`)]:[]}function Qb(m){const u=m.valueSpec,p=Kr(m.value.type);let _,S,E,M={};const O=p!=="categorical"&&m.value.property===void 0,B=!O,j=nr(m.value.stops)==="array"&&nr(m.value.stops[0])==="array"&&nr(m.value.stops[0][0])==="object",G=Sa({key:m.key,value:m.value,valueSpec:m.styleSpec.function,validateSpec:m.validateSpec,style:m.style,styleSpec:m.styleSpec,objectElementValidators:{stops:function(ie){if(p==="identity")return[new Ge(ie.key,ie.value,'identity function may not have a "stops" property')];let oe=[];const he=ie.value;return oe=oe.concat(Rv({key:ie.key,value:he,valueSpec:ie.valueSpec,validateSpec:ie.validateSpec,style:ie.style,styleSpec:ie.styleSpec,arrayElementValidator:Z})),nr(he)==="array"&&he.length===0&&oe.push(new Ge(ie.key,he,"array must have at least one stop")),oe},default:function(ie){return ie.validateSpec({key:ie.key,value:ie.value,valueSpec:u,validateSpec:ie.validateSpec,style:ie.style,styleSpec:ie.styleSpec})}}});return p==="identity"&&O&&G.push(new Ge(m.key,m.value,'missing required property "property"')),p==="identity"||m.value.stops||G.push(new Ge(m.key,m.value,'missing required property "stops"')),p==="exponential"&&m.valueSpec.expression&&!wv(m.valueSpec)&&G.push(new Ge(m.key,m.value,"exponential functions not supported")),m.styleSpec.$version>=8&&(B&&!Ec(m.valueSpec)?G.push(new Ge(m.key,m.value,"property functions not supported")):O&&!Kb(m.valueSpec)&&G.push(new Ge(m.key,m.value,"zoom functions not supported"))),p!=="categorical"&&!j||m.value.property!==void 0||G.push(new Ge(m.key,m.value,'"property" property is required')),G;function Z(ie){let oe=[];const he=ie.value,be=ie.key;if(nr(he)!=="array")return[new Ge(be,he,`array expected, ${nr(he)} found`)];if(he.length!==2)return[new Ge(be,he,`array length 2 expected, length ${he.length} found`)];if(j){if(nr(he[0])!=="object")return[new Ge(be,he,`object expected, ${nr(he[0])} found`)];if(he[0].zoom===void 0)return[new Ge(be,he,"object stop key must have zoom")];if(he[0].value===void 0)return[new Ge(be,he,"object stop key must have value")];if(E&&E>Kr(he[0].zoom))return[new Ge(be,he[0].zoom,"stop zoom values must appear in ascending order")];Kr(he[0].zoom)!==E&&(E=Kr(he[0].zoom),S=void 0,M={}),oe=oe.concat(Sa({key:`${be}[0]`,value:he[0],valueSpec:{zoom:{}},validateSpec:ie.validateSpec,style:ie.style,styleSpec:ie.styleSpec,objectElementValidators:{zoom:Lv,value:Q}}))}else oe=oe.concat(Q({key:`${be}[0]`,value:he[0],valueSpec:{},validateSpec:ie.validateSpec,style:ie.style,styleSpec:ie.styleSpec},he));return Kh(ms(he[1]))?oe.concat([new Ge(`${be}[1]`,he[1],"expressions are not allowed in function stops.")]):oe.concat(ie.validateSpec({key:`${be}[1]`,value:he[1],valueSpec:u,validateSpec:ie.validateSpec,style:ie.style,styleSpec:ie.styleSpec}))}function Q(ie,oe){const he=nr(ie.value),be=Kr(ie.value),Ee=ie.value!==null?ie.value:oe;if(_){if(he!==_)return[new Ge(ie.key,Ee,`${he} stop domain type must match previous stop domain type ${_}`)]}else _=he;if(he!=="number"&&he!=="string"&&he!=="boolean")return[new Ge(ie.key,Ee,"stop domain value must be a number, string, or boolean")];if(he!=="number"&&p!=="categorical"){let Ue=`number expected, ${he} found`;return Ec(u)&&p===void 0&&(Ue+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ge(ie.key,Ee,Ue)]}return p!=="categorical"||he!=="number"||isFinite(be)&&Math.floor(be)===be?p!=="categorical"&&he==="number"&&S!==void 0&&be<S?[new Ge(ie.key,Ee,"stop domain values must appear in ascending order")]:(S=be,p==="categorical"&&be in M?[new Ge(ie.key,Ee,"stop domain values must be unique")]:(M[be]=!0,[])):[new Ge(ie.key,Ee,`integer expected, found ${be}`)]}}function Mc(m){const u=(m.expressionContext==="property"?Pv:mp)(ms(m.value),m.valueSpec);if(u.result==="error")return u.value.map(_=>new Ge(`${m.key}${_.key}`,m.value,_.message));const p=u.value.expression||u.value._styleExpression.expression;if(m.expressionContext==="property"&&m.propertyKey==="text-font"&&!p.outputDefined())return[new Ge(m.key,m.value,`Invalid data expression for "${m.propertyKey}". Output values must be contained as literals within the expression.`)];if(m.expressionContext==="property"&&m.propertyType==="layout"&&!Zh(p))return[new Ge(m.key,m.value,'"feature-state" data expressions are not supported with layout properties.')];if(m.expressionContext==="filter"&&!Zh(p))return[new Ge(m.key,m.value,'"feature-state" data expressions are not supported with filters.')];if(m.expressionContext&&m.expressionContext.indexOf("cluster")===0){if(!fp(p,["zoom","feature-state"]))return[new Ge(m.key,m.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(m.expressionContext==="cluster-initial"&&!dp(p))return[new Ge(m.key,m.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Yh(m){const u=m.key,p=m.value,_=m.valueSpec,S=[];return Array.isArray(_.values)?_.values.indexOf(Kr(p))===-1&&S.push(new Ge(u,p,`expected one of [${_.values.join(", ")}], ${JSON.stringify(p)} found`)):Object.keys(_.values).indexOf(Kr(p))===-1&&S.push(new Ge(u,p,`expected one of [${Object.keys(_.values).join(", ")}], ${JSON.stringify(p)} found`)),S}function xp(m){return Ev(ms(m.value))?Mc(Nt({},m,{expressionContext:"filter",valueSpec:{value:"boolean"}})):$v(m)}function $v(m){const u=m.value,p=m.key;if(nr(u)!=="array")return[new Ge(p,u,`array expected, ${nr(u)} found`)];const _=m.styleSpec;let S,E=[];if(u.length<1)return[new Ge(p,u,"filter array must have at least 1 element")];switch(E=E.concat(Yh({key:`${p}[0]`,value:u[0],valueSpec:_.filter_operator,style:m.style,styleSpec:m.styleSpec})),Kr(u[0])){case"<":case"<=":case">":case">=":u.length>=2&&Kr(u[1])==="$type"&&E.push(new Ge(p,u,`"$type" cannot be use with operator "${u[0]}"`));case"==":case"!=":u.length!==3&&E.push(new Ge(p,u,`filter array for operator "${u[0]}" must have 3 elements`));case"in":case"!in":u.length>=2&&(S=nr(u[1]),S!=="string"&&E.push(new Ge(`${p}[1]`,u[1],`string expected, ${S} found`)));for(let M=2;M<u.length;M++)S=nr(u[M]),Kr(u[1])==="$type"?E=E.concat(Yh({key:`${p}[${M}]`,value:u[M],valueSpec:_.geometry_type,style:m.style,styleSpec:m.styleSpec})):S!=="string"&&S!=="number"&&S!=="boolean"&&E.push(new Ge(`${p}[${M}]`,u[M],`string, number, or boolean expected, ${S} found`));break;case"any":case"all":case"none":for(let M=1;M<u.length;M++)E=E.concat($v({key:`${p}[${M}]`,value:u[M],style:m.style,styleSpec:m.styleSpec}));break;case"has":case"!has":S=nr(u[1]),u.length!==2?E.push(new Ge(p,u,`filter array for "${u[0]}" operator must have 2 elements`)):S!=="string"&&E.push(new Ge(`${p}[1]`,u[1],`string expected, ${S} found`))}return E}function Jh(m,u){const p=m.key,_=m.validateSpec,S=m.style,E=m.styleSpec,M=m.value,O=m.objectKey,B=E[`${u}_${m.layerType}`];if(!B)return[];const j=O.match(/^(.*)-transition$/);if(u==="paint"&&j&&B[j[1]]&&B[j[1]].transition)return _({key:p,value:M,valueSpec:E.transition,style:S,styleSpec:E});const G=m.valueSpec||B[O];if(!G)return[new Ge(p,M,`unknown property "${O}"`)];let Z;if(nr(M)==="string"&&Ec(G)&&!G.tokens&&(Z=/^{([^}]+)}$/.exec(M)))return[new Ge(p,M,`"${O}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(Z[1])} }\`.`)];const Q=[];return m.layerType==="symbol"&&(O==="text-field"&&S&&!S.glyphs&&Q.push(new Ge(p,M,'use of "text-field" requires a style "glyphs" property')),O==="text-font"&&pp(ms(M))&&Kr(M.type)==="identity"&&Q.push(new Ge(p,M,'"text-font" does not support identity functions'))),Q.concat(_({key:m.key,value:M,valueSpec:G,style:S,styleSpec:E,expressionContext:"property",propertyType:u,propertyKey:O}))}function e1(m){return Jh(m,"paint")}function zv(m){return Jh(m,"layout")}function Bv(m){let u=[];const p=m.value,_=m.key,S=m.style,E=m.styleSpec;p.type||p.ref||u.push(new Ge(_,p,'either "type" or "ref" is required'));let M=Kr(p.type);const O=Kr(p.ref);if(p.id){const B=Kr(p.id);for(let j=0;j<m.arrayIndex;j++){const G=S.layers[j];Kr(G.id)===B&&u.push(new Ge(_,p.id,`duplicate layer id "${p.id}", previously used at line ${G.id.__line__}`))}}if("ref"in p){let B;["type","source","source-layer","filter","layout"].forEach(j=>{j in p&&u.push(new Ge(_,p[j],`"${j}" is prohibited for ref layers`))}),S.layers.forEach(j=>{Kr(j.id)===O&&(B=j)}),B?B.ref?u.push(new Ge(_,p.ref,"ref cannot reference another ref layer")):M=Kr(B.type):u.push(new Ge(_,p.ref,`ref layer "${O}" not found`))}else if(M!=="background")if(p.source){const B=S.sources&&S.sources[p.source],j=B&&Kr(B.type);B?j==="vector"&&M==="raster"?u.push(new Ge(_,p.source,`layer "${p.id}" requires a raster source`)):j!=="raster-dem"&&M==="hillshade"?u.push(new Ge(_,p.source,`layer "${p.id}" requires a raster-dem source`)):j==="raster"&&M!=="raster"?u.push(new Ge(_,p.source,`layer "${p.id}" requires a vector source`)):j!=="vector"||p["source-layer"]?j==="raster-dem"&&M!=="hillshade"?u.push(new Ge(_,p.source,"raster-dem source can only be used with layer type 'hillshade'.")):M!=="line"||!p.paint||!p.paint["line-gradient"]||j==="geojson"&&B.lineMetrics||u.push(new Ge(_,p,`layer "${p.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):u.push(new Ge(_,p,`layer "${p.id}" must specify a "source-layer"`)):u.push(new Ge(_,p.source,`source "${p.source}" not found`))}else u.push(new Ge(_,p,'missing required property "source"'));return u=u.concat(Sa({key:_,value:p,valueSpec:E.layer,style:m.style,styleSpec:m.styleSpec,validateSpec:m.validateSpec,objectElementValidators:{"*":()=>[],type:()=>m.validateSpec({key:`${_}.type`,value:p.type,valueSpec:E.layer.type,style:m.style,styleSpec:m.styleSpec,validateSpec:m.validateSpec,object:p,objectKey:"type"}),filter:xp,layout:B=>Sa({layer:p,key:B.key,value:B.value,style:B.style,styleSpec:B.styleSpec,validateSpec:B.validateSpec,objectElementValidators:{"*":j=>zv(Nt({layerType:M},j))}}),paint:B=>Sa({layer:p,key:B.key,value:B.value,style:B.style,styleSpec:B.styleSpec,validateSpec:B.validateSpec,objectElementValidators:{"*":j=>e1(Nt({layerType:M},j))}})}})),u}function bu(m){const u=m.value,p=m.key,_=nr(u);return _!=="string"?[new Ge(p,u,`string expected, ${_} found`)]:[]}const Fv={promoteId:function({key:m,value:u}){if(nr(u)==="string")return bu({key:m,value:u});{const p=[];for(const _ in u)p.push(...bu({key:`${m}.${_}`,value:u[_]}));return p}}};function Nv(m){const u=m.value,p=m.key,_=m.styleSpec,S=m.style,E=m.validateSpec;if(!u.type)return[new Ge(p,u,'"type" is required')];const M=Kr(u.type);let O;switch(M){case"vector":case"raster":return O=Sa({key:p,value:u,valueSpec:_[`source_${M.replace("-","_")}`],style:m.style,styleSpec:_,objectElementValidators:Fv,validateSpec:E}),O;case"raster-dem":return O=function(B){var j;const G=(j=B.sourceName)!==null&&j!==void 0?j:"",Z=B.value,Q=B.styleSpec,ie=Q.source_raster_dem,oe=B.style;let he=[];const be=nr(Z);if(Z===void 0)return he;if(be!=="object")return he.push(new Ge("source_raster_dem",Z,`object expected, ${be} found`)),he;const Ee=Kr(Z.encoding)==="custom",Ue=["redFactor","greenFactor","blueFactor","baseShift"],Ae=B.value.encoding?`"${B.value.encoding}"`:"Default";for(const re in Z)!Ee&&Ue.includes(re)?he.push(new Ge(re,Z[re],`In "${G}": "${re}" is only valid when "encoding" is set to "custom". ${Ae} encoding found`)):ie[re]?he=he.concat(B.validateSpec({key:re,value:Z[re],valueSpec:ie[re],validateSpec:B.validateSpec,style:oe,styleSpec:Q})):he.push(new Ge(re,Z[re],`unknown property "${re}"`));return he}({sourceName:p,value:u,style:m.style,styleSpec:_,validateSpec:E}),O;case"geojson":if(O=Sa({key:p,value:u,valueSpec:_.source_geojson,style:S,styleSpec:_,validateSpec:E,objectElementValidators:Fv}),u.cluster)for(const B in u.clusterProperties){const[j,G]=u.clusterProperties[B],Z=typeof j=="string"?[j,["accumulated"],["get",B]]:j;O.push(...Mc({key:`${p}.${B}.map`,value:G,validateSpec:E,expressionContext:"cluster-map"})),O.push(...Mc({key:`${p}.${B}.reduce`,value:Z,validateSpec:E,expressionContext:"cluster-reduce"}))}return O;case"video":return Sa({key:p,value:u,valueSpec:_.source_video,style:S,validateSpec:E,styleSpec:_});case"image":return Sa({key:p,value:u,valueSpec:_.source_image,style:S,validateSpec:E,styleSpec:_});case"canvas":return[new Ge(p,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Yh({key:`${p}.type`,value:u.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:S,validateSpec:E,styleSpec:_})}}function Ac(m){const u=m.value,p=m.styleSpec,_=p.light,S=m.style;let E=[];const M=nr(u);if(u===void 0)return E;if(M!=="object")return E=E.concat([new Ge("light",u,`object expected, ${M} found`)]),E;for(const O in u){const B=O.match(/^(.*)-transition$/);E=E.concat(B&&_[B[1]]&&_[B[1]].transition?m.validateSpec({key:O,value:u[O],valueSpec:p.transition,validateSpec:m.validateSpec,style:S,styleSpec:p}):_[O]?m.validateSpec({key:O,value:u[O],valueSpec:_[O],validateSpec:m.validateSpec,style:S,styleSpec:p}):[new Ge(O,u[O],`unknown property "${O}"`)])}return E}function t1(m){const u=m.value,p=m.styleSpec,_=p.sky,S=m.style,E=nr(u);if(u===void 0)return[];if(E!=="object")return[new Ge("sky",u,`object expected, ${E} found`)];let M=[];for(const O in u)M=M.concat(_[O]?m.validateSpec({key:O,value:u[O],valueSpec:_[O],style:S,styleSpec:p}):[new Ge(O,u[O],`unknown property "${O}"`)]);return M}function n1(m){const u=m.value,p=m.styleSpec,_=p.terrain,S=m.style;let E=[];const M=nr(u);if(u===void 0)return E;if(M!=="object")return E=E.concat([new Ge("terrain",u,`object expected, ${M} found`)]),E;for(const O in u)E=E.concat(_[O]?m.validateSpec({key:O,value:u[O],valueSpec:_[O],validateSpec:m.validateSpec,style:S,styleSpec:p}):[new Ge(O,u[O],`unknown property "${O}"`)]);return E}function r1(m){let u=[];const p=m.value,_=m.key;if(Array.isArray(p)){const S=[],E=[];for(const M in p)p[M].id&&S.includes(p[M].id)&&u.push(new Ge(_,p,`all the sprites' ids must be unique, but ${p[M].id} is duplicated`)),S.push(p[M].id),p[M].url&&E.includes(p[M].url)&&u.push(new Ge(_,p,`all the sprites' URLs must be unique, but ${p[M].url} is duplicated`)),E.push(p[M].url),u=u.concat(Sa({key:`${_}[${M}]`,value:p[M],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:m.validateSpec}));return u}return bu({key:_,value:p})}const i1={"*":()=>[],array:Rv,boolean:function(m){const u=m.value,p=m.key,_=nr(u);return _!=="boolean"?[new Ge(p,u,`boolean expected, ${_} found`)]:[]},number:Lv,color:function(m){const u=m.key,p=m.value,_=nr(p);return _!=="string"?[new Ge(u,p,`color expected, ${_} found`)]:Hn.parse(String(p))?[]:[new Ge(u,p,`color expected, "${p}" found`)]},constants:bp,enum:Yh,filter:xp,function:Qb,layer:Bv,object:Sa,source:Nv,light:Ac,sky:t1,terrain:n1,projection:function(m){const u=m.value,p=m.styleSpec,_=p.projection,S=m.style,E=nr(u);if(u===void 0)return[];if(E!=="object")return[new Ge("projection",u,`object expected, ${E} found`)];let M=[];for(const O in u)M=M.concat(_[O]?m.validateSpec({key:O,value:u[O],valueSpec:_[O],style:S,styleSpec:p}):[new Ge(O,u[O],`unknown property "${O}"`)]);return M},projectionDefinition:function(m){const u=m.key;let p=m.value;p=p instanceof String?p.valueOf():p;const _=nr(p);return _!=="array"||function(S){return Array.isArray(S)&&S.length===3&&typeof S[0]=="string"&&typeof S[1]=="string"&&typeof S[2]=="number"}(p)||function(S){return!!["interpolate","step","literal"].includes(S[0])}(p)?["array","string"].includes(_)?[]:[new Ge(u,p,`projection expected, invalid type "${_}" found`)]:[new Ge(u,p,`projection expected, invalid array ${JSON.stringify(p)} found`)]},string:bu,formatted:function(m){return bu(m).length===0?[]:Mc(m)},resolvedImage:function(m){return bu(m).length===0?[]:Mc(m)},padding:function(m){const u=m.key,p=m.value;if(nr(p)==="array"){if(p.length<1||p.length>4)return[new Ge(u,p,`padding requires 1 to 4 values; ${p.length} values found`)];const _={type:"number"};let S=[];for(let E=0;E<p.length;E++)S=S.concat(m.validateSpec({key:`${u}[${E}]`,value:p[E],validateSpec:m.validateSpec,valueSpec:_}));return S}return Lv({key:u,value:p,valueSpec:{}})},variableAnchorOffsetCollection:function(m){const u=m.key,p=m.value,_=nr(p),S=m.styleSpec;if(_!=="array"||p.length<1||p.length%2!=0)return[new Ge(u,p,"variableAnchorOffsetCollection requires a non-empty array of even length")];let E=[];for(let M=0;M<p.length;M+=2)E=E.concat(Yh({key:`${u}[${M}]`,value:p[M],valueSpec:S.layout_symbol["text-anchor"]})),E=E.concat(Rv({key:`${u}[${M+1}]`,value:p[M+1],valueSpec:{length:2,value:"number"},validateSpec:m.validateSpec,style:m.style,styleSpec:S}));return E},sprite:r1};function Qh(m){const u=m.value,p=m.valueSpec,_=m.styleSpec;return m.validateSpec=Qh,p.expression&&pp(Kr(u))?Qb(m):p.expression&&Kh(ms(u))?Mc(m):p.type&&i1[p.type]?i1[p.type](m):Sa(Nt({},m,{valueSpec:p.type?_[p.type]:p}))}function o1(m){const u=m.value,p=m.key,_=bu(m);return _.length||(u.indexOf("{fontstack}")===-1&&_.push(new Ge(p,u,'"glyphs" url must include a "{fontstack}" token')),u.indexOf("{range}")===-1&&_.push(new Ge(p,u,'"glyphs" url must include a "{range}" token'))),_}function xo(m,u=xe){let p=[];return p=p.concat(Qh({key:"",value:m,valueSpec:u.$root,styleSpec:u,style:m,validateSpec:Qh,objectElementValidators:{glyphs:o1,"*":()=>[]}})),m.constants&&(p=p.concat(bp({key:"constants",value:m.constants,style:m,styleSpec:u,validateSpec:Qh}))),Lo(p)}function Ro(m){return function(u){return m({...u,validateSpec:Qh})}}function Lo(m){return[].concat(m).sort((u,p)=>u.line-p.line)}function $o(m){return function(...u){return Lo(m.apply(this,u))}}xo.source=$o(Ro(Nv)),xo.sprite=$o(Ro(r1)),xo.glyphs=$o(Ro(o1)),xo.light=$o(Ro(Ac)),xo.sky=$o(Ro(t1)),xo.terrain=$o(Ro(n1)),xo.layer=$o(Ro(Bv)),xo.filter=$o(Ro(xp)),xo.paintProperty=$o(Ro(e1)),xo.layoutProperty=$o(Ro(zv));const xu=xo,qC=xu.light,KC=xu.sky,ed=xu.paintProperty,a1=xu.layoutProperty;function wp(m,u){let p=!1;if(u&&u.length)for(const _ of u)m.fire(new Vr(new Error(_.message))),p=!0;return p}class td{constructor(u,p,_){const S=this.cells=[];if(u instanceof ArrayBuffer){this.arrayBuffer=u;const M=new Int32Array(this.arrayBuffer);u=M[0],this.d=(p=M[1])+2*(_=M[2]);for(let B=0;B<this.d*this.d;B++){const j=M[3+B],G=M[3+B+1];S.push(j===G?null:M.subarray(j,G))}const O=M[3+S.length+1];this.keys=M.subarray(M[3+S.length],O),this.bboxes=M.subarray(O),this.insert=this._insertReadonly}else{this.d=p+2*_;for(let M=0;M<this.d*this.d;M++)S.push([]);this.keys=[],this.bboxes=[]}this.n=p,this.extent=u,this.padding=_,this.scale=p/u,this.uid=0;const E=_/p*u;this.min=-E,this.max=u+E}insert(u,p,_,S,E){this._forEachCell(p,_,S,E,this._insertCell,this.uid++,void 0,void 0),this.keys.push(u),this.bboxes.push(p),this.bboxes.push(_),this.bboxes.push(S),this.bboxes.push(E)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(u,p,_,S,E,M){this.cells[E].push(M)}query(u,p,_,S,E){const M=this.min,O=this.max;if(u<=M&&p<=M&&O<=_&&O<=S&&!E)return Array.prototype.slice.call(this.keys);{const B=[];return this._forEachCell(u,p,_,S,this._queryCell,B,{},E),B}}_queryCell(u,p,_,S,E,M,O,B){const j=this.cells[E];if(j!==null){const G=this.keys,Z=this.bboxes;for(let Q=0;Q<j.length;Q++){const ie=j[Q];if(O[ie]===void 0){const oe=4*ie;(B?B(Z[oe+0],Z[oe+1],Z[oe+2],Z[oe+3]):u<=Z[oe+2]&&p<=Z[oe+3]&&_>=Z[oe+0]&&S>=Z[oe+1])?(O[ie]=!0,M.push(G[ie])):O[ie]=!1}}}}_forEachCell(u,p,_,S,E,M,O,B){const j=this._convertToCellCoord(u),G=this._convertToCellCoord(p),Z=this._convertToCellCoord(_),Q=this._convertToCellCoord(S);for(let ie=j;ie<=Z;ie++)for(let oe=G;oe<=Q;oe++){const he=this.d*oe+ie;if((!B||B(this._convertFromCellCoord(ie),this._convertFromCellCoord(oe),this._convertFromCellCoord(ie+1),this._convertFromCellCoord(oe+1)))&&E.call(this,u,p,_,S,he,M,O,B))return}}_convertFromCellCoord(u){return(u-this.padding)/this.scale}_convertToCellCoord(u){return Math.max(0,Math.min(this.d-1,Math.floor(u*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const u=this.cells,p=3+this.cells.length+1+1;let _=0;for(let M=0;M<this.cells.length;M++)_+=this.cells[M].length;const S=new Int32Array(p+_+this.keys.length+this.bboxes.length);S[0]=this.extent,S[1]=this.n,S[2]=this.padding;let E=p;for(let M=0;M<u.length;M++){const O=u[M];S[3+M]=E,S.set(O,E),E+=O.length}return S[3+u.length]=E,S.set(this.keys,E),E+=this.keys.length,S[3+u.length+1]=E,S.set(this.bboxes,E),E+=this.bboxes.length,S.buffer}static serialize(u,p){const _=u.toArrayBuffer();return p&&p.push(_),{buffer:_}}static deserialize(u){return new td(u.buffer)}}const Na={};function tn(m,u,p={}){if(Na[m])throw new Error(`${m} is already registered.`);Object.defineProperty(u,"_classRegistryKey",{value:m,writeable:!1}),Na[m]={klass:u,omit:p.omit||[],shallow:p.shallow||[]}}tn("Object",Object),tn("TransferableGridIndex",td),tn("Color",Hn),tn("Error",Error),tn("AJAXError",sn),tn("ResolvedImage",ko),tn("StylePropertyFunction",gp),tn("StyleExpression",Cv,{omit:["_evaluator"]}),tn("ZoomDependentExpression",Ic),tn("ZoomConstantExpression",Tv),tn("CompoundExpression",wa,{omit:["_evaluate"]});for(const m in Tc)Tc[m]._classRegistryKey||tn(`Expression_${m}`,Tc[m]);function Dc(m){return m&&typeof ArrayBuffer<"u"&&(m instanceof ArrayBuffer||m.constructor&&m.constructor.name==="ArrayBuffer")}function Vv(m){return m.$name||m.constructor._classRegistryKey}function kc(m){return!function(u){if(u===null||typeof u!="object")return!1;const p=Vv(u);return!(!p||p==="Object")}(m)&&(m==null||typeof m=="boolean"||typeof m=="number"||typeof m=="string"||m instanceof Boolean||m instanceof Number||m instanceof String||m instanceof Date||m instanceof RegExp||m instanceof Blob||m instanceof Error||Dc(m)||Ze(m)||ArrayBuffer.isView(m)||m instanceof ImageData)}function nd(m,u){if(kc(m))return(Dc(m)||Ze(m))&&u&&u.push(m),ArrayBuffer.isView(m)&&u&&u.push(m.buffer),m instanceof ImageData&&u&&u.push(m.data.buffer),m;if(Array.isArray(m)){const E=[];for(const M of m)E.push(nd(M,u));return E}if(typeof m!="object")throw new Error("can't serialize object of type "+typeof m);const p=Vv(m);if(!p)throw new Error(`can't serialize object of unregistered class ${m.constructor.name}`);if(!Na[p])throw new Error(`${p} is not registered.`);const{klass:_}=Na[p],S=_.serialize?_.serialize(m,u):{};if(_.serialize){if(u&&S===u[u.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const E in m){if(!m.hasOwnProperty(E)||Na[p].omit.indexOf(E)>=0)continue;const M=m[E];S[E]=Na[p].shallow.indexOf(E)>=0?M:nd(M,u)}m instanceof Error&&(S.message=m.message)}if(S.$name)throw new Error("$name property is reserved for worker serialization logic.");return p!=="Object"&&(S.$name=p),S}function rd(m){if(kc(m))return m;if(Array.isArray(m))return m.map(rd);if(typeof m!="object")throw new Error("can't deserialize object of type "+typeof m);const u=Vv(m)||"Object";if(!Na[u])throw new Error(`can't deserialize unregistered class ${u}`);const{klass:p}=Na[u];if(!p)throw new Error(`can't deserialize unregistered class ${u}`);if(p.deserialize)return p.deserialize(m);const _=Object.create(p.prototype);for(const S of Object.keys(m)){if(S==="$name")continue;const E=m[S];_[S]=Na[u].shallow.indexOf(S)>=0?E:rd(E)}return _}class id{constructor(){this.first=!0}update(u,p){const _=Math.floor(u);return this.first?(this.first=!1,this.lastIntegerZoom=_,this.lastIntegerZoomTime=0,this.lastZoom=u,this.lastFloorZoom=_,!0):(this.lastFloorZoom>_?(this.lastIntegerZoom=_+1,this.lastIntegerZoomTime=p):this.lastFloorZoom<_&&(this.lastIntegerZoom=_,this.lastIntegerZoomTime=p),u!==this.lastZoom&&(this.lastZoom=u,this.lastFloorZoom=_,!0))}}const Kn={"Latin-1 Supplement":m=>m>=128&&m<=255,"Hangul Jamo":m=>m>=4352&&m<=4607,Khmer:m=>m>=6016&&m<=6143,"General Punctuation":m=>m>=8192&&m<=8303,"Letterlike Symbols":m=>m>=8448&&m<=8527,"Number Forms":m=>m>=8528&&m<=8591,"Miscellaneous Technical":m=>m>=8960&&m<=9215,"Control Pictures":m=>m>=9216&&m<=9279,"Optical Character Recognition":m=>m>=9280&&m<=9311,"Enclosed Alphanumerics":m=>m>=9312&&m<=9471,"Geometric Shapes":m=>m>=9632&&m<=9727,"Miscellaneous Symbols":m=>m>=9728&&m<=9983,"Miscellaneous Symbols and Arrows":m=>m>=11008&&m<=11263,"Ideographic Description Characters":m=>m>=12272&&m<=12287,"CJK Symbols and Punctuation":m=>m>=12288&&m<=12351,Katakana:m=>m>=12448&&m<=12543,Kanbun:m=>m>=12688&&m<=12703,"CJK Strokes":m=>m>=12736&&m<=12783,"Enclosed CJK Letters and Months":m=>m>=12800&&m<=13055,"CJK Compatibility":m=>m>=13056&&m<=13311,"Yijing Hexagram Symbols":m=>m>=19904&&m<=19967,"Private Use Area":m=>m>=57344&&m<=63743,"Vertical Forms":m=>m>=65040&&m<=65055,"CJK Compatibility Forms":m=>m>=65072&&m<=65103,"Small Form Variants":m=>m>=65104&&m<=65135,"Halfwidth and Fullwidth Forms":m=>m>=65280&&m<=65519};function od(m){for(const u of m)if(ad(u.charCodeAt(0)))return!0;return!1}function Sp(m){for(const u of m)if(!l1(u.charCodeAt(0)))return!1;return!0}function Cp(m){const u=m.map(p=>{try{return new RegExp(`\\p{sc=${p}}`,"u").source}catch{return null}}).filter(p=>p);return new RegExp(u.join("|"),"u")}const s1=Cp(["Arab","Dupl","Mong","Ougr","Syrc"]);function l1(m){return!s1.test(String.fromCodePoint(m))}const jv=Cp(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function ad(m){return!(m!==746&&m!==747&&(m<4352||!(Kn["CJK Compatibility Forms"](m)&&!(m>=65097&&m<=65103)||Kn["CJK Compatibility"](m)||Kn["CJK Strokes"](m)||!(!Kn["CJK Symbols and Punctuation"](m)||m>=12296&&m<=12305||m>=12308&&m<=12319||m===12336)||Kn["Enclosed CJK Letters and Months"](m)||Kn["Ideographic Description Characters"](m)||Kn.Kanbun(m)||Kn.Katakana(m)&&m!==12540||!(!Kn["Halfwidth and Fullwidth Forms"](m)||m===65288||m===65289||m===65293||m>=65306&&m<=65310||m===65339||m===65341||m===65343||m>=65371&&m<=65503||m===65507||m>=65512&&m<=65519)||!(!Kn["Small Form Variants"](m)||m>=65112&&m<=65118||m>=65123&&m<=65126)||Kn["Vertical Forms"](m)||Kn["Yijing Hexagram Symbols"](m)||new RegExp("\\p{sc=Cans}","u").test(String.fromCodePoint(m))||new RegExp("\\p{sc=Hang}","u").test(String.fromCodePoint(m))||jv.test(String.fromCodePoint(m)))))}function Hv(m){return!(ad(m)||function(u){return!!(Kn["Latin-1 Supplement"](u)&&(u===167||u===169||u===174||u===177||u===188||u===189||u===190||u===215||u===247)||Kn["General Punctuation"](u)&&(u===8214||u===8224||u===8225||u===8240||u===8241||u===8251||u===8252||u===8258||u===8263||u===8264||u===8265||u===8273)||Kn["Letterlike Symbols"](u)||Kn["Number Forms"](u)||Kn["Miscellaneous Technical"](u)&&(u>=8960&&u<=8967||u>=8972&&u<=8991||u>=8996&&u<=9e3||u===9003||u>=9085&&u<=9114||u>=9150&&u<=9165||u===9167||u>=9169&&u<=9179||u>=9186&&u<=9215)||Kn["Control Pictures"](u)&&u!==9251||Kn["Optical Character Recognition"](u)||Kn["Enclosed Alphanumerics"](u)||Kn["Geometric Shapes"](u)||Kn["Miscellaneous Symbols"](u)&&!(u>=9754&&u<=9759)||Kn["Miscellaneous Symbols and Arrows"](u)&&(u>=11026&&u<=11055||u>=11088&&u<=11097||u>=11192&&u<=11243)||Kn["CJK Symbols and Punctuation"](u)||Kn.Katakana(u)||Kn["Private Use Area"](u)||Kn["CJK Compatibility Forms"](u)||Kn["Small Form Variants"](u)||Kn["Halfwidth and Fullwidth Forms"](u)||u===8734||u===8756||u===8757||u>=9984&&u<=10087||u>=10102&&u<=10131||u===65532||u===65533)}(m))}const XC=Cp(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function Uv(m){return XC.test(String.fromCodePoint(m))}function YC(m,u){return!(!u&&Uv(m)||m>=2304&&m<=3583||m>=3840&&m<=4255||Kn.Khmer(m))}function u1(m){for(const u of m)if(Uv(u.charCodeAt(0)))return!0;return!1}const qs=new class{constructor(){this.TIMEOUT=5e3,this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null,this.loadScriptResolve=()=>{}}setState(m){this.pluginStatus=m.pluginStatus,this.pluginURL=m.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(m){if(qs.isParsed())throw new Error("RTL text plugin already registered.");this.applyArabicShaping=m.applyArabicShaping,this.processBidirectionalText=m.processBidirectionalText,this.processStyledBidirectionalText=m.processStyledBidirectionalText,this.loadScriptResolve()}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getRTLTextPluginStatus(){return this.pluginStatus}syncState(m,u){return a(this,void 0,void 0,function*(){if(this.isParsed())return this.getState();if(m.pluginStatus!=="loading")return this.setState(m),m;const p=m.pluginURL,_=new Promise(E=>{this.loadScriptResolve=E});u(p);const S=new Promise(E=>setTimeout(()=>E(),this.TIMEOUT));if(yield Promise.race([_,S]),this.isParsed()){const E={pluginStatus:"loaded",pluginURL:p};return this.setState(E),E}throw this.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${p}`)})}};class kr{constructor(u,p){this.zoom=u,p?(this.now=p.now,this.fadeDuration=p.fadeDuration,this.zoomHistory=p.zoomHistory,this.transition=p.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new id,this.transition={})}isSupportedScript(u){return function(p,_){for(const S of p)if(!YC(S.charCodeAt(0),_))return!1;return!0}(u,qs.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const u=this.zoom,p=u-Math.floor(u),_=this.crossFadingFactor();return u>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:p+(1-p)*_}:{fromScale:.5,toScale:1,t:1-(1-_)*p}}}class Tp{constructor(u,p){this.property=u,this.value=p,this.expression=function(_,S){if(pp(_))return new gp(_,S);if(Kh(_)){const E=Pv(_,S);if(E.result==="error")throw new Error(E.value.map(M=>`${M.key}: ${M.message}`).join(", "));return E.value}{let E=_;return S.type==="color"&&typeof _=="string"?E=Hn.parse(_):S.type!=="padding"||typeof _!="number"&&!Array.isArray(_)?S.type==="variableAnchorOffsetCollection"&&Array.isArray(_)?E=uo.parse(_):S.type==="projectionDefinition"&&typeof _=="string"&&(E=Zi.parse(_)):E=qr.parse(_),{kind:"constant",evaluate:()=>E}}}(p===void 0?u.specification.default:p,u.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(u,p,_){return this.property.possiblyEvaluate(this,u,p,_)}}class Gv{constructor(u){this.property=u,this.value=new Tp(u,void 0)}transitioned(u,p){return new Zv(this.property,this.value,p,Lt({},u.transition,this.transition),u.now)}untransitioned(){return new Zv(this.property,this.value,null,{},0)}}class Wv{constructor(u){this._properties=u,this._values=Object.create(u.defaultTransitionablePropertyValues)}getValue(u){return Re(this._values[u].value.value)}setValue(u,p){Object.prototype.hasOwnProperty.call(this._values,u)||(this._values[u]=new Gv(this._values[u].property)),this._values[u].value=new Tp(this._values[u].property,p===null?void 0:Re(p))}getTransition(u){return Re(this._values[u].transition)}setTransition(u,p){Object.prototype.hasOwnProperty.call(this._values,u)||(this._values[u]=new Gv(this._values[u].property)),this._values[u].transition=Re(p)||void 0}serialize(){const u={};for(const p of Object.keys(this._values)){const _=this.getValue(p);_!==void 0&&(u[p]=_);const S=this.getTransition(p);S!==void 0&&(u[`${p}-transition`]=S)}return u}transitioned(u,p){const _=new qv(this._properties);for(const S of Object.keys(this._values))_._values[S]=this._values[S].transitioned(u,p._values[S]);return _}untransitioned(){const u=new qv(this._properties);for(const p of Object.keys(this._values))u._values[p]=this._values[p].untransitioned();return u}}class Zv{constructor(u,p,_,S,E){this.property=u,this.value=p,this.begin=E+S.delay||0,this.end=this.begin+S.duration||0,u.specification.transition&&(S.delay||S.duration)&&(this.prior=_)}possiblyEvaluate(u,p,_){const S=u.now||0,E=this.value.possiblyEvaluate(u,p,_),M=this.prior;if(M){if(S>this.end)return this.prior=null,E;if(this.value.isDataDriven())return this.prior=null,E;if(S<this.begin)return M.possiblyEvaluate(u,p,_);{const O=(S-this.begin)/(this.end-this.begin);return this.property.interpolate(M.possiblyEvaluate(u,p,_),E,rt(O))}}return E}}class qv{constructor(u){this._properties=u,this._values=Object.create(u.defaultTransitioningPropertyValues)}possiblyEvaluate(u,p,_){const S=new Pp(this._properties);for(const E of Object.keys(this._values))S._values[E]=this._values[E].possiblyEvaluate(u,p,_);return S}hasTransition(){for(const u of Object.keys(this._values))if(this._values[u].prior)return!0;return!1}}class c1{constructor(u){this._properties=u,this._values=Object.create(u.defaultPropertyValues)}hasValue(u){return this._values[u].value!==void 0}getValue(u){return Re(this._values[u].value)}setValue(u,p){this._values[u]=new Tp(this._values[u].property,p===null?void 0:Re(p))}serialize(){const u={};for(const p of Object.keys(this._values)){const _=this.getValue(p);_!==void 0&&(u[p]=_)}return u}possiblyEvaluate(u,p,_){const S=new Pp(this._properties);for(const E of Object.keys(this._values))S._values[E]=this._values[E].possiblyEvaluate(u,p,_);return S}}class ra{constructor(u,p,_){this.property=u,this.value=p,this.parameters=_}isConstant(){return this.value.kind==="constant"}constantOr(u){return this.value.kind==="constant"?this.value.value:u}evaluate(u,p,_,S){return this.property.evaluate(this.value,this.parameters,u,p,_,S)}}class Pp{constructor(u){this._properties=u,this._values=Object.create(u.defaultPossiblyEvaluatedValues)}get(u){return this._values[u]}}class un{constructor(u){this.specification=u}possiblyEvaluate(u,p){if(u.isDataDriven())throw new Error("Value should not be data driven");return u.expression.evaluate(p)}interpolate(u,p,_){const S=na[this.specification.type];return S?S(u,p,_):u}}class yn{constructor(u,p){this.specification=u,this.overrides=p}possiblyEvaluate(u,p,_,S){return new ra(this,u.expression.kind==="constant"||u.expression.kind==="camera"?{kind:"constant",value:u.expression.evaluate(p,null,{},_,S)}:u.expression,p)}interpolate(u,p,_){if(u.value.kind!=="constant"||p.value.kind!=="constant")return u;if(u.value.value===void 0||p.value.value===void 0)return new ra(this,{kind:"constant",value:void 0},u.parameters);const S=na[this.specification.type];if(S){const E=S(u.value.value,p.value.value,_);return new ra(this,{kind:"constant",value:E},u.parameters)}return u}evaluate(u,p,_,S,E,M){return u.kind==="constant"?u.value:u.evaluate(p,_,S,E,M)}}class Ep extends yn{possiblyEvaluate(u,p,_,S){if(u.value===void 0)return new ra(this,{kind:"constant",value:void 0},p);if(u.expression.kind==="constant"){const E=u.expression.evaluate(p,null,{},_,S),M=u.property.specification.type==="resolvedImage"&&typeof E!="string"?E.name:E,O=this._calculate(M,M,M,p);return new ra(this,{kind:"constant",value:O},p)}if(u.expression.kind==="camera"){const E=this._calculate(u.expression.evaluate({zoom:p.zoom-1}),u.expression.evaluate({zoom:p.zoom}),u.expression.evaluate({zoom:p.zoom+1}),p);return new ra(this,{kind:"constant",value:E},p)}return new ra(this,u.expression,p)}evaluate(u,p,_,S,E,M){if(u.kind==="source"){const O=u.evaluate(p,_,S,E,M);return this._calculate(O,O,O,p)}return u.kind==="composite"?this._calculate(u.evaluate({zoom:Math.floor(p.zoom)-1},_,S),u.evaluate({zoom:Math.floor(p.zoom)},_,S),u.evaluate({zoom:Math.floor(p.zoom)+1},_,S),p):u.value}_calculate(u,p,_,S){return S.zoom>S.zoomHistory.lastIntegerZoom?{from:u,to:p}:{from:_,to:p}}interpolate(u){return u}}class Ip{constructor(u){this.specification=u}possiblyEvaluate(u,p,_,S){if(u.value!==void 0){if(u.expression.kind==="constant"){const E=u.expression.evaluate(p,null,{},_,S);return this._calculate(E,E,E,p)}return this._calculate(u.expression.evaluate(new kr(Math.floor(p.zoom-1),p)),u.expression.evaluate(new kr(Math.floor(p.zoom),p)),u.expression.evaluate(new kr(Math.floor(p.zoom+1),p)),p)}}_calculate(u,p,_,S){return S.zoom>S.zoomHistory.lastIntegerZoom?{from:u,to:p}:{from:_,to:p}}interpolate(u){return u}}class Mp{constructor(u){this.specification=u}possiblyEvaluate(u,p,_,S){return!!u.expression.evaluate(p,null,{},_,S)}interpolate(){return!1}}class wo{constructor(u){this.properties=u,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const p in u){const _=u[p];_.specification.overridable&&this.overridableProperties.push(p);const S=this.defaultPropertyValues[p]=new Tp(_,void 0),E=this.defaultTransitionablePropertyValues[p]=new Gv(_);this.defaultTransitioningPropertyValues[p]=E.untransitioned(),this.defaultPossiblyEvaluatedValues[p]=S.possiblyEvaluate({})}}}tn("DataDrivenProperty",yn),tn("DataConstantProperty",un),tn("CrossFadedDataDrivenProperty",Ep),tn("CrossFadedProperty",Ip),tn("ColorRampProperty",Mp);const h1="-transition";class gs extends Pi{constructor(u,p){if(super(),this.id=u.id,this.type=u.type,this._featureFilter={filter:()=>!0,needGeometry:!1},u.type!=="custom"&&(this.metadata=u.metadata,this.minzoom=u.minzoom,this.maxzoom=u.maxzoom,u.type!=="background"&&(this.source=u.source,this.sourceLayer=u["source-layer"],this.filter=u.filter),p.layout&&(this._unevaluatedLayout=new c1(p.layout)),p.paint)){this._transitionablePaint=new Wv(p.paint);for(const _ in u.paint)this.setPaintProperty(_,u.paint[_],{validate:!1});for(const _ in u.layout)this.setLayoutProperty(_,u.layout[_],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Pp(p.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(u){return u==="visibility"?this.visibility:this._unevaluatedLayout.getValue(u)}setLayoutProperty(u,p,_={}){p!=null&&this._validate(a1,`layers.${this.id}.layout.${u}`,u,p,_)||(u!=="visibility"?this._unevaluatedLayout.setValue(u,p):this.visibility=p)}getPaintProperty(u){return u.endsWith(h1)?this._transitionablePaint.getTransition(u.slice(0,-11)):this._transitionablePaint.getValue(u)}setPaintProperty(u,p,_={}){if(p!=null&&this._validate(ed,`layers.${this.id}.paint.${u}`,u,p,_))return!1;if(u.endsWith(h1))return this._transitionablePaint.setTransition(u.slice(0,-11),p||void 0),!1;{const S=this._transitionablePaint._values[u],E=S.property.specification["property-type"]==="cross-faded-data-driven",M=S.value.isDataDriven(),O=S.value;this._transitionablePaint.setValue(u,p),this._handleSpecialPaintPropertyUpdate(u);const B=this._transitionablePaint._values[u].value;return B.isDataDriven()||M||E||this._handleOverridablePaintPropertyUpdate(u,O,B)}}_handleSpecialPaintPropertyUpdate(u){}_handleOverridablePaintPropertyUpdate(u,p,_){return!1}isHidden(u){return!!(this.minzoom&&u<this.minzoom)||!!(this.maxzoom&&u>=this.maxzoom)||this.visibility==="none"}updateTransitions(u){this._transitioningPaint=this._transitionablePaint.transitioned(u,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(u,p){u.getCrossfadeParameters&&(this._crossfadeParameters=u.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(u,void 0,p)),this.paint=this._transitioningPaint.possiblyEvaluate(u,void 0,p)}serialize(){const u={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(u.layout=u.layout||{},u.layout.visibility=this.visibility),ut(u,(p,_)=>!(p===void 0||_==="layout"&&!Object.keys(p).length||_==="paint"&&!Object.keys(p).length))}_validate(u,p,_,S,E={}){return(!E||E.validate!==!1)&&wp(this,u.call(xu,{key:p,layerType:this.type,objectKey:_,value:S,styleSpec:xe,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const u in this.paint._values){const p=this.paint.get(u);if(p instanceof ra&&Ec(p.property.specification)&&(p.value.kind==="source"||p.value.kind==="composite")&&p.value.isStateDependent)return!0}return!1}}const JC={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class sd{constructor(u,p){this._structArray=u,this._pos1=p*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class ai{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(u,p){return u._trim(),p&&(u.isTransferred=!0,p.push(u.arrayBuffer)),{length:u.length,arrayBuffer:u.arrayBuffer}}static deserialize(u){const p=Object.create(this.prototype);return p.arrayBuffer=u.arrayBuffer,p.length=u.length,p.capacity=u.arrayBuffer.byteLength/p.bytesPerElement,p._refreshViews(),p}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(u){this.reserve(u),this.length=u}reserve(u){if(u>this.capacity){this.capacity=Math.max(u,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const p=this.uint8;this._refreshViews(),p&&this.uint8.set(p)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Or(m,u=1){let p=0,_=0;return{members:m.map(S=>{const E=JC[S.type].BYTES_PER_ELEMENT,M=p=d1(p,Math.max(u,E)),O=S.components||1;return _=Math.max(_,E),p+=E*O,{name:S.name,type:S.type,components:O,offset:M}}),size:d1(p,Math.max(_,u)),alignment:u}}function d1(m,u){return Math.ceil(m/u)*u}class ld extends ai{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,p){const _=this.length;return this.resize(_+1),this.emplace(_,u,p)}emplace(u,p,_){const S=2*u;return this.int16[S+0]=p,this.int16[S+1]=_,u}}ld.prototype.bytesPerElement=4,tn("StructArrayLayout2i4",ld);class Ap extends ai{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,p,_){const S=this.length;return this.resize(S+1),this.emplace(S,u,p,_)}emplace(u,p,_,S){const E=3*u;return this.int16[E+0]=p,this.int16[E+1]=_,this.int16[E+2]=S,u}}Ap.prototype.bytesPerElement=6,tn("StructArrayLayout3i6",Ap);class Dp extends ai{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,p,_,S){const E=this.length;return this.resize(E+1),this.emplace(E,u,p,_,S)}emplace(u,p,_,S,E){const M=4*u;return this.int16[M+0]=p,this.int16[M+1]=_,this.int16[M+2]=S,this.int16[M+3]=E,u}}Dp.prototype.bytesPerElement=8,tn("StructArrayLayout4i8",Dp);class Kv extends ai{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,p,_,S,E,M){const O=this.length;return this.resize(O+1),this.emplace(O,u,p,_,S,E,M)}emplace(u,p,_,S,E,M,O){const B=6*u;return this.int16[B+0]=p,this.int16[B+1]=_,this.int16[B+2]=S,this.int16[B+3]=E,this.int16[B+4]=M,this.int16[B+5]=O,u}}Kv.prototype.bytesPerElement=12,tn("StructArrayLayout2i4i12",Kv);class Xv extends ai{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,p,_,S,E,M){const O=this.length;return this.resize(O+1),this.emplace(O,u,p,_,S,E,M)}emplace(u,p,_,S,E,M,O){const B=4*u,j=8*u;return this.int16[B+0]=p,this.int16[B+1]=_,this.uint8[j+4]=S,this.uint8[j+5]=E,this.uint8[j+6]=M,this.uint8[j+7]=O,u}}Xv.prototype.bytesPerElement=8,tn("StructArrayLayout2i4ub8",Xv);class Va extends ai{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,p){const _=this.length;return this.resize(_+1),this.emplace(_,u,p)}emplace(u,p,_){const S=2*u;return this.float32[S+0]=p,this.float32[S+1]=_,u}}Va.prototype.bytesPerElement=8,tn("StructArrayLayout2f8",Va);class kp extends ai{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,p,_,S,E,M,O,B,j,G){const Z=this.length;return this.resize(Z+1),this.emplace(Z,u,p,_,S,E,M,O,B,j,G)}emplace(u,p,_,S,E,M,O,B,j,G,Z){const Q=10*u;return this.uint16[Q+0]=p,this.uint16[Q+1]=_,this.uint16[Q+2]=S,this.uint16[Q+3]=E,this.uint16[Q+4]=M,this.uint16[Q+5]=O,this.uint16[Q+6]=B,this.uint16[Q+7]=j,this.uint16[Q+8]=G,this.uint16[Q+9]=Z,u}}kp.prototype.bytesPerElement=20,tn("StructArrayLayout10ui20",kp);class ud extends ai{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,p,_,S,E,M,O,B,j,G,Z,Q){const ie=this.length;return this.resize(ie+1),this.emplace(ie,u,p,_,S,E,M,O,B,j,G,Z,Q)}emplace(u,p,_,S,E,M,O,B,j,G,Z,Q,ie){const oe=12*u;return this.int16[oe+0]=p,this.int16[oe+1]=_,this.int16[oe+2]=S,this.int16[oe+3]=E,this.uint16[oe+4]=M,this.uint16[oe+5]=O,this.uint16[oe+6]=B,this.uint16[oe+7]=j,this.int16[oe+8]=G,this.int16[oe+9]=Z,this.int16[oe+10]=Q,this.int16[oe+11]=ie,u}}ud.prototype.bytesPerElement=24,tn("StructArrayLayout4i4ui4i24",ud);class Op extends ai{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,p,_){const S=this.length;return this.resize(S+1),this.emplace(S,u,p,_)}emplace(u,p,_,S){const E=3*u;return this.float32[E+0]=p,this.float32[E+1]=_,this.float32[E+2]=S,u}}Op.prototype.bytesPerElement=12,tn("StructArrayLayout3f12",Op);class cd extends ai{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(u){const p=this.length;return this.resize(p+1),this.emplace(p,u)}emplace(u,p){return this.uint32[1*u+0]=p,u}}cd.prototype.bytesPerElement=4,tn("StructArrayLayout1ul4",cd);class Yv extends ai{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,p,_,S,E,M,O,B,j){const G=this.length;return this.resize(G+1),this.emplace(G,u,p,_,S,E,M,O,B,j)}emplace(u,p,_,S,E,M,O,B,j,G){const Z=10*u,Q=5*u;return this.int16[Z+0]=p,this.int16[Z+1]=_,this.int16[Z+2]=S,this.int16[Z+3]=E,this.int16[Z+4]=M,this.int16[Z+5]=O,this.uint32[Q+3]=B,this.uint16[Z+8]=j,this.uint16[Z+9]=G,u}}Yv.prototype.bytesPerElement=20,tn("StructArrayLayout6i1ul2ui20",Yv);class Oc extends ai{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,p,_,S,E,M){const O=this.length;return this.resize(O+1),this.emplace(O,u,p,_,S,E,M)}emplace(u,p,_,S,E,M,O){const B=6*u;return this.int16[B+0]=p,this.int16[B+1]=_,this.int16[B+2]=S,this.int16[B+3]=E,this.int16[B+4]=M,this.int16[B+5]=O,u}}Oc.prototype.bytesPerElement=12,tn("StructArrayLayout2i2i2i12",Oc);class wu extends ai{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,p,_,S,E){const M=this.length;return this.resize(M+1),this.emplace(M,u,p,_,S,E)}emplace(u,p,_,S,E,M){const O=4*u,B=8*u;return this.float32[O+0]=p,this.float32[O+1]=_,this.float32[O+2]=S,this.int16[B+6]=E,this.int16[B+7]=M,u}}wu.prototype.bytesPerElement=16,tn("StructArrayLayout2f1f2i16",wu);class Jv extends ai{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,p,_,S,E,M){const O=this.length;return this.resize(O+1),this.emplace(O,u,p,_,S,E,M)}emplace(u,p,_,S,E,M,O){const B=16*u,j=4*u,G=8*u;return this.uint8[B+0]=p,this.uint8[B+1]=_,this.float32[j+1]=S,this.float32[j+2]=E,this.int16[G+6]=M,this.int16[G+7]=O,u}}Jv.prototype.bytesPerElement=16,tn("StructArrayLayout2ub2f2i16",Jv);class hd extends ai{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,p,_){const S=this.length;return this.resize(S+1),this.emplace(S,u,p,_)}emplace(u,p,_,S){const E=3*u;return this.uint16[E+0]=p,this.uint16[E+1]=_,this.uint16[E+2]=S,u}}hd.prototype.bytesPerElement=6,tn("StructArrayLayout3ui6",hd);class Su extends ai{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,p,_,S,E,M,O,B,j,G,Z,Q,ie,oe,he,be,Ee){const Ue=this.length;return this.resize(Ue+1),this.emplace(Ue,u,p,_,S,E,M,O,B,j,G,Z,Q,ie,oe,he,be,Ee)}emplace(u,p,_,S,E,M,O,B,j,G,Z,Q,ie,oe,he,be,Ee,Ue){const Ae=24*u,re=12*u,_e=48*u;return this.int16[Ae+0]=p,this.int16[Ae+1]=_,this.uint16[Ae+2]=S,this.uint16[Ae+3]=E,this.uint32[re+2]=M,this.uint32[re+3]=O,this.uint32[re+4]=B,this.uint16[Ae+10]=j,this.uint16[Ae+11]=G,this.uint16[Ae+12]=Z,this.float32[re+7]=Q,this.float32[re+8]=ie,this.uint8[_e+36]=oe,this.uint8[_e+37]=he,this.uint8[_e+38]=be,this.uint32[re+10]=Ee,this.int16[Ae+22]=Ue,u}}Su.prototype.bytesPerElement=48,tn("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Su);class Qv extends ai{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,p,_,S,E,M,O,B,j,G,Z,Q,ie,oe,he,be,Ee,Ue,Ae,re,_e,De,nt,Mt,ct,mt,Rt,At){const $t=this.length;return this.resize($t+1),this.emplace($t,u,p,_,S,E,M,O,B,j,G,Z,Q,ie,oe,he,be,Ee,Ue,Ae,re,_e,De,nt,Mt,ct,mt,Rt,At)}emplace(u,p,_,S,E,M,O,B,j,G,Z,Q,ie,oe,he,be,Ee,Ue,Ae,re,_e,De,nt,Mt,ct,mt,Rt,At,$t){const xt=32*u,rn=16*u;return this.int16[xt+0]=p,this.int16[xt+1]=_,this.int16[xt+2]=S,this.int16[xt+3]=E,this.int16[xt+4]=M,this.int16[xt+5]=O,this.int16[xt+6]=B,this.int16[xt+7]=j,this.uint16[xt+8]=G,this.uint16[xt+9]=Z,this.uint16[xt+10]=Q,this.uint16[xt+11]=ie,this.uint16[xt+12]=oe,this.uint16[xt+13]=he,this.uint16[xt+14]=be,this.uint16[xt+15]=Ee,this.uint16[xt+16]=Ue,this.uint16[xt+17]=Ae,this.uint16[xt+18]=re,this.uint16[xt+19]=_e,this.uint16[xt+20]=De,this.uint16[xt+21]=nt,this.uint16[xt+22]=Mt,this.uint32[rn+12]=ct,this.float32[rn+13]=mt,this.float32[rn+14]=Rt,this.uint16[xt+30]=At,this.uint16[xt+31]=$t,u}}Qv.prototype.bytesPerElement=64,tn("StructArrayLayout8i15ui1ul2f2ui64",Qv);class Rp extends ai{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u){const p=this.length;return this.resize(p+1),this.emplace(p,u)}emplace(u,p){return this.float32[1*u+0]=p,u}}Rp.prototype.bytesPerElement=4,tn("StructArrayLayout1f4",Rp);class Lp extends ai{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,p,_){const S=this.length;return this.resize(S+1),this.emplace(S,u,p,_)}emplace(u,p,_,S){const E=3*u;return this.uint16[6*u+0]=p,this.float32[E+1]=_,this.float32[E+2]=S,u}}Lp.prototype.bytesPerElement=12,tn("StructArrayLayout1ui2f12",Lp);class ey extends ai{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,p,_){const S=this.length;return this.resize(S+1),this.emplace(S,u,p,_)}emplace(u,p,_,S){const E=4*u;return this.uint32[2*u+0]=p,this.uint16[E+2]=_,this.uint16[E+3]=S,u}}ey.prototype.bytesPerElement=8,tn("StructArrayLayout1ul2ui8",ey);class T extends ai{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,p){const _=this.length;return this.resize(_+1),this.emplace(_,u,p)}emplace(u,p,_){const S=2*u;return this.uint16[S+0]=p,this.uint16[S+1]=_,u}}T.prototype.bytesPerElement=4,tn("StructArrayLayout2ui4",T);class l extends ai{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u){const p=this.length;return this.resize(p+1),this.emplace(p,u)}emplace(u,p){return this.uint16[1*u+0]=p,u}}l.prototype.bytesPerElement=2,tn("StructArrayLayout1ui2",l);class f extends ai{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,p,_,S){const E=this.length;return this.resize(E+1),this.emplace(E,u,p,_,S)}emplace(u,p,_,S,E){const M=4*u;return this.float32[M+0]=p,this.float32[M+1]=_,this.float32[M+2]=S,this.float32[M+3]=E,u}}f.prototype.bytesPerElement=16,tn("StructArrayLayout4f16",f);class b extends sd{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new x(this.anchorPointX,this.anchorPointY)}}b.prototype.size=20;class w extends Yv{get(u){return new b(this,u)}}tn("CollisionBoxArray",w);class P extends sd{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(u){this._structArray.uint8[this._pos1+37]=u}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(u){this._structArray.uint8[this._pos1+38]=u}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(u){this._structArray.uint32[this._pos4+10]=u}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}P.prototype.size=48;class D extends Su{get(u){return new P(this,u)}}tn("PlacedSymbolArray",D);class $ extends sd{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(u){this._structArray.uint32[this._pos4+12]=u}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}$.prototype.size=64;class F extends Qv{get(u){return new $(this,u)}}tn("SymbolInstanceArray",F);class H extends Rp{getoffsetX(u){return this.float32[1*u+0]}}tn("GlyphOffsetArray",H);class q extends Ap{getx(u){return this.int16[3*u+0]}gety(u){return this.int16[3*u+1]}gettileUnitDistanceFromAnchor(u){return this.int16[3*u+2]}}tn("SymbolLineVertexArray",q);class Y extends sd{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Y.prototype.size=12;class J extends Lp{get(u){return new Y(this,u)}}tn("TextAnchorOffsetArray",J);class ce extends sd{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}ce.prototype.size=8;class de extends ey{get(u){return new ce(this,u)}}tn("FeatureIndexArray",de);class Ce extends ld{}class Se extends ld{}class Pe extends ld{}class Ie extends Kv{}class Oe extends Xv{}class $e extends Va{}class Fe extends kp{}class We extends ud{}class He extends Op{}class et extends cd{}class it extends Oc{}class _t extends Jv{}class vt extends hd{}class pt extends T{}const Ut=Or([{name:"a_pos",components:2,type:"Int16"}],4),{members:jt}=Ut;class bt{constructor(u=[]){this._forceNewSegmentOnNextPrepare=!1,this.segments=u}prepareSegment(u,p,_,S){const E=this.segments[this.segments.length-1];return u>bt.MAX_VERTEX_ARRAY_LENGTH&&Le(`Max vertices per segment is ${bt.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${u}. Consider using the \`fillLargeMeshArrays\` function if you require meshes with more than ${bt.MAX_VERTEX_ARRAY_LENGTH} vertices.`),this._forceNewSegmentOnNextPrepare||!E||E.vertexLength+u>bt.MAX_VERTEX_ARRAY_LENGTH||E.sortKey!==S?this.createNewSegment(p,_,S):E}createNewSegment(u,p,_){const S={vertexOffset:u.length,primitiveOffset:p.length,vertexLength:0,primitiveLength:0,vaos:{}};return _!==void 0&&(S.sortKey=_),this._forceNewSegmentOnNextPrepare=!1,this.segments.push(S),S}getOrCreateLatestSegment(u,p,_){return this.prepareSegment(0,u,p,_)}forceNewSegmentOnNextPrepare(){this._forceNewSegmentOnNextPrepare=!0}get(){return this.segments}destroy(){for(const u of this.segments)for(const p in u.vaos)u.vaos[p].destroy()}static simpleSegment(u,p,_,S){return new bt([{vertexOffset:u,primitiveOffset:p,vertexLength:_,primitiveLength:S,vaos:{},sortKey:0}])}}function on(m,u){return 256*(m=It(Math.floor(m),0,255))+It(Math.floor(u),0,255)}bt.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,tn("SegmentVector",bt);const In=Or([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var rr,Hr,pr,xr={exports:{}},Rr={exports:{}},cr={exports:{}},wr=function(){if(pr)return xr.exports;pr=1;var m=(rr||(rr=1,Rr.exports=function(p,_){var S,E,M,O,B,j,G,Z;for(E=p.length-(S=3&p.length),M=_,B=3432918353,j=461845907,Z=0;Z<E;)G=255&p.charCodeAt(Z)|(255&p.charCodeAt(++Z))<<8|(255&p.charCodeAt(++Z))<<16|(255&p.charCodeAt(++Z))<<24,++Z,M=27492+(65535&(O=5*(65535&(M=(M^=G=(65535&(G=(G=(65535&G)*B+(((G>>>16)*B&65535)<<16)&4294967295)<<15|G>>>17))*j+(((G>>>16)*j&65535)<<16)&4294967295)<<13|M>>>19))+((5*(M>>>16)&65535)<<16)&4294967295))+((58964+(O>>>16)&65535)<<16);switch(G=0,S){case 3:G^=(255&p.charCodeAt(Z+2))<<16;case 2:G^=(255&p.charCodeAt(Z+1))<<8;case 1:M^=G=(65535&(G=(G=(65535&(G^=255&p.charCodeAt(Z)))*B+(((G>>>16)*B&65535)<<16)&4294967295)<<15|G>>>17))*j+(((G>>>16)*j&65535)<<16)&4294967295}return M^=p.length,M=2246822507*(65535&(M^=M>>>16))+((2246822507*(M>>>16)&65535)<<16)&4294967295,M=3266489909*(65535&(M^=M>>>13))+((3266489909*(M>>>16)&65535)<<16)&4294967295,(M^=M>>>16)>>>0}),Rr.exports),u=(Hr||(Hr=1,cr.exports=function(p,_){for(var S,E=p.length,M=_^E,O=0;E>=4;)S=1540483477*(65535&(S=255&p.charCodeAt(O)|(255&p.charCodeAt(++O))<<8|(255&p.charCodeAt(++O))<<16|(255&p.charCodeAt(++O))<<24))+((1540483477*(S>>>16)&65535)<<16),M=1540483477*(65535&M)+((1540483477*(M>>>16)&65535)<<16)^(S=1540483477*(65535&(S^=S>>>24))+((1540483477*(S>>>16)&65535)<<16)),E-=4,++O;switch(E){case 3:M^=(255&p.charCodeAt(O+2))<<16;case 2:M^=(255&p.charCodeAt(O+1))<<8;case 1:M=1540483477*(65535&(M^=255&p.charCodeAt(O)))+((1540483477*(M>>>16)&65535)<<16)}return M=1540483477*(65535&(M^=M>>>13))+((1540483477*(M>>>16)&65535)<<16),(M^=M>>>15)>>>0}),cr.exports);return xr.exports=m,xr.exports.murmur3=m,xr.exports.murmur2=u,xr.exports}(),Ii=c(wr);class vi{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(u,p,_,S){this.ids.push(Fi(u)),this.positions.push(p,_,S)}getPositions(u){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const p=Fi(u);let _=0,S=this.ids.length-1;for(;_<S;){const M=_+S>>1;this.ids[M]>=p?S=M:_=M+1}const E=[];for(;this.ids[_]===p;)E.push({index:this.positions[3*_],start:this.positions[3*_+1],end:this.positions[3*_+2]}),_++;return E}static serialize(u,p){const _=new Float64Array(u.ids),S=new Uint32Array(u.positions);return ho(_,S,0,_.length-1),p&&p.push(_.buffer,S.buffer),{ids:_,positions:S}}static deserialize(u){const p=new vi;return p.ids=u.ids,p.positions=u.positions,p.indexed=!0,p}}function Fi(m){const u=+m;return!isNaN(u)&&u<=Number.MAX_SAFE_INTEGER?u:Ii(String(m))}function ho(m,u,p,_){for(;p<_;){const S=m[p+_>>1];let E=p-1,M=_+1;for(;;){do E++;while(m[E]<S);do M--;while(m[M]>S);if(E>=M)break;vs(m,E,M),vs(u,3*E,3*M),vs(u,3*E+1,3*M+1),vs(u,3*E+2,3*M+2)}M-p<_-M?(ho(m,u,p,M),p=M+1):(ho(m,u,M+1,_),_=M)}}function vs(m,u,p){const _=m[u];m[u]=m[p],m[p]=_}tn("FeaturePositionMap",vi);class ia{constructor(u,p){this.gl=u.gl,this.location=p}}class ys extends ia{constructor(u,p){super(u,p),this.current=0}set(u){this.current!==u&&(this.current=u,this.gl.uniform1f(this.location,u))}}class Cu extends ia{constructor(u,p){super(u,p),this.current=[0,0,0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]&&u[3]===this.current[3]||(this.current=u,this.gl.uniform4f(this.location,u[0],u[1],u[2],u[3]))}}class dd extends ia{constructor(u,p){super(u,p),this.current=Hn.transparent}set(u){u.r===this.current.r&&u.g===this.current.g&&u.b===this.current.b&&u.a===this.current.a||(this.current=u,this.gl.uniform4f(this.location,u.r,u.g,u.b,u.a))}}const $p=new Float32Array(16);function bl(m){return[on(255*m.r,255*m.g),on(255*m.b,255*m.a)]}class fo{constructor(u,p,_){this.value=u,this.uniformNames=p.map(S=>`u_${S}`),this.type=_}setUniform(u,p,_){u.set(_.constantOr(this.value))}getBinding(u,p,_){return this.type==="color"?new dd(u,p):new ys(u,p)}}class oa{constructor(u,p){this.uniformNames=p.map(_=>`u_${_}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(u,p){this.pixelRatioFrom=p.pixelRatio,this.pixelRatioTo=u.pixelRatio,this.patternFrom=p.tlbr,this.patternTo=u.tlbr}setUniform(u,p,_,S){const E=S==="u_pattern_to"?this.patternTo:S==="u_pattern_from"?this.patternFrom:S==="u_pixel_ratio_to"?this.pixelRatioTo:S==="u_pixel_ratio_from"?this.pixelRatioFrom:null;E&&u.set(E)}getBinding(u,p,_){return _.substr(0,9)==="u_pattern"?new Cu(u,p):new ys(u,p)}}class So{constructor(u,p,_,S){this.expression=u,this.type=_,this.maxValue=0,this.paintVertexAttributes=p.map(E=>({name:`a_${E}`,type:"Float32",components:_==="color"?2:1,offset:0})),this.paintVertexArray=new S}populatePaintArray(u,p,_,S,E){const M=this.paintVertexArray.length,O=this.expression.evaluate(new kr(0),p,{},S,[],E);this.paintVertexArray.resize(u),this._setPaintValue(M,u,O)}updatePaintArray(u,p,_,S){const E=this.expression.evaluate({zoom:0},_,S);this._setPaintValue(u,p,E)}_setPaintValue(u,p,_){if(this.type==="color"){const S=bl(_);for(let E=u;E<p;E++)this.paintVertexArray.emplace(E,S[0],S[1])}else{for(let S=u;S<p;S++)this.paintVertexArray.emplace(S,_);this.maxValue=Math.max(this.maxValue,Math.abs(_))}}upload(u){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=u.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Co{constructor(u,p,_,S,E,M){this.expression=u,this.uniformNames=p.map(O=>`u_${O}_t`),this.type=_,this.useIntegerZoom=S,this.zoom=E,this.maxValue=0,this.paintVertexAttributes=p.map(O=>({name:`a_${O}`,type:"Float32",components:_==="color"?4:2,offset:0})),this.paintVertexArray=new M}populatePaintArray(u,p,_,S,E){const M=this.expression.evaluate(new kr(this.zoom),p,{},S,[],E),O=this.expression.evaluate(new kr(this.zoom+1),p,{},S,[],E),B=this.paintVertexArray.length;this.paintVertexArray.resize(u),this._setPaintValue(B,u,M,O)}updatePaintArray(u,p,_,S){const E=this.expression.evaluate({zoom:this.zoom},_,S),M=this.expression.evaluate({zoom:this.zoom+1},_,S);this._setPaintValue(u,p,E,M)}_setPaintValue(u,p,_,S){if(this.type==="color"){const E=bl(_),M=bl(S);for(let O=u;O<p;O++)this.paintVertexArray.emplace(O,E[0],E[1],M[0],M[1])}else{for(let E=u;E<p;E++)this.paintVertexArray.emplace(E,_,S);this.maxValue=Math.max(this.maxValue,Math.abs(_),Math.abs(S))}}upload(u){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=u.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(u,p){const _=this.useIntegerZoom?Math.floor(p.zoom):p.zoom,S=It(this.expression.interpolationFactor(_,this.zoom,this.zoom+1),0,1);u.set(S)}getBinding(u,p,_){return new ys(u,p)}}class Lr{constructor(u,p,_,S,E,M){this.expression=u,this.type=p,this.useIntegerZoom=_,this.zoom=S,this.layerId=M,this.zoomInPaintVertexArray=new E,this.zoomOutPaintVertexArray=new E}populatePaintArray(u,p,_){const S=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(u),this.zoomOutPaintVertexArray.resize(u),this._setPaintValues(S,u,p.patterns&&p.patterns[this.layerId],_)}updatePaintArray(u,p,_,S,E){this._setPaintValues(u,p,_.patterns&&_.patterns[this.layerId],E)}_setPaintValues(u,p,_,S){if(!S||!_)return;const{min:E,mid:M,max:O}=_,B=S[E],j=S[M],G=S[O];if(B&&j&&G)for(let Z=u;Z<p;Z++)this.zoomInPaintVertexArray.emplace(Z,j.tl[0],j.tl[1],j.br[0],j.br[1],B.tl[0],B.tl[1],B.br[0],B.br[1],j.pixelRatio,B.pixelRatio),this.zoomOutPaintVertexArray.emplace(Z,j.tl[0],j.tl[1],j.br[0],j.br[1],G.tl[0],G.tl[1],G.br[0],G.br[1],j.pixelRatio,G.pixelRatio)}upload(u){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=u.createVertexBuffer(this.zoomInPaintVertexArray,In.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=u.createVertexBuffer(this.zoomOutPaintVertexArray,In.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Mi{constructor(u,p,_){this.binders={},this._buffers=[];const S=[];for(const E in u.paint._values){if(!_(E))continue;const M=u.paint.get(E);if(!(M instanceof ra&&Ec(M.property.specification)))continue;const O=Vi(E,u.type),B=M.value,j=M.property.specification.type,G=M.property.useIntegerZoom,Z=M.property.specification["property-type"],Q=Z==="cross-faded"||Z==="cross-faded-data-driven";if(B.kind==="constant")this.binders[E]=Q?new oa(B.value,O):new fo(B.value,O,j),S.push(`/u_${E}`);else if(B.kind==="source"||Q){const ie=f1(E,j,"source");this.binders[E]=Q?new Lr(B,j,G,p,ie,u.id):new So(B,O,j,ie),S.push(`/a_${E}`)}else{const ie=f1(E,j,"composite");this.binders[E]=new Co(B,O,j,G,p,ie),S.push(`/z_${E}`)}}this.cacheKey=S.sort().join("")}getMaxValue(u){const p=this.binders[u];return p instanceof So||p instanceof Co?p.maxValue:0}populatePaintArrays(u,p,_,S,E){for(const M in this.binders){const O=this.binders[M];(O instanceof So||O instanceof Co||O instanceof Lr)&&O.populatePaintArray(u,p,_,S,E)}}setConstantPatternPositions(u,p){for(const _ in this.binders){const S=this.binders[_];S instanceof oa&&S.setConstantPatternPositions(u,p)}}updatePaintArrays(u,p,_,S,E){let M=!1;for(const O in u){const B=p.getPositions(O);for(const j of B){const G=_.feature(j.index);for(const Z in this.binders){const Q=this.binders[Z];if((Q instanceof So||Q instanceof Co||Q instanceof Lr)&&Q.expression.isStateDependent===!0){const ie=S.paint.get(Z);Q.expression=ie.value,Q.updatePaintArray(j.start,j.end,G,u[O],E),M=!0}}}}return M}defines(){const u=[];for(const p in this.binders){const _=this.binders[p];(_ instanceof fo||_ instanceof oa)&&u.push(..._.uniformNames.map(S=>`#define HAS_UNIFORM_${S}`))}return u}getBinderAttributes(){const u=[];for(const p in this.binders){const _=this.binders[p];if(_ instanceof So||_ instanceof Co)for(let S=0;S<_.paintVertexAttributes.length;S++)u.push(_.paintVertexAttributes[S].name);else if(_ instanceof Lr)for(let S=0;S<In.members.length;S++)u.push(In.members[S].name)}return u}getBinderUniforms(){const u=[];for(const p in this.binders){const _=this.binders[p];if(_ instanceof fo||_ instanceof oa||_ instanceof Co)for(const S of _.uniformNames)u.push(S)}return u}getPaintVertexBuffers(){return this._buffers}getUniforms(u,p){const _=[];for(const S in this.binders){const E=this.binders[S];if(E instanceof fo||E instanceof oa||E instanceof Co){for(const M of E.uniformNames)if(p[M]){const O=E.getBinding(u,p[M],M);_.push({name:M,property:S,binding:O})}}}return _}setUniforms(u,p,_,S){for(const{name:E,property:M,binding:O}of p)this.binders[M].setUniform(O,S,_.get(M),E)}updatePaintBuffers(u){this._buffers=[];for(const p in this.binders){const _=this.binders[p];if(u&&_ instanceof Lr){const S=u.fromScale===2?_.zoomInPaintVertexBuffer:_.zoomOutPaintVertexBuffer;S&&this._buffers.push(S)}else(_ instanceof So||_ instanceof Co)&&_.paintVertexBuffer&&this._buffers.push(_.paintVertexBuffer)}}upload(u){for(const p in this.binders){const _=this.binders[p];(_ instanceof So||_ instanceof Co||_ instanceof Lr)&&_.upload(u)}this.updatePaintBuffers()}destroy(){for(const u in this.binders){const p=this.binders[u];(p instanceof So||p instanceof Co||p instanceof Lr)&&p.destroy()}}}class Ni{constructor(u,p,_=()=>!0){this.programConfigurations={};for(const S of u)this.programConfigurations[S.id]=new Mi(S,p,_);this.needsUpload=!1,this._featureMap=new vi,this._bufferOffset=0}populatePaintArrays(u,p,_,S,E,M){for(const O in this.programConfigurations)this.programConfigurations[O].populatePaintArrays(u,p,S,E,M);p.id!==void 0&&this._featureMap.add(p.id,_,this._bufferOffset,u),this._bufferOffset=u,this.needsUpload=!0}updatePaintArrays(u,p,_,S){for(const E of _)this.needsUpload=this.programConfigurations[E.id].updatePaintArrays(u,this._featureMap,p,E,S)||this.needsUpload}get(u){return this.programConfigurations[u]}upload(u){if(this.needsUpload){for(const p in this.programConfigurations)this.programConfigurations[p].upload(u);this.needsUpload=!1}}destroy(){for(const u in this.programConfigurations)this.programConfigurations[u].destroy()}}function Vi(m,u){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[m]||[m.replace(`${u}-`,"").replace(/-/g,"_")]}function f1(m,u,p){const _={color:{source:Va,composite:f},number:{source:Rp,composite:Va}},S=function(E){return{"line-pattern":{source:Fe,composite:Fe},"fill-pattern":{source:Fe,composite:Fe},"fill-extrusion-pattern":{source:Fe,composite:Fe}}[E]}(m);return S&&S[p]||_[u][p]}tn("ConstantBinder",fo),tn("CrossFadedConstantBinder",oa),tn("SourceExpressionBinder",So),tn("CrossFadedCompositeBinder",Lr),tn("CompositeExpressionBinder",Co),tn("ProgramConfiguration",Mi,{omit:["_buffers"]}),tn("ProgramConfigurationSet",Ni);const ty=Math.pow(2,14)-1,p1=-ty-1;function Tu(m){const u=ue/m.extent,p=m.loadGeometry();for(let _=0;_<p.length;_++){const S=p[_];for(let E=0;E<S.length;E++){const M=S[E],O=Math.round(M.x*u),B=Math.round(M.y*u);M.x=It(O,p1,ty),M.y=It(B,p1,ty),(O<M.x||O>M.x+1||B<M.y||B>M.y+1)&&Le("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return p}function Pu(m,u){return{type:m.type,id:m.id,properties:m.properties,geometry:u?Tu(m):[]}}const m1=-32768;function Eu(m,u,p,_,S){m.emplaceBack(m1+8*u+_,m1+8*p+S)}class zp{constructor(u){this.zoom=u.zoom,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(p=>p.id),this.index=u.index,this.hasPattern=!1,this.layoutVertexArray=new Se,this.indexArray=new vt,this.segments=new bt,this.programConfigurations=new Ni(u.layers,u.zoom),this.stateDependentLayerIds=this.layers.filter(p=>p.isStateDependent()).map(p=>p.id)}populate(u,p,_){const S=this.layers[0],E=[];let M=null,O=!1,B=S.type==="heatmap";if(S.type==="circle"){const G=S;M=G.layout.get("circle-sort-key"),O=!M.isConstant(),B=B||G.paint.get("circle-pitch-alignment")==="map"}const j=B?p.subdivisionGranularity.circle:1;for(const{feature:G,id:Z,index:Q,sourceLayerIndex:ie}of u){const oe=this.layers[0]._featureFilter.needGeometry,he=Pu(G,oe);if(!this.layers[0]._featureFilter.filter(new kr(this.zoom),he,_))continue;const be=O?M.evaluate(he,{},_):void 0,Ee={id:Z,properties:G.properties,type:G.type,sourceLayerIndex:ie,index:Q,geometry:oe?he.geometry:Tu(G),patterns:{},sortKey:be};E.push(Ee)}O&&E.sort((G,Z)=>G.sortKey-Z.sortKey);for(const G of E){const{geometry:Z,index:Q,sourceLayerIndex:ie}=G,oe=u[Q].feature;this.addFeature(G,Z,Q,_,j),p.featureIndex.insert(oe,Z,Q,ie,this.index)}}update(u,p,_){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(u,p,this.stateDependentLayers,_)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(u){this.uploaded||(this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,jt),this.indexBuffer=u.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(u),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(u,p,_,S,E=1){let M;switch(E){case 1:M=[0,7];break;case 3:M=[0,2,5,7];break;case 5:M=[0,1,3,4,6,7];break;case 7:M=[0,1,2,3,4,5,6,7];break;default:throw new Error(`Invalid circle bucket granularity: ${E}; valid values are 1, 3, 5, 7.`)}const O=M.length;for(const B of p)for(const j of B){const G=j.x,Z=j.y;if(G<0||G>=ue||Z<0||Z>=ue)continue;const Q=this.segments.prepareSegment(O*O,this.layoutVertexArray,this.indexArray,u.sortKey),ie=Q.vertexLength;for(let oe=0;oe<O;oe++)for(let he=0;he<O;he++)Eu(this.layoutVertexArray,G,Z,M[he],M[oe]);for(let oe=0;oe<O-1;oe++)for(let he=0;he<O-1;he++){const be=ie+oe*O+he,Ee=ie+(oe+1)*O+he;this.indexArray.emplaceBack(be,Ee+1,be+1),this.indexArray.emplaceBack(be,Ee,Ee+1)}Q.vertexLength+=O*O,Q.primitiveLength+=(O-1)*(O-1)*2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,u,_,{},S)}}function ny(m,u){for(let p=0;p<m.length;p++)if(Fp(u,m[p]))return!0;for(let p=0;p<u.length;p++)if(Fp(m,u[p]))return!0;return!!fd(m,u)}function g1(m,u,p){return!!Fp(m,u)||!!QC(u,m,p)}function Bp(m,u){if(m.length===1)return KR(u,m[0]);for(let p=0;p<u.length;p++){const _=u[p];for(let S=0;S<_.length;S++)if(Fp(m,_[S]))return!0}for(let p=0;p<m.length;p++)if(KR(u,m[p]))return!0;for(let p=0;p<u.length;p++)if(fd(m,u[p]))return!0;return!1}function v1(m,u,p){if(m.length>1){if(fd(m,u))return!0;for(let _=0;_<u.length;_++)if(QC(u[_],m,p))return!0}for(let _=0;_<m.length;_++)if(QC(m[_],u,p))return!0;return!1}function fd(m,u){if(m.length===0||u.length===0)return!1;for(let p=0;p<m.length-1;p++){const _=m[p],S=m[p+1];for(let E=0;E<u.length-1;E++)if(SY(_,S,u[E],u[E+1]))return!0}return!1}function SY(m,u,p,_){return Ye(m,p,_)!==Ye(u,p,_)&&Ye(m,u,p)!==Ye(m,u,_)}function QC(m,u,p){const _=p*p;if(u.length===1)return m.distSqr(u[0])<_;for(let S=1;S<u.length;S++)if(qR(m,u[S-1],u[S])<_)return!0;return!1}function qR(m,u,p){const _=u.distSqr(p);if(_===0)return m.distSqr(u);const S=((m.x-u.x)*(p.x-u.x)+(m.y-u.y)*(p.y-u.y))/_;return m.distSqr(S<0?u:S>1?p:p.sub(u)._mult(S)._add(u))}function KR(m,u){let p,_,S,E=!1;for(let M=0;M<m.length;M++){p=m[M];for(let O=0,B=p.length-1;O<p.length;B=O++)_=p[O],S=p[B],_.y>u.y!=S.y>u.y&&u.x<(S.x-_.x)*(u.y-_.y)/(S.y-_.y)+_.x&&(E=!E)}return E}function Fp(m,u){let p=!1;for(let _=0,S=m.length-1;_<m.length;S=_++){const E=m[_],M=m[S];E.y>u.y!=M.y>u.y&&u.x<(M.x-E.x)*(u.y-E.y)/(M.y-E.y)+E.x&&(p=!p)}return p}function CY(m,u,p){const _=p[0],S=p[2];if(m.x<_.x&&u.x<_.x||m.x>S.x&&u.x>S.x||m.y<_.y&&u.y<_.y||m.y>S.y&&u.y>S.y)return!1;const E=Ye(m,u,p[0]);return E!==Ye(m,u,p[1])||E!==Ye(m,u,p[2])||E!==Ye(m,u,p[3])}function ry(m,u,p){const _=u.paint.get(m).value;return _.kind==="constant"?_.value:p.programConfigurations.get(u.id).getMaxValue(m)}function y1(m){return Math.sqrt(m[0]*m[0]+m[1]*m[1])}function _1(m,u,p,_,S){if(!u[0]&&!u[1])return m;const E=x.convert(u)._mult(S);p==="viewport"&&E._rotate(-_);const M=[];for(let O=0;O<m.length;O++)M.push(m[O].sub(E));return M}let XR,YR;tn("CircleBucket",zp,{omit:["layers"]});var TY={get paint(){return YR=YR||new wo({"circle-radius":new yn(xe.paint_circle["circle-radius"]),"circle-color":new yn(xe.paint_circle["circle-color"]),"circle-blur":new yn(xe.paint_circle["circle-blur"]),"circle-opacity":new yn(xe.paint_circle["circle-opacity"]),"circle-translate":new un(xe.paint_circle["circle-translate"]),"circle-translate-anchor":new un(xe.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new un(xe.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new un(xe.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new yn(xe.paint_circle["circle-stroke-width"]),"circle-stroke-color":new yn(xe.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new yn(xe.paint_circle["circle-stroke-opacity"])})},get layout(){return XR=XR||new wo({"circle-sort-key":new yn(xe.layout_circle["circle-sort-key"])})}};class PY extends gs{constructor(u){super(u,TY)}createBucket(u){return new zp(u)}queryRadius(u){const p=u;return ry("circle-radius",this,p)+ry("circle-stroke-width",this,p)+y1(this.paint.get("circle-translate"))}queryIntersectsFeature({queryGeometry:u,feature:p,featureState:_,geometry:S,transform:E,pixelsToTileUnits:M,pixelPosMatrix:O}){const B=_1(u,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),-E.bearingInRadians,M),j=this.paint.get("circle-radius").evaluate(p,_)+this.paint.get("circle-stroke-width").evaluate(p,_),G=this.paint.get("circle-pitch-alignment")==="map",Z=G?B:function(ie,oe){return ie.map(he=>JR(he,oe))}(B,O),Q=G?j*M:j;for(const ie of S)for(const oe of ie){const he=G?oe:JR(oe,O);let be=Q;const Ee=ae([],[oe.x,oe.y,0,1],O);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?be*=Ee[3]/E.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(be*=E.cameraToCenterDistance/Ee[3]),g1(Z,he,be))return!0}return!1}}function JR(m,u){const p=ae([],[m.x,m.y,0,1],u);return new x(p[0]/p[3],p[1]/p[3])}class QR extends zp{}let eL;tn("HeatmapBucket",QR,{omit:["layers"]});var EY={get paint(){return eL=eL||new wo({"heatmap-radius":new yn(xe.paint_heatmap["heatmap-radius"]),"heatmap-weight":new yn(xe.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new un(xe.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Mp(xe.paint_heatmap["heatmap-color"]),"heatmap-opacity":new un(xe.paint_heatmap["heatmap-opacity"])})}};function eT(m,{width:u,height:p},_,S){if(S){if(S instanceof Uint8ClampedArray)S=new Uint8Array(S.buffer);else if(S.length!==u*p*_)throw new RangeError(`mismatched image size. expected: ${S.length} but got: ${u*p*_}`)}else S=new Uint8Array(u*p*_);return m.width=u,m.height=p,m.data=S,m}function tL(m,{width:u,height:p},_){if(u===m.width&&p===m.height)return;const S=eT({},{width:u,height:p},_);tT(m,S,{x:0,y:0},{x:0,y:0},{width:Math.min(m.width,u),height:Math.min(m.height,p)},_),m.width=u,m.height=p,m.data=S.data}function tT(m,u,p,_,S,E){if(S.width===0||S.height===0)return u;if(S.width>m.width||S.height>m.height||p.x>m.width-S.width||p.y>m.height-S.height)throw new RangeError("out of range source coordinates for image copy");if(S.width>u.width||S.height>u.height||_.x>u.width-S.width||_.y>u.height-S.height)throw new RangeError("out of range destination coordinates for image copy");const M=m.data,O=u.data;if(M===O)throw new Error("srcData equals dstData, so image is already copied");for(let B=0;B<S.height;B++){const j=((p.y+B)*m.width+p.x)*E,G=((_.y+B)*u.width+_.x)*E;for(let Z=0;Z<S.width*E;Z++)O[G+Z]=M[j+Z]}return u}class iy{constructor(u,p){eT(this,u,1,p)}resize(u){tL(this,u,1)}clone(){return new iy({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(u,p,_,S,E){tT(u,p,_,S,E,1)}}class ja{constructor(u,p){eT(this,u,4,p)}resize(u){tL(this,u,4)}replace(u,p){p?this.data.set(u):this.data=u instanceof Uint8ClampedArray?new Uint8Array(u.buffer):u}clone(){return new ja({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(u,p,_,S,E){tT(u,p,_,S,E,4)}}function nL(m){const u={},p=m.resolution||256,_=m.clips?m.clips.length:1,S=m.image||new ja({width:p,height:_});if(Math.log(p)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${p}`);const E=(M,O,B)=>{u[m.evaluationKey]=B;const j=m.expression.evaluate(u);S.data[M+O+0]=Math.floor(255*j.r/j.a),S.data[M+O+1]=Math.floor(255*j.g/j.a),S.data[M+O+2]=Math.floor(255*j.b/j.a),S.data[M+O+3]=Math.floor(255*j.a)};if(m.clips)for(let M=0,O=0;M<_;++M,O+=4*p)for(let B=0,j=0;B<p;B++,j+=4){const G=B/(p-1),{start:Z,end:Q}=m.clips[M];E(O,j,Z*(1-G)+Q*G)}else for(let M=0,O=0;M<p;M++,O+=4)E(0,O,M/(p-1));return S}tn("AlphaImage",iy),tn("RGBAImage",ja);const nT="big-fb";class IY extends gs{createBucket(u){return new QR(u)}constructor(u){super(u,EY),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(u){u==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=nL({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(nT)&&this.heatmapFbos.delete(nT)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let rL;var MY={get paint(){return rL=rL||new wo({"hillshade-illumination-direction":new un(xe.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new un(xe.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new un(xe.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new un(xe.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new un(xe.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new un(xe.paint_hillshade["hillshade-accent-color"])})}};class AY extends gs{constructor(u){super(u,MY)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const DY=Or([{name:"a_pos",components:2,type:"Int16"}],4),{members:kY}=DY;function rT(m,u,p){const _=p.patternDependencies;let S=!1;for(const E of u){const M=E.paint.get(`${m}-pattern`);M.isConstant()||(S=!0);const O=M.constantOr(null);O&&(S=!0,_[O.to]=!0,_[O.from]=!0)}return S}function iT(m,u,p,_,S){const E=S.patternDependencies;for(const M of u){const O=M.paint.get(`${m}-pattern`).value;if(O.kind!=="constant"){let B=O.evaluate({zoom:_-1},p,{},S.availableImages),j=O.evaluate({zoom:_},p,{},S.availableImages),G=O.evaluate({zoom:_+1},p,{},S.availableImages);B=B&&B.name?B.name:B,j=j&&j.name?j.name:j,G=G&&G.name?G.name:G,E[B]=!0,E[j]=!0,E[G]=!0,p.patterns[M.id]={min:B,mid:j,max:G}}}return p}function iL(m,u,p,_,S){let E;if(S===function(M,O,B,j){let G=0;for(let Z=O,Q=B-j;Z<B;Z+=j)G+=(M[Q]-M[Z])*(M[Z+1]+M[Q+1]),Q=Z;return G}(m,u,p,_)>0)for(let M=u;M<p;M+=_)E=lL(M/_|0,m[M],m[M+1],E);else for(let M=p-_;M>=u;M-=_)E=lL(M/_|0,m[M],m[M+1],E);return E&&Np(E,E.next)&&(ly(E),E=E.next),E}function pd(m,u){if(!m)return m;u||(u=m);let p,_=m;do if(p=!1,_.steiner||!Np(_,_.next)&&yi(_.prev,_,_.next)!==0)_=_.next;else{if(ly(_),_=u=_.prev,_===_.next)break;p=!0}while(p||_!==u);return u}function oy(m,u,p,_,S,E,M){if(!m)return;!M&&E&&function(B,j,G,Z){let Q=B;do Q.z===0&&(Q.z=oT(Q.x,Q.y,j,G,Z)),Q.prevZ=Q.prev,Q.nextZ=Q.next,Q=Q.next;while(Q!==B);Q.prevZ.nextZ=null,Q.prevZ=null,function(ie){let oe,he=1;do{let be,Ee=ie;ie=null;let Ue=null;for(oe=0;Ee;){oe++;let Ae=Ee,re=0;for(let De=0;De<he&&(re++,Ae=Ae.nextZ,Ae);De++);let _e=he;for(;re>0||_e>0&&Ae;)re!==0&&(_e===0||!Ae||Ee.z<=Ae.z)?(be=Ee,Ee=Ee.nextZ,re--):(be=Ae,Ae=Ae.nextZ,_e--),Ue?Ue.nextZ=be:ie=be,be.prevZ=Ue,Ue=be;Ee=Ae}Ue.nextZ=null,he*=2}while(oe>1)}(Q)}(m,_,S,E);let O=m;for(;m.prev!==m.next;){const B=m.prev,j=m.next;if(E?RY(m,_,S,E):OY(m))u.push(B.i,m.i,j.i),ly(m),m=j.next,O=j.next;else if((m=j)===O){M?M===1?oy(m=LY(pd(m),u),u,p,_,S,E,2):M===2&&$Y(m,u,p,_,S,E):oy(pd(m),u,p,_,S,E,1);break}}}function OY(m){const u=m.prev,p=m,_=m.next;if(yi(u,p,_)>=0)return!1;const S=u.x,E=p.x,M=_.x,O=u.y,B=p.y,j=_.y,G=Math.min(S,E,M),Z=Math.min(O,B,j),Q=Math.max(S,E,M),ie=Math.max(O,B,j);let oe=_.next;for(;oe!==u;){if(oe.x>=G&&oe.x<=Q&&oe.y>=Z&&oe.y<=ie&&ay(S,O,E,B,M,j,oe.x,oe.y)&&yi(oe.prev,oe,oe.next)>=0)return!1;oe=oe.next}return!0}function RY(m,u,p,_){const S=m.prev,E=m,M=m.next;if(yi(S,E,M)>=0)return!1;const O=S.x,B=E.x,j=M.x,G=S.y,Z=E.y,Q=M.y,ie=Math.min(O,B,j),oe=Math.min(G,Z,Q),he=Math.max(O,B,j),be=Math.max(G,Z,Q),Ee=oT(ie,oe,u,p,_),Ue=oT(he,be,u,p,_);let Ae=m.prevZ,re=m.nextZ;for(;Ae&&Ae.z>=Ee&&re&&re.z<=Ue;){if(Ae.x>=ie&&Ae.x<=he&&Ae.y>=oe&&Ae.y<=be&&Ae!==S&&Ae!==M&&ay(O,G,B,Z,j,Q,Ae.x,Ae.y)&&yi(Ae.prev,Ae,Ae.next)>=0||(Ae=Ae.prevZ,re.x>=ie&&re.x<=he&&re.y>=oe&&re.y<=be&&re!==S&&re!==M&&ay(O,G,B,Z,j,Q,re.x,re.y)&&yi(re.prev,re,re.next)>=0))return!1;re=re.nextZ}for(;Ae&&Ae.z>=Ee;){if(Ae.x>=ie&&Ae.x<=he&&Ae.y>=oe&&Ae.y<=be&&Ae!==S&&Ae!==M&&ay(O,G,B,Z,j,Q,Ae.x,Ae.y)&&yi(Ae.prev,Ae,Ae.next)>=0)return!1;Ae=Ae.prevZ}for(;re&&re.z<=Ue;){if(re.x>=ie&&re.x<=he&&re.y>=oe&&re.y<=be&&re!==S&&re!==M&&ay(O,G,B,Z,j,Q,re.x,re.y)&&yi(re.prev,re,re.next)>=0)return!1;re=re.nextZ}return!0}function LY(m,u){let p=m;do{const _=p.prev,S=p.next.next;!Np(_,S)&&aL(_,p,p.next,S)&&sy(_,S)&&sy(S,_)&&(u.push(_.i,p.i,S.i),ly(p),ly(p.next),p=m=S),p=p.next}while(p!==m);return pd(p)}function $Y(m,u,p,_,S,E){let M=m;do{let O=M.next.next;for(;O!==M.prev;){if(M.i!==O.i&&VY(M,O)){let B=sL(M,O);return M=pd(M,M.next),B=pd(B,B.next),oy(M,u,p,_,S,E,0),void oy(B,u,p,_,S,E,0)}O=O.next}M=M.next}while(M!==m)}function zY(m,u){let p=m.x-u.x;return p===0&&(p=m.y-u.y,p===0)&&(p=(m.next.y-m.y)/(m.next.x-m.x)-(u.next.y-u.y)/(u.next.x-u.x)),p}function BY(m,u){const p=function(S,E){let M=E;const O=S.x,B=S.y;let j,G=-1/0;if(Np(S,M))return M;do{if(Np(S,M.next))return M.next;if(B<=M.y&&B>=M.next.y&&M.next.y!==M.y){const he=M.x+(B-M.y)*(M.next.x-M.x)/(M.next.y-M.y);if(he<=O&&he>G&&(G=he,j=M.x<M.next.x?M:M.next,he===O))return j}M=M.next}while(M!==E);if(!j)return null;const Z=j,Q=j.x,ie=j.y;let oe=1/0;M=j;do{if(O>=M.x&&M.x>=Q&&O!==M.x&&oL(B<ie?O:G,B,Q,ie,B<ie?G:O,B,M.x,M.y)){const he=Math.abs(B-M.y)/(O-M.x);sy(M,S)&&(he<oe||he===oe&&(M.x>j.x||M.x===j.x&&FY(j,M)))&&(j=M,oe=he)}M=M.next}while(M!==Z);return j}(m,u);if(!p)return u;const _=sL(p,m);return pd(_,_.next),pd(p,p.next)}function FY(m,u){return yi(m.prev,m,u.prev)<0&&yi(u.next,m,m.next)<0}function oT(m,u,p,_,S){return(m=1431655765&((m=858993459&((m=252645135&((m=16711935&((m=(m-p)*S|0)|m<<8))|m<<4))|m<<2))|m<<1))|(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u=(u-_)*S|0)|u<<8))|u<<4))|u<<2))|u<<1))<<1}function NY(m){let u=m,p=m;do(u.x<p.x||u.x===p.x&&u.y<p.y)&&(p=u),u=u.next;while(u!==m);return p}function oL(m,u,p,_,S,E,M,O){return(S-M)*(u-O)>=(m-M)*(E-O)&&(m-M)*(_-O)>=(p-M)*(u-O)&&(p-M)*(E-O)>=(S-M)*(_-O)}function ay(m,u,p,_,S,E,M,O){return!(m===M&&u===O)&&oL(m,u,p,_,S,E,M,O)}function VY(m,u){return m.next.i!==u.i&&m.prev.i!==u.i&&!function(p,_){let S=p;do{if(S.i!==p.i&&S.next.i!==p.i&&S.i!==_.i&&S.next.i!==_.i&&aL(S,S.next,p,_))return!0;S=S.next}while(S!==p);return!1}(m,u)&&(sy(m,u)&&sy(u,m)&&function(p,_){let S=p,E=!1;const M=(p.x+_.x)/2,O=(p.y+_.y)/2;do S.y>O!=S.next.y>O&&S.next.y!==S.y&&M<(S.next.x-S.x)*(O-S.y)/(S.next.y-S.y)+S.x&&(E=!E),S=S.next;while(S!==p);return E}(m,u)&&(yi(m.prev,m,u.prev)||yi(m,u.prev,u))||Np(m,u)&&yi(m.prev,m,m.next)>0&&yi(u.prev,u,u.next)>0)}function yi(m,u,p){return(u.y-m.y)*(p.x-u.x)-(u.x-m.x)*(p.y-u.y)}function Np(m,u){return m.x===u.x&&m.y===u.y}function aL(m,u,p,_){const S=x1(yi(m,u,p)),E=x1(yi(m,u,_)),M=x1(yi(p,_,m)),O=x1(yi(p,_,u));return S!==E&&M!==O||!(S!==0||!b1(m,p,u))||!(E!==0||!b1(m,_,u))||!(M!==0||!b1(p,m,_))||!(O!==0||!b1(p,u,_))}function b1(m,u,p){return u.x<=Math.max(m.x,p.x)&&u.x>=Math.min(m.x,p.x)&&u.y<=Math.max(m.y,p.y)&&u.y>=Math.min(m.y,p.y)}function x1(m){return m>0?1:m<0?-1:0}function sy(m,u){return yi(m.prev,m,m.next)<0?yi(m,u,m.next)>=0&&yi(m,m.prev,u)>=0:yi(m,u,m.prev)<0||yi(m,m.next,u)<0}function sL(m,u){const p=aT(m.i,m.x,m.y),_=aT(u.i,u.x,u.y),S=m.next,E=u.prev;return m.next=u,u.prev=m,p.next=S,S.prev=p,_.next=p,p.prev=_,E.next=_,_.prev=E,_}function lL(m,u,p,_){const S=aT(m,u,p);return _?(S.next=_.next,S.prev=_,_.next.prev=S,_.next=S):(S.prev=S,S.next=S),S}function ly(m){m.next.prev=m.prev,m.prev.next=m.next,m.prevZ&&(m.prevZ.nextZ=m.nextZ),m.nextZ&&(m.nextZ.prevZ=m.prevZ)}function aT(m,u,p){return{i:m,x:u,y:p,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class Vp{constructor(u,p){if(p>u)throw new Error("Min granularity must not be greater than base granularity.");this._baseZoomGranularity=u,this._minGranularity=p}getGranularityForZoomLevel(u){return Math.max(Math.floor(this._baseZoomGranularity/(1<<u)),this._minGranularity,1)}}class w1{constructor(u){this.fill=u.fill,this.line=u.line,this.tile=u.tile,this.stencil=u.stencil,this.circle=u.circle}}w1.noSubdivision=new w1({fill:new Vp(0,0),line:new Vp(0,0),tile:new Vp(0,0),stencil:new Vp(0,0),circle:1}),tn("SubdivisionGranularityExpression",Vp),tn("SubdivisionGranularitySetting",w1);const jp=-32768,uy=32767;class jY{constructor(u,p){this._vertexBuffer=[],this._vertexDictionary=new Map,this._used=!1,this._granularity=u,this._granularityCellSize=ue/u,this._canonical=p}_getKey(u,p){return(u+=32768)<<16|(p+=32768)<<0}_vertexToIndex(u,p){if(u<-32768||p<-32768||u>32767||p>32767)throw new Error("Vertex coordinates are out of signed 16 bit integer range.");const _=0|Math.round(u),S=0|Math.round(p),E=this._getKey(_,S);if(this._vertexDictionary.has(E))return this._vertexDictionary.get(E);const M=this._vertexBuffer.length/2;return this._vertexDictionary.set(E,M),this._vertexBuffer.push(_,S),M}_subdivideTrianglesScanline(u){if(this._granularity<2)return function(S,E){const M=[];for(let O=0;O<E.length;O+=3){const B=E[O],j=E[O+1],G=E[O+2],Z=S[2*B],Q=S[2*B+1];(S[2*j]-Z)*(S[2*G+1]-Q)-(S[2*j+1]-Q)*(S[2*G]-Z)>0?(M.push(B),M.push(G),M.push(j)):(M.push(B),M.push(j),M.push(G))}return M}(this._vertexBuffer,u);const p=[],_=u.length;for(let S=0;S<_;S+=3){const E=[u[S+0],u[S+1],u[S+2]],M=[this._vertexBuffer[2*u[S+0]+0],this._vertexBuffer[2*u[S+0]+1],this._vertexBuffer[2*u[S+1]+0],this._vertexBuffer[2*u[S+1]+1],this._vertexBuffer[2*u[S+2]+0],this._vertexBuffer[2*u[S+2]+1]];let O=1/0,B=1/0,j=-1/0,G=-1/0;for(let he=0;he<3;he++){const be=M[2*he],Ee=M[2*he+1];O=Math.min(O,be),j=Math.max(j,be),B=Math.min(B,Ee),G=Math.max(G,Ee)}if(O===j||B===G)continue;const Z=Math.floor(O/this._granularityCellSize),Q=Math.ceil(j/this._granularityCellSize),ie=Math.floor(B/this._granularityCellSize),oe=Math.ceil(G/this._granularityCellSize);if(Z!==Q||ie!==oe)for(let he=ie;he<oe;he++){const be=this._scanlineGenerateVertexRingForCellRow(he,M,E);HY(this._vertexBuffer,be,p)}else p.push(...E)}return p}_scanlineGenerateVertexRingForCellRow(u,p,_){const S=u*this._granularityCellSize,E=S+this._granularityCellSize,M=[];for(let O=0;O<3;O++){const B=p[2*O],j=p[2*O+1],G=p[2*(O+1)%6],Z=p[(2*(O+1)+1)%6],Q=p[2*(O+2)%6],ie=p[(2*(O+2)+1)%6],oe=G-B,he=Z-j,be=oe===0,Ee=he===0,Ue=(S-j)/he,Ae=(E-j)/he,re=Math.min(Ue,Ae),_e=Math.max(Ue,Ae);if(!Ee&&(re>=1||_e<=0)||Ee&&(j<S||j>E)){Z>=S&&Z<=E&&M.push(_[(O+1)%3]);continue}!Ee&&re>0&&M.push(this._vertexToIndex(B+oe*re,j+he*re));const De=B+oe*Math.max(re,0),nt=B+oe*Math.min(_e,1);be||this._generateIntraEdgeVertices(M,B,j,G,Z,De,nt),!Ee&&_e<1&&M.push(this._vertexToIndex(B+oe*_e,j+he*_e)),(Ee||Z>=S&&Z<=E)&&M.push(_[(O+1)%3]),!Ee&&(Z<=S||Z>=E)&&this._generateInterEdgeVertices(M,B,j,G,Z,Q,ie,nt,S,E)}return M}_generateIntraEdgeVertices(u,p,_,S,E,M,O){const B=S-p,j=E-_,G=j===0,Z=G?Math.min(p,S):Math.min(M,O),Q=G?Math.max(p,S):Math.max(M,O),ie=Math.floor(Z/this._granularityCellSize)+1,oe=Math.ceil(Q/this._granularityCellSize)-1;if(G?p<S:M<O)for(let he=ie;he<=oe;he++){const be=he*this._granularityCellSize;u.push(this._vertexToIndex(be,_+j*(be-p)/B))}else for(let he=oe;he>=ie;he--){const be=he*this._granularityCellSize;u.push(this._vertexToIndex(be,_+j*(be-p)/B))}}_generateInterEdgeVertices(u,p,_,S,E,M,O,B,j,G){const Z=E-_,Q=M-S,ie=O-E,oe=(j-E)/ie,he=(G-E)/ie,be=Math.min(oe,he),Ee=Math.max(oe,he),Ue=S+Q*be;let Ae=Math.floor(Math.min(Ue,B)/this._granularityCellSize)+1,re=Math.ceil(Math.max(Ue,B)/this._granularityCellSize)-1,_e=B<Ue;const De=ie===0;if(De&&(O===j||O===G))return;if(De||be>=1||Ee<=0){const Mt=_-O,ct=M+(p-M)*Math.min((j-O)/Mt,(G-O)/Mt);Ae=Math.floor(Math.min(ct,B)/this._granularityCellSize)+1,re=Math.ceil(Math.max(ct,B)/this._granularityCellSize)-1,_e=B<ct}const nt=Z>0?G:j;if(_e)for(let Mt=Ae;Mt<=re;Mt++)u.push(this._vertexToIndex(Mt*this._granularityCellSize,nt));else for(let Mt=re;Mt>=Ae;Mt--)u.push(this._vertexToIndex(Mt*this._granularityCellSize,nt))}_generateOutline(u){const p=[];for(const _ of u){const S=md(_,this._granularity,!0),E=this._pointArrayToIndices(S),M=[];for(let O=1;O<E.length;O++)M.push(E[O-1]),M.push(E[O]);p.push(M)}return p}_handlePoles(u){let p=!1,_=!1;this._canonical&&(this._canonical.y===0&&(p=!0),this._canonical.y===(1<<this._canonical.z)-1&&(_=!0)),(p||_)&&this._fillPoles(u,p,_)}_ensureNoPoleVertices(){const u=this._vertexBuffer;for(let p=0;p<u.length;p+=2){const _=u[p+1];_===jp&&(u[p+1]=-32767),_===uy&&(u[p+1]=32766)}}_generatePoleQuad(u,p,_,S,E,M){S>E!=(M===jp)?(u.push(p),u.push(_),u.push(this._vertexToIndex(S,M)),u.push(_),u.push(this._vertexToIndex(E,M)),u.push(this._vertexToIndex(S,M))):(u.push(_),u.push(p),u.push(this._vertexToIndex(S,M)),u.push(this._vertexToIndex(E,M)),u.push(_),u.push(this._vertexToIndex(S,M)))}_fillPoles(u,p,_){const S=this._vertexBuffer,E=ue,M=u.length;for(let O=2;O<M;O+=3){const B=u[O-2],j=u[O-1],G=u[O],Z=S[2*B],Q=S[2*B+1],ie=S[2*j],oe=S[2*j+1],he=S[2*G],be=S[2*G+1];p&&(Q===0&&oe===0&&this._generatePoleQuad(u,B,j,Z,ie,jp),oe===0&&be===0&&this._generatePoleQuad(u,j,G,ie,he,jp),be===0&&Q===0&&this._generatePoleQuad(u,G,B,he,Z,jp)),_&&(Q===E&&oe===E&&this._generatePoleQuad(u,B,j,Z,ie,uy),oe===E&&be===E&&this._generatePoleQuad(u,j,G,ie,he,uy),be===E&&Q===E&&this._generatePoleQuad(u,G,B,he,Z,uy))}}_initializeVertices(u){for(let p=0;p<u.length;p+=2)this._vertexToIndex(u[p],u[p+1])}subdividePolygonInternal(u,p){if(this._used)throw new Error("Subdivision: multiple use not allowed.");this._used=!0;const{flattened:_,holeIndices:S}=function(O){const B=[],j=[];for(const G of O)if(G.length!==0){G!==O[0]&&B.push(j.length/2);for(let Z=0;Z<G.length;Z++)j.push(G[Z].x),j.push(G[Z].y)}return{flattened:j,holeIndices:B}}(u);let E;this._initializeVertices(_);try{const O=function(j,G,Z=2){const Q=G&&G.length,ie=Q?G[0]*Z:j.length;let oe=iL(j,0,ie,Z,!0);const he=[];if(!oe||oe.next===oe.prev)return he;let be,Ee,Ue;if(Q&&(oe=function(Ae,re,_e,De){const nt=[];for(let Mt=0,ct=re.length;Mt<ct;Mt++){const mt=iL(Ae,re[Mt]*De,Mt<ct-1?re[Mt+1]*De:Ae.length,De,!1);mt===mt.next&&(mt.steiner=!0),nt.push(NY(mt))}nt.sort(zY);for(let Mt=0;Mt<nt.length;Mt++)_e=BY(nt[Mt],_e);return _e}(j,G,oe,Z)),j.length>80*Z){be=1/0,Ee=1/0;let Ae=-1/0,re=-1/0;for(let _e=Z;_e<ie;_e+=Z){const De=j[_e],nt=j[_e+1];De<be&&(be=De),nt<Ee&&(Ee=nt),De>Ae&&(Ae=De),nt>re&&(re=nt)}Ue=Math.max(Ae-be,re-Ee),Ue=Ue!==0?32767/Ue:0}return oy(oe,he,Z,be,Ee,Ue,0),he}(_,S),B=this._convertIndices(_,O);E=this._subdivideTrianglesScanline(B)}catch(O){console.error(O)}let M=[];return p&&(M=this._generateOutline(u)),this._ensureNoPoleVertices(),this._handlePoles(E),{verticesFlattened:this._vertexBuffer,indicesTriangles:E,indicesLineList:M}}_convertIndices(u,p){const _=[];for(let S=0;S<p.length;S++)_.push(this._vertexToIndex(u[2*p[S]],u[2*p[S]+1]));return _}_pointArrayToIndices(u){const p=[];for(let _=0;_<u.length;_++){const S=u[_];p.push(this._vertexToIndex(S.x,S.y))}return p}}function uL(m,u,p,_=!0){return new jY(p,u).subdividePolygonInternal(m,_)}function md(m,u,p=!1){if(!m||m.length<1)return[];if(m.length<2)return[];const _=m[0],S=m[m.length-1],E=p&&(_.x!==S.x||_.y!==S.y);if(u<2)return E?[...m,m[0]]:[...m];const M=Math.floor(ue/u),O=[];O.push(new x(m[0].x,m[0].y));const B=m.length,j=E?B:B-1;for(let G=0;G<j;G++){const Z=m[G],Q=G<B-1?m[G+1]:m[0],ie=Z.x,oe=Z.y,he=Q.x,be=Q.y,Ee=ie!==he,Ue=oe!==be;if(!Ee&&!Ue)continue;const Ae=he-ie,re=be-oe,_e=Math.abs(Ae),De=Math.abs(re);let nt=ie,Mt=oe;for(;;){const mt=Ae>0?(Math.floor(nt/M)+1)*M:(Math.ceil(nt/M)-1)*M,Rt=re>0?(Math.floor(Mt/M)+1)*M:(Math.ceil(Mt/M)-1)*M,At=Math.abs(nt-mt),$t=Math.abs(Mt-Rt),xt=Math.abs(nt-he),rn=Math.abs(Mt-be),gn=Ee?At/_e:Number.POSITIVE_INFINITY,fn=Ue?$t/De:Number.POSITIVE_INFINITY;if((xt<=At||!Ee)&&(rn<=$t||!Ue))break;if(gn<fn&&Ee||!Ue){nt=mt,Mt+=re*gn;const ln=new x(nt,Math.round(Mt));O[O.length-1].x===ln.x&&O[O.length-1].y===ln.y||O.push(ln)}else{nt+=Ae*fn,Mt=Rt;const ln=new x(Math.round(nt),Mt);O[O.length-1].x===ln.x&&O[O.length-1].y===ln.y||O.push(ln)}}const ct=new x(he,be);O[O.length-1].x===ct.x&&O[O.length-1].y===ct.y||O.push(ct)}return O}function HY(m,u,p){if(u.length===0)throw new Error("Subdivision vertex ring is empty.");let _=0,S=m[2*u[0]];for(let B=1;B<u.length;B++){const j=m[2*u[B]];j<S&&(S=j,_=B)}const E=u.length;let M=_,O=(M+1)%E;for(;;){const B=M-1>=0?M-1:E-1,j=(O+1)%E,G=m[2*u[B]],Z=m[2*u[j]],Q=m[2*u[M]],ie=m[2*u[M]+1],oe=m[2*u[O]+1];let he=!1;if(G<Z)he=!0;else if(G>Z)he=!1;else{const be=oe-ie,Ee=-(m[2*u[O]]-Q),Ue=ie<oe?1:-1;((G-Q)*be+(m[2*u[B]+1]-ie)*Ee)*Ue>((Z-Q)*be+(m[2*u[j]+1]-ie)*Ee)*Ue&&(he=!0)}if(he){const be=u[B],Ee=u[M],Ue=u[O];be!==Ee&&be!==Ue&&Ee!==Ue&&p.push(Ue,Ee,be),M--,M<0&&(M=E-1)}else{const be=u[j],Ee=u[M],Ue=u[O];be!==Ee&&be!==Ue&&Ee!==Ue&&p.push(Ue,Ee,be),O++,O>=E&&(O=0)}if(B===j)break}}function cL(m,u,p,_,S,E,M,O,B){const j=S.length/2,G=M&&O&&B;if(j<bt.MAX_VERTEX_ARRAY_LENGTH){const Z=u.prepareSegment(j,p,_),Q=Z.vertexLength;for(let he=0;he<E.length;he+=3)_.emplaceBack(Q+E[he],Q+E[he+1],Q+E[he+2]);let ie,oe;Z.vertexLength+=j,Z.primitiveLength+=E.length/3,G&&(oe=M.prepareSegment(j,p,O),ie=oe.vertexLength,oe.vertexLength+=j);for(let he=0;he<S.length;he+=2)m(S[he],S[he+1]);if(G)for(let he=0;he<B.length;he++){const be=B[he];for(let Ee=1;Ee<be.length;Ee+=2)O.emplaceBack(ie+be[Ee-1],ie+be[Ee]);oe.primitiveLength+=be.length/2}}else(function(Z,Q,ie,oe,he,be){const Ee=[];for(let De=0;De<oe.length/2;De++)Ee.push(-1);const Ue={count:0};let Ae=0,re=Z.getOrCreateLatestSegment(Q,ie),_e=re.vertexLength;for(let De=2;De<he.length;De+=3){const nt=he[De-2],Mt=he[De-1],ct=he[De];let mt=Ee[nt]<Ae,Rt=Ee[Mt]<Ae,At=Ee[ct]<Ae;re.vertexLength+((mt?1:0)+(Rt?1:0)+(At?1:0))>bt.MAX_VERTEX_ARRAY_LENGTH&&(re=Z.createNewSegment(Q,ie),Ae=Ue.count,mt=!0,Rt=!0,At=!0,_e=0);const $t=cy(Ee,oe,be,Ue,nt,mt,re),xt=cy(Ee,oe,be,Ue,Mt,Rt,re),rn=cy(Ee,oe,be,Ue,ct,At,re);ie.emplaceBack(_e+$t-Ae,_e+xt-Ae,_e+rn-Ae),re.primitiveLength++}})(u,p,_,S,E,m),G&&function(Z,Q,ie,oe,he,be){const Ee=[];for(let De=0;De<oe.length/2;De++)Ee.push(-1);const Ue={count:0};let Ae=0,re=Z.getOrCreateLatestSegment(Q,ie),_e=re.vertexLength;for(let De=0;De<he.length;De++){const nt=he[De];for(let Mt=1;Mt<he[De].length;Mt+=2){const ct=nt[Mt-1],mt=nt[Mt];let Rt=Ee[ct]<Ae,At=Ee[mt]<Ae;re.vertexLength+((Rt?1:0)+(At?1:0))>bt.MAX_VERTEX_ARRAY_LENGTH&&(re=Z.createNewSegment(Q,ie),Ae=Ue.count,Rt=!0,At=!0,_e=0);const $t=cy(Ee,oe,be,Ue,ct,Rt,re),xt=cy(Ee,oe,be,Ue,mt,At,re);ie.emplaceBack(_e+$t-Ae,_e+xt-Ae),re.primitiveLength++}}}(M,p,O,S,B,m),u.forceNewSegmentOnNextPrepare(),M==null||M.forceNewSegmentOnNextPrepare()}function cy(m,u,p,_,S,E,M){if(E){const O=_.count;return p(u[2*S],u[2*S+1]),m[S]=_.count,_.count++,M.vertexLength++,O}return m[S]}class sT{constructor(u){this.zoom=u.zoom,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(p=>p.id),this.index=u.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Pe,this.indexArray=new vt,this.indexArray2=new pt,this.programConfigurations=new Ni(u.layers,u.zoom),this.segments=new bt,this.segments2=new bt,this.stateDependentLayerIds=this.layers.filter(p=>p.isStateDependent()).map(p=>p.id)}populate(u,p,_){this.hasPattern=rT("fill",this.layers,p);const S=this.layers[0].layout.get("fill-sort-key"),E=!S.isConstant(),M=[];for(const{feature:O,id:B,index:j,sourceLayerIndex:G}of u){const Z=this.layers[0]._featureFilter.needGeometry,Q=Pu(O,Z);if(!this.layers[0]._featureFilter.filter(new kr(this.zoom),Q,_))continue;const ie=E?S.evaluate(Q,{},_,p.availableImages):void 0,oe={id:B,properties:O.properties,type:O.type,sourceLayerIndex:G,index:j,geometry:Z?Q.geometry:Tu(O),patterns:{},sortKey:ie};M.push(oe)}E&&M.sort((O,B)=>O.sortKey-B.sortKey);for(const O of M){const{geometry:B,index:j,sourceLayerIndex:G}=O;if(this.hasPattern){const Z=iT("fill",this.layers,O,this.zoom,p);this.patternFeatures.push(Z)}else this.addFeature(O,B,j,_,{},p.subdivisionGranularity);p.featureIndex.insert(u[j].feature,B,j,G,this.index)}}update(u,p,_){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(u,p,this.stateDependentLayers,_)}addFeatures(u,p,_){for(const S of this.patternFeatures)this.addFeature(S,S.geometry,S.index,p,_,u.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(u){this.uploaded||(this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,kY),this.indexBuffer=u.createIndexBuffer(this.indexArray),this.indexBuffer2=u.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(u),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(u,p,_,S,E,M){for(const O of Cc(p,500)){const B=uL(O,S,M.fill.getGranularityForZoomLevel(S.z)),j=this.layoutVertexArray;cL((G,Z)=>{j.emplaceBack(G,Z)},this.segments,this.layoutVertexArray,this.indexArray,B.verticesFlattened,B.indicesTriangles,this.segments2,this.indexArray2,B.indicesLineList)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,u,_,E,S)}}let hL,dL;tn("FillBucket",sT,{omit:["layers","patternFeatures"]});var UY={get paint(){return dL=dL||new wo({"fill-antialias":new un(xe.paint_fill["fill-antialias"]),"fill-opacity":new yn(xe.paint_fill["fill-opacity"]),"fill-color":new yn(xe.paint_fill["fill-color"]),"fill-outline-color":new yn(xe.paint_fill["fill-outline-color"]),"fill-translate":new un(xe.paint_fill["fill-translate"]),"fill-translate-anchor":new un(xe.paint_fill["fill-translate-anchor"]),"fill-pattern":new Ep(xe.paint_fill["fill-pattern"])})},get layout(){return hL=hL||new wo({"fill-sort-key":new yn(xe.layout_fill["fill-sort-key"])})}};class GY extends gs{constructor(u){super(u,UY)}recalculate(u,p){super.recalculate(u,p);const _=this.paint._values["fill-outline-color"];_.value.kind==="constant"&&_.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(u){return new sT(u)}queryRadius(){return y1(this.paint.get("fill-translate"))}queryIntersectsFeature({queryGeometry:u,geometry:p,transform:_,pixelsToTileUnits:S}){return Bp(_1(u,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),-_.bearingInRadians,S),p)}isTileClipped(){return!0}}const WY=Or([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),ZY=Or([{name:"a_centroid",components:2,type:"Int16"}],4),{members:qY}=WY;var lT,fL,uT,pL,cT,mL,gL,S1={};function vL(){if(fL)return lT;fL=1;var m=g();function u(S,E,M,O,B){this.properties={},this.extent=M,this.type=0,this._pbf=S,this._geometry=-1,this._keys=O,this._values=B,S.readFields(p,this,E)}function p(S,E,M){S==1?E.id=M.readVarint():S==2?function(O,B){for(var j=O.readVarint()+O.pos;O.pos<j;){var G=B._keys[O.readVarint()],Z=B._values[O.readVarint()];B.properties[G]=Z}}(M,E):S==3?E.type=M.readVarint():S==4&&(E._geometry=M.pos)}function _(S){for(var E,M,O=0,B=0,j=S.length,G=j-1;B<j;G=B++)O+=((M=S[G]).x-(E=S[B]).x)*(E.y+M.y);return O}return lT=u,u.types=["Unknown","Point","LineString","Polygon"],u.prototype.loadGeometry=function(){var S=this._pbf;S.pos=this._geometry;for(var E,M=S.readVarint()+S.pos,O=1,B=0,j=0,G=0,Z=[];S.pos<M;){if(B<=0){var Q=S.readVarint();O=7&Q,B=Q>>3}if(B--,O===1||O===2)j+=S.readSVarint(),G+=S.readSVarint(),O===1&&(E&&Z.push(E),E=[]),E.push(new m(j,G));else{if(O!==7)throw new Error("unknown command "+O);E&&E.push(E[0].clone())}}return E&&Z.push(E),Z},u.prototype.bbox=function(){var S=this._pbf;S.pos=this._geometry;for(var E=S.readVarint()+S.pos,M=1,O=0,B=0,j=0,G=1/0,Z=-1/0,Q=1/0,ie=-1/0;S.pos<E;){if(O<=0){var oe=S.readVarint();M=7&oe,O=oe>>3}if(O--,M===1||M===2)(B+=S.readSVarint())<G&&(G=B),B>Z&&(Z=B),(j+=S.readSVarint())<Q&&(Q=j),j>ie&&(ie=j);else if(M!==7)throw new Error("unknown command "+M)}return[G,Q,Z,ie]},u.prototype.toGeoJSON=function(S,E,M){var O,B,j=this.extent*Math.pow(2,M),G=this.extent*S,Z=this.extent*E,Q=this.loadGeometry(),ie=u.types[this.type];function oe(Ee){for(var Ue=0;Ue<Ee.length;Ue++){var Ae=Ee[Ue];Ee[Ue]=[360*(Ae.x+G)/j-180,360/Math.PI*Math.atan(Math.exp((180-360*(Ae.y+Z)/j)*Math.PI/180))-90]}}switch(this.type){case 1:var he=[];for(O=0;O<Q.length;O++)he[O]=Q[O][0];oe(Q=he);break;case 2:for(O=0;O<Q.length;O++)oe(Q[O]);break;case 3:for(Q=function(Ee){var Ue=Ee.length;if(Ue<=1)return[Ee];for(var Ae,re,_e=[],De=0;De<Ue;De++){var nt=_(Ee[De]);nt!==0&&(re===void 0&&(re=nt<0),re===nt<0?(Ae&&_e.push(Ae),Ae=[Ee[De]]):Ae.push(Ee[De]))}return Ae&&_e.push(Ae),_e}(Q),O=0;O<Q.length;O++)for(B=0;B<Q[O].length;B++)oe(Q[O][B])}Q.length===1?Q=Q[0]:ie="Multi"+ie;var be={type:"Feature",geometry:{type:ie,coordinates:Q},properties:this.properties};return"id"in this&&(be.id=this.id),be},lT}function yL(){if(pL)return uT;pL=1;var m=vL();function u(_,S){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=_,this._keys=[],this._values=[],this._features=[],_.readFields(p,this,S),this.length=this._features.length}function p(_,S,E){_===15?S.version=E.readVarint():_===1?S.name=E.readString():_===5?S.extent=E.readVarint():_===2?S._features.push(E.pos):_===3?S._keys.push(E.readString()):_===4&&S._values.push(function(M){for(var O=null,B=M.readVarint()+M.pos;M.pos<B;){var j=M.readVarint()>>3;O=j===1?M.readString():j===2?M.readFloat():j===3?M.readDouble():j===4?M.readVarint64():j===5?M.readVarint():j===6?M.readSVarint():j===7?M.readBoolean():null}return O}(E))}return uT=u,u.prototype.feature=function(_){if(_<0||_>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[_];var S=this._pbf.readVarint()+this._pbf.pos;return new m(this._pbf,S,this.extent,this._keys,this._values)},uT}function _L(){return gL||(gL=1,S1.VectorTile=function(){if(mL)return cT;mL=1;var m=yL();function u(p,_,S){if(p===3){var E=new m(S,S.readVarint()+S.pos);E.length&&(_[E.name]=E)}}return cT=function(p,_){this.layers=p.readFields(u,{},_)},cT}(),S1.VectorTileFeature=vL(),S1.VectorTileLayer=yL()),S1}var hy=c(_L());const KY=hy.VectorTileFeature.types,hT=Math.pow(2,13);function dy(m,u,p,_,S,E,M,O){m.emplaceBack(u,p,2*Math.floor(_*hT)+M,S*hT*2,E*hT*2,Math.round(O))}class dT{constructor(u){this.zoom=u.zoom,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(p=>p.id),this.index=u.index,this.hasPattern=!1,this.layoutVertexArray=new Ie,this.centroidVertexArray=new Ce,this.indexArray=new vt,this.programConfigurations=new Ni(u.layers,u.zoom),this.segments=new bt,this.stateDependentLayerIds=this.layers.filter(p=>p.isStateDependent()).map(p=>p.id)}populate(u,p,_){this.features=[],this.hasPattern=rT("fill-extrusion",this.layers,p);for(const{feature:S,id:E,index:M,sourceLayerIndex:O}of u){const B=this.layers[0]._featureFilter.needGeometry,j=Pu(S,B);if(!this.layers[0]._featureFilter.filter(new kr(this.zoom),j,_))continue;const G={id:E,sourceLayerIndex:O,index:M,geometry:B?j.geometry:Tu(S),properties:S.properties,type:S.type,patterns:{}};this.hasPattern?this.features.push(iT("fill-extrusion",this.layers,G,this.zoom,p)):this.addFeature(G,G.geometry,M,_,{},p.subdivisionGranularity),p.featureIndex.insert(S,G.geometry,M,O,this.index,!0)}}addFeatures(u,p,_){for(const S of this.features){const{geometry:E}=S;this.addFeature(S,E,S.index,p,_,u.subdivisionGranularity)}}update(u,p,_){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(u,p,this.stateDependentLayers,_)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(u){this.uploaded||(this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,qY),this.centroidVertexBuffer=u.createVertexBuffer(this.centroidVertexArray,ZY.members,!0),this.indexBuffer=u.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(u),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(u,p,_,S,E,M){for(const O of Cc(p,500)){const B={x:0,y:0,sampleCount:0},j=this.layoutVertexArray.length;this.processPolygon(B,S,u,O,M);const G=this.layoutVertexArray.length-j,Z=Math.floor(B.x/B.sampleCount),Q=Math.floor(B.y/B.sampleCount);for(let ie=0;ie<G;ie++)this.centroidVertexArray.emplaceBack(Z,Q)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,u,_,E,S)}processPolygon(u,p,_,S,E){if(S.length<1||bL(S[0]))return;for(const Z of S)Z.length!==0&&XY(u,Z);const M={segment:this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)},O=E.fill.getGranularityForZoomLevel(p.z),B=KY[_.type]==="Polygon";for(const Z of S){if(Z.length===0||bL(Z))continue;const Q=md(Z,O,B);this._generateSideFaces(Q,M)}if(!B)return;const j=uL(S,p,O,!1),G=this.layoutVertexArray;cL((Z,Q)=>{dy(G,Z,Q,0,0,1,1,0)},this.segments,this.layoutVertexArray,this.indexArray,j.verticesFlattened,j.indicesTriangles)}_generateSideFaces(u,p){let _=0;for(let S=1;S<u.length;S++){const E=u[S],M=u[S-1];if(YY(E,M))continue;p.segment.vertexLength+4>bt.MAX_VERTEX_ARRAY_LENGTH&&(p.segment=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const O=E.sub(M)._perp()._unit(),B=M.dist(E);_+B>32768&&(_=0),dy(this.layoutVertexArray,E.x,E.y,O.x,O.y,0,0,_),dy(this.layoutVertexArray,E.x,E.y,O.x,O.y,0,1,_),_+=B,dy(this.layoutVertexArray,M.x,M.y,O.x,O.y,0,0,_),dy(this.layoutVertexArray,M.x,M.y,O.x,O.y,0,1,_);const j=p.segment.vertexLength;this.indexArray.emplaceBack(j,j+2,j+1),this.indexArray.emplaceBack(j+1,j+2,j+3),p.segment.vertexLength+=4,p.segment.primitiveLength+=2}}}function XY(m,u){for(let p=0;p<u.length;p++){const _=u[p];p===u.length-1&&u[0].x===_.x&&u[0].y===_.y||(m.x+=_.x,m.y+=_.y,m.sampleCount++)}}function YY(m,u){return m.x===u.x&&(m.x<0||m.x>ue)||m.y===u.y&&(m.y<0||m.y>ue)}function bL(m){return m.every(u=>u.x<0)||m.every(u=>u.x>ue)||m.every(u=>u.y<0)||m.every(u=>u.y>ue)}let xL;tn("FillExtrusionBucket",dT,{omit:["layers","features"]});var JY={get paint(){return xL=xL||new wo({"fill-extrusion-opacity":new un(xe["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new yn(xe["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new un(xe["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new un(xe["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Ep(xe["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new yn(xe["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new yn(xe["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new un(xe["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class QY extends gs{constructor(u){super(u,JY)}createBucket(u){return new dT(u)}queryRadius(){return y1(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature({queryGeometry:u,feature:p,featureState:_,geometry:S,transform:E,pixelsToTileUnits:M,pixelPosMatrix:O}){const B=_1(u,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),-E.bearingInRadians,M),j=this.paint.get("fill-extrusion-height").evaluate(p,_),G=this.paint.get("fill-extrusion-base").evaluate(p,_),Z=function(ie,oe,he){const be=[];for(const Ee of ie){const Ue=[Ee.x,Ee.y,0,1];ae(Ue,Ue,oe),be.push(new x(Ue[0]/Ue[3],Ue[1]/Ue[3]))}return be}(B,O),Q=function(ie,oe,he,be){const Ee=[],Ue=[],Ae=be[8]*oe,re=be[9]*oe,_e=be[10]*oe,De=be[11]*oe,nt=be[8]*he,Mt=be[9]*he,ct=be[10]*he,mt=be[11]*he;for(const Rt of ie){const At=[],$t=[];for(const xt of Rt){const rn=xt.x,gn=xt.y,fn=be[0]*rn+be[4]*gn+be[12],ln=be[1]*rn+be[5]*gn+be[13],Wn=be[2]*rn+be[6]*gn+be[14],si=be[3]*rn+be[7]*gn+be[15],Di=Wn+_e,Ki=si+De,_s=fn+nt,zo=ln+Mt,Xi=Wn+ct,mo=si+mt,pi=new x((fn+Ae)/Ki,(ln+re)/Ki);pi.z=Di/Ki,At.push(pi);const ki=new x(_s/mo,zo/mo);ki.z=Xi/mo,$t.push(ki)}Ee.push(At),Ue.push($t)}return[Ee,Ue]}(S,G,j,O);return function(ie,oe,he){let be=1/0;Bp(he,oe)&&(be=wL(he,oe[0]));for(let Ee=0;Ee<oe.length;Ee++){const Ue=oe[Ee],Ae=ie[Ee];for(let re=0;re<Ue.length-1;re++){const _e=Ue[re],De=[_e,Ue[re+1],Ae[re+1],Ae[re],_e];ny(he,De)&&(be=Math.min(be,wL(he,De)))}}return be!==1/0&&be}(Q[0],Q[1],Z)}}function fy(m,u){return m.x*u.x+m.y*u.y}function wL(m,u){if(m.length===1){let p=0;const _=u[p++];let S;for(;!S||_.equals(S);)if(S=u[p++],!S)return 1/0;for(;p<u.length;p++){const E=u[p],M=m[0],O=S.sub(_),B=E.sub(_),j=M.sub(_),G=fy(O,O),Z=fy(O,B),Q=fy(B,B),ie=fy(j,O),oe=fy(j,B),he=G*Q-Z*Z,be=(Q*ie-Z*oe)/he,Ee=(G*oe-Z*ie)/he,Ue=_.z*(1-be-Ee)+S.z*be+E.z*Ee;if(isFinite(Ue))return Ue}return 1/0}{let p=1/0;for(const _ of u)p=Math.min(p,_.z);return p}}const eJ=Or([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:tJ}=eJ,nJ=Or([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:rJ}=nJ,iJ=hy.VectorTileFeature.types,oJ=Math.cos(Math.PI/180*37.5),SL=Math.pow(2,14)/.5;class fT{constructor(u){this.zoom=u.zoom,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(p=>p.id),this.index=u.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(p=>{this.gradients[p.id]={}}),this.layoutVertexArray=new Oe,this.layoutVertexArray2=new $e,this.indexArray=new vt,this.programConfigurations=new Ni(u.layers,u.zoom),this.segments=new bt,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(p=>p.isStateDependent()).map(p=>p.id)}populate(u,p,_){this.hasPattern=rT("line",this.layers,p);const S=this.layers[0].layout.get("line-sort-key"),E=!S.isConstant(),M=[];for(const{feature:O,id:B,index:j,sourceLayerIndex:G}of u){const Z=this.layers[0]._featureFilter.needGeometry,Q=Pu(O,Z);if(!this.layers[0]._featureFilter.filter(new kr(this.zoom),Q,_))continue;const ie=E?S.evaluate(Q,{},_):void 0,oe={id:B,properties:O.properties,type:O.type,sourceLayerIndex:G,index:j,geometry:Z?Q.geometry:Tu(O),patterns:{},sortKey:ie};M.push(oe)}E&&M.sort((O,B)=>O.sortKey-B.sortKey);for(const O of M){const{geometry:B,index:j,sourceLayerIndex:G}=O;if(this.hasPattern){const Z=iT("line",this.layers,O,this.zoom,p);this.patternFeatures.push(Z)}else this.addFeature(O,B,j,_,{},p.subdivisionGranularity);p.featureIndex.insert(u[j].feature,B,j,G,this.index)}}update(u,p,_){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(u,p,this.stateDependentLayers,_)}addFeatures(u,p,_){for(const S of this.patternFeatures)this.addFeature(S,S.geometry,S.index,p,_,u.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(u){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=u.createVertexBuffer(this.layoutVertexArray2,rJ)),this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,tJ),this.indexBuffer=u.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(u),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(u){if(u.properties&&Object.prototype.hasOwnProperty.call(u.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(u.properties,"mapbox_clip_end"))return{start:+u.properties.mapbox_clip_start,end:+u.properties.mapbox_clip_end}}addFeature(u,p,_,S,E,M){const O=this.layers[0].layout,B=O.get("line-join").evaluate(u,{}),j=O.get("line-cap"),G=O.get("line-miter-limit"),Z=O.get("line-round-limit");this.lineClips=this.lineFeatureClips(u);for(const Q of p)this.addLine(Q,u,B,j,G,Z,S,M);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,u,_,E,S)}addLine(u,p,_,S,E,M,O,B){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,u=md(u,O?B.line.getGranularityForZoomLevel(O.z):1),this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Ae=0;Ae<u.length-1;Ae++)this.totalDistance+=u[Ae].dist(u[Ae+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const j=iJ[p.type]==="Polygon";let G=u.length;for(;G>=2&&u[G-1].equals(u[G-2]);)G--;let Z=0;for(;Z<G-1&&u[Z].equals(u[Z+1]);)Z++;if(G<(j?3:2))return;_==="bevel"&&(E=1.05);const Q=this.overscaling<=16?15*ue/(512*this.overscaling):0,ie=this.segments.prepareSegment(10*G,this.layoutVertexArray,this.indexArray);let oe,he,be,Ee,Ue;this.e1=this.e2=-1,j&&(oe=u[G-2],Ue=u[Z].sub(oe)._unit()._perp());for(let Ae=Z;Ae<G;Ae++){if(be=Ae===G-1?j?u[Z+1]:void 0:u[Ae+1],be&&u[Ae].equals(be))continue;Ue&&(Ee=Ue),oe&&(he=oe),oe=u[Ae],Ue=be?be.sub(oe)._unit()._perp():Ee,Ee=Ee||Ue;let re=Ee.add(Ue);re.x===0&&re.y===0||re._unit();const _e=Ee.x*Ue.x+Ee.y*Ue.y,De=re.x*Ue.x+re.y*Ue.y,nt=De!==0?1/De:1/0,Mt=2*Math.sqrt(2-2*De),ct=De<oJ&&he&&be,mt=Ee.x*Ue.y-Ee.y*Ue.x>0;if(ct&&Ae>Z){const $t=oe.dist(he);if($t>2*Q){const xt=oe.sub(oe.sub(he)._mult(Q/$t)._round());this.updateDistance(he,xt),this.addCurrentVertex(xt,Ee,0,0,ie),he=xt}}const Rt=he&&be;let At=Rt?_:j?"butt":S;if(Rt&&At==="round"&&(nt<M?At="miter":nt<=2&&(At="fakeround")),At==="miter"&&nt>E&&(At="bevel"),At==="bevel"&&(nt>2&&(At="flipbevel"),nt<E&&(At="miter")),he&&this.updateDistance(he,oe),At==="miter")re._mult(nt),this.addCurrentVertex(oe,re,0,0,ie);else if(At==="flipbevel"){if(nt>100)re=Ue.mult(-1);else{const $t=nt*Ee.add(Ue).mag()/Ee.sub(Ue).mag();re._perp()._mult($t*(mt?-1:1))}this.addCurrentVertex(oe,re,0,0,ie),this.addCurrentVertex(oe,re.mult(-1),0,0,ie)}else if(At==="bevel"||At==="fakeround"){const $t=-Math.sqrt(nt*nt-1),xt=mt?$t:0,rn=mt?0:$t;if(he&&this.addCurrentVertex(oe,Ee,xt,rn,ie),At==="fakeround"){const gn=Math.round(180*Mt/Math.PI/20);for(let fn=1;fn<gn;fn++){let ln=fn/gn;if(ln!==.5){const si=ln-.5;ln+=ln*si*(ln-1)*((1.0904+_e*(_e*(3.55645-1.43519*_e)-3.2452))*si*si+(.848013+_e*(.215638*_e-1.06021)))}const Wn=Ue.sub(Ee)._mult(ln)._add(Ee)._unit()._mult(mt?-1:1);this.addHalfVertex(oe,Wn.x,Wn.y,!1,mt,0,ie)}}be&&this.addCurrentVertex(oe,Ue,-xt,-rn,ie)}else if(At==="butt")this.addCurrentVertex(oe,re,0,0,ie);else if(At==="square"){const $t=he?1:-1;this.addCurrentVertex(oe,re,$t,$t,ie)}else At==="round"&&(he&&(this.addCurrentVertex(oe,Ee,0,0,ie),this.addCurrentVertex(oe,Ee,1,1,ie,!0)),be&&(this.addCurrentVertex(oe,Ue,-1,-1,ie,!0),this.addCurrentVertex(oe,Ue,0,0,ie)));if(ct&&Ae<G-1){const $t=oe.dist(be);if($t>2*Q){const xt=oe.add(be.sub(oe)._mult(Q/$t)._round());this.updateDistance(oe,xt),this.addCurrentVertex(xt,Ue,0,0,ie),oe=xt}}}}addCurrentVertex(u,p,_,S,E,M=!1){const O=p.y*S-p.x,B=-p.y-p.x*S;this.addHalfVertex(u,p.x+p.y*_,p.y-p.x*_,M,!1,_,E),this.addHalfVertex(u,O,B,M,!0,-S,E),this.distance>SL/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(u,p,_,S,E,M))}addHalfVertex({x:u,y:p},_,S,E,M,O,B){const j=.5*(this.lineClips?this.scaledDistance*(SL-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((u<<1)+(E?1:0),(p<<1)+(M?1:0),Math.round(63*_)+128,Math.round(63*S)+128,1+(O===0?0:O<0?-1:1)|(63&j)<<2,j>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const G=B.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,G,this.e2),B.primitiveLength++),M?this.e2=G:this.e1=G}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(u,p){this.distance+=u.dist(p),this.updateScaledDistance()}}let CL,TL;tn("LineBucket",fT,{omit:["layers","patternFeatures"]});var PL={get paint(){return TL=TL||new wo({"line-opacity":new yn(xe.paint_line["line-opacity"]),"line-color":new yn(xe.paint_line["line-color"]),"line-translate":new un(xe.paint_line["line-translate"]),"line-translate-anchor":new un(xe.paint_line["line-translate-anchor"]),"line-width":new yn(xe.paint_line["line-width"]),"line-gap-width":new yn(xe.paint_line["line-gap-width"]),"line-offset":new yn(xe.paint_line["line-offset"]),"line-blur":new yn(xe.paint_line["line-blur"]),"line-dasharray":new Ip(xe.paint_line["line-dasharray"]),"line-pattern":new Ep(xe.paint_line["line-pattern"]),"line-gradient":new Mp(xe.paint_line["line-gradient"])})},get layout(){return CL=CL||new wo({"line-cap":new un(xe.layout_line["line-cap"]),"line-join":new yn(xe.layout_line["line-join"]),"line-miter-limit":new un(xe.layout_line["line-miter-limit"]),"line-round-limit":new un(xe.layout_line["line-round-limit"]),"line-sort-key":new yn(xe.layout_line["line-sort-key"])})}};class aJ extends yn{possiblyEvaluate(u,p){return p=new kr(Math.floor(p.zoom),{now:p.now,fadeDuration:p.fadeDuration,zoomHistory:p.zoomHistory,transition:p.transition}),super.possiblyEvaluate(u,p)}evaluate(u,p,_,S){return p=Lt({},p,{zoom:Math.floor(p.zoom)}),super.evaluate(u,p,_,S)}}let C1;class sJ extends gs{constructor(u){super(u,PL),this.gradientVersion=0,C1||(C1=new aJ(PL.paint.properties["line-width"].specification),C1.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(u){if(u==="line-gradient"){const p=this.gradientExpression();this.stepInterpolant=!!function(_){return _._styleExpression!==void 0}(p)&&p._styleExpression.expression instanceof xc,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(u,p){super.recalculate(u,p),this.paint._values["line-floorwidth"]=C1.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,u)}createBucket(u){return new fT(u)}queryRadius(u){const p=u,_=EL(ry("line-width",this,p),ry("line-gap-width",this,p)),S=ry("line-offset",this,p);return _/2+Math.abs(S)+y1(this.paint.get("line-translate"))}queryIntersectsFeature({queryGeometry:u,feature:p,featureState:_,geometry:S,transform:E,pixelsToTileUnits:M}){const O=_1(u,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),-E.bearingInRadians,M),B=M/2*EL(this.paint.get("line-width").evaluate(p,_),this.paint.get("line-gap-width").evaluate(p,_)),j=this.paint.get("line-offset").evaluate(p,_);return j&&(S=function(G,Z){const Q=[];for(let ie=0;ie<G.length;ie++){const oe=G[ie],he=[];for(let be=0;be<oe.length;be++){const Ee=oe[be-1],Ue=oe[be],Ae=oe[be+1],re=be===0?new x(0,0):Ue.sub(Ee)._unit()._perp(),_e=be===oe.length-1?new x(0,0):Ae.sub(Ue)._unit()._perp(),De=re._add(_e)._unit(),nt=De.x*_e.x+De.y*_e.y;nt!==0&&De._mult(1/nt),he.push(De._mult(Z)._add(Ue))}Q.push(he)}return Q}(S,j*M)),function(G,Z,Q){for(let ie=0;ie<Z.length;ie++){const oe=Z[ie];if(G.length>=3){for(let he=0;he<oe.length;he++)if(Fp(G,oe[he]))return!0}if(v1(G,oe,Q))return!0}return!1}(O,S,B)}isTileClipped(){return!0}}function EL(m,u){return u>0?u+2*m:m}const lJ=Or([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),uJ=Or([{name:"a_projected_pos",components:3,type:"Float32"}],4);Or([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const cJ=Or([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);Or([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const IL=Or([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),hJ=Or([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function dJ(m,u,p){return m.sections.forEach(_=>{_.text=function(S,E,M){const O=E.layout.get("text-transform").evaluate(M,{});return O==="uppercase"?S=S.toLocaleUpperCase():O==="lowercase"&&(S=S.toLocaleLowerCase()),qs.applyArabicShaping&&(S=qs.applyArabicShaping(S)),S}(_.text,u,p)}),m}Or([{name:"triangle",components:3,type:"Uint16"}]),Or([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Or([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Or([{type:"Float32",name:"offsetX"}]),Or([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Or([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const py={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var ML,pT,AL,Ai=24,mT={};function fJ(){return ML||(ML=1,mT.read=function(m,u,p,_,S){var E,M,O=8*S-_-1,B=(1<<O)-1,j=B>>1,G=-7,Z=p?S-1:0,Q=p?-1:1,ie=m[u+Z];for(Z+=Q,E=ie&(1<<-G)-1,ie>>=-G,G+=O;G>0;E=256*E+m[u+Z],Z+=Q,G-=8);for(M=E&(1<<-G)-1,E>>=-G,G+=_;G>0;M=256*M+m[u+Z],Z+=Q,G-=8);if(E===0)E=1-j;else{if(E===B)return M?NaN:1/0*(ie?-1:1);M+=Math.pow(2,_),E-=j}return(ie?-1:1)*M*Math.pow(2,E-_)},mT.write=function(m,u,p,_,S,E){var M,O,B,j=8*E-S-1,G=(1<<j)-1,Z=G>>1,Q=S===23?Math.pow(2,-24)-Math.pow(2,-77):0,ie=_?0:E-1,oe=_?1:-1,he=u<0||u===0&&1/u<0?1:0;for(u=Math.abs(u),isNaN(u)||u===1/0?(O=isNaN(u)?1:0,M=G):(M=Math.floor(Math.log(u)/Math.LN2),u*(B=Math.pow(2,-M))<1&&(M--,B*=2),(u+=M+Z>=1?Q/B:Q*Math.pow(2,1-Z))*B>=2&&(M++,B/=2),M+Z>=G?(O=0,M=G):M+Z>=1?(O=(u*B-1)*Math.pow(2,S),M+=Z):(O=u*Math.pow(2,Z-1)*Math.pow(2,S),M=0));S>=8;m[p+ie]=255&O,ie+=oe,O/=256,S-=8);for(M=M<<S|O,j+=S;j>0;m[p+ie]=255&M,ie+=oe,M/=256,j-=8);m[p+ie-oe]|=128*he}),mT}function DL(){if(AL)return pT;AL=1,pT=u;var m=fJ();function u(re){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(re)?re:new Uint8Array(re||0),this.pos=0,this.type=0,this.length=this.buf.length}u.Varint=0,u.Fixed64=1,u.Bytes=2,u.Fixed32=5;var p=4294967296,_=1/p,S=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");function E(re){return re.type===u.Bytes?re.readVarint()+re.pos:re.pos+1}function M(re,_e,De){return De?4294967296*_e+(re>>>0):4294967296*(_e>>>0)+(re>>>0)}function O(re,_e,De){var nt=_e<=16383?1:_e<=2097151?2:_e<=268435455?3:Math.floor(Math.log(_e)/(7*Math.LN2));De.realloc(nt);for(var Mt=De.pos-1;Mt>=re;Mt--)De.buf[Mt+nt]=De.buf[Mt]}function B(re,_e){for(var De=0;De<re.length;De++)_e.writeVarint(re[De])}function j(re,_e){for(var De=0;De<re.length;De++)_e.writeSVarint(re[De])}function G(re,_e){for(var De=0;De<re.length;De++)_e.writeFloat(re[De])}function Z(re,_e){for(var De=0;De<re.length;De++)_e.writeDouble(re[De])}function Q(re,_e){for(var De=0;De<re.length;De++)_e.writeBoolean(re[De])}function ie(re,_e){for(var De=0;De<re.length;De++)_e.writeFixed32(re[De])}function oe(re,_e){for(var De=0;De<re.length;De++)_e.writeSFixed32(re[De])}function he(re,_e){for(var De=0;De<re.length;De++)_e.writeFixed64(re[De])}function be(re,_e){for(var De=0;De<re.length;De++)_e.writeSFixed64(re[De])}function Ee(re,_e){return(re[_e]|re[_e+1]<<8|re[_e+2]<<16)+16777216*re[_e+3]}function Ue(re,_e,De){re[De]=_e,re[De+1]=_e>>>8,re[De+2]=_e>>>16,re[De+3]=_e>>>24}function Ae(re,_e){return(re[_e]|re[_e+1]<<8|re[_e+2]<<16)+(re[_e+3]<<24)}return u.prototype={destroy:function(){this.buf=null},readFields:function(re,_e,De){for(De=De||this.length;this.pos<De;){var nt=this.readVarint(),Mt=nt>>3,ct=this.pos;this.type=7&nt,re(Mt,_e,this),this.pos===ct&&this.skip(nt)}return _e},readMessage:function(re,_e){return this.readFields(re,_e,this.readVarint()+this.pos)},readFixed32:function(){var re=Ee(this.buf,this.pos);return this.pos+=4,re},readSFixed32:function(){var re=Ae(this.buf,this.pos);return this.pos+=4,re},readFixed64:function(){var re=Ee(this.buf,this.pos)+Ee(this.buf,this.pos+4)*p;return this.pos+=8,re},readSFixed64:function(){var re=Ee(this.buf,this.pos)+Ae(this.buf,this.pos+4)*p;return this.pos+=8,re},readFloat:function(){var re=m.read(this.buf,this.pos,!0,23,4);return this.pos+=4,re},readDouble:function(){var re=m.read(this.buf,this.pos,!0,52,8);return this.pos+=8,re},readVarint:function(re){var _e,De,nt=this.buf;return _e=127&(De=nt[this.pos++]),De<128?_e:(_e|=(127&(De=nt[this.pos++]))<<7,De<128?_e:(_e|=(127&(De=nt[this.pos++]))<<14,De<128?_e:(_e|=(127&(De=nt[this.pos++]))<<21,De<128?_e:function(Mt,ct,mt){var Rt,At,$t=mt.buf;if(Rt=(112&(At=$t[mt.pos++]))>>4,At<128||(Rt|=(127&(At=$t[mt.pos++]))<<3,At<128)||(Rt|=(127&(At=$t[mt.pos++]))<<10,At<128)||(Rt|=(127&(At=$t[mt.pos++]))<<17,At<128)||(Rt|=(127&(At=$t[mt.pos++]))<<24,At<128)||(Rt|=(1&(At=$t[mt.pos++]))<<31,At<128))return M(Mt,Rt,ct);throw new Error("Expected varint not more than 10 bytes")}(_e|=(15&(De=nt[this.pos]))<<28,re,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var re=this.readVarint();return re%2==1?(re+1)/-2:re/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var re=this.readVarint()+this.pos,_e=this.pos;return this.pos=re,re-_e>=12&&S?function(De,nt,Mt){return S.decode(De.subarray(nt,Mt))}(this.buf,_e,re):function(De,nt,Mt){for(var ct="",mt=nt;mt<Mt;){var Rt,At,$t,xt=De[mt],rn=null,gn=xt>239?4:xt>223?3:xt>191?2:1;if(mt+gn>Mt)break;gn===1?xt<128&&(rn=xt):gn===2?(192&(Rt=De[mt+1]))==128&&(rn=(31&xt)<<6|63&Rt)<=127&&(rn=null):gn===3?(At=De[mt+2],(192&(Rt=De[mt+1]))==128&&(192&At)==128&&((rn=(15&xt)<<12|(63&Rt)<<6|63&At)<=2047||rn>=55296&&rn<=57343)&&(rn=null)):gn===4&&(At=De[mt+2],$t=De[mt+3],(192&(Rt=De[mt+1]))==128&&(192&At)==128&&(192&$t)==128&&((rn=(15&xt)<<18|(63&Rt)<<12|(63&At)<<6|63&$t)<=65535||rn>=1114112)&&(rn=null)),rn===null?(rn=65533,gn=1):rn>65535&&(rn-=65536,ct+=String.fromCharCode(rn>>>10&1023|55296),rn=56320|1023&rn),ct+=String.fromCharCode(rn),mt+=gn}return ct}(this.buf,_e,re)},readBytes:function(){var re=this.readVarint()+this.pos,_e=this.buf.subarray(this.pos,re);return this.pos=re,_e},readPackedVarint:function(re,_e){if(this.type!==u.Bytes)return re.push(this.readVarint(_e));var De=E(this);for(re=re||[];this.pos<De;)re.push(this.readVarint(_e));return re},readPackedSVarint:function(re){if(this.type!==u.Bytes)return re.push(this.readSVarint());var _e=E(this);for(re=re||[];this.pos<_e;)re.push(this.readSVarint());return re},readPackedBoolean:function(re){if(this.type!==u.Bytes)return re.push(this.readBoolean());var _e=E(this);for(re=re||[];this.pos<_e;)re.push(this.readBoolean());return re},readPackedFloat:function(re){if(this.type!==u.Bytes)return re.push(this.readFloat());var _e=E(this);for(re=re||[];this.pos<_e;)re.push(this.readFloat());return re},readPackedDouble:function(re){if(this.type!==u.Bytes)return re.push(this.readDouble());var _e=E(this);for(re=re||[];this.pos<_e;)re.push(this.readDouble());return re},readPackedFixed32:function(re){if(this.type!==u.Bytes)return re.push(this.readFixed32());var _e=E(this);for(re=re||[];this.pos<_e;)re.push(this.readFixed32());return re},readPackedSFixed32:function(re){if(this.type!==u.Bytes)return re.push(this.readSFixed32());var _e=E(this);for(re=re||[];this.pos<_e;)re.push(this.readSFixed32());return re},readPackedFixed64:function(re){if(this.type!==u.Bytes)return re.push(this.readFixed64());var _e=E(this);for(re=re||[];this.pos<_e;)re.push(this.readFixed64());return re},readPackedSFixed64:function(re){if(this.type!==u.Bytes)return re.push(this.readSFixed64());var _e=E(this);for(re=re||[];this.pos<_e;)re.push(this.readSFixed64());return re},skip:function(re){var _e=7&re;if(_e===u.Varint)for(;this.buf[this.pos++]>127;);else if(_e===u.Bytes)this.pos=this.readVarint()+this.pos;else if(_e===u.Fixed32)this.pos+=4;else{if(_e!==u.Fixed64)throw new Error("Unimplemented type: "+_e);this.pos+=8}},writeTag:function(re,_e){this.writeVarint(re<<3|_e)},realloc:function(re){for(var _e=this.length||16;_e<this.pos+re;)_e*=2;if(_e!==this.length){var De=new Uint8Array(_e);De.set(this.buf),this.buf=De,this.length=_e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(re){this.realloc(4),Ue(this.buf,re,this.pos),this.pos+=4},writeSFixed32:function(re){this.realloc(4),Ue(this.buf,re,this.pos),this.pos+=4},writeFixed64:function(re){this.realloc(8),Ue(this.buf,-1&re,this.pos),Ue(this.buf,Math.floor(re*_),this.pos+4),this.pos+=8},writeSFixed64:function(re){this.realloc(8),Ue(this.buf,-1&re,this.pos),Ue(this.buf,Math.floor(re*_),this.pos+4),this.pos+=8},writeVarint:function(re){(re=+re||0)>268435455||re<0?function(_e,De){var nt,Mt;if(_e>=0?(nt=_e%4294967296|0,Mt=_e/4294967296|0):(Mt=~(-_e/4294967296),4294967295^(nt=~(-_e%4294967296))?nt=nt+1|0:(nt=0,Mt=Mt+1|0)),_e>=18446744073709552e3||_e<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");De.realloc(10),function(ct,mt,Rt){Rt.buf[Rt.pos++]=127&ct|128,ct>>>=7,Rt.buf[Rt.pos++]=127&ct|128,ct>>>=7,Rt.buf[Rt.pos++]=127&ct|128,ct>>>=7,Rt.buf[Rt.pos++]=127&ct|128,Rt.buf[Rt.pos]=127&(ct>>>=7)}(nt,0,De),function(ct,mt){var Rt=(7&ct)<<4;mt.buf[mt.pos++]|=Rt|((ct>>>=3)?128:0),ct&&(mt.buf[mt.pos++]=127&ct|((ct>>>=7)?128:0),ct&&(mt.buf[mt.pos++]=127&ct|((ct>>>=7)?128:0),ct&&(mt.buf[mt.pos++]=127&ct|((ct>>>=7)?128:0),ct&&(mt.buf[mt.pos++]=127&ct|((ct>>>=7)?128:0),ct&&(mt.buf[mt.pos++]=127&ct)))))}(Mt,De)}(re,this):(this.realloc(4),this.buf[this.pos++]=127&re|(re>127?128:0),re<=127||(this.buf[this.pos++]=127&(re>>>=7)|(re>127?128:0),re<=127||(this.buf[this.pos++]=127&(re>>>=7)|(re>127?128:0),re<=127||(this.buf[this.pos++]=re>>>7&127))))},writeSVarint:function(re){this.writeVarint(re<0?2*-re-1:2*re)},writeBoolean:function(re){this.writeVarint(!!re)},writeString:function(re){re=String(re),this.realloc(4*re.length),this.pos++;var _e=this.pos;this.pos=function(nt,Mt,ct){for(var mt,Rt,At=0;At<Mt.length;At++){if((mt=Mt.charCodeAt(At))>55295&&mt<57344){if(!Rt){mt>56319||At+1===Mt.length?(nt[ct++]=239,nt[ct++]=191,nt[ct++]=189):Rt=mt;continue}if(mt<56320){nt[ct++]=239,nt[ct++]=191,nt[ct++]=189,Rt=mt;continue}mt=Rt-55296<<10|mt-56320|65536,Rt=null}else Rt&&(nt[ct++]=239,nt[ct++]=191,nt[ct++]=189,Rt=null);mt<128?nt[ct++]=mt:(mt<2048?nt[ct++]=mt>>6|192:(mt<65536?nt[ct++]=mt>>12|224:(nt[ct++]=mt>>18|240,nt[ct++]=mt>>12&63|128),nt[ct++]=mt>>6&63|128),nt[ct++]=63&mt|128)}return ct}(this.buf,re,this.pos);var De=this.pos-_e;De>=128&&O(_e,De,this),this.pos=_e-1,this.writeVarint(De),this.pos+=De},writeFloat:function(re){this.realloc(4),m.write(this.buf,re,this.pos,!0,23,4),this.pos+=4},writeDouble:function(re){this.realloc(8),m.write(this.buf,re,this.pos,!0,52,8),this.pos+=8},writeBytes:function(re){var _e=re.length;this.writeVarint(_e),this.realloc(_e);for(var De=0;De<_e;De++)this.buf[this.pos++]=re[De]},writeRawMessage:function(re,_e){this.pos++;var De=this.pos;re(_e,this);var nt=this.pos-De;nt>=128&&O(De,nt,this),this.pos=De-1,this.writeVarint(nt),this.pos+=nt},writeMessage:function(re,_e,De){this.writeTag(re,u.Bytes),this.writeRawMessage(_e,De)},writePackedVarint:function(re,_e){_e.length&&this.writeMessage(re,B,_e)},writePackedSVarint:function(re,_e){_e.length&&this.writeMessage(re,j,_e)},writePackedBoolean:function(re,_e){_e.length&&this.writeMessage(re,Q,_e)},writePackedFloat:function(re,_e){_e.length&&this.writeMessage(re,G,_e)},writePackedDouble:function(re,_e){_e.length&&this.writeMessage(re,Z,_e)},writePackedFixed32:function(re,_e){_e.length&&this.writeMessage(re,ie,_e)},writePackedSFixed32:function(re,_e){_e.length&&this.writeMessage(re,oe,_e)},writePackedFixed64:function(re,_e){_e.length&&this.writeMessage(re,he,_e)},writePackedSFixed64:function(re,_e){_e.length&&this.writeMessage(re,be,_e)},writeBytesField:function(re,_e){this.writeTag(re,u.Bytes),this.writeBytes(_e)},writeFixed32Field:function(re,_e){this.writeTag(re,u.Fixed32),this.writeFixed32(_e)},writeSFixed32Field:function(re,_e){this.writeTag(re,u.Fixed32),this.writeSFixed32(_e)},writeFixed64Field:function(re,_e){this.writeTag(re,u.Fixed64),this.writeFixed64(_e)},writeSFixed64Field:function(re,_e){this.writeTag(re,u.Fixed64),this.writeSFixed64(_e)},writeVarintField:function(re,_e){this.writeTag(re,u.Varint),this.writeVarint(_e)},writeSVarintField:function(re,_e){this.writeTag(re,u.Varint),this.writeSVarint(_e)},writeStringField:function(re,_e){this.writeTag(re,u.Bytes),this.writeString(_e)},writeFloatField:function(re,_e){this.writeTag(re,u.Fixed32),this.writeFloat(_e)},writeDoubleField:function(re,_e){this.writeTag(re,u.Fixed64),this.writeDouble(_e)},writeBooleanField:function(re,_e){this.writeVarintField(re,!!_e)}},pT}var gT=c(DL());const vT=3;function pJ(m,u,p){m===1&&p.readMessage(mJ,u)}function mJ(m,u,p){if(m===3){const{id:_,bitmap:S,width:E,height:M,left:O,top:B,advance:j}=p.readMessage(gJ,{});u.push({id:_,bitmap:new iy({width:E+2*vT,height:M+2*vT},S),metrics:{width:E,height:M,left:O,top:B,advance:j}})}}function gJ(m,u,p){m===1?u.id=p.readVarint():m===2?u.bitmap=p.readBytes():m===3?u.width=p.readVarint():m===4?u.height=p.readVarint():m===5?u.left=p.readSVarint():m===6?u.top=p.readSVarint():m===7&&(u.advance=p.readVarint())}const vJ=vT;function kL(m){let u=0,p=0;for(const M of m)u+=M.w*M.h,p=Math.max(p,M.w);m.sort((M,O)=>O.h-M.h);const _=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(u/.95)),p),h:1/0}];let S=0,E=0;for(const M of m)for(let O=_.length-1;O>=0;O--){const B=_[O];if(!(M.w>B.w||M.h>B.h)){if(M.x=B.x,M.y=B.y,E=Math.max(E,M.y+M.h),S=Math.max(S,M.x+M.w),M.w===B.w&&M.h===B.h){const j=_.pop();O<_.length&&(_[O]=j)}else M.h===B.h?(B.x+=M.w,B.w-=M.w):M.w===B.w?(B.y+=M.h,B.h-=M.h):(_.push({x:B.x+M.w,y:B.y,w:B.w-M.w,h:M.h}),B.y+=M.h,B.h-=M.h);break}}return{w:S,h:E,fill:u/(S*E)||0}}const aa=1;class yT{constructor(u,{pixelRatio:p,version:_,stretchX:S,stretchY:E,content:M,textFitWidth:O,textFitHeight:B}){this.paddedRect=u,this.pixelRatio=p,this.stretchX=S,this.stretchY=E,this.content=M,this.version=_,this.textFitWidth=O,this.textFitHeight=B}get tl(){return[this.paddedRect.x+aa,this.paddedRect.y+aa]}get br(){return[this.paddedRect.x+this.paddedRect.w-aa,this.paddedRect.y+this.paddedRect.h-aa]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*aa)/this.pixelRatio,(this.paddedRect.h-2*aa)/this.pixelRatio]}}class OL{constructor(u,p){const _={},S={};this.haveRenderCallbacks=[];const E=[];this.addImages(u,_,E),this.addImages(p,S,E);const{w:M,h:O}=kL(E),B=new ja({width:M||1,height:O||1});for(const j in u){const G=u[j],Z=_[j].paddedRect;ja.copy(G.data,B,{x:0,y:0},{x:Z.x+aa,y:Z.y+aa},G.data)}for(const j in p){const G=p[j],Z=S[j].paddedRect,Q=Z.x+aa,ie=Z.y+aa,oe=G.data.width,he=G.data.height;ja.copy(G.data,B,{x:0,y:0},{x:Q,y:ie},G.data),ja.copy(G.data,B,{x:0,y:he-1},{x:Q,y:ie-1},{width:oe,height:1}),ja.copy(G.data,B,{x:0,y:0},{x:Q,y:ie+he},{width:oe,height:1}),ja.copy(G.data,B,{x:oe-1,y:0},{x:Q-1,y:ie},{width:1,height:he}),ja.copy(G.data,B,{x:0,y:0},{x:Q+oe,y:ie},{width:1,height:he})}this.image=B,this.iconPositions=_,this.patternPositions=S}addImages(u,p,_){for(const S in u){const E=u[S],M={x:0,y:0,w:E.data.width+2*aa,h:E.data.height+2*aa};_.push(M),p[S]=new yT(M,E),E.hasRenderCallback&&this.haveRenderCallbacks.push(S)}}patchUpdatedImages(u,p){u.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const _ in u.updatedImages)this.patchUpdatedImage(this.iconPositions[_],u.getImage(_),p),this.patchUpdatedImage(this.patternPositions[_],u.getImage(_),p)}patchUpdatedImage(u,p,_){if(!u||!p||u.version===p.version)return;u.version=p.version;const[S,E]=u.tl;_.update(p.data,void 0,{x:S,y:E})}}var Rc;tn("ImagePosition",yT),tn("ImageAtlas",OL),s.ai=void 0,(Rc=s.ai||(s.ai={}))[Rc.none=0]="none",Rc[Rc.horizontal=1]="horizontal",Rc[Rc.vertical=2]="vertical",Rc[Rc.horizontalOnly=3]="horizontalOnly";const my=-17;class gy{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(u,p){const _=new gy;return _.scale=u||1,_.fontStack=p,_}static forImage(u){const p=new gy;return p.imageName=u,p}}class Hp{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(u,p){const _=new Hp;for(let S=0;S<u.sections.length;S++){const E=u.sections[S];E.image?_.addImageSection(E):_.addTextSection(E,p)}return _}length(){return this.text.length}getSection(u){return this.sections[this.sectionIndex[u]]}getSectionIndex(u){return this.sectionIndex[u]}getCharCode(u){return this.text.charCodeAt(u)}verticalizePunctuation(){this.text=function(u){let p="";for(let _=0;_<u.length;_++){const S=u.charCodeAt(_+1)||null,E=u.charCodeAt(_-1)||null;p+=S&&Hv(S)&&!py[u[_+1]]||E&&Hv(E)&&!py[u[_-1]]||!py[u[_]]?u[_]:py[u[_]]}return p}(this.text)}trim(){let u=0;for(let _=0;_<this.text.length&&P1[this.text.charCodeAt(_)];_++)u++;let p=this.text.length;for(let _=this.text.length-1;_>=0&&_>=u&&P1[this.text.charCodeAt(_)];_--)p--;this.text=this.text.substring(u,p),this.sectionIndex=this.sectionIndex.slice(u,p)}substring(u,p){const _=new Hp;return _.text=this.text.substring(u,p),_.sectionIndex=this.sectionIndex.slice(u,p),_.sections=this.sections,_}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((u,p)=>Math.max(u,this.sections[p].scale),0)}addTextSection(u,p){this.text+=u.text,this.sections.push(gy.forText(u.scale,u.fontStack||p));const _=this.sections.length-1;for(let S=0;S<u.text.length;++S)this.sectionIndex.push(_)}addImageSection(u){const p=u.image?u.image.name:"";if(p.length===0)return void Le("Can't add FormattedSection with an empty image.");const _=this.getNextImageSectionCharCode();_?(this.text+=String.fromCharCode(_),this.sections.push(gy.forImage(p)),this.sectionIndex.push(this.sections.length-1)):Le("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function T1(m,u,p,_,S,E,M,O,B,j,G,Z,Q,ie,oe){const he=Hp.fromFeature(m,S);let be;Z===s.ai.vertical&&he.verticalizePunctuation();const{processBidirectionalText:Ee,processStyledBidirectionalText:Ue}=qs;if(Ee&&he.sections.length===1){be=[];const _e=Ee(he.toString(),_T(he,j,E,u,_,ie));for(const De of _e){const nt=new Hp;nt.text=De,nt.sections=he.sections;for(let Mt=0;Mt<De.length;Mt++)nt.sectionIndex.push(0);be.push(nt)}}else if(Ue){be=[];const _e=Ue(he.text,he.sectionIndex,_T(he,j,E,u,_,ie));for(const De of _e){const nt=new Hp;nt.text=De[0],nt.sectionIndex=De[1],nt.sections=he.sections,be.push(nt)}}else be=function(_e,De){const nt=[],Mt=_e.text;let ct=0;for(const mt of De)nt.push(_e.substring(ct,mt)),ct=mt;return ct<Mt.length&&nt.push(_e.substring(ct,Mt.length)),nt}(he,_T(he,j,E,u,_,ie));const Ae=[],re={positionedLines:Ae,text:he.toString(),top:G[1],bottom:G[1],left:G[0],right:G[0],writingMode:Z,iconsInText:!1,verticalizable:!1};return function(_e,De,nt,Mt,ct,mt,Rt,At,$t,xt,rn,gn){let fn=0,ln=my,Wn=0,si=0;const Di=At==="right"?1:At==="left"?0:.5;let Ki=0;for(const pi of ct){pi.trim();const ki=pi.getMaxScale(),Bo=(ki-1)*Ai,Fo={positionedGlyphs:[],lineOffset:0};_e.positionedLines[Ki]=Fo;const No=Fo.positionedGlyphs;let Oi=0;if(!pi.length()){ln+=mt,++Ki;continue}for(let sa=0;sa<pi.length();sa++){const ir=pi.getSection(sa),go=pi.getSectionIndex(sa),Xr=pi.getCharCode(sa);let li=0,ji=null,gd=null,Ga=null,R1=Ai;const bs=!($t===s.ai.horizontal||!rn&&!ad(Xr)||rn&&(P1[Xr]||(_s=Xr,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(_s)))));if(ir.imageName){const Ca=Mt[ir.imageName];if(!Ca)continue;Ga=ir.imageName,_e.iconsInText=_e.iconsInText||!0,gd=Ca.paddedRect;const Yi=Ca.displaySize;ir.scale=ir.scale*Ai/gn,ji={width:Yi[0],height:Yi[1],left:aa,top:-3,advance:bs?Yi[1]:Yi[0]},li=Bo+(Ai-Yi[1]*ir.scale),R1=ji.advance;const Wa=bs?Yi[0]*ir.scale-Ai*ki:Yi[1]*ir.scale-Ai*ki;Wa>0&&Wa>Oi&&(Oi=Wa)}else{const Ca=nt[ir.fontStack],Yi=Ca&&Ca[Xr];if(Yi&&Yi.rect)gd=Yi.rect,ji=Yi.metrics;else{const Wa=De[ir.fontStack],Iu=Wa&&Wa[Xr];if(!Iu)continue;ji=Iu.metrics}li=(ki-ir.scale)*Ai}bs?(_e.verticalizable=!0,No.push({glyph:Xr,imageName:Ga,x:fn,y:ln+li,vertical:bs,scale:ir.scale,fontStack:ir.fontStack,sectionIndex:go,metrics:ji,rect:gd}),fn+=R1*ir.scale+xt):(No.push({glyph:Xr,imageName:Ga,x:fn,y:ln+li,vertical:bs,scale:ir.scale,fontStack:ir.fontStack,sectionIndex:go,metrics:ji,rect:gd}),fn+=ji.advance*ir.scale+xt)}No.length!==0&&(Wn=Math.max(fn-xt,Wn),xJ(No,0,No.length-1,Di,Oi)),fn=0;const Ua=mt*ki+Oi;Fo.lineOffset=Math.max(Oi,Bo),ln+=Ua,si=Math.max(Ua,si),++Ki}var _s;const zo=ln-my,{horizontalAlign:Xi,verticalAlign:mo}=bT(Rt);(function(pi,ki,Bo,Fo,No,Oi,Ua,sa,ir){const go=(ki-Bo)*No;let Xr=0;Xr=Oi!==Ua?-sa*Fo-my:(-Fo*ir+.5)*Ua;for(const li of pi)for(const ji of li.positionedGlyphs)ji.x+=go,ji.y+=Xr})(_e.positionedLines,Di,Xi,mo,Wn,si,mt,zo,ct.length),_e.top+=-mo*zo,_e.bottom=_e.top+zo,_e.left+=-Xi*Wn,_e.right=_e.left+Wn}(re,u,p,_,be,M,O,B,Z,j,Q,oe),!function(_e){for(const De of _e)if(De.positionedGlyphs.length!==0)return!1;return!0}(Ae)&&re}const P1={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},yJ={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},_J={40:!0};function RL(m,u,p,_,S,E){if(u.imageName){const M=_[u.imageName];return M?M.displaySize[0]*u.scale*Ai/E+S:0}{const M=p[u.fontStack],O=M&&M[m];return O?O.metrics.advance*u.scale+S:0}}function LL(m,u,p,_){const S=Math.pow(m-u,2);return _?m<u?S/2:2*S:S+Math.abs(p)*p}function bJ(m,u,p){let _=0;return m===10&&(_-=1e4),p&&(_+=150),m!==40&&m!==65288||(_+=50),u!==41&&u!==65289||(_+=50),_}function $L(m,u,p,_,S,E){let M=null,O=LL(u,p,S,E);for(const B of _){const j=LL(u-B.x,p,S,E)+B.badness;j<=O&&(M=B,O=j)}return{index:m,x:u,priorBreak:M,badness:O}}function zL(m){return m?zL(m.priorBreak).concat(m.index):[]}function _T(m,u,p,_,S,E){if(!m)return[];const M=[],O=function(Z,Q,ie,oe,he,be){let Ee=0;for(let Ue=0;Ue<Z.length();Ue++){const Ae=Z.getSection(Ue);Ee+=RL(Z.getCharCode(Ue),Ae,oe,he,Q,be)}return Ee/Math.max(1,Math.ceil(Ee/ie))}(m,u,p,_,S,E),B=m.text.indexOf("​")>=0;let j=0;for(let Z=0;Z<m.length();Z++){const Q=m.getSection(Z),ie=m.getCharCode(Z);if(P1[ie]||(j+=RL(ie,Q,_,S,u,E)),Z<m.length()-1){const oe=!((G=ie)<11904)&&(!!Kn["CJK Compatibility Forms"](G)||!!Kn["CJK Compatibility"](G)||!!Kn["CJK Strokes"](G)||!!Kn["CJK Symbols and Punctuation"](G)||!!Kn["Enclosed CJK Letters and Months"](G)||!!Kn["Halfwidth and Fullwidth Forms"](G)||!!Kn["Ideographic Description Characters"](G)||!!Kn["Vertical Forms"](G)||jv.test(String.fromCodePoint(G)));(yJ[ie]||oe||Q.imageName||Z!==m.length()-2&&_J[m.getCharCode(Z+1)])&&M.push($L(Z+1,j,O,M,bJ(ie,m.getCharCode(Z+1),oe&&B),!1))}}var G;return zL($L(m.length(),j,O,M,0,!0))}function bT(m){let u=.5,p=.5;switch(m){case"right":case"top-right":case"bottom-right":u=1;break;case"left":case"top-left":case"bottom-left":u=0}switch(m){case"bottom":case"bottom-right":case"bottom-left":p=1;break;case"top":case"top-right":case"top-left":p=0}return{horizontalAlign:u,verticalAlign:p}}function xJ(m,u,p,_,S){if(!_&&!S)return;const E=m[p],M=(m[p].x+E.metrics.advance*E.scale)*_;for(let O=u;O<=p;O++)m[O].x-=M,m[O].y+=S}function wJ(m,u,p){const{horizontalAlign:_,verticalAlign:S}=bT(p),E=u[0]-m.displaySize[0]*_,M=u[1]-m.displaySize[1]*S;return{image:m,top:M,bottom:M+m.displaySize[1],left:E,right:E+m.displaySize[0]}}function BL(m){var u,p;let _=m.left,S=m.top,E=m.right-_,M=m.bottom-S;const O=(u=m.image.textFitWidth)!==null&&u!==void 0?u:"stretchOrShrink",B=(p=m.image.textFitHeight)!==null&&p!==void 0?p:"stretchOrShrink",j=(m.image.content[2]-m.image.content[0])/(m.image.content[3]-m.image.content[1]);if(B==="proportional"){if(O==="stretchOnly"&&E/M<j||O==="proportional"){const G=Math.ceil(M*j);_*=G/E,E=G}}else if(O==="proportional"&&B==="stretchOnly"&&j!==0&&E/M>j){const G=Math.ceil(E/j);S*=G/M,M=G}return{x1:_,y1:S,x2:_+E,y2:S+M}}function FL(m,u,p,_,S,E){const M=m.image;let O;if(M.content){const be=M.content,Ee=M.pixelRatio||1;O=[be[0]/Ee,be[1]/Ee,M.displaySize[0]-be[2]/Ee,M.displaySize[1]-be[3]/Ee]}const B=u.left*E,j=u.right*E;let G,Z,Q,ie;p==="width"||p==="both"?(ie=S[0]+B-_[3],Z=S[0]+j+_[1]):(ie=S[0]+(B+j-M.displaySize[0])/2,Z=ie+M.displaySize[0]);const oe=u.top*E,he=u.bottom*E;return p==="height"||p==="both"?(G=S[1]+oe-_[0],Q=S[1]+he+_[2]):(G=S[1]+(oe+he-M.displaySize[1])/2,Q=G+M.displaySize[1]),{image:M,top:G,right:Z,bottom:Q,left:ie,collisionPadding:O}}const vy=255,xl=128,Lc=vy*xl;function NL(m,u){const{expression:p}=u;if(p.kind==="constant")return{kind:"constant",layoutSize:p.evaluate(new kr(m+1))};if(p.kind==="source")return{kind:"source"};{const{zoomStops:_,interpolationType:S}=p;let E=0;for(;E<_.length&&_[E]<=m;)E++;E=Math.max(0,E-1);let M=E;for(;M<_.length&&_[M]<m+1;)M++;M=Math.min(_.length-1,M);const O=_[E],B=_[M];return p.kind==="composite"?{kind:"composite",minZoom:O,maxZoom:B,interpolationType:S}:{kind:"camera",minZoom:O,maxZoom:B,minSize:p.evaluate(new kr(O)),maxSize:p.evaluate(new kr(B)),interpolationType:S}}}function xT(m,u,p){let _="never";const S=m.get(u);return S?_=S:m.get(p)&&(_="always"),_}const SJ=hy.VectorTileFeature.types,CJ=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function E1(m,u,p,_,S,E,M,O,B,j,G,Z,Q){const ie=O?Math.min(Lc,Math.round(O[0])):0,oe=O?Math.min(Lc,Math.round(O[1])):0;m.emplaceBack(u,p,Math.round(32*_),Math.round(32*S),E,M,(ie<<1)+(B?1:0),oe,16*j,16*G,256*Z,256*Q)}function wT(m,u,p){m.emplaceBack(u.x,u.y,p),m.emplaceBack(u.x,u.y,p),m.emplaceBack(u.x,u.y,p),m.emplaceBack(u.x,u.y,p)}function TJ(m){for(const u of m.sections)if(u1(u.text))return!0;return!1}class ST{constructor(u){this.layoutVertexArray=new We,this.indexArray=new vt,this.programConfigurations=u,this.segments=new bt,this.dynamicLayoutVertexArray=new He,this.opacityVertexArray=new et,this.hasVisibleVertices=!1,this.placedSymbolArray=new D}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(u,p,_,S){this.isEmpty()||(_&&(this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,lJ.members),this.indexBuffer=u.createIndexBuffer(this.indexArray,p),this.dynamicLayoutVertexBuffer=u.createVertexBuffer(this.dynamicLayoutVertexArray,uJ.members,!0),this.opacityVertexBuffer=u.createVertexBuffer(this.opacityVertexArray,CJ,!0),this.opacityVertexBuffer.itemSize=1),(_||S)&&this.programConfigurations.upload(u))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}tn("SymbolBuffers",ST);class CT{constructor(u,p,_){this.layoutVertexArray=new u,this.layoutAttributes=p,this.indexArray=new _,this.segments=new bt,this.collisionVertexArray=new _t}upload(u){this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=u.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=u.createVertexBuffer(this.collisionVertexArray,cJ.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}tn("CollisionBuffers",CT);class Up{constructor(u){this.collisionBoxArray=u.collisionBoxArray,this.zoom=u.zoom,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(M=>M.id),this.index=u.index,this.pixelRatio=u.pixelRatio,this.sourceLayerIndex=u.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[];const p=this.layers[0]._unevaluatedLayout._values;this.textSizeData=NL(this.zoom,p["text-size"]),this.iconSizeData=NL(this.zoom,p["icon-size"]);const _=this.layers[0].layout,S=_.get("symbol-sort-key"),E=_.get("symbol-z-order");this.canOverlap=xT(_,"text-overlap","text-allow-overlap")!=="never"||xT(_,"icon-overlap","icon-allow-overlap")!=="never"||_.get("text-ignore-placement")||_.get("icon-ignore-placement"),this.sortFeaturesByKey=E!=="viewport-y"&&!S.isConstant(),this.sortFeaturesByY=(E==="viewport-y"||E==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,_.get("symbol-placement")==="point"&&(this.writingModes=_.get("text-writing-mode").map(M=>s.ai[M])),this.stateDependentLayerIds=this.layers.filter(M=>M.isStateDependent()).map(M=>M.id),this.sourceID=u.sourceID}createArrays(){this.text=new ST(new Ni(this.layers,this.zoom,u=>/^text/.test(u))),this.icon=new ST(new Ni(this.layers,this.zoom,u=>/^icon/.test(u))),this.glyphOffsetArray=new H,this.lineVertexArray=new q,this.symbolInstances=new F,this.textAnchorOffsets=new J}calculateGlyphDependencies(u,p,_,S,E){for(let M=0;M<u.length;M++)if(p[u.charCodeAt(M)]=!0,(_||S)&&E){const O=py[u.charAt(M)];O&&(p[O.charCodeAt(0)]=!0)}}populate(u,p,_){const S=this.layers[0],E=S.layout,M=E.get("text-font"),O=E.get("text-field"),B=E.get("icon-image"),j=(O.value.kind!=="constant"||O.value.value instanceof bo&&!O.value.value.isEmpty()||O.value.value.toString().length>0)&&(M.value.kind!=="constant"||M.value.value.length>0),G=B.value.kind!=="constant"||!!B.value.value||Object.keys(B.parameters).length>0,Z=E.get("symbol-sort-key");if(this.features=[],!j&&!G)return;const Q=p.iconDependencies,ie=p.glyphDependencies,oe=p.availableImages,he=new kr(this.zoom);for(const{feature:be,id:Ee,index:Ue,sourceLayerIndex:Ae}of u){const re=S._featureFilter.needGeometry,_e=Pu(be,re);if(!S._featureFilter.filter(he,_e,_))continue;let De,nt;if(re||(_e.geometry=Tu(be)),j){const ct=S.getValueAndResolveTokens("text-field",_e,_,oe),mt=bo.factory(ct),Rt=this.hasRTLText=this.hasRTLText||TJ(mt);(!Rt||qs.getRTLTextPluginStatus()==="unavailable"||Rt&&qs.isParsed())&&(De=dJ(mt,S,_e))}if(G){const ct=S.getValueAndResolveTokens("icon-image",_e,_,oe);nt=ct instanceof ko?ct:ko.fromString(ct)}if(!De&&!nt)continue;const Mt=this.sortFeaturesByKey?Z.evaluate(_e,{},_):void 0;if(this.features.push({id:Ee,text:De,icon:nt,index:Ue,sourceLayerIndex:Ae,geometry:_e.geometry,properties:be.properties,type:SJ[be.type],sortKey:Mt}),nt&&(Q[nt.name]=!0),De){const ct=M.evaluate(_e,{},_).join(","),mt=E.get("text-rotation-alignment")!=="viewport"&&E.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(s.ai.vertical)>=0;for(const Rt of De.sections)if(Rt.image)Q[Rt.image.name]=!0;else{const At=od(De.toString()),$t=Rt.fontStack||ct,xt=ie[$t]=ie[$t]||{};this.calculateGlyphDependencies(Rt.text,xt,mt,this.allowVerticalPlacement,At)}}}E.get("symbol-placement")==="line"&&(this.features=function(be){const Ee={},Ue={},Ae=[];let re=0;function _e(ct){Ae.push(be[ct]),re++}function De(ct,mt,Rt){const At=Ue[ct];return delete Ue[ct],Ue[mt]=At,Ae[At].geometry[0].pop(),Ae[At].geometry[0]=Ae[At].geometry[0].concat(Rt[0]),At}function nt(ct,mt,Rt){const At=Ee[mt];return delete Ee[mt],Ee[ct]=At,Ae[At].geometry[0].shift(),Ae[At].geometry[0]=Rt[0].concat(Ae[At].geometry[0]),At}function Mt(ct,mt,Rt){const At=Rt?mt[0][mt[0].length-1]:mt[0][0];return`${ct}:${At.x}:${At.y}`}for(let ct=0;ct<be.length;ct++){const mt=be[ct],Rt=mt.geometry,At=mt.text?mt.text.toString():null;if(!At){_e(ct);continue}const $t=Mt(At,Rt),xt=Mt(At,Rt,!0);if($t in Ue&&xt in Ee&&Ue[$t]!==Ee[xt]){const rn=nt($t,xt,Rt),gn=De($t,xt,Ae[rn].geometry);delete Ee[$t],delete Ue[xt],Ue[Mt(At,Ae[gn].geometry,!0)]=gn,Ae[rn].geometry=null}else $t in Ue?De($t,xt,Rt):xt in Ee?nt($t,xt,Rt):(_e(ct),Ee[$t]=re-1,Ue[xt]=re-1)}return Ae.filter(ct=>ct.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((be,Ee)=>be.sortKey-Ee.sortKey)}update(u,p,_){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(u,p,this.layers,_),this.icon.programConfigurations.updatePaintArrays(u,p,this.layers,_))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(u){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(u),this.iconCollisionBox.upload(u)),this.text.upload(u,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(u,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(u,p){const _=this.lineVertexArray.length;if(u.segment!==void 0){let S=u.dist(p[u.segment+1]),E=u.dist(p[u.segment]);const M={};for(let O=u.segment+1;O<p.length;O++)M[O]={x:p[O].x,y:p[O].y,tileUnitDistanceFromAnchor:S},O<p.length-1&&(S+=p[O+1].dist(p[O]));for(let O=u.segment||0;O>=0;O--)M[O]={x:p[O].x,y:p[O].y,tileUnitDistanceFromAnchor:E},O>0&&(E+=p[O-1].dist(p[O]));for(let O=0;O<p.length;O++){const B=M[O];this.lineVertexArray.emplaceBack(B.x,B.y,B.tileUnitDistanceFromAnchor)}}return{lineStartIndex:_,lineLength:this.lineVertexArray.length-_}}addSymbols(u,p,_,S,E,M,O,B,j,G,Z,Q){const ie=u.indexArray,oe=u.layoutVertexArray,he=u.segments.prepareSegment(4*p.length,oe,ie,this.canOverlap?M.sortKey:void 0),be=this.glyphOffsetArray.length,Ee=he.vertexLength,Ue=this.allowVerticalPlacement&&O===s.ai.vertical?Math.PI/2:0,Ae=M.text&&M.text.sections;for(let re=0;re<p.length;re++){const{tl:_e,tr:De,bl:nt,br:Mt,tex:ct,pixelOffsetTL:mt,pixelOffsetBR:Rt,minFontScaleX:At,minFontScaleY:$t,glyphOffset:xt,isSDF:rn,sectionIndex:gn}=p[re],fn=he.vertexLength,ln=xt[1];E1(oe,B.x,B.y,_e.x,ln+_e.y,ct.x,ct.y,_,rn,mt.x,mt.y,At,$t),E1(oe,B.x,B.y,De.x,ln+De.y,ct.x+ct.w,ct.y,_,rn,Rt.x,mt.y,At,$t),E1(oe,B.x,B.y,nt.x,ln+nt.y,ct.x,ct.y+ct.h,_,rn,mt.x,Rt.y,At,$t),E1(oe,B.x,B.y,Mt.x,ln+Mt.y,ct.x+ct.w,ct.y+ct.h,_,rn,Rt.x,Rt.y,At,$t),wT(u.dynamicLayoutVertexArray,B,Ue),ie.emplaceBack(fn,fn+2,fn+1),ie.emplaceBack(fn+1,fn+2,fn+3),he.vertexLength+=4,he.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(xt[0]),re!==p.length-1&&gn===p[re+1].sectionIndex||u.programConfigurations.populatePaintArrays(oe.length,M,M.index,{},Q,Ae&&Ae[gn])}u.placedSymbolArray.emplaceBack(B.x,B.y,be,this.glyphOffsetArray.length-be,Ee,j,G,B.segment,_?_[0]:0,_?_[1]:0,S[0],S[1],O,0,!1,0,Z)}_addCollisionDebugVertex(u,p,_,S,E,M){return p.emplaceBack(0,0),u.emplaceBack(_.x,_.y,S,E,Math.round(M.x),Math.round(M.y))}addCollisionDebugVertices(u,p,_,S,E,M,O){const B=E.segments.prepareSegment(4,E.layoutVertexArray,E.indexArray),j=B.vertexLength,G=E.layoutVertexArray,Z=E.collisionVertexArray,Q=O.anchorX,ie=O.anchorY;this._addCollisionDebugVertex(G,Z,M,Q,ie,new x(u,p)),this._addCollisionDebugVertex(G,Z,M,Q,ie,new x(_,p)),this._addCollisionDebugVertex(G,Z,M,Q,ie,new x(_,S)),this._addCollisionDebugVertex(G,Z,M,Q,ie,new x(u,S)),B.vertexLength+=4;const oe=E.indexArray;oe.emplaceBack(j,j+1),oe.emplaceBack(j+1,j+2),oe.emplaceBack(j+2,j+3),oe.emplaceBack(j+3,j),B.primitiveLength+=4}addDebugCollisionBoxes(u,p,_,S){for(let E=u;E<p;E++){const M=this.collisionBoxArray.get(E);this.addCollisionDebugVertices(M.x1,M.y1,M.x2,M.y2,S?this.textCollisionBox:this.iconCollisionBox,M.anchorPoint,_)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new CT(it,IL.members,pt),this.iconCollisionBox=new CT(it,IL.members,pt);for(let u=0;u<this.symbolInstances.length;u++){const p=this.symbolInstances.get(u);this.addDebugCollisionBoxes(p.textBoxStartIndex,p.textBoxEndIndex,p,!0),this.addDebugCollisionBoxes(p.verticalTextBoxStartIndex,p.verticalTextBoxEndIndex,p,!0),this.addDebugCollisionBoxes(p.iconBoxStartIndex,p.iconBoxEndIndex,p,!1),this.addDebugCollisionBoxes(p.verticalIconBoxStartIndex,p.verticalIconBoxEndIndex,p,!1)}}_deserializeCollisionBoxesForSymbol(u,p,_,S,E,M,O,B,j){const G={};for(let Z=p;Z<_;Z++){const Q=u.get(Z);G.textBox={x1:Q.x1,y1:Q.y1,x2:Q.x2,y2:Q.y2,anchorPointX:Q.anchorPointX,anchorPointY:Q.anchorPointY},G.textFeatureIndex=Q.featureIndex;break}for(let Z=S;Z<E;Z++){const Q=u.get(Z);G.verticalTextBox={x1:Q.x1,y1:Q.y1,x2:Q.x2,y2:Q.y2,anchorPointX:Q.anchorPointX,anchorPointY:Q.anchorPointY},G.verticalTextFeatureIndex=Q.featureIndex;break}for(let Z=M;Z<O;Z++){const Q=u.get(Z);G.iconBox={x1:Q.x1,y1:Q.y1,x2:Q.x2,y2:Q.y2,anchorPointX:Q.anchorPointX,anchorPointY:Q.anchorPointY},G.iconFeatureIndex=Q.featureIndex;break}for(let Z=B;Z<j;Z++){const Q=u.get(Z);G.verticalIconBox={x1:Q.x1,y1:Q.y1,x2:Q.x2,y2:Q.y2,anchorPointX:Q.anchorPointX,anchorPointY:Q.anchorPointY},G.verticalIconFeatureIndex=Q.featureIndex;break}return G}deserializeCollisionBoxes(u){this.collisionArrays=[];for(let p=0;p<this.symbolInstances.length;p++){const _=this.symbolInstances.get(p);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(u,_.textBoxStartIndex,_.textBoxEndIndex,_.verticalTextBoxStartIndex,_.verticalTextBoxEndIndex,_.iconBoxStartIndex,_.iconBoxEndIndex,_.verticalIconBoxStartIndex,_.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(u,p){const _=u.placedSymbolArray.get(p),S=_.vertexStartIndex+4*_.numGlyphs;for(let E=_.vertexStartIndex;E<S;E+=4)u.indexArray.emplaceBack(E,E+2,E+1),u.indexArray.emplaceBack(E+1,E+2,E+3)}getSortedSymbolIndexes(u){if(this.sortedAngle===u&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const p=Math.sin(u),_=Math.cos(u),S=[],E=[],M=[];for(let O=0;O<this.symbolInstances.length;++O){M.push(O);const B=this.symbolInstances.get(O);S.push(0|Math.round(p*B.anchorX+_*B.anchorY)),E.push(B.featureIndex)}return M.sort((O,B)=>S[O]-S[B]||E[B]-E[O]),M}addToSortKeyRanges(u,p){const _=this.sortKeyRanges[this.sortKeyRanges.length-1];_&&_.sortKey===p?_.symbolInstanceEnd=u+1:this.sortKeyRanges.push({sortKey:p,symbolInstanceStart:u,symbolInstanceEnd:u+1})}sortFeatures(u){if(this.sortFeaturesByY&&this.sortedAngle!==u&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(u),this.sortedAngle=u,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const p of this.symbolInstanceIndexes){const _=this.symbolInstances.get(p);this.featureSortOrder.push(_.featureIndex),[_.rightJustifiedTextSymbolIndex,_.centerJustifiedTextSymbolIndex,_.leftJustifiedTextSymbolIndex].forEach((S,E,M)=>{S>=0&&M.indexOf(S)===E&&this.addIndicesForPlacedSymbol(this.text,S)}),_.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,_.verticalPlacedTextSymbolIndex),_.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,_.placedIconSymbolIndex),_.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,_.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let VL,jL;tn("SymbolBucket",Up,{omit:["layers","collisionBoxArray","features","compareText"]}),Up.MAX_GLYPHS=65535,Up.addDynamicAttributes=wT;var TT={get paint(){return jL=jL||new wo({"icon-opacity":new yn(xe.paint_symbol["icon-opacity"]),"icon-color":new yn(xe.paint_symbol["icon-color"]),"icon-halo-color":new yn(xe.paint_symbol["icon-halo-color"]),"icon-halo-width":new yn(xe.paint_symbol["icon-halo-width"]),"icon-halo-blur":new yn(xe.paint_symbol["icon-halo-blur"]),"icon-translate":new un(xe.paint_symbol["icon-translate"]),"icon-translate-anchor":new un(xe.paint_symbol["icon-translate-anchor"]),"text-opacity":new yn(xe.paint_symbol["text-opacity"]),"text-color":new yn(xe.paint_symbol["text-color"],{runtimeType:kn,getOverride:m=>m.textColor,hasOverride:m=>!!m.textColor}),"text-halo-color":new yn(xe.paint_symbol["text-halo-color"]),"text-halo-width":new yn(xe.paint_symbol["text-halo-width"]),"text-halo-blur":new yn(xe.paint_symbol["text-halo-blur"]),"text-translate":new un(xe.paint_symbol["text-translate"]),"text-translate-anchor":new un(xe.paint_symbol["text-translate-anchor"])})},get layout(){return VL=VL||new wo({"symbol-placement":new un(xe.layout_symbol["symbol-placement"]),"symbol-spacing":new un(xe.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new un(xe.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new yn(xe.layout_symbol["symbol-sort-key"]),"symbol-z-order":new un(xe.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new un(xe.layout_symbol["icon-allow-overlap"]),"icon-overlap":new un(xe.layout_symbol["icon-overlap"]),"icon-ignore-placement":new un(xe.layout_symbol["icon-ignore-placement"]),"icon-optional":new un(xe.layout_symbol["icon-optional"]),"icon-rotation-alignment":new un(xe.layout_symbol["icon-rotation-alignment"]),"icon-size":new yn(xe.layout_symbol["icon-size"]),"icon-text-fit":new un(xe.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new un(xe.layout_symbol["icon-text-fit-padding"]),"icon-image":new yn(xe.layout_symbol["icon-image"]),"icon-rotate":new yn(xe.layout_symbol["icon-rotate"]),"icon-padding":new yn(xe.layout_symbol["icon-padding"]),"icon-keep-upright":new un(xe.layout_symbol["icon-keep-upright"]),"icon-offset":new yn(xe.layout_symbol["icon-offset"]),"icon-anchor":new yn(xe.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new un(xe.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new un(xe.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new un(xe.layout_symbol["text-rotation-alignment"]),"text-field":new yn(xe.layout_symbol["text-field"]),"text-font":new yn(xe.layout_symbol["text-font"]),"text-size":new yn(xe.layout_symbol["text-size"]),"text-max-width":new yn(xe.layout_symbol["text-max-width"]),"text-line-height":new un(xe.layout_symbol["text-line-height"]),"text-letter-spacing":new yn(xe.layout_symbol["text-letter-spacing"]),"text-justify":new yn(xe.layout_symbol["text-justify"]),"text-radial-offset":new yn(xe.layout_symbol["text-radial-offset"]),"text-variable-anchor":new un(xe.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new yn(xe.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new yn(xe.layout_symbol["text-anchor"]),"text-max-angle":new un(xe.layout_symbol["text-max-angle"]),"text-writing-mode":new un(xe.layout_symbol["text-writing-mode"]),"text-rotate":new yn(xe.layout_symbol["text-rotate"]),"text-padding":new un(xe.layout_symbol["text-padding"]),"text-keep-upright":new un(xe.layout_symbol["text-keep-upright"]),"text-transform":new yn(xe.layout_symbol["text-transform"]),"text-offset":new yn(xe.layout_symbol["text-offset"]),"text-allow-overlap":new un(xe.layout_symbol["text-allow-overlap"]),"text-overlap":new un(xe.layout_symbol["text-overlap"]),"text-ignore-placement":new un(xe.layout_symbol["text-ignore-placement"]),"text-optional":new un(xe.layout_symbol["text-optional"])})}};class HL{constructor(u){if(u.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=u.property.overrides?u.property.overrides.runtimeType:wn,this.defaultValue=u}evaluate(u){if(u.formattedSection){const p=this.defaultValue.property.overrides;if(p&&p.hasOverride(u.formattedSection))return p.getOverride(u.formattedSection)}return u.feature&&u.featureState?this.defaultValue.evaluate(u.feature,u.featureState):this.defaultValue.property.specification.default}eachChild(u){this.defaultValue.isConstant()||u(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}tn("FormatSectionOverride",HL,{omit:["defaultValue"]});class I1 extends gs{constructor(u){super(u,TT)}recalculate(u,p){if(super.recalculate(u,p),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const _=this.layout.get("text-writing-mode");if(_){const S=[];for(const E of _)S.indexOf(E)<0&&S.push(E);this.layout._values["text-writing-mode"]=S}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(u,p,_,S){const E=this.layout.get(u).evaluate(p,{},_,S),M=this._unevaluatedLayout._values[u];return M.isDataDriven()||Kh(M.value)||!E?E:function(O,B){return B.replace(/{([^{}]+)}/g,(j,G)=>O&&G in O?String(O[G]):"")}(p.properties,E)}createBucket(u){return new Up(u)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const u of TT.paint.overridableProperties){if(!I1.hasPaintOverride(this.layout,u))continue;const p=this.paint.get(u),_=new HL(p),S=new Cv(_,p.property.specification);let E=null;E=p.value.kind==="constant"||p.value.kind==="source"?new Tv("source",S):new Ic("composite",S,p.value.zoomStops),this.paint._values[u]=new ra(p.property,E,p.parameters)}}_handleOverridablePaintPropertyUpdate(u,p,_){return!(!this.layout||p.isDataDriven()||_.isDataDriven())&&I1.hasPaintOverride(this.layout,u)}static hasPaintOverride(u,p){const _=u.get("text-field"),S=TT.paint.properties[p];let E=!1;const M=O=>{for(const B of O)if(S.overrides&&S.overrides.hasOverride(B))return void(E=!0)};if(_.value.kind==="constant"&&_.value.value instanceof bo)M(_.value.value.sections);else if(_.value.kind==="source"){const O=j=>{E||(j instanceof hu&&fi(j.value)===za?M(j.value.sections):j instanceof Oo?M(j.sections):j.eachChild(O))},B=_.value;B._styleExpression&&O(B._styleExpression.expression)}return E}}let UL;var PJ={get paint(){return UL=UL||new wo({"background-color":new un(xe.paint_background["background-color"]),"background-pattern":new Ip(xe.paint_background["background-pattern"]),"background-opacity":new un(xe.paint_background["background-opacity"])})}};class EJ extends gs{constructor(u){super(u,PJ)}}let GL;var IJ={get paint(){return GL=GL||new wo({"raster-opacity":new un(xe.paint_raster["raster-opacity"]),"raster-hue-rotate":new un(xe.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new un(xe.paint_raster["raster-brightness-min"]),"raster-brightness-max":new un(xe.paint_raster["raster-brightness-max"]),"raster-saturation":new un(xe.paint_raster["raster-saturation"]),"raster-contrast":new un(xe.paint_raster["raster-contrast"]),"raster-resampling":new un(xe.paint_raster["raster-resampling"]),"raster-fade-duration":new un(xe.paint_raster["raster-fade-duration"])})}};class MJ extends gs{constructor(u){super(u,IJ)}}class AJ extends gs{constructor(u){super(u,{}),this.onAdd=p=>{this.implementation.onAdd&&this.implementation.onAdd(p,p.painter.context.gl)},this.onRemove=p=>{this.implementation.onRemove&&this.implementation.onRemove(p,p.painter.context.gl)},this.implementation=u}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class DJ{constructor(u){this._methodToThrottle=u,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const PT=63710088e-1;class $c{constructor(u,p){if(isNaN(u)||isNaN(p))throw new Error(`Invalid LngLat object: (${u}, ${p})`);if(this.lng=+u,this.lat=+p,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new $c(Bt(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(u){const p=Math.PI/180,_=this.lat*p,S=u.lat*p,E=Math.sin(_)*Math.sin(S)+Math.cos(_)*Math.cos(S)*Math.cos((u.lng-this.lng)*p);return PT*Math.acos(Math.min(E,1))}static convert(u){if(u instanceof $c)return u;if(Array.isArray(u)&&(u.length===2||u.length===3))return new $c(Number(u[0]),Number(u[1]));if(!Array.isArray(u)&&typeof u=="object"&&u!==null)return new $c(Number("lng"in u?u.lng:u.lon),Number(u.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const WL=2*Math.PI*PT;function ZL(m){return WL*Math.cos(m*Math.PI/180)}function qL(m){return(180+m)/360}function KL(m){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+m*Math.PI/360)))/360}function XL(m,u){return m/ZL(u)}function ET(m){return 360/Math.PI*Math.atan(Math.exp((180-360*m)*Math.PI/180))-90}function YL(m,u){return m*ZL(ET(u))}class yy{constructor(u,p,_=0){this.x=+u,this.y=+p,this.z=+_}static fromLngLat(u,p=0){const _=$c.convert(u);return new yy(qL(_.lng),KL(_.lat),XL(p,_.lat))}toLngLat(){return new $c(360*this.x-180,ET(this.y))}toAltitude(){return YL(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/WL*(u=ET(this.y),1/Math.cos(u*Math.PI/180));var u}}function JL(m,u,p){var _=2*Math.PI*6378137/256/Math.pow(2,p);return[m*_-2*Math.PI*6378137/2,u*_-2*Math.PI*6378137/2]}class IT{constructor(u,p,_){if(!function(S,E,M){return!(S<0||S>25||M<0||M>=Math.pow(2,S)||E<0||E>=Math.pow(2,S))}(u,p,_))throw new Error(`x=${p}, y=${_}, z=${u} outside of bounds. 0<=x<${Math.pow(2,u)}, 0<=y<${Math.pow(2,u)} 0<=z<=25 `);this.z=u,this.x=p,this.y=_,this.key=Gp(0,u,u,p,_)}equals(u){return this.z===u.z&&this.x===u.x&&this.y===u.y}url(u,p,_){const S=(M=this.y,O=this.z,B=JL(256*(E=this.x),256*(M=Math.pow(2,O)-M-1),O),j=JL(256*(E+1),256*(M+1),O),B[0]+","+B[1]+","+j[0]+","+j[1]);var E,M,O,B,j;const G=function(Z,Q,ie){let oe,he="";for(let be=Z;be>0;be--)oe=1<<be-1,he+=(Q&oe?1:0)+(ie&oe?2:0);return he}(this.z,this.x,this.y);return u[(this.x+this.y)%u.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(_==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,p>1?"@2x":"").replace(/{quadkey}/g,G).replace(/{bbox-epsg-3857}/g,S)}isChildOf(u){const p=this.z-u.z;return p>0&&u.x===this.x>>p&&u.y===this.y>>p}getTilePoint(u){const p=Math.pow(2,this.z);return new x((u.x*p-this.x)*ue,(u.y*p-this.y)*ue)}toString(){return`${this.z}/${this.x}/${this.y}`}}class QL{constructor(u,p){this.wrap=u,this.canonical=p,this.key=Gp(u,p.z,p.z,p.x,p.y)}}class Ha{constructor(u,p,_,S,E){if(this.terrainRttPosMatrix32f=null,u<_)throw new Error(`overscaledZ should be >= z; overscaledZ = ${u}; z = ${_}`);this.overscaledZ=u,this.wrap=p,this.canonical=new IT(_,+S,+E),this.key=Gp(p,u,_,S,E)}clone(){return new Ha(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(u){return this.overscaledZ===u.overscaledZ&&this.wrap===u.wrap&&this.canonical.equals(u.canonical)}scaledTo(u){if(u>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${u}; overscaledZ = ${this.overscaledZ}`);const p=this.canonical.z-u;return u>this.canonical.z?new Ha(u,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ha(u,this.wrap,u,this.canonical.x>>p,this.canonical.y>>p)}calculateScaledKey(u,p){if(u>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${u}; overscaledZ = ${this.overscaledZ}`);const _=this.canonical.z-u;return u>this.canonical.z?Gp(this.wrap*+p,u,this.canonical.z,this.canonical.x,this.canonical.y):Gp(this.wrap*+p,u,u,this.canonical.x>>_,this.canonical.y>>_)}isChildOf(u){if(u.wrap!==this.wrap)return!1;const p=this.canonical.z-u.canonical.z;return u.overscaledZ===0||u.overscaledZ<this.overscaledZ&&u.canonical.x===this.canonical.x>>p&&u.canonical.y===this.canonical.y>>p}children(u){if(this.overscaledZ>=u)return[new Ha(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const p=this.canonical.z+1,_=2*this.canonical.x,S=2*this.canonical.y;return[new Ha(p,this.wrap,p,_,S),new Ha(p,this.wrap,p,_+1,S),new Ha(p,this.wrap,p,_,S+1),new Ha(p,this.wrap,p,_+1,S+1)]}isLessThan(u){return this.wrap<u.wrap||!(this.wrap>u.wrap)&&(this.overscaledZ<u.overscaledZ||!(this.overscaledZ>u.overscaledZ)&&(this.canonical.x<u.canonical.x||!(this.canonical.x>u.canonical.x)&&this.canonical.y<u.canonical.y))}wrapped(){return new Ha(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(u){return new Ha(this.overscaledZ,u,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new QL(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(u){return this.canonical.getTilePoint(new yy(u.x-this.wrap,u.y))}}function Gp(m,u,p,_,S){(m*=2)<0&&(m=-1*m-1);const E=1<<p;return(E*E*m+E*S+_).toString(36)+p.toString(36)+u.toString(36)}tn("CanonicalTileID",IT),tn("OverscaledTileID",Ha,{omit:["terrainRttPosMatrix32f"]});class e3{constructor(u,p,_,S=1,E=1,M=1,O=0){if(this.uid=u,p.height!==p.width)throw new RangeError("DEM tiles must be square");if(_&&!["mapbox","terrarium","custom"].includes(_))return void Le(`"${_}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=p.height;const B=this.dim=p.height-2;switch(this.data=new Uint32Array(p.data.buffer),_){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=S,this.greenFactor=E,this.blueFactor=M,this.baseShift=O;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let j=0;j<B;j++)this.data[this._idx(-1,j)]=this.data[this._idx(0,j)],this.data[this._idx(B,j)]=this.data[this._idx(B-1,j)],this.data[this._idx(j,-1)]=this.data[this._idx(j,0)],this.data[this._idx(j,B)]=this.data[this._idx(j,B-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(B,-1)]=this.data[this._idx(B-1,0)],this.data[this._idx(-1,B)]=this.data[this._idx(0,B-1)],this.data[this._idx(B,B)]=this.data[this._idx(B-1,B-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let j=0;j<B;j++)for(let G=0;G<B;G++){const Z=this.get(j,G);Z>this.max&&(this.max=Z),Z<this.min&&(this.min=Z)}}get(u,p){const _=new Uint8Array(this.data.buffer),S=4*this._idx(u,p);return this.unpack(_[S],_[S+1],_[S+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(u,p){if(u<-1||u>=this.dim+1||p<-1||p>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(p+1)*this.stride+(u+1)}unpack(u,p,_){return u*this.redFactor+p*this.greenFactor+_*this.blueFactor-this.baseShift}getPixels(){return new ja({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(u,p,_){if(this.dim!==u.dim)throw new Error("dem dimension mismatch");let S=p*this.dim,E=p*this.dim+this.dim,M=_*this.dim,O=_*this.dim+this.dim;switch(p){case-1:S=E-1;break;case 1:E=S+1}switch(_){case-1:M=O-1;break;case 1:O=M+1}const B=-p*this.dim,j=-_*this.dim;for(let G=M;G<O;G++)for(let Z=S;Z<E;Z++)this.data[this._idx(Z,G)]=u.data[this._idx(Z+B,G+j)]}}tn("DEMData",e3);class t3{constructor(u){this._stringToNumber={},this._numberToString=[];for(let p=0;p<u.length;p++){const _=u[p];this._stringToNumber[_]=p,this._numberToString[p]=_}}encode(u){return this._stringToNumber[u]}decode(u){if(u>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${u} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[u]}}class n3{constructor(u,p,_,S,E){this.type="Feature",this._vectorTileFeature=u,u._z=p,u._x=_,u._y=S,this.properties=u.properties,this.id=E}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(u){this._geometry=u}toJSON(){const u={geometry:this.geometry};for(const p in this)p!=="_geometry"&&p!=="_vectorTileFeature"&&(u[p]=this[p]);return u}}class r3{constructor(u,p){this.tileID=u,this.x=u.canonical.x,this.y=u.canonical.y,this.z=u.canonical.z,this.grid=new td(ue,16,0),this.grid3D=new td(ue,16,0),this.featureIndexArray=new de,this.promoteId=p}insert(u,p,_,S,E,M){const O=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(_,S,E);const B=M?this.grid3D:this.grid;for(let j=0;j<p.length;j++){const G=p[j],Z=[1/0,1/0,-1/0,-1/0];for(let Q=0;Q<G.length;Q++){const ie=G[Q];Z[0]=Math.min(Z[0],ie.x),Z[1]=Math.min(Z[1],ie.y),Z[2]=Math.max(Z[2],ie.x),Z[3]=Math.max(Z[3],ie.y)}Z[0]<ue&&Z[1]<ue&&Z[2]>=0&&Z[3]>=0&&B.insert(O,Z[0],Z[1],Z[2],Z[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new hy.VectorTile(new gT(this.rawTileData)).layers,this.sourceLayerCoder=new t3(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(u,p,_,S){this.loadVTLayers();const E=u.params,M=ue/u.tileSize/u.scale,O=Iv(E.filter),B=u.queryGeometry,j=u.queryPadding*M,G=o3(B),Z=this.grid.query(G.minX-j,G.minY-j,G.maxX+j,G.maxY+j),Q=o3(u.cameraQueryGeometry),ie=this.grid3D.query(Q.minX-j,Q.minY-j,Q.maxX+j,Q.maxY+j,(be,Ee,Ue,Ae)=>function(re,_e,De,nt,Mt){for(const mt of re)if(_e<=mt.x&&De<=mt.y&&nt>=mt.x&&Mt>=mt.y)return!0;const ct=[new x(_e,De),new x(_e,Mt),new x(nt,Mt),new x(nt,De)];if(re.length>2){for(const mt of ct)if(Fp(re,mt))return!0}for(let mt=0;mt<re.length-1;mt++)if(CY(re[mt],re[mt+1],ct))return!0;return!1}(u.cameraQueryGeometry,be-j,Ee-j,Ue+j,Ae+j));for(const be of ie)Z.push(be);Z.sort(kJ);const oe={};let he;for(let be=0;be<Z.length;be++){const Ee=Z[be];if(Ee===he)continue;he=Ee;const Ue=this.featureIndexArray.get(Ee);let Ae=null;this.loadMatchingFeature(oe,Ue.bucketIndex,Ue.sourceLayerIndex,Ue.featureIndex,O,E.layers,E.availableImages,p,_,S,(re,_e,De)=>(Ae||(Ae=Tu(re)),_e.queryIntersectsFeature({queryGeometry:B,feature:re,featureState:De,geometry:Ae,zoom:this.z,transform:u.transform,pixelsToTileUnits:M,pixelPosMatrix:u.pixelPosMatrix})))}return oe}loadMatchingFeature(u,p,_,S,E,M,O,B,j,G,Z){const Q=this.bucketLayerIDs[p];if(M&&!Q.some(be=>M.has(be)))return;const ie=this.sourceLayerCoder.decode(_),oe=this.vtLayers[ie].feature(S);if(E.needGeometry){const be=Pu(oe,!0);if(!E.filter(new kr(this.tileID.overscaledZ),be,this.tileID.canonical))return}else if(!E.filter(new kr(this.tileID.overscaledZ),oe))return;const he=this.getId(oe,ie);for(let be=0;be<Q.length;be++){const Ee=Q[be];if(M&&!M.has(Ee))continue;const Ue=B[Ee];if(!Ue)continue;let Ae={};he&&G&&(Ae=G.getState(Ue.sourceLayer||"_geojsonTileLayer",he));const re=Lt({},j[Ee]);re.paint=i3(re.paint,Ue.paint,oe,Ae,O),re.layout=i3(re.layout,Ue.layout,oe,Ae,O);const _e=!Z||Z(oe,Ue,Ae);if(!_e)continue;const De=new n3(oe,this.z,this.x,this.y,he);De.layer=re;let nt=u[Ee];nt===void 0&&(nt=u[Ee]=[]),nt.push({featureIndex:S,feature:De,intersectionZ:_e})}}lookupSymbolFeatures(u,p,_,S,E,M,O,B){const j={};this.loadVTLayers();const G=Iv(E);for(const Z of u)this.loadMatchingFeature(j,_,S,Z,G,M,O,B,p);return j}hasLayer(u){for(const p of this.bucketLayerIDs)for(const _ of p)if(u===_)return!0;return!1}getId(u,p){var _;let S=u.id;return this.promoteId&&(S=u.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[p]],typeof S=="boolean"&&(S=Number(S)),S===void 0&&(!((_=u.properties)===null||_===void 0)&&_.cluster)&&this.promoteId&&(S=Number(u.properties.cluster_id))),S}}function i3(m,u,p,_,S){return ze(m,(E,M)=>{const O=u instanceof Pp?u.get(M):null;return O&&O.evaluate?O.evaluate(p,_,S):O})}function o3(m){let u=1/0,p=1/0,_=-1/0,S=-1/0;for(const E of m)u=Math.min(u,E.x),p=Math.min(p,E.y),_=Math.max(_,E.x),S=Math.max(S,E.y);return{minX:u,minY:p,maxX:_,maxY:S}}function kJ(m,u){return u-m}function a3(m,u,p,_,S){const E=[];for(let M=0;M<m.length;M++){const O=m[M];let B;for(let j=0;j<O.length-1;j++){let G=O[j],Z=O[j+1];G.x<u&&Z.x<u||(G.x<u?G=new x(u,G.y+(u-G.x)/(Z.x-G.x)*(Z.y-G.y))._round():Z.x<u&&(Z=new x(u,G.y+(u-G.x)/(Z.x-G.x)*(Z.y-G.y))._round()),G.y<p&&Z.y<p||(G.y<p?G=new x(G.x+(p-G.y)/(Z.y-G.y)*(Z.x-G.x),p)._round():Z.y<p&&(Z=new x(G.x+(p-G.y)/(Z.y-G.y)*(Z.x-G.x),p)._round()),G.x>=_&&Z.x>=_||(G.x>=_?G=new x(_,G.y+(_-G.x)/(Z.x-G.x)*(Z.y-G.y))._round():Z.x>=_&&(Z=new x(_,G.y+(_-G.x)/(Z.x-G.x)*(Z.y-G.y))._round()),G.y>=S&&Z.y>=S||(G.y>=S?G=new x(G.x+(S-G.y)/(Z.y-G.y)*(Z.x-G.x),S)._round():Z.y>=S&&(Z=new x(G.x+(S-G.y)/(Z.y-G.y)*(Z.x-G.x),S)._round()),B&&G.equals(B[B.length-1])||(B=[G],E.push(B)),B.push(Z)))))}}return E}tn("FeatureIndex",r3,{omit:["rawTileData","sourceLayerCoder"]});class zc extends x{constructor(u,p,_,S){super(u,p),this.angle=_,S!==void 0&&(this.segment=S)}clone(){return new zc(this.x,this.y,this.angle,this.segment)}}function s3(m,u,p,_,S){if(u.segment===void 0||p===0)return!0;let E=u,M=u.segment+1,O=0;for(;O>-p/2;){if(M--,M<0)return!1;O-=m[M].dist(E),E=m[M]}O+=m[M].dist(m[M+1]),M++;const B=[];let j=0;for(;O<p/2;){const G=m[M],Z=m[M+1];if(!Z)return!1;let Q=m[M-1].angleTo(G)-G.angleTo(Z);for(Q=Math.abs((Q+3*Math.PI)%(2*Math.PI)-Math.PI),B.push({distance:O,angleDelta:Q}),j+=Q;O-B[0].distance>_;)j-=B.shift().angleDelta;if(j>S)return!1;M++,O+=G.dist(Z)}return!0}function l3(m){let u=0;for(let p=0;p<m.length-1;p++)u+=m[p].dist(m[p+1]);return u}function u3(m,u,p){return m?.6*u*p:0}function c3(m,u){return Math.max(m?m.right-m.left:0,u?u.right-u.left:0)}function OJ(m,u,p,_,S,E){const M=u3(p,S,E),O=c3(p,_)*E;let B=0;const j=l3(m)/2;for(let G=0;G<m.length-1;G++){const Z=m[G],Q=m[G+1],ie=Z.dist(Q);if(B+ie>j){const oe=(j-B)/ie,he=na.number(Z.x,Q.x,oe),be=na.number(Z.y,Q.y,oe),Ee=new zc(he,be,Q.angleTo(Z),G);return Ee._round(),!M||s3(m,Ee,O,M,u)?Ee:void 0}B+=ie}}function RJ(m,u,p,_,S,E,M,O,B){const j=u3(_,E,M),G=c3(_,S),Z=G*M,Q=m[0].x===0||m[0].x===B||m[0].y===0||m[0].y===B;return u-Z<u/4&&(u=Z+u/4),h3(m,Q?u/2*O%u:(G/2+2*E)*M*O%u,u,j,p,Z,Q,!1,B)}function h3(m,u,p,_,S,E,M,O,B){const j=E/2,G=l3(m);let Z=0,Q=u-p,ie=[];for(let oe=0;oe<m.length-1;oe++){const he=m[oe],be=m[oe+1],Ee=he.dist(be),Ue=be.angleTo(he);for(;Q+p<Z+Ee;){Q+=p;const Ae=(Q-Z)/Ee,re=na.number(he.x,be.x,Ae),_e=na.number(he.y,be.y,Ae);if(re>=0&&re<B&&_e>=0&&_e<B&&Q-j>=0&&Q+j<=G){const De=new zc(re,_e,Ue,oe);De._round(),_&&!s3(m,De,E,_,S)||ie.push(De)}}Z+=Ee}return O||ie.length||M||(ie=h3(m,Z/2,p,_,S,E,M,!0,B)),ie}tn("Anchor",zc);const _y=aa;function d3(m,u,p,_){const S=[],E=m.image,M=E.pixelRatio,O=E.paddedRect.w-2*_y,B=E.paddedRect.h-2*_y;let j={x1:m.left,y1:m.top,x2:m.right,y2:m.bottom};const G=E.stretchX||[[0,O]],Z=E.stretchY||[[0,B]],Q=(xt,rn)=>xt+rn[1]-rn[0],ie=G.reduce(Q,0),oe=Z.reduce(Q,0),he=O-ie,be=B-oe;let Ee=0,Ue=ie,Ae=0,re=oe,_e=0,De=he,nt=0,Mt=be;if(E.content&&_){const xt=E.content,rn=xt[2]-xt[0],gn=xt[3]-xt[1];(E.textFitWidth||E.textFitHeight)&&(j=BL(m)),Ee=M1(G,0,xt[0]),Ae=M1(Z,0,xt[1]),Ue=M1(G,xt[0],xt[2]),re=M1(Z,xt[1],xt[3]),_e=xt[0]-Ee,nt=xt[1]-Ae,De=rn-Ue,Mt=gn-re}const ct=j.x1,mt=j.y1,Rt=j.x2-ct,At=j.y2-mt,$t=(xt,rn,gn,fn)=>{const ln=A1(xt.stretch-Ee,Ue,Rt,ct),Wn=D1(xt.fixed-_e,De,xt.stretch,ie),si=A1(rn.stretch-Ae,re,At,mt),Di=D1(rn.fixed-nt,Mt,rn.stretch,oe),Ki=A1(gn.stretch-Ee,Ue,Rt,ct),_s=D1(gn.fixed-_e,De,gn.stretch,ie),zo=A1(fn.stretch-Ae,re,At,mt),Xi=D1(fn.fixed-nt,Mt,fn.stretch,oe),mo=new x(ln,si),pi=new x(Ki,si),ki=new x(Ki,zo),Bo=new x(ln,zo),Fo=new x(Wn/M,Di/M),No=new x(_s/M,Xi/M),Oi=u*Math.PI/180;if(Oi){const ir=Math.sin(Oi),go=Math.cos(Oi),Xr=[go,-ir,ir,go];mo._matMult(Xr),pi._matMult(Xr),Bo._matMult(Xr),ki._matMult(Xr)}const Ua=xt.stretch+xt.fixed,sa=rn.stretch+rn.fixed;return{tl:mo,tr:pi,bl:Bo,br:ki,tex:{x:E.paddedRect.x+_y+Ua,y:E.paddedRect.y+_y+sa,w:gn.stretch+gn.fixed-Ua,h:fn.stretch+fn.fixed-sa},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Fo,pixelOffsetBR:No,minFontScaleX:De/M/Rt,minFontScaleY:Mt/M/At,isSDF:p}};if(_&&(E.stretchX||E.stretchY)){const xt=f3(G,he,ie),rn=f3(Z,be,oe);for(let gn=0;gn<xt.length-1;gn++){const fn=xt[gn],ln=xt[gn+1];for(let Wn=0;Wn<rn.length-1;Wn++)S.push($t(fn,rn[Wn],ln,rn[Wn+1]))}}else S.push($t({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:O+1},{fixed:0,stretch:B+1}));return S}function M1(m,u,p){let _=0;for(const S of m)_+=Math.max(u,Math.min(p,S[1]))-Math.max(u,Math.min(p,S[0]));return _}function f3(m,u,p){const _=[{fixed:-1,stretch:0}];for(const[S,E]of m){const M=_[_.length-1];_.push({fixed:S-M.stretch,stretch:M.stretch}),_.push({fixed:S-M.stretch,stretch:M.stretch+(E-S)})}return _.push({fixed:u+_y,stretch:p}),_}function A1(m,u,p,_){return m/u*p+_}function D1(m,u,p,_){return m-u*p/_}class k1{constructor(u,p,_,S,E,M,O,B,j,G){var Z;if(this.boxStartIndex=u.length,j){let Q=M.top,ie=M.bottom;const oe=M.collisionPadding;oe&&(Q-=oe[1],ie+=oe[3]);let he=ie-Q;he>0&&(he=Math.max(10,he),this.circleDiameter=he)}else{const Q=!((Z=M.image)===null||Z===void 0)&&Z.content&&(M.image.textFitWidth||M.image.textFitHeight)?BL(M):{x1:M.left,y1:M.top,x2:M.right,y2:M.bottom};Q.y1=Q.y1*O-B[0],Q.y2=Q.y2*O+B[2],Q.x1=Q.x1*O-B[3],Q.x2=Q.x2*O+B[1];const ie=M.collisionPadding;if(ie&&(Q.x1-=ie[0]*O,Q.y1-=ie[1]*O,Q.x2+=ie[2]*O,Q.y2+=ie[3]*O),G){const oe=new x(Q.x1,Q.y1),he=new x(Q.x2,Q.y1),be=new x(Q.x1,Q.y2),Ee=new x(Q.x2,Q.y2),Ue=G*Math.PI/180;oe._rotate(Ue),he._rotate(Ue),be._rotate(Ue),Ee._rotate(Ue),Q.x1=Math.min(oe.x,he.x,be.x,Ee.x),Q.x2=Math.max(oe.x,he.x,be.x,Ee.x),Q.y1=Math.min(oe.y,he.y,be.y,Ee.y),Q.y2=Math.max(oe.y,he.y,be.y,Ee.y)}u.emplaceBack(p.x,p.y,Q.x1,Q.y1,Q.x2,Q.y2,_,S,E)}this.boxEndIndex=u.length}}class LJ{constructor(u=[],p=(_,S)=>_<S?-1:_>S?1:0){if(this.data=u,this.length=this.data.length,this.compare=p,this.length>0)for(let _=(this.length>>1)-1;_>=0;_--)this._down(_)}push(u){this.data.push(u),this._up(this.length++)}pop(){if(this.length===0)return;const u=this.data[0],p=this.data.pop();return--this.length>0&&(this.data[0]=p,this._down(0)),u}peek(){return this.data[0]}_up(u){const{data:p,compare:_}=this,S=p[u];for(;u>0;){const E=u-1>>1,M=p[E];if(_(S,M)>=0)break;p[u]=M,u=E}p[u]=S}_down(u){const{data:p,compare:_}=this,S=this.length>>1,E=p[u];for(;u<S;){let M=1+(u<<1);const O=M+1;if(O<this.length&&_(p[O],p[M])<0&&(M=O),_(p[M],E)>=0)break;p[u]=p[M],u=M}p[u]=E}}function $J(m,u=1,p=!1){let _=1/0,S=1/0,E=-1/0,M=-1/0;const O=m[0];for(let ie=0;ie<O.length;ie++){const oe=O[ie];(!ie||oe.x<_)&&(_=oe.x),(!ie||oe.y<S)&&(S=oe.y),(!ie||oe.x>E)&&(E=oe.x),(!ie||oe.y>M)&&(M=oe.y)}const B=Math.min(E-_,M-S);let j=B/2;const G=new LJ([],zJ);if(B===0)return new x(_,S);for(let ie=_;ie<E;ie+=B)for(let oe=S;oe<M;oe+=B)G.push(new Wp(ie+j,oe+j,j,m));let Z=function(ie){let oe=0,he=0,be=0;const Ee=ie[0];for(let Ue=0,Ae=Ee.length,re=Ae-1;Ue<Ae;re=Ue++){const _e=Ee[Ue],De=Ee[re],nt=_e.x*De.y-De.x*_e.y;he+=(_e.x+De.x)*nt,be+=(_e.y+De.y)*nt,oe+=3*nt}return new Wp(he/oe,be/oe,0,ie)}(m),Q=G.length;for(;G.length;){const ie=G.pop();(ie.d>Z.d||!Z.d)&&(Z=ie,p&&console.log("found best %d after %d probes",Math.round(1e4*ie.d)/1e4,Q)),ie.max-Z.d<=u||(j=ie.h/2,G.push(new Wp(ie.p.x-j,ie.p.y-j,j,m)),G.push(new Wp(ie.p.x+j,ie.p.y-j,j,m)),G.push(new Wp(ie.p.x-j,ie.p.y+j,j,m)),G.push(new Wp(ie.p.x+j,ie.p.y+j,j,m)),Q+=4)}return p&&(console.log(`num probes: ${Q}`),console.log(`best distance: ${Z.d}`)),Z.p}function zJ(m,u){return u.max-m.max}function Wp(m,u,p,_){this.p=new x(m,u),this.h=p,this.d=function(S,E){let M=!1,O=1/0;for(let B=0;B<E.length;B++){const j=E[B];for(let G=0,Z=j.length,Q=Z-1;G<Z;Q=G++){const ie=j[G],oe=j[Q];ie.y>S.y!=oe.y>S.y&&S.x<(oe.x-ie.x)*(S.y-ie.y)/(oe.y-ie.y)+ie.x&&(M=!M),O=Math.min(O,qR(S,ie,oe))}}return(M?1:-1)*Math.sqrt(O)}(this.p,_),this.max=this.d+this.h*Math.SQRT2}var po;s.av=void 0,(po=s.av||(s.av={}))[po.center=1]="center",po[po.left=2]="left",po[po.right=3]="right",po[po.top=4]="top",po[po.bottom=5]="bottom",po[po["top-left"]=6]="top-left",po[po["top-right"]=7]="top-right",po[po["bottom-left"]=8]="bottom-left",po[po["bottom-right"]=9]="bottom-right";const Bc=7,MT=Number.POSITIVE_INFINITY;function p3(m,u){return u[1]!==MT?function(p,_,S){let E=0,M=0;switch(_=Math.abs(_),S=Math.abs(S),p){case"top-right":case"top-left":case"top":M=S-Bc;break;case"bottom-right":case"bottom-left":case"bottom":M=-S+Bc}switch(p){case"top-right":case"bottom-right":case"right":E=-_;break;case"top-left":case"bottom-left":case"left":E=_}return[E,M]}(m,u[0],u[1]):function(p,_){let S=0,E=0;_<0&&(_=0);const M=_/Math.SQRT2;switch(p){case"top-right":case"top-left":E=M-Bc;break;case"bottom-right":case"bottom-left":E=-M+Bc;break;case"bottom":E=-_+Bc;break;case"top":E=_-Bc}switch(p){case"top-right":case"bottom-right":S=-M;break;case"top-left":case"bottom-left":S=M;break;case"left":S=_;break;case"right":S=-_}return[S,E]}(m,u[0])}function m3(m,u,p){var _;const S=m.layout,E=(_=S.get("text-variable-anchor-offset"))===null||_===void 0?void 0:_.evaluate(u,{},p);if(E){const O=E.values,B=[];for(let j=0;j<O.length;j+=2){const G=B[j]=O[j],Z=O[j+1].map(Q=>Q*Ai);G.startsWith("top")?Z[1]-=Bc:G.startsWith("bottom")&&(Z[1]+=Bc),B[j+1]=Z}return new uo(B)}const M=S.get("text-variable-anchor");if(M){let O;O=m._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[S.get("text-radial-offset").evaluate(u,{},p)*Ai,MT]:S.get("text-offset").evaluate(u,{},p).map(j=>j*Ai);const B=[];for(const j of M)B.push(j,p3(j,O));return new uo(B)}return null}function AT(m){switch(m){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function BJ(m,u,p,_,S,E,M,O,B,j,G,Z){let Q=E.textMaxSize.evaluate(u,{});Q===void 0&&(Q=M);const ie=m.layers[0].layout,oe=ie.get("icon-offset").evaluate(u,{},G),he=v3(p.horizontal),be=M/24,Ee=m.tilePixelRatio*be,Ue=m.tilePixelRatio*Q/24,Ae=m.tilePixelRatio*O,re=m.tilePixelRatio*ie.get("symbol-spacing"),_e=ie.get("text-padding")*m.tilePixelRatio,De=function(gn,fn,ln,Wn=1){const si=gn.get("icon-padding").evaluate(fn,{},ln),Di=si&&si.values;return[Di[0]*Wn,Di[1]*Wn,Di[2]*Wn,Di[3]*Wn]}(ie,u,G,m.tilePixelRatio),nt=ie.get("text-max-angle")/180*Math.PI,Mt=ie.get("text-rotation-alignment")!=="viewport"&&ie.get("symbol-placement")!=="point",ct=ie.get("icon-rotation-alignment")==="map"&&ie.get("symbol-placement")!=="point",mt=ie.get("symbol-placement"),Rt=re/2,At=ie.get("icon-text-fit");let $t;_&&At!=="none"&&(m.allowVerticalPlacement&&p.vertical&&($t=FL(_,p.vertical,At,ie.get("icon-text-fit-padding"),oe,be)),he&&(_=FL(_,he,At,ie.get("icon-text-fit-padding"),oe,be)));const xt=G?Z.line.getGranularityForZoomLevel(G.z):1,rn=(gn,fn)=>{fn.x<0||fn.x>=ue||fn.y<0||fn.y>=ue||function(ln,Wn,si,Di,Ki,_s,zo,Xi,mo,pi,ki,Bo,Fo,No,Oi,Ua,sa,ir,go,Xr,li,ji,gd,Ga,R1){const bs=ln.addToLineVertexArray(Wn,si);let Ca,Yi,Wa,Iu,x3=0,w3=0,S3=0,C3=0,BT=-1,FT=-1;const Mu={};let T3=Ii("");if(ln.allowVerticalPlacement&&Di.vertical){const To=Xi.layout.get("text-rotate").evaluate(li,{},Ga)+90;Wa=new k1(mo,Wn,pi,ki,Bo,Di.vertical,Fo,No,Oi,To),zo&&(Iu=new k1(mo,Wn,pi,ki,Bo,zo,sa,ir,Oi,To))}if(Ki){const To=Xi.layout.get("icon-rotate").evaluate(li,{}),Za=Xi.layout.get("icon-text-fit")!=="none",vd=d3(Ki,To,gd,Za),Xs=zo?d3(zo,To,gd,Za):void 0;Yi=new k1(mo,Wn,pi,ki,Bo,Ki,sa,ir,!1,To),x3=4*vd.length;const yd=ln.iconSizeData;let wl=null;yd.kind==="source"?(wl=[xl*Xi.layout.get("icon-size").evaluate(li,{})],wl[0]>Lc&&Le(`${ln.layerIds[0]}: Value for "icon-size" is >= ${vy}. Reduce your "icon-size".`)):yd.kind==="composite"&&(wl=[xl*ji.compositeIconSizes[0].evaluate(li,{},Ga),xl*ji.compositeIconSizes[1].evaluate(li,{},Ga)],(wl[0]>Lc||wl[1]>Lc)&&Le(`${ln.layerIds[0]}: Value for "icon-size" is >= ${vy}. Reduce your "icon-size".`)),ln.addSymbols(ln.icon,vd,wl,Xr,go,li,s.ai.none,Wn,bs.lineStartIndex,bs.lineLength,-1,Ga),BT=ln.icon.placedSymbolArray.length-1,Xs&&(w3=4*Xs.length,ln.addSymbols(ln.icon,Xs,wl,Xr,go,li,s.ai.vertical,Wn,bs.lineStartIndex,bs.lineLength,-1,Ga),FT=ln.icon.placedSymbolArray.length-1)}const P3=Object.keys(Di.horizontal);for(const To of P3){const Za=Di.horizontal[To];if(!Ca){T3=Ii(Za.text);const Xs=Xi.layout.get("text-rotate").evaluate(li,{},Ga);Ca=new k1(mo,Wn,pi,ki,Bo,Za,Fo,No,Oi,Xs)}const vd=Za.positionedLines.length===1;if(S3+=g3(ln,Wn,Za,_s,Xi,Oi,li,Ua,bs,Di.vertical?s.ai.horizontal:s.ai.horizontalOnly,vd?P3:[To],Mu,BT,ji,Ga),vd)break}Di.vertical&&(C3+=g3(ln,Wn,Di.vertical,_s,Xi,Oi,li,Ua,bs,s.ai.vertical,["vertical"],Mu,FT,ji,Ga));const VJ=Ca?Ca.boxStartIndex:ln.collisionBoxArray.length,jJ=Ca?Ca.boxEndIndex:ln.collisionBoxArray.length,HJ=Wa?Wa.boxStartIndex:ln.collisionBoxArray.length,UJ=Wa?Wa.boxEndIndex:ln.collisionBoxArray.length,GJ=Yi?Yi.boxStartIndex:ln.collisionBoxArray.length,WJ=Yi?Yi.boxEndIndex:ln.collisionBoxArray.length,ZJ=Iu?Iu.boxStartIndex:ln.collisionBoxArray.length,qJ=Iu?Iu.boxEndIndex:ln.collisionBoxArray.length;let Ks=-1;const L1=(To,Za)=>To&&To.circleDiameter?Math.max(To.circleDiameter,Za):Za;Ks=L1(Ca,Ks),Ks=L1(Wa,Ks),Ks=L1(Yi,Ks),Ks=L1(Iu,Ks);const E3=Ks>-1?1:0;E3&&(Ks*=R1/Ai),ln.glyphOffsetArray.length>=Up.MAX_GLYPHS&&Le("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),li.sortKey!==void 0&&ln.addToSortKeyRanges(ln.symbolInstances.length,li.sortKey);const KJ=m3(Xi,li,Ga),[XJ,YJ]=function(To,Za){const vd=To.length,Xs=Za==null?void 0:Za.values;if((Xs==null?void 0:Xs.length)>0)for(let yd=0;yd<Xs.length;yd+=2){const wl=Xs[yd+1];To.emplaceBack(s.av[Xs[yd]],wl[0],wl[1])}return[vd,To.length]}(ln.textAnchorOffsets,KJ);ln.symbolInstances.emplaceBack(Wn.x,Wn.y,Mu.right>=0?Mu.right:-1,Mu.center>=0?Mu.center:-1,Mu.left>=0?Mu.left:-1,Mu.vertical||-1,BT,FT,T3,VJ,jJ,HJ,UJ,GJ,WJ,ZJ,qJ,pi,S3,C3,x3,w3,E3,0,Fo,Ks,XJ,YJ)}(m,fn,gn,p,_,S,$t,m.layers[0],m.collisionBoxArray,u.index,u.sourceLayerIndex,m.index,Ee,[_e,_e,_e,_e],Mt,B,Ae,De,ct,oe,u,E,j,G,M)};if(mt==="line")for(const gn of a3(u.geometry,0,0,ue,ue)){const fn=md(gn,xt),ln=RJ(fn,re,nt,p.vertical||he,_,24,Ue,m.overscaling,ue);for(const Wn of ln)he&&FJ(m,he.text,Rt,Wn)||rn(fn,Wn)}else if(mt==="line-center"){for(const gn of u.geometry)if(gn.length>1){const fn=md(gn,xt),ln=OJ(fn,nt,p.vertical||he,_,24,Ue);ln&&rn(fn,ln)}}else if(u.type==="Polygon")for(const gn of Cc(u.geometry,0)){const fn=$J(gn,16);rn(md(gn[0],xt,!0),new zc(fn.x,fn.y,0))}else if(u.type==="LineString")for(const gn of u.geometry){const fn=md(gn,xt);rn(fn,new zc(fn[0].x,fn[0].y,0))}else if(u.type==="Point")for(const gn of u.geometry)for(const fn of gn)rn([fn],new zc(fn.x,fn.y,0))}function g3(m,u,p,_,S,E,M,O,B,j,G,Z,Q,ie,oe){const he=function(Ue,Ae,re,_e,De,nt,Mt,ct){const mt=_e.layout.get("text-rotate").evaluate(nt,{})*Math.PI/180,Rt=[];for(const At of Ae.positionedLines)for(const $t of At.positionedGlyphs){if(!$t.rect)continue;const xt=$t.rect||{};let rn=vJ+1,gn=!0,fn=1,ln=0;const Wn=(De||ct)&&$t.vertical,si=$t.metrics.advance*$t.scale/2;if(ct&&Ae.verticalizable&&(ln=At.lineOffset/2-($t.imageName?-(Ai-$t.metrics.width*$t.scale)/2:($t.scale-1)*Ai)),$t.imageName){const ir=Mt[$t.imageName];gn=ir.sdf,fn=ir.pixelRatio,rn=aa/fn}const Di=De?[$t.x+si,$t.y]:[0,0];let Ki=De?[0,0]:[$t.x+si+re[0],$t.y+re[1]-ln],_s=[0,0];Wn&&(_s=Ki,Ki=[0,0]);const zo=$t.metrics.isDoubleResolution?2:1,Xi=($t.metrics.left-rn)*$t.scale-si+Ki[0],mo=(-$t.metrics.top-rn)*$t.scale+Ki[1],pi=Xi+xt.w/zo*$t.scale/fn,ki=mo+xt.h/zo*$t.scale/fn,Bo=new x(Xi,mo),Fo=new x(pi,mo),No=new x(Xi,ki),Oi=new x(pi,ki);if(Wn){const ir=new x(-si,si-my),go=-Math.PI/2,Xr=Ai/2-si,li=new x(5-my-Xr,-($t.imageName?Xr:0)),ji=new x(..._s);Bo._rotateAround(go,ir)._add(li)._add(ji),Fo._rotateAround(go,ir)._add(li)._add(ji),No._rotateAround(go,ir)._add(li)._add(ji),Oi._rotateAround(go,ir)._add(li)._add(ji)}if(mt){const ir=Math.sin(mt),go=Math.cos(mt),Xr=[go,-ir,ir,go];Bo._matMult(Xr),Fo._matMult(Xr),No._matMult(Xr),Oi._matMult(Xr)}const Ua=new x(0,0),sa=new x(0,0);Rt.push({tl:Bo,tr:Fo,bl:No,br:Oi,tex:xt,writingMode:Ae.writingMode,glyphOffset:Di,sectionIndex:$t.sectionIndex,isSDF:gn,pixelOffsetTL:Ua,pixelOffsetBR:sa,minFontScaleX:0,minFontScaleY:0})}return Rt}(0,p,O,S,E,M,_,m.allowVerticalPlacement),be=m.textSizeData;let Ee=null;be.kind==="source"?(Ee=[xl*S.layout.get("text-size").evaluate(M,{})],Ee[0]>Lc&&Le(`${m.layerIds[0]}: Value for "text-size" is >= ${vy}. Reduce your "text-size".`)):be.kind==="composite"&&(Ee=[xl*ie.compositeTextSizes[0].evaluate(M,{},oe),xl*ie.compositeTextSizes[1].evaluate(M,{},oe)],(Ee[0]>Lc||Ee[1]>Lc)&&Le(`${m.layerIds[0]}: Value for "text-size" is >= ${vy}. Reduce your "text-size".`)),m.addSymbols(m.text,he,Ee,O,E,M,j,u,B.lineStartIndex,B.lineLength,Q,oe);for(const Ue of G)Z[Ue]=m.text.placedSymbolArray.length-1;return 4*he.length}function v3(m){for(const u in m)return m[u];return null}function FJ(m,u,p,_){const S=m.compareText;if(u in S){const E=S[u];for(let M=E.length-1;M>=0;M--)if(_.dist(E[M])<p)return!0}else S[u]=[];return S[u].push(_),!1}const y3=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class DT{static from(u){if(!(u instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[p,_]=new Uint8Array(u,0,2);if(p!==219)throw new Error("Data does not appear to be in a KDBush format.");const S=_>>4;if(S!==1)throw new Error(`Got v${S} data when expected v1.`);const E=y3[15&_];if(!E)throw new Error("Unrecognized array type.");const[M]=new Uint16Array(u,2,1),[O]=new Uint32Array(u,4,1);return new DT(O,M,E,u)}constructor(u,p=64,_=Float64Array,S){if(isNaN(u)||u<0)throw new Error(`Unpexpected numItems value: ${u}.`);this.numItems=+u,this.nodeSize=Math.min(Math.max(+p,2),65535),this.ArrayType=_,this.IndexArrayType=u<65536?Uint16Array:Uint32Array;const E=y3.indexOf(this.ArrayType),M=2*u*this.ArrayType.BYTES_PER_ELEMENT,O=u*this.IndexArrayType.BYTES_PER_ELEMENT,B=(8-O%8)%8;if(E<0)throw new Error(`Unexpected typed array class: ${_}.`);S&&S instanceof ArrayBuffer?(this.data=S,this.ids=new this.IndexArrayType(this.data,8,u),this.coords=new this.ArrayType(this.data,8+O+B,2*u),this._pos=2*u,this._finished=!0):(this.data=new ArrayBuffer(8+M+O+B),this.ids=new this.IndexArrayType(this.data,8,u),this.coords=new this.ArrayType(this.data,8+O+B,2*u),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+E]),new Uint16Array(this.data,2,1)[0]=p,new Uint32Array(this.data,4,1)[0]=u)}add(u,p){const _=this._pos>>1;return this.ids[_]=_,this.coords[this._pos++]=u,this.coords[this._pos++]=p,_}finish(){const u=this._pos>>1;if(u!==this.numItems)throw new Error(`Added ${u} items when expected ${this.numItems}.`);return kT(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(u,p,_,S){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:E,coords:M,nodeSize:O}=this,B=[0,E.length-1,0],j=[];for(;B.length;){const G=B.pop()||0,Z=B.pop()||0,Q=B.pop()||0;if(Z-Q<=O){for(let be=Q;be<=Z;be++){const Ee=M[2*be],Ue=M[2*be+1];Ee>=u&&Ee<=_&&Ue>=p&&Ue<=S&&j.push(E[be])}continue}const ie=Q+Z>>1,oe=M[2*ie],he=M[2*ie+1];oe>=u&&oe<=_&&he>=p&&he<=S&&j.push(E[ie]),(G===0?u<=oe:p<=he)&&(B.push(Q),B.push(ie-1),B.push(1-G)),(G===0?_>=oe:S>=he)&&(B.push(ie+1),B.push(Z),B.push(1-G))}return j}within(u,p,_){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:S,coords:E,nodeSize:M}=this,O=[0,S.length-1,0],B=[],j=_*_;for(;O.length;){const G=O.pop()||0,Z=O.pop()||0,Q=O.pop()||0;if(Z-Q<=M){for(let be=Q;be<=Z;be++)b3(E[2*be],E[2*be+1],u,p)<=j&&B.push(S[be]);continue}const ie=Q+Z>>1,oe=E[2*ie],he=E[2*ie+1];b3(oe,he,u,p)<=j&&B.push(S[ie]),(G===0?u-_<=oe:p-_<=he)&&(O.push(Q),O.push(ie-1),O.push(1-G)),(G===0?u+_>=oe:p+_>=he)&&(O.push(ie+1),O.push(Z),O.push(1-G))}return B}}function kT(m,u,p,_,S,E){if(S-_<=p)return;const M=_+S>>1;_3(m,u,M,_,S,E),kT(m,u,p,_,M-1,1-E),kT(m,u,p,M+1,S,1-E)}function _3(m,u,p,_,S,E){for(;S>_;){if(S-_>600){const j=S-_+1,G=p-_+1,Z=Math.log(j),Q=.5*Math.exp(2*Z/3),ie=.5*Math.sqrt(Z*Q*(j-Q)/j)*(G-j/2<0?-1:1);_3(m,u,p,Math.max(_,Math.floor(p-G*Q/j+ie)),Math.min(S,Math.floor(p+(j-G)*Q/j+ie)),E)}const M=u[2*p+E];let O=_,B=S;for(by(m,u,_,p),u[2*S+E]>M&&by(m,u,_,S);O<B;){for(by(m,u,O,B),O++,B--;u[2*O+E]<M;)O++;for(;u[2*B+E]>M;)B--}u[2*_+E]===M?by(m,u,_,B):(B++,by(m,u,B,S)),B<=p&&(_=B+1),p<=B&&(S=B-1)}}function by(m,u,p,_){OT(m,p,_),OT(u,2*p,2*_),OT(u,2*p+1,2*_+1)}function OT(m,u,p){const _=m[u];m[u]=m[p],m[p]=_}function b3(m,u,p,_){const S=m-p,E=u-_;return S*S+E*E}var RT;s.ce=void 0,(RT=s.ce||(s.ce={})).create="create",RT.load="load",RT.fullLoad="fullLoad";let O1=null,xy=[];const LT=1e3/60,$T="loadTime",zT="fullLoadTime",NJ={mark(m){performance.mark(m)},frame(m){const u=m;O1!=null&&xy.push(u-O1),O1=u},clearMetrics(){O1=null,xy=[],performance.clearMeasures($T),performance.clearMeasures(zT);for(const m in s.ce)performance.clearMarks(s.ce[m])},getPerformanceMetrics(){performance.measure($T,s.ce.create,s.ce.load),performance.measure(zT,s.ce.create,s.ce.fullLoad);const m=performance.getEntriesByName($T)[0].duration,u=performance.getEntriesByName(zT)[0].duration,p=xy.length,_=1/(xy.reduce((E,M)=>E+M,0)/p/1e3),S=xy.filter(E=>E>LT).reduce((E,M)=>E+(M-LT)/LT,0);return{loadTime:m,fullLoadTime:u,fps:_,percentDroppedFrames:S/(p+S)*100,totalFrames:p}}};s.$=Ge,s.A=N,s.B=KC,s.C=function(m){if(ye==null){const u=m.navigator?m.navigator.userAgent:null;ye=!!m.safari||!(!u||!(/\b(iPad|iPhone|iPod)\b/.test(u)||u.match("Safari")&&!u.match("Chrome")))}return ye},s.D=un,s.E=Pi,s.F=class{constructor(m,u){this.target=m,this.mapId=u,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new DJ(()=>this.process()),this.subscription=function(p,_,S,E){return p.addEventListener(_,S,!1),{unsubscribe:()=>{p.removeEventListener(_,S,!1)}}}(this.target,"message",p=>this.receive(p)),this.globalScope=pe(self)?m:window}registerMessageHandler(m,u){this.messageHandlers[m]=u}sendAsync(m,u){return new Promise((p,_)=>{const S=Math.round(1e18*Math.random()).toString(36).substring(0,10);this.resolveRejects[S]={resolve:p,reject:_},u&&u.signal.addEventListener("abort",()=>{delete this.resolveRejects[S];const O={id:S,type:"<cancel>",origin:location.origin,targetMapId:m.targetMapId,sourceMapId:this.mapId};this.target.postMessage(O)},{once:!0});const E=[],M=Object.assign(Object.assign({},m),{id:S,sourceMapId:this.mapId,origin:location.origin,data:nd(m.data,E)});this.target.postMessage(M,{transfer:E})})}receive(m){const u=m.data,p=u.id;if(!(u.origin!=="file://"&&location.origin!=="file://"&&u.origin!=="resource://android"&&location.origin!=="resource://android"&&u.origin!==location.origin||u.targetMapId&&this.mapId!==u.targetMapId)){if(u.type==="<cancel>"){delete this.tasks[p];const _=this.abortControllers[p];return delete this.abortControllers[p],void(_&&_.abort())}if(pe(self)||u.mustQueue)return this.tasks[p]=u,this.taskQueue.push(p),void this.invoker.trigger();this.processTask(p,u)}}process(){if(this.taskQueue.length===0)return;const m=this.taskQueue.shift(),u=this.tasks[m];delete this.tasks[m],this.taskQueue.length>0&&this.invoker.trigger(),u&&this.processTask(m,u)}processTask(m,u){return a(this,void 0,void 0,function*(){if(u.type==="<response>"){const S=this.resolveRejects[m];return delete this.resolveRejects[m],S?void(u.error?S.reject(rd(u.error)):S.resolve(rd(u.data))):void 0}if(!this.messageHandlers[u.type])return void this.completeTask(m,new Error(`Could not find a registered handler for ${u.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const p=rd(u.data),_=new AbortController;this.abortControllers[m]=_;try{const S=yield this.messageHandlers[u.type](u.sourceMapId,p,_);this.completeTask(m,null,S)}catch(S){this.completeTask(m,S)}})}completeTask(m,u,p){const _=[];delete this.abortControllers[m];const S={id:m,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:u?nd(u):null,data:nd(p,_)};this.target.postMessage(S,{transfer:_})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},s.G=Qt,s.H=function(){var m=new N(16);return N!=Float32Array&&(m[1]=0,m[2]=0,m[3]=0,m[4]=0,m[6]=0,m[7]=0,m[8]=0,m[9]=0,m[11]=0,m[12]=0,m[13]=0,m[14]=0),m[0]=1,m[5]=1,m[10]=1,m[15]=1,m},s.I=yT,s.J=function(m,u,p){var _,S,E,M,O,B,j,G,Z,Q,ie,oe,he=p[0],be=p[1],Ee=p[2];return u===m?(m[12]=u[0]*he+u[4]*be+u[8]*Ee+u[12],m[13]=u[1]*he+u[5]*be+u[9]*Ee+u[13],m[14]=u[2]*he+u[6]*be+u[10]*Ee+u[14],m[15]=u[3]*he+u[7]*be+u[11]*Ee+u[15]):(S=u[1],E=u[2],M=u[3],O=u[4],B=u[5],j=u[6],G=u[7],Z=u[8],Q=u[9],ie=u[10],oe=u[11],m[0]=_=u[0],m[1]=S,m[2]=E,m[3]=M,m[4]=O,m[5]=B,m[6]=j,m[7]=G,m[8]=Z,m[9]=Q,m[10]=ie,m[11]=oe,m[12]=_*he+O*be+Z*Ee+u[12],m[13]=S*he+B*be+Q*Ee+u[13],m[14]=E*he+j*be+ie*Ee+u[14],m[15]=M*he+G*be+oe*Ee+u[15]),m},s.K=function(m,u,p){var _=p[0],S=p[1],E=p[2];return m[0]=u[0]*_,m[1]=u[1]*_,m[2]=u[2]*_,m[3]=u[3]*_,m[4]=u[4]*S,m[5]=u[5]*S,m[6]=u[6]*S,m[7]=u[7]*S,m[8]=u[8]*E,m[9]=u[9]*E,m[10]=u[10]*E,m[11]=u[11]*E,m[12]=u[12],m[13]=u[13],m[14]=u[14],m[15]=u[15],m},s.L=function(m,u,p){var _=u[0],S=u[1],E=u[2],M=u[3],O=u[4],B=u[5],j=u[6],G=u[7],Z=u[8],Q=u[9],ie=u[10],oe=u[11],he=u[12],be=u[13],Ee=u[14],Ue=u[15],Ae=p[0],re=p[1],_e=p[2],De=p[3];return m[0]=Ae*_+re*O+_e*Z+De*he,m[1]=Ae*S+re*B+_e*Q+De*be,m[2]=Ae*E+re*j+_e*ie+De*Ee,m[3]=Ae*M+re*G+_e*oe+De*Ue,m[4]=(Ae=p[4])*_+(re=p[5])*O+(_e=p[6])*Z+(De=p[7])*he,m[5]=Ae*S+re*B+_e*Q+De*be,m[6]=Ae*E+re*j+_e*ie+De*Ee,m[7]=Ae*M+re*G+_e*oe+De*Ue,m[8]=(Ae=p[8])*_+(re=p[9])*O+(_e=p[10])*Z+(De=p[11])*he,m[9]=Ae*S+re*B+_e*Q+De*be,m[10]=Ae*E+re*j+_e*ie+De*Ee,m[11]=Ae*M+re*G+_e*oe+De*Ue,m[12]=(Ae=p[12])*_+(re=p[13])*O+(_e=p[14])*Z+(De=p[15])*he,m[13]=Ae*S+re*B+_e*Q+De*be,m[14]=Ae*E+re*j+_e*ie+De*Ee,m[15]=Ae*M+re*G+_e*oe+De*Ue,m},s.M=function(m,u){const p={};for(let _=0;_<u.length;_++){const S=u[_];S in m&&(p[S]=m[S])}return p},s.N=$c,s.O=qL,s.P=x,s.Q=KL,s.R=ja,s.S=Ha,s.T=Wv,s.U=R,s.V=z,s.W=st,s.X=ue,s.Y=yy,s.Z=IT,s._=a,s.a=Wt,s.a$=function(){return new Float64Array(16)},s.a0=m=>{const u=window.document.createElement("video");return u.muted=!0,new Promise(p=>{u.onloadstart=()=>{p(u)};for(const _ of m){const S=window.document.createElement("source");bn(_)||(u.crossOrigin="Anonymous"),S.src=_,u.appendChild(S)}})},s.a1=function(){return Yt++},s.a2=w,s.a3=Up,s.a4=Iv,s.a5=Pu,s.a6=n3,s.a7=function(m){const u={};if(m.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(p,_,S,E)=>{const M=S||E;return u[_]=!M||M.toLowerCase(),""}),u["max-age"]){const p=parseInt(u["max-age"],10);isNaN(p)?delete u["max-age"]:u["max-age"]=p}return u},s.a8=function(m){return Math.log(m)/Math.LN2},s.a9=function(m){var u=m[0],p=m[1];return u*u+p*p},s.aA=Or,s.aB=w1,s.aC=Ce,s.aD=bt,s.aE=vt,s.aF=85.051129,s.aG=function(m){return Math.pow(2,m)},s.aH=XL,s.aI=Bt,s.aJ=lt,s.aK=YL,s.aL=function(m,u,p){return m[0]=u[0]*p,m[1]=u[1]*p,m[2]=u[2]*p,m},s.aM=function(m,u,p){return m[0]=u[0]+p[0],m[1]=u[1]+p[1],m[2]=u[2]+p[2],m},s.aN=function(m){var u=new N(3);return u[0]=m[0],u[1]=m[1],u[2]=m[2],u},s.aO=function(m,u,p){return m[0]=u[0]*p[0],m[1]=u[1]*p[1],m[2]=u[2]*p[2],m[3]=u[3]*p[3],m},s.aP=function(m,u,p){return m[0]=u[0]-p[0],m[1]=u[1]-p[1],m[2]=u[2]-p[2],m},s.aQ=function(m,u){var p=u[0],_=u[1],S=u[2],E=p*p+_*_+S*S;return E>0&&(E=1/Math.sqrt(E)),m[0]=u[0]*E,m[1]=u[1]*E,m[2]=u[2]*E,m},s.aR=function(m,u,p){var _=u[0],S=u[1],E=u[2],M=p[0],O=p[1],B=p[2];return m[0]=S*B-E*O,m[1]=E*M-_*B,m[2]=_*O-S*M,m},s.aS=function(m,u){return m[0]*u[0]+m[1]*u[1]+m[2]*u[2]},s.aT=QL,s.aU=Gp,s.aV=function(m,u,p,_,S){var E,M=1/Math.tan(u/2);return m[0]=M/p,m[1]=0,m[2]=0,m[3]=0,m[4]=0,m[5]=M,m[6]=0,m[7]=0,m[8]=0,m[9]=0,m[11]=-1,m[12]=0,m[13]=0,m[15]=0,S!=null&&S!==1/0?(m[10]=(S+_)*(E=1/(_-S)),m[14]=2*S*_*E):(m[10]=-1,m[14]=-2*_),m},s.aW=function(m){var u=new N(16);return u[0]=m[0],u[1]=m[1],u[2]=m[2],u[3]=m[3],u[4]=m[4],u[5]=m[5],u[6]=m[6],u[7]=m[7],u[8]=m[8],u[9]=m[9],u[10]=m[10],u[11]=m[11],u[12]=m[12],u[13]=m[13],u[14]=m[14],u[15]=m[15],u},s.aX=function(m,u,p){var _=Math.sin(p),S=Math.cos(p),E=u[0],M=u[1],O=u[2],B=u[3],j=u[4],G=u[5],Z=u[6],Q=u[7];return u!==m&&(m[8]=u[8],m[9]=u[9],m[10]=u[10],m[11]=u[11],m[12]=u[12],m[13]=u[13],m[14]=u[14],m[15]=u[15]),m[0]=E*S+j*_,m[1]=M*S+G*_,m[2]=O*S+Z*_,m[3]=B*S+Q*_,m[4]=j*S-E*_,m[5]=G*S-M*_,m[6]=Z*S-O*_,m[7]=Q*S-B*_,m},s.aY=function(m,u,p){var _=Math.sin(p),S=Math.cos(p),E=u[4],M=u[5],O=u[6],B=u[7],j=u[8],G=u[9],Z=u[10],Q=u[11];return u!==m&&(m[0]=u[0],m[1]=u[1],m[2]=u[2],m[3]=u[3],m[12]=u[12],m[13]=u[13],m[14]=u[14],m[15]=u[15]),m[4]=E*S+j*_,m[5]=M*S+G*_,m[6]=O*S+Z*_,m[7]=B*S+Q*_,m[8]=j*S-E*_,m[9]=G*S-M*_,m[10]=Z*S-O*_,m[11]=Q*S-B*_,m},s.aZ=function(){const m=new Float32Array(16);return X(m),m},s.a_=function(){const m=new Float64Array(16);return X(m),m},s.aa=function(m){return m*Math.PI/180},s.ab=It,s.ac=function(m,u){const p=[];for(const _ in m)_ in u||p.push(_);return p},s.ad=we,s.ae=function(m){return Math.hypot(m[0],m[1])},s.af=function(m){return m[0]=0,m[1]=0,m},s.ag=function(m,u,p){return m[0]=u[0]*p,m[1]=u[1]*p,m},s.ah=function(m,u){let p=0,_=0;if(m.kind==="constant")_=m.layoutSize;else if(m.kind!=="source"){const{interpolationType:S,minZoom:E,maxZoom:M}=m,O=S?It(qi.interpolationFactor(S,u,E,M),0,1):0;m.kind==="camera"?_=na.number(m.minSize,m.maxSize,O):p=O}return{uSizeT:p,uSize:_}},s.aj=function(m,{uSize:u,uSizeT:p},{lowerSize:_,upperSize:S}){return m.kind==="source"?_/xl:m.kind==="composite"?na.number(_/xl,S/xl,p):u},s.ak=wT,s.al=ae,s.am=function(m,u,p,_){const S=u.y-m.y,E=u.x-m.x,M=_.y-p.y,O=_.x-p.x,B=M*E-O*S;if(B===0)return null;const j=(O*(m.y-p.y)-M*(m.x-p.x))/B;return new x(m.x+j*E,m.y+j*S)},s.an=function(m,u){var p=u[0],_=u[1],S=u[2],E=u[3],M=u[4],O=u[5],B=u[6],j=u[7],G=u[8],Z=u[9],Q=u[10],ie=u[11],oe=u[12],he=u[13],be=u[14],Ee=u[15],Ue=p*O-_*M,Ae=p*B-S*M,re=p*j-E*M,_e=_*B-S*O,De=_*j-E*O,nt=S*j-E*B,Mt=G*he-Z*oe,ct=G*be-Q*oe,mt=G*Ee-ie*oe,Rt=Z*be-Q*he,At=Z*Ee-ie*he,$t=Q*Ee-ie*be,xt=Ue*$t-Ae*At+re*Rt+_e*mt-De*ct+nt*Mt;return xt?(m[0]=(O*$t-B*At+j*Rt)*(xt=1/xt),m[1]=(S*At-_*$t-E*Rt)*xt,m[2]=(he*nt-be*De+Ee*_e)*xt,m[3]=(Q*De-Z*nt-ie*_e)*xt,m[4]=(B*mt-M*$t-j*ct)*xt,m[5]=(p*$t-S*mt+E*ct)*xt,m[6]=(be*re-oe*nt-Ee*Ae)*xt,m[7]=(G*nt-Q*re+ie*Ae)*xt,m[8]=(M*At-O*mt+j*Mt)*xt,m[9]=(_*mt-p*At-E*Mt)*xt,m[10]=(oe*De-he*re+Ee*Ue)*xt,m[11]=(Z*re-G*De-ie*Ue)*xt,m[12]=(O*ct-M*Rt-B*Mt)*xt,m[13]=(p*Rt-_*ct+S*Mt)*xt,m[14]=(he*Ae-oe*_e-be*Ue)*xt,m[15]=(G*_e-Z*Ae+Q*Ue)*xt,m):null},s.ao=a3,s.ap=ny,s.aq=X,s.ar=function(m){let u=1/0,p=1/0,_=-1/0,S=-1/0;for(const E of m)u=Math.min(u,E.x),p=Math.min(p,E.y),_=Math.max(_,E.x),S=Math.max(S,E.y);return[u,p,_,S]},s.as=Ai,s.at=Te,s.au=function(m,u,p,_,S=!1){if(!p[0]&&!p[1])return[0,0];const E=S?_==="map"?-m.bearingInRadians:0:_==="viewport"?m.bearingInRadians:0;if(E){const M=Math.sin(E),O=Math.cos(E);p=[p[0]*O-p[1]*M,p[0]*M+p[1]*O]}return[S?p[0]:Te(u,p[0],m.zoom),S?p[1]:Te(u,p[1],m.zoom)]},s.aw=xT,s.ax=AT,s.ay=bT,s.az=DT,s.b=Ze,s.b$=m=>m.type==="line",s.b0=function(m,u,p){const _=new Float64Array(4);return function(S,E,M,O){var B=.5*Math.PI/180;E*=B,M*=B,O*=B;var j=Math.sin(E),G=Math.cos(E),Z=Math.sin(M),Q=Math.cos(M),ie=Math.sin(O),oe=Math.cos(O);S[0]=j*Q*oe-G*Z*ie,S[1]=G*Z*oe+j*Q*ie,S[2]=G*Q*ie-j*Z*oe,S[3]=G*Q*oe+j*Z*ie}(_,m,u-90,p),_},s.b1=function(m,u,p,_){var S,E,M,O,B,j=u[0],G=u[1],Z=u[2],Q=u[3],ie=p[0],oe=p[1],he=p[2],be=p[3];return(E=j*ie+G*oe+Z*he+Q*be)<0&&(E=-E,ie=-ie,oe=-oe,he=-he,be=-be),1-E>U?(S=Math.acos(E),M=Math.sin(S),O=Math.sin((1-_)*S)/M,B=Math.sin(_*S)/M):(O=1-_,B=_),m[0]=O*j+B*ie,m[1]=O*G+B*oe,m[2]=O*Z+B*he,m[3]=O*Q+B*be,m},s.b2=function(m){const u=new Float64Array(9);var p,_,S,E,M,O,B,j,G,Z,Q,ie,oe,he,be,Ee,Ue,Ae;Z=(S=(_=m)[0])*(B=S+S),Q=(E=_[1])*B,oe=(M=_[2])*B,he=M*(j=E+E),Ee=(O=_[3])*B,Ue=O*j,Ae=O*(G=M+M),(p=u)[0]=1-(ie=E*j)-(be=M*G),p[3]=Q-Ae,p[6]=oe+Ue,p[1]=Q+Ae,p[4]=1-Z-be,p[7]=he-Ee,p[2]=oe-Ue,p[5]=he+Ee,p[8]=1-Z-ie;const re=lt(-Math.asin(It(u[2],-1,1)));let _e,De;return Math.hypot(u[5],u[8])<.001?(_e=0,De=-lt(Math.atan2(u[3],u[4]))):(_e=lt(u[5]===0&&u[8]===0?0:Math.atan2(u[5],u[8])),De=lt(u[1]===0&&u[0]===0?0:Math.atan2(u[1],u[0]))),{roll:_e,pitch:re+90,bearing:De}},s.b3=function(m,u){return m.roll==u.roll&&m.pitch==u.pitch&&m.bearing==u.bearing},s.b4=Hn,s.b5=ys,s.b6=jp,s.b7=uy,s.b8=Vp,s.b9=ke,s.bA=ze,s.bB=ut,s.bC=class extends ia{constructor(m,u){super(m,u),this.current=0}set(m){this.current!==m&&(this.current=m,this.gl.uniform1i(this.location,m))}},s.bD=class extends ia{constructor(m,u){super(m,u),this.current=$p}set(m){if(m[12]!==this.current[12]||m[0]!==this.current[0])return this.current=m,void this.gl.uniformMatrix4fv(this.location,!1,m);for(let u=1;u<16;u++)if(m[u]!==this.current[u]){this.current=m,this.gl.uniformMatrix4fv(this.location,!1,m);break}}},s.bE=Cu,s.bF=dd,s.bG=class extends ia{constructor(m,u){super(m,u),this.current=[0,0,0]}set(m){m[0]===this.current[0]&&m[1]===this.current[1]&&m[2]===this.current[2]||(this.current=m,this.gl.uniform3f(this.location,m[0],m[1],m[2]))}},s.bH=class extends ia{constructor(m,u){super(m,u),this.current=[0,0]}set(m){m[0]===this.current[0]&&m[1]===this.current[1]||(this.current=m,this.gl.uniform2f(this.location,m[0],m[1]))}},s.bI=W,s.bJ=function(m,u){var p=Math.sin(u),_=Math.cos(u);return m[0]=_,m[1]=p,m[2]=0,m[3]=-p,m[4]=_,m[5]=0,m[6]=0,m[7]=0,m[8]=1,m},s.bK=function(m,u,p){var _=u[0],S=u[1],E=u[2];return m[0]=_*p[0]+S*p[3]+E*p[6],m[1]=_*p[1]+S*p[4]+E*p[7],m[2]=_*p[2]+S*p[5]+E*p[8],m},s.bL=function(m,u,p,_,S,E,M){var O=1/(u-p),B=1/(_-S),j=1/(E-M);return m[0]=-2*O,m[1]=0,m[2]=0,m[3]=0,m[4]=0,m[5]=-2*B,m[6]=0,m[7]=0,m[8]=0,m[9]=0,m[10]=2*j,m[11]=0,m[12]=(u+p)*O,m[13]=(S+_)*B,m[14]=(M+E)*j,m[15]=1,m},s.bM=class extends wu{},s.bN=hJ,s.bO=class extends hd{},s.bP=nT,s.bQ=function(m){return m<=1?1:Math.pow(2,Math.ceil(Math.log(m)/Math.LN2))},s.bR=nL,s.bS=function(m,u,p){var _=u[0],S=u[1],E=u[2],M=p[3]*_+p[7]*S+p[11]*E+p[15];return m[0]=(p[0]*_+p[4]*S+p[8]*E+p[12])/(M=M||1),m[1]=(p[1]*_+p[5]*S+p[9]*E+p[13])/M,m[2]=(p[2]*_+p[6]*S+p[10]*E+p[14])/M,m},s.bT=class extends Dp{},s.bU=class extends l{},s.bV=function(m,u){return m[0]===u[0]&&m[1]===u[1]&&m[2]===u[2]&&m[3]===u[3]&&m[4]===u[4]&&m[5]===u[5]&&m[6]===u[6]&&m[7]===u[7]&&m[8]===u[8]&&m[9]===u[9]&&m[10]===u[10]&&m[11]===u[11]&&m[12]===u[12]&&m[13]===u[13]&&m[14]===u[14]&&m[15]===u[15]},s.bW=function(m,u){var p=m[0],_=m[1],S=m[2],E=m[3],M=m[4],O=m[5],B=m[6],j=m[7],G=m[8],Z=m[9],Q=m[10],ie=m[11],oe=m[12],he=m[13],be=m[14],Ee=m[15],Ue=u[0],Ae=u[1],re=u[2],_e=u[3],De=u[4],nt=u[5],Mt=u[6],ct=u[7],mt=u[8],Rt=u[9],At=u[10],$t=u[11],xt=u[12],rn=u[13],gn=u[14],fn=u[15];return Math.abs(p-Ue)<=U*Math.max(1,Math.abs(p),Math.abs(Ue))&&Math.abs(_-Ae)<=U*Math.max(1,Math.abs(_),Math.abs(Ae))&&Math.abs(S-re)<=U*Math.max(1,Math.abs(S),Math.abs(re))&&Math.abs(E-_e)<=U*Math.max(1,Math.abs(E),Math.abs(_e))&&Math.abs(M-De)<=U*Math.max(1,Math.abs(M),Math.abs(De))&&Math.abs(O-nt)<=U*Math.max(1,Math.abs(O),Math.abs(nt))&&Math.abs(B-Mt)<=U*Math.max(1,Math.abs(B),Math.abs(Mt))&&Math.abs(j-ct)<=U*Math.max(1,Math.abs(j),Math.abs(ct))&&Math.abs(G-mt)<=U*Math.max(1,Math.abs(G),Math.abs(mt))&&Math.abs(Z-Rt)<=U*Math.max(1,Math.abs(Z),Math.abs(Rt))&&Math.abs(Q-At)<=U*Math.max(1,Math.abs(Q),Math.abs(At))&&Math.abs(ie-$t)<=U*Math.max(1,Math.abs(ie),Math.abs($t))&&Math.abs(oe-xt)<=U*Math.max(1,Math.abs(oe),Math.abs(xt))&&Math.abs(he-rn)<=U*Math.max(1,Math.abs(he),Math.abs(rn))&&Math.abs(be-gn)<=U*Math.max(1,Math.abs(be),Math.abs(gn))&&Math.abs(Ee-fn)<=U*Math.max(1,Math.abs(Ee),Math.abs(fn))},s.bX=function(m,u){return m[0]=u[0],m[1]=u[1],m[2]=u[2],m[3]=u[3],m[4]=u[4],m[5]=u[5],m[6]=u[6],m[7]=u[7],m[8]=u[8],m[9]=u[9],m[10]=u[10],m[11]=u[11],m[12]=u[12],m[13]=u[13],m[14]=u[14],m[15]=u[15],m},s.bY=m=>m.type==="symbol",s.bZ=m=>m.type==="circle",s.b_=m=>m.type==="heatmap",s.ba=rt,s.bb=Zi,s.bc=function(m,u,p,_,S){return ke(_,S,It((m-u)/(p-u),0,1))},s.bd=Be,s.be=function(){return new Float64Array(4)},s.bf=function(){return new Float64Array(3)},s.bg=function(m,u,p,_){var S=[],E=[];return S[0]=u[0]-p[0],S[1]=u[1]-p[1],S[2]=u[2]-p[2],E[0]=S[0]*Math.cos(_)-S[1]*Math.sin(_),E[1]=S[0]*Math.sin(_)+S[1]*Math.cos(_),E[2]=S[2],m[0]=E[0]+p[0],m[1]=E[1]+p[1],m[2]=E[2]+p[2],m},s.bh=function(m,u,p,_){var S=[],E=[];return S[0]=u[0]-p[0],S[1]=u[1]-p[1],S[2]=u[2]-p[2],E[0]=S[0],E[1]=S[1]*Math.cos(_)-S[2]*Math.sin(_),E[2]=S[1]*Math.sin(_)+S[2]*Math.cos(_),m[0]=E[0]+p[0],m[1]=E[1]+p[1],m[2]=E[2]+p[2],m},s.bi=function(m,u,p,_){var S=[],E=[];return S[0]=u[0]-p[0],S[1]=u[1]-p[1],S[2]=u[2]-p[2],E[0]=S[2]*Math.sin(_)+S[0]*Math.cos(_),E[1]=S[1],E[2]=S[2]*Math.cos(_)-S[0]*Math.sin(_),m[0]=E[0]+p[0],m[1]=E[1]+p[1],m[2]=E[2]+p[2],m},s.bj=function(m,u,p){var _=Math.sin(p),S=Math.cos(p),E=u[0],M=u[1],O=u[2],B=u[3],j=u[8],G=u[9],Z=u[10],Q=u[11];return u!==m&&(m[4]=u[4],m[5]=u[5],m[6]=u[6],m[7]=u[7],m[12]=u[12],m[13]=u[13],m[14]=u[14],m[15]=u[15]),m[0]=E*S-j*_,m[1]=M*S-G*_,m[2]=O*S-Z*_,m[3]=B*S-Q*_,m[8]=E*_+j*S,m[9]=M*_+G*S,m[10]=O*_+Z*S,m[11]=B*_+Q*S,m},s.bk=function(m,u){const p=Be(m,360),_=Be(u,360),S=_-p,E=_>p?S-360:S+360;return Math.abs(S)<Math.abs(E)?S:E},s.bl=function(m){return m[0]=0,m[1]=0,m[2]=0,m},s.bm=function(m,u,p,_){const S=Math.sqrt(m*m+u*u),E=Math.sqrt(p*p+_*_);m/=S,u/=S,p/=E,_/=E;const M=Math.acos(m*p+u*_);return-u*p+m*_>0?M:-M},s.bn=function(m,u){return m[0]*u[0]+m[1]*u[1]+m[2]*u[2]+m[3]},s.bo=PT,s.bp=function(m,u){const p=Be(m,2*Math.PI),_=Be(u,2*Math.PI);return Math.min(Math.abs(p-_),Math.abs(p-_+2*Math.PI),Math.abs(p-_-2*Math.PI))},s.bq=function(m){return Math.hypot(m[0],m[1],m[2])},s.br=function(){const m={},u=xe.$version;for(const p in xe.$root){const _=xe.$root[p];if(_.required){let S=null;S=p==="version"?u:_.type==="array"?[]:{},S!=null&&(m[p]=S)}}return m},s.bs=id,s.bt=xn,s.bu=function(m){m=m.slice();const u=Object.create(null);for(let p=0;p<m.length;p++)u[m[p].id]=m[p];for(let p=0;p<m.length;p++)"ref"in m[p]&&(m[p]=fe(m[p],u[m[p].ref]));return m},s.bv=function(m){if(m.type==="custom")return new AJ(m);switch(m.type){case"background":return new EJ(m);case"circle":return new PY(m);case"fill":return new GY(m);case"fill-extrusion":return new QY(m);case"heatmap":return new IY(m);case"hillshade":return new AY(m);case"line":return new sJ(m);case"raster":return new MJ(m);case"symbol":return new I1(m)}},s.bw=Re,s.bx=function(m,u){if(!m)return[{command:"setStyle",args:[u]}];let p=[];try{if(!ve(m.version,u.version))return[{command:"setStyle",args:[u]}];ve(m.center,u.center)||p.push({command:"setCenter",args:[u.center]}),ve(m.centerAltitude,u.centerAltitude)||p.push({command:"setCenterAltitude",args:[u.centerAltitude]}),ve(m.zoom,u.zoom)||p.push({command:"setZoom",args:[u.zoom]}),ve(m.bearing,u.bearing)||p.push({command:"setBearing",args:[u.bearing]}),ve(m.pitch,u.pitch)||p.push({command:"setPitch",args:[u.pitch]}),ve(m.roll,u.roll)||p.push({command:"setRoll",args:[u.roll]}),ve(m.sprite,u.sprite)||p.push({command:"setSprite",args:[u.sprite]}),ve(m.glyphs,u.glyphs)||p.push({command:"setGlyphs",args:[u.glyphs]}),ve(m.transition,u.transition)||p.push({command:"setTransition",args:[u.transition]}),ve(m.light,u.light)||p.push({command:"setLight",args:[u.light]}),ve(m.terrain,u.terrain)||p.push({command:"setTerrain",args:[u.terrain]}),ve(m.sky,u.sky)||p.push({command:"setSky",args:[u.sky]}),ve(m.projection,u.projection)||p.push({command:"setProjection",args:[u.projection]});const _={},S=[];(function(M,O,B,j){let G;for(G in O=O||{},M=M||{})Object.prototype.hasOwnProperty.call(M,G)&&(Object.prototype.hasOwnProperty.call(O,G)||Ke(G,B,j));for(G in O)Object.prototype.hasOwnProperty.call(O,G)&&(Object.prototype.hasOwnProperty.call(M,G)?ve(M[G],O[G])||(M[G].type==="geojson"&&O[G].type==="geojson"&&qe(M,O,G)?Me(B,{command:"setGeoJSONSourceData",args:[G,O[G].data]}):at(G,O,B,j)):je(G,O,B))})(m.sources,u.sources,S,_);const E=[];m.layers&&m.layers.forEach(M=>{"source"in M&&_[M.source]?p.push({command:"removeLayer",args:[M.id]}):E.push(M)}),p=p.concat(S),function(M,O,B){O=O||[];const j=(M=M||[]).map(dt),G=O.map(dt),Z=M.reduce(Je,{}),Q=O.reduce(Je,{}),ie=j.slice(),oe=Object.create(null);let he,be,Ee,Ue,Ae;for(let re=0,_e=0;re<j.length;re++)he=j[re],Object.prototype.hasOwnProperty.call(Q,he)?_e++:(Me(B,{command:"removeLayer",args:[he]}),ie.splice(ie.indexOf(he,_e),1));for(let re=0,_e=0;re<G.length;re++)he=G[G.length-1-re],ie[ie.length-1-re]!==he&&(Object.prototype.hasOwnProperty.call(Z,he)?(Me(B,{command:"removeLayer",args:[he]}),ie.splice(ie.lastIndexOf(he,ie.length-_e),1)):_e++,Ue=ie[ie.length-re],Me(B,{command:"addLayer",args:[Q[he],Ue]}),ie.splice(ie.length-re,0,he),oe[he]=!0);for(let re=0;re<G.length;re++)if(he=G[re],be=Z[he],Ee=Q[he],!oe[he]&&!ve(be,Ee))if(ve(be.source,Ee.source)&&ve(be["source-layer"],Ee["source-layer"])&&ve(be.type,Ee.type)){for(Ae in gt(be.layout,Ee.layout,B,he,null,"setLayoutProperty"),gt(be.paint,Ee.paint,B,he,null,"setPaintProperty"),ve(be.filter,Ee.filter)||Me(B,{command:"setFilter",args:[he,Ee.filter]}),ve(be.minzoom,Ee.minzoom)&&ve(be.maxzoom,Ee.maxzoom)||Me(B,{command:"setLayerZoomRange",args:[he,Ee.minzoom,Ee.maxzoom]}),be)Object.prototype.hasOwnProperty.call(be,Ae)&&Ae!=="layout"&&Ae!=="paint"&&Ae!=="filter"&&Ae!=="metadata"&&Ae!=="minzoom"&&Ae!=="maxzoom"&&(Ae.indexOf("paint.")===0?gt(be[Ae],Ee[Ae],B,he,Ae.slice(6),"setPaintProperty"):ve(be[Ae],Ee[Ae])||Me(B,{command:"setLayerProperty",args:[he,Ae,Ee[Ae]]}));for(Ae in Ee)Object.prototype.hasOwnProperty.call(Ee,Ae)&&!Object.prototype.hasOwnProperty.call(be,Ae)&&Ae!=="layout"&&Ae!=="paint"&&Ae!=="filter"&&Ae!=="metadata"&&Ae!=="minzoom"&&Ae!=="maxzoom"&&(Ae.indexOf("paint.")===0?gt(be[Ae],Ee[Ae],B,he,Ae.slice(6),"setPaintProperty"):ve(be[Ae],Ee[Ae])||Me(B,{command:"setLayerProperty",args:[he,Ae,Ee[Ae]]}))}else Me(B,{command:"removeLayer",args:[he]}),Ue=ie[ie.lastIndexOf(he)+1],Me(B,{command:"addLayer",args:[Ee,Ue]})}(E,u.layers,p)}catch(_){console.warn("Unable to compute style diff:",_),p=[{command:"setStyle",args:[u]}]}return p},s.by=function(m){const u=[],p=m.id;return p===void 0&&u.push({message:`layers.${p}: missing required property "id"`}),m.render===void 0&&u.push({message:`layers.${p}: missing required method "render"`}),m.renderingMode&&m.renderingMode!=="2d"&&m.renderingMode!=="3d"&&u.push({message:`layers.${p}: property "renderingMode" must be either "2d" or "3d"`}),u},s.bz=function m(u,p){if(Array.isArray(u)){if(!Array.isArray(p)||u.length!==p.length)return!1;for(let _=0;_<u.length;_++)if(!m(u[_],p[_]))return!1;return!0}if(typeof u=="object"&&u!==null&&p!==null){if(typeof p!="object"||Object.keys(u).length!==Object.keys(p).length)return!1;for(const _ in u)if(!m(u[_],p[_]))return!1;return!0}return u===p},s.c=Tt,s.c0=m=>m.type==="fill",s.c1=m=>m.type==="fill-extrusion",s.c2=m=>m.type==="hillshade",s.c3=m=>m.type==="raster",s.c4=m=>m.type==="background",s.c5=m=>m.type==="custom",s.c6=ot,s.c7=function(m,u,p){const _=se(u.x-p.x,u.y-p.y),S=se(m.x-p.x,m.y-p.y);var E,M;return lt(Math.atan2(_[0]*S[1]-_[1]*S[0],(E=_)[0]*(M=S)[0]+E[1]*M[1]))},s.c8=tt,s.c9=function(m,u,p){var _=u[0],S=u[1];return m[0]=p[0]*_+p[4]*S+p[12],m[1]=p[1]*_+p[5]*S+p[13],m},s.cA=DL,s.cB=mp,s.cC=qs,s.ca=function(m,u){const{x:p,y:_}=yy.fromLngLat(u);return!(m<0||m>25||_<0||_>=1||p<0||p>=1)},s.cb=function(m,u){return m[0]=u[0],m[1]=0,m[2]=0,m[3]=0,m[4]=0,m[5]=u[1],m[6]=0,m[7]=0,m[8]=0,m[9]=0,m[10]=u[2],m[11]=0,m[12]=0,m[13]=0,m[14]=0,m[15]=1,m},s.cc=class extends Ap{},s.cd=NJ,s.cf=function(m){return m.message===St},s.cg=sn,s.ch=function(m,u){Wt.REGISTERED_PROTOCOLS[m]=u},s.ci=function(m){delete Wt.REGISTERED_PROTOCOLS[m]},s.cj=function(m,u){const p={};for(let S=0;S<m.length;S++){const E=u&&u[m[S].id]||Ov(m[S]);u&&(u[m[S].id]=E);let M=p[E];M||(M=p[E]=[]),M.push(m[S])}const _=[];for(const S in p)_.push(p[S]);return _},s.ck=tn,s.cl=t3,s.cm=r3,s.cn=OL,s.co=function(m){m.bucket.createArrays(),m.bucket.tilePixelRatio=ue/(512*m.bucket.overscaling),m.bucket.compareText={},m.bucket.iconsNeedLinear=!1;const u=m.bucket.layers[0],p=u.layout,_=u._unevaluatedLayout._values,S={layoutIconSize:_["icon-size"].possiblyEvaluate(new kr(m.bucket.zoom+1),m.canonical),layoutTextSize:_["text-size"].possiblyEvaluate(new kr(m.bucket.zoom+1),m.canonical),textMaxSize:_["text-size"].possiblyEvaluate(new kr(18))};if(m.bucket.textSizeData.kind==="composite"){const{minZoom:j,maxZoom:G}=m.bucket.textSizeData;S.compositeTextSizes=[_["text-size"].possiblyEvaluate(new kr(j),m.canonical),_["text-size"].possiblyEvaluate(new kr(G),m.canonical)]}if(m.bucket.iconSizeData.kind==="composite"){const{minZoom:j,maxZoom:G}=m.bucket.iconSizeData;S.compositeIconSizes=[_["icon-size"].possiblyEvaluate(new kr(j),m.canonical),_["icon-size"].possiblyEvaluate(new kr(G),m.canonical)]}const E=p.get("text-line-height")*Ai,M=p.get("text-rotation-alignment")!=="viewport"&&p.get("symbol-placement")!=="point",O=p.get("text-keep-upright"),B=p.get("text-size");for(const j of m.bucket.features){const G=p.get("text-font").evaluate(j,{},m.canonical).join(","),Z=B.evaluate(j,{},m.canonical),Q=S.layoutTextSize.evaluate(j,{},m.canonical),ie=S.layoutIconSize.evaluate(j,{},m.canonical),oe={horizontal:{},vertical:void 0},he=j.text;let be,Ee=[0,0];if(he){const re=he.toString(),_e=p.get("text-letter-spacing").evaluate(j,{},m.canonical)*Ai,De=Sp(re)?_e:0,nt=p.get("text-anchor").evaluate(j,{},m.canonical),Mt=m3(u,j,m.canonical);if(!Mt){const At=p.get("text-radial-offset").evaluate(j,{},m.canonical);Ee=At?p3(nt,[At*Ai,MT]):p.get("text-offset").evaluate(j,{},m.canonical).map($t=>$t*Ai)}let ct=M?"center":p.get("text-justify").evaluate(j,{},m.canonical);const mt=p.get("symbol-placement")==="point"?p.get("text-max-width").evaluate(j,{},m.canonical)*Ai:1/0,Rt=()=>{m.bucket.allowVerticalPlacement&&od(re)&&(oe.vertical=T1(he,m.glyphMap,m.glyphPositions,m.imagePositions,G,mt,E,nt,"left",De,Ee,s.ai.vertical,!0,Q,Z))};if(!M&&Mt){const At=new Set;if(ct==="auto")for(let xt=0;xt<Mt.values.length;xt+=2)At.add(AT(Mt.values[xt]));else At.add(ct);let $t=!1;for(const xt of At)if(!oe.horizontal[xt])if($t)oe.horizontal[xt]=oe.horizontal[0];else{const rn=T1(he,m.glyphMap,m.glyphPositions,m.imagePositions,G,mt,E,"center",xt,De,Ee,s.ai.horizontal,!1,Q,Z);rn&&(oe.horizontal[xt]=rn,$t=rn.positionedLines.length===1)}Rt()}else{ct==="auto"&&(ct=AT(nt));const At=T1(he,m.glyphMap,m.glyphPositions,m.imagePositions,G,mt,E,nt,ct,De,Ee,s.ai.horizontal,!1,Q,Z);At&&(oe.horizontal[ct]=At),Rt(),od(re)&&M&&O&&(oe.vertical=T1(he,m.glyphMap,m.glyphPositions,m.imagePositions,G,mt,E,nt,ct,De,Ee,s.ai.vertical,!1,Q,Z))}}let Ue=!1;if(j.icon&&j.icon.name){const re=m.imageMap[j.icon.name];re&&(be=wJ(m.imagePositions[j.icon.name],p.get("icon-offset").evaluate(j,{},m.canonical),p.get("icon-anchor").evaluate(j,{},m.canonical)),Ue=!!re.sdf,m.bucket.sdfIcons===void 0?m.bucket.sdfIcons=Ue:m.bucket.sdfIcons!==Ue&&Le("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(re.pixelRatio!==m.bucket.pixelRatio||p.get("icon-rotate").constantOr(1)!==0)&&(m.bucket.iconsNeedLinear=!0))}const Ae=v3(oe.horizontal)||oe.vertical;m.bucket.iconsInText=!!Ae&&Ae.iconsInText,(Ae||be)&&BJ(m.bucket,j,oe,be,m.imageMap,S,Q,ie,Ee,Ue,m.canonical,m.subdivisionGranularity)}m.showCollisionBoxes&&m.bucket.generateCollisionDebugBuffers()},s.cp=fT,s.cq=sT,s.cr=dT,s.cs=hy,s.ct=gT,s.cu=class{constructor(m){this._marks={start:[m.url,"start"].join("#"),end:[m.url,"end"].join("#"),measure:m.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let m=performance.getEntriesByName(this._marks.measure);return m.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),m=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),m}},s.cv=function(m,u,p,_,S){return a(this,void 0,void 0,function*(){if(z())try{return yield st(m,u,p,_,S)}catch{}return function(E,M,O,B,j){const G=E.width,Z=E.height;Xe&&Qe||(Xe=new OffscreenCanvas(G,Z),Qe=Xe.getContext("2d",{willReadFrequently:!0})),Xe.width=G,Xe.height=Z,Qe.drawImage(E,0,0,G,Z);const Q=Qe.getImageData(M,O,B,j);return Qe.clearRect(0,0,G,Z),Q.data}(m,u,p,_,S)})},s.cw=e3,s.cx=c,s.cy=g,s.cz=_L,s.d=m=>a(void 0,void 0,void 0,function*(){if(m.byteLength===0)return createImageBitmap(new ImageData(1,1));const u=new Blob([new Uint8Array(m)],{type:"image/png"});try{return createImageBitmap(u)}catch(p){throw new Error(`Could not load image because of ${p.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),s.e=Lt,s.f=m=>new Promise((u,p)=>{const _=new Image;_.onload=()=>{u(_),URL.revokeObjectURL(_.src),_.onload=null,window.requestAnimationFrame(()=>{_.src=ht})},_.onerror=()=>p(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const S=new Blob([new Uint8Array(m)],{type:"image/png"});_.src=m.byteLength?URL.createObjectURL(S):ht}),s.g=Ft,s.h=(m,u)=>En(Lt(m,{type:"json"}),u),s.i=pe,s.j=Vr,s.k=Zr,s.l=(m,u)=>En(Lt(m,{type:"arrayBuffer"}),u),s.m=En,s.n=function(m){return new gT(m).readFields(pJ,[])},s.o=iy,s.p=kL,s.q=wo,s.r=qC,s.s=bn,s.t=wp,s.u=xu,s.v=xe,s.w=Le,s.x=function([m,u,p]){return u+=90,u*=Math.PI/180,p*=Math.PI/180,{x:m*Math.cos(u)*Math.sin(p),y:m*Math.sin(u)*Math.sin(p),z:m*Math.cos(p)}},s.y=na,s.z=kr}),i("worker",["./shared"],function(s){class a{constructor(le){this.keyCache={},le&&this.replace(le)}replace(le){this._layerConfigs={},this._layers={},this.update(le,[])}update(le,fe){for(const Me of le){this._layerConfigs[Me.id]=Me;const je=this._layers[Me.id]=s.bv(Me);je._featureFilter=s.a4(je.filter),this.keyCache[Me.id]&&delete this.keyCache[Me.id]}for(const Me of fe)delete this.keyCache[Me],delete this._layerConfigs[Me],delete this._layers[Me];this.familiesBySource={};const ve=s.cj(Object.values(this._layerConfigs),this.keyCache);for(const Me of ve){const je=Me.map(Je=>this._layers[Je.id]),Ke=je[0];if(Ke.visibility==="none")continue;const at=Ke.source||"";let qe=this.familiesBySource[at];qe||(qe=this.familiesBySource[at]={});const gt=Ke.sourceLayer||"_geojsonTileLayer";let dt=qe[gt];dt||(dt=qe[gt]=[]),dt.push(je)}}}class c{constructor(le){const fe={},ve=[];for(const at in le){const qe=le[at],gt=fe[at]={};for(const dt in qe){const Je=qe[+dt];if(!Je||Je.bitmap.width===0||Je.bitmap.height===0)continue;const Ge={x:0,y:0,w:Je.bitmap.width+2,h:Je.bitmap.height+2};ve.push(Ge),gt[dt]={rect:Ge,metrics:Je.metrics}}}const{w:Me,h:je}=s.p(ve),Ke=new s.o({width:Me||1,height:je||1});for(const at in le){const qe=le[at];for(const gt in qe){const dt=qe[+gt];if(!dt||dt.bitmap.width===0||dt.bitmap.height===0)continue;const Je=fe[at][gt].rect;s.o.copy(dt.bitmap,Ke,{x:0,y:0},{x:Je.x+1,y:Je.y+1},dt.bitmap)}}this.image=Ke,this.positions=fe}}s.ck("GlyphAtlas",c);class h{constructor(le){this.tileID=new s.S(le.tileID.overscaledZ,le.tileID.wrap,le.tileID.canonical.z,le.tileID.canonical.x,le.tileID.canonical.y),this.uid=le.uid,this.zoom=le.zoom,this.pixelRatio=le.pixelRatio,this.tileSize=le.tileSize,this.source=le.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=le.showCollisionBoxes,this.collectResourceTiming=!!le.collectResourceTiming,this.returnDependencies=!!le.returnDependencies,this.promoteId=le.promoteId,this.inFlightDependencies=[]}parse(le,fe,ve,Me,je){return s._(this,void 0,void 0,function*(){this.status="parsing",this.data=le,this.collisionBoxArray=new s.a2;const Ke=new s.cl(Object.keys(le.layers).sort()),at=new s.cm(this.tileID,this.promoteId);at.bucketLayerIDs=[];const qe={},gt={featureIndex:at,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:ve,subdivisionGranularity:je},dt=fe.familiesBySource[this.source];for(const mn in dt){const Jt=le.layers[mn];if(!Jt)continue;Jt.version===1&&s.w(`Vector tile source "${this.source}" layer "${mn}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Ir=Ke.encode(mn),za=[];for(let di=0;di<Jt.length;di++){const oi=Jt.feature(di),_r=at.getId(oi,mn);za.push({feature:oi,id:_r,index:di,sourceLayerIndex:Ir})}for(const di of dt[mn]){const oi=di[0];oi.source!==this.source&&s.w(`layer.source = ${oi.source} does not equal this.source = ${this.source}`),oi.minzoom&&this.zoom<Math.floor(oi.minzoom)||oi.maxzoom&&this.zoom>=oi.maxzoom||oi.visibility!=="none"&&(d(di,this.zoom,ve),(qe[oi.id]=oi.createBucket({index:at.bucketLayerIDs.length,layers:di,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Ir,sourceID:this.source})).populate(za,gt,this.tileID.canonical),at.bucketLayerIDs.push(di.map(_r=>_r.id)))}}const Je=s.bA(gt.glyphDependencies,mn=>Object.keys(mn).map(Number));this.inFlightDependencies.forEach(mn=>mn==null?void 0:mn.abort()),this.inFlightDependencies=[];let Ge=Promise.resolve({});if(Object.keys(Je).length){const mn=new AbortController;this.inFlightDependencies.push(mn),Ge=Me.sendAsync({type:"GG",data:{stacks:Je,source:this.source,tileID:this.tileID,type:"glyphs"}},mn)}const Nt=Object.keys(gt.iconDependencies);let Vt=Promise.resolve({});if(Nt.length){const mn=new AbortController;this.inFlightDependencies.push(mn),Vt=Me.sendAsync({type:"GI",data:{icons:Nt,source:this.source,tileID:this.tileID,type:"icons"}},mn)}const dn=Object.keys(gt.patternDependencies);let wn=Promise.resolve({});if(dn.length){const mn=new AbortController;this.inFlightDependencies.push(mn),wn=Me.sendAsync({type:"GI",data:{icons:dn,source:this.source,tileID:this.tileID,type:"patterns"}},mn)}const[yt,Gt,nn]=yield Promise.all([Ge,Vt,wn]),kn=new c(yt),qn=new s.cn(Gt,nn);for(const mn in qe){const Jt=qe[mn];Jt instanceof s.a3?(d(Jt.layers,this.zoom,ve),s.co({bucket:Jt,glyphMap:yt,glyphPositions:kn.positions,imageMap:Gt,imagePositions:qn.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical,subdivisionGranularity:gt.subdivisionGranularity})):Jt.hasPattern&&(Jt instanceof s.cp||Jt instanceof s.cq||Jt instanceof s.cr)&&(d(Jt.layers,this.zoom,ve),Jt.addFeatures(gt,this.tileID.canonical,qn.patternPositions))}return this.status="done",{buckets:Object.values(qe).filter(mn=>!mn.isEmpty()),featureIndex:at,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:kn.image,imageAtlas:qn,glyphMap:this.returnDependencies?yt:null,iconMap:this.returnDependencies?Gt:null,glyphPositions:this.returnDependencies?kn.positions:null}})}}function d(xe,le,fe){const ve=new s.z(le);for(const Me of xe)Me.recalculate(ve,fe)}class g{constructor(le,fe,ve){this.actor=le,this.layerIndex=fe,this.availableImages=ve,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(le,fe){return s._(this,void 0,void 0,function*(){const ve=yield s.l(le.request,fe);try{return{vectorTile:new s.cs.VectorTile(new s.ct(ve.data)),rawData:ve.data,cacheControl:ve.cacheControl,expires:ve.expires}}catch(Me){const je=new Uint8Array(ve.data);let Ke=`Unable to parse the tile at ${le.request.url}, `;throw Ke+=je[0]===31&&je[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${Me.message}`,new Error(Ke)}})}loadTile(le){return s._(this,void 0,void 0,function*(){const fe=le.uid,ve=!!(le&&le.request&&le.request.collectResourceTiming)&&new s.cu(le.request),Me=new h(le);this.loading[fe]=Me;const je=new AbortController;Me.abort=je;try{const Ke=yield this.loadVectorTile(le,je);if(delete this.loading[fe],!Ke)return null;const at=Ke.rawData,qe={};Ke.expires&&(qe.expires=Ke.expires),Ke.cacheControl&&(qe.cacheControl=Ke.cacheControl);const gt={};if(ve){const Je=ve.finish();Je&&(gt.resourceTiming=JSON.parse(JSON.stringify(Je)))}Me.vectorTile=Ke.vectorTile;const dt=Me.parse(Ke.vectorTile,this.layerIndex,this.availableImages,this.actor,le.subdivisionGranularity);this.loaded[fe]=Me,this.fetching[fe]={rawTileData:at,cacheControl:qe,resourceTiming:gt};try{const Je=yield dt;return s.e({rawTileData:at.slice(0)},Je,qe,gt)}finally{delete this.fetching[fe]}}catch(Ke){throw delete this.loading[fe],Me.status="done",this.loaded[fe]=Me,Ke}})}reloadTile(le){return s._(this,void 0,void 0,function*(){const fe=le.uid;if(!this.loaded||!this.loaded[fe])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const ve=this.loaded[fe];if(ve.showCollisionBoxes=le.showCollisionBoxes,ve.status==="parsing"){const Me=yield ve.parse(ve.vectorTile,this.layerIndex,this.availableImages,this.actor,le.subdivisionGranularity);let je;if(this.fetching[fe]){const{rawTileData:Ke,cacheControl:at,resourceTiming:qe}=this.fetching[fe];delete this.fetching[fe],je=s.e({rawTileData:Ke.slice(0)},Me,at,qe)}else je=Me;return je}if(ve.status==="done"&&ve.vectorTile)return ve.parse(ve.vectorTile,this.layerIndex,this.availableImages,this.actor,le.subdivisionGranularity)})}abortTile(le){return s._(this,void 0,void 0,function*(){const fe=this.loading,ve=le.uid;fe&&fe[ve]&&fe[ve].abort&&(fe[ve].abort.abort(),delete fe[ve])})}removeTile(le){return s._(this,void 0,void 0,function*(){this.loaded&&this.loaded[le.uid]&&delete this.loaded[le.uid]})}}class y{constructor(){this.loaded={}}loadTile(le){return s._(this,void 0,void 0,function*(){const{uid:fe,encoding:ve,rawImageData:Me,redFactor:je,greenFactor:Ke,blueFactor:at,baseShift:qe}=le,gt=Me.width+2,dt=Me.height+2,Je=s.b(Me)?new s.R({width:gt,height:dt},yield s.cv(Me,-1,-1,gt,dt)):Me,Ge=new s.cw(fe,Je,ve,je,Ke,at,qe);return this.loaded=this.loaded||{},this.loaded[fe]=Ge,Ge})}removeTile(le){const fe=this.loaded,ve=le.uid;fe&&fe[ve]&&delete fe[ve]}}var v,x,C=function(){if(x)return v;function xe(fe,ve){if(fe.length!==0){le(fe[0],ve);for(var Me=1;Me<fe.length;Me++)le(fe[Me],!ve)}}function le(fe,ve){for(var Me=0,je=0,Ke=0,at=fe.length,qe=at-1;Ke<at;qe=Ke++){var gt=(fe[Ke][0]-fe[qe][0])*(fe[qe][1]+fe[Ke][1]),dt=Me+gt;je+=Math.abs(Me)>=Math.abs(gt)?Me-dt+gt:gt-dt+Me,Me=dt}Me+je>=0!=!!ve&&fe.reverse()}return x=1,v=function fe(ve,Me){var je,Ke=ve&&ve.type;if(Ke==="FeatureCollection")for(je=0;je<ve.features.length;je++)fe(ve.features[je],Me);else if(Ke==="GeometryCollection")for(je=0;je<ve.geometries.length;je++)fe(ve.geometries[je],Me);else if(Ke==="Feature")fe(ve.geometry,Me);else if(Ke==="Polygon")xe(ve.coordinates,Me);else if(Ke==="MultiPolygon")for(je=0;je<ve.coordinates.length;je++)xe(ve.coordinates[je],Me);return ve}}(),I=s.cx(C);const A=s.cs.VectorTileFeature.prototype.toGeoJSON;class k{constructor(le){this._feature=le,this.extent=s.X,this.type=le.type,this.properties=le.tags,"id"in le&&!isNaN(le.id)&&(this.id=parseInt(le.id,10))}loadGeometry(){if(this._feature.type===1){const le=[];for(const fe of this._feature.geometry)le.push([new s.P(fe[0],fe[1])]);return le}{const le=[];for(const fe of this._feature.geometry){const ve=[];for(const Me of fe)ve.push(new s.P(Me[0],Me[1]));le.push(ve)}return le}}toGeoJSON(le,fe,ve){return A.call(this,le,fe,ve)}}class R{constructor(le){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=s.X,this.length=le.length,this._features=le}feature(le){return new k(this._features[le])}}var z,V,U,N={exports:{}},W=function(){if(U)return N.exports;U=1;var xe=s.cA(),le=function(){if(V)return z;V=1;var dt=s.cy(),Je=s.cz().VectorTileFeature;function Ge(Vt,dn){this.options=dn||{},this.features=Vt,this.length=Vt.length}function Nt(Vt,dn){this.id=typeof Vt.id=="number"?Vt.id:void 0,this.type=Vt.type,this.rawGeometry=Vt.type===1?[Vt.geometry]:Vt.geometry,this.properties=Vt.tags,this.extent=dn||4096}return z=Ge,Ge.prototype.feature=function(Vt){return new Nt(this.features[Vt],this.options.extent)},Nt.prototype.loadGeometry=function(){var Vt=this.rawGeometry;this.geometry=[];for(var dn=0;dn<Vt.length;dn++){for(var wn=Vt[dn],yt=[],Gt=0;Gt<wn.length;Gt++)yt.push(new dt(wn[Gt][0],wn[Gt][1]));this.geometry.push(yt)}return this.geometry},Nt.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Vt=this.geometry,dn=1/0,wn=-1/0,yt=1/0,Gt=-1/0,nn=0;nn<Vt.length;nn++)for(var kn=Vt[nn],qn=0;qn<kn.length;qn++){var mn=kn[qn];dn=Math.min(dn,mn.x),wn=Math.max(wn,mn.x),yt=Math.min(yt,mn.y),Gt=Math.max(Gt,mn.y)}return[dn,yt,wn,Gt]},Nt.prototype.toGeoJSON=Je.prototype.toGeoJSON,z}();function fe(dt){var Je=new xe;return function(Ge,Nt){for(var Vt in Ge.layers)Nt.writeMessage(3,ve,Ge.layers[Vt])}(dt,Je),Je.finish()}function ve(dt,Je){var Ge;Je.writeVarintField(15,dt.version||1),Je.writeStringField(1,dt.name||""),Je.writeVarintField(5,dt.extent||4096);var Nt={keys:[],values:[],keycache:{},valuecache:{}};for(Ge=0;Ge<dt.length;Ge++)Nt.feature=dt.feature(Ge),Je.writeMessage(2,Me,Nt);var Vt=Nt.keys;for(Ge=0;Ge<Vt.length;Ge++)Je.writeStringField(3,Vt[Ge]);var dn=Nt.values;for(Ge=0;Ge<dn.length;Ge++)Je.writeMessage(4,gt,dn[Ge])}function Me(dt,Je){var Ge=dt.feature;Ge.id!==void 0&&Je.writeVarintField(1,Ge.id),Je.writeMessage(2,je,dt),Je.writeVarintField(3,Ge.type),Je.writeMessage(4,qe,Ge)}function je(dt,Je){var Ge=dt.feature,Nt=dt.keys,Vt=dt.values,dn=dt.keycache,wn=dt.valuecache;for(var yt in Ge.properties){var Gt=Ge.properties[yt],nn=dn[yt];if(Gt!==null){nn===void 0&&(Nt.push(yt),dn[yt]=nn=Nt.length-1),Je.writeVarint(nn);var kn=typeof Gt;kn!=="string"&&kn!=="boolean"&&kn!=="number"&&(Gt=JSON.stringify(Gt));var qn=kn+":"+Gt,mn=wn[qn];mn===void 0&&(Vt.push(Gt),wn[qn]=mn=Vt.length-1),Je.writeVarint(mn)}}}function Ke(dt,Je){return(Je<<3)+(7&dt)}function at(dt){return dt<<1^dt>>31}function qe(dt,Je){for(var Ge=dt.loadGeometry(),Nt=dt.type,Vt=0,dn=0,wn=Ge.length,yt=0;yt<wn;yt++){var Gt=Ge[yt],nn=1;Nt===1&&(nn=Gt.length),Je.writeVarint(Ke(1,nn));for(var kn=Nt===3?Gt.length-1:Gt.length,qn=0;qn<kn;qn++){qn===1&&Nt!==1&&Je.writeVarint(Ke(2,kn-1));var mn=Gt[qn].x-Vt,Jt=Gt[qn].y-dn;Je.writeVarint(at(mn)),Je.writeVarint(at(Jt)),Vt+=mn,dn+=Jt}Nt===3&&Je.writeVarint(Ke(7,1))}}function gt(dt,Je){var Ge=typeof dt;Ge==="string"?Je.writeStringField(1,dt):Ge==="boolean"?Je.writeBooleanField(7,dt):Ge==="number"&&(dt%1!=0?Je.writeDoubleField(3,dt):dt<0?Je.writeSVarintField(6,dt):Je.writeVarintField(5,dt))}return N.exports=fe,N.exports.fromVectorTileJs=fe,N.exports.fromGeojsonVt=function(dt,Je){Je=Je||{};var Ge={};for(var Nt in dt)Ge[Nt]=new le(dt[Nt].features,Je),Ge[Nt].name=Nt,Ge[Nt].version=Je.version,Ge[Nt].extent=Je.extent;return fe({layers:Ge})},N.exports.GeoJSONWrapper=le,N.exports}(),X=s.cx(W);const K={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:xe=>xe},te=Math.fround||(ae=new Float32Array(1),xe=>(ae[0]=+xe,ae[0]));var ae;const me=3,we=5,se=6;class ue{constructor(le){this.options=Object.assign(Object.create(K),le),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(le){const{log:fe,minZoom:ve,maxZoom:Me}=this.options;fe&&console.time("total time");const je=`prepare ${le.length} points`;fe&&console.time(je),this.points=le;const Ke=[];for(let qe=0;qe<le.length;qe++){const gt=le[qe];if(!gt.geometry)continue;const[dt,Je]=gt.geometry.coordinates,Ge=te(ke(dt)),Nt=te(rt(Je));Ke.push(Ge,Nt,1/0,qe,-1,1),this.options.reduce&&Ke.push(0)}let at=this.trees[Me+1]=this._createTree(Ke);fe&&console.timeEnd(je);for(let qe=Me;qe>=ve;qe--){const gt=+Date.now();at=this.trees[qe]=this._createTree(this._cluster(at,qe)),fe&&console.log("z%d: %d clusters in %dms",qe,at.numItems,+Date.now()-gt)}return fe&&console.timeEnd("total time"),this}getClusters(le,fe){let ve=((le[0]+180)%360+360)%360-180;const Me=Math.max(-90,Math.min(90,le[1]));let je=le[2]===180?180:((le[2]+180)%360+360)%360-180;const Ke=Math.max(-90,Math.min(90,le[3]));if(le[2]-le[0]>=360)ve=-180,je=180;else if(ve>je){const Je=this.getClusters([ve,Me,180,Ke],fe),Ge=this.getClusters([-180,Me,je,Ke],fe);return Je.concat(Ge)}const at=this.trees[this._limitZoom(fe)],qe=at.range(ke(ve),rt(Ke),ke(je),rt(Me)),gt=at.data,dt=[];for(const Je of qe){const Ge=this.stride*Je;dt.push(gt[Ge+we]>1?Te(gt,Ge,this.clusterProps):this.points[gt[Ge+me]])}return dt}getChildren(le){const fe=this._getOriginId(le),ve=this._getOriginZoom(le),Me="No cluster with the specified id.",je=this.trees[ve];if(!je)throw new Error(Me);const Ke=je.data;if(fe*this.stride>=Ke.length)throw new Error(Me);const at=this.options.radius/(this.options.extent*Math.pow(2,ve-1)),qe=je.within(Ke[fe*this.stride],Ke[fe*this.stride+1],at),gt=[];for(const dt of qe){const Je=dt*this.stride;Ke[Je+4]===le&&gt.push(Ke[Je+we]>1?Te(Ke,Je,this.clusterProps):this.points[Ke[Je+me]])}if(gt.length===0)throw new Error(Me);return gt}getLeaves(le,fe,ve){const Me=[];return this._appendLeaves(Me,le,fe=fe||10,ve=ve||0,0),Me}getTile(le,fe,ve){const Me=this.trees[this._limitZoom(le)],je=Math.pow(2,le),{extent:Ke,radius:at}=this.options,qe=at/Ke,gt=(ve-qe)/je,dt=(ve+1+qe)/je,Je={features:[]};return this._addTileFeatures(Me.range((fe-qe)/je,gt,(fe+1+qe)/je,dt),Me.data,fe,ve,je,Je),fe===0&&this._addTileFeatures(Me.range(1-qe/je,gt,1,dt),Me.data,je,ve,je,Je),fe===je-1&&this._addTileFeatures(Me.range(0,gt,qe/je,dt),Me.data,-1,ve,je,Je),Je.features.length?Je:null}getClusterExpansionZoom(le){let fe=this._getOriginZoom(le)-1;for(;fe<=this.options.maxZoom;){const ve=this.getChildren(le);if(fe++,ve.length!==1)break;le=ve[0].properties.cluster_id}return fe}_appendLeaves(le,fe,ve,Me,je){const Ke=this.getChildren(fe);for(const at of Ke){const qe=at.properties;if(qe&&qe.cluster?je+qe.point_count<=Me?je+=qe.point_count:je=this._appendLeaves(le,qe.cluster_id,ve,Me,je):je<Me?je++:le.push(at),le.length===ve)break}return je}_createTree(le){const fe=new s.az(le.length/this.stride|0,this.options.nodeSize,Float32Array);for(let ve=0;ve<le.length;ve+=this.stride)fe.add(le[ve],le[ve+1]);return fe.finish(),fe.data=le,fe}_addTileFeatures(le,fe,ve,Me,je,Ke){for(const at of le){const qe=at*this.stride,gt=fe[qe+we]>1;let dt,Je,Ge;if(gt)dt=Be(fe,qe,this.clusterProps),Je=fe[qe],Ge=fe[qe+1];else{const dn=this.points[fe[qe+me]];dt=dn.properties;const[wn,yt]=dn.geometry.coordinates;Je=ke(wn),Ge=rt(yt)}const Nt={type:1,geometry:[[Math.round(this.options.extent*(Je*je-ve)),Math.round(this.options.extent*(Ge*je-Me))]],tags:dt};let Vt;Vt=gt||this.options.generateId?fe[qe+me]:this.points[fe[qe+me]].id,Vt!==void 0&&(Nt.id=Vt),Ke.features.push(Nt)}}_limitZoom(le){return Math.max(this.options.minZoom,Math.min(Math.floor(+le),this.options.maxZoom+1))}_cluster(le,fe){const{radius:ve,extent:Me,reduce:je,minPoints:Ke}=this.options,at=ve/(Me*Math.pow(2,fe)),qe=le.data,gt=[],dt=this.stride;for(let Je=0;Je<qe.length;Je+=dt){if(qe[Je+2]<=fe)continue;qe[Je+2]=fe;const Ge=qe[Je],Nt=qe[Je+1],Vt=le.within(qe[Je],qe[Je+1],at),dn=qe[Je+we];let wn=dn;for(const yt of Vt){const Gt=yt*dt;qe[Gt+2]>fe&&(wn+=qe[Gt+we])}if(wn>dn&&wn>=Ke){let yt,Gt=Ge*dn,nn=Nt*dn,kn=-1;const qn=((Je/dt|0)<<5)+(fe+1)+this.points.length;for(const mn of Vt){const Jt=mn*dt;if(qe[Jt+2]<=fe)continue;qe[Jt+2]=fe;const Ir=qe[Jt+we];Gt+=qe[Jt]*Ir,nn+=qe[Jt+1]*Ir,qe[Jt+4]=qn,je&&(yt||(yt=this._map(qe,Je,!0),kn=this.clusterProps.length,this.clusterProps.push(yt)),je(yt,this._map(qe,Jt)))}qe[Je+4]=qn,gt.push(Gt/wn,nn/wn,1/0,qn,-1,wn),je&&gt.push(kn)}else{for(let yt=0;yt<dt;yt++)gt.push(qe[Je+yt]);if(wn>1)for(const yt of Vt){const Gt=yt*dt;if(!(qe[Gt+2]<=fe)){qe[Gt+2]=fe;for(let nn=0;nn<dt;nn++)gt.push(qe[Gt+nn])}}}}return gt}_getOriginId(le){return le-this.points.length>>5}_getOriginZoom(le){return(le-this.points.length)%32}_map(le,fe,ve){if(le[fe+we]>1){const Ke=this.clusterProps[le[fe+se]];return ve?Object.assign({},Ke):Ke}const Me=this.points[le[fe+me]].properties,je=this.options.map(Me);return ve&&je===Me?Object.assign({},je):je}}function Te(xe,le,fe){return{type:"Feature",id:xe[le+me],properties:Be(xe,le,fe),geometry:{type:"Point",coordinates:[(ve=xe[le],360*(ve-.5)),ot(xe[le+1])]}};var ve}function Be(xe,le,fe){const ve=xe[le+we],Me=ve>=1e4?`${Math.round(ve/1e3)}k`:ve>=1e3?Math.round(ve/100)/10+"k":ve,je=xe[le+se],Ke=je===-1?{}:Object.assign({},fe[je]);return Object.assign(Ke,{cluster:!0,cluster_id:xe[le+me],point_count:ve,point_count_abbreviated:Me})}function ke(xe){return xe/360+.5}function rt(xe){const le=Math.sin(xe*Math.PI/180),fe=.5-.25*Math.log((1+le)/(1-le))/Math.PI;return fe<0?0:fe>1?1:fe}function ot(xe){const le=(180-360*xe)*Math.PI/180;return 360*Math.atan(Math.exp(le))/Math.PI-90}function tt(xe,le,fe,ve){let Me=ve;const je=le+(fe-le>>1);let Ke,at=fe-le;const qe=xe[le],gt=xe[le+1],dt=xe[fe],Je=xe[fe+1];for(let Ge=le+3;Ge<fe;Ge+=3){const Nt=It(xe[Ge],xe[Ge+1],qe,gt,dt,Je);if(Nt>Me)Ke=Ge,Me=Nt;else if(Nt===Me){const Vt=Math.abs(Ge-je);Vt<at&&(Ke=Ge,at=Vt)}}Me>ve&&(Ke-le>3&&tt(xe,le,Ke,ve),xe[Ke+2]=Me,fe-Ke>3&&tt(xe,Ke,fe,ve))}function It(xe,le,fe,ve,Me,je){let Ke=Me-fe,at=je-ve;if(Ke!==0||at!==0){const qe=((xe-fe)*Ke+(le-ve)*at)/(Ke*Ke+at*at);qe>1?(fe=Me,ve=je):qe>0&&(fe+=Ke*qe,ve+=at*qe)}return Ke=xe-fe,at=le-ve,Ke*Ke+at*at}function Bt(xe,le,fe,ve){const Me={id:xe??null,type:le,geometry:fe,tags:ve,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(le==="Point"||le==="MultiPoint"||le==="LineString")Lt(Me,fe);else if(le==="Polygon")Lt(Me,fe[0]);else if(le==="MultiLineString")for(const je of fe)Lt(Me,je);else if(le==="MultiPolygon")for(const je of fe)Lt(Me,je[0]);return Me}function Lt(xe,le){for(let fe=0;fe<le.length;fe+=3)xe.minX=Math.min(xe.minX,le[fe]),xe.minY=Math.min(xe.minY,le[fe+1]),xe.maxX=Math.max(xe.maxX,le[fe]),xe.maxY=Math.max(xe.maxY,le[fe+1])}function Yt(xe,le,fe,ve){if(!le.geometry)return;const Me=le.geometry.coordinates;if(Me&&Me.length===0)return;const je=le.geometry.type,Ke=Math.pow(fe.tolerance/((1<<fe.maxZoom)*fe.extent),2);let at=[],qe=le.id;if(fe.promoteId?qe=le.properties[fe.promoteId]:fe.generateId&&(qe=ve||0),je==="Point")ze(Me,at);else if(je==="MultiPoint")for(const gt of Me)ze(gt,at);else if(je==="LineString")ut(Me,at,Ke,!1);else if(je==="MultiLineString"){if(fe.lineMetrics){for(const gt of Me)at=[],ut(gt,at,Ke,!1),xe.push(Bt(qe,"LineString",at,le.properties));return}Re(Me,at,Ke,!1)}else if(je==="Polygon")Re(Me,at,Ke,!0);else{if(je!=="MultiPolygon"){if(je==="GeometryCollection"){for(const gt of le.geometry.geometries)Yt(xe,{id:qe,geometry:gt,properties:le.properties},fe,ve);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const gt of Me){const dt=[];Re(gt,dt,Ke,!0),at.push(dt)}}xe.push(Bt(qe,je,at,le.properties))}function ze(xe,le){le.push(Ve(xe[0]),Le(xe[1]),0)}function ut(xe,le,fe,ve){let Me,je,Ke=0;for(let qe=0;qe<xe.length;qe++){const gt=Ve(xe[qe][0]),dt=Le(xe[qe][1]);le.push(gt,dt,0),qe>0&&(Ke+=ve?(Me*dt-gt*je)/2:Math.sqrt(Math.pow(gt-Me,2)+Math.pow(dt-je,2))),Me=gt,je=dt}const at=le.length-3;le[2]=1,tt(le,0,at,fe),le[at+2]=1,le.size=Math.abs(Ke),le.start=0,le.end=le.size}function Re(xe,le,fe,ve){for(let Me=0;Me<xe.length;Me++){const je=[];ut(xe[Me],je,fe,ve),le.push(je)}}function Ve(xe){return xe/360+.5}function Le(xe){const le=Math.sin(xe*Math.PI/180),fe=.5-.25*Math.log((1+le)/(1-le))/Math.PI;return fe<0?0:fe>1?1:fe}function Ye(xe,le,fe,ve,Me,je,Ke,at){if(ve/=le,je>=(fe/=le)&&Ke<ve)return xe;if(Ke<fe||je>=ve)return null;const qe=[];for(const gt of xe){const dt=gt.geometry;let Je=gt.type;const Ge=Me===0?gt.minX:gt.minY,Nt=Me===0?gt.maxX:gt.maxY;if(Ge>=fe&&Nt<ve){qe.push(gt);continue}if(Nt<fe||Ge>=ve)continue;let Vt=[];if(Je==="Point"||Je==="MultiPoint")pe(dt,Vt,fe,ve,Me);else if(Je==="LineString")ye(dt,Vt,fe,ve,Me,!1,at.lineMetrics);else if(Je==="MultiLineString")ht(dt,Vt,fe,ve,Me,!1);else if(Je==="Polygon")ht(dt,Vt,fe,ve,Me,!0);else if(Je==="MultiPolygon")for(const dn of dt){const wn=[];ht(dn,wn,fe,ve,Me,!0),wn.length&&Vt.push(wn)}if(Vt.length){if(at.lineMetrics&&Je==="LineString"){for(const dn of Vt)qe.push(Bt(gt.id,Je,dn,gt.tags));continue}Je!=="LineString"&&Je!=="MultiLineString"||(Vt.length===1?(Je="LineString",Vt=Vt[0]):Je="MultiLineString"),Je!=="Point"&&Je!=="MultiPoint"||(Je=Vt.length===3?"Point":"MultiPoint"),qe.push(Bt(gt.id,Je,Vt,gt.tags))}}return qe.length?qe:null}function pe(xe,le,fe,ve,Me){for(let je=0;je<xe.length;je+=3){const Ke=xe[je+Me];Ke>=fe&&Ke<=ve&&st(le,xe[je],xe[je+1],xe[je+2])}}function ye(xe,le,fe,ve,Me,je,Ke){let at=Ze(xe);const qe=Me===0?Xe:Qe;let gt,dt,Je=xe.start;for(let wn=0;wn<xe.length-3;wn+=3){const yt=xe[wn],Gt=xe[wn+1],nn=xe[wn+2],kn=xe[wn+3],qn=xe[wn+4],mn=Me===0?yt:Gt,Jt=Me===0?kn:qn;let Ir=!1;Ke&&(gt=Math.sqrt(Math.pow(yt-kn,2)+Math.pow(Gt-qn,2))),mn<fe?Jt>fe&&(dt=qe(at,yt,Gt,kn,qn,fe),Ke&&(at.start=Je+gt*dt)):mn>ve?Jt<ve&&(dt=qe(at,yt,Gt,kn,qn,ve),Ke&&(at.start=Je+gt*dt)):st(at,yt,Gt,nn),Jt<fe&&mn>=fe&&(dt=qe(at,yt,Gt,kn,qn,fe),Ir=!0),Jt>ve&&mn<=ve&&(dt=qe(at,yt,Gt,kn,qn,ve),Ir=!0),!je&&Ir&&(Ke&&(at.end=Je+gt*dt),le.push(at),at=Ze(xe)),Ke&&(Je+=gt)}let Ge=xe.length-3;const Nt=xe[Ge],Vt=xe[Ge+1],dn=Me===0?Nt:Vt;dn>=fe&&dn<=ve&&st(at,Nt,Vt,xe[Ge+2]),Ge=at.length-3,je&&Ge>=3&&(at[Ge]!==at[0]||at[Ge+1]!==at[1])&&st(at,at[0],at[1],at[2]),at.length&&le.push(at)}function Ze(xe){const le=[];return le.size=xe.size,le.start=xe.start,le.end=xe.end,le}function ht(xe,le,fe,ve,Me,je){for(const Ke of xe)ye(Ke,le,fe,ve,Me,je,!1)}function st(xe,le,fe,ve){xe.push(le,fe,ve)}function Xe(xe,le,fe,ve,Me,je){const Ke=(je-le)/(ve-le);return st(xe,je,fe+(Me-fe)*Ke,1),Ke}function Qe(xe,le,fe,ve,Me,je){const Ke=(je-fe)/(Me-fe);return st(xe,le+(ve-le)*Ke,je,1),Ke}function lt(xe,le){const fe=[];for(let ve=0;ve<xe.length;ve++){const Me=xe[ve],je=Me.type;let Ke;if(je==="Point"||je==="MultiPoint"||je==="LineString")Ke=St(Me.geometry,le);else if(je==="MultiLineString"||je==="Polygon"){Ke=[];for(const at of Me.geometry)Ke.push(St(at,le))}else if(je==="MultiPolygon"){Ke=[];for(const at of Me.geometry){const qe=[];for(const gt of at)qe.push(St(gt,le));Ke.push(qe)}}fe.push(Bt(Me.id,je,Ke,Me.tags))}return fe}function St(xe,le){const fe=[];fe.size=xe.size,xe.start!==void 0&&(fe.start=xe.start,fe.end=xe.end);for(let ve=0;ve<xe.length;ve+=3)fe.push(xe[ve]+le,xe[ve+1],xe[ve+2]);return fe}function Tt(xe,le){if(xe.transformed)return xe;const fe=1<<xe.z,ve=xe.x,Me=xe.y;for(const je of xe.features){const Ke=je.geometry,at=je.type;if(je.geometry=[],at===1)for(let qe=0;qe<Ke.length;qe+=2)je.geometry.push(Wt(Ke[qe],Ke[qe+1],le,fe,ve,Me));else for(let qe=0;qe<Ke.length;qe++){const gt=[];for(let dt=0;dt<Ke[qe].length;dt+=2)gt.push(Wt(Ke[qe][dt],Ke[qe][dt+1],le,fe,ve,Me));je.geometry.push(gt)}}return xe.transformed=!0,xe}function Wt(xe,le,fe,ve,Me,je){return[Math.round(fe*(xe*ve-Me)),Math.round(fe*(le*ve-je))]}function Ft(xe,le,fe,ve,Me){const je=le===Me.maxZoom?0:Me.tolerance/((1<<le)*Me.extent),Ke={features:[],numPoints:0,numSimplified:0,numFeatures:xe.length,source:null,x:fe,y:ve,z:le,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const at of xe)Qt(Ke,at,je,Me);return Ke}function Qt(xe,le,fe,ve){const Me=le.geometry,je=le.type,Ke=[];if(xe.minX=Math.min(xe.minX,le.minX),xe.minY=Math.min(xe.minY,le.minY),xe.maxX=Math.max(xe.maxX,le.maxX),xe.maxY=Math.max(xe.maxY,le.maxY),je==="Point"||je==="MultiPoint")for(let at=0;at<Me.length;at+=3)Ke.push(Me[at],Me[at+1]),xe.numPoints++,xe.numSimplified++;else if(je==="LineString")sn(Ke,Me,xe,fe,!1,!1);else if(je==="MultiLineString"||je==="Polygon")for(let at=0;at<Me.length;at++)sn(Ke,Me[at],xe,fe,je==="Polygon",at===0);else if(je==="MultiPolygon")for(let at=0;at<Me.length;at++){const qe=Me[at];for(let gt=0;gt<qe.length;gt++)sn(Ke,qe[gt],xe,fe,!0,gt===0)}if(Ke.length){let at=le.tags||null;if(je==="LineString"&&ve.lineMetrics){at={};for(const gt in le.tags)at[gt]=le.tags[gt];at.mapbox_clip_start=Me.start/Me.size,at.mapbox_clip_end=Me.end/Me.size}const qe={geometry:Ke,type:je==="Polygon"||je==="MultiPolygon"?3:je==="LineString"||je==="MultiLineString"?2:1,tags:at};le.id!==null&&(qe.id=le.id),xe.features.push(qe)}}function sn(xe,le,fe,ve,Me,je){const Ke=ve*ve;if(ve>0&&le.size<(Me?Ke:ve))return void(fe.numPoints+=le.length/3);const at=[];for(let qe=0;qe<le.length;qe+=3)(ve===0||le[qe+2]>Ke)&&(fe.numSimplified++,at.push(le[qe],le[qe+1])),fe.numPoints++;Me&&function(qe,gt){let dt=0;for(let Je=0,Ge=qe.length,Nt=Ge-2;Je<Ge;Nt=Je,Je+=2)dt+=(qe[Je]-qe[Nt])*(qe[Je+1]+qe[Nt+1]);if(dt>0===gt)for(let Je=0,Ge=qe.length;Je<Ge/2;Je+=2){const Nt=qe[Je],Vt=qe[Je+1];qe[Je]=qe[Ge-2-Je],qe[Je+1]=qe[Ge-1-Je],qe[Ge-2-Je]=Nt,qe[Ge-1-Je]=Vt}}(at,je),xe.push(at)}const xn={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class En{constructor(le,fe){const ve=(fe=this.options=function(je,Ke){for(const at in Ke)je[at]=Ke[at];return je}(Object.create(xn),fe)).debug;if(ve&&console.time("preprocess data"),fe.maxZoom<0||fe.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(fe.promoteId&&fe.generateId)throw new Error("promoteId and generateId cannot be used together.");let Me=function(je,Ke){const at=[];if(je.type==="FeatureCollection")for(let qe=0;qe<je.features.length;qe++)Yt(at,je.features[qe],Ke,qe);else Yt(at,je.type==="Feature"?je:{geometry:je},Ke);return at}(le,fe);this.tiles={},this.tileCoords=[],ve&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",fe.indexMaxZoom,fe.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Me=function(je,Ke){const at=Ke.buffer/Ke.extent;let qe=je;const gt=Ye(je,1,-1-at,at,0,-1,2,Ke),dt=Ye(je,1,1-at,2+at,0,-1,2,Ke);return(gt||dt)&&(qe=Ye(je,1,-at,1+at,0,-1,2,Ke)||[],gt&&(qe=lt(gt,1).concat(qe)),dt&&(qe=qe.concat(lt(dt,-1)))),qe}(Me,fe),Me.length&&this.splitTile(Me,0,0,0),ve&&(Me.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(le,fe,ve,Me,je,Ke,at){const qe=[le,fe,ve,Me],gt=this.options,dt=gt.debug;for(;qe.length;){Me=qe.pop(),ve=qe.pop(),fe=qe.pop(),le=qe.pop();const Je=1<<fe,Ge=bn(fe,ve,Me);let Nt=this.tiles[Ge];if(!Nt&&(dt>1&&console.time("creation"),Nt=this.tiles[Ge]=Ft(le,fe,ve,Me,gt),this.tileCoords.push({z:fe,x:ve,y:Me}),dt)){dt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",fe,ve,Me,Nt.numFeatures,Nt.numPoints,Nt.numSimplified),console.timeEnd("creation"));const Ir=`z${fe}`;this.stats[Ir]=(this.stats[Ir]||0)+1,this.total++}if(Nt.source=le,je==null){if(fe===gt.indexMaxZoom||Nt.numPoints<=gt.indexMaxPoints)continue}else{if(fe===gt.maxZoom||fe===je)continue;if(je!=null){const Ir=je-fe;if(ve!==Ke>>Ir||Me!==at>>Ir)continue}}if(Nt.source=null,le.length===0)continue;dt>1&&console.time("clipping");const Vt=.5*gt.buffer/gt.extent,dn=.5-Vt,wn=.5+Vt,yt=1+Vt;let Gt=null,nn=null,kn=null,qn=null,mn=Ye(le,Je,ve-Vt,ve+wn,0,Nt.minX,Nt.maxX,gt),Jt=Ye(le,Je,ve+dn,ve+yt,0,Nt.minX,Nt.maxX,gt);le=null,mn&&(Gt=Ye(mn,Je,Me-Vt,Me+wn,1,Nt.minY,Nt.maxY,gt),nn=Ye(mn,Je,Me+dn,Me+yt,1,Nt.minY,Nt.maxY,gt),mn=null),Jt&&(kn=Ye(Jt,Je,Me-Vt,Me+wn,1,Nt.minY,Nt.maxY,gt),qn=Ye(Jt,Je,Me+dn,Me+yt,1,Nt.minY,Nt.maxY,gt),Jt=null),dt>1&&console.timeEnd("clipping"),qe.push(Gt||[],fe+1,2*ve,2*Me),qe.push(nn||[],fe+1,2*ve,2*Me+1),qe.push(kn||[],fe+1,2*ve+1,2*Me),qe.push(qn||[],fe+1,2*ve+1,2*Me+1)}}getTile(le,fe,ve){le=+le,fe=+fe,ve=+ve;const Me=this.options,{extent:je,debug:Ke}=Me;if(le<0||le>24)return null;const at=1<<le,qe=bn(le,fe=fe+at&at-1,ve);if(this.tiles[qe])return Tt(this.tiles[qe],je);Ke>1&&console.log("drilling down to z%d-%d-%d",le,fe,ve);let gt,dt=le,Je=fe,Ge=ve;for(;!gt&&dt>0;)dt--,Je>>=1,Ge>>=1,gt=this.tiles[bn(dt,Je,Ge)];return gt&&gt.source?(Ke>1&&(console.log("found parent tile z%d-%d-%d",dt,Je,Ge),console.time("drilling down")),this.splitTile(gt.source,dt,Je,Ge,le,fe,ve),Ke>1&&console.timeEnd("drilling down"),this.tiles[qe]?Tt(this.tiles[qe],je):null):null}}function bn(xe,le,fe){return 32*((1<<xe)*fe+le)+xe}function Xn(xe,le){return le?xe.properties[le]:xe.id}function tr(xe,le){if(xe==null)return!0;if(xe.type==="Feature")return Xn(xe,le)!=null;if(xe.type==="FeatureCollection"){const fe=new Set;for(const ve of xe.features){const Me=Xn(ve,le);if(Me==null||fe.has(Me))return!1;fe.add(Me)}return!0}return!1}function Zr(xe,le){const fe=new Map;if(xe!=null)if(xe.type==="Feature")fe.set(Xn(xe,le),xe);else for(const ve of xe.features)fe.set(Xn(ve,le),ve);return fe}class Vr extends g{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(le,fe){return s._(this,void 0,void 0,function*(){const ve=le.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const Me=this._geoJSONIndex.getTile(ve.z,ve.x,ve.y);if(!Me)return null;const je=new R(Me.features);let Ke=X(je);return Ke.byteOffset===0&&Ke.byteLength===Ke.buffer.byteLength||(Ke=new Uint8Array(Ke)),{vectorTile:je,rawData:Ke.buffer}})}loadData(le){return s._(this,void 0,void 0,function*(){var fe;(fe=this._pendingRequest)===null||fe===void 0||fe.abort();const ve=!!(le&&le.request&&le.request.collectResourceTiming)&&new s.cu(le.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(le,this._pendingRequest),this._geoJSONIndex=le.cluster?new ue(function({superclusterOptions:Ke,clusterProperties:at}){if(!at||!Ke)return Ke;const qe={},gt={},dt={accumulated:null,zoom:0},Je={properties:null},Ge=Object.keys(at);for(const Nt of Ge){const[Vt,dn]=at[Nt],wn=s.cB(dn),yt=s.cB(typeof Vt=="string"?[Vt,["accumulated"],["get",Nt]]:Vt);qe[Nt]=wn.value,gt[Nt]=yt.value}return Ke.map=Nt=>{Je.properties=Nt;const Vt={};for(const dn of Ge)Vt[dn]=qe[dn].evaluate(dt,Je);return Vt},Ke.reduce=(Nt,Vt)=>{Je.properties=Vt;for(const dn of Ge)dt.accumulated=Nt[dn],Nt[dn]=gt[dn].evaluate(dt,Je)},Ke}(le)).load((yield this._pendingData).features):(Me=yield this._pendingData,new En(Me,le.geojsonVtOptions)),this.loaded={};const je={};if(ve){const Ke=ve.finish();Ke&&(je.resourceTiming={},je.resourceTiming[le.source]=JSON.parse(JSON.stringify(Ke)))}return je}catch(je){if(delete this._pendingRequest,s.cf(je))return{abandoned:!0};throw je}var Me})}getData(){return s._(this,void 0,void 0,function*(){return this._pendingData})}reloadTile(le){const fe=this.loaded;return fe&&fe[le.uid]?super.reloadTile(le):this.loadTile(le)}loadAndProcessGeoJSON(le,fe){return s._(this,void 0,void 0,function*(){let ve=yield this.loadGeoJSON(le,fe);if(delete this._pendingRequest,typeof ve!="object")throw new Error(`Input data given to '${le.source}' is not a valid GeoJSON object.`);if(I(ve,!0),le.filter){const Me=s.cB(le.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Me.result==="error")throw new Error(Me.value.map(Ke=>`${Ke.key}: ${Ke.message}`).join(", "));ve={type:"FeatureCollection",features:ve.features.filter(Ke=>Me.value.evaluate({zoom:0},Ke))}}return ve})}loadGeoJSON(le,fe){return s._(this,void 0,void 0,function*(){const{promoteId:ve}=le;if(le.request){const Me=yield s.h(le.request,fe);return this._dataUpdateable=tr(Me.data,ve)?Zr(Me.data,ve):void 0,Me.data}if(typeof le.data=="string")try{const Me=JSON.parse(le.data);return this._dataUpdateable=tr(Me,ve)?Zr(Me,ve):void 0,Me}catch{throw new Error(`Input data given to '${le.source}' is not a valid GeoJSON object.`)}if(!le.dataDiff)throw new Error(`Input data given to '${le.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${le.source}`);return function(Me,je,Ke){var at,qe,gt,dt;if(je.removeAll&&Me.clear(),je.remove)for(const Je of je.remove)Me.delete(Je);if(je.add)for(const Je of je.add){const Ge=Xn(Je,Ke);Ge!=null&&Me.set(Ge,Je)}if(je.update)for(const Je of je.update){let Ge=Me.get(Je.id);if(Ge==null)continue;const Nt=!Je.removeAllProperties&&(((at=Je.removeProperties)===null||at===void 0?void 0:at.length)>0||((qe=Je.addOrUpdateProperties)===null||qe===void 0?void 0:qe.length)>0);if((Je.newGeometry||Je.removeAllProperties||Nt)&&(Ge=Object.assign({},Ge),Me.set(Je.id,Ge),Nt&&(Ge.properties=Object.assign({},Ge.properties))),Je.newGeometry&&(Ge.geometry=Je.newGeometry),Je.removeAllProperties)Ge.properties={};else if(((gt=Je.removeProperties)===null||gt===void 0?void 0:gt.length)>0)for(const Vt of Je.removeProperties)Object.prototype.hasOwnProperty.call(Ge.properties,Vt)&&delete Ge.properties[Vt];if(((dt=Je.addOrUpdateProperties)===null||dt===void 0?void 0:dt.length)>0)for(const{key:Vt,value:dn}of Je.addOrUpdateProperties)Ge.properties[Vt]=dn}}(this._dataUpdateable,le.dataDiff,ve),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource(le){return s._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(le){return this._geoJSONIndex.getClusterExpansionZoom(le.clusterId)}getClusterChildren(le){return this._geoJSONIndex.getChildren(le.clusterId)}getClusterLeaves(le){return this._geoJSONIndex.getLeaves(le.clusterId,le.limit,le.offset)}}class Pi{constructor(le){this.self=le,this.actor=new s.F(le),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(fe,ve)=>{if(this.externalWorkerSourceTypes[fe])throw new Error(`Worker source with name "${fe}" already registered.`);this.externalWorkerSourceTypes[fe]=ve},this.self.addProtocol=s.ch,this.self.removeProtocol=s.ci,this.self.registerRTLTextPlugin=fe=>{s.cC.setMethods(fe)},this.actor.registerMessageHandler("LDT",(fe,ve)=>this._getDEMWorkerSource(fe,ve.source).loadTile(ve)),this.actor.registerMessageHandler("RDT",(fe,ve)=>s._(this,void 0,void 0,function*(){this._getDEMWorkerSource(fe,ve.source).removeTile(ve)})),this.actor.registerMessageHandler("GCEZ",(fe,ve)=>s._(this,void 0,void 0,function*(){return this._getWorkerSource(fe,ve.type,ve.source).getClusterExpansionZoom(ve)})),this.actor.registerMessageHandler("GCC",(fe,ve)=>s._(this,void 0,void 0,function*(){return this._getWorkerSource(fe,ve.type,ve.source).getClusterChildren(ve)})),this.actor.registerMessageHandler("GCL",(fe,ve)=>s._(this,void 0,void 0,function*(){return this._getWorkerSource(fe,ve.type,ve.source).getClusterLeaves(ve)})),this.actor.registerMessageHandler("LD",(fe,ve)=>this._getWorkerSource(fe,ve.type,ve.source).loadData(ve)),this.actor.registerMessageHandler("GD",(fe,ve)=>this._getWorkerSource(fe,ve.type,ve.source).getData()),this.actor.registerMessageHandler("LT",(fe,ve)=>this._getWorkerSource(fe,ve.type,ve.source).loadTile(ve)),this.actor.registerMessageHandler("RT",(fe,ve)=>this._getWorkerSource(fe,ve.type,ve.source).reloadTile(ve)),this.actor.registerMessageHandler("AT",(fe,ve)=>this._getWorkerSource(fe,ve.type,ve.source).abortTile(ve)),this.actor.registerMessageHandler("RMT",(fe,ve)=>this._getWorkerSource(fe,ve.type,ve.source).removeTile(ve)),this.actor.registerMessageHandler("RS",(fe,ve)=>s._(this,void 0,void 0,function*(){if(!this.workerSources[fe]||!this.workerSources[fe][ve.type]||!this.workerSources[fe][ve.type][ve.source])return;const Me=this.workerSources[fe][ve.type][ve.source];delete this.workerSources[fe][ve.type][ve.source],Me.removeSource!==void 0&&Me.removeSource(ve)})),this.actor.registerMessageHandler("RM",fe=>s._(this,void 0,void 0,function*(){delete this.layerIndexes[fe],delete this.availableImages[fe],delete this.workerSources[fe],delete this.demWorkerSources[fe]})),this.actor.registerMessageHandler("SR",(fe,ve)=>s._(this,void 0,void 0,function*(){this.referrer=ve})),this.actor.registerMessageHandler("SRPS",(fe,ve)=>this._syncRTLPluginState(fe,ve)),this.actor.registerMessageHandler("IS",(fe,ve)=>s._(this,void 0,void 0,function*(){this.self.importScripts(ve)})),this.actor.registerMessageHandler("SI",(fe,ve)=>this._setImages(fe,ve)),this.actor.registerMessageHandler("UL",(fe,ve)=>s._(this,void 0,void 0,function*(){this._getLayerIndex(fe).update(ve.layers,ve.removedIds)})),this.actor.registerMessageHandler("SL",(fe,ve)=>s._(this,void 0,void 0,function*(){this._getLayerIndex(fe).replace(ve)}))}_setImages(le,fe){return s._(this,void 0,void 0,function*(){this.availableImages[le]=fe;for(const ve in this.workerSources[le]){const Me=this.workerSources[le][ve];for(const je in Me)Me[je].availableImages=fe}})}_syncRTLPluginState(le,fe){return s._(this,void 0,void 0,function*(){return yield s.cC.syncState(fe,this.self.importScripts)})}_getAvailableImages(le){let fe=this.availableImages[le];return fe||(fe=[]),fe}_getLayerIndex(le){let fe=this.layerIndexes[le];return fe||(fe=this.layerIndexes[le]=new a),fe}_getWorkerSource(le,fe,ve){if(this.workerSources[le]||(this.workerSources[le]={}),this.workerSources[le][fe]||(this.workerSources[le][fe]={}),!this.workerSources[le][fe][ve]){const Me={sendAsync:(je,Ke)=>(je.targetMapId=le,this.actor.sendAsync(je,Ke))};switch(fe){case"vector":this.workerSources[le][fe][ve]=new g(Me,this._getLayerIndex(le),this._getAvailableImages(le));break;case"geojson":this.workerSources[le][fe][ve]=new Vr(Me,this._getLayerIndex(le),this._getAvailableImages(le));break;default:this.workerSources[le][fe][ve]=new this.externalWorkerSourceTypes[fe](Me,this._getLayerIndex(le),this._getAvailableImages(le))}}return this.workerSources[le][fe][ve]}_getDEMWorkerSource(le,fe){return this.demWorkerSources[le]||(this.demWorkerSources[le]={}),this.demWorkerSources[le][fe]||(this.demWorkerSources[le][fe]=new y),this.demWorkerSources[le][fe]}}return s.i(self)&&(self.worker=new Pi(self)),Pi}),i("index",["exports","./shared"],function(s,a){var c="5.0.1";function h(){var T=new a.A(4);return a.A!=Float32Array&&(T[1]=0,T[2]=0),T[0]=1,T[3]=1,T}let d,g;const y={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frameAsync:T=>new Promise((l,f)=>{const b=requestAnimationFrame(l);T.signal.addEventListener("abort",()=>{cancelAnimationFrame(b),f(a.c())})}),getImageData(T,l=0){return this.getImageCanvasContext(T).getImageData(-l,-l,T.width+2*l,T.height+2*l)},getImageCanvasContext(T){const l=window.document.createElement("canvas"),f=l.getContext("2d",{willReadFrequently:!0});if(!f)throw new Error("failed to create canvas 2d context");return l.width=T.width,l.height=T.height,f.drawImage(T,0,0,T.width,T.height),f},resolveURL:T=>(d||(d=document.createElement("a")),d.href=T,d.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(g==null&&(g=matchMedia("(prefers-reduced-motion: reduce)")),g.matches)}};class v{static testProp(l){if(!v.docStyle)return l[0];for(let f=0;f<l.length;f++)if(l[f]in v.docStyle)return l[f];return l[0]}static create(l,f,b){const w=window.document.createElement(l);return f!==void 0&&(w.className=f),b&&b.appendChild(w),w}static createNS(l,f){return window.document.createElementNS(l,f)}static disableDrag(){v.docStyle&&v.selectProp&&(v.userSelect=v.docStyle[v.selectProp],v.docStyle[v.selectProp]="none")}static enableDrag(){v.docStyle&&v.selectProp&&(v.docStyle[v.selectProp]=v.userSelect)}static setTransform(l,f){l.style[v.transformProp]=f}static addEventListener(l,f,b,w={}){l.addEventListener(f,b,"passive"in w?w:w.capture)}static removeEventListener(l,f,b,w={}){l.removeEventListener(f,b,"passive"in w?w:w.capture)}static suppressClickInternal(l){l.preventDefault(),l.stopPropagation(),window.removeEventListener("click",v.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",v.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",v.suppressClickInternal,!0)},0)}static getScale(l){const f=l.getBoundingClientRect();return{x:f.width/l.offsetWidth||1,y:f.height/l.offsetHeight||1,boundingClientRect:f}}static getPoint(l,f,b){const w=f.boundingClientRect;return new a.P((b.clientX-w.left)/f.x-l.clientLeft,(b.clientY-w.top)/f.y-l.clientTop)}static mousePos(l,f){const b=v.getScale(l);return v.getPoint(l,b,f)}static touchPos(l,f){const b=[],w=v.getScale(l);for(let P=0;P<f.length;P++)b.push(v.getPoint(l,w,f[P]));return b}static mouseButton(l){return l.button}static remove(l){l.parentNode&&l.parentNode.removeChild(l)}static sanitize(l){const f=new DOMParser().parseFromString(l,"text/html").body||document.createElement("body"),b=f.querySelectorAll("script");for(const w of b)w.remove();return v.clean(f),f.innerHTML}static isPossiblyDangerous(l,f){const b=f.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href"].includes(l)||!b.includes("javascript:")&&!b.includes("data:"))||!!l.startsWith("on")||void 0}static clean(l){const f=l.children;for(const b of f)v.removeAttributes(b),v.clean(b)}static removeAttributes(l){for(const{name:f,value:b}of l.attributes)v.isPossiblyDangerous(f,b)&&l.removeAttribute(f)}}v.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,v.selectProp=v.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),v.transformProp=v.testProp(["transform","WebkitTransform"]);const x={supported:!1,testSupport:function(T){!A&&I&&(k?R(T):C=T)}};let C,I,A=!1,k=!1;function R(T){const l=T.createTexture();T.bindTexture(T.TEXTURE_2D,l);try{if(T.texImage2D(T.TEXTURE_2D,0,T.RGBA,T.RGBA,T.UNSIGNED_BYTE,I),T.isContextLost())return;x.supported=!0}catch{}T.deleteTexture(l),A=!0}var z;typeof document<"u"&&(I=document.createElement("img"),I.onload=()=>{C&&R(C),C=null,k=!0},I.onerror=()=>{A=!0,C=null},I.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(T){let l,f,b,w;T.resetRequestQueue=()=>{l=[],f=0,b=0,w={}},T.addThrottleControl=F=>{const H=b++;return w[H]=F,H},T.removeThrottleControl=F=>{delete w[F],D()},T.getImage=(F,H,q=!0)=>new Promise((Y,J)=>{x.supported&&(F.headers||(F.headers={}),F.headers.accept="image/webp,*/*"),a.e(F,{type:"image"}),l.push({abortController:H,requestParameters:F,supportImageRefresh:q,state:"queued",onError:ce=>{J(ce)},onSuccess:ce=>{Y(ce)}}),D()});const P=F=>a._(this,void 0,void 0,function*(){F.state="running";const{requestParameters:H,supportImageRefresh:q,onError:Y,onSuccess:J,abortController:ce}=F,de=q===!1&&!a.i(self)&&!a.g(H.url)&&(!H.headers||Object.keys(H.headers).reduce((Pe,Ie)=>Pe&&Ie==="accept",!0));f++;const Ce=de?$(H,ce):a.m(H,ce);try{const Pe=yield Ce;delete F.abortController,F.state="completed",Pe.data instanceof HTMLImageElement||a.b(Pe.data)?J(Pe):Pe.data&&J({data:yield(Se=Pe.data,typeof createImageBitmap=="function"?a.d(Se):a.f(Se)),cacheControl:Pe.cacheControl,expires:Pe.expires})}catch(Pe){delete F.abortController,Y(Pe)}finally{f--,D()}var Se}),D=()=>{const F=(()=>{for(const H of Object.keys(w))if(w[H]())return!0;return!1})()?a.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:a.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let H=f;H<F&&l.length>0;H++){const q=l.shift();q.abortController.signal.aborted?H--:P(q)}},$=(F,H)=>new Promise((q,Y)=>{const J=new Image,ce=F.url,de=F.credentials;de&&de==="include"?J.crossOrigin="use-credentials":(de&&de==="same-origin"||!a.s(ce))&&(J.crossOrigin="anonymous"),H.signal.addEventListener("abort",()=>{J.src="",Y(a.c())}),J.fetchPriority="high",J.onload=()=>{J.onerror=J.onload=null,q({data:J})},J.onerror=()=>{J.onerror=J.onload=null,H.signal.aborted||Y(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},J.src=ce})}(z||(z={})),z.resetRequestQueue();class V{constructor(l){this._transformRequestFn=l}transformRequest(l,f){return this._transformRequestFn&&this._transformRequestFn(l,f)||{url:l}}setTransformRequest(l){this._transformRequestFn=l}}function U(T){const l=[];if(typeof T=="string")l.push({id:"default",url:T});else if(T&&T.length>0){const f=[];for(const{id:b,url:w}of T){const P=`${b}${w}`;f.indexOf(P)===-1&&(f.push(P),l.push({id:b,url:w}))}}return l}function N(T,l,f){try{const b=new URL(T);return b.pathname+=`${l}${f}`,b.toString()}catch{throw new Error(`Invalid sprite URL "${T}", must be absolute. Modify style specification directly or use TransformStyleFunction to correct the issue dynamically`)}}class W{constructor(l,f,b,w){this.context=l,this.format=b,this.texture=l.gl.createTexture(),this.update(f,w)}update(l,f,b){const{width:w,height:P}=l,D=!(this.size&&this.size[0]===w&&this.size[1]===P||b),{context:$}=this,{gl:F}=$;if(this.useMipmap=!!(f&&f.useMipmap),F.bindTexture(F.TEXTURE_2D,this.texture),$.pixelStoreUnpackFlipY.set(!1),$.pixelStoreUnpack.set(1),$.pixelStoreUnpackPremultiplyAlpha.set(this.format===F.RGBA&&(!f||f.premultiply!==!1)),D)this.size=[w,P],l instanceof HTMLImageElement||l instanceof HTMLCanvasElement||l instanceof HTMLVideoElement||l instanceof ImageData||a.b(l)?F.texImage2D(F.TEXTURE_2D,0,this.format,this.format,F.UNSIGNED_BYTE,l):F.texImage2D(F.TEXTURE_2D,0,this.format,w,P,0,this.format,F.UNSIGNED_BYTE,l.data);else{const{x:H,y:q}=b||{x:0,y:0};l instanceof HTMLImageElement||l instanceof HTMLCanvasElement||l instanceof HTMLVideoElement||l instanceof ImageData||a.b(l)?F.texSubImage2D(F.TEXTURE_2D,0,H,q,F.RGBA,F.UNSIGNED_BYTE,l):F.texSubImage2D(F.TEXTURE_2D,0,H,q,w,P,F.RGBA,F.UNSIGNED_BYTE,l.data)}this.useMipmap&&this.isSizePowerOfTwo()&&F.generateMipmap(F.TEXTURE_2D)}bind(l,f,b){const{context:w}=this,{gl:P}=w;P.bindTexture(P.TEXTURE_2D,this.texture),b!==P.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(b=P.LINEAR),l!==this.filter&&(P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MAG_FILTER,l),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MIN_FILTER,b||l),this.filter=l),f!==this.wrap&&(P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_S,f),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_T,f),this.wrap=f)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:l}=this.context;l.deleteTexture(this.texture),this.texture=null}}function X(T){const{userImage:l}=T;return!!(l&&l.render&&l.render())&&(T.data.replace(new Uint8Array(l.data.buffer)),!0)}class K extends a.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(l){if(this.loaded!==l&&(this.loaded=l,l)){for(const{ids:f,promiseResolve:b}of this.requestors)b(this._getImagesForIds(f));this.requestors=[]}}getImage(l){const f=this.images[l];if(f&&!f.data&&f.spriteData){const b=f.spriteData;f.data=new a.R({width:b.width,height:b.height},b.context.getImageData(b.x,b.y,b.width,b.height).data),f.spriteData=null}return f}addImage(l,f){if(this.images[l])throw new Error(`Image id ${l} already exist, use updateImage instead`);this._validate(l,f)&&(this.images[l]=f)}_validate(l,f){let b=!0;const w=f.data||f.spriteData;return this._validateStretch(f.stretchX,w&&w.width)||(this.fire(new a.j(new Error(`Image "${l}" has invalid "stretchX" value`))),b=!1),this._validateStretch(f.stretchY,w&&w.height)||(this.fire(new a.j(new Error(`Image "${l}" has invalid "stretchY" value`))),b=!1),this._validateContent(f.content,f)||(this.fire(new a.j(new Error(`Image "${l}" has invalid "content" value`))),b=!1),b}_validateStretch(l,f){if(!l)return!0;let b=0;for(const w of l){if(w[0]<b||w[1]<w[0]||f<w[1])return!1;b=w[1]}return!0}_validateContent(l,f){if(!l)return!0;if(l.length!==4)return!1;const b=f.spriteData,w=b&&b.width||f.data.width,P=b&&b.height||f.data.height;return!(l[0]<0||w<l[0]||l[1]<0||P<l[1]||l[2]<0||w<l[2]||l[3]<0||P<l[3]||l[2]<l[0]||l[3]<l[1])}updateImage(l,f,b=!0){const w=this.getImage(l);if(b&&(w.data.width!==f.data.width||w.data.height!==f.data.height))throw new Error(`size mismatch between old image (${w.data.width}x${w.data.height}) and new image (${f.data.width}x${f.data.height}).`);f.version=w.version+1,this.images[l]=f,this.updatedImages[l]=!0}removeImage(l){const f=this.images[l];delete this.images[l],delete this.patterns[l],f.userImage&&f.userImage.onRemove&&f.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(l){return new Promise((f,b)=>{let w=!0;if(!this.isLoaded())for(const P of l)this.images[P]||(w=!1);this.isLoaded()||w?f(this._getImagesForIds(l)):this.requestors.push({ids:l,promiseResolve:f})})}_getImagesForIds(l){const f={};for(const b of l){let w=this.getImage(b);w||(this.fire(new a.k("styleimagemissing",{id:b})),w=this.getImage(b)),w?f[b]={data:w.data.clone(),pixelRatio:w.pixelRatio,sdf:w.sdf,version:w.version,stretchX:w.stretchX,stretchY:w.stretchY,content:w.content,textFitWidth:w.textFitWidth,textFitHeight:w.textFitHeight,hasRenderCallback:!!(w.userImage&&w.userImage.render)}:a.w(`Image "${b}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return f}getPixelSize(){const{width:l,height:f}=this.atlasImage;return{width:l,height:f}}getPattern(l){const f=this.patterns[l],b=this.getImage(l);if(!b)return null;if(f&&f.position.version===b.version)return f.position;if(f)f.position.version=b.version;else{const w={w:b.data.width+2,h:b.data.height+2,x:0,y:0},P=new a.I(w,b);this.patterns[l]={bin:w,position:P}}return this._updatePatternAtlas(),this.patterns[l].position}bind(l){const f=l.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new W(l,this.atlasImage,f.RGBA),this.atlasTexture.bind(f.LINEAR,f.CLAMP_TO_EDGE)}_updatePatternAtlas(){const l=[];for(const P in this.patterns)l.push(this.patterns[P].bin);const{w:f,h:b}=a.p(l),w=this.atlasImage;w.resize({width:f||1,height:b||1});for(const P in this.patterns){const{bin:D}=this.patterns[P],$=D.x+1,F=D.y+1,H=this.getImage(P).data,q=H.width,Y=H.height;a.R.copy(H,w,{x:0,y:0},{x:$,y:F},{width:q,height:Y}),a.R.copy(H,w,{x:0,y:Y-1},{x:$,y:F-1},{width:q,height:1}),a.R.copy(H,w,{x:0,y:0},{x:$,y:F+Y},{width:q,height:1}),a.R.copy(H,w,{x:q-1,y:0},{x:$-1,y:F},{width:1,height:Y}),a.R.copy(H,w,{x:0,y:0},{x:$+q,y:F},{width:1,height:Y})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(l){for(const f of l){if(this.callbackDispatchedThisFrame[f])continue;this.callbackDispatchedThisFrame[f]=!0;const b=this.getImage(f);b||a.w(`Image with ID: "${f}" was not found`),X(b)&&this.updateImage(f,b)}}}const te=1e20;function ae(T,l,f,b,w,P,D,$,F){for(let H=l;H<l+b;H++)me(T,f*P+H,P,w,D,$,F);for(let H=f;H<f+w;H++)me(T,H*P+l,1,b,D,$,F)}function me(T,l,f,b,w,P,D){P[0]=0,D[0]=-1e20,D[1]=te,w[0]=T[l];for(let $=1,F=0,H=0;$<b;$++){w[$]=T[l+$*f];const q=$*$;do{const Y=P[F];H=(w[$]-w[Y]+q-Y*Y)/($-Y)/2}while(H<=D[F]&&--F>-1);F++,P[F]=$,D[F]=H,D[F+1]=te}for(let $=0,F=0;$<b;$++){for(;D[F+1]<$;)F++;const H=P[F],q=$-H;T[l+$*f]=w[H]+q*q}}class we{constructor(l,f){this.requestManager=l,this.localIdeographFontFamily=f,this.entries={}}setURL(l){this.url=l}getGlyphs(l){return a._(this,void 0,void 0,function*(){const f=[];for(const P in l)for(const D of l[P])f.push(this._getAndCacheGlyphsPromise(P,D));const b=yield Promise.all(f),w={};for(const{stack:P,id:D,glyph:$}of b)w[P]||(w[P]={}),w[P][D]=$&&{id:$.id,bitmap:$.bitmap.clone(),metrics:$.metrics};return w})}_getAndCacheGlyphsPromise(l,f){return a._(this,void 0,void 0,function*(){let b=this.entries[l];b||(b=this.entries[l]={glyphs:{},requests:{},ranges:{}});let w=b.glyphs[f];if(w!==void 0)return{stack:l,id:f,glyph:w};if(w=this._tinySDF(b,l,f),w)return b.glyphs[f]=w,{stack:l,id:f,glyph:w};const P=Math.floor(f/256);if(256*P>65535)throw new Error("glyphs > 65535 not supported");if(b.ranges[P])return{stack:l,id:f,glyph:w};if(!this.url)throw new Error("glyphsUrl is not set");if(!b.requests[P]){const $=we.loadGlyphRange(l,P,this.url,this.requestManager);b.requests[P]=$}const D=yield b.requests[P];for(const $ in D)this._doesCharSupportLocalGlyph(+$)||(b.glyphs[+$]=D[+$]);return b.ranges[P]=!0,{stack:l,id:f,glyph:D[f]||null}})}_doesCharSupportLocalGlyph(l){return!!this.localIdeographFontFamily&&new RegExp("\\p{Ideo}|\\p{sc=Hang}|\\p{sc=Hira}|\\p{sc=Kana}","u").test(String.fromCodePoint(l))}_tinySDF(l,f,b){const w=this.localIdeographFontFamily;if(!w||!this._doesCharSupportLocalGlyph(b))return;let P=l.tinySDF;if(!P){let $="400";/bold/i.test(f)?$="900":/medium/i.test(f)?$="500":/light/i.test(f)&&($="200"),P=l.tinySDF=new we.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:w,fontWeight:$})}const D=P.draw(String.fromCharCode(b));return{id:b,bitmap:new a.o({width:D.width||60,height:D.height||60},D.data),metrics:{width:D.glyphWidth/2||24,height:D.glyphHeight/2||24,left:D.glyphLeft/2+.5||0,top:D.glyphTop/2-27.5||-8,advance:D.glyphAdvance/2||24,isDoubleResolution:!0}}}}we.loadGlyphRange=function(T,l,f,b){return a._(this,void 0,void 0,function*(){const w=256*l,P=w+255,D=b.transformRequest(f.replace("{fontstack}",T).replace("{range}",`${w}-${P}`),"Glyphs"),$=yield a.l(D,new AbortController);if(!$||!$.data)throw new Error(`Could not load glyph range. range: ${l}, ${w}-${P}`);const F={};for(const H of a.n($.data))F[H.id]=H;return F})},we.TinySDF=class{constructor({fontSize:T=24,buffer:l=3,radius:f=8,cutoff:b=.25,fontFamily:w="sans-serif",fontWeight:P="normal",fontStyle:D="normal"}={}){this.buffer=l,this.cutoff=b,this.radius=f;const $=this.size=T+4*l,F=this._createCanvas($),H=this.ctx=F.getContext("2d",{willReadFrequently:!0});H.font=`${D} ${P} ${T}px ${w}`,H.textBaseline="alphabetic",H.textAlign="left",H.fillStyle="black",this.gridOuter=new Float64Array($*$),this.gridInner=new Float64Array($*$),this.f=new Float64Array($),this.z=new Float64Array($+1),this.v=new Uint16Array($)}_createCanvas(T){const l=document.createElement("canvas");return l.width=l.height=T,l}draw(T){const{width:l,actualBoundingBoxAscent:f,actualBoundingBoxDescent:b,actualBoundingBoxLeft:w,actualBoundingBoxRight:P}=this.ctx.measureText(T),D=Math.ceil(f),$=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(P-w))),F=Math.min(this.size-this.buffer,D+Math.ceil(b)),H=$+2*this.buffer,q=F+2*this.buffer,Y=Math.max(H*q,0),J=new Uint8ClampedArray(Y),ce={data:J,width:H,height:q,glyphWidth:$,glyphHeight:F,glyphTop:D,glyphLeft:0,glyphAdvance:l};if($===0||F===0)return ce;const{ctx:de,buffer:Ce,gridInner:Se,gridOuter:Pe}=this;de.clearRect(Ce,Ce,$,F),de.fillText(T,Ce,Ce+D);const Ie=de.getImageData(Ce,Ce,$,F);Pe.fill(te,0,Y),Se.fill(0,0,Y);for(let Oe=0;Oe<F;Oe++)for(let $e=0;$e<$;$e++){const Fe=Ie.data[4*(Oe*$+$e)+3]/255;if(Fe===0)continue;const We=(Oe+Ce)*H+$e+Ce;if(Fe===1)Pe[We]=0,Se[We]=te;else{const He=.5-Fe;Pe[We]=He>0?He*He:0,Se[We]=He<0?He*He:0}}ae(Pe,0,0,H,q,H,this.f,this.v,this.z),ae(Se,Ce,Ce,$,F,H,this.f,this.v,this.z);for(let Oe=0;Oe<Y;Oe++){const $e=Math.sqrt(Pe[Oe])-Math.sqrt(Se[Oe]);J[Oe]=Math.round(255-255*($e/this.radius+this.cutoff))}return ce}};class se{constructor(){this.specification=a.v.light.position}possiblyEvaluate(l,f){return a.x(l.expression.evaluate(f))}interpolate(l,f,b){return{x:a.y.number(l.x,f.x,b),y:a.y.number(l.y,f.y,b),z:a.y.number(l.z,f.z,b)}}}let ue;class Te extends a.E{constructor(l){super(),ue=ue||new a.q({anchor:new a.D(a.v.light.anchor),position:new se,color:new a.D(a.v.light.color),intensity:new a.D(a.v.light.intensity)}),this._transitionable=new a.T(ue),this.setLight(l),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(l,f={}){if(!this._validate(a.r,l,f))for(const b in l){const w=l[b];b.endsWith("-transition")?this._transitionable.setTransition(b.slice(0,-11),w):this._transitionable.setValue(b,w)}}updateTransitions(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(l){this.properties=this._transitioning.possiblyEvaluate(l)}_validate(l,f,b){return(!b||b.validate!==!1)&&a.t(this,l.call(a.u,{value:f,style:{glyphs:!0,sprite:!0},styleSpec:a.v}))}}const Be=new a.q({"sky-color":new a.D(a.v.sky["sky-color"]),"horizon-color":new a.D(a.v.sky["horizon-color"]),"fog-color":new a.D(a.v.sky["fog-color"]),"fog-ground-blend":new a.D(a.v.sky["fog-ground-blend"]),"horizon-fog-blend":new a.D(a.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new a.D(a.v.sky["sky-horizon-blend"]),"atmosphere-blend":new a.D(a.v.sky["atmosphere-blend"])});class ke extends a.E{constructor(l){super(),this._transitionable=new a.T(Be),this.setSky(l),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new a.z(0))}setSky(l,f={}){if(!this._validate(a.B,l,f)){l||(l={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(const b in l){const w=l[b];b.endsWith("-transition")?this._transitionable.setTransition(b.slice(0,-11),w):this._transitionable.setValue(b,w)}}}getSky(){return this._transitionable.serialize()}updateTransitions(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(l){this.properties=this._transitioning.possiblyEvaluate(l)}_validate(l,f,b={}){return(b==null?void 0:b.validate)!==!1&&a.t(this,l.call(a.u,a.e({value:f,style:{glyphs:!0,sprite:!0},styleSpec:a.v})))}calculateFogBlendOpacity(l){return l<60?0:l<70?(l-60)/10:1}}class rt{constructor(l,f){this.width=l,this.height=f,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(l,f){const b=l.join(",")+String(f);return this.dashEntry[b]||(this.dashEntry[b]=this.addDash(l,f)),this.dashEntry[b]}getDashRanges(l,f,b){const w=[];let P=l.length%2==1?-l[l.length-1]*b:0,D=l[0]*b,$=!0;w.push({left:P,right:D,isDash:$,zeroLength:l[0]===0});let F=l[0];for(let H=1;H<l.length;H++){$=!$;const q=l[H];P=F*b,F+=q,D=F*b,w.push({left:P,right:D,isDash:$,zeroLength:q===0})}return w}addRoundDash(l,f,b){const w=f/2;for(let P=-b;P<=b;P++){const D=this.width*(this.nextRow+b+P);let $=0,F=l[$];for(let H=0;H<this.width;H++){H/F.right>1&&(F=l[++$]);const q=Math.abs(H-F.left),Y=Math.abs(H-F.right),J=Math.min(q,Y);let ce;const de=P/b*(w+1);if(F.isDash){const Ce=w-Math.abs(de);ce=Math.sqrt(J*J+Ce*Ce)}else ce=w-Math.sqrt(J*J+de*de);this.data[D+H]=Math.max(0,Math.min(255,ce+128))}}}addRegularDash(l){for(let $=l.length-1;$>=0;--$){const F=l[$],H=l[$+1];F.zeroLength?l.splice($,1):H&&H.isDash===F.isDash&&(H.left=F.left,l.splice($,1))}const f=l[0],b=l[l.length-1];f.isDash===b.isDash&&(f.left=b.left-this.width,b.right=f.right+this.width);const w=this.width*this.nextRow;let P=0,D=l[P];for(let $=0;$<this.width;$++){$/D.right>1&&(D=l[++P]);const F=Math.abs($-D.left),H=Math.abs($-D.right),q=Math.min(F,H);this.data[w+$]=Math.max(0,Math.min(255,(D.isDash?q:-q)+128))}}addDash(l,f){const b=f?7:0,w=2*b+1;if(this.nextRow+w>this.height)return a.w("LineAtlas out of space"),null;let P=0;for(let $=0;$<l.length;$++)P+=l[$];if(P!==0){const $=this.width/P,F=this.getDashRanges(l,this.width,$);f?this.addRoundDash(F,$,b):this.addRegularDash(F)}const D={y:(this.nextRow+b+.5)/this.height,height:2*b/this.height,width:P};return this.nextRow+=w,this.dirty=!0,D}bind(l){const f=l.gl;this.texture?(f.bindTexture(f.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,f.texSubImage2D(f.TEXTURE_2D,0,0,0,this.width,this.height,f.ALPHA,f.UNSIGNED_BYTE,this.data))):(this.texture=f.createTexture(),f.bindTexture(f.TEXTURE_2D,this.texture),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.LINEAR),f.texImage2D(f.TEXTURE_2D,0,f.ALPHA,this.width,this.height,0,f.ALPHA,f.UNSIGNED_BYTE,this.data))}}const ot="maplibre_preloaded_worker_pool";class tt{constructor(){this.active={}}acquire(l){if(!this.workers)for(this.workers=[];this.workers.length<tt.workerCount;)this.workers.push(new Worker(a.a.WORKER_URL));return this.active[l]=!0,this.workers.slice()}release(l){delete this.active[l],this.numActive()===0&&(this.workers.forEach(f=>{f.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[ot]}numActive(){return Object.keys(this.active).length}}const It=Math.floor(y.hardwareConcurrency/2);let Bt,Lt;function Yt(){return Bt||(Bt=new tt),Bt}tt.workerCount=a.C(globalThis)?Math.max(Math.min(It,3),1):1;class ze{constructor(l,f){this.workerPool=l,this.actors=[],this.currentActor=0,this.id=f;const b=this.workerPool.acquire(f);for(let w=0;w<b.length;w++){const P=new a.F(b[w],f);P.name=`Worker ${w}`,this.actors.push(P)}if(!this.actors.length)throw new Error("No actors found")}broadcast(l,f){const b=[];for(const w of this.actors)b.push(w.sendAsync({type:l,data:f}));return Promise.all(b)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(l=!0){this.actors.forEach(f=>{f.remove()}),this.actors=[],l&&this.workerPool.release(this.id)}registerMessageHandler(l,f){for(const b of this.actors)b.registerMessageHandler(l,f)}}function ut(){return Lt||(Lt=new ze(Yt(),a.G),Lt.registerMessageHandler("GR",(T,l,f)=>a.m(l,f))),Lt}function Re(T,l){const f=a.H();return a.J(f,f,[1,1,0]),a.K(f,f,[.5*T.width,.5*T.height,1]),T.calculatePosMatrix?a.L(f,f,T.calculatePosMatrix(l.toUnwrapped())):f}function Ve(T,l,f,b,w,P){var D;const $=function(Y,J,ce){if(Y)for(const de of Y){const Ce=J[de];if(Ce&&Ce.source===ce&&Ce.type==="fill-extrusion")return!0}else for(const de in J){const Ce=J[de];if(Ce.source===ce&&Ce.type==="fill-extrusion")return!0}return!1}((D=w==null?void 0:w.layers)!==null&&D!==void 0?D:null,l,T.id),F=P.maxPitchScaleFactor(),H=T.tilesIn(b,F,$);H.sort(Le);const q=[];for(const Y of H)q.push({wrappedTileID:Y.tileID.wrapped().key,queryResults:Y.tile.queryRenderedFeatures(l,f,T._state,Y.queryGeometry,Y.cameraQueryGeometry,Y.scale,w,P,F,Re(T.transform,Y.tileID))});return function(Y,J){for(const ce in Y)for(const de of Y[ce])Ye(de,J);return Y}(function(Y){const J={},ce={};for(const de of Y){const Ce=de.queryResults,Se=de.wrappedTileID,Pe=ce[Se]=ce[Se]||{};for(const Ie in Ce){const Oe=Ce[Ie],$e=Pe[Ie]=Pe[Ie]||{},Fe=J[Ie]=J[Ie]||[];for(const We of Oe)$e[We.featureIndex]||($e[We.featureIndex]=!0,Fe.push(We))}}return J}(q),T)}function Le(T,l){const f=T.tileID,b=l.tileID;return f.overscaledZ-b.overscaledZ||f.canonical.y-b.canonical.y||f.wrap-b.wrap||f.canonical.x-b.canonical.x}function Ye(T,l){const f=T.feature,b=l.getFeatureState(f.layer["source-layer"],f.id);f.source=f.layer.source,f.layer["source-layer"]&&(f.sourceLayer=f.layer["source-layer"]),f.state=b}function pe(T,l,f){return a._(this,void 0,void 0,function*(){let b=T;if(T.url?b=(yield a.h(l.transformRequest(T.url,"Source"),f)).data:yield y.frameAsync(f),!b)return null;const w=a.M(a.e(b,T),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in b&&b.vector_layers&&(w.vectorLayerIds=b.vector_layers.map(P=>P.id)),w})}class ye{constructor(l,f){l&&(f?this.setSouthWest(l).setNorthEast(f):Array.isArray(l)&&(l.length===4?this.setSouthWest([l[0],l[1]]).setNorthEast([l[2],l[3]]):this.setSouthWest(l[0]).setNorthEast(l[1])))}setNorthEast(l){return this._ne=l instanceof a.N?new a.N(l.lng,l.lat):a.N.convert(l),this}setSouthWest(l){return this._sw=l instanceof a.N?new a.N(l.lng,l.lat):a.N.convert(l),this}extend(l){const f=this._sw,b=this._ne;let w,P;if(l instanceof a.N)w=l,P=l;else{if(!(l instanceof ye))return Array.isArray(l)?l.length===4||l.every(Array.isArray)?this.extend(ye.convert(l)):this.extend(a.N.convert(l)):l&&("lng"in l||"lon"in l)&&"lat"in l?this.extend(a.N.convert(l)):this;if(w=l._sw,P=l._ne,!w||!P)return this}return f||b?(f.lng=Math.min(w.lng,f.lng),f.lat=Math.min(w.lat,f.lat),b.lng=Math.max(P.lng,b.lng),b.lat=Math.max(P.lat,b.lat)):(this._sw=new a.N(w.lng,w.lat),this._ne=new a.N(P.lng,P.lat)),this}getCenter(){return new a.N((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new a.N(this.getWest(),this.getNorth())}getSouthEast(){return new a.N(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(l){const{lng:f,lat:b}=a.N.convert(l);let w=this._sw.lng<=f&&f<=this._ne.lng;return this._sw.lng>this._ne.lng&&(w=this._sw.lng>=f&&f>=this._ne.lng),this._sw.lat<=b&&b<=this._ne.lat&&w}static convert(l){return l instanceof ye?l:l&&new ye(l)}static fromLngLat(l,f=0){const b=360*f/40075017,w=b/Math.cos(Math.PI/180*l.lat);return new ye(new a.N(l.lng-w,l.lat-b),new a.N(l.lng+w,l.lat+b))}adjustAntiMeridian(){const l=new a.N(this._sw.lng,this._sw.lat),f=new a.N(this._ne.lng,this._ne.lat);return new ye(l,l.lng>f.lng?new a.N(f.lng+360,f.lat):f)}}class Ze{constructor(l,f,b){this.bounds=ye.convert(this.validateBounds(l)),this.minzoom=f||0,this.maxzoom=b||24}validateBounds(l){return Array.isArray(l)&&l.length===4?[Math.max(-180,l[0]),Math.max(-90,l[1]),Math.min(180,l[2]),Math.min(90,l[3])]:[-180,-90,180,90]}contains(l){const f=Math.pow(2,l.z),b=Math.floor(a.O(this.bounds.getWest())*f),w=Math.floor(a.Q(this.bounds.getNorth())*f),P=Math.ceil(a.O(this.bounds.getEast())*f),D=Math.ceil(a.Q(this.bounds.getSouth())*f);return l.x>=b&&l.x<P&&l.y>=w&&l.y<D}}class ht extends a.E{constructor(l,f,b,w){if(super(),this.id=l,this.dispatcher=b,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.e(this,a.M(f,["url","scheme","tileSize","promoteId"])),this._options=a.e({type:"vector"},f),this._collectResourceTiming=f.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(w)}load(){return a._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new a.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const l=yield pe(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),l&&(a.e(this,l),l.bounds&&(this.tileBounds=new Ze(l.bounds,this.minzoom,this.maxzoom)),this.fire(new a.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.k("data",{dataType:"source",sourceDataType:"content"})))}catch(l){this._tileJSONRequest=null,this.fire(new a.j(l))}})}loaded(){return this._loaded}hasTile(l){return!this.tileBounds||this.tileBounds.contains(l.canonical)}onAdd(l){this.map=l,this.load()}setSourceProperty(l){this._tileJSONRequest&&this._tileJSONRequest.abort(),l(),this.load()}setTiles(l){return this.setSourceProperty(()=>{this._options.tiles=l}),this}setUrl(l){return this.setSourceProperty(()=>{this.url=l,this._options.url=l}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return a.e({},this._options)}loadTile(l){return a._(this,void 0,void 0,function*(){const f=l.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),b={request:this.map._requestManager.transformRequest(f,"Tile"),uid:l.uid,tileID:l.tileID,zoom:l.tileID.overscaledZ,tileSize:this.tileSize*l.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};b.request.collectResourceTiming=this._collectResourceTiming;let w="RT";if(l.actor&&l.state!=="expired"){if(l.state==="loading")return new Promise((P,D)=>{l.reloadPromise={resolve:P,reject:D}})}else l.actor=this.dispatcher.getActor(),w="LT";l.abortController=new AbortController;try{const P=yield l.actor.sendAsync({type:w,data:b},l.abortController);if(delete l.abortController,l.aborted)return;this._afterTileLoadWorkerResponse(l,P)}catch(P){if(delete l.abortController,l.aborted)return;if(P&&P.status!==404)throw P;this._afterTileLoadWorkerResponse(l,null)}})}_afterTileLoadWorkerResponse(l,f){if(f&&f.resourceTiming&&(l.resourceTiming=f.resourceTiming),f&&this.map._refreshExpiredTiles&&l.setExpiryData(f),l.loadVectorData(f,this.map.painter),l.reloadPromise){const b=l.reloadPromise;l.reloadPromise=null,this.loadTile(l).then(b.resolve).catch(b.reject)}}abortTile(l){return a._(this,void 0,void 0,function*(){l.abortController&&(l.abortController.abort(),delete l.abortController),l.actor&&(yield l.actor.sendAsync({type:"AT",data:{uid:l.uid,type:this.type,source:this.id}}))})}unloadTile(l){return a._(this,void 0,void 0,function*(){l.unloadVectorData(),l.actor&&(yield l.actor.sendAsync({type:"RMT",data:{uid:l.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class st extends a.E{constructor(l,f,b,w){super(),this.id=l,this.dispatcher=b,this.setEventedParent(w),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.e({type:"raster"},f),a.e(this,a.M(f,["url","scheme","tileSize"]))}load(){return a._(this,arguments,void 0,function*(l=!1){this._loaded=!1,this.fire(new a.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const f=yield pe(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,f&&(a.e(this,f),f.bounds&&(this.tileBounds=new Ze(f.bounds,this.minzoom,this.maxzoom)),this.fire(new a.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.k("data",{dataType:"source",sourceDataType:"content",sourceDataChanged:l})))}catch(f){this._tileJSONRequest=null,this.fire(new a.j(f))}})}loaded(){return this._loaded}onAdd(l){this.map=l,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(l){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),l(),this.load(!0)}setTiles(l){return this.setSourceProperty(()=>{this._options.tiles=l}),this}setUrl(l){return this.setSourceProperty(()=>{this.url=l,this._options.url=l}),this}serialize(){return a.e({},this._options)}hasTile(l){return!this.tileBounds||this.tileBounds.contains(l.canonical)}loadTile(l){return a._(this,void 0,void 0,function*(){const f=l.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);l.abortController=new AbortController;try{const b=yield z.getImage(this.map._requestManager.transformRequest(f,"Tile"),l.abortController,this.map._refreshExpiredTiles);if(delete l.abortController,l.aborted)return void(l.state="unloaded");if(b&&b.data){this.map._refreshExpiredTiles&&b.cacheControl&&b.expires&&l.setExpiryData({cacheControl:b.cacheControl,expires:b.expires});const w=this.map.painter.context,P=w.gl,D=b.data;l.texture=this.map.painter.getTileTexture(D.width),l.texture?l.texture.update(D,{useMipmap:!0}):(l.texture=new W(w,D,P.RGBA,{useMipmap:!0}),l.texture.bind(P.LINEAR,P.CLAMP_TO_EDGE,P.LINEAR_MIPMAP_NEAREST)),l.state="loaded"}}catch(b){if(delete l.abortController,l.aborted)l.state="unloaded";else if(b)throw l.state="errored",b}})}abortTile(l){return a._(this,void 0,void 0,function*(){l.abortController&&(l.abortController.abort(),delete l.abortController)})}unloadTile(l){return a._(this,void 0,void 0,function*(){l.texture&&this.map.painter.saveTileTexture(l.texture)})}hasTransition(){return!1}}class Xe extends st{constructor(l,f,b,w){super(l,f,b,w),this.type="raster-dem",this.maxzoom=22,this._options=a.e({type:"raster-dem"},f),this.encoding=f.encoding||"mapbox",this.redFactor=f.redFactor,this.greenFactor=f.greenFactor,this.blueFactor=f.blueFactor,this.baseShift=f.baseShift}loadTile(l){return a._(this,void 0,void 0,function*(){const f=l.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),b=this.map._requestManager.transformRequest(f,"Tile");l.neighboringTiles=this._getNeighboringTiles(l.tileID),l.abortController=new AbortController;try{const w=yield z.getImage(b,l.abortController,this.map._refreshExpiredTiles);if(delete l.abortController,l.aborted)return void(l.state="unloaded");if(w&&w.data){const P=w.data;this.map._refreshExpiredTiles&&w.cacheControl&&w.expires&&l.setExpiryData({cacheControl:w.cacheControl,expires:w.expires});const D=a.b(P)&&a.U()?P:yield this.readImageNow(P),$={type:this.type,uid:l.uid,source:this.id,rawImageData:D,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!l.actor||l.state==="expired"){l.actor=this.dispatcher.getActor();const F=yield l.actor.sendAsync({type:"LDT",data:$});l.dem=F,l.needsHillshadePrepare=!0,l.needsTerrainPrepare=!0,l.state="loaded"}}}catch(w){if(delete l.abortController,l.aborted)l.state="unloaded";else if(w)throw l.state="errored",w}})}readImageNow(l){return a._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&a.V()){const f=l.width+2,b=l.height+2;try{return new a.R({width:f,height:b},yield a.W(l,-1,-1,f,b))}catch{}}return y.getImageData(l,1)})}_getNeighboringTiles(l){const f=l.canonical,b=Math.pow(2,f.z),w=(f.x-1+b)%b,P=f.x===0?l.wrap-1:l.wrap,D=(f.x+1+b)%b,$=f.x+1===b?l.wrap+1:l.wrap,F={};return F[new a.S(l.overscaledZ,P,f.z,w,f.y).key]={backfilled:!1},F[new a.S(l.overscaledZ,$,f.z,D,f.y).key]={backfilled:!1},f.y>0&&(F[new a.S(l.overscaledZ,P,f.z,w,f.y-1).key]={backfilled:!1},F[new a.S(l.overscaledZ,l.wrap,f.z,f.x,f.y-1).key]={backfilled:!1},F[new a.S(l.overscaledZ,$,f.z,D,f.y-1).key]={backfilled:!1}),f.y+1<b&&(F[new a.S(l.overscaledZ,P,f.z,w,f.y+1).key]={backfilled:!1},F[new a.S(l.overscaledZ,l.wrap,f.z,f.x,f.y+1).key]={backfilled:!1},F[new a.S(l.overscaledZ,$,f.z,D,f.y+1).key]={backfilled:!1}),F}unloadTile(l){return a._(this,void 0,void 0,function*(){l.demTexture&&this.map.painter.saveTileTexture(l.demTexture),l.fbo&&(l.fbo.destroy(),delete l.fbo),l.dem&&delete l.dem,delete l.neighboringTiles,l.state="unloaded",l.actor&&(yield l.actor.sendAsync({type:"RDT",data:{type:this.type,uid:l.uid,source:this.id}}))})}}class Qe extends a.E{constructor(l,f,b,w){super(),this.id=l,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=b.getActor(),this.setEventedParent(w),this._data=f.data,this._options=a.e({},f),this._collectResourceTiming=f.collectResourceTiming,f.maxzoom!==void 0&&(this.maxzoom=f.maxzoom),f.type&&(this.type=f.type),f.attribution&&(this.attribution=f.attribution),this.promoteId=f.promoteId,f.clusterMaxZoom!==void 0&&this.maxzoom<=f.clusterMaxZoom&&a.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${f.clusterMaxZoom}".`),this.workerOptions=a.e({source:this.id,cluster:f.cluster||!1,geojsonVtOptions:{buffer:this._pixelsToTileUnits(f.buffer!==void 0?f.buffer:128),tolerance:this._pixelsToTileUnits(f.tolerance!==void 0?f.tolerance:.375),extent:a.X,maxZoom:this.maxzoom,lineMetrics:f.lineMetrics||!1,generateId:f.generateId||!1},superclusterOptions:{maxZoom:f.clusterMaxZoom!==void 0?f.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,f.clusterMinPoints||2),extent:a.X,radius:this._pixelsToTileUnits(f.clusterRadius||50),log:!1,generateId:f.generateId||!1},clusterProperties:f.clusterProperties,filter:f.filter},f.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}_pixelsToTileUnits(l){return l*(a.X/this.tileSize)}load(){return a._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(l){this.map=l,this.load()}setData(l){return this._data=l,this._updateWorkerData(),this}updateData(l){return this._updateWorkerData(l),this}getData(){return a._(this,void 0,void 0,function*(){const l=a.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:l})})}setClusterOptions(l){return this.workerOptions.cluster=l.cluster,l&&(l.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=this._pixelsToTileUnits(l.clusterRadius)),l.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=l.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(l){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:l,source:this.id}})}getClusterChildren(l){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:l,source:this.id}})}getClusterLeaves(l,f,b){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:l,limit:f,offset:b}})}_updateWorkerData(l){return a._(this,void 0,void 0,function*(){const f=a.e({type:this.type},this.workerOptions);l?f.dataDiff=l:typeof this._data=="string"?(f.request=this.map._requestManager.transformRequest(y.resolveURL(this._data),"Source"),f.request.collectResourceTiming=this._collectResourceTiming):f.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new a.k("dataloading",{dataType:"source"}));try{const b=yield this.actor.sendAsync({type:"LD",data:f});if(this._pendingLoads--,this._removed||b.abandoned)return void this.fire(new a.k("dataabort",{dataType:"source"}));let w=null;b.resourceTiming&&b.resourceTiming[this.id]&&(w=b.resourceTiming[this.id].slice(0));const P={dataType:"source"};this._collectResourceTiming&&w&&w.length>0&&a.e(P,{resourceTiming:w}),this.fire(new a.k("data",Object.assign(Object.assign({},P),{sourceDataType:"metadata"}))),this.fire(new a.k("data",Object.assign(Object.assign({},P),{sourceDataType:"content"})))}catch(b){if(this._pendingLoads--,this._removed)return void this.fire(new a.k("dataabort",{dataType:"source"}));this.fire(new a.j(b))}})}loaded(){return this._pendingLoads===0}loadTile(l){return a._(this,void 0,void 0,function*(){const f=l.actor?"RT":"LT";l.actor=this.actor;const b={type:this.type,uid:l.uid,tileID:l.tileID,zoom:l.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};l.abortController=new AbortController;const w=yield this.actor.sendAsync({type:f,data:b},l.abortController);delete l.abortController,l.unloadVectorData(),l.aborted||l.loadVectorData(w,this.map.painter,f==="RT")})}abortTile(l){return a._(this,void 0,void 0,function*(){l.abortController&&(l.abortController.abort(),delete l.abortController),l.aborted=!0})}unloadTile(l){return a._(this,void 0,void 0,function*(){l.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:l.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return a.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}class lt extends a.E{constructor(l,f,b,w){super(),this.flippedWindingOrder=!1,this.id=l,this.dispatcher=b,this.coordinates=f.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(w),this.options=f}load(l){return a._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new a.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const f=yield z.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,f&&f.data&&(this.image=f.data,l&&(this.coordinates=l),this._finishLoading())}catch(f){this._request=null,this._loaded=!0,this.fire(new a.j(f))}})}loaded(){return this._loaded}updateImage(l){return l.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=l.url,this.load(l.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(l){this.map=l,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(l){this.coordinates=l;const f=l.map(a.Y.fromLngLat);var b;return this.tileID=function(w){let P=1/0,D=1/0,$=-1/0,F=-1/0;for(const J of w)P=Math.min(P,J.x),D=Math.min(D,J.y),$=Math.max($,J.x),F=Math.max(F,J.y);const H=Math.max($-P,F-D),q=Math.max(0,Math.floor(-Math.log(H)/Math.LN2)),Y=Math.pow(2,q);return new a.Z(q,Math.floor((P+$)/2*Y),Math.floor((D+F)/2*Y))}(f),this.minzoom=this.maxzoom=this.tileID.z,this.tileCoords=f.map(w=>this.tileID.getTilePoint(w)._round()),this.flippedWindingOrder=((b=this.tileCoords)[1].x-b[0].x)*(b[2].y-b[0].y)-(b[1].y-b[0].y)*(b[2].x-b[0].x)<0,this.fire(new a.k("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const l=this.map.painter.context,f=l.gl;this.texture||(this.texture=new W(l,this.image,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE));let b=!1;for(const w in this.tiles){const P=this.tiles[w];P.state!=="loaded"&&(P.state="loaded",P.texture=this.texture,b=!0)}b&&this.fire(new a.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(l){return a._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(l.tileID.canonical)?(this.tiles[String(l.tileID.wrap)]=l,l.buckets={}):l.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class St extends lt{constructor(l,f,b,w){super(l,f,b,w),this.roundZoom=!0,this.type="video",this.options=f}load(){return a._(this,void 0,void 0,function*(){this._loaded=!1;const l=this.options;this.urls=[];for(const f of l.urls)this.urls.push(this.map._requestManager.transformRequest(f,"Source").url);try{const f=yield a.a0(this.urls);if(this._loaded=!0,!f)return;this.video=f,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(f){this.fire(new a.j(f))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(l){if(this.video){const f=this.video.seekable;l<f.start(0)||l>f.end(0)?this.fire(new a.j(new a.$(`sources.${this.id}`,null,`Playback for this video can be set only between the ${f.start(0)} and ${f.end(0)}-second mark.`))):this.video.currentTime=l}}getVideo(){return this.video}onAdd(l){this.map||(this.map=l,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const l=this.map.painter.context,f=l.gl;this.texture?this.video.paused||(this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE),f.texSubImage2D(f.TEXTURE_2D,0,0,0,f.RGBA,f.UNSIGNED_BYTE,this.video)):(this.texture=new W(l,this.video,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE));let b=!1;for(const w in this.tiles){const P=this.tiles[w];P.state!=="loaded"&&(P.state="loaded",P.texture=this.texture,b=!0)}b&&this.fire(new a.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class Tt extends lt{constructor(l,f,b,w){super(l,f,b,w),f.coordinates?Array.isArray(f.coordinates)&&f.coordinates.length===4&&!f.coordinates.some(P=>!Array.isArray(P)||P.length!==2||P.some(D=>typeof D!="number"))||this.fire(new a.j(new a.$(`sources.${l}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.j(new a.$(`sources.${l}`,null,'missing required property "coordinates"'))),f.animate&&typeof f.animate!="boolean"&&this.fire(new a.j(new a.$(`sources.${l}`,null,'optional "animate" property must be a boolean value'))),f.canvas?typeof f.canvas=="string"||f.canvas instanceof HTMLCanvasElement||this.fire(new a.j(new a.$(`sources.${l}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.j(new a.$(`sources.${l}`,null,'missing required property "canvas"'))),this.options=f,this.animate=f.animate===void 0||f.animate}load(){return a._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(l){this.map=l,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let l=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,l=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,l=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const f=this.map.painter.context,b=f.gl;this.texture?(l||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new W(f,this.canvas,b.RGBA,{premultiply:!0});let w=!1;for(const P in this.tiles){const D=this.tiles[P];D.state!=="loaded"&&(D.state="loaded",D.texture=this.texture,w=!0)}w&&this.fire(new a.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const l of[this.canvas.width,this.canvas.height])if(isNaN(l)||l<=0)return!0;return!1}}const Wt={},Ft=T=>{switch(T){case"geojson":return Qe;case"image":return lt;case"raster":return st;case"raster-dem":return Xe;case"vector":return ht;case"video":return St;case"canvas":return Tt}return Wt[T]},Qt="RTLPluginLoaded";class sn extends a.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=ut()}_syncState(l){return this.status=l,this.dispatcher.broadcast("SRPS",{pluginStatus:l,pluginURL:this.url}).catch(f=>{throw this.status="error",f})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(l){return a._(this,arguments,void 0,function*(f,b=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=y.resolveURL(f),!this.url)throw new Error(`requested url ${f} is invalid`);if(this.status==="unavailable"){if(!b)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return a._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new a.k(Qt))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let xn=null;function En(){return xn||(xn=new sn),xn}class bn{constructor(l,f){this.timeAdded=0,this.fadeEndTime=0,this.tileID=l,this.uid=a.a1(),this.uses=0,this.tileSize=f,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(l){const f=l+this.timeAdded;f<this.fadeEndTime||(this.fadeEndTime=f)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(l){this.demTexture&&l.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(l,f,b){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",l){l.featureIndex&&(this.latestFeatureIndex=l.featureIndex,l.rawTileData?(this.latestRawTileData=l.rawTileData,this.latestFeatureIndex.rawTileData=l.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=l.collisionBoxArray,this.buckets=function(w,P){const D={};if(!P)return D;for(const $ of w){const F=$.layerIds.map(H=>P.getLayer(H)).filter(Boolean);if(F.length!==0){$.layers=F,$.stateDependentLayerIds&&($.stateDependentLayers=$.stateDependentLayerIds.map(H=>F.filter(q=>q.id===H)[0]));for(const H of F)D[H.id]=$}}return D}(l.buckets,f==null?void 0:f.style),this.hasSymbolBuckets=!1;for(const w in this.buckets){const P=this.buckets[w];if(P instanceof a.a3){if(this.hasSymbolBuckets=!0,!b)break;P.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const w in this.buckets){const P=this.buckets[w];if(P instanceof a.a3&&P.hasRTLText){this.hasRTLText=!0,En().lazyLoad();break}}this.queryPadding=0;for(const w in this.buckets){const P=this.buckets[w];this.queryPadding=Math.max(this.queryPadding,f.style.getLayer(w).queryRadius(P))}l.imageAtlas&&(this.imageAtlas=l.imageAtlas),l.glyphAtlasImage&&(this.glyphAtlasImage=l.glyphAtlasImage)}else this.collisionBoxArray=new a.a2}unloadVectorData(){for(const l in this.buckets)this.buckets[l].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(l){return this.buckets[l.id]}upload(l){for(const b in this.buckets){const w=this.buckets[b];w.uploadPending()&&w.upload(l)}const f=l.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new W(l,this.imageAtlas.image,f.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new W(l,this.glyphAtlasImage,f.ALPHA),this.glyphAtlasImage=null)}prepare(l){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(l,this.imageAtlasTexture)}queryRenderedFeatures(l,f,b,w,P,D,$,F,H,q){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:w,cameraQueryGeometry:P,scale:D,tileSize:this.tileSize,pixelPosMatrix:q,transform:F,params:$,queryPadding:this.queryPadding*H},l,f,b):{}}querySourceFeatures(l,f){const b=this.latestFeatureIndex;if(!b||!b.rawTileData)return;const w=b.loadVTLayers(),P=f&&f.sourceLayer?f.sourceLayer:"",D=w._geojsonTileLayer||w[P];if(!D)return;const $=a.a4(f&&f.filter),{z:F,x:H,y:q}=this.tileID.canonical,Y={z:F,x:H,y:q};for(let J=0;J<D.length;J++){const ce=D.feature(J);if($.needGeometry){const Se=a.a5(ce,!0);if(!$.filter(new a.z(this.tileID.overscaledZ),Se,this.tileID.canonical))continue}else if(!$.filter(new a.z(this.tileID.overscaledZ),ce))continue;const de=b.getId(ce,P),Ce=new a.a6(ce,F,H,q,de);Ce.tile=Y,l.push(Ce)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(l){const f=this.expirationTime;if(l.cacheControl){const b=a.a7(l.cacheControl);b["max-age"]&&(this.expirationTime=Date.now()+1e3*b["max-age"])}else l.expires&&(this.expirationTime=new Date(l.expires).getTime());if(this.expirationTime){const b=Date.now();let w=!1;if(this.expirationTime>b)w=!1;else if(f)if(this.expirationTime<f)w=!0;else{const P=this.expirationTime-f;P?this.expirationTime=b+Math.max(P,3e4):w=!0}else w=!0;w?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(l,f){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(l).length===0)return;const b=this.latestFeatureIndex.loadVTLayers();for(const w in this.buckets){if(!f.style.hasLayer(w))continue;const P=this.buckets[w],D=P.layers[0].sourceLayer||"_geojsonTileLayer",$=b[D],F=l[D];if(!$||!F||Object.keys(F).length===0)continue;P.update(F,$,this.imageAtlas&&this.imageAtlas.patternPositions||{});const H=f&&f.style&&f.style.getLayer(w);H&&(this.queryPadding=Math.max(this.queryPadding,H.queryRadius(P)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<y.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(l){this.symbolFadeHoldUntil=y.now()+l}setDependencies(l,f){const b={};for(const w of f)b[w]=!0;this.dependencies[l]=b}hasDependency(l,f){for(const b of l){const w=this.dependencies[b];if(w){for(const P of f)if(w[P])return!0}}return!1}}class Xn{constructor(l,f){this.max=l,this.onRemove=f,this.reset()}reset(){for(const l in this.data)for(const f of this.data[l])f.timeout&&clearTimeout(f.timeout),this.onRemove(f.value);return this.data={},this.order=[],this}add(l,f,b){const w=l.wrapped().key;this.data[w]===void 0&&(this.data[w]=[]);const P={value:f,timeout:void 0};if(b!==void 0&&(P.timeout=setTimeout(()=>{this.remove(l,P)},b)),this.data[w].push(P),this.order.push(w),this.order.length>this.max){const D=this._getAndRemoveByKey(this.order[0]);D&&this.onRemove(D)}return this}has(l){return l.wrapped().key in this.data}getAndRemove(l){return this.has(l)?this._getAndRemoveByKey(l.wrapped().key):null}_getAndRemoveByKey(l){const f=this.data[l].shift();return f.timeout&&clearTimeout(f.timeout),this.data[l].length===0&&delete this.data[l],this.order.splice(this.order.indexOf(l),1),f.value}getByKey(l){const f=this.data[l];return f?f[0].value:null}get(l){return this.has(l)?this.data[l.wrapped().key][0].value:null}remove(l,f){if(!this.has(l))return this;const b=l.wrapped().key,w=f===void 0?0:this.data[b].indexOf(f),P=this.data[b][w];return this.data[b].splice(w,1),P.timeout&&clearTimeout(P.timeout),this.data[b].length===0&&delete this.data[b],this.onRemove(P.value),this.order.splice(this.order.indexOf(b),1),this}setMaxSize(l){for(this.max=l;this.order.length>this.max;){const f=this._getAndRemoveByKey(this.order[0]);f&&this.onRemove(f)}return this}filter(l){const f=[];for(const b in this.data)for(const w of this.data[b])l(w.value)||f.push(w);for(const b of f)this.remove(b.value.tileID,b)}}class tr{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(l,f,b){const w=String(f);if(this.stateChanges[l]=this.stateChanges[l]||{},this.stateChanges[l][w]=this.stateChanges[l][w]||{},a.e(this.stateChanges[l][w],b),this.deletedStates[l]===null){this.deletedStates[l]={};for(const P in this.state[l])P!==w&&(this.deletedStates[l][P]=null)}else if(this.deletedStates[l]&&this.deletedStates[l][w]===null){this.deletedStates[l][w]={};for(const P in this.state[l][w])b[P]||(this.deletedStates[l][w][P]=null)}else for(const P in b)this.deletedStates[l]&&this.deletedStates[l][w]&&this.deletedStates[l][w][P]===null&&delete this.deletedStates[l][w][P]}removeFeatureState(l,f,b){if(this.deletedStates[l]===null)return;const w=String(f);if(this.deletedStates[l]=this.deletedStates[l]||{},b&&f!==void 0)this.deletedStates[l][w]!==null&&(this.deletedStates[l][w]=this.deletedStates[l][w]||{},this.deletedStates[l][w][b]=null);else if(f!==void 0)if(this.stateChanges[l]&&this.stateChanges[l][w])for(b in this.deletedStates[l][w]={},this.stateChanges[l][w])this.deletedStates[l][w][b]=null;else this.deletedStates[l][w]=null;else this.deletedStates[l]=null}getState(l,f){const b=String(f),w=a.e({},(this.state[l]||{})[b],(this.stateChanges[l]||{})[b]);if(this.deletedStates[l]===null)return{};if(this.deletedStates[l]){const P=this.deletedStates[l][f];if(P===null)return{};for(const D in P)delete w[D]}return w}initializeTileState(l,f){l.setFeatureState(this.state,f)}coalesceChanges(l,f){const b={};for(const w in this.stateChanges){this.state[w]=this.state[w]||{};const P={};for(const D in this.stateChanges[w])this.state[w][D]||(this.state[w][D]={}),a.e(this.state[w][D],this.stateChanges[w][D]),P[D]=this.state[w][D];b[w]=P}for(const w in this.deletedStates){this.state[w]=this.state[w]||{};const P={};if(this.deletedStates[w]===null)for(const D in this.state[w])P[D]={},this.state[w][D]={};else for(const D in this.deletedStates[w]){if(this.deletedStates[w][D]===null)this.state[w][D]={};else for(const $ of Object.keys(this.deletedStates[w][D]))delete this.state[w][D][$];P[D]=this.state[w][D]}b[w]=b[w]||{},a.e(b[w],P)}if(this.stateChanges={},this.deletedStates={},Object.keys(b).length!==0)for(const w in l)l[w].setFeatureState(b,f)}}function Zr(T,l,f){const b=l.intersectsFrustum(T);if(!f)return b;const w=l.intersectsPlane(f);return b===0||w===0?0:b===2&&w===2?2:1}function Vr(T,l,f,b,w){let P=T;const D=Math.atan(l/f),$=Math.hypot(l,f);return P=T+a.a8(b/$/Math.max(.5,Math.cos(a.aa(w/2)))),P+=1*a.a8(Math.cos(D))/2,P+=a.ab(T-P,-0,0),P}function Pi(T,l){const f=(l.roundZoom?Math.round:Math.floor)(T.zoom+a.a8(T.tileSize/l.tileSize));return Math.max(0,f)}function xe(T,l){const f=T.getCameraFrustum(),b=T.getClippingPlane(),w=T.screenPointToMercatorCoordinate(T.getCameraPoint()),P=a.Y.fromLngLat(T.center,T.elevation);w.z=P.z+Math.cos(T.pitchInRadians)*T.cameraToCenterDistance/T.worldSize;const D=T.getCoveringTilesDetailsProvider(),$=D.allowVariableZoom(T,l),F=Pi(T,l),H=l.minzoom||0,q=l.maxzoom!==void 0?l.maxzoom:T.maxZoom,Y=Math.min(Math.max(0,F),q),J=Math.pow(2,Y),ce=[J*w.x,J*w.y,0],de=[J*P.x,J*P.y,0],Ce=Math.hypot(P.x-w.x,P.y-w.y),Se=Math.abs(P.z-w.z),Pe=Math.hypot(Ce,Se),Ie=Fe=>({zoom:0,x:0,y:0,wrap:Fe,fullyVisible:!1}),Oe=[],$e=[];if(T.renderWorldCopies&&D.allowWorldCopies())for(let Fe=1;Fe<=3;Fe++)Oe.push(Ie(-Fe)),Oe.push(Ie(Fe));for(Oe.push(Ie(0));Oe.length>0;){const Fe=Oe.pop(),We=Fe.x,He=Fe.y;let et=Fe.fullyVisible;const it={x:We,y:He,z:Fe.zoom},_t=D.getTileAABB(it,Fe.wrap,T.elevation,l);if(!et){const jt=Zr(f,_t,b);if(jt===0)continue;et=jt===2}const vt=D.distanceToTile2d(w.x,w.y,it,_t);let pt=F;$&&(pt=(l.calculateTileZoom||Vr)(T.zoom+a.a8(T.tileSize/l.tileSize),vt,Se,Pe,T.fov)),pt=(l.roundZoom?Math.round:Math.floor)(pt),pt=Math.max(0,pt);const Ut=Math.min(pt,q);if(Fe.wrap=D.getWrap(P,it,Fe.wrap),Fe.zoom>=Ut){if(Fe.zoom<H)continue;const jt=Y-Fe.zoom,bt=ce[0]-.5-(We<<jt),on=ce[1]-.5-(He<<jt),In=l.reparseOverscaled?Math.max(Fe.zoom,pt):Fe.zoom;$e.push({tileID:new a.S(Fe.zoom===q?In:Fe.zoom,Fe.wrap,Fe.zoom,We,He),distanceSq:a.a9([de[0]-.5-We,de[1]-.5-He]),tileDistanceToCamera:Math.sqrt(bt*bt+on*on)})}else for(let jt=0;jt<4;jt++)Oe.push({zoom:Fe.zoom+1,x:(We<<1)+jt%2,y:(He<<1)+(jt>>1),wrap:Fe.wrap,fullyVisible:et})}return $e.sort((Fe,We)=>Fe.distanceSq-We.distanceSq).map(Fe=>Fe.tileID)}class le extends a.E{constructor(l,f,b){super(),this.id=l,this.dispatcher=b,this.on("data",w=>this._dataHandler(w)),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((w,P,D,$)=>{const F=new(Ft(P.type))(w,P,D,$);if(F.id!==w)throw new Error(`Expected Source id to be ${w} instead of ${F.id}`);return F})(l,f,b,this),this._tiles={},this._cache=new Xn(0,w=>this._unloadTile(w)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new tr,this._didEmitContent=!1,this._updated=!1}onAdd(l){this.map=l,this._maxTileCacheSize=l?l._maxTileCacheSize:null,this._maxTileCacheZoomLevels=l?l._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(l)}onRemove(l){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(l)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const l in this._tiles){const f=this._tiles[l];if(f.state!=="loaded"&&f.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const l=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,l&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(l,f,b){return a._(this,void 0,void 0,function*(){try{yield this._source.loadTile(l),this._tileLoaded(l,f,b)}catch(w){l.state="errored",w.status!==404?this._source.fire(new a.j(w,{tile:l})):this.update(this.transform,this.terrain)}})}_unloadTile(l){this._source.unloadTile&&this._source.unloadTile(l)}_abortTile(l){this._source.abortTile&&this._source.abortTile(l),this._source.fire(new a.k("dataabort",{tile:l,coord:l.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(l){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const f in this._tiles){const b=this._tiles[f];b.upload(l),b.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(l=>l.tileID).sort(fe).map(l=>l.key)}getRenderableIds(l){const f=[];for(const b in this._tiles)this._isIdRenderable(b,l)&&f.push(this._tiles[b]);return l?f.sort((b,w)=>{const P=b.tileID,D=w.tileID,$=new a.P(P.canonical.x,P.canonical.y)._rotate(-this.transform.bearingInRadians),F=new a.P(D.canonical.x,D.canonical.y)._rotate(-this.transform.bearingInRadians);return P.overscaledZ-D.overscaledZ||F.y-$.y||F.x-$.x}).map(b=>b.tileID.key):f.map(b=>b.tileID).sort(fe).map(b=>b.key)}hasRenderableParent(l){const f=this.findLoadedParent(l,0);return!!f&&this._isIdRenderable(f.tileID.key)}_isIdRenderable(l,f){return this._tiles[l]&&this._tiles[l].hasData()&&!this._coveredTiles[l]&&(f||!this._tiles[l].holdingForFade())}reload(l){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const f in this._tiles)(l||this._tiles[f].state!=="errored")&&this._reloadTile(f,"reloading")}}_reloadTile(l,f){return a._(this,void 0,void 0,function*(){const b=this._tiles[l];b&&(b.state!=="loading"&&(b.state=f),yield this._loadTile(b,l,f))})}_tileLoaded(l,f,b){l.timeAdded=y.now(),b==="expired"&&(l.refreshedUponExpiration=!0),this._setTileReloadTimer(f,l),this.getSource().type==="raster-dem"&&l.dem&&this._backfillDEM(l),this._state.initializeTileState(l,this.map?this.map.painter:null),l.aborted||this._source.fire(new a.k("data",{dataType:"source",tile:l,coord:l.tileID}))}_backfillDEM(l){const f=this.getRenderableIds();for(let w=0;w<f.length;w++){const P=f[w];if(l.neighboringTiles&&l.neighboringTiles[P]){const D=this.getTileByID(P);b(l,D),b(D,l)}}function b(w,P){w.needsHillshadePrepare=!0,w.needsTerrainPrepare=!0;let D=P.tileID.canonical.x-w.tileID.canonical.x;const $=P.tileID.canonical.y-w.tileID.canonical.y,F=Math.pow(2,w.tileID.canonical.z),H=P.tileID.key;D===0&&$===0||Math.abs($)>1||(Math.abs(D)>1&&(Math.abs(D+F)===1?D+=F:Math.abs(D-F)===1&&(D-=F)),P.dem&&w.dem&&(w.dem.backfillBorder(P.dem,D,$),w.neighboringTiles&&w.neighboringTiles[H]&&(w.neighboringTiles[H].backfilled=!0)))}}getTile(l){return this.getTileByID(l.key)}getTileByID(l){return this._tiles[l]}_retainLoadedChildren(l,f,b,w){for(const P in this._tiles){let D=this._tiles[P];if(w[P]||!D.hasData()||D.tileID.overscaledZ<=f||D.tileID.overscaledZ>b)continue;let $=D.tileID;for(;D&&D.tileID.overscaledZ>f+1;){const H=D.tileID.scaledTo(D.tileID.overscaledZ-1);D=this._tiles[H.key],D&&D.hasData()&&($=H)}let F=$;for(;F.overscaledZ>f;)if(F=F.scaledTo(F.overscaledZ-1),l[F.key]||l[F.canonical.key]){w[$.key]=$;break}}}findLoadedParent(l,f){if(l.key in this._loadedParentTiles){const b=this._loadedParentTiles[l.key];return b&&b.tileID.overscaledZ>=f?b:null}for(let b=l.overscaledZ-1;b>=f;b--){const w=l.scaledTo(b),P=this._getLoadedTile(w);if(P)return P}}findLoadedSibling(l){return this._getLoadedTile(l)}_getLoadedTile(l){const f=this._tiles[l.key];return f&&f.hasData()?f:this._cache.getByKey(l.wrapped().key)}updateCacheSize(l){const f=Math.ceil(l.width/this._source.tileSize)+1,b=Math.ceil(l.height/this._source.tileSize)+1,w=Math.floor(f*b*(this._maxTileCacheZoomLevels===null?a.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),P=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,w):w;this._cache.setMaxSize(P)}handleWrapJump(l){const f=Math.round((l-(this._prevLng===void 0?l:this._prevLng))/360);if(this._prevLng=l,f){const b={};for(const w in this._tiles){const P=this._tiles[w];P.tileID=P.tileID.unwrapTo(P.tileID.wrap+f),b[P.tileID.key]=P}this._tiles=b;for(const w in this._timers)clearTimeout(this._timers[w]),delete this._timers[w];for(const w in this._tiles)this._setTileReloadTimer(w,this._tiles[w])}}_updateCoveredAndRetainedTiles(l,f,b,w,P,D){const $={},F={},H=Object.keys(l),q=y.now();for(const Y of H){const J=l[Y],ce=this._tiles[Y];if(!ce||ce.fadeEndTime!==0&&ce.fadeEndTime<=q)continue;const de=this.findLoadedParent(J,f),Ce=this.findLoadedSibling(J),Se=de||Ce||null;Se&&(this._addTile(Se.tileID),$[Se.tileID.key]=Se.tileID),F[Y]=J}this._retainLoadedChildren(F,w,b,l);for(const Y in $)l[Y]||(this._coveredTiles[Y]=!0,l[Y]=$[Y]);if(D){const Y={},J={};for(const ce of P)this._tiles[ce.key].hasData()?Y[ce.key]=ce:J[ce.key]=ce;for(const ce in J){const de=J[ce].children(this._source.maxzoom);this._tiles[de[0].key]&&this._tiles[de[1].key]&&this._tiles[de[2].key]&&this._tiles[de[3].key]&&(Y[de[0].key]=l[de[0].key]=de[0],Y[de[1].key]=l[de[1].key]=de[1],Y[de[2].key]=l[de[2].key]=de[2],Y[de[3].key]=l[de[3].key]=de[3],delete J[ce])}for(const ce in J){const de=J[ce],Ce=this.findLoadedParent(de,this._source.minzoom),Se=this.findLoadedSibling(de),Pe=Ce||Se||null;if(Pe){Y[Pe.tileID.key]=l[Pe.tileID.key]=Pe.tileID;for(const Ie in Y)Y[Ie].isChildOf(Pe.tileID)&&delete Y[Ie]}}for(const ce in this._tiles)Y[ce]||(this._coveredTiles[ce]=!0)}}update(l,f){if(!this._sourceLoaded||this._paused)return;let b;this.transform=l,this.terrain=f,this.updateCacheSize(l),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?b=l.getVisibleUnwrappedCoordinates(this._source.tileID).map(q=>new a.S(q.canonical.z,q.wrap,q.canonical.z,q.canonical.x,q.canonical.y)):(b=xe(l,{tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:f,calculateTileZoom:this._source.calculateTileZoom}),this._source.hasTile&&(b=b.filter(q=>this._source.hasTile(q)))):b=[];const w=Pi(l,this._source),P=Math.max(w-le.maxOverzooming,this._source.minzoom),D=Math.max(w+le.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const q={};for(const Y of b)if(Y.canonical.z>this._source.minzoom){const J=Y.scaledTo(Y.canonical.z-1);q[J.key]=J;const ce=Y.scaledTo(Math.max(this._source.minzoom,Math.min(Y.canonical.z,5)));q[ce.key]=ce}b=b.concat(Object.values(q))}const $=b.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,$&&this.fire(new a.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const F=this._updateRetainedTiles(b,w);ve(this._source.type)&&this._updateCoveredAndRetainedTiles(F,P,D,w,b,f);for(const q in F)this._tiles[q].clearFadeHold();const H=a.ac(this._tiles,F);for(const q of H){const Y=this._tiles[q];Y.hasSymbolBuckets&&!Y.holdingForFade()?Y.setHoldDuration(this.map._fadeDuration):Y.hasSymbolBuckets&&!Y.symbolFadeFinished()||this._removeTile(q)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(const l in this._tiles)this._tiles[l].holdingForFade()&&this._removeTile(l)}_updateRetainedTiles(l,f){var b;const w={},P={},D=Math.max(f-le.maxOverzooming,this._source.minzoom),$=Math.max(f+le.maxUnderzooming,this._source.minzoom),F={};for(const H of l){const q=this._addTile(H);w[H.key]=H,q.hasData()||f<this._source.maxzoom&&(F[H.key]=H)}this._retainLoadedChildren(F,f,$,w);for(const H of l){let q=this._tiles[H.key];if(q.hasData())continue;if(f+1>this._source.maxzoom){const J=H.children(this._source.maxzoom)[0],ce=this.getTile(J);if(ce&&ce.hasData()){w[J.key]=J;continue}}else{const J=H.children(this._source.maxzoom);if(w[J[0].key]&&w[J[1].key]&&w[J[2].key]&&w[J[3].key])continue}let Y=q.wasRequested();for(let J=H.overscaledZ-1;J>=D;--J){const ce=H.scaledTo(J);if(P[ce.key])break;if(P[ce.key]=!0,q=this.getTile(ce),!q&&Y&&(q=this._addTile(ce)),q){const de=q.hasData();if((de||!(!((b=this.map)===null||b===void 0)&&b.cancelPendingTileRequestsWhileZooming)||Y)&&(w[ce.key]=ce),Y=q.wasRequested(),de)break}}}return w}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const l in this._tiles){const f=[];let b,w=this._tiles[l].tileID;for(;w.overscaledZ>0;){if(w.key in this._loadedParentTiles){b=this._loadedParentTiles[w.key];break}f.push(w.key);const P=w.scaledTo(w.overscaledZ-1);if(b=this._getLoadedTile(P),b)break;w=P}for(const P of f)this._loadedParentTiles[P]=b}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(const l in this._tiles){const f=this._tiles[l].tileID,b=this._getLoadedTile(f);this._loadedSiblingTiles[f.key]=b}}_addTile(l){let f=this._tiles[l.key];if(f)return f;f=this._cache.getAndRemove(l),f&&(this._setTileReloadTimer(l.key,f),f.tileID=l,this._state.initializeTileState(f,this.map?this.map.painter:null),this._cacheTimers[l.key]&&(clearTimeout(this._cacheTimers[l.key]),delete this._cacheTimers[l.key],this._setTileReloadTimer(l.key,f)));const b=f;return f||(f=new bn(l,this._source.tileSize*l.overscaleFactor()),this._loadTile(f,l.key,f.state)),f.uses++,this._tiles[l.key]=f,b||this._source.fire(new a.k("dataloading",{tile:f,coord:f.tileID,dataType:"source"})),f}_setTileReloadTimer(l,f){l in this._timers&&(clearTimeout(this._timers[l]),delete this._timers[l]);const b=f.getExpiryTimeout();b&&(this._timers[l]=setTimeout(()=>{this._reloadTile(l,"expired"),delete this._timers[l]},b))}_removeTile(l){const f=this._tiles[l];f&&(f.uses--,delete this._tiles[l],this._timers[l]&&(clearTimeout(this._timers[l]),delete this._timers[l]),f.uses>0||(f.hasData()&&f.state!=="reloading"?this._cache.add(f.tileID,f,f.getExpiryTimeout()):(f.aborted=!0,this._abortTile(f),this._unloadTile(f))))}_dataHandler(l){const f=l.sourceDataType;l.dataType==="source"&&f==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&l.dataType==="source"&&f==="content"&&(this.reload(l.sourceDataChanged),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const l in this._tiles)this._removeTile(l);this._cache.reset()}tilesIn(l,f,b){const w=[],P=this.transform;if(!P)return w;const D=b?P.getCameraQueryGeometry(l):l,$=l.map(de=>P.screenPointToMercatorCoordinate(de,this.terrain)),F=D.map(de=>P.screenPointToMercatorCoordinate(de,this.terrain)),H=this.getIds();let q=1/0,Y=1/0,J=-1/0,ce=-1/0;for(const de of F)q=Math.min(q,de.x),Y=Math.min(Y,de.y),J=Math.max(J,de.x),ce=Math.max(ce,de.y);for(let de=0;de<H.length;de++){const Ce=this._tiles[H[de]];if(Ce.holdingForFade())continue;const Se=Ce.tileID,Pe=Math.pow(2,P.zoom-Ce.tileID.overscaledZ),Ie=f*Ce.queryPadding*a.X/Ce.tileSize/Pe,Oe=[Se.getTilePoint(new a.Y(q,Y)),Se.getTilePoint(new a.Y(J,ce))];if(Oe[0].x-Ie<a.X&&Oe[0].y-Ie<a.X&&Oe[1].x+Ie>=0&&Oe[1].y+Ie>=0){const $e=$.map(We=>Se.getTilePoint(We)),Fe=F.map(We=>Se.getTilePoint(We));w.push({tile:Ce,tileID:Se,queryGeometry:$e,cameraQueryGeometry:Fe,scale:Pe})}}return w}getVisibleCoordinates(l){const f=this.getRenderableIds(l).map(b=>this._tiles[b].tileID);return this.transform&&this.transform.populateCache(f),f}hasTransition(){if(this._source.hasTransition())return!0;if(ve(this._source.type)){const l=y.now();for(const f in this._tiles)if(this._tiles[f].fadeEndTime>=l)return!0}return!1}setFeatureState(l,f,b){this._state.updateState(l=l||"_geojsonTileLayer",f,b)}removeFeatureState(l,f,b){this._state.removeFeatureState(l=l||"_geojsonTileLayer",f,b)}getFeatureState(l,f){return this._state.getState(l=l||"_geojsonTileLayer",f)}setDependencies(l,f,b){const w=this._tiles[l];w&&w.setDependencies(f,b)}reloadTilesForDependencies(l,f){for(const b in this._tiles)this._tiles[b].hasDependency(l,f)&&this._reloadTile(b,"reloading");this._cache.filter(b=>!b.hasDependency(l,f))}}function fe(T,l){const f=Math.abs(2*T.wrap)-+(T.wrap<0),b=Math.abs(2*l.wrap)-+(l.wrap<0);return T.overscaledZ-l.overscaledZ||b-f||l.canonical.y-T.canonical.y||l.canonical.x-T.canonical.x}function ve(T){return T==="raster"||T==="image"||T==="video"}le.maxOverzooming=10,le.maxUnderzooming=3;class Me{constructor(l,f){this.reset(l,f)}reset(l,f){this.points=l||[],this._distances=[0];for(let b=1;b<this.points.length;b++)this._distances[b]=this._distances[b-1]+this.points[b].dist(this.points[b-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(f||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(l){if(this.points.length===1)return this.points[0];l=a.ab(l,0,1);let f=1,b=this._distances[f];const w=l*this.paddedLength+this.padding;for(;b<w&&f<this._distances.length;)b=this._distances[++f];const P=f-1,D=this._distances[P],$=b-D,F=$>0?(w-D)/$:0;return this.points[P].mult(1-F).add(this.points[f].mult(F))}}function je(T,l){let f=!0;return T==="always"||T!=="never"&&l!=="never"||(f=!1),f}class Ke{constructor(l,f,b){const w=this.boxCells=[],P=this.circleCells=[];this.xCellCount=Math.ceil(l/b),this.yCellCount=Math.ceil(f/b);for(let D=0;D<this.xCellCount*this.yCellCount;D++)w.push([]),P.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=l,this.height=f,this.xScale=this.xCellCount/l,this.yScale=this.yCellCount/f,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(l,f,b,w,P){this._forEachCell(f,b,w,P,this._insertBoxCell,this.boxUid++),this.boxKeys.push(l),this.bboxes.push(f),this.bboxes.push(b),this.bboxes.push(w),this.bboxes.push(P)}insertCircle(l,f,b,w){this._forEachCell(f-w,b-w,f+w,b+w,this._insertCircleCell,this.circleUid++),this.circleKeys.push(l),this.circles.push(f),this.circles.push(b),this.circles.push(w)}_insertBoxCell(l,f,b,w,P,D){this.boxCells[P].push(D)}_insertCircleCell(l,f,b,w,P,D){this.circleCells[P].push(D)}_query(l,f,b,w,P,D,$){if(b<0||l>this.width||w<0||f>this.height)return[];const F=[];if(l<=0&&f<=0&&this.width<=b&&this.height<=w){if(P)return[{key:null,x1:l,y1:f,x2:b,y2:w}];for(let H=0;H<this.boxKeys.length;H++)F.push({key:this.boxKeys[H],x1:this.bboxes[4*H],y1:this.bboxes[4*H+1],x2:this.bboxes[4*H+2],y2:this.bboxes[4*H+3]});for(let H=0;H<this.circleKeys.length;H++){const q=this.circles[3*H],Y=this.circles[3*H+1],J=this.circles[3*H+2];F.push({key:this.circleKeys[H],x1:q-J,y1:Y-J,x2:q+J,y2:Y+J})}}else this._forEachCell(l,f,b,w,this._queryCell,F,{hitTest:P,overlapMode:D,seenUids:{box:{},circle:{}}},$);return F}query(l,f,b,w){return this._query(l,f,b,w,!1,null)}hitTest(l,f,b,w,P,D){return this._query(l,f,b,w,!0,P,D).length>0}hitTestCircle(l,f,b,w,P){const D=l-b,$=l+b,F=f-b,H=f+b;if($<0||D>this.width||H<0||F>this.height)return!1;const q=[];return this._forEachCell(D,F,$,H,this._queryCellCircle,q,{hitTest:!0,overlapMode:w,circle:{x:l,y:f,radius:b},seenUids:{box:{},circle:{}}},P),q.length>0}_queryCell(l,f,b,w,P,D,$,F){const{seenUids:H,hitTest:q,overlapMode:Y}=$,J=this.boxCells[P];if(J!==null){const de=this.bboxes;for(const Ce of J)if(!H.box[Ce]){H.box[Ce]=!0;const Se=4*Ce,Pe=this.boxKeys[Ce];if(l<=de[Se+2]&&f<=de[Se+3]&&b>=de[Se+0]&&w>=de[Se+1]&&(!F||F(Pe))&&(!q||!je(Y,Pe.overlapMode))&&(D.push({key:Pe,x1:de[Se],y1:de[Se+1],x2:de[Se+2],y2:de[Se+3]}),q))return!0}}const ce=this.circleCells[P];if(ce!==null){const de=this.circles;for(const Ce of ce)if(!H.circle[Ce]){H.circle[Ce]=!0;const Se=3*Ce,Pe=this.circleKeys[Ce];if(this._circleAndRectCollide(de[Se],de[Se+1],de[Se+2],l,f,b,w)&&(!F||F(Pe))&&(!q||!je(Y,Pe.overlapMode))){const Ie=de[Se],Oe=de[Se+1],$e=de[Se+2];if(D.push({key:Pe,x1:Ie-$e,y1:Oe-$e,x2:Ie+$e,y2:Oe+$e}),q)return!0}}}return!1}_queryCellCircle(l,f,b,w,P,D,$,F){const{circle:H,seenUids:q,overlapMode:Y}=$,J=this.boxCells[P];if(J!==null){const de=this.bboxes;for(const Ce of J)if(!q.box[Ce]){q.box[Ce]=!0;const Se=4*Ce,Pe=this.boxKeys[Ce];if(this._circleAndRectCollide(H.x,H.y,H.radius,de[Se+0],de[Se+1],de[Se+2],de[Se+3])&&(!F||F(Pe))&&!je(Y,Pe.overlapMode))return D.push(!0),!0}}const ce=this.circleCells[P];if(ce!==null){const de=this.circles;for(const Ce of ce)if(!q.circle[Ce]){q.circle[Ce]=!0;const Se=3*Ce,Pe=this.circleKeys[Ce];if(this._circlesCollide(de[Se],de[Se+1],de[Se+2],H.x,H.y,H.radius)&&(!F||F(Pe))&&!je(Y,Pe.overlapMode))return D.push(!0),!0}}}_forEachCell(l,f,b,w,P,D,$,F){const H=this._convertToXCellCoord(l),q=this._convertToYCellCoord(f),Y=this._convertToXCellCoord(b),J=this._convertToYCellCoord(w);for(let ce=H;ce<=Y;ce++)for(let de=q;de<=J;de++)if(P.call(this,l,f,b,w,this.xCellCount*de+ce,D,$,F))return}_convertToXCellCoord(l){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(l*this.xScale)))}_convertToYCellCoord(l){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(l*this.yScale)))}_circlesCollide(l,f,b,w,P,D){const $=w-l,F=P-f,H=b+D;return H*H>$*$+F*F}_circleAndRectCollide(l,f,b,w,P,D,$){const F=(D-w)/2,H=Math.abs(l-(w+F));if(H>F+b)return!1;const q=($-P)/2,Y=Math.abs(f-(P+q));if(Y>q+b)return!1;if(H<=F||Y<=q)return!0;const J=H-F,ce=Y-q;return J*J+ce*ce<=b*b}}function at(T,l,f){const b=a.H();if(!T){const{vecSouth:Y,vecEast:J}=gt(l),ce=h();ce[0]=J[0],ce[1]=J[1],ce[2]=Y[0],ce[3]=Y[1],w=ce,(q=(D=(P=ce)[0])*(H=P[3])-(F=P[2])*($=P[1]))&&(w[0]=H*(q=1/q),w[1]=-$*q,w[2]=-F*q,w[3]=D*q),b[0]=ce[0],b[1]=ce[1],b[4]=ce[2],b[5]=ce[3]}var w,P,D,$,F,H,q;return a.K(b,b,[1/f,1/f,1]),b}function qe(T,l,f,b){if(T){const w=a.H();if(!l){const{vecSouth:P,vecEast:D}=gt(f);w[0]=D[0],w[1]=D[1],w[4]=P[0],w[5]=P[1]}return a.K(w,w,[b,b,1]),w}return f.pixelsToClipSpaceMatrix}function gt(T){const l=Math.cos(T.rollInRadians),f=Math.sin(T.rollInRadians),b=Math.cos(T.pitchInRadians),w=Math.cos(T.bearingInRadians),P=Math.sin(T.bearingInRadians),D=a.ad();D[0]=-w*b*f-P*l,D[1]=-P*b*f+w*l;const $=a.ae(D);$<1e-9?a.af(D):a.ag(D,D,1/$);const F=a.ad();F[0]=w*b*l-P*f,F[1]=P*b*l+w*f;const H=a.ae(F);return H<1e-9?a.af(F):a.ag(F,F,1/H),{vecEast:F,vecSouth:D}}function dt(T,l,f,b){let w;b?(w=[T,l,b(T,l),1],a.al(w,w,f)):(w=[T,l,0,1],oi(w,w,f));const P=w[3];return{point:new a.P(w[0]/P,w[1]/P),signedDistanceFromCamera:P,isOccluded:!1}}function Je(T,l){return .5+T/l*.5}function Ge(T,l){return T.x>=-l[0]&&T.x<=l[0]&&T.y>=-l[1]&&T.y<=l[1]}function Nt(T,l,f,b,w,P,D,$,F,H,q,Y,J){const ce=f?T.textSizeData:T.iconSizeData,de=a.ah(ce,l.transform.zoom),Ce=[256/l.width*2+1,256/l.height*2+1],Se=f?T.text.dynamicLayoutVertexArray:T.icon.dynamicLayoutVertexArray;Se.clear();const Pe=T.lineVertexArray,Ie=f?T.text.placedSymbolArray:T.icon.placedSymbolArray,Oe=l.transform.width/l.transform.height;let $e=!1;for(let Fe=0;Fe<Ie.length;Fe++){const We=Ie.get(Fe);if(We.hidden||We.writingMode===a.ai.vertical&&!$e){di(We.numGlyphs,Se);continue}$e=!1;const He=new a.P(We.anchorX,We.anchorY),et={getElevation:J,pitchedLabelPlaneMatrix:b,lineVertexArray:Pe,pitchWithMap:P,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:l.transform,tileAnchorPoint:He,unwrappedTileID:F,width:H,height:q,translation:Y},it=qn(We.anchorX,We.anchorY,et);if(!Ge(it.point,Ce)){di(We.numGlyphs,Se);continue}const _t=Je(l.transform.cameraToCenterDistance,it.signedDistanceFromCamera),vt=a.aj(ce,de,We),pt=P?vt*l.transform.getPitchedTextCorrection(We.anchorX,We.anchorY,F)/_t:vt*_t,Ut=wn({projectionContext:et,pitchedLabelPlaneMatrixInverse:w,symbol:We,fontSize:pt,flip:!1,keepUpright:D,glyphOffsetArray:T.glyphOffsetArray,dynamicLayoutVertexArray:Se,aspectRatio:Oe,rotateToLine:$});$e=Ut.useVertical,(Ut.notEnoughRoom||$e||Ut.needsFlipping&&wn({projectionContext:et,pitchedLabelPlaneMatrixInverse:w,symbol:We,fontSize:pt,flip:!0,keepUpright:D,glyphOffsetArray:T.glyphOffsetArray,dynamicLayoutVertexArray:Se,aspectRatio:Oe,rotateToLine:$}).notEnoughRoom)&&di(We.numGlyphs,Se)}f?T.text.dynamicLayoutVertexBuffer.updateData(Se):T.icon.dynamicLayoutVertexBuffer.updateData(Se)}function Vt(T,l,f,b,w,P,D,$){const F=P.glyphStartIndex+P.numGlyphs,H=P.lineStartIndex,q=P.lineStartIndex+P.lineLength,Y=l.getoffsetX(P.glyphStartIndex),J=l.getoffsetX(F-1),ce=Ir(T*Y,f,b,w,P.segment,H,q,$,D);if(!ce)return null;const de=Ir(T*J,f,b,w,P.segment,H,q,$,D);return de?$.projectionCache.anyProjectionOccluded?null:{first:ce,last:de}:null}function dn(T,l,f,b){return T===a.ai.horizontal&&Math.abs(f.y-l.y)>Math.abs(f.x-l.x)*b?{useVertical:!0}:(T===a.ai.vertical?l.y<f.y:l.x>f.x)?{needsFlipping:!0}:null}function wn(T){const{projectionContext:l,pitchedLabelPlaneMatrixInverse:f,symbol:b,fontSize:w,flip:P,keepUpright:D,glyphOffsetArray:$,dynamicLayoutVertexArray:F,aspectRatio:H,rotateToLine:q}=T,Y=w/24,J=b.lineOffsetX*Y,ce=b.lineOffsetY*Y;let de;if(b.numGlyphs>1){const Ce=b.glyphStartIndex+b.numGlyphs,Se=b.lineStartIndex,Pe=b.lineStartIndex+b.lineLength,Ie=Vt(Y,$,J,ce,P,b,q,l);if(!Ie)return{notEnoughRoom:!0};const Oe=kn(Ie.first.point.x,Ie.first.point.y,l,f),$e=kn(Ie.last.point.x,Ie.last.point.y,l,f);if(D&&!P){const Fe=dn(b.writingMode,Oe,$e,H);if(Fe)return Fe}de=[Ie.first];for(let Fe=b.glyphStartIndex+1;Fe<Ce-1;Fe++)de.push(Ir(Y*$.getoffsetX(Fe),J,ce,P,b.segment,Se,Pe,l,q));de.push(Ie.last)}else{if(D&&!P){const Se=nn(l.tileAnchorPoint.x,l.tileAnchorPoint.y,l).point,Pe=b.lineStartIndex+b.segment+1,Ie=new a.P(l.lineVertexArray.getx(Pe),l.lineVertexArray.gety(Pe)),Oe=nn(Ie.x,Ie.y,l),$e=Oe.signedDistanceFromCamera>0?Oe.point:yt(l.tileAnchorPoint,Ie,Se,1,l),Fe=kn(Se.x,Se.y,l,f),We=kn($e.x,$e.y,l,f),He=dn(b.writingMode,Fe,We,H);if(He)return He}const Ce=Ir(Y*$.getoffsetX(b.glyphStartIndex),J,ce,P,b.segment,b.lineStartIndex,b.lineStartIndex+b.lineLength,l,q);if(!Ce||l.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};de=[Ce]}for(const Ce of de)a.ak(F,Ce.point,Ce.angle);return{}}function yt(T,l,f,b,w){const P=T.add(T.sub(l)._unit()),D=nn(P.x,P.y,w).point,$=f.sub(D);return f.add($._mult(b/$.mag()))}function Gt(T,l,f){const b=l.projectionCache;if(b.projections[T])return b.projections[T];const w=new a.P(l.lineVertexArray.getx(T),l.lineVertexArray.gety(T)),P=nn(w.x,w.y,l);if(P.signedDistanceFromCamera>0)return b.projections[T]=P.point,b.anyProjectionOccluded=b.anyProjectionOccluded||P.isOccluded,P.point;const D=T-f.direction;return yt(f.distanceFromAnchor===0?l.tileAnchorPoint:new a.P(l.lineVertexArray.getx(D),l.lineVertexArray.gety(D)),w,f.previousVertex,f.absOffsetX-f.distanceFromAnchor+1,l)}function nn(T,l,f){const b=T+f.translation[0],w=l+f.translation[1];let P;return f.pitchWithMap?(P=dt(b,w,f.pitchedLabelPlaneMatrix,f.getElevation),P.isOccluded=!1):(P=f.transform.projectTileCoordinates(b,w,f.unwrappedTileID,f.getElevation),P.point.x=(.5*P.point.x+.5)*f.width,P.point.y=(.5*-P.point.y+.5)*f.height),P}function kn(T,l,f,b){if(f.pitchWithMap){const w=[T,l,0,1];return a.al(w,w,b),f.transform.projectTileCoordinates(w[0]/w[3],w[1]/w[3],f.unwrappedTileID,f.getElevation).point}return{x:T/f.width*2-1,y:l/f.height*2-1}}function qn(T,l,f){return f.transform.projectTileCoordinates(T,l,f.unwrappedTileID,f.getElevation)}function mn(T,l,f){return T._unit()._perp()._mult(l*f)}function Jt(T,l,f,b,w,P,D,$,F){if($.projectionCache.offsets[T])return $.projectionCache.offsets[T];const H=f.add(l);if(T+F.direction<b||T+F.direction>=w)return $.projectionCache.offsets[T]=H,H;const q=Gt(T+F.direction,$,F),Y=mn(q.sub(f),D,F.direction),J=f.add(Y),ce=q.add(Y);return $.projectionCache.offsets[T]=a.am(P,H,J,ce)||H,$.projectionCache.offsets[T]}function Ir(T,l,f,b,w,P,D,$,F){const H=b?T-l:T+l;let q=H>0?1:-1,Y=0;b&&(q*=-1,Y=Math.PI),q<0&&(Y+=Math.PI);let J,ce=q>0?P+w:P+w+1;$.projectionCache.cachedAnchorPoint?J=$.projectionCache.cachedAnchorPoint:(J=nn($.tileAnchorPoint.x,$.tileAnchorPoint.y,$).point,$.projectionCache.cachedAnchorPoint=J);let de,Ce,Se=J,Pe=J,Ie=0,Oe=0;const $e=Math.abs(H),Fe=[];let We;for(;Ie+Oe<=$e;){if(ce+=q,ce<P||ce>=D)return null;Ie+=Oe,Pe=Se,Ce=de;const it={absOffsetX:$e,direction:q,distanceFromAnchor:Ie,previousVertex:Pe};if(Se=Gt(ce,$,it),f===0)Fe.push(Pe),We=Se.sub(Pe);else{let _t;const vt=Se.sub(Pe);_t=vt.mag()===0?mn(Gt(ce+q,$,it).sub(Se),f,q):mn(vt,f,q),Ce||(Ce=Pe.add(_t)),de=Jt(ce,_t,Se,P,D,Ce,f,$,it),Fe.push(Ce),We=de.sub(Ce)}Oe=We.mag()}const He=We._mult(($e-Ie)/Oe)._add(Ce||Pe),et=Y+Math.atan2(Se.y-Pe.y,Se.x-Pe.x);return Fe.push(He),{point:He,angle:F?et:0,path:Fe}}const za=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function di(T,l){for(let f=0;f<T;f++){const b=l.length;l.resize(b+4),l.float32.set(za,3*b)}}function oi(T,l,f){const b=l[0],w=l[1];return T[0]=f[0]*b+f[4]*w+f[12],T[1]=f[1]*b+f[5]*w+f[13],T[3]=f[3]*b+f[7]*w+f[15],T}const _r=100;class yo{constructor(l,f=new Ke(l.width+200,l.height+200,25),b=new Ke(l.width+200,l.height+200,25)){this.transform=l,this.grid=f,this.ignoredGrid=b,this.pitchFactor=Math.cos(l.pitch*Math.PI/180)*l.cameraToCenterDistance,this.screenRightBoundary=l.width+_r,this.screenBottomBoundary=l.height+_r,this.gridRightBoundary=l.width+200,this.gridBottomBoundary=l.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(l,f,b,w,P,D,$,F,H,q,Y,J){const ce=this.projectAndGetPerspectiveRatio(l.anchorPointX+F[0],l.anchorPointY+F[1],P,q,J),de=b*ce.perspectiveRatio;let Ce;if(D||$)Ce=this._projectCollisionBox(l,de,w,P,D,$,F,ce,q,Y,J);else{const We=ce.x+(Y?Y.x*de:0),He=ce.y+(Y?Y.y*de:0);Ce={allPointsOccluded:!1,box:[We+l.x1*de,He+l.y1*de,We+l.x2*de,He+l.y2*de]}}const[Se,Pe,Ie,Oe]=Ce.box,$e=D?Ce.allPointsOccluded:ce.isOccluded;let Fe=$e;return Fe||(Fe=ce.perspectiveRatio<this.perspectiveRatioCutoff),Fe||(Fe=!this.isInsideGrid(Se,Pe,Ie,Oe)),Fe||f!=="always"&&this.grid.hitTest(Se,Pe,Ie,Oe,f,H)?{box:[Se,Pe,Ie,Oe],placeable:!1,offscreen:!1,occluded:$e}:{box:[Se,Pe,Ie,Oe],placeable:!0,offscreen:this.isOffscreen(Se,Pe,Ie,Oe),occluded:$e}}placeCollisionCircles(l,f,b,w,P,D,$,F,H,q,Y,J,ce,de){const Ce=[],Se=new a.P(f.anchorX,f.anchorY),Pe=this.getPerspectiveRatio(Se.x,Se.y,D,de),Ie=(H?P*this.transform.getPitchedTextCorrection(f.anchorX,f.anchorY,D)/Pe:P*Pe)/a.as,Oe={getElevation:de,pitchedLabelPlaneMatrix:$,lineVertexArray:b,pitchWithMap:H,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:this.transform,tileAnchorPoint:Se,unwrappedTileID:D,width:this.transform.width,height:this.transform.height,translation:ce},$e=Vt(Ie,w,f.lineOffsetX*Ie,f.lineOffsetY*Ie,!1,f,!1,Oe);let Fe=!1,We=!1,He=!0;if($e){const et=.5*Y*Pe+J,it=new a.P(-100,-100),_t=new a.P(this.screenRightBoundary,this.screenBottomBoundary),vt=new Me,pt=$e.first,Ut=$e.last;let jt=[];for(let In=pt.path.length-1;In>=1;In--)jt.push(pt.path[In]);for(let In=1;In<Ut.path.length;In++)jt.push(Ut.path[In]);const bt=2.5*et;if(H){const In=this.projectPathToScreenSpace(jt,Oe);jt=In.some(rr=>rr.signedDistanceFromCamera<=0)?[]:In.map(rr=>rr.point)}let on=[];if(jt.length>0){const In=jt[0].clone(),rr=jt[0].clone();for(let Hr=1;Hr<jt.length;Hr++)In.x=Math.min(In.x,jt[Hr].x),In.y=Math.min(In.y,jt[Hr].y),rr.x=Math.max(rr.x,jt[Hr].x),rr.y=Math.max(rr.y,jt[Hr].y);on=In.x>=it.x&&rr.x<=_t.x&&In.y>=it.y&&rr.y<=_t.y?[jt]:rr.x<it.x||In.x>_t.x||rr.y<it.y||In.y>_t.y?[]:a.ao([jt],it.x,it.y,_t.x,_t.y)}for(const In of on){vt.reset(In,.25*et);let rr=0;rr=vt.length<=.5*et?1:Math.ceil(vt.paddedLength/bt)+1;for(let Hr=0;Hr<rr;Hr++){const pr=Hr/Math.max(rr-1,1),xr=vt.lerp(pr),Rr=xr.x+_r,cr=xr.y+_r;Ce.push(Rr,cr,et,0);const wr=Rr-et,Ii=cr-et,vi=Rr+et,Fi=cr+et;if(He=He&&this.isOffscreen(wr,Ii,vi,Fi),We=We||this.isInsideGrid(wr,Ii,vi,Fi),l!=="always"&&this.grid.hitTestCircle(Rr,cr,et,l,q)&&(Fe=!0,!F))return{circles:[],offscreen:!1,collisionDetected:Fe}}}}return{circles:!F&&Fe||!We||Pe<this.perspectiveRatioCutoff?[]:Ce,offscreen:He,collisionDetected:Fe}}projectPathToScreenSpace(l,f){const b=function(w,P){const D=a.H();return a.an(D,P.pitchedLabelPlaneMatrix),w.map($=>{const F=dt($.x,$.y,D,P.getElevation),H=P.transform.projectTileCoordinates(F.point.x,F.point.y,P.unwrappedTileID,P.getElevation);return H.point.x=(.5*H.point.x+.5)*P.width,H.point.y=(.5*-H.point.y+.5)*P.height,H})}(l,f);return function(w){let P=0,D=0,$=0,F=0;for(let H=0;H<w.length;H++)w[H].isOccluded?($=H+1,F=0):(F++,F>D&&(D=F,P=$));return w.slice(P,P+D)}(b)}queryRenderedSymbols(l){if(l.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const f=[];let b=1/0,w=1/0,P=-1/0,D=-1/0;for(const q of l){const Y=new a.P(q.x+_r,q.y+_r);b=Math.min(b,Y.x),w=Math.min(w,Y.y),P=Math.max(P,Y.x),D=Math.max(D,Y.y),f.push(Y)}const $=this.grid.query(b,w,P,D).concat(this.ignoredGrid.query(b,w,P,D)),F={},H={};for(const q of $){const Y=q.key;if(F[Y.bucketInstanceId]===void 0&&(F[Y.bucketInstanceId]={}),F[Y.bucketInstanceId][Y.featureIndex])continue;const J=[new a.P(q.x1,q.y1),new a.P(q.x2,q.y1),new a.P(q.x2,q.y2),new a.P(q.x1,q.y2)];a.ap(f,J)&&(F[Y.bucketInstanceId][Y.featureIndex]=!0,H[Y.bucketInstanceId]===void 0&&(H[Y.bucketInstanceId]=[]),H[Y.bucketInstanceId].push(Y.featureIndex))}return H}insertCollisionBox(l,f,b,w,P,D){(b?this.ignoredGrid:this.grid).insert({bucketInstanceId:w,featureIndex:P,collisionGroupID:D,overlapMode:f},l[0],l[1],l[2],l[3])}insertCollisionCircles(l,f,b,w,P,D){const $=b?this.ignoredGrid:this.grid,F={bucketInstanceId:w,featureIndex:P,collisionGroupID:D,overlapMode:f};for(let H=0;H<l.length;H+=4)$.insertCircle(F,l[H],l[H+1],l[H+2])}projectAndGetPerspectiveRatio(l,f,b,w,P){if(P){let D;w?(D=[l,f,w(l,f),1],a.al(D,D,P)):(D=[l,f,0,1],oi(D,D,P));const $=D[3];return{x:(D[0]/$+1)/2*this.transform.width+_r,y:(-D[1]/$+1)/2*this.transform.height+_r,perspectiveRatio:.5+this.transform.cameraToCenterDistance/$*.5,isOccluded:!1,signedDistanceFromCamera:$}}{const D=this.transform.projectTileCoordinates(l,f,b,w);return{x:(D.point.x+1)/2*this.transform.width+_r,y:(1-D.point.y)/2*this.transform.height+_r,perspectiveRatio:.5+this.transform.cameraToCenterDistance/D.signedDistanceFromCamera*.5,isOccluded:D.isOccluded,signedDistanceFromCamera:D.signedDistanceFromCamera}}}getPerspectiveRatio(l,f,b,w){const P=this.transform.projectTileCoordinates(l,f,b,w);return .5+this.transform.cameraToCenterDistance/P.signedDistanceFromCamera*.5}isOffscreen(l,f,b,w){return b<_r||l>=this.screenRightBoundary||w<_r||f>this.screenBottomBoundary}isInsideGrid(l,f,b,w){return b>=0&&l<this.gridRightBoundary&&w>=0&&f<this.gridBottomBoundary}getViewportMatrix(){const l=a.aq([]);return a.J(l,l,[-100,-100,0]),l}_projectCollisionBox(l,f,b,w,P,D,$,F,H,q,Y){let J=1,ce=0,de=0,Ce=1;const Se=l.anchorPointX+$[0],Pe=l.anchorPointY+$[1];if(D&&!P){const jt=this.projectAndGetPerspectiveRatio(Se+1,Pe,w,H,Y),bt=jt.x-F.x,on=Math.atan((jt.y-F.y)/bt)+(bt<0?Math.PI:0),In=Math.sin(on),rr=Math.cos(on);J=rr,ce=In,de=-In,Ce=rr}else if(!D&&P){const jt=gt(this.transform);J=jt.vecEast[0],ce=jt.vecEast[1],de=jt.vecSouth[0],Ce=jt.vecSouth[1]}let Ie=F.x,Oe=F.y,$e=f;P&&(Ie=Se,Oe=Pe,$e=Math.pow(2,-(this.transform.zoom-b.overscaledZ)),$e*=this.transform.getPitchedTextCorrection(Se,Pe,w),q||($e*=a.ab(.5+F.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))),q&&(Ie+=J*q.x*$e+de*q.y*$e,Oe+=ce*q.x*$e+Ce*q.y*$e);const Fe=l.x1*$e,We=l.x2*$e,He=(Fe+We)/2,et=l.y1*$e,it=l.y2*$e,_t=(et+it)/2,vt=[{offsetX:Fe,offsetY:et},{offsetX:He,offsetY:et},{offsetX:We,offsetY:et},{offsetX:We,offsetY:_t},{offsetX:We,offsetY:it},{offsetX:He,offsetY:it},{offsetX:Fe,offsetY:it},{offsetX:Fe,offsetY:_t}];let pt=[];for(const{offsetX:jt,offsetY:bt}of vt)pt.push(new a.P(Ie+J*jt+de*bt,Oe+ce*jt+Ce*bt));let Ut=!1;if(P){const jt=pt.map(bt=>this.projectAndGetPerspectiveRatio(bt.x,bt.y,w,H,Y));Ut=jt.some(bt=>!bt.isOccluded),pt=jt.map(bt=>new a.P(bt.x,bt.y))}else Ut=!0;return{box:a.ar(pt),allPointsOccluded:!Ut}}}class Mr{constructor(l,f,b,w){this.opacity=l?Math.max(0,Math.min(1,l.opacity+(l.placed?f:-f))):w&&b?1:0,this.placed=b}isHidden(){return this.opacity===0&&!this.placed}}class au{constructor(l,f,b,w,P){this.text=new Mr(l?l.text:null,f,b,P),this.icon=new Mr(l?l.icon:null,f,w,P)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Ws{constructor(l,f,b){this.text=l,this.icon=f,this.skipFade=b}}class su{constructor(l,f,b,w,P){this.bucketInstanceId=l,this.featureIndex=f,this.sourceLayerIndex=b,this.bucketIndex=w,this.tileID=P}}class _o{constructor(l){this.crossSourceCollisions=l,this.maxGroupID=0,this.collisionGroups={}}get(l){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[l]){const f=++this.maxGroupID;this.collisionGroups[l]={ID:f,predicate:b=>b.collisionGroupID===f}}return this.collisionGroups[l]}}function cs(T,l,f,b,w){const{horizontalAlign:P,verticalAlign:D}=a.ay(T);return new a.P(-(P-.5)*l+b[0]*w,-(D-.5)*f+b[1]*w)}class ep{constructor(l,f,b,w,P){this.transform=l.clone(),this.terrain=f,this.collisionIndex=new yo(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=b,this.retainedQueryData={},this.collisionGroups=new _o(w),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=P,P&&(P.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(l){const f=this.terrain;return f?(b,w)=>f.getElevation(l,b,w):null}getBucketParts(l,f,b,w){const P=b.getBucket(f),D=b.latestFeatureIndex;if(!P||!D||f.id!==P.layerIds[0])return;const $=b.collisionBoxArray,F=P.layers[0].layout,H=P.layers[0].paint,q=Math.pow(2,this.transform.zoom-b.tileID.overscaledZ),Y=b.tileSize/a.X,J=b.tileID.toUnwrapped(),ce=F.get("text-rotation-alignment")==="map",de=a.at(b,1,this.transform.zoom),Ce=a.au(this.collisionIndex.transform,b,H.get("text-translate"),H.get("text-translate-anchor")),Se=a.au(this.collisionIndex.transform,b,H.get("icon-translate"),H.get("icon-translate-anchor")),Pe=at(ce,this.transform,de);this.retainedQueryData[P.bucketInstanceId]=new su(P.bucketInstanceId,D,P.sourceLayerIndex,P.index,b.tileID);const Ie={bucket:P,layout:F,translationText:Ce,translationIcon:Se,unwrappedTileID:J,pitchedLabelPlaneMatrix:Pe,scale:q,textPixelRatio:Y,holdingForFade:b.holdingForFade(),collisionBoxArray:$,partiallyEvaluatedTextSize:a.ah(P.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(P.sourceID)};if(w)for(const Oe of P.sortKeyRanges){const{sortKey:$e,symbolInstanceStart:Fe,symbolInstanceEnd:We}=Oe;l.push({sortKey:$e,symbolInstanceStart:Fe,symbolInstanceEnd:We,parameters:Ie})}else l.push({symbolInstanceStart:0,symbolInstanceEnd:P.symbolInstances.length,parameters:Ie})}attemptAnchorPlacement(l,f,b,w,P,D,$,F,H,q,Y,J,ce,de,Ce,Se,Pe,Ie,Oe,$e){const Fe=a.av[l.textAnchor],We=[l.textOffset0,l.textOffset1],He=cs(Fe,b,w,We,P),et=this.collisionIndex.placeCollisionBox(f,J,F,H,q,$,D,Se,Y.predicate,Oe,He,$e);if((!Ie||this.collisionIndex.placeCollisionBox(Ie,J,F,H,q,$,D,Pe,Y.predicate,Oe,He,$e).placeable)&&et.placeable){let it;if(this.prevPlacement&&this.prevPlacement.variableOffsets[ce.crossTileID]&&this.prevPlacement.placements[ce.crossTileID]&&this.prevPlacement.placements[ce.crossTileID].text&&(it=this.prevPlacement.variableOffsets[ce.crossTileID].anchor),ce.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[ce.crossTileID]={textOffset:We,width:b,height:w,anchor:Fe,textBoxScale:P,prevAnchor:it},this.markUsedJustification(de,Fe,ce,Ce),de.allowVerticalPlacement&&(this.markUsedOrientation(de,Ce,ce),this.placedOrientations[ce.crossTileID]=Ce),{shift:He,placedGlyphBoxes:et}}}placeLayerBucketPart(l,f,b){const{bucket:w,layout:P,translationText:D,translationIcon:$,unwrappedTileID:F,pitchedLabelPlaneMatrix:H,textPixelRatio:q,holdingForFade:Y,collisionBoxArray:J,partiallyEvaluatedTextSize:ce,collisionGroup:de}=l.parameters,Ce=P.get("text-optional"),Se=P.get("icon-optional"),Pe=a.aw(P,"text-overlap","text-allow-overlap"),Ie=Pe==="always",Oe=a.aw(P,"icon-overlap","icon-allow-overlap"),$e=Oe==="always",Fe=P.get("text-rotation-alignment")==="map",We=P.get("text-pitch-alignment")==="map",He=P.get("icon-text-fit")!=="none",et=P.get("symbol-z-order")==="viewport-y",it=Ie&&($e||!w.hasIconData()||Se),_t=$e&&(Ie||!w.hasTextData()||Ce);!w.collisionArrays&&J&&w.deserializeCollisionBoxes(J);const vt=this.retainedQueryData[w.bucketInstanceId].tileID,pt=this._getTerrainElevationFunc(vt),Ut=this.transform.getFastPathSimpleProjectionMatrix(vt),jt=(bt,on,In)=>{var rr,Hr;if(f[bt.crossTileID])return;if(Y)return void(this.placements[bt.crossTileID]=new Ws(!1,!1,!1));let pr=!1,xr=!1,Rr=!0,cr=null,wr={box:null,placeable:!1,offscreen:null,occluded:!1},Ii={box:null,placeable:!1,offscreen:null},vi=null,Fi=null,ho=null,vs=0,ia=0,ys=0;on.textFeatureIndex?vs=on.textFeatureIndex:bt.useRuntimeCollisionCircles&&(vs=bt.featureIndex),on.verticalTextFeatureIndex&&(ia=on.verticalTextFeatureIndex);const Cu=on.textBox;if(Cu){const fo=Lr=>{let Mi=a.ai.horizontal;if(w.allowVerticalPlacement&&!Lr&&this.prevPlacement){const Ni=this.prevPlacement.placedOrientations[bt.crossTileID];Ni&&(this.placedOrientations[bt.crossTileID]=Ni,Mi=Ni,this.markUsedOrientation(w,Mi,bt))}return Mi},oa=(Lr,Mi)=>{if(w.allowVerticalPlacement&&bt.numVerticalGlyphVertices>0&&on.verticalTextBox){for(const Ni of w.writingModes)if(Ni===a.ai.vertical?(wr=Mi(),Ii=wr):wr=Lr(),wr&&wr.placeable)break}else wr=Lr()},So=bt.textAnchorOffsetStartIndex,Co=bt.textAnchorOffsetEndIndex;if(Co===So){const Lr=(Mi,Ni)=>{const Vi=this.collisionIndex.placeCollisionBox(Mi,Pe,q,vt,F,We,Fe,D,de.predicate,pt,void 0,Ut);return Vi&&Vi.placeable&&(this.markUsedOrientation(w,Ni,bt),this.placedOrientations[bt.crossTileID]=Ni),Vi};oa(()=>Lr(Cu,a.ai.horizontal),()=>{const Mi=on.verticalTextBox;return w.allowVerticalPlacement&&bt.numVerticalGlyphVertices>0&&Mi?Lr(Mi,a.ai.vertical):{box:null,offscreen:null}}),fo(wr&&wr.placeable)}else{let Lr=a.av[(Hr=(rr=this.prevPlacement)===null||rr===void 0?void 0:rr.variableOffsets[bt.crossTileID])===null||Hr===void 0?void 0:Hr.anchor];const Mi=(Vi,f1,ty)=>{const p1=Vi.x2-Vi.x1,Tu=Vi.y2-Vi.y1,Pu=bt.textBoxScale,m1=He&&Oe==="never"?f1:null;let Eu=null,zp=Pe==="never"?1:2,ny="never";Lr&&zp++;for(let g1=0;g1<zp;g1++){for(let Bp=So;Bp<Co;Bp++){const v1=w.textAnchorOffsets.get(Bp);if(Lr&&v1.textAnchor!==Lr)continue;const fd=this.attemptAnchorPlacement(v1,Vi,p1,Tu,Pu,Fe,We,q,vt,F,de,ny,bt,w,ty,D,$,m1,pt);if(fd&&(Eu=fd.placedGlyphBoxes,Eu&&Eu.placeable))return pr=!0,cr=fd.shift,Eu}Lr?Lr=null:ny=Pe}return b&&!Eu&&(Eu={box:this.collisionIndex.placeCollisionBox(Cu,"always",q,vt,F,We,Fe,D,de.predicate,pt,void 0,Ut).box,offscreen:!1,placeable:!1,occluded:!1}),Eu};oa(()=>Mi(Cu,on.iconBox,a.ai.horizontal),()=>{const Vi=on.verticalTextBox;return w.allowVerticalPlacement&&(!wr||!wr.placeable)&&bt.numVerticalGlyphVertices>0&&Vi?Mi(Vi,on.verticalIconBox,a.ai.vertical):{box:null,occluded:!0,offscreen:null}}),wr&&(pr=wr.placeable,Rr=wr.offscreen);const Ni=fo(wr&&wr.placeable);if(!pr&&this.prevPlacement){const Vi=this.prevPlacement.variableOffsets[bt.crossTileID];Vi&&(this.variableOffsets[bt.crossTileID]=Vi,this.markUsedJustification(w,Vi.anchor,bt,Ni))}}}if(vi=wr,pr=vi&&vi.placeable,Rr=vi&&vi.offscreen,bt.useRuntimeCollisionCircles){const fo=w.text.placedSymbolArray.get(bt.centerJustifiedTextSymbolIndex),oa=a.aj(w.textSizeData,ce,fo),So=P.get("text-padding");Fi=this.collisionIndex.placeCollisionCircles(Pe,fo,w.lineVertexArray,w.glyphOffsetArray,oa,F,H,b,We,de.predicate,bt.collisionCircleDiameter,So,D,pt),Fi.circles.length&&Fi.collisionDetected&&!b&&a.w("Collisions detected, but collision boxes are not shown"),pr=Ie||Fi.circles.length>0&&!Fi.collisionDetected,Rr=Rr&&Fi.offscreen}if(on.iconFeatureIndex&&(ys=on.iconFeatureIndex),on.iconBox){const fo=oa=>this.collisionIndex.placeCollisionBox(oa,Oe,q,vt,F,We,Fe,$,de.predicate,pt,He&&cr?cr:void 0,Ut);Ii&&Ii.placeable&&on.verticalIconBox?(ho=fo(on.verticalIconBox),xr=ho.placeable):(ho=fo(on.iconBox),xr=ho.placeable),Rr=Rr&&ho.offscreen}const dd=Ce||bt.numHorizontalGlyphVertices===0&&bt.numVerticalGlyphVertices===0,$p=Se||bt.numIconVertices===0;dd||$p?$p?dd||(xr=xr&&pr):pr=xr&&pr:xr=pr=xr&&pr;const bl=xr&&ho.placeable;if(pr&&vi.placeable&&this.collisionIndex.insertCollisionBox(vi.box,Pe,P.get("text-ignore-placement"),w.bucketInstanceId,Ii&&Ii.placeable&&ia?ia:vs,de.ID),bl&&this.collisionIndex.insertCollisionBox(ho.box,Oe,P.get("icon-ignore-placement"),w.bucketInstanceId,ys,de.ID),Fi&&pr&&this.collisionIndex.insertCollisionCircles(Fi.circles,Pe,P.get("text-ignore-placement"),w.bucketInstanceId,vs,de.ID),b&&this.storeCollisionData(w.bucketInstanceId,In,on,vi,ho,Fi),bt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(w.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[bt.crossTileID]=new Ws((pr||it)&&!(vi!=null&&vi.occluded),(xr||_t)&&!(ho!=null&&ho.occluded),Rr||w.justReloaded),f[bt.crossTileID]=!0};if(et){if(l.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const bt=w.getSortedSymbolIndexes(-this.transform.bearingInRadians);for(let on=bt.length-1;on>=0;--on){const In=bt[on];jt(w.symbolInstances.get(In),w.collisionArrays[In],In)}}else for(let bt=l.symbolInstanceStart;bt<l.symbolInstanceEnd;bt++)jt(w.symbolInstances.get(bt),w.collisionArrays[bt],bt);w.justReloaded=!1}storeCollisionData(l,f,b,w,P,D){if(b.textBox||b.iconBox){let $,F;this.collisionBoxArrays.has(l)?$=this.collisionBoxArrays.get(l):($=new Map,this.collisionBoxArrays.set(l,$)),$.has(f)?F=$.get(f):(F={text:null,icon:null},$.set(f,F)),b.textBox&&(F.text=w.box),b.iconBox&&(F.icon=P.box)}if(D){let $=this.collisionCircleArrays[l];$===void 0&&($=this.collisionCircleArrays[l]=[]);for(let F=0;F<D.circles.length;F+=4)$.push(D.circles[F+0]-_r),$.push(D.circles[F+1]-_r),$.push(D.circles[F+2]),$.push(D.collisionDetected?1:0)}}markUsedJustification(l,f,b,w){let P;P=w===a.ai.vertical?b.verticalPlacedTextSymbolIndex:{left:b.leftJustifiedTextSymbolIndex,center:b.centerJustifiedTextSymbolIndex,right:b.rightJustifiedTextSymbolIndex}[a.ax(f)];const D=[b.leftJustifiedTextSymbolIndex,b.centerJustifiedTextSymbolIndex,b.rightJustifiedTextSymbolIndex,b.verticalPlacedTextSymbolIndex];for(const $ of D)$>=0&&(l.text.placedSymbolArray.get($).crossTileID=P>=0&&$!==P?0:b.crossTileID)}markUsedOrientation(l,f,b){const w=f===a.ai.horizontal||f===a.ai.horizontalOnly?f:0,P=f===a.ai.vertical?f:0,D=[b.leftJustifiedTextSymbolIndex,b.centerJustifiedTextSymbolIndex,b.rightJustifiedTextSymbolIndex];for(const $ of D)l.text.placedSymbolArray.get($).placedOrientation=w;b.verticalPlacedTextSymbolIndex&&(l.text.placedSymbolArray.get(b.verticalPlacedTextSymbolIndex).placedOrientation=P)}commit(l){this.commitTime=l,this.zoomAtLastRecencyCheck=this.transform.zoom;const f=this.prevPlacement;let b=!1;this.prevZoomAdjustment=f?f.zoomAdjustment(this.transform.zoom):0;const w=f?f.symbolFadeChange(l):1,P=f?f.opacities:{},D=f?f.variableOffsets:{},$=f?f.placedOrientations:{};for(const F in this.placements){const H=this.placements[F],q=P[F];q?(this.opacities[F]=new au(q,w,H.text,H.icon),b=b||H.text!==q.text.placed||H.icon!==q.icon.placed):(this.opacities[F]=new au(null,w,H.text,H.icon,H.skipFade),b=b||H.text||H.icon)}for(const F in P){const H=P[F];if(!this.opacities[F]){const q=new au(H,w,!1,!1);q.isHidden()||(this.opacities[F]=q,b=b||H.text.placed||H.icon.placed)}}for(const F in D)this.variableOffsets[F]||!this.opacities[F]||this.opacities[F].isHidden()||(this.variableOffsets[F]=D[F]);for(const F in $)this.placedOrientations[F]||!this.opacities[F]||this.opacities[F].isHidden()||(this.placedOrientations[F]=$[F]);if(f&&f.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");b?this.lastPlacementChangeTime=l:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=f?f.lastPlacementChangeTime:l)}updateLayerOpacities(l,f){const b={};for(const w of f){const P=w.getBucket(l);P&&w.latestFeatureIndex&&l.id===P.layerIds[0]&&this.updateBucketOpacities(P,w.tileID,b,w.collisionBoxArray)}}updateBucketOpacities(l,f,b,w){l.hasTextData()&&(l.text.opacityVertexArray.clear(),l.text.hasVisibleVertices=!1),l.hasIconData()&&(l.icon.opacityVertexArray.clear(),l.icon.hasVisibleVertices=!1),l.hasIconCollisionBoxData()&&l.iconCollisionBox.collisionVertexArray.clear(),l.hasTextCollisionBoxData()&&l.textCollisionBox.collisionVertexArray.clear();const P=l.layers[0],D=P.layout,$=new au(null,0,!1,!1,!0),F=D.get("text-allow-overlap"),H=D.get("icon-allow-overlap"),q=P._unevaluatedLayout.hasValue("text-variable-anchor")||P._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Y=D.get("text-rotation-alignment")==="map",J=D.get("text-pitch-alignment")==="map",ce=D.get("icon-text-fit")!=="none",de=new au(null,0,F&&(H||!l.hasIconData()||D.get("icon-optional")),H&&(F||!l.hasTextData()||D.get("text-optional")),!0);!l.collisionArrays&&w&&(l.hasIconCollisionBoxData()||l.hasTextCollisionBoxData())&&l.deserializeCollisionBoxes(w);const Ce=(Pe,Ie,Oe)=>{for(let $e=0;$e<Ie/4;$e++)Pe.opacityVertexArray.emplaceBack(Oe);Pe.hasVisibleVertices=Pe.hasVisibleVertices||Oe!==lu},Se=this.collisionBoxArrays.get(l.bucketInstanceId);for(let Pe=0;Pe<l.symbolInstances.length;Pe++){const Ie=l.symbolInstances.get(Pe),{numHorizontalGlyphVertices:Oe,numVerticalGlyphVertices:$e,crossTileID:Fe}=Ie;let We=this.opacities[Fe];b[Fe]?We=$:We||(We=de,this.opacities[Fe]=We),b[Fe]=!0;const He=Ie.numIconVertices>0,et=this.placedOrientations[Ie.crossTileID],it=et===a.ai.vertical,_t=et===a.ai.horizontal||et===a.ai.horizontalOnly;if(Oe>0||$e>0){const pt=Jg(We.text);Ce(l.text,Oe,it?lu:pt),Ce(l.text,$e,_t?lu:pt);const Ut=We.text.isHidden();[Ie.rightJustifiedTextSymbolIndex,Ie.centerJustifiedTextSymbolIndex,Ie.leftJustifiedTextSymbolIndex].forEach(on=>{on>=0&&(l.text.placedSymbolArray.get(on).hidden=Ut||it?1:0)}),Ie.verticalPlacedTextSymbolIndex>=0&&(l.text.placedSymbolArray.get(Ie.verticalPlacedTextSymbolIndex).hidden=Ut||_t?1:0);const jt=this.variableOffsets[Ie.crossTileID];jt&&this.markUsedJustification(l,jt.anchor,Ie,et);const bt=this.placedOrientations[Ie.crossTileID];bt&&(this.markUsedJustification(l,"left",Ie,bt),this.markUsedOrientation(l,bt,Ie))}if(He){const pt=Jg(We.icon),Ut=!(ce&&Ie.verticalPlacedIconSymbolIndex&&it);Ie.placedIconSymbolIndex>=0&&(Ce(l.icon,Ie.numIconVertices,Ut?pt:lu),l.icon.placedSymbolArray.get(Ie.placedIconSymbolIndex).hidden=We.icon.isHidden()),Ie.verticalPlacedIconSymbolIndex>=0&&(Ce(l.icon,Ie.numVerticalIconVertices,Ut?lu:pt),l.icon.placedSymbolArray.get(Ie.verticalPlacedIconSymbolIndex).hidden=We.icon.isHidden())}const vt=Se&&Se.has(Pe)?Se.get(Pe):{text:null,icon:null};if(l.hasIconCollisionBoxData()||l.hasTextCollisionBoxData()){const pt=l.collisionArrays[Pe];if(pt){let Ut=new a.P(0,0);if(pt.textBox||pt.verticalTextBox){let jt=!0;if(q){const bt=this.variableOffsets[Fe];bt?(Ut=cs(bt.anchor,bt.width,bt.height,bt.textOffset,bt.textBoxScale),Y&&Ut._rotate(J?-this.transform.bearingInRadians:this.transform.bearingInRadians)):jt=!1}if(pt.textBox||pt.verticalTextBox){let bt;pt.textBox&&(bt=it),pt.verticalTextBox&&(bt=_t),Yg(l.textCollisionBox.collisionVertexArray,We.text.placed,!jt||bt,vt.text,Ut.x,Ut.y)}}if(pt.iconBox||pt.verticalIconBox){const jt=!!(!_t&&pt.verticalIconBox);let bt;pt.iconBox&&(bt=jt),pt.verticalIconBox&&(bt=!jt),Yg(l.iconCollisionBox.collisionVertexArray,We.icon.placed,bt,vt.icon,ce?Ut.x:0,ce?Ut.y:0)}}}}if(l.sortFeatures(-this.transform.bearingInRadians),this.retainedQueryData[l.bucketInstanceId]&&(this.retainedQueryData[l.bucketInstanceId].featureSortOrder=l.featureSortOrder),l.hasTextData()&&l.text.opacityVertexBuffer&&l.text.opacityVertexBuffer.updateData(l.text.opacityVertexArray),l.hasIconData()&&l.icon.opacityVertexBuffer&&l.icon.opacityVertexBuffer.updateData(l.icon.opacityVertexArray),l.hasIconCollisionBoxData()&&l.iconCollisionBox.collisionVertexBuffer&&l.iconCollisionBox.collisionVertexBuffer.updateData(l.iconCollisionBox.collisionVertexArray),l.hasTextCollisionBoxData()&&l.textCollisionBox.collisionVertexBuffer&&l.textCollisionBox.collisionVertexBuffer.updateData(l.textCollisionBox.collisionVertexArray),l.text.opacityVertexArray.length!==l.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${l.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${l.text.layoutVertexArray.length}) / 4`);if(l.icon.opacityVertexArray.length!==l.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${l.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${l.icon.layoutVertexArray.length}) / 4`);l.bucketInstanceId in this.collisionCircleArrays&&(l.collisionCircleArray=this.collisionCircleArrays[l.bucketInstanceId],delete this.collisionCircleArrays[l.bucketInstanceId])}symbolFadeChange(l){return this.fadeDuration===0?1:(l-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(l){return Math.max(0,(this.transform.zoom-l)/1.5)}hasTransitions(l){return this.stale||l-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(l,f){const b=this.zoomAtLastRecencyCheck===f?1-this.zoomAdjustment(f):1;return this.zoomAtLastRecencyCheck=f,this.commitTime+this.fadeDuration*b>l}setStale(){this.stale=!0}}function Yg(T,l,f,b,w,P){b&&b.length!==0||(b=[0,0,0,0]);const D=b[0]-_r,$=b[1]-_r,F=b[2]-_r,H=b[3]-_r;T.emplaceBack(l?1:0,f?1:0,w||0,P||0,D,$),T.emplaceBack(l?1:0,f?1:0,w||0,P||0,F,$),T.emplaceBack(l?1:0,f?1:0,w||0,P||0,F,H),T.emplaceBack(l?1:0,f?1:0,w||0,P||0,D,H)}const Cb=Math.pow(2,25),vc=Math.pow(2,24),Tb=Math.pow(2,17),AC=Math.pow(2,16),DC=Math.pow(2,9),kC=Math.pow(2,8),Pb=Math.pow(2,1);function Jg(T){if(T.opacity===0&&!T.placed)return 0;if(T.opacity===1&&T.placed)return 4294967295;const l=T.placed?1:0,f=Math.floor(127*T.opacity);return f*Cb+l*vc+f*Tb+l*AC+f*DC+l*kC+f*Pb+l}const lu=0;class Qg{constructor(l){this._sortAcrossTiles=l.layout.get("symbol-z-order")!=="viewport-y"&&!l.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(l,f,b,w,P){const D=this._bucketParts;for(;this._currentTileIndex<l.length;)if(f.getBucketParts(D,w,l[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,P())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,D.sort(($,F)=>$.sortKey-F.sortKey));this._currentPartIndex<D.length;)if(f.placeLayerBucketPart(D[this._currentPartIndex],this._seenCrossTileIDs,b),this._currentPartIndex++,P())return!0;return!1}}class Eb{constructor(l,f,b,w,P,D,$,F){this.placement=new ep(l,f,D,$,F),this._currentPlacementIndex=b.length-1,this._forceFullPlacement=w,this._showCollisionBoxes=P,this._done=!1}isDone(){return this._done}continuePlacement(l,f,b){const w=y.now(),P=()=>!this._forceFullPlacement&&y.now()-w>2;for(;this._currentPlacementIndex>=0;){const D=f[l[this._currentPlacementIndex]],$=this.placement.collisionIndex.transform.zoom;if(D.type==="symbol"&&(!D.minzoom||D.minzoom<=$)&&(!D.maxzoom||D.maxzoom>$)){if(this._inProgressLayer||(this._inProgressLayer=new Qg(D)),this._inProgressLayer.continuePlacement(b[D.source],this.placement,this._showCollisionBoxes,D,P))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(l){return this.placement.commit(l),this.placement}}const uu=512/a.X/2;class ev{constructor(l,f,b){this.tileID=l,this.bucketInstanceId=b,this._symbolsByKey={};const w=new Map;for(let P=0;P<f.length;P++){const D=f.get(P),$=D.key,F=w.get($);F?F.push(D):w.set($,[D])}for(const[P,D]of w){const $={positions:D.map(F=>({x:Math.floor(F.anchorX*uu),y:Math.floor(F.anchorY*uu)})),crossTileIDs:D.map(F=>F.crossTileID)};if($.positions.length>128){const F=new a.az($.positions.length,16,Uint16Array);for(const{x:H,y:q}of $.positions)F.add(H,q);F.finish(),delete $.positions,$.index=F}this._symbolsByKey[P]=$}}getScaledCoordinates(l,f){const{x:b,y:w,z:P}=this.tileID.canonical,{x:D,y:$,z:F}=f.canonical,H=uu/Math.pow(2,F-P),q=($*a.X+l.anchorY)*H,Y=w*a.X*uu;return{x:Math.floor((D*a.X+l.anchorX)*H-b*a.X*uu),y:Math.floor(q-Y)}}findMatches(l,f,b){const w=this.tileID.canonical.z<f.canonical.z?1:Math.pow(2,this.tileID.canonical.z-f.canonical.z);for(let P=0;P<l.length;P++){const D=l.get(P);if(D.crossTileID)continue;const $=this._symbolsByKey[D.key];if(!$)continue;const F=this.getScaledCoordinates(D,f);if($.index){const H=$.index.range(F.x-w,F.y-w,F.x+w,F.y+w).sort();for(const q of H){const Y=$.crossTileIDs[q];if(!b[Y]){b[Y]=!0,D.crossTileID=Y;break}}}else if($.positions)for(let H=0;H<$.positions.length;H++){const q=$.positions[H],Y=$.crossTileIDs[H];if(Math.abs(q.x-F.x)<=w&&Math.abs(q.y-F.y)<=w&&!b[Y]){b[Y]=!0,D.crossTileID=Y;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:l})=>l)}}class tp{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Ib{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(l){const f=Math.round((l-this.lng)/360);if(f!==0)for(const b in this.indexes){const w=this.indexes[b],P={};for(const D in w){const $=w[D];$.tileID=$.tileID.unwrapTo($.tileID.wrap+f),P[$.tileID.key]=$}this.indexes[b]=P}this.lng=l}addBucket(l,f,b){if(this.indexes[l.overscaledZ]&&this.indexes[l.overscaledZ][l.key]){if(this.indexes[l.overscaledZ][l.key].bucketInstanceId===f.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(l.overscaledZ,this.indexes[l.overscaledZ][l.key])}for(let P=0;P<f.symbolInstances.length;P++)f.symbolInstances.get(P).crossTileID=0;this.usedCrossTileIDs[l.overscaledZ]||(this.usedCrossTileIDs[l.overscaledZ]={});const w=this.usedCrossTileIDs[l.overscaledZ];for(const P in this.indexes){const D=this.indexes[P];if(Number(P)>l.overscaledZ)for(const $ in D){const F=D[$];F.tileID.isChildOf(l)&&F.findMatches(f.symbolInstances,l,w)}else{const $=D[l.scaledTo(Number(P)).key];$&&$.findMatches(f.symbolInstances,l,w)}}for(let P=0;P<f.symbolInstances.length;P++){const D=f.symbolInstances.get(P);D.crossTileID||(D.crossTileID=b.generate(),w[D.crossTileID]=!0)}return this.indexes[l.overscaledZ]===void 0&&(this.indexes[l.overscaledZ]={}),this.indexes[l.overscaledZ][l.key]=new ev(l,f.symbolInstances,f.bucketInstanceId),!0}removeBucketCrossTileIDs(l,f){for(const b of f.getCrossTileIDsLists())for(const w of b)delete this.usedCrossTileIDs[l][w]}removeStaleBuckets(l){let f=!1;for(const b in this.indexes){const w=this.indexes[b];for(const P in w)l[w[P].bucketInstanceId]||(this.removeBucketCrossTileIDs(b,w[P]),delete w[P],f=!0)}return f}}class cu{constructor(){this.layerIndexes={},this.crossTileIDs=new tp,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(l,f,b){let w=this.layerIndexes[l.id];w===void 0&&(w=this.layerIndexes[l.id]=new Ib);let P=!1;const D={};w.handleWrapJump(b);for(const $ of f){const F=$.getBucket(l);F&&l.id===F.layerIds[0]&&(F.bucketInstanceId||(F.bucketInstanceId=++this.maxBucketInstanceId),w.addBucket($.tileID,F,this.crossTileIDs)&&(P=!0),D[F.bucketInstanceId]=!0)}return w.removeStaleBuckets(D)&&(P=!0),P}pruneUnusedLayers(l){const f={};l.forEach(b=>{f[b]=!0});for(const b in this.layerIndexes)f[b]||delete this.layerIndexes[b]}}var tv="void main() {fragColor=vec4(1.0);}";const hs={prelude:Vn(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
out highp vec4 fragColor;`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}mat3 rotationMatrixFromAxisAngle(vec3 u,float angle) {float c=cos(angle);float s=sin(angle);float c2=1.0-c;return mat3(u.x*u.x*c2+      c,u.x*u.y*c2-u.z*s,u.x*u.z*c2+u.y*s,u.y*u.x*c2+u.z*s,u.y*u.y*c2+    c,u.y*u.z*c2-u.x*s,u.z*u.x*c2-u.y*s,u.z*u.y*c2+u.x*s,u.z*u.z*c2+    c
);}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
#ifdef GLOBE
if ((pos.y <-32767.5) || (pos.y > 32766.5)) {return 0.0;}
#endif
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}const float PI=3.141592653589793;uniform mat4 u_projection_matrix;`),projectionMercator:Vn("","float projectLineThickness(float tileY) {return 1.0;}float projectCircleRadius(float tileY) {return 1.0;}vec4 projectTile(vec2 p) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);return result;}vec4 projectTile(vec2 p,vec2 rawPos) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);if (rawPos.y <-32767.5 || rawPos.y > 32766.5) {result.z=-10000000.0;}return result;}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_projection_matrix*vec4(posInTile,elevation,1.0);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {return projectTileWithElevation(posInTile,elevation);}"),projectionGlobe:Vn("",`#define GLOBE_RADIUS 6371008.8
uniform highp vec4 u_projection_tile_mercator_coords;uniform highp vec4 u_projection_clipping_plane;uniform highp float u_projection_transition;uniform mat4 u_projection_fallback_matrix;vec3 globeRotateVector(vec3 vec,vec2 angles) {vec3 axisRight=vec3(vec.z,0.0,-vec.x);vec3 axisUp=cross(axisRight,vec);axisRight=normalize(axisRight);axisUp=normalize(axisUp);vec2 t=tan(angles);return normalize(vec+axisRight*t.x+axisUp*t.y);}mat3 globeGetRotationMatrix(vec3 spherePos) {vec3 axisRight=vec3(spherePos.z,0.0,-spherePos.x);vec3 axisDown=cross(axisRight,spherePos);axisRight=normalize(axisRight);axisDown=normalize(axisDown);return mat3(axisRight,axisDown,spherePos
);}float circumferenceRatioAtTileY(float tileY) {float mercator_pos_y=u_projection_tile_mercator_coords.y+u_projection_tile_mercator_coords.w*tileY;float spherical_y=2.0*atan(exp(PI-(mercator_pos_y*PI*2.0)))-PI*0.5;return cos(spherical_y);}float projectLineThickness(float tileY) {float thickness=1.0/circumferenceRatioAtTileY(tileY); 
if (u_projection_transition < 0.999) {return mix(1.0,thickness,u_projection_transition);} else {return thickness;}}vec3 projectToSphere(vec2 translatedPos,vec2 rawPos) {vec2 mercator_pos=u_projection_tile_mercator_coords.xy+u_projection_tile_mercator_coords.zw*translatedPos;vec2 spherical;spherical.x=mercator_pos.x*PI*2.0+PI;spherical.y=2.0*atan(exp(PI-(mercator_pos.y*PI*2.0)))-PI*0.5;float len=cos(spherical.y);vec3 pos=vec3(sin(spherical.x)*len,sin(spherical.y),cos(spherical.x)*len
);if (rawPos.y <-32767.5) {pos=vec3(0.0,1.0,0.0);}if (rawPos.y > 32766.5) {pos=vec3(0.0,-1.0,0.0);}return pos;}vec3 projectToSphere(vec2 posInTile) {return projectToSphere(posInTile,vec2(0.0,0.0));}float globeComputeClippingZ(vec3 spherePos) {return (1.0-(dot(spherePos,u_projection_clipping_plane.xyz)+u_projection_clipping_plane.w));}vec4 interpolateProjection(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);globePosition.z=globeComputeClippingZ(elevatedPos)*globePosition.w;if (u_projection_transition > 0.999) {return globePosition;}vec4 flatPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);const float z_globeness_threshold=0.2;vec4 result=globePosition;result.z=mix(0.0,globePosition.z,clamp((u_projection_transition-z_globeness_threshold)/(1.0-z_globeness_threshold),0.0,1.0));result.xyw=mix(flatPosition.xyw,globePosition.xyw,u_projection_transition);if ((posInTile.y <-32767.5) || (posInTile.y > 32766.5)) {result=globePosition;const float poles_hidden_anim_percentage=0.02;result.z=mix(globePosition.z,100.0,pow(max((1.0-u_projection_transition)/poles_hidden_anim_percentage,0.0),8.0));}return result;}vec4 interpolateProjectionFor3D(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);if (u_projection_transition > 0.999) {return globePosition;}vec4 fallbackPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);return mix(fallbackPosition,globePosition,u_projection_transition);}vec4 projectTile(vec2 posInTile) {return interpolateProjection(posInTile,projectToSphere(posInTile),0.0);}vec4 projectTile(vec2 posInTile,vec2 rawPos) {return interpolateProjection(posInTile,projectToSphere(posInTile,rawPos),0.0);}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return interpolateProjection(posInTile,projectToSphere(posInTile),elevation);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {vec3 spherePos=projectToSphere(posInTile,posInTile);return interpolateProjectionFor3D(posInTile,spherePos,elevation);}`),background:Vn(`uniform vec4 u_color;uniform float u_opacity;void main() {fragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),backgroundPattern:Vn(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;void main() {gl_Position=projectTile(a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Vn(`in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));fragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);const float epsilon=0.5/255.0;if (fragColor.r < epsilon && fragColor.g < epsilon && fragColor.b < epsilon && fragColor.a < epsilon) {discard;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_globe_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;uniform vec2 u_translate;in vec2 a_pos;out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 pos_raw=a_pos+32768.0;vec2 extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);vec2 circle_center=floor(pos_raw/8.0)+u_translate;float ele=get_elevation(circle_center);v_visibility=calculate_visibility(projectTileWithElevation(circle_center,ele));if (u_pitch_with_map) {
#ifdef GLOBE
vec3 center_vector=projectToSphere(circle_center);
#endif
float angle_scale=u_globe_extrude_scale;vec2 corner_position=circle_center;if (u_scale_with_map) {angle_scale*=(radius+stroke_width);corner_position+=extrude*u_extrude_scale*(radius+stroke_width);} else {
#ifdef GLOBE
vec4 projected_center=interpolateProjection(circle_center,center_vector,ele);
#else
vec4 projected_center=projectTileWithElevation(circle_center,ele);
#endif
corner_position+=extrude*u_extrude_scale*(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);angle_scale*=(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);}
#ifdef GLOBE
vec2 angles=extrude*angle_scale;vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(corner_position,corner_vector,ele);
#else
gl_Position=projectTileWithElevation(corner_position,ele);
#endif
} else {gl_Position=projectTileWithElevation(circle_center,ele);if (gl_Position.z/gl_Position.w > 1.0) {gl_Position.xy=vec2(10000.0);}if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:Vn(tv,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),heatmap:Vn(`uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);fragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;uniform highp float u_globe_extrude_scale;in vec2 a_pos;out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 pos_raw=a_pos+32768.0;vec2 unscaled_extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 circle_center=floor(pos_raw/8.0);
#ifdef GLOBE
vec2 angles=v_extrude*radius*u_globe_extrude_scale;vec3 center_vector=projectToSphere(circle_center);vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(circle_center+extrude,corner_vector,0.0);
#else
gl_Position=projectTileFor3D(circle_center+extrude,get_elevation(circle_center));
#endif
}`),heatmapTexture:Vn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));fragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Vn("in float v_placed;in float v_notUsed;void main() {float alpha=0.5;fragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {fragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {fragColor*=.1;}}","in vec2 a_anchor_pos;in vec2 a_placed;in vec2 a_box_real;uniform vec2 u_pixel_extrude_scale;out float v_placed;out float v_notUsed;void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Vn("in float v_radius;in vec2 v_extrude;in float v_collision;void main() {float alpha=0.5;float stroke_radius=0.9;float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);fragColor=color*alpha*opacity_t;}","in vec2 a_pos;in float a_radius;in vec2 a_flags;uniform vec2 u_viewport_size;out float v_radius;out vec2 v_extrude;out float v_collision;void main() {float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_collision=collision;gl_Position=vec4((a_pos/u_viewport_size*2.0-1.0)*vec2(1.0,-1.0),0.0,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Vn("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);fragColor=mix(u_color,overlay_color,overlay_color.a);}","in vec2 a_pos;out vec2 v_uv;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=projectTileWithElevation(a_pos*u_overlay_scale,get_elevation(a_pos));}"),depth:Vn(tv,`in vec2 a_pos;void main() {
#ifdef GLOBE
gl_Position=projectTileFor3D(a_pos,0.0);
#else
gl_Position=u_projection_matrix*vec4(a_pos,0.0,1.0);
#endif
}`),fill:Vn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
fragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_fill_translate;in vec2 a_pos;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);}`),fillOutline:Vn(`in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=outline_color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillOutlinePattern:Vn(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;in vec2 v_pos_a;in vec2 v_pos_b;in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillPattern:Vn(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:Vn(`in vec4 v_color;void main() {fragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
out vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;vec3 normalForLighting=normal/16384.0;float directional=clamp(dot(normalForLighting,u_lightpos),0.0,1.0);
#ifdef GLOBE
mat3 rotMatrix=globeGetRotationMatrix(spherePos);normalForLighting=rotMatrix*normalForLighting;directional=mix(directional,clamp(dot(normalForLighting,u_lightpos_globe),0.0,1.0),u_projection_transition);
#endif
directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:Vn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;in vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);fragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
#ifdef GLOBE
out vec3 v_sphere_pos;
#endif
out vec2 v_pos_a;out vec2 v_pos_b;out vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,elevation*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:Vn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));fragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Vn(`uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);fragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);v_pos=a_pos/8192.0;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),line:Vn(`uniform lowp float u_device_pixel_ratio;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp float v_linesofar;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:Vn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:Vn(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture(u_image,pos_a),texture(u_image,pos_b),u_fade);fragColor=color*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:Vn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture(u_image,v_tex_a).a;float sdfdist_b=texture(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;out vec2 v_normal;out vec2 v_width2;out vec2 v_tex_a;out vec2 v_tex_b;out float v_gamma_scale;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:Vn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;in vec2 v_pos0;in vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture(u_image0,v_pos0);vec4 color1=texture(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);fragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;uniform vec4 u_coords_top;uniform vec4 u_coords_bottom;in vec2 a_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {vec2 fractionalPos=a_pos/8192.0;vec2 position=mix(mix(u_coords_top.xy,u_coords_top.zw,fractionalPos.x),mix(u_coords_bottom.xy,u_coords_bottom.zw,fractionalPos.x),fractionalPos.y);gl_Position=projectTile(position,position);v_pos0=((fractionalPos-0.5)/u_buffer_scale)+0.5;
#ifdef GLOBE
if (a_pos.y <-32767.5) {v_pos0.y=0.0;}if (a_pos.y > 32766.5) {v_pos0.y=1.0;}
#endif
v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),symbolIcon:Vn(`uniform sampler2D u_texture;in vec2 v_tex;in float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;fragColor=texture(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_tex;out float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:Vn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;in vec2 v_data0;in vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_data0;out vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:Vn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;in vec4 v_data0;in vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;fragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec4 v_data0;out vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:Vn("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;uniform bool u_is_globe_mode;in vec2 v_texture_pos;in float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture(u_texture,vec2(v_texture_pos.x,1.0-v_texture_pos.y));if (!u_is_globe_mode && v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);fragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {fragColor=surface_color;}}","in vec3 a_pos3d;uniform mat4 u_fog_matrix;uniform float u_ele_delta;out vec2 v_texture_pos;out float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:Vn("in float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {fragColor=pack(v_depth);}","in vec3 a_pos3d;uniform float u_ele_delta;out float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:Vn("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;in vec2 v_texture_pos;void main() {vec4 rgba=texture(u_texture,v_texture_pos);fragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","in vec3 a_pos3d;uniform float u_ele_delta;out vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);}"),projectionErrorMeasurement:Vn("in vec4 v_output_error_encoded;void main() {fragColor=v_output_error_encoded;}","in vec2 a_pos;uniform highp float u_input;uniform highp float u_output_expected;out vec4 v_output_error_encoded;void main() {float real_output=2.0*atan(exp(PI-(u_input*PI*2.0)))-PI*0.5;float error=real_output-u_output_expected;float abs_error=abs(error)*128.0;v_output_error_encoded.x=min(floor(abs_error*256.0),255.0)/255.0;abs_error-=v_output_error_encoded.x;v_output_error_encoded.y=min(floor(abs_error*65536.0),255.0)/255.0;abs_error-=v_output_error_encoded.x/255.0;v_output_error_encoded.z=min(floor(abs_error*16777216.0),255.0)/255.0;v_output_error_encoded.w=error >=0.0 ? 1.0 : 0.0;gl_Position=vec4(a_pos,0.0,1.0);}"),atmosphere:Vn(`in vec3 view_direction;uniform vec3 u_sun_pos;uniform vec3 u_globe_position;uniform float u_globe_radius;uniform float u_atmosphere_blend;/**Shader use from https:*Made some change to adapt to MapLibre Globe geometry*/const float PI=3.141592653589793;const int iSteps=5;const int jSteps=3;/*radius of the planet*/const float EARTH_RADIUS=6371e3;/*radius of the atmosphere*/const float ATMOS_RADIUS=6471e3;vec2 rsi(vec3 r0,vec3 rd,float sr) {float a=dot(rd,rd);float b=2.0*dot(rd,r0);float c=dot(r0,r0)-(sr*sr);float d=(b*b)-4.0*a*c;if (d < 0.0) return vec2(1e5,-1e5);return vec2((-b-sqrt(d))/(2.0*a),(-b+sqrt(d))/(2.0*a));}vec4 atmosphere(vec3 r,vec3 r0,vec3 pSun,float iSun,float rPlanet,float rAtmos,vec3 kRlh,float kMie,float shRlh,float shMie,float g) {pSun=normalize(pSun);r=normalize(r);vec2 p=rsi(r0,r,rAtmos);if (p.x > p.y) {return vec4(0.0,0.0,0.0,1.0);}if (p.x < 0.0) {p.x=0.0;}vec3 pos=r0+r*p.x;vec2 p2=rsi(r0,r,rPlanet);if (p2.x <=p2.y && p2.x > 0.0) {p.y=min(p.y,p2.x);}float iStepSize=(p.y-p.x)/float(iSteps);float iTime=p.x+iStepSize*0.5;vec3 totalRlh=vec3(0,0,0);vec3 totalMie=vec3(0,0,0);float iOdRlh=0.0;float iOdMie=0.0;float mu=dot(r,pSun);float mumu=mu*mu;float gg=g*g;float pRlh=3.0/(16.0*PI)*(1.0+mumu);float pMie=3.0/(8.0*PI)*((1.0-gg)*(mumu+1.0))/(pow(1.0+gg-2.0*mu*g,1.5)*(2.0+gg));for (int i=0; i < iSteps; i++) {vec3 iPos=r0+r*iTime;float iHeight=length(iPos)-rPlanet;float odStepRlh=exp(-iHeight/shRlh)*iStepSize;float odStepMie=exp(-iHeight/shMie)*iStepSize;iOdRlh+=odStepRlh;iOdMie+=odStepMie;float jStepSize=rsi(iPos,pSun,rAtmos).y/float(jSteps);float jTime=jStepSize*0.5;float jOdRlh=0.0;float jOdMie=0.0;for (int j=0; j < jSteps; j++) {vec3 jPos=iPos+pSun*jTime;float jHeight=length(jPos)-rPlanet;jOdRlh+=exp(-jHeight/shRlh)*jStepSize;jOdMie+=exp(-jHeight/shMie)*jStepSize;jTime+=jStepSize;}vec3 attn=exp(-(kMie*(iOdMie+jOdMie)+kRlh*(iOdRlh+jOdRlh)));totalRlh+=odStepRlh*attn;totalMie+=odStepMie*attn;iTime+=iStepSize;}float opacity=exp(-(length(kRlh)*length(totalRlh)+kMie*length(totalMie)));vec3 color=iSun*(pRlh*kRlh*totalRlh+pMie*kMie*totalMie);return vec4(color,opacity);}void main() {vec3 scale_camera_pos=-u_globe_position*EARTH_RADIUS/u_globe_radius;vec4 color=atmosphere(normalize(view_direction),scale_camera_pos,u_sun_pos,22.0,EARTH_RADIUS,ATMOS_RADIUS,vec3(5.5e-6,13.0e-6,22.4e-6),21e-6,8e3,1.2e3,0.758
);color.rgb=1.0-exp(-1.0*color.rgb);color=pow(color,vec4(1.0/2.2));fragColor=vec4(color.rgb,1.0-color.a)*u_atmosphere_blend;}`,"in vec2 a_pos;uniform mat4 u_inv_proj_matrix;out vec3 view_direction;void main() {view_direction=(u_inv_proj_matrix*vec4(a_pos,0.0,1.0)).xyz;gl_Position=vec4(a_pos,0.0,1.0);}"),sky:Vn("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform vec2 u_horizon;uniform vec2 u_horizon_normal;uniform float u_sky_horizon_blend;uniform float u_sky_blend;void main() {float x=gl_FragCoord.x;float y=gl_FragCoord.y;float blend=(y-u_horizon.y)*u_horizon_normal.y+(x-u_horizon.x)*u_horizon_normal.x;if (blend > 0.0) {if (blend < u_sky_horizon_blend) {fragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {fragColor=u_sky_color;}}fragColor=mix(fragColor,vec4(vec3(0.0),0.0),u_sky_blend);}","in vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function Vn(T,l){const f=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,b=l.match(/in ([\w]+) ([\w]+)/g),w=T.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),P=l.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),D=P?P.concat(w):w,$={};return{fragmentSource:T=T.replace(f,(F,H,q,Y,J)=>($[J]=!0,H==="define"?`
#ifndef HAS_UNIFORM_u_${J}
in ${q} ${Y} ${J};
#else
uniform ${q} ${Y} u_${J};
#endif
`:`
#ifdef HAS_UNIFORM_u_${J}
    ${q} ${Y} ${J} = u_${J};
#endif
`)),vertexSource:l=l.replace(f,(F,H,q,Y,J)=>{const ce=Y==="float"?"vec2":"vec4",de=J.match(/color/)?"color":ce;return $[J]?H==="define"?`
#ifndef HAS_UNIFORM_u_${J}
uniform lowp float u_${J}_t;
in ${q} ${ce} a_${J};
out ${q} ${Y} ${J};
#else
uniform ${q} ${Y} u_${J};
#endif
`:de==="vec4"?`
#ifndef HAS_UNIFORM_u_${J}
    ${J} = a_${J};
#else
    ${q} ${Y} ${J} = u_${J};
#endif
`:`
#ifndef HAS_UNIFORM_u_${J}
    ${J} = unpack_mix_${de}(a_${J}, u_${J}_t);
#else
    ${q} ${Y} ${J} = u_${J};
#endif
`:H==="define"?`
#ifndef HAS_UNIFORM_u_${J}
uniform lowp float u_${J}_t;
in ${q} ${ce} a_${J};
#else
uniform ${q} ${Y} u_${J};
#endif
`:de==="vec4"?`
#ifndef HAS_UNIFORM_u_${J}
    ${q} ${Y} ${J} = a_${J};
#else
    ${q} ${Y} ${J} = u_${J};
#endif
`:`
#ifndef HAS_UNIFORM_u_${J}
    ${q} ${Y} ${J} = unpack_mix_${de}(a_${J}, u_${J}_t);
#else
    ${q} ${Y} ${J} = u_${J};
#endif
`}),staticAttributes:b,staticUniforms:D}}class ds{constructor(l,f,b){this.vertexBuffer=l,this.indexBuffer=f,this.segments=b}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}var Hn=a.aA([{name:"a_pos",type:"Int16",components:2}]);const np="#define PROJECTION_MERCATOR",rp="mercator";class bo{constructor(){this._cachedMesh=null}get name(){return"mercator"}get useSubdivision(){return!1}get shaderVariantName(){return rp}get shaderDefine(){return np}get shaderPreludeCode(){return hs.projectionMercator}get vertexShaderPreludeCode(){return hs.projectionMercator.vertexSource}get subdivisionGranularity(){return a.aB.noSubdivision}get useGlobeControls(){return!1}get transitionState(){return 0}get latitudeErrorCorrectionRadians(){return 0}destroy(){}updateGPUdependent(l){}getMeshFromTileID(l,f,b,w,P){if(this._cachedMesh)return this._cachedMesh;const D=new a.aC;D.emplaceBack(0,0),D.emplaceBack(a.X,0),D.emplaceBack(0,a.X),D.emplaceBack(a.X,a.X);const $=l.createVertexBuffer(D,Hn.members),F=a.aD.simpleSegment(0,0,4,2),H=new a.aE;H.emplaceBack(1,0,2),H.emplaceBack(1,2,3);const q=l.createIndexBuffer(H);return this._cachedMesh=new ds($,q,F),this._cachedMesh}recalculate(){}hasTransition(){return!1}setErrorQueryLatitudeDegrees(l){}}function qr(T,l){const f=a.ab(l.lat,-85.051129,a.aF);return new a.P(a.O(l.lng)*T,a.Q(f)*T)}function jr(T,l){return new a.Y(l.x/T,l.y/T).toLngLat()}function ip(T){return T.cameraToCenterDistance*Math.min(.85*Math.tan(a.aa(90-T.pitch)),Math.tan(a.aa(89.25-T.pitch)))}function uo(T,l){const f=T.canonical,b=l/a.aG(f.z),w=f.x+Math.pow(2,f.z)*T.wrap,P=a.aq(new Float64Array(16));return a.J(P,P,[w*b,f.y*b,0]),a.K(P,P,[b/a.X,b/a.X,1]),P}function ko(T,l,f,b,w){const P=a.Y.fromLngLat(T,l),D=w*a.aH(1,T.lat),$=D*Math.cos(a.aa(f)),F=Math.sqrt(D*D-$*$),H=F*Math.sin(a.aa(-b)),q=F*Math.cos(a.aa(-b));return new a.Y(P.x+H,P.y+q,P.z+$)}class Zi{constructor(l=0,f=0,b=0,w=0){if(isNaN(l)||l<0||isNaN(f)||f<0||isNaN(b)||b<0||isNaN(w)||w<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=l,this.bottom=f,this.left=b,this.right=w}interpolate(l,f,b){return f.top!=null&&l.top!=null&&(this.top=a.y.number(l.top,f.top,b)),f.bottom!=null&&l.bottom!=null&&(this.bottom=a.y.number(l.bottom,f.bottom,b)),f.left!=null&&l.left!=null&&(this.left=a.y.number(l.left,f.left,b)),f.right!=null&&l.right!=null&&(this.right=a.y.number(l.right,f.right,b)),this}getCenter(l,f){const b=a.ab((this.left+l-this.right)/2,0,l),w=a.ab((this.top+f-this.bottom)/2,0,f);return new a.P(b,w)}equals(l){return this.top===l.top&&this.bottom===l.bottom&&this.left===l.left&&this.right===l.right}clone(){return new Zi(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function $h(T,l){if(!T.renderWorldCopies||T.lngRange)return;const f=l.lng-T.center.lng;l.lng+=f>180?-360:f<-180?360:0}function yc(T){return Math.max(0,Math.floor(T))}class fi{constructor(l,f,b,w,P,D){this._callbacks=l,this._tileSize=512,this._renderWorldCopies=D===void 0||!!D,this._minZoom=f||0,this._maxZoom=b||22,this._minPitch=w??0,this._maxPitch=P??60,this.setMaxBounds(),this._width=0,this._height=0,this._center=new a.N(0,0),this._elevation=0,this._zoom=0,this._tileZoom=yc(this._zoom),this._scale=a.aG(this._zoom),this._bearingInRadians=0,this._fovInRadians=.6435011087932844,this._pitchInRadians=0,this._rollInRadians=0,this._unmodified=!0,this._edgeInsets=new Zi,this._minElevationForCurrentTile=0,this._autoCalculateNearFarZ=!0}apply(l,f,b){this._latRange=l.latRange,this._lngRange=l.lngRange,this._width=l.width,this._height=l.height,this._center=l.center,this._elevation=l.elevation,this._minElevationForCurrentTile=l.minElevationForCurrentTile,this._zoom=l.zoom,this._tileZoom=yc(this._zoom),this._scale=a.aG(this._zoom),this._bearingInRadians=l.bearingInRadians,this._fovInRadians=l.fovInRadians,this._pitchInRadians=l.pitchInRadians,this._rollInRadians=l.rollInRadians,this._unmodified=l.unmodified,this._edgeInsets=new Zi(l.padding.top,l.padding.bottom,l.padding.left,l.padding.right),this._minZoom=l.minZoom,this._maxZoom=l.maxZoom,this._minPitch=l.minPitch,this._maxPitch=l.maxPitch,this._renderWorldCopies=l.renderWorldCopies,this._cameraToCenterDistance=l.cameraToCenterDistance,this._nearZ=l.nearZ,this._farZ=l.farZ,this._autoCalculateNearFarZ=!b&&l.autoCalculateNearFarZ,f&&this._constrain(),this._calcMatrices()}get pixelsToClipSpaceMatrix(){return this._pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._clipSpaceToPixelsMatrix}get minElevationForCurrentTile(){return this._minElevationForCurrentTile}setMinElevationForCurrentTile(l){this._minElevationForCurrentTile=l}get tileSize(){return this._tileSize}get tileZoom(){return this._tileZoom}get scale(){return this._scale}get width(){return this._width}get height(){return this._height}get bearingInRadians(){return this._bearingInRadians}get lngRange(){return this._lngRange}get latRange(){return this._latRange}get pixelsToGLUnits(){return this._pixelsToGLUnits}get minZoom(){return this._minZoom}setMinZoom(l){this._minZoom!==l&&(this._minZoom=l,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get maxZoom(){return this._maxZoom}setMaxZoom(l){this._maxZoom!==l&&(this._maxZoom=l,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get minPitch(){return this._minPitch}setMinPitch(l){this._minPitch!==l&&(this._minPitch=l,this.setPitch(Math.max(this.pitch,l)))}get maxPitch(){return this._maxPitch}setMaxPitch(l){this._maxPitch!==l&&(this._maxPitch=l,this.setPitch(Math.min(this.pitch,l)))}get renderWorldCopies(){return this._renderWorldCopies}setRenderWorldCopies(l){l===void 0?l=!0:l===null&&(l=!1),this._renderWorldCopies=l}get worldSize(){return this._tileSize*this._scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.P(this._width,this._height)}get bearing(){return this._bearingInRadians/Math.PI*180}setBearing(l){const f=a.aI(l,-180,180)*Math.PI/180;var b,w,P,D,$,F,H,q,Y;this._bearingInRadians!==f&&(this._unmodified=!1,this._bearingInRadians=f,this._calcMatrices(),this._rotationMatrix=h(),b=this._rotationMatrix,P=-this._bearingInRadians,D=(w=this._rotationMatrix)[0],$=w[1],F=w[2],H=w[3],q=Math.sin(P),Y=Math.cos(P),b[0]=D*Y+F*q,b[1]=$*Y+H*q,b[2]=D*-q+F*Y,b[3]=$*-q+H*Y)}get rotationMatrix(){return this._rotationMatrix}get pitchInRadians(){return this._pitchInRadians}get pitch(){return this._pitchInRadians/Math.PI*180}setPitch(l){const f=a.ab(l,this.minPitch,this.maxPitch)/180*Math.PI;this._pitchInRadians!==f&&(this._unmodified=!1,this._pitchInRadians=f,this._calcMatrices())}get rollInRadians(){return this._rollInRadians}get roll(){return this._rollInRadians/Math.PI*180}setRoll(l){const f=l/180*Math.PI;this._rollInRadians!==f&&(this._unmodified=!1,this._rollInRadians=f,this._calcMatrices())}get fovInRadians(){return this._fovInRadians}get fov(){return a.aJ(this._fovInRadians)}setFov(l){l=a.ab(l,.1,150),this.fov!==l&&(this._unmodified=!1,this._fovInRadians=a.aa(l),this._calcMatrices())}get zoom(){return this._zoom}setZoom(l){const f=this.getConstrained(this._center,l).zoom;this._zoom!==f&&(this._unmodified=!1,this._zoom=f,this._tileZoom=Math.max(0,Math.floor(f)),this._scale=a.aG(f),this._constrain(),this._calcMatrices())}get center(){return this._center}setCenter(l){l.lat===this._center.lat&&l.lng===this._center.lng||(this._unmodified=!1,this._center=l,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}setElevation(l){l!==this._elevation&&(this._elevation=l,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}setPadding(l){this._edgeInsets.equals(l)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,l,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this._width,this._height)}get pixelsPerMeter(){return this._pixelPerMeter}get unmodified(){return this._unmodified}get cameraToCenterDistance(){return this._cameraToCenterDistance}get nearZ(){return this._nearZ}get farZ(){return this._farZ}get autoCalculateNearFarZ(){return this._autoCalculateNearFarZ}overrideNearFarZ(l,f){this._autoCalculateNearFarZ=!1,this._nearZ=l,this._farZ=f,this._calcMatrices()}clearNearFarZOverride(){this._autoCalculateNearFarZ=!0,this._calcMatrices()}isPaddingEqual(l){return this._edgeInsets.equals(l)}interpolatePadding(l,f,b){this._unmodified=!1,this._edgeInsets.interpolate(l,f,b),this._constrain(),this._calcMatrices()}resize(l,f,b=!0){this._width=l,this._height=f,b&&this._constrain(),this._calcMatrices()}getMaxBounds(){return this._latRange&&this._latRange.length===2&&this._lngRange&&this._lngRange.length===2?new ye([this._lngRange[0],this._latRange[0]],[this._lngRange[1],this._latRange[1]]):null}setMaxBounds(l){l?(this._lngRange=[l.getWest(),l.getEast()],this._latRange=[l.getSouth(),l.getNorth()],this._constrain()):(this._lngRange=null,this._latRange=[-85.051129,a.aF])}getConstrained(l,f){return this._callbacks.getConstrained(l,f)}getCameraQueryGeometry(l,f){if(f.length===1)return[f[0],l];{let b=l.x,w=l.y,P=l.x,D=l.y;for(const $ of f)b=Math.min(b,$.x),w=Math.min(w,$.y),P=Math.max(P,$.x),D=Math.max(D,$.y);return[new a.P(b,w),new a.P(P,w),new a.P(P,D),new a.P(b,D),new a.P(b,w)]}}_constrain(){if(!this.center||!this._width||!this._height||this._constraining)return;this._constraining=!0;const l=this._unmodified,{center:f,zoom:b}=this.getConstrained(this.center,this.zoom);this.setCenter(f),this.setZoom(b),this._unmodified=l,this._constraining=!1}_calcMatrices(){if(this._width&&this._height){this._pixelsToGLUnits=[2/this._width,-2/this._height];let l=a.aq(new Float64Array(16));a.K(l,l,[this._width/2,-this._height/2,1]),a.J(l,l,[1,-1,0]),this._clipSpaceToPixelsMatrix=l,l=a.aq(new Float64Array(16)),a.K(l,l,[1,-1,1]),a.J(l,l,[-1,-1,0]),a.K(l,l,[2/this._width,2/this._height,1]),this._pixelsToClipSpaceMatrix=l,this._cameraToCenterDistance=.5/Math.tan(this.fovInRadians/2)*this._height}this._callbacks.calcMatrices()}calculateCenterFromCameraLngLatAlt(l,f,b,w){const P=b!==void 0?b:this.bearing,D=w=w!==void 0?w:this.pitch,$=a.Y.fromLngLat(l,f),F=-Math.cos(a.aa(D)),H=Math.sin(a.aa(D)),q=H*Math.sin(a.aa(P)),Y=-H*Math.cos(a.aa(P));let J=this.elevation;const ce=f-J;let de;F*ce>=0||Math.abs(F)<.1?(de=1e4,J=f+de*F):de=-ce/F;let Ce,Se,Pe=a.aK(1,$.y),Ie=0;do{if(Ie+=1,Ie>10)break;Se=de/Pe,Ce=new a.Y($.x+q*Se,$.y+Y*Se),Pe=1/Ce.meterInMercatorCoordinateUnits()}while(Math.abs(de-Se*Pe)>1e-12);return{center:Ce.toLngLat(),elevation:J,zoom:a.a8(this.height/2/Math.tan(this.fovInRadians/2)/Se/this.tileSize)}}recalculateZoomAndCenter(l){if(this.elevation-l==0)return;const f=a.aH(1,this.center.lat)*this.worldSize,b=this.cameraToCenterDistance/f,w=a.Y.fromLngLat(this.center,this.elevation),P=ko(this.center,this.elevation,this.pitch,this.bearing,b);this._elevation=l;const D=this.calculateCenterFromCameraLngLatAlt(P.toLngLat(),a.aK(P.z,w.y),this.bearing,this.pitch);this._elevation=D.elevation,this._center=D.center,this.setZoom(D.zoom)}getCameraPoint(){const l=Math.tan(this.pitchInRadians)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.P(l*Math.sin(this.rollInRadians),l*Math.cos(this.rollInRadians)))}getCameraAltitude(){return Math.cos(this.pitchInRadians)*this._cameraToCenterDistance/this._pixelPerMeter+this.elevation}getCameraLngLat(){const l=a.aH(1,this.center.lat)*this.worldSize;return ko(this.center,this.elevation,this.pitch,this.bearing,this.cameraToCenterDistance/l).toLngLat()}getMercatorTileCoordinates(l){if(!l)return[0,0,1,1];const f=l.canonical.z>=0?1<<l.canonical.z:Math.pow(2,l.canonical.z);return[l.canonical.x/f,l.canonical.y/f,1/f/a.X,1/f/a.X]}}class Ba{constructor(l,f){this.min=l,this.max=f,this.center=a.aL([],a.aM([],this.min,this.max),.5)}quadrant(l){const f=[l%2==0,l<2],b=a.aN(this.min),w=a.aN(this.max);for(let P=0;P<f.length;P++)b[P]=f[P]?this.min[P]:this.center[P],w[P]=f[P]?this.center[P]:this.max[P];return w[2]=this.max[2],new Ba(b,w)}distanceX(l){return Math.max(Math.min(this.max[0],l[0]),this.min[0])-l[0]}distanceY(l){return Math.max(Math.min(this.max[1],l[1]),this.min[1])-l[1]}intersectsFrustum(l){let f=!0;for(let b=0;b<l.planes.length;b++){const w=this.intersectsPlane(l.planes[b]);if(w===0)return 0;w===1&&(f=!1)}return f?2:l.aabb.min[0]>this.max[0]||l.aabb.min[1]>this.max[1]||l.aabb.min[2]>this.max[2]||l.aabb.max[0]<this.min[0]||l.aabb.max[1]<this.min[1]||l.aabb.max[2]<this.min[2]?0:1}intersectsPlane(l){let f=l[3],b=l[3];for(let w=0;w<3;w++)l[w]>0?(f+=l[w]*this.min[w],b+=l[w]*this.max[w]):(b+=l[w]*this.min[w],f+=l[w]*this.max[w]);return f>=0?2:b<0?0:1}}class hu{distanceToTile2d(l,f,b,w){const P=w.distanceX([l,f]),D=w.distanceY([l,f]);return Math.hypot(P,D)}getWrap(l,f,b){return b}getTileAABB(l,f,b,w){var P,D;let $=b,F=b;if(w.terrain){const q=new a.S(l.z,f,l.z,l.x,l.y),Y=w.terrain.getMinMaxElevation(q);$=(P=Y.minElevation)!==null&&P!==void 0?P:b,F=(D=Y.maxElevation)!==null&&D!==void 0?D:b}const H=1<<l.z;return new Ba([f+l.x/H,l.y/H,$],[f+(l.x+1)/H,(l.y+1)/H,F])}allowVariableZoom(l,f){const b=l.fov*(Math.abs(Math.cos(l.rollInRadians))*l.height+Math.abs(Math.sin(l.rollInRadians))*l.width)/l.height,w=a.ab(78.5-b/2,0,60);return!!f.terrain||l.pitch>w||l.padding.top>=.1}allowWorldCopies(){return!0}recalculateCache(){}}class du{constructor(l,f,b){this.points=l,this.planes=f,this.aabb=b}static fromInvProjectionMatrix(l,f=1,b=0){const w=Math.pow(2,b),P=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(H=>{const q=1/(H=a.al([],H,l))[3]/f*w;return a.aO(H,H,[q,q,1/H[3],q])}),D=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(H=>{const q=a.aP([],P[H[0]],P[H[1]]),Y=a.aP([],P[H[2]],P[H[1]]),J=a.aQ([],a.aR([],q,Y)),ce=-a.aS(J,P[H[1]]);return J.concat(ce)}),$=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],F=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];for(const H of P)for(let q=0;q<3;q++)$[q]=Math.min($[q],H[q]),F[q]=Math.max(F[q],H[q]);return new du(P,D,new Ba($,F))}}class co{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(l){this._helper.setMinZoom(l)}setMaxZoom(l){this._helper.setMaxZoom(l)}setMinPitch(l){this._helper.setMinPitch(l)}setMaxPitch(l){this._helper.setMaxPitch(l)}setRenderWorldCopies(l){this._helper.setRenderWorldCopies(l)}setBearing(l){this._helper.setBearing(l)}setPitch(l){this._helper.setPitch(l)}setRoll(l){this._helper.setRoll(l)}setFov(l){this._helper.setFov(l)}setZoom(l){this._helper.setZoom(l)}setCenter(l){this._helper.setCenter(l)}setElevation(l){this._helper.setElevation(l)}setMinElevationForCurrentTile(l){this._helper.setMinElevationForCurrentTile(l)}setPadding(l){this._helper.setPadding(l)}interpolatePadding(l,f,b){return this._helper.interpolatePadding(l,f,b)}isPaddingEqual(l){return this._helper.isPaddingEqual(l)}resize(l,f,b=!0){this._helper.resize(l,f,b)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(l){this._helper.setMaxBounds(l)}overrideNearFarZ(l,f){this._helper.overrideNearFarZ(l,f)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(l){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),l)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(l,f){}constructor(l,f,b,w,P){this._posMatrixCache=new Map,this._alignedPosMatrixCache=new Map,this._fogMatrixCacheF32=new Map,this._helper=new fi({calcMatrices:()=>{this._calcMatrices()},getConstrained:(D,$)=>this.getConstrained(D,$)},l,f,b,w,P),this._coveringTilesDetailsProvider=new hu}clone(){const l=new co;return l.apply(this),l}apply(l,f,b){this._helper.apply(l,f,b)}get cameraPosition(){return this._cameraPosition}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._viewProjMatrix}get inverseProjectionMatrix(){return this._invProjMatrix}get mercatorMatrix(){return this._mercatorMatrix}getVisibleUnwrappedCoordinates(l){const f=[new a.aT(0,l)];if(this._helper._renderWorldCopies){const b=this.screenPointToMercatorCoordinate(new a.P(0,0)),w=this.screenPointToMercatorCoordinate(new a.P(this._helper._width,0)),P=this.screenPointToMercatorCoordinate(new a.P(this._helper._width,this._helper._height)),D=this.screenPointToMercatorCoordinate(new a.P(0,this._helper._height)),$=Math.floor(Math.min(b.x,w.x,P.x,D.x)),F=Math.floor(Math.max(b.x,w.x,P.x,D.x)),H=1;for(let q=$-H;q<=F+H;q++)q!==0&&f.push(new a.aT(q,l))}return f}getCameraFrustum(){return du.fromInvProjectionMatrix(this._invViewProjMatrix,this.worldSize)}getClippingPlane(){return null}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(l){const f=this.screenPointToLocation(this.centerPoint,l),b=l?l.getElevationForLngLatZoom(f,this._helper._tileZoom):0;this._helper.recalculateZoomAndCenter(b)}setLocationAtPoint(l,f){const b=a.aH(this.elevation,this.center.lat),w=this.screenPointToMercatorCoordinateAtZ(f,b),P=this.screenPointToMercatorCoordinateAtZ(this.centerPoint,b),D=a.Y.fromLngLat(l),$=new a.Y(D.x-(w.x-P.x),D.y-(w.y-P.y));this.setCenter($==null?void 0:$.toLngLat()),this._helper._renderWorldCopies&&this.setCenter(this.center.wrap())}locationToScreenPoint(l,f){return f?this.coordinatePoint(a.Y.fromLngLat(l),f.getElevationForLngLatZoom(l,this._helper._tileZoom),this._pixelMatrix3D):this.coordinatePoint(a.Y.fromLngLat(l))}screenPointToLocation(l,f){var b;return(b=this.screenPointToMercatorCoordinate(l,f))===null||b===void 0?void 0:b.toLngLat()}screenPointToMercatorCoordinate(l,f){if(f){const b=f.pointCoordinate(l);if(b!=null)return b}return this.screenPointToMercatorCoordinateAtZ(l)}screenPointToMercatorCoordinateAtZ(l,f){const b=f||0,w=[l.x,l.y,0,1],P=[l.x,l.y,1,1];a.al(w,w,this._pixelMatrixInverse),a.al(P,P,this._pixelMatrixInverse);const D=w[3],$=P[3],F=w[1]/D,H=P[1]/$,q=w[2]/D,Y=P[2]/$,J=q===Y?0:(b-q)/(Y-q);return new a.Y(a.y.number(w[0]/D,P[0]/$,J)/this.worldSize,a.y.number(F,H,J)/this.worldSize,b)}coordinatePoint(l,f=0,b=this._pixelMatrix){const w=[l.x*this.worldSize,l.y*this.worldSize,f,1];return a.al(w,w,b),new a.P(w[0]/w[3],w[1]/w[3])}getBounds(){const l=Math.max(0,this._helper._height/2-ip(this));return new ye().extend(this.screenPointToLocation(new a.P(0,l))).extend(this.screenPointToLocation(new a.P(this._helper._width,l))).extend(this.screenPointToLocation(new a.P(this._helper._width,this._helper._height))).extend(this.screenPointToLocation(new a.P(0,this._helper._height)))}isPointOnMapSurface(l,f){return f?f.pointCoordinate(l)!=null:l.y>this.height/2-ip(this)}calculatePosMatrix(l,f=!1,b){var w;const P=(w=l.key)!==null&&w!==void 0?w:a.aU(l.wrap,l.canonical.z,l.canonical.z,l.canonical.x,l.canonical.y),D=f?this._alignedPosMatrixCache:this._posMatrixCache;if(D.has(P)){const H=D.get(P);return b?H.f32:H.f64}const $=uo(l,this.worldSize);a.L($,f?this._alignedProjMatrix:this._viewProjMatrix,$);const F={f64:$,f32:new Float32Array($)};return D.set(P,F),b?F.f32:F.f64}calculateFogMatrix(l){const f=l.key,b=this._fogMatrixCacheF32;if(b.has(f))return b.get(f);const w=uo(l,this.worldSize);return a.L(w,this._fogMatrix,w),b.set(f,new Float32Array(w)),b.get(f)}getConstrained(l,f){f=a.ab(+f,this.minZoom,this.maxZoom);const b={center:new a.N(l.lng,l.lat),zoom:f};let w=this._helper._lngRange;this._helper._renderWorldCopies||w!==null||(w=[-179.9999999999,180-1e-10]);const P=this.tileSize*a.aG(b.zoom);let D=0,$=P,F=0,H=P,q=0,Y=0;const{x:J,y:ce}=this.size;if(this._helper._latRange){const Oe=this._helper._latRange;D=a.Q(Oe[1])*P,$=a.Q(Oe[0])*P,$-D<ce&&(q=ce/($-D))}w&&(F=a.aI(a.O(w[0])*P,0,P),H=a.aI(a.O(w[1])*P,0,P),H<F&&(H+=P),H-F<J&&(Y=J/(H-F)));const{x:de,y:Ce}=qr(P,l);let Se,Pe;const Ie=Math.max(Y||0,q||0);if(Ie){const Oe=new a.P(Y?(H+F)/2:de,q?($+D)/2:Ce);return b.center=jr(P,Oe).wrap(),b.zoom+=a.a8(Ie),b}if(this._helper._latRange){const Oe=ce/2;Ce-Oe<D&&(Pe=D+Oe),Ce+Oe>$&&(Pe=$-Oe)}if(w){const Oe=(F+H)/2;let $e=de;this._helper._renderWorldCopies&&($e=a.aI(de,Oe-P/2,Oe+P/2));const Fe=J/2;$e-Fe<F&&(Se=F+Fe),$e+Fe>H&&(Se=H-Fe)}if(Se!==void 0||Pe!==void 0){const Oe=new a.P(Se??de,Pe??Ce);b.center=jr(P,Oe).wrap()}return b}calculateCenterFromCameraLngLatAlt(l,f,b,w){return this._helper.calculateCenterFromCameraLngLatAlt(l,f,b,w)}_calculateNearFarZIfNeeded(l,f,b){if(!this._helper.autoCalculateNearFarZ)return;const w=Math.min(this.elevation,this.minElevationForCurrentTile,this.getCameraAltitude()-100),P=l-w*this._helper._pixelPerMeter/Math.cos(f),D=w<0?P:l,$=Math.PI/2+this.pitchInRadians,F=a.aa(this.fov)*(Math.abs(Math.cos(a.aa(this.roll)))*this.height+Math.abs(Math.sin(a.aa(this.roll)))*this.width)/this.height*(.5+b.y/this.height),H=Math.sin(F)*D/Math.sin(a.ab(Math.PI-$-F,.01,Math.PI-.01)),q=ip(this),Y=Math.atan(q/this._helper.cameraToCenterDistance),J=a.aa(.75),ce=Y>J?2*Y*(.5+b.y/(2*q)):J,de=Math.sin(ce)*D/Math.sin(a.ab(Math.PI-$-ce,.01,Math.PI-.01)),Ce=Math.min(H,de);this._helper._farZ=1.01*(Math.cos(Math.PI/2-f)*Ce+D),this._helper._nearZ=this._helper._height/50}_calcMatrices(){if(!this._helper._height)return;const l=this.centerOffset,f=qr(this.worldSize,this.center),b=f.x,w=f.y;this._helper._pixelPerMeter=a.aH(1,this.center.lat)*this.worldSize;const P=a.aa(Math.min(this.pitch,89.25)),D=Math.max(this._helper.cameraToCenterDistance/2,this._helper.cameraToCenterDistance+this._helper._elevation*this._helper._pixelPerMeter/Math.cos(P));let $;this._calculateNearFarZIfNeeded(D,P,l),$=new Float64Array(16),a.aV($,this.fovInRadians,this._helper._width/this._helper._height,this._helper._nearZ,this._helper._farZ),this._invProjMatrix=new Float64Array(16),a.an(this._invProjMatrix,$),$[8]=2*-l.x/this._helper._width,$[9]=2*l.y/this._helper._height,this._projectionMatrix=a.aW($),a.K($,$,[1,-1,1]),a.J($,$,[0,0,-this._helper.cameraToCenterDistance]),a.aX($,$,-this.rollInRadians),a.aY($,$,this.pitchInRadians),a.aX($,$,-this.bearingInRadians),a.J($,$,[-b,-w,0]),this._mercatorMatrix=a.K([],$,[this.worldSize,this.worldSize,this.worldSize]),a.K($,$,[1,1,this._helper._pixelPerMeter]),this._pixelMatrix=a.L(new Float64Array(16),this.clipSpaceToPixelsMatrix,$),a.J($,$,[0,0,-this.elevation]),this._viewProjMatrix=$,this._invViewProjMatrix=a.an([],$);const F=[0,0,-1,1];a.al(F,F,this._invViewProjMatrix),this._cameraPosition=[F[0]/F[3],F[1]/F[3],F[2]/F[3]],this._fogMatrix=new Float64Array(16),a.aV(this._fogMatrix,this.fovInRadians,this.width/this.height,D,this._helper._farZ),this._fogMatrix[8]=2*-l.x/this.width,this._fogMatrix[9]=2*l.y/this.height,a.K(this._fogMatrix,this._fogMatrix,[1,-1,1]),a.J(this._fogMatrix,this._fogMatrix,[0,0,-this.cameraToCenterDistance]),a.aX(this._fogMatrix,this._fogMatrix,-this.rollInRadians),a.aY(this._fogMatrix,this._fogMatrix,this.pitchInRadians),a.aX(this._fogMatrix,this._fogMatrix,-this.bearingInRadians),a.J(this._fogMatrix,this._fogMatrix,[-b,-w,0]),a.K(this._fogMatrix,this._fogMatrix,[1,1,this._helper._pixelPerMeter]),a.J(this._fogMatrix,this._fogMatrix,[0,0,-this.elevation]),this._pixelMatrix3D=a.L(new Float64Array(16),this.clipSpaceToPixelsMatrix,$);const H=this._helper._width%2/2,q=this._helper._height%2/2,Y=Math.cos(this.bearingInRadians),J=Math.sin(-this.bearingInRadians),ce=b-Math.round(b)+Y*H+J*q,de=w-Math.round(w)+Y*q+J*H,Ce=new Float64Array($);if(a.J(Ce,Ce,[ce>.5?ce-1:ce,de>.5?de-1:de,0]),this._alignedProjMatrix=Ce,$=a.an(new Float64Array(16),this._pixelMatrix),!$)throw new Error("failed to invert matrix");this._pixelMatrixInverse=$,this._clearMatrixCaches()}_clearMatrixCaches(){this._posMatrixCache.clear(),this._alignedPosMatrixCache.clear(),this._fogMatrixCacheF32.clear()}maxPitchScaleFactor(){if(!this._pixelMatrixInverse)return 1;const l=this.screenPointToMercatorCoordinate(new a.P(0,0)),f=[l.x*this.worldSize,l.y*this.worldSize,0,1];return a.al(f,f,this._pixelMatrix)[3]/this._helper.cameraToCenterDistance}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){const l=a.aH(1,this.center.lat)*this.worldSize;return ko(this.center,this.elevation,this.pitch,this.bearing,this._helper.cameraToCenterDistance/l).toLngLat()}lngLatToCameraDepth(l,f){const b=a.Y.fromLngLat(l),w=[b.x*this.worldSize,b.y*this.worldSize,f,1];return a.al(w,w,this._viewProjMatrix),w[2]/w[3]}getProjectionData(l){const{overscaledTileID:f,aligned:b,applyTerrainMatrix:w}=l,P=this._helper.getMercatorTileCoordinates(f),D=f?this.calculatePosMatrix(f,b,!0):null;let $;return $=f&&f.terrainRttPosMatrix32f&&w?f.terrainRttPosMatrix32f:D||a.aZ(),{mainMatrix:$,tileMercatorCoords:P,clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:$}}isLocationOccluded(l){return!1}getPixelScale(){return 1}getCircleRadiusCorrection(){return 1}getPitchedTextCorrection(l,f,b){return 1}transformLightDirection(l){return a.aN(l)}getRayDirectionFromPixel(l){throw new Error("Not implemented.")}projectTileCoordinates(l,f,b,w){const P=this.calculatePosMatrix(b);let D;w?(D=[l,f,w(l,f),1],a.al(D,D,P)):(D=[l,f,0,1],oi(D,D,P));const $=D[3];return{point:new a.P(D[0]/$,D[1]/$),signedDistanceFromCamera:$,isOccluded:!1}}populateCache(l){for(const f of l)this.calculatePosMatrix(f)}getMatrixForModel(l,f){const b=a.Y.fromLngLat(l,f),w=b.meterInMercatorCoordinateUnits(),P=a.a_();return a.J(P,P,[b.x,b.y,b.z]),a.aX(P,P,Math.PI),a.aY(P,P,Math.PI/2),a.K(P,P,[-w,w,w]),P}getProjectionDataForCustomLayer(l=!0){const f=new a.S(0,0,0,0,0),b=this.getProjectionData({overscaledTileID:f,applyGlobeMatrix:l}),w=uo(f,this.worldSize);a.L(w,this._viewProjMatrix,w),b.tileMercatorCoords=[0,0,1,1];const P=[a.X,a.X,this.worldSize/this._helper.pixelsPerMeter],D=a.a$();return a.K(D,w,P),b.fallbackMatrix=D,b.mainMatrix=D,b}getFastPathSimpleProjectionMatrix(l){return this.calculatePosMatrix(l)}}function nv(){a.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}function Zs(T){if(T.useSlerp)if(T.k<1){const l=a.b0(T.startEulerAngles.roll,T.startEulerAngles.pitch,T.startEulerAngles.bearing),f=a.b0(T.endEulerAngles.roll,T.endEulerAngles.pitch,T.endEulerAngles.bearing),b=new Float64Array(4);a.b1(b,l,f,T.k);const w=a.b2(b);T.tr.setRoll(w.roll),T.tr.setPitch(w.pitch),T.tr.setBearing(w.bearing)}else T.tr.setRoll(T.endEulerAngles.roll),T.tr.setPitch(T.endEulerAngles.pitch),T.tr.setBearing(T.endEulerAngles.bearing);else T.tr.setRoll(a.y.number(T.startEulerAngles.roll,T.endEulerAngles.roll,T.k)),T.tr.setPitch(a.y.number(T.startEulerAngles.pitch,T.endEulerAngles.pitch,T.k)),T.tr.setBearing(a.y.number(T.startEulerAngles.bearing,T.endEulerAngles.bearing,T.k))}function Mb(T,l,f,b,w){const P=w.padding,D=qr(w.worldSize,f.getNorthWest()),$=qr(w.worldSize,f.getNorthEast()),F=qr(w.worldSize,f.getSouthEast()),H=qr(w.worldSize,f.getSouthWest()),q=a.aa(-b),Y=D.rotate(q),J=$.rotate(q),ce=F.rotate(q),de=H.rotate(q),Ce=new a.P(Math.max(Y.x,J.x,de.x,ce.x),Math.max(Y.y,J.y,de.y,ce.y)),Se=new a.P(Math.min(Y.x,J.x,de.x,ce.x),Math.min(Y.y,J.y,de.y,ce.y)),Pe=Ce.sub(Se),Ie=(w.width-(P.left+P.right+l.left+l.right))/Pe.x,Oe=(w.height-(P.top+P.bottom+l.top+l.bottom))/Pe.y;if(Oe<0||Ie<0)return void nv();const $e=Math.min(a.a8(w.scale*Math.min(Ie,Oe)),T.maxZoom),Fe=a.P.convert(T.offset),We=new a.P((l.left-l.right)/2,(l.top-l.bottom)/2).rotate(a.aa(b)),He=Fe.add(We).mult(w.scale/a.aG($e));return{center:jr(w.worldSize,D.add(F).div(2).sub(He)),zoom:$e,bearing:b}}class zh{get useGlobeControls(){return!1}handlePanInertia(l,f){return{easingOffset:l,easingCenter:f.center}}handleMapControlsRollPitchBearingZoom(l,f){l.bearingDelta&&f.setBearing(f.bearing+l.bearingDelta),l.pitchDelta&&f.setPitch(f.pitch+l.pitchDelta),l.rollDelta&&f.setRoll(f.roll+l.rollDelta),l.zoomDelta&&f.setZoom(f.zoom+l.zoomDelta)}handleMapControlsPan(l,f,b){l.around.distSqr(f.centerPoint)<.01||f.setLocationAtPoint(b,l.around)}cameraForBoxAndBearing(l,f,b,w,P){return Mb(l,f,b,w,P)}handleJumpToCenterZoom(l,f){l.zoom!==(f.zoom!==void 0?+f.zoom:l.zoom)&&l.setZoom(+f.zoom),f.center!==void 0&&l.setCenter(a.N.convert(f.center))}handleEaseTo(l,f){const b=l.zoom,w=l.padding,P={roll:l.roll,pitch:l.pitch,bearing:l.bearing},D={roll:f.roll===void 0?l.roll:f.roll,pitch:f.pitch===void 0?l.pitch:f.pitch,bearing:f.bearing===void 0?l.bearing:f.bearing},$=f.zoom!==void 0,F=!l.isPaddingEqual(f.padding);let H=!1;const q=$?+f.zoom:l.zoom;let Y=l.centerPoint.add(f.offsetAsPoint);const J=l.screenPointToLocation(Y),{center:ce,zoom:de}=l.getConstrained(a.N.convert(f.center||J),q??b);$h(l,ce);const Ce=qr(l.worldSize,J),Se=qr(l.worldSize,ce).sub(Ce),Pe=a.aG(de-b);return H=de!==b,{easeFunc:Ie=>{if(H&&l.setZoom(a.y.number(b,de,Ie)),a.b3(P,D)||Zs({startEulerAngles:P,endEulerAngles:D,tr:l,k:Ie,useSlerp:P.roll!=D.roll}),F&&(l.interpolatePadding(w,f.padding,Ie),Y=l.centerPoint.add(f.offsetAsPoint)),f.around)l.setLocationAtPoint(f.around,f.aroundPoint);else{const Oe=a.aG(l.zoom-b),$e=de>b?Math.min(2,Pe):Math.max(.5,Pe),Fe=Math.pow($e,1-Ie),We=jr(l.worldSize,Ce.add(Se.mult(Ie*Fe)).mult(Oe));l.setLocationAtPoint(l.renderWorldCopies?We.wrap():We,Y)}},isZooming:H,elevationCenter:ce}}handleFlyTo(l,f){const b=f.zoom!==void 0,w=l.zoom,P=l.getConstrained(a.N.convert(f.center||f.locationAtOffset),b?+f.zoom:w),D=P.center,$=P.zoom;$h(l,D);const F=qr(l.worldSize,f.locationAtOffset),H=qr(l.worldSize,D).sub(F),q=H.mag(),Y=a.aG($-w);let J;if(f.minZoom!==void 0){const ce=Math.min(+f.minZoom,w,$),de=l.getConstrained(D,ce).zoom;J=a.aG(de-w)}return{easeFunc:(ce,de,Ce,Se)=>{l.setZoom(ce===1?$:w+a.a8(de));const Pe=ce===1?D:jr(l.worldSize,F.add(H.mult(Ce)).mult(de));l.setLocationAtPoint(l.renderWorldCopies?Pe.wrap():Pe,Se)},scaleOfZoom:Y,targetCenter:D,scaleOfMinZoom:J,pixelPathLength:q}}}class br{constructor(l,f,b){this.blendFunction=l,this.blendColor=f,this.mask=b}}br.Replace=[1,0],br.disabled=new br(br.Replace,a.b4.transparent,[!1,!1,!1,!1]),br.unblended=new br(br.Replace,a.b4.transparent,[!0,!0,!0,!0]),br.alphaBlended=new br([1,771],a.b4.transparent,[!0,!0,!0,!0]);const _c=2305;class Yn{constructor(l,f,b){this.enable=l,this.mode=f,this.frontFace=b}}Yn.disabled=new Yn(!1,1029,_c),Yn.backCCW=new Yn(!0,1029,_c),Yn.frontCCW=new Yn(!0,1028,_c);class On{constructor(l,f,b){this.func=l,this.mask=f,this.range=b}}On.ReadOnly=!1,On.ReadWrite=!0,On.disabled=new On(519,On.ReadOnly,[0,1]);const Bh=7680;class Jn{constructor(l,f,b,w,P,D){this.test=l,this.ref=f,this.mask=b,this.fail=w,this.depthFail=P,this.pass=D}}Jn.disabled=new Jn({func:519,mask:0},0,0,Bh,Bh,Bh);const Fh=new WeakMap;function Fa(T){var l;if(Fh.has(T))return Fh.get(T);{const f=(l=T.getParameter(T.VERSION))===null||l===void 0?void 0:l.startsWith("WebGL 2.0");return Fh.set(T,f),f}}class bc{get awaitingQuery(){return!!this._readbackQueue}constructor(l){this._readbackWaitFrames=4,this._measureWaitFrames=6,this._texWidth=1,this._texHeight=1,this._measuredError=0,this._updateCount=0,this._lastReadbackFrame=-1e3,this._readbackQueue=null,this._cachedRenderContext=l;const f=l.context,b=f.gl;this._texFormat=b.RGBA,this._texType=b.UNSIGNED_BYTE;const w=new a.aC;w.emplaceBack(-1,-1),w.emplaceBack(2,-1),w.emplaceBack(-1,2);const P=new a.aE;P.emplaceBack(0,1,2),this._fullscreenTriangle=new ds(f.createVertexBuffer(w,Hn.members),f.createIndexBuffer(P),a.aD.simpleSegment(0,0,w.length,P.length)),this._resultBuffer=new Uint8Array(4),f.activeTexture.set(b.TEXTURE1);const D=b.createTexture();b.bindTexture(b.TEXTURE_2D,D),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST),b.texImage2D(b.TEXTURE_2D,0,this._texFormat,this._texWidth,this._texHeight,0,this._texFormat,this._texType,null),this._fbo=f.createFramebuffer(this._texWidth,this._texHeight,!1,!1),this._fbo.colorAttachment.set(D),Fa(b)&&(this._pbo=b.createBuffer(),b.bindBuffer(b.PIXEL_PACK_BUFFER,this._pbo),b.bufferData(b.PIXEL_PACK_BUFFER,4,b.STREAM_READ),b.bindBuffer(b.PIXEL_PACK_BUFFER,null))}destroy(){const l=this._cachedRenderContext.context.gl;this._fullscreenTriangle.destroy(),this._fbo.destroy(),l.deleteBuffer(this._pbo),this._fullscreenTriangle=null,this._fbo=null,this._pbo=null,this._resultBuffer=null}updateErrorLoop(l,f){const b=this._updateCount;return this._readbackQueue?b>=this._readbackQueue.frameNumberIssued+this._readbackWaitFrames&&this._tryReadback():b>=this._lastReadbackFrame+this._measureWaitFrames&&this._renderErrorTexture(l,f),this._updateCount++,this._measuredError}_bindFramebuffer(){const l=this._cachedRenderContext.context,f=l.gl;l.activeTexture.set(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,this._fbo.colorAttachment.get()),l.bindFramebuffer.set(this._fbo.framebuffer)}_renderErrorTexture(l,f){const b=this._cachedRenderContext.context,w=b.gl;if(this._bindFramebuffer(),b.viewport.set([0,0,this._texWidth,this._texHeight]),b.clear({color:a.b4.transparent}),this._cachedRenderContext.useProgram("projectionErrorMeasurement").draw(b,w.TRIANGLES,On.disabled,Jn.disabled,br.unblended,Yn.disabled,((P,D)=>({u_input:P,u_output_expected:D}))(l,f),null,null,"$clipping",this._fullscreenTriangle.vertexBuffer,this._fullscreenTriangle.indexBuffer,this._fullscreenTriangle.segments),this._pbo&&Fa(w)){w.bindBuffer(w.PIXEL_PACK_BUFFER,this._pbo),w.readBuffer(w.COLOR_ATTACHMENT0),w.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,0),w.bindBuffer(w.PIXEL_PACK_BUFFER,null);const P=w.fenceSync(w.SYNC_GPU_COMMANDS_COMPLETE,0);w.flush(),this._readbackQueue={frameNumberIssued:this._updateCount,sync:P}}else this._readbackQueue={frameNumberIssued:this._updateCount,sync:null}}_tryReadback(){const l=this._cachedRenderContext.context.gl;if(this._pbo&&this._readbackQueue&&Fa(l)){const f=l.clientWaitSync(this._readbackQueue.sync,0,0);if(f===l.WAIT_FAILED)return a.w("WebGL2 clientWaitSync failed."),this._readbackQueue=null,void(this._lastReadbackFrame=this._updateCount);if(f===l.TIMEOUT_EXPIRED)return;l.bindBuffer(l.PIXEL_PACK_BUFFER,this._pbo),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,this._resultBuffer,0,4),l.bindBuffer(l.PIXEL_PACK_BUFFER,null)}else this._bindFramebuffer(),l.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,this._resultBuffer);this._readbackQueue=null,this._measuredError=bc._parseRGBA8float(this._resultBuffer),this._lastReadbackFrame=this._updateCount}static _parseRGBA8float(l){let f=0;return f+=l[0]/256,f+=l[1]/65536,f+=l[2]/16777216,l[3]<127&&(f=-f),f/128}}const Nh=a.X/128;function xc(T,l){const f=T.granularity!==void 0?Math.max(T.granularity,1):1,b=f+(T.generateBorders?2:0),w=f+(T.extendToNorthPole||T.generateBorders?1:0)+(T.extendToSouthPole||T.generateBorders?1:0),P=b+1,D=w+1,$=T.generateBorders?-1:0,F=T.generateBorders||T.extendToNorthPole?-1:0,H=f+(T.generateBorders?1:0),q=f+(T.generateBorders||T.extendToSouthPole?1:0),Y=P*D,J=b*w*6,ce=P*D>65536;if(ce&&l==="16bit")throw new Error("Granularity is too large and meshes would not fit inside 16 bit vertex indices.");const de=ce||l==="32bit",Ce=new Int16Array(2*Y);let Se=0;for(let Oe=F;Oe<=q;Oe++)for(let $e=$;$e<=H;$e++){let Fe=$e/f*a.X;$e===-1&&(Fe=-64),$e===f+1&&(Fe=a.X+Nh);let We=Oe/f*a.X;Oe===-1&&(We=T.extendToNorthPole?a.b6:-64),Oe===f+1&&(We=T.extendToSouthPole?a.b7:a.X+Nh),Ce[Se++]=Fe,Ce[Se++]=We}const Pe=de?new Uint32Array(J):new Uint16Array(J);let Ie=0;for(let Oe=0;Oe<w;Oe++)for(let $e=0;$e<b;$e++){const Fe=$e+1+Oe*P,We=$e+(Oe+1)*P,He=$e+1+(Oe+1)*P;Pe[Ie++]=$e+Oe*P,Pe[Ie++]=We,Pe[Ie++]=Fe,Pe[Ie++]=Fe,Pe[Ie++]=We,Pe[Ie++]=He}return{vertices:Ce.buffer.slice(0),indices:Pe.buffer.slice(0),uses32bitIndices:de}}const rv=new a.aB({fill:new a.b8(128,2),line:new a.b8(512,0),tile:new a.b8(128,32),stencil:new a.b8(128,1),circle:3});class op{constructor(){this._tileMeshCache={},this._errorCorrectionUsable=0,this._errorMeasurementLastValue=0,this._errorCorrectionPreviousValue=0,this._errorMeasurementLastChangeTime=-1e3}get name(){return"vertical-perspective"}get transitionState(){return 1}get useSubdivision(){return!0}get shaderVariantName(){return"globe"}get shaderDefine(){return"#define GLOBE"}get shaderPreludeCode(){return hs.projectionGlobe}get vertexShaderPreludeCode(){return hs.projectionMercator.vertexSource}get subdivisionGranularity(){return rv}get useGlobeControls(){return!0}get latitudeErrorCorrectionRadians(){return this._errorCorrectionUsable}destroy(){this._errorMeasurement&&this._errorMeasurement.destroy()}updateGPUdependent(l){this._errorMeasurement||(this._errorMeasurement=new bc(l));const f=a.Q(this._errorQueryLatitudeDegrees),b=2*Math.atan(Math.exp(Math.PI-f*Math.PI*2))-.5*Math.PI,w=this._errorMeasurement.updateErrorLoop(f,b),P=y.now();w!==this._errorMeasurementLastValue&&(this._errorCorrectionPreviousValue=this._errorCorrectionUsable,this._errorMeasurementLastValue=w,this._errorMeasurementLastChangeTime=P);const D=Math.min(Math.max((P-this._errorMeasurementLastChangeTime)/1e3/.5,0),1);this._errorCorrectionUsable=a.b9(this._errorCorrectionPreviousValue,-this._errorMeasurementLastValue,a.ba(D))}_getMeshKey(l){return`${l.granularity.toString(36)}_${l.generateBorders?"b":""}${l.extendToNorthPole?"n":""}${l.extendToSouthPole?"s":""}`}getMeshFromTileID(l,f,b,w,P){const D=(P==="stencil"?rv.stencil:rv.tile).getGranularityForZoomLevel(f.z);return this._getMesh(l,{granularity:D,generateBorders:b,extendToNorthPole:f.y===0&&w,extendToSouthPole:f.y===(1<<f.z)-1&&w})}_getMesh(l,f){const b=this._getMeshKey(f);if(b in this._tileMeshCache)return this._tileMeshCache[b];const w=function(P,D){const $=xc(D,"16bit"),F=a.aC.deserialize({arrayBuffer:$.vertices,length:$.vertices.byteLength/2/2}),H=a.aE.deserialize({arrayBuffer:$.indices,length:$.indices.byteLength/2/3});return new ds(P.createVertexBuffer(F,Hn.members),P.createIndexBuffer(H),a.aD.simpleSegment(0,0,F.length,H.length))}(l,f);return this._tileMeshCache[b]=w,w}recalculate(l){}hasTransition(){const l=y.now();let f=!1;return f=f||(l-this._errorMeasurementLastChangeTime)/1e3<.7,f=f||this._errorMeasurement&&this._errorMeasurement.awaitingQuery,f}setErrorQueryLatitudeDegrees(l){this._errorQueryLatitudeDegrees=l}}const Ab=new a.q({type:new a.D(a.v.projection.type)});class Db extends a.E{constructor(l){super(),this._transitionable=new a.T(Ab),this.setProjection(l),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new a.z(0)),this._mercatorProjection=new bo,this._verticalPerspectiveProjection=new op}get transitionState(){const l=this.properties.get("type");if(typeof l=="string"&&l==="mercator")return 0;if(typeof l=="string"&&l==="vertical-perspective")return 1;if(l instanceof a.bb){if(l.from==="vertical-perspective"&&l.to==="mercator")return 1-l.transition;if(l.from==="mercator"&&l.to==="vertical-perspective")return l.transition}return 1}get useGlobeRendering(){return this.transitionState>0}get latitudeErrorCorrectionRadians(){return this._verticalPerspectiveProjection.latitudeErrorCorrectionRadians}get currentProjection(){return this.useGlobeRendering?this._verticalPerspectiveProjection:this._mercatorProjection}get name(){return"globe"}get useSubdivision(){return this.currentProjection.useSubdivision}get shaderVariantName(){return this.currentProjection.shaderVariantName}get shaderDefine(){return this.currentProjection.shaderDefine}get shaderPreludeCode(){return this.currentProjection.shaderPreludeCode}get vertexShaderPreludeCode(){return this.currentProjection.vertexShaderPreludeCode}get subdivisionGranularity(){return this.currentProjection.subdivisionGranularity}get useGlobeControls(){return this.transitionState>0}destroy(){this._mercatorProjection.destroy(),this._verticalPerspectiveProjection.destroy()}updateGPUdependent(l){this._mercatorProjection.updateGPUdependent(l),this._verticalPerspectiveProjection.updateGPUdependent(l)}getMeshFromTileID(l,f,b,w,P){return this.currentProjection.getMeshFromTileID(l,f,b,w,P)}setProjection(l){this._transitionable.setValue("type",(l==null?void 0:l.type)||"mercator")}updateTransitions(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()||this.currentProjection.hasTransition()}recalculate(l){this.properties=this._transitioning.possiblyEvaluate(l)}setErrorQueryLatitudeDegrees(l){this._verticalPerspectiveProjection.setErrorQueryLatitudeDegrees(l),this._mercatorProjection.setErrorQueryLatitudeDegrees(l)}}function kb(T){const l=na(T.worldSize,T.center.lat);return 2*Math.PI*l}function qi(T,l,f,b,w){const P=1/(1<<w),D=l/a.X*P+b*P,$=a.bd((T/a.X*P+f*P)*Math.PI*2+Math.PI,2*Math.PI),F=2*Math.atan(Math.exp(Math.PI-D*Math.PI*2))-.5*Math.PI,H=Math.cos(F),q=new Float64Array(3);return q[0]=Math.sin($)*H,q[1]=Math.sin(F),q[2]=Math.cos($)*H,q}function Bi(T){return function(l,f){const b=Math.cos(f),w=new Float64Array(3);return w[0]=Math.sin(l)*b,w[1]=Math.sin(f),w[2]=Math.cos(l)*b,w}(T.lng*Math.PI/180,T.lat*Math.PI/180)}function na(T,l){return T/(2*Math.PI)/Math.cos(l*Math.PI/180)}function Vh(T){const l=Math.asin(T[1])/Math.PI*180,f=Math.sqrt(T[0]*T[0]+T[2]*T[2]);if(f>1e-6){const b=T[0]/f,w=Math.acos(T[2]/f),P=(b>0?w:-w)/Math.PI*180;return new a.N(a.aI(P,-180,180),l)}return new a.N(0,l)}function jh(T){return Math.cos(T*Math.PI/180)}function Ei(T,l){const f=jh(T),b=jh(l);return a.a8(b/f)}function fu(T,l){const f=T.rotate(l.bearingInRadians),b=l.zoom+Ei(l.center.lat,0),w=a.b9(1/jh(l.center.lat),1/jh(Math.min(Math.abs(l.center.lat),60)),a.bc(b,7,3,0,1)),P=360/kb({worldSize:l.worldSize,center:{lat:l.center.lat}});return new a.N(l.center.lng-f.x*P*w,a.ab(l.center.lat+f.y*P,-85.051129,a.aF))}function iv(T){const l=.5*T,f=Math.sin(l),b=Math.cos(l);return Math.log(f+b)-Math.log(b-f)}function Ob(T,l,f,b){const w=T.lat+f*b;if(Math.abs(f)>1){const P=(Math.sign(T.lat+f)!==Math.sign(T.lat)?-Math.abs(T.lat):Math.abs(T.lat))*Math.PI/180,D=Math.abs(T.lat+f)*Math.PI/180,$=iv(P+b*(D-P)),F=iv(P),H=iv(D);return new a.N(T.lng+l*(($-F)/(H-F)),w)}return new a.N(T.lng+l*b,w)}class OC{constructor(l){this._cachePrevious=new Map,this._cache=new Map,this._hadAnyChanges=!1,this._aabbFactory=l}recalculateCache(){if(!this._hadAnyChanges)return;const l=this._cachePrevious;this._cachePrevious=this._cache,this._cache=l,this._cache.clear(),this._hadAnyChanges=!1}getTileAABB(l,f,b,w){const P=`${l.z}_${l.x}_${l.y}`,D=this._cache.get(P);if(D)return D;const $=this._cachePrevious.get(P);if($)return this._cache.set(P,$),$;const F=this._aabbFactory(l,f,b,w);return this._cache.set(P,F),this._hadAnyChanges=!0,F}}function ap(T,l,f){const b=T-l;return b<0?-b:Math.max(0,b-f)}function ov(T,l,f,b,w){const P=T-f;let D;return D=P<0?Math.min(-P,1+P-w):P>1?Math.min(Math.max(P-w,0),1-P):0,Math.max(D,ap(l,b,w))}class RC{constructor(){this._aabbCache=new OC(this._computeTileAABB)}recalculateCache(){this._aabbCache.recalculateCache()}distanceToTile2d(l,f,b,w){const P=1<<b.z,D=1/P,$=b.x/P,F=b.y/P;let H=2;return H=Math.min(H,ov(l,f,$,F,D)),H=Math.min(H,ov(l,f,$+.5,-F-D,D)),H=Math.min(H,ov(l,f,$+.5,2-F-D,D)),H}getWrap(l,f,b){const w=1<<f.z,P=1/w,D=f.x/w,$=ap(l.x,D,P),F=ap(l.x,D-1,P),H=ap(l.x,D+1,P),q=Math.min($,F,H);return q===H?1:q===F?-1:0}allowVariableZoom(l,f){return Pi(l,f)>4}allowWorldCopies(){return!1}getTileAABB(l,f,b,w){return this._aabbCache.getTileAABB(l,f,b,w)}_computeTileAABB(l,f,b,w){if(l.z<=0)return new Ba([-1,-1,-1],[1,1,1]);if(l.z===1)return new Ba([l.x===0?-1:0,l.y===0?0:-1,-1],[l.x===0?0:1,l.y===0?1:0,1]);{const P=[qi(0,0,l.x,l.y,l.z),qi(a.X,0,l.x,l.y,l.z),qi(a.X,a.X,l.x,l.y,l.z),qi(0,a.X,l.x,l.y,l.z)],D=[1,1,1],$=[-1,-1,-1];for(const F of P)for(let H=0;H<3;H++)D[H]=Math.min(D[H],F[H]),$[H]=Math.max($[H],F[H]);if(l.y===0||l.y===(1<<l.z)-1){const F=[0,l.y===0?1:-1,0];for(let H=0;H<3;H++)D[H]=Math.min(D[H],F[H]),$[H]=Math.max($[H],F[H])}return new Ba(D,$)}}}class pu{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(l){this._helper.setMinZoom(l)}setMaxZoom(l){this._helper.setMaxZoom(l)}setMinPitch(l){this._helper.setMinPitch(l)}setMaxPitch(l){this._helper.setMaxPitch(l)}setRenderWorldCopies(l){this._helper.setRenderWorldCopies(l)}setBearing(l){this._helper.setBearing(l)}setPitch(l){this._helper.setPitch(l)}setRoll(l){this._helper.setRoll(l)}setFov(l){this._helper.setFov(l)}setZoom(l){this._helper.setZoom(l)}setCenter(l){this._helper.setCenter(l)}setElevation(l){this._helper.setElevation(l)}setMinElevationForCurrentTile(l){this._helper.setMinElevationForCurrentTile(l)}setPadding(l){this._helper.setPadding(l)}interpolatePadding(l,f,b){return this._helper.interpolatePadding(l,f,b)}isPaddingEqual(l){return this._helper.isPaddingEqual(l)}resize(l,f){this._helper.resize(l,f)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(l){this._helper.setMaxBounds(l)}overrideNearFarZ(l,f){this._helper.overrideNearFarZ(l,f)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(l){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),l)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(l){}constructor(){this._cachedClippingPlane=a.be(),this._projectionMatrix=a.a_(),this._globeViewProjMatrix32f=a.aZ(),this._globeViewProjMatrixNoCorrection=a.a_(),this._globeViewProjMatrixNoCorrectionInverted=a.a_(),this._globeProjMatrixInverted=a.a_(),this._cameraPosition=a.bf(),this._globeLatitudeErrorCorrectionRadians=0,this._helper=new fi({calcMatrices:()=>{this._calcMatrices()},getConstrained:(l,f)=>this.getConstrained(l,f)}),this._coveringTilesDetailsProvider=new RC}clone(){const l=new pu;return l.apply(this),l}apply(l,f){this._globeLatitudeErrorCorrectionRadians=f||0,this._helper.apply(l)}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._globeViewProjMatrixNoCorrection}get inverseProjectionMatrix(){return this._globeProjMatrixInverted}get cameraPosition(){const l=a.bf();return l[0]=this._cameraPosition[0],l[1]=this._cameraPosition[1],l[2]=this._cameraPosition[2],l}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}getProjectionData(l){const{overscaledTileID:f,applyGlobeMatrix:b}=l,w=this._helper.getMercatorTileCoordinates(f);return{mainMatrix:this._globeViewProjMatrix32f,tileMercatorCoords:w,clippingPlane:this._cachedClippingPlane,projectionTransition:b?1:0,fallbackMatrix:this._globeViewProjMatrix32f}}_computeClippingPlane(l){const f=this.pitchInRadians,b=this.cameraToCenterDistance/l,w=Math.sin(f)*b,P=Math.cos(f)*b+1,D=1/Math.sqrt(w*w+P*P)*1;let $=-w,F=P;const H=Math.sqrt($*$+F*F);$/=H,F/=H;const q=[0,$,F];return a.bg(q,q,[0,0,0],-this.bearingInRadians),a.bh(q,q,[0,0,0],-1*this.center.lat*Math.PI/180),a.bi(q,q,[0,0,0],this.center.lng*Math.PI/180),a.aL(q,q,.25),[...q,.25*-D]}isLocationOccluded(l){return!this.isSurfacePointVisible(Bi(l))}transformLightDirection(l){const f=this._helper._center.lng*Math.PI/180,b=this._helper._center.lat*Math.PI/180,w=Math.cos(b),P=[Math.sin(f)*w,Math.sin(b),Math.cos(f)*w],D=[P[2],0,-P[0]],$=[0,0,0];a.aR($,D,P),a.aQ(D,D),a.aQ($,$);const F=[0,0,0];return a.aQ(F,[D[0]*l[0]+$[0]*l[1]+P[0]*l[2],D[1]*l[0]+$[1]*l[1]+P[1]*l[2],D[2]*l[0]+$[2]*l[1]+P[2]*l[2]]),F}getPixelScale(){return 1/Math.cos(this._helper._center.lat*Math.PI/180)}getCircleRadiusCorrection(){return Math.cos(this._helper._center.lat*Math.PI/180)}getPitchedTextCorrection(l,f,b){const w=function($,F,H){const q=1/(1<<H.z);return new a.Y($/a.X*q+H.x*q,F/a.X*q+H.y*q)}(l,f,b.canonical),P=(D=w.y,[a.bd(w.x*Math.PI*2+Math.PI,2*Math.PI),2*Math.atan(Math.exp(Math.PI-D*Math.PI*2))-.5*Math.PI]);var D;return this.getCircleRadiusCorrection()/Math.cos(P[1])}projectTileCoordinates(l,f,b,w){const P=b.canonical,D=qi(l,f,P.x,P.y,P.z),$=1+(w?w(l,f):0)/a.bo,F=[D[0]*$,D[1]*$,D[2]*$,1];a.al(F,F,this._globeViewProjMatrixNoCorrection);const H=this._cachedClippingPlane,q=H[0]*D[0]+H[1]*D[1]+H[2]*D[2]+H[3]<0;return{point:new a.P(F[0]/F[3],F[1]/F[3]),signedDistanceFromCamera:F[3],isOccluded:q}}_calcMatrices(){if(!this._helper._width||!this._helper._height)return;const l=na(this.worldSize,this.center.lat),f=a.a$(),b=a.a$();this._helper.autoCalculateNearFarZ&&(this._helper._nearZ=.5,this._helper._farZ=this.cameraToCenterDistance+2*l),a.aV(f,this.fovInRadians,this.width/this.height,this._helper._nearZ,this._helper._farZ);const w=this.centerOffset;f[8]=2*-w.x/this._helper._width,f[9]=2*w.y/this._helper._height,this._projectionMatrix=a.aW(f),this._globeProjMatrixInverted=a.a$(),a.an(this._globeProjMatrixInverted,f),a.J(f,f,[0,0,-this.cameraToCenterDistance]),a.aX(f,f,this.rollInRadians),a.aY(f,f,-this.pitchInRadians),a.aX(f,f,this.bearingInRadians),a.J(f,f,[0,0,-l]);const P=a.bf();P[0]=l,P[1]=l,P[2]=l,a.aY(b,f,this.center.lat*Math.PI/180),a.bj(b,b,-this.center.lng*Math.PI/180),a.K(b,b,P),this._globeViewProjMatrixNoCorrection=b,a.aY(f,f,this.center.lat*Math.PI/180-this._globeLatitudeErrorCorrectionRadians),a.bj(f,f,-this.center.lng*Math.PI/180),a.K(f,f,P),this._globeViewProjMatrix32f=new Float32Array(f),this._globeViewProjMatrixNoCorrectionInverted=a.a$(),a.an(this._globeViewProjMatrixNoCorrectionInverted,b);const D=a.bf();this._cameraPosition=a.bf(),this._cameraPosition[2]=this.cameraToCenterDistance/l,a.bg(this._cameraPosition,this._cameraPosition,D,-this.rollInRadians),a.bh(this._cameraPosition,this._cameraPosition,D,this.pitchInRadians),a.bg(this._cameraPosition,this._cameraPosition,D,-this.bearingInRadians),a.aM(this._cameraPosition,this._cameraPosition,[0,0,1]),a.bh(this._cameraPosition,this._cameraPosition,D,-this.center.lat*Math.PI/180),a.bi(this._cameraPosition,this._cameraPosition,D,this.center.lng*Math.PI/180),this._cachedClippingPlane=this._computeClippingPlane(l);const $=a.aW(this._globeViewProjMatrixNoCorrectionInverted);a.K($,$,[1,1,-1]),this._cachedFrustum=du.fromInvProjectionMatrix($)}calculateFogMatrix(l){a.w("calculateFogMatrix is not supported on globe projection.");const f=a.a$();return a.aq(f),f}getVisibleUnwrappedCoordinates(l){return[new a.aT(0,l)]}getCameraFrustum(){return this._cachedFrustum}getClippingPlane(){return this._cachedClippingPlane}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(l){l&&a.w("terrain is not fully supported on vertical perspective projection."),this._helper.recalculateZoomAndCenter(0)}maxPitchScaleFactor(){return 1}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(l,f){if(!this._globeViewProjMatrixNoCorrection)return 1;const b=Bi(l);a.aL(b,b,1+f/a.bo);const w=a.be();return a.al(w,[b[0],b[1],b[2],1],this._globeViewProjMatrixNoCorrection),w[2]/w[3]}populateCache(l){}getBounds(){const l=.5*this.width,f=.5*this.height,b=[new a.P(0,0),new a.P(l,0),new a.P(this.width,0),new a.P(this.width,f),new a.P(this.width,this.height),new a.P(l,this.height),new a.P(0,this.height),new a.P(0,f)],w=[];for(const Y of b)w.push(this.unprojectScreenPoint(Y));let P=0,D=0,$=0,F=0;const H=this.center;for(const Y of w){const J=a.bk(H.lng,Y.lng),ce=a.bk(H.lat,Y.lat);J<D&&(D=J),J>P&&(P=J),ce<F&&(F=ce),ce>$&&($=ce)}const q=[H.lng+D,H.lat+F,H.lng+P,H.lat+$];return this.isSurfacePointOnScreen([0,1,0])&&(q[3]=90,q[0]=-180,q[2]=180),this.isSurfacePointOnScreen([0,-1,0])&&(q[1]=-90,q[0]=-180,q[2]=180),new ye(q)}getConstrained(l,f){const b=a.ab(l.lat,-85.051129,a.aF),w=a.ab(+f,this.minZoom+Ei(0,b),this.maxZoom);return{center:new a.N(l.lng,b),zoom:w}}calculateCenterFromCameraLngLatAlt(l,f,b,w){return this._helper.calculateCenterFromCameraLngLatAlt(l,f,b,w)}setLocationAtPoint(l,f){const b=Bi(this.unprojectScreenPoint(f)),w=Bi(l),P=a.bf();a.bl(P);const D=a.bf();a.bi(D,b,P,-this.center.lng*Math.PI/180),a.bh(D,D,P,this.center.lat*Math.PI/180);const $=w[0]*w[0]+w[2]*w[2],F=D[0]*D[0];if($<F)return;const H=Math.sqrt($-F),q=-H,Y=a.bm(w[0],w[2],D[0],H),J=a.bm(w[0],w[2],D[0],q),ce=a.bf();a.bi(ce,w,P,-Y);const de=a.bm(ce[1],ce[2],D[1],D[2]),Ce=a.bf();a.bi(Ce,w,P,-J);const Se=a.bm(Ce[1],Ce[2],D[1],D[2]),Pe=.5*Math.PI,Ie=de>=-Pe&&de<=Pe,Oe=Se>=-Pe&&Se<=Pe;let $e,Fe;if(Ie&&Oe){const it=this.center.lng*Math.PI/180,_t=this.center.lat*Math.PI/180;a.bp(Y,it)+a.bp(de,_t)<a.bp(J,it)+a.bp(Se,_t)?($e=Y,Fe=de):($e=J,Fe=Se)}else if(Ie)$e=Y,Fe=de;else{if(!Oe)return;$e=J,Fe=Se}const We=$e/Math.PI*180,He=Fe/Math.PI*180,et=this.center.lat;this.setCenter(new a.N(We,a.ab(He,-90,90))),this.setZoom(this.zoom+Ei(et,this.center.lat))}locationToScreenPoint(l,f){const b=Bi(l);if(f){const w=f.getElevationForLngLatZoom(l,this._helper._tileZoom);a.aL(b,b,1+w/a.bo)}return this._projectSurfacePointToScreen(b)}_projectSurfacePointToScreen(l){const f=a.be();return a.al(f,[...l,1],this._globeViewProjMatrixNoCorrection),f[0]/=f[3],f[1]/=f[3],new a.P((.5*f[0]+.5)*this.width,(.5*-f[1]+.5)*this.height)}screenPointToMercatorCoordinate(l,f){if(f){const b=f.pointCoordinate(l);if(b)return b}return a.Y.fromLngLat(this.unprojectScreenPoint(l))}screenPointToLocation(l,f){var b;return(b=this.screenPointToMercatorCoordinate(l,f))===null||b===void 0?void 0:b.toLngLat()}isPointOnMapSurface(l,f){const b=this._cameraPosition,w=this.getRayDirectionFromPixel(l);return!!this.rayPlanetIntersection(b,w)}getRayDirectionFromPixel(l){const f=a.be();f[0]=l.x/this.width*2-1,f[1]=-1*(l.y/this.height*2-1),f[2]=1,f[3]=1,a.al(f,f,this._globeViewProjMatrixNoCorrectionInverted),f[0]/=f[3],f[1]/=f[3],f[2]/=f[3];const b=a.bf();b[0]=f[0]-this._cameraPosition[0],b[1]=f[1]-this._cameraPosition[1],b[2]=f[2]-this._cameraPosition[2];const w=a.bf();return a.aQ(w,b),w}isSurfacePointVisible(l){const f=this._cachedClippingPlane;return f[0]*l[0]+f[1]*l[1]+f[2]*l[2]+f[3]>=0}isSurfacePointOnScreen(l){if(!this.isSurfacePointVisible(l))return!1;const f=a.be();return a.al(f,[...l,1],this._globeViewProjMatrixNoCorrection),f[0]/=f[3],f[1]/=f[3],f[2]/=f[3],f[0]>-1&&f[0]<1&&f[1]>-1&&f[1]<1&&f[2]>-1&&f[2]<1}rayPlanetIntersection(l,f){const b=a.aS(l,f),w=a.bf(),P=a.bf();a.aL(P,f,b),a.aP(w,l,P);const D=1-a.aS(w,w);if(D<0)return null;const $=a.aS(l,l)-1,F=-b+(b<0?1:-1)*Math.sqrt(D),H=$/F,q=F;return{tMin:Math.min(H,q),tMax:Math.max(H,q)}}unprojectScreenPoint(l){const f=this._cameraPosition,b=this.getRayDirectionFromPixel(l),w=this.rayPlanetIntersection(f,b);if(w){const H=a.bf();a.aM(H,f,[b[0]*w.tMin,b[1]*w.tMin,b[2]*w.tMin]);const q=a.bf();return a.aQ(q,H),Vh(q)}const P=this._cachedClippingPlane[0]*b[0]+this._cachedClippingPlane[1]*b[1]+this._cachedClippingPlane[2]*b[2],D=-a.bn(this._cachedClippingPlane,f)/P,$=a.bf();if(D>0)a.aM($,f,[b[0]*D,b[1]*D,b[2]*D]);else{const H=a.bf();a.aM(H,f,[2*b[0],2*b[1],2*b[2]]);const q=a.bn(this._cachedClippingPlane,H);a.aP($,H,[this._cachedClippingPlane[0]*q,this._cachedClippingPlane[1]*q,this._cachedClippingPlane[2]*q])}const F=a.bf();return a.aQ(F,$),Vh(F)}getMatrixForModel(l,f){const b=a.N.convert(l),w=1/a.bo,P=a.a_();return a.bj(P,P,b.lng/180*Math.PI),a.aY(P,P,-b.lat/180*Math.PI),a.J(P,P,[0,0,1+f/a.bo]),a.aY(P,P,.5*Math.PI),a.K(P,P,[w,w,w]),P}getProjectionDataForCustomLayer(l=!0){const f=this.getProjectionData({overscaledTileID:new a.S(0,0,0,0,0),applyGlobeMatrix:l});return f.tileMercatorCoords=[0,0,1,1],f}getFastPathSimpleProjectionMatrix(l){}}class wc{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(l){this._helper.setMinZoom(l)}setMaxZoom(l){this._helper.setMaxZoom(l)}setMinPitch(l){this._helper.setMinPitch(l)}setMaxPitch(l){this._helper.setMaxPitch(l)}setRenderWorldCopies(l){this._helper.setRenderWorldCopies(l)}setBearing(l){this._helper.setBearing(l)}setPitch(l){this._helper.setPitch(l)}setRoll(l){this._helper.setRoll(l)}setFov(l){this._helper.setFov(l)}setZoom(l){this._helper.setZoom(l)}setCenter(l){this._helper.setCenter(l)}setElevation(l){this._helper.setElevation(l)}setMinElevationForCurrentTile(l){this._helper.setMinElevationForCurrentTile(l)}setPadding(l){this._helper.setPadding(l)}interpolatePadding(l,f,b){return this._helper.interpolatePadding(l,f,b)}isPaddingEqual(l){return this._helper.isPaddingEqual(l)}resize(l,f,b=!0){this._helper.resize(l,f,b)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(l){this._helper.setMaxBounds(l)}overrideNearFarZ(l,f){this._helper.overrideNearFarZ(l,f)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(l){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),l)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}get isGlobeRendering(){return this._globeness>0}setTransitionState(l,f){this._globeness=l,this._globeLatitudeErrorCorrectionRadians=f,this._calcMatrices(),this._verticalPerspectiveTransform.getCoveringTilesDetailsProvider().recalculateCache(),this._mercatorTransform.getCoveringTilesDetailsProvider().recalculateCache()}get currentTransform(){return this.isGlobeRendering?this._verticalPerspectiveTransform:this._mercatorTransform}constructor(){this._globeLatitudeErrorCorrectionRadians=0,this._globeness=1,this._helper=new fi({calcMatrices:()=>{this._calcMatrices()},getConstrained:(l,f)=>this.getConstrained(l,f)}),this._globeness=1,this._mercatorTransform=new co,this._verticalPerspectiveTransform=new pu}clone(){const l=new wc;return l._globeness=this._globeness,l._globeLatitudeErrorCorrectionRadians=this._globeLatitudeErrorCorrectionRadians,l.apply(this),l}apply(l){this._helper.apply(l),this._mercatorTransform.apply(this),this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians)}get projectionMatrix(){return this.currentTransform.projectionMatrix}get modelViewProjectionMatrix(){return this.currentTransform.modelViewProjectionMatrix}get inverseProjectionMatrix(){return this.currentTransform.inverseProjectionMatrix}get cameraPosition(){return this.currentTransform.cameraPosition}getProjectionData(l){const f=this._mercatorTransform.getProjectionData(l),b=this._verticalPerspectiveTransform.getProjectionData(l);return{mainMatrix:this.isGlobeRendering?b.mainMatrix:f.mainMatrix,clippingPlane:b.clippingPlane,tileMercatorCoords:b.tileMercatorCoords,projectionTransition:l.applyGlobeMatrix?this._globeness:0,fallbackMatrix:f.fallbackMatrix}}isLocationOccluded(l){return this.currentTransform.isLocationOccluded(l)}transformLightDirection(l){return this.currentTransform.transformLightDirection(l)}getPixelScale(){return a.b9(this._mercatorTransform.getPixelScale(),this._verticalPerspectiveTransform.getPixelScale(),this._globeness)}getCircleRadiusCorrection(){return a.b9(this._mercatorTransform.getCircleRadiusCorrection(),this._verticalPerspectiveTransform.getCircleRadiusCorrection(),this._globeness)}getPitchedTextCorrection(l,f,b){const w=this._mercatorTransform.getPitchedTextCorrection(l,f,b),P=this._verticalPerspectiveTransform.getPitchedTextCorrection(l,f,b);return a.b9(w,P,this._globeness)}projectTileCoordinates(l,f,b,w){return this.currentTransform.projectTileCoordinates(l,f,b,w)}_calcMatrices(){this._helper._width&&this._helper._height&&(this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians),this._helper._nearZ=this._verticalPerspectiveTransform.nearZ,this._helper._farZ=this._verticalPerspectiveTransform.farZ,this._mercatorTransform.apply(this,!0,this.isGlobeRendering),this._helper._nearZ=this._mercatorTransform.nearZ,this._helper._farZ=this._mercatorTransform.farZ)}calculateFogMatrix(l){return this.currentTransform.calculateFogMatrix(l)}getVisibleUnwrappedCoordinates(l){return this.currentTransform.getVisibleUnwrappedCoordinates(l)}getCameraFrustum(){return this.currentTransform.getCameraFrustum()}getClippingPlane(){return this.currentTransform.getClippingPlane()}getCoveringTilesDetailsProvider(){return this.currentTransform.getCoveringTilesDetailsProvider()}recalculateZoomAndCenter(l){this._mercatorTransform.recalculateZoomAndCenter(l),this._verticalPerspectiveTransform.recalculateZoomAndCenter(l)}maxPitchScaleFactor(){return this._mercatorTransform.maxPitchScaleFactor()}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(l,f){return this.currentTransform.lngLatToCameraDepth(l,f)}populateCache(l){this._mercatorTransform.populateCache(l),this._verticalPerspectiveTransform.populateCache(l)}getBounds(){return this.currentTransform.getBounds()}getConstrained(l,f){return this.currentTransform.getConstrained(l,f)}calculateCenterFromCameraLngLatAlt(l,f,b,w){return this._helper.calculateCenterFromCameraLngLatAlt(l,f,b,w)}setLocationAtPoint(l,f){if(!this.isGlobeRendering)return this._mercatorTransform.setLocationAtPoint(l,f),void this.apply(this._mercatorTransform);this._verticalPerspectiveTransform.setLocationAtPoint(l,f),this.apply(this._verticalPerspectiveTransform)}locationToScreenPoint(l,f){return this.currentTransform.locationToScreenPoint(l,f)}screenPointToMercatorCoordinate(l,f){return this.currentTransform.screenPointToMercatorCoordinate(l,f)}screenPointToLocation(l,f){return this.currentTransform.screenPointToLocation(l,f)}isPointOnMapSurface(l,f){return this.currentTransform.isPointOnMapSurface(l,f)}getRayDirectionFromPixel(l){return this._verticalPerspectiveTransform.getRayDirectionFromPixel(l)}getMatrixForModel(l,f){return this.currentTransform.getMatrixForModel(l,f)}getProjectionDataForCustomLayer(l=!0){const f=this._mercatorTransform.getProjectionDataForCustomLayer(l);if(!this.isGlobeRendering)return f;const b=this._verticalPerspectiveTransform.getProjectionDataForCustomLayer(l);return b.fallbackMatrix=f.mainMatrix,b}getFastPathSimpleProjectionMatrix(l){return this.currentTransform.getFastPathSimpleProjectionMatrix(l)}}class Oo{get useGlobeControls(){return!0}handlePanInertia(l,f){const b=fu(l,f);return Math.abs(b.lng-f.center.lng)>180&&(b.lng=f.center.lng+179.5*Math.sign(b.lng-f.center.lng)),{easingCenter:b,easingOffset:new a.P(0,0)}}handleMapControlsRollPitchBearingZoom(l,f){const b=l.around,w=f.screenPointToLocation(b);l.bearingDelta&&f.setBearing(f.bearing+l.bearingDelta),l.pitchDelta&&f.setPitch(f.pitch+l.pitchDelta),l.rollDelta&&f.setRoll(f.roll+l.rollDelta);const P=f.zoom;l.zoomDelta&&f.setZoom(f.zoom+l.zoomDelta);const D=f.zoom-P;if(D===0)return;const $=a.bk(f.center.lng,w.lng),F=$/(Math.abs($/180)+1),H=a.bk(f.center.lat,w.lat),q=f.getRayDirectionFromPixel(b),Y=f.cameraPosition,J=-1*a.aS(Y,q),ce=a.bf();a.aM(ce,Y,[q[0]*J,q[1]*J,q[2]*J]);const de=a.bq(ce)-1,Ce=Math.exp(.5*-Math.max(de-.3,0)),Se=na(f.worldSize,f.center.lat)/Math.min(f.width,f.height),Pe=a.bc(Se,.9,.5,1,.25),Ie=(1-a.aG(-D))*Math.min(Ce,Pe),Oe=f.center.lat,$e=f.zoom,Fe=new a.N(f.center.lng+F*Ie,a.ab(f.center.lat+H*Ie,-85.051129,a.aF));f.setLocationAtPoint(w,b);const We=f.center,He=a.bc(Math.abs($),45,85,0,1),et=a.bc(Se,.75,.35,0,1),it=Math.pow(Math.max(He,et),.25),_t=a.bk(We.lng,Fe.lng),vt=a.bk(We.lat,Fe.lat);f.setCenter(new a.N(We.lng+_t*it,We.lat+vt*it).wrap()),f.setZoom($e+Ei(Oe,f.center.lat))}handleMapControlsPan(l,f,b){if(!l.panDelta)return;const w=f.center.lat,P=f.zoom;f.setCenter(fu(l.panDelta,f).wrap()),f.setZoom(P+Ei(w,f.center.lat))}cameraForBoxAndBearing(l,f,b,w,P){const D=Mb(l,f,b,w,P),$=f.left/P.width*2-1,F=(P.width-f.right)/P.width*2-1,H=f.top/P.height*-2+1,q=(P.height-f.bottom)/P.height*-2+1,Y=a.bk(b.getWest(),b.getEast())<0,J=Y?b.getEast():b.getWest(),ce=Y?b.getWest():b.getEast(),de=Math.max(b.getNorth(),b.getSouth()),Ce=Math.min(b.getNorth(),b.getSouth()),Se=J+.5*a.bk(J,ce),Pe=de+.5*a.bk(de,Ce),Ie=P.clone();Ie.setCenter(D.center),Ie.setBearing(D.bearing),Ie.setPitch(0),Ie.setRoll(0),Ie.setZoom(D.zoom);const Oe=Ie.modelViewProjectionMatrix,$e=[Bi(b.getNorthWest()),Bi(b.getNorthEast()),Bi(b.getSouthWest()),Bi(b.getSouthEast()),Bi(new a.N(ce,Pe)),Bi(new a.N(J,Pe)),Bi(new a.N(Se,de)),Bi(new a.N(Se,Ce))],Fe=Bi(D.center);let We=Number.POSITIVE_INFINITY;for(const He of $e)$<0&&(We=Oo.getLesserNonNegativeNonNull(We,Oo.solveVectorScale(He,Fe,Oe,"x",$))),F>0&&(We=Oo.getLesserNonNegativeNonNull(We,Oo.solveVectorScale(He,Fe,Oe,"x",F))),H>0&&(We=Oo.getLesserNonNegativeNonNull(We,Oo.solveVectorScale(He,Fe,Oe,"y",H))),q<0&&(We=Oo.getLesserNonNegativeNonNull(We,Oo.solveVectorScale(He,Fe,Oe,"y",q)));if(Number.isFinite(We)&&We!==0)return D.zoom=Ie.zoom+a.a8(We),D;nv()}handleJumpToCenterZoom(l,f){const b=l.center.lat,w=l.getConstrained(f.center?a.N.convert(f.center):l.center,l.zoom).center;l.setCenter(w.wrap());const P=f.zoom!==void 0?+f.zoom:l.zoom+Ei(b,w.lat);l.zoom!==P&&l.setZoom(P)}handleEaseTo(l,f){const b=l.zoom,w=l.center,P=l.padding,D={roll:l.roll,pitch:l.pitch,bearing:l.bearing},$={roll:f.roll===void 0?l.roll:f.roll,pitch:f.pitch===void 0?l.pitch:f.pitch,bearing:f.bearing===void 0?l.bearing:f.bearing},F=f.zoom!==void 0,H=!l.isPaddingEqual(f.padding);let q=!1;const Y=f.center?a.N.convert(f.center):w,J=l.getConstrained(Y,b).center;$h(l,J);const ce=l.clone();ce.setCenter(J),ce.setZoom(F?+f.zoom:b+Ei(w.lat,Y.lat)),ce.setBearing(f.bearing);const de=new a.P(a.ab(l.centerPoint.x+f.offsetAsPoint.x,0,l.width),a.ab(l.centerPoint.y+f.offsetAsPoint.y,0,l.height));ce.setLocationAtPoint(J,de);const Ce=(f.offset&&f.offsetAsPoint.mag())>0?ce.center:J,Se=F?+f.zoom:b+Ei(w.lat,Ce.lat),Pe=b+Ei(w.lat,0),Ie=Se+Ei(Ce.lat,0),Oe=a.bk(w.lng,Ce.lng),$e=a.bk(w.lat,Ce.lat),Fe=a.aG(Ie-Pe);return q=Se!==b,{easeFunc:We=>{if(a.b3(D,$)||Zs({startEulerAngles:D,endEulerAngles:$,tr:l,k:We,useSlerp:D.roll!=$.roll}),H&&l.interpolatePadding(P,f.padding,We),f.around)a.w("Easing around a point is not supported under globe projection."),l.setLocationAtPoint(f.around,f.aroundPoint);else{const He=Ie>Pe?Math.min(2,Fe):Math.max(.5,Fe),et=Math.pow(He,1-We),it=Ob(w,Oe,$e,We*et);l.setCenter(it.wrap())}if(q){const He=a.y.number(Pe,Ie,We)+Ei(0,l.center.lat);l.setZoom(He)}},isZooming:q,elevationCenter:Ce}}handleFlyTo(l,f){const b=f.zoom!==void 0,w=l.center,P=l.zoom,D=!l.isPaddingEqual(f.padding),$=l.getConstrained(a.N.convert(f.center||f.locationAtOffset),P).center,F=b?+f.zoom:l.zoom+Ei(l.center.lat,$.lat),H=l.clone();H.setCenter($),D&&H.setPadding(f.padding),H.setZoom(F),H.setBearing(f.bearing);const q=new a.P(a.ab(l.centerPoint.x+f.offsetAsPoint.x,0,l.width),a.ab(l.centerPoint.y+f.offsetAsPoint.y,0,l.height));H.setLocationAtPoint($,q);const Y=H.center;$h(l,Y);const J=function(Oe,$e,Fe){const We=Bi($e),He=Bi(Fe),et=a.aS(We,He),it=Math.acos(et),_t=kb(Oe);return it/(2*Math.PI)*_t}(l,w,Y),ce=P+Ei(w.lat,0),de=F+Ei(Y.lat,0),Ce=a.aG(de-ce);let Se;if(typeof f.minZoom=="number"){const Oe=+f.minZoom+Ei(Y.lat,0),$e=Math.min(Oe,ce,de)+Ei(0,Y.lat),Fe=l.getConstrained(Y,$e).zoom+Ei(Y.lat,0);Se=a.aG(Fe-ce)}const Pe=a.bk(w.lng,Y.lng),Ie=a.bk(w.lat,Y.lat);return{easeFunc:(Oe,$e,Fe,We)=>{const He=Ob(w,Pe,Ie,Fe),et=Oe===1?Y:He;l.setCenter(et.wrap());const it=ce+a.a8($e);l.setZoom(Oe===1?F:it+Ei(0,et.lat))},scaleOfZoom:Ce,targetCenter:Y,scaleOfMinZoom:Se,pixelPathLength:J}}static solveVectorScale(l,f,b,w,P){const D=w==="x"?[b[0],b[4],b[8],b[12]]:[b[1],b[5],b[9],b[13]],$=[b[3],b[7],b[11],b[15]],F=l[0]*D[0]+l[1]*D[1]+l[2]*D[2],H=l[0]*$[0]+l[1]*$[1]+l[2]*$[2],q=f[0]*D[0]+f[1]*D[1]+f[2]*D[2],Y=f[0]*$[0]+f[1]*$[1]+f[2]*$[2];return q+P*H===F+P*Y||$[3]*(F-q)+D[3]*(Y-H)+F*Y==q*H?null:(q+D[3]-P*Y-P*$[3])/(q-F-P*Y+P*H)}static getLesserNonNegativeNonNull(l,f){return f!==null&&f>=0&&f<l?f:l}}class sp{constructor(l){this._globe=l,this._mercatorCameraHelper=new zh,this._verticalPerspectiveCameraHelper=new Oo}get useGlobeControls(){return this._globe.useGlobeRendering}get currentHelper(){return this.useGlobeControls?this._verticalPerspectiveCameraHelper:this._mercatorCameraHelper}handlePanInertia(l,f){return this.currentHelper.handlePanInertia(l,f)}handleMapControlsRollPitchBearingZoom(l,f){return this.currentHelper.handleMapControlsRollPitchBearingZoom(l,f)}handleMapControlsPan(l,f,b){this.currentHelper.handleMapControlsPan(l,f,b)}cameraForBoxAndBearing(l,f,b,w,P){return this.currentHelper.cameraForBoxAndBearing(l,f,b,w,P)}handleJumpToCenterZoom(l,f){this.currentHelper.handleJumpToCenterZoom(l,f)}handleEaseTo(l,f){return this.currentHelper.handleEaseTo(l,f)}handleFlyTo(l,f){return this.currentHelper.handleFlyTo(l,f)}}const Sc=(T,l)=>a.t(T,l&&l.filter(f=>f.identifier!=="source.canvas")),fs=a.br();class av extends a.E{constructor(l,f={}){super(),this._rtlPluginLoaded=()=>{for(const b in this.sourceCaches){const w=this.sourceCaches[b].getSource().type;w!=="vector"&&w!=="geojson"||this.sourceCaches[b].reload()}},this.map=l,this.dispatcher=new ze(Yt(),l._getMapId()),this.dispatcher.registerMessageHandler("GG",(b,w)=>this.getGlyphs(b,w)),this.dispatcher.registerMessageHandler("GI",(b,w)=>this.getImages(b,w)),this.imageManager=new K,this.imageManager.setEventedParent(this),this.glyphManager=new we(l._requestManager,f.localIdeographFontFamily),this.lineAtlas=new rt(256,512),this.crossTileSymbolIndex=new cu,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.bs,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("SR",a.bt()),En().on(Qt,this._rtlPluginLoaded),this.on("data",b=>{if(b.dataType!=="source"||b.sourceDataType!=="metadata")return;const w=this.sourceCaches[b.sourceId];if(!w)return;const P=w.getSource();if(P&&P.vectorLayerIds)for(const D in this._layers){const $=this._layers[D];$.source===P.id&&this._validateLayer($)}})}loadURL(l,f={},b){this.fire(new a.k("dataloading",{dataType:"style"})),f.validate=typeof f.validate!="boolean"||f.validate;const w=this.map._requestManager.transformRequest(l,"Style");this._loadStyleRequest=new AbortController;const P=this._loadStyleRequest;a.h(w,this._loadStyleRequest).then(D=>{this._loadStyleRequest=null,this._load(D.data,f,b)}).catch(D=>{this._loadStyleRequest=null,D&&!P.signal.aborted&&this.fire(new a.j(D))})}loadJSON(l,f={},b){this.fire(new a.k("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,y.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,f.validate=f.validate!==!1,this._load(l,f,b)}).catch(()=>{})}loadEmpty(){this.fire(new a.k("dataloading",{dataType:"style"})),this._load(fs,{validate:!1})}_load(l,f,b){var w,P;const D=f.transformStyle?f.transformStyle(b,l):l;if(!f.validate||!Sc(this,a.u(D))){this._loaded=!0,this.stylesheet=D;for(const $ in D.sources)this.addSource($,D.sources[$],{validate:!1});D.sprite?this._loadSprite(D.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(D.glyphs),this._createLayers(),this.light=new Te(this.stylesheet.light),this._setProjectionInternal(((w=this.stylesheet.projection)===null||w===void 0?void 0:w.type)||"mercator"),this.sky=new ke(this.stylesheet.sky),this.map.setTerrain((P=this.stylesheet.terrain)!==null&&P!==void 0?P:null),this.fire(new a.k("data",{dataType:"style"})),this.fire(new a.k("style.load"))}}_createLayers(){const l=a.bu(this.stylesheet.layers);this.dispatcher.broadcast("SL",l),this._order=l.map(f=>f.id),this._layers={},this._serializedLayers=null;for(const f of l){const b=a.bv(f);b.setEventedParent(this,{layer:{id:f.id}}),this._layers[f.id]=b}}_loadSprite(l,f=!1,b=void 0){let w;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(P,D,$,F){return a._(this,void 0,void 0,function*(){const H=U(P),q=$>1?"@2x":"",Y={},J={};for(const{id:ce,url:de}of H){const Ce=D.transformRequest(N(de,q,".json"),"SpriteJSON");Y[ce]=a.h(Ce,F);const Se=D.transformRequest(N(de,q,".png"),"SpriteImage");J[ce]=z.getImage(Se,F)}return yield Promise.all([...Object.values(Y),...Object.values(J)]),function(ce,de){return a._(this,void 0,void 0,function*(){const Ce={};for(const Se in ce){Ce[Se]={};const Pe=y.getImageCanvasContext((yield de[Se]).data),Ie=(yield ce[Se]).data;for(const Oe in Ie){const{width:$e,height:Fe,x:We,y:He,sdf:et,pixelRatio:it,stretchX:_t,stretchY:vt,content:pt,textFitWidth:Ut,textFitHeight:jt}=Ie[Oe];Ce[Se][Oe]={data:null,pixelRatio:it,sdf:et,stretchX:_t,stretchY:vt,content:pt,textFitWidth:Ut,textFitHeight:jt,spriteData:{width:$e,height:Fe,x:We,y:He,context:Pe}}}}return Ce})}(Y,J)})}(l,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(P=>{if(this._spriteRequest=null,P)for(const D in P){this._spritesImagesIds[D]=[];const $=this._spritesImagesIds[D]?this._spritesImagesIds[D].filter(F=>!(F in P)):[];for(const F of $)this.imageManager.removeImage(F),this._changedImages[F]=!0;for(const F in P[D]){const H=D==="default"?F:`${D}:${F}`;this._spritesImagesIds[D].push(H),H in this.imageManager.images?this.imageManager.updateImage(H,P[D][F],!1):this.imageManager.addImage(H,P[D][F]),f&&(this._changedImages[H]=!0)}}}).catch(P=>{this._spriteRequest=null,w=P,this.fire(new a.j(w))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),f&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.k("data",{dataType:"style"})),b&&b(w)})}_unloadSprite(){for(const l of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(l),this._changedImages[l]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.k("data",{dataType:"style"}))}_validateLayer(l){const f=this.sourceCaches[l.source];if(!f)return;const b=l.sourceLayer;if(!b)return;const w=f.getSource();(w.type==="geojson"||w.vectorLayerIds&&w.vectorLayerIds.indexOf(b)===-1)&&this.fire(new a.j(new Error(`Source layer "${b}" does not exist on source "${w.id}" as specified by style layer "${l.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const l in this.sourceCaches)if(!this.sourceCaches[l].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(l,f=!1){const b=this._serializedAllLayers();if(!l||l.length===0)return Object.values(f?a.bw(b):b);const w=[];for(const P of l)if(b[P]){const D=f?a.bw(b[P]):b[P];w.push(D)}return w}_serializedAllLayers(){let l=this._serializedLayers;if(l)return l;l=this._serializedLayers={};const f=Object.keys(this._layers);for(const b of f){const w=this._layers[b];w.type!=="custom"&&(l[b]=w.serialize())}return l}hasTransitions(){var l,f,b;if(!((l=this.light)===null||l===void 0)&&l.hasTransition()||!((f=this.sky)===null||f===void 0)&&f.hasTransition()||!((b=this.projection)===null||b===void 0)&&b.hasTransition())return!0;for(const w in this.sourceCaches)if(this.sourceCaches[w].hasTransition())return!0;for(const w in this._layers)if(this._layers[w].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(l){if(!this._loaded)return;const f=this._changed;if(f){const w=Object.keys(this._updatedLayers),P=Object.keys(this._removedLayers);(w.length||P.length)&&this._updateWorkerLayers(w,P);for(const D in this._updatedSources){const $=this._updatedSources[D];if($==="reload")this._reloadSource(D);else{if($!=="clear")throw new Error(`Invalid action ${$}`);this._clearSource(D)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const D in this._updatedPaintProps)this._layers[D].updateTransitions(l);this.light.updateTransitions(l),this.sky.updateTransitions(l),this._resetUpdates()}const b={};for(const w in this.sourceCaches){const P=this.sourceCaches[w];b[w]=P.used,P.used=!1}for(const w of this._order){const P=this._layers[w];P.recalculate(l,this._availableImages),!P.isHidden(l.zoom)&&P.source&&(this.sourceCaches[P.source].used=!0)}for(const w in b){const P=this.sourceCaches[w];!!b[w]!=!!P.used&&P.fire(new a.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:w}))}this.light.recalculate(l),this.sky.recalculate(l),this.projection.recalculate(l),this.z=l.zoom,f&&this.fire(new a.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const l=Object.keys(this._changedImages);if(l.length){for(const f in this.sourceCaches)this.sourceCaches[f].reloadTilesForDependencies(["icons","patterns"],l);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const l in this.sourceCaches)this.sourceCaches[l].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(l,f){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(l,!1),removedIds:f})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(l,f={}){var b;this._checkLoaded();const w=this.serialize();if(l=f.transformStyle?f.transformStyle(w,l):l,((b=f.validate)===null||b===void 0||b)&&Sc(this,a.u(l)))return!1;(l=a.bw(l)).layers=a.bu(l.layers);const P=a.bx(w,l),D=this._getOperationsToPerform(P);if(D.unimplemented.length>0)throw new Error(`Unimplemented: ${D.unimplemented.join(", ")}.`);if(D.operations.length===0)return!1;for(const $ of D.operations)$();return this.stylesheet=l,this._serializedLayers=null,!0}_getOperationsToPerform(l){const f=[],b=[];for(const w of l)switch(w.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":case"setRoll":continue;case"addLayer":f.push(()=>this.addLayer.apply(this,w.args));break;case"removeLayer":f.push(()=>this.removeLayer.apply(this,w.args));break;case"setPaintProperty":f.push(()=>this.setPaintProperty.apply(this,w.args));break;case"setLayoutProperty":f.push(()=>this.setLayoutProperty.apply(this,w.args));break;case"setFilter":f.push(()=>this.setFilter.apply(this,w.args));break;case"addSource":f.push(()=>this.addSource.apply(this,w.args));break;case"removeSource":f.push(()=>this.removeSource.apply(this,w.args));break;case"setLayerZoomRange":f.push(()=>this.setLayerZoomRange.apply(this,w.args));break;case"setLight":f.push(()=>this.setLight.apply(this,w.args));break;case"setGeoJSONSourceData":f.push(()=>this.setGeoJSONSourceData.apply(this,w.args));break;case"setGlyphs":f.push(()=>this.setGlyphs.apply(this,w.args));break;case"setSprite":f.push(()=>this.setSprite.apply(this,w.args));break;case"setTerrain":f.push(()=>this.map.setTerrain.apply(this,w.args));break;case"setSky":f.push(()=>this.setSky.apply(this,w.args));break;case"setProjection":this.setProjection.apply(this,w.args);break;case"setTransition":f.push(()=>{});break;default:b.push(w.command)}return{operations:f,unimplemented:b}}addImage(l,f){if(this.getImage(l))return this.fire(new a.j(new Error(`An image named "${l}" already exists.`)));this.imageManager.addImage(l,f),this._afterImageUpdated(l)}updateImage(l,f){this.imageManager.updateImage(l,f)}getImage(l){return this.imageManager.getImage(l)}removeImage(l){if(!this.getImage(l))return this.fire(new a.j(new Error(`An image named "${l}" does not exist.`)));this.imageManager.removeImage(l),this._afterImageUpdated(l)}_afterImageUpdated(l){this._availableImages=this.imageManager.listImages(),this._changedImages[l]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(l,f,b={}){if(this._checkLoaded(),this.sourceCaches[l]!==void 0)throw new Error(`Source "${l}" already exists.`);if(!f.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(f).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(f.type)>=0&&this._validate(a.u.source,`sources.${l}`,f,null,b))return;this.map&&this.map._collectResourceTiming&&(f.collectResourceTiming=!0);const w=this.sourceCaches[l]=new le(l,f,this.dispatcher);w.style=this,w.setEventedParent(this,()=>({isSourceLoaded:w.loaded(),source:w.serialize(),sourceId:l})),w.onAdd(this.map),this._changed=!0}removeSource(l){if(this._checkLoaded(),this.sourceCaches[l]===void 0)throw new Error("There is no source with this ID");for(const b in this._layers)if(this._layers[b].source===l)return this.fire(new a.j(new Error(`Source "${l}" cannot be removed while layer "${b}" is using it.`)));const f=this.sourceCaches[l];delete this.sourceCaches[l],delete this._updatedSources[l],f.fire(new a.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:l})),f.setEventedParent(null),f.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(l,f){if(this._checkLoaded(),this.sourceCaches[l]===void 0)throw new Error(`There is no source with this ID=${l}`);const b=this.sourceCaches[l].getSource();if(b.type!=="geojson")throw new Error(`geojsonSource.type is ${b.type}, which is !== 'geojson`);b.setData(f),this._changed=!0}getSource(l){return this.sourceCaches[l]&&this.sourceCaches[l].getSource()}addLayer(l,f,b={}){this._checkLoaded();const w=l.id;if(this.getLayer(w))return void this.fire(new a.j(new Error(`Layer "${w}" already exists on this map.`)));let P;if(l.type==="custom"){if(Sc(this,a.by(l)))return;P=a.bv(l)}else{if("source"in l&&typeof l.source=="object"&&(this.addSource(w,l.source),l=a.bw(l),l=a.e(l,{source:w})),this._validate(a.u.layer,`layers.${w}`,l,{arrayIndex:-1},b))return;P=a.bv(l),this._validateLayer(P),P.setEventedParent(this,{layer:{id:w}})}const D=f?this._order.indexOf(f):this._order.length;if(f&&D===-1)this.fire(new a.j(new Error(`Cannot add layer "${w}" before non-existing layer "${f}".`)));else{if(this._order.splice(D,0,w),this._layerOrderChanged=!0,this._layers[w]=P,this._removedLayers[w]&&P.source&&P.type!=="custom"){const $=this._removedLayers[w];delete this._removedLayers[w],$.type!==P.type?this._updatedSources[P.source]="clear":(this._updatedSources[P.source]="reload",this.sourceCaches[P.source].pause())}this._updateLayer(P),P.onAdd&&P.onAdd(this.map)}}moveLayer(l,f){if(this._checkLoaded(),this._changed=!0,!this._layers[l])return void this.fire(new a.j(new Error(`The layer '${l}' does not exist in the map's style and cannot be moved.`)));if(l===f)return;const b=this._order.indexOf(l);this._order.splice(b,1);const w=f?this._order.indexOf(f):this._order.length;f&&w===-1?this.fire(new a.j(new Error(`Cannot move layer "${l}" before non-existing layer "${f}".`))):(this._order.splice(w,0,l),this._layerOrderChanged=!0)}removeLayer(l){this._checkLoaded();const f=this._layers[l];if(!f)return void this.fire(new a.j(new Error(`Cannot remove non-existing layer "${l}".`)));f.setEventedParent(null);const b=this._order.indexOf(l);this._order.splice(b,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[l]=f,delete this._layers[l],this._serializedLayers&&delete this._serializedLayers[l],delete this._updatedLayers[l],delete this._updatedPaintProps[l],f.onRemove&&f.onRemove(this.map)}getLayer(l){return this._layers[l]}getLayersOrder(){return[...this._order]}hasLayer(l){return l in this._layers}setLayerZoomRange(l,f,b){this._checkLoaded();const w=this.getLayer(l);w?w.minzoom===f&&w.maxzoom===b||(f!=null&&(w.minzoom=f),b!=null&&(w.maxzoom=b),this._updateLayer(w)):this.fire(new a.j(new Error(`Cannot set the zoom range of non-existing layer "${l}".`)))}setFilter(l,f,b={}){this._checkLoaded();const w=this.getLayer(l);if(w){if(!a.bz(w.filter,f))return f==null?(w.filter=void 0,void this._updateLayer(w)):void(this._validate(a.u.filter,`layers.${w.id}.filter`,f,null,b)||(w.filter=a.bw(f),this._updateLayer(w)))}else this.fire(new a.j(new Error(`Cannot filter non-existing layer "${l}".`)))}getFilter(l){return a.bw(this.getLayer(l).filter)}setLayoutProperty(l,f,b,w={}){this._checkLoaded();const P=this.getLayer(l);P?a.bz(P.getLayoutProperty(f),b)||(P.setLayoutProperty(f,b,w),this._updateLayer(P)):this.fire(new a.j(new Error(`Cannot style non-existing layer "${l}".`)))}getLayoutProperty(l,f){const b=this.getLayer(l);if(b)return b.getLayoutProperty(f);this.fire(new a.j(new Error(`Cannot get style of non-existing layer "${l}".`)))}setPaintProperty(l,f,b,w={}){this._checkLoaded();const P=this.getLayer(l);P?a.bz(P.getPaintProperty(f),b)||(P.setPaintProperty(f,b,w)&&this._updateLayer(P),this._changed=!0,this._updatedPaintProps[l]=!0,this._serializedLayers=null):this.fire(new a.j(new Error(`Cannot style non-existing layer "${l}".`)))}getPaintProperty(l,f){return this.getLayer(l).getPaintProperty(f)}setFeatureState(l,f){this._checkLoaded();const b=l.source,w=l.sourceLayer,P=this.sourceCaches[b];if(P===void 0)return void this.fire(new a.j(new Error(`The source '${b}' does not exist in the map's style.`)));const D=P.getSource().type;D==="geojson"&&w?this.fire(new a.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):D!=="vector"||w?(l.id===void 0&&this.fire(new a.j(new Error("The feature id parameter must be provided."))),P.setFeatureState(w,l.id,f)):this.fire(new a.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(l,f){this._checkLoaded();const b=l.source,w=this.sourceCaches[b];if(w===void 0)return void this.fire(new a.j(new Error(`The source '${b}' does not exist in the map's style.`)));const P=w.getSource().type,D=P==="vector"?l.sourceLayer:void 0;P!=="vector"||D?f&&typeof l.id!="string"&&typeof l.id!="number"?this.fire(new a.j(new Error("A feature id is required to remove its specific state property."))):w.removeFeatureState(D,l.id,f):this.fire(new a.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(l){this._checkLoaded();const f=l.source,b=l.sourceLayer,w=this.sourceCaches[f];if(w!==void 0)return w.getSource().type!=="vector"||b?(l.id===void 0&&this.fire(new a.j(new Error("The feature id parameter must be provided."))),w.getFeatureState(b,l.id)):void this.fire(new a.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new a.j(new Error(`The source '${f}' does not exist in the map's style.`)))}getTransition(){return a.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const l=a.bA(this.sourceCaches,P=>P.serialize()),f=this._serializeByIds(this._order,!0),b=this.map.getTerrain()||void 0,w=this.stylesheet;return a.bB({version:w.version,name:w.name,metadata:w.metadata,light:w.light,sky:w.sky,center:w.center,zoom:w.zoom,bearing:w.bearing,pitch:w.pitch,sprite:w.sprite,glyphs:w.glyphs,transition:w.transition,projection:w.projection,sources:l,layers:f,terrain:b},P=>P!==void 0)}_updateLayer(l){this._updatedLayers[l.id]=!0,l.source&&!this._updatedSources[l.source]&&this.sourceCaches[l.source].getSource().type!=="raster"&&(this._updatedSources[l.source]="reload",this.sourceCaches[l.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(l){const f=D=>this._layers[D].type==="fill-extrusion",b={},w=[];for(let D=this._order.length-1;D>=0;D--){const $=this._order[D];if(f($)){b[$]=D;for(const F of l){const H=F[$];if(H)for(const q of H)w.push(q)}}}w.sort((D,$)=>$.intersectionZ-D.intersectionZ);const P=[];for(let D=this._order.length-1;D>=0;D--){const $=this._order[D];if(f($))for(let F=w.length-1;F>=0;F--){const H=w[F].feature;if(b[H.layer.id]<D)break;P.push(H),w.pop()}else for(const F of l){const H=F[$];if(H)for(const q of H)P.push(q.feature)}}return P}queryRenderedFeatures(l,f,b){f&&f.filter&&this._validate(a.u.filter,"queryRenderedFeatures.filter",f.filter,null,f);const w={};if(f&&f.layers){if(!(Array.isArray(f.layers)||f.layers instanceof Set))return this.fire(new a.j(new Error("parameters.layers must be an Array or a Set of strings"))),[];for(const H of f.layers){const q=this._layers[H];if(!q)return this.fire(new a.j(new Error(`The layer '${H}' does not exist in the map's style and cannot be queried for features.`))),[];w[q.source]=!0}}const P=[];f.availableImages=this._availableImages;const D=this._serializedAllLayers(),$=f.layers instanceof Set?f.layers:Array.isArray(f.layers)?new Set(f.layers):null,F=Object.assign(Object.assign({},f),{layers:$});for(const H in this.sourceCaches)f.layers&&!w[H]||P.push(Ve(this.sourceCaches[H],this._layers,D,l,F,b));return this.placement&&P.push(function(H,q,Y,J,ce,de,Ce){const Se={},Pe=de.queryRenderedSymbols(J),Ie=[];for(const Oe of Object.keys(Pe).map(Number))Ie.push(Ce[Oe]);Ie.sort(Le);for(const Oe of Ie){const $e=Oe.featureIndex.lookupSymbolFeatures(Pe[Oe.bucketInstanceId],q,Oe.bucketIndex,Oe.sourceLayerIndex,ce.filter,ce.layers,ce.availableImages,H);for(const Fe in $e){const We=Se[Fe]=Se[Fe]||[],He=$e[Fe];He.sort((et,it)=>{const _t=Oe.featureSortOrder;if(_t){const vt=_t.indexOf(et.featureIndex);return _t.indexOf(it.featureIndex)-vt}return it.featureIndex-et.featureIndex});for(const et of He)We.push(et)}}return function(Oe,$e,Fe){for(const We in Oe)for(const He of Oe[We])Ye(He,Fe[$e[We].source]);return Oe}(Se,H,Y)}(this._layers,D,this.sourceCaches,l,F,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(P)}querySourceFeatures(l,f){f&&f.filter&&this._validate(a.u.filter,"querySourceFeatures.filter",f.filter,null,f);const b=this.sourceCaches[l];return b?function(w,P){const D=w.getRenderableIds().map(H=>w.getTileByID(H)),$=[],F={};for(let H=0;H<D.length;H++){const q=D[H],Y=q.tileID.canonical.key;F[Y]||(F[Y]=!0,q.querySourceFeatures($,P))}return $}(b,f):[]}getLight(){return this.light.getLight()}setLight(l,f={}){this._checkLoaded();const b=this.light.getLight();let w=!1;for(const D in l)if(!a.bz(l[D],b[D])){w=!0;break}if(!w)return;const P={now:y.now(),transition:a.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(l,f),this.light.updateTransitions(P)}getProjection(){var l;return(l=this.stylesheet)===null||l===void 0?void 0:l.projection}setProjection(l){if(this._checkLoaded(),this.projection){if(this.projection.name===l.type)return;this.projection.destroy(),delete this.projection}this.stylesheet.projection=l,this._setProjectionInternal(l.type)}getSky(){var l;return(l=this.stylesheet)===null||l===void 0?void 0:l.sky}setSky(l,f={}){this._checkLoaded();const b=this.getSky();let w=!1;if(!l&&!b)return;if(l&&!b)w=!0;else if(!l&&b)w=!0;else for(const D in l)if(!a.bz(l[D],b[D])){w=!0;break}if(!w)return;const P={now:y.now(),transition:a.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=l,this.sky.setSky(l,f),this.sky.updateTransitions(P)}_setProjectionInternal(l){const f=function(b){if(Array.isArray(b)){const w=new Db({type:b});return{projection:w,transform:new wc,cameraHelper:new sp(w)}}switch(b){case"mercator":return{projection:new bo,transform:new co,cameraHelper:new zh};case"globe":{const w=new Db({type:["interpolate",["linear"],["zoom"],11,"vertical-perspective",12,"mercator"]});return{projection:w,transform:new wc,cameraHelper:new sp(w)}}case"vertical-perspective":return{projection:new op,transform:new pu,cameraHelper:new Oo};default:return a.w(`Unknown projection name: ${b}. Falling back to mercator projection.`),{projection:new bo,transform:new co,cameraHelper:new zh}}}(l);this.projection=f.projection,this.map.migrateProjection(f.transform,f.cameraHelper);for(const b in this.sourceCaches)this.sourceCaches[b].reload()}_validate(l,f,b,w,P={}){return(!P||P.validate!==!1)&&Sc(this,l.call(a.u,a.e({key:f,style:this.serialize(),value:b,styleSpec:a.v},w)))}_remove(l=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),En().off(Qt,this._rtlPluginLoaded);for(const f in this._layers)this._layers[f].setEventedParent(null);for(const f in this.sourceCaches){const b=this.sourceCaches[f];b.setEventedParent(null),b.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),l&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(l)}_clearSource(l){this.sourceCaches[l].clearTiles()}_reloadSource(l){this.sourceCaches[l].resume(),this.sourceCaches[l].reload()}_updateSources(l){for(const f in this.sourceCaches)this.sourceCaches[f].update(l,this.map.terrain)}_generateCollisionBoxes(){for(const l in this.sourceCaches)this._reloadSource(l)}_updatePlacement(l,f,b,w,P=!1){let D=!1,$=!1;const F={};for(const H of this._order){const q=this._layers[H];if(q.type!=="symbol")continue;if(!F[q.source]){const J=this.sourceCaches[q.source];F[q.source]=J.getRenderableIds(!0).map(ce=>J.getTileByID(ce)).sort((ce,de)=>de.tileID.overscaledZ-ce.tileID.overscaledZ||(ce.tileID.isLessThan(de.tileID)?-1:1))}const Y=this.crossTileSymbolIndex.addLayer(q,F[q.source],l.center.lng);D=D||Y}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((P=P||this._layerOrderChanged||b===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(y.now(),l.zoom))&&(this.pauseablePlacement=new Eb(l,this.map.terrain,this._order,P,f,b,w,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,F),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(y.now()),$=!0),D&&this.pauseablePlacement.placement.setStale()),$||D)for(const H of this._order){const q=this._layers[H];q.type==="symbol"&&this.placement.updateLayerOpacities(q,F[q.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(y.now())}_releaseSymbolFadeTiles(){for(const l in this.sourceCaches)this.sourceCaches[l].releaseSymbolFadeTiles()}getImages(l,f){return a._(this,void 0,void 0,function*(){const b=yield this.imageManager.getImages(f.icons);this._updateTilesForChangedImages();const w=this.sourceCaches[f.source];return w&&w.setDependencies(f.tileID.key,f.type,f.icons),b})}getGlyphs(l,f){return a._(this,void 0,void 0,function*(){const b=yield this.glyphManager.getGlyphs(f.stacks),w=this.sourceCaches[f.source];return w&&w.setDependencies(f.tileID.key,f.type,[""]),b})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(l,f={}){this._checkLoaded(),l&&this._validate(a.u.glyphs,"glyphs",l,null,f)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=l,this.glyphManager.entries={},this.glyphManager.setURL(l))}addSprite(l,f,b={},w){this._checkLoaded();const P=[{id:l,url:f}],D=[...U(this.stylesheet.sprite),...P];this._validate(a.u.sprite,"sprite",D,null,b)||(this.stylesheet.sprite=D,this._loadSprite(P,!0,w))}removeSprite(l){this._checkLoaded();const f=U(this.stylesheet.sprite);if(f.find(b=>b.id===l)){if(this._spritesImagesIds[l])for(const b of this._spritesImagesIds[l])this.imageManager.removeImage(b),this._changedImages[b]=!0;f.splice(f.findIndex(b=>b.id===l),1),this.stylesheet.sprite=f.length>0?f:void 0,delete this._spritesImagesIds[l],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.k("data",{dataType:"style"}))}else this.fire(new a.j(new Error(`Sprite "${l}" doesn't exists on this map.`)))}getSprite(){return U(this.stylesheet.sprite)}setSprite(l,f={},b){this._checkLoaded(),l&&this._validate(a.u.sprite,"sprite",l,null,f)||(this.stylesheet.sprite=l,l?this._loadSprite(l,!0,b):(this._unloadSprite(),b&&b(null)))}}var sv=a.aA([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Hh{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(l,f,b,w,P,D,$,F,H){this.context=l;let q=this.boundPaintVertexBuffers.length!==w.length;for(let Y=0;!q&&Y<w.length;Y++)this.boundPaintVertexBuffers[Y]!==w[Y]&&(q=!0);!this.vao||this.boundProgram!==f||this.boundLayoutVertexBuffer!==b||q||this.boundIndexBuffer!==P||this.boundVertexOffset!==D||this.boundDynamicVertexBuffer!==$||this.boundDynamicVertexBuffer2!==F||this.boundDynamicVertexBuffer3!==H?this.freshBind(f,b,w,P,D,$,F,H):(l.bindVertexArray.set(this.vao),$&&$.bind(),P&&P.dynamicDraw&&P.bind(),F&&F.bind(),H&&H.bind())}freshBind(l,f,b,w,P,D,$,F){const H=l.numAttributes,q=this.context,Y=q.gl;this.vao&&this.destroy(),this.vao=q.createVertexArray(),q.bindVertexArray.set(this.vao),this.boundProgram=l,this.boundLayoutVertexBuffer=f,this.boundPaintVertexBuffers=b,this.boundIndexBuffer=w,this.boundVertexOffset=P,this.boundDynamicVertexBuffer=D,this.boundDynamicVertexBuffer2=$,this.boundDynamicVertexBuffer3=F,f.enableAttributes(Y,l);for(const J of b)J.enableAttributes(Y,l);D&&D.enableAttributes(Y,l),$&&$.enableAttributes(Y,l),F&&F.enableAttributes(Y,l),f.bind(),f.setVertexAttribPointers(Y,l,P);for(const J of b)J.bind(),J.setVertexAttribPointers(Y,l,P);D&&(D.bind(),D.setVertexAttribPointers(Y,l,P)),w&&w.bind(),$&&($.bind(),$.setVertexAttribPointers(Y,l,P)),F&&(F.bind(),F.setVertexAttribPointers(Y,l,P)),q.currentNumAttributes=H}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}const Uh=(T,l,f,b,w)=>({u_texture:0,u_ele_delta:T,u_fog_matrix:l,u_fog_color:f?f.properties.get("fog-color"):a.b4.white,u_fog_ground_blend:f?f.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:w?0:f?f.calculateFogBlendOpacity(b):0,u_horizon_color:f?f.properties.get("horizon-color"):a.b4.white,u_horizon_fog_blend:f?f.properties.get("horizon-fog-blend"):1,u_is_globe_mode:w?1:0}),LC={mainMatrix:"u_projection_matrix",tileMercatorCoords:"u_projection_tile_mercator_coords",clippingPlane:"u_projection_clipping_plane",projectionTransition:"u_projection_transition",fallbackMatrix:"u_projection_fallback_matrix"};function mu(T){const l=[];for(let f=0;f<T.length;f++){if(T[f]===null)continue;const b=T[f].split(" ");l.push(b.pop())}return l}class $C{constructor(l,f,b,w,P,D,$,F){const H=l.gl;this.program=H.createProgram();const q=mu(f.staticAttributes),Y=b?b.getBinderAttributes():[],J=q.concat(Y),ce=hs.prelude.staticUniforms?mu(hs.prelude.staticUniforms):[],de=$.staticUniforms?mu($.staticUniforms):[],Ce=f.staticUniforms?mu(f.staticUniforms):[],Se=b?b.getBinderUniforms():[],Pe=ce.concat(de).concat(Ce).concat(Se),Ie=[];for(const it of Pe)Ie.indexOf(it)<0&&Ie.push(it);const Oe=b?b.defines():[];Fa(H)&&Oe.unshift("#version 300 es"),P&&Oe.push("#define OVERDRAW_INSPECTOR;"),D&&Oe.push("#define TERRAIN3D;"),F&&Oe.push(F);let $e=Oe.concat(hs.prelude.fragmentSource,$.fragmentSource,f.fragmentSource).join(`
`),Fe=Oe.concat(hs.prelude.vertexSource,$.vertexSource,f.vertexSource).join(`
`);Fa(H)||($e=function(it){return it.replace(/\bin\s/g,"varying ").replace("out highp vec4 fragColor;","").replace(/fragColor/g,"gl_FragColor").replace(/texture\(/g,"texture2D(")}($e),Fe=function(it){return it.replace(/\bin\s/g,"attribute ").replace(/\bout\s/g,"varying ").replace(/texture\(/g,"texture2D(")}(Fe));const We=H.createShader(H.FRAGMENT_SHADER);if(H.isContextLost())return void(this.failedToCreate=!0);if(H.shaderSource(We,$e),H.compileShader(We),!H.getShaderParameter(We,H.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${H.getShaderInfoLog(We)}`);H.attachShader(this.program,We);const He=H.createShader(H.VERTEX_SHADER);if(H.isContextLost())return void(this.failedToCreate=!0);if(H.shaderSource(He,Fe),H.compileShader(He),!H.getShaderParameter(He,H.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${H.getShaderInfoLog(He)}`);H.attachShader(this.program,He),this.attributes={};const et={};this.numAttributes=J.length;for(let it=0;it<this.numAttributes;it++)J[it]&&(H.bindAttribLocation(this.program,it,J[it]),this.attributes[J[it]]=it);if(H.linkProgram(this.program),!H.getProgramParameter(this.program,H.LINK_STATUS))throw new Error(`Program failed to link: ${H.getProgramInfoLog(this.program)}`);H.deleteShader(He),H.deleteShader(We);for(let it=0;it<Ie.length;it++){const _t=Ie[it];if(_t&&!et[_t]){const vt=H.getUniformLocation(this.program,_t);vt&&(et[_t]=vt)}}this.fixedUniforms=w(l,et),this.terrainUniforms=((it,_t)=>({u_depth:new a.bC(it,_t.u_depth),u_terrain:new a.bC(it,_t.u_terrain),u_terrain_dim:new a.b5(it,_t.u_terrain_dim),u_terrain_matrix:new a.bD(it,_t.u_terrain_matrix),u_terrain_unpack:new a.bE(it,_t.u_terrain_unpack),u_terrain_exaggeration:new a.b5(it,_t.u_terrain_exaggeration)}))(l,et),this.projectionUniforms=((it,_t)=>({u_projection_matrix:new a.bD(it,_t.u_projection_matrix),u_projection_tile_mercator_coords:new a.bE(it,_t.u_projection_tile_mercator_coords),u_projection_clipping_plane:new a.bE(it,_t.u_projection_clipping_plane),u_projection_transition:new a.b5(it,_t.u_projection_transition),u_projection_fallback_matrix:new a.bD(it,_t.u_projection_fallback_matrix)}))(l,et),this.binderUniforms=b?b.getUniforms(l,et):[]}draw(l,f,b,w,P,D,$,F,H,q,Y,J,ce,de,Ce,Se,Pe,Ie,Oe){const $e=l.gl;if(this.failedToCreate)return;if(l.program.set(this.program),l.setDepthMode(b),l.setStencilMode(w),l.setColorMode(P),l.setCullFace(D),F){l.activeTexture.set($e.TEXTURE2),$e.bindTexture($e.TEXTURE_2D,F.depthTexture),l.activeTexture.set($e.TEXTURE3),$e.bindTexture($e.TEXTURE_2D,F.texture);for(const We in this.terrainUniforms)this.terrainUniforms[We].set(F[We])}if(H)for(const We in H)this.projectionUniforms[LC[We]].set(H[We]);if($)for(const We in this.fixedUniforms)this.fixedUniforms[We].set($[We]);Se&&Se.setUniforms(l,this.binderUniforms,de,{zoom:Ce});let Fe=0;switch(f){case $e.LINES:Fe=2;break;case $e.TRIANGLES:Fe=3;break;case $e.LINE_STRIP:Fe=1}for(const We of ce.get()){const He=We.vaos||(We.vaos={});(He[q]||(He[q]=new Hh)).bind(l,this,Y,Se?Se.getPaintVertexBuffers():[],J,We.vertexOffset,Pe,Ie,Oe),$e.drawElements(f,We.primitiveLength*Fe,$e.UNSIGNED_SHORT,We.primitiveOffset*Fe*2)}}}function gu(T,l,f){const b=1/a.at(f,1,l.transform.tileZoom),w=Math.pow(2,f.tileID.overscaledZ),P=f.tileSize*Math.pow(2,l.transform.tileZoom)/w,D=P*(f.tileID.canonical.x+f.tileID.wrap*w),$=P*f.tileID.canonical.y;return{u_image:0,u_texsize:f.imageAtlasTexture.size,u_scale:[b,T.fromScale,T.toScale],u_fade:T.t,u_pixel_coord_upper:[D>>16,$>>16],u_pixel_coord_lower:[65535&D,65535&$]}}const Rb=(T,l,f,b)=>{const w=T.style.light,P=w.properties.get("position"),D=[P.x,P.y,P.z],$=a.bI();w.properties.get("anchor")==="viewport"&&a.bJ($,T.transform.bearingInRadians),a.bK(D,D,$);const F=T.transform.transformLightDirection(D),H=w.properties.get("color");return{u_lightpos:D,u_lightpos_globe:F,u_lightintensity:w.properties.get("intensity"),u_lightcolor:[H.r,H.g,H.b],u_vertical_gradient:+l,u_opacity:f,u_fill_translate:b}},Lb=(T,l,f,b,w,P,D)=>a.e(Rb(T,l,f,b),gu(P,T,D),{u_height_factor:-Math.pow(2,w.overscaledZ)/D.tileSize/8}),$b=(T,l,f,b)=>a.e(gu(l,T,f),{u_fill_translate:b}),zb=(T,l)=>({u_world:T,u_fill_translate:l}),lv=(T,l,f,b,w)=>a.e($b(T,l,f,w),{u_world:b}),Bb=(T,l,f,b,w)=>{const P=T.transform;let D,$,F=0;if(f.paint.get("circle-pitch-alignment")==="map"){const H=a.at(l,1,P.zoom);D=!0,$=[H,H],F=H/(a.X*Math.pow(2,l.tileID.overscaledZ))*2*Math.PI*w}else D=!1,$=P.pixelsToGLUnits;return{u_camera_to_center_distance:P.cameraToCenterDistance,u_scale_with_map:+(f.paint.get("circle-pitch-scale")==="map"),u_pitch_with_map:+D,u_device_pixel_ratio:T.pixelRatio,u_extrude_scale:$,u_globe_extrude_scale:F,u_translate:b}},Fb=T=>({u_pixel_extrude_scale:[1/T.width,1/T.height]}),Nb=T=>({u_viewport_size:[T.width,T.height]}),uv=(T,l=1)=>({u_color:T,u_overlay:0,u_overlay_scale:l}),_l=(T,l,f,b)=>{const w=a.at(T,1,l)/(a.X*Math.pow(2,T.tileID.overscaledZ))*2*Math.PI*b;return{u_extrude_scale:a.at(T,1,l),u_intensity:f,u_globe_extrude_scale:w}},cv=(T,l,f,b)=>{const w=a.H();a.bL(w,0,T.width,T.height,0,0,1);const P=T.context.gl;return{u_matrix:w,u_world:[P.drawingBufferWidth,P.drawingBufferHeight],u_image:f,u_color_ramp:b,u_opacity:l.paint.get("heatmap-opacity")}},Vb=(T,l,f)=>{const b=f.paint.get("hillshade-shadow-color"),w=f.paint.get("hillshade-highlight-color"),P=f.paint.get("hillshade-accent-color");let D=f.paint.get("hillshade-illumination-direction")*(Math.PI/180);return f.paint.get("hillshade-illumination-anchor")==="viewport"&&(D+=T.transform.bearingInRadians),{u_image:0,u_latrange:zC(0,l.tileID),u_light:[f.paint.get("hillshade-exaggeration"),D],u_shadow:b,u_highlight:w,u_accent:P}},Gh=(T,l)=>{const f=l.stride,b=a.H();return a.bL(b,0,a.X,-8192,0,0,1),a.J(b,b,[0,-8192,0]),{u_matrix:b,u_image:1,u_dimension:[f,f],u_zoom:T.overscaledZ,u_unpack:l.getUnpackVector()}};function zC(T,l){const f=Math.pow(2,l.canonical.z),b=l.canonical.y;return[new a.Y(0,b/f).toLngLat().lat,new a.Y(0,(b+1)/f).toLngLat().lat]}const Cc=(T,l,f,b)=>{const w=T.transform;return{u_translation:dv(T,l,f),u_ratio:b/a.at(l,1,w.zoom),u_device_pixel_ratio:T.pixelRatio,u_units_to_pixels:[1/w.pixelsToGLUnits[0],1/w.pixelsToGLUnits[1]]}},BC=(T,l,f,b,w)=>a.e(Cc(T,l,f,b),{u_image:0,u_image_height:w}),FC=(T,l,f,b,w)=>{const P=T.transform,D=hv(l,P);return{u_translation:dv(T,l,f),u_texsize:l.imageAtlasTexture.size,u_ratio:b/a.at(l,1,P.zoom),u_device_pixel_ratio:T.pixelRatio,u_image:0,u_scale:[D,w.fromScale,w.toScale],u_fade:w.t,u_units_to_pixels:[1/P.pixelsToGLUnits[0],1/P.pixelsToGLUnits[1]]}},jb=(T,l,f,b,w,P)=>{const D=T.lineAtlas,$=hv(l,T.transform),F=f.layout.get("line-cap")==="round",H=D.getDash(w.from,F),q=D.getDash(w.to,F),Y=H.width*P.fromScale,J=q.width*P.toScale;return a.e(Cc(T,l,f,b),{u_patternscale_a:[$/Y,-H.height/2],u_patternscale_b:[$/J,-q.height/2],u_sdfgamma:D.width/(256*Math.min(Y,J)*T.pixelRatio)/2,u_image:0,u_tex_y_a:H.y,u_tex_y_b:q.y,u_mix:P.t})};function hv(T,l){return 1/a.at(T,1,l.tileZoom)}function dv(T,l,f){return a.au(T.transform,l,f.paint.get("line-translate"),f.paint.get("line-translate-anchor"))}const fv=(T,l,f,b,w)=>{return{u_tl_parent:T,u_scale_parent:l,u_buffer_scale:1,u_fade_t:f.mix,u_opacity:f.opacity*b.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:b.paint.get("raster-brightness-min"),u_brightness_high:b.paint.get("raster-brightness-max"),u_saturation_factor:(D=b.paint.get("raster-saturation"),D>0?1-1/(1.001-D):-D),u_contrast_factor:(P=b.paint.get("raster-contrast"),P>0?1/(1-P):1+P),u_spin_weights:Hb(b.paint.get("raster-hue-rotate")),u_coords_top:[w[0].x,w[0].y,w[1].x,w[1].y],u_coords_bottom:[w[3].x,w[3].y,w[2].x,w[2].y]};var P,D};function Hb(T){T*=Math.PI/180;const l=Math.sin(T),f=Math.cos(T);return[(2*f+1)/3,(-Math.sqrt(3)*l-f+1)/3,(Math.sqrt(3)*l-f+1)/3]}const Wh=(T,l,f,b,w,P,D,$,F,H,q,Y,J)=>{const ce=D.transform;return{u_is_size_zoom_constant:+(T==="constant"||T==="source"),u_is_size_feature_constant:+(T==="constant"||T==="camera"),u_size_t:l?l.uSizeT:0,u_size:l?l.uSize:0,u_camera_to_center_distance:ce.cameraToCenterDistance,u_pitch:ce.pitch/360*2*Math.PI,u_rotate_symbol:+f,u_aspect_ratio:ce.width/ce.height,u_fade_change:D.options.fadeDuration?D.symbolFadeChange:1,u_label_plane_matrix:$,u_coord_matrix:F,u_is_text:+q,u_pitch_with_map:+b,u_is_along_line:w,u_is_variable_anchor:P,u_texsize:Y,u_texture:0,u_translation:H,u_pitched_scale:J}},ps=(T,l,f,b,w,P,D,$,F,H,q,Y,J,ce)=>{const de=D.transform;return a.e(Wh(T,l,f,b,w,P,D,$,F,H,q,Y,ce),{u_gamma_scale:b?Math.cos(de.pitch*Math.PI/180)*de.cameraToCenterDistance:1,u_device_pixel_ratio:D.pixelRatio,u_is_halo:1})},pv=(T,l,f,b,w,P,D,$,F,H,q,Y,J)=>a.e(ps(T,l,f,b,w,P,D,$,F,H,!0,q,0,J),{u_texsize_icon:Y,u_texture_icon:1}),mv=(T,l)=>({u_opacity:T,u_color:l}),gv=(T,l,f,b,w)=>a.e(function(P,D,$,F){const H=$.imageManager.getPattern(P.from.toString()),q=$.imageManager.getPattern(P.to.toString()),{width:Y,height:J}=$.imageManager.getPixelSize(),ce=Math.pow(2,F.tileID.overscaledZ),de=F.tileSize*Math.pow(2,$.transform.tileZoom)/ce,Ce=de*(F.tileID.canonical.x+F.tileID.wrap*ce),Se=de*F.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:H.tl,u_pattern_br_a:H.br,u_pattern_tl_b:q.tl,u_pattern_br_b:q.br,u_texsize:[Y,J],u_mix:D.t,u_pattern_size_a:H.displaySize,u_pattern_size_b:q.displaySize,u_scale_a:D.fromScale,u_scale_b:D.toScale,u_tile_units_to_pixels:1/a.at(F,1,$.transform.tileZoom),u_pixel_coord_upper:[Ce>>16,Se>>16],u_pixel_coord_lower:[65535&Ce,65535&Se]}}(f,w,l,b),{u_opacity:T}),vv=(T,l)=>{},yv={fillExtrusion:(T,l)=>({u_lightpos:new a.bG(T,l.u_lightpos),u_lightpos_globe:new a.bG(T,l.u_lightpos_globe),u_lightintensity:new a.b5(T,l.u_lightintensity),u_lightcolor:new a.bG(T,l.u_lightcolor),u_vertical_gradient:new a.b5(T,l.u_vertical_gradient),u_opacity:new a.b5(T,l.u_opacity),u_fill_translate:new a.bH(T,l.u_fill_translate)}),fillExtrusionPattern:(T,l)=>({u_lightpos:new a.bG(T,l.u_lightpos),u_lightpos_globe:new a.bG(T,l.u_lightpos_globe),u_lightintensity:new a.b5(T,l.u_lightintensity),u_lightcolor:new a.bG(T,l.u_lightcolor),u_vertical_gradient:new a.b5(T,l.u_vertical_gradient),u_height_factor:new a.b5(T,l.u_height_factor),u_opacity:new a.b5(T,l.u_opacity),u_fill_translate:new a.bH(T,l.u_fill_translate),u_image:new a.bC(T,l.u_image),u_texsize:new a.bH(T,l.u_texsize),u_pixel_coord_upper:new a.bH(T,l.u_pixel_coord_upper),u_pixel_coord_lower:new a.bH(T,l.u_pixel_coord_lower),u_scale:new a.bG(T,l.u_scale),u_fade:new a.b5(T,l.u_fade)}),fill:(T,l)=>({u_fill_translate:new a.bH(T,l.u_fill_translate)}),fillPattern:(T,l)=>({u_image:new a.bC(T,l.u_image),u_texsize:new a.bH(T,l.u_texsize),u_pixel_coord_upper:new a.bH(T,l.u_pixel_coord_upper),u_pixel_coord_lower:new a.bH(T,l.u_pixel_coord_lower),u_scale:new a.bG(T,l.u_scale),u_fade:new a.b5(T,l.u_fade),u_fill_translate:new a.bH(T,l.u_fill_translate)}),fillOutline:(T,l)=>({u_world:new a.bH(T,l.u_world),u_fill_translate:new a.bH(T,l.u_fill_translate)}),fillOutlinePattern:(T,l)=>({u_world:new a.bH(T,l.u_world),u_image:new a.bC(T,l.u_image),u_texsize:new a.bH(T,l.u_texsize),u_pixel_coord_upper:new a.bH(T,l.u_pixel_coord_upper),u_pixel_coord_lower:new a.bH(T,l.u_pixel_coord_lower),u_scale:new a.bG(T,l.u_scale),u_fade:new a.b5(T,l.u_fade),u_fill_translate:new a.bH(T,l.u_fill_translate)}),circle:(T,l)=>({u_camera_to_center_distance:new a.b5(T,l.u_camera_to_center_distance),u_scale_with_map:new a.bC(T,l.u_scale_with_map),u_pitch_with_map:new a.bC(T,l.u_pitch_with_map),u_extrude_scale:new a.bH(T,l.u_extrude_scale),u_device_pixel_ratio:new a.b5(T,l.u_device_pixel_ratio),u_globe_extrude_scale:new a.b5(T,l.u_globe_extrude_scale),u_translate:new a.bH(T,l.u_translate)}),collisionBox:(T,l)=>({u_pixel_extrude_scale:new a.bH(T,l.u_pixel_extrude_scale)}),collisionCircle:(T,l)=>({u_viewport_size:new a.bH(T,l.u_viewport_size)}),debug:(T,l)=>({u_color:new a.bF(T,l.u_color),u_overlay:new a.bC(T,l.u_overlay),u_overlay_scale:new a.b5(T,l.u_overlay_scale)}),depth:vv,clippingMask:vv,heatmap:(T,l)=>({u_extrude_scale:new a.b5(T,l.u_extrude_scale),u_intensity:new a.b5(T,l.u_intensity),u_globe_extrude_scale:new a.b5(T,l.u_globe_extrude_scale)}),heatmapTexture:(T,l)=>({u_matrix:new a.bD(T,l.u_matrix),u_world:new a.bH(T,l.u_world),u_image:new a.bC(T,l.u_image),u_color_ramp:new a.bC(T,l.u_color_ramp),u_opacity:new a.b5(T,l.u_opacity)}),hillshade:(T,l)=>({u_image:new a.bC(T,l.u_image),u_latrange:new a.bH(T,l.u_latrange),u_light:new a.bH(T,l.u_light),u_shadow:new a.bF(T,l.u_shadow),u_highlight:new a.bF(T,l.u_highlight),u_accent:new a.bF(T,l.u_accent)}),hillshadePrepare:(T,l)=>({u_matrix:new a.bD(T,l.u_matrix),u_image:new a.bC(T,l.u_image),u_dimension:new a.bH(T,l.u_dimension),u_zoom:new a.b5(T,l.u_zoom),u_unpack:new a.bE(T,l.u_unpack)}),line:(T,l)=>({u_translation:new a.bH(T,l.u_translation),u_ratio:new a.b5(T,l.u_ratio),u_device_pixel_ratio:new a.b5(T,l.u_device_pixel_ratio),u_units_to_pixels:new a.bH(T,l.u_units_to_pixels)}),lineGradient:(T,l)=>({u_translation:new a.bH(T,l.u_translation),u_ratio:new a.b5(T,l.u_ratio),u_device_pixel_ratio:new a.b5(T,l.u_device_pixel_ratio),u_units_to_pixels:new a.bH(T,l.u_units_to_pixels),u_image:new a.bC(T,l.u_image),u_image_height:new a.b5(T,l.u_image_height)}),linePattern:(T,l)=>({u_translation:new a.bH(T,l.u_translation),u_texsize:new a.bH(T,l.u_texsize),u_ratio:new a.b5(T,l.u_ratio),u_device_pixel_ratio:new a.b5(T,l.u_device_pixel_ratio),u_image:new a.bC(T,l.u_image),u_units_to_pixels:new a.bH(T,l.u_units_to_pixels),u_scale:new a.bG(T,l.u_scale),u_fade:new a.b5(T,l.u_fade)}),lineSDF:(T,l)=>({u_translation:new a.bH(T,l.u_translation),u_ratio:new a.b5(T,l.u_ratio),u_device_pixel_ratio:new a.b5(T,l.u_device_pixel_ratio),u_units_to_pixels:new a.bH(T,l.u_units_to_pixels),u_patternscale_a:new a.bH(T,l.u_patternscale_a),u_patternscale_b:new a.bH(T,l.u_patternscale_b),u_sdfgamma:new a.b5(T,l.u_sdfgamma),u_image:new a.bC(T,l.u_image),u_tex_y_a:new a.b5(T,l.u_tex_y_a),u_tex_y_b:new a.b5(T,l.u_tex_y_b),u_mix:new a.b5(T,l.u_mix)}),raster:(T,l)=>({u_tl_parent:new a.bH(T,l.u_tl_parent),u_scale_parent:new a.b5(T,l.u_scale_parent),u_buffer_scale:new a.b5(T,l.u_buffer_scale),u_fade_t:new a.b5(T,l.u_fade_t),u_opacity:new a.b5(T,l.u_opacity),u_image0:new a.bC(T,l.u_image0),u_image1:new a.bC(T,l.u_image1),u_brightness_low:new a.b5(T,l.u_brightness_low),u_brightness_high:new a.b5(T,l.u_brightness_high),u_saturation_factor:new a.b5(T,l.u_saturation_factor),u_contrast_factor:new a.b5(T,l.u_contrast_factor),u_spin_weights:new a.bG(T,l.u_spin_weights),u_coords_top:new a.bE(T,l.u_coords_top),u_coords_bottom:new a.bE(T,l.u_coords_bottom)}),symbolIcon:(T,l)=>({u_is_size_zoom_constant:new a.bC(T,l.u_is_size_zoom_constant),u_is_size_feature_constant:new a.bC(T,l.u_is_size_feature_constant),u_size_t:new a.b5(T,l.u_size_t),u_size:new a.b5(T,l.u_size),u_camera_to_center_distance:new a.b5(T,l.u_camera_to_center_distance),u_pitch:new a.b5(T,l.u_pitch),u_rotate_symbol:new a.bC(T,l.u_rotate_symbol),u_aspect_ratio:new a.b5(T,l.u_aspect_ratio),u_fade_change:new a.b5(T,l.u_fade_change),u_label_plane_matrix:new a.bD(T,l.u_label_plane_matrix),u_coord_matrix:new a.bD(T,l.u_coord_matrix),u_is_text:new a.bC(T,l.u_is_text),u_pitch_with_map:new a.bC(T,l.u_pitch_with_map),u_is_along_line:new a.bC(T,l.u_is_along_line),u_is_variable_anchor:new a.bC(T,l.u_is_variable_anchor),u_texsize:new a.bH(T,l.u_texsize),u_texture:new a.bC(T,l.u_texture),u_translation:new a.bH(T,l.u_translation),u_pitched_scale:new a.b5(T,l.u_pitched_scale)}),symbolSDF:(T,l)=>({u_is_size_zoom_constant:new a.bC(T,l.u_is_size_zoom_constant),u_is_size_feature_constant:new a.bC(T,l.u_is_size_feature_constant),u_size_t:new a.b5(T,l.u_size_t),u_size:new a.b5(T,l.u_size),u_camera_to_center_distance:new a.b5(T,l.u_camera_to_center_distance),u_pitch:new a.b5(T,l.u_pitch),u_rotate_symbol:new a.bC(T,l.u_rotate_symbol),u_aspect_ratio:new a.b5(T,l.u_aspect_ratio),u_fade_change:new a.b5(T,l.u_fade_change),u_label_plane_matrix:new a.bD(T,l.u_label_plane_matrix),u_coord_matrix:new a.bD(T,l.u_coord_matrix),u_is_text:new a.bC(T,l.u_is_text),u_pitch_with_map:new a.bC(T,l.u_pitch_with_map),u_is_along_line:new a.bC(T,l.u_is_along_line),u_is_variable_anchor:new a.bC(T,l.u_is_variable_anchor),u_texsize:new a.bH(T,l.u_texsize),u_texture:new a.bC(T,l.u_texture),u_gamma_scale:new a.b5(T,l.u_gamma_scale),u_device_pixel_ratio:new a.b5(T,l.u_device_pixel_ratio),u_is_halo:new a.bC(T,l.u_is_halo),u_translation:new a.bH(T,l.u_translation),u_pitched_scale:new a.b5(T,l.u_pitched_scale)}),symbolTextAndIcon:(T,l)=>({u_is_size_zoom_constant:new a.bC(T,l.u_is_size_zoom_constant),u_is_size_feature_constant:new a.bC(T,l.u_is_size_feature_constant),u_size_t:new a.b5(T,l.u_size_t),u_size:new a.b5(T,l.u_size),u_camera_to_center_distance:new a.b5(T,l.u_camera_to_center_distance),u_pitch:new a.b5(T,l.u_pitch),u_rotate_symbol:new a.bC(T,l.u_rotate_symbol),u_aspect_ratio:new a.b5(T,l.u_aspect_ratio),u_fade_change:new a.b5(T,l.u_fade_change),u_label_plane_matrix:new a.bD(T,l.u_label_plane_matrix),u_coord_matrix:new a.bD(T,l.u_coord_matrix),u_is_text:new a.bC(T,l.u_is_text),u_pitch_with_map:new a.bC(T,l.u_pitch_with_map),u_is_along_line:new a.bC(T,l.u_is_along_line),u_is_variable_anchor:new a.bC(T,l.u_is_variable_anchor),u_texsize:new a.bH(T,l.u_texsize),u_texsize_icon:new a.bH(T,l.u_texsize_icon),u_texture:new a.bC(T,l.u_texture),u_texture_icon:new a.bC(T,l.u_texture_icon),u_gamma_scale:new a.b5(T,l.u_gamma_scale),u_device_pixel_ratio:new a.b5(T,l.u_device_pixel_ratio),u_is_halo:new a.bC(T,l.u_is_halo),u_translation:new a.bH(T,l.u_translation),u_pitched_scale:new a.b5(T,l.u_pitched_scale)}),background:(T,l)=>({u_opacity:new a.b5(T,l.u_opacity),u_color:new a.bF(T,l.u_color)}),backgroundPattern:(T,l)=>({u_opacity:new a.b5(T,l.u_opacity),u_image:new a.bC(T,l.u_image),u_pattern_tl_a:new a.bH(T,l.u_pattern_tl_a),u_pattern_br_a:new a.bH(T,l.u_pattern_br_a),u_pattern_tl_b:new a.bH(T,l.u_pattern_tl_b),u_pattern_br_b:new a.bH(T,l.u_pattern_br_b),u_texsize:new a.bH(T,l.u_texsize),u_mix:new a.b5(T,l.u_mix),u_pattern_size_a:new a.bH(T,l.u_pattern_size_a),u_pattern_size_b:new a.bH(T,l.u_pattern_size_b),u_scale_a:new a.b5(T,l.u_scale_a),u_scale_b:new a.b5(T,l.u_scale_b),u_pixel_coord_upper:new a.bH(T,l.u_pixel_coord_upper),u_pixel_coord_lower:new a.bH(T,l.u_pixel_coord_lower),u_tile_units_to_pixels:new a.b5(T,l.u_tile_units_to_pixels)}),terrain:(T,l)=>({u_texture:new a.bC(T,l.u_texture),u_ele_delta:new a.b5(T,l.u_ele_delta),u_fog_matrix:new a.bD(T,l.u_fog_matrix),u_fog_color:new a.bF(T,l.u_fog_color),u_fog_ground_blend:new a.b5(T,l.u_fog_ground_blend),u_fog_ground_blend_opacity:new a.b5(T,l.u_fog_ground_blend_opacity),u_horizon_color:new a.bF(T,l.u_horizon_color),u_horizon_fog_blend:new a.b5(T,l.u_horizon_fog_blend),u_is_globe_mode:new a.b5(T,l.u_is_globe_mode)}),terrainDepth:(T,l)=>({u_ele_delta:new a.b5(T,l.u_ele_delta)}),terrainCoords:(T,l)=>({u_texture:new a.bC(T,l.u_texture),u_terrain_coords_id:new a.b5(T,l.u_terrain_coords_id),u_ele_delta:new a.b5(T,l.u_ele_delta)}),projectionErrorMeasurement:(T,l)=>({u_input:new a.b5(T,l.u_input),u_output_expected:new a.b5(T,l.u_output_expected)}),atmosphere:(T,l)=>({u_sun_pos:new a.bG(T,l.u_sun_pos),u_atmosphere_blend:new a.b5(T,l.u_atmosphere_blend),u_globe_position:new a.bG(T,l.u_globe_position),u_globe_radius:new a.b5(T,l.u_globe_radius),u_inv_proj_matrix:new a.bD(T,l.u_inv_proj_matrix)}),sky:(T,l)=>({u_sky_color:new a.bF(T,l.u_sky_color),u_horizon_color:new a.bF(T,l.u_horizon_color),u_horizon:new a.bH(T,l.u_horizon),u_horizon_normal:new a.bH(T,l.u_horizon_normal),u_sky_horizon_blend:new a.b5(T,l.u_sky_horizon_blend),u_sky_blend:new a.b5(T,l.u_sky_blend)})};class vu{constructor(l,f,b){this.context=l;const w=l.gl;this.buffer=w.createBuffer(),this.dynamicDraw=!!b,this.context.unbindVAO(),l.bindElementBuffer.set(this.buffer),w.bufferData(w.ELEMENT_ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?w.DYNAMIC_DRAW:w.STATIC_DRAW),this.dynamicDraw||delete f.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(l){const f=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),f.bufferSubData(f.ELEMENT_ARRAY_BUFFER,0,l.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const _v={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class NC{constructor(l,f,b,w){this.length=f.length,this.attributes=b,this.itemSize=f.bytesPerElement,this.dynamicDraw=w,this.context=l;const P=l.gl;this.buffer=P.createBuffer(),l.bindVertexBuffer.set(this.buffer),P.bufferData(P.ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?P.DYNAMIC_DRAW:P.STATIC_DRAW),this.dynamicDraw||delete f.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(l){if(l.length!==this.length)throw new Error(`Length of new data is ${l.length}, which doesn't match current length of ${this.length}`);const f=this.context.gl;this.bind(),f.bufferSubData(f.ARRAY_BUFFER,0,l.arrayBuffer)}enableAttributes(l,f){for(let b=0;b<this.attributes.length;b++){const w=f.attributes[this.attributes[b].name];w!==void 0&&l.enableVertexAttribArray(w)}}setVertexAttribPointers(l,f,b){for(let w=0;w<this.attributes.length;w++){const P=this.attributes[w],D=f.attributes[P.name];D!==void 0&&l.vertexAttribPointer(D,P.components,l[_v[P.type]],!1,this.itemSize,P.offset+this.itemSize*(b||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class ar{constructor(l){this.gl=l.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(l){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class VC extends ar{getDefault(){return a.b4.transparent}set(l){const f=this.current;(l.r!==f.r||l.g!==f.g||l.b!==f.b||l.a!==f.a||this.dirty)&&(this.gl.clearColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)}}class jC extends ar{getDefault(){return 1}set(l){(l!==this.current||this.dirty)&&(this.gl.clearDepth(l),this.current=l,this.dirty=!1)}}class Ub extends ar{getDefault(){return 0}set(l){(l!==this.current||this.dirty)&&(this.gl.clearStencil(l),this.current=l,this.dirty=!1)}}class HC extends ar{getDefault(){return[!0,!0,!0,!0]}set(l){const f=this.current;(l[0]!==f[0]||l[1]!==f[1]||l[2]!==f[2]||l[3]!==f[3]||this.dirty)&&(this.gl.colorMask(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)}}class Gb extends ar{getDefault(){return!0}set(l){(l!==this.current||this.dirty)&&(this.gl.depthMask(l),this.current=l,this.dirty=!1)}}class lp extends ar{getDefault(){return 255}set(l){(l!==this.current||this.dirty)&&(this.gl.stencilMask(l),this.current=l,this.dirty=!1)}}class up extends ar{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(l){const f=this.current;(l.func!==f.func||l.ref!==f.ref||l.mask!==f.mask||this.dirty)&&(this.gl.stencilFunc(l.func,l.ref,l.mask),this.current=l,this.dirty=!1)}}class cp extends ar{getDefault(){const l=this.gl;return[l.KEEP,l.KEEP,l.KEEP]}set(l){const f=this.current;(l[0]!==f[0]||l[1]!==f[1]||l[2]!==f[2]||this.dirty)&&(this.gl.stencilOp(l[0],l[1],l[2]),this.current=l,this.dirty=!1)}}class bv extends ar{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;l?f.enable(f.STENCIL_TEST):f.disable(f.STENCIL_TEST),this.current=l,this.dirty=!1}}class yu extends ar{getDefault(){return[0,1]}set(l){const f=this.current;(l[0]!==f[0]||l[1]!==f[1]||this.dirty)&&(this.gl.depthRange(l[0],l[1]),this.current=l,this.dirty=!1)}}class Tc extends ar{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;l?f.enable(f.DEPTH_TEST):f.disable(f.DEPTH_TEST),this.current=l,this.dirty=!1}}class wa extends ar{getDefault(){return this.gl.LESS}set(l){(l!==this.current||this.dirty)&&(this.gl.depthFunc(l),this.current=l,this.dirty=!1)}}class Wb extends ar{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;l?f.enable(f.BLEND):f.disable(f.BLEND),this.current=l,this.dirty=!1}}class Zb extends ar{getDefault(){const l=this.gl;return[l.ONE,l.ZERO]}set(l){const f=this.current;(l[0]!==f[0]||l[1]!==f[1]||this.dirty)&&(this.gl.blendFunc(l[0],l[1]),this.current=l,this.dirty=!1)}}class xv extends ar{getDefault(){return a.b4.transparent}set(l){const f=this.current;(l.r!==f.r||l.g!==f.g||l.b!==f.b||l.a!==f.a||this.dirty)&&(this.gl.blendColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)}}class _u extends ar{getDefault(){return this.gl.FUNC_ADD}set(l){(l!==this.current||this.dirty)&&(this.gl.blendEquation(l),this.current=l,this.dirty=!1)}}class hp extends ar{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;l?f.enable(f.CULL_FACE):f.disable(f.CULL_FACE),this.current=l,this.dirty=!1}}class dp extends ar{getDefault(){return this.gl.BACK}set(l){(l!==this.current||this.dirty)&&(this.gl.cullFace(l),this.current=l,this.dirty=!1)}}class Zh extends ar{getDefault(){return this.gl.CCW}set(l){(l!==this.current||this.dirty)&&(this.gl.frontFace(l),this.current=l,this.dirty=!1)}}class fp extends ar{getDefault(){return null}set(l){(l!==this.current||this.dirty)&&(this.gl.useProgram(l),this.current=l,this.dirty=!1)}}class qb extends ar{getDefault(){return this.gl.TEXTURE0}set(l){(l!==this.current||this.dirty)&&(this.gl.activeTexture(l),this.current=l,this.dirty=!1)}}class Pc extends ar{getDefault(){const l=this.gl;return[0,0,l.drawingBufferWidth,l.drawingBufferHeight]}set(l){const f=this.current;(l[0]!==f[0]||l[1]!==f[1]||l[2]!==f[2]||l[3]!==f[3]||this.dirty)&&(this.gl.viewport(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)}}class Ec extends ar{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;f.bindFramebuffer(f.FRAMEBUFFER,l),this.current=l,this.dirty=!1}}class Kb extends ar{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;f.bindRenderbuffer(f.RENDERBUFFER,l),this.current=l,this.dirty=!1}}class wv extends ar{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;f.bindTexture(f.TEXTURE_2D,l),this.current=l,this.dirty=!1}}class nr extends ar{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;f.bindBuffer(f.ARRAY_BUFFER,l),this.current=l,this.dirty=!1}}class pp extends ar{getDefault(){return null}set(l){const f=this.gl;f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,l),this.current=l,this.dirty=!1}}class UC extends ar{getDefault(){return null}set(l){var f;if(l===this.current&&!this.dirty)return;const b=this.gl;Fa(b)?b.bindVertexArray(l):(f=b.getExtension("OES_vertex_array_object"))===null||f===void 0||f.bindVertexArrayOES(l),this.current=l,this.dirty=!1}}class Xb extends ar{getDefault(){return 4}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_ALIGNMENT,l),this.current=l,this.dirty=!1}}class qh extends ar{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l),this.current=l,this.dirty=!1}}class GC extends ar{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,l),this.current=l,this.dirty=!1}}class Sv extends ar{constructor(l,f){super(l),this.context=l,this.parent=f}getDefault(){return null}}class Yb extends Sv{setDirty(){this.dirty=!0}set(l){if(l===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,l,0),this.current=l,this.dirty=!1}}class WC extends Sv{set(l){if(l===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,l),this.current=l,this.dirty=!1}}class Cv extends Sv{set(l){if(l===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,l),this.current=l,this.dirty=!1}}const Kh="Framebuffer is not complete";class mp{constructor(l,f,b,w,P){this.context=l,this.width=f,this.height=b;const D=l.gl,$=this.framebuffer=D.createFramebuffer();if(this.colorAttachment=new Yb(l,$),w)this.depthAttachment=P?new Cv(l,$):new WC(l,$);else if(P)throw new Error("Stencil cannot be set without depth");if(D.checkFramebufferStatus(D.FRAMEBUFFER)!==D.FRAMEBUFFER_COMPLETE)throw new Error(Kh)}destroy(){const l=this.context.gl,f=this.colorAttachment.get();if(f&&l.deleteTexture(f),this.depthAttachment){const b=this.depthAttachment.get();b&&l.deleteRenderbuffer(b)}l.deleteFramebuffer(this.framebuffer)}}class Tv{constructor(l){var f,b;if(this.gl=l,this.clearColor=new VC(this),this.clearDepth=new jC(this),this.clearStencil=new Ub(this),this.colorMask=new HC(this),this.depthMask=new Gb(this),this.stencilMask=new lp(this),this.stencilFunc=new up(this),this.stencilOp=new cp(this),this.stencilTest=new bv(this),this.depthRange=new yu(this),this.depthTest=new Tc(this),this.depthFunc=new wa(this),this.blend=new Wb(this),this.blendFunc=new Zb(this),this.blendColor=new xv(this),this.blendEquation=new _u(this),this.cullFace=new hp(this),this.cullFaceSide=new dp(this),this.frontFace=new Zh(this),this.program=new fp(this),this.activeTexture=new qb(this),this.viewport=new Pc(this),this.bindFramebuffer=new Ec(this),this.bindRenderbuffer=new Kb(this),this.bindTexture=new wv(this),this.bindVertexBuffer=new nr(this),this.bindElementBuffer=new pp(this),this.bindVertexArray=new UC(this),this.pixelStoreUnpack=new Xb(this),this.pixelStoreUnpackPremultiplyAlpha=new qh(this),this.pixelStoreUnpackFlipY=new GC(this),this.extTextureFilterAnisotropic=l.getExtension("EXT_texture_filter_anisotropic")||l.getExtension("MOZ_EXT_texture_filter_anisotropic")||l.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=l.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=l.getParameter(l.MAX_TEXTURE_SIZE),Fa(l)){this.HALF_FLOAT=l.HALF_FLOAT;const w=l.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(f=l.RGBA16F)!==null&&f!==void 0?f:w==null?void 0:w.RGBA16F_EXT,this.RGB16F=(b=l.RGB16F)!==null&&b!==void 0?b:w==null?void 0:w.RGB16F_EXT,l.getExtension("EXT_color_buffer_float")}else{l.getExtension("EXT_color_buffer_half_float"),l.getExtension("OES_texture_half_float_linear");const w=l.getExtension("OES_texture_half_float");this.HALF_FLOAT=w==null?void 0:w.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(l,f){return new vu(this,l,f)}createVertexBuffer(l,f,b){return new NC(this,l,f,b)}createRenderbuffer(l,f,b){const w=this.gl,P=w.createRenderbuffer();return this.bindRenderbuffer.set(P),w.renderbufferStorage(w.RENDERBUFFER,l,f,b),this.bindRenderbuffer.set(null),P}createFramebuffer(l,f,b,w){return new mp(this,l,f,b,w)}clear({color:l,depth:f,stencil:b}){const w=this.gl;let P=0;l&&(P|=w.COLOR_BUFFER_BIT,this.clearColor.set(l),this.colorMask.set([!0,!0,!0,!0])),f!==void 0&&(P|=w.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(f),this.depthMask.set(!0)),b!==void 0&&(P|=w.STENCIL_BUFFER_BIT,this.clearStencil.set(b),this.stencilMask.set(255)),w.clear(P)}setCullFace(l){l.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(l.mode),this.frontFace.set(l.frontFace))}setDepthMode(l){l.func!==this.gl.ALWAYS||l.mask?(this.depthTest.set(!0),this.depthFunc.set(l.func),this.depthMask.set(l.mask),this.depthRange.set(l.range)):this.depthTest.set(!1)}setStencilMode(l){l.test.func!==this.gl.ALWAYS||l.mask?(this.stencilTest.set(!0),this.stencilMask.set(l.mask),this.stencilOp.set([l.fail,l.depthFail,l.pass]),this.stencilFunc.set({func:l.test.func,ref:l.ref,mask:l.test.mask})):this.stencilTest.set(!1)}setColorMode(l){a.bz(l.blendFunction,br.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(l.blendFunction),this.blendColor.set(l.blendColor)),this.colorMask.set(l.mask)}createVertexArray(){var l;return Fa(this.gl)?this.gl.createVertexArray():(l=this.gl.getExtension("OES_vertex_array_object"))===null||l===void 0?void 0:l.createVertexArrayOES()}deleteVertexArray(l){var f;return Fa(this.gl)?this.gl.deleteVertexArray(l):(f=this.gl.getExtension("OES_vertex_array_object"))===null||f===void 0?void 0:f.deleteVertexArrayOES(l)}unbindVAO(){this.bindVertexArray.set(null)}}let Ic;function Pv(T,l,f,b,w){const P=T.context,D=T.transform,$=P.gl,F=T.useProgram("collisionBox"),H=[];let q=0,Y=0;for(let Pe=0;Pe<b.length;Pe++){const Ie=b[Pe],Oe=l.getTile(Ie).getBucket(f);if(!Oe)continue;const $e=w?Oe.textCollisionBox:Oe.iconCollisionBox,Fe=Oe.collisionCircleArray;Fe.length>0&&(H.push({circleArray:Fe,circleOffset:Y,coord:Ie}),q+=Fe.length/4,Y=q),$e&&F.draw(P,$.LINES,On.disabled,Jn.disabled,T.colorModeForRenderPass(),Yn.disabled,Fb(T.transform),T.style.map.terrain&&T.style.map.terrain.getTerrainData(Ie),D.getProjectionData({overscaledTileID:Ie,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),f.id,$e.layoutVertexBuffer,$e.indexBuffer,$e.segments,null,T.transform.zoom,null,null,$e.collisionVertexBuffer)}if(!w||!H.length)return;const J=T.useProgram("collisionCircle"),ce=new a.bM;ce.resize(4*q),ce._trim();let de=0;for(const Pe of H)for(let Ie=0;Ie<Pe.circleArray.length/4;Ie++){const Oe=4*Ie,$e=Pe.circleArray[Oe+0],Fe=Pe.circleArray[Oe+1],We=Pe.circleArray[Oe+2],He=Pe.circleArray[Oe+3];ce.emplace(de++,$e,Fe,We,He,0),ce.emplace(de++,$e,Fe,We,He,1),ce.emplace(de++,$e,Fe,We,He,2),ce.emplace(de++,$e,Fe,We,He,3)}(!Ic||Ic.length<2*q)&&(Ic=function(Pe){const Ie=2*Pe,Oe=new a.bO;Oe.resize(Ie),Oe._trim();for(let $e=0;$e<Ie;$e++){const Fe=6*$e;Oe.uint16[Fe+0]=4*$e+0,Oe.uint16[Fe+1]=4*$e+1,Oe.uint16[Fe+2]=4*$e+2,Oe.uint16[Fe+3]=4*$e+2,Oe.uint16[Fe+4]=4*$e+3,Oe.uint16[Fe+5]=4*$e+0}return Oe}(q));const Ce=P.createIndexBuffer(Ic,!0),Se=P.createVertexBuffer(ce,a.bN.members,!0);for(const Pe of H){const Ie=Nb(T.transform);J.draw(P,$.TRIANGLES,On.disabled,Jn.disabled,T.colorModeForRenderPass(),Yn.disabled,Ie,T.style.map.terrain&&T.style.map.terrain.getTerrainData(Pe.coord),null,f.id,Se,Ce,a.aD.simpleSegment(0,2*Pe.circleOffset,Pe.circleArray.length,Pe.circleArray.length/2),null,T.transform.zoom,null,null,null)}Se.destroy(),Ce.destroy()}const gp=a.aq(new Float32Array(16));function vp(T,l,f,b,w,P){const{horizontalAlign:D,verticalAlign:$}=a.ay(T);return new a.P((-(D-.5)*l/w+b[0])*P,(-($-.5)*f/w+b[1])*P)}function Ev(T,l,f,b,w,P){const D=l.tileAnchorPoint.add(new a.P(l.translation[0],l.translation[1]));if(l.pitchWithMap){let $=b.mult(P);f||($=$.rotate(-w));const F=D.add($);return dt(F.x,F.y,l.pitchedLabelPlaneMatrix,l.getElevation).point}if(f){const $=nn(l.tileAnchorPoint.x+1,l.tileAnchorPoint.y,l).point.sub(T),F=Math.atan($.y/$.x)+($.x<0?Math.PI:0);return T.add(b.rotate(F))}return T.add(b)}function ZC(T,l,f,b,w,P,D,$,F,H,q,Y){const J=T.text.placedSymbolArray,ce=T.text.dynamicLayoutVertexArray,de=T.icon.dynamicLayoutVertexArray,Ce={};ce.clear();for(let Se=0;Se<J.length;Se++){const Pe=J.get(Se),Ie=Pe.hidden||!Pe.crossTileID||T.allowVerticalPlacement&&!Pe.placedOrientation?null:b[Pe.crossTileID];if(Ie){const Oe=new a.P(Pe.anchorX,Pe.anchorY),$e={getElevation:Y,width:w.width,height:w.height,pitchedLabelPlaneMatrix:P,lineVertexArray:null,pitchWithMap:f,transform:w,projectionCache:null,tileAnchorPoint:Oe,translation:H,unwrappedTileID:q},Fe=f?qn(Oe.x,Oe.y,$e):nn(Oe.x,Oe.y,$e),We=Je(w.cameraToCenterDistance,Fe.signedDistanceFromCamera);let He=a.aj(T.textSizeData,$,Pe)*We/a.as;f&&(He*=T.tilePixelRatio/D);const{width:et,height:it,anchor:_t,textOffset:vt,textBoxScale:pt}=Ie,Ut=vp(_t,et,it,vt,pt,He),jt=w.getPitchedTextCorrection(Oe.x+H[0],Oe.y+H[1],q),bt=Ev(Fe.point,$e,l,Ut,-w.bearingInRadians,jt),on=T.allowVerticalPlacement&&Pe.placedOrientation===a.ai.vertical?Math.PI/2:0;for(let In=0;In<Pe.numGlyphs;In++)a.ak(ce,bt,on);F&&Pe.associatedIconIndex>=0&&(Ce[Pe.associatedIconIndex]={shiftedAnchor:bt,angle:on})}else di(Pe.numGlyphs,ce)}if(F){de.clear();const Se=T.icon.placedSymbolArray;for(let Pe=0;Pe<Se.length;Pe++){const Ie=Se.get(Pe);if(Ie.hidden)di(Ie.numGlyphs,de);else{const Oe=Ce[Pe];if(Oe)for(let $e=0;$e<Ie.numGlyphs;$e++)a.ak(de,Oe.shiftedAnchor,Oe.angle);else di(Ie.numGlyphs,de)}}T.icon.dynamicLayoutVertexBuffer.updateData(de)}T.text.dynamicLayoutVertexBuffer.updateData(ce)}function Iv(T,l,f){return f.iconsInText&&l?"symbolTextAndIcon":T?"symbolSDF":"symbolIcon"}function Jb(T,l,f,b,w,P,D,$,F,H,q,Y,J){const ce=T.context,de=ce.gl,Ce=T.transform,Se=$==="map",Pe=F==="map",Ie=$!=="viewport"&&f.layout.get("symbol-placement")!=="point",Oe=Se&&!Pe&&!Ie,$e=!f.layout.get("symbol-sort-key").isConstant();let Fe=!1;const We=T.getDepthModeForSublayer(0,On.ReadOnly),He=f._unevaluatedLayout.hasValue("text-variable-anchor")||f._unevaluatedLayout.hasValue("text-variable-anchor-offset"),et=[],it=Ce.getCircleRadiusCorrection();for(const _t of b){const vt=l.getTile(_t),pt=vt.getBucket(f);if(!pt)continue;const Ut=w?pt.text:pt.icon;if(!Ut||!Ut.segments.get().length||!Ut.hasVisibleVertices)continue;const jt=Ut.programConfigurations.get(f.id),bt=w||pt.sdfIcons,on=w?pt.textSizeData:pt.iconSizeData,In=Pe||Ce.pitch!==0,rr=T.useProgram(Iv(bt,w,pt),jt),Hr=a.ah(on,Ce.zoom),pr=T.style.map.terrain&&T.style.map.terrain.getTerrainData(_t);let xr,Rr,cr,wr,Ii=[0,0],vi=null;if(w)Rr=vt.glyphAtlasTexture,cr=de.LINEAR,xr=vt.glyphAtlasTexture.size,pt.iconsInText&&(Ii=vt.imageAtlasTexture.size,vi=vt.imageAtlasTexture,wr=In||T.options.rotating||T.options.zooming||on.kind==="composite"||on.kind==="camera"?de.LINEAR:de.NEAREST);else{const Lr=f.layout.get("icon-size").constantOr(0)!==1||pt.iconsNeedLinear;Rr=vt.imageAtlasTexture,cr=bt||T.options.rotating||T.options.zooming||Lr||In?de.LINEAR:de.NEAREST,xr=vt.imageAtlasTexture.size}const Fi=a.at(vt,1,T.transform.zoom),ho=at(Se,T.transform,Fi),vs=a.H();a.an(vs,ho);const ia=qe(Pe,Se,T.transform,Fi),ys=a.au(Ce,vt,P,D),Cu=Ce.getProjectionData({overscaledTileID:_t,applyGlobeMatrix:!J,applyTerrainMatrix:!0}),dd=He&&pt.hasTextData(),$p=f.layout.get("icon-text-fit")!=="none"&&dd&&pt.hasIconData();if(Ie){const Lr=T.style.map.terrain?(Ni,Vi)=>T.style.map.terrain.getElevation(_t,Ni,Vi):null,Mi=f.layout.get("text-rotation-alignment")==="map";Nt(pt,T,w,ho,vs,Pe,H,Mi,_t.toUnwrapped(),Ce.width,Ce.height,ys,Lr)}const bl=w&&He||$p,fo=Ie||bl?gp:Pe?ho:T.transform.clipSpaceToPixelsMatrix,oa=bt&&f.paint.get(w?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let So;So=bt?pt.iconsInText?pv(on.kind,Hr,Oe,Pe,Ie,bl,T,fo,ia,ys,xr,Ii,it):ps(on.kind,Hr,Oe,Pe,Ie,bl,T,fo,ia,ys,w,xr,0,it):Wh(on.kind,Hr,Oe,Pe,Ie,bl,T,fo,ia,ys,w,xr,it);const Co={program:rr,buffers:Ut,uniformValues:So,projectionData:Cu,atlasTexture:Rr,atlasTextureIcon:vi,atlasInterpolation:cr,atlasInterpolationIcon:wr,isSDF:bt,hasHalo:oa};if($e&&pt.canOverlap){Fe=!0;const Lr=Ut.segments.get();for(const Mi of Lr)et.push({segments:new a.aD([Mi]),sortKey:Mi.sortKey,state:Co,terrainData:pr})}else et.push({segments:Ut.segments,sortKey:0,state:Co,terrainData:pr})}Fe&&et.sort((_t,vt)=>_t.sortKey-vt.sortKey);for(const _t of et){const vt=_t.state;if(ce.activeTexture.set(de.TEXTURE0),vt.atlasTexture.bind(vt.atlasInterpolation,de.CLAMP_TO_EDGE),vt.atlasTextureIcon&&(ce.activeTexture.set(de.TEXTURE1),vt.atlasTextureIcon&&vt.atlasTextureIcon.bind(vt.atlasInterpolationIcon,de.CLAMP_TO_EDGE)),vt.isSDF){const pt=vt.uniformValues;vt.hasHalo&&(pt.u_is_halo=1,Mv(vt.buffers,_t.segments,f,T,vt.program,We,q,Y,pt,vt.projectionData,_t.terrainData)),pt.u_is_halo=0}Mv(vt.buffers,_t.segments,f,T,vt.program,We,q,Y,vt.uniformValues,vt.projectionData,_t.terrainData)}}function Mv(T,l,f,b,w,P,D,$,F,H,q){const Y=b.context;w.draw(Y,Y.gl.TRIANGLES,P,D,$,Yn.backCCW,F,q,H,f.id,T.layoutVertexBuffer,T.indexBuffer,l,f.paint,b.transform.zoom,T.programConfigurations.get(f.id),T.dynamicLayoutVertexBuffer,T.opacityVertexBuffer)}function yp(T,l,f,b,w){const P=T.context,D=P.gl,$=Jn.disabled,F=new br([D.ONE,D.ONE],a.b4.transparent,[!0,!0,!0,!0]),H=l.getBucket(f);if(!H)return;const q=b.key;let Y=f.heatmapFbos.get(q);Y||(Y=Dv(P,l.tileSize,l.tileSize),f.heatmapFbos.set(q,Y)),P.bindFramebuffer.set(Y.framebuffer),P.viewport.set([0,0,l.tileSize,l.tileSize]),P.clear({color:a.b4.transparent});const J=H.programConfigurations.get(f.id),ce=T.useProgram("heatmap",J,!w),de=T.transform.getProjectionData({overscaledTileID:l.tileID,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),Ce=T.style.map.terrain.getTerrainData(b);ce.draw(P,D.TRIANGLES,On.disabled,$,F,Yn.disabled,_l(l,T.transform.zoom,f.paint.get("heatmap-intensity"),1),Ce,de,f.id,H.layoutVertexBuffer,H.indexBuffer,H.segments,f.paint,T.transform.zoom,J)}function Av(T,l,f,b,w){const P=T.context,D=P.gl,$=T.transform;P.setColorMode(T.colorModeForRenderPass());const F=kv(P,l),H=f.key,q=l.heatmapFbos.get(H);if(!q)return;P.activeTexture.set(D.TEXTURE0),D.bindTexture(D.TEXTURE_2D,q.colorAttachment.get()),P.activeTexture.set(D.TEXTURE1),F.bind(D.LINEAR,D.CLAMP_TO_EDGE);const Y=$.getProjectionData({overscaledTileID:f,applyTerrainMatrix:w,applyGlobeMatrix:!b});T.useProgram("heatmapTexture").draw(P,D.TRIANGLES,On.disabled,Jn.disabled,T.colorModeForRenderPass(),Yn.disabled,cv(T,l,0,1),null,Y,l.id,T.rasterBoundsBuffer,T.quadTriangleIndexBuffer,T.rasterBoundsSegments,l.paint,$.zoom),q.destroy(),l.heatmapFbos.delete(H)}function Dv(T,l,f){var b,w;const P=T.gl,D=P.createTexture();P.bindTexture(P.TEXTURE_2D,D),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_S,P.CLAMP_TO_EDGE),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_T,P.CLAMP_TO_EDGE),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MIN_FILTER,P.LINEAR),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MAG_FILTER,P.LINEAR);const $=(b=T.HALF_FLOAT)!==null&&b!==void 0?b:P.UNSIGNED_BYTE,F=(w=T.RGBA16F)!==null&&w!==void 0?w:P.RGBA;P.texImage2D(P.TEXTURE_2D,0,F,l,f,0,P.RGBA,$,null);const H=T.createFramebuffer(l,f,!1,!1);return H.colorAttachment.set(D),H}function kv(T,l){return l.colorRampTexture||(l.colorRampTexture=new W(T,l.colorRamp,T.gl.RGBA)),l.colorRampTexture}function Xh(T,l,f,b,w){if(!f||!b||!b.imageAtlas)return;const P=b.imageAtlas.patternPositions;let D=P[f.to.toString()],$=P[f.from.toString()];if(!D&&$&&(D=$),!$&&D&&($=D),!D||!$){const F=w.getPaintProperty(l);D=P[F],$=P[F]}D&&$&&T.setConstantPatternPositions(D,$)}function _p(T,l,f,b,w,P,D,$){const F=T.context.gl,H="fill-pattern",q=f.paint.get(H),Y=q&&q.constantOr(1),J=f.getCrossfadeParameters();let ce,de,Ce,Se,Pe;const Ie=T.transform,Oe=f.paint.get("fill-translate"),$e=f.paint.get("fill-translate-anchor");D?(de=Y&&!f.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ce=F.LINES):(de=Y?"fillPattern":"fill",ce=F.TRIANGLES);const Fe=q.constantOr(null);for(const We of b){const He=l.getTile(We);if(Y&&!He.patternsLoaded())continue;const et=He.getBucket(f);if(!et)continue;const it=et.programConfigurations.get(f.id),_t=T.useProgram(de,it),vt=T.style.map.terrain&&T.style.map.terrain.getTerrainData(We);Y&&(T.context.activeTexture.set(F.TEXTURE0),He.imageAtlasTexture.bind(F.LINEAR,F.CLAMP_TO_EDGE),it.updatePaintBuffers(J)),Xh(it,H,Fe,He,f);const pt=Ie.getProjectionData({overscaledTileID:We,applyGlobeMatrix:!$,applyTerrainMatrix:!0}),Ut=a.au(Ie,He,Oe,$e);if(D){Se=et.indexBuffer2,Pe=et.segments2;const bt=[F.drawingBufferWidth,F.drawingBufferHeight];Ce=de==="fillOutlinePattern"&&Y?lv(T,J,He,bt,Ut):zb(bt,Ut)}else Se=et.indexBuffer,Pe=et.segments,Ce=Y?$b(T,J,He,Ut):{u_fill_translate:Ut};let jt;if(T.renderPass==="translucent"&&$){const[bt]=T.getStencilConfigForOverlapAndUpdateStencilID(b);jt=bt[We.overscaledZ]}else jt=T.stencilModeForClipping(We);_t.draw(T.context,ce,w,jt,P,Yn.backCCW,Ce,vt,pt,f.id,et.layoutVertexBuffer,Se,Pe,f.paint,T.transform.zoom,it)}}function Ov(T,l,f,b,w,P,D,$){const F=T.context,H=F.gl,q="fill-extrusion-pattern",Y=f.paint.get(q),J=Y.constantOr(1),ce=f.getCrossfadeParameters(),de=f.paint.get("fill-extrusion-opacity"),Ce=Y.constantOr(null),Se=T.transform;for(const Pe of b){const Ie=l.getTile(Pe),Oe=Ie.getBucket(f);if(!Oe)continue;const $e=T.style.map.terrain&&T.style.map.terrain.getTerrainData(Pe),Fe=Oe.programConfigurations.get(f.id),We=T.useProgram(J?"fillExtrusionPattern":"fillExtrusion",Fe);J&&(T.context.activeTexture.set(H.TEXTURE0),Ie.imageAtlasTexture.bind(H.LINEAR,H.CLAMP_TO_EDGE),Fe.updatePaintBuffers(ce));const He=Se.getProjectionData({overscaledTileID:Pe,applyGlobeMatrix:!$,applyTerrainMatrix:!0});Xh(Fe,q,Ce,Ie,f);const et=a.au(Se,Ie,f.paint.get("fill-extrusion-translate"),f.paint.get("fill-extrusion-translate-anchor")),it=f.paint.get("fill-extrusion-vertical-gradient"),_t=J?Lb(T,it,de,et,Pe,ce,Ie):Rb(T,it,de,et);We.draw(F,F.gl.TRIANGLES,w,P,D,Yn.backCCW,_t,$e,He,f.id,Oe.layoutVertexBuffer,Oe.indexBuffer,Oe.segments,f.paint,T.transform.zoom,Fe,T.style.map.terrain&&Oe.centroidVertexBuffer)}}function bp(T,l,f,b,w,P,D,$,F){var H;const q=T.style.projection,Y=T.context,J=T.transform,ce=Y.gl,de=T.useProgram("hillshade"),Ce=!T.options.moving;for(const Se of b){const Pe=l.getTile(Se),Ie=Pe.fbo;if(!Ie)continue;const Oe=q.getMeshFromTileID(Y,Se.canonical,$,!0,"raster"),$e=(H=T.style.map.terrain)===null||H===void 0?void 0:H.getTerrainData(Se);Y.activeTexture.set(ce.TEXTURE0),ce.bindTexture(ce.TEXTURE_2D,Ie.colorAttachment.get());const Fe=J.getProjectionData({overscaledTileID:Se,aligned:Ce,applyGlobeMatrix:!F,applyTerrainMatrix:!0});de.draw(Y,ce.TRIANGLES,P,w[Se.overscaledZ],D,Yn.backCCW,Vb(T,Pe,f),$e,Fe,f.id,Oe.vertexBuffer,Oe.indexBuffer,Oe.segments)}}const Kr=[new a.P(0,0),new a.P(a.X,0),new a.P(a.X,a.X),new a.P(0,a.X)];function ms(T,l,f,b,w,P,D,$,F=!1,H=!1){const q=b[b.length-1].overscaledZ,Y=T.context,J=Y.gl,ce=T.useProgram("raster"),de=T.transform,Ce=T.style.projection,Se=T.colorModeForRenderPass(),Pe=!T.options.moving;for(const Ie of b){const Oe=T.getDepthModeForSublayer(Ie.overscaledZ-q,f.paint.get("raster-opacity")===1?On.ReadWrite:On.ReadOnly,J.LESS),$e=l.getTile(Ie);$e.registerFadeDuration(f.paint.get("raster-fade-duration"));const Fe=l.findLoadedParent(Ie,0),We=l.findLoadedSibling(Ie),He=Sa($e,Fe||We||null,l,f,T.transform,T.style.map.terrain);let et,it;const _t=f.paint.get("raster-resampling")==="nearest"?J.NEAREST:J.LINEAR;Y.activeTexture.set(J.TEXTURE0),$e.texture.bind(_t,J.CLAMP_TO_EDGE,J.LINEAR_MIPMAP_NEAREST),Y.activeTexture.set(J.TEXTURE1),Fe?(Fe.texture.bind(_t,J.CLAMP_TO_EDGE,J.LINEAR_MIPMAP_NEAREST),et=Math.pow(2,Fe.tileID.overscaledZ-$e.tileID.overscaledZ),it=[$e.tileID.canonical.x*et%1,$e.tileID.canonical.y*et%1]):$e.texture.bind(_t,J.CLAMP_TO_EDGE,J.LINEAR_MIPMAP_NEAREST),$e.texture.useMipmap&&Y.extTextureFilterAnisotropic&&T.transform.pitch>20&&J.texParameterf(J.TEXTURE_2D,Y.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Y.extTextureFilterAnisotropicMax);const vt=T.style.map.terrain&&T.style.map.terrain.getTerrainData(Ie),pt=de.getProjectionData({overscaledTileID:Ie,aligned:Pe,applyGlobeMatrix:!H,applyTerrainMatrix:!0}),Ut=fv(it||[0,0],et||1,He,f,$),jt=Ce.getMeshFromTileID(Y,Ie.canonical,P,D,"raster");ce.draw(Y,J.TRIANGLES,Oe,w?w[Ie.overscaledZ]:Jn.disabled,Se,F?Yn.frontCCW:Yn.backCCW,Ut,vt,pt,f.id,jt.vertexBuffer,jt.indexBuffer,jt.segments)}}function Sa(T,l,f,b,w,P){const D=b.paint.get("raster-fade-duration");if(!P&&D>0){const $=y.now(),F=($-T.timeAdded)/D,H=l?($-l.timeAdded)/D:-1,q=f.getSource(),Y=Pi(w,{tileSize:q.tileSize,roundZoom:q.roundZoom}),J=!l||Math.abs(l.tileID.overscaledZ-Y)>Math.abs(T.tileID.overscaledZ-Y),ce=J&&T.refreshedUponExpiration?1:a.ab(J?F:1-H,0,1);return T.refreshedUponExpiration&&F>=1&&(T.refreshedUponExpiration=!1),l?{opacity:1,mix:1-ce}:{opacity:ce,mix:0}}return{opacity:1,mix:0}}const Rv=new a.b4(1,0,0,1),Lv=new a.b4(0,1,0,1),Qb=new a.b4(0,0,1,1),Mc=new a.b4(1,0,1,1),Yh=new a.b4(0,1,1,1);function xp(T,l,f,b){Jh(T,0,l+f/2,T.transform.width,f,b)}function $v(T,l,f,b){Jh(T,l-f/2,0,f,T.transform.height,b)}function Jh(T,l,f,b,w,P){const D=T.context,$=D.gl;$.enable($.SCISSOR_TEST),$.scissor(l*T.pixelRatio,f*T.pixelRatio,b*T.pixelRatio,w*T.pixelRatio),D.clear({color:P}),$.disable($.SCISSOR_TEST)}function e1(T,l,f){const b=T.context,w=b.gl,P=T.useProgram("debug"),D=On.disabled,$=Jn.disabled,F=T.colorModeForRenderPass(),H="$debug",q=T.style.map.terrain&&T.style.map.terrain.getTerrainData(f);b.activeTexture.set(w.TEXTURE0);const Y=l.getTileByID(f.key).latestRawTileData,J=Math.floor((Y&&Y.byteLength||0)/1024),ce=l.getTile(f).tileSize,de=512/Math.min(ce,512)*(f.overscaledZ/T.transform.zoom)*.5;let Ce=f.canonical.toString();f.overscaledZ!==f.canonical.z&&(Ce+=` => ${f.overscaledZ}`),function(Pe,Ie){Pe.initDebugOverlayCanvas();const Oe=Pe.debugOverlayCanvas,$e=Pe.context.gl,Fe=Pe.debugOverlayCanvas.getContext("2d");Fe.clearRect(0,0,Oe.width,Oe.height),Fe.shadowColor="white",Fe.shadowBlur=2,Fe.lineWidth=1.5,Fe.strokeStyle="white",Fe.textBaseline="top",Fe.font="bold 36px Open Sans, sans-serif",Fe.fillText(Ie,5,5),Fe.strokeText(Ie,5,5),Pe.debugOverlayTexture.update(Oe),Pe.debugOverlayTexture.bind($e.LINEAR,$e.CLAMP_TO_EDGE)}(T,`${Ce} ${J}kB`);const Se=T.transform.getProjectionData({overscaledTileID:f,applyGlobeMatrix:!0,applyTerrainMatrix:!0});P.draw(b,w.TRIANGLES,D,$,br.alphaBlended,Yn.disabled,uv(a.b4.transparent,de),null,Se,H,T.debugBuffer,T.quadTriangleIndexBuffer,T.debugSegments),P.draw(b,w.LINE_STRIP,D,$,F,Yn.disabled,uv(a.b4.red),q,Se,H,T.debugBuffer,T.tileBorderIndexBuffer,T.debugSegments)}function zv(T,l,f,b){const{isRenderingGlobe:w}=b,P=T.context,D=P.gl,$=T.transform,F=T.colorModeForRenderPass(),H=T.getDepthModeFor3D(),q=T.useProgram("terrain");P.bindFramebuffer.set(null),P.viewport.set([0,0,T.width,T.height]);for(const Y of f){const J=l.getTerrainMesh(Y.tileID),ce=T.renderToTexture.getTexture(Y),de=l.getTerrainData(Y.tileID);P.activeTexture.set(D.TEXTURE0),D.bindTexture(D.TEXTURE_2D,ce.texture);const Ce=l.getMeshFrameDelta($.zoom),Se=$.calculateFogMatrix(Y.tileID.toUnwrapped()),Pe=Uh(Ce,Se,T.style.sky,$.pitch,w),Ie=$.getProjectionData({overscaledTileID:Y.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});q.draw(P,D.TRIANGLES,H,Jn.disabled,F,Yn.backCCW,Pe,de,Ie,"terrain",J.vertexBuffer,J.indexBuffer,J.segments)}}function Bv(T,l){if(!l.mesh){const f=new a.aC;f.emplaceBack(-1,-1),f.emplaceBack(1,-1),f.emplaceBack(1,1),f.emplaceBack(-1,1);const b=new a.aE;b.emplaceBack(0,1,2),b.emplaceBack(0,2,3),l.mesh=new ds(T.createVertexBuffer(f,Hn.members),T.createIndexBuffer(b),a.aD.simpleSegment(0,0,f.length,b.length))}return l.mesh}class bu{constructor(l,f){this.context=new Tv(l),this.transform=f,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:a.aq(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=le.maxUnderzooming+le.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new cu}resize(l,f,b){if(this.width=Math.floor(l*b),this.height=Math.floor(f*b),this.pixelRatio=b,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const w of this.style._order)this.style._layers[w].resize()}setup(){const l=this.context,f=new a.aC;f.emplaceBack(0,0),f.emplaceBack(a.X,0),f.emplaceBack(0,a.X),f.emplaceBack(a.X,a.X),this.tileExtentBuffer=l.createVertexBuffer(f,Hn.members),this.tileExtentSegments=a.aD.simpleSegment(0,0,4,2);const b=new a.aC;b.emplaceBack(0,0),b.emplaceBack(a.X,0),b.emplaceBack(0,a.X),b.emplaceBack(a.X,a.X),this.debugBuffer=l.createVertexBuffer(b,Hn.members),this.debugSegments=a.aD.simpleSegment(0,0,4,5);const w=new a.bT;w.emplaceBack(0,0,0,0),w.emplaceBack(a.X,0,a.X,0),w.emplaceBack(0,a.X,0,a.X),w.emplaceBack(a.X,a.X,a.X,a.X),this.rasterBoundsBuffer=l.createVertexBuffer(w,sv.members),this.rasterBoundsSegments=a.aD.simpleSegment(0,0,4,2);const P=new a.aC;P.emplaceBack(0,0),P.emplaceBack(a.X,0),P.emplaceBack(0,a.X),P.emplaceBack(a.X,a.X),this.rasterBoundsBufferPosOnly=l.createVertexBuffer(P,Hn.members),this.rasterBoundsSegmentsPosOnly=a.aD.simpleSegment(0,0,4,5);const D=new a.aC;D.emplaceBack(0,0),D.emplaceBack(1,0),D.emplaceBack(0,1),D.emplaceBack(1,1),this.viewportBuffer=l.createVertexBuffer(D,Hn.members),this.viewportSegments=a.aD.simpleSegment(0,0,4,2);const $=new a.bU;$.emplaceBack(0),$.emplaceBack(1),$.emplaceBack(3),$.emplaceBack(2),$.emplaceBack(0),this.tileBorderIndexBuffer=l.createIndexBuffer($);const F=new a.aE;F.emplaceBack(1,0,2),F.emplaceBack(1,2,3),this.quadTriangleIndexBuffer=l.createIndexBuffer(F);const H=this.context.gl;this.stencilClearMode=new Jn({func:H.ALWAYS,mask:0},0,255,H.ZERO,H.ZERO,H.ZERO),this.tileExtentMesh=new ds(this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}clearStencil(){const l=this.context,f=l.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const b=a.H();a.bL(b,0,this.width,this.height,0,0,1),a.K(b,b,[f.drawingBufferWidth,f.drawingBufferHeight,0]);const w={mainMatrix:b,tileMercatorCoords:[0,0,1,1],clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:b};this.useProgram("clippingMask",null,!0).draw(l,f.TRIANGLES,On.disabled,this.stencilClearMode,br.disabled,Yn.disabled,null,null,w,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(l,f,b){if(this.currentStencilSource===l.source||!l.isTileClipped()||!f||!f.length)return;this.currentStencilSource=l.source,this.nextStencilID+f.length>256&&this.clearStencil();const w=this.context;w.setColorMode(br.disabled),w.setDepthMode(On.disabled);const P={};for(const D of f)P[D.key]=this.nextStencilID++;this._renderTileMasks(P,f,b,!0),this._renderTileMasks(P,f,b,!1),this._tileClippingMaskIDs=P}_renderTileMasks(l,f,b,w){const P=this.context,D=P.gl,$=this.style.projection,F=this.transform,H=this.useProgram("clippingMask");for(const q of f){const Y=l[q.key],J=this.style.map.terrain&&this.style.map.terrain.getTerrainData(q),ce=$.getMeshFromTileID(this.context,q.canonical,w,!0,"stencil"),de=F.getProjectionData({overscaledTileID:q,applyGlobeMatrix:!0,applyTerrainMatrix:!0});H.draw(P,D.TRIANGLES,On.disabled,new Jn({func:D.ALWAYS,mask:0},Y,255,D.KEEP,D.KEEP,D.REPLACE),br.disabled,b?Yn.disabled:Yn.backCCW,null,J,de,"$clipping",ce.vertexBuffer,ce.indexBuffer,ce.segments)}}_renderTilesDepthBuffer(){const l=this.context,f=l.gl,b=this.style.projection,w=this.transform,P=this.useProgram("depth"),D=this.getDepthModeFor3D(),$=xe(w,{tileSize:w.tileSize});for(const F of $){const H=this.style.map.terrain&&this.style.map.terrain.getTerrainData(F),q=b.getMeshFromTileID(this.context,F.canonical,!0,!0,"raster"),Y=w.getProjectionData({overscaledTileID:F,applyGlobeMatrix:!0,applyTerrainMatrix:!0});P.draw(l,f.TRIANGLES,D,Jn.disabled,br.disabled,Yn.backCCW,null,H,Y,"$clipping",q.vertexBuffer,q.indexBuffer,q.segments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const l=this.nextStencilID++,f=this.context.gl;return new Jn({func:f.NOTEQUAL,mask:255},l,255,f.KEEP,f.KEEP,f.REPLACE)}stencilModeForClipping(l){const f=this.context.gl;return new Jn({func:f.EQUAL,mask:255},this._tileClippingMaskIDs[l.key],0,f.KEEP,f.KEEP,f.REPLACE)}getStencilConfigForOverlapAndUpdateStencilID(l){const f=this.context.gl,b=l.sort((D,$)=>$.overscaledZ-D.overscaledZ),w=b[b.length-1].overscaledZ,P=b[0].overscaledZ-w+1;if(P>1){this.currentStencilSource=void 0,this.nextStencilID+P>256&&this.clearStencil();const D={};for(let $=0;$<P;$++)D[$+w]=new Jn({func:f.GEQUAL,mask:255},$+this.nextStencilID,255,f.KEEP,f.KEEP,f.REPLACE);return this.nextStencilID+=P,[D,b]}return[{[w]:Jn.disabled},b]}stencilConfigForOverlapTwoPass(l){const f=this.context.gl,b=l.sort((D,$)=>$.overscaledZ-D.overscaledZ),w=b[b.length-1].overscaledZ,P=b[0].overscaledZ-w+1;if(this.clearStencil(),P>1){const D={},$={};for(let F=0;F<P;F++)D[F+w]=new Jn({func:f.GREATER,mask:255},P+1+F,255,f.KEEP,f.KEEP,f.REPLACE),$[F+w]=new Jn({func:f.GREATER,mask:255},1+F,255,f.KEEP,f.KEEP,f.REPLACE);return this.nextStencilID=2*P+1,[D,$,b]}return this.nextStencilID=3,[{[w]:new Jn({func:f.GREATER,mask:255},2,255,f.KEEP,f.KEEP,f.REPLACE)},{[w]:new Jn({func:f.GREATER,mask:255},1,255,f.KEEP,f.KEEP,f.REPLACE)},b]}colorModeForRenderPass(){const l=this.context.gl;return this._showOverdrawInspector?new br([l.CONSTANT_COLOR,l.ONE],new a.b4(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?br.unblended:br.alphaBlended}getDepthModeForSublayer(l,f,b){if(!this.opaquePassEnabledForLayer())return On.disabled;const w=1-((1+this.currentLayer)*this.numSublayers+l)*this.depthEpsilon;return new On(b||this.context.gl.LEQUAL,f,[w,w])}getDepthModeFor3D(){return new On(this.context.gl.LEQUAL,On.ReadWrite,this.depthRangeFor3D)}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(l,f){var b,w;this.style=l,this.options=f,this.lineAtlas=l.lineAtlas,this.imageManager=l.imageManager,this.glyphManager=l.glyphManager,this.symbolFadeChange=l.placement.symbolFadeChange(y.now()),this.imageManager.beginFrame();const P=this.style._order,D=this.style.sourceCaches,$={},F={},H={},q={isRenderingToTexture:!1,isRenderingGlobe:((b=l.projection)===null||b===void 0?void 0:b.transitionState)>0};for(const J in D){const ce=D[J];ce.used&&ce.prepare(this.context),$[J]=ce.getVisibleCoordinates(!1),F[J]=$[J].slice().reverse(),H[J]=ce.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let J=0;J<P.length;J++)if(this.style._layers[P[J]].is3D()){this.opaquePassCutoff=J;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const J of P){const ce=this.style._layers[J];if(!ce.hasOffscreenPass()||ce.isHidden(this.transform.zoom))continue;const de=F[ce.source];(ce.type==="custom"||de.length)&&this.renderLayer(this,D[ce.source],ce,de,q)}if((w=this.style.projection)===null||w===void 0||w.updateGPUdependent({context:this.context,useProgram:J=>this.useProgram(J)}),this.context.viewport.set([0,0,this.width,this.height]),this.context.bindFramebuffer.set(null),this.context.clear({color:f.showOverdrawInspector?a.b4.black:a.b4.transparent,depth:1}),this.clearStencil(),this.style.sky&&function(J,ce){const de=J.context,Ce=de.gl,Se=((We,He,et)=>{const it=Math.cos(He.rollInRadians),_t=Math.sin(He.rollInRadians),vt=ip(He),pt=He.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}).projectionTransition;return{u_sky_color:We.properties.get("sky-color"),u_horizon_color:We.properties.get("horizon-color"),u_horizon:[(He.width/2-vt*_t)*et,(He.height/2+vt*it)*et],u_horizon_normal:[-_t,it],u_sky_horizon_blend:We.properties.get("sky-horizon-blend")*He.height/2*et,u_sky_blend:pt}})(ce,J.style.map.transform,J.pixelRatio),Pe=new On(Ce.LEQUAL,On.ReadWrite,[0,1]),Ie=Jn.disabled,Oe=J.colorModeForRenderPass(),$e=J.useProgram("sky"),Fe=Bv(de,ce);$e.draw(de,Ce.TRIANGLES,Pe,Ie,Oe,Yn.disabled,Se,null,void 0,"sky",Fe.vertexBuffer,Fe.indexBuffer,Fe.segments)}(this,this.style.sky),this._showOverdrawInspector=f.showOverdrawInspector,this.depthRangeFor3D=[0,1-(l._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=P.length-1;this.currentLayer>=0;this.currentLayer--){const J=this.style._layers[P[this.currentLayer]],ce=D[J.source],de=$[J.source];this._renderTileClippingMasks(J,de,!1),this.renderLayer(this,ce,J,de,q)}this.renderPass="translucent";let Y=!1;for(this.currentLayer=0;this.currentLayer<P.length;this.currentLayer++){const J=this.style._layers[P[this.currentLayer]],ce=D[J.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(J,q))continue;this.opaquePassEnabledForLayer()||Y||(Y=!0,q.isRenderingGlobe&&!this.style.map.terrain&&this._renderTilesDepthBuffer());const de=(J.type==="symbol"?H:F)[J.source];this._renderTileClippingMasks(J,$[J.source],!1),this.renderLayer(this,ce,J,de,q)}if(q.isRenderingGlobe&&function(J,ce,de){const Ce=J.context,Se=Ce.gl,Pe=J.useProgram("atmosphere"),Ie=new On(Se.LEQUAL,On.ReadOnly,[0,1]),Oe=J.transform,$e=function(pt,Ut){const jt=pt.properties.get("position"),bt=[-jt.x,-jt.y,-jt.z],on=a.aq(new Float64Array(16));return pt.properties.get("anchor")==="map"&&(a.aX(on,on,Ut.rollInRadians),a.aY(on,on,-Ut.pitchInRadians),a.aX(on,on,Ut.bearingInRadians),a.aY(on,on,Ut.center.lat*Math.PI/180),a.bj(on,on,-Ut.center.lng*Math.PI/180)),a.bS(bt,bt,on),bt}(de,J.transform),Fe=Oe.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),We=ce.properties.get("atmosphere-blend")*Fe.projectionTransition;if(We===0)return;const He=na(Oe.worldSize,Oe.center.lat),et=Oe.inverseProjectionMatrix,it=new Float64Array(4);it[3]=1,a.al(it,it,Oe.modelViewProjectionMatrix),it[0]/=it[3],it[1]/=it[3],it[2]/=it[3],it[3]=1,a.al(it,it,et),it[0]/=it[3],it[1]/=it[3],it[2]/=it[3],it[3]=1;const _t=((pt,Ut,jt,bt,on)=>({u_sun_pos:pt,u_atmosphere_blend:Ut,u_globe_position:jt,u_globe_radius:bt,u_inv_proj_matrix:on}))($e,We,[it[0],it[1],it[2]],He,et),vt=Bv(Ce,ce);Pe.draw(Ce,Se.TRIANGLES,Ie,Jn.disabled,br.alphaBlended,Yn.disabled,_t,null,null,"atmosphere",vt.vertexBuffer,vt.indexBuffer,vt.segments)}(this,this.style.sky,this.style.light),this.options.showTileBoundaries){const J=function(ce,de){let Ce=null;const Se=Object.values(ce._layers).flatMap($e=>$e.source&&!$e.isHidden(de)?[ce.sourceCaches[$e.source]]:[]),Pe=Se.filter($e=>$e.getSource().type==="vector"),Ie=Se.filter($e=>$e.getSource().type!=="vector"),Oe=$e=>{(!Ce||Ce.getSource().maxzoom<$e.getSource().maxzoom)&&(Ce=$e)};return Pe.forEach($e=>Oe($e)),Ce||Ie.forEach($e=>Oe($e)),Ce}(this.style,this.transform.zoom);J&&function(ce,de,Ce){for(let Se=0;Se<Ce.length;Se++)e1(ce,de,Ce[Se])}(this,J,J.getVisibleCoordinates())}this.options.showPadding&&function(J){const ce=J.transform.padding;xp(J,J.transform.height-(ce.top||0),3,Rv),xp(J,ce.bottom||0,3,Lv),$v(J,ce.left||0,3,Qb),$v(J,J.transform.width-(ce.right||0),3,Mc);const de=J.transform.centerPoint;(function(Ce,Se,Pe,Ie){Jh(Ce,Se-1,Pe-10,2,20,Ie),Jh(Ce,Se-10,Pe-1,20,2,Ie)})(J,de.x,J.transform.height-de.y,Yh)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(l){if(!this.style||!this.style.map||!this.style.map.terrain)return;const f=this.terrainFacilitator.matrix,b=this.transform.modelViewProjectionMatrix;let w=this.terrainFacilitator.dirty;w||(w=l?!a.bV(f,b):!a.bW(f,b)),w||(w=this.style.map.terrain.sourceCache.anyTilesAfterTime(this.terrainFacilitator.renderTime)),w&&(a.bX(f,b),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(P,D){const $=P.context,F=$.gl,H=P.transform,q=br.unblended,Y=new On(F.LEQUAL,On.ReadWrite,[0,1]),J=D.sourceCache.getRenderableTiles(),ce=P.useProgram("terrainDepth");$.bindFramebuffer.set(D.getFramebuffer("depth").framebuffer),$.viewport.set([0,0,P.width/devicePixelRatio,P.height/devicePixelRatio]),$.clear({color:a.b4.transparent,depth:1});for(const de of J){const Ce=D.getTerrainMesh(de.tileID),Se=D.getTerrainData(de.tileID),Pe=H.getProjectionData({overscaledTileID:de.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0}),Ie={u_ele_delta:D.getMeshFrameDelta(H.zoom)};ce.draw($,F.TRIANGLES,Y,Jn.disabled,q,Yn.backCCW,Ie,Se,Pe,"terrain",Ce.vertexBuffer,Ce.indexBuffer,Ce.segments)}$.bindFramebuffer.set(null),$.viewport.set([0,0,P.width,P.height])}(this,this.style.map.terrain),function(P,D){const $=P.context,F=$.gl,H=P.transform,q=br.unblended,Y=new On(F.LEQUAL,On.ReadWrite,[0,1]),J=D.getCoordsTexture(),ce=D.sourceCache.getRenderableTiles(),de=P.useProgram("terrainCoords");$.bindFramebuffer.set(D.getFramebuffer("coords").framebuffer),$.viewport.set([0,0,P.width/devicePixelRatio,P.height/devicePixelRatio]),$.clear({color:a.b4.transparent,depth:1}),D.coordsIndex=[];for(const Ce of ce){const Se=D.getTerrainMesh(Ce.tileID),Pe=D.getTerrainData(Ce.tileID);$.activeTexture.set(F.TEXTURE0),F.bindTexture(F.TEXTURE_2D,J.texture);const Ie={u_terrain_coords_id:(255-D.coordsIndex.length)/255,u_texture:0,u_ele_delta:D.getMeshFrameDelta(H.zoom)},Oe=H.getProjectionData({overscaledTileID:Ce.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});de.draw($,F.TRIANGLES,Y,Jn.disabled,q,Yn.backCCW,Ie,Pe,Oe,"terrain",Se.vertexBuffer,Se.indexBuffer,Se.segments),D.coordsIndex.push(Ce.tileID.key)}$.bindFramebuffer.set(null),$.viewport.set([0,0,P.width,P.height])}(this,this.style.map.terrain))}renderLayer(l,f,b,w,P){b.isHidden(this.transform.zoom)||(b.type==="background"||b.type==="custom"||(w||[]).length)&&(this.id=b.id,a.bY(b)?function(D,$,F,H,q,Y){if(D.renderPass!=="translucent")return;const{isRenderingToTexture:J}=Y,ce=Jn.disabled,de=D.colorModeForRenderPass();(F._unevaluatedLayout.hasValue("text-variable-anchor")||F._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(Ce,Se,Pe,Ie,Oe,$e,Fe,We,He){const et=Se.transform,it=Se.style.map.terrain,_t=Oe==="map",vt=$e==="map";for(const pt of Ce){const Ut=Ie.getTile(pt),jt=Ut.getBucket(Pe);if(!jt||!jt.text||!jt.text.segments.get().length)continue;const bt=a.ah(jt.textSizeData,et.zoom),on=a.at(Ut,1,Se.transform.zoom),In=at(_t,Se.transform,on),rr=Pe.layout.get("icon-text-fit")!=="none"&&jt.hasIconData();{const Hr=Math.pow(2,et.zoom-Ut.tileID.overscaledZ),pr=it?(xr,Rr)=>it.getElevation(pt,xr,Rr):null;ZC(jt,_t,vt,He,et,In,Hr,bt,rr,a.au(et,Ut,Fe,We),pt.toUnwrapped(),pr)}}}(H,D,F,$,F.layout.get("text-rotation-alignment"),F.layout.get("text-pitch-alignment"),F.paint.get("text-translate"),F.paint.get("text-translate-anchor"),q),F.paint.get("icon-opacity").constantOr(1)!==0&&Jb(D,$,F,H,!1,F.paint.get("icon-translate"),F.paint.get("icon-translate-anchor"),F.layout.get("icon-rotation-alignment"),F.layout.get("icon-pitch-alignment"),F.layout.get("icon-keep-upright"),ce,de,J),F.paint.get("text-opacity").constantOr(1)!==0&&Jb(D,$,F,H,!0,F.paint.get("text-translate"),F.paint.get("text-translate-anchor"),F.layout.get("text-rotation-alignment"),F.layout.get("text-pitch-alignment"),F.layout.get("text-keep-upright"),ce,de,J),$.map.showCollisionBoxes&&(Pv(D,$,F,H,!0),Pv(D,$,F,H,!1))}(l,f,b,w,this.style.placement.variableOffsets,P):a.bZ(b)?function(D,$,F,H,q){if(D.renderPass!=="translucent")return;const{isRenderingToTexture:Y}=q,J=F.paint.get("circle-opacity"),ce=F.paint.get("circle-stroke-width"),de=F.paint.get("circle-stroke-opacity"),Ce=!F.layout.get("circle-sort-key").isConstant();if(J.constantOr(1)===0&&(ce.constantOr(1)===0||de.constantOr(1)===0))return;const Se=D.context,Pe=Se.gl,Ie=D.transform,Oe=D.getDepthModeForSublayer(0,On.ReadOnly),$e=Jn.disabled,Fe=D.colorModeForRenderPass(),We=[],He=Ie.getCircleRadiusCorrection();for(let et=0;et<H.length;et++){const it=H[et],_t=$.getTile(it),vt=_t.getBucket(F);if(!vt)continue;const pt=F.paint.get("circle-translate"),Ut=F.paint.get("circle-translate-anchor"),jt=a.au(Ie,_t,pt,Ut),bt=vt.programConfigurations.get(F.id),on=D.useProgram("circle",bt),In=vt.layoutVertexBuffer,rr=vt.indexBuffer,Hr=D.style.map.terrain&&D.style.map.terrain.getTerrainData(it),pr={programConfiguration:bt,program:on,layoutVertexBuffer:In,indexBuffer:rr,uniformValues:Bb(D,_t,F,jt,He),terrainData:Hr,projectionData:Ie.getProjectionData({overscaledTileID:it,applyGlobeMatrix:!Y,applyTerrainMatrix:!0})};if(Ce){const xr=vt.segments.get();for(const Rr of xr)We.push({segments:new a.aD([Rr]),sortKey:Rr.sortKey,state:pr})}else We.push({segments:vt.segments,sortKey:0,state:pr})}Ce&&We.sort((et,it)=>et.sortKey-it.sortKey);for(const et of We){const{programConfiguration:it,program:_t,layoutVertexBuffer:vt,indexBuffer:pt,uniformValues:Ut,terrainData:jt,projectionData:bt}=et.state;_t.draw(Se,Pe.TRIANGLES,Oe,$e,Fe,Yn.backCCW,Ut,jt,bt,F.id,vt,pt,et.segments,F.paint,D.transform.zoom,it)}}(l,f,b,w,P):a.b_(b)?function(D,$,F,H,q){if(F.paint.get("heatmap-opacity")===0)return;const Y=D.context,{isRenderingToTexture:J,isRenderingGlobe:ce}=q;if(D.style.map.terrain){for(const de of H){const Ce=$.getTile(de);$.hasRenderableParent(de)||(D.renderPass==="offscreen"?yp(D,Ce,F,de,ce):D.renderPass==="translucent"&&Av(D,F,de,J,ce))}Y.viewport.set([0,0,D.width,D.height])}else D.renderPass==="offscreen"?function(de,Ce,Se,Pe){const Ie=de.context,Oe=Ie.gl,$e=de.transform,Fe=Jn.disabled,We=new br([Oe.ONE,Oe.ONE],a.b4.transparent,[!0,!0,!0,!0]);(function(He,et,it){const _t=He.gl;He.activeTexture.set(_t.TEXTURE1),He.viewport.set([0,0,et.width/4,et.height/4]);let vt=it.heatmapFbos.get(a.bP);vt?(_t.bindTexture(_t.TEXTURE_2D,vt.colorAttachment.get()),He.bindFramebuffer.set(vt.framebuffer)):(vt=Dv(He,et.width/4,et.height/4),it.heatmapFbos.set(a.bP,vt))})(Ie,de,Se),Ie.clear({color:a.b4.transparent});for(let He=0;He<Pe.length;He++){const et=Pe[He];if(Ce.hasRenderableParent(et))continue;const it=Ce.getTile(et),_t=it.getBucket(Se);if(!_t)continue;const vt=_t.programConfigurations.get(Se.id),pt=de.useProgram("heatmap",vt),Ut=$e.getProjectionData({overscaledTileID:et,applyGlobeMatrix:!0,applyTerrainMatrix:!1}),jt=$e.getCircleRadiusCorrection();pt.draw(Ie,Oe.TRIANGLES,On.disabled,Fe,We,Yn.backCCW,_l(it,$e.zoom,Se.paint.get("heatmap-intensity"),jt),null,Ut,Se.id,_t.layoutVertexBuffer,_t.indexBuffer,_t.segments,Se.paint,$e.zoom,vt)}Ie.viewport.set([0,0,de.width,de.height])}(D,$,F,H):D.renderPass==="translucent"&&function(de,Ce){const Se=de.context,Pe=Se.gl;Se.setColorMode(de.colorModeForRenderPass());const Ie=Ce.heatmapFbos.get(a.bP);Ie&&(Se.activeTexture.set(Pe.TEXTURE0),Pe.bindTexture(Pe.TEXTURE_2D,Ie.colorAttachment.get()),Se.activeTexture.set(Pe.TEXTURE1),kv(Se,Ce).bind(Pe.LINEAR,Pe.CLAMP_TO_EDGE),de.useProgram("heatmapTexture").draw(Se,Pe.TRIANGLES,On.disabled,Jn.disabled,de.colorModeForRenderPass(),Yn.disabled,cv(de,Ce,0,1),null,null,Ce.id,de.viewportBuffer,de.quadTriangleIndexBuffer,de.viewportSegments,Ce.paint,de.transform.zoom))}(D,F)}(l,f,b,w,P):a.b$(b)?function(D,$,F,H,q){if(D.renderPass!=="translucent")return;const{isRenderingToTexture:Y}=q,J=F.paint.get("line-opacity"),ce=F.paint.get("line-width");if(J.constantOr(1)===0||ce.constantOr(1)===0)return;const de=D.getDepthModeForSublayer(0,On.ReadOnly),Ce=D.colorModeForRenderPass(),Se=F.paint.get("line-dasharray"),Pe=F.paint.get("line-pattern"),Ie=Pe.constantOr(1),Oe=F.paint.get("line-gradient"),$e=F.getCrossfadeParameters(),Fe=Ie?"linePattern":Se?"lineSDF":Oe?"lineGradient":"line",We=D.context,He=We.gl,et=D.transform;let it=!0;for(const _t of H){const vt=$.getTile(_t);if(Ie&&!vt.patternsLoaded())continue;const pt=vt.getBucket(F);if(!pt)continue;const Ut=pt.programConfigurations.get(F.id),jt=D.context.program.get(),bt=D.useProgram(Fe,Ut),on=it||bt.program!==jt,In=D.style.map.terrain&&D.style.map.terrain.getTerrainData(_t),rr=Pe.constantOr(null);if(rr&&vt.imageAtlas){const cr=vt.imageAtlas,wr=cr.patternPositions[rr.to.toString()],Ii=cr.patternPositions[rr.from.toString()];wr&&Ii&&Ut.setConstantPatternPositions(wr,Ii)}const Hr=et.getProjectionData({overscaledTileID:_t,applyGlobeMatrix:!Y,applyTerrainMatrix:!0}),pr=et.getPixelScale(),xr=Ie?FC(D,vt,F,pr,$e):Se?jb(D,vt,F,pr,Se,$e):Oe?BC(D,vt,F,pr,pt.lineClipsArray.length):Cc(D,vt,F,pr);if(Ie)We.activeTexture.set(He.TEXTURE0),vt.imageAtlasTexture.bind(He.LINEAR,He.CLAMP_TO_EDGE),Ut.updatePaintBuffers($e);else if(Se&&(on||D.lineAtlas.dirty))We.activeTexture.set(He.TEXTURE0),D.lineAtlas.bind(We);else if(Oe){const cr=pt.gradients[F.id];let wr=cr.texture;if(F.gradientVersion!==cr.version){let Ii=256;if(F.stepInterpolant){const vi=$.getSource().maxzoom,Fi=_t.canonical.z===vi?Math.ceil(1<<D.transform.maxZoom-_t.canonical.z):1;Ii=a.ab(a.bQ(pt.maxLineLength/a.X*1024*Fi),256,We.maxTextureSize)}cr.gradient=a.bR({expression:F.gradientExpression(),evaluationKey:"lineProgress",resolution:Ii,image:cr.gradient||void 0,clips:pt.lineClipsArray}),cr.texture?cr.texture.update(cr.gradient):cr.texture=new W(We,cr.gradient,He.RGBA),cr.version=F.gradientVersion,wr=cr.texture}We.activeTexture.set(He.TEXTURE0),wr.bind(F.stepInterpolant?He.NEAREST:He.LINEAR,He.CLAMP_TO_EDGE)}let Rr;if(Y){const[cr]=D.getStencilConfigForOverlapAndUpdateStencilID(H);Rr=cr[_t.overscaledZ]}else Rr=D.stencilModeForClipping(_t);bt.draw(We,He.TRIANGLES,de,Rr,Ce,Yn.disabled,xr,In,Hr,F.id,pt.layoutVertexBuffer,pt.indexBuffer,pt.segments,F.paint,D.transform.zoom,Ut,pt.layoutVertexBuffer2),it=!1}}(l,f,b,w,P):a.c0(b)?function(D,$,F,H,q){const Y=F.paint.get("fill-color"),J=F.paint.get("fill-opacity");if(J.constantOr(1)===0)return;const{isRenderingToTexture:ce}=q,de=D.colorModeForRenderPass(),Ce=F.paint.get("fill-pattern"),Se=D.opaquePassEnabledForLayer()&&!Ce.constantOr(1)&&Y.constantOr(a.b4.transparent).a===1&&J.constantOr(0)===1?"opaque":"translucent";if(D.renderPass===Se){const Pe=D.getDepthModeForSublayer(1,D.renderPass==="opaque"?On.ReadWrite:On.ReadOnly);_p(D,$,F,H,Pe,de,!1,ce)}if(D.renderPass==="translucent"&&F.paint.get("fill-antialias")){const Pe=D.getDepthModeForSublayer(F.getPaintProperty("fill-outline-color")?2:0,On.ReadOnly);_p(D,$,F,H,Pe,de,!0,ce)}}(l,f,b,w,P):a.c1(b)?function(D,$,F,H,q){const Y=F.paint.get("fill-extrusion-opacity");if(Y===0)return;const{isRenderingToTexture:J}=q;if(D.renderPass==="translucent"){const ce=new On(D.context.gl.LEQUAL,On.ReadWrite,D.depthRangeFor3D);if(Y!==1||F.paint.get("fill-extrusion-pattern").constantOr(1))Ov(D,$,F,H,ce,Jn.disabled,br.disabled,J),Ov(D,$,F,H,ce,D.stencilModeFor3D(),D.colorModeForRenderPass(),J);else{const de=D.colorModeForRenderPass();Ov(D,$,F,H,ce,Jn.disabled,de,J)}}}(l,f,b,w,P):a.c2(b)?function(D,$,F,H,q){if(D.renderPass!=="offscreen"&&D.renderPass!=="translucent")return;const{isRenderingToTexture:Y}=q,J=D.context,ce=D.style.projection.useSubdivision,de=D.getDepthModeForSublayer(0,On.ReadOnly),Ce=D.colorModeForRenderPass();if(D.renderPass==="offscreen")(function(Se,Pe,Ie,Oe,$e,Fe,We){const He=Se.context,et=He.gl;for(const it of Ie){const _t=Pe.getTile(it),vt=_t.dem;if(!vt||!vt.data||!_t.needsHillshadePrepare)continue;const pt=vt.dim,Ut=vt.stride,jt=vt.getPixels();if(He.activeTexture.set(et.TEXTURE1),He.pixelStoreUnpackPremultiplyAlpha.set(!1),_t.demTexture=_t.demTexture||Se.getTileTexture(Ut),_t.demTexture){const on=_t.demTexture;on.update(jt,{premultiply:!1}),on.bind(et.NEAREST,et.CLAMP_TO_EDGE)}else _t.demTexture=new W(He,jt,et.RGBA,{premultiply:!1}),_t.demTexture.bind(et.NEAREST,et.CLAMP_TO_EDGE);He.activeTexture.set(et.TEXTURE0);let bt=_t.fbo;if(!bt){const on=new W(He,{width:pt,height:pt,data:null},et.RGBA);on.bind(et.LINEAR,et.CLAMP_TO_EDGE),bt=_t.fbo=He.createFramebuffer(pt,pt,!0,!1),bt.colorAttachment.set(on.texture)}He.bindFramebuffer.set(bt.framebuffer),He.viewport.set([0,0,pt,pt]),Se.useProgram("hillshadePrepare").draw(He,et.TRIANGLES,$e,Fe,We,Yn.disabled,Gh(_t.tileID,vt),null,null,Oe.id,Se.rasterBoundsBuffer,Se.quadTriangleIndexBuffer,Se.rasterBoundsSegments),_t.needsHillshadePrepare=!1}})(D,$,H,F,de,Jn.disabled,Ce),J.viewport.set([0,0,D.width,D.height]);else if(D.renderPass==="translucent")if(ce){const[Se,Pe,Ie]=D.stencilConfigForOverlapTwoPass(H);bp(D,$,F,Ie,Se,de,Ce,!1,Y),bp(D,$,F,Ie,Pe,de,Ce,!0,Y)}else{const[Se,Pe]=D.getStencilConfigForOverlapAndUpdateStencilID(H);bp(D,$,F,Pe,Se,de,Ce,!1,Y)}}(l,f,b,w,P):a.c3(b)?function(D,$,F,H,q){if(D.renderPass!=="translucent"||F.paint.get("raster-opacity")===0||!H.length)return;const{isRenderingToTexture:Y}=q,J=$.getSource(),ce=D.style.projection.useSubdivision;if(J instanceof lt)ms(D,$,F,H,null,!1,!1,J.tileCoords,J.flippedWindingOrder,Y);else if(ce){const[de,Ce,Se]=D.stencilConfigForOverlapTwoPass(H);ms(D,$,F,Se,de,!1,!0,Kr,!1,Y),ms(D,$,F,Se,Ce,!0,!0,Kr,!1,Y)}else{const[de,Ce]=D.getStencilConfigForOverlapAndUpdateStencilID(H);ms(D,$,F,Ce,de,!1,!0,Kr,!1,Y)}}(l,f,b,w,P):a.c4(b)?function(D,$,F,H,q){const Y=F.paint.get("background-color"),J=F.paint.get("background-opacity");if(J===0)return;const{isRenderingToTexture:ce}=q,de=D.context,Ce=de.gl,Se=D.style.projection,Pe=D.transform,Ie=Pe.tileSize,Oe=F.paint.get("background-pattern");if(D.isPatternMissing(Oe))return;const $e=!Oe&&Y.a===1&&J===1&&D.opaquePassEnabledForLayer()?"opaque":"translucent";if(D.renderPass!==$e)return;const Fe=Jn.disabled,We=D.getDepthModeForSublayer(0,$e==="opaque"?On.ReadWrite:On.ReadOnly),He=D.colorModeForRenderPass(),et=D.useProgram(Oe?"backgroundPattern":"background"),it=H||xe(Pe,{tileSize:Ie,terrain:D.style.map.terrain});Oe&&(de.activeTexture.set(Ce.TEXTURE0),D.imageManager.bind(D.context));const _t=F.getCrossfadeParameters();for(const vt of it){const pt=Pe.getProjectionData({overscaledTileID:vt,applyGlobeMatrix:!ce,applyTerrainMatrix:!0}),Ut=Oe?gv(J,D,Oe,{tileID:vt,tileSize:Ie},_t):mv(J,Y),jt=D.style.map.terrain&&D.style.map.terrain.getTerrainData(vt),bt=Se.getMeshFromTileID(de,vt.canonical,!1,!0,"raster");et.draw(de,Ce.TRIANGLES,We,Fe,He,Yn.backCCW,Ut,jt,pt,F.id,bt.vertexBuffer,bt.indexBuffer,bt.segments)}}(l,0,b,w,P):a.c5(b)&&function(D,$,F,H){const{isRenderingGlobe:q}=H,Y=D.context,J=F.implementation,ce=D.style.projection,de=D.transform,Ce=de.getProjectionDataForCustomLayer(q),Se={farZ:de.farZ,nearZ:de.nearZ,fov:de.fov*Math.PI/180,modelViewProjectionMatrix:de.modelViewProjectionMatrix,projectionMatrix:de.projectionMatrix,shaderData:{variantName:ce.shaderVariantName,vertexShaderPrelude:`const float PI = 3.141592653589793;
uniform mat4 u_projection_matrix;
${ce.shaderPreludeCode.vertexSource}`,define:ce.shaderDefine},defaultProjectionData:Ce},Pe=J.renderingMode?J.renderingMode:"2d";if(D.renderPass==="offscreen"){const Ie=J.prerender;Ie&&(D.setCustomLayerDefaults(),Y.setColorMode(D.colorModeForRenderPass()),Ie.call(J,Y.gl,Se),Y.setDirty(),D.setBaseState())}else if(D.renderPass==="translucent"){D.setCustomLayerDefaults(),Y.setColorMode(D.colorModeForRenderPass()),Y.setStencilMode(Jn.disabled);const Ie=Pe==="3d"?D.getDepthModeFor3D():D.getDepthModeForSublayer(0,On.ReadOnly);Y.setDepthMode(Ie),J.render(Y.gl,Se),Y.setDirty(),D.setBaseState(),Y.bindFramebuffer.set(null)}}(l,0,b,P))}saveTileTexture(l){const f=this._tileTextures[l.size[0]];f?f.push(l):this._tileTextures[l.size[0]]=[l]}getTileTexture(l){const f=this._tileTextures[l];return f&&f.length>0?f.pop():null}isPatternMissing(l){if(!l)return!1;if(!l.from||!l.to)return!0;const f=this.imageManager.getPattern(l.from.toString()),b=this.imageManager.getPattern(l.to.toString());return!f||!b}useProgram(l,f,b=!1){this.cache=this.cache||{};const w=!!this.style.map.terrain,P=this.style.projection,D=l+(f?f.cacheKey:"")+`/${b?rp:P.shaderVariantName}`+(this._showOverdrawInspector?"/overdraw":"")+(w?"/terrain":"");return this.cache[D]||(this.cache[D]=new $C(this.context,hs[l],f,yv[l],this._showOverdrawInspector,w,b?hs.projectionMercator:P.shaderPreludeCode,b?np:P.shaderDefine)),this.cache[D]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const l=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(l.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new W(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:l,drawingBufferHeight:f}=this.context.gl;return this.width!==l||this.height!==f}}function Fv(T,l){let f,b=!1,w=null,P=null;const D=()=>{w=null,b&&(T.apply(P,f),w=setTimeout(D,l),b=!1)};return(...$)=>(b=!0,P=this,f=$,w||D(),w)}class Nv{constructor(l){this._getCurrentHash=()=>{const f=window.location.hash.replace("#","");if(this._hashName){let b;return f.split("&").map(w=>w.split("=")).forEach(w=>{w[0]===this._hashName&&(b=w)}),(b&&b[1]||"").split("/")}return f.split("/")},this._onHashChange=()=>{const f=this._getCurrentHash();if(!this._isValidHash(f))return!1;const b=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(f[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+f[2],+f[1]],zoom:+f[0],bearing:b,pitch:+(f[4]||0)}),!0},this._updateHashUnthrottled=()=>{const f=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,f)},this._removeHash=()=>{const f=this._getCurrentHash();if(f.length===0)return;const b=f.join("/");let w=b;w.split("&").length>0&&(w=w.split("&")[0]),this._hashName&&(w=`${this._hashName}=${b}`);let P=window.location.hash.replace(w,"");P.startsWith("#&")?P=P.slice(0,1)+P.slice(2):P==="#"&&(P="");let D=window.location.href.replace(/(#.+)?$/,P);D=D.replace("&&","&"),window.history.replaceState(window.history.state,null,D)},this._updateHash=Fv(this._updateHashUnthrottled,300),this._hashName=l&&encodeURIComponent(l)}addTo(l){return this._map=l,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(l){const f=this._map.getCenter(),b=Math.round(100*this._map.getZoom())/100,w=Math.ceil((b*Math.LN2+Math.log(512/360/.5))/Math.LN10),P=Math.pow(10,w),D=Math.round(f.lng*P)/P,$=Math.round(f.lat*P)/P,F=this._map.getBearing(),H=this._map.getPitch();let q="";if(q+=l?`/${D}/${$}/${b}`:`${b}/${$}/${D}`,(F||H)&&(q+="/"+Math.round(10*F)/10),H&&(q+=`/${Math.round(H)}`),this._hashName){const Y=this._hashName;let J=!1;const ce=window.location.hash.slice(1).split("&").map(de=>{const Ce=de.split("=")[0];return Ce===Y?(J=!0,`${Ce}=${q}`):de}).filter(de=>de);return J||ce.push(`${Y}=${q}`),`#${ce.join("&")}`}return`#${q}`}_isValidHash(l){if(l.length<3||l.some(isNaN))return!1;try{new a.N(+l[2],+l[1])}catch{return!1}const f=+l[0],b=+(l[3]||0),w=+(l[4]||0);return f>=this._map.getMinZoom()&&f<=this._map.getMaxZoom()&&b>=0&&b<=180&&w>=this._map.getMinPitch()&&w<=this._map.getMaxPitch()}}const Ac={linearity:.3,easing:a.c6(0,0,.3,1)},t1=a.e({deceleration:2500,maxSpeed:1400},Ac),n1=a.e({deceleration:20,maxSpeed:1400},Ac),r1=a.e({deceleration:1e3,maxSpeed:360},Ac),i1=a.e({deceleration:1e3,maxSpeed:90},Ac),Qh=a.e({deceleration:1e3,maxSpeed:360},Ac);class o1{constructor(l){this._map=l,this.clear()}clear(){this._inertiaBuffer=[]}record(l){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:y.now(),settings:l})}_drainInertiaBuffer(){const l=this._inertiaBuffer,f=y.now();for(;l.length>0&&f-l[0].time>160;)l.shift()}_onMoveEnd(l){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const f={zoom:0,bearing:0,pitch:0,roll:0,pan:new a.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:P}of this._inertiaBuffer)f.zoom+=P.zoomDelta||0,f.bearing+=P.bearingDelta||0,f.pitch+=P.pitchDelta||0,f.roll+=P.rollDelta||0,P.panDelta&&f.pan._add(P.panDelta),P.around&&(f.around=P.around),P.pinchAround&&(f.pinchAround=P.pinchAround);const b=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,w={};if(f.pan.mag()){const P=Ro(f.pan.mag(),b,a.e({},t1,l||{})),D=f.pan.mult(P.amount/f.pan.mag()),$=this._map.cameraHelper.handlePanInertia(D,this._map.transform);w.center=$.easingCenter,w.offset=$.easingOffset,xo(w,P)}if(f.zoom){const P=Ro(f.zoom,b,n1);w.zoom=this._map.transform.zoom+P.amount,xo(w,P)}if(f.bearing){const P=Ro(f.bearing,b,r1);w.bearing=this._map.transform.bearing+a.ab(P.amount,-179,179),xo(w,P)}if(f.pitch){const P=Ro(f.pitch,b,i1);w.pitch=this._map.transform.pitch+P.amount,xo(w,P)}if(f.roll){const P=Ro(f.roll,b,Qh);w.roll=this._map.transform.roll+a.ab(P.amount,-179,179),xo(w,P)}if(w.zoom||w.bearing){const P=f.pinchAround===void 0?f.around:f.pinchAround;w.around=P?this._map.unproject(P):this._map.getCenter()}return this.clear(),a.e(w,{noMoveStart:!0})}}function xo(T,l){(!T.duration||T.duration<l.duration)&&(T.duration=l.duration,T.easing=l.easing)}function Ro(T,l,f){const{maxSpeed:b,linearity:w,deceleration:P}=f,D=a.ab(T*w/(l/1e3),-b,b),$=Math.abs(D)/(P*w);return{easing:f.easing,duration:1e3*$,amount:D*($/2)}}class Lo extends a.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(l,f,b,w={}){const P=v.mousePos(f.getCanvas(),b),D=f.unproject(P);super(l,a.e({point:P,lngLat:D,originalEvent:b},w)),this._defaultPrevented=!1,this.target=f}}class $o extends a.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(l,f,b){const w=l==="touchend"?b.changedTouches:b.touches,P=v.touchPos(f.getCanvasContainer(),w),D=P.map(F=>f.unproject(F)),$=P.reduce((F,H,q,Y)=>F.add(H.div(Y.length)),new a.P(0,0));super(l,{points:P,point:$,lngLats:D,lngLat:f.unproject($),originalEvent:b}),this._defaultPrevented=!1}}class xu extends a.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(l,f,b){super(l,{originalEvent:b}),this._defaultPrevented=!1}}class qC{constructor(l,f){this._map=l,this._clickTolerance=f.clickTolerance}reset(){delete this._mousedownPos}wheel(l){return this._firePreventable(new xu(l.type,this._map,l))}mousedown(l,f){return this._mousedownPos=f,this._firePreventable(new Lo(l.type,this._map,l))}mouseup(l){this._map.fire(new Lo(l.type,this._map,l))}click(l,f){this._mousedownPos&&this._mousedownPos.dist(f)>=this._clickTolerance||this._map.fire(new Lo(l.type,this._map,l))}dblclick(l){return this._firePreventable(new Lo(l.type,this._map,l))}mouseover(l){this._map.fire(new Lo(l.type,this._map,l))}mouseout(l){this._map.fire(new Lo(l.type,this._map,l))}touchstart(l){return this._firePreventable(new $o(l.type,this._map,l))}touchmove(l){this._map.fire(new $o(l.type,this._map,l))}touchend(l){this._map.fire(new $o(l.type,this._map,l))}touchcancel(l){this._map.fire(new $o(l.type,this._map,l))}_firePreventable(l){if(this._map.fire(l),l.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class KC{constructor(l){this._map=l}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(l){this._map.fire(new Lo(l.type,this._map,l))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Lo("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(l){this._delayContextMenu?this._contextMenuEvent=l:this._ignoreContextMenu||this._map.fire(new Lo(l.type,this._map,l)),this._map.listens("contextmenu")&&l.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class ed{constructor(l){this._map=l}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(l){return this.transform.screenPointToLocation(a.P.convert(l),this._map.terrain)}}class a1{constructor(l,f){this._map=l,this._tr=new ed(l),this._el=l.getCanvasContainer(),this._container=l.getContainer(),this._clickTolerance=f.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(l,f){this.isEnabled()&&l.shiftKey&&l.button===0&&(v.disableDrag(),this._startPos=this._lastPos=f,this._active=!0)}mousemoveWindow(l,f){if(!this._active)return;const b=f;if(this._lastPos.equals(b)||!this._box&&b.dist(this._startPos)<this._clickTolerance)return;const w=this._startPos;this._lastPos=b,this._box||(this._box=v.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",l));const P=Math.min(w.x,b.x),D=Math.max(w.x,b.x),$=Math.min(w.y,b.y),F=Math.max(w.y,b.y);v.setTransform(this._box,`translate(${P}px,${$}px)`),this._box.style.width=D-P+"px",this._box.style.height=F-$+"px"}mouseupWindow(l,f){if(!this._active||l.button!==0)return;const b=this._startPos,w=f;if(this.reset(),v.suppressClick(),b.x!==w.x||b.y!==w.y)return this._map.fire(new a.k("boxzoomend",{originalEvent:l})),{cameraAnimation:P=>P.fitScreenCoordinates(b,w,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",l)}keydown(l){this._active&&l.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",l))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(v.remove(this._box),this._box=null),v.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(l,f){return this._map.fire(new a.k(l,{originalEvent:f}))}}function wp(T,l){if(T.length!==l.length)throw new Error(`The number of touches and points are not equal - touches ${T.length}, points ${l.length}`);const f={};for(let b=0;b<T.length;b++)f[T[b].identifier]=l[b];return f}class td{constructor(l){this.reset(),this.numTouches=l.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(l,f,b){(this.centroid||b.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=l.timeStamp),b.length===this.numTouches&&(this.centroid=function(w){const P=new a.P(0,0);for(const D of w)P._add(D);return P.div(w.length)}(f),this.touches=wp(b,f)))}touchmove(l,f,b){if(this.aborted||!this.centroid)return;const w=wp(b,f);for(const P in this.touches){const D=w[P];(!D||D.dist(this.touches[P])>30)&&(this.aborted=!0)}}touchend(l,f,b){if((!this.centroid||l.timeStamp-this.startTime>500)&&(this.aborted=!0),b.length===0){const w=!this.aborted&&this.centroid;if(this.reset(),w)return w}}}class Na{constructor(l){this.singleTap=new td(l),this.numTaps=l.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(l,f,b){this.singleTap.touchstart(l,f,b)}touchmove(l,f,b){this.singleTap.touchmove(l,f,b)}touchend(l,f,b){const w=this.singleTap.touchend(l,f,b);if(w){const P=l.timeStamp-this.lastTime<500,D=!this.lastTap||this.lastTap.dist(w)<30;if(P&&D||this.reset(),this.count++,this.lastTime=l.timeStamp,this.lastTap=w,this.count===this.numTaps)return this.reset(),w}}}class tn{constructor(l){this._tr=new ed(l),this._zoomIn=new Na({numTouches:1,numTaps:2}),this._zoomOut=new Na({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(l,f,b){this._zoomIn.touchstart(l,f,b),this._zoomOut.touchstart(l,f,b)}touchmove(l,f,b){this._zoomIn.touchmove(l,f,b),this._zoomOut.touchmove(l,f,b)}touchend(l,f,b){const w=this._zoomIn.touchend(l,f,b),P=this._zoomOut.touchend(l,f,b),D=this._tr;return w?(this._active=!0,l.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:$=>$.easeTo({duration:300,zoom:D.zoom+1,around:D.unproject(w)},{originalEvent:l})}):P?(this._active=!0,l.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:$=>$.easeTo({duration:300,zoom:D.zoom-1,around:D.unproject(P)},{originalEvent:l})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Dc{constructor(l){this._enabled=!!l.enable,this._moveStateManager=l.moveStateManager,this._clickTolerance=l.clickTolerance||1,this._moveFunction=l.move,this._activateOnStart=!!l.activateOnStart,l.assignEvents(this),this.reset()}reset(l){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(l)}_move(...l){const f=this._moveFunction(...l);if(f.bearingDelta||f.pitchDelta||f.rollDelta||f.around||f.panDelta)return this._active=!0,f}dragStart(l,f){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(l)&&(this._moveStateManager.startMove(l),this._lastPoint=Array.isArray(f)?f[0]:f,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(l,f){if(!this.isEnabled())return;const b=this._lastPoint;if(!b)return;if(l.preventDefault(),!this._moveStateManager.isValidMoveEvent(l))return void this.reset(l);const w=Array.isArray(f)?f[0]:f;return!this._moved&&w.dist(b)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=w,this._move(b,w))}dragEnd(l){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(l)&&(this._moved&&v.suppressClick(),this.reset(l))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const Vv={0:1,2:2};class kc{constructor(l){this._correctEvent=l.checkCorrectEvent}startMove(l){const f=v.mouseButton(l);this._eventButton=f}endMove(l){delete this._eventButton}isValidStartEvent(l){return this._correctEvent(l)}isValidMoveEvent(l){return!function(f,b){const w=Vv[b];return f.buttons===void 0||(f.buttons&w)!==w}(l,this._eventButton)}isValidEndEvent(l){return v.mouseButton(l)===this._eventButton}}class nd{constructor(){this._firstTouch=void 0}_isOneFingerTouch(l){return l.targetTouches.length===1}_isSameTouchEvent(l){return l.targetTouches[0].identifier===this._firstTouch}startMove(l){this._firstTouch=l.targetTouches[0].identifier}endMove(l){delete this._firstTouch}isValidStartEvent(l){return this._isOneFingerTouch(l)}isValidMoveEvent(l){return this._isOneFingerTouch(l)&&this._isSameTouchEvent(l)}isValidEndEvent(l){return this._isOneFingerTouch(l)&&this._isSameTouchEvent(l)}}class rd{constructor(l=new kc({checkCorrectEvent:()=>!0}),f=new nd){this.mouseMoveStateManager=l,this.oneFingerTouchMoveStateManager=f}_executeRelevantHandler(l,f,b){return l instanceof MouseEvent?f(l):typeof TouchEvent<"u"&&l instanceof TouchEvent?b(l):void 0}startMove(l){this._executeRelevantHandler(l,f=>this.mouseMoveStateManager.startMove(f),f=>this.oneFingerTouchMoveStateManager.startMove(f))}endMove(l){this._executeRelevantHandler(l,f=>this.mouseMoveStateManager.endMove(f),f=>this.oneFingerTouchMoveStateManager.endMove(f))}isValidStartEvent(l){return this._executeRelevantHandler(l,f=>this.mouseMoveStateManager.isValidStartEvent(f),f=>this.oneFingerTouchMoveStateManager.isValidStartEvent(f))}isValidMoveEvent(l){return this._executeRelevantHandler(l,f=>this.mouseMoveStateManager.isValidMoveEvent(f),f=>this.oneFingerTouchMoveStateManager.isValidMoveEvent(f))}isValidEndEvent(l){return this._executeRelevantHandler(l,f=>this.mouseMoveStateManager.isValidEndEvent(f),f=>this.oneFingerTouchMoveStateManager.isValidEndEvent(f))}}const id=T=>{T.mousedown=T.dragStart,T.mousemoveWindow=T.dragMove,T.mouseup=T.dragEnd,T.contextmenu=l=>{l.preventDefault()}};class Kn{constructor(l,f){this._clickTolerance=l.clickTolerance||1,this._map=f,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new a.P(0,0)}_shouldBePrevented(l){return l<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(l,f,b){return this._calculateTransform(l,f,b)}touchmove(l,f,b){if(this._active){if(!this._shouldBePrevented(b.length))return l.preventDefault(),this._calculateTransform(l,f,b);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",l)}}touchend(l,f,b){this._calculateTransform(l,f,b),this._active&&this._shouldBePrevented(b.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(l,f,b){b.length>0&&(this._active=!0);const w=wp(b,f),P=new a.P(0,0),D=new a.P(0,0);let $=0;for(const H in w){const q=w[H],Y=this._touches[H];Y&&(P._add(q),D._add(q.sub(Y)),$++,w[H]=q)}if(this._touches=w,this._shouldBePrevented($)||!D.mag())return;const F=D.div($);return this._sum._add(F),this._sum.mag()<this._clickTolerance?void 0:{around:P.div($),panDelta:F}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class od{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(l,f,b){this._firstTwoTouches||b.length<2||(this._firstTwoTouches=[b[0].identifier,b[1].identifier],this._start([f[0],f[1]]))}touchmove(l,f,b){if(!this._firstTwoTouches)return;l.preventDefault();const[w,P]=this._firstTwoTouches,D=Sp(b,f,w),$=Sp(b,f,P);if(!D||!$)return;const F=this._aroundCenter?null:D.add($).div(2);return this._move([D,$],F,l)}touchend(l,f,b){if(!this._firstTwoTouches)return;const[w,P]=this._firstTwoTouches,D=Sp(b,f,w),$=Sp(b,f,P);D&&$||(this._active&&v.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(l){this._enabled=!0,this._aroundCenter=!!l&&l.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function Sp(T,l,f){for(let b=0;b<T.length;b++)if(T[b].identifier===f)return l[b]}function Cp(T,l){return Math.log(T/l)/Math.LN2}class s1 extends od{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(l){this._startDistance=this._distance=l[0].dist(l[1])}_move(l,f){const b=this._distance;if(this._distance=l[0].dist(l[1]),this._active||!(Math.abs(Cp(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Cp(this._distance,b),pinchAround:f}}}function l1(T,l){return 180*T.angleWith(l)/Math.PI}class jv extends od{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(l){this._startVector=this._vector=l[0].sub(l[1]),this._minDiameter=l[0].dist(l[1])}_move(l,f,b){const w=this._vector;if(this._vector=l[0].sub(l[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:l1(this._vector,w),pinchAround:f}}_isBelowThreshold(l){this._minDiameter=Math.min(this._minDiameter,l.mag());const f=25/(Math.PI*this._minDiameter)*360,b=l1(l,this._startVector);return Math.abs(b)<f}}function ad(T){return Math.abs(T.y)>Math.abs(T.x)}class Hv extends od{constructor(l){super(),this._currentTouchCount=0,this._map=l}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(l,f,b){super.touchstart(l,f,b),this._currentTouchCount=b.length}_start(l){this._lastPoints=l,ad(l[0].sub(l[1]))&&(this._valid=!1)}_move(l,f,b){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const w=l[0].sub(this._lastPoints[0]),P=l[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(w,P,b.timeStamp),this._valid?(this._lastPoints=l,this._active=!0,{pitchDelta:(w.y+P.y)/2*-.5}):void 0}gestureBeginsVertically(l,f,b){if(this._valid!==void 0)return this._valid;const w=l.mag()>=2,P=f.mag()>=2;if(!w&&!P)return;if(!w||!P)return this._firstMove===void 0&&(this._firstMove=b),b-this._firstMove<100&&void 0;const D=l.y>0==f.y>0;return ad(l)&&ad(f)&&D}}const XC={panStep:100,bearingStep:15,pitchStep:10};class Uv{constructor(l){this._tr=new ed(l);const f=XC;this._panStep=f.panStep,this._bearingStep=f.bearingStep,this._pitchStep=f.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(l){if(l.altKey||l.ctrlKey||l.metaKey)return;let f=0,b=0,w=0,P=0,D=0;switch(l.keyCode){case 61:case 107:case 171:case 187:f=1;break;case 189:case 109:case 173:f=-1;break;case 37:l.shiftKey?b=-1:(l.preventDefault(),P=-1);break;case 39:l.shiftKey?b=1:(l.preventDefault(),P=1);break;case 38:l.shiftKey?w=1:(l.preventDefault(),D=-1);break;case 40:l.shiftKey?w=-1:(l.preventDefault(),D=1);break;default:return}return this._rotationDisabled&&(b=0,w=0),{cameraAnimation:$=>{const F=this._tr;$.easeTo({duration:300,easeId:"keyboardHandler",easing:YC,zoom:f?Math.round(F.zoom)+f*(l.shiftKey?2:1):F.zoom,bearing:F.bearing+b*this._bearingStep,pitch:F.pitch+w*this._pitchStep,offset:[-P*this._panStep,-D*this._panStep],center:F.center},{originalEvent:l})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function YC(T){return T*(2-T)}const u1=4.000244140625;class qs{constructor(l,f){this._onTimeout=b=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(b)},this._map=l,this._tr=new ed(l),this._triggerRenderFrame=f,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(l){this._defaultZoomRate=l}setWheelZoomRate(l){this._wheelZoomRate=l}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(l){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!l&&l.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(l){return!!this._map.cooperativeGestures.isEnabled()&&!(l.ctrlKey||this._map.cooperativeGestures.isBypassed(l))}wheel(l){if(!this.isEnabled())return;if(this._shouldBePrevented(l))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",l);let f=l.deltaMode===WheelEvent.DOM_DELTA_LINE?40*l.deltaY:l.deltaY;const b=y.now(),w=b-(this._lastWheelEventTime||0);this._lastWheelEventTime=b,f!==0&&f%u1==0?this._type="wheel":f!==0&&Math.abs(f)<4?this._type="trackpad":w>400?(this._type=null,this._lastValue=f,this._timeout=setTimeout(this._onTimeout,40,l)):this._type||(this._type=Math.abs(w*f)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,f+=this._lastValue)),l.shiftKey&&f&&(f/=4),this._type&&(this._lastWheelEvent=l,this._delta-=f,this._active||this._start(l)),l.preventDefault()}_start(l){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const f=v.mousePos(this._map.getCanvas(),l),b=this._tr;this._aroundPoint=this._aroundCenter?b.transform.locationToScreenPoint(a.N.convert(b.center)):f,this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const l=this._tr.transform;if(typeof this._lastExpectedZoom=="number"){const $=l.zoom-this._lastExpectedZoom;typeof this._startZoom=="number"&&(this._startZoom+=$),typeof this._targetZoom=="number"&&(this._targetZoom+=$)}if(this._delta!==0){const $=this._type==="wheel"&&Math.abs(this._delta)>u1?this._wheelZoomRate:this._defaultZoomRate;let F=2/(1+Math.exp(-Math.abs(this._delta*$)));this._delta<0&&F!==0&&(F=1/F);const H=typeof this._targetZoom!="number"?l.scale:a.aG(this._targetZoom);this._targetZoom=Math.min(l.maxZoom,Math.max(l.minZoom,a.a8(H*F))),this._type==="wheel"&&(this._startZoom=l.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const f=typeof this._targetZoom!="number"?l.zoom:this._targetZoom,b=this._startZoom,w=this._easing;let P,D=!1;if(this._type==="wheel"&&b&&w){const $=y.now()-this._lastWheelEventTime,F=Math.min(($+5)/200,1),H=w(F);P=a.y.number(b,f,H),F<1?this._frameId||(this._frameId=!0):D=!0}else P=f,D=!0;return this._active=!0,D&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._lastExpectedZoom,delete this._finishTimeout},200)),this._lastExpectedZoom=P,{noInertia:!0,needsRenderFrame:!D,zoomDelta:P-l.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(l){let f=a.c8;if(this._prevEase){const b=this._prevEase,w=(y.now()-b.start)/b.duration,P=b.easing(w+.01)-b.easing(w),D=.27/Math.sqrt(P*P+1e-4)*.01,$=Math.sqrt(.0729-D*D);f=a.c6(D,$,.25,1)}return this._prevEase={start:y.now(),duration:l,easing:f},f}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,delete this._lastExpectedZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class kr{constructor(l,f){this._clickZoom=l,this._tapZoom=f}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Tp{constructor(l){this._tr=new ed(l),this.reset()}reset(){this._active=!1}dblclick(l,f){return l.preventDefault(),{cameraAnimation:b=>{b.easeTo({duration:300,zoom:this._tr.zoom+(l.shiftKey?-1:1),around:this._tr.unproject(f)},{originalEvent:l})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Gv{constructor(){this._tap=new Na({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(l,f,b){if(!this._swipePoint)if(this._tapTime){const w=f[0],P=l.timeStamp-this._tapTime<500,D=this._tapPoint.dist(w)<30;P&&D?b.length>0&&(this._swipePoint=w,this._swipeTouch=b[0].identifier):this.reset()}else this._tap.touchstart(l,f,b)}touchmove(l,f,b){if(this._tapTime){if(this._swipePoint){if(b[0].identifier!==this._swipeTouch)return;const w=f[0],P=w.y-this._swipePoint.y;return this._swipePoint=w,l.preventDefault(),this._active=!0,{zoomDelta:P/128}}}else this._tap.touchmove(l,f,b)}touchend(l,f,b){if(this._tapTime)this._swipePoint&&b.length===0&&this.reset();else{const w=this._tap.touchend(l,f,b);w&&(this._tapTime=l.timeStamp,this._tapPoint=w)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Wv{constructor(l,f,b){this._el=l,this._mousePan=f,this._touchPan=b}enable(l){this._inertiaOptions=l||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Zv{constructor(l,f,b,w){this._pitchWithRotate=l.pitchWithRotate,this._rollEnabled=l.rollEnabled,this._mouseRotate=f,this._mousePitch=b,this._mouseRoll=w}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable(),this._rollEnabled&&this._mouseRoll.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable(),this._mouseRoll.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())&&(!this._rollEnabled||this._mouseRoll.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()||this._mouseRoll.isActive()}}class qv{constructor(l,f,b,w){this._el=l,this._touchZoom=f,this._touchRotate=b,this._tapDragZoom=w,this._rotationDisabled=!1,this._enabled=!0}enable(l){this._touchZoom.enable(l),this._rotationDisabled||this._touchRotate.enable(l),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class c1{constructor(l,f){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=l,this._options=f,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const l=this._map.getCanvasContainer();l.classList.add("maplibregl-cooperative-gestures"),this._container=v.create("div","maplibregl-cooperative-gesture-screen",l);let f=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(f=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const b=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),w=document.createElement("div");w.className="maplibregl-desktop-message",w.textContent=f,this._container.appendChild(w);const P=document.createElement("div");P.className="maplibregl-mobile-message",P.textContent=b,this._container.appendChild(P),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(v.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(l){return l[this._bypassKey]}notifyGestureBlocked(l,f){this._enabled&&(this._map.fire(new a.k("cooperativegestureprevented",{gestureType:l,originalEvent:f})),this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}const ra=T=>T.zoom||T.drag||T.roll||T.pitch||T.rotate;class Pp extends a.k{}function un(T){return T.panDelta&&T.panDelta.mag()||T.zoomDelta||T.bearingDelta||T.pitchDelta||T.rollDelta}class yn{constructor(l,f){this.handleWindowEvent=w=>{this.handleEvent(w,`${w.type}Window`)},this.handleEvent=(w,P)=>{if(w.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const D=w.type==="renderFrame"?void 0:w,$={needsRenderFrame:!1},F={},H={},q=w.touches,Y=q?this._getMapTouches(q):void 0,J=Y?v.touchPos(this._map.getCanvas(),Y):v.mousePos(this._map.getCanvas(),w);for(const{handlerName:Ce,handler:Se,allowed:Pe}of this._handlers){if(!Se.isEnabled())continue;let Ie;this._blockedByActive(H,Pe,Ce)?Se.reset():Se[P||w.type]&&(Ie=Se[P||w.type](w,J,Y),this.mergeHandlerResult($,F,Ie,Ce,D),Ie&&Ie.needsRenderFrame&&this._triggerRenderFrame()),(Ie||Se.isActive())&&(H[Ce]=Se)}const ce={};for(const Ce in this._previousActiveHandlers)H[Ce]||(ce[Ce]=D);this._previousActiveHandlers=H,(Object.keys(ce).length||un($))&&(this._changes.push([$,F,ce]),this._triggerRenderFrame()),(Object.keys(H).length||un($))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:de}=$;de&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],de(this._map))},this._map=l,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new o1(l),this._bearingSnap=f.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(f);const b=this._el;this._listeners=[[b,"touchstart",{passive:!0}],[b,"touchmove",{passive:!1}],[b,"touchend",void 0],[b,"touchcancel",void 0],[b,"mousedown",void 0],[b,"mousemove",void 0],[b,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[b,"mouseover",void 0],[b,"mouseout",void 0],[b,"dblclick",void 0],[b,"click",void 0],[b,"keydown",{capture:!1}],[b,"keyup",void 0],[b,"wheel",{passive:!1}],[b,"contextmenu",void 0],[window,"blur",void 0]];for(const[w,P,D]of this._listeners)v.addEventListener(w,P,w===document?this.handleWindowEvent:this.handleEvent,D)}destroy(){for(const[l,f,b]of this._listeners)v.removeEventListener(l,f,l===document?this.handleWindowEvent:this.handleEvent,b)}_addDefaultHandlers(l){const f=this._map,b=f.getCanvasContainer();this._add("mapEvent",new qC(f,l));const w=f.boxZoom=new a1(f,l);this._add("boxZoom",w),l.interactive&&l.boxZoom&&w.enable();const P=f.cooperativeGestures=new c1(f,l.cooperativeGestures);this._add("cooperativeGestures",P),l.cooperativeGestures&&P.enable();const D=new tn(f),$=new Tp(f);f.doubleClickZoom=new kr($,D),this._add("tapZoom",D),this._add("clickZoom",$),l.interactive&&l.doubleClickZoom&&f.doubleClickZoom.enable();const F=new Gv;this._add("tapDragZoom",F);const H=f.touchPitch=new Hv(f);this._add("touchPitch",H),l.interactive&&l.touchPitch&&f.touchPitch.enable(l.touchPitch);const q=()=>f.project(f.getCenter()),Y=function({enable:$e,clickTolerance:Fe,aroundCenter:We=!0,minPixelCenterThreshold:He=100,rotateDegreesPerPixelMoved:et=.8},it){const _t=new kc({checkCorrectEvent:vt=>v.mouseButton(vt)===0&&vt.ctrlKey||v.mouseButton(vt)===2&&!vt.ctrlKey});return new Dc({clickTolerance:Fe,move:(vt,pt)=>{const Ut=it();if(We&&Math.abs(Ut.y-vt.y)>He)return{bearingDelta:a.c7(new a.P(vt.x,pt.y),pt,Ut)};let jt=(pt.x-vt.x)*et;return We&&pt.y<Ut.y&&(jt=-jt),{bearingDelta:jt}},moveStateManager:_t,enable:$e,assignEvents:id})}(l,q),J=function({enable:$e,clickTolerance:Fe,pitchDegreesPerPixelMoved:We=-.5}){const He=new kc({checkCorrectEvent:et=>v.mouseButton(et)===0&&et.ctrlKey||v.mouseButton(et)===2});return new Dc({clickTolerance:Fe,move:(et,it)=>({pitchDelta:(it.y-et.y)*We}),moveStateManager:He,enable:$e,assignEvents:id})}(l),ce=function({enable:$e,clickTolerance:Fe,rollDegreesPerPixelMoved:We=.3},He){const et=new kc({checkCorrectEvent:it=>v.mouseButton(it)===2&&it.ctrlKey});return new Dc({clickTolerance:Fe,move:(it,_t)=>{const vt=He();let pt=(_t.x-it.x)*We;return _t.y<vt.y&&(pt=-pt),{rollDelta:pt}},moveStateManager:et,enable:$e,assignEvents:id})}(l,q);f.dragRotate=new Zv(l,Y,J,ce),this._add("mouseRotate",Y,["mousePitch"]),this._add("mousePitch",J,["mouseRotate","mouseRoll"]),this._add("mouseRoll",ce,["mousePitch"]),l.interactive&&l.dragRotate&&f.dragRotate.enable();const de=function({enable:$e,clickTolerance:Fe}){const We=new kc({checkCorrectEvent:He=>v.mouseButton(He)===0&&!He.ctrlKey});return new Dc({clickTolerance:Fe,move:(He,et)=>({around:et,panDelta:et.sub(He)}),activateOnStart:!0,moveStateManager:We,enable:$e,assignEvents:id})}(l),Ce=new Kn(l,f);f.dragPan=new Wv(b,de,Ce),this._add("mousePan",de),this._add("touchPan",Ce,["touchZoom","touchRotate"]),l.interactive&&l.dragPan&&f.dragPan.enable(l.dragPan);const Se=new jv,Pe=new s1;f.touchZoomRotate=new qv(b,Pe,Se,F),this._add("touchRotate",Se,["touchPan","touchZoom"]),this._add("touchZoom",Pe,["touchPan","touchRotate"]),l.interactive&&l.touchZoomRotate&&f.touchZoomRotate.enable(l.touchZoomRotate);const Ie=f.scrollZoom=new qs(f,()=>this._triggerRenderFrame());this._add("scrollZoom",Ie,["mousePan"]),l.interactive&&l.scrollZoom&&f.scrollZoom.enable(l.scrollZoom);const Oe=f.keyboard=new Uv(f);this._add("keyboard",Oe),l.interactive&&l.keyboard&&f.keyboard.enable(),this._add("blockableMapEvent",new KC(f))}_add(l,f,b){this._handlers.push({handlerName:l,handler:f,allowed:b}),this._handlersById[l]=f}stop(l){if(!this._updatingCamera){for(const{handler:f}of this._handlers)f.reset();this._inertia.clear(),this._fireEvents({},{},l),this._changes=[]}}isActive(){for(const{handler:l}of this._handlers)if(l.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!ra(this._eventsInProgress)||this.isZooming()}_blockedByActive(l,f,b){for(const w in l)if(w!==b&&(!f||f.indexOf(w)<0))return!0;return!1}_getMapTouches(l){const f=[];for(const b of l)this._el.contains(b.target)&&f.push(b);return f}mergeHandlerResult(l,f,b,w,P){if(!b)return;a.e(l,b);const D={handlerName:w,originalEvent:b.originalEvent||P};b.zoomDelta!==void 0&&(f.zoom=D),b.panDelta!==void 0&&(f.drag=D),b.rollDelta!==void 0&&(f.roll=D),b.pitchDelta!==void 0&&(f.pitch=D),b.bearingDelta!==void 0&&(f.rotate=D)}_applyChanges(){const l={},f={},b={};for(const[w,P,D]of this._changes)w.panDelta&&(l.panDelta=(l.panDelta||new a.P(0,0))._add(w.panDelta)),w.zoomDelta&&(l.zoomDelta=(l.zoomDelta||0)+w.zoomDelta),w.bearingDelta&&(l.bearingDelta=(l.bearingDelta||0)+w.bearingDelta),w.pitchDelta&&(l.pitchDelta=(l.pitchDelta||0)+w.pitchDelta),w.rollDelta&&(l.rollDelta=(l.rollDelta||0)+w.rollDelta),w.around!==void 0&&(l.around=w.around),w.pinchAround!==void 0&&(l.pinchAround=w.pinchAround),w.noInertia&&(l.noInertia=w.noInertia),a.e(f,P),a.e(b,D);this._updateMapTransform(l,f,b),this._changes=[]}_updateMapTransform(l,f,b){const w=this._map,P=w._getTransformForUpdate(),D=w.terrain;if(!(un(l)||D&&this._terrainMovement))return this._fireEvents(f,b,!0);w._stop(!0);let{panDelta:$,zoomDelta:F,bearingDelta:H,pitchDelta:q,rollDelta:Y,around:J,pinchAround:ce}=l;ce!==void 0&&(J=ce),J=J||w.transform.centerPoint,D&&!P.isPointOnMapSurface(J)&&(J=P.centerPoint);const de={panDelta:$,zoomDelta:F,rollDelta:Y,pitchDelta:q,bearingDelta:H,around:J};this._map.cameraHelper.useGlobeControls&&!P.isPointOnMapSurface(J)&&(J=P.centerPoint);const Ce=J.distSqr(P.centerPoint)<.01?P.center:P.screenPointToLocation($?J.sub($):J);D?(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(de,P),this._terrainMovement||!f.drag&&!f.zoom?f.drag&&this._terrainMovement?P.setCenter(P.screenPointToLocation(P.centerPoint.sub($))):this._map.cameraHelper.handleMapControlsPan(de,P,Ce):(this._terrainMovement=!0,this._map._elevationFreeze=!0,this._map.cameraHelper.handleMapControlsPan(de,P,Ce))):(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(de,P),this._map.cameraHelper.handleMapControlsPan(de,P,Ce)),w._applyUpdatedTransform(P),this._map._update(),l.noInertia||this._inertia.record(l),this._fireEvents(f,b,!0)}_fireEvents(l,f,b){const w=ra(this._eventsInProgress),P=ra(l),D={};for(const Y in l){const{originalEvent:J}=l[Y];this._eventsInProgress[Y]||(D[`${Y}start`]=J),this._eventsInProgress[Y]=l[Y]}!w&&P&&this._fireEvent("movestart",P.originalEvent);for(const Y in D)this._fireEvent(Y,D[Y]);P&&this._fireEvent("move",P.originalEvent);for(const Y in l){const{originalEvent:J}=l[Y];this._fireEvent(Y,J)}const $={};let F;for(const Y in this._eventsInProgress){const{handlerName:J,originalEvent:ce}=this._eventsInProgress[Y];this._handlersById[J].isActive()||(delete this._eventsInProgress[Y],F=f[J]||ce,$[`${Y}end`]=F)}for(const Y in $)this._fireEvent(Y,$[Y]);const H=ra(this._eventsInProgress),q=(w||P)&&!H;if(q&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;const Y=this._map._getTransformForUpdate();this._map.getCenterClampedToGround()&&Y.recalculateZoomAndCenter(this._map.terrain),this._map._applyUpdatedTransform(Y)}if(b&&q){this._updatingCamera=!0;const Y=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),J=ce=>ce!==0&&-this._bearingSnap<ce&&ce<this._bearingSnap;!Y||!Y.essential&&y.prefersReducedMotion?(this._map.fire(new a.k("moveend",{originalEvent:F})),J(this._map.getBearing())&&this._map.resetNorth()):(J(Y.bearing||this._map.getBearing())&&(Y.bearing=0),Y.freezeElevation=!0,this._map.easeTo(Y,{originalEvent:F})),this._updatingCamera=!1}}_fireEvent(l,f){this._map.fire(new a.k(l,f?{originalEvent:f}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(l=>{delete this._frameId,this.handleEvent(new Pp("renderFrame",{timeStamp:l})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class Ep extends a.E{constructor(l,f,b){super(),this._renderFrameCallback=()=>{const w=Math.min((y.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(w)),w<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=l,this._bearingSnap=b.bearingSnap,this.cameraHelper=f,this.on("moveend",()=>{delete this._requestedCameraState})}migrateProjection(l,f){l.apply(this.transform),this.transform=l,this.cameraHelper=f}getCenter(){return new a.N(this.transform.center.lng,this.transform.center.lat)}setCenter(l,f){return this.jumpTo({center:l},f)}getCenterElevation(){return this.transform.elevation}setCenterElevation(l,f){return this.jumpTo({elevation:l},f),this}getCenterClampedToGround(){return this._centerClampedToGround}setCenterClampedToGround(l){this._centerClampedToGround=l}panBy(l,f,b){return l=a.P.convert(l).mult(-1),this.panTo(this.transform.center,a.e({offset:l},f),b)}panTo(l,f,b){return this.easeTo(a.e({center:l},f),b)}getZoom(){return this.transform.zoom}setZoom(l,f){return this.jumpTo({zoom:l},f),this}zoomTo(l,f,b){return this.easeTo(a.e({zoom:l},f),b)}zoomIn(l,f){return this.zoomTo(this.getZoom()+1,l,f),this}zoomOut(l,f){return this.zoomTo(this.getZoom()-1,l,f),this}getVerticalFieldOfView(){return this.transform.fov}setVerticalFieldOfView(l,f){return l!=this.transform.fov&&(this.transform.setFov(l),this.fire(new a.k("movestart",f)).fire(new a.k("move",f)).fire(new a.k("moveend",f))),this}getBearing(){return this.transform.bearing}setBearing(l,f){return this.jumpTo({bearing:l},f),this}getPadding(){return this.transform.padding}setPadding(l,f){return this.jumpTo({padding:l},f),this}rotateTo(l,f,b){return this.easeTo(a.e({bearing:l},f),b)}resetNorth(l,f){return this.rotateTo(0,a.e({duration:1e3},l),f),this}resetNorthPitch(l,f){return this.easeTo(a.e({bearing:0,pitch:0,roll:0,duration:1e3},l),f),this}snapToNorth(l,f){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(l,f):this}getPitch(){return this.transform.pitch}setPitch(l,f){return this.jumpTo({pitch:l},f),this}getRoll(){return this.transform.roll}setRoll(l,f){return this.jumpTo({roll:l},f),this}cameraForBounds(l,f){l=ye.convert(l).adjustAntiMeridian();const b=f&&f.bearing||0;return this._cameraForBoxAndBearing(l.getNorthWest(),l.getSouthEast(),b,f)}_cameraForBoxAndBearing(l,f,b,w){const P={top:0,bottom:0,right:0,left:0};if(typeof(w=a.e({padding:P,offset:[0,0],maxZoom:this.transform.maxZoom},w)).padding=="number"){const H=w.padding;w.padding={top:H,bottom:H,right:H,left:H}}const D=a.e(P,w.padding);w.padding=D;const $=this.transform,F=new ye(l,f);return this.cameraHelper.cameraForBoxAndBearing(w,D,F,b,$)}fitBounds(l,f,b){return this._fitInternal(this.cameraForBounds(l,f),f,b)}fitScreenCoordinates(l,f,b,w,P){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.screenPointToLocation(a.P.convert(l)),this.transform.screenPointToLocation(a.P.convert(f)),b,w),w,P)}_fitInternal(l,f,b){return l?(delete(f=a.e(l,f)).padding,f.linear?this.easeTo(f,b):this.flyTo(f,b)):this}jumpTo(l,f){this.stop();const b=this._getTransformForUpdate();let w=!1,P=!1,D=!1;const $=b.zoom;this.cameraHelper.handleJumpToCenterZoom(b,l);const F=b.zoom!==$;return"elevation"in l&&b.elevation!==+l.elevation&&b.setElevation(+l.elevation),"bearing"in l&&b.bearing!==+l.bearing&&(w=!0,b.setBearing(+l.bearing)),"pitch"in l&&b.pitch!==+l.pitch&&(P=!0,b.setPitch(+l.pitch)),"roll"in l&&b.roll!==+l.roll&&(D=!0,b.setRoll(+l.roll)),l.padding==null||b.isPaddingEqual(l.padding)||b.setPadding(l.padding),this._applyUpdatedTransform(b),this.fire(new a.k("movestart",f)).fire(new a.k("move",f)),F&&this.fire(new a.k("zoomstart",f)).fire(new a.k("zoom",f)).fire(new a.k("zoomend",f)),w&&this.fire(new a.k("rotatestart",f)).fire(new a.k("rotate",f)).fire(new a.k("rotateend",f)),P&&this.fire(new a.k("pitchstart",f)).fire(new a.k("pitch",f)).fire(new a.k("pitchend",f)),D&&this.fire(new a.k("rollstart",f)).fire(new a.k("roll",f)).fire(new a.k("rollend",f)),this.fire(new a.k("moveend",f))}calculateCameraOptionsFromTo(l,f,b,w=0){const P=a.Y.fromLngLat(l,f),D=a.Y.fromLngLat(b,w),$=D.x-P.x,F=D.y-P.y,H=D.z-P.z,q=Math.hypot($,F,H);if(q===0)throw new Error("Can't calculate camera options with same From and To");const Y=Math.hypot($,F),J=a.a8(this.transform.cameraToCenterDistance/q/this.transform.tileSize),ce=180*Math.atan2($,-F)/Math.PI;let de=180*Math.acos(Y/q)/Math.PI;return de=H<0?90-de:90+de,{center:D.toLngLat(),elevation:w,zoom:J,pitch:de,bearing:ce}}calculateCameraOptionsFromCameraLngLatAltRotation(l,f,b,w,P){const D=this.transform.calculateCenterFromCameraLngLatAlt(l,f,b,w);return{center:D.center,elevation:D.elevation,zoom:D.zoom,bearing:b,pitch:w,roll:P}}easeTo(l,f){this._stop(!1,l.easeId),((l=a.e({offset:[0,0],duration:500,easing:a.c8},l)).animate===!1||!l.essential&&y.prefersReducedMotion)&&(l.duration=0);const b=this._getTransformForUpdate(),w=this.getBearing(),P=b.pitch,D=b.roll,$="bearing"in l?this._normalizeBearing(l.bearing,w):w,F="pitch"in l?+l.pitch:P,H="roll"in l?this._normalizeBearing(l.roll,D):D,q="padding"in l?l.padding:b.padding,Y=a.P.convert(l.offset);let J,ce;l.around&&(J=a.N.convert(l.around),ce=b.locationToScreenPoint(J));const de={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching,rolling:this._rolling},Ce=this.cameraHelper.handleEaseTo(b,{bearing:$,pitch:F,roll:H,padding:q,around:J,aroundPoint:ce,offsetAsPoint:Y,offset:l.offset,zoom:l.zoom,center:l.center});return this._rotating=this._rotating||w!==$,this._pitching=this._pitching||F!==P,this._rolling=this._rolling||H!==D,this._padding=!b.isPaddingEqual(q),this._zooming=this._zooming||Ce.isZooming,this._easeId=l.easeId,this._prepareEase(f,l.noMoveStart,de),this.terrain&&this._prepareElevation(Ce.elevationCenter),this._ease(Se=>{Ce.easeFunc(Se),this.terrain&&!l.freezeElevation&&this._updateElevation(Se),this._applyUpdatedTransform(b),this._fireMoveEvents(f)},Se=>{this.terrain&&l.freezeElevation&&this._finalizeElevation(),this._afterEase(f,Se)},l),this}_prepareEase(l,f,b={}){this._moving=!0,f||b.moving||this.fire(new a.k("movestart",l)),this._zooming&&!b.zooming&&this.fire(new a.k("zoomstart",l)),this._rotating&&!b.rotating&&this.fire(new a.k("rotatestart",l)),this._pitching&&!b.pitching&&this.fire(new a.k("pitchstart",l)),this._rolling&&!b.rolling&&this.fire(new a.k("rollstart",l))}_prepareElevation(l){this._elevationCenter=l,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(l,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(l){this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom));const f=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(l<1&&f!==this._elevationTarget){const b=this._elevationTarget-this._elevationStart;this._elevationStart+=l*(b-(f-(b*l+this._elevationStart))/(1-l)),this._elevationTarget=f}this.transform.setElevation(a.y.number(this._elevationStart,this._elevationTarget,l))}_finalizeElevation(){this._elevationFreeze=!1,this.getCenterClampedToGround()&&this.transform.recalculateZoomAndCenter(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(l){if(!this.terrain&&l.elevation>=0&&l.pitch<=90)return{};const f=l.getCameraLngLat(),b=l.getCameraAltitude(),w=this.terrain?this.terrain.getElevationForLngLatZoom(f,l.zoom):0;if(b<w){const P=this.calculateCameraOptionsFromTo(f,w,l.center,l.elevation);return{pitch:P.pitch,zoom:P.zoom}}return{}}_applyUpdatedTransform(l){const f=[];if(f.push(w=>this._elevateCameraIfInsideTerrain(w)),this.transformCameraUpdate&&f.push(w=>this.transformCameraUpdate(w)),!f.length)return;const b=l.clone();for(const w of f){const P=b.clone(),{center:D,zoom:$,roll:F,pitch:H,bearing:q,elevation:Y}=w(P);D&&P.setCenter(D),Y!==void 0&&P.setElevation(Y),$!==void 0&&P.setZoom($),F!==void 0&&P.setRoll(F),H!==void 0&&P.setPitch(H),q!==void 0&&P.setBearing(q),b.apply(P)}this.transform.apply(b)}_fireMoveEvents(l){this.fire(new a.k("move",l)),this._zooming&&this.fire(new a.k("zoom",l)),this._rotating&&this.fire(new a.k("rotate",l)),this._pitching&&this.fire(new a.k("pitch",l)),this._rolling&&this.fire(new a.k("roll",l))}_afterEase(l,f){if(this._easeId&&f&&this._easeId===f)return;delete this._easeId;const b=this._zooming,w=this._rotating,P=this._pitching,D=this._rolling;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._rolling=!1,this._padding=!1,b&&this.fire(new a.k("zoomend",l)),w&&this.fire(new a.k("rotateend",l)),P&&this.fire(new a.k("pitchend",l)),D&&this.fire(new a.k("rollend",l)),this.fire(new a.k("moveend",l))}flyTo(l,f){if(!l.essential&&y.prefersReducedMotion){const pt=a.M(l,["center","zoom","bearing","pitch","roll","elevation"]);return this.jumpTo(pt,f)}this.stop(),l=a.e({offset:[0,0],speed:1.2,curve:1.42,easing:a.c8},l);const b=this._getTransformForUpdate(),w=b.bearing,P=b.pitch,D=b.roll,$=b.padding,F="bearing"in l?this._normalizeBearing(l.bearing,w):w,H="pitch"in l?+l.pitch:P,q="roll"in l?this._normalizeBearing(l.roll,D):D,Y="padding"in l?l.padding:b.padding,J=a.P.convert(l.offset);let ce=b.centerPoint.add(J);const de=b.screenPointToLocation(ce),Ce=this.cameraHelper.handleFlyTo(b,{bearing:F,pitch:H,roll:q,padding:Y,locationAtOffset:de,offsetAsPoint:J,center:l.center,minZoom:l.minZoom,zoom:l.zoom});let Se=l.curve;const Pe=Math.max(b.width,b.height),Ie=Pe/Ce.scaleOfZoom,Oe=Ce.pixelPathLength;typeof Ce.scaleOfMinZoom=="number"&&(Se=Math.sqrt(Pe/Ce.scaleOfMinZoom/Oe*2));const $e=Se*Se;function Fe(pt){const Ut=(Ie*Ie-Pe*Pe+(pt?-1:1)*$e*$e*Oe*Oe)/(2*(pt?Ie:Pe)*$e*Oe);return Math.log(Math.sqrt(Ut*Ut+1)-Ut)}function We(pt){return(Math.exp(pt)-Math.exp(-pt))/2}function He(pt){return(Math.exp(pt)+Math.exp(-pt))/2}const et=Fe(!1);let it=function(pt){return He(et)/He(et+Se*pt)},_t=function(pt){return Pe*((He(et)*(We(Ut=et+Se*pt)/He(Ut))-We(et))/$e)/Oe;var Ut},vt=(Fe(!0)-et)/Se;if(Math.abs(Oe)<2e-6||!isFinite(vt)){if(Math.abs(Pe-Ie)<1e-6)return this.easeTo(l,f);const pt=Ie<Pe?-1:1;vt=Math.abs(Math.log(Ie/Pe))/Se,_t=()=>0,it=Ut=>Math.exp(pt*Se*Ut)}return l.duration="duration"in l?+l.duration:1e3*vt/("screenSpeed"in l?+l.screenSpeed/Se:+l.speed),l.maxDuration&&l.duration>l.maxDuration&&(l.duration=0),this._zooming=!0,this._rotating=w!==F,this._pitching=H!==P,this._rolling=q!==D,this._padding=!b.isPaddingEqual(Y),this._prepareEase(f,!1),this.terrain&&this._prepareElevation(Ce.targetCenter),this._ease(pt=>{const Ut=pt*vt,jt=1/it(Ut),bt=_t(Ut);this._rotating&&b.setBearing(a.y.number(w,F,pt)),this._pitching&&b.setPitch(a.y.number(P,H,pt)),this._rolling&&b.setRoll(a.y.number(D,q,pt)),this._padding&&(b.interpolatePadding($,Y,pt),ce=b.centerPoint.add(J)),Ce.easeFunc(pt,jt,bt,ce),this.terrain&&!l.freezeElevation&&this._updateElevation(pt),this._applyUpdatedTransform(b),this._fireMoveEvents(f)},()=>{this.terrain&&l.freezeElevation&&this._finalizeElevation(),this._afterEase(f)},l),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(l,f){var b;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const w=this._onEaseEnd;delete this._onEaseEnd,w.call(this,f)}return l||(b=this.handlers)===null||b===void 0||b.stop(!1),this}_ease(l,f,b){b.animate===!1||b.duration===0?(l(1),f()):(this._easeStart=y.now(),this._easeOptions=b,this._onEaseFrame=l,this._onEaseEnd=f,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(l,f){l=a.aI(l,-180,180);const b=Math.abs(l-f);return Math.abs(l-360-f)<b&&(l-=360),Math.abs(l+360-f)<b&&(l+=360),l}queryTerrainElevation(l){return this.terrain?this.terrain.getElevationForLngLatZoom(a.N.convert(l),this.transform.tileZoom):null}}const Ip={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class Mp{constructor(l=Ip){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=f=>{!f||f.sourceDataType!=="metadata"&&f.sourceDataType!=="visibility"&&f.dataType!=="style"&&f.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=l}getDefaultPosition(){return"bottom-right"}onAdd(l){return this._map=l,this._compact=this.options.compact,this._container=v.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=v.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=v.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){v.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._sanitizedAttributionHTML=void 0}_setElementTitle(l,f){const b=this._map._getUIString(`AttributionControl.${f}`);l.title=b,l.setAttribute("aria-label",b)}_updateAttributions(){if(!this._map.style)return;let l=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?l=l.concat(this.options.customAttribution.map(w=>typeof w!="string"?"":w)):typeof this.options.customAttribution=="string"&&l.push(this.options.customAttribution)),this._map.style.stylesheet){const w=this._map.style.stylesheet;this.styleOwner=w.owner,this.styleId=w.id}const f=this._map.style.sourceCaches;for(const w in f){const P=f[w];if(P.used||P.usedForTerrain){const D=P.getSource();D.attribution&&l.indexOf(D.attribution)<0&&l.push(D.attribution)}}l=l.filter(w=>String(w).trim()),l.sort((w,P)=>w.length-P.length),l=l.filter((w,P)=>{for(let D=P+1;D<l.length;D++)if(l[D].indexOf(w)>=0)return!1;return!0});const b=l.join(" | ");b!==this._sanitizedAttributionHTML&&(this._sanitizedAttributionHTML=v.sanitize(b),l.length?(this._innerContainer.innerHTML=this._sanitizedAttributionHTML,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class wo{constructor(l={}){this._updateCompact=()=>{const f=this._container.children;if(f.length){const b=f[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&b.classList.add("maplibregl-compact"):b.classList.remove("maplibregl-compact")}},this.options=l}getDefaultPosition(){return"bottom-left"}onAdd(l){this._map=l,this._compact=this.options&&this.options.compact,this._container=v.create("div","maplibregl-ctrl");const f=v.create("a","maplibregl-ctrl-logo");return f.target="_blank",f.rel="noopener nofollow",f.href="https://maplibre.org/",f.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),f.setAttribute("rel","noopener nofollow"),this._container.appendChild(f),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){v.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class h1{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(l){const f=++this._id;return this._queue.push({callback:l,id:f,cancelled:!1}),f}remove(l){const f=this._currentlyRunning,b=f?this._queue.concat(f):this._queue;for(const w of b)if(w.id===l)return void(w.cancelled=!0)}run(l=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const f=this._currentlyRunning=this._queue;this._queue=[];for(const b of f)if(!b.cancelled&&(b.callback(l),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var gs=a.aA([{name:"a_pos3d",type:"Int16",components:3}]);class JC extends a.E{constructor(l){super(),this._lastTilesetChange=y.now(),this.sourceCache=l,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.deltaZoom=1,this.tileSize=l._source.tileSize*2**this.deltaZoom,l.usedForTerrain=!0,l.tileSize=this.tileSize}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(l,f){this.sourceCache.update(l,f),this._renderableTilesKeys=[];const b={};for(const w of xe(l,{tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:f,calculateTileZoom:this.sourceCache._source.calculateTileZoom}))b[w.key]=!0,this._renderableTilesKeys.push(w.key),this._tiles[w.key]||(w.terrainRttPosMatrix32f=new Float64Array(16),a.bL(w.terrainRttPosMatrix32f,0,a.X,a.X,0,0,1),this._tiles[w.key]=new bn(w,this.tileSize),this._lastTilesetChange=y.now());for(const w in this._tiles)b[w]||delete this._tiles[w]}freeRtt(l){for(const f in this._tiles){const b=this._tiles[f];(!l||b.tileID.equals(l)||b.tileID.isChildOf(l)||l.isChildOf(b.tileID))&&(b.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(l=>this.getTileByID(l))}getTileByID(l){return this._tiles[l]}getTerrainCoords(l){const f={};for(const b of this._renderableTilesKeys){const w=this._tiles[b].tileID,P=l.clone(),D=a.a$();if(w.canonical.equals(l.canonical))a.bL(D,0,a.X,a.X,0,0,1);else if(w.canonical.isChildOf(l.canonical)){const $=w.canonical.z-l.canonical.z,F=w.canonical.x-(w.canonical.x>>$<<$),H=w.canonical.y-(w.canonical.y>>$<<$),q=a.X>>$;a.bL(D,0,q,q,0,0,1),a.J(D,D,[-F*q,-H*q,0])}else{if(!l.canonical.isChildOf(w.canonical))continue;{const $=l.canonical.z-w.canonical.z,F=l.canonical.x-(l.canonical.x>>$<<$),H=l.canonical.y-(l.canonical.y>>$<<$),q=a.X>>$;a.bL(D,0,a.X,a.X,0,0,1),a.J(D,D,[F*q,H*q,0]),a.K(D,D,[1/2**$,1/2**$,0])}}P.terrainRttPosMatrix32f=new Float32Array(D),f[b]=P}return f}getSourceTile(l,f){const b=this.sourceCache._source;let w=l.overscaledZ-this.deltaZoom;if(w>b.maxzoom&&(w=b.maxzoom),w<b.minzoom)return null;this._sourceTileCache[l.key]||(this._sourceTileCache[l.key]=l.scaledTo(w).key);let P=this.sourceCache.getTileByID(this._sourceTileCache[l.key]);if((!P||!P.dem)&&f)for(;w>=b.minzoom&&(!P||!P.dem);)P=this.sourceCache.getTileByID(l.scaledTo(w--).key);return P}anyTilesAfterTime(l=Date.now()){return this._lastTilesetChange>=l}}class sd{constructor(l,f,b){this._meshCache={},this.painter=l,this.sourceCache=new JC(f),this.options=b,this.exaggeration=typeof b.exaggeration=="number"?b.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(l,f,b,w=a.X){var P;if(!(f>=0&&f<w&&b>=0&&b<w))return 0;const D=this.getTerrainData(l),$=(P=D.tile)===null||P===void 0?void 0:P.dem;if(!$)return 0;const F=a.c9([],[f/w*a.X,b/w*a.X],D.u_terrain_matrix),H=[F[0]*$.dim,F[1]*$.dim],q=Math.floor(H[0]),Y=Math.floor(H[1]),J=H[0]-q,ce=H[1]-Y;return $.get(q,Y)*(1-J)*(1-ce)+$.get(q+1,Y)*J*(1-ce)+$.get(q,Y+1)*(1-J)*ce+$.get(q+1,Y+1)*J*ce}getElevationForLngLatZoom(l,f){if(!a.ca(f,l.wrap()))return 0;const{tileID:b,mercatorX:w,mercatorY:P}=this._getOverscaledTileIDFromLngLatZoom(l,f);return this.getElevation(b,w%a.X,P%a.X,a.X)}getElevation(l,f,b,w=a.X){return this.getDEMElevation(l,f,b,w)*this.exaggeration}getTerrainData(l){if(!this._emptyDemTexture){const w=this.painter.context,P=new a.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new W(w,P,w.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new W(w,new a.R({width:1,height:1}),w.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(w.gl.NEAREST,w.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=a.aq([])}const f=this.sourceCache.getSourceTile(l,!0);if(f&&f.dem&&(!f.demTexture||f.needsTerrainPrepare)){const w=this.painter.context;f.demTexture=this.painter.getTileTexture(f.dem.stride),f.demTexture?f.demTexture.update(f.dem.getPixels(),{premultiply:!1}):f.demTexture=new W(w,f.dem.getPixels(),w.gl.RGBA,{premultiply:!1}),f.demTexture.bind(w.gl.NEAREST,w.gl.CLAMP_TO_EDGE),f.needsTerrainPrepare=!1}const b=f&&f+f.tileID.key+l.key;if(b&&!this._demMatrixCache[b]){const w=this.sourceCache.sourceCache._source.maxzoom;let P=l.canonical.z-f.tileID.canonical.z;l.overscaledZ>l.canonical.z&&(l.canonical.z>=w?P=l.canonical.z-w:a.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const D=l.canonical.x-(l.canonical.x>>P<<P),$=l.canonical.y-(l.canonical.y>>P<<P),F=a.cb(new Float64Array(16),[1/(a.X<<P),1/(a.X<<P),0]);a.J(F,F,[D*a.X,$*a.X,0]),this._demMatrixCache[l.key]={matrix:F,coord:l}}return{u_depth:2,u_terrain:3,u_terrain_dim:f&&f.dem&&f.dem.dim||1,u_terrain_matrix:b?this._demMatrixCache[l.key].matrix:this._emptyDemMatrix,u_terrain_unpack:f&&f.dem&&f.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(f&&f.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:f}}getFramebuffer(l){const f=this.painter,b=f.width/devicePixelRatio,w=f.height/devicePixelRatio;return!this._fbo||this._fbo.width===b&&this._fbo.height===w||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new W(f.context,{width:b,height:w,data:null},f.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(f.context.gl.NEAREST,f.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new W(f.context,{width:b,height:w,data:null},f.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(f.context.gl.NEAREST,f.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=f.context.createFramebuffer(b,w,!0,!1),this._fbo.depthAttachment.set(f.context.createRenderbuffer(f.context.gl.DEPTH_COMPONENT16,b,w))),this._fbo.colorAttachment.set(l==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const l=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const f=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let P=0,D=0;P<this._coordsTextureSize;P++)for(let $=0;$<this._coordsTextureSize;$++,D+=4)f[D+0]=255&$,f[D+1]=255&P,f[D+2]=$>>8<<4|P>>8,f[D+3]=0;const b=new a.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(f.buffer)),w=new W(l,b,l.gl.RGBA,{premultiply:!1});return w.bind(l.gl.NEAREST,l.gl.CLAMP_TO_EDGE),this._coordsTexture=w,w}pointCoordinate(l){this.painter.maybeDrawDepthAndCoords(!0);const f=new Uint8Array(4),b=this.painter.context,w=b.gl,P=Math.round(l.x*this.painter.pixelRatio/devicePixelRatio),D=Math.round(l.y*this.painter.pixelRatio/devicePixelRatio),$=Math.round(this.painter.height/devicePixelRatio);b.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),w.readPixels(P,$-D-1,1,1,w.RGBA,w.UNSIGNED_BYTE,f),b.bindFramebuffer.set(null);const F=f[0]+(f[2]>>4<<8),H=f[1]+((15&f[2])<<8),q=this.coordsIndex[255-f[3]],Y=q&&this.sourceCache.getTileByID(q);if(!Y)return null;const J=this._coordsTextureSize,ce=(1<<Y.tileID.canonical.z)*J;return new a.Y((Y.tileID.canonical.x*J+F)/ce+Y.tileID.wrap,(Y.tileID.canonical.y*J+H)/ce,this.getElevation(Y.tileID,F,H,J))}depthAtPoint(l){const f=new Uint8Array(4),b=this.painter.context,w=b.gl;return b.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),w.readPixels(l.x,this.painter.height/devicePixelRatio-l.y-1,1,1,w.RGBA,w.UNSIGNED_BYTE,f),b.bindFramebuffer.set(null),(f[0]/16777216+f[1]/65536+f[2]/256+f[3])/256}getTerrainMesh(l){var f;const b=((f=this.painter.style.projection)===null||f===void 0?void 0:f.transitionState)>0,w=b&&l.canonical.y===0,P=b&&l.canonical.y===(1<<l.canonical.z)-1,D=`m_${w?"n":""}_${P?"s":""}`;if(this._meshCache[D])return this._meshCache[D];const $=this.painter.context,F=new a.cc,H=new a.aE,q=this.meshSize,Y=a.X/q,J=q*q;for(let He=0;He<=q;He++)for(let et=0;et<=q;et++)F.emplaceBack(et*Y,He*Y,0);for(let He=0;He<J;He+=q+1)for(let et=0;et<q;et++)H.emplaceBack(et+He,q+et+He+1,q+et+He+2),H.emplaceBack(et+He,q+et+He+2,et+He+1);const ce=F.length,de=ce+(q+1),Ce=(q+1)*q,Se=w?a.b6:0,Pe=w?0:1,Ie=P?a.b7:a.X,Oe=P?0:1;for(let He=0;He<=q;He++)F.emplaceBack(He*Y,Se,Pe);for(let He=0;He<=q;He++)F.emplaceBack(He*Y,Ie,Oe);for(let He=0;He<q;He++)H.emplaceBack(Ce+He,de+He,de+He+1),H.emplaceBack(Ce+He,de+He+1,Ce+He+1),H.emplaceBack(0+He,ce+He+1,ce+He),H.emplaceBack(0+He,0+He+1,ce+He+1);const $e=F.length,Fe=$e+2*(q+1);for(const He of[0,1])for(let et=0;et<=q;et++)for(const it of[0,1])F.emplaceBack(He*a.X,et*Y,it);for(let He=0;He<2*q;He+=2)H.emplaceBack($e+He,$e+He+1,$e+He+3),H.emplaceBack($e+He,$e+He+3,$e+He+2),H.emplaceBack(Fe+He,Fe+He+3,Fe+He+1),H.emplaceBack(Fe+He,Fe+He+2,Fe+He+3);const We=new ds($.createVertexBuffer(F,gs.members),$.createIndexBuffer(H),a.aD.simpleSegment(0,0,F.length,H.length));return this._meshCache[D]=We,We}getMeshFrameDelta(l){return 2*Math.PI*a.bo/Math.pow(2,Math.max(l,0))/5}getMinTileElevationForLngLatZoom(l,f){var b;const{tileID:w}=this._getOverscaledTileIDFromLngLatZoom(l,f);return(b=this.getMinMaxElevation(w).minElevation)!==null&&b!==void 0?b:0}getMinMaxElevation(l){const f=this.getTerrainData(l).tile,b={minElevation:null,maxElevation:null};return f&&f.dem&&(b.minElevation=f.dem.min*this.exaggeration,b.maxElevation=f.dem.max*this.exaggeration),b}_getOverscaledTileIDFromLngLatZoom(l,f){const b=a.Y.fromLngLat(l.wrap()),w=(1<<f)*a.X,P=b.x*w,D=b.y*w,$=Math.floor(P/a.X),F=Math.floor(D/a.X);return{tileID:new a.S(f,0,f,$,F),mercatorX:P,mercatorY:D}}}class ai{constructor(l,f,b){this._context=l,this._size=f,this._tileSize=b,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const l of this._objects)l.texture.destroy(),l.fbo.destroy()}_createObject(l){const f=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),b=new W(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return b.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),this._context.extTextureFilterAnisotropic&&this._context.gl.texParameterf(this._context.gl.TEXTURE_2D,this._context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._context.extTextureFilterAnisotropicMax),f.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),f.colorAttachment.set(b.texture),{id:l,fbo:f,texture:b,stamp:-1,inUse:!1}}getObjectForId(l){return this._objects[l]}useObject(l){l.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(f=>l.id!==f),this._recentlyUsed.push(l.id)}stampObject(l){l.stamp=++this._stamp}getOrCreateFreeObject(){for(const f of this._recentlyUsed)if(!this._objects[f].inUse)return this._objects[f];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const l=this._createObject(this._objects.length);return this._objects.push(l),l}freeObject(l){l.inUse=!1}freeAllObjects(){for(const l of this._objects)this.freeObject(l)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(l=>!l.inUse)===!1}}const Or={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class d1{constructor(l,f){this.painter=l,this.terrain=f,this.pool=new ai(l.context,30,f.sourceCache.tileSize*f.qualityFactor)}destruct(){this.pool.destruct()}getTexture(l){return this.pool.getObjectForId(l.rtt[this._stacks.length-1].id).texture}prepareForRender(l,f){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=l._order.filter(b=>!l._layers[b].isHidden(f)),this._coordsAscending={};for(const b in l.sourceCaches){this._coordsAscending[b]={};const w=l.sourceCaches[b].getVisibleCoordinates();for(const P of w){const D=this.terrain.sourceCache.getTerrainCoords(P);for(const $ in D)this._coordsAscending[b][$]||(this._coordsAscending[b][$]=[]),this._coordsAscending[b][$].push(D[$])}}this._coordsAscendingStr={};for(const b of l._order){const w=l._layers[b],P=w.source;if(Or[w.type]&&!this._coordsAscendingStr[P]){this._coordsAscendingStr[P]={};for(const D in this._coordsAscending[P])this._coordsAscendingStr[P][D]=this._coordsAscending[P][D].map($=>$.key).sort().join()}}for(const b of this._renderableTiles)for(const w in this._coordsAscendingStr){const P=this._coordsAscendingStr[w][b.tileID.key];P&&P!==b.rttCoords[w]&&(b.rtt=[])}}renderLayer(l,f){if(l.isHidden(this.painter.transform.zoom))return!1;const b=Object.assign(Object.assign({},f),{isRenderingToTexture:!0}),w=l.type,P=this.painter,D=this._renderableLayerIds[this._renderableLayerIds.length-1]===l.id;if(Or[w]&&(this._prevType&&Or[this._prevType]||this._stacks.push([]),this._prevType=w,this._stacks[this._stacks.length-1].push(l.id),!D))return!0;if(Or[this._prevType]||Or[w]&&D){this._prevType=w;const $=this._stacks.length-1,F=this._stacks[$]||[];for(const H of this._renderableTiles){if(this.pool.isFull()&&(zv(this.painter,this.terrain,this._rttTiles,b),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(H),H.rtt[$]){const Y=this.pool.getObjectForId(H.rtt[$].id);if(Y.stamp===H.rtt[$].stamp){this.pool.useObject(Y);continue}}const q=this.pool.getOrCreateFreeObject();this.pool.useObject(q),this.pool.stampObject(q),H.rtt[$]={id:q.id,stamp:q.stamp},P.context.bindFramebuffer.set(q.fbo.framebuffer),P.context.clear({color:a.b4.transparent,stencil:0}),P.currentStencilSource=void 0;for(let Y=0;Y<F.length;Y++){const J=P.style._layers[F[Y]],ce=J.source?this._coordsAscending[J.source][H.tileID.key]:[H.tileID];P.context.viewport.set([0,0,q.fbo.width,q.fbo.height]),P._renderTileClippingMasks(J,ce,!0),P.renderLayer(P,P.style.sourceCaches[J.source],J,ce,b),J.source&&(H.rttCoords[J.source]=this._coordsAscendingStr[J.source][H.tileID.key])}}return zv(this.painter,this.terrain,this._rttTiles,b),this._rttTiles=[],this.pool.freeAllObjects(),Or[w]}return!1}}const ld={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","GlobeControl.Enable":"Enable globe","GlobeControl.Disable":"Disable globe","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use ⌘ + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},Ap=c,Dp={hash:!1,interactive:!0,bearingSnap:7,attributionControl:Ip,maplibreLogo:!1,refreshExpiredTiles:!0,canvasContextAttributes:{antialias:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,desynchronized:!1,contextType:void 0},scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],elevation:0,zoom:0,bearing:0,pitch:0,roll:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:a.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,rollEnabled:!1,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0,centerClampedToGround:!0},Kv={showCompass:!0,showZoom:!0,visualizePitch:!1,visualizeRoll:!0};class Xv{constructor(l,f,b=!1){this.mousedown=P=>{this.startMove(P,v.mousePos(this.element,P)),v.addEventListener(window,"mousemove",this.mousemove),v.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=P=>{this.move(P,v.mousePos(this.element,P))},this.mouseup=P=>{this._rotatePitchHanlder.dragEnd(P),this.offTemp()},this.touchstart=P=>{P.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=v.touchPos(this.element,P.targetTouches)[0],this.startMove(P,this._startPos),v.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),v.addEventListener(window,"touchend",this.touchend))},this.touchmove=P=>{P.targetTouches.length!==1?this.reset():(this._lastPos=v.touchPos(this.element,P.targetTouches)[0],this.move(P,this._lastPos))},this.touchend=P=>{P.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this._rotatePitchHanlder.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10,this.element=f;const w=new rd;this._rotatePitchHanlder=new Dc({clickTolerance:3,move:(P,D)=>{const $=f.getBoundingClientRect(),F=new a.P(($.bottom-$.top)/2,($.right-$.left)/2);return{bearingDelta:a.c7(new a.P(P.x,D.y),D,F),pitchDelta:b?-.5*(D.y-P.y):void 0}},moveStateManager:w,enable:!0,assignEvents:()=>{}}),this.map=l,v.addEventListener(f,"mousedown",this.mousedown),v.addEventListener(f,"touchstart",this.touchstart,{passive:!1}),v.addEventListener(f,"touchcancel",this.reset)}startMove(l,f){this._rotatePitchHanlder.dragStart(l,f),v.disableDrag()}move(l,f){const b=this.map,{bearingDelta:w,pitchDelta:P}=this._rotatePitchHanlder.dragMove(l,f)||{};w&&b.setBearing(b.getBearing()+w),P&&b.setPitch(b.getPitch()+P)}off(){const l=this.element;v.removeEventListener(l,"mousedown",this.mousedown),v.removeEventListener(l,"touchstart",this.touchstart,{passive:!1}),v.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),v.removeEventListener(window,"touchend",this.touchend),v.removeEventListener(l,"touchcancel",this.reset),this.offTemp()}offTemp(){v.enableDrag(),v.removeEventListener(window,"mousemove",this.mousemove),v.removeEventListener(window,"mouseup",this.mouseup),v.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),v.removeEventListener(window,"touchend",this.touchend)}}let Va;function kp(T,l,f){const b=new a.N(T.lng,T.lat);if(T=new a.N(T.lng,T.lat),l){const w=new a.N(T.lng-360,T.lat),P=new a.N(T.lng+360,T.lat),D=f.locationToScreenPoint(T).distSqr(l);f.locationToScreenPoint(w).distSqr(l)<D?T=w:f.locationToScreenPoint(P).distSqr(l)<D&&(T=P)}for(;Math.abs(T.lng-f.center.lng)>180;){const w=f.locationToScreenPoint(T);if(w.x>=0&&w.y>=0&&w.x<=f.width&&w.y<=f.height)break;T.lng>f.center.lng?T.lng-=360:T.lng+=360}return T.lng!==b.lng&&f.isPointOnMapSurface(f.locationToScreenPoint(T))?T:b}const ud={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Op(T,l,f){const b=T.classList;for(const w in ud)b.remove(`maplibregl-${f}-anchor-${w}`);b.add(`maplibregl-${f}-anchor-${l}`)}class cd extends a.E{constructor(l){if(super(),this._onKeyPress=f=>{const b=f.code,w=f.charCode||f.keyCode;b!=="Space"&&b!=="Enter"&&w!==32&&w!==13||this.togglePopup()},this._onMapClick=f=>{const b=f.originalEvent.target,w=this._element;this._popup&&(b===w||w.contains(b))&&this.togglePopup()},this._update=f=>{var b;if(!this._map)return;const w=this._map.loaded()&&!this._map.isMoving();((f==null?void 0:f.type)==="terrain"||(f==null?void 0:f.type)==="render"&&!w)&&this._map.once("render",this._update),this._lngLat=this._map.transform.renderWorldCopies?kp(this._lngLat,this._flatPos,this._map.transform):(b=this._lngLat)===null||b===void 0?void 0:b.wrap(),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationToScreenPoint(this._lngLat)._add(this._offset));let P="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?P=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(P=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let D="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?D="rotateX(0deg)":this._pitchAlignment==="map"&&(D=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||f&&f.type!=="moveend"||(this._pos=this._pos.round()),v.setTransform(this._element,`${ud[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${D} ${P}`),y.frameAsync(new AbortController).then(()=>{this._updateOpacity(f&&f.type==="moveend")}).catch(()=>{})},this._onMove=f=>{if(!this._isDragging){const b=this._clickTolerance||this._map._clickTolerance;this._isDragging=f.point.dist(this._pointerdownPos)>=b}this._isDragging&&(this._pos=f.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.k("dragstart"))),this.fire(new a.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.k("dragend")),this._state="inactive"},this._addDragHandler=f=>{this._element.contains(f.originalEvent.target)&&(f.preventDefault(),this._positionDelta=f.point.sub(this._pos).add(this._offset),this._pointerdownPos=f.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=l&&l.anchor||"center",this._color=l&&l.color||"#3FB1CE",this._scale=l&&l.scale||1,this._draggable=l&&l.draggable||!1,this._clickTolerance=l&&l.clickTolerance||0,this._subpixelPositioning=l&&l.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=l&&l.rotation||0,this._rotationAlignment=l&&l.rotationAlignment||"auto",this._pitchAlignment=l&&l.pitchAlignment&&l.pitchAlignment!=="auto"?l.pitchAlignment:this._rotationAlignment,this.setOpacity(),this.setOpacity(l==null?void 0:l.opacity,l==null?void 0:l.opacityWhenCovered),l&&l.element)this._element=l.element,this._offset=a.P.convert(l&&l.offset||[0,0]);else{this._defaultMarker=!0,this._element=v.create("div");const f=v.createNS("http://www.w3.org/2000/svg","svg"),b=41,w=27;f.setAttributeNS(null,"display","block"),f.setAttributeNS(null,"height",`${b}px`),f.setAttributeNS(null,"width",`${w}px`),f.setAttributeNS(null,"viewBox",`0 0 ${w} ${b}`);const P=v.createNS("http://www.w3.org/2000/svg","g");P.setAttributeNS(null,"stroke","none"),P.setAttributeNS(null,"stroke-width","1"),P.setAttributeNS(null,"fill","none"),P.setAttributeNS(null,"fill-rule","evenodd");const D=v.createNS("http://www.w3.org/2000/svg","g");D.setAttributeNS(null,"fill-rule","nonzero");const $=v.createNS("http://www.w3.org/2000/svg","g");$.setAttributeNS(null,"transform","translate(3.0, 29.0)"),$.setAttributeNS(null,"fill","#000000");const F=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const Pe of F){const Ie=v.createNS("http://www.w3.org/2000/svg","ellipse");Ie.setAttributeNS(null,"opacity","0.04"),Ie.setAttributeNS(null,"cx","10.5"),Ie.setAttributeNS(null,"cy","5.80029008"),Ie.setAttributeNS(null,"rx",Pe.rx),Ie.setAttributeNS(null,"ry",Pe.ry),$.appendChild(Ie)}const H=v.createNS("http://www.w3.org/2000/svg","g");H.setAttributeNS(null,"fill",this._color);const q=v.createNS("http://www.w3.org/2000/svg","path");q.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),H.appendChild(q);const Y=v.createNS("http://www.w3.org/2000/svg","g");Y.setAttributeNS(null,"opacity","0.25"),Y.setAttributeNS(null,"fill","#000000");const J=v.createNS("http://www.w3.org/2000/svg","path");J.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Y.appendChild(J);const ce=v.createNS("http://www.w3.org/2000/svg","g");ce.setAttributeNS(null,"transform","translate(6.0, 7.0)"),ce.setAttributeNS(null,"fill","#FFFFFF");const de=v.createNS("http://www.w3.org/2000/svg","g");de.setAttributeNS(null,"transform","translate(8.0, 8.0)");const Ce=v.createNS("http://www.w3.org/2000/svg","circle");Ce.setAttributeNS(null,"fill","#000000"),Ce.setAttributeNS(null,"opacity","0.25"),Ce.setAttributeNS(null,"cx","5.5"),Ce.setAttributeNS(null,"cy","5.5"),Ce.setAttributeNS(null,"r","5.4999962");const Se=v.createNS("http://www.w3.org/2000/svg","circle");Se.setAttributeNS(null,"fill","#FFFFFF"),Se.setAttributeNS(null,"cx","5.5"),Se.setAttributeNS(null,"cy","5.5"),Se.setAttributeNS(null,"r","5.4999962"),de.appendChild(Ce),de.appendChild(Se),D.appendChild($),D.appendChild(H),D.appendChild(Y),D.appendChild(ce),D.appendChild(de),f.appendChild(D),f.setAttributeNS(null,"height",b*this._scale+"px"),f.setAttributeNS(null,"width",w*this._scale+"px"),this._element.appendChild(f),this._offset=a.P.convert(l&&l.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",f=>{f.preventDefault()}),this._element.addEventListener("mousedown",f=>{f.preventDefault()}),Op(this._element,this._anchor,"marker"),l&&l.className)for(const f of l.className.split(" "))this._element.classList.add(f);this._popup=null}addTo(l){return this.remove(),this._map=l,this._element.setAttribute("aria-label",l._getUIString("Marker.Title")),l.getCanvasContainer().appendChild(this._element),l.on("move",this._update),l.on("moveend",this._update),l.on("terrain",this._update),l.on("projectiontransition",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("projectiontransition",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),v.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(l){return this._lngLat=a.N.convert(l),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(l){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),l){if(!("offset"in l.options)){const w=Math.abs(13.5)/Math.SQRT2;l.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[w,-1*(38.1-13.5+w)],"bottom-right":[-w,-1*(38.1-13.5+w)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=l,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(l){return this._subpixelPositioning=l,this}getPopup(){return this._popup}togglePopup(){const l=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:l?(l.isOpen()?l.remove():(l.setLngLat(this._lngLat),l.addTo(this._map)),this):this}_updateOpacity(l=!1){var f,b;if(!(!((f=this._map)===null||f===void 0)&&f.terrain)){const Y=this._map.transform.isLocationOccluded(this._lngLat)?this._opacityWhenCovered:this._opacity;return void(this._element.style.opacity!==Y&&(this._element.style.opacity=Y))}if(l)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}const w=this._map,P=w.terrain.depthAtPoint(this._pos),D=w.terrain.getElevationForLngLatZoom(this._lngLat,w.transform.tileZoom);if(w.transform.lngLatToCameraDepth(this._lngLat,D)-P<.006)return void(this._element.style.opacity=this._opacity);const $=-this._offset.y/w.transform.pixelsPerMeter,F=Math.sin(w.getPitch()*Math.PI/180)*$,H=w.terrain.depthAtPoint(new a.P(this._pos.x,this._pos.y-this._offset.y)),q=w.transform.lngLatToCameraDepth(this._lngLat,D+F)-H>.006;!((b=this._popup)===null||b===void 0)&&b.isOpen()&&q&&this._popup.remove(),this._element.style.opacity=q?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(l){return this._offset=a.P.convert(l),this._update(),this}addClassName(l){this._element.classList.add(l)}removeClassName(l){this._element.classList.remove(l)}toggleClassName(l){return this._element.classList.toggle(l)}setDraggable(l){return this._draggable=!!l,this._map&&(l?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(l){return this._rotation=l||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(l){return this._rotationAlignment=l||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(l){return this._pitchAlignment=l&&l!=="auto"?l:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(l,f){return l===void 0&&f===void 0&&(this._opacity="1",this._opacityWhenCovered="0.2"),l!==void 0&&(this._opacity=l),f!==void 0&&(this._opacityWhenCovered=f),this._map&&this._updateOpacity(!0),this}}const Yv={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Oc=0,wu=!1;const Jv={maxWidth:100,unit:"metric"};function hd(T,l,f){const b=f&&f.maxWidth||100,w=T._container.clientHeight/2,P=T._container.clientWidth/2,D=T.unproject([P-b/2,w]),$=T.unproject([P+b/2,w]),F=Math.round(T.project($).x-T.project(D).x),H=Math.min(b,F,T._container.clientWidth),q=D.distanceTo($);if(f&&f.unit==="imperial"){const Y=3.2808*q;Y>5280?Su(l,H,Y/5280,T._getUIString("ScaleControl.Miles")):Su(l,H,Y,T._getUIString("ScaleControl.Feet"))}else f&&f.unit==="nautical"?Su(l,H,q/1852,T._getUIString("ScaleControl.NauticalMiles")):q>=1e3?Su(l,H,q/1e3,T._getUIString("ScaleControl.Kilometers")):Su(l,H,q,T._getUIString("ScaleControl.Meters"))}function Su(T,l,f,b){const w=function(P){const D=Math.pow(10,`${Math.floor(P)}`.length-1);let $=P/D;return $=$>=10?10:$>=5?5:$>=3?3:$>=2?2:$>=1?1:function(F){const H=Math.pow(10,Math.ceil(-Math.log(F)/Math.LN10));return Math.round(F*H)/H}($),D*$}(f);T.style.width=l*(w/f)+"px",T.innerHTML=`${w}&nbsp;${b}`}const Qv={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1},Rp=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Lp(T){if(T){if(typeof T=="number"){const l=Math.round(Math.abs(T)/Math.SQRT2);return{center:new a.P(0,0),top:new a.P(0,T),"top-left":new a.P(l,l),"top-right":new a.P(-l,l),bottom:new a.P(0,-T),"bottom-left":new a.P(l,-l),"bottom-right":new a.P(-l,-l),left:new a.P(T,0),right:new a.P(-T,0)}}if(T instanceof a.P||Array.isArray(T)){const l=a.P.convert(T);return{center:l,top:l,"top-left":l,"top-right":l,bottom:l,"bottom-left":l,"bottom-right":l,left:l,right:l}}return{center:a.P.convert(T.center||[0,0]),top:a.P.convert(T.top||[0,0]),"top-left":a.P.convert(T["top-left"]||[0,0]),"top-right":a.P.convert(T["top-right"]||[0,0]),bottom:a.P.convert(T.bottom||[0,0]),"bottom-left":a.P.convert(T["bottom-left"]||[0,0]),"bottom-right":a.P.convert(T["bottom-right"]||[0,0]),left:a.P.convert(T.left||[0,0]),right:a.P.convert(T.right||[0,0])}}return Lp(new a.P(0,0))}const ey=c;s.AJAXError=a.cg,s.Event=a.k,s.Evented=a.E,s.LngLat=a.N,s.MercatorCoordinate=a.Y,s.Point=a.P,s.addProtocol=a.ch,s.config=a.a,s.removeProtocol=a.ci,s.AttributionControl=Mp,s.BoxZoomHandler=a1,s.CanvasSource=Tt,s.CooperativeGesturesHandler=c1,s.DoubleClickZoomHandler=kr,s.DragPanHandler=Wv,s.DragRotateHandler=Zv,s.EdgeInsets=Zi,s.FullscreenControl=class extends a.E{constructor(T={}){super(),this._onFullscreenChange=()=>{var l;let f=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((l=f==null?void 0:f.shadowRoot)===null||l===void 0)&&l.fullscreenElement;)f=f.shadowRoot.fullscreenElement;f===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,T&&T.container&&(T.container instanceof HTMLElement?this._container=T.container:a.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(T){return this._map=T,this._container||(this._container=this._map.getContainer()),this._controlContainer=v.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){v.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const T=this._fullscreenButton=v.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);v.create("span","maplibregl-ctrl-icon",T).setAttribute("aria-hidden","true"),T.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const T=this._getTitle();this._fullscreenButton.setAttribute("aria-label",T),this._fullscreenButton.title=T}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new a.k("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new a.k("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},s.GeoJSONSource=Qe,s.GeolocateControl=class extends a.E{constructor(T){super(),this._onSuccess=l=>{if(this._map){if(this._isOutOfMapMaxBounds(l))return this._setErrorState(),this.fire(new a.k("outofmaxbounds",l)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=l,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(l),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(l),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new a.k("geolocate",l)),this._finish()}},this._updateCamera=l=>{const f=new a.N(l.coords.longitude,l.coords.latitude),b=l.coords.accuracy,w=this._map.getBearing(),P=a.e({bearing:w},this.options.fitBoundsOptions),D=ye.fromLngLat(f,b);this._map.fitBounds(D,P,{geolocateSource:!0})},this._updateMarker=l=>{if(l){const f=new a.N(l.coords.longitude,l.coords.latitude);this._accuracyCircleMarker.setLngLat(f).addTo(this._map),this._userLocationDotMarker.setLngLat(f).addTo(this._map),this._accuracy=l.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=l=>{if(this._map){if(this.options.trackUserLocation)if(l.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const f=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(l.code===3&&wu)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new a.k("error",l)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",l=>l.preventDefault()),this._geolocateButton=v.create("button","maplibregl-ctrl-geolocate",this._container),v.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=l=>{if(this._map){if(l===!1){a.w("Geolocation support is not available so the GeolocateControl will be disabled.");const f=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f)}else{const f=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=v.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new cd({element:this._dotElement}),this._circleElement=v.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new cd({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",f=>{f.geolocateSource||this._watchState!=="ACTIVE_LOCK"||f.originalEvent&&f.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new a.k("trackuserlocationend")),this.fire(new a.k("userlocationlostfocus")))})}},this.options=a.e({},Yv,T)}onAdd(T){return this._map=T,this._container=v.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),function(){return a._(this,arguments,void 0,function*(l=!1){if(Va!==void 0&&!l)return Va;if(window.navigator.permissions===void 0)return Va=!!window.navigator.geolocation,Va;try{Va=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{Va=!!window.navigator.geolocation}return Va})}().then(l=>this._finishSetupUI(l)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),v.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Oc=0,wu=!1}_isOutOfMapMaxBounds(T){const l=this._map.getMaxBounds(),f=T.coords;return l&&(f.longitude<l.getWest()||f.longitude>l.getEast()||f.latitude<l.getSouth()||f.latitude>l.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const T=this._map.getBounds(),l=T.getSouthEast(),f=T.getNorthEast(),b=l.distanceTo(f),w=Math.ceil(this._accuracy/(b/this._map._container.clientHeight)*2);this._circleElement.style.width=`${w}px`,this._circleElement.style.height=`${w}px`}trigger(){if(!this._setup)return a.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Oc--,wu=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new a.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.k("trackuserlocationstart")),this.fire(new a.k("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let T;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Oc++,Oc>1?(T={maximumAge:6e5,timeout:0},wu=!0):(T=this.options.positionOptions,wu=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,T)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},s.GlobeControl=class{constructor(){this._toggleProjection=()=>{var T;const l=(T=this._map.getProjection())===null||T===void 0?void 0:T.type;this._map.setProjection(l!=="mercator"&&l?{type:"mercator"}:{type:"globe"}),this._updateGlobeIcon()},this._updateGlobeIcon=()=>{var T;this._globeButton.classList.remove("maplibregl-ctrl-globe"),this._globeButton.classList.remove("maplibregl-ctrl-globe-enabled"),((T=this._map.getProjection())===null||T===void 0?void 0:T.type)==="globe"?(this._globeButton.classList.add("maplibregl-ctrl-globe-enabled"),this._globeButton.title=this._map._getUIString("GlobeControl.Disable")):(this._globeButton.classList.add("maplibregl-ctrl-globe"),this._globeButton.title=this._map._getUIString("GlobeControl.Enable"))}}onAdd(T){return this._map=T,this._container=v.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._globeButton=v.create("button","maplibregl-ctrl-globe",this._container),v.create("span","maplibregl-ctrl-icon",this._globeButton).setAttribute("aria-hidden","true"),this._globeButton.type="button",this._globeButton.addEventListener("click",this._toggleProjection),this._updateGlobeIcon(),this._map.on("styledata",this._updateGlobeIcon),this._container}onRemove(){v.remove(this._container),this._map.off("styledata",this._updateGlobeIcon),this._globeButton.removeEventListener("click",this._toggleProjection),this._map=void 0}},s.Hash=Nv,s.ImageSource=lt,s.KeyboardHandler=Uv,s.LngLatBounds=ye,s.LogoControl=wo,s.Map=class extends Ep{constructor(T){var l,f;a.cd.mark(a.ce.create);const b=Object.assign(Object.assign(Object.assign({},Dp),T),{canvasContextAttributes:Object.assign(Object.assign({},Dp.canvasContextAttributes),T.canvasContextAttributes)});if(b.minZoom!=null&&b.maxZoom!=null&&b.minZoom>b.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(b.minPitch!=null&&b.maxPitch!=null&&b.minPitch>b.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(b.minPitch!=null&&b.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(b.maxPitch!=null&&b.maxPitch>180)throw new Error("maxPitch must be less than or equal to 180");const w=new co,P=new zh;if(b.minZoom!==void 0&&w.setMinZoom(b.minZoom),b.maxZoom!==void 0&&w.setMaxZoom(b.maxZoom),b.minPitch!==void 0&&w.setMinPitch(b.minPitch),b.maxPitch!==void 0&&w.setMaxPitch(b.maxPitch),b.renderWorldCopies!==void 0&&w.setRenderWorldCopies(b.renderWorldCopies),super(w,P,{bearingSnap:b.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new h1,this._controls=[],this._mapId=a.a1(),this._contextLost=$=>{$.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new a.k("webglcontextlost",{originalEvent:$}))},this._contextRestored=$=>{this._setupPainter(),this.resize(),this._update(),this.fire(new a.k("webglcontextrestored",{originalEvent:$}))},this._onMapScroll=$=>{if($.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=b.interactive,this._maxTileCacheSize=b.maxTileCacheSize,this._maxTileCacheZoomLevels=b.maxTileCacheZoomLevels,this._canvasContextAttributes=Object.assign({},b.canvasContextAttributes),this._trackResize=b.trackResize===!0,this._bearingSnap=b.bearingSnap,this._centerClampedToGround=b.centerClampedToGround,this._refreshExpiredTiles=b.refreshExpiredTiles===!0,this._fadeDuration=b.fadeDuration,this._crossSourceCollisions=b.crossSourceCollisions===!0,this._collectResourceTiming=b.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},ld),b.locale),this._clickTolerance=b.clickTolerance,this._overridePixelRatio=b.pixelRatio,this._maxCanvasSize=b.maxCanvasSize,this.transformCameraUpdate=b.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=b.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=z.addThrottleControl(()=>this.isMoving()),this._requestManager=new V(b.transformRequest),typeof b.container=="string"){if(this._container=document.getElementById(b.container),!this._container)throw new Error(`Container '${b.container}' not found.`)}else{if(!(b.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=b.container}if(b.maxBounds&&this.setMaxBounds(b.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let $=!1;const F=Fv(H=>{this._trackResize&&!this._removed&&(this.resize(H),this.redraw())},50);this._resizeObserver=new ResizeObserver(H=>{$?F(H):$=!0}),this._resizeObserver.observe(this._container)}this.handlers=new yn(this,b),this._hash=b.hash&&new Nv(typeof b.hash=="string"&&b.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:b.center,elevation:b.elevation,zoom:b.zoom,bearing:b.bearing,pitch:b.pitch,roll:b.roll}),b.bounds&&(this.resize(),this.fitBounds(b.bounds,a.e({},b.fitBoundsOptions,{duration:0}))));const D=typeof b.style=="string"||((f=(l=b.style)===null||l===void 0?void 0:l.projection)===null||f===void 0?void 0:f.type)!=="globe";this.resize(null,D),this._localIdeographFontFamily=b.localIdeographFontFamily,this._validateStyle=b.validateStyle,b.style&&this.setStyle(b.style,{localIdeographFontFamily:b.localIdeographFontFamily}),b.attributionControl&&this.addControl(new Mp(typeof b.attributionControl=="boolean"?void 0:b.attributionControl)),b.maplibreLogo&&this.addControl(new wo,b.logoPosition),this.on("style.load",()=>{if(D||this._resizeTransform(),this.transform.unmodified){const $=a.M(this.style.stylesheet,["center","zoom","bearing","pitch","roll"]);this.jumpTo($)}}),this.on("data",$=>{this._update($.dataType==="style"),this.fire(new a.k(`${$.dataType}data`,$))}),this.on("dataloading",$=>{this.fire(new a.k(`${$.dataType}dataloading`,$))}),this.on("dataabort",$=>{this.fire(new a.k("sourcedataabort",$))})}_getMapId(){return this._mapId}addControl(T,l){if(l===void 0&&(l=T.getDefaultPosition?T.getDefaultPosition():"top-right"),!T||!T.onAdd)return this.fire(new a.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const f=T.onAdd(this);this._controls.push(T);const b=this._controlPositions[l];return l.indexOf("bottom")!==-1?b.insertBefore(f,b.firstChild):b.appendChild(f),this}removeControl(T){if(!T||!T.onRemove)return this.fire(new a.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const l=this._controls.indexOf(T);return l>-1&&this._controls.splice(l,1),T.onRemove(this),this}hasControl(T){return this._controls.indexOf(T)>-1}calculateCameraOptionsFromTo(T,l,f,b){return b==null&&this.terrain&&(b=this.terrain.getElevationForLngLatZoom(f,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(T,l,f,b)}resize(T,l=!0){const[f,b]=this._containerDimensions(),w=this._getClampedPixelRatio(f,b);if(this._resizeCanvas(f,b,w),this.painter.resize(f,b,w),this.painter.overLimit()){const D=this.painter.context.gl;this._maxCanvasSize=[D.drawingBufferWidth,D.drawingBufferHeight];const $=this._getClampedPixelRatio(f,b);this._resizeCanvas(f,b,$),this.painter.resize(f,b,$)}this._resizeTransform(l);const P=!this._moving;return P&&(this.stop(),this.fire(new a.k("movestart",T)).fire(new a.k("move",T))),this.fire(new a.k("resize",T)),P&&this.fire(new a.k("moveend",T)),this}_resizeTransform(T=!0){var l;const[f,b]=this._containerDimensions();this.transform.resize(f,b,T),(l=this._requestedCameraState)===null||l===void 0||l.resize(f,b,T)}_getClampedPixelRatio(T,l){const{0:f,1:b}=this._maxCanvasSize,w=this.getPixelRatio(),P=T*w,D=l*w;return Math.min(P>f?f/P:1,D>b?b/D:1)*w}getPixelRatio(){var T;return(T=this._overridePixelRatio)!==null&&T!==void 0?T:devicePixelRatio}setPixelRatio(T){this._overridePixelRatio=T,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(T){return this.transform.setMaxBounds(ye.convert(T)),this._update()}setMinZoom(T){if((T=T??-2)>=-2&&T<=this.transform.maxZoom)return this.transform.setMinZoom(T),this._update(),this.getZoom()<T&&this.setZoom(T),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(T){if((T=T??22)>=this.transform.minZoom)return this.transform.setMaxZoom(T),this._update(),this.getZoom()>T&&this.setZoom(T),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(T){if((T=T??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(T>=0&&T<=this.transform.maxPitch)return this.transform.setMinPitch(T),this._update(),this.getPitch()<T&&this.setPitch(T),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(T){if((T=T??60)>180)throw new Error("maxPitch must be less than or equal to 180");if(T>=this.transform.minPitch)return this.transform.setMaxPitch(T),this._update(),this.getPitch()>T&&this.setPitch(T),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(T){return this.transform.setRenderWorldCopies(T),this._update()}project(T){return this.transform.locationToScreenPoint(a.N.convert(T),this.style&&this.terrain)}unproject(T){return this.transform.screenPointToLocation(a.P.convert(T),this.terrain)}isMoving(){var T;return this._moving||((T=this.handlers)===null||T===void 0?void 0:T.isMoving())}isZooming(){var T;return this._zooming||((T=this.handlers)===null||T===void 0?void 0:T.isZooming())}isRotating(){var T;return this._rotating||((T=this.handlers)===null||T===void 0?void 0:T.isRotating())}_createDelegatedListener(T,l,f){if(T==="mouseenter"||T==="mouseover"){let b=!1;return{layers:l,listener:f,delegates:{mousemove:P=>{const D=l.filter(F=>this.getLayer(F)),$=D.length!==0?this.queryRenderedFeatures(P.point,{layers:D}):[];$.length?b||(b=!0,f.call(this,new Lo(T,this,P.originalEvent,{features:$}))):b=!1},mouseout:()=>{b=!1}}}}if(T==="mouseleave"||T==="mouseout"){let b=!1;return{layers:l,listener:f,delegates:{mousemove:D=>{const $=l.filter(F=>this.getLayer(F));($.length!==0?this.queryRenderedFeatures(D.point,{layers:$}):[]).length?b=!0:b&&(b=!1,f.call(this,new Lo(T,this,D.originalEvent)))},mouseout:D=>{b&&(b=!1,f.call(this,new Lo(T,this,D.originalEvent)))}}}}{const b=w=>{const P=l.filter($=>this.getLayer($)),D=P.length!==0?this.queryRenderedFeatures(w.point,{layers:P}):[];D.length&&(w.features=D,f.call(this,w),delete w.features)};return{layers:l,listener:f,delegates:{[T]:b}}}}_saveDelegatedListener(T,l){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[T]=this._delegatedListeners[T]||[],this._delegatedListeners[T].push(l)}_removeDelegatedListener(T,l,f){if(!this._delegatedListeners||!this._delegatedListeners[T])return;const b=this._delegatedListeners[T];for(let w=0;w<b.length;w++){const P=b[w];if(P.listener===f&&P.layers.length===l.length&&P.layers.every(D=>l.includes(D))){for(const D in P.delegates)this.off(D,P.delegates[D]);return void b.splice(w,1)}}}on(T,l,f){if(f===void 0)return super.on(T,l);const b=typeof l=="string"?[l]:l,w=this._createDelegatedListener(T,b,f);this._saveDelegatedListener(T,w);for(const P in w.delegates)this.on(P,w.delegates[P]);return{unsubscribe:()=>{this._removeDelegatedListener(T,b,f)}}}once(T,l,f){if(f===void 0)return super.once(T,l);const b=typeof l=="string"?[l]:l,w=this._createDelegatedListener(T,b,f);for(const P in w.delegates){const D=w.delegates[P];w.delegates[P]=(...$)=>{this._removeDelegatedListener(T,b,f),D(...$)}}this._saveDelegatedListener(T,w);for(const P in w.delegates)this.once(P,w.delegates[P]);return this}off(T,l,f){return f===void 0?super.off(T,l):(this._removeDelegatedListener(T,typeof l=="string"?[l]:l,f),this)}queryRenderedFeatures(T,l){if(!this.style)return[];let f;const b=T instanceof a.P||Array.isArray(T),w=b?T:[[0,0],[this.transform.width,this.transform.height]];if(l=l||(b?{}:T)||{},w instanceof a.P||typeof w[0]=="number")f=[a.P.convert(w)];else{const P=a.P.convert(w[0]),D=a.P.convert(w[1]);f=[P,new a.P(D.x,P.y),D,new a.P(P.x,D.y),P]}return this.style.queryRenderedFeatures(f,l,this.transform)}querySourceFeatures(T,l){return this.style.querySourceFeatures(T,l)}setStyle(T,l){return(l=a.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},l)).diff!==!1&&l.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&T?(this._diffStyle(T,l),this):(this._localIdeographFontFamily=l.localIdeographFontFamily,this._updateStyle(T,l))}setTransformRequest(T){return this._requestManager.setTransformRequest(T),this}_getUIString(T){const l=this._locale[T];if(l==null)throw new Error(`Missing UI string '${T}'`);return l}_updateStyle(T,l){var f,b;if(l.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(T,l));const w=this.style&&l.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!T)),T?(this.style=new av(this,l||{}),this.style.setEventedParent(this,{style:this.style}),typeof T=="string"?this.style.loadURL(T,l,w):this.style.loadJSON(T,l,w),this):((b=(f=this.style)===null||f===void 0?void 0:f.projection)===null||b===void 0||b.destroy(),delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new av(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(T,l){if(typeof T=="string"){const f=this._requestManager.transformRequest(T,"Style");a.h(f,new AbortController).then(b=>{this._updateDiff(b.data,l)}).catch(b=>{b&&this.fire(new a.j(b))})}else typeof T=="object"&&this._updateDiff(T,l)}_updateDiff(T,l){try{this.style.setState(T,l)&&this._update(!0)}catch(f){a.w(`Unable to perform style diff: ${f.message||f.error||f}.  Rebuilding the style from scratch.`),this._updateStyle(T,l)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():a.w("There is no style added to the map.")}addSource(T,l){return this._lazyInitEmptyStyle(),this.style.addSource(T,l),this._update(!0)}isSourceLoaded(T){const l=this.style&&this.style.sourceCaches[T];if(l!==void 0)return l.loaded();this.fire(new a.j(new Error(`There is no source with ID '${T}'`)))}setTerrain(T){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),T){const l=this.style.sourceCaches[T.source];if(!l)throw new Error(`cannot load terrain, because there exists no source with ID: ${T.source}`);this.terrain===null&&l.reload();for(const f in this.style._layers){const b=this.style._layers[f];b.type==="hillshade"&&b.source===T.source&&a.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new sd(this.painter,l,T),this.painter.renderToTexture=new d1(this.painter,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._terrainDataCallback=f=>{f.dataType==="style"?this.terrain.sourceCache.freeRtt():f.dataType==="source"&&f.tile&&(f.sourceId!==T.source||this._elevationFreeze||(this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))),this.terrain.sourceCache.freeRtt(f.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0);return this.fire(new a.k("terrain",{terrain:T})),this}getTerrain(){var T,l;return(l=(T=this.terrain)===null||T===void 0?void 0:T.options)!==null&&l!==void 0?l:null}areTilesLoaded(){const T=this.style&&this.style.sourceCaches;for(const l in T){const f=T[l]._tiles;for(const b in f){const w=f[b];if(w.state!=="loaded"&&w.state!=="errored")return!1}}return!0}removeSource(T){return this.style.removeSource(T),this._update(!0)}getSource(T){return this.style.getSource(T)}addImage(T,l,f={}){const{pixelRatio:b=1,sdf:w=!1,stretchX:P,stretchY:D,content:$,textFitWidth:F,textFitHeight:H}=f;if(this._lazyInitEmptyStyle(),!(l instanceof HTMLImageElement||a.b(l))){if(l.width===void 0||l.height===void 0)return this.fire(new a.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:q,height:Y,data:J}=l,ce=l;return this.style.addImage(T,{data:new a.R({width:q,height:Y},new Uint8Array(J)),pixelRatio:b,stretchX:P,stretchY:D,content:$,textFitWidth:F,textFitHeight:H,sdf:w,version:0,userImage:ce}),ce.onAdd&&ce.onAdd(this,T),this}}{const{width:q,height:Y,data:J}=y.getImageData(l);this.style.addImage(T,{data:new a.R({width:q,height:Y},J),pixelRatio:b,stretchX:P,stretchY:D,content:$,textFitWidth:F,textFitHeight:H,sdf:w,version:0})}}updateImage(T,l){const f=this.style.getImage(T);if(!f)return this.fire(new a.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const b=l instanceof HTMLImageElement||a.b(l)?y.getImageData(l):l,{width:w,height:P,data:D}=b;if(w===void 0||P===void 0)return this.fire(new a.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(w!==f.data.width||P!==f.data.height)return this.fire(new a.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const $=!(l instanceof HTMLImageElement||a.b(l));return f.data.replace(D,$),this.style.updateImage(T,f),this}getImage(T){return this.style.getImage(T)}hasImage(T){return T?!!this.style.getImage(T):(this.fire(new a.j(new Error("Missing required image id"))),!1)}removeImage(T){this.style.removeImage(T)}loadImage(T){return z.getImage(this._requestManager.transformRequest(T,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(T,l){return this._lazyInitEmptyStyle(),this.style.addLayer(T,l),this._update(!0)}moveLayer(T,l){return this.style.moveLayer(T,l),this._update(!0)}removeLayer(T){return this.style.removeLayer(T),this._update(!0)}getLayer(T){return this.style.getLayer(T)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(T,l,f){return this.style.setLayerZoomRange(T,l,f),this._update(!0)}setFilter(T,l,f={}){return this.style.setFilter(T,l,f),this._update(!0)}getFilter(T){return this.style.getFilter(T)}setPaintProperty(T,l,f,b={}){return this.style.setPaintProperty(T,l,f,b),this._update(!0)}getPaintProperty(T,l){return this.style.getPaintProperty(T,l)}setLayoutProperty(T,l,f,b={}){return this.style.setLayoutProperty(T,l,f,b),this._update(!0)}getLayoutProperty(T,l){return this.style.getLayoutProperty(T,l)}setGlyphs(T,l={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(T,l),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(T,l,f={}){return this._lazyInitEmptyStyle(),this.style.addSprite(T,l,f,b=>{b||this._update(!0)}),this}removeSprite(T){return this._lazyInitEmptyStyle(),this.style.removeSprite(T),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(T,l={}){return this._lazyInitEmptyStyle(),this.style.setSprite(T,l,f=>{f||this._update(!0)}),this}setLight(T,l={}){return this._lazyInitEmptyStyle(),this.style.setLight(T,l),this._update(!0)}getLight(){return this.style.getLight()}setSky(T,l={}){return this._lazyInitEmptyStyle(),this.style.setSky(T,l),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(T,l){return this.style.setFeatureState(T,l),this._update()}removeFeatureState(T,l){return this.style.removeFeatureState(T,l),this._update()}getFeatureState(T){return this.style.getFeatureState(T)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let T=0,l=0;return this._container&&(T=this._container.clientWidth||400,l=this._container.clientHeight||300),[T,l]}_setupContainer(){const T=this._container;T.classList.add("maplibregl-map");const l=this._canvasContainer=v.create("div","maplibregl-canvas-container",T);this._interactive&&l.classList.add("maplibregl-interactive"),this._canvas=v.create("canvas","maplibregl-canvas",l),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const f=this._containerDimensions(),b=this._getClampedPixelRatio(f[0],f[1]);this._resizeCanvas(f[0],f[1],b);const w=this._controlContainer=v.create("div","maplibregl-control-container",T),P=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(D=>{P[D]=v.create("div",`maplibregl-ctrl-${D} `,w)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(T,l,f){this._canvas.width=Math.floor(f*T),this._canvas.height=Math.floor(f*l),this._canvas.style.width=`${T}px`,this._canvas.style.height=`${l}px`}_setupPainter(){const T=Object.assign(Object.assign({},this._canvasContextAttributes),{alpha:!0,depth:!0,stencil:!0,premultipliedAlpha:!0});let l=null;this._canvas.addEventListener("webglcontextcreationerror",b=>{l={requestedAttributes:T},b&&(l.statusMessage=b.statusMessage,l.type=b.type)},{once:!0});let f=null;if(f=this._canvasContextAttributes.contextType?this._canvas.getContext(this._canvasContextAttributes.contextType,T):this._canvas.getContext("webgl2",T)||this._canvas.getContext("webgl",T),!f){const b="Failed to initialize WebGL";throw l?(l.message=b,new Error(JSON.stringify(l))):new Error(b)}this.painter=new bu(f,this.transform),x.testSupport(f)}migrateProjection(T,l){super.migrateProjection(T,l),this.painter.transform=T,this.fire(new a.k("projectiontransition",{newProjection:this.style.projection.name}))}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(T){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||T,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(T){return this._update(),this._renderTaskQueue.add(T)}_cancelRenderFrame(T){this._renderTaskQueue.remove(T)}_render(T){var l,f,b,w,P;const D=this._idleTriggered?this._fadeDuration:0,$=((l=this.style.projection)===null||l===void 0?void 0:l.transitionState)>0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(T),this._removed)return;let F=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const Y=this.transform.zoom,J=y.now();this.style.zoomHistory.update(Y,J);const ce=new a.z(Y,{now:J,fadeDuration:D,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),de=ce.crossFadingFactor();de===1&&de===this._crossFadingFactor||(F=!0,this._crossFadingFactor=de),this.style.update(ce)}const H=((f=this.style.projection)===null||f===void 0?void 0:f.transitionState)>0!==$;(b=this.style.projection)===null||b===void 0||b.setErrorQueryLatitudeDegrees(this.transform.center.lat),this.transform.setTransitionState((w=this.style.projection)===null||w===void 0?void 0:w.transitionState,(P=this.style.projection)===null||P===void 0?void 0:P.latitudeErrorCorrectionRadians),this.style&&(this._sourcesDirty||H)&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),!this._elevationFreeze&&this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0)),this._placementDirty=this.style&&this.style._updatePlacement(this.transform,this.showCollisionBoxes,D,this._crossSourceCollisions,H),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:D,showPadding:this.showPadding}),this.fire(new a.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,a.cd.mark(a.ce.load),this.fire(new a.k("load"))),this.style&&(this.style.hasTransitions()||F)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const q=this._sourcesDirty||this._styleDirty||this._placementDirty;return q||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.k("idle")),!this._loaded||this._fullyLoaded||q||(this._fullyLoaded=!0,a.cd.mark(a.ce.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var T;this._hash&&this._hash.remove();for(const f of this._controls)f.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),z.removeThrottleControl(this._imageQueueHandle),(T=this._resizeObserver)===null||T===void 0||T.disconnect();const l=this.painter.context.gl.getExtension("WEBGL_lose_context");l!=null&&l.loseContext&&l.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),v.remove(this._canvasContainer),v.remove(this._controlContainer),this._container.removeEventListener("scroll",this._onMapScroll,!1),this._container.classList.remove("maplibregl-map"),a.cd.clearMetrics(),this._removed=!0,this.fire(new a.k("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,y.frameAsync(this._frameRequest).then(T=>{a.cd.frame(T),this._frameRequest=null,this._render(T)}).catch(T=>{if(!a.cf(T)&&!function(l){return l.message===Kh}(T))throw T}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(T){this._showTileBoundaries!==T&&(this._showTileBoundaries=T,this._update())}get showPadding(){return!!this._showPadding}set showPadding(T){this._showPadding!==T&&(this._showPadding=T,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(T){this._showCollisionBoxes!==T&&(this._showCollisionBoxes=T,T?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(T){this._showOverdrawInspector!==T&&(this._showOverdrawInspector=T,this._update())}get repaint(){return!!this._repaint}set repaint(T){this._repaint!==T&&(this._repaint=T,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(T){this._vertices=T,this._update()}get version(){return Ap}getCameraTargetElevation(){return this.transform.elevation}getProjection(){return this.style.getProjection()}setProjection(T){return this._lazyInitEmptyStyle(),this.style.setProjection(T),this._update(!0)}},s.MapMouseEvent=Lo,s.MapTouchEvent=$o,s.MapWheelEvent=xu,s.Marker=cd,s.NavigationControl=class{constructor(T){this._updateZoomButtons=()=>{const l=this._map.getZoom(),f=l===this._map.getMaxZoom(),b=l===this._map.getMinZoom();this._zoomInButton.disabled=f,this._zoomOutButton.disabled=b,this._zoomInButton.setAttribute("aria-disabled",f.toString()),this._zoomOutButton.setAttribute("aria-disabled",b.toString())},this._rotateCompassArrow=()=>{this._compassIcon.style.transform=this.options.visualizePitch&&this.options.visualizeRoll?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateZ(${-this._map.transform.roll}deg) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizeRoll?`rotate(${-this._map.transform.bearing-this._map.transform.roll}deg)`:`rotate(${-this._map.transform.bearing}deg)`},this._setButtonTitle=(l,f)=>{const b=this._map._getUIString(`NavigationControl.${f}`);l.title=b,l.setAttribute("aria-label",b)},this.options=a.e({},Kv,T),this._container=v.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",l=>l.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",l=>this._map.zoomIn({},{originalEvent:l})),v.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",l=>this._map.zoomOut({},{originalEvent:l})),v.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",l=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:l}):this._map.resetNorth({},{originalEvent:l})}),this._compassIcon=v.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(T){return this._map=T,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.on("roll",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Xv(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){v.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.off("roll",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(T,l){const f=v.create("button",T,this._container);return f.type="button",f.addEventListener("click",l),f}},s.Popup=class extends a.E{constructor(T){super(),this.remove=()=>(this._content&&v.remove(this._content),this._container&&(v.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new a.k("close"))),this),this._onMouseUp=l=>{this._update(l.point)},this._onMouseMove=l=>{this._update(l.point)},this._onDrag=l=>{this._update(l.point)},this._update=l=>{var f;if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=v.create("div","maplibregl-popup",this._map.getContainer()),this._tip=v.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const $ of this.options.className.split(" "))this._container.classList.add($);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=this._map.transform.renderWorldCopies&&!this._trackPointer?kp(this._lngLat,this._flatPos,this._map.transform):(f=this._lngLat)===null||f===void 0?void 0:f.wrap(),this._trackPointer&&!l)return;const b=this._flatPos=this._pos=this._trackPointer&&l?l:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&l?l:this._map.transform.locationToScreenPoint(this._lngLat));let w=this.options.anchor;const P=Lp(this.options.offset);if(!w){const $=this._container.offsetWidth,F=this._container.offsetHeight;let H;H=b.y+P.bottom.y<F?["top"]:b.y>this._map.transform.height-F?["bottom"]:[],b.x<$/2?H.push("left"):b.x>this._map.transform.width-$/2&&H.push("right"),w=H.length===0?"bottom":H.join("-")}let D=b.add(P[w]);this.options.subpixelPositioning||(D=D.round()),v.setTransform(this._container,`${ud[w]} translate(${D.x}px,${D.y}px)`),Op(this._container,w,"popup")},this._onClose=()=>{this.remove()},this.options=a.e(Object.create(Qv),T)}addTo(T){return this._map&&this.remove(),this._map=T,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new a.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(T){return this._lngLat=a.N.convert(T),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(T){return this.setDOMContent(document.createTextNode(T))}setHTML(T){const l=document.createDocumentFragment(),f=document.createElement("body");let b;for(f.innerHTML=T;b=f.firstChild,b;)l.appendChild(b);return this.setDOMContent(l)}getMaxWidth(){var T;return(T=this._container)===null||T===void 0?void 0:T.style.maxWidth}setMaxWidth(T){return this.options.maxWidth=T,this._update(),this}setDOMContent(T){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=v.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(T),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(T){return this._container&&this._container.classList.add(T),this}removeClassName(T){return this._container&&this._container.classList.remove(T),this}setOffset(T){return this.options.offset=T,this._update(),this}toggleClassName(T){if(this._container)return this._container.classList.toggle(T)}setSubpixelPositioning(T){this.options.subpixelPositioning=T}_createCloseButton(){this.options.closeButton&&(this._closeButton=v.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const T=this._container.querySelector(Rp);T&&T.focus()}},s.RasterDEMTileSource=Xe,s.RasterTileSource=st,s.ScaleControl=class{constructor(T){this._onMove=()=>{hd(this._map,this._container,this.options)},this.setUnit=l=>{this.options.unit=l,hd(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},Jv),T)}getDefaultPosition(){return"bottom-left"}onAdd(T){return this._map=T,this._container=v.create("div","maplibregl-ctrl maplibregl-ctrl-scale",T.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){v.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},s.ScrollZoomHandler=qs,s.Style=av,s.TerrainControl=class{constructor(T){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=T}onAdd(T){return this._map=T,this._container=v.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=v.create("button","maplibregl-ctrl-terrain",this._container),v.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){v.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},s.TwoFingersTouchPitchHandler=Hv,s.TwoFingersTouchRotateHandler=jv,s.TwoFingersTouchZoomHandler=s1,s.TwoFingersTouchZoomRotateHandler=qv,s.VectorTileSource=ht,s.VideoSource=St,s.addSourceType=(T,l)=>a._(void 0,void 0,void 0,function*(){if(Ft(T))throw new Error(`A source type called "${T}" already exists.`);((f,b)=>{Wt[f]=b})(T,l)}),s.clearPrewarmedResources=function(){const T=Bt;T&&(T.isPreloaded()&&T.numActive()===1?(T.release(ot),Bt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},s.createTileMesh=xc,s.getMaxParallelImageRequests=function(){return a.a.MAX_PARALLEL_IMAGE_REQUESTS},s.getRTLTextPluginStatus=function(){return En().getRTLTextPluginStatus()},s.getVersion=function(){return ey},s.getWorkerCount=function(){return tt.workerCount},s.getWorkerUrl=function(){return a.a.WORKER_URL},s.importScriptInWorkers=function(T){return ut().broadcast("IS",T)},s.prewarm=function(){Yt().acquire(ot)},s.setMaxParallelImageRequests=function(T){a.a.MAX_PARALLEL_IMAGE_REQUESTS=T},s.setRTLTextPlugin=function(T,l){return En().setRTLTextPlugin(T,l)},s.setWorkerCount=function(T){tt.workerCount=T},s.setWorkerUrl=function(T){a.a.WORKER_URL=T}});var o=n;return o})}(Sw)),Sw.exports}var mPe=pPe();const Ji=Kwe(mPe);var Ka=63710088e-1,gPe={centimeters:Ka*100,centimetres:Ka*100,degrees:360/(2*Math.PI),feet:Ka*3.28084,inches:Ka*39.37,kilometers:Ka/1e3,kilometres:Ka/1e3,meters:Ka,metres:Ka,miles:Ka/1609.344,millimeters:Ka*1e3,millimetres:Ka*1e3,nauticalmiles:Ka/1852,radians:1,yards:Ka*1.0936};function xS(e,t,n={}){const r={type:"Feature"};return(n.id===0||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function Nl(e,t,n={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!i6(e[0])||!i6(e[1]))throw new Error("coordinates must contain numbers");return xS({type:"Point",coordinates:e},t,n)}function vPe(e,t,n={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return xS({type:"LineString",coordinates:e},t,n)}function yPe(e,t="kilometers"){const n=gPe[t];if(!n)throw new Error(t+" units is invalid");return e*n}function eA(e){return e%(2*Math.PI)*180/Math.PI}function Xu(e){return e%360*Math.PI/180}function i6(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function Vl(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return[...e.geometry.coordinates];if(e.type==="Point")return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function _Pe(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Zu(e,t,n={}){var r=Vl(e),i=Vl(t),o=Xu(i[1]-r[1]),s=Xu(i[0]-r[0]),a=Xu(r[1]),c=Xu(i[1]),h=Math.pow(Math.sin(o/2),2)+Math.pow(Math.sin(s/2),2)*Math.cos(a)*Math.cos(c);return yPe(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)),n.units)}function GW(e,t,n={}){let r;return n.final?r=o6(Vl(t),Vl(e)):r=o6(Vl(e),Vl(t)),r>180?-(360-r):r}function o6(e,t){const n=Xu(e[1]),r=Xu(t[1]);let i=Xu(t[0]-e[0]);i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI);const o=Math.log(Math.tan(r/2+Math.PI/4)/Math.tan(n/2+Math.PI/4)),s=Math.atan2(i,o);return(eA(s)+360)%360}function WW(e,t,n){if(e!==null)for(var r,i,o,s,a,c,h,d=0,g=0,y,v=e.type,x=v==="FeatureCollection",C=v==="Feature",I=x?e.features.length:1,A=0;A<I;A++){h=x?e.features[A].geometry:C?e.geometry:e,y=h?h.type==="GeometryCollection":!1,a=y?h.geometries.length:1;for(var k=0;k<a;k++){var R=0,z=0;if(s=y?h.geometries[k]:h,s!==null){c=s.coordinates;var V=s.type;switch(d=0,V){case null:break;case"Point":if(t(c,g,A,R,z)===!1)return!1;g++,R++;break;case"LineString":case"MultiPoint":for(r=0;r<c.length;r++){if(t(c[r],g,A,R,z)===!1)return!1;g++,V==="MultiPoint"&&R++}V==="LineString"&&R++;break;case"Polygon":case"MultiLineString":for(r=0;r<c.length;r++){for(i=0;i<c[r].length-d;i++){if(t(c[r][i],g,A,R,z)===!1)return!1;g++}V==="MultiLineString"&&R++,V==="Polygon"&&z++}V==="Polygon"&&R++;break;case"MultiPolygon":for(r=0;r<c.length;r++){for(z=0,i=0;i<c[r].length;i++){for(o=0;o<c[r][i].length-d;o++){if(t(c[r][i][o],g,A,R,z)===!1)return!1;g++}z++}R++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(WW(s.geometries[r],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function bPe(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var n=0;n<e.features.length&&t(e.features[n],n)!==!1;n++);}function xPe(e,t){var n,r,i,o,s,a,c,h,d,g,y=0,v=e.type==="FeatureCollection",x=e.type==="Feature",C=v?e.features.length:1;for(n=0;n<C;n++){for(a=v?e.features[n].geometry:x?e.geometry:e,h=v?e.features[n].properties:x?e.properties:{},d=v?e.features[n].bbox:x?e.bbox:void 0,g=v?e.features[n].id:x?e.id:void 0,c=a?a.type==="GeometryCollection":!1,s=c?a.geometries.length:1,i=0;i<s;i++){if(o=c?a.geometries[i]:a,o===null){if(t(null,y,h,d,g)===!1)return!1;continue}switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(o,y,h,d,g)===!1)return!1;break}case"GeometryCollection":{for(r=0;r<o.geometries.length;r++)if(t(o.geometries[r],y,h,d,g)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}y++}}function ZW(e,t){xPe(e,function(n,r,i,o,s){var a=n===null?null:n.type;switch(a){case null:case"Point":case"LineString":case"Polygon":return t(xS(n,i,{bbox:o,id:s}),r,0)===!1?!1:void 0}var c;switch(a){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon";break}for(var h=0;h<n.coordinates.length;h++){var d=n.coordinates[h],g={type:c,coordinates:d};if(t(xS(g,i),r,h)===!1)return!1}})}function wPe(e,t){ZW(e,function(n,r,i){var o=0;if(n.geometry){var s=n.geometry.type;if(!(s==="Point"||s==="MultiPoint")){var a,c=0,h=0,d=0;if(WW(n,function(g,y,v,x,C){if(a===void 0||r>c||x>h||C>d){a=g,c=r,h=x,d=C,o=0;return}var I=vPe([a,g],n.properties);if(t(I,r,i,C,o)===!1)return!1;o++,a=g})===!1)return!1}}})}function SPe(e,t,n){var r=n,i=!1;return wPe(e,function(o,s,a,c,h){i===!1&&n===void 0?r=o:r=t(r,o,s,a,c,h),i=!0}),r}var CPe=Object.defineProperty,TPe=Object.defineProperties,PPe=Object.getOwnPropertyDescriptors,a6=Object.getOwnPropertySymbols,EPe=Object.prototype.hasOwnProperty,IPe=Object.prototype.propertyIsEnumerable,s6=(e,t,n)=>t in e?CPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,l6=(e,t)=>{for(var n in t||(t={}))EPe.call(t,n)&&s6(e,n,t[n]);if(a6)for(var n of a6(t))IPe.call(t,n)&&s6(e,n,t[n]);return e},u6=(e,t)=>TPe(e,PPe(t));function Lu(e,t,n={}){if(!e||!t)throw new Error("lines and pt are required arguments");const r=Vl(t);let i=Nl([1/0,1/0],{dist:1/0,index:-1,multiFeatureIndex:-1,location:-1}),o=0;return ZW(e,function(s,a,c){const h=_Pe(s);for(let d=0;d<h.length-1;d++){const g=Nl(h[d]);g.properties.dist=Zu(t,g,n);const y=Vl(g),v=Nl(h[d+1]);v.properties.dist=Zu(t,v,n);const x=Vl(v),C=Zu(g,v,n);let I,A;y[0]===r[0]&&y[1]===r[1]?[I,,A]=[y,void 0,!1]:x[0]===r[0]&&x[1]===r[1]?[I,,A]=[x,void 0,!0]:[I,,A]=DPe(g.geometry.coordinates,v.geometry.coordinates,Vl(t));let k;I&&(k=Nl(I,{dist:Zu(t,I,n),multiFeatureIndex:c,location:o+Zu(g,I,n)})),k&&k.properties.dist<i.properties.dist&&(i=u6(l6({},k),{properties:u6(l6({},k.properties),{index:A?d+1:d})})),o+=C}}),i}function MPe(e,t){const[n,r,i]=e,[o,s,a]=t;return n*o+r*s+i*a}function APe(e,t){const[n,r,i]=e,[o,s,a]=t;return[r*a-i*s,i*o-n*a,n*s-r*o]}function c6(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2))}function Td(e,t){const n=MPe(e,t)/(c6(e)*c6(t));return Math.acos(Math.min(Math.max(n,-1),1))}function KP(e){const t=Xu(e[1]),n=Xu(e[0]);return[Math.cos(t)*Math.cos(n),Math.cos(t)*Math.sin(n),Math.sin(t)]}function Pd(e){const[t,n,r]=e,i=eA(Math.asin(r));return[eA(Math.atan2(n,t)),i]}function DPe(e,t,n){const r=KP(e),i=KP(t),o=KP(n),[s,a,c]=o,[h,d,g]=APe(r,i),y=d*c-g*a,v=g*s-h*c,x=h*a-d*s,C=x*d-v*g,I=y*g-x*h,A=v*h-y*d,k=1/Math.sqrt(Math.pow(C,2)+Math.pow(I,2)+Math.pow(A,2)),R=[C*k,I*k,A*k],z=[-1*C*k,-1*I*k,-1*A*k],V=Td(r,i),U=Td(r,R),N=Td(i,R),W=Td(r,z),X=Td(i,z);let K;return U<W&&U<X||N<W&&N<X?K=R:K=z,Td(r,K)>V||Td(i,K)>V?Zu(Pd(K),Pd(r))<=Zu(Pd(K),Pd(i))?[Pd(r),!0,!1]:[Pd(i),!1,!0]:[Pd(K),!1,!1]}function kPe(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return qW(e);case"FeatureCollection":return OPe(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return SO(e);default:throw new Error("unknown GeoJSON type")}}function qW(e){const t={type:"Feature"};return Object.keys(e).forEach(n=>{switch(n){case"type":case"properties":case"geometry":return;default:t[n]=e[n]}}),t.properties=KW(e.properties),e.geometry==null?t.geometry=null:t.geometry=SO(e.geometry),t}function KW(e){const t={};return e&&Object.keys(e).forEach(n=>{const r=e[n];typeof r=="object"?r===null?t[n]=null:Array.isArray(r)?t[n]=r.map(i=>i):t[n]=KW(r):t[n]=r}),t}function OPe(e){const t={type:"FeatureCollection"};return Object.keys(e).forEach(n=>{switch(n){case"type":case"features":return;default:t[n]=e[n]}}),t.features=e.features.map(n=>qW(n)),t}function SO(e){const t={type:e.type};return e.bbox&&(t.bbox=e.bbox),e.type==="GeometryCollection"?(t.geometries=e.geometries.map(n=>SO(n)),t):(t.coordinates=XW(e.coordinates),t)}function XW(e){const t=e;return typeof t[0]!="object"?t.slice():t.map(n=>XW(n))}function $u(e,t={}){return SPe(e,(n,r)=>{const i=r.geometry.coordinates;return n+Zu(i[0],i[1],t)},0)}var RPe=Object.defineProperty,LPe=Object.defineProperties,$Pe=Object.getOwnPropertyDescriptors,h6=Object.getOwnPropertySymbols,zPe=Object.prototype.hasOwnProperty,BPe=Object.prototype.propertyIsEnumerable,d6=(e,t,n)=>t in e?RPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f6=(e,t)=>{for(var n in t||(t={}))zPe.call(t,n)&&d6(e,n,t[n]);if(h6)for(var n of h6(t))BPe.call(t,n)&&d6(e,n,t[n]);return e},p6=(e,t)=>LPe(e,$Pe(t));function m6(e,t,n={}){if(!e)throw new Error("targetPoint is required");if(!t)throw new Error("points is required");let r=1/0,i=0;bPe(t,(s,a)=>{const c=Zu(e,s,n);c<r&&(i=a,r=c)});const o=kPe(t.features[i]);return p6(f6({},o),{properties:p6(f6({},o.properties),{featureIndex:i,distanceToPoint:r})})}var FPe=Object.defineProperty,F_=Math.pow,Fr=(e,t)=>FPe(e,"name",{value:t,configurable:!0}),vo=(e,t,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(h){i(h)}},s=c=>{try{a(n.throw(c))}catch(h){i(h)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(e,t)).next())});Fr((e,t)=>{let n=!1,r="",i=L.GridLayer.extend({createTile:Fr((o,s)=>{let a=document.createElement("img"),c=new AbortController,h=c.signal;return a.cancel=()=>{c.abort()},n||(e.getHeader().then(d=>{d.tileType===1?console.error("Error: archive contains MVT vector tiles, but leafletRasterLayer is for displaying raster tiles. See https://github.com/protomaps/PMTiles/tree/main/js for details."):d.tileType===2?r="image/png":d.tileType===3?r="image/jpeg":d.tileType===4?r="image/webp":d.tileType===5&&(r="image/avif")}),n=!0),e.getZxy(o.z,o.x,o.y,h).then(d=>{if(d){let g=new Blob([d.data],{type:r}),y=window.URL.createObjectURL(g);a.src=y,a.cancel=void 0,s(void 0,a)}}).catch(d=>{if(d.name!=="AbortError")throw d}),a},"createTile"),_removeTile:Fr(function(o){let s=this._tiles[o];s&&(s.el.cancel&&s.el.cancel(),s.el.width=0,s.el.height=0,s.el.deleted=!0,L.DomUtil.remove(s.el),delete this._tiles[o],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(o)}))},"_removeTile")});return new i(t)},"leafletRasterLayer");var NPe=Fr(e=>(t,n)=>{if(n instanceof AbortController)return e(t,n);let r=new AbortController;return e(t,r).then(i=>n(void 0,i.data,i.cacheControl||"",i.expires||""),i=>n(i)).catch(i=>n(i)),{cancel:Fr(()=>r.abort(),"cancel")}},"v3compat"),YW=class{constructor(t){this.tilev4=Fr((n,r)=>vo(this,null,function*(){if(n.type==="json"){let v=n.url.substr(10),x=this.tiles.get(v);if(x||(x=new g6(v),this.tiles.set(v,x)),this.metadata)return{data:yield x.getTileJson(n.url)};let C=yield x.getHeader();return(C.minLon>=C.maxLon||C.minLat>=C.maxLat)&&console.error(`Bounds of PMTiles archive ${C.minLon},${C.minLat},${C.maxLon},${C.maxLat} are not valid.`),{data:{tiles:[`${n.url}/{z}/{x}/{y}`],minzoom:C.minZoom,maxzoom:C.maxZoom,bounds:[C.minLon,C.minLat,C.maxLon,C.maxLat]}}}let i=new RegExp(/pmtiles:\/\/(.+)\/(\d+)\/(\d+)\/(\d+)/),o=n.url.match(i);if(!o)throw new Error("Invalid PMTiles protocol URL");let s=o[1],a=this.tiles.get(s);a||(a=new g6(s),this.tiles.set(s,a));let c=o[2],h=o[3],d=o[4],g=yield a.getHeader(),y=yield a==null?void 0:a.getZxy(+c,+h,+d,r.signal);if(y)return{data:new Uint8Array(y.data),cacheControl:y.cacheControl,expires:y.expires};if(g.tileType===1){if(this.errorOnMissingTile)throw new Error("Tile not found.");return{data:new Uint8Array}}return{data:null}}),"tilev4"),this.tile=NPe(this.tilev4),this.tiles=new Map,this.metadata=(t==null?void 0:t.metadata)||!1,this.errorOnMissingTile=(t==null?void 0:t.errorOnMissingTile)||!1}add(t){this.tiles.set(t.source.getKey(),t)}get(t){return this.tiles.get(t)}};Fr(YW,"Protocol");var JW=YW;function QW(e,t){return(t>>>0)*4294967296+(e>>>0)}Fr(QW,"toNum");function eZ(e,t){let n=t.buf,r=n[t.pos++],i=(r&112)>>4;if(r<128||(r=n[t.pos++],i|=(r&127)<<3,r<128)||(r=n[t.pos++],i|=(r&127)<<10,r<128)||(r=n[t.pos++],i|=(r&127)<<17,r<128)||(r=n[t.pos++],i|=(r&127)<<24,r<128)||(r=n[t.pos++],i|=(r&1)<<31,r<128))return QW(e,i);throw new Error("Expected varint not more than 10 bytes")}Fr(eZ,"readVarintRemainder");function bm(e){let t=e.buf,n=t[e.pos++],r=n&127;return n<128||(n=t[e.pos++],r|=(n&127)<<7,n<128)||(n=t[e.pos++],r|=(n&127)<<14,n<128)||(n=t[e.pos++],r|=(n&127)<<21,n<128)?r:(n=t[e.pos],r|=(n&15)<<28,eZ(r,e))}Fr(bm,"readVarint");function CO(e,t,n,r){if(r===0){n===1&&(t[0]=e-1-t[0],t[1]=e-1-t[1]);let i=t[0];t[0]=t[1],t[1]=i}}Fr(CO,"rotate");function tZ(e,t){let n=F_(2,e),r=t,i=t,o=t,s=[0,0],a=1;for(;a<n;)r=1&o/2,i=1&(o^r),CO(a,s,r,i),s[0]+=a*r,s[1]+=a*i,o=o/4,a*=2;return[e,s[0],s[1]]}Fr(tZ,"idOnLevel");var VPe=[0,1,5,21,85,341,1365,5461,21845,87381,349525,1398101,5592405,22369621,89478485,357913941,1431655765,5726623061,22906492245,91625968981,366503875925,1466015503701,5864062014805,23456248059221,93824992236885,375299968947541,0x5555555555555];function nZ(e,t,n){if(e>26)throw new Error("Tile zoom level exceeds max safe number limit (26)");if(t>F_(2,e)-1||n>F_(2,e)-1)throw new Error("tile x/y outside zoom level bounds");let r=VPe[e],i=F_(2,e),o=0,s=0,a=0,c=[t,n],h=i/2;for(;h>0;)o=(c[0]&h)>0?1:0,s=(c[1]&h)>0?1:0,a+=h*h*(3*o^s),CO(h,c,o,s),h=h/2;return r+a}Fr(nZ,"zxyToTileId");function jPe(e){let t=0;for(let n=0;n<27;n++){let r=(1<<n)*(1<<n);if(t+r>e)return tZ(n,e-t);t+=r}throw new Error("Tile zoom level exceeds max safe number limit (26)")}Fr(jPe,"tileIdToZxy");var HPe=(e=>(e[e.Unknown=0]="Unknown",e[e.None=1]="None",e[e.Gzip=2]="Gzip",e[e.Brotli=3]="Brotli",e[e.Zstd=4]="Zstd",e))(HPe||{});function U2(e,t){return vo(this,null,function*(){if(t===1||t===0)return e;if(t===2){if(typeof globalThis.DecompressionStream>"u")return Fie(new Uint8Array(e));let n=new Response(e).body;if(!n)throw new Error("Failed to read response stream");let r=n.pipeThrough(new globalThis.DecompressionStream("gzip"));return new Response(r).arrayBuffer()}throw new Error("Compression method not supported")})}Fr(U2,"defaultDecompress");var UPe=(e=>(e[e.Unknown=0]="Unknown",e[e.Mvt=1]="Mvt",e[e.Png=2]="Png",e[e.Jpeg=3]="Jpeg",e[e.Webp=4]="Webp",e[e.Avif=5]="Avif",e))(UPe||{});function rZ(e){return e===1?".mvt":e===2?".png":e===3?".jpg":e===4?".webp":e===5?".avif":""}Fr(rZ,"tileTypeExt");var GPe=127;function iZ(e,t){let n=0,r=e.length-1;for(;n<=r;){let i=r+n>>1,o=t-e[i].tileId;if(o>0)n=i+1;else if(o<0)r=i-1;else return e[i]}return r>=0&&(e[r].runLength===0||t-e[r].tileId<e[r].runLength)?e[r]:null}Fr(iZ,"findTile");var WPe=class{constructor(t){this.file=t}getKey(){return this.file.name}getBytes(t,n){return vo(this,null,function*(){return{data:yield this.file.slice(t,t+n).arrayBuffer()}})}};Fr(WPe,"FileSource");var oZ=class{constructor(t,n=new Headers){this.url=t,this.customHeaders=n,this.mustReload=!1;let r="";"navigator"in globalThis&&(r=globalThis.navigator.userAgent||"");let i=r.indexOf("Windows")>-1,o=/Chrome|Chromium|Edg|OPR|Brave/.test(r);this.chromeWindowsNoCache=!1,i&&o&&(this.chromeWindowsNoCache=!0)}getKey(){return this.url}setHeaders(t){this.customHeaders=t}getBytes(t,n,r,i){return vo(this,null,function*(){let o,s;r?s=r:(o=new AbortController,s=o.signal);let a=new Headers(this.customHeaders);a.set("range",`bytes=${t}-${t+n-1}`);let c;this.mustReload?c="reload":this.chromeWindowsNoCache&&(c="no-store");let h=yield fetch(this.url,{signal:s,cache:c,headers:a});if(t===0&&h.status===416){let y=h.headers.get("Content-Range");if(!y||!y.startsWith("bytes */"))throw new Error("Missing content-length on 416 response");let v=+y.substr(8);h=yield fetch(this.url,{signal:s,cache:"reload",headers:{range:`bytes=0-${v-1}`}})}let d=h.headers.get("Etag");if(d!=null&&d.startsWith("W/")&&(d=null),h.status===416||i&&d&&d!==i)throw this.mustReload=!0,new tA(`Server returned non-matching ETag ${i} after one retry. Check browser extensions and servers for issues that may affect correct ETag headers.`);if(h.status>=300)throw new Error(`Bad response code: ${h.status}`);let g=h.headers.get("Content-Length");if(h.status===200&&(!g||+g>n))throw o&&o.abort(),new Error("Server returned no content-length header or content-length exceeding request. Check that your storage backend supports HTTP Byte Serving.");return{data:yield h.arrayBuffer(),etag:d||void 0,cacheControl:h.headers.get("Cache-Control")||void 0,expires:h.headers.get("Expires")||void 0}})}};Fr(oZ,"FetchSource");var ZPe=oZ;function Ps(e,t){let n=e.getUint32(t+4,!0),r=e.getUint32(t+0,!0);return n*F_(2,32)+r}Fr(Ps,"getUint64");function aZ(e,t){let n=new DataView(e),r=n.getUint8(7);if(r>3)throw new Error(`Archive is spec version ${r} but this library supports up to spec version 3`);return{specVersion:r,rootDirectoryOffset:Ps(n,8),rootDirectoryLength:Ps(n,16),jsonMetadataOffset:Ps(n,24),jsonMetadataLength:Ps(n,32),leafDirectoryOffset:Ps(n,40),leafDirectoryLength:Ps(n,48),tileDataOffset:Ps(n,56),tileDataLength:Ps(n,64),numAddressedTiles:Ps(n,72),numTileEntries:Ps(n,80),numTileContents:Ps(n,88),clustered:n.getUint8(96)===1,internalCompression:n.getUint8(97),tileCompression:n.getUint8(98),tileType:n.getUint8(99),minZoom:n.getUint8(100),maxZoom:n.getUint8(101),minLon:n.getInt32(102,!0)/1e7,minLat:n.getInt32(106,!0)/1e7,maxLon:n.getInt32(110,!0)/1e7,maxLat:n.getInt32(114,!0)/1e7,centerZoom:n.getUint8(118),centerLon:n.getInt32(119,!0)/1e7,centerLat:n.getInt32(123,!0)/1e7,etag:t}}Fr(aZ,"bytesToHeader");function TO(e){let t={buf:new Uint8Array(e),pos:0},n=bm(t),r=[],i=0;for(let o=0;o<n;o++){let s=bm(t);r.push({tileId:i+s,offset:0,length:0,runLength:1}),i+=s}for(let o=0;o<n;o++)r[o].runLength=bm(t);for(let o=0;o<n;o++)r[o].length=bm(t);for(let o=0;o<n;o++){let s=bm(t);s===0&&o>0?r[o].offset=r[o-1].offset+r[o-1].length:r[o].offset=s-1}return r}Fr(TO,"deserializeIndex");var sZ=class extends Error{};Fr(sZ,"EtagMismatch");var tA=sZ;function PO(e,t){return vo(this,null,function*(){let n=yield e.getBytes(0,16384);if(new DataView(n.data).getUint16(0,!0)!==19792)throw new Error("Wrong magic number for PMTiles archive");let r=n.data.slice(0,GPe),i=aZ(r,n.etag),o=n.data.slice(i.rootDirectoryOffset,i.rootDirectoryOffset+i.rootDirectoryLength),s=`${e.getKey()}|${i.etag||""}|${i.rootDirectoryOffset}|${i.rootDirectoryLength}`,a=TO(yield t(o,i.internalCompression));return[i,[s,a.length,a]]})}Fr(PO,"getHeaderAndRoot");function EO(e,t,n,r,i){return vo(this,null,function*(){let o=yield e.getBytes(n,r,void 0,i.etag),s=yield t(o.data,i.internalCompression),a=TO(s);if(a.length===0)throw new Error("Empty directory is invalid");return a})}Fr(EO,"getDirectory");var qPe=class{constructor(t=100,n=!0,r=U2){this.cache=new Map,this.maxCacheEntries=t,this.counter=1,this.decompress=r}getHeader(t){return vo(this,null,function*(){let n=t.getKey(),r=this.cache.get(n);if(r)return r.lastUsed=this.counter++,r.data;let i=yield PO(t,this.decompress);return i[1]&&this.cache.set(i[1][0],{lastUsed:this.counter++,data:i[1][2]}),this.cache.set(n,{lastUsed:this.counter++,data:i[0]}),this.prune(),i[0]})}getDirectory(t,n,r,i){return vo(this,null,function*(){let o=`${t.getKey()}|${i.etag||""}|${n}|${r}`,s=this.cache.get(o);if(s)return s.lastUsed=this.counter++,s.data;let a=yield EO(t,this.decompress,n,r,i);return this.cache.set(o,{lastUsed:this.counter++,data:a}),this.prune(),a})}prune(){if(this.cache.size>this.maxCacheEntries){let t=1/0,n;this.cache.forEach((r,i)=>{r.lastUsed<t&&(t=r.lastUsed,n=i)}),n&&this.cache.delete(n)}}invalidate(t){return vo(this,null,function*(){this.cache.delete(t.getKey())})}};Fr(qPe,"ResolvedValueCache");var lZ=class{constructor(t=100,n=!0,r=U2){this.cache=new Map,this.invalidations=new Map,this.maxCacheEntries=t,this.counter=1,this.decompress=r}getHeader(t){return vo(this,null,function*(){let n=t.getKey(),r=this.cache.get(n);if(r)return r.lastUsed=this.counter++,yield r.data;let i=new Promise((o,s)=>{PO(t,this.decompress).then(a=>{a[1]&&this.cache.set(a[1][0],{lastUsed:this.counter++,data:Promise.resolve(a[1][2])}),o(a[0]),this.prune()}).catch(a=>{s(a)})});return this.cache.set(n,{lastUsed:this.counter++,data:i}),i})}getDirectory(t,n,r,i){return vo(this,null,function*(){let o=`${t.getKey()}|${i.etag||""}|${n}|${r}`,s=this.cache.get(o);if(s)return s.lastUsed=this.counter++,yield s.data;let a=new Promise((c,h)=>{EO(t,this.decompress,n,r,i).then(d=>{c(d),this.prune()}).catch(d=>{h(d)})});return this.cache.set(o,{lastUsed:this.counter++,data:a}),a})}prune(){if(this.cache.size>=this.maxCacheEntries){let t=1/0,n;this.cache.forEach((r,i)=>{r.lastUsed<t&&(t=r.lastUsed,n=i)}),n&&this.cache.delete(n)}}invalidate(t){return vo(this,null,function*(){let n=t.getKey();if(this.invalidations.get(n))return yield this.invalidations.get(n);this.cache.delete(t.getKey());let r=new Promise((i,o)=>{this.getHeader(t).then(s=>{i(),this.invalidations.delete(n)}).catch(s=>{o(s)})});this.invalidations.set(n,r)})}};Fr(lZ,"SharedPromiseCache");var KPe=lZ,uZ=class{constructor(t,n,r){typeof t=="string"?this.source=new ZPe(t):this.source=t,r?this.decompress=r:this.decompress=U2,n?this.cache=n:this.cache=new KPe}getHeader(){return vo(this,null,function*(){return yield this.cache.getHeader(this.source)})}getZxyAttempt(t,n,r,i){return vo(this,null,function*(){let o=nZ(t,n,r),s=yield this.cache.getHeader(this.source);if(t<s.minZoom||t>s.maxZoom)return;let a=s.rootDirectoryOffset,c=s.rootDirectoryLength;for(let h=0;h<=3;h++){let d=yield this.cache.getDirectory(this.source,a,c,s),g=iZ(d,o);if(g){if(g.runLength>0){let y=yield this.source.getBytes(s.tileDataOffset+g.offset,g.length,i,s.etag);return{data:yield this.decompress(y.data,s.tileCompression),cacheControl:y.cacheControl,expires:y.expires}}a=s.leafDirectoryOffset+g.offset,c=g.length}else return}throw new Error("Maximum directory depth exceeded")})}getZxy(t,n,r,i){return vo(this,null,function*(){try{return yield this.getZxyAttempt(t,n,r,i)}catch(o){if(o instanceof tA)return this.cache.invalidate(this.source),yield this.getZxyAttempt(t,n,r,i);throw o}})}getMetadataAttempt(){return vo(this,null,function*(){let t=yield this.cache.getHeader(this.source),n=yield this.source.getBytes(t.jsonMetadataOffset,t.jsonMetadataLength,void 0,t.etag),r=yield this.decompress(n.data,t.internalCompression),i=new TextDecoder("utf-8");return JSON.parse(i.decode(r))})}getMetadata(){return vo(this,null,function*(){try{return yield this.getMetadataAttempt()}catch(t){if(t instanceof tA)return this.cache.invalidate(this.source),yield this.getMetadataAttempt();throw t}})}getTileJson(t){return vo(this,null,function*(){let n=yield this.getHeader(),r=yield this.getMetadata(),i=rZ(n.tileType);return{tilejson:"3.0.0",scheme:"xyz",tiles:[`${t}/{z}/{x}/{y}${i}`],vector_layers:r.vector_layers,attribution:r.attribution,description:r.description,name:r.name,version:r.version,bounds:[n.minLon,n.minLat,n.maxLon,n.maxLat],center:[n.centerLon,n.centerLat,n.centerZoom],minzoom:n.minZoom,maxzoom:n.maxZoom}})}};Fr(uZ,"PMTiles");var g6=uZ;const XPe={name:"MyMap",data:()=>({map_style_url:"https://bus.sustcra.com/static/protomaps/pmtiles-style/pmtiles-light.json",map_text_colour:"#000000",bus_location_data_api:[],bus_location_data_display:[],geojson_line_1:[[113.99739584160139,22.610765716856296],[113.99773288526481,22.610577804306548],[113.99824514560808,22.609808813574297],[113.99899240486543,22.608186143427105],[113.99899684055141,22.608138484311375],[113.99876376465981,22.606584405046835],[113.9987454049567,22.606539955896604],[113.9983737643716,22.606046923598996],[113.99771305207776,22.60586005946536],[113.996462081496,22.60628164325351],[113.99540699384544,22.60655007340282],[113.99537457846512,22.606374521317747],[113.99533345805837,22.60631869878032],[113.99491868014185,22.60615102642152],[113.99446803578164,22.605922922486105],[113.993628105381,22.605432281601264],[113.99361283376653,22.605399929510398],[113.99427914343141,22.604297776694622],[113.99455101208882,22.604066349285663],[113.99481121659123,22.60381079129223],[113.99549648383878,22.60304833084697],[113.99570726599393,22.60298417975627],[113.99623267681147,22.60298349183956],[113.99686127008054,22.603078201644227],[113.9977201426685,22.603401409146592],[113.99788215074415,22.603408536156227],[113.99794417914393,22.60338145776082],[113.9980463074806,22.603268395934986],[113.99816665521513,22.602614977726315],[113.99835030416712,22.60216721735362],[113.99856193554633,22.601842951121434],[113.99881928525701,22.6015215956419],[113.9988344317295,22.601194082723367],[113.99895072783376,22.600790214181995],[113.9990602569799,22.600602634774226],[113.99921879840926,22.600476730796977],[113.99919877407567,22.60043325336671],[113.99802751236375,22.600038565633355],[113.99775839514615,22.599792681543633],[113.99730187808832,22.598960946075003],[113.99590977592047,22.5977773063799],[113.99576459924215,22.59751983095157],[113.99543299558397,22.59717440812865],[113.9951938686417,22.5966914370548],[113.99501583215859,22.59639577584673],[113.99463229185628,22.596104860560743],[113.99420385593578,22.595969591352997],[113.99378584507669,22.595967937443213],[113.99320018866534,22.59621976224022],[113.99265363550316,22.596738860232236],[113.99200633643709,22.59716671060916],[113.99157366427197,22.5971462468509],[113.99088482201618,22.596941863390235],[113.99038484213679,22.596998494112995],[113.99032102143205,22.597043977909916],[113.99019829041364,22.59753578294312],[113.99030286538937,22.59863964935582],[113.99048378356784,22.59907317753902],[113.99052006299269,22.59911721823263],[113.99075599101839,22.599276010611053],[113.99126127611241,22.599535900836155],[113.9917686585336,22.6000105337692],[113.99191211157755,22.60053218120178],[113.99183362959826,22.601016496848214],[113.99144872111891,22.60153952301182],[113.99077751816642,22.602118998056795],[113.99043902651476,22.60239072790739],[113.99010219314502,22.60332391993846]],geojson_line_2:[[113.9973489079054,22.61067741494136],[113.9976555155949,22.61051444868976],[113.9981618912118,22.60975341767644],[113.9988979465801,22.60815331611633],[113.9986648706885,22.60659923685179],[113.9983207115444,22.60613169032316],[113.9977156537446,22.60596002561628],[113.9964905851169,22.6063775771138],[113.9953277666447,22.60667341560261],[113.995278497141,22.60640224097063],[113.9934784038899,22.60548092977822],[113.99386414857948,22.604784676421257],[113.99419945106074,22.60426804504929],[113.99385306765333,22.603677155592816],[113.99298710913483,22.60350336409337],[113.99279885728298,22.603280910653833],[113.99233952276445,22.60296808489611],[113.99204584987558,22.60262745159568],[113.9915262747645,22.601612498395962],[113.9917196221943,22.601431625928],[113.9919172423369,22.60102266627295],[113.9920105698998,22.6005318195689],[113.9918969233072,22.59993661748595],[113.9914596783045,22.59960492109923]],gate_geojson:{},stations_geojson:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[113.9902,22.60336]},properties:{name:"工学院 COE"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.99153,22.599643]},properties:{name:"科研楼 Research Building"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.990399,22.597132]},properties:{name:"七号门 Gate7"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.992403,22.597011]},properties:{name:"行政楼 Administration Building"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.9944,22.59618]},properties:{name:"1号门 Gate1 (下行DN)"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.99381,22.59604]},properties:{name:"1号门 Gate1 (上行UP)"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.99585,22.59788]},properties:{name:"2号门 Gate2"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.99878,22.60041]},properties:{name:"3号门 Gate3"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.998329,22.601975]},properties:{name:"专家公寓 Guest Houses"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.997811,22.603325]},properties:{name:"教工餐厅 Faculty Cafeteria"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.995981,22.60293]},properties:{name:"社康中心 C.Health.Center"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.993824,22.604854]},properties:{name:"学生宿舍 Stu. Dormitories"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.995238,22.606518]},properties:{name:"荔园 Lychee Hill"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.996732,22.606278]},properties:{name:"创园 Chuang Yuan"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.998372,22.606102]},properties:{name:"慧园 Hui Yuan"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.997473,22.610667]},properties:{name:"欣园 Joy Highland"}}]},bus_marker_arr:[],map:[],time_difference:0,timer:{}}),async created(){const e=await Tn.get("https://bus.sustcra.com/geojson/sustech_bldg.json");this.bldg_geojson=e.data;const t=await Tn.get("https://bus.sustcra.com/geojson/sustech_gate.json");this.gate_geojson=t.data,console.log("Fetch geojson of sustech complete")},methods:{async fetch_bus(){const e=await Tn.get("https://bus.sustcra.com/api/v2/monitor_osm/");this.bus_location_data_api=e.data;const t=new Date;console.log("bus location data fetched at "+parseInt(t.getTime()/1e3)),typeof this.bus_location_data_api[0].time_mt<"u"&&(this.time_difference=parseInt(t.getTime()/1e3-this.bus_location_data_api[0].time_mt),console.log("The clock drift is "+this.time_difference+" seconds")),this.update_location()},calculateBusAngle(e,t,n,r){const i=Nl([t,e]),o=Nl([r,n]);return GW(i,o)},findNearestPointOnSegment(e,t,n){const r=e[0]-t[0],i=e[1]-t[1],o=n[0]-t[0],s=n[1]-t[1],a=r*o+i*s,c=o*o+s*s,h=c!==0?a/c:-1;let d,g;return h<0?(d=t[0],g=t[1]):h>1?(d=n[0],g=n[1]):(d=t[0]+h*o,g=t[1]+h*s),[d,g]},findNearestSegment(e,t){let n=t[0],r=t[1],i=Number.MAX_VALUE;for(let o=0;o<t.length-1;o++){const s=t[o],a=t[o+1],c=this.findNearestPointOnSegment(e,s,a),h=this.calculateDistance(e,c);h<i&&(i=h,n=s,r=a)}return[n,r]},calculateDistance(e,t){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))},update_location(){this.bus_marker_arr.forEach(e=>e.remove()),this.bus_marker_arr=[];for(let e=0;e<this.bus_location_data_api.length;e++){const t=this.bus_location_data_api[e];if(new Date().getTime()/1e3-t.time_mt<150){const n=[t.lng,t.lat];let r=0;const i=t.route_code.slice(-1)==="1";t.route_geojson=i?this.geojson_line_1:this.geojson_line_2;const o=this.findNearestSegment(n,t.route_geojson);r=this.calculateBusAngle(o[0][1],o[0][0],o[1][1],o[1][0]),r=parseInt(t.route_dir)===1?r:r-180;const s=document.createElement("div");s.className="marker",s.style.backgroundImage="url(https://bus.sustcra.com/bus-top-view.png)",s.style.width="30px",s.style.height="30px",s.style.backgroundSize="cover",s.style.cursor="pointer";const a=new Ji.Marker({element:s}).setLngLat(n).setPopup(this.createPopup(t)).setRotation(parseInt(r)).addTo(this.map);this.bus_marker_arr.push(a)}}},createPopup(e){let t;const n=e.route_code.slice(-1);n==="1"?t=parseInt(e.route_dir)===0?"欣园 Joy Highland":"工学院 COE":n==="2"?t=parseInt(e.route_dir)===0?"欣园 Joy Highland":"科研楼 Research BLDG.":t="未知";const r=e.route_code.slice(-1)==="1"?"#f7911d":"#29abe2",i=`
      <div style="margin-top: 0; font-size: 14px; margin: 0; color: #333; font-weight: bold;">
        粤B${e.id.slice(2)}
      </div>
      <p style="font-size: 12px; margin: 0px 0; color: #666;">
        ${e.speed} km/h
      </p>
      <p style="margin: 0px 0; line-height: 1.4;">
        <span style="display: inline-block; background-color: ${r}; color: white; padding: 2px 6px; border-radius: 3px; font-weight: bold;">Line ${e.route_code.slice(-1)} 号线</span>
      </p>
      <p style="font-size: 12px; margin: 0px 0; color: #666;">
        To往: <b>${t}</b>
      </p>
      <p style="font-size: 12px; margin: 0px 0; color: #666;">
        下站: <b style="color: #333;">${e.next_station_string}</b>
      </p>
  `;return new Ji.Popup({offset:20}).setHTML(i)},async refresh(){await this.fetch_bus()}},async mounted(){const e={lng:113.99373,lat:22.60308,zoom:14},t={bus_location_data:this.bus_location_data,geojson_line_1:this.geojson_line_1,geojson_line_2:this.geojson_line_2};let n=new JW;Ji.addProtocol("pmtiles",n.tile);const r=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches,await r&&(console.log("dark mode enabled."),this.map_text_colour="#FFFFFF",this.map_style_url="https://bus.sustcra.com/static/protomaps/pmtiles-style/pmtiles-dark.json"),this.map=new Ji.Map({container:this.$refs.myMap,style:this.map_style_url,center:[e.lng,e.lat],zoom:e.zoom});var i=new Ji.NavigationControl;this.map.addControl(i,"top-left"),this.map.addControl(new Ji.FullscreenControl,"top-left");class o{onAdd(d){this._map=d,this._container=document.createElement("div"),this._container.className="maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group";const g=this._createButton("interaction-lock");return this._container.appendChild(g),g.click(),this._container}onRemove(){this._container.parentNode.removeChild(this._container),this._map=void 0}_createButton(d){const g=window.document.createElement("button");return g.className=d,g.isInteractionEnabled=!0,g.addEventListener("click",y=>{g.isInteractionEnabled=!g.isInteractionEnabled,g.isInteractionEnabled?(this._map.dragPan.enable(),this._map.boxZoom.enable(),this._map.doubleClickZoom.enable(),this._map.touchZoomRotate.enable(),this._map.scrollZoom.enable(),g.innerHTML='<span class="maplibregl-ctrl-icon mapboxgl-ctrl-icon map-interaction-allow" aria-hidden="true"></span>'):(this._map.dragPan.disable(),this._map.boxZoom.disable(),this._map.doubleClickZoom.disable(),this._map.touchZoomRotate.disable(),this._map.scrollZoom.disable(),g.innerHTML='<span class="maplibregl-ctrl-icon mapboxgl-ctrl-icon map-interaction-lock" aria-hidden="true"></span>'),y.preventDefault(),y.stopPropagation()},!1),g}}const s=new o;this.map.addControl(s,"top-left");class a{onAdd(d){this.map=d,this.container=document.createElement("div"),this.container.className="maplibregl-ctrl maplibregl-ctrl-group",this.container.style.marginLeft="10px",this.container.style.marginBottom="10px";const g=document.createElement("button");return g.className="maplibregl-ctrl-icon",g.innerHTML="🌍",g.onclick=()=>{this.map.getLayoutProperty("raster-layer","visibility")==="visible"?this.map.setLayoutProperty("raster-layer","visibility","none"):this.map.setLayoutProperty("raster-layer","visibility","visible")},this.container.appendChild(g),this.container}onRemove(){this.container.parentNode.removeChild(this.container),this.map=void 0}}const c=new a;this.map.addControl(new Ji.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,showUserHeading:!0}),"top-right"),this.map.addControl(c,"top-right"),this.map.on("load",()=>{this.map.addSource("raster-tiles",{type:"raster",tiles:["https://google-proxy.zuzuche.com/vt/?lyrs=s&x={x}&y={y}&z={z}"],tileSize:256}),this.map.addLayer({id:"raster-layer",type:"raster",source:"raster-tiles",layout:{visibility:"none"},minzoom:0,maxzoom:22}),this.map.addSource("line1",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:t.geojson_line_1}}}),this.map.addSource("line2",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:t.geojson_line_2}}}),this.map.addLayer({id:"line1",type:"line",source:"line1",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#f7911d","line-width":3}}),this.map.addLayer({id:"line2",type:"line",source:"line2",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#29abe2","line-width":3}});function h(d){return fetch(d).then(g=>g.blob()).then(g=>new Promise((y,v)=>{const x=new Image,C=URL.createObjectURL(g);x.onload=()=>{URL.revokeObjectURL(C),y(x)},x.onerror=()=>{URL.revokeObjectURL(C),v(new Error("Could not load image"))},x.src=C}))}Promise.all([h("https://bus.sustcra.com/station_icon.png"),h("https://bus.sustcra.com/bldg_icon.png"),h("https://bus.sustcra.com/gate_icon.png")]).then(d=>{this.map.addImage("bus-station",d[0]),this.map.addImage("bldg-icon",d[1]),this.map.addImage("gate-icon",d[2]),this.map.addSource("stations",{type:"geojson",data:this.stations_geojson}),this.map.addSource("bldgs",{type:"geojson",data:this.bldg_geojson}),this.map.addSource("gates",{type:"geojson",data:this.gate_geojson}),this.map.addLayer({id:"bus-station",type:"symbol",source:"stations",layout:{"icon-size":.075,"icon-image":"bus-station","text-field":["get","name"],"text-size":10,"text-offset":[0,1.25],"text-anchor":"top"},paint:{"text-color":this.map_text_colour},filter:["==","$type","Point"]}),this.map.addLayer({id:"bldgs",type:"symbol",source:"bldgs",layout:{"icon-size":.02,"icon-image":"bldg-icon","text-field":["get","name"],"text-size":9,"text-offset":[0,.3],"text-anchor":"top"},paint:{"text-color":this.map_text_colour},filter:["==","$type","Point"]}),this.map.addLayer({id:"gates",type:"symbol",source:"gates",layout:{"icon-size":.05,"icon-image":"gate-icon","text-field":["get","name"],"text-size":10,"text-offset":[0,.6],"text-anchor":"top"},paint:{"text-color":this.map_text_colour},filter:["==","$type","Point"]})}).catch(d=>{console.error("Error loading images:",d)})}),await this.fetch_bus(),this.timer=setInterval(()=>{this.refresh()},5e3)},async unmounted(){clearInterval(this.timer)}},YPe={class:"map-container",ref:"myMap"};function JPe(e,t,n,r,i,o){return Dt(),Zt(vn,null,[kt("div",YPe,null,512),kt("span",null,"Time drift: "+Rn(e.time_difference)+" sec.",1)],64)}const QPe=Zn(XPe,[["render",JPe],["__scopeId","data-v-ca2d30a8"],["__file","RealtimeMap.vue"]]),eEe={name:"BusMap",data(){return{apiBaseUrl_RealTimeData:"https://bus.sustcra.com/api/v2",apiBaseUrl:"https://bus.sustcra.com/api/v3",map:null,activePopup:null,mapStyleLight:"https://bus.sustcra.com/static/protomaps/pmtiles-style/pmtiles-light.json",mapStyleDark:"https://bus.sustcra.com/static/protomaps/pmtiles-style/pmtiles-dark.json",mapTextColor:"#000000",mapTextHaloColor:"#FFFFFF",geojson_XYBS1:[],geojson_XYBS2:[],geojson_SEV1:[],busLocations:[],sevLocations:[],busMarkers:[],unifiedStationsLookup:{},allStationsGeoJSON:{type:"FeatureCollection",features:[]},bldgGeoJSON:{},gateGeoJSON:{},timeDrift:0,busUpdateTimer:null,themeChangeHandler:null}},methods:{initializeMap(e){const t=new JW;Ji.addProtocol("pmtiles",t.tile),this.map=new Ji.Map({container:this.$refs.mapContainer,style:e,center:[113.99373,22.60308],zoom:14.5,minZoom:13}),this.setupMapControls()},setupMapControls(){this.map.addControl(new Ji.NavigationControl,"top-left"),this.map.addControl(new Ji.FullscreenControl,"top-left"),this.map.addControl(new Ji.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,showUserHeading:!0}),"top-right")},async loadMapData(){await Promise.all([this.loadAllStationData(),this.loadBuildingAndGateData(),this.loadGeoJSONLines()]),this.loadMapIconsAndLayers()},async loadAllStationData(){console.log("Fetching all station data...");try{const t=(await Tn.get(`${this.apiBaseUrl}/avail_route`)).data.routes,n=t.map(i=>Tn.get(`${this.apiBaseUrl}/${i.name}/${i.direction}/stations`));(await Promise.all(n)).forEach((i,o)=>{const s=t[o];(i.data.features||[]).forEach(c=>{const d=c.geometry.coordinates.join(","),g=c.properties.name.replace(/\n/g," ");this.unifiedStationsLookup[d]||(this.unifiedStationsLookup[d]={name:g,routes:[]}),this.unifiedStationsLookup[d].routes.push({route_code:s.name,direction:s.direction,station_id:c.properties.station_id}),this.allStationsGeoJSON.features.some(y=>y.geometry.coordinates.join(",")===d)||(c.properties.coordKey=d,c.properties.name=g,this.allStationsGeoJSON.features.push(c))})}),console.log("Unified station database created.")}catch(e){console.error("Failed to load station data:",e)}},async loadBuildingAndGateData(){try{const[e,t]=await Promise.all([Tn.get("https://bus.sustcra.com/geojson/sustech_bldg.json"),Tn.get("https://bus.sustcra.com/geojson/sustech_gate.json")]);this.bldgGeoJSON=e.data,this.gateGeoJSON=t.data}catch(e){console.error("Failed to fetch building or gate geojson:",e)}},async loadMapIconsAndLayers(){const e=t=>this.map.loadImage(t);try{const[t,n,r]=await Promise.all([e("https://bus.sustcra.com/station_icon.png"),e("https://bus.sustcra.com/bldg_icon.png"),e("https://bus.sustcra.com/gate_icon.png")]);this.map.addImage("bus-station-icon",t.data),this.map.addImage("bldg-icon",n.data),this.map.addImage("gate-icon",r.data),this.setupMapLayers()}catch(t){console.error("Error loading map icons:",t)}},async loadGeoJSONLines(){try{const[e,t,n]=await Promise.all([Tn.get("https://bus.sustcra.com/static/lines/XYBS1.json"),Tn.get("https://bus.sustcra.com/static/lines/XYBS2.json"),Tn.get("https://bus.sustcra.com/static/lines/SEV1.json")]);this.geojson_XYBS1=e.data,this.geojson_XYBS2=t.data,this.geojson_SEV1=n.data}catch(e){console.error("Failed to fetch GeoJSON lines:",e)}},setupMapLayers(){this.addRouteLayer("line1",this.geojson_XYBS1,"#f7911d"),this.addRouteLayer("line2",this.geojson_XYBS2,"#29abe2"),this.addRouteLayer("line3",this.geojson_SEV1,"#7030a1"),this.addSymbolLayer("stations",this.allStationsGeoJSON,"bus-station-icon",.075,[0,1.25]),this.addSymbolLayer("buildings",this.bldgGeoJSON,"bldg-icon",.02,[0,.3],11),this.addSymbolLayer("gates",this.gateGeoJSON,"gate-icon",.05,[0,.6])},startBusTracking(){this.fetchBusLocations(),this.busUpdateTimer=setInterval(this.fetchBusLocations,5e3)},calculateBusAngle(e,t,n,r){const i=Nl([t,e]),o=Nl([r,n]);return GW(i,o)},findNearestPointOnSegment(e,t,n){const r=e[0]-t[0],i=e[1]-t[1],o=n[0]-t[0],s=n[1]-t[1],a=r*o+i*s,c=o*o+s*s,h=c!==0?a/c:-1;let d,g;return h<0?(d=t[0],g=t[1]):h>1?(d=n[0],g=n[1]):(d=t[0]+h*o,g=t[1]+h*s),[d,g]},findNearestSegment(e,t){let n=t[0],r=t[1],i=Number.MAX_VALUE;for(let o=0;o<t.length-1;o++){const s=t[o],a=t[o+1],c=this.findNearestPointOnSegment(e,s,a),h=this.calculateDistance(e,c);h<i&&(i=h,n=s,r=a)}return[n,r]},calculateDistance(e,t){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))},async fetchBusLocations(){try{const e=await Tn.get("https://bus.sustcra.com/api/v2/monitor_osm/"),t=await Tn.get("https://bus.sustcra.com/api/v2/monitor_sev_osm/");this.busLocations=e.data,this.sevLocations=t.data,this.busLocations=this.busLocations.concat(this.sevLocations);const n=Date.now()/1e3;this.busLocations.length>0&&this.busLocations[0].time_mt&&(this.timeDrift=Math.round(n-this.busLocations[0].time_mt)),this.updateBusMarkers()}catch(e){console.error("Failed to fetch bus locations:",e)}},updateBusMarkers(){this.busMarkers.forEach(t=>t.remove()),this.busMarkers=[];const e=Date.now()/1e3;this.busLocations.forEach(t=>{if(e-t.time_mt<120){const n=document.createElement("div");n.className="bus-marker";const r=new Ji.Marker({element:n,anchor:"center"}).setLngLat([t.lng,t.lat]).setPopup(this.createBusInfoPopup(t)).setRotation(t.heading||0).addTo(this.map);this.busMarkers.push(r)}})},setupMapListeners(){this.map.on("click","stations-layer",this.onStationClick),this.map.on("mouseenter","stations-layer",()=>this.map.getCanvas().style.cursor="pointer"),this.map.on("mouseleave","stations-layer",()=>this.map.getCanvas().style.cursor="")},async onStationClick(e){if(e.features.length===0)return;const t=e.features[0],n=t.properties.coordKey,r=this.unifiedStationsLookup[n],i=t.geometry.coordinates.slice();if(!r)return;this.activePopup&&this.activePopup.remove();const o=document.createElement("div");o.innerHTML=`
        <div class="popup-header">${r.name}</div>
        <div class="popup-body">正在查询...</div>
      `,this.activePopup=new Ji.Popup({offset:25,closeButton:!0}).setLngLat(i).setDOMContent(o).addTo(this.map);const s=await this.fetchEtasForStation(r),a=o.querySelector(".popup-body");a.innerHTML=this.createEtaListHtml(s)},async fetchEtasForStation(e){const t=e.routes.map(n=>Tn.get(`${this.apiBaseUrl}/${n.route_code}/${n.direction}/${n.station_id}`));try{return(await Promise.all(t)).map(r=>r.data).flat().sort((r,i)=>r.eta_minutes-i.eta_minutes)}catch(n){return console.error("Failed to fetch ETAs:",n),[]}},addRouteLayer(e,t,n){this.map.addSource(e,{type:"geojson",data:t}),this.map.addLayer({id:e+"-layer",type:"line",source:e,layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":n,"line-width":3}})},addSymbolLayer(e,t,n,r,i,o=10){this.map.addSource(e,{type:"geojson",data:t}),this.map.addLayer({id:e+"-layer",type:"symbol",source:e,layout:{"icon-image":n,"icon-size":r,"icon-allow-overlap":!0,"text-field":["get","name"],"text-size":o,"text-offset":i,"text-anchor":"top"},paint:{"text-color":this.mapTextColor,"text-halo-color":this.mapTextHaloColor,"text-halo-width":1}})},createBusInfoPopup(e){var a,c;const t={XYBS1:{name:"L1",directions:{0:"欣园 Joy Highland",1:"工学院 COE"},color:"#f7911d"},XYBS2:{name:"L2",directions:{0:"欣园 Joy Highland",1:"科研楼"},color:"#29abe2"},SEV:{name:"电瓶车",directions:{"-1":""},color:"#7030a1"}},n=((a=t[e.route_code])==null?void 0:a.name)||e.route_code,r=t[e.route_code]||{},i=((c=r.directions)==null?void 0:c[e.route_dir])??"",o=r.color??"#cccccc",s=`
        <div class="bus-popup">
          <div class="plate">${e.id.slice(2)} (${e.speed} km/h)</div>
          <div><span class="line-tag" style="background-color:${o}">${n}</span> To: <strong>${i}</strong></div>
          <div>Next: <strong>${e.next_station_string}</strong></div>
        </div>
      `;return new Ji.Popup({offset:20}).setHTML(s)},createEtaListHtml(e){return e.length===0?'<div class="eta-item">暂无班车信息</div>':e.map(t=>{const n=t.route_key.split("_")[0].slice(-1);return`
                <div class="eta-item">
                    <span class="line-tag" style="background-color:${n==="1"?"#f7911d":"#29abe2"};">L${n}</span>
                    <span class="plate-tag terminal-station">
                      ${t.terminal_station_name}
                    </span>
<!--                    <span class="plate-tag">${t.plate.slice(2)}</span>-->
<!--                    <span>下站 <strong>${t.next_station}</strong></span>-->
                    <span class="eta-time">${t.eta_minutes} Min.</span>
                </div>
            `}).join("")},setupThemeListener(){const e=window.matchMedia("(prefers-color-scheme: dark)");e.matches?(this.mapTextColor="#FFFFFF",this.mapTextHaloColor="#000000"):(this.mapTextColor="#000000",this.mapTextHaloColor="#FFFFFF"),this.themeChangeHandler=t=>{console.log(`Theme changed to ${t.matches?"Dark":"Light"}. Map will reload.`),window.location.reload()},e.addEventListener("change",this.themeChangeHandler)}},async mounted(){this.setupThemeListener();const e=this.mapTextColor==="#FFFFFF"?this.mapStyleDark:this.mapStyleLight;this.initializeMap(e),this.map.on("load",async()=>{console.log("Map loaded."),await this.loadMapData(),this.setupMapListeners(),this.startBusTracking()})},unmounted(){clearInterval(this.busUpdateTimer),this.themeChangeHandler&&window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",this.themeChangeHandler),this.map&&this.map.remove()}},tEe={class:"map-wrapper"},nEe={class:"map-container",ref:"mapContainer"},rEe={key:0,class:"time-drift-display"};function iEe(e,t,n,r,i,o){return Dt(),Zt("div",tEe,[kt("div",nEe,null,512),i.timeDrift?(Dt(),Zt("span",rEe,"Time Drift: "+Rn(i.timeDrift)+"s",1)):vr("",!0)])}const oEe=Zn(eEe,[["render",iEe],["__file","RealtimeMapv2.vue"]]),aEe={name:"MyMap",data:()=>({map_style_url:"https://mirrors.sustech.edu.cn/osm-tile/styles/osm-bright/style.json",map_text_colour:"#000000",bus_location_data_api:[],bus_location_data_display:[],bus_plate_hash:{298:{plate:"粤BDF298"},363:{plate:"粤BDF363"},8040:{plate:"粤BDF040"},8147:{plate:"粤BDF147"},8267:{plate:"粤BDF267"},8330:{plate:"粤BDF330"},8335:{plate:"粤BDF335"},8338:{plate:"粤BDF338"},8345:{plate:"粤BDF345"},8365:{plate:"粤BDF365"},8371:{plate:"粤BDF371"},8411:{plate:"粤BDF411"},8421:{plate:"粤BDF421"},8430:{plate:"粤BDF430"},8447:{plate:"粤BDE447"},8458:{plate:"粤BDF458"},8470:{plate:"粤BDF470"},8471:{plate:"粤BDF471"},18447:{plate:"粤BDF447"}},geojson_line_1:[[113.99739584160139,22.610765716856296],[113.99773288526481,22.610577804306548],[113.99824514560808,22.609808813574297],[113.99899240486543,22.608186143427105],[113.99899684055141,22.608138484311375],[113.99876376465981,22.606584405046835],[113.9987454049567,22.606539955896604],[113.9983737643716,22.606046923598996],[113.99771305207776,22.60586005946536],[113.996462081496,22.60628164325351],[113.99540699384544,22.60655007340282],[113.99537457846512,22.606374521317747],[113.99533345805837,22.60631869878032],[113.99491868014185,22.60615102642152],[113.99446803578164,22.605922922486105],[113.993628105381,22.605432281601264],[113.99361283376653,22.605399929510398],[113.99427914343141,22.604297776694622],[113.99455101208882,22.604066349285663],[113.99481121659123,22.60381079129223],[113.99549648383878,22.60304833084697],[113.99570726599393,22.60298417975627],[113.99623267681147,22.60298349183956],[113.99686127008054,22.603078201644227],[113.9977201426685,22.603401409146592],[113.99788215074415,22.603408536156227],[113.99794417914393,22.60338145776082],[113.9980463074806,22.603268395934986],[113.99816665521513,22.602614977726315],[113.99835030416712,22.60216721735362],[113.99856193554633,22.601842951121434],[113.99881928525701,22.6015215956419],[113.9988344317295,22.601194082723367],[113.99895072783376,22.600790214181995],[113.9990602569799,22.600602634774226],[113.99921879840926,22.600476730796977],[113.99919877407567,22.60043325336671],[113.99802751236375,22.600038565633355],[113.99775839514615,22.599792681543633],[113.99730187808832,22.598960946075003],[113.99590977592047,22.5977773063799],[113.99576459924215,22.59751983095157],[113.99543299558397,22.59717440812865],[113.9951938686417,22.5966914370548],[113.99501583215859,22.59639577584673],[113.99463229185628,22.596104860560743],[113.99420385593578,22.595969591352997],[113.99378584507669,22.595967937443213],[113.99320018866534,22.59621976224022],[113.99265363550316,22.596738860232236],[113.99200633643709,22.59716671060916],[113.99157366427197,22.5971462468509],[113.99088482201618,22.596941863390235],[113.99038484213679,22.596998494112995],[113.99032102143205,22.597043977909916],[113.99019829041364,22.59753578294312],[113.99030286538937,22.59863964935582],[113.99048378356784,22.59907317753902],[113.99052006299269,22.59911721823263],[113.99075599101839,22.599276010611053],[113.99126127611241,22.599535900836155],[113.9917686585336,22.6000105337692],[113.99191211157755,22.60053218120178],[113.99183362959826,22.601016496848214],[113.99144872111891,22.60153952301182],[113.99077751816642,22.602118998056795],[113.99043902651476,22.60239072790739],[113.99010219314502,22.60332391993846]],geojson_line_2:[[113.9973489079054,22.61067741494136],[113.9976555155949,22.61051444868976],[113.9981618912118,22.60975341767644],[113.9988979465801,22.60815331611633],[113.9986648706885,22.60659923685179],[113.9983207115444,22.60613169032316],[113.9977156537446,22.60596002561628],[113.9964905851169,22.6063775771138],[113.9953277666447,22.60667341560261],[113.995278497141,22.60640224097063],[113.9934784038899,22.60548092977822],[113.99386414857948,22.604784676421257],[113.99419945106074,22.60426804504929],[113.99385306765333,22.603677155592816],[113.99298710913483,22.60350336409337],[113.99279885728298,22.603280910653833],[113.99233952276445,22.60296808489611],[113.99204584987558,22.60262745159568],[113.9915262747645,22.601612498395962],[113.9917196221943,22.601431625928],[113.9919172423369,22.60102266627295],[113.9920105698998,22.6005318195689],[113.9918969233072,22.59993661748595],[113.9914596783045,22.59960492109923]],gate_geojson:{},stations_geojson:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[113.9902,22.60336]},properties:{name:"工学院 COE"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.99153,22.599643]},properties:{name:"科研楼 Research Building"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.990399,22.597132]},properties:{name:"七号门 Gate7"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.992403,22.597011]},properties:{name:"行政楼 Administration Building"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.9944,22.59618]},properties:{name:"1号门 Gate1 (下行DN)"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.99381,22.59604]},properties:{name:"1号门 Gate1 (上行UP)"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.99585,22.59788]},properties:{name:"2号门 Gate2"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.99878,22.60041]},properties:{name:"3号门 Gate3"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.998329,22.601975]},properties:{name:"专家公寓 Guest Houses"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.997811,22.603325]},properties:{name:"教工餐厅 Faculty Cafeteria"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.995981,22.60293]},properties:{name:"社康中心 C.Health.Center"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.993824,22.604854]},properties:{name:"学生宿舍 Stu. Dormitories"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.995238,22.606518]},properties:{name:"荔园 Lychee Hill"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.996732,22.606278]},properties:{name:"创园 Chuang Yuan"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.998372,22.606102]},properties:{name:"慧园 Hui Yuan"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.997473,22.610667]},properties:{name:"欣园 Joy Highland"}}]},bus_marker_arr:[],map:[],time_difference:0,timer:{}}),async created(){const e=await Tn.get("https://bus.sustcra.com/geojson/sustech_bldg.json");this.bldg_geojson=e.data;const t=await Tn.get("https://bus.sustcra.com/geojson/sustech_gate.json");this.gate_geojson=t.data,console.log("Fetch geojson of sustech complete")},methods:{},async mounted(){const e={lng:113.99373,lat:22.60308,zoom:14},t={bus_location_data:this.bus_location_data,geojson_line_1:this.geojson_line_1,geojson_line_2:this.geojson_line_2},n=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches,await n&&(console.log("dark mode enabled."),this.map_text_colour="#FFFFFF",this.map_style_url="https://mirrors.sustech.edu.cn/osm-tile/styles/osm-blue/style.json"),this.map=new Ji.Map({container:this.$refs.myMap,style:this.map_style_url,center:[e.lng,e.lat],zoom:e.zoom});var r=new Ji.NavigationControl;this.map.addControl(r,"top-left"),this.map.addControl(new Ji.FullscreenControl,"top-left");class i{onAdd(h){this._map=h,this._container=document.createElement("div"),this._container.className="maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group";const d=this._createButton("interaction-lock");return this._container.appendChild(d),d.click(),this._container}onRemove(){this._container.parentNode.removeChild(this._container),this._map=void 0}_createButton(h){const d=window.document.createElement("button");return d.className=h,d.isInteractionEnabled=!0,d.addEventListener("click",g=>{d.isInteractionEnabled=!d.isInteractionEnabled,d.isInteractionEnabled?(this._map.dragPan.enable(),this._map.boxZoom.enable(),this._map.doubleClickZoom.enable(),this._map.touchZoomRotate.enable(),this._map.scrollZoom.enable(),d.innerHTML='<span class="maplibregl-ctrl-icon mapboxgl-ctrl-icon map-interaction-allow" aria-hidden="true"></span>'):(this._map.dragPan.disable(),this._map.boxZoom.disable(),this._map.doubleClickZoom.disable(),this._map.touchZoomRotate.disable(),this._map.scrollZoom.disable(),d.innerHTML='<span class="maplibregl-ctrl-icon mapboxgl-ctrl-icon map-interaction-lock" aria-hidden="true"></span>'),g.preventDefault(),g.stopPropagation()},!1),d}}const o=new i;this.map.addControl(o,"top-left");class s{onAdd(h){this.map=h,this.container=document.createElement("div"),this.container.className="maplibregl-ctrl maplibregl-ctrl-group",this.container.style.marginLeft="10px",this.container.style.marginBottom="10px";const d=document.createElement("button");return d.className="maplibregl-ctrl-icon",d.innerHTML="🌍",d.onclick=()=>{this.map.getLayoutProperty("raster-layer","visibility")==="visible"?this.map.setLayoutProperty("raster-layer","visibility","none"):this.map.setLayoutProperty("raster-layer","visibility","visible")},this.container.appendChild(d),this.container}onRemove(){this.container.parentNode.removeChild(this.container),this.map=void 0}}const a=new s;this.map.addControl(new Ji.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,showUserHeading:!0}),"top-right"),this.map.addControl(a,"top-right"),this.map.on("load",()=>{this.map.addSource("raster-tiles",{type:"raster",tiles:["https://google-proxy.zuzuche.com/vt/?lyrs=s&x={x}&y={y}&z={z}"],tileSize:256}),this.map.addLayer({id:"raster-layer",type:"raster",source:"raster-tiles",layout:{visibility:"none"},minzoom:0,maxzoom:22}),this.map.addSource("line1",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:t.geojson_line_1}}}),this.map.addSource("line2",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:t.geojson_line_2}}}),this.map.addLayer({id:"line1",type:"line",source:"line1",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#f7911d","line-width":3}}),this.map.addLayer({id:"line2",type:"line",source:"line2",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#29abe2","line-width":3}});function c(h){return fetch(h).then(d=>d.blob()).then(d=>new Promise((g,y)=>{const v=new Image,x=URL.createObjectURL(d);v.onload=()=>{URL.revokeObjectURL(x),g(v)},v.onerror=()=>{URL.revokeObjectURL(x),y(new Error("Could not load image"))},v.src=x}))}Promise.all([c("https://bus.sustcra.com/station_icon.png"),c("https://bus.sustcra.com/bldg_icon.png"),c("https://bus.sustcra.com/gate_icon.png")]).then(h=>{this.map.addImage("bus-station",h[0]),this.map.addImage("bldg-icon",h[1]),this.map.addImage("gate-icon",h[2]),this.map.addSource("stations",{type:"geojson",data:this.stations_geojson}),this.map.addSource("bldgs",{type:"geojson",data:this.bldg_geojson}),this.map.addSource("gates",{type:"geojson",data:this.gate_geojson}),this.map.addLayer({id:"bus-station",type:"symbol",source:"stations",layout:{"icon-size":.075,"icon-image":"bus-station","text-field":["get","name"],"text-size":10,"text-offset":[0,1.25],"text-anchor":"top"},paint:{"text-color":this.map_text_colour},filter:["==","$type","Point"]}),this.map.addLayer({id:"bldgs",type:"symbol",source:"bldgs",layout:{"icon-size":.02,"icon-image":"bldg-icon","text-field":["get","name"],"text-size":9,"text-offset":[0,.3],"text-anchor":"top"},paint:{"text-color":this.map_text_colour},filter:["==","$type","Point"]}),this.map.addLayer({id:"gates",type:"symbol",source:"gates",layout:{"icon-size":.05,"icon-image":"gate-icon","text-field":["get","name"],"text-size":10,"text-offset":[0,.6],"text-anchor":"top"},paint:{"text-color":this.map_text_colour},filter:["==","$type","Point"]})}).catch(h=>{console.error("Error loading images:",h)})})},async unmounted(){}},sEe={class:"map-container",ref:"myMap"};function lEe(e,t,n,r,i,o){return Dt(),Zt("div",sEe,null,512)}const uEe=Zn(aEe,[["render",lEe],["__scopeId","data-v-bcc91394"],["__file","CampusMap.vue"]]),cEe={name:"weather-span",data:()=>({text:""}),mounted(){this.load_weather()},methods:{load_weather(){Tn.get("https://api.sustech.online/weather").then(e=>{this.text=e.data.msg})}}},hEe={id:"weather-container"},dEe={id:"weather"};function fEe(e,t,n,r,i,o){return Dt(),Zt("div",hEe,[kt("span",dEe,Rn(e.text),1)])}const pEe=Zn(cEe,[["render",fEe],["__file","weather-span.vue"]]);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var nA=function(e,t){return nA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},nA(e,t)};function Xt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");nA(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var mEe=function(){function e(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return e}(),gEe=function(){function e(){this.browser=new mEe,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return e}(),Ln=new gEe;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Ln.wxa=!0,Ln.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Ln.worker=!0:!Ln.hasGlobalWindow||"Deno"in window?(Ln.node=!0,Ln.svgSupported=!0):vEe(navigator.userAgent,Ln);function vEe(e,t){var n=t.browser,r=e.match(/Firefox\/([\d.]+)/),i=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),o=e.match(/Edge?\/([\d.]+)/),s=/micromessenger/i.test(e);r&&(n.firefox=!0,n.version=r[1]),i&&(n.ie=!0,n.version=i[1]),o&&(n.edge=!0,n.version=o[1],n.newEdge=+o[1].split(".")[0]>18),s&&(n.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,t.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),t.domSupported=typeof document<"u";var a=document.documentElement.style;t.transform3dSupported=(n.ie&&"transition"in a||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in a)&&!("OTransition"in a),t.transformSupported=t.transform3dSupported||n.ie&&+n.version>=9}var IO=12,cZ="sans-serif",Ih=IO+"px "+cZ,yEe=20,_Ee=100,bEe="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function xEe(e){var t={};if(typeof JSON>"u")return t;for(var n=0;n<e.length;n++){var r=String.fromCharCode(n+32),i=(e.charCodeAt(n)-yEe)/_Ee;t[r]=i}return t}var wEe=xEe(bEe),Ug={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var e,t;return function(n,r){if(!e){var i=Ug.createCanvas();e=i&&i.getContext("2d")}if(e)return t!==r&&(t=e.font=r||Ih),e.measureText(n);n=n||"",r=r||Ih;var o=/((?:\d+)?\.?\d*)px/.exec(r),s=o&&+o[1]||IO,a=0;if(r.indexOf("mono")>=0)a=s*n.length;else for(var c=0;c<n.length;c++){var h=wEe[n[c]];a+=h==null?s:h*s}return{width:a}}}(),loadImage:function(e,t,n){var r=new Image;return r.onload=t,r.onerror=n,r.src=e,r}},hZ=Gg(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(e,t){return e["[object "+t+"]"]=!0,e},{}),dZ=Gg(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(e,t){return e["[object "+t+"Array]"]=!0,e},{}),gb=Object.prototype.toString,G2=Array.prototype,SEe=G2.forEach,CEe=G2.filter,MO=G2.slice,TEe=G2.map,v6=(function(){}).constructor,hx=v6?v6.prototype:null,AO="__proto__",PEe=2311;function fZ(){return PEe++}function DO(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];typeof console<"u"&&console.error.apply(console,e)}function er(e){if(e==null||typeof e!="object")return e;var t=e,n=gb.call(e);if(n==="[object Array]"){if(!N_(e)){t=[];for(var r=0,i=e.length;r<i;r++)t[r]=er(e[r])}}else if(dZ[n]){if(!N_(e)){var o=e.constructor;if(o.from)t=o.from(e);else{t=new o(e.length);for(var r=0,i=e.length;r<i;r++)t[r]=e[r]}}}else if(!hZ[n]&&!N_(e)&&!M0(e)){t={};for(var s in e)e.hasOwnProperty(s)&&s!==AO&&(t[s]=er(e[s]))}return t}function ur(e,t,n){if(!Pn(t)||!Pn(e))return n?er(t):e;for(var r in t)if(t.hasOwnProperty(r)&&r!==AO){var i=e[r],o=t[r];Pn(o)&&Pn(i)&&!cn(o)&&!cn(i)&&!M0(o)&&!M0(i)&&!y6(o)&&!y6(i)&&!N_(o)&&!N_(i)?ur(i,o,n):(n||!(r in e))&&(e[r]=er(t[r]))}return e}function EEe(e,t){for(var n=e[0],r=1,i=e.length;r<i;r++)n=ur(n,e[r],t);return n}function en(e,t){if(Object.assign)Object.assign(e,t);else for(var n in t)t.hasOwnProperty(n)&&n!==AO&&(e[n]=t[n]);return e}function Er(e,t,n){for(var r=lr(t),i=0,o=r.length;i<o;i++){var s=r[i];e[s]==null&&(e[s]=t[s])}return e}function hr(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n}return-1}function IEe(e,t){var n=e.prototype;function r(){}r.prototype=t.prototype,e.prototype=new r;for(var i in n)n.hasOwnProperty(i)&&(e.prototype[i]=n[i]);e.prototype.constructor=e,e.superClass=t}function gl(e,t,n){if(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var o=r[i];o!=="constructor"&&e[o]==null&&(e[o]=t[o])}else Er(e,t)}function Ra(e){return!e||typeof e=="string"?!1:typeof e.length=="number"}function Ne(e,t,n){if(e&&t)if(e.forEach&&e.forEach===SEe)e.forEach(t,n);else if(e.length===+e.length)for(var r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e);else for(var o in e)e.hasOwnProperty(o)&&t.call(n,e[o],o,e)}function _n(e,t,n){if(!e)return[];if(!t)return kO(e);if(e.map&&e.map===TEe)return e.map(t,n);for(var r=[],i=0,o=e.length;i<o;i++)r.push(t.call(n,e[i],i,e));return r}function Gg(e,t,n,r){if(e&&t){for(var i=0,o=e.length;i<o;i++)n=t.call(r,n,e[i],i,e);return n}}function Qi(e,t,n){if(!e)return[];if(!t)return kO(e);if(e.filter&&e.filter===CEe)return e.filter(t,n);for(var r=[],i=0,o=e.length;i<o;i++)t.call(n,e[i],i,e)&&r.push(e[i]);return r}function lr(e){if(!e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function MEe(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return function(){return e.apply(t,n.concat(MO.call(arguments)))}}var zn=hx&&Sn(hx.bind)?hx.call.bind(hx.bind):MEe;function Qr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(this,t.concat(MO.call(arguments)))}}function cn(e){return Array.isArray?Array.isArray(e):gb.call(e)==="[object Array]"}function Sn(e){return typeof e=="function"}function pn(e){return typeof e=="string"}function rA(e){return gb.call(e)==="[object String]"}function ti(e){return typeof e=="number"}function Pn(e){var t=typeof e;return t==="function"||!!e&&t==="object"}function y6(e){return!!hZ[gb.call(e)]}function La(e){return!!dZ[gb.call(e)]}function M0(e){return typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.ownerDocument=="object"}function W2(e){return e.colorStops!=null}function AEe(e){return e.image!=null}function wS(e){return e!==e}function Tg(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,r=e.length;n<r;n++)if(e[n]!=null)return e[n]}function Fn(e,t){return e??t}function Cw(e,t,n){return e??t??n}function kO(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return MO.apply(e,t)}function pZ(e){if(typeof e=="number")return[e,e,e,e];var t=e.length;return t===2?[e[0],e[1],e[0],e[1]]:t===3?[e[0],e[1],e[2],e[1]]:e}function hl(e,t){if(!e)throw new Error(t)}function jl(e){return e==null?null:typeof e.trim=="function"?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var mZ="__ec_primitive__";function iA(e){e[mZ]=!0}function N_(e){return e[mZ]}var DEe=function(){function e(){this.data={}}return e.prototype.delete=function(t){var n=this.has(t);return n&&delete this.data[t],n},e.prototype.has=function(t){return this.data.hasOwnProperty(t)},e.prototype.get=function(t){return this.data[t]},e.prototype.set=function(t,n){return this.data[t]=n,this},e.prototype.keys=function(){return lr(this.data)},e.prototype.forEach=function(t){var n=this.data;for(var r in n)n.hasOwnProperty(r)&&t(n[r],r)},e}(),gZ=typeof Map=="function";function kEe(){return gZ?new Map:new DEe}var OEe=function(){function e(t){var n=cn(t);this.data=kEe();var r=this;t instanceof e?t.each(i):t&&Ne(t,i);function i(o,s){n?r.set(o,s):r.set(s,o)}}return e.prototype.hasKey=function(t){return this.data.has(t)},e.prototype.get=function(t){return this.data.get(t)},e.prototype.set=function(t,n){return this.data.set(t,n),n},e.prototype.each=function(t,n){this.data.forEach(function(r,i){t.call(n,r,i)})},e.prototype.keys=function(){var t=this.data.keys();return gZ?Array.from(t):t},e.prototype.removeKey=function(t){this.data.delete(t)},e}();function Dn(e){return new OEe(e)}function oA(e,t){for(var n=new e.constructor(e.length+t.length),r=0;r<e.length;r++)n[r]=e[r];for(var i=e.length,r=0;r<t.length;r++)n[r+i]=t[r];return n}function Z2(e,t){var n;if(Object.create)n=Object.create(e);else{var r=function(){};r.prototype=e,n=new r}return t&&en(n,t),n}function vZ(e){var t=e.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function Bf(e,t){return e.hasOwnProperty(t)}function Qo(){}var Tw=180/Math.PI;function Wg(e,t){return e==null&&(e=0),t==null&&(t=0),[e,t]}function REe(e){return[e[0],e[1]]}function _6(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function yZ(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function LEe(e){return Math.sqrt($Ee(e))}function $Ee(e){return e[0]*e[0]+e[1]*e[1]}function XP(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function OO(e,t){var n=LEe(t);return n===0?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e}function aA(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var Mm=aA;function zEe(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var Ym=zEe;function Fs(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}function Am(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function Dm(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}var nm=function(){function e(t,n){this.target=t,this.topTarget=n&&n.topTarget}return e}(),BEe=function(){function e(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return e.prototype._dragStart=function(t){for(var n=t.target;n&&!n.draggable;)n=n.parent||n.__hostTarget;n&&(this._draggingTarget=n,n.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new nm(n,t),"dragstart",t.event))},e.prototype._drag=function(t){var n=this._draggingTarget;if(n){var r=t.offsetX,i=t.offsetY,o=r-this._x,s=i-this._y;this._x=r,this._y=i,n.drift(o,s,t),this.handler.dispatchToElement(new nm(n,t),"drag",t.event);var a=this.handler.findHover(r,i,n).target,c=this._dropTarget;this._dropTarget=a,n!==a&&(c&&a!==c&&this.handler.dispatchToElement(new nm(c,t),"dragleave",t.event),a&&a!==c&&this.handler.dispatchToElement(new nm(a,t),"dragenter",t.event))}},e.prototype._dragEnd=function(t){var n=this._draggingTarget;n&&(n.dragging=!1),this.handler.dispatchToElement(new nm(n,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new nm(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},e}(),vl=function(){function e(t){t&&(this._$eventProcessor=t)}return e.prototype.on=function(t,n,r,i){this._$handlers||(this._$handlers={});var o=this._$handlers;if(typeof n=="function"&&(i=r,r=n,n=null),!r||!t)return this;var s=this._$eventProcessor;n!=null&&s&&s.normalizeQuery&&(n=s.normalizeQuery(n)),o[t]||(o[t]=[]);for(var a=0;a<o[t].length;a++)if(o[t][a].h===r)return this;var c={h:r,query:n,ctx:i||this,callAtLast:r.zrEventfulCallAtLast},h=o[t].length-1,d=o[t][h];return d&&d.callAtLast?o[t].splice(h,0,c):o[t].push(c),this},e.prototype.isSilent=function(t){var n=this._$handlers;return!n||!n[t]||!n[t].length},e.prototype.off=function(t,n){var r=this._$handlers;if(!r)return this;if(!t)return this._$handlers={},this;if(n){if(r[t]){for(var i=[],o=0,s=r[t].length;o<s;o++)r[t][o].h!==n&&i.push(r[t][o]);r[t]=i}r[t]&&r[t].length===0&&delete r[t]}else delete r[t];return this},e.prototype.trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[t],o=this._$eventProcessor;if(i)for(var s=n.length,a=i.length,c=0;c<a;c++){var h=i[c];if(!(o&&o.filter&&h.query!=null&&!o.filter(t,h.query)))switch(s){case 0:h.h.call(h.ctx);break;case 1:h.h.call(h.ctx,n[0]);break;case 2:h.h.call(h.ctx,n[0],n[1]);break;default:h.h.apply(h.ctx,n);break}}return o&&o.afterTrigger&&o.afterTrigger(t),this},e.prototype.triggerWithContext=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[t],o=this._$eventProcessor;if(i)for(var s=n.length,a=n[s-1],c=i.length,h=0;h<c;h++){var d=i[h];if(!(o&&o.filter&&d.query!=null&&!o.filter(t,d.query)))switch(s){case 0:d.h.call(a);break;case 1:d.h.call(a,n[0]);break;case 2:d.h.call(a,n[0],n[1]);break;default:d.h.apply(a,n.slice(1,s-1));break}}return o&&o.afterTrigger&&o.afterTrigger(t),this},e}(),FEe=Math.log(2);function sA(e,t,n,r,i,o){var s=r+"-"+i,a=e.length;if(o.hasOwnProperty(s))return o[s];if(t===1){var c=Math.round(Math.log((1<<a)-1&~i)/FEe);return e[n][c]}for(var h=r|1<<n,d=n+1;r&1<<d;)d++;for(var g=0,y=0,v=0;y<a;y++){var x=1<<y;x&i||(g+=(v%2?-1:1)*e[n][y]*sA(e,t-1,d,h,i|x,o),v++)}return o[s]=g,g}function b6(e,t){var n=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],r={},i=sA(n,8,0,0,0,r);if(i!==0){for(var o=[],s=0;s<8;s++)for(var a=0;a<8;a++)o[a]==null&&(o[a]=0),o[a]+=((s+a)%2?-1:1)*sA(n,7,s===0?1:0,1<<s,1<<a,r)/i*t[s];return function(c,h,d){var g=h*o[6]+d*o[7]+1;c[0]=(h*o[0]+d*o[1]+o[2])/g,c[1]=(h*o[3]+d*o[4]+o[5])/g}}}var x6="___zrEVENTSAVED",YP=[];function NEe(e,t,n,r,i){return lA(YP,t,r,i,!0)&&lA(e,n,YP[0],YP[1])}function lA(e,t,n,r,i){if(t.getBoundingClientRect&&Ln.domSupported&&!_Z(t)){var o=t[x6]||(t[x6]={}),s=VEe(t,o),a=jEe(s,o,i);if(a)return a(e,n,r),!0}return!1}function VEe(e,t){var n=t.markers;if(n)return n;n=t.markers=[];for(var r=["left","right"],i=["top","bottom"],o=0;o<4;o++){var s=document.createElement("div"),a=s.style,c=o%2,h=(o>>1)%2;a.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[c]+":0",i[h]+":0",r[1-c]+":auto",i[1-h]+":auto",""].join("!important;"),e.appendChild(s),n.push(s)}return n}function jEe(e,t,n){for(var r=n?"invTrans":"trans",i=t[r],o=t.srcCoords,s=[],a=[],c=!0,h=0;h<4;h++){var d=e[h].getBoundingClientRect(),g=2*h,y=d.left,v=d.top;s.push(y,v),c=c&&o&&y===o[g]&&v===o[g+1],a.push(e[h].offsetLeft,e[h].offsetTop)}return c&&i?i:(t.srcCoords=s,t[r]=n?b6(a,s):b6(s,a))}function _Z(e){return e.nodeName.toUpperCase()==="CANVAS"}var HEe=/([&<>"'])/g,UEe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function pa(e){return e==null?"":(e+"").replace(HEe,function(t,n){return UEe[n]})}var GEe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,JP=[],WEe=Ln.browser.firefox&&+Ln.browser.version.split(".")[0]<39;function uA(e,t,n,r){return n=n||{},r?w6(e,t,n):WEe&&t.layerX!=null&&t.layerX!==t.offsetX?(n.zrX=t.layerX,n.zrY=t.layerY):t.offsetX!=null?(n.zrX=t.offsetX,n.zrY=t.offsetY):w6(e,t,n),n}function w6(e,t,n){if(Ln.domSupported&&e.getBoundingClientRect){var r=t.clientX,i=t.clientY;if(_Z(e)){var o=e.getBoundingClientRect();n.zrX=r-o.left,n.zrY=i-o.top;return}else if(lA(JP,e,r,i)){n.zrX=JP[0],n.zrY=JP[1];return}}n.zrX=n.zrY=0}function RO(e){return e||window.event}function Ms(e,t,n){if(t=RO(t),t.zrX!=null)return t;var r=t.type,i=r&&r.indexOf("touch")>=0;if(i){var s=r!=="touchend"?t.targetTouches[0]:t.changedTouches[0];s&&uA(e,s,t,n)}else{uA(e,t,t,n);var o=ZEe(t);t.zrDelta=o?o/120:-(t.detail||0)/3}var a=t.button;return t.which==null&&a!==void 0&&GEe.test(t.type)&&(t.which=a&1?1:a&2?3:a&4?2:0),t}function ZEe(e){var t=e.wheelDelta;if(t)return t;var n=e.deltaX,r=e.deltaY;if(n==null||r==null)return t;var i=Math.abs(r!==0?r:n),o=r>0?-1:r<0?1:n>0?-1:1;return 3*i*o}function qEe(e,t,n,r){e.addEventListener(t,n,r)}function KEe(e,t,n,r){e.removeEventListener(t,n,r)}var Pg=function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0};function S6(e){return e.which===2||e.which===3}var XEe=function(){function e(){this._track=[]}return e.prototype.recognize=function(t,n,r){return this._doTrack(t,n,r),this._recognize(t)},e.prototype.clear=function(){return this._track.length=0,this},e.prototype._doTrack=function(t,n,r){var i=t.touches;if(i){for(var o={points:[],touches:[],target:n,event:t},s=0,a=i.length;s<a;s++){var c=i[s],h=uA(r,c,{});o.points.push([h.zrX,h.zrY]),o.touches.push(c)}this._track.push(o)}},e.prototype._recognize=function(t){for(var n in QP)if(QP.hasOwnProperty(n)){var r=QP[n](this._track,t);if(r)return r}},e}();function C6(e){var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1];return Math.sqrt(t*t+n*n)}function YEe(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var QP={pinch:function(e,t){var n=e.length;if(n){var r=(e[n-1]||{}).points,i=(e[n-2]||{}).points||r;if(i&&i.length>1&&r&&r.length>1){var o=C6(r)/C6(i);!isFinite(o)&&(o=1),t.pinchScale=o;var s=YEe(r);return t.pinchX=s[0],t.pinchY=s[1],{type:"pinch",target:e[0].target,event:t}}}}};function Jm(){return[1,0,0,1,0,0]}function LO(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function JEe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Qm(e,t,n){var r=t[0]*n[0]+t[2]*n[1],i=t[1]*n[0]+t[3]*n[1],o=t[0]*n[2]+t[2]*n[3],s=t[1]*n[2]+t[3]*n[3],a=t[0]*n[4]+t[2]*n[5]+t[4],c=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=r,e[1]=i,e[2]=o,e[3]=s,e[4]=a,e[5]=c,e}function cA(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e}function $O(e,t,n,r){r===void 0&&(r=[0,0]);var i=t[0],o=t[2],s=t[4],a=t[1],c=t[3],h=t[5],d=Math.sin(n),g=Math.cos(n);return e[0]=i*g+a*d,e[1]=-i*d+a*g,e[2]=o*g+c*d,e[3]=-o*d+g*c,e[4]=g*(s-r[0])+d*(h-r[1])+r[0],e[5]=g*(h-r[1])-d*(s-r[0])+r[1],e}function QEe(e,t,n){var r=n[0],i=n[1];return e[0]=t[0]*r,e[1]=t[1]*i,e[2]=t[2]*r,e[3]=t[3]*i,e[4]=t[4]*r,e[5]=t[5]*i,e}function zO(e,t){var n=t[0],r=t[2],i=t[4],o=t[1],s=t[3],a=t[5],c=n*s-o*r;return c?(c=1/c,e[0]=s*c,e[1]=-o*c,e[2]=-r*c,e[3]=n*c,e[4]=(r*a-s*i)*c,e[5]=(o*i-n*a)*c,e):null}var $r=function(){function e(t,n){this.x=t||0,this.y=n||0}return e.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.set=function(t,n){return this.x=t,this.y=n,this},e.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},e.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},e.prototype.scale=function(t){this.x*=t,this.y*=t},e.prototype.scaleAndAdd=function(t,n){this.x+=t.x*n,this.y+=t.y*n},e.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},e.prototype.dot=function(t){return this.x*t.x+this.y*t.y},e.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},e.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},e.prototype.distance=function(t){var n=this.x-t.x,r=this.y-t.y;return Math.sqrt(n*n+r*r)},e.prototype.distanceSquare=function(t){var n=this.x-t.x,r=this.y-t.y;return n*n+r*r},e.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},e.prototype.transform=function(t){if(t){var n=this.x,r=this.y;return this.x=t[0]*n+t[2]*r+t[4],this.y=t[1]*n+t[3]*r+t[5],this}},e.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},e.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},e.set=function(t,n,r){t.x=n,t.y=r},e.copy=function(t,n){t.x=n.x,t.y=n.y},e.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},e.lenSquare=function(t){return t.x*t.x+t.y*t.y},e.dot=function(t,n){return t.x*n.x+t.y*n.y},e.add=function(t,n,r){t.x=n.x+r.x,t.y=n.y+r.y},e.sub=function(t,n,r){t.x=n.x-r.x,t.y=n.y-r.y},e.scale=function(t,n,r){t.x=n.x*r,t.y=n.y*r},e.scaleAndAdd=function(t,n,r,i){t.x=n.x+r.x*i,t.y=n.y+r.y*i},e.lerp=function(t,n,r,i){var o=1-i;t.x=o*n.x+i*r.x,t.y=o*n.y+i*r.y},e}(),dx=Math.min,fx=Math.max,Ed=new $r,Id=new $r,Md=new $r,Ad=new $r,zy=new $r,By=new $r,dr=function(){function e(t,n,r,i){r<0&&(t=t+r,r=-r),i<0&&(n=n+i,i=-i),this.x=t,this.y=n,this.width=r,this.height=i}return e.prototype.union=function(t){var n=dx(t.x,this.x),r=dx(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=fx(t.x+t.width,this.x+this.width)-n:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=fx(t.y+t.height,this.y+this.height)-r:this.height=t.height,this.x=n,this.y=r},e.prototype.applyTransform=function(t){e.applyTransform(this,this,t)},e.prototype.calculateTransform=function(t){var n=this,r=t.width/n.width,i=t.height/n.height,o=Jm();return cA(o,o,[-n.x,-n.y]),QEe(o,o,[r,i]),cA(o,o,[t.x,t.y]),o},e.prototype.intersect=function(t,n){if(!t)return!1;t instanceof e||(t=e.create(t));var r=this,i=r.x,o=r.x+r.width,s=r.y,a=r.y+r.height,c=t.x,h=t.x+t.width,d=t.y,g=t.y+t.height,y=!(o<c||h<i||a<d||g<s);if(n){var v=1/0,x=0,C=Math.abs(o-c),I=Math.abs(h-i),A=Math.abs(a-d),k=Math.abs(g-s),R=Math.min(C,I),z=Math.min(A,k);o<c||h<i?R>x&&(x=R,C<I?$r.set(By,-C,0):$r.set(By,I,0)):R<v&&(v=R,C<I?$r.set(zy,C,0):$r.set(zy,-I,0)),a<d||g<s?z>x&&(x=z,A<k?$r.set(By,0,-A):$r.set(By,0,k)):R<v&&(v=R,A<k?$r.set(zy,0,A):$r.set(zy,0,-k))}return n&&$r.copy(n,y?zy:By),y},e.prototype.contain=function(t,n){var r=this;return t>=r.x&&t<=r.x+r.width&&n>=r.y&&n<=r.y+r.height},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(t){e.copy(this,t)},e.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},e.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.isZero=function(){return this.width===0||this.height===0},e.create=function(t){return new e(t.x,t.y,t.width,t.height)},e.copy=function(t,n){t.x=n.x,t.y=n.y,t.width=n.width,t.height=n.height},e.applyTransform=function(t,n,r){if(!r){t!==n&&e.copy(t,n);return}if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var i=r[0],o=r[3],s=r[4],a=r[5];t.x=n.x*i+s,t.y=n.y*o+a,t.width=n.width*i,t.height=n.height*o,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}Ed.x=Md.x=n.x,Ed.y=Ad.y=n.y,Id.x=Ad.x=n.x+n.width,Id.y=Md.y=n.y+n.height,Ed.transform(r),Ad.transform(r),Id.transform(r),Md.transform(r),t.x=dx(Ed.x,Id.x,Md.x,Ad.x),t.y=dx(Ed.y,Id.y,Md.y,Ad.y);var c=fx(Ed.x,Id.x,Md.x,Ad.x),h=fx(Ed.y,Id.y,Md.y,Ad.y);t.width=c-t.x,t.height=h-t.y},e}(),bZ="silent";function eIe(e,t,n){return{type:e,event:n,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:tIe}}function tIe(){Pg(this.event)}var nIe=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.handler=null,n}return t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(vl),Fy=function(){function e(t,n){this.x=t,this.y=n}return e}(),rIe=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],eE=new dr(0,0,0,0),xZ=function(e){Xt(t,e);function t(n,r,i,o,s){var a=e.call(this)||this;return a._hovered=new Fy(0,0),a.storage=n,a.painter=r,a.painterRoot=o,a._pointerSize=s,i=i||new nIe,a.proxy=null,a.setHandlerProxy(i),a._draggingMgr=new BEe(a),a}return t.prototype.setHandlerProxy=function(n){this.proxy&&this.proxy.dispose(),n&&(Ne(rIe,function(r){n.on&&n.on(r,this[r],this)},this),n.handler=this),this.proxy=n},t.prototype.mousemove=function(n){var r=n.zrX,i=n.zrY,o=wZ(this,r,i),s=this._hovered,a=s.target;a&&!a.__zr&&(s=this.findHover(s.x,s.y),a=s.target);var c=this._hovered=o?new Fy(r,i):this.findHover(r,i),h=c.target,d=this.proxy;d.setCursor&&d.setCursor(h?h.cursor:"default"),a&&h!==a&&this.dispatchToElement(s,"mouseout",n),this.dispatchToElement(c,"mousemove",n),h&&h!==a&&this.dispatchToElement(c,"mouseover",n)},t.prototype.mouseout=function(n){var r=n.zrEventControl;r!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",n),r!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:n})},t.prototype.resize=function(){this._hovered=new Fy(0,0)},t.prototype.dispatch=function(n,r){var i=this[n];i&&i.call(this,r)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(n){var r=this.proxy;r.setCursor&&r.setCursor(n)},t.prototype.dispatchToElement=function(n,r,i){n=n||{};var o=n.target;if(!(o&&o.silent)){for(var s="on"+r,a=eIe(r,n,i);o&&(o[s]&&(a.cancelBubble=!!o[s].call(o,a)),o.trigger(r,a),o=o.__hostTarget?o.__hostTarget:o.parent,!a.cancelBubble););a.cancelBubble||(this.trigger(r,a),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(c){typeof c[s]=="function"&&c[s].call(c,a),c.trigger&&c.trigger(r,a)}))}},t.prototype.findHover=function(n,r,i){var o=this.storage.getDisplayList(),s=new Fy(n,r);if(T6(o,s,n,r,i),this._pointerSize&&!s.target){for(var a=[],c=this._pointerSize,h=c/2,d=new dr(n-h,r-h,c,c),g=o.length-1;g>=0;g--){var y=o[g];y!==i&&!y.ignore&&!y.ignoreCoarsePointer&&(!y.parent||!y.parent.ignoreCoarsePointer)&&(eE.copy(y.getBoundingRect()),y.transform&&eE.applyTransform(y.transform),eE.intersect(d)&&a.push(y))}if(a.length)for(var v=4,x=Math.PI/12,C=Math.PI*2,I=0;I<h;I+=v)for(var A=0;A<C;A+=x){var k=n+I*Math.cos(A),R=r+I*Math.sin(A);if(T6(a,s,k,R,i),s.target)return s}}return s},t.prototype.processGesture=function(n,r){this._gestureMgr||(this._gestureMgr=new XEe);var i=this._gestureMgr;r==="start"&&i.clear();var o=i.recognize(n,this.findHover(n.zrX,n.zrY,null).target,this.proxy.dom);if(r==="end"&&i.clear(),o){var s=o.type;n.gestureEvent=s;var a=new Fy;a.target=o.target,this.dispatchToElement(a,s,o.event)}},t}(vl);Ne(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){xZ.prototype[e]=function(t){var n=t.zrX,r=t.zrY,i=wZ(this,n,r),o,s;if((e!=="mouseup"||!i)&&(o=this.findHover(n,r),s=o.target),e==="mousedown")this._downEl=s,this._downPoint=[t.zrX,t.zrY],this._upEl=s;else if(e==="mouseup")this._upEl=s;else if(e==="click"){if(this._downEl!==this._upEl||!this._downPoint||Mm(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(o,e,t)}});function iIe(e,t,n){if(e[e.rectHover?"rectContain":"contain"](t,n)){for(var r=e,i=void 0,o=!1;r;){if(r.ignoreClip&&(o=!0),!o){var s=r.getClipPath();if(s&&!s.contain(t,n))return!1}r.silent&&(i=!0);var a=r.__hostTarget;r=a||r.parent}return i?bZ:!0}return!1}function T6(e,t,n,r,i){for(var o=e.length-1;o>=0;o--){var s=e[o],a=void 0;if(s!==i&&!s.ignore&&(a=iIe(s,n,r))&&(!t.topTarget&&(t.topTarget=s),a!==bZ)){t.target=s;break}}}function wZ(e,t,n){var r=e.painter;return t<0||t>r.getWidth()||n<0||n>r.getHeight()}var SZ=32,Ny=7;function oIe(e){for(var t=0;e>=SZ;)t|=e&1,e>>=1;return e+t}function P6(e,t,n,r){var i=t+1;if(i===n)return 1;if(r(e[i++],e[t])<0){for(;i<n&&r(e[i],e[i-1])<0;)i++;aIe(e,t,i)}else for(;i<n&&r(e[i],e[i-1])>=0;)i++;return i-t}function aIe(e,t,n){for(n--;t<n;){var r=e[t];e[t++]=e[n],e[n--]=r}}function E6(e,t,n,r,i){for(r===t&&r++;r<n;r++){for(var o=e[r],s=t,a=r,c;s<a;)c=s+a>>>1,i(o,e[c])<0?a=c:s=c+1;var h=r-s;switch(h){case 3:e[s+3]=e[s+2];case 2:e[s+2]=e[s+1];case 1:e[s+1]=e[s];break;default:for(;h>0;)e[s+h]=e[s+h-1],h--}e[s]=o}}function tE(e,t,n,r,i,o){var s=0,a=0,c=1;if(o(e,t[n+i])>0){for(a=r-i;c<a&&o(e,t[n+i+c])>0;)s=c,c=(c<<1)+1,c<=0&&(c=a);c>a&&(c=a),s+=i,c+=i}else{for(a=i+1;c<a&&o(e,t[n+i-c])<=0;)s=c,c=(c<<1)+1,c<=0&&(c=a);c>a&&(c=a);var h=s;s=i-c,c=i-h}for(s++;s<c;){var d=s+(c-s>>>1);o(e,t[n+d])>0?s=d+1:c=d}return c}function nE(e,t,n,r,i,o){var s=0,a=0,c=1;if(o(e,t[n+i])<0){for(a=i+1;c<a&&o(e,t[n+i-c])<0;)s=c,c=(c<<1)+1,c<=0&&(c=a);c>a&&(c=a);var h=s;s=i-c,c=i-h}else{for(a=r-i;c<a&&o(e,t[n+i+c])>=0;)s=c,c=(c<<1)+1,c<=0&&(c=a);c>a&&(c=a),s+=i,c+=i}for(s++;s<c;){var d=s+(c-s>>>1);o(e,t[n+d])<0?c=d:s=d+1}return c}function sIe(e,t){var n=Ny,r,i,o=0,s=[];r=[],i=[];function a(v,x){r[o]=v,i[o]=x,o+=1}function c(){for(;o>1;){var v=o-2;if(v>=1&&i[v-1]<=i[v]+i[v+1]||v>=2&&i[v-2]<=i[v]+i[v-1])i[v-1]<i[v+1]&&v--;else if(i[v]>i[v+1])break;d(v)}}function h(){for(;o>1;){var v=o-2;v>0&&i[v-1]<i[v+1]&&v--,d(v)}}function d(v){var x=r[v],C=i[v],I=r[v+1],A=i[v+1];i[v]=C+A,v===o-3&&(r[v+1]=r[v+2],i[v+1]=i[v+2]),o--;var k=nE(e[I],e,x,C,0,t);x+=k,C-=k,C!==0&&(A=tE(e[x+C-1],e,I,A,A-1,t),A!==0&&(C<=A?g(x,C,I,A):y(x,C,I,A)))}function g(v,x,C,I){var A=0;for(A=0;A<x;A++)s[A]=e[v+A];var k=0,R=C,z=v;if(e[z++]=e[R++],--I===0){for(A=0;A<x;A++)e[z+A]=s[k+A];return}if(x===1){for(A=0;A<I;A++)e[z+A]=e[R+A];e[z+I]=s[k];return}for(var V=n,U,N,W;;){U=0,N=0,W=!1;do if(t(e[R],s[k])<0){if(e[z++]=e[R++],N++,U=0,--I===0){W=!0;break}}else if(e[z++]=s[k++],U++,N=0,--x===1){W=!0;break}while((U|N)<V);if(W)break;do{if(U=nE(e[R],s,k,x,0,t),U!==0){for(A=0;A<U;A++)e[z+A]=s[k+A];if(z+=U,k+=U,x-=U,x<=1){W=!0;break}}if(e[z++]=e[R++],--I===0){W=!0;break}if(N=tE(s[k],e,R,I,0,t),N!==0){for(A=0;A<N;A++)e[z+A]=e[R+A];if(z+=N,R+=N,I-=N,I===0){W=!0;break}}if(e[z++]=s[k++],--x===1){W=!0;break}V--}while(U>=Ny||N>=Ny);if(W)break;V<0&&(V=0),V+=2}if(n=V,n<1&&(n=1),x===1){for(A=0;A<I;A++)e[z+A]=e[R+A];e[z+I]=s[k]}else{if(x===0)throw new Error;for(A=0;A<x;A++)e[z+A]=s[k+A]}}function y(v,x,C,I){var A=0;for(A=0;A<I;A++)s[A]=e[C+A];var k=v+x-1,R=I-1,z=C+I-1,V=0,U=0;if(e[z--]=e[k--],--x===0){for(V=z-(I-1),A=0;A<I;A++)e[V+A]=s[A];return}if(I===1){for(z-=x,k-=x,U=z+1,V=k+1,A=x-1;A>=0;A--)e[U+A]=e[V+A];e[z]=s[R];return}for(var N=n;;){var W=0,X=0,K=!1;do if(t(s[R],e[k])<0){if(e[z--]=e[k--],W++,X=0,--x===0){K=!0;break}}else if(e[z--]=s[R--],X++,W=0,--I===1){K=!0;break}while((W|X)<N);if(K)break;do{if(W=x-nE(s[R],e,v,x,x-1,t),W!==0){for(z-=W,k-=W,x-=W,U=z+1,V=k+1,A=W-1;A>=0;A--)e[U+A]=e[V+A];if(x===0){K=!0;break}}if(e[z--]=s[R--],--I===1){K=!0;break}if(X=I-tE(e[k],s,0,I,I-1,t),X!==0){for(z-=X,R-=X,I-=X,U=z+1,V=R+1,A=0;A<X;A++)e[U+A]=s[V+A];if(I<=1){K=!0;break}}if(e[z--]=e[k--],--x===0){K=!0;break}N--}while(W>=Ny||X>=Ny);if(K)break;N<0&&(N=0),N+=2}if(n=N,n<1&&(n=1),I===1){for(z-=x,k-=x,U=z+1,V=k+1,A=x-1;A>=0;A--)e[U+A]=e[V+A];e[z]=s[R]}else{if(I===0)throw new Error;for(V=z-(I-1),A=0;A<I;A++)e[V+A]=s[A]}}return{mergeRuns:c,forceMergeRuns:h,pushRun:a}}function Pw(e,t,n,r){n||(n=0),r||(r=e.length);var i=r-n;if(!(i<2)){var o=0;if(i<SZ){o=P6(e,n,r,t),E6(e,n,r,n+o,t);return}var s=sIe(e,t),a=oIe(i);do{if(o=P6(e,n,r,t),o<a){var c=i;c>a&&(c=a),E6(e,n,n+c,n+o,t),o=c}s.pushRun(n,o),s.mergeRuns(),i-=o,n+=o}while(i!==0);s.forceMergeRuns()}}var ts=1,f_=2,xm=4,I6=!1;function rE(){I6||(I6=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function M6(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var lIe=function(){function e(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=M6}return e.prototype.traverse=function(t,n){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(t,n)},e.prototype.getDisplayList=function(t,n){n=n||!1;var r=this._displayList;return(t||!r.length)&&this.updateDisplayList(n),r},e.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var n=this._roots,r=this._displayList,i=0,o=n.length;i<o;i++)this._updateAndAddDisplayable(n[i],null,t);r.length=this._displayListLen,Pw(r,M6)},e.prototype._updateAndAddDisplayable=function(t,n,r){if(!(t.ignore&&!r)){t.beforeUpdate(),t.update(),t.afterUpdate();var i=t.getClipPath();if(t.ignoreClip)n=null;else if(i){n?n=n.slice():n=[];for(var o=i,s=t;o;)o.parent=s,o.updateTransform(),n.push(o),s=o,o=o.getClipPath()}if(t.childrenRef){for(var a=t.childrenRef(),c=0;c<a.length;c++){var h=a[c];t.__dirty&&(h.__dirty|=ts),this._updateAndAddDisplayable(h,n,r)}t.__dirty=0}else{var d=t;n&&n.length?d.__clipPaths=n:d.__clipPaths&&d.__clipPaths.length>0&&(d.__clipPaths=[]),isNaN(d.z)&&(rE(),d.z=0),isNaN(d.z2)&&(rE(),d.z2=0),isNaN(d.zlevel)&&(rE(),d.zlevel=0),this._displayList[this._displayListLen++]=d}var g=t.getDecalElement&&t.getDecalElement();g&&this._updateAndAddDisplayable(g,n,r);var y=t.getTextGuideLine();y&&this._updateAndAddDisplayable(y,n,r);var v=t.getTextContent();v&&this._updateAndAddDisplayable(v,n,r)}},e.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},e.prototype.delRoot=function(t){if(t instanceof Array){for(var n=0,r=t.length;n<r;n++)this.delRoot(t[n]);return}var i=hr(this._roots,t);i>=0&&this._roots.splice(i,1)},e.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},e.prototype.getRoots=function(){return this._roots},e.prototype.dispose=function(){this._displayList=null,this._roots=null},e}(),SS;SS=Ln.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){return setTimeout(e,16)};var V_={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return .5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return e===0?0:Math.pow(1024,e-1)},exponentialOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,n=.1,r=.4;return e===0?0:e===1?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)))},elasticOut:function(e){var t,n=.1,r=.4;return e===0?0:e===1?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/r)+1)},elasticInOut:function(e){var t,n=.1,r=.4;return e===0?0:e===1?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?-.5*(n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)):n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-V_.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?V_.bounceIn(e*2)*.5:V_.bounceOut(e*2-1)*.5+.5}},px=Math.pow,vh=Math.sqrt,CS=1e-8,CZ=1e-4,A6=vh(3),mx=1/3,Bl=Wg(),Rs=Wg(),eg=Wg();function ch(e){return e>-CS&&e<CS}function TZ(e){return e>CS||e<-CS}function Po(e,t,n,r,i){var o=1-i;return o*o*(o*e+3*i*t)+i*i*(i*r+3*o*n)}function D6(e,t,n,r,i){var o=1-i;return 3*(((t-e)*o+2*(n-t)*i)*o+(r-n)*i*i)}function TS(e,t,n,r,i,o){var s=r+3*(t-n)-e,a=3*(n-t*2+e),c=3*(t-e),h=e-i,d=a*a-3*s*c,g=a*c-9*s*h,y=c*c-3*a*h,v=0;if(ch(d)&&ch(g))if(ch(a))o[0]=0;else{var x=-c/a;x>=0&&x<=1&&(o[v++]=x)}else{var C=g*g-4*d*y;if(ch(C)){var I=g/d,x=-a/s+I,A=-I/2;x>=0&&x<=1&&(o[v++]=x),A>=0&&A<=1&&(o[v++]=A)}else if(C>0){var k=vh(C),R=d*a+1.5*s*(-g+k),z=d*a+1.5*s*(-g-k);R<0?R=-px(-R,mx):R=px(R,mx),z<0?z=-px(-z,mx):z=px(z,mx);var x=(-a-(R+z))/(3*s);x>=0&&x<=1&&(o[v++]=x)}else{var V=(2*d*a-3*s*g)/(2*vh(d*d*d)),U=Math.acos(V)/3,N=vh(d),W=Math.cos(U),x=(-a-2*N*W)/(3*s),A=(-a+N*(W+A6*Math.sin(U)))/(3*s),X=(-a+N*(W-A6*Math.sin(U)))/(3*s);x>=0&&x<=1&&(o[v++]=x),A>=0&&A<=1&&(o[v++]=A),X>=0&&X<=1&&(o[v++]=X)}}return v}function PZ(e,t,n,r,i){var o=6*n-12*t+6*e,s=9*t+3*r-3*e-9*n,a=3*t-3*e,c=0;if(ch(s)){if(TZ(o)){var h=-a/o;h>=0&&h<=1&&(i[c++]=h)}}else{var d=o*o-4*s*a;if(ch(d))i[0]=-o/(2*s);else if(d>0){var g=vh(d),h=(-o+g)/(2*s),y=(-o-g)/(2*s);h>=0&&h<=1&&(i[c++]=h),y>=0&&y<=1&&(i[c++]=y)}}return c}function PS(e,t,n,r,i,o){var s=(t-e)*i+e,a=(n-t)*i+t,c=(r-n)*i+n,h=(a-s)*i+s,d=(c-a)*i+a,g=(d-h)*i+h;o[0]=e,o[1]=s,o[2]=h,o[3]=g,o[4]=g,o[5]=d,o[6]=c,o[7]=r}function uIe(e,t,n,r,i,o,s,a,c,h,d){var g,y=.005,v=1/0,x,C,I,A;Bl[0]=c,Bl[1]=h;for(var k=0;k<1;k+=.05)Rs[0]=Po(e,n,i,s,k),Rs[1]=Po(t,r,o,a,k),I=Ym(Bl,Rs),I<v&&(g=k,v=I);v=1/0;for(var R=0;R<32&&!(y<CZ);R++)x=g-y,C=g+y,Rs[0]=Po(e,n,i,s,x),Rs[1]=Po(t,r,o,a,x),I=Ym(Rs,Bl),x>=0&&I<v?(g=x,v=I):(eg[0]=Po(e,n,i,s,C),eg[1]=Po(t,r,o,a,C),A=Ym(eg,Bl),C<=1&&A<v?(g=C,v=A):y*=.5);return vh(v)}function cIe(e,t,n,r,i,o,s,a,c){for(var h=e,d=t,g=0,y=1/c,v=1;v<=c;v++){var x=v*y,C=Po(e,n,i,s,x),I=Po(t,r,o,a,x),A=C-h,k=I-d;g+=Math.sqrt(A*A+k*k),h=C,d=I}return g}function ma(e,t,n,r){var i=1-r;return i*(i*e+2*r*t)+r*r*n}function hA(e,t,n,r){return 2*((1-r)*(t-e)+r*(n-t))}function hIe(e,t,n,r,i){var o=e-2*t+n,s=2*(t-e),a=e-r,c=0;if(ch(o)){if(TZ(s)){var h=-a/s;h>=0&&h<=1&&(i[c++]=h)}}else{var d=s*s-4*o*a;if(ch(d)){var h=-s/(2*o);h>=0&&h<=1&&(i[c++]=h)}else if(d>0){var g=vh(d),h=(-s+g)/(2*o),y=(-s-g)/(2*o);h>=0&&h<=1&&(i[c++]=h),y>=0&&y<=1&&(i[c++]=y)}}return c}function EZ(e,t,n){var r=e+n-2*t;return r===0?.5:(e-t)/r}function ES(e,t,n,r,i){var o=(t-e)*r+e,s=(n-t)*r+t,a=(s-o)*r+o;i[0]=e,i[1]=o,i[2]=a,i[3]=a,i[4]=s,i[5]=n}function dIe(e,t,n,r,i,o,s,a,c){var h,d=.005,g=1/0;Bl[0]=s,Bl[1]=a;for(var y=0;y<1;y+=.05){Rs[0]=ma(e,n,i,y),Rs[1]=ma(t,r,o,y);var v=Ym(Bl,Rs);v<g&&(h=y,g=v)}g=1/0;for(var x=0;x<32&&!(d<CZ);x++){var C=h-d,I=h+d;Rs[0]=ma(e,n,i,C),Rs[1]=ma(t,r,o,C);var v=Ym(Rs,Bl);if(C>=0&&v<g)h=C,g=v;else{eg[0]=ma(e,n,i,I),eg[1]=ma(t,r,o,I);var A=Ym(eg,Bl);I<=1&&A<g?(h=I,g=A):d*=.5}}return vh(g)}function fIe(e,t,n,r,i,o,s){for(var a=e,c=t,h=0,d=1/s,g=1;g<=s;g++){var y=g*d,v=ma(e,n,i,y),x=ma(t,r,o,y),C=v-a,I=x-c;h+=Math.sqrt(C*C+I*I),a=v,c=x}return h}var pIe=/cubic-bezier\(([0-9,\.e ]+)\)/;function BO(e){var t=e&&pIe.exec(e);if(t){var n=t[1].split(","),r=+jl(n[0]),i=+jl(n[1]),o=+jl(n[2]),s=+jl(n[3]);if(isNaN(r+i+o+s))return;var a=[];return function(c){return c<=0?0:c>=1?1:TS(0,r,o,1,c,a)&&Po(0,i,s,1,a[0])}}}var mIe=function(){function e(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||Qo,this.ondestroy=t.ondestroy||Qo,this.onrestart=t.onrestart||Qo,t.easing&&this.setEasing(t.easing)}return e.prototype.step=function(t,n){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=n;return}var r=this._life,i=t-this._startTime-this._pausedTime,o=i/r;o<0&&(o=0),o=Math.min(o,1);var s=this.easingFunc,a=s?s(o):o;if(this.onframe(a),o===1)if(this.loop){var c=i%r;this._startTime=t-c,this._pausedTime=0,this.onrestart()}else return!0;return!1},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1},e.prototype.setEasing=function(t){this.easing=t,this.easingFunc=Sn(t)?t:V_[t]||BO(t)},e}(),IZ=function(){function e(t){this.value=t}return e}(),gIe=function(){function e(){this._len=0}return e.prototype.insert=function(t){var n=new IZ(t);return this.insertEntry(n),n},e.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},e.prototype.remove=function(t){var n=t.prev,r=t.next;n?n.next=r:this.head=r,r?r.prev=n:this.tail=n,t.next=t.prev=null,this._len--},e.prototype.len=function(){return this._len},e.prototype.clear=function(){this.head=this.tail=null,this._len=0},e}(),vb=function(){function e(t){this._list=new gIe,this._maxSize=10,this._map={},this._maxSize=t}return e.prototype.put=function(t,n){var r=this._list,i=this._map,o=null;if(i[t]==null){var s=r.len(),a=this._lastRemovedEntry;if(s>=this._maxSize&&s>0){var c=r.head;r.remove(c),delete i[c.key],o=c.value,this._lastRemovedEntry=c}a?a.value=n:a=new IZ(n),a.key=t,r.insertEntry(a),i[t]=a}return o},e.prototype.get=function(t){var n=this._map[t],r=this._list;if(n!=null)return n!==r.tail&&(r.remove(n),r.insertEntry(n)),n.value},e.prototype.clear=function(){this._list.clear(),this._map={}},e.prototype.len=function(){return this._list.len()},e}(),k6={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function yh(e){return e=Math.round(e),e<0?0:e>255?255:e}function dA(e){return e<0?0:e>1?1:e}function iE(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?yh(parseFloat(t)/100*255):yh(parseInt(t,10))}function j_(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?dA(parseFloat(t)/100):dA(parseFloat(t))}function oE(e,t,n){return n<0?n+=1:n>1&&(n-=1),n*6<1?e+(t-e)*n*6:n*2<1?t:n*3<2?e+(t-e)*(2/3-n)*6:e}function gx(e,t,n){return e+(t-e)*n}function Es(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function fA(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var MZ=new vb(20),vx=null;function rm(e,t){vx&&fA(vx,t),vx=MZ.put(e,vx||t.slice())}function Zl(e,t){if(e){t=t||[];var n=MZ.get(e);if(n)return fA(t,n);e=e+"";var r=e.replace(/ /g,"").toLowerCase();if(r in k6)return fA(t,k6[r]),rm(e,t),t;var i=r.length;if(r.charAt(0)==="#"){if(i===4||i===5){var o=parseInt(r.slice(1,4),16);if(!(o>=0&&o<=4095)){Es(t,0,0,0,1);return}return Es(t,(o&3840)>>4|(o&3840)>>8,o&240|(o&240)>>4,o&15|(o&15)<<4,i===5?parseInt(r.slice(4),16)/15:1),rm(e,t),t}else if(i===7||i===9){var o=parseInt(r.slice(1,7),16);if(!(o>=0&&o<=16777215)){Es(t,0,0,0,1);return}return Es(t,(o&16711680)>>16,(o&65280)>>8,o&255,i===9?parseInt(r.slice(7),16)/255:1),rm(e,t),t}return}var s=r.indexOf("("),a=r.indexOf(")");if(s!==-1&&a+1===i){var c=r.substr(0,s),h=r.substr(s+1,a-(s+1)).split(","),d=1;switch(c){case"rgba":if(h.length!==4)return h.length===3?Es(t,+h[0],+h[1],+h[2],1):Es(t,0,0,0,1);d=j_(h.pop());case"rgb":if(h.length>=3)return Es(t,iE(h[0]),iE(h[1]),iE(h[2]),h.length===3?d:j_(h[3])),rm(e,t),t;Es(t,0,0,0,1);return;case"hsla":if(h.length!==4){Es(t,0,0,0,1);return}return h[3]=j_(h[3]),O6(h,t),rm(e,t),t;case"hsl":if(h.length!==3){Es(t,0,0,0,1);return}return O6(h,t),rm(e,t),t;default:return}}Es(t,0,0,0,1)}}function O6(e,t){var n=(parseFloat(e[0])%360+360)%360/360,r=j_(e[1]),i=j_(e[2]),o=i<=.5?i*(r+1):i+r-i*r,s=i*2-o;return t=t||[],Es(t,yh(oE(s,o,n+1/3)*255),yh(oE(s,o,n)*255),yh(oE(s,o,n-1/3)*255),1),e.length===4&&(t[3]=e[3]),t}function R6(e,t){var n=Zl(e);if(n){for(var r=0;r<3;r++)n[r]=n[r]*(1-t)|0,n[r]>255?n[r]=255:n[r]<0&&(n[r]=0);return q2(n,n.length===4?"rgba":"rgb")}}function vIe(e,t,n){if(!(!(t&&t.length)||!(e>=0&&e<=1))){var r=e*(t.length-1),i=Math.floor(r),o=Math.ceil(r),s=Zl(t[i]),a=Zl(t[o]),c=r-i,h=q2([yh(gx(s[0],a[0],c)),yh(gx(s[1],a[1],c)),yh(gx(s[2],a[2],c)),dA(gx(s[3],a[3],c))],"rgba");return n?{color:h,leftIndex:i,rightIndex:o,value:r}:h}}function q2(e,t){if(!(!e||!e.length)){var n=e[0]+","+e[1]+","+e[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(n+=","+e[3]),t+"("+n+")"}}function IS(e,t){var n=Zl(e);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*t:0}var L6=new vb(100);function pA(e){if(pn(e)){var t=L6.get(e);return t||(t=R6(e,-.1),L6.put(e,t)),t}else if(W2(e)){var n=en({},e);return n.colorStops=_n(e.colorStops,function(r){return{offset:r.offset,color:R6(r.color,-.1)}}),n}return e}var MS=Math.round;function A0(e){var t;if(!e||e==="transparent")e="none";else if(typeof e=="string"&&e.indexOf("rgba")>-1){var n=Zl(e);n&&(e="rgb("+n[0]+","+n[1]+","+n[2]+")",t=n[3])}return{color:e,opacity:t??1}}var $6=1e-4;function hh(e){return e<$6&&e>-$6}function yx(e){return MS(e*1e3)/1e3}function mA(e){return MS(e*1e4)/1e4}function yIe(e){return"matrix("+yx(e[0])+","+yx(e[1])+","+yx(e[2])+","+yx(e[3])+","+mA(e[4])+","+mA(e[5])+")"}var _Ie={left:"start",right:"end",center:"middle",middle:"middle"};function bIe(e,t,n){return n==="top"?e+=t/2:n==="bottom"&&(e-=t/2),e}function xIe(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY)}function wIe(e){var t=e.style,n=e.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),n[0],n[1]].join(",")}function AZ(e){return e&&!!e.image}function SIe(e){return e&&!!e.svgElement}function FO(e){return AZ(e)||SIe(e)}function DZ(e){return e.type==="linear"}function kZ(e){return e.type==="radial"}function OZ(e){return e&&(e.type==="linear"||e.type==="radial")}function K2(e){return"url(#"+e+")"}function RZ(e){var t=e.getGlobalScale(),n=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(n)/Math.log(10)),1)}function LZ(e){var t=e.x||0,n=e.y||0,r=(e.rotation||0)*Tw,i=Fn(e.scaleX,1),o=Fn(e.scaleY,1),s=e.skewX||0,a=e.skewY||0,c=[];return(t||n)&&c.push("translate("+t+"px,"+n+"px)"),r&&c.push("rotate("+r+")"),(i!==1||o!==1)&&c.push("scale("+i+","+o+")"),(s||a)&&c.push("skew("+MS(s*Tw)+"deg, "+MS(a*Tw)+"deg)"),c.join(" ")}var CIe=function(){return Ln.hasGlobalWindow&&Sn(window.btoa)?function(e){return window.btoa(unescape(encodeURIComponent(e)))}:typeof Buffer<"u"?function(e){return Buffer.from(e).toString("base64")}:function(e){return null}}(),gA=Array.prototype.slice;function Vu(e,t,n){return(t-e)*n+e}function aE(e,t,n,r){for(var i=t.length,o=0;o<i;o++)e[o]=Vu(t[o],n[o],r);return e}function TIe(e,t,n,r){for(var i=t.length,o=i&&t[0].length,s=0;s<i;s++){e[s]||(e[s]=[]);for(var a=0;a<o;a++)e[s][a]=Vu(t[s][a],n[s][a],r)}return e}function _x(e,t,n,r){for(var i=t.length,o=0;o<i;o++)e[o]=t[o]+n[o]*r;return e}function z6(e,t,n,r){for(var i=t.length,o=i&&t[0].length,s=0;s<i;s++){e[s]||(e[s]=[]);for(var a=0;a<o;a++)e[s][a]=t[s][a]+n[s][a]*r}return e}function PIe(e,t){for(var n=e.length,r=t.length,i=n>r?t:e,o=Math.min(n,r),s=i[o-1]||{color:[0,0,0,0],offset:0},a=o;a<Math.max(n,r);a++)i.push({offset:s.offset,color:s.color.slice()})}function EIe(e,t,n){var r=e,i=t;if(!(!r.push||!i.push)){var o=r.length,s=i.length;if(o!==s){var a=o>s;if(a)r.length=s;else for(var c=o;c<s;c++)r.push(n===1?i[c]:gA.call(i[c]))}for(var h=r[0]&&r[0].length,c=0;c<r.length;c++)if(n===1)isNaN(r[c])&&(r[c]=i[c]);else for(var d=0;d<h;d++)isNaN(r[c][d])&&(r[c][d]=i[c][d])}}function Ew(e){if(Ra(e)){var t=e.length;if(Ra(e[0])){for(var n=[],r=0;r<t;r++)n.push(gA.call(e[r]));return n}return gA.call(e)}return e}function Iw(e){return e[0]=Math.floor(e[0])||0,e[1]=Math.floor(e[1])||0,e[2]=Math.floor(e[2])||0,e[3]=e[3]==null?1:e[3],"rgba("+e.join(",")+")"}function IIe(e){return Ra(e&&e[0])?2:1}var bx=0,Mw=1,$Z=2,p_=3,vA=4,yA=5,B6=6;function F6(e){return e===vA||e===yA}function xx(e){return e===Mw||e===$Z}var Vy=[0,0,0,0],MIe=function(){function e(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return e.prototype.isFinished=function(){return this._finished},e.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},e.prototype.needsAnimate=function(){return this.keyframes.length>=1},e.prototype.getAdditiveTrack=function(){return this._additiveTrack},e.prototype.addKeyframe=function(t,n,r){this._needsSort=!0;var i=this.keyframes,o=i.length,s=!1,a=B6,c=n;if(Ra(n)){var h=IIe(n);a=h,(h===1&&!ti(n[0])||h===2&&!ti(n[0][0]))&&(s=!0)}else if(ti(n)&&!wS(n))a=bx;else if(pn(n))if(!isNaN(+n))a=bx;else{var d=Zl(n);d&&(c=d,a=p_)}else if(W2(n)){var g=en({},c);g.colorStops=_n(n.colorStops,function(v){return{offset:v.offset,color:Zl(v.color)}}),DZ(n)?a=vA:kZ(n)&&(a=yA),c=g}o===0?this.valType=a:(a!==this.valType||a===B6)&&(s=!0),this.discrete=this.discrete||s;var y={time:t,value:c,rawValue:n,percent:0};return r&&(y.easing=r,y.easingFunc=Sn(r)?r:V_[r]||BO(r)),i.push(y),y},e.prototype.prepare=function(t,n){var r=this.keyframes;this._needsSort&&r.sort(function(C,I){return C.time-I.time});for(var i=this.valType,o=r.length,s=r[o-1],a=this.discrete,c=xx(i),h=F6(i),d=0;d<o;d++){var g=r[d],y=g.value,v=s.value;g.percent=g.time/t,a||(c&&d!==o-1?EIe(y,v,i):h&&PIe(y.colorStops,v.colorStops))}if(!a&&i!==yA&&n&&this.needsAnimate()&&n.needsAnimate()&&i===n.valType&&!n._finished){this._additiveTrack=n;for(var x=r[0].value,d=0;d<o;d++)i===bx?r[d].additiveValue=r[d].value-x:i===p_?r[d].additiveValue=_x([],r[d].value,x,-1):xx(i)&&(r[d].additiveValue=i===Mw?_x([],r[d].value,x,-1):z6([],r[d].value,x,-1))}},e.prototype.step=function(t,n){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var r=this._additiveTrack!=null,i=r?"additiveValue":"value",o=this.valType,s=this.keyframes,a=s.length,c=this.propName,h=o===p_,d,g=this._lastFr,y=Math.min,v,x;if(a===1)v=x=s[0];else{if(n<0)d=0;else if(n<this._lastFrP){var C=y(g+1,a-1);for(d=C;d>=0&&!(s[d].percent<=n);d--);d=y(d,a-2)}else{for(d=g;d<a&&!(s[d].percent>n);d++);d=y(d-1,a-2)}x=s[d+1],v=s[d]}if(v&&x){this._lastFr=d,this._lastFrP=n;var I=x.percent-v.percent,A=I===0?1:y((n-v.percent)/I,1);x.easingFunc&&(A=x.easingFunc(A));var k=r?this._additiveValue:h?Vy:t[c];if((xx(o)||h)&&!k&&(k=this._additiveValue=[]),this.discrete)t[c]=A<1?v.rawValue:x.rawValue;else if(xx(o))o===Mw?aE(k,v[i],x[i],A):TIe(k,v[i],x[i],A);else if(F6(o)){var R=v[i],z=x[i],V=o===vA;t[c]={type:V?"linear":"radial",x:Vu(R.x,z.x,A),y:Vu(R.y,z.y,A),colorStops:_n(R.colorStops,function(N,W){var X=z.colorStops[W];return{offset:Vu(N.offset,X.offset,A),color:Iw(aE([],N.color,X.color,A))}}),global:z.global},V?(t[c].x2=Vu(R.x2,z.x2,A),t[c].y2=Vu(R.y2,z.y2,A)):t[c].r=Vu(R.r,z.r,A)}else if(h)aE(k,v[i],x[i],A),r||(t[c]=Iw(k));else{var U=Vu(v[i],x[i],A);r?this._additiveValue=U:t[c]=U}r&&this._addToTarget(t)}}},e.prototype._addToTarget=function(t){var n=this.valType,r=this.propName,i=this._additiveValue;n===bx?t[r]=t[r]+i:n===p_?(Zl(t[r],Vy),_x(Vy,Vy,i,1),t[r]=Iw(Vy)):n===Mw?_x(t[r],t[r],i,1):n===$Z&&z6(t[r],t[r],i,1)},e}(),NO=function(){function e(t,n,r,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=n,n&&i){DO("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=r}return e.prototype.getMaxTime=function(){return this._maxTime},e.prototype.getDelay=function(){return this._delay},e.prototype.getLoop=function(){return this._loop},e.prototype.getTarget=function(){return this._target},e.prototype.changeTarget=function(t){this._target=t},e.prototype.when=function(t,n,r){return this.whenWithKeys(t,n,lr(n),r)},e.prototype.whenWithKeys=function(t,n,r,i){for(var o=this._tracks,s=0;s<r.length;s++){var a=r[s],c=o[a];if(!c){c=o[a]=new MIe(a);var h=void 0,d=this._getAdditiveTrack(a);if(d){var g=d.keyframes,y=g[g.length-1];h=y&&y.value,d.valType===p_&&h&&(h=Iw(h))}else h=this._target[a];if(h==null)continue;t>0&&c.addKeyframe(0,Ew(h),i),this._trackKeys.push(a)}c.addKeyframe(t,Ew(n[a]),i)}return this._maxTime=Math.max(this._maxTime,t),this},e.prototype.pause=function(){this._clip.pause(),this._paused=!0},e.prototype.resume=function(){this._clip.resume(),this._paused=!1},e.prototype.isPaused=function(){return!!this._paused},e.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},e.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var n=t.length,r=0;r<n;r++)t[r].call(this)},e.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,n=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,n)for(var r=0;r<n.length;r++)n[r].call(this)},e.prototype._setTracksFinished=function(){for(var t=this._tracks,n=this._trackKeys,r=0;r<n.length;r++)t[n[r]].setFinished()},e.prototype._getAdditiveTrack=function(t){var n,r=this._additiveAnimators;if(r)for(var i=0;i<r.length;i++){var o=r[i].getTrack(t);o&&(n=o)}return n},e.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var n=this,r=[],i=this._maxTime||0,o=0;o<this._trackKeys.length;o++){var s=this._trackKeys[o],a=this._tracks[s],c=this._getAdditiveTrack(s),h=a.keyframes,d=h.length;if(a.prepare(i,c),a.needsAnimate())if(!this._allowDiscrete&&a.discrete){var g=h[d-1];g&&(n._target[a.propName]=g.rawValue),a.setFinished()}else r.push(a)}if(r.length||this._force){var y=new mIe({life:i,loop:this._loop,delay:this._delay||0,onframe:function(v){n._started=2;var x=n._additiveAnimators;if(x){for(var C=!1,I=0;I<x.length;I++)if(x[I]._clip){C=!0;break}C||(n._additiveAnimators=null)}for(var I=0;I<r.length;I++)r[I].step(n._target,v);var A=n._onframeCbs;if(A)for(var I=0;I<A.length;I++)A[I](n._target,v)},ondestroy:function(){n._doneCallback()}});this._clip=y,this.animation&&this.animation.addClip(y),t&&y.setEasing(t)}else this._doneCallback();return this}},e.prototype.stop=function(t){if(this._clip){var n=this._clip;t&&n.onframe(1),this._abortedCallback()}},e.prototype.delay=function(t){return this._delay=t,this},e.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},e.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},e.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},e.prototype.getClip=function(){return this._clip},e.prototype.getTrack=function(t){return this._tracks[t]},e.prototype.getTracks=function(){var t=this;return _n(this._trackKeys,function(n){return t._tracks[n]})},e.prototype.stopTracks=function(t,n){if(!t.length||!this._clip)return!0;for(var r=this._tracks,i=this._trackKeys,o=0;o<t.length;o++){var s=r[t[o]];s&&!s.isFinished()&&(n?s.step(this._target,1):this._started===1&&s.step(this._target,0),s.setFinished())}for(var a=!0,o=0;o<i.length;o++)if(!r[i[o]].isFinished()){a=!1;break}return a&&this._abortedCallback(),a},e.prototype.saveTo=function(t,n,r){if(t){n=n||this._trackKeys;for(var i=0;i<n.length;i++){var o=n[i],s=this._tracks[o];if(!(!s||s.isFinished())){var a=s.keyframes,c=a[r?0:a.length-1];c&&(t[o]=Ew(c.rawValue))}}}},e.prototype.__changeFinalValue=function(t,n){n=n||lr(t);for(var r=0;r<n.length;r++){var i=n[r],o=this._tracks[i];if(o){var s=o.keyframes;if(s.length>1){var a=s.pop();o.addKeyframe(a.time,t[i]),o.prepare(this._maxTime,o.getAdditiveTrack())}}}},e}();function km(){return new Date().getTime()}var AIe=function(e){Xt(t,e);function t(n){var r=e.call(this)||this;return r._running=!1,r._time=0,r._pausedTime=0,r._pauseStart=0,r._paused=!1,n=n||{},r.stage=n.stage||{},r}return t.prototype.addClip=function(n){n.animation&&this.removeClip(n),this._head?(this._tail.next=n,n.prev=this._tail,n.next=null,this._tail=n):this._head=this._tail=n,n.animation=this},t.prototype.addAnimator=function(n){n.animation=this;var r=n.getClip();r&&this.addClip(r)},t.prototype.removeClip=function(n){if(n.animation){var r=n.prev,i=n.next;r?r.next=i:this._head=i,i?i.prev=r:this._tail=r,n.next=n.prev=n.animation=null}},t.prototype.removeAnimator=function(n){var r=n.getClip();r&&this.removeClip(r),n.animation=null},t.prototype.update=function(n){for(var r=km()-this._pausedTime,i=r-this._time,o=this._head;o;){var s=o.next,a=o.step(r,i);a&&(o.ondestroy(),this.removeClip(o)),o=s}this._time=r,n||(this.trigger("frame",i),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var n=this;this._running=!0;function r(){n._running&&(SS(r),!n._paused&&n.update())}SS(r)},t.prototype.start=function(){this._running||(this._time=km(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=km(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=km()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var n=this._head;n;){var r=n.next;n.prev=n.next=n.animation=null,n=r}this._head=this._tail=null},t.prototype.isFinished=function(){return this._head==null},t.prototype.animate=function(n,r){r=r||{},this.start();var i=new NO(n,r.loop);return this.addAnimator(i),i},t}(vl),DIe=300,sE=Ln.domSupported,lE=function(){var e=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],n={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},r=_n(e,function(i){var o=i.replace("mouse","pointer");return n.hasOwnProperty(o)?o:i});return{mouse:e,touch:t,pointer:r}}(),N6={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},V6=!1;function _A(e){var t=e.pointerType;return t==="pen"||t==="touch"}function kIe(e){e.touching=!0,e.touchTimer!=null&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)}function uE(e){e&&(e.zrByTouch=!0)}function OIe(e,t){return Ms(e.dom,new RIe(e,t),!0)}function zZ(e,t){for(var n=t,r=!1;n&&n.nodeType!==9&&!(r=n.domBelongToZr||n!==t&&n===e.painterRoot);)n=n.parentNode;return r}var RIe=function(){function e(t,n){this.stopPropagation=Qo,this.stopImmediatePropagation=Qo,this.preventDefault=Qo,this.type=n.type,this.target=this.currentTarget=t.dom,this.pointerType=n.pointerType,this.clientX=n.clientX,this.clientY=n.clientY}return e}(),nl={mousedown:function(e){e=Ms(this.dom,e),this.__mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=Ms(this.dom,e);var t=this.__mayPointerCapture;t&&(e.zrX!==t[0]||e.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",e)},mouseup:function(e){e=Ms(this.dom,e),this.__togglePointerCapture(!1),this.trigger("mouseup",e)},mouseout:function(e){e=Ms(this.dom,e);var t=e.toElement||e.relatedTarget;zZ(this,t)||(this.__pointerCapturing&&(e.zrEventControl="no_globalout"),this.trigger("mouseout",e))},wheel:function(e){V6=!0,e=Ms(this.dom,e),this.trigger("mousewheel",e)},mousewheel:function(e){V6||(e=Ms(this.dom,e),this.trigger("mousewheel",e))},touchstart:function(e){e=Ms(this.dom,e),uE(e),this.__lastTouchMoment=new Date,this.handler.processGesture(e,"start"),nl.mousemove.call(this,e),nl.mousedown.call(this,e)},touchmove:function(e){e=Ms(this.dom,e),uE(e),this.handler.processGesture(e,"change"),nl.mousemove.call(this,e)},touchend:function(e){e=Ms(this.dom,e),uE(e),this.handler.processGesture(e,"end"),nl.mouseup.call(this,e),+new Date-+this.__lastTouchMoment<DIe&&nl.click.call(this,e)},pointerdown:function(e){nl.mousedown.call(this,e)},pointermove:function(e){_A(e)||nl.mousemove.call(this,e)},pointerup:function(e){nl.mouseup.call(this,e)},pointerout:function(e){_A(e)||nl.mouseout.call(this,e)}};Ne(["click","dblclick","contextmenu"],function(e){nl[e]=function(t){t=Ms(this.dom,t),this.trigger(e,t)}});var bA={pointermove:function(e){_A(e)||bA.mousemove.call(this,e)},pointerup:function(e){bA.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function LIe(e,t){var n=t.domHandlers;Ln.pointerEventsSupported?Ne(lE.pointer,function(r){Aw(t,r,function(i){n[r].call(e,i)})}):(Ln.touchEventsSupported&&Ne(lE.touch,function(r){Aw(t,r,function(i){n[r].call(e,i),kIe(t)})}),Ne(lE.mouse,function(r){Aw(t,r,function(i){i=RO(i),t.touching||n[r].call(e,i)})}))}function $Ie(e,t){Ln.pointerEventsSupported?Ne(N6.pointer,n):Ln.touchEventsSupported||Ne(N6.mouse,n);function n(r){function i(o){o=RO(o),zZ(e,o.target)||(o=OIe(e,o),t.domHandlers[r].call(e,o))}Aw(t,r,i,{capture:!0})}}function Aw(e,t,n,r){e.mounted[t]=n,e.listenerOpts[t]=r,qEe(e.domTarget,t,n,r)}function cE(e){var t=e.mounted;for(var n in t)t.hasOwnProperty(n)&&KEe(e.domTarget,n,t[n],e.listenerOpts[n]);e.mounted={}}var j6=function(){function e(t,n){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=n}return e}(),zIe=function(e){Xt(t,e);function t(n,r){var i=e.call(this)||this;return i.__pointerCapturing=!1,i.dom=n,i.painterRoot=r,i._localHandlerScope=new j6(n,nl),sE&&(i._globalHandlerScope=new j6(document,bA)),LIe(i,i._localHandlerScope),i}return t.prototype.dispose=function(){cE(this._localHandlerScope),sE&&cE(this._globalHandlerScope)},t.prototype.setCursor=function(n){this.dom.style&&(this.dom.style.cursor=n||"default")},t.prototype.__togglePointerCapture=function(n){if(this.__mayPointerCapture=null,sE&&+this.__pointerCapturing^+n){this.__pointerCapturing=n;var r=this._globalHandlerScope;n?$Ie(this,r):cE(r)}},t}(vl),BZ=1;Ln.hasGlobalWindow&&(BZ=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var AS=BZ,xA=.4,wA="#333",SA="#ccc",BIe="#eee",H6=LO,U6=5e-5;function Dd(e){return e>U6||e<-U6}var kd=[],im=[],hE=Jm(),dE=Math.abs,VO=function(){function e(){}return e.prototype.getLocalTransform=function(t){return e.getLocalTransform(this,t)},e.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},e.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},e.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},e.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},e.prototype.needLocalTransform=function(){return Dd(this.rotation)||Dd(this.x)||Dd(this.y)||Dd(this.scaleX-1)||Dd(this.scaleY-1)||Dd(this.skewX)||Dd(this.skewY)},e.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,n=this.needLocalTransform(),r=this.transform;if(!(n||t)){r&&(H6(r),this.invTransform=null);return}r=r||Jm(),n?this.getLocalTransform(r):H6(r),t&&(n?Qm(r,t,r):JEe(r,t)),this.transform=r,this._resolveGlobalScaleRatio(r)},e.prototype._resolveGlobalScaleRatio=function(t){var n=this.globalScaleRatio;if(n!=null&&n!==1){this.getGlobalScale(kd);var r=kd[0]<0?-1:1,i=kd[1]<0?-1:1,o=((kd[0]-r)*n+r)/kd[0]||0,s=((kd[1]-i)*n+i)/kd[1]||0;t[0]*=o,t[1]*=o,t[2]*=s,t[3]*=s}this.invTransform=this.invTransform||Jm(),zO(this.invTransform,t)},e.prototype.getComputedTransform=function(){for(var t=this,n=[];t;)n.push(t),t=t.parent;for(;t=n.pop();)t.updateTransform();return this.transform},e.prototype.setLocalTransform=function(t){if(t){var n=t[0]*t[0]+t[1]*t[1],r=t[2]*t[2]+t[3]*t[3],i=Math.atan2(t[1],t[0]),o=Math.PI/2+i-Math.atan2(t[3],t[2]);r=Math.sqrt(r)*Math.cos(o),n=Math.sqrt(n),this.skewX=o,this.skewY=0,this.rotation=-i,this.x=+t[4],this.y=+t[5],this.scaleX=n,this.scaleY=r,this.originX=0,this.originY=0}},e.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,n=this.transform;t&&t.transform&&(t.invTransform=t.invTransform||Jm(),Qm(im,t.invTransform,n),n=im);var r=this.originX,i=this.originY;(r||i)&&(hE[4]=r,hE[5]=i,Qm(im,n,hE),im[4]-=r,im[5]-=i,n=im),this.setLocalTransform(n)}},e.prototype.getGlobalScale=function(t){var n=this.transform;return t=t||[],n?(t[0]=Math.sqrt(n[0]*n[0]+n[1]*n[1]),t[1]=Math.sqrt(n[2]*n[2]+n[3]*n[3]),n[0]<0&&(t[0]=-t[0]),n[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},e.prototype.transformCoordToLocal=function(t,n){var r=[t,n],i=this.invTransform;return i&&Fs(r,r,i),r},e.prototype.transformCoordToGlobal=function(t,n){var r=[t,n],i=this.transform;return i&&Fs(r,r,i),r},e.prototype.getLineScale=function(){var t=this.transform;return t&&dE(t[0]-1)>1e-10&&dE(t[3]-1)>1e-10?Math.sqrt(dE(t[0]*t[3]-t[2]*t[1])):1},e.prototype.copyTransform=function(t){FZ(this,t)},e.getLocalTransform=function(t,n){n=n||[];var r=t.originX||0,i=t.originY||0,o=t.scaleX,s=t.scaleY,a=t.anchorX,c=t.anchorY,h=t.rotation||0,d=t.x,g=t.y,y=t.skewX?Math.tan(t.skewX):0,v=t.skewY?Math.tan(-t.skewY):0;if(r||i||a||c){var x=r+a,C=i+c;n[4]=-x*o-y*C*s,n[5]=-C*s-v*x*o}else n[4]=n[5]=0;return n[0]=o,n[3]=s,n[1]=v*o,n[2]=y*s,h&&$O(n,n,h),n[4]+=r+d,n[5]+=i+g,n},e.initDefaultProps=function(){var t=e.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0}(),e}(),D0=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function FZ(e,t){for(var n=0;n<D0.length;n++){var r=D0[n];e[r]=t[r]}}var G6={};function is(e,t){t=t||Ih;var n=G6[t];n||(n=G6[t]=new vb(500));var r=n.get(e);return r==null&&(r=Ug.measureText(e,t).width,n.put(e,r)),r}function W6(e,t,n,r){var i=is(e,t),o=X2(t),s=m_(0,i,n),a=wm(0,o,r),c=new dr(s,a,i,o);return c}function jO(e,t,n,r){var i=((e||"")+"").split(`
`),o=i.length;if(o===1)return W6(i[0],t,n,r);for(var s=new dr(0,0,0,0),a=0;a<i.length;a++){var c=W6(i[a],t,n,r);a===0?s.copy(c):s.union(c)}return s}function m_(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function wm(e,t,n){return n==="middle"?e-=t/2:n==="bottom"&&(e-=t),e}function X2(e){return is("国",e)}function Ff(e,t){return typeof e=="string"?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function NZ(e,t,n){var r=t.position||"inside",i=t.distance!=null?t.distance:5,o=n.height,s=n.width,a=o/2,c=n.x,h=n.y,d="left",g="top";if(r instanceof Array)c+=Ff(r[0],n.width),h+=Ff(r[1],n.height),d=null,g=null;else switch(r){case"left":c-=i,h+=a,d="right",g="middle";break;case"right":c+=i+s,h+=a,g="middle";break;case"top":c+=s/2,h-=i,d="center",g="bottom";break;case"bottom":c+=s/2,h+=o+i,d="center";break;case"inside":c+=s/2,h+=a,d="center",g="middle";break;case"insideLeft":c+=i,h+=a,g="middle";break;case"insideRight":c+=s-i,h+=a,d="right",g="middle";break;case"insideTop":c+=s/2,h+=i,d="center";break;case"insideBottom":c+=s/2,h+=o-i,d="center",g="bottom";break;case"insideTopLeft":c+=i,h+=i;break;case"insideTopRight":c+=s-i,h+=i,d="right";break;case"insideBottomLeft":c+=i,h+=o-i,g="bottom";break;case"insideBottomRight":c+=s-i,h+=o-i,d="right",g="bottom";break}return e=e||{},e.x=c,e.y=h,e.align=d,e.verticalAlign=g,e}var fE="__zr_normal__",pE=D0.concat(["ignore"]),FIe=Gg(D0,function(e,t){return e[t]=!0,e},{ignore:!1}),om={},NIe=new dr(0,0,0,0),Y2=function(){function e(t){this.id=fZ(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return e.prototype._init=function(t){this.attr(t)},e.prototype.drift=function(t,n,r){switch(this.draggable){case"horizontal":n=0;break;case"vertical":t=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=n,this.decomposeTransform(),this.markRedraw()},e.prototype.beforeUpdate=function(){},e.prototype.afterUpdate=function(){},e.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},e.prototype.updateInnerText=function(t){var n=this._textContent;if(n&&(!n.ignore||t)){this.textConfig||(this.textConfig={});var r=this.textConfig,i=r.local,o=n.innerTransformable,s=void 0,a=void 0,c=!1;o.parent=i?this:null;var h=!1;if(o.copyTransform(n),r.position!=null){var d=NIe;r.layoutRect?d.copy(r.layoutRect):d.copy(this.getBoundingRect()),i||d.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(om,r,d):NZ(om,r,d),o.x=om.x,o.y=om.y,s=om.align,a=om.verticalAlign;var g=r.origin;if(g&&r.rotation!=null){var y=void 0,v=void 0;g==="center"?(y=d.width*.5,v=d.height*.5):(y=Ff(g[0],d.width),v=Ff(g[1],d.height)),h=!0,o.originX=-o.x+y+(i?0:d.x),o.originY=-o.y+v+(i?0:d.y)}}r.rotation!=null&&(o.rotation=r.rotation);var x=r.offset;x&&(o.x+=x[0],o.y+=x[1],h||(o.originX=-x[0],o.originY=-x[1]));var C=r.inside==null?typeof r.position=="string"&&r.position.indexOf("inside")>=0:r.inside,I=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),A=void 0,k=void 0,R=void 0;C&&this.canBeInsideText()?(A=r.insideFill,k=r.insideStroke,(A==null||A==="auto")&&(A=this.getInsideTextFill()),(k==null||k==="auto")&&(k=this.getInsideTextStroke(A),R=!0)):(A=r.outsideFill,k=r.outsideStroke,(A==null||A==="auto")&&(A=this.getOutsideFill()),(k==null||k==="auto")&&(k=this.getOutsideStroke(A),R=!0)),A=A||"#000",(A!==I.fill||k!==I.stroke||R!==I.autoStroke||s!==I.align||a!==I.verticalAlign)&&(c=!0,I.fill=A,I.stroke=k,I.autoStroke=R,I.align=s,I.verticalAlign=a,n.setDefaultTextStyle(I)),n.__dirty|=ts,c&&n.dirtyStyle(!0)}},e.prototype.canBeInsideText=function(){return!0},e.prototype.getInsideTextFill=function(){return"#fff"},e.prototype.getInsideTextStroke=function(t){return"#000"},e.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?SA:wA},e.prototype.getOutsideStroke=function(t){var n=this.__zr&&this.__zr.getBackgroundColor(),r=typeof n=="string"&&Zl(n);r||(r=[255,255,255,1]);for(var i=r[3],o=this.__zr.isDarkMode(),s=0;s<3;s++)r[s]=r[s]*i+(o?0:255)*(1-i);return r[3]=1,q2(r,"rgba")},e.prototype.traverse=function(t,n){},e.prototype.attrKV=function(t,n){t==="textConfig"?this.setTextConfig(n):t==="textContent"?this.setTextContent(n):t==="clipPath"?this.setClipPath(n):t==="extra"?(this.extra=this.extra||{},en(this.extra,n)):this[t]=n},e.prototype.hide=function(){this.ignore=!0,this.markRedraw()},e.prototype.show=function(){this.ignore=!1,this.markRedraw()},e.prototype.attr=function(t,n){if(typeof t=="string")this.attrKV(t,n);else if(Pn(t))for(var r=t,i=lr(r),o=0;o<i.length;o++){var s=i[o];this.attrKV(s,t[s])}return this.markRedraw(),this},e.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var n=this._normalState,r=0;r<this.animators.length;r++){var i=this.animators[r],o=i.__fromStateTransition;if(!(i.getLoop()||o&&o!==fE)){var s=i.targetName,a=s?n[s]:n;i.saveTo(a)}}},e.prototype._innerSaveToNormal=function(t){var n=this._normalState;n||(n=this._normalState={}),t.textConfig&&!n.textConfig&&(n.textConfig=this.textConfig),this._savePrimaryToNormal(t,n,pE)},e.prototype._savePrimaryToNormal=function(t,n,r){for(var i=0;i<r.length;i++){var o=r[i];t[o]!=null&&!(o in n)&&(n[o]=this[o])}},e.prototype.hasState=function(){return this.currentStates.length>0},e.prototype.getState=function(t){return this.states[t]},e.prototype.ensureState=function(t){var n=this.states;return n[t]||(n[t]={}),n[t]},e.prototype.clearStates=function(t){this.useState(fE,!1,t)},e.prototype.useState=function(t,n,r,i){var o=t===fE,s=this.hasState();if(!(!s&&o)){var a=this.currentStates,c=this.stateTransition;if(!(hr(a,t)>=0&&(n||a.length===1))){var h;if(this.stateProxy&&!o&&(h=this.stateProxy(t)),h||(h=this.states&&this.states[t]),!h&&!o){DO("State "+t+" not exists.");return}o||this.saveCurrentToNormalState(h);var d=!!(h&&h.hoverLayer||i);d&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,h,this._normalState,n,!r&&!this.__inHover&&c&&c.duration>0,c);var g=this._textContent,y=this._textGuide;return g&&g.useState(t,n,r,d),y&&y.useState(t,n,r,d),o?(this.currentStates=[],this._normalState={}):n?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!d&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~ts),h}}},e.prototype.useStates=function(t,n,r){if(!t.length)this.clearStates();else{var i=[],o=this.currentStates,s=t.length,a=s===o.length;if(a){for(var c=0;c<s;c++)if(t[c]!==o[c]){a=!1;break}}if(a)return;for(var c=0;c<s;c++){var h=t[c],d=void 0;this.stateProxy&&(d=this.stateProxy(h,t)),d||(d=this.states[h]),d&&i.push(d)}var g=i[s-1],y=!!(g&&g.hoverLayer||r);y&&this._toggleHoverLayerFlag(!0);var v=this._mergeStates(i),x=this.stateTransition;this.saveCurrentToNormalState(v),this._applyStateObj(t.join(","),v,this._normalState,!1,!n&&!this.__inHover&&x&&x.duration>0,x);var C=this._textContent,I=this._textGuide;C&&C.useStates(t,n,y),I&&I.useStates(t,n,y),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!y&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~ts)}},e.prototype.isSilent=function(){for(var t=this.silent,n=this.parent;!t&&n;){if(n.silent){t=!0;break}n=n.parent}return t},e.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var n=this.animators[t];n.targetName&&n.changeTarget(this[n.targetName])}},e.prototype.removeState=function(t){var n=hr(this.currentStates,t);if(n>=0){var r=this.currentStates.slice();r.splice(n,1),this.useStates(r)}},e.prototype.replaceState=function(t,n,r){var i=this.currentStates.slice(),o=hr(i,t),s=hr(i,n)>=0;o>=0?s?i.splice(o,1):i[o]=n:r&&!s&&i.push(n),this.useStates(i)},e.prototype.toggleState=function(t,n){n?this.useState(t,!0):this.removeState(t)},e.prototype._mergeStates=function(t){for(var n={},r,i=0;i<t.length;i++){var o=t[i];en(n,o),o.textConfig&&(r=r||{},en(r,o.textConfig))}return r&&(n.textConfig=r),n},e.prototype._applyStateObj=function(t,n,r,i,o,s){var a=!(n&&i);n&&n.textConfig?(this.textConfig=en({},i?this.textConfig:r.textConfig),en(this.textConfig,n.textConfig)):a&&r.textConfig&&(this.textConfig=r.textConfig);for(var c={},h=!1,d=0;d<pE.length;d++){var g=pE[d],y=o&&FIe[g];n&&n[g]!=null?y?(h=!0,c[g]=n[g]):this[g]=n[g]:a&&r[g]!=null&&(y?(h=!0,c[g]=r[g]):this[g]=r[g])}if(!o)for(var d=0;d<this.animators.length;d++){var v=this.animators[d],x=v.targetName;v.getLoop()||v.__changeFinalValue(x?(n||r)[x]:n||r)}h&&this._transitionState(t,c,s)},e.prototype._attachComponent=function(t){if(!(t.__zr&&!t.__hostTarget)&&t!==this){var n=this.__zr;n&&t.addSelfToZr(n),t.__zr=n,t.__hostTarget=this}},e.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},e.prototype.getClipPath=function(){return this._clipPath},e.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},e.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},e.prototype.getTextContent=function(){return this._textContent},e.prototype.setTextContent=function(t){var n=this._textContent;n!==t&&(n&&n!==t&&this.removeTextContent(),t.innerTransformable=new VO,this._attachComponent(t),this._textContent=t,this.markRedraw())},e.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),en(this.textConfig,t),this.markRedraw()},e.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},e.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},e.prototype.getTextGuideLine=function(){return this._textGuide},e.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},e.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},e.prototype.markRedraw=function(){this.__dirty|=ts;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},e.prototype.dirty=function(){this.markRedraw()},e.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var n=this._textContent,r=this._textGuide;n&&(n.__inHover=t),r&&(r.__inHover=t)},e.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var n=this.animators;if(n)for(var r=0;r<n.length;r++)t.animation.addAnimator(n[r]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var n=this.animators;if(n)for(var r=0;r<n.length;r++)t.animation.removeAnimator(n[r]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},e.prototype.animate=function(t,n,r){var i=t?this[t]:this,o=new NO(i,n,r);return t&&(o.targetName=t),this.addAnimator(o,t),o},e.prototype.addAnimator=function(t,n){var r=this.__zr,i=this;t.during(function(){i.updateDuringAnimation(n)}).done(function(){var o=i.animators,s=hr(o,t);s>=0&&o.splice(s,1)}),this.animators.push(t),r&&r.animation.addAnimator(t),r&&r.wakeUp()},e.prototype.updateDuringAnimation=function(t){this.markRedraw()},e.prototype.stopAnimation=function(t,n){for(var r=this.animators,i=r.length,o=[],s=0;s<i;s++){var a=r[s];!t||t===a.scope?a.stop(n):o.push(a)}return this.animators=o,this},e.prototype.animateTo=function(t,n,r){mE(this,t,n,r)},e.prototype.animateFrom=function(t,n,r){mE(this,t,n,r,!0)},e.prototype._transitionState=function(t,n,r,i){for(var o=mE(this,n,r,i),s=0;s<o.length;s++)o[s].__fromStateTransition=t},e.prototype.getBoundingRect=function(){return null},e.prototype.getPaintRect=function(){return null},e.initDefaultProps=function(){var t=e.prototype;t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=ts;function n(r,i,o,s){Object.defineProperty(t,r,{get:function(){if(!this[i]){var c=this[i]=[];a(this,c)}return this[i]},set:function(c){this[o]=c[0],this[s]=c[1],this[i]=c,a(this,c)}});function a(c,h){Object.defineProperty(h,0,{get:function(){return c[o]},set:function(d){c[o]=d}}),Object.defineProperty(h,1,{get:function(){return c[s]},set:function(d){c[s]=d}})}}Object.defineProperty&&(n("position","_legacyPos","x","y"),n("scale","_legacyScale","scaleX","scaleY"),n("origin","_legacyOrigin","originX","originY"))}(),e}();gl(Y2,vl);gl(Y2,VO);function mE(e,t,n,r,i){n=n||{};var o=[];VZ(e,"",e,t,n,r,o,i);var s=o.length,a=!1,c=n.done,h=n.aborted,d=function(){a=!0,s--,s<=0&&(a?c&&c():h&&h())},g=function(){s--,s<=0&&(a?c&&c():h&&h())};s||c&&c(),o.length>0&&n.during&&o[0].during(function(x,C){n.during(C)});for(var y=0;y<o.length;y++){var v=o[y];v.done(d),v.aborted(g),n.force&&v.duration(n.duration),v.start(n.easing)}return o}function gE(e,t,n){for(var r=0;r<n;r++)e[r]=t[r]}function VIe(e){return Ra(e[0])}function jIe(e,t,n){if(Ra(t[n]))if(Ra(e[n])||(e[n]=[]),La(t[n])){var r=t[n].length;e[n].length!==r&&(e[n]=new t[n].constructor(r),gE(e[n],t[n],r))}else{var i=t[n],o=e[n],s=i.length;if(VIe(i))for(var a=i[0].length,c=0;c<s;c++)o[c]?gE(o[c],i[c],a):o[c]=Array.prototype.slice.call(i[c]);else gE(o,i,s);o.length=i.length}else e[n]=t[n]}function HIe(e,t){return e===t||Ra(e)&&Ra(t)&&UIe(e,t)}function UIe(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function VZ(e,t,n,r,i,o,s,a){for(var c=lr(r),h=i.duration,d=i.delay,g=i.additive,y=i.setToFinal,v=!Pn(o),x=e.animators,C=[],I=0;I<c.length;I++){var A=c[I],k=r[A];if(k!=null&&n[A]!=null&&(v||o[A]))if(Pn(k)&&!Ra(k)&&!W2(k)){if(t){a||(n[A]=k,e.updateDuringAnimation(t));continue}VZ(e,A,n[A],k,i,o&&o[A],s,a)}else C.push(A);else a||(n[A]=k,e.updateDuringAnimation(t),C.push(A))}var R=C.length;if(!g&&R)for(var z=0;z<x.length;z++){var V=x[z];if(V.targetName===t){var U=V.stopTracks(C);if(U){var N=hr(x,V);x.splice(N,1)}}}if(i.force||(C=Qi(C,function(te){return!HIe(r[te],n[te])}),R=C.length),R>0||i.force&&!s.length){var W=void 0,X=void 0,K=void 0;if(a){X={},y&&(W={});for(var z=0;z<R;z++){var A=C[z];X[A]=n[A],y?W[A]=r[A]:n[A]=r[A]}}else if(y){K={};for(var z=0;z<R;z++){var A=C[z];K[A]=Ew(n[A]),jIe(n,r,A)}}var V=new NO(n,!1,!1,g?Qi(x,function(ae){return ae.targetName===t}):null);V.targetName=t,i.scope&&(V.scope=i.scope),y&&W&&V.whenWithKeys(0,W,C),K&&V.whenWithKeys(0,K,C),V.whenWithKeys(h??500,a?X:r,C).delay(d||0),e.addAnimator(V,t),s.push(V)}}var gi=function(e){Xt(t,e);function t(n){var r=e.call(this)||this;return r.isGroup=!0,r._children=[],r.attr(n),r}return t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(n){return this._children[n]},t.prototype.childOfName=function(n){for(var r=this._children,i=0;i<r.length;i++)if(r[i].name===n)return r[i]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(n){return n&&n!==this&&n.parent!==this&&(this._children.push(n),this._doAdd(n)),this},t.prototype.addBefore=function(n,r){if(n&&n!==this&&n.parent!==this&&r&&r.parent===this){var i=this._children,o=i.indexOf(r);o>=0&&(i.splice(o,0,n),this._doAdd(n))}return this},t.prototype.replace=function(n,r){var i=hr(this._children,n);return i>=0&&this.replaceAt(r,i),this},t.prototype.replaceAt=function(n,r){var i=this._children,o=i[r];if(n&&n!==this&&n.parent!==this&&n!==o){i[r]=n,o.parent=null;var s=this.__zr;s&&o.removeSelfFromZr(s),this._doAdd(n)}return this},t.prototype._doAdd=function(n){n.parent&&n.parent.remove(n),n.parent=this;var r=this.__zr;r&&r!==n.__zr&&n.addSelfToZr(r),r&&r.refresh()},t.prototype.remove=function(n){var r=this.__zr,i=this._children,o=hr(i,n);return o<0?this:(i.splice(o,1),n.parent=null,r&&n.removeSelfFromZr(r),r&&r.refresh(),this)},t.prototype.removeAll=function(){for(var n=this._children,r=this.__zr,i=0;i<n.length;i++){var o=n[i];r&&o.removeSelfFromZr(r),o.parent=null}return n.length=0,this},t.prototype.eachChild=function(n,r){for(var i=this._children,o=0;o<i.length;o++){var s=i[o];n.call(r,s,o)}return this},t.prototype.traverse=function(n,r){for(var i=0;i<this._children.length;i++){var o=this._children[i],s=n.call(r,o);o.isGroup&&!s&&o.traverse(n,r)}return this},t.prototype.addSelfToZr=function(n){e.prototype.addSelfToZr.call(this,n);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.addSelfToZr(n)}},t.prototype.removeSelfFromZr=function(n){e.prototype.removeSelfFromZr.call(this,n);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.removeSelfFromZr(n)}},t.prototype.getBoundingRect=function(n){for(var r=new dr(0,0,0,0),i=n||this._children,o=[],s=null,a=0;a<i.length;a++){var c=i[a];if(!(c.ignore||c.invisible)){var h=c.getBoundingRect(),d=c.getLocalTransform(o);d?(dr.applyTransform(r,h,d),s=s||r.clone(),s.union(r)):(s=s||h.clone(),s.union(h))}}return s||r},t}(Y2);gi.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var Dw={},jZ={};function GIe(e){delete jZ[e]}function WIe(e){if(!e)return!1;if(typeof e=="string")return IS(e,1)<xA;if(e.colorStops){for(var t=e.colorStops,n=0,r=t.length,i=0;i<r;i++)n+=IS(t[i].color,1);return n/=r,n<xA}return!1}var ZIe=function(){function e(t,n,r){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,r=r||{},this.dom=n,this.id=t;var o=new lIe,s=r.renderer||"canvas";Dw[s]||(s=lr(Dw)[0]),r.useDirtyRect=r.useDirtyRect==null?!1:r.useDirtyRect;var a=new Dw[s](n,o,r,t),c=r.ssr||a.ssrOnly;this.storage=o,this.painter=a;var h=!Ln.node&&!Ln.worker&&!c?new zIe(a.getViewportRoot(),a.root):null,d=r.useCoarsePointer,g=d==null||d==="auto"?Ln.touchEventsSupported:!!d,y=44,v;g&&(v=Fn(r.pointerSize,y)),this.handler=new xZ(o,a,h,a.root,v),this.animation=new AIe({stage:{update:c?null:function(){return i._flush(!0)}}}),c||this.animation.start()}return e.prototype.add=function(t){this._disposed||!t||(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},e.prototype.remove=function(t){this._disposed||!t||(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},e.prototype.configLayer=function(t,n){this._disposed||(this.painter.configLayer&&this.painter.configLayer(t,n),this.refresh())},e.prototype.setBackgroundColor=function(t){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=WIe(t))},e.prototype.getBackgroundColor=function(){return this._backgroundColor},e.prototype.setDarkMode=function(t){this._darkMode=t},e.prototype.isDarkMode=function(){return this._darkMode},e.prototype.refreshImmediately=function(t){this._disposed||(t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},e.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},e.prototype.flush=function(){this._disposed||this._flush(!1)},e.prototype._flush=function(t){var n,r=km();this._needsRefresh&&(n=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(n=!0,this.refreshHoverImmediately());var i=km();n?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-r})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},e.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},e.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},e.prototype.refreshHover=function(){this._needsRefreshHover=!0},e.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},e.prototype.resize=function(t){this._disposed||(t=t||{},this.painter.resize(t.width,t.height),this.handler.resize())},e.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},e.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},e.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},e.prototype.setCursorStyle=function(t){this._disposed||this.handler.setCursorStyle(t)},e.prototype.findHover=function(t,n){if(!this._disposed)return this.handler.findHover(t,n)},e.prototype.on=function(t,n,r){return this._disposed||this.handler.on(t,n,r),this},e.prototype.off=function(t,n){this._disposed||this.handler.off(t,n)},e.prototype.trigger=function(t,n){this._disposed||this.handler.trigger(t,n)},e.prototype.clear=function(){if(!this._disposed){for(var t=this.storage.getRoots(),n=0;n<t.length;n++)t[n]instanceof gi&&t[n].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},e.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,GIe(this.id))},e}();function Z6(e,t){var n=new ZIe(fZ(),e,t);return jZ[n.id]=n,n}function qIe(e,t){Dw[e]=t}var CA;function KIe(e){if(typeof CA=="function")return CA(e)}function XIe(e){CA=e}var q6=1e-4,HZ=20;function YIe(e){return e.replace(/^\s+|\s+$/g,"")}function Go(e,t,n,r){var i=t[0],o=t[1],s=n[0],a=n[1],c=o-i,h=a-s;if(c===0)return h===0?s:(s+a)/2;if(r)if(c>0){if(e<=i)return s;if(e>=o)return a}else{if(e>=i)return s;if(e<=o)return a}else{if(e===i)return s;if(e===o)return a}return(e-i)/c*h+s}function eo(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%";break}return pn(e)?YIe(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):e==null?NaN:+e}function $i(e,t,n){return t==null&&(t=10),t=Math.min(Math.max(0,t),HZ),e=(+e).toFixed(t),n?e:+e}function g_(e){return e.sort(function(t,n){return t-n}),e}function Hl(e){if(e=+e,isNaN(e))return 0;if(e>1e-14){for(var t=1,n=0;n<15;n++,t*=10)if(Math.round(e*t)/t===e)return n}return JIe(e)}function JIe(e){var t=e.toString().toLowerCase(),n=t.indexOf("e"),r=n>0?+t.slice(n+1):0,i=n>0?n:t.length,o=t.indexOf("."),s=o<0?0:i-1-o;return Math.max(0,s-r)}function UZ(e,t){var n=Math.log,r=Math.LN10,i=Math.floor(n(e[1]-e[0])/r),o=Math.round(n(Math.abs(t[1]-t[0]))/r),s=Math.min(Math.max(-i+o,0),20);return isFinite(s)?s:20}function QIe(e,t){var n=Math.max(Hl(e),Hl(t)),r=e+t;return n>HZ?r:$i(r,n)}function GZ(e){var t=Math.PI*2;return(e%t+t)%t}function DS(e){return e>-q6&&e<q6}var eMe=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function rc(e){if(e instanceof Date)return e;if(pn(e)){var t=eMe.exec(e);if(!t)return new Date(NaN);if(t[8]){var n=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(n-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,n,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}else return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else if(e==null)return new Date(NaN);return new Date(Math.round(e))}function tMe(e){return Math.pow(10,HO(e))}function HO(e){if(e===0)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,t)>=10&&t++,t}function WZ(e,t){var n=HO(e),r=Math.pow(10,n),i=e/r,o;return i<1.5?o=1:i<2.5?o=2:i<4?o=3:i<7?o=5:o=10,e=o*r,n>=-20?+e.toFixed(n<0?-n:0):e}function kS(e){var t=parseFloat(e);return t==e&&(t!==0||!pn(e)||e.indexOf("x")<=0)?t:NaN}function nMe(e){return!isNaN(kS(e))}function ZZ(){return Math.round(Math.random()*9)}function qZ(e,t){return t===0?e:qZ(t,e%t)}function K6(e,t){return e==null?t:t==null?e:e*t/qZ(e,t)}function Ia(e){throw new Error(e)}function X6(e,t,n){return(t-e)*n+e}var KZ="series\0",rMe="\0_ec_\0";function _a(e){return e instanceof Array?e:e==null?[]:[e]}function TA(e,t,n){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var r=0,i=n.length;r<i;r++){var o=n[r];!e.emphasis[t].hasOwnProperty(o)&&e[t].hasOwnProperty(o)&&(e.emphasis[t][o]=e[t][o])}}}var Y6=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function yb(e){return Pn(e)&&!cn(e)&&!(e instanceof Date)?e.value:e}function iMe(e){return Pn(e)&&!(e instanceof Array)}function oMe(e,t,n){var r=n==="normalMerge",i=n==="replaceMerge",o=n==="replaceAll";e=e||[],t=(t||[]).slice();var s=Dn();Ne(t,function(c,h){if(!Pn(c)){t[h]=null;return}});var a=aMe(e,s,n);return(r||i)&&sMe(a,e,s,t),r&&lMe(a,t),r||i?uMe(a,t,i):o&&cMe(a,t),hMe(a),a}function aMe(e,t,n){var r=[];if(n==="replaceAll")return r;for(var i=0;i<e.length;i++){var o=e[i];o&&o.id!=null&&t.set(o.id,i),r.push({existing:n==="replaceMerge"||k0(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return r}function sMe(e,t,n,r){Ne(r,function(i,o){if(!(!i||i.id==null)){var s=H_(i.id),a=n.get(s);if(a!=null){var c=e[a];hl(!c.newOption,'Duplicated option on id "'+s+'".'),c.newOption=i,c.existing=t[a],r[o]=null}}})}function lMe(e,t){Ne(t,function(n,r){if(!(!n||n.name==null))for(var i=0;i<e.length;i++){var o=e[i].existing;if(!e[i].newOption&&o&&(o.id==null||n.id==null)&&!k0(n)&&!k0(o)&&XZ("name",o,n)){e[i].newOption=n,t[r]=null;return}}})}function uMe(e,t,n){Ne(t,function(r){if(r){for(var i,o=0;(i=e[o])&&(i.newOption||k0(i.existing)||i.existing&&r.id!=null&&!XZ("id",r,i.existing));)o++;i?(i.newOption=r,i.brandNew=n):e.push({newOption:r,brandNew:n,existing:null,keyInfo:null}),o++}})}function cMe(e,t){Ne(t,function(n){e.push({newOption:n,brandNew:!0,existing:null,keyInfo:null})})}function hMe(e){var t=Dn();Ne(e,function(n){var r=n.existing;r&&t.set(r.id,n)}),Ne(e,function(n){var r=n.newOption;hl(!r||r.id==null||!t.get(r.id)||t.get(r.id)===n,"id duplicates: "+(r&&r.id)),r&&r.id!=null&&t.set(r.id,n),!n.keyInfo&&(n.keyInfo={})}),Ne(e,function(n,r){var i=n.existing,o=n.newOption,s=n.keyInfo;if(Pn(o)){if(s.name=o.name!=null?H_(o.name):i?i.name:KZ+r,i)s.id=H_(i.id);else if(o.id!=null)s.id=H_(o.id);else{var a=0;do s.id="\0"+s.name+"\0"+a++;while(t.get(s.id))}t.set(s.id,n)}})}function XZ(e,t,n){var r=ql(t[e],null),i=ql(n[e],null);return r!=null&&i!=null&&r===i}function H_(e){return ql(e,"")}function ql(e,t){return e==null?t:pn(e)?e:ti(e)||rA(e)?e+"":t}function UO(e){var t=e.name;return!!(t&&t.indexOf(KZ))}function k0(e){return e&&e.id!=null&&H_(e.id).indexOf(rMe)===0}function dMe(e,t,n){Ne(e,function(r){var i=r.newOption;Pn(i)&&(r.keyInfo.mainType=t,r.keyInfo.subType=fMe(t,i,r.existing,n))})}function fMe(e,t,n,r){var i=t.type?t.type:n?n.subType:r.determineSubType(e,t);return i}function Nf(e,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return cn(t.dataIndex)?_n(t.dataIndex,function(n){return e.indexOfRawIndex(n)}):e.indexOfRawIndex(t.dataIndex);if(t.name!=null)return cn(t.name)?_n(t.name,function(n){return e.indexOfName(n)}):e.indexOfName(t.name)}function Ti(){var e="__ec_inner_"+pMe++;return function(t){return t[e]||(t[e]={})}}var pMe=ZZ();function vE(e,t,n){var r=GO(t,n),i=r.mainTypeSpecified,o=r.queryOptionMap,s=r.others,a=s,c=n?n.defaultMainType:null;return!i&&c&&o.set(c,{}),o.each(function(h,d){var g=_b(e,d,h,{useDefault:c===d,enableAll:n&&n.enableAll!=null?n.enableAll:!0,enableNone:n&&n.enableNone!=null?n.enableNone:!0});a[d+"Models"]=g.models,a[d+"Model"]=g.models[0]}),a}function GO(e,t){var n;if(pn(e)){var r={};r[e+"Index"]=0,n=r}else n=e;var i=Dn(),o={},s=!1;return Ne(n,function(a,c){if(c==="dataIndex"||c==="dataIndexInside"){o[c]=a;return}var h=c.match(/^(\w+)(Index|Id|Name)$/)||[],d=h[1],g=(h[2]||"").toLowerCase();if(!(!d||!g||t&&t.includeMainTypes&&hr(t.includeMainTypes,d)<0)){s=s||!!d;var y=i.get(d)||i.set(d,{});y[g]=a}}),{mainTypeSpecified:s,queryOptionMap:i,others:o}}var Aa={useDefault:!0,enableAll:!1,enableNone:!1},mMe={useDefault:!1,enableAll:!0,enableNone:!0};function _b(e,t,n,r){r=r||Aa;var i=n.index,o=n.id,s=n.name,a={models:null,specified:i!=null||o!=null||s!=null};if(!a.specified){var c=void 0;return a.models=r.useDefault&&(c=e.getComponent(t))?[c]:[],a}return i==="none"||i===!1?(hl(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),a.models=[],a):(i==="all"&&(hl(r.enableAll,'`"all"` is not a valid value on index option.'),i=o=s=null),a.models=e.queryComponents({mainType:t,index:i,id:o,name:s}),a)}function YZ(e,t,n){e.setAttribute?e.setAttribute(t,n):e[t]=n}function gMe(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function vMe(e){return e==="auto"?Ln.domSupported?"html":"richText":e||"html"}function yMe(e,t,n,r,i){var o=t==null||t==="auto";if(r==null)return r;if(ti(r)){var s=X6(n||0,r,i);return $i(s,o?Math.max(Hl(n||0),Hl(r)):t)}else{if(pn(r))return i<1?n:r;for(var a=[],c=n,h=r,d=Math.max(c?c.length:0,h.length),g=0;g<d;++g){var y=e.getDimensionInfo(g);if(y&&y.type==="ordinal")a[g]=(i<1&&c?c:h)[g];else{var v=c&&c[g]?c[g]:0,x=h[g],s=X6(v,x,i);a[g]=$i(s,o?Math.max(Hl(v),Hl(x)):t)}}return a}}var _Me=".",Od="___EC__COMPONENT__CONTAINER___",JZ="___EC__EXTENDED_CLASS___";function Ul(e){var t={main:"",sub:""};if(e){var n=e.split(_Me);t.main=n[0]||"",t.sub=n[1]||""}return t}function bMe(e){hl(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function xMe(e){return!!(e&&e[JZ])}function WO(e,t){e.$constructor=e,e.extend=function(n){var r=this,i;return wMe(r)?i=function(o){Xt(s,o);function s(){return o.apply(this,arguments)||this}return s}(r):(i=function(){(n.$constructor||r).apply(this,arguments)},IEe(i,this)),en(i.prototype,n),i[JZ]=!0,i.extend=this.extend,i.superCall=TMe,i.superApply=PMe,i.superClass=r,i}}function wMe(e){return Sn(e)&&/^class\s/.test(Function.prototype.toString.call(e))}function QZ(e,t){e.extend=t.extend}var SMe=Math.round(Math.random()*10);function CMe(e){var t=["__\0is_clz",SMe++].join("_");e.prototype[t]=!0,e.isInstance=function(n){return!!(n&&n[t])}}function TMe(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return this.superClass.prototype[t].apply(e,n)}function PMe(e,t,n){return this.superClass.prototype[t].apply(e,n)}function J2(e){var t={};e.registerClass=function(r){var i=r.type||r.prototype.type;if(i){bMe(i),r.prototype.type=i;var o=Ul(i);if(!o.sub)t[o.main]=r;else if(o.sub!==Od){var s=n(o);s[o.sub]=r}}return r},e.getClass=function(r,i,o){var s=t[r];if(s&&s[Od]&&(s=i?s[i]:null),o&&!s)throw new Error(i?"Component "+r+"."+(i||"")+" is used but not imported.":r+".type should be specified.");return s},e.getClassesByMainType=function(r){var i=Ul(r),o=[],s=t[i.main];return s&&s[Od]?Ne(s,function(a,c){c!==Od&&o.push(a)}):o.push(s),o},e.hasClass=function(r){var i=Ul(r);return!!t[i.main]},e.getAllClassMainTypes=function(){var r=[];return Ne(t,function(i,o){r.push(o)}),r},e.hasSubTypes=function(r){var i=Ul(r),o=t[i.main];return o&&o[Od]};function n(r){var i=t[r.main];return(!i||!i[Od])&&(i=t[r.main]={},i[Od]=!0),i}}function O0(e,t){for(var n=0;n<e.length;n++)e[n][1]||(e[n][1]=e[n][0]);return t=t||!1,function(r,i,o){for(var s={},a=0;a<e.length;a++){var c=e[a][1];if(!(i&&hr(i,c)>=0||o&&hr(o,c)<0)){var h=r.getShallow(c,t);h!=null&&(s[e[a][0]]=h)}}return s}}var EMe=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],IMe=O0(EMe),MMe=function(){function e(){}return e.prototype.getAreaStyle=function(t,n){return IMe(this,t,n)},e}(),PA=new vb(50);function AMe(e){if(typeof e=="string"){var t=PA.get(e);return t&&t.image}else return e}function ZO(e,t,n,r,i){if(e)if(typeof e=="string"){if(t&&t.__zrImageSrc===e||!n)return t;var o=PA.get(e),s={hostEl:n,cb:r,cbPayload:i};return o?(t=o.image,!Q2(t)&&o.pending.push(s)):(t=Ug.loadImage(e,J6,J6),t.__zrImageSrc=e,PA.put(e,t.__cachedImgObj={image:t,pending:[s]})),t}else return e;else return t}function J6(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var n=e.pending[t],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}e.pending.length=0}function Q2(e){return e&&e.width&&e.height}var yE=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function DMe(e,t,n,r,i,o){if(!n){e.text="",e.isTruncated=!1;return}var s=(t+"").split(`
`);o=eq(n,r,i,o);for(var a=!1,c={},h=0,d=s.length;h<d;h++)tq(c,s[h],o),s[h]=c.textLine,a=a||c.isTruncated;e.text=s.join(`
`),e.isTruncated=a}function eq(e,t,n,r){r=r||{};var i=en({},r);i.font=t,n=Fn(n,"..."),i.maxIterations=Fn(r.maxIterations,2);var o=i.minChar=Fn(r.minChar,0);i.cnCharWidth=is("国",t);var s=i.ascCharWidth=is("a",t);i.placeholder=Fn(r.placeholder,"");for(var a=e=Math.max(0,e-1),c=0;c<o&&a>=s;c++)a-=s;var h=is(n,t);return h>a&&(n="",h=0),a=e-h,i.ellipsis=n,i.ellipsisWidth=h,i.contentWidth=a,i.containerWidth=e,i}function tq(e,t,n){var r=n.containerWidth,i=n.font,o=n.contentWidth;if(!r){e.textLine="",e.isTruncated=!1;return}var s=is(t,i);if(s<=r){e.textLine=t,e.isTruncated=!1;return}for(var a=0;;a++){if(s<=o||a>=n.maxIterations){t+=n.ellipsis;break}var c=a===0?kMe(t,o,n.ascCharWidth,n.cnCharWidth):s>0?Math.floor(t.length*o/s):0;t=t.substr(0,c),s=is(t,i)}t===""&&(t=n.placeholder),e.textLine=t,e.isTruncated=!0}function kMe(e,t,n,r){for(var i=0,o=0,s=e.length;o<s&&i<t;o++){var a=e.charCodeAt(o);i+=0<=a&&a<=127?n:r}return o}function OMe(e,t){e!=null&&(e+="");var n=t.overflow,r=t.padding,i=t.font,o=n==="truncate",s=X2(i),a=Fn(t.lineHeight,s),c=!!t.backgroundColor,h=t.lineOverflow==="truncate",d=!1,g=t.width,y;g!=null&&(n==="break"||n==="breakAll")?y=e?nq(e,t.font,g,n==="breakAll",0).lines:[]:y=e?e.split(`
`):[];var v=y.length*a,x=Fn(t.height,v);if(v>x&&h){var C=Math.floor(x/a);d=d||y.length>C,y=y.slice(0,C)}if(e&&o&&g!=null)for(var I=eq(g,i,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),A={},k=0;k<y.length;k++)tq(A,y[k],I),y[k]=A.textLine,d=d||A.isTruncated;for(var R=x,z=0,k=0;k<y.length;k++)z=Math.max(is(y[k],i),z);g==null&&(g=z);var V=z;return r&&(R+=r[0]+r[2],V+=r[1]+r[3],g+=r[1]+r[3]),c&&(V=g),{lines:y,height:x,outerWidth:V,outerHeight:R,lineHeight:a,calculatedLineHeight:s,contentWidth:z,contentHeight:v,width:g,isTruncated:d}}var RMe=function(){function e(){}return e}(),Q6=function(){function e(t){this.tokens=[],t&&(this.tokens=t)}return e}(),LMe=function(){function e(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return e}();function $Me(e,t){var n=new LMe;if(e!=null&&(e+=""),!e)return n;for(var r=t.width,i=t.height,o=t.overflow,s=(o==="break"||o==="breakAll")&&r!=null?{width:r,accumWidth:0,breakAll:o==="breakAll"}:null,a=yE.lastIndex=0,c;(c=yE.exec(e))!=null;){var h=c.index;h>a&&_E(n,e.substring(a,h),t,s),_E(n,c[2],t,s,c[1]),a=yE.lastIndex}a<e.length&&_E(n,e.substring(a,e.length),t,s);var d=[],g=0,y=0,v=t.padding,x=o==="truncate",C=t.lineOverflow==="truncate",I={};function A(rt,ot,tt){rt.width=ot,rt.lineHeight=tt,g+=tt,y=Math.max(y,ot)}e:for(var k=0;k<n.lines.length;k++){for(var R=n.lines[k],z=0,V=0,U=0;U<R.tokens.length;U++){var N=R.tokens[U],W=N.styleName&&t.rich[N.styleName]||{},X=N.textPadding=W.padding,K=X?X[1]+X[3]:0,te=N.font=W.font||t.font;N.contentHeight=X2(te);var ae=Fn(W.height,N.contentHeight);if(N.innerHeight=ae,X&&(ae+=X[0]+X[2]),N.height=ae,N.lineHeight=Cw(W.lineHeight,t.lineHeight,ae),N.align=W&&W.align||t.align,N.verticalAlign=W&&W.verticalAlign||"middle",C&&i!=null&&g+N.lineHeight>i){var me=n.lines.length;U>0?(R.tokens=R.tokens.slice(0,U),A(R,V,z),n.lines=n.lines.slice(0,k+1)):n.lines=n.lines.slice(0,k),n.isTruncated=n.isTruncated||n.lines.length<me;break e}var we=W.width,se=we==null||we==="auto";if(typeof we=="string"&&we.charAt(we.length-1)==="%")N.percentWidth=we,d.push(N),N.contentWidth=is(N.text,te);else{if(se){var ue=W.backgroundColor,Te=ue&&ue.image;Te&&(Te=AMe(Te),Q2(Te)&&(N.width=Math.max(N.width,Te.width*ae/Te.height)))}var Be=x&&r!=null?r-V:null;Be!=null&&Be<N.width?!se||Be<K?(N.text="",N.width=N.contentWidth=0):(DMe(I,N.text,Be-K,te,t.ellipsis,{minChar:t.truncateMinChar}),N.text=I.text,n.isTruncated=n.isTruncated||I.isTruncated,N.width=N.contentWidth=is(N.text,te)):N.contentWidth=is(N.text,te)}N.width+=K,V+=N.width,W&&(z=Math.max(z,N.lineHeight))}A(R,V,z)}n.outerWidth=n.width=Fn(r,y),n.outerHeight=n.height=Fn(i,g),n.contentHeight=g,n.contentWidth=y,v&&(n.outerWidth+=v[1]+v[3],n.outerHeight+=v[0]+v[2]);for(var k=0;k<d.length;k++){var N=d[k],ke=N.percentWidth;N.width=parseInt(ke,10)/100*n.width}return n}function _E(e,t,n,r,i){var o=t==="",s=i&&n.rich[i]||{},a=e.lines,c=s.font||n.font,h=!1,d,g;if(r){var y=s.padding,v=y?y[1]+y[3]:0;if(s.width!=null&&s.width!=="auto"){var x=Ff(s.width,r.width)+v;a.length>0&&x+r.accumWidth>r.width&&(d=t.split(`
`),h=!0),r.accumWidth=x}else{var C=nq(t,c,r.width,r.breakAll,r.accumWidth);r.accumWidth=C.accumWidth+v,g=C.linesWidths,d=C.lines}}else d=t.split(`
`);for(var I=0;I<d.length;I++){var A=d[I],k=new RMe;if(k.styleName=i,k.text=A,k.isLineHolder=!A&&!o,typeof s.width=="number"?k.width=s.width:k.width=g?g[I]:is(A,c),!I&&!h){var R=(a[a.length-1]||(a[0]=new Q6)).tokens,z=R.length;z===1&&R[0].isLineHolder?R[0]=k:(A||!z||o)&&R.push(k)}else a.push(new Q6([k]))}}function zMe(e){var t=e.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}var BMe=Gg(",&?/;] ".split(""),function(e,t){return e[t]=!0,e},{});function FMe(e){return zMe(e)?!!BMe[e]:!0}function nq(e,t,n,r,i){for(var o=[],s=[],a="",c="",h=0,d=0,g=0;g<e.length;g++){var y=e.charAt(g);if(y===`
`){c&&(a+=c,d+=h),o.push(a),s.push(d),a="",c="",h=0,d=0;continue}var v=is(y,t),x=r?!1:!FMe(y);if(o.length?d+v>n:i+d+v>n){d?(a||c)&&(x?(a||(a=c,c="",h=0,d=h),o.push(a),s.push(d-h),c+=y,h+=v,a="",d=h):(c&&(a+=c,c="",h=0),o.push(a),s.push(d),a=y,d=v)):x?(o.push(c),s.push(h),c=y,h=v):(o.push(y),s.push(v));continue}d+=v,x?(c+=y,h+=v):(c&&(a+=c,c="",h=0),a+=y)}return!o.length&&!a&&(a=e,c="",h=0),c&&(a+=c),a&&(o.push(a),s.push(d)),o.length===1&&(d+=i),{accumWidth:d,lines:o,linesWidths:s}}var EA="__zr_style_"+Math.round(Math.random()*10),Cf={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},eC={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Cf[EA]=!0;var eF=["z","z2","invisible"],NMe=["invisible"],bb=function(e){Xt(t,e);function t(n){return e.call(this,n)||this}return t.prototype._init=function(n){for(var r=lr(n),i=0;i<r.length;i++){var o=r[i];o==="style"?this.useStyle(n[o]):e.prototype.attrKV.call(this,o,n[o])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(n,r,i,o){var s=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&VMe(this,n,r)||s&&!s[0]&&!s[3])return!1;if(i&&this.__clipPaths){for(var a=0;a<this.__clipPaths.length;++a)if(this.__clipPaths[a].isZeroArea())return!1}if(o&&this.parent)for(var c=this.parent;c;){if(c.ignore)return!1;c=c.parent}return!0},t.prototype.contain=function(n,r){return this.rectContain(n,r)},t.prototype.traverse=function(n,r){n.call(r,this)},t.prototype.rectContain=function(n,r){var i=this.transformCoordToLocal(n,r),o=this.getBoundingRect();return o.contain(i[0],i[1])},t.prototype.getPaintRect=function(){var n=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,i=this.getBoundingRect(),o=this.style,s=o.shadowBlur||0,a=o.shadowOffsetX||0,c=o.shadowOffsetY||0;n=this._paintRect||(this._paintRect=new dr(0,0,0,0)),r?dr.applyTransform(n,i,r):n.copy(i),(s||a||c)&&(n.width+=s*2+Math.abs(a),n.height+=s*2+Math.abs(c),n.x=Math.min(n.x,n.x+a-s),n.y=Math.min(n.y,n.y+c-s));var h=this.dirtyRectTolerance;n.isZero()||(n.x=Math.floor(n.x-h),n.y=Math.floor(n.y-h),n.width=Math.ceil(n.width+1+h*2),n.height=Math.ceil(n.height+1+h*2))}return n},t.prototype.setPrevPaintRect=function(n){n?(this._prevPaintRect=this._prevPaintRect||new dr(0,0,0,0),this._prevPaintRect.copy(n)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(n){return this.animate("style",n)},t.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(n,r){n!=="style"?e.prototype.attrKV.call(this,n,r):this.style?this.setStyle(r):this.useStyle(r)},t.prototype.setStyle=function(n,r){return typeof n=="string"?this.style[n]=r:en(this.style,n),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(n){n||this.markRedraw(),this.__dirty|=f_,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&f_)},t.prototype.styleUpdated=function(){this.__dirty&=~f_},t.prototype.createStyle=function(n){return Z2(Cf,n)},t.prototype.useStyle=function(n){n[EA]||(n=this.createStyle(n)),this.__inHover?this.__hoverStyle=n:this.style=n,this.dirtyStyle()},t.prototype.isStyleObject=function(n){return n[EA]},t.prototype._innerSaveToNormal=function(n){e.prototype._innerSaveToNormal.call(this,n);var r=this._normalState;n.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(n,r,eF)},t.prototype._applyStateObj=function(n,r,i,o,s,a){e.prototype._applyStateObj.call(this,n,r,i,o,s,a);var c=!(r&&o),h;if(r&&r.style?s?o?h=r.style:(h=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(h,r.style)):(h=this._mergeStyle(this.createStyle(),o?this.style:i.style),this._mergeStyle(h,r.style)):c&&(h=i.style),h)if(s){var d=this.style;if(this.style=this.createStyle(c?{}:d),c)for(var g=lr(d),y=0;y<g.length;y++){var v=g[y];v in h&&(h[v]=h[v],this.style[v]=d[v])}for(var x=lr(h),y=0;y<x.length;y++){var v=x[y];this.style[v]=this.style[v]}this._transitionState(n,{style:h},a,this.getAnimationStyleProps())}else this.useStyle(h);for(var C=this.__inHover?NMe:eF,y=0;y<C.length;y++){var v=C[y];r&&r[v]!=null?this[v]=r[v]:c&&i[v]!=null&&(this[v]=i[v])}},t.prototype._mergeStates=function(n){for(var r=e.prototype._mergeStates.call(this,n),i,o=0;o<n.length;o++){var s=n[o];s.style&&(i=i||{},this._mergeStyle(i,s.style))}return i&&(r.style=i),r},t.prototype._mergeStyle=function(n,r){return en(n,r),n},t.prototype.getAnimationStyleProps=function(){return eC},t.initDefaultProps=function(){var n=t.prototype;n.type="displayable",n.invisible=!1,n.z=0,n.z2=0,n.zlevel=0,n.culling=!1,n.cursor="pointer",n.rectHover=!1,n.incremental=!1,n._rect=null,n.dirtyRectTolerance=0,n.__dirty=ts|f_}(),t}(Y2),bE=new dr(0,0,0,0),xE=new dr(0,0,0,0);function VMe(e,t,n){return bE.copy(e.getBoundingRect()),e.transform&&bE.applyTransform(e.transform),xE.width=t,xE.height=n,!bE.intersect(xE)}var Ls=Math.min,$s=Math.max,wE=Math.sin,SE=Math.cos,Rd=Math.PI*2,Sx=Wg(),Cx=Wg(),Tx=Wg();function tF(e,t,n,r,i,o){i[0]=Ls(e,n),i[1]=Ls(t,r),o[0]=$s(e,n),o[1]=$s(t,r)}var nF=[],rF=[];function jMe(e,t,n,r,i,o,s,a,c,h){var d=PZ,g=Po,y=d(e,n,i,s,nF);c[0]=1/0,c[1]=1/0,h[0]=-1/0,h[1]=-1/0;for(var v=0;v<y;v++){var x=g(e,n,i,s,nF[v]);c[0]=Ls(x,c[0]),h[0]=$s(x,h[0])}y=d(t,r,o,a,rF);for(var v=0;v<y;v++){var C=g(t,r,o,a,rF[v]);c[1]=Ls(C,c[1]),h[1]=$s(C,h[1])}c[0]=Ls(e,c[0]),h[0]=$s(e,h[0]),c[0]=Ls(s,c[0]),h[0]=$s(s,h[0]),c[1]=Ls(t,c[1]),h[1]=$s(t,h[1]),c[1]=Ls(a,c[1]),h[1]=$s(a,h[1])}function HMe(e,t,n,r,i,o,s,a){var c=EZ,h=ma,d=$s(Ls(c(e,n,i),1),0),g=$s(Ls(c(t,r,o),1),0),y=h(e,n,i,d),v=h(t,r,o,g);s[0]=Ls(e,i,y),s[1]=Ls(t,o,v),a[0]=$s(e,i,y),a[1]=$s(t,o,v)}function UMe(e,t,n,r,i,o,s,a,c){var h=Am,d=Dm,g=Math.abs(i-o);if(g%Rd<1e-4&&g>1e-4){a[0]=e-n,a[1]=t-r,c[0]=e+n,c[1]=t+r;return}if(Sx[0]=SE(i)*n+e,Sx[1]=wE(i)*r+t,Cx[0]=SE(o)*n+e,Cx[1]=wE(o)*r+t,h(a,Sx,Cx),d(c,Sx,Cx),i=i%Rd,i<0&&(i=i+Rd),o=o%Rd,o<0&&(o=o+Rd),i>o&&!s?o+=Rd:i<o&&s&&(i+=Rd),s){var y=o;o=i,i=y}for(var v=0;v<o;v+=Math.PI/2)v>i&&(Tx[0]=SE(v)*n+e,Tx[1]=wE(v)*r+t,h(a,Tx,a),d(c,Tx,c))}var Sr={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Ld=[],$d=[],Tl=[],jc=[],Pl=[],El=[],CE=Math.min,TE=Math.max,zd=Math.cos,Bd=Math.sin,zu=Math.abs,IA=Math.PI,Qc=IA*2,PE=typeof Float32Array<"u",jy=[];function EE(e){var t=Math.round(e/IA*1e8)/1e8;return t%2*IA}function GMe(e,t){var n=EE(e[0]);n<0&&(n+=Qc);var r=n-e[0],i=e[1];i+=r,!t&&i-n>=Qc?i=n+Qc:t&&n-i>=Qc?i=n-Qc:!t&&n>i?i=n+(Qc-EE(n-i)):t&&n<i&&(i=n-(Qc-EE(i-n))),e[0]=n,e[1]=i}var Mh=function(){function e(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return e.prototype.increaseVersion=function(){this._version++},e.prototype.getVersion=function(){return this._version},e.prototype.setScale=function(t,n,r){r=r||0,r>0&&(this._ux=zu(r/AS/t)||0,this._uy=zu(r/AS/n)||0)},e.prototype.setDPR=function(t){this.dpr=t},e.prototype.setContext=function(t){this._ctx=t},e.prototype.getContext=function(){return this._ctx},e.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},e.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},e.prototype.moveTo=function(t,n){return this._drawPendingPt(),this.addData(Sr.M,t,n),this._ctx&&this._ctx.moveTo(t,n),this._x0=t,this._y0=n,this._xi=t,this._yi=n,this},e.prototype.lineTo=function(t,n){var r=zu(t-this._xi),i=zu(n-this._yi),o=r>this._ux||i>this._uy;if(this.addData(Sr.L,t,n),this._ctx&&o&&this._ctx.lineTo(t,n),o)this._xi=t,this._yi=n,this._pendingPtDist=0;else{var s=r*r+i*i;s>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=n,this._pendingPtDist=s)}return this},e.prototype.bezierCurveTo=function(t,n,r,i,o,s){return this._drawPendingPt(),this.addData(Sr.C,t,n,r,i,o,s),this._ctx&&this._ctx.bezierCurveTo(t,n,r,i,o,s),this._xi=o,this._yi=s,this},e.prototype.quadraticCurveTo=function(t,n,r,i){return this._drawPendingPt(),this.addData(Sr.Q,t,n,r,i),this._ctx&&this._ctx.quadraticCurveTo(t,n,r,i),this._xi=r,this._yi=i,this},e.prototype.arc=function(t,n,r,i,o,s){this._drawPendingPt(),jy[0]=i,jy[1]=o,GMe(jy,s),i=jy[0],o=jy[1];var a=o-i;return this.addData(Sr.A,t,n,r,r,i,a,0,s?0:1),this._ctx&&this._ctx.arc(t,n,r,i,o,s),this._xi=zd(o)*r+t,this._yi=Bd(o)*r+n,this},e.prototype.arcTo=function(t,n,r,i,o){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,n,r,i,o),this},e.prototype.rect=function(t,n,r,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,n,r,i),this.addData(Sr.R,t,n,r,i),this},e.prototype.closePath=function(){this._drawPendingPt(),this.addData(Sr.Z);var t=this._ctx,n=this._x0,r=this._y0;return t&&t.closePath(),this._xi=n,this._yi=r,this},e.prototype.fill=function(t){t&&t.fill(),this.toStatic()},e.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},e.prototype.len=function(){return this._len},e.prototype.setData=function(t){var n=t.length;!(this.data&&this.data.length===n)&&PE&&(this.data=new Float32Array(n));for(var r=0;r<n;r++)this.data[r]=t[r];this._len=n},e.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var n=t.length,r=0,i=this._len,o=0;o<n;o++)r+=t[o].len();PE&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+r));for(var o=0;o<n;o++)for(var s=t[o].data,a=0;a<s.length;a++)this.data[i++]=s[a];this._len=i},e.prototype.addData=function(t,n,r,i,o,s,a,c,h){if(this._saveData){var d=this.data;this._len+arguments.length>d.length&&(this._expandData(),d=this.data);for(var g=0;g<arguments.length;g++)d[this._len++]=arguments[g]}},e.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},e.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],n=0;n<this._len;n++)t[n]=this.data[n];this.data=t}},e.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,PE&&this._len>11&&(this.data=new Float32Array(t)))}},e.prototype.getBoundingRect=function(){Tl[0]=Tl[1]=Pl[0]=Pl[1]=Number.MAX_VALUE,jc[0]=jc[1]=El[0]=El[1]=-Number.MAX_VALUE;var t=this.data,n=0,r=0,i=0,o=0,s;for(s=0;s<this._len;){var a=t[s++],c=s===1;switch(c&&(n=t[s],r=t[s+1],i=n,o=r),a){case Sr.M:n=i=t[s++],r=o=t[s++],Pl[0]=i,Pl[1]=o,El[0]=i,El[1]=o;break;case Sr.L:tF(n,r,t[s],t[s+1],Pl,El),n=t[s++],r=t[s++];break;case Sr.C:jMe(n,r,t[s++],t[s++],t[s++],t[s++],t[s],t[s+1],Pl,El),n=t[s++],r=t[s++];break;case Sr.Q:HMe(n,r,t[s++],t[s++],t[s],t[s+1],Pl,El),n=t[s++],r=t[s++];break;case Sr.A:var h=t[s++],d=t[s++],g=t[s++],y=t[s++],v=t[s++],x=t[s++]+v;s+=1;var C=!t[s++];c&&(i=zd(v)*g+h,o=Bd(v)*y+d),UMe(h,d,g,y,v,x,C,Pl,El),n=zd(x)*g+h,r=Bd(x)*y+d;break;case Sr.R:i=n=t[s++],o=r=t[s++];var I=t[s++],A=t[s++];tF(i,o,i+I,o+A,Pl,El);break;case Sr.Z:n=i,r=o;break}Am(Tl,Tl,Pl),Dm(jc,jc,El)}return s===0&&(Tl[0]=Tl[1]=jc[0]=jc[1]=0),new dr(Tl[0],Tl[1],jc[0]-Tl[0],jc[1]-Tl[1])},e.prototype._calculateLength=function(){var t=this.data,n=this._len,r=this._ux,i=this._uy,o=0,s=0,a=0,c=0;this._pathSegLen||(this._pathSegLen=[]);for(var h=this._pathSegLen,d=0,g=0,y=0;y<n;){var v=t[y++],x=y===1;x&&(o=t[y],s=t[y+1],a=o,c=s);var C=-1;switch(v){case Sr.M:o=a=t[y++],s=c=t[y++];break;case Sr.L:{var I=t[y++],A=t[y++],k=I-o,R=A-s;(zu(k)>r||zu(R)>i||y===n-1)&&(C=Math.sqrt(k*k+R*R),o=I,s=A);break}case Sr.C:{var z=t[y++],V=t[y++],I=t[y++],A=t[y++],U=t[y++],N=t[y++];C=cIe(o,s,z,V,I,A,U,N,10),o=U,s=N;break}case Sr.Q:{var z=t[y++],V=t[y++],I=t[y++],A=t[y++];C=fIe(o,s,z,V,I,A,10),o=I,s=A;break}case Sr.A:var W=t[y++],X=t[y++],K=t[y++],te=t[y++],ae=t[y++],me=t[y++],we=me+ae;y+=1,x&&(a=zd(ae)*K+W,c=Bd(ae)*te+X),C=TE(K,te)*CE(Qc,Math.abs(me)),o=zd(we)*K+W,s=Bd(we)*te+X;break;case Sr.R:{a=o=t[y++],c=s=t[y++];var se=t[y++],ue=t[y++];C=se*2+ue*2;break}case Sr.Z:{var k=a-o,R=c-s;C=Math.sqrt(k*k+R*R),o=a,s=c;break}}C>=0&&(h[g++]=C,d+=C)}return this._pathLen=d,d},e.prototype.rebuildPath=function(t,n){var r=this.data,i=this._ux,o=this._uy,s=this._len,a,c,h,d,g,y,v=n<1,x,C,I=0,A=0,k,R=0,z,V;if(!(v&&(this._pathSegLen||this._calculateLength(),x=this._pathSegLen,C=this._pathLen,k=n*C,!k)))e:for(var U=0;U<s;){var N=r[U++],W=U===1;switch(W&&(h=r[U],d=r[U+1],a=h,c=d),N!==Sr.L&&R>0&&(t.lineTo(z,V),R=0),N){case Sr.M:a=h=r[U++],c=d=r[U++],t.moveTo(h,d);break;case Sr.L:{g=r[U++],y=r[U++];var X=zu(g-h),K=zu(y-d);if(X>i||K>o){if(v){var te=x[A++];if(I+te>k){var ae=(k-I)/te;t.lineTo(h*(1-ae)+g*ae,d*(1-ae)+y*ae);break e}I+=te}t.lineTo(g,y),h=g,d=y,R=0}else{var me=X*X+K*K;me>R&&(z=g,V=y,R=me)}break}case Sr.C:{var we=r[U++],se=r[U++],ue=r[U++],Te=r[U++],Be=r[U++],ke=r[U++];if(v){var te=x[A++];if(I+te>k){var ae=(k-I)/te;PS(h,we,ue,Be,ae,Ld),PS(d,se,Te,ke,ae,$d),t.bezierCurveTo(Ld[1],$d[1],Ld[2],$d[2],Ld[3],$d[3]);break e}I+=te}t.bezierCurveTo(we,se,ue,Te,Be,ke),h=Be,d=ke;break}case Sr.Q:{var we=r[U++],se=r[U++],ue=r[U++],Te=r[U++];if(v){var te=x[A++];if(I+te>k){var ae=(k-I)/te;ES(h,we,ue,ae,Ld),ES(d,se,Te,ae,$d),t.quadraticCurveTo(Ld[1],$d[1],Ld[2],$d[2]);break e}I+=te}t.quadraticCurveTo(we,se,ue,Te),h=ue,d=Te;break}case Sr.A:var rt=r[U++],ot=r[U++],tt=r[U++],It=r[U++],Bt=r[U++],Lt=r[U++],Yt=r[U++],ze=!r[U++],ut=tt>It?tt:It,Re=zu(tt-It)>.001,Ve=Bt+Lt,Le=!1;if(v){var te=x[A++];I+te>k&&(Ve=Bt+Lt*(k-I)/te,Le=!0),I+=te}if(Re&&t.ellipse?t.ellipse(rt,ot,tt,It,Yt,Bt,Ve,ze):t.arc(rt,ot,ut,Bt,Ve,ze),Le)break e;W&&(a=zd(Bt)*tt+rt,c=Bd(Bt)*It+ot),h=zd(Ve)*tt+rt,d=Bd(Ve)*It+ot;break;case Sr.R:a=h=r[U],c=d=r[U+1],g=r[U++],y=r[U++];var Ye=r[U++],pe=r[U++];if(v){var te=x[A++];if(I+te>k){var ye=k-I;t.moveTo(g,y),t.lineTo(g+CE(ye,Ye),y),ye-=Ye,ye>0&&t.lineTo(g+Ye,y+CE(ye,pe)),ye-=pe,ye>0&&t.lineTo(g+TE(Ye-ye,0),y+pe),ye-=Ye,ye>0&&t.lineTo(g,y+TE(pe-ye,0));break e}I+=te}t.rect(g,y,Ye,pe);break;case Sr.Z:if(v){var te=x[A++];if(I+te>k){var ae=(k-I)/te;t.lineTo(h*(1-ae)+a*ae,d*(1-ae)+c*ae);break e}I+=te}t.closePath(),h=a,d=c}}},e.prototype.clone=function(){var t=new e,n=this.data;return t.data=n.slice?n.slice():Array.prototype.slice.call(n),t._len=this._len,t},e.CMD=Sr,e.initDefaultProps=function(){var t=e.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0}(),e}();function oh(e,t,n,r,i,o,s){if(i===0)return!1;var a=i,c=0,h=e;if(s>t+a&&s>r+a||s<t-a&&s<r-a||o>e+a&&o>n+a||o<e-a&&o<n-a)return!1;if(e!==n)c=(t-r)/(e-n),h=(e*r-n*t)/(e-n);else return Math.abs(o-e)<=a/2;var d=c*o-s+h,g=d*d/(c*c+1);return g<=a/2*a/2}function WMe(e,t,n,r,i,o,s,a,c,h,d){if(c===0)return!1;var g=c;if(d>t+g&&d>r+g&&d>o+g&&d>a+g||d<t-g&&d<r-g&&d<o-g&&d<a-g||h>e+g&&h>n+g&&h>i+g&&h>s+g||h<e-g&&h<n-g&&h<i-g&&h<s-g)return!1;var y=uIe(e,t,n,r,i,o,s,a,h,d);return y<=g/2}function rq(e,t,n,r,i,o,s,a,c){if(s===0)return!1;var h=s;if(c>t+h&&c>r+h&&c>o+h||c<t-h&&c<r-h&&c<o-h||a>e+h&&a>n+h&&a>i+h||a<e-h&&a<n-h&&a<i-h)return!1;var d=dIe(e,t,n,r,i,o,a,c);return d<=h/2}var iF=Math.PI*2;function Px(e){return e%=iF,e<0&&(e+=iF),e}var Hy=Math.PI*2;function ZMe(e,t,n,r,i,o,s,a,c){if(s===0)return!1;var h=s;a-=e,c-=t;var d=Math.sqrt(a*a+c*c);if(d-h>n||d+h<n)return!1;if(Math.abs(r-i)%Hy<1e-4)return!0;if(o){var g=r;r=Px(i),i=Px(g)}else r=Px(r),i=Px(i);r>i&&(i+=Hy);var y=Math.atan2(c,a);return y<0&&(y+=Hy),y>=r&&y<=i||y+Hy>=r&&y+Hy<=i}function Fd(e,t,n,r,i,o){if(o>t&&o>r||o<t&&o<r||r===t)return 0;var s=(o-t)/(r-t),a=r<t?1:-1;(s===1||s===0)&&(a=r<t?.5:-.5);var c=s*(n-e)+e;return c===i?1/0:c>i?a:0}var Hc=Mh.CMD,Nd=Math.PI*2,qMe=1e-4;function KMe(e,t){return Math.abs(e-t)<qMe}var ha=[-1,-1,-1],ks=[-1,-1];function XMe(){var e=ks[0];ks[0]=ks[1],ks[1]=e}function YMe(e,t,n,r,i,o,s,a,c,h){if(h>t&&h>r&&h>o&&h>a||h<t&&h<r&&h<o&&h<a)return 0;var d=TS(t,r,o,a,h,ha);if(d===0)return 0;for(var g=0,y=-1,v=void 0,x=void 0,C=0;C<d;C++){var I=ha[C],A=I===0||I===1?.5:1,k=Po(e,n,i,s,I);k<c||(y<0&&(y=PZ(t,r,o,a,ks),ks[1]<ks[0]&&y>1&&XMe(),v=Po(t,r,o,a,ks[0]),y>1&&(x=Po(t,r,o,a,ks[1]))),y===2?I<ks[0]?g+=v<t?A:-A:I<ks[1]?g+=x<v?A:-A:g+=a<x?A:-A:I<ks[0]?g+=v<t?A:-A:g+=a<v?A:-A)}return g}function JMe(e,t,n,r,i,o,s,a){if(a>t&&a>r&&a>o||a<t&&a<r&&a<o)return 0;var c=hIe(t,r,o,a,ha);if(c===0)return 0;var h=EZ(t,r,o);if(h>=0&&h<=1){for(var d=0,g=ma(t,r,o,h),y=0;y<c;y++){var v=ha[y]===0||ha[y]===1?.5:1,x=ma(e,n,i,ha[y]);x<s||(ha[y]<h?d+=g<t?v:-v:d+=o<g?v:-v)}return d}else{var v=ha[0]===0||ha[0]===1?.5:1,x=ma(e,n,i,ha[0]);return x<s?0:o<t?v:-v}}function QMe(e,t,n,r,i,o,s,a){if(a-=t,a>n||a<-n)return 0;var c=Math.sqrt(n*n-a*a);ha[0]=-c,ha[1]=c;var h=Math.abs(r-i);if(h<1e-4)return 0;if(h>=Nd-1e-4){r=0,i=Nd;var d=o?1:-1;return s>=ha[0]+e&&s<=ha[1]+e?d:0}if(r>i){var g=r;r=i,i=g}r<0&&(r+=Nd,i+=Nd);for(var y=0,v=0;v<2;v++){var x=ha[v];if(x+e>s){var C=Math.atan2(a,x),d=o?1:-1;C<0&&(C=Nd+C),(C>=r&&C<=i||C+Nd>=r&&C+Nd<=i)&&(C>Math.PI/2&&C<Math.PI*1.5&&(d=-d),y+=d)}}return y}function iq(e,t,n,r,i){for(var o=e.data,s=e.len(),a=0,c=0,h=0,d=0,g=0,y,v,x=0;x<s;){var C=o[x++],I=x===1;switch(C===Hc.M&&x>1&&(n||(a+=Fd(c,h,d,g,r,i))),I&&(c=o[x],h=o[x+1],d=c,g=h),C){case Hc.M:d=o[x++],g=o[x++],c=d,h=g;break;case Hc.L:if(n){if(oh(c,h,o[x],o[x+1],t,r,i))return!0}else a+=Fd(c,h,o[x],o[x+1],r,i)||0;c=o[x++],h=o[x++];break;case Hc.C:if(n){if(WMe(c,h,o[x++],o[x++],o[x++],o[x++],o[x],o[x+1],t,r,i))return!0}else a+=YMe(c,h,o[x++],o[x++],o[x++],o[x++],o[x],o[x+1],r,i)||0;c=o[x++],h=o[x++];break;case Hc.Q:if(n){if(rq(c,h,o[x++],o[x++],o[x],o[x+1],t,r,i))return!0}else a+=JMe(c,h,o[x++],o[x++],o[x],o[x+1],r,i)||0;c=o[x++],h=o[x++];break;case Hc.A:var A=o[x++],k=o[x++],R=o[x++],z=o[x++],V=o[x++],U=o[x++];x+=1;var N=!!(1-o[x++]);y=Math.cos(V)*R+A,v=Math.sin(V)*z+k,I?(d=y,g=v):a+=Fd(c,h,y,v,r,i);var W=(r-A)*z/R+A;if(n){if(ZMe(A,k,z,V,V+U,N,t,W,i))return!0}else a+=QMe(A,k,z,V,V+U,N,W,i);c=Math.cos(V+U)*R+A,h=Math.sin(V+U)*z+k;break;case Hc.R:d=c=o[x++],g=h=o[x++];var X=o[x++],K=o[x++];if(y=d+X,v=g+K,n){if(oh(d,g,y,g,t,r,i)||oh(y,g,y,v,t,r,i)||oh(y,v,d,v,t,r,i)||oh(d,v,d,g,t,r,i))return!0}else a+=Fd(y,g,y,v,r,i),a+=Fd(d,v,d,g,r,i);break;case Hc.Z:if(n){if(oh(c,h,d,g,t,r,i))return!0}else a+=Fd(c,h,d,g,r,i);c=d,h=g;break}}return!n&&!KMe(h,g)&&(a+=Fd(c,h,d,g,r,i)||0),a!==0}function eAe(e,t,n){return iq(e,0,!1,t,n)}function tAe(e,t,n,r){return iq(e,t,!0,n,r)}var OS=Er({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Cf),nAe={style:Er({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},eC.style)},IE=D0.concat(["invisible","culling","z","z2","zlevel","parent"]),yr=function(e){Xt(t,e);function t(n){return e.call(this,n)||this}return t.prototype.update=function(){var n=this;e.prototype.update.call(this);var r=this.style;if(r.decal){var i=this._decalEl=this._decalEl||new t;i.buildPath===t.prototype.buildPath&&(i.buildPath=function(c){n.buildPath(c,n.shape)}),i.silent=!0;var o=i.style;for(var s in r)o[s]!==r[s]&&(o[s]=r[s]);o.fill=r.fill?r.decal:null,o.decal=null,o.shadowColor=null,r.strokeFirst&&(o.stroke=null);for(var a=0;a<IE.length;++a)i[IE[a]]=this[IE[a]];i.__dirty|=ts}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(n){var r=lr(n);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var o=0;o<r.length;o++){var s=r[o],a=n[s];s==="style"?this.style?en(this.style,a):this.useStyle(a):s==="shape"?en(this.shape,a):e.prototype.attrKV.call(this,s,a)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var n=this.style.fill;if(n!=="none"){if(pn(n)){var r=IS(n,0);return r>.5?wA:r>.2?BIe:SA}else if(n)return SA}return wA},t.prototype.getInsideTextStroke=function(n){var r=this.style.fill;if(pn(r)){var i=this.__zr,o=!!(i&&i.isDarkMode()),s=IS(n,0)<xA;if(o===s)return r}},t.prototype.buildPath=function(n,r,i){},t.prototype.pathUpdated=function(){this.__dirty&=~xm},t.prototype.getUpdatedPathProxy=function(n){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,n),this.path},t.prototype.createPathProxy=function(){this.path=new Mh(!1)},t.prototype.hasStroke=function(){var n=this.style,r=n.stroke;return!(r==null||r==="none"||!(n.lineWidth>0))},t.prototype.hasFill=function(){var n=this.style,r=n.fill;return r!=null&&r!=="none"},t.prototype.getBoundingRect=function(){var n=this._rect,r=this.style,i=!n;if(i){var o=!1;this.path||(o=!0,this.createPathProxy());var s=this.path;(o||this.__dirty&xm)&&(s.beginPath(),this.buildPath(s,this.shape,!1),this.pathUpdated()),n=s.getBoundingRect()}if(this._rect=n,this.hasStroke()&&this.path&&this.path.len()>0){var a=this._rectStroke||(this._rectStroke=n.clone());if(this.__dirty||i){a.copy(n);var c=r.strokeNoScale?this.getLineScale():1,h=r.lineWidth;if(!this.hasFill()){var d=this.strokeContainThreshold;h=Math.max(h,d??4)}c>1e-10&&(a.width+=h/c,a.height+=h/c,a.x-=h/c/2,a.y-=h/c/2)}return a}return n},t.prototype.contain=function(n,r){var i=this.transformCoordToLocal(n,r),o=this.getBoundingRect(),s=this.style;if(n=i[0],r=i[1],o.contain(n,r)){var a=this.path;if(this.hasStroke()){var c=s.lineWidth,h=s.strokeNoScale?this.getLineScale():1;if(h>1e-10&&(this.hasFill()||(c=Math.max(c,this.strokeContainThreshold)),tAe(a,c/h,n,r)))return!0}if(this.hasFill())return eAe(a,n,r)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=xm,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(n){return this.animate("shape",n)},t.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():n==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(n,r){n==="shape"?this.setShape(r):e.prototype.attrKV.call(this,n,r)},t.prototype.setShape=function(n,r){var i=this.shape;return i||(i=this.shape={}),typeof n=="string"?i[n]=r:en(i,n),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&xm)},t.prototype.createStyle=function(n){return Z2(OS,n)},t.prototype._innerSaveToNormal=function(n){e.prototype._innerSaveToNormal.call(this,n);var r=this._normalState;n.shape&&!r.shape&&(r.shape=en({},this.shape))},t.prototype._applyStateObj=function(n,r,i,o,s,a){e.prototype._applyStateObj.call(this,n,r,i,o,s,a);var c=!(r&&o),h;if(r&&r.shape?s?o?h=r.shape:(h=en({},i.shape),en(h,r.shape)):(h=en({},o?this.shape:i.shape),en(h,r.shape)):c&&(h=i.shape),h)if(s){this.shape=en({},this.shape);for(var d={},g=lr(h),y=0;y<g.length;y++){var v=g[y];typeof h[v]=="object"?this.shape[v]=h[v]:d[v]=h[v]}this._transitionState(n,{shape:d},a)}else this.shape=h,this.dirtyShape()},t.prototype._mergeStates=function(n){for(var r=e.prototype._mergeStates.call(this,n),i,o=0;o<n.length;o++){var s=n[o];s.shape&&(i=i||{},this._mergeStyle(i,s.shape))}return i&&(r.shape=i),r},t.prototype.getAnimationStyleProps=function(){return nAe},t.prototype.isZeroArea=function(){return!1},t.extend=function(n){var r=function(o){Xt(s,o);function s(a){var c=o.call(this,a)||this;return n.init&&n.init.call(c,a),c}return s.prototype.getDefaultStyle=function(){return er(n.style)},s.prototype.getDefaultShape=function(){return er(n.shape)},s}(t);for(var i in n)typeof n[i]=="function"&&(r.prototype[i]=n[i]);return r},t.initDefaultProps=function(){var n=t.prototype;n.type="path",n.strokeContainThreshold=5,n.segmentIgnoreThreshold=0,n.subPixelOptimize=!1,n.autoBatch=!1,n.__dirty=ts|f_|xm}(),t}(bb),rAe=Er({strokeFirst:!0,font:Ih,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},OS),R0=function(e){Xt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.hasStroke=function(){var n=this.style,r=n.stroke;return r!=null&&r!=="none"&&n.lineWidth>0},t.prototype.hasFill=function(){var n=this.style,r=n.fill;return r!=null&&r!=="none"},t.prototype.createStyle=function(n){return Z2(rAe,n)},t.prototype.setBoundingRect=function(n){this._rect=n},t.prototype.getBoundingRect=function(){var n=this.style;if(!this._rect){var r=n.text;r!=null?r+="":r="";var i=jO(r,n.font,n.textAlign,n.textBaseline);if(i.x+=n.x||0,i.y+=n.y||0,this.hasStroke()){var o=n.lineWidth;i.x-=o/2,i.y-=o/2,i.width+=o,i.height+=o}this._rect=i}return this._rect},t.initDefaultProps=function(){var n=t.prototype;n.dirtyRectTolerance=10}(),t}(bb);R0.prototype.type="tspan";var iAe=Er({x:0,y:0},Cf),oAe={style:Er({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},eC.style)};function aAe(e){return!!(e&&typeof e!="string"&&e.width&&e.height)}var ru=function(e){Xt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.createStyle=function(n){return Z2(iAe,n)},t.prototype._getSize=function(n){var r=this.style,i=r[n];if(i!=null)return i;var o=aAe(r.image)?r.image:this.__image;if(!o)return 0;var s=n==="width"?"height":"width",a=r[s];return a==null?o[n]:o[n]/o[s]*a},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return oAe},t.prototype.getBoundingRect=function(){var n=this.style;return this._rect||(this._rect=new dr(n.x||0,n.y||0,this.getWidth(),this.getHeight())),this._rect},t}(bb);ru.prototype.type="image";function sAe(e,t){var n=t.x,r=t.y,i=t.width,o=t.height,s=t.r,a,c,h,d;i<0&&(n=n+i,i=-i),o<0&&(r=r+o,o=-o),typeof s=="number"?a=c=h=d=s:s instanceof Array?s.length===1?a=c=h=d=s[0]:s.length===2?(a=h=s[0],c=d=s[1]):s.length===3?(a=s[0],c=d=s[1],h=s[2]):(a=s[0],c=s[1],h=s[2],d=s[3]):a=c=h=d=0;var g;a+c>i&&(g=a+c,a*=i/g,c*=i/g),h+d>i&&(g=h+d,h*=i/g,d*=i/g),c+h>o&&(g=c+h,c*=o/g,h*=o/g),a+d>o&&(g=a+d,a*=o/g,d*=o/g),e.moveTo(n+a,r),e.lineTo(n+i-c,r),c!==0&&e.arc(n+i-c,r+c,c,-Math.PI/2,0),e.lineTo(n+i,r+o-h),h!==0&&e.arc(n+i-h,r+o-h,h,0,Math.PI/2),e.lineTo(n+d,r+o),d!==0&&e.arc(n+d,r+o-d,d,Math.PI/2,Math.PI),e.lineTo(n,r+a),a!==0&&e.arc(n+a,r+a,a,Math.PI,Math.PI*1.5)}var Om=Math.round;function oq(e,t,n){if(t){var r=t.x1,i=t.x2,o=t.y1,s=t.y2;e.x1=r,e.x2=i,e.y1=o,e.y2=s;var a=n&&n.lineWidth;return a&&(Om(r*2)===Om(i*2)&&(e.x1=e.x2=hf(r,a,!0)),Om(o*2)===Om(s*2)&&(e.y1=e.y2=hf(o,a,!0))),e}}function aq(e,t,n){if(t){var r=t.x,i=t.y,o=t.width,s=t.height;e.x=r,e.y=i,e.width=o,e.height=s;var a=n&&n.lineWidth;return a&&(e.x=hf(r,a,!0),e.y=hf(i,a,!0),e.width=Math.max(hf(r+o,a,!1)-e.x,o===0?0:1),e.height=Math.max(hf(i+s,a,!1)-e.y,s===0?0:1)),e}}function hf(e,t,n){if(!t)return e;var r=Om(e*2);return(r+Om(t))%2===0?r/2:(r+(n?1:-1))/2}var lAe=function(){function e(){this.x=0,this.y=0,this.width=0,this.height=0}return e}(),uAe={},Si=function(e){Xt(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new lAe},t.prototype.buildPath=function(n,r){var i,o,s,a;if(this.subPixelOptimize){var c=aq(uAe,r,this.style);i=c.x,o=c.y,s=c.width,a=c.height,c.r=r.r,r=c}else i=r.x,o=r.y,s=r.width,a=r.height;r.r?sAe(n,r):n.rect(i,o,s,a)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(yr);Si.prototype.type="rect";var oF={fill:"#000"},aF=2,cAe={style:Er({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},eC.style)},Mo=function(e){Xt(t,e);function t(n){var r=e.call(this)||this;return r.type="text",r._children=[],r._defaultStyle=oF,r.attr(n),r}return t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){e.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var n=0;n<this._children.length;n++){var r=this._children[n];r.zlevel=this.zlevel,r.z=this.z,r.z2=this.z2,r.culling=this.culling,r.cursor=this.cursor,r.invisible=this.invisible}},t.prototype.updateTransform=function(){var n=this.innerTransformable;n?(n.updateTransform(),n.transform&&(this.transform=n.transform)):e.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(n){var r=this.innerTransformable;return r?r.getLocalTransform(n):e.prototype.getLocalTransform.call(this,n)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),e.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,fAe(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(n){e.prototype.addSelfToZr.call(this,n);for(var r=0;r<this._children.length;r++)this._children[r].__zr=n},t.prototype.removeSelfFromZr=function(n){e.prototype.removeSelfFromZr.call(this,n);for(var r=0;r<this._children.length;r++)this._children[r].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var n=new dr(0,0,0,0),r=this._children,i=[],o=null,s=0;s<r.length;s++){var a=r[s],c=a.getBoundingRect(),h=a.getLocalTransform(i);h?(n.copy(c),n.applyTransform(h),o=o||n.clone(),o.union(n)):(o=o||c.clone(),o.union(c))}this._rect=o||n}return this._rect},t.prototype.setDefaultTextStyle=function(n){this._defaultStyle=n||oF},t.prototype.setTextContent=function(n){},t.prototype._mergeStyle=function(n,r){if(!r)return n;var i=r.rich,o=n.rich||i&&{};return en(n,r),i&&o?(this._mergeRich(o,i),n.rich=o):o&&(n.rich=o),n},t.prototype._mergeRich=function(n,r){for(var i=lr(r),o=0;o<i.length;o++){var s=i[o];n[s]=n[s]||{},en(n[s],r[s])}},t.prototype.getAnimationStyleProps=function(){return cAe},t.prototype._getOrCreateChild=function(n){var r=this._children[this._childCursor];return(!r||!(r instanceof n))&&(r=new n),this._children[this._childCursor++]=r,r.__zr=this.__zr,r.parent=this,r},t.prototype._updatePlainTexts=function(){var n=this.style,r=n.font||Ih,i=n.padding,o=fF(n),s=OMe(o,n),a=ME(n),c=!!n.backgroundColor,h=s.outerHeight,d=s.outerWidth,g=s.contentWidth,y=s.lines,v=s.lineHeight,x=this._defaultStyle;this.isTruncated=!!s.isTruncated;var C=n.x||0,I=n.y||0,A=n.align||x.align||"left",k=n.verticalAlign||x.verticalAlign||"top",R=C,z=wm(I,s.contentHeight,k);if(a||i){var V=m_(C,d,A),U=wm(I,h,k);a&&this._renderBackground(n,n,V,U,d,h)}z+=v/2,i&&(R=dF(C,A,i),k==="top"?z+=i[0]:k==="bottom"&&(z-=i[2]));for(var N=0,W=!1,X=hF("fill"in n?n.fill:(W=!0,x.fill)),K=cF("stroke"in n?n.stroke:!c&&(!x.autoStroke||W)?(N=aF,x.stroke):null),te=n.textShadowBlur>0,ae=n.width!=null&&(n.overflow==="truncate"||n.overflow==="break"||n.overflow==="breakAll"),me=s.calculatedLineHeight,we=0;we<y.length;we++){var se=this._getOrCreateChild(R0),ue=se.createStyle();se.useStyle(ue),ue.text=y[we],ue.x=R,ue.y=z,ue.textAlign=A,ue.textBaseline="middle",ue.opacity=n.opacity,ue.strokeFirst=!0,te&&(ue.shadowBlur=n.textShadowBlur||0,ue.shadowColor=n.textShadowColor||"transparent",ue.shadowOffsetX=n.textShadowOffsetX||0,ue.shadowOffsetY=n.textShadowOffsetY||0),ue.stroke=K,ue.fill=X,K&&(ue.lineWidth=n.lineWidth||N,ue.lineDash=n.lineDash,ue.lineDashOffset=n.lineDashOffset||0),ue.font=r,lF(ue,n),z+=v,ae&&se.setBoundingRect(new dr(m_(ue.x,g,ue.textAlign),wm(ue.y,me,ue.textBaseline),g,me))}},t.prototype._updateRichTexts=function(){var n=this.style,r=fF(n),i=$Me(r,n),o=i.width,s=i.outerWidth,a=i.outerHeight,c=n.padding,h=n.x||0,d=n.y||0,g=this._defaultStyle,y=n.align||g.align,v=n.verticalAlign||g.verticalAlign;this.isTruncated=!!i.isTruncated;var x=m_(h,s,y),C=wm(d,a,v),I=x,A=C;c&&(I+=c[3],A+=c[0]);var k=I+o;ME(n)&&this._renderBackground(n,n,x,C,s,a);for(var R=!!n.backgroundColor,z=0;z<i.lines.length;z++){for(var V=i.lines[z],U=V.tokens,N=U.length,W=V.lineHeight,X=V.width,K=0,te=I,ae=k,me=N-1,we=void 0;K<N&&(we=U[K],!we.align||we.align==="left");)this._placeToken(we,n,W,A,te,"left",R),X-=we.width,te+=we.width,K++;for(;me>=0&&(we=U[me],we.align==="right");)this._placeToken(we,n,W,A,ae,"right",R),X-=we.width,ae-=we.width,me--;for(te+=(o-(te-I)-(k-ae)-X)/2;K<=me;)we=U[K],this._placeToken(we,n,W,A,te+we.width/2,"center",R),te+=we.width,K++;A+=W}},t.prototype._placeToken=function(n,r,i,o,s,a,c){var h=r.rich[n.styleName]||{};h.text=n.text;var d=n.verticalAlign,g=o+i/2;d==="top"?g=o+n.height/2:d==="bottom"&&(g=o+i-n.height/2);var y=!n.isLineHolder&&ME(h);y&&this._renderBackground(h,r,a==="right"?s-n.width:a==="center"?s-n.width/2:s,g-n.height/2,n.width,n.height);var v=!!h.backgroundColor,x=n.textPadding;x&&(s=dF(s,a,x),g-=n.height/2-x[0]-n.innerHeight/2);var C=this._getOrCreateChild(R0),I=C.createStyle();C.useStyle(I);var A=this._defaultStyle,k=!1,R=0,z=hF("fill"in h?h.fill:"fill"in r?r.fill:(k=!0,A.fill)),V=cF("stroke"in h?h.stroke:"stroke"in r?r.stroke:!v&&!c&&(!A.autoStroke||k)?(R=aF,A.stroke):null),U=h.textShadowBlur>0||r.textShadowBlur>0;I.text=n.text,I.x=s,I.y=g,U&&(I.shadowBlur=h.textShadowBlur||r.textShadowBlur||0,I.shadowColor=h.textShadowColor||r.textShadowColor||"transparent",I.shadowOffsetX=h.textShadowOffsetX||r.textShadowOffsetX||0,I.shadowOffsetY=h.textShadowOffsetY||r.textShadowOffsetY||0),I.textAlign=a,I.textBaseline="middle",I.font=n.font||Ih,I.opacity=Cw(h.opacity,r.opacity,1),lF(I,h),V&&(I.lineWidth=Cw(h.lineWidth,r.lineWidth,R),I.lineDash=Fn(h.lineDash,r.lineDash),I.lineDashOffset=r.lineDashOffset||0,I.stroke=V),z&&(I.fill=z);var N=n.contentWidth,W=n.contentHeight;C.setBoundingRect(new dr(m_(I.x,N,I.textAlign),wm(I.y,W,I.textBaseline),N,W))},t.prototype._renderBackground=function(n,r,i,o,s,a){var c=n.backgroundColor,h=n.borderWidth,d=n.borderColor,g=c&&c.image,y=c&&!g,v=n.borderRadius,x=this,C,I;if(y||n.lineHeight||h&&d){C=this._getOrCreateChild(Si),C.useStyle(C.createStyle()),C.style.fill=null;var A=C.shape;A.x=i,A.y=o,A.width=s,A.height=a,A.r=v,C.dirtyShape()}if(y){var k=C.style;k.fill=c||null,k.fillOpacity=Fn(n.fillOpacity,1)}else if(g){I=this._getOrCreateChild(ru),I.onload=function(){x.dirtyStyle()};var R=I.style;R.image=c.image,R.x=i,R.y=o,R.width=s,R.height=a}if(h&&d){var k=C.style;k.lineWidth=h,k.stroke=d,k.strokeOpacity=Fn(n.strokeOpacity,1),k.lineDash=n.borderDash,k.lineDashOffset=n.borderDashOffset||0,C.strokeContainThreshold=0,C.hasFill()&&C.hasStroke()&&(k.strokeFirst=!0,k.lineWidth*=2)}var z=(C||I).style;z.shadowBlur=n.shadowBlur||0,z.shadowColor=n.shadowColor||"transparent",z.shadowOffsetX=n.shadowOffsetX||0,z.shadowOffsetY=n.shadowOffsetY||0,z.opacity=Cw(n.opacity,r.opacity,1)},t.makeFont=function(n){var r="";return lq(n)&&(r=[n.fontStyle,n.fontWeight,sq(n.fontSize),n.fontFamily||"sans-serif"].join(" ")),r&&jl(r)||n.textFont||n.font},t}(bb),hAe={left:!0,right:1,center:1},dAe={top:1,bottom:1,middle:1},sF=["fontStyle","fontWeight","fontSize","fontFamily"];function sq(e){return typeof e=="string"&&(e.indexOf("px")!==-1||e.indexOf("rem")!==-1||e.indexOf("em")!==-1)?e:isNaN(+e)?IO+"px":e+"px"}function lF(e,t){for(var n=0;n<sF.length;n++){var r=sF[n],i=t[r];i!=null&&(e[r]=i)}}function lq(e){return e.fontSize!=null||e.fontFamily||e.fontWeight}function fAe(e){return uF(e),Ne(e.rich,uF),e}function uF(e){if(e){e.font=Mo.makeFont(e);var t=e.align;t==="middle"&&(t="center"),e.align=t==null||hAe[t]?t:"left";var n=e.verticalAlign;n==="center"&&(n="middle"),e.verticalAlign=n==null||dAe[n]?n:"top";var r=e.padding;r&&(e.padding=pZ(e.padding))}}function cF(e,t){return e==null||t<=0||e==="transparent"||e==="none"?null:e.image||e.colorStops?"#000":e}function hF(e){return e==null||e==="none"?null:e.image||e.colorStops?"#000":e}function dF(e,t,n){return t==="right"?e-n[1]:t==="center"?e+n[3]/2-n[1]/2:e+n[3]}function fF(e){var t=e.text;return t!=null&&(t+=""),t}function ME(e){return!!(e.backgroundColor||e.lineHeight||e.borderWidth&&e.borderColor)}var sr=Ti(),pAe=function(e,t,n,r){if(r){var i=sr(r);i.dataIndex=n,i.dataType=t,i.seriesIndex=e,i.ssrType="chart",r.type==="group"&&r.traverse(function(o){var s=sr(o);s.seriesIndex=e,s.dataIndex=n,s.dataType=t,s.ssrType="chart"})}},pF=1,mF={},uq=Ti(),qO=Ti(),KO=0,tC=1,nC=2,Hs=["emphasis","blur","select"],gF=["normal","emphasis","blur","select"],mAe=10,gAe=9,Tf="highlight",kw="downplay",U_="select",Ow="unselect",G_="toggleSelect";function am(e){return e!=null&&e!=="none"}function rC(e,t,n){e.onHoverStateChange&&(e.hoverState||0)!==n&&e.onHoverStateChange(t),e.hoverState=n}function cq(e){rC(e,"emphasis",nC)}function hq(e){e.hoverState===nC&&rC(e,"normal",KO)}function XO(e){rC(e,"blur",tC)}function dq(e){e.hoverState===tC&&rC(e,"normal",KO)}function vAe(e){e.selected=!0}function yAe(e){e.selected=!1}function vF(e,t,n){t(e,n)}function mc(e,t,n){vF(e,t,n),e.isGroup&&e.traverse(function(r){vF(r,t,n)})}function yF(e,t){switch(t){case"emphasis":e.hoverState=nC;break;case"normal":e.hoverState=KO;break;case"blur":e.hoverState=tC;break;case"select":e.selected=!0}}function _Ae(e,t,n,r){for(var i=e.style,o={},s=0;s<t.length;s++){var a=t[s],c=i[a];o[a]=c??r[a]}for(var s=0;s<e.animators.length;s++){var h=e.animators[s];h.__fromStateTransition&&h.__fromStateTransition.indexOf(n)<0&&h.targetName==="style"&&h.saveTo(o,t)}return o}function bAe(e,t,n,r){var i=n&&hr(n,"select")>=0,o=!1;if(e instanceof yr){var s=uq(e),a=i&&s.selectFill||s.normalFill,c=i&&s.selectStroke||s.normalStroke;if(am(a)||am(c)){r=r||{};var h=r.style||{};h.fill==="inherit"?(o=!0,r=en({},r),h=en({},h),h.fill=a):!am(h.fill)&&am(a)?(o=!0,r=en({},r),h=en({},h),h.fill=pA(a)):!am(h.stroke)&&am(c)&&(o||(r=en({},r),h=en({},h)),h.stroke=pA(c)),r.style=h}}if(r&&r.z2==null){o||(r=en({},r));var d=e.z2EmphasisLift;r.z2=e.z2+(d??mAe)}return r}function xAe(e,t,n){if(n&&n.z2==null){n=en({},n);var r=e.z2SelectLift;n.z2=e.z2+(r??gAe)}return n}function wAe(e,t,n){var r=hr(e.currentStates,t)>=0,i=e.style.opacity,o=r?null:_Ae(e,["opacity"],t,{opacity:1});n=n||{};var s=n.style||{};return s.opacity==null&&(n=en({},n),s=en({opacity:r?i:o.opacity*.1},s),n.style=s),n}function AE(e,t){var n=this.states[e];if(this.style){if(e==="emphasis")return bAe(this,e,t,n);if(e==="blur")return wAe(this,e,n);if(e==="select")return xAe(this,e,n)}return n}function SAe(e){e.stateProxy=AE;var t=e.getTextContent(),n=e.getTextGuideLine();t&&(t.stateProxy=AE),n&&(n.stateProxy=AE)}function _F(e,t){!gq(e,t)&&!e.__highByOuter&&mc(e,cq)}function bF(e,t){!gq(e,t)&&!e.__highByOuter&&mc(e,hq)}function L0(e,t){e.__highByOuter|=1<<(t||0),mc(e,cq)}function $0(e,t){!(e.__highByOuter&=~(1<<(t||0)))&&mc(e,hq)}function fq(e){mc(e,XO)}function YO(e){mc(e,dq)}function pq(e){mc(e,vAe)}function mq(e){mc(e,yAe)}function gq(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function vq(e){var t=e.getModel(),n=[],r=[];t.eachComponent(function(i,o){var s=qO(o),a=i==="series",c=a?e.getViewOfSeriesModel(o):e.getViewOfComponentModel(o);!a&&r.push(c),s.isBlured&&(c.group.traverse(function(h){dq(h)}),a&&n.push(o)),s.isBlured=!1}),Ne(r,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(n,!1,t)})}function MA(e,t,n,r){var i=r.getModel();n=n||"coordinateSystem";function o(h,d){for(var g=0;g<d.length;g++){var y=h.getItemGraphicEl(d[g]);y&&YO(y)}}if(e!=null&&!(!t||t==="none")){var s=i.getSeriesByIndex(e),a=s.coordinateSystem;a&&a.master&&(a=a.master);var c=[];i.eachSeries(function(h){var d=s===h,g=h.coordinateSystem;g&&g.master&&(g=g.master);var y=g&&a?g===a:d;if(!(n==="series"&&!d||n==="coordinateSystem"&&!y||t==="series"&&d)){var v=r.getViewOfSeriesModel(h);if(v.group.traverse(function(I){I.__highByOuter&&d&&t==="self"||XO(I)}),Ra(t))o(h.getData(),t);else if(Pn(t))for(var x=lr(t),C=0;C<x.length;C++)o(h.getData(x[C]),t[x[C]]);c.push(h),qO(h).isBlured=!0}}),i.eachComponent(function(h,d){if(h!=="series"){var g=r.getViewOfComponentModel(d);g&&g.toggleBlurSeries&&g.toggleBlurSeries(c,!0,i)}})}}function AA(e,t,n){if(!(e==null||t==null)){var r=n.getModel().getComponent(e,t);if(r){qO(r).isBlured=!0;var i=n.getViewOfComponentModel(r);!i||!i.focusBlurEnabled||i.group.traverse(function(o){XO(o)})}}}function CAe(e,t,n){var r=e.seriesIndex,i=e.getData(t.dataType);if(i){var o=Nf(i,t);o=(cn(o)?o[0]:o)||0;var s=i.getItemGraphicEl(o);if(!s)for(var a=i.count(),c=0;!s&&c<a;)s=i.getItemGraphicEl(c++);if(s){var h=sr(s);MA(r,h.focus,h.blurScope,n)}else{var d=e.get(["emphasis","focus"]),g=e.get(["emphasis","blurScope"]);d!=null&&MA(r,d,g,n)}}}function JO(e,t,n,r){var i={focusSelf:!1,dispatchers:null};if(e==null||e==="series"||t==null||n==null)return i;var o=r.getModel().getComponent(e,t);if(!o)return i;var s=r.getViewOfComponentModel(o);if(!s||!s.findHighDownDispatchers)return i;for(var a=s.findHighDownDispatchers(n),c,h=0;h<a.length;h++)if(sr(a[h]).focus==="self"){c=!0;break}return{focusSelf:c,dispatchers:a}}function TAe(e,t,n){var r=sr(e),i=JO(r.componentMainType,r.componentIndex,r.componentHighDownName,n),o=i.dispatchers,s=i.focusSelf;o?(s&&AA(r.componentMainType,r.componentIndex,n),Ne(o,function(a){return _F(a,t)})):(MA(r.seriesIndex,r.focus,r.blurScope,n),r.focus==="self"&&AA(r.componentMainType,r.componentIndex,n),_F(e,t))}function PAe(e,t,n){vq(n);var r=sr(e),i=JO(r.componentMainType,r.componentIndex,r.componentHighDownName,n).dispatchers;i?Ne(i,function(o){return bF(o,t)}):bF(e,t)}function EAe(e,t,n){if(kA(t)){var r=t.dataType,i=e.getData(r),o=Nf(i,t);cn(o)||(o=[o]),e[t.type===G_?"toggleSelect":t.type===U_?"select":"unselect"](o,r)}}function xF(e){var t=e.getAllData();Ne(t,function(n){var r=n.data,i=n.type;r.eachItemGraphicEl(function(o,s){e.isSelected(s,i)?pq(o):mq(o)})})}function IAe(e){var t=[];return e.eachSeries(function(n){var r=n.getAllData();Ne(r,function(i){i.data;var o=i.type,s=n.getSelectedDataIndices();if(s.length>0){var a={dataIndex:s,seriesIndex:n.seriesIndex};o!=null&&(a.dataType=o),t.push(a)}})}),t}function RS(e,t,n){yq(e,!0),mc(e,SAe),AAe(e,t,n)}function MAe(e){yq(e,!1)}function z0(e,t,n,r){r?MAe(e):RS(e,t,n)}function AAe(e,t,n){var r=sr(e);t!=null?(r.focus=t,r.blurScope=n):r.focus&&(r.focus=null)}var wF=["emphasis","blur","select"],DAe={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function SF(e,t,n,r){n=n||"itemStyle";for(var i=0;i<wF.length;i++){var o=wF[i],s=t.getModel([o,n]),a=e.ensureState(o);a.style=s[DAe[n]]()}}function yq(e,t){var n=t===!1,r=e;e.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=e.highDownSilentOnTouch),(!n||r.__highDownDispatcher)&&(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!n)}function DA(e){return!!(e&&e.__highDownDispatcher)}function kAe(e){var t=mF[e];return t==null&&pF<=32&&(t=mF[e]=pF++),t}function kA(e){var t=e.type;return t===U_||t===Ow||t===G_}function CF(e){var t=e.type;return t===Tf||t===kw}function OAe(e){var t=uq(e);t.normalFill=e.style.fill,t.normalStroke=e.style.stroke;var n=e.states.select||{};t.selectFill=n.style&&n.style.fill||null,t.selectStroke=n.style&&n.style.stroke||null}var sm=Mh.CMD,RAe=[[],[],[]],TF=Math.sqrt,LAe=Math.atan2;function $Ae(e,t){if(t){var n=e.data,r=e.len(),i,o,s,a,c,h,d=sm.M,g=sm.C,y=sm.L,v=sm.R,x=sm.A,C=sm.Q;for(s=0,a=0;s<r;){switch(i=n[s++],a=s,o=0,i){case d:o=1;break;case y:o=1;break;case g:o=3;break;case C:o=2;break;case x:var I=t[4],A=t[5],k=TF(t[0]*t[0]+t[1]*t[1]),R=TF(t[2]*t[2]+t[3]*t[3]),z=LAe(-t[1]/R,t[0]/k);n[s]*=k,n[s++]+=I,n[s]*=R,n[s++]+=A,n[s++]*=k,n[s++]*=R,n[s++]+=z,n[s++]+=z,s+=2,a=s;break;case v:h[0]=n[s++],h[1]=n[s++],Fs(h,h,t),n[a++]=h[0],n[a++]=h[1],h[0]+=n[s++],h[1]+=n[s++],Fs(h,h,t),n[a++]=h[0],n[a++]=h[1]}for(c=0;c<o;c++){var V=RAe[c];V[0]=n[s++],V[1]=n[s++],Fs(V,V,t),n[a++]=V[0],n[a++]=V[1]}}e.increaseVersion()}}var DE=Math.sqrt,Ex=Math.sin,Ix=Math.cos,Uy=Math.PI;function PF(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function OA(e,t){return(e[0]*t[0]+e[1]*t[1])/(PF(e)*PF(t))}function EF(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(OA(e,t))}function IF(e,t,n,r,i,o,s,a,c,h,d){var g=c*(Uy/180),y=Ix(g)*(e-n)/2+Ex(g)*(t-r)/2,v=-1*Ex(g)*(e-n)/2+Ix(g)*(t-r)/2,x=y*y/(s*s)+v*v/(a*a);x>1&&(s*=DE(x),a*=DE(x));var C=(i===o?-1:1)*DE((s*s*(a*a)-s*s*(v*v)-a*a*(y*y))/(s*s*(v*v)+a*a*(y*y)))||0,I=C*s*v/a,A=C*-a*y/s,k=(e+n)/2+Ix(g)*I-Ex(g)*A,R=(t+r)/2+Ex(g)*I+Ix(g)*A,z=EF([1,0],[(y-I)/s,(v-A)/a]),V=[(y-I)/s,(v-A)/a],U=[(-1*y-I)/s,(-1*v-A)/a],N=EF(V,U);if(OA(V,U)<=-1&&(N=Uy),OA(V,U)>=1&&(N=0),N<0){var W=Math.round(N/Uy*1e6)/1e6;N=Uy*2+W%2*Uy}d.addData(h,k,R,s,a,z,N,g,o)}var zAe=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,BAe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function FAe(e){var t=new Mh;if(!e)return t;var n=0,r=0,i=n,o=r,s,a=Mh.CMD,c=e.match(zAe);if(!c)return t;for(var h=0;h<c.length;h++){for(var d=c[h],g=d.charAt(0),y=void 0,v=d.match(BAe)||[],x=v.length,C=0;C<x;C++)v[C]=parseFloat(v[C]);for(var I=0;I<x;){var A=void 0,k=void 0,R=void 0,z=void 0,V=void 0,U=void 0,N=void 0,W=n,X=r,K=void 0,te=void 0;switch(g){case"l":n+=v[I++],r+=v[I++],y=a.L,t.addData(y,n,r);break;case"L":n=v[I++],r=v[I++],y=a.L,t.addData(y,n,r);break;case"m":n+=v[I++],r+=v[I++],y=a.M,t.addData(y,n,r),i=n,o=r,g="l";break;case"M":n=v[I++],r=v[I++],y=a.M,t.addData(y,n,r),i=n,o=r,g="L";break;case"h":n+=v[I++],y=a.L,t.addData(y,n,r);break;case"H":n=v[I++],y=a.L,t.addData(y,n,r);break;case"v":r+=v[I++],y=a.L,t.addData(y,n,r);break;case"V":r=v[I++],y=a.L,t.addData(y,n,r);break;case"C":y=a.C,t.addData(y,v[I++],v[I++],v[I++],v[I++],v[I++],v[I++]),n=v[I-2],r=v[I-1];break;case"c":y=a.C,t.addData(y,v[I++]+n,v[I++]+r,v[I++]+n,v[I++]+r,v[I++]+n,v[I++]+r),n+=v[I-2],r+=v[I-1];break;case"S":A=n,k=r,K=t.len(),te=t.data,s===a.C&&(A+=n-te[K-4],k+=r-te[K-3]),y=a.C,W=v[I++],X=v[I++],n=v[I++],r=v[I++],t.addData(y,A,k,W,X,n,r);break;case"s":A=n,k=r,K=t.len(),te=t.data,s===a.C&&(A+=n-te[K-4],k+=r-te[K-3]),y=a.C,W=n+v[I++],X=r+v[I++],n+=v[I++],r+=v[I++],t.addData(y,A,k,W,X,n,r);break;case"Q":W=v[I++],X=v[I++],n=v[I++],r=v[I++],y=a.Q,t.addData(y,W,X,n,r);break;case"q":W=v[I++]+n,X=v[I++]+r,n+=v[I++],r+=v[I++],y=a.Q,t.addData(y,W,X,n,r);break;case"T":A=n,k=r,K=t.len(),te=t.data,s===a.Q&&(A+=n-te[K-4],k+=r-te[K-3]),n=v[I++],r=v[I++],y=a.Q,t.addData(y,A,k,n,r);break;case"t":A=n,k=r,K=t.len(),te=t.data,s===a.Q&&(A+=n-te[K-4],k+=r-te[K-3]),n+=v[I++],r+=v[I++],y=a.Q,t.addData(y,A,k,n,r);break;case"A":R=v[I++],z=v[I++],V=v[I++],U=v[I++],N=v[I++],W=n,X=r,n=v[I++],r=v[I++],y=a.A,IF(W,X,n,r,U,N,R,z,V,y,t);break;case"a":R=v[I++],z=v[I++],V=v[I++],U=v[I++],N=v[I++],W=n,X=r,n+=v[I++],r+=v[I++],y=a.A,IF(W,X,n,r,U,N,R,z,V,y,t);break}}(g==="z"||g==="Z")&&(y=a.Z,t.addData(y),n=i,r=o),s=y}return t.toStatic(),t}var _q=function(e){Xt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.applyTransform=function(n){},t}(yr);function bq(e){return e.setData!=null}function xq(e,t){var n=FAe(e),r=en({},t);return r.buildPath=function(i){if(bq(i)){i.setData(n.data);var o=i.getContext();o&&i.rebuildPath(o,1)}else{var o=i;n.rebuildPath(o,1)}},r.applyTransform=function(i){$Ae(n,i),this.dirtyShape()},r}function NAe(e,t){return new _q(xq(e,t))}function VAe(e,t){var n=xq(e,t),r=function(i){Xt(o,i);function o(s){var a=i.call(this,s)||this;return a.applyTransform=n.applyTransform,a.buildPath=n.buildPath,a}return o}(_q);return r}function jAe(e,t){for(var n=[],r=e.length,i=0;i<r;i++){var o=e[i];n.push(o.getUpdatedPathProxy(!0))}var s=new yr(t);return s.createPathProxy(),s.buildPath=function(a){if(bq(a)){a.appendPath(n);var c=a.getContext();c&&a.rebuildPath(c,1)}},s}var HAe=function(){function e(){this.cx=0,this.cy=0,this.r=0}return e}(),iC=function(e){Xt(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new HAe},t.prototype.buildPath=function(n,r){n.moveTo(r.cx+r.r,r.cy),n.arc(r.cx,r.cy,r.r,0,Math.PI*2)},t}(yr);iC.prototype.type="circle";var UAe=function(){function e(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return e}(),QO=function(e){Xt(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new UAe},t.prototype.buildPath=function(n,r){var i=.5522848,o=r.cx,s=r.cy,a=r.rx,c=r.ry,h=a*i,d=c*i;n.moveTo(o-a,s),n.bezierCurveTo(o-a,s-d,o-h,s-c,o,s-c),n.bezierCurveTo(o+h,s-c,o+a,s-d,o+a,s),n.bezierCurveTo(o+a,s+d,o+h,s+c,o,s+c),n.bezierCurveTo(o-h,s+c,o-a,s+d,o-a,s),n.closePath()},t}(yr);QO.prototype.type="ellipse";var wq=Math.PI,kE=wq*2,Vd=Math.sin,lm=Math.cos,GAe=Math.acos,Vo=Math.atan2,MF=Math.abs,W_=Math.sqrt,v_=Math.max,Il=Math.min,tl=1e-4;function WAe(e,t,n,r,i,o,s,a){var c=n-e,h=r-t,d=s-i,g=a-o,y=g*c-d*h;if(!(y*y<tl))return y=(d*(t-o)-g*(e-i))/y,[e+y*c,t+y*h]}function Mx(e,t,n,r,i,o,s){var a=e-n,c=t-r,h=(s?o:-o)/W_(a*a+c*c),d=h*c,g=-h*a,y=e+d,v=t+g,x=n+d,C=r+g,I=(y+x)/2,A=(v+C)/2,k=x-y,R=C-v,z=k*k+R*R,V=i-o,U=y*C-x*v,N=(R<0?-1:1)*W_(v_(0,V*V*z-U*U)),W=(U*R-k*N)/z,X=(-U*k-R*N)/z,K=(U*R+k*N)/z,te=(-U*k+R*N)/z,ae=W-I,me=X-A,we=K-I,se=te-A;return ae*ae+me*me>we*we+se*se&&(W=K,X=te),{cx:W,cy:X,x0:-d,y0:-g,x1:W*(i/V-1),y1:X*(i/V-1)}}function ZAe(e){var t;if(cn(e)){var n=e.length;if(!n)return e;n===1?t=[e[0],e[0],0,0]:n===2?t=[e[0],e[0],e[1],e[1]]:n===3?t=e.concat(e[2]):t=e}else t=[e,e,e,e];return t}function qAe(e,t){var n,r=v_(t.r,0),i=v_(t.r0||0,0),o=r>0,s=i>0;if(!(!o&&!s)){if(o||(r=i,i=0),i>r){var a=r;r=i,i=a}var c=t.startAngle,h=t.endAngle;if(!(isNaN(c)||isNaN(h))){var d=t.cx,g=t.cy,y=!!t.clockwise,v=MF(h-c),x=v>kE&&v%kE;if(x>tl&&(v=x),!(r>tl))e.moveTo(d,g);else if(v>kE-tl)e.moveTo(d+r*lm(c),g+r*Vd(c)),e.arc(d,g,r,c,h,!y),i>tl&&(e.moveTo(d+i*lm(h),g+i*Vd(h)),e.arc(d,g,i,h,c,y));else{var C=void 0,I=void 0,A=void 0,k=void 0,R=void 0,z=void 0,V=void 0,U=void 0,N=void 0,W=void 0,X=void 0,K=void 0,te=void 0,ae=void 0,me=void 0,we=void 0,se=r*lm(c),ue=r*Vd(c),Te=i*lm(h),Be=i*Vd(h),ke=v>tl;if(ke){var rt=t.cornerRadius;rt&&(n=ZAe(rt),C=n[0],I=n[1],A=n[2],k=n[3]);var ot=MF(r-i)/2;if(R=Il(ot,A),z=Il(ot,k),V=Il(ot,C),U=Il(ot,I),X=N=v_(R,z),K=W=v_(V,U),(N>tl||W>tl)&&(te=r*lm(h),ae=r*Vd(h),me=i*lm(c),we=i*Vd(c),v<wq)){var tt=WAe(se,ue,me,we,te,ae,Te,Be);if(tt){var It=se-tt[0],Bt=ue-tt[1],Lt=te-tt[0],Yt=ae-tt[1],ze=1/Vd(GAe((It*Lt+Bt*Yt)/(W_(It*It+Bt*Bt)*W_(Lt*Lt+Yt*Yt)))/2),ut=W_(tt[0]*tt[0]+tt[1]*tt[1]);X=Il(N,(r-ut)/(ze+1)),K=Il(W,(i-ut)/(ze-1))}}}if(!ke)e.moveTo(d+se,g+ue);else if(X>tl){var Re=Il(A,X),Ve=Il(k,X),Le=Mx(me,we,se,ue,r,Re,y),Ye=Mx(te,ae,Te,Be,r,Ve,y);e.moveTo(d+Le.cx+Le.x0,g+Le.cy+Le.y0),X<N&&Re===Ve?e.arc(d+Le.cx,g+Le.cy,X,Vo(Le.y0,Le.x0),Vo(Ye.y0,Ye.x0),!y):(Re>0&&e.arc(d+Le.cx,g+Le.cy,Re,Vo(Le.y0,Le.x0),Vo(Le.y1,Le.x1),!y),e.arc(d,g,r,Vo(Le.cy+Le.y1,Le.cx+Le.x1),Vo(Ye.cy+Ye.y1,Ye.cx+Ye.x1),!y),Ve>0&&e.arc(d+Ye.cx,g+Ye.cy,Ve,Vo(Ye.y1,Ye.x1),Vo(Ye.y0,Ye.x0),!y))}else e.moveTo(d+se,g+ue),e.arc(d,g,r,c,h,!y);if(!(i>tl)||!ke)e.lineTo(d+Te,g+Be);else if(K>tl){var Re=Il(C,K),Ve=Il(I,K),Le=Mx(Te,Be,te,ae,i,-Ve,y),Ye=Mx(se,ue,me,we,i,-Re,y);e.lineTo(d+Le.cx+Le.x0,g+Le.cy+Le.y0),K<W&&Re===Ve?e.arc(d+Le.cx,g+Le.cy,K,Vo(Le.y0,Le.x0),Vo(Ye.y0,Ye.x0),!y):(Ve>0&&e.arc(d+Le.cx,g+Le.cy,Ve,Vo(Le.y0,Le.x0),Vo(Le.y1,Le.x1),!y),e.arc(d,g,i,Vo(Le.cy+Le.y1,Le.cx+Le.x1),Vo(Ye.cy+Ye.y1,Ye.cx+Ye.x1),y),Re>0&&e.arc(d+Ye.cx,g+Ye.cy,Re,Vo(Ye.y1,Ye.x1),Vo(Ye.y0,Ye.x0),!y))}else e.lineTo(d+Te,g+Be),e.arc(d,g,i,h,c,y)}e.closePath()}}}var KAe=function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return e}(),oC=function(e){Xt(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new KAe},t.prototype.buildPath=function(n,r){qAe(n,r)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(yr);oC.prototype.type="sector";var XAe=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return e}(),eR=function(e){Xt(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new XAe},t.prototype.buildPath=function(n,r){var i=r.cx,o=r.cy,s=Math.PI*2;n.moveTo(i+r.r,o),n.arc(i,o,r.r,0,s,!1),n.moveTo(i+r.r0,o),n.arc(i,o,r.r0,0,s,!0)},t}(yr);eR.prototype.type="ring";function YAe(e,t,n,r){var i=[],o=[],s=[],a=[],c,h,d,g;if(r){d=[1/0,1/0],g=[-1/0,-1/0];for(var y=0,v=e.length;y<v;y++)Am(d,d,e[y]),Dm(g,g,e[y]);Am(d,d,r[0]),Dm(g,g,r[1])}for(var y=0,v=e.length;y<v;y++){var x=e[y];if(n)c=e[y?y-1:v-1],h=e[(y+1)%v];else if(y===0||y===v-1){i.push(REe(e[y]));continue}else c=e[y-1],h=e[y+1];yZ(o,h,c),XP(o,o,t);var C=aA(x,c),I=aA(x,h),A=C+I;A!==0&&(C/=A,I/=A),XP(s,o,-C),XP(a,o,I);var k=_6([],x,s),R=_6([],x,a);r&&(Dm(k,k,d),Am(k,k,g),Dm(R,R,d),Am(R,R,g)),i.push(k),i.push(R)}return n&&i.push(i.shift()),i}function Sq(e,t,n){var r=t.smooth,i=t.points;if(i&&i.length>=2){if(r){var o=YAe(i,r,n,t.smoothConstraint);e.moveTo(i[0][0],i[0][1]);for(var s=i.length,a=0;a<(n?s:s-1);a++){var c=o[a*2],h=o[a*2+1],d=i[(a+1)%s];e.bezierCurveTo(c[0],c[1],h[0],h[1],d[0],d[1])}}else{e.moveTo(i[0][0],i[0][1]);for(var a=1,g=i.length;a<g;a++)e.lineTo(i[a][0],i[a][1])}n&&e.closePath()}}var JAe=function(){function e(){this.points=null,this.smooth=0,this.smoothConstraint=null}return e}(),aC=function(e){Xt(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new JAe},t.prototype.buildPath=function(n,r){Sq(n,r,!0)},t}(yr);aC.prototype.type="polygon";var QAe=function(){function e(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return e}(),xb=function(e){Xt(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new QAe},t.prototype.buildPath=function(n,r){Sq(n,r,!1)},t}(yr);xb.prototype.type="polyline";var eDe={},tDe=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e}(),ic=function(e){Xt(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new tDe},t.prototype.buildPath=function(n,r){var i,o,s,a;if(this.subPixelOptimize){var c=oq(eDe,r,this.style);i=c.x1,o=c.y1,s=c.x2,a=c.y2}else i=r.x1,o=r.y1,s=r.x2,a=r.y2;var h=r.percent;h!==0&&(n.moveTo(i,o),h<1&&(s=i*(1-h)+s*h,a=o*(1-h)+a*h),n.lineTo(s,a))},t.prototype.pointAt=function(n){var r=this.shape;return[r.x1*(1-n)+r.x2*n,r.y1*(1-n)+r.y2*n]},t}(yr);ic.prototype.type="line";var Ta=[],nDe=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return e}();function AF(e,t,n){var r=e.cpx2,i=e.cpy2;return r!=null||i!=null?[(n?D6:Po)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?D6:Po)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(n?hA:ma)(e.x1,e.cpx1,e.x2,t),(n?hA:ma)(e.y1,e.cpy1,e.y2,t)]}var sC=function(e){Xt(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new nDe},t.prototype.buildPath=function(n,r){var i=r.x1,o=r.y1,s=r.x2,a=r.y2,c=r.cpx1,h=r.cpy1,d=r.cpx2,g=r.cpy2,y=r.percent;y!==0&&(n.moveTo(i,o),d==null||g==null?(y<1&&(ES(i,c,s,y,Ta),c=Ta[1],s=Ta[2],ES(o,h,a,y,Ta),h=Ta[1],a=Ta[2]),n.quadraticCurveTo(c,h,s,a)):(y<1&&(PS(i,c,d,s,y,Ta),c=Ta[1],d=Ta[2],s=Ta[3],PS(o,h,g,a,y,Ta),h=Ta[1],g=Ta[2],a=Ta[3]),n.bezierCurveTo(c,h,d,g,s,a)))},t.prototype.pointAt=function(n){return AF(this.shape,n,!1)},t.prototype.tangentAt=function(n){var r=AF(this.shape,n,!0);return OO(r,r)},t}(yr);sC.prototype.type="bezier-curve";var rDe=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return e}(),lC=function(e){Xt(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new rDe},t.prototype.buildPath=function(n,r){var i=r.cx,o=r.cy,s=Math.max(r.r,0),a=r.startAngle,c=r.endAngle,h=r.clockwise,d=Math.cos(a),g=Math.sin(a);n.moveTo(d*s+i,g*s+o),n.arc(i,o,s,a,c,!h)},t}(yr);lC.prototype.type="arc";var Cq=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="compound",n}return t.prototype._updatePathDirty=function(){for(var n=this.shape.paths,r=this.shapeChanged(),i=0;i<n.length;i++)r=r||n[i].shapeChanged();r&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var n=this.shape.paths||[],r=this.getGlobalScale(),i=0;i<n.length;i++)n[i].path||n[i].createPathProxy(),n[i].path.setScale(r[0],r[1],n[i].segmentIgnoreThreshold)},t.prototype.buildPath=function(n,r){for(var i=r.paths||[],o=0;o<i.length;o++)i[o].buildPath(n,i[o].shape,!0)},t.prototype.afterBrush=function(){for(var n=this.shape.paths||[],r=0;r<n.length;r++)n[r].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),yr.prototype.getBoundingRect.call(this)},t}(yr),Tq=function(){function e(t){this.colorStops=t||[]}return e.prototype.addColorStop=function(t,n){this.colorStops.push({offset:t,color:n})},e}(),Pq=function(e){Xt(t,e);function t(n,r,i,o,s,a){var c=e.call(this,s)||this;return c.x=n??0,c.y=r??0,c.x2=i??1,c.y2=o??0,c.type="linear",c.global=a||!1,c}return t}(Tq),iDe=function(e){Xt(t,e);function t(n,r,i,o,s){var a=e.call(this,o)||this;return a.x=n??.5,a.y=r??.5,a.r=i??.5,a.type="radial",a.global=s||!1,a}return t}(Tq),jd=[0,0],Hd=[0,0],Ax=new $r,Dx=new $r,LS=function(){function e(t,n){this._corners=[],this._axes=[],this._origin=[0,0];for(var r=0;r<4;r++)this._corners[r]=new $r;for(var r=0;r<2;r++)this._axes[r]=new $r;t&&this.fromBoundingRect(t,n)}return e.prototype.fromBoundingRect=function(t,n){var r=this._corners,i=this._axes,o=t.x,s=t.y,a=o+t.width,c=s+t.height;if(r[0].set(o,s),r[1].set(a,s),r[2].set(a,c),r[3].set(o,c),n)for(var h=0;h<4;h++)r[h].transform(n);$r.sub(i[0],r[1],r[0]),$r.sub(i[1],r[3],r[0]),i[0].normalize(),i[1].normalize();for(var h=0;h<2;h++)this._origin[h]=i[h].dot(r[0])},e.prototype.intersect=function(t,n){var r=!0,i=!n;return Ax.set(1/0,1/0),Dx.set(0,0),!this._intersectCheckOneSide(this,t,Ax,Dx,i,1)&&(r=!1,i)||!this._intersectCheckOneSide(t,this,Ax,Dx,i,-1)&&(r=!1,i)||i||$r.copy(n,r?Ax:Dx),r},e.prototype._intersectCheckOneSide=function(t,n,r,i,o,s){for(var a=!0,c=0;c<2;c++){var h=this._axes[c];if(this._getProjMinMaxOnAxis(c,t._corners,jd),this._getProjMinMaxOnAxis(c,n._corners,Hd),jd[1]<Hd[0]||jd[0]>Hd[1]){if(a=!1,o)return a;var d=Math.abs(Hd[0]-jd[1]),g=Math.abs(jd[0]-Hd[1]);Math.min(d,g)>i.len()&&(d<g?$r.scale(i,h,-d*s):$r.scale(i,h,g*s))}else if(r){var d=Math.abs(Hd[0]-jd[1]),g=Math.abs(jd[0]-Hd[1]);Math.min(d,g)<r.len()&&(d<g?$r.scale(r,h,d*s):$r.scale(r,h,-g*s))}}return a},e.prototype._getProjMinMaxOnAxis=function(t,n,r){for(var i=this._axes[t],o=this._origin,s=n[0].dot(i)+o[t],a=s,c=s,h=1;h<n.length;h++){var d=n[h].dot(i)+o[t];a=Math.min(d,a),c=Math.max(d,c)}r[0]=a,r[1]=c},e}(),oDe=[],aDe=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.notClear=!0,n.incremental=!0,n._displayables=[],n._temporaryDisplayables=[],n._cursor=0,n}return t.prototype.traverse=function(n,r){n.call(r,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(n,r){r?this._temporaryDisplayables.push(n):this._displayables.push(n),this.markRedraw()},t.prototype.addDisplayables=function(n,r){r=r||!1;for(var i=0;i<n.length;i++)this.addDisplayable(n[i],r)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(n){for(var r=this._cursor;r<this._displayables.length;r++)n&&n(this._displayables[r]);for(var r=0;r<this._temporaryDisplayables.length;r++)n&&n(this._temporaryDisplayables[r])},t.prototype.update=function(){this.updateTransform();for(var n=this._cursor;n<this._displayables.length;n++){var r=this._displayables[n];r.parent=this,r.update(),r.parent=null}for(var n=0;n<this._temporaryDisplayables.length;n++){var r=this._temporaryDisplayables[n];r.parent=this,r.update(),r.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var n=new dr(1/0,1/0,-1/0,-1/0),r=0;r<this._displayables.length;r++){var i=this._displayables[r],o=i.getBoundingRect().clone();i.needLocalTransform()&&o.applyTransform(i.getLocalTransform(oDe)),n.union(o)}this._rect=n}return this._rect},t.prototype.contain=function(n,r){var i=this.transformCoordToLocal(n,r),o=this.getBoundingRect();if(o.contain(i[0],i[1]))for(var s=0;s<this._displayables.length;s++){var a=this._displayables[s];if(a.contain(n,r))return!0}return!1},t}(bb),sDe=Ti();function lDe(e,t,n,r,i){var o;if(t&&t.ecModel){var s=t.ecModel.getUpdatePayload();o=s&&s.animation}var a=t&&t.isAnimationEnabled(),c=e==="update";if(a){var h=void 0,d=void 0,g=void 0;r?(h=Fn(r.duration,200),d=Fn(r.easing,"cubicOut"),g=0):(h=t.getShallow(c?"animationDurationUpdate":"animationDuration"),d=t.getShallow(c?"animationEasingUpdate":"animationEasing"),g=t.getShallow(c?"animationDelayUpdate":"animationDelay")),o&&(o.duration!=null&&(h=o.duration),o.easing!=null&&(d=o.easing),o.delay!=null&&(g=o.delay)),Sn(g)&&(g=g(n,i)),Sn(h)&&(h=h(n));var y={duration:h||0,delay:g,easing:d};return y}else return null}function tR(e,t,n,r,i,o,s){var a=!1,c;Sn(i)?(s=o,o=i,i=null):Pn(i)&&(o=i.cb,s=i.during,a=i.isFrom,c=i.removeOpt,i=i.dataIndex);var h=e==="leave";h||t.stopAnimation("leave");var d=lDe(e,r,i,h?c||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(t,i):null);if(d&&d.duration>0){var g=d.duration,y=d.delay,v=d.easing,x={duration:g,delay:y||0,easing:v,done:o,force:!!o||!!s,setToFinal:!h,scope:e,during:s};a?t.animateFrom(n,x):t.animateTo(n,x)}else t.stopAnimation(),!a&&t.attr(n),s&&s(1),o&&o()}function Jl(e,t,n,r,i,o){tR("update",e,t,n,r,i,o)}function Zg(e,t,n,r,i,o){tR("enter",e,t,n,r,i,o)}function Z_(e){if(!e.__zr)return!0;for(var t=0;t<e.animators.length;t++){var n=e.animators[t];if(n.scope==="leave")return!0}return!1}function $S(e,t,n,r,i,o){Z_(e)||tR("leave",e,t,n,r,i,o)}function DF(e,t,n,r){e.removeTextContent(),e.removeTextGuideLine(),$S(e,{style:{opacity:0}},t,n,r)}function uDe(e,t,n){function r(){e.parent&&e.parent.remove(e)}e.isGroup?e.traverse(function(i){i.isGroup||DF(i,t,n,r)}):DF(e,t,n,r)}function cDe(e){sDe(e).oldStyle=e.style}var zS=Math.max,BS=Math.min,RA={};function hDe(e){return yr.extend(e)}var dDe=VAe;function fDe(e,t){return dDe(e,t)}function yl(e,t){RA[e]=t}function pDe(e){if(RA.hasOwnProperty(e))return RA[e]}function nR(e,t,n,r){var i=NAe(e,t);return n&&(r==="center"&&(n=Iq(n,i.getBoundingRect())),Mq(i,n)),i}function Eq(e,t,n){var r=new ru({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(i){if(n==="center"){var o={width:i.width,height:i.height};r.setStyle(Iq(t,o))}}});return r}function Iq(e,t){var n=t.width/t.height,r=e.height*n,i;r<=e.width?i=e.height:(r=e.width,i=r/n);var o=e.x+e.width/2,s=e.y+e.height/2;return{x:o-r/2,y:s-i/2,width:r,height:i}}var mDe=jAe;function Mq(e,t){if(e.applyTransform){var n=e.getBoundingRect(),r=n.calculateTransform(t);e.applyTransform(r)}}function B0(e,t){return oq(e,e,{lineWidth:t}),e}function gDe(e){return aq(e.shape,e.shape,e.style),e}var vDe=hf;function Aq(e,t){for(var n=LO([]);e&&e!==t;)Qm(n,e.getLocalTransform(),n),e=e.parent;return n}function F0(e,t,n){return t&&!Ra(t)&&(t=VO.getLocalTransform(t)),n&&(t=zO([],t)),Fs([],e,t)}function Dq(e,t,n){var r=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),i=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),o=[e==="left"?-r:e==="right"?r:0,e==="top"?-i:e==="bottom"?i:0];return o=F0(o,t,n),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function kF(e){return!e.isGroup}function yDe(e){return e.shape!=null}function kq(e,t,n){if(!e||!t)return;function r(s){var a={};return s.traverse(function(c){kF(c)&&c.anid&&(a[c.anid]=c)}),a}function i(s){var a={x:s.x,y:s.y,rotation:s.rotation};return yDe(s)&&(a.shape=en({},s.shape)),a}var o=r(e);t.traverse(function(s){if(kF(s)&&s.anid){var a=o[s.anid];if(a){var c=i(s);s.attr(i(a)),Jl(s,c,n,sr(s).dataIndex)}}})}function _De(e,t){return _n(e,function(n){var r=n[0];r=zS(r,t.x),r=BS(r,t.x+t.width);var i=n[1];return i=zS(i,t.y),i=BS(i,t.y+t.height),[r,i]})}function bDe(e,t){var n=zS(e.x,t.x),r=BS(e.x+e.width,t.x+t.width),i=zS(e.y,t.y),o=BS(e.y+e.height,t.y+t.height);if(r>=n&&o>=i)return{x:n,y:i,width:r-n,height:o-i}}function rR(e,t,n){var r=en({rectHover:!0},t),i=r.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},e)return e.indexOf("image://")===0?(i.image=e.slice(8),Er(i,n),new ru(r)):nR(e.replace("path://",""),r,n,"center")}function xDe(e,t,n,r,i){for(var o=0,s=i[i.length-1];o<i.length;o++){var a=i[o];if(Oq(e,t,n,r,a[0],a[1],s[0],s[1]))return!0;s=a}}function Oq(e,t,n,r,i,o,s,a){var c=n-e,h=r-t,d=s-i,g=a-o,y=OE(d,g,c,h);if(wDe(y))return!1;var v=e-i,x=t-o,C=OE(v,x,c,h)/y;if(C<0||C>1)return!1;var I=OE(v,x,d,g)/y;return!(I<0||I>1)}function OE(e,t,n,r){return e*r-n*t}function wDe(e){return e<=1e-6&&e>=-1e-6}function uC(e){var t=e.itemTooltipOption,n=e.componentModel,r=e.itemName,i=pn(t)?{formatter:t}:t,o=n.mainType,s=n.componentIndex,a={componentType:o,name:r,$vars:["name"]};a[o+"Index"]=s;var c=e.formatterParamsExtra;c&&Ne(lr(c),function(d){Bf(a,d)||(a[d]=c[d],a.$vars.push(d))});var h=sr(e.el);h.componentMainType=o,h.componentIndex=s,h.tooltipConfig={name:r,option:Er({content:r,encodeHTMLContent:!0,formatterParams:a},i)}}function OF(e,t){var n;e.isGroup&&(n=t(e)),n||e.traverse(t)}function cC(e,t){if(e)if(cn(e))for(var n=0;n<e.length;n++)OF(e[n],t);else OF(e,t)}yl("circle",iC);yl("ellipse",QO);yl("sector",oC);yl("ring",eR);yl("polygon",aC);yl("polyline",xb);yl("rect",Si);yl("line",ic);yl("bezierCurve",sC);yl("arc",lC);const SDe=Object.freeze(Object.defineProperty({__proto__:null,Arc:lC,BezierCurve:sC,BoundingRect:dr,Circle:iC,CompoundPath:Cq,Ellipse:QO,Group:gi,Image:ru,IncrementalDisplayable:aDe,Line:ic,LinearGradient:Pq,OrientedBoundingRect:LS,Path:yr,Point:$r,Polygon:aC,Polyline:xb,RadialGradient:iDe,Rect:Si,Ring:eR,Sector:oC,Text:Mo,applyTransform:F0,clipPointsByRect:_De,clipRectByRect:bDe,createIcon:rR,extendPath:fDe,extendShape:hDe,getShapeClass:pDe,getTransform:Aq,groupTransition:kq,initProps:Zg,isElementRemoved:Z_,lineLineIntersect:Oq,linePolygonIntersect:xDe,makeImage:Eq,makePath:nR,mergePath:mDe,registerShape:yl,removeElement:$S,removeElementWithFadeOut:uDe,resizePath:Mq,setTooltipConfig:uC,subPixelOptimize:vDe,subPixelOptimizeLine:B0,subPixelOptimizeRect:gDe,transformDirection:Dq,traverseElements:cC,updateProps:Jl},Symbol.toStringTag,{value:"Module"}));var hC={};function CDe(e,t){for(var n=0;n<Hs.length;n++){var r=Hs[n],i=t[r],o=e.ensureState(r);o.style=o.style||{},o.style.text=i}var s=e.currentStates.slice();e.clearStates(!0),e.setStyle({text:t.normal}),e.useStates(s,!0)}function RF(e,t,n){var r=e.labelFetcher,i=e.labelDataIndex,o=e.labelDimIndex,s=t.normal,a;r&&(a=r.getFormattedLabel(i,"normal",null,o,s&&s.get("formatter"),n!=null?{interpolatedValue:n}:null)),a==null&&(a=Sn(e.defaultText)?e.defaultText(i,e,n):e.defaultText);for(var c={normal:a},h=0;h<Hs.length;h++){var d=Hs[h],g=t[d];c[d]=Fn(r?r.getFormattedLabel(i,d,null,o,g&&g.get("formatter")):null,a)}return c}function dC(e,t,n,r){n=n||hC;for(var i=e instanceof Mo,o=!1,s=0;s<gF.length;s++){var a=t[gF[s]];if(a&&a.getShallow("show")){o=!0;break}}var c=i?e:e.getTextContent();if(o){i||(c||(c=new Mo,e.setTextContent(c)),e.stateProxy&&(c.stateProxy=e.stateProxy));var h=RF(n,t),d=t.normal,g=!!d.getShallow("show"),y=oc(d,r&&r.normal,n,!1,!i);y.text=h.normal,i||e.setTextConfig(LF(d,n,!1));for(var s=0;s<Hs.length;s++){var v=Hs[s],a=t[v];if(a){var x=c.ensureState(v),C=!!Fn(a.getShallow("show"),g);if(C!==g&&(x.ignore=!C),x.style=oc(a,r&&r[v],n,!0,!i),x.style.text=h[v],!i){var I=e.ensureState(v);I.textConfig=LF(a,n,!0)}}}c.silent=!!d.getShallow("silent"),c.style.x!=null&&(y.x=c.style.x),c.style.y!=null&&(y.y=c.style.y),c.ignore=!g,c.useStyle(y),c.dirty(),n.enableTextSetter&&(Rq(c).setLabelText=function(A){var k=RF(n,t,A);CDe(c,k)})}else c&&(c.ignore=!0);e.dirty()}function wb(e,t){t=t||"label";for(var n={normal:e.getModel(t)},r=0;r<Hs.length;r++){var i=Hs[r];n[i]=e.getModel([i,t])}return n}function oc(e,t,n,r,i){var o={};return TDe(o,e,n,r,i),t&&en(o,t),o}function LF(e,t,n){t=t||{};var r={},i,o=e.getShallow("rotate"),s=Fn(e.getShallow("distance"),n?null:5),a=e.getShallow("offset");return i=e.getShallow("position")||(n?null:"inside"),i==="outside"&&(i=t.defaultOutsidePosition||"top"),i!=null&&(r.position=i),a!=null&&(r.offset=a),o!=null&&(o*=Math.PI/180,r.rotation=o),s!=null&&(r.distance=s),r.outsideFill=e.get("color")==="inherit"?t.inheritColor||null:"auto",r}function TDe(e,t,n,r,i){n=n||hC;var o=t.ecModel,s=o&&o.option.textStyle,a=PDe(t),c;if(a){c={};for(var h in a)if(a.hasOwnProperty(h)){var d=t.getModel(["rich",h]);FF(c[h]={},d,s,n,r,i,!1,!0)}}c&&(e.rich=c);var g=t.get("overflow");g&&(e.overflow=g);var y=t.get("minMargin");y!=null&&(e.margin=y),FF(e,t,s,n,r,i,!0,!1)}function PDe(e){for(var t;e&&e!==e.ecModel;){var n=(e.option||hC).rich;if(n){t=t||{};for(var r=lr(n),i=0;i<r.length;i++){var o=r[i];t[o]=1}}e=e.parentModel}return t}var $F=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],zF=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],BF=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function FF(e,t,n,r,i,o,s,a){n=!i&&n||hC;var c=r&&r.inheritColor,h=t.getShallow("color"),d=t.getShallow("textBorderColor"),g=Fn(t.getShallow("opacity"),n.opacity);(h==="inherit"||h==="auto")&&(c?h=c:h=null),(d==="inherit"||d==="auto")&&(c?d=c:d=null),o||(h=h||n.color,d=d||n.textBorderColor),h!=null&&(e.fill=h),d!=null&&(e.stroke=d);var y=Fn(t.getShallow("textBorderWidth"),n.textBorderWidth);y!=null&&(e.lineWidth=y);var v=Fn(t.getShallow("textBorderType"),n.textBorderType);v!=null&&(e.lineDash=v);var x=Fn(t.getShallow("textBorderDashOffset"),n.textBorderDashOffset);x!=null&&(e.lineDashOffset=x),!i&&g==null&&!a&&(g=r&&r.defaultOpacity),g!=null&&(e.opacity=g),!i&&!o&&e.fill==null&&r.inheritColor&&(e.fill=r.inheritColor);for(var C=0;C<$F.length;C++){var I=$F[C],A=Fn(t.getShallow(I),n[I]);A!=null&&(e[I]=A)}for(var C=0;C<zF.length;C++){var I=zF[C],A=t.getShallow(I);A!=null&&(e[I]=A)}if(e.verticalAlign==null){var k=t.getShallow("baseline");k!=null&&(e.verticalAlign=k)}if(!s||!r.disableBox){for(var C=0;C<BF.length;C++){var I=BF[C],A=t.getShallow(I);A!=null&&(e[I]=A)}var R=t.getShallow("borderType");R!=null&&(e.borderDash=R),(e.backgroundColor==="auto"||e.backgroundColor==="inherit")&&c&&(e.backgroundColor=c),(e.borderColor==="auto"||e.borderColor==="inherit")&&c&&(e.borderColor=c)}}function EDe(e,t){var n=t&&t.getModel("textStyle");return jl([e.fontStyle||n&&n.getShallow("fontStyle")||"",e.fontWeight||n&&n.getShallow("fontWeight")||"",(e.fontSize||n&&n.getShallow("fontSize")||12)+"px",e.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var Rq=Ti(),IDe=["textStyle","color"],RE=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],LE=new Mo,MDe=function(){function e(){}return e.prototype.getTextColor=function(t){var n=this.ecModel;return this.getShallow("color")||(!t&&n?n.get(IDe):null)},e.prototype.getFont=function(){return EDe({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},e.prototype.getTextRect=function(t){for(var n={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},r=0;r<RE.length;r++)n[RE[r]]=this.getShallow(RE[r]);return LE.useStyle(n),LE.update(),LE.getBoundingRect()},e}(),Lq=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],ADe=O0(Lq),DDe=function(){function e(){}return e.prototype.getLineStyle=function(t){return ADe(this,t)},e}(),$q=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],kDe=O0($q),ODe=function(){function e(){}return e.prototype.getItemStyle=function(t,n){return kDe(this,t,n)},e}(),xi=function(){function e(t,n,r){this.parentModel=n,this.ecModel=r,this.option=t}return e.prototype.init=function(t,n,r){},e.prototype.mergeOption=function(t,n){ur(this.option,t,!0)},e.prototype.get=function(t,n){return t==null?this.option:this._doGet(this.parsePath(t),!n&&this.parentModel)},e.prototype.getShallow=function(t,n){var r=this.option,i=r==null?r:r[t];if(i==null&&!n){var o=this.parentModel;o&&(i=o.getShallow(t))}return i},e.prototype.getModel=function(t,n){var r=t!=null,i=r?this.parsePath(t):null,o=r?this._doGet(i):this.option;return n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new e(o,n,this.ecModel)},e.prototype.isEmpty=function(){return this.option==null},e.prototype.restoreData=function(){},e.prototype.clone=function(){var t=this.constructor;return new t(er(this.option))},e.prototype.parsePath=function(t){return typeof t=="string"?t.split("."):t},e.prototype.resolveParentPath=function(t){return t},e.prototype.isAnimationEnabled=function(){if(!Ln.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},e.prototype._doGet=function(t,n){var r=this.option;if(!t)return r;for(var i=0;i<t.length&&!(t[i]&&(r=r&&typeof r=="object"?r[t[i]]:null,r==null));i++);return r==null&&n&&(r=n._doGet(this.resolveParentPath(t),n.parentModel)),r},e}();WO(xi);CMe(xi);gl(xi,DDe);gl(xi,ODe);gl(xi,MMe);gl(xi,MDe);var RDe=Math.round(Math.random()*10);function fC(e){return[e||"",RDe++].join("_")}function LDe(e){var t={};e.registerSubTypeDefaulter=function(n,r){var i=Ul(n);t[i.main]=r},e.determineSubType=function(n,r){var i=r.type;if(!i){var o=Ul(n).main;e.hasSubTypes(n)&&t[o]&&(i=t[o](r))}return i}}function $De(e,t){e.topologicalTravel=function(o,s,a,c){if(!o.length)return;var h=n(s),d=h.graph,g=h.noEntryList,y={};for(Ne(o,function(k){y[k]=!0});g.length;){var v=g.pop(),x=d[v],C=!!y[v];C&&(a.call(c,v,x.originalDeps.slice()),delete y[v]),Ne(x.successor,C?A:I)}Ne(y,function(){var k="";throw new Error(k)});function I(k){d[k].entryCount--,d[k].entryCount===0&&g.push(k)}function A(k){y[k]=!0,I(k)}};function n(o){var s={},a=[];return Ne(o,function(c){var h=r(s,c),d=h.originalDeps=t(c),g=i(d,o);h.entryCount=g.length,h.entryCount===0&&a.push(c),Ne(g,function(y){hr(h.predecessor,y)<0&&h.predecessor.push(y);var v=r(s,y);hr(v.successor,y)<0&&v.successor.push(c)})}),{graph:s,noEntryList:a}}function r(o,s){return o[s]||(o[s]={predecessor:[],successor:[]}),o[s]}function i(o,s){var a=[];return Ne(o,function(c){hr(s,c)>=0&&a.push(c)}),a}}function iR(e,t){return ur(ur({},e,!0),t,!0)}const zDe={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},BDe={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图",custom:"自定义图表",chart:"图表"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}};var FS="ZH",oR="EN",tg=oR,Rw={},aR={},zq=Ln.domSupported?function(){var e=(document.documentElement.lang||navigator.language||navigator.browserLanguage||tg).toUpperCase();return e.indexOf(FS)>-1?FS:tg}():tg;function Bq(e,t){e=e.toUpperCase(),aR[e]=new xi(t),Rw[e]=t}function FDe(e){if(pn(e)){var t=Rw[e.toUpperCase()]||{};return e===FS||e===oR?er(t):ur(er(t),er(Rw[tg]),!1)}else return ur(er(e),er(Rw[tg]),!1)}function NDe(e){return aR[e]}function VDe(){return aR[tg]}Bq(oR,zDe);Bq(FS,BDe);var sR=1e3,lR=sR*60,q_=lR*60,zs=q_*24,NF=zs*365,y_={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},kx="{yyyy}-{MM}-{dd}",VF={year:"{yyyy}",month:"{yyyy}-{MM}",day:kx,hour:kx+" "+y_.hour,minute:kx+" "+y_.minute,second:kx+" "+y_.second,millisecond:y_.none},$E=["year","month","day","hour","minute","second","millisecond"],Fq=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Uc(e,t){return e+="","0000".substr(0,t-e.length)+e}function ng(e){switch(e){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return e}}function jDe(e){return e===ng(e)}function HDe(e){switch(e){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function pC(e,t,n,r){var i=rc(e),o=i[uR(n)](),s=i[rg(n)]()+1,a=Math.floor((s-1)/3)+1,c=i[mC(n)](),h=i["get"+(n?"UTC":"")+"Day"](),d=i[N0(n)](),g=(d-1)%12+1,y=i[gC(n)](),v=i[vC(n)](),x=i[yC(n)](),C=d>=12?"pm":"am",I=C.toUpperCase(),A=r instanceof xi?r:NDe(r||zq)||VDe(),k=A.getModel("time"),R=k.get("month"),z=k.get("monthAbbr"),V=k.get("dayOfWeek"),U=k.get("dayOfWeekAbbr");return(t||"").replace(/{a}/g,C+"").replace(/{A}/g,I+"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,Uc(o%100+"",2)).replace(/{Q}/g,a+"").replace(/{MMMM}/g,R[s-1]).replace(/{MMM}/g,z[s-1]).replace(/{MM}/g,Uc(s,2)).replace(/{M}/g,s+"").replace(/{dd}/g,Uc(c,2)).replace(/{d}/g,c+"").replace(/{eeee}/g,V[h]).replace(/{ee}/g,U[h]).replace(/{e}/g,h+"").replace(/{HH}/g,Uc(d,2)).replace(/{H}/g,d+"").replace(/{hh}/g,Uc(g+"",2)).replace(/{h}/g,g+"").replace(/{mm}/g,Uc(y,2)).replace(/{m}/g,y+"").replace(/{ss}/g,Uc(v,2)).replace(/{s}/g,v+"").replace(/{SSS}/g,Uc(x,3)).replace(/{S}/g,x+"")}function UDe(e,t,n,r,i){var o=null;if(pn(n))o=n;else if(Sn(n))o=n(e.value,t,{level:e.level});else{var s=en({},y_);if(e.level>0)for(var a=0;a<$E.length;++a)s[$E[a]]="{primary|"+s[$E[a]]+"}";var c=n?n.inherit===!1?n:Er(n,s):s,h=Nq(e.value,i);if(c[h])o=c[h];else if(c.inherit){for(var d=Fq.indexOf(h),a=d-1;a>=0;--a)if(c[h]){o=c[h];break}o=o||s.none}if(cn(o)){var g=e.level==null?0:e.level>=0?e.level:o.length+e.level;g=Math.min(g,o.length-1),o=o[g]}}return pC(new Date(e.value),o,i,r)}function Nq(e,t){var n=rc(e),r=n[rg(t)]()+1,i=n[mC(t)](),o=n[N0(t)](),s=n[gC(t)](),a=n[vC(t)](),c=n[yC(t)](),h=c===0,d=h&&a===0,g=d&&s===0,y=g&&o===0,v=y&&i===1,x=v&&r===1;return x?"year":v?"month":y?"day":g?"hour":d?"minute":h?"second":"millisecond"}function jF(e,t,n){var r=ti(e)?rc(e):e;switch(t=t||Nq(e,n),t){case"year":return r[uR(n)]();case"half-year":return r[rg(n)]()>=6?1:0;case"quarter":return Math.floor((r[rg(n)]()+1)/4);case"month":return r[rg(n)]();case"day":return r[mC(n)]();case"half-day":return r[N0(n)]()/24;case"hour":return r[N0(n)]();case"minute":return r[gC(n)]();case"second":return r[vC(n)]();case"millisecond":return r[yC(n)]()}}function uR(e){return e?"getUTCFullYear":"getFullYear"}function rg(e){return e?"getUTCMonth":"getMonth"}function mC(e){return e?"getUTCDate":"getDate"}function N0(e){return e?"getUTCHours":"getHours"}function gC(e){return e?"getUTCMinutes":"getMinutes"}function vC(e){return e?"getUTCSeconds":"getSeconds"}function yC(e){return e?"getUTCMilliseconds":"getMilliseconds"}function GDe(e){return e?"setUTCFullYear":"setFullYear"}function Vq(e){return e?"setUTCMonth":"setMonth"}function jq(e){return e?"setUTCDate":"setDate"}function Hq(e){return e?"setUTCHours":"setHours"}function Uq(e){return e?"setUTCMinutes":"setMinutes"}function Gq(e){return e?"setUTCSeconds":"setSeconds"}function Wq(e){return e?"setUTCMilliseconds":"setMilliseconds"}function Zq(e){if(!nMe(e))return pn(e)?e:"-";var t=(e+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function qq(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,function(n,r){return r.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var _C=pZ;function LA(e,t,n){var r="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(d){return d&&jl(d)?d:"-"}function o(d){return!!(d!=null&&!isNaN(d)&&isFinite(d))}var s=t==="time",a=e instanceof Date;if(s||a){var c=s?rc(e):e;if(isNaN(+c)){if(a)return"-"}else return pC(c,r,n)}if(t==="ordinal")return rA(e)?i(e):ti(e)&&o(e)?e+"":"-";var h=kS(e);return o(h)?Zq(h):rA(e)?i(e):typeof e=="boolean"?e+"":"-"}var HF=["a","b","c","d","e","f","g"],zE=function(e,t){return"{"+e+(t??"")+"}"};function Kq(e,t,n){cn(t)||(t=[t]);var r=t.length;if(!r)return"";for(var i=t[0].$vars||[],o=0;o<i.length;o++){var s=HF[o];e=e.replace(zE(s),zE(s,0))}for(var a=0;a<r;a++)for(var c=0;c<i.length;c++){var h=t[a][i[c]];e=e.replace(zE(HF[c],a),n?pa(h):h)}return e}function WDe(e,t){var n=pn(e)?{color:e,extraCssText:t}:e||{},r=n.color,i=n.type;t=n.extraCssText;var o=n.renderMode||"html";if(!r)return"";if(o==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+pa(r)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+pa(r)+";"+(t||"")+'"></span>';var s=n.markerId||"markerX";return{renderMode:o,content:"{"+s+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}}function Vf(e,t){return t=t||"transparent",pn(e)?e:Pn(e)&&e.colorStops&&(e.colorStops[0]||{}).color||t}function UF(e,t){if(t==="_blank"||t==="blank"){var n=window.open();n.opener=null,n.location.href=e}else window.open(e,t)}var Lw=Ne,ZDe=["left","right","top","bottom","width","height"],Ox=[["width","left","right"],["height","top","bottom"]];function cR(e,t,n,r,i){var o=0,s=0;r==null&&(r=1/0),i==null&&(i=1/0);var a=0;t.eachChild(function(c,h){var d=c.getBoundingRect(),g=t.childAt(h+1),y=g&&g.getBoundingRect(),v,x;if(e==="horizontal"){var C=d.width+(y?-y.x+d.x:0);v=o+C,v>r||c.newline?(o=0,v=C,s+=a+n,a=d.height):a=Math.max(a,d.height)}else{var I=d.height+(y?-y.y+d.y:0);x=s+I,x>i||c.newline?(o+=a+n,s=0,x=I,a=d.width):a=Math.max(a,d.width)}c.newline||(c.x=o,c.y=s,c.markRedraw(),e==="horizontal"?o=v+n:s=x+n)})}var K_=cR;Qr(cR,"vertical");Qr(cR,"horizontal");function Eg(e,t,n){n=_C(n||0);var r=t.width,i=t.height,o=eo(e.left,r),s=eo(e.top,i),a=eo(e.right,r),c=eo(e.bottom,i),h=eo(e.width,r),d=eo(e.height,i),g=n[2]+n[0],y=n[1]+n[3],v=e.aspect;switch(isNaN(h)&&(h=r-a-y-o),isNaN(d)&&(d=i-c-g-s),v!=null&&(isNaN(h)&&isNaN(d)&&(v>r/i?h=r*.8:d=i*.8),isNaN(h)&&(h=v*d),isNaN(d)&&(d=h/v)),isNaN(o)&&(o=r-a-h-y),isNaN(s)&&(s=i-c-d-g),e.left||e.right){case"center":o=r/2-h/2-n[3];break;case"right":o=r-h-y;break}switch(e.top||e.bottom){case"middle":case"center":s=i/2-d/2-n[0];break;case"bottom":s=i-d-g;break}o=o||0,s=s||0,isNaN(h)&&(h=r-y-o-(a||0)),isNaN(d)&&(d=i-g-s-(c||0));var x=new dr(o+n[3],s+n[0],h,d);return x.margin=n,x}function V0(e){var t=e.layoutMode||e.constructor.layoutMode;return Pn(t)?t:t?{type:t}:null}function Ig(e,t,n){var r=n&&n.ignoreSize;!cn(r)&&(r=[r,r]);var i=s(Ox[0],0),o=s(Ox[1],1);h(Ox[0],e,i),h(Ox[1],e,o);function s(d,g){var y={},v=0,x={},C=0,I=2;if(Lw(d,function(R){x[R]=e[R]}),Lw(d,function(R){a(t,R)&&(y[R]=x[R]=t[R]),c(y,R)&&v++,c(x,R)&&C++}),r[g])return c(t,d[1])?x[d[2]]=null:c(t,d[2])&&(x[d[1]]=null),x;if(C===I||!v)return x;if(v>=I)return y;for(var A=0;A<d.length;A++){var k=d[A];if(!a(y,k)&&a(e,k)){y[k]=e[k];break}}return y}function a(d,g){return d.hasOwnProperty(g)}function c(d,g){return d[g]!=null&&d[g]!=="auto"}function h(d,g,y){Lw(d,function(v){g[v]=y[v]})}}function Sb(e){return qDe({},e)}function qDe(e,t){return t&&e&&Lw(ZDe,function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e}var KDe=Ti(),gr=function(e){Xt(t,e);function t(n,r,i){var o=e.call(this,n,r,i)||this;return o.uid=fC("ec_cpt_model"),o}return t.prototype.init=function(n,r,i){this.mergeDefaultAndTheme(n,i)},t.prototype.mergeDefaultAndTheme=function(n,r){var i=V0(this),o=i?Sb(n):{},s=r.getTheme();ur(n,s.get(this.mainType)),ur(n,this.getDefaultOption()),i&&Ig(n,o,i)},t.prototype.mergeOption=function(n,r){ur(this.option,n,!0);var i=V0(this);i&&Ig(this.option,n,i)},t.prototype.optionUpdated=function(n,r){},t.prototype.getDefaultOption=function(){var n=this.constructor;if(!xMe(n))return n.defaultOption;var r=KDe(this);if(!r.defaultOption){for(var i=[],o=n;o;){var s=o.prototype.defaultOption;s&&i.push(s),o=o.superClass}for(var a={},c=i.length-1;c>=0;c--)a=ur(a,i[c],!0);r.defaultOption=a}return r.defaultOption},t.prototype.getReferringComponents=function(n,r){var i=n+"Index",o=n+"Id";return _b(this.ecModel,n,{index:this.get(i,!0),id:this.get(o,!0)},r)},t.prototype.getBoxLayoutParams=function(){var n=this;return{left:n.get("left"),top:n.get("top"),right:n.get("right"),bottom:n.get("bottom"),width:n.get("width"),height:n.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(n){this.option.zlevel=n},t.protoInitialize=function(){var n=t.prototype;n.type="component",n.id="",n.name="",n.mainType="",n.subType="",n.componentIndex=0}(),t}(xi);QZ(gr,xi);J2(gr);LDe(gr);$De(gr,XDe);function XDe(e){var t=[];return Ne(gr.getClassesByMainType(e),function(n){t=t.concat(n.dependencies||n.prototype.dependencies||[])}),t=_n(t,function(n){return Ul(n).main}),e!=="dataset"&&hr(t,"dataset")<=0&&t.unshift("dataset"),t}var Xq="";typeof navigator<"u"&&(Xq=navigator.platform||"");var um="rgba(0, 0, 0, 0.2)";const YDe={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:um,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:um,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:um,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:um,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:um,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:um,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Xq.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var Yq=Dn(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),Gs="original",$a="arrayRows",iu="objectRows",gc="keyedColumns",_h="typedArray",Jq="unknown",ec="column",qg="row",Ya={Must:1,Might:2,Not:3},Qq=Ti();function JDe(e){Qq(e).datasetMap=Dn()}function QDe(e,t,n){var r={},i=eK(t);if(!i||!e)return r;var o=[],s=[],a=t.ecModel,c=Qq(a).datasetMap,h=i.uid+"_"+n.seriesLayoutBy,d,g;e=e.slice(),Ne(e,function(C,I){var A=Pn(C)?C:e[I]={name:C};A.type==="ordinal"&&d==null&&(d=I,g=x(A)),r[A.name]=[]});var y=c.get(h)||c.set(h,{categoryWayDim:g,valueWayDim:0});Ne(e,function(C,I){var A=C.name,k=x(C);if(d==null){var R=y.valueWayDim;v(r[A],R,k),v(s,R,k),y.valueWayDim+=k}else if(d===I)v(r[A],0,k),v(o,0,k);else{var R=y.categoryWayDim;v(r[A],R,k),v(s,R,k),y.categoryWayDim+=k}});function v(C,I,A){for(var k=0;k<A;k++)C.push(I+k)}function x(C){var I=C.dimsDef;return I?I.length:1}return o.length&&(r.itemName=o),s.length&&(r.seriesName=s),r}function eK(e){var t=e.get("data",!0);if(!t)return _b(e.ecModel,"dataset",{index:e.get("datasetIndex",!0),id:e.get("datasetId",!0)},Aa).models[0]}function eke(e){return!e.get("transform",!0)&&!e.get("fromTransformResult",!0)?[]:_b(e.ecModel,"dataset",{index:e.get("fromDatasetIndex",!0),id:e.get("fromDatasetId",!0)},Aa).models}function tK(e,t){return tke(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function tke(e,t,n,r,i,o){var s,a=5;if(La(e))return Ya.Not;var c,h;if(r){var d=r[o];Pn(d)?(c=d.name,h=d.type):pn(d)&&(c=d)}if(h!=null)return h==="ordinal"?Ya.Must:Ya.Not;if(t===$a){var g=e;if(n===qg){for(var y=g[o],v=0;v<(y||[]).length&&v<a;v++)if((s=z(y[i+v]))!=null)return s}else for(var v=0;v<g.length&&v<a;v++){var x=g[i+v];if(x&&(s=z(x[o]))!=null)return s}}else if(t===iu){var C=e;if(!c)return Ya.Not;for(var v=0;v<C.length&&v<a;v++){var I=C[v];if(I&&(s=z(I[c]))!=null)return s}}else if(t===gc){var A=e;if(!c)return Ya.Not;var y=A[c];if(!y||La(y))return Ya.Not;for(var v=0;v<y.length&&v<a;v++)if((s=z(y[v]))!=null)return s}else if(t===Gs)for(var k=e,v=0;v<k.length&&v<a;v++){var I=k[v],R=yb(I);if(!cn(R))return Ya.Not;if((s=z(R[o]))!=null)return s}function z(V){var U=pn(V);if(V!=null&&Number.isFinite(Number(V))&&V!=="")return U?Ya.Might:Ya.Not;if(U&&V!=="-")return Ya.Must}return Ya.Not}var nke=Dn();function rke(e,t,n){var r=nke.get(t);if(!r)return n;var i=r(e);return i?n.concat(i):n}var GF=Ti();Ti();var hR=function(){function e(){}return e.prototype.getColorFromPalette=function(t,n,r){var i=_a(this.get("color",!0)),o=this.get("colorLayer",!0);return oke(this,GF,i,o,t,n,r)},e.prototype.clearColorPalette=function(){ake(this,GF)},e}();function ike(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r].length>t)return e[r];return e[n-1]}function oke(e,t,n,r,i,o,s){o=o||e;var a=t(o),c=a.paletteIdx||0,h=a.paletteNameMap=a.paletteNameMap||{};if(h.hasOwnProperty(i))return h[i];var d=s==null||!r?n:ike(r,s);if(d=d||n,!(!d||!d.length)){var g=d[c];return i&&(h[i]=g),a.paletteIdx=(c+1)%d.length,g}}function ake(e,t){t(e).paletteIdx=0,t(e).paletteNameMap={}}var Rx,Gy,WF,ZF="\0_ec_inner",ske=1,dR=function(e){Xt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(n,r,i,o,s,a){o=o||{},this.option=null,this._theme=new xi(o),this._locale=new xi(s),this._optionManager=a},t.prototype.setOption=function(n,r,i){var o=XF(r);this._optionManager.setOption(n,i,o),this._resetOption(null,o)},t.prototype.resetOption=function(n,r){return this._resetOption(n,XF(r))},t.prototype._resetOption=function(n,r){var i=!1,o=this._optionManager;if(!n||n==="recreate"){var s=o.mountOption(n==="recreate");!this.option||n==="recreate"?WF(this,s):(this.restoreData(),this._mergeOption(s,r)),i=!0}if((n==="timeline"||n==="media")&&this.restoreData(),!n||n==="recreate"||n==="timeline"){var a=o.getTimelineOption(this);a&&(i=!0,this._mergeOption(a,r))}if(!n||n==="recreate"||n==="media"){var c=o.getMediaOption(this);c.length&&Ne(c,function(h){i=!0,this._mergeOption(h,r)},this)}return i},t.prototype.mergeOption=function(n){this._mergeOption(n,null)},t.prototype._mergeOption=function(n,r){var i=this.option,o=this._componentsMap,s=this._componentsCount,a=[],c=Dn(),h=r&&r.replaceMergeMainTypeMap;JDe(this),Ne(n,function(g,y){g!=null&&(gr.hasClass(y)?y&&(a.push(y),c.set(y,!0)):i[y]=i[y]==null?er(g):ur(i[y],g,!0))}),h&&h.each(function(g,y){gr.hasClass(y)&&!c.get(y)&&(a.push(y),c.set(y,!0))}),gr.topologicalTravel(a,gr.getAllClassMainTypes(),d,this);function d(g){var y=rke(this,g,_a(n[g])),v=o.get(g),x=v?h&&h.get(g)?"replaceMerge":"normalMerge":"replaceAll",C=oMe(v,y,x);dMe(C,g,gr),i[g]=null,o.set(g,null),s.set(g,0);var I=[],A=[],k=0,R;Ne(C,function(z,V){var U=z.existing,N=z.newOption;if(!N)U&&(U.mergeOption({},this),U.optionUpdated({},!1));else{var W=g==="series",X=gr.getClass(g,z.keyInfo.subType,!W);if(!X)return;if(g==="tooltip"){if(R)return;R=!0}if(U&&U.constructor===X)U.name=z.keyInfo.name,U.mergeOption(N,this),U.optionUpdated(N,!1);else{var K=en({componentIndex:V},z.keyInfo);U=new X(N,this,this,K),en(U,K),z.brandNew&&(U.__requireNewView=!0),U.init(N,this,this),U.optionUpdated(null,!0)}}U?(I.push(U.option),A.push(U),k++):(I.push(void 0),A.push(void 0))},this),i[g]=I,o.set(g,A),s.set(g,k),g==="series"&&Rx(this)}this._seriesIndices||Rx(this)},t.prototype.getOption=function(){var n=er(this.option);return Ne(n,function(r,i){if(gr.hasClass(i)){for(var o=_a(r),s=o.length,a=!1,c=s-1;c>=0;c--)o[c]&&!k0(o[c])?a=!0:(o[c]=null,!a&&s--);o.length=s,n[i]=o}}),delete n[ZF],n},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(n){this._payload=n},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(n,r){var i=this._componentsMap.get(n);if(i){var o=i[r||0];if(o)return o;if(r==null){for(var s=0;s<i.length;s++)if(i[s])return i[s]}}},t.prototype.queryComponents=function(n){var r=n.mainType;if(!r)return[];var i=n.index,o=n.id,s=n.name,a=this._componentsMap.get(r);if(!a||!a.length)return[];var c;return i!=null?(c=[],Ne(_a(i),function(h){a[h]&&c.push(a[h])})):o!=null?c=qF("id",o,a):s!=null?c=qF("name",s,a):c=Qi(a,function(h){return!!h}),KF(c,n)},t.prototype.findComponents=function(n){var r=n.query,i=n.mainType,o=a(r),s=o?this.queryComponents(o):Qi(this._componentsMap.get(i),function(h){return!!h});return c(KF(s,n));function a(h){var d=i+"Index",g=i+"Id",y=i+"Name";return h&&(h[d]!=null||h[g]!=null||h[y]!=null)?{mainType:i,index:h[d],id:h[g],name:h[y]}:null}function c(h){return n.filter?Qi(h,n.filter):h}},t.prototype.eachComponent=function(n,r,i){var o=this._componentsMap;if(Sn(n)){var s=r,a=n;o.each(function(g,y){for(var v=0;g&&v<g.length;v++){var x=g[v];x&&a.call(s,y,x,x.componentIndex)}})}else for(var c=pn(n)?o.get(n):Pn(n)?this.findComponents(n):null,h=0;c&&h<c.length;h++){var d=c[h];d&&r.call(i,d,d.componentIndex)}},t.prototype.getSeriesByName=function(n){var r=ql(n,null);return Qi(this._componentsMap.get("series"),function(i){return!!i&&r!=null&&i.name===r})},t.prototype.getSeriesByIndex=function(n){return this._componentsMap.get("series")[n]},t.prototype.getSeriesByType=function(n){return Qi(this._componentsMap.get("series"),function(r){return!!r&&r.subType===n})},t.prototype.getSeries=function(){return Qi(this._componentsMap.get("series"),function(n){return!!n})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(n,r){Gy(this),Ne(this._seriesIndices,function(i){var o=this._componentsMap.get("series")[i];n.call(r,o,i)},this)},t.prototype.eachRawSeries=function(n,r){Ne(this._componentsMap.get("series"),function(i){i&&n.call(r,i,i.componentIndex)})},t.prototype.eachSeriesByType=function(n,r,i){Gy(this),Ne(this._seriesIndices,function(o){var s=this._componentsMap.get("series")[o];s.subType===n&&r.call(i,s,o)},this)},t.prototype.eachRawSeriesByType=function(n,r,i){return Ne(this.getSeriesByType(n),r,i)},t.prototype.isSeriesFiltered=function(n){return Gy(this),this._seriesIndicesMap.get(n.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(n,r){Gy(this);var i=[];Ne(this._seriesIndices,function(o){var s=this._componentsMap.get("series")[o];n.call(r,s,o)&&i.push(o)},this),this._seriesIndices=i,this._seriesIndicesMap=Dn(i)},t.prototype.restoreData=function(n){Rx(this);var r=this._componentsMap,i=[];r.each(function(o,s){gr.hasClass(s)&&i.push(s)}),gr.topologicalTravel(i,gr.getAllClassMainTypes(),function(o){Ne(r.get(o),function(s){s&&(o!=="series"||!lke(s,n))&&s.restoreData()})})},t.internalField=function(){Rx=function(n){var r=n._seriesIndices=[];Ne(n._componentsMap.get("series"),function(i){i&&r.push(i.componentIndex)}),n._seriesIndicesMap=Dn(r)},Gy=function(n){},WF=function(n,r){n.option={},n.option[ZF]=ske,n._componentsMap=Dn({series:[]}),n._componentsCount=Dn();var i=r.aria;Pn(i)&&i.enabled==null&&(i.enabled=!0),uke(r,n._theme.option),ur(r,YDe,!1),n._mergeOption(r,null)}}(),t}(xi);function lke(e,t){if(t){var n=t.seriesIndex,r=t.seriesId,i=t.seriesName;return n!=null&&e.componentIndex!==n||r!=null&&e.id!==r||i!=null&&e.name!==i}}function uke(e,t){var n=e.color&&!e.colorLayer;Ne(t,function(r,i){i==="colorLayer"&&n||gr.hasClass(i)||(typeof r=="object"?e[i]=e[i]?ur(e[i],r,!1):er(r):e[i]==null&&(e[i]=r))})}function qF(e,t,n){if(cn(t)){var r=Dn();return Ne(t,function(o){if(o!=null){var s=ql(o,null);s!=null&&r.set(o,!0)}}),Qi(n,function(o){return o&&r.get(o[e])})}else{var i=ql(t,null);return Qi(n,function(o){return o&&i!=null&&o[e]===i})}}function KF(e,t){return t.hasOwnProperty("subType")?Qi(e,function(n){return n&&n.subType===t.subType}):e}function XF(e){var t=Dn();return e&&Ne(_a(e.replaceMerge),function(n){t.set(n,!0)}),{replaceMergeMainTypeMap:t}}gl(dR,hR);var cke=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],nK=function(){function e(t){Ne(cke,function(n){this[n]=zn(t[n],t)},this)}return e}(),BE={},fR=function(){function e(){this._coordinateSystems=[]}return e.prototype.create=function(t,n){var r=[];Ne(BE,function(i,o){var s=i.create(t,n);r=r.concat(s||[])}),this._coordinateSystems=r},e.prototype.update=function(t,n){Ne(this._coordinateSystems,function(r){r.update&&r.update(t,n)})},e.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},e.register=function(t,n){BE[t]=n},e.get=function(t){return BE[t]},e}(),hke=/^(min|max)?(.+)$/,dke=function(){function e(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return e.prototype.setOption=function(t,n,r){t&&(Ne(_a(t.series),function(s){s&&s.data&&La(s.data)&&iA(s.data)}),Ne(_a(t.dataset),function(s){s&&s.source&&La(s.source)&&iA(s.source)})),t=er(t);var i=this._optionBackup,o=fke(t,n,!i);this._newBaseOption=o.baseOption,i?(o.timelineOptions.length&&(i.timelineOptions=o.timelineOptions),o.mediaList.length&&(i.mediaList=o.mediaList),o.mediaDefault&&(i.mediaDefault=o.mediaDefault)):this._optionBackup=o},e.prototype.mountOption=function(t){var n=this._optionBackup;return this._timelineOptions=n.timelineOptions,this._mediaList=n.mediaList,this._mediaDefault=n.mediaDefault,this._currentMediaIndices=[],er(t?n.baseOption:this._newBaseOption)},e.prototype.getTimelineOption=function(t){var n,r=this._timelineOptions;if(r.length){var i=t.getComponent("timeline");i&&(n=er(r[i.getCurrentIndex()]))}return n},e.prototype.getMediaOption=function(t){var n=this._api.getWidth(),r=this._api.getHeight(),i=this._mediaList,o=this._mediaDefault,s=[],a=[];if(!i.length&&!o)return a;for(var c=0,h=i.length;c<h;c++)pke(i[c].query,n,r)&&s.push(c);return!s.length&&o&&(s=[-1]),s.length&&!gke(s,this._currentMediaIndices)&&(a=_n(s,function(d){return er(d===-1?o.option:i[d].option)})),this._currentMediaIndices=s,a},e}();function fke(e,t,n){var r=[],i,o,s=e.baseOption,a=e.timeline,c=e.options,h=e.media,d=!!e.media,g=!!(c||a||s&&s.timeline);s?(o=s,o.timeline||(o.timeline=a)):((g||d)&&(e.options=e.media=null),o=e),d&&cn(h)&&Ne(h,function(v){v&&v.option&&(v.query?r.push(v):i||(i=v))}),y(o),Ne(c,function(v){return y(v)}),Ne(r,function(v){return y(v.option)});function y(v){Ne(t,function(x){x(v,n)})}return{baseOption:o,timelineOptions:c||[],mediaDefault:i,mediaList:r}}function pke(e,t,n){var r={width:t,height:n,aspectratio:t/n},i=!0;return Ne(e,function(o,s){var a=s.match(hke);if(!(!a||!a[1]||!a[2])){var c=a[1],h=a[2].toLowerCase();mke(r[h],o,c)||(i=!1)}}),i}function mke(e,t,n){return n==="min"?e>=t:n==="max"?e<=t:e===t}function gke(e,t){return e.join(",")===t.join(",")}var Js=Ne,j0=Pn,YF=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function FE(e){var t=e&&e.itemStyle;if(t)for(var n=0,r=YF.length;n<r;n++){var i=YF[n],o=t.normal,s=t.emphasis;o&&o[i]&&(e[i]=e[i]||{},e[i].normal?ur(e[i].normal,o[i]):e[i].normal=o[i],o[i]=null),s&&s[i]&&(e[i]=e[i]||{},e[i].emphasis?ur(e[i].emphasis,s[i]):e[i].emphasis=s[i],s[i]=null)}}function Wo(e,t,n){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var r=e[t].normal,i=e[t].emphasis;r&&(n?(e[t].normal=e[t].emphasis=null,Er(e[t],r)):e[t]=r),i&&(e.emphasis=e.emphasis||{},e.emphasis[t]=i,i.focus&&(e.emphasis.focus=i.focus),i.blurScope&&(e.emphasis.blurScope=i.blurScope))}}function __(e){Wo(e,"itemStyle"),Wo(e,"lineStyle"),Wo(e,"areaStyle"),Wo(e,"label"),Wo(e,"labelLine"),Wo(e,"upperLabel"),Wo(e,"edgeLabel")}function Ri(e,t){var n=j0(e)&&e[t],r=j0(n)&&n.textStyle;if(r)for(var i=0,o=Y6.length;i<o;i++){var s=Y6[i];r.hasOwnProperty(s)&&(n[s]=r[s])}}function As(e){e&&(__(e),Ri(e,"label"),e.emphasis&&Ri(e.emphasis,"label"))}function vke(e){if(j0(e)){FE(e),__(e),Ri(e,"label"),Ri(e,"upperLabel"),Ri(e,"edgeLabel"),e.emphasis&&(Ri(e.emphasis,"label"),Ri(e.emphasis,"upperLabel"),Ri(e.emphasis,"edgeLabel"));var t=e.markPoint;t&&(FE(t),As(t));var n=e.markLine;n&&(FE(n),As(n));var r=e.markArea;r&&As(r);var i=e.data;if(e.type==="graph"){i=i||e.nodes;var o=e.links||e.edges;if(o&&!La(o))for(var s=0;s<o.length;s++)As(o[s]);Ne(e.categories,function(h){__(h)})}if(i&&!La(i))for(var s=0;s<i.length;s++)As(i[s]);if(t=e.markPoint,t&&t.data)for(var a=t.data,s=0;s<a.length;s++)As(a[s]);if(n=e.markLine,n&&n.data)for(var c=n.data,s=0;s<c.length;s++)cn(c[s])?(As(c[s][0]),As(c[s][1])):As(c[s]);e.type==="gauge"?(Ri(e,"axisLabel"),Ri(e,"title"),Ri(e,"detail")):e.type==="treemap"?(Wo(e.breadcrumb,"itemStyle"),Ne(e.levels,function(h){__(h)})):e.type==="tree"&&__(e.leaves)}}function Bu(e){return cn(e)?e:e?[e]:[]}function JF(e){return(cn(e)?e[0]:e)||{}}function yke(e,t){Js(Bu(e.series),function(r){j0(r)&&vke(r)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),Js(n,function(r){Js(Bu(e[r]),function(i){i&&(Ri(i,"axisLabel"),Ri(i.axisPointer,"label"))})}),Js(Bu(e.parallel),function(r){var i=r&&r.parallelAxisDefault;Ri(i,"axisLabel"),Ri(i&&i.axisPointer,"label")}),Js(Bu(e.calendar),function(r){Wo(r,"itemStyle"),Ri(r,"dayLabel"),Ri(r,"monthLabel"),Ri(r,"yearLabel")}),Js(Bu(e.radar),function(r){Ri(r,"name"),r.name&&r.axisName==null&&(r.axisName=r.name,delete r.name),r.nameGap!=null&&r.axisNameGap==null&&(r.axisNameGap=r.nameGap,delete r.nameGap)}),Js(Bu(e.geo),function(r){j0(r)&&(As(r),Js(Bu(r.regions),function(i){As(i)}))}),Js(Bu(e.timeline),function(r){As(r),Wo(r,"label"),Wo(r,"itemStyle"),Wo(r,"controlStyle",!0);var i=r.data;cn(i)&&Ne(i,function(o){Pn(o)&&(Wo(o,"label"),Wo(o,"itemStyle"))})}),Js(Bu(e.toolbox),function(r){Wo(r,"iconStyle"),Js(r.feature,function(i){Wo(i,"iconStyle")})}),Ri(JF(e.axisPointer),"label"),Ri(JF(e.tooltip).axisPointer,"label")}function _ke(e,t){for(var n=t.split(","),r=e,i=0;i<n.length&&(r=r&&r[n[i]],r!=null);i++);return r}function bke(e,t,n,r){for(var i=t.split(","),o=e,s,a=0;a<i.length-1;a++)s=i[a],o[s]==null&&(o[s]={}),o=o[s];o[i[a]]==null&&(o[i[a]]=n)}function QF(e){e&&Ne(xke,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var xke=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],wke=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],NE=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Wy(e){var t=e&&e.itemStyle;if(t)for(var n=0;n<NE.length;n++){var r=NE[n][1],i=NE[n][0];t[r]!=null&&(t[i]=t[r])}}function eN(e){e&&e.alignTo==="edge"&&e.margin!=null&&e.edgeDistance==null&&(e.edgeDistance=e.margin)}function tN(e){e&&e.downplay&&!e.blur&&(e.blur=e.downplay)}function Ske(e){e&&e.focusNodeAdjacency!=null&&(e.emphasis=e.emphasis||{},e.emphasis.focus==null&&(e.emphasis.focus="adjacency"))}function rK(e,t){if(e)for(var n=0;n<e.length;n++)t(e[n]),e[n]&&rK(e[n].children,t)}function iK(e,t){yke(e,t),e.series=_a(e.series),Ne(e.series,function(n){if(Pn(n)){var r=n.type;if(r==="line")n.clipOverflow!=null&&(n.clip=n.clipOverflow);else if(r==="pie"||r==="gauge"){n.clockWise!=null&&(n.clockwise=n.clockWise),eN(n.label);var i=n.data;if(i&&!La(i))for(var o=0;o<i.length;o++)eN(i[o]);n.hoverOffset!=null&&(n.emphasis=n.emphasis||{},(n.emphasis.scaleSize=null)&&(n.emphasis.scaleSize=n.hoverOffset))}else if(r==="gauge"){var s=_ke(n,"pointer.color");s!=null&&bke(n,"itemStyle.color",s)}else if(r==="bar"){Wy(n),Wy(n.backgroundStyle),Wy(n.emphasis);var i=n.data;if(i&&!La(i))for(var o=0;o<i.length;o++)typeof i[o]=="object"&&(Wy(i[o]),Wy(i[o]&&i[o].emphasis))}else if(r==="sunburst"){var a=n.highlightPolicy;a&&(n.emphasis=n.emphasis||{},n.emphasis.focus||(n.emphasis.focus=a)),tN(n),rK(n.data,tN)}else r==="graph"||r==="sankey"?Ske(n):r==="map"&&(n.mapType&&!n.map&&(n.map=n.mapType),n.mapLocation&&Er(n,n.mapLocation));n.hoverAnimation!=null&&(n.emphasis=n.emphasis||{},n.emphasis&&n.emphasis.scale==null&&(n.emphasis.scale=n.hoverAnimation)),QF(n)}}),e.dataRange&&(e.visualMap=e.dataRange),Ne(wke,function(n){var r=e[n];r&&(cn(r)||(r=[r]),Ne(r,function(i){QF(i)}))})}function Cke(e){var t=Dn();e.eachSeries(function(n){var r=n.get("stack");if(r){var i=t.get(r)||t.set(r,[]),o=n.getData(),s={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:n};if(!s.stackedDimension||!(s.isStackedByIndex||s.stackedByDimension))return;i.length&&o.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(s)}}),t.each(Tke)}function Tke(e){Ne(e,function(t,n){var r=[],i=[NaN,NaN],o=[t.stackResultDimension,t.stackedOverDimension],s=t.data,a=t.isStackedByIndex,c=t.seriesModel.get("stackStrategy")||"samesign";s.modify(o,function(h,d,g){var y=s.get(t.stackedDimension,g);if(isNaN(y))return i;var v,x;a?x=s.getRawIndex(g):v=s.get(t.stackedByDimension,g);for(var C=NaN,I=n-1;I>=0;I--){var A=e[I];if(a||(x=A.data.rawIndexOf(A.stackedByDimension,v)),x>=0){var k=A.data.getByRawIndex(A.stackResultDimension,x);if(c==="all"||c==="positive"&&k>0||c==="negative"&&k<0||c==="samesign"&&y>=0&&k>0||c==="samesign"&&y<=0&&k<0){y=QIe(y,k),C=k;break}}}return r[0]=y,r[1]=C,r})})}var bC=function(){function e(t){this.data=t.data||(t.sourceFormat===gc?{}:[]),this.sourceFormat=t.sourceFormat||Jq,this.seriesLayoutBy=t.seriesLayoutBy||ec,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var n=this.dimensionsDefine=t.dimensionsDefine;if(n)for(var r=0;r<n.length;r++){var i=n[r];i.type==null&&tK(this,r)===Ya.Must&&(i.type="ordinal")}}return e}();function pR(e){return e instanceof bC}function $A(e,t,n){n=n||aK(e);var r=t.seriesLayoutBy,i=Eke(e,n,r,t.sourceHeader,t.dimensions),o=new bC({data:e,sourceFormat:n,seriesLayoutBy:r,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:er(t)});return o}function oK(e){return new bC({data:e,sourceFormat:La(e)?_h:Gs})}function Pke(e){return new bC({data:e.data,sourceFormat:e.sourceFormat,seriesLayoutBy:e.seriesLayoutBy,dimensionsDefine:er(e.dimensionsDefine),startIndex:e.startIndex,dimensionsDetectedCount:e.dimensionsDetectedCount})}function aK(e){var t=Jq;if(La(e))t=_h;else if(cn(e)){e.length===0&&(t=$a);for(var n=0,r=e.length;n<r;n++){var i=e[n];if(i!=null){if(cn(i)||La(i)){t=$a;break}else if(Pn(i)){t=iu;break}}}}else if(Pn(e)){for(var o in e)if(Bf(e,o)&&Ra(e[o])){t=gc;break}}return t}function Eke(e,t,n,r,i){var o,s;if(!e)return{dimensionsDefine:nN(i),startIndex:s,dimensionsDetectedCount:o};if(t===$a){var a=e;r==="auto"||r==null?rN(function(h){h!=null&&h!=="-"&&(pn(h)?s==null&&(s=1):s=0)},n,a,10):s=ti(r)?r:r?1:0,!i&&s===1&&(i=[],rN(function(h,d){i[d]=h!=null?h+"":""},n,a,1/0)),o=i?i.length:n===qg?a.length:a[0]?a[0].length:null}else if(t===iu)i||(i=Ike(e));else if(t===gc)i||(i=[],Ne(e,function(h,d){i.push(d)}));else if(t===Gs){var c=yb(e[0]);o=cn(c)&&c.length||1}return{startIndex:s,dimensionsDefine:nN(i),dimensionsDetectedCount:o}}function Ike(e){for(var t=0,n;t<e.length&&!(n=e[t++]););if(n)return lr(n)}function nN(e){if(e){var t=Dn();return _n(e,function(n,r){n=Pn(n)?n:{name:n};var i={name:n.name,displayName:n.displayName,type:n.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var o=t.get(i.name);return o?i.name+="-"+o.count++:t.set(i.name,{count:1}),i})}}function rN(e,t,n,r){if(t===qg)for(var i=0;i<n.length&&i<r;i++)e(n[i]?n[i][0]:null,i);else for(var o=n[0]||[],i=0;i<o.length&&i<r;i++)e(o[i],i)}function sK(e){var t=e.sourceFormat;return t===iu||t===gc}var Ud,Gd,Wd,iN,oN,lK=function(){function e(t,n){var r=pR(t)?t:oK(t);this._source=r;var i=this._data=r.data;r.sourceFormat===_h&&(this._offset=0,this._dimSize=n,this._data=i),oN(this,i,r)}return e.prototype.getSource=function(){return this._source},e.prototype.count=function(){return 0},e.prototype.getItem=function(t,n){},e.prototype.appendData=function(t){},e.prototype.clean=function(){},e.protoInitialize=function(){var t=e.prototype;t.pure=!1,t.persistent=!0}(),e.internalField=function(){var t;oN=function(s,a,c){var h=c.sourceFormat,d=c.seriesLayoutBy,g=c.startIndex,y=c.dimensionsDefine,v=iN[mR(h,d)];if(en(s,v),h===_h)s.getItem=n,s.count=i,s.fillStorage=r;else{var x=uK(h,d);s.getItem=zn(x,null,a,g,y);var C=cK(h,d);s.count=zn(C,null,a,g,y)}};var n=function(s,a){s=s-this._offset,a=a||[];for(var c=this._data,h=this._dimSize,d=h*s,g=0;g<h;g++)a[g]=c[d+g];return a},r=function(s,a,c,h){for(var d=this._data,g=this._dimSize,y=0;y<g;y++){for(var v=h[y],x=v[0]==null?1/0:v[0],C=v[1]==null?-1/0:v[1],I=a-s,A=c[y],k=0;k<I;k++){var R=d[k*g+y];A[s+k]=R,R<x&&(x=R),R>C&&(C=R)}v[0]=x,v[1]=C}},i=function(){return this._data?this._data.length/this._dimSize:0};iN=(t={},t[$a+"_"+ec]={pure:!0,appendData:o},t[$a+"_"+qg]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[iu]={pure:!0,appendData:o},t[gc]={pure:!0,appendData:function(s){var a=this._data;Ne(s,function(c,h){for(var d=a[h]||(a[h]=[]),g=0;g<(c||[]).length;g++)d.push(c[g])})}},t[Gs]={appendData:o},t[_h]={persistent:!1,pure:!0,appendData:function(s){this._data=s},clean:function(){this._offset+=this.count(),this._data=null}},t);function o(s){for(var a=0;a<s.length;a++)this._data.push(s[a])}}(),e}(),aN=function(e,t,n,r){return e[r]},Mke=(Ud={},Ud[$a+"_"+ec]=function(e,t,n,r){return e[r+t]},Ud[$a+"_"+qg]=function(e,t,n,r,i){r+=t;for(var o=i||[],s=e,a=0;a<s.length;a++){var c=s[a];o[a]=c?c[r]:null}return o},Ud[iu]=aN,Ud[gc]=function(e,t,n,r,i){for(var o=i||[],s=0;s<n.length;s++){var a=n[s].name,c=e[a];o[s]=c?c[r]:null}return o},Ud[Gs]=aN,Ud);function uK(e,t){var n=Mke[mR(e,t)];return n}var sN=function(e,t,n){return e.length},Ake=(Gd={},Gd[$a+"_"+ec]=function(e,t,n){return Math.max(0,e.length-t)},Gd[$a+"_"+qg]=function(e,t,n){var r=e[0];return r?Math.max(0,r.length-t):0},Gd[iu]=sN,Gd[gc]=function(e,t,n){var r=n[0].name,i=e[r];return i?i.length:0},Gd[Gs]=sN,Gd);function cK(e,t){var n=Ake[mR(e,t)];return n}var VE=function(e,t,n){return e[t]},Dke=(Wd={},Wd[$a]=VE,Wd[iu]=function(e,t,n){return e[n]},Wd[gc]=VE,Wd[Gs]=function(e,t,n){var r=yb(e);return r instanceof Array?r[t]:r},Wd[_h]=VE,Wd);function hK(e){var t=Dke[e];return t}function mR(e,t){return e===$a?e+"_"+t:e}function Mg(e,t,n){if(e){var r=e.getRawDataItem(t);if(r!=null){var i=e.getStore(),o=i.getSource().sourceFormat;if(n!=null){var s=e.getDimensionIndex(n),a=i.getDimensionProperty(s);return hK(o)(r,s,a)}else{var c=r;return o===Gs&&(c=yb(r)),c}}}}var kke=/\{@(.+?)\}/g,gR=function(){function e(){}return e.prototype.getDataParams=function(t,n){var r=this.getData(n),i=this.getRawValue(t,n),o=r.getRawIndex(t),s=r.getName(t),a=r.getRawDataItem(t),c=r.getItemVisual(t,"style"),h=c&&c[r.getItemVisual(t,"drawType")||"fill"],d=c&&c.stroke,g=this.mainType,y=g==="series",v=r.userOutput&&r.userOutput.get();return{componentType:g,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:y?this.subType:null,seriesIndex:this.seriesIndex,seriesId:y?this.id:null,seriesName:y?this.name:null,name:s,dataIndex:o,data:a,dataType:n,value:i,color:h,borderColor:d,dimensionNames:v?v.fullDimensions:null,encode:v?v.encode:null,$vars:["seriesName","name","value"]}},e.prototype.getFormattedLabel=function(t,n,r,i,o,s){n=n||"normal";var a=this.getData(r),c=this.getDataParams(t,r);if(s&&(c.value=s.interpolatedValue),i!=null&&cn(c.value)&&(c.value=c.value[i]),!o){var h=a.getItemModel(t);o=h.get(n==="normal"?["label","formatter"]:[n,"label","formatter"])}if(Sn(o))return c.status=n,c.dimensionIndex=i,o(c);if(pn(o)){var d=Kq(o,c);return d.replace(kke,function(g,y){var v=y.length,x=y;x.charAt(0)==="["&&x.charAt(v-1)==="]"&&(x=+x.slice(1,v-1));var C=Mg(a,t,x);if(s&&cn(s.interpolatedValue)){var I=a.getDimensionIndex(x);I>=0&&(C=s.interpolatedValue[I])}return C!=null?C+"":""})}},e.prototype.getRawValue=function(t,n){return Mg(this.getData(n),t)},e.prototype.formatTooltip=function(t,n,r){},e}();function lN(e){var t,n;return Pn(e)?e.type&&(n=e):t=e,{text:t,frag:n}}function X_(e){return new Oke(e)}var Oke=function(){function e(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return e.prototype.perform=function(t){var n=this._upstream,r=t&&t.skip;if(this._dirty&&n){var i=this.context;i.data=i.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var o;this._plan&&!r&&(o=this._plan(this.context));var s=d(this._modBy),a=this._modDataCount||0,c=d(t&&t.modBy),h=t&&t.modDataCount||0;(s!==c||a!==h)&&(o="reset");function d(k){return!(k>=1)&&(k=1),k}var g;(this._dirty||o==="reset")&&(this._dirty=!1,g=this._doReset(r)),this._modBy=c,this._modDataCount=h;var y=t&&t.step;if(n?this._dueEnd=n._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var v=this._dueIndex,x=Math.min(y!=null?this._dueIndex+y:1/0,this._dueEnd);if(!r&&(g||v<x)){var C=this._progress;if(cn(C))for(var I=0;I<C.length;I++)this._doProgress(C[I],v,x,c,h);else this._doProgress(C,v,x,c,h)}this._dueIndex=x;var A=this._settedOutputEnd!=null?this._settedOutputEnd:x;this._outputDueEnd=A}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},e.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},e.prototype._doProgress=function(t,n,r,i,o){uN.reset(n,r,i,o),this._callingProgress=t,this._callingProgress({start:n,end:r,count:r-n,next:uN.next},this.context)},e.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var n,r;!t&&this._reset&&(n=this._reset(this.context),n&&n.progress&&(r=n.forceFirstProgress,n=n.progress),cn(n)&&!n.length&&(n=null)),this._progress=n,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),r},e.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},e.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},e.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},e.prototype.getUpstream=function(){return this._upstream},e.prototype.getDownstream=function(){return this._downstream},e.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},e}(),uN=function(){var e,t,n,r,i,o={reset:function(c,h,d,g){t=c,e=h,n=d,r=g,i=Math.ceil(r/n),o.next=n>1&&r>0?a:s}};return o;function s(){return t<e?t++:null}function a(){var c=t%i*n+Math.ceil(t/i),h=t>=e?null:c<r?c:t;return t++,h}}();function ig(e,t){var n=t&&t.type;return n==="ordinal"?e:(n==="time"&&!ti(e)&&e!=null&&e!=="-"&&(e=+rc(e)),e==null||e===""?NaN:Number(e))}Dn({number:function(e){return parseFloat(e)},time:function(e){return+rc(e)},trim:function(e){return pn(e)?jl(e):e}});var Rke=function(){function e(t,n){var r=t==="desc";this._resultLT=r?1:-1,n==null&&(n=r?"min":"max"),this._incomparable=n==="min"?-1/0:1/0}return e.prototype.evaluate=function(t,n){var r=ti(t)?t:kS(t),i=ti(n)?n:kS(n),o=isNaN(r),s=isNaN(i);if(o&&(r=this._incomparable),s&&(i=this._incomparable),o&&s){var a=pn(t),c=pn(n);a&&(r=c?t:0),c&&(i=a?n:0)}return r<i?this._resultLT:r>i?-this._resultLT:0},e}(),Lke=function(){function e(){}return e.prototype.getRawData=function(){throw new Error("not supported")},e.prototype.getRawDataItem=function(t){throw new Error("not supported")},e.prototype.cloneRawData=function(){},e.prototype.getDimensionInfo=function(t){},e.prototype.cloneAllDimensionInfo=function(){},e.prototype.count=function(){},e.prototype.retrieveValue=function(t,n){},e.prototype.retrieveValueFromItem=function(t,n){},e.prototype.convertValue=function(t,n){return ig(t,n)},e}();function $ke(e,t){var n=new Lke,r=e.data,i=n.sourceFormat=e.sourceFormat,o=e.startIndex,s="";e.seriesLayoutBy!==ec&&Ia(s);var a=[],c={},h=e.dimensionsDefine;if(h)Ne(h,function(C,I){var A=C.name,k={index:I,name:A,displayName:C.displayName};if(a.push(k),A!=null){var R="";Bf(c,A)&&Ia(R),c[A]=k}});else for(var d=0;d<e.dimensionsDetectedCount;d++)a.push({index:d});var g=uK(i,ec);t.__isBuiltIn&&(n.getRawDataItem=function(C){return g(r,o,a,C)},n.getRawData=zn(zke,null,e)),n.cloneRawData=zn(Bke,null,e);var y=cK(i,ec);n.count=zn(y,null,r,o,a);var v=hK(i);n.retrieveValue=function(C,I){var A=g(r,o,a,C);return x(A,I)};var x=n.retrieveValueFromItem=function(C,I){if(C!=null){var A=a[I];if(A)return v(C,I,A.name)}};return n.getDimensionInfo=zn(Fke,null,a,c),n.cloneAllDimensionInfo=zn(Nke,null,a),n}function zke(e){var t=e.sourceFormat;if(!vR(t)){var n="";Ia(n)}return e.data}function Bke(e){var t=e.sourceFormat,n=e.data;if(!vR(t)){var r="";Ia(r)}if(t===$a){for(var i=[],o=0,s=n.length;o<s;o++)i.push(n[o].slice());return i}else if(t===iu){for(var i=[],o=0,s=n.length;o<s;o++)i.push(en({},n[o]));return i}}function Fke(e,t,n){if(n!=null){if(ti(n)||!isNaN(n)&&!Bf(t,n))return e[n];if(Bf(t,n))return t[n]}}function Nke(e){return er(e)}var dK=Dn();function Vke(e){e=er(e);var t=e.type,n="";t||Ia(n);var r=t.split(":");r.length!==2&&Ia(n);var i=!1;r[0]==="echarts"&&(t=r[1],i=!0),e.__isBuiltIn=i,dK.set(t,e)}function jke(e,t,n){var r=_a(e),i=r.length,o="";i||Ia(o);for(var s=0,a=i;s<a;s++){var c=r[s];t=Hke(c,t),s!==a-1&&(t.length=Math.max(t.length,1))}return t}function Hke(e,t,n,r){var i="";t.length||Ia(i),Pn(e)||Ia(i);var o=e.type,s=dK.get(o);s||Ia(i);var a=_n(t,function(h){return $ke(h,s)}),c=_a(s.transform({upstream:a[0],upstreamList:a,config:er(e.config)}));return _n(c,function(h,d){var g="";Pn(h)||Ia(g),h.data||Ia(g);var y=aK(h.data);vR(y)||Ia(g);var v,x=t[0];if(x&&d===0&&!h.dimensions){var C=x.startIndex;C&&(h.data=x.data.slice(0,C).concat(h.data)),v={seriesLayoutBy:ec,sourceHeader:C,dimensions:x.metaRawOption.dimensions}}else v={seriesLayoutBy:ec,sourceHeader:0,dimensions:h.dimensions};return $A(h.data,v,null)})}function vR(e){return e===$a||e===iu}var xC="undefined",Uke=typeof Uint32Array===xC?Array:Uint32Array,Gke=typeof Uint16Array===xC?Array:Uint16Array,fK=typeof Int32Array===xC?Array:Int32Array,cN=typeof Float64Array===xC?Array:Float64Array,pK={float:cN,int:fK,ordinal:Array,number:Array,time:cN},jE;function cm(e){return e>65535?Uke:Gke}function hm(){return[1/0,-1/0]}function Wke(e){var t=e.constructor;return t===Array?e.slice():new t(e)}function hN(e,t,n,r,i){var o=pK[n||"float"];if(i){var s=e[t],a=s&&s.length;if(a!==r){for(var c=new o(r),h=0;h<a;h++)c[h]=s[h];e[t]=c}}else e[t]=new o(r)}var zA=function(){function e(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Dn()}return e.prototype.initData=function(t,n,r){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=t.getSource(),o=this.defaultDimValueGetter=jE[i.sourceFormat];this._dimValueGetter=r||o,this._rawExtent=[],sK(i),this._dimensions=_n(n,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,t.count())},e.prototype.getProvider=function(){return this._provider},e.prototype.getSource=function(){return this._provider.getSource()},e.prototype.ensureCalculationDimension=function(t,n){var r=this._calcDimNameToIdx,i=this._dimensions,o=r.get(t);if(o!=null){if(i[o].type===n)return o}else o=i.length;return i[o]={type:n},r.set(t,o),this._chunks[o]=new pK[n||"float"](this._rawCount),this._rawExtent[o]=hm(),o},e.prototype.collectOrdinalMeta=function(t,n){var r=this._chunks[t],i=this._dimensions[t],o=this._rawExtent,s=i.ordinalOffset||0,a=r.length;s===0&&(o[t]=hm());for(var c=o[t],h=s;h<a;h++){var d=r[h]=n.parseAndCollect(r[h]);isNaN(d)||(c[0]=Math.min(d,c[0]),c[1]=Math.max(d,c[1]))}i.ordinalMeta=n,i.ordinalOffset=a,i.type="ordinal"},e.prototype.getOrdinalMeta=function(t){var n=this._dimensions[t],r=n.ordinalMeta;return r},e.prototype.getDimensionProperty=function(t){var n=this._dimensions[t];return n&&n.property},e.prototype.appendData=function(t){var n=this._provider,r=this.count();n.appendData(t);var i=n.count();return n.persistent||(i+=r),r<i&&this._initDataFromProvider(r,i,!0),[r,i]},e.prototype.appendValues=function(t,n){for(var r=this._chunks,i=this._dimensions,o=i.length,s=this._rawExtent,a=this.count(),c=a+Math.max(t.length,n||0),h=0;h<o;h++){var d=i[h];hN(r,h,d.type,c,!0)}for(var g=[],y=a;y<c;y++)for(var v=y-a,x=0;x<o;x++){var d=i[x],C=jE.arrayRows.call(this,t[v]||g,d.property,v,x);r[x][y]=C;var I=s[x];C<I[0]&&(I[0]=C),C>I[1]&&(I[1]=C)}return this._rawCount=this._count=c,{start:a,end:c}},e.prototype._initDataFromProvider=function(t,n,r){for(var i=this._provider,o=this._chunks,s=this._dimensions,a=s.length,c=this._rawExtent,h=_n(s,function(k){return k.property}),d=0;d<a;d++){var g=s[d];c[d]||(c[d]=hm()),hN(o,d,g.type,n,r)}if(i.fillStorage)i.fillStorage(t,n,o,c);else for(var y=[],v=t;v<n;v++){y=i.getItem(v,y);for(var x=0;x<a;x++){var C=o[x],I=this._dimValueGetter(y,h[x],v,x);C[v]=I;var A=c[x];I<A[0]&&(A[0]=I),I>A[1]&&(A[1]=I)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=n,this._extent=[]},e.prototype.count=function(){return this._count},e.prototype.get=function(t,n){if(!(n>=0&&n<this._count))return NaN;var r=this._chunks[t];return r?r[this.getRawIndex(n)]:NaN},e.prototype.getValues=function(t,n){var r=[],i=[];if(n==null){n=t,t=[];for(var o=0;o<this._dimensions.length;o++)i.push(o)}else i=t;for(var o=0,s=i.length;o<s;o++)r.push(this.get(i[o],n));return r},e.prototype.getByRawIndex=function(t,n){if(!(n>=0&&n<this._rawCount))return NaN;var r=this._chunks[t];return r?r[n]:NaN},e.prototype.getSum=function(t){var n=this._chunks[t],r=0;if(n)for(var i=0,o=this.count();i<o;i++){var s=this.get(t,i);isNaN(s)||(r+=s)}return r},e.prototype.getMedian=function(t){var n=[];this.each([t],function(o){isNaN(o)||n.push(o)});var r=n.sort(function(o,s){return o-s}),i=this.count();return i===0?0:i%2===1?r[(i-1)/2]:(r[i/2]+r[i/2-1])/2},e.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var n=this._indices,r=n[t];if(r!=null&&r<this._count&&r===t)return t;for(var i=0,o=this._count-1;i<=o;){var s=(i+o)/2|0;if(n[s]<t)i=s+1;else if(n[s]>t)o=s-1;else return s}return-1},e.prototype.indicesOfNearest=function(t,n,r){var i=this._chunks,o=i[t],s=[];if(!o)return s;r==null&&(r=1/0);for(var a=1/0,c=-1,h=0,d=0,g=this.count();d<g;d++){var y=this.getRawIndex(d),v=n-o[y],x=Math.abs(v);x<=r&&((x<a||x===a&&v>=0&&c<0)&&(a=x,c=v,h=0),v===c&&(s[h++]=d))}return s.length=h,s},e.prototype.getIndices=function(){var t,n=this._indices;if(n){var r=n.constructor,i=this._count;if(r===Array){t=new r(i);for(var o=0;o<i;o++)t[o]=n[o]}else t=new r(n.buffer,0,i)}else{var r=cm(this._rawCount);t=new r(this.count());for(var o=0;o<t.length;o++)t[o]=o}return t},e.prototype.filter=function(t,n){if(!this._count)return this;for(var r=this.clone(),i=r.count(),o=cm(r._rawCount),s=new o(i),a=[],c=t.length,h=0,d=t[0],g=r._chunks,y=0;y<i;y++){var v=void 0,x=r.getRawIndex(y);if(c===0)v=n(y);else if(c===1){var C=g[d][x];v=n(C,y)}else{for(var I=0;I<c;I++)a[I]=g[t[I]][x];a[I]=y,v=n.apply(null,a)}v&&(s[h++]=x)}return h<i&&(r._indices=s),r._count=h,r._extent=[],r._updateGetRawIdx(),r},e.prototype.selectRange=function(t){var n=this.clone(),r=n._count;if(!r)return this;var i=lr(t),o=i.length;if(!o)return this;var s=n.count(),a=cm(n._rawCount),c=new a(s),h=0,d=i[0],g=t[d][0],y=t[d][1],v=n._chunks,x=!1;if(!n._indices){var C=0;if(o===1){for(var I=v[i[0]],A=0;A<r;A++){var k=I[A];(k>=g&&k<=y||isNaN(k))&&(c[h++]=C),C++}x=!0}else if(o===2){for(var I=v[i[0]],R=v[i[1]],z=t[i[1]][0],V=t[i[1]][1],A=0;A<r;A++){var k=I[A],U=R[A];(k>=g&&k<=y||isNaN(k))&&(U>=z&&U<=V||isNaN(U))&&(c[h++]=C),C++}x=!0}}if(!x)if(o===1)for(var A=0;A<s;A++){var N=n.getRawIndex(A),k=v[i[0]][N];(k>=g&&k<=y||isNaN(k))&&(c[h++]=N)}else for(var A=0;A<s;A++){for(var W=!0,N=n.getRawIndex(A),X=0;X<o;X++){var K=i[X],k=v[K][N];(k<t[K][0]||k>t[K][1])&&(W=!1)}W&&(c[h++]=n.getRawIndex(A))}return h<s&&(n._indices=c),n._count=h,n._extent=[],n._updateGetRawIdx(),n},e.prototype.map=function(t,n){var r=this.clone(t);return this._updateDims(r,t,n),r},e.prototype.modify=function(t,n){this._updateDims(this,t,n)},e.prototype._updateDims=function(t,n,r){for(var i=t._chunks,o=[],s=n.length,a=t.count(),c=[],h=t._rawExtent,d=0;d<n.length;d++)h[n[d]]=hm();for(var g=0;g<a;g++){for(var y=t.getRawIndex(g),v=0;v<s;v++)c[v]=i[n[v]][y];c[s]=g;var x=r&&r.apply(null,c);if(x!=null){typeof x!="object"&&(o[0]=x,x=o);for(var d=0;d<x.length;d++){var C=n[d],I=x[d],A=h[C],k=i[C];k&&(k[y]=I),I<A[0]&&(A[0]=I),I>A[1]&&(A[1]=I)}}}},e.prototype.lttbDownSample=function(t,n){var r=this.clone([t],!0),i=r._chunks,o=i[t],s=this.count(),a=0,c=Math.floor(1/n),h=this.getRawIndex(0),d,g,y,v=new(cm(this._rawCount))(Math.min((Math.ceil(s/c)+2)*2,s));v[a++]=h;for(var x=1;x<s-1;x+=c){for(var C=Math.min(x+c,s-1),I=Math.min(x+c*2,s),A=(I+C)/2,k=0,R=C;R<I;R++){var z=this.getRawIndex(R),V=o[z];isNaN(V)||(k+=V)}k/=I-C;var U=x,N=Math.min(x+c,s),W=x-1,X=o[h];d=-1,y=U;for(var K=-1,te=0,R=U;R<N;R++){var z=this.getRawIndex(R),V=o[z];if(isNaN(V)){te++,K<0&&(K=z);continue}g=Math.abs((W-A)*(V-X)-(W-R)*(k-X)),g>d&&(d=g,y=z)}te>0&&te<N-U&&(v[a++]=Math.min(K,y),y=Math.max(K,y)),v[a++]=y,h=y}return v[a++]=this.getRawIndex(s-1),r._count=a,r._indices=v,r.getRawIndex=this._getRawIdx,r},e.prototype.minmaxDownSample=function(t,n){for(var r=this.clone([t],!0),i=r._chunks,o=Math.floor(1/n),s=i[t],a=this.count(),c=new(cm(this._rawCount))(Math.ceil(a/o)*2),h=0,d=0;d<a;d+=o){var g=d,y=s[this.getRawIndex(g)],v=d,x=s[this.getRawIndex(v)],C=o;d+o>a&&(C=a-d);for(var I=0;I<C;I++){var A=this.getRawIndex(d+I),k=s[A];k<y&&(y=k,g=d+I),k>x&&(x=k,v=d+I)}var R=this.getRawIndex(g),z=this.getRawIndex(v);g<v?(c[h++]=R,c[h++]=z):(c[h++]=z,c[h++]=R)}return r._count=h,r._indices=c,r._updateGetRawIdx(),r},e.prototype.downSample=function(t,n,r,i){for(var o=this.clone([t],!0),s=o._chunks,a=[],c=Math.floor(1/n),h=s[t],d=this.count(),g=o._rawExtent[t]=hm(),y=new(cm(this._rawCount))(Math.ceil(d/c)),v=0,x=0;x<d;x+=c){c>d-x&&(c=d-x,a.length=c);for(var C=0;C<c;C++){var I=this.getRawIndex(x+C);a[C]=h[I]}var A=r(a),k=this.getRawIndex(Math.min(x+i(a,A)||0,d-1));h[k]=A,A<g[0]&&(g[0]=A),A>g[1]&&(g[1]=A),y[v++]=k}return o._count=v,o._indices=y,o._updateGetRawIdx(),o},e.prototype.each=function(t,n){if(this._count)for(var r=t.length,i=this._chunks,o=0,s=this.count();o<s;o++){var a=this.getRawIndex(o);switch(r){case 0:n(o);break;case 1:n(i[t[0]][a],o);break;case 2:n(i[t[0]][a],i[t[1]][a],o);break;default:for(var c=0,h=[];c<r;c++)h[c]=i[t[c]][a];h[c]=o,n.apply(null,h)}}},e.prototype.getDataExtent=function(t){var n=this._chunks[t],r=hm();if(!n)return r;var i=this.count(),o=!this._indices,s;if(o)return this._rawExtent[t].slice();if(s=this._extent[t],s)return s.slice();s=r;for(var a=s[0],c=s[1],h=0;h<i;h++){var d=this.getRawIndex(h),g=n[d];g<a&&(a=g),g>c&&(c=g)}return s=[a,c],this._extent[t]=s,s},e.prototype.getRawDataItem=function(t){var n=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(n);for(var r=[],i=this._chunks,o=0;o<i.length;o++)r.push(i[o][n]);return r},e.prototype.clone=function(t,n){var r=new e,i=this._chunks,o=t&&Gg(t,function(a,c){return a[c]=!0,a},{});if(o)for(var s=0;s<i.length;s++)r._chunks[s]=o[s]?Wke(i[s]):i[s];else r._chunks=i;return this._copyCommonProps(r),n||(r._indices=this._cloneIndices()),r._updateGetRawIdx(),r},e.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=er(this._extent),t._rawExtent=er(this._rawExtent)},e.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,n=void 0;if(t===Array){var r=this._indices.length;n=new t(r);for(var i=0;i<r;i++)n[i]=this._indices[i]}else n=new t(this._indices);return n}return null},e.prototype._getRawIdxIdentity=function(t){return t},e.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},e.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},e.internalField=function(){function t(n,r,i,o){return ig(n[o],this._dimensions[o])}jE={arrayRows:t,objectRows:function(n,r,i,o){return ig(n[r],this._dimensions[o])},keyedColumns:t,original:function(n,r,i,o){var s=n&&(n.value==null?n:n.value);return ig(s instanceof Array?s[o]:s,this._dimensions[o])},typedArray:function(n,r,i,o){return n[o]}}}(),e}(),Zke=function(){function e(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return e.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},e.prototype._setLocalSource=function(t,n){this._sourceList=t,this._upstreamSignList=n,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},e.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},e.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},e.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost,n=this._getUpstreamSourceManagers(),r=!!n.length,i,o;if(Lx(t)){var s=t,a=void 0,c=void 0,h=void 0;if(r){var d=n[0];d.prepareSource(),h=d.getSource(),a=h.data,c=h.sourceFormat,o=[d._getVersionSign()]}else a=s.get("data",!0),c=La(a)?_h:Gs,o=[];var g=this._getSourceMetaRawOption()||{},y=h&&h.metaRawOption||{},v=Fn(g.seriesLayoutBy,y.seriesLayoutBy)||null,x=Fn(g.sourceHeader,y.sourceHeader),C=Fn(g.dimensions,y.dimensions),I=v!==y.seriesLayoutBy||!!x!=!!y.sourceHeader||C;i=I?[$A(a,{seriesLayoutBy:v,sourceHeader:x,dimensions:C},c)]:[]}else{var A=t;if(r){var k=this._applyTransform(n);i=k.sourceList,o=k.upstreamSignList}else{var R=A.get("source",!0);i=[$A(R,this._getSourceMetaRawOption(),null)],o=[]}}this._setLocalSource(i,o)},e.prototype._applyTransform=function(t){var n=this._sourceHost,r=n.get("transform",!0),i=n.get("fromTransformResult",!0);if(i!=null){var o="";t.length!==1&&dN(o)}var s,a=[],c=[];return Ne(t,function(h){h.prepareSource();var d=h.getSource(i||0),g="";i!=null&&!d&&dN(g),a.push(d),c.push(h._getVersionSign())}),r?s=jke(r,a,{datasetIndex:n.componentIndex}):i!=null&&(s=[Pke(a[0])]),{sourceList:s,upstreamSignList:c}},e.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),n=0;n<t.length;n++){var r=t[n];if(r._isDirty()||this._upstreamSignList[n]!==r._getVersionSign())return!0}},e.prototype.getSource=function(t){t=t||0;var n=this._sourceList[t];if(!n){var r=this._getUpstreamSourceManagers();return r[0]&&r[0].getSource(t)}return n},e.prototype.getSharedDataStore=function(t){var n=t.makeStoreSchema();return this._innerGetDataStore(n.dimensions,t.source,n.hash)},e.prototype._innerGetDataStore=function(t,n,r){var i=0,o=this._storeList,s=o[i];s||(s=o[i]={});var a=s[r];if(!a){var c=this._getUpstreamSourceManagers()[0];Lx(this._sourceHost)&&c?a=c._innerGetDataStore(t,n,r):(a=new zA,a.initData(new lK(n,t.length),t)),s[r]=a}return a},e.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(Lx(t)){var n=eK(t);return n?[n.getSourceManager()]:[]}else return _n(eke(t),function(r){return r.getSourceManager()})},e.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost,n,r,i;if(Lx(t))n=t.get("seriesLayoutBy",!0),r=t.get("sourceHeader",!0),i=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var o=t;n=o.get("seriesLayoutBy",!0),r=o.get("sourceHeader",!0),i=o.get("dimensions",!0)}return{seriesLayoutBy:n,sourceHeader:r,dimensions:i}},e}();function Lx(e){return e.mainType==="series"}function dN(e){throw new Error(e)}var qke="line-height:1";function mK(e){var t=e.lineHeight;return t==null?qke:"line-height:"+pa(t+"")+"px"}function gK(e,t){var n=e.color||"#6e7079",r=e.fontSize||12,i=e.fontWeight||"400",o=e.color||"#464646",s=e.fontSize||14,a=e.fontWeight||"900";return t==="html"?{nameStyle:"font-size:"+pa(r+"")+"px;color:"+pa(n)+";font-weight:"+pa(i+""),valueStyle:"font-size:"+pa(s+"")+"px;color:"+pa(o)+";font-weight:"+pa(a+"")}:{nameStyle:{fontSize:r,fill:n,fontWeight:i},valueStyle:{fontSize:s,fill:o,fontWeight:a}}}var Kke=[0,10,20,30],Xke=["",`
`,`

`,`


`];function Ah(e,t){return t.type=e,t}function BA(e){return e.type==="section"}function vK(e){return BA(e)?Yke:Jke}function yK(e){if(BA(e)){var t=0,n=e.blocks.length,r=n>1||n>0&&!e.noHeader;return Ne(e.blocks,function(i){var o=yK(i);o>=t&&(t=o+ +(r&&(!o||BA(i)&&!i.noHeader)))}),t}return 0}function Yke(e,t,n,r){var i=t.noHeader,o=Qke(yK(t)),s=[],a=t.blocks||[];hl(!a||cn(a)),a=a||[];var c=e.orderMode;if(t.sortBlocks&&c){a=a.slice();var h={valueAsc:"asc",valueDesc:"desc"};if(Bf(h,c)){var d=new Rke(h[c],null);a.sort(function(C,I){return d.evaluate(C.sortParam,I.sortParam)})}else c==="seriesDesc"&&a.reverse()}Ne(a,function(C,I){var A=t.valueFormatter,k=vK(C)(A?en(en({},e),{valueFormatter:A}):e,C,I>0?o.html:0,r);k!=null&&s.push(k)});var g=e.renderMode==="richText"?s.join(o.richText):FA(r,s.join(""),i?n:o.html);if(i)return g;var y=LA(t.header,"ordinal",e.useUTC),v=gK(r,e.renderMode).nameStyle,x=mK(r);return e.renderMode==="richText"?_K(e,y,v)+o.richText+g:FA(r,'<div style="'+v+";"+x+';">'+pa(y)+"</div>"+g,n)}function Jke(e,t,n,r){var i=e.renderMode,o=t.noName,s=t.noValue,a=!t.markerType,c=t.name,h=e.useUTC,d=t.valueFormatter||e.valueFormatter||function(z){return z=cn(z)?z:[z],_n(z,function(V,U){return LA(V,cn(v)?v[U]:v,h)})};if(!(o&&s)){var g=a?"":e.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",i),y=o?"":LA(c,"ordinal",h),v=t.valueType,x=s?[]:d(t.value,t.dataIndex),C=!a||!o,I=!a&&o,A=gK(r,i),k=A.nameStyle,R=A.valueStyle;return i==="richText"?(a?"":g)+(o?"":_K(e,y,k))+(s?"":nOe(e,x,C,I,R)):FA(r,(a?"":g)+(o?"":eOe(y,!a,k))+(s?"":tOe(x,C,I,R)),n)}}function fN(e,t,n,r,i,o){if(e){var s=vK(e),a={useUTC:i,renderMode:n,orderMode:r,markupStyleCreator:t,valueFormatter:e.valueFormatter};return s(a,e,0,o)}}function Qke(e){return{html:Kke[e],richText:Xke[e]}}function FA(e,t,n){var r='<div style="clear:both"></div>',i="margin: "+n+"px 0 0",o=mK(e);return'<div style="'+i+";"+o+';">'+t+r+"</div>"}function eOe(e,t,n){var r=t?"margin-left:2px":"";return'<span style="'+n+";"+r+'">'+pa(e)+"</span>"}function tOe(e,t,n,r){var i=n?"10px":"20px",o=t?"float:right;margin-left:"+i:"";return e=cn(e)?e:[e],'<span style="'+o+";"+r+'">'+_n(e,function(s){return pa(s)}).join("&nbsp;&nbsp;")+"</span>"}function _K(e,t,n){return e.markupStyleCreator.wrapRichTextStyle(t,n)}function nOe(e,t,n,r,i){var o=[i],s=r?10:20;return n&&o.push({padding:[0,0,0,s],align:"right"}),e.markupStyleCreator.wrapRichTextStyle(cn(t)?t.join("  "):t,o)}function rOe(e,t){var n=e.getData().getItemVisual(t,"style"),r=n[e.visualDrawType];return Vf(r)}function bK(e,t){var n=e.get("padding");return n??(t==="richText"?[8,10]:10)}var HE=function(){function e(){this.richTextStyles={},this._nextStyleNameId=ZZ()}return e.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},e.prototype.makeTooltipMarker=function(t,n,r){var i=r==="richText"?this._generateStyleName():null,o=WDe({color:n,type:t,renderMode:r,markerId:i});return pn(o)?o:(this.richTextStyles[i]=o.style,o.content)},e.prototype.wrapRichTextStyle=function(t,n){var r={};cn(n)?Ne(n,function(o){return en(r,o)}):en(r,n);var i=this._generateStyleName();return this.richTextStyles[i]=r,"{"+i+"|"+t+"}"},e}();function iOe(e){var t=e.series,n=e.dataIndex,r=e.multipleSeries,i=t.getData(),o=i.mapDimensionsAll("defaultedTooltip"),s=o.length,a=t.getRawValue(n),c=cn(a),h=rOe(t,n),d,g,y,v;if(s>1||c&&!s){var x=oOe(a,t,n,o,h);d=x.inlineValues,g=x.inlineValueTypes,y=x.blocks,v=x.inlineValues[0]}else if(s){var C=i.getDimensionInfo(o[0]);v=d=Mg(i,n,o[0]),g=C.type}else v=d=c?a[0]:a;var I=UO(t),A=I&&t.name||"",k=i.getName(n),R=r?A:k;return Ah("section",{header:A,noHeader:r||!I,sortParam:v,blocks:[Ah("nameValue",{markerType:"item",markerColor:h,name:R,noName:!jl(R),value:d,valueType:g,dataIndex:n})].concat(y||[])})}function oOe(e,t,n,r,i){var o=t.getData(),s=Gg(e,function(g,y,v){var x=o.getDimensionInfo(v);return g=g||x&&x.tooltip!==!1&&x.displayName!=null},!1),a=[],c=[],h=[];r.length?Ne(r,function(g){d(Mg(o,n,g),g)}):Ne(e,d);function d(g,y){var v=o.getDimensionInfo(y);!v||v.otherDims.tooltip===!1||(s?h.push(Ah("nameValue",{markerType:"subItem",markerColor:i,name:v.displayName,value:g,valueType:v.type})):(a.push(g),c.push(v.type)))}return{inlineValues:a,inlineValueTypes:c,blocks:h}}var Gc=Ti();function $x(e,t){return e.getName(t)||e.getId(t)}var aOe="__universalTransitionEnabled",Ql=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n._selectedDataIndicesMap={},n}return t.prototype.init=function(n,r,i){this.seriesIndex=this.componentIndex,this.dataTask=X_({count:lOe,reset:uOe}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(n,i);var o=Gc(this).sourceManager=new Zke(this);o.prepareSource();var s=this.getInitialData(n,i);mN(s,this),this.dataTask.context.data=s,Gc(this).dataBeforeProcessed=s,pN(this),this._initSelectedMapFromData(s)},t.prototype.mergeDefaultAndTheme=function(n,r){var i=V0(this),o=i?Sb(n):{},s=this.subType;gr.hasClass(s)&&(s+="Series"),ur(n,r.getTheme().get(this.subType)),ur(n,this.getDefaultOption()),TA(n,"label",["show"]),this.fillDataTextStyle(n.data),i&&Ig(n,o,i)},t.prototype.mergeOption=function(n,r){n=ur(this.option,n,!0),this.fillDataTextStyle(n.data);var i=V0(this);i&&Ig(this.option,n,i);var o=Gc(this).sourceManager;o.dirty(),o.prepareSource();var s=this.getInitialData(n,r);mN(s,this),this.dataTask.dirty(),this.dataTask.context.data=s,Gc(this).dataBeforeProcessed=s,pN(this),this._initSelectedMapFromData(s)},t.prototype.fillDataTextStyle=function(n){if(n&&!La(n))for(var r=["show"],i=0;i<n.length;i++)n[i]&&n[i].label&&TA(n[i],"label",r)},t.prototype.getInitialData=function(n,r){},t.prototype.appendData=function(n){var r=this.getRawData();r.appendData(n.data)},t.prototype.getData=function(n){var r=NA(this);if(r){var i=r.context.data;return n==null||!i.getLinkedData?i:i.getLinkedData(n)}else return Gc(this).data},t.prototype.getAllData=function(){var n=this.getData();return n&&n.getLinkedDataAll?n.getLinkedDataAll():[{data:n}]},t.prototype.setData=function(n){var r=NA(this);if(r){var i=r.context;i.outputData=n,r!==this.dataTask&&(i.data=n)}Gc(this).data=n},t.prototype.getEncode=function(){var n=this.get("encode",!0);if(n)return Dn(n)},t.prototype.getSourceManager=function(){return Gc(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return Gc(this).dataBeforeProcessed},t.prototype.getColorBy=function(){var n=this.get("colorBy");return n||"series"},t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},t.prototype.getBaseAxis=function(){var n=this.coordinateSystem;return n&&n.getBaseAxis&&n.getBaseAxis()},t.prototype.formatTooltip=function(n,r,i){return iOe({series:this,dataIndex:n,multipleSeries:r})},t.prototype.isAnimationEnabled=function(){var n=this.ecModel;if(Ln.node&&!(n&&n.ssr))return!1;var r=this.getShallow("animation");return r&&this.getData().count()>this.getShallow("animationThreshold")&&(r=!1),!!r},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(n,r,i){var o=this.ecModel,s=hR.prototype.getColorFromPalette.call(this,n,r,i);return s||(s=o.getColorFromPalette(n,r,i)),s},t.prototype.coordDimToDataDim=function(n){return this.getRawData().mapDimensionsAll(n)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(n,r){this._innerSelect(this.getData(r),n)},t.prototype.unselect=function(n,r){var i=this.option.selectedMap;if(i){var o=this.option.selectedMode,s=this.getData(r);if(o==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var a=0;a<n.length;a++){var c=n[a],h=$x(s,c);i[h]=!1,this._selectedDataIndicesMap[h]=-1}}},t.prototype.toggleSelect=function(n,r){for(var i=[],o=0;o<n.length;o++)i[0]=n[o],this.isSelected(n[o],r)?this.unselect(i,r):this.select(i,r)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var n=this._selectedDataIndicesMap,r=lr(n),i=[],o=0;o<r.length;o++){var s=n[r[o]];s>=0&&i.push(s)}return i},t.prototype.isSelected=function(n,r){var i=this.option.selectedMap;if(!i)return!1;var o=this.getData(r);return(i==="all"||i[$x(o,n)])&&!o.getItemModel(n).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[aOe])return!0;var n=this.option.universalTransition;return n?n===!0?!0:n&&n.enabled:!1},t.prototype._innerSelect=function(n,r){var i,o,s=this.option,a=s.selectedMode,c=r.length;if(!(!a||!c)){if(a==="series")s.selectedMap="all";else if(a==="multiple"){Pn(s.selectedMap)||(s.selectedMap={});for(var h=s.selectedMap,d=0;d<c;d++){var g=r[d],y=$x(n,g);h[y]=!0,this._selectedDataIndicesMap[y]=n.getRawIndex(g)}}else if(a==="single"||a===!0){var v=r[c-1],y=$x(n,v);s.selectedMap=(i={},i[y]=!0,i),this._selectedDataIndicesMap=(o={},o[y]=n.getRawIndex(v),o)}}},t.prototype._initSelectedMapFromData=function(n){if(!this.option.selectedMap){var r=[];n.hasItemOption&&n.each(function(i){var o=n.getRawDataItem(i);o&&o.selected&&r.push(i)}),r.length>0&&this._innerSelect(n,r)}},t.registerClass=function(n){return gr.registerClass(n)},t.protoInitialize=function(){var n=t.prototype;n.type="series.__base__",n.seriesIndex=0,n.ignoreStyleOnData=!1,n.hasSymbolVisual=!1,n.defaultSymbol="circle",n.visualStyleAccessPath="itemStyle",n.visualDrawType="fill"}(),t}(gr);gl(Ql,gR);gl(Ql,hR);QZ(Ql,gr);function pN(e){var t=e.name;UO(e)||(e.name=sOe(e)||t)}function sOe(e){var t=e.getRawData(),n=t.mapDimensionsAll("seriesName"),r=[];return Ne(n,function(i){var o=t.getDimensionInfo(i);o.displayName&&r.push(o.displayName)}),r.join(" ")}function lOe(e){return e.model.getRawData().count()}function uOe(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),cOe}function cOe(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function mN(e,t){Ne(oA(e.CHANGABLE_METHODS,e.DOWNSAMPLE_METHODS),function(n){e.wrapMethod(n,Qr(hOe,t))})}function hOe(e,t){var n=NA(e);return n&&n.setOutputEnd((t||this).count()),t}function NA(e){var t=(e.ecModel||{}).scheduler,n=t&&t.getPipeline(e.uid);if(n){var r=n.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(e.uid))}return r}}var ls=function(){function e(){this.group=new gi,this.uid=fC("viewComponent")}return e.prototype.init=function(t,n){},e.prototype.render=function(t,n,r,i){},e.prototype.dispose=function(t,n){},e.prototype.updateView=function(t,n,r,i){},e.prototype.updateLayout=function(t,n,r,i){},e.prototype.updateVisual=function(t,n,r,i){},e.prototype.toggleBlurSeries=function(t,n,r){},e.prototype.eachRendered=function(t){var n=this.group;n&&n.traverse(t)},e}();WO(ls);J2(ls);function yR(){var e=Ti();return function(t){var n=e(t),r=t.pipelineContext,i=!!n.large,o=!!n.progressiveRender,s=n.large=!!(r&&r.large),a=n.progressiveRender=!!(r&&r.progressiveRender);return(i!==s||o!==a)&&"reset"}}var xK=Ti(),dOe=yR(),Ns=function(){function e(){this.group=new gi,this.uid=fC("viewChart"),this.renderTask=X_({plan:fOe,reset:pOe}),this.renderTask.context={view:this}}return e.prototype.init=function(t,n){},e.prototype.render=function(t,n,r,i){},e.prototype.highlight=function(t,n,r,i){var o=t.getData(i&&i.dataType);o&&vN(o,i,"emphasis")},e.prototype.downplay=function(t,n,r,i){var o=t.getData(i&&i.dataType);o&&vN(o,i,"normal")},e.prototype.remove=function(t,n){this.group.removeAll()},e.prototype.dispose=function(t,n){},e.prototype.updateView=function(t,n,r,i){this.render(t,n,r,i)},e.prototype.updateLayout=function(t,n,r,i){this.render(t,n,r,i)},e.prototype.updateVisual=function(t,n,r,i){this.render(t,n,r,i)},e.prototype.eachRendered=function(t){cC(this.group,t)},e.markUpdateMethod=function(t,n){xK(t).updateMethod=n},e.protoInitialize=function(){var t=e.prototype;t.type="chart"}(),e}();function gN(e,t,n){e&&DA(e)&&(t==="emphasis"?L0:$0)(e,n)}function vN(e,t,n){var r=Nf(e,t),i=t&&t.highlightKey!=null?kAe(t.highlightKey):null;r!=null?Ne(_a(r),function(o){gN(e.getItemGraphicEl(o),n,i)}):e.eachItemGraphicEl(function(o){gN(o,n,i)})}WO(Ns);J2(Ns);function fOe(e){return dOe(e.model)}function pOe(e){var t=e.model,n=e.ecModel,r=e.api,i=e.payload,o=t.pipelineContext.progressiveRender,s=e.view,a=i&&xK(i).updateMethod,c=o?"incrementalPrepareRender":a&&s[a]?a:"render";return c!=="render"&&s[c](t,n,r,i),mOe[c]}var mOe={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},NS="\0__throttleOriginMethod",yN="\0__throttleRate",_N="\0__throttleType";function _R(e,t,n){var r,i=0,o=0,s=null,a,c,h,d;t=t||0;function g(){o=new Date().getTime(),s=null,e.apply(c,h||[])}var y=function(){for(var v=[],x=0;x<arguments.length;x++)v[x]=arguments[x];r=new Date().getTime(),c=this,h=v;var C=d||t,I=d||n;d=null,a=r-(I?i:o)-C,clearTimeout(s),I?s=setTimeout(g,C):a>=0?g():s=setTimeout(g,-a),i=r};return y.clear=function(){s&&(clearTimeout(s),s=null)},y.debounceNextCall=function(v){d=v},y}function wC(e,t,n,r){var i=e[t];if(i){var o=i[NS]||i,s=i[_N],a=i[yN];if(a!==n||s!==r){if(n==null||!r)return e[t]=o;i=e[t]=_R(o,n,r==="debounce"),i[NS]=o,i[_N]=r,i[yN]=n}return i}}function VS(e,t){var n=e[t];n&&n[NS]&&(n.clear&&n.clear(),e[t]=n[NS])}var bN=Ti(),xN={itemStyle:O0($q,!0),lineStyle:O0(Lq,!0)},gOe={lineStyle:"stroke",itemStyle:"fill"};function wK(e,t){var n=e.visualStyleMapper||xN[t];return n||(console.warn("Unknown style type '"+t+"'."),xN.itemStyle)}function SK(e,t){var n=e.visualDrawType||gOe[t];return n||(console.warn("Unknown style type '"+t+"'."),"fill")}var vOe={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData(),r=e.visualStyleAccessPath||"itemStyle",i=e.getModel(r),o=wK(e,r),s=o(i),a=i.getShallow("decal");a&&(n.setVisual("decal",a),a.dirty=!0);var c=SK(e,r),h=s[c],d=Sn(h)?h:null,g=s.fill==="auto"||s.stroke==="auto";if(!s[c]||d||g){var y=e.getColorFromPalette(e.name,null,t.getSeriesCount());s[c]||(s[c]=y,n.setVisual("colorFromPalette",!0)),s.fill=s.fill==="auto"||Sn(s.fill)?y:s.fill,s.stroke=s.stroke==="auto"||Sn(s.stroke)?y:s.stroke}if(n.setVisual("style",s),n.setVisual("drawType",c),!t.isSeriesFiltered(e)&&d)return n.setVisual("colorFromPalette",!1),{dataEach:function(v,x){var C=e.getDataParams(x),I=en({},s);I[c]=d(C),v.setItemVisual(x,"style",I)}}}},Zy=new xi,yOe={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!(e.ignoreStyleOnData||t.isSeriesFiltered(e))){var n=e.getData(),r=e.visualStyleAccessPath||"itemStyle",i=wK(e,r),o=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(s,a){var c=s.getRawDataItem(a);if(c&&c[r]){Zy.option=c[r];var h=i(Zy),d=s.ensureUniqueItemVisual(a,"style");en(d,h),Zy.option.decal&&(s.setItemVisual(a,"decal",Zy.option.decal),Zy.option.decal.dirty=!0),o in h&&s.setItemVisual(a,"colorFromPalette",!1)}}:null}}}},_Oe={performRawSeries:!0,overallReset:function(e){var t=Dn();e.eachSeries(function(n){var r=n.getColorBy();if(!n.isColorBySeries()){var i=n.type+"-"+r,o=t.get(i);o||(o={},t.set(i,o)),bN(n).scope=o}}),e.eachSeries(function(n){if(!(n.isColorBySeries()||e.isSeriesFiltered(n))){var r=n.getRawData(),i={},o=n.getData(),s=bN(n).scope,a=n.visualStyleAccessPath||"itemStyle",c=SK(n,a);o.each(function(h){var d=o.getRawIndex(h);i[d]=h}),r.each(function(h){var d=i[h],g=o.getItemVisual(d,"colorFromPalette");if(g){var y=o.ensureUniqueItemVisual(d,"style"),v=r.getName(h)||h+"",x=r.count();y[c]=n.getColorFromPalette(v,s,x)}})}})}},zx=Math.PI;function bOe(e,t){t=t||{},Er(t,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new gi,r=new Si({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});n.add(r);var i=new Mo({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),o=new Si({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});n.add(o);var s;return t.showSpinner&&(s=new lC({shape:{startAngle:-zx/2,endAngle:-zx/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),s.animateShape(!0).when(1e3,{endAngle:zx*3/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:zx*3/2}).delay(300).start("circularInOut"),n.add(s)),n.resize=function(){var a=i.getBoundingRect().width,c=t.showSpinner?t.spinnerRadius:0,h=(e.getWidth()-c*2-(t.showSpinner&&a?10:0)-a)/2-(t.showSpinner&&a?0:5+a/2)+(t.showSpinner?0:a/2)+(a?0:c),d=e.getHeight()/2;t.showSpinner&&s.setShape({cx:h,cy:d}),o.setShape({x:h-c,y:d-c,width:c*2,height:c*2}),r.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},n.resize(),n}var CK=function(){function e(t,n,r,i){this._stageTaskMap=Dn(),this.ecInstance=t,this.api=n,r=this._dataProcessorHandlers=r.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=r.concat(i)}return e.prototype.restoreData=function(t,n){t.restoreData(n),this._stageTaskMap.each(function(r){var i=r.overallTask;i&&i.dirty()})},e.prototype.getPerformArgs=function(t,n){if(t.__pipeline){var r=this._pipelineMap.get(t.__pipeline.id),i=r.context,o=!n&&r.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>r.blockIndex,s=o?r.step:null,a=i&&i.modDataCount,c=a!=null?Math.ceil(a/s):null;return{step:s,modBy:c,modDataCount:a}}},e.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},e.prototype.updateStreamModes=function(t,n){var r=this._pipelineMap.get(t.uid),i=t.getData(),o=i.count(),s=r.progressiveEnabled&&n.incrementalPrepareRender&&o>=r.threshold,a=t.get("large")&&o>=t.get("largeThreshold"),c=t.get("progressiveChunkMode")==="mod"?o:null;t.pipelineContext=r.context={progressiveRender:s,modDataCount:c,large:a}},e.prototype.restorePipelines=function(t){var n=this,r=n._pipelineMap=Dn();t.eachSeries(function(i){var o=i.getProgressive(),s=i.uid;r.set(s,{id:s,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:o&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(o||700),count:0}),n._pipe(i,i.dataTask)})},e.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,n=this.api.getModel(),r=this.api;Ne(this._allHandlers,function(i){var o=t.get(i.uid)||t.set(i.uid,{}),s="";hl(!(i.reset&&i.overallReset),s),i.reset&&this._createSeriesStageTask(i,o,n,r),i.overallReset&&this._createOverallStageTask(i,o,n,r)},this)},e.prototype.prepareView=function(t,n,r,i){var o=t.renderTask,s=o.context;s.model=n,s.ecModel=r,s.api=i,o.__block=!t.incrementalPrepareRender,this._pipe(n,o)},e.prototype.performDataProcessorTasks=function(t,n){this._performStageTasks(this._dataProcessorHandlers,t,n,{block:!0})},e.prototype.performVisualTasks=function(t,n,r){this._performStageTasks(this._visualHandlers,t,n,r)},e.prototype._performStageTasks=function(t,n,r,i){i=i||{};var o=!1,s=this;Ne(t,function(c,h){if(!(i.visualType&&i.visualType!==c.visualType)){var d=s._stageTaskMap.get(c.uid),g=d.seriesTaskMap,y=d.overallTask;if(y){var v,x=y.agentStubMap;x.each(function(I){a(i,I)&&(I.dirty(),v=!0)}),v&&y.dirty(),s.updatePayload(y,r);var C=s.getPerformArgs(y,i.block);x.each(function(I){I.perform(C)}),y.perform(C)&&(o=!0)}else g&&g.each(function(I,A){a(i,I)&&I.dirty();var k=s.getPerformArgs(I,i.block);k.skip=!c.performRawSeries&&n.isSeriesFiltered(I.context.model),s.updatePayload(I,r),I.perform(k)&&(o=!0)})}});function a(c,h){return c.setDirty&&(!c.dirtyMap||c.dirtyMap.get(h.__pipeline.id))}this.unfinished=o||this.unfinished},e.prototype.performSeriesTasks=function(t){var n;t.eachSeries(function(r){n=r.dataTask.perform()||n}),this.unfinished=n||this.unfinished},e.prototype.plan=function(){this._pipelineMap.each(function(t){var n=t.tail;do{if(n.__block){t.blockIndex=n.__idxInPipeline;break}n=n.getUpstream()}while(n)})},e.prototype.updatePayload=function(t,n){n!=="remain"&&(t.context.payload=n)},e.prototype._createSeriesStageTask=function(t,n,r,i){var o=this,s=n.seriesTaskMap,a=n.seriesTaskMap=Dn(),c=t.seriesType,h=t.getTargetSeries;t.createOnAllSeries?r.eachRawSeries(d):c?r.eachRawSeriesByType(c,d):h&&h(r,i).each(d);function d(g){var y=g.uid,v=a.set(y,s&&s.get(y)||X_({plan:TOe,reset:POe,count:IOe}));v.context={model:g,ecModel:r,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:o},o._pipe(g,v)}},e.prototype._createOverallStageTask=function(t,n,r,i){var o=this,s=n.overallTask=n.overallTask||X_({reset:xOe});s.context={ecModel:r,api:i,overallReset:t.overallReset,scheduler:o};var a=s.agentStubMap,c=s.agentStubMap=Dn(),h=t.seriesType,d=t.getTargetSeries,g=!0,y=!1,v="";hl(!t.createOnAllSeries,v),h?r.eachRawSeriesByType(h,x):d?d(r,i).each(x):(g=!1,Ne(r.getSeries(),x));function x(C){var I=C.uid,A=c.set(I,a&&a.get(I)||(y=!0,X_({reset:wOe,onDirty:COe})));A.context={model:C,overallProgress:g},A.agent=s,A.__block=g,o._pipe(C,A)}y&&s.dirty()},e.prototype._pipe=function(t,n){var r=t.uid,i=this._pipelineMap.get(r);!i.head&&(i.head=n),i.tail&&i.tail.pipe(n),i.tail=n,n.__idxInPipeline=i.count++,n.__pipeline=i},e.wrapStageHandler=function(t,n){return Sn(t)&&(t={overallReset:t,seriesType:MOe(t)}),t.uid=fC("stageHandler"),n&&(t.visualType=n),t},e}();function xOe(e){e.overallReset(e.ecModel,e.api,e.payload)}function wOe(e){return e.overallProgress&&SOe}function SOe(){this.agent.dirty(),this.getDownstream().dirty()}function COe(){this.agent&&this.agent.dirty()}function TOe(e){return e.plan?e.plan(e.model,e.ecModel,e.api,e.payload):null}function POe(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=_a(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?_n(t,function(n,r){return TK(r)}):EOe}var EOe=TK(0);function TK(e){return function(t,n){var r=n.data,i=n.resetDefines[e];if(i&&i.dataEach)for(var o=t.start;o<t.end;o++)i.dataEach(r,o);else i&&i.progress&&i.progress(t,r)}}function IOe(e){return e.data.count()}function MOe(e){jS=null;try{e(H0,PK)}catch{}return jS}var H0={},PK={},jS;EK(H0,dR);EK(PK,nK);H0.eachSeriesByType=H0.eachRawSeriesByType=function(e){jS=e};H0.eachComponent=function(e){e.mainType==="series"&&e.subType&&(jS=e.subType)};function EK(e,t){for(var n in t.prototype)e[n]=Qo}var wN=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const AOe={color:wN,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],wN]};var Ho="#B9B8CE",SN="#100C2A",Bx=function(){return{axisLine:{lineStyle:{color:Ho}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},CN=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],IK={darkMode:!0,color:CN,backgroundColor:SN,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Ho},pageTextStyle:{color:Ho}},textStyle:{color:Ho},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Ho}},dataZoom:{borderColor:"#71708A",textStyle:{color:Ho},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Ho}},timeline:{lineStyle:{color:Ho},label:{color:Ho},controlStyle:{color:Ho,borderColor:Ho}},calendar:{itemStyle:{color:SN},dayLabel:{color:Ho},monthLabel:{color:Ho},yearLabel:{color:Ho}},timeAxis:Bx(),logAxis:Bx(),valueAxis:Bx(),categoryAxis:Bx(),line:{symbol:"circle"},graph:{color:CN},gauge:{title:{color:Ho},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Ho},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};IK.categoryAxis.splitLine.show=!1;var DOe=function(){function e(){}return e.prototype.normalizeQuery=function(t){var n={},r={},i={};if(pn(t)){var o=Ul(t);n.mainType=o.main||null,n.subType=o.sub||null}else{var s=["Index","Name","Id"],a={name:1,dataIndex:1,dataType:1};Ne(t,function(c,h){for(var d=!1,g=0;g<s.length;g++){var y=s[g],v=h.lastIndexOf(y);if(v>0&&v===h.length-y.length){var x=h.slice(0,v);x!=="data"&&(n.mainType=x,n[y.toLowerCase()]=c,d=!0)}}a.hasOwnProperty(h)&&(r[h]=c,d=!0),d||(i[h]=c)})}return{cptQuery:n,dataQuery:r,otherQuery:i}},e.prototype.filter=function(t,n){var r=this.eventInfo;if(!r)return!0;var i=r.targetEl,o=r.packedEvent,s=r.model,a=r.view;if(!s||!a)return!0;var c=n.cptQuery,h=n.dataQuery;return d(c,s,"mainType")&&d(c,s,"subType")&&d(c,s,"index","componentIndex")&&d(c,s,"name")&&d(c,s,"id")&&d(h,o,"name")&&d(h,o,"dataIndex")&&d(h,o,"dataType")&&(!a.filterForExposedEvent||a.filterForExposedEvent(t,n.otherQuery,i,o));function d(g,y,v,x){return g[v]==null||y[x||v]===g[v]}},e.prototype.afterTrigger=function(){this.eventInfo=null},e}(),VA=["symbol","symbolSize","symbolRotate","symbolOffset"],TN=VA.concat(["symbolKeepAspect"]),kOe={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData();if(e.legendIcon&&n.setVisual("legendIcon",e.legendIcon),!e.hasSymbolVisual)return;for(var r={},i={},o=!1,s=0;s<VA.length;s++){var a=VA[s],c=e.get(a);Sn(c)?(o=!0,i[a]=c):r[a]=c}if(r.symbol=r.symbol||e.defaultSymbol,n.setVisual(en({legendIcon:e.legendIcon||r.symbol,symbolKeepAspect:e.get("symbolKeepAspect")},r)),t.isSeriesFiltered(e))return;var h=lr(i);function d(g,y){for(var v=e.getRawValue(y),x=e.getDataParams(y),C=0;C<h.length;C++){var I=h[C];g.setItemVisual(y,I,i[I](v,x))}}return{dataEach:o?d:null}}},OOe={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!e.hasSymbolVisual||t.isSeriesFiltered(e))return;var n=e.getData();function r(i,o){for(var s=i.getItemModel(o),a=0;a<TN.length;a++){var c=TN[a],h=s.getShallow(c,!0);h!=null&&i.setItemVisual(o,c,h)}}return{dataEach:n.hasItemOption?r:null}}};function ROe(e,t,n){switch(n){case"color":var r=e.getItemVisual(t,"style");return r[e.getVisual("drawType")];case"opacity":return e.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getItemVisual(t,n)}}function MK(e,t){switch(t){case"color":var n=e.getVisual("style");return n[e.getVisual("drawType")];case"opacity":return e.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getVisual(t)}}function dm(e,t,n,r,i){var o=e+t;n.isSilent(o)||r.eachComponent({mainType:"series",subType:"pie"},function(s){for(var a=s.seriesIndex,c=s.option.selectedMap,h=i.selected,d=0;d<h.length;d++)if(h[d].seriesIndex===a){var g=s.getData(),y=Nf(g,i.fromActionPayload);n.trigger(o,{type:o,seriesId:s.id,name:cn(y)?g.getName(y[0]):g.getName(y),selected:pn(c)?c:en({},c)})}})}function LOe(e,t,n){e.on("selectchanged",function(r){var i=n.getModel();r.isFromClick?(dm("map","selectchanged",t,i,r),dm("pie","selectchanged",t,i,r)):r.fromAction==="select"?(dm("map","selected",t,i,r),dm("pie","selected",t,i,r)):r.fromAction==="unselect"&&(dm("map","unselected",t,i,r),dm("pie","unselected",t,i,r))})}function b_(e,t,n){for(var r;e&&!(t(e)&&(r=e,n));)e=e.__hostTarget||e.parent;return r}var $Oe=Math.round(Math.random()*9),zOe=typeof Object.defineProperty=="function",BOe=function(){function e(){this._id="__ec_inner_"+$Oe++}return e.prototype.get=function(t){return this._guard(t)[this._id]},e.prototype.set=function(t,n){var r=this._guard(t);return zOe?Object.defineProperty(r,this._id,{value:n,enumerable:!1,configurable:!0}):r[this._id]=n,this},e.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},e.prototype.has=function(t){return!!this._guard(t)[this._id]},e.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},e}(),FOe=yr.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,r=t.cy,i=t.width/2,o=t.height/2;e.moveTo(n,r-o),e.lineTo(n+i,r+o),e.lineTo(n-i,r+o),e.closePath()}}),NOe=yr.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,r=t.cy,i=t.width/2,o=t.height/2;e.moveTo(n,r-o),e.lineTo(n+i,r),e.lineTo(n,r+o),e.lineTo(n-i,r),e.closePath()}}),VOe=yr.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,r=t.y,i=t.width/5*3,o=Math.max(i,t.height),s=i/2,a=s*s/(o-s),c=r-o+s+a,h=Math.asin(a/s),d=Math.cos(h)*s,g=Math.sin(h),y=Math.cos(h),v=s*.6,x=s*.7;e.moveTo(n-d,c+a),e.arc(n,c,s,Math.PI-h,Math.PI*2+h),e.bezierCurveTo(n+d-g*v,c+a+y*v,n,r-x,n,r),e.bezierCurveTo(n,r-x,n-d+g*v,c+a+y*v,n-d,c+a),e.closePath()}}),jOe=yr.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.height,r=t.width,i=t.x,o=t.y,s=r/3*2;e.moveTo(i,o),e.lineTo(i+s,o+n),e.lineTo(i,o+n/4*3),e.lineTo(i-s,o+n),e.lineTo(i,o),e.closePath()}}),HOe={line:ic,rect:Si,roundRect:Si,square:Si,circle:iC,diamond:NOe,pin:VOe,arrow:jOe,triangle:FOe},UOe={line:function(e,t,n,r,i){i.x1=e,i.y1=t+r/2,i.x2=e+n,i.y2=t+r/2},rect:function(e,t,n,r,i){i.x=e,i.y=t,i.width=n,i.height=r},roundRect:function(e,t,n,r,i){i.x=e,i.y=t,i.width=n,i.height=r,i.r=Math.min(n,r)/4},square:function(e,t,n,r,i){var o=Math.min(n,r);i.x=e,i.y=t,i.width=o,i.height=o},circle:function(e,t,n,r,i){i.cx=e+n/2,i.cy=t+r/2,i.r=Math.min(n,r)/2},diamond:function(e,t,n,r,i){i.cx=e+n/2,i.cy=t+r/2,i.width=n,i.height=r},pin:function(e,t,n,r,i){i.x=e+n/2,i.y=t+r/2,i.width=n,i.height=r},arrow:function(e,t,n,r,i){i.x=e+n/2,i.y=t+r/2,i.width=n,i.height=r},triangle:function(e,t,n,r,i){i.cx=e+n/2,i.cy=t+r/2,i.width=n,i.height=r}},HS={};Ne(HOe,function(e,t){HS[t]=new e});var GOe=yr.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,n){var r=NZ(e,t,n),i=this.shape;return i&&i.symbolType==="pin"&&t.position==="inside"&&(r.y=n.y+n.height*.4),r},buildPath:function(e,t,n){var r=t.symbolType;if(r!=="none"){var i=HS[r];i||(r="rect",i=HS[r]),UOe[r](t.x,t.y,t.width,t.height,i.shape),i.buildPath(e,i.shape,n)}}});function WOe(e,t){if(this.type!=="image"){var n=this.style;this.__isEmptyBrush?(n.stroke=e,n.fill=t||"#fff",n.lineWidth=2):this.shape.symbolType==="line"?n.stroke=e:n.fill=e,this.markRedraw()}}function dl(e,t,n,r,i,o,s){var a=e.indexOf("empty")===0;a&&(e=e.substr(5,1).toLowerCase()+e.substr(6));var c;return e.indexOf("image://")===0?c=Eq(e.slice(8),new dr(t,n,r,i),s?"center":"cover"):e.indexOf("path://")===0?c=nR(e.slice(7),{},new dr(t,n,r,i),s?"center":"cover"):c=new GOe({shape:{symbolType:e,x:t,y:n,width:r,height:i}}),c.__isEmptyBrush=a,c.setColor=WOe,o&&c.setColor(o),c}function bR(e){return cn(e)||(e=[+e,+e]),[e[0]||0,e[1]||0]}function SC(e,t){if(e!=null)return cn(e)||(e=[e,e]),[eo(e[0],t[0])||0,eo(Fn(e[1],e[0]),t[1])||0]}function df(e){return isFinite(e)}function ZOe(e,t,n){var r=t.x==null?0:t.x,i=t.x2==null?1:t.x2,o=t.y==null?0:t.y,s=t.y2==null?0:t.y2;t.global||(r=r*n.width+n.x,i=i*n.width+n.x,o=o*n.height+n.y,s=s*n.height+n.y),r=df(r)?r:0,i=df(i)?i:1,o=df(o)?o:0,s=df(s)?s:0;var a=e.createLinearGradient(r,o,i,s);return a}function qOe(e,t,n){var r=n.width,i=n.height,o=Math.min(r,i),s=t.x==null?.5:t.x,a=t.y==null?.5:t.y,c=t.r==null?.5:t.r;t.global||(s=s*r+n.x,a=a*i+n.y,c=c*o),s=df(s)?s:.5,a=df(a)?a:.5,c=c>=0&&df(c)?c:.5;var h=e.createRadialGradient(s,a,0,s,a,c);return h}function jA(e,t,n){for(var r=t.type==="radial"?qOe(e,t,n):ZOe(e,t,n),i=t.colorStops,o=0;o<i.length;o++)r.addColorStop(i[o].offset,i[o].color);return r}function KOe(e,t){if(e===t||!e&&!t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!0;return!1}function Fx(e){return parseInt(e,10)}function Rm(e,t,n){var r=["width","height"][t],i=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],s=["paddingRight","paddingBottom"][t];if(n[r]!=null&&n[r]!=="auto")return parseFloat(n[r]);var a=document.defaultView.getComputedStyle(e);return(e[i]||Fx(a[r])||Fx(e.style[r]))-(Fx(a[o])||0)-(Fx(a[s])||0)|0}function XOe(e,t){return!e||e==="solid"||!(t>0)?null:e==="dashed"?[4*t,2*t]:e==="dotted"?[t]:ti(e)?[e]:cn(e)?e:null}function xR(e){var t=e.style,n=t.lineDash&&t.lineWidth>0&&XOe(t.lineDash,t.lineWidth),r=t.lineDashOffset;if(n){var i=t.strokeNoScale&&e.getLineScale?e.getLineScale():1;i&&i!==1&&(n=_n(n,function(o){return o/i}),r/=i)}return[n,r]}var YOe=new Mh(!0);function US(e){var t=e.stroke;return!(t==null||t==="none"||!(e.lineWidth>0))}function PN(e){return typeof e=="string"&&e!=="none"}function GS(e){var t=e.fill;return t!=null&&t!=="none"}function EN(e,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var n=e.globalAlpha;e.globalAlpha=t.fillOpacity*t.opacity,e.fill(),e.globalAlpha=n}else e.fill()}function IN(e,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var n=e.globalAlpha;e.globalAlpha=t.strokeOpacity*t.opacity,e.stroke(),e.globalAlpha=n}else e.stroke()}function HA(e,t,n){var r=ZO(t.image,t.__image,n);if(Q2(r)){var i=e.createPattern(r,t.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var o=new DOMMatrix;o.translateSelf(t.x||0,t.y||0),o.rotateSelf(0,0,(t.rotation||0)*Tw),o.scaleSelf(t.scaleX||1,t.scaleY||1),i.setTransform(o)}return i}}function JOe(e,t,n,r){var i,o=US(n),s=GS(n),a=n.strokePercent,c=a<1,h=!t.path;(!t.silent||c)&&h&&t.createPathProxy();var d=t.path||YOe,g=t.__dirty;if(!r){var y=n.fill,v=n.stroke,x=s&&!!y.colorStops,C=o&&!!v.colorStops,I=s&&!!y.image,A=o&&!!v.image,k=void 0,R=void 0,z=void 0,V=void 0,U=void 0;(x||C)&&(U=t.getBoundingRect()),x&&(k=g?jA(e,y,U):t.__canvasFillGradient,t.__canvasFillGradient=k),C&&(R=g?jA(e,v,U):t.__canvasStrokeGradient,t.__canvasStrokeGradient=R),I&&(z=g||!t.__canvasFillPattern?HA(e,y,t):t.__canvasFillPattern,t.__canvasFillPattern=z),A&&(V=g||!t.__canvasStrokePattern?HA(e,v,t):t.__canvasStrokePattern,t.__canvasStrokePattern=z),x?e.fillStyle=k:I&&(z?e.fillStyle=z:s=!1),C?e.strokeStyle=R:A&&(V?e.strokeStyle=V:o=!1)}var N=t.getGlobalScale();d.setScale(N[0],N[1],t.segmentIgnoreThreshold);var W,X;e.setLineDash&&n.lineDash&&(i=xR(t),W=i[0],X=i[1]);var K=!0;(h||g&xm)&&(d.setDPR(e.dpr),c?d.setContext(null):(d.setContext(e),K=!1),d.reset(),t.buildPath(d,t.shape,r),d.toStatic(),t.pathUpdated()),K&&d.rebuildPath(e,c?a:1),W&&(e.setLineDash(W),e.lineDashOffset=X),r||(n.strokeFirst?(o&&IN(e,n),s&&EN(e,n)):(s&&EN(e,n),o&&IN(e,n))),W&&e.setLineDash([])}function QOe(e,t,n){var r=t.__image=ZO(n.image,t.__image,t,t.onload);if(!(!r||!Q2(r))){var i=n.x||0,o=n.y||0,s=t.getWidth(),a=t.getHeight(),c=r.width/r.height;if(s==null&&a!=null?s=a*c:a==null&&s!=null?a=s/c:s==null&&a==null&&(s=r.width,a=r.height),n.sWidth&&n.sHeight){var h=n.sx||0,d=n.sy||0;e.drawImage(r,h,d,n.sWidth,n.sHeight,i,o,s,a)}else if(n.sx&&n.sy){var h=n.sx,d=n.sy,g=s-h,y=a-d;e.drawImage(r,h,d,g,y,i,o,s,a)}else e.drawImage(r,i,o,s,a)}}function eRe(e,t,n){var r,i=n.text;if(i!=null&&(i+=""),i){e.font=n.font||Ih,e.textAlign=n.textAlign,e.textBaseline=n.textBaseline;var o=void 0,s=void 0;e.setLineDash&&n.lineDash&&(r=xR(t),o=r[0],s=r[1]),o&&(e.setLineDash(o),e.lineDashOffset=s),n.strokeFirst?(US(n)&&e.strokeText(i,n.x,n.y),GS(n)&&e.fillText(i,n.x,n.y)):(GS(n)&&e.fillText(i,n.x,n.y),US(n)&&e.strokeText(i,n.x,n.y)),o&&e.setLineDash([])}}var MN=["shadowBlur","shadowOffsetX","shadowOffsetY"],AN=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function AK(e,t,n,r,i){var o=!1;if(!r&&(n=n||{},t===n))return!1;if(r||t.opacity!==n.opacity){Ma(e,i),o=!0;var s=Math.max(Math.min(t.opacity,1),0);e.globalAlpha=isNaN(s)?Cf.opacity:s}(r||t.blend!==n.blend)&&(o||(Ma(e,i),o=!0),e.globalCompositeOperation=t.blend||Cf.blend);for(var a=0;a<MN.length;a++){var c=MN[a];(r||t[c]!==n[c])&&(o||(Ma(e,i),o=!0),e[c]=e.dpr*(t[c]||0))}return(r||t.shadowColor!==n.shadowColor)&&(o||(Ma(e,i),o=!0),e.shadowColor=t.shadowColor||Cf.shadowColor),o}function DN(e,t,n,r,i){var o=U0(t,i.inHover),s=r?null:n&&U0(n,i.inHover)||{};if(o===s)return!1;var a=AK(e,o,s,r,i);if((r||o.fill!==s.fill)&&(a||(Ma(e,i),a=!0),PN(o.fill)&&(e.fillStyle=o.fill)),(r||o.stroke!==s.stroke)&&(a||(Ma(e,i),a=!0),PN(o.stroke)&&(e.strokeStyle=o.stroke)),(r||o.opacity!==s.opacity)&&(a||(Ma(e,i),a=!0),e.globalAlpha=o.opacity==null?1:o.opacity),t.hasStroke()){var c=o.lineWidth,h=c/(o.strokeNoScale&&t.getLineScale?t.getLineScale():1);e.lineWidth!==h&&(a||(Ma(e,i),a=!0),e.lineWidth=h)}for(var d=0;d<AN.length;d++){var g=AN[d],y=g[0];(r||o[y]!==s[y])&&(a||(Ma(e,i),a=!0),e[y]=o[y]||g[1])}return a}function tRe(e,t,n,r,i){return AK(e,U0(t,i.inHover),n&&U0(n,i.inHover),r,i)}function DK(e,t){var n=t.transform,r=e.dpr||1;n?e.setTransform(r*n[0],r*n[1],r*n[2],r*n[3],r*n[4],r*n[5]):e.setTransform(r,0,0,r,0,0)}function nRe(e,t,n){for(var r=!1,i=0;i<e.length;i++){var o=e[i];r=r||o.isZeroArea(),DK(t,o),t.beginPath(),o.buildPath(t,o.shape),t.clip()}n.allClipped=r}function rRe(e,t){return e&&t?e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||e[4]!==t[4]||e[5]!==t[5]:!(!e&&!t)}var kN=1,ON=2,RN=3,LN=4;function iRe(e){var t=GS(e),n=US(e);return!(e.lineDash||!(+t^+n)||t&&typeof e.fill!="string"||n&&typeof e.stroke!="string"||e.strokePercent<1||e.strokeOpacity<1||e.fillOpacity<1)}function Ma(e,t){t.batchFill&&e.fill(),t.batchStroke&&e.stroke(),t.batchFill="",t.batchStroke=""}function U0(e,t){return t&&e.__hoverStyle||e.style}function kK(e,t){ff(e,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function ff(e,t,n,r){var i=t.transform;if(!t.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1)){t.__dirty&=~ts,t.__isRendered=!1;return}var o=t.__clipPaths,s=n.prevElClipPaths,a=!1,c=!1;if((!s||KOe(o,s))&&(s&&s.length&&(Ma(e,n),e.restore(),c=a=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),o&&o.length&&(Ma(e,n),e.save(),nRe(o,e,n),a=!0),n.prevElClipPaths=o),n.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var h=n.prevEl;h||(c=a=!0);var d=t instanceof yr&&t.autoBatch&&iRe(t.style);a||rRe(i,h.transform)?(Ma(e,n),DK(e,t)):d||Ma(e,n);var g=U0(t,n.inHover);t instanceof yr?(n.lastDrawType!==kN&&(c=!0,n.lastDrawType=kN),DN(e,t,h,c,n),(!d||!n.batchFill&&!n.batchStroke)&&e.beginPath(),JOe(e,t,g,d),d&&(n.batchFill=g.fill||"",n.batchStroke=g.stroke||"")):t instanceof R0?(n.lastDrawType!==RN&&(c=!0,n.lastDrawType=RN),DN(e,t,h,c,n),eRe(e,t,g)):t instanceof ru?(n.lastDrawType!==ON&&(c=!0,n.lastDrawType=ON),tRe(e,t,h,c,n),QOe(e,t,g)):t.getTemporalDisplayables&&(n.lastDrawType!==LN&&(c=!0,n.lastDrawType=LN),oRe(e,t,n)),d&&r&&Ma(e,n),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),n.prevEl=t,t.__dirty=0,t.__isRendered=!0}function oRe(e,t,n){var r=t.getDisplayables(),i=t.getTemporalDisplayables();e.save();var o={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover},s,a;for(s=t.getCursor(),a=r.length;s<a;s++){var c=r[s];c.beforeBrush&&c.beforeBrush(),c.innerBeforeBrush(),ff(e,c,o,s===a-1),c.innerAfterBrush(),c.afterBrush&&c.afterBrush(),o.prevEl=c}for(var h=0,d=i.length;h<d;h++){var c=i[h];c.beforeBrush&&c.beforeBrush(),c.innerBeforeBrush(),ff(e,c,o,h===d-1),c.innerAfterBrush(),c.afterBrush&&c.afterBrush(),o.prevEl=c}t.clearTemporalDisplayables(),t.notClear=!0,e.restore()}var UE=new BOe,$N=new vb(100),zN=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function UA(e,t){if(e==="none")return null;var n=t.getDevicePixelRatio(),r=t.getZr(),i=r.painter.type==="svg";e.dirty&&UE.delete(e);var o=UE.get(e);if(o)return o;var s=Er(e,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});s.backgroundColor==="none"&&(s.backgroundColor=null);var a={repeat:"repeat"};return c(a),a.rotation=s.rotation,a.scaleX=a.scaleY=i?1:1/n,UE.set(e,a),e.dirty=!1,a;function c(h){for(var d=[n],g=!0,y=0;y<zN.length;++y){var v=s[zN[y]];if(v!=null&&!cn(v)&&!pn(v)&&!ti(v)&&typeof v!="boolean"){g=!1;break}d.push(v)}var x;if(g){x=d.join(",")+(i?"-svg":"");var C=$N.get(x);C&&(i?h.svgElement=C:h.image=C)}var I=RK(s.dashArrayX),A=aRe(s.dashArrayY),k=OK(s.symbol),R=sRe(I),z=LK(A),V=!i&&Ug.createCanvas(),U=i&&{tag:"g",attrs:{},key:"dcl",children:[]},N=X(),W;V&&(V.width=N.width*n,V.height=N.height*n,W=V.getContext("2d")),K(),g&&$N.put(x,V||U),h.image=V,h.svgElement=U,h.svgWidth=N.width,h.svgHeight=N.height;function X(){for(var te=1,ae=0,me=R.length;ae<me;++ae)te=K6(te,R[ae]);for(var we=1,ae=0,me=k.length;ae<me;++ae)we=K6(we,k[ae].length);te*=we;var se=z*R.length*k.length;return{width:Math.max(1,Math.min(te,s.maxTileWidth)),height:Math.max(1,Math.min(se,s.maxTileHeight))}}function K(){W&&(W.clearRect(0,0,V.width,V.height),s.backgroundColor&&(W.fillStyle=s.backgroundColor,W.fillRect(0,0,V.width,V.height)));for(var te=0,ae=0;ae<A.length;++ae)te+=A[ae];if(te<=0)return;for(var me=-z,we=0,se=0,ue=0;me<N.height;){if(we%2===0){for(var Te=se/2%k.length,Be=0,ke=0,rt=0;Be<N.width*2;){for(var ot=0,ae=0;ae<I[ue].length;++ae)ot+=I[ue][ae];if(ot<=0)break;if(ke%2===0){var tt=(1-s.symbolSize)*.5,It=Be+I[ue][ke]*tt,Bt=me+A[we]*tt,Lt=I[ue][ke]*s.symbolSize,Yt=A[we]*s.symbolSize,ze=rt/2%k[Te].length;ut(It,Bt,Lt,Yt,k[Te][ze])}Be+=I[ue][ke],++rt,++ke,ke===I[ue].length&&(ke=0)}++ue,ue===I.length&&(ue=0)}me+=A[we],++se,++we,we===A.length&&(we=0)}function ut(Re,Ve,Le,Ye,pe){var ye=i?1:n,Ze=dl(pe,Re*ye,Ve*ye,Le*ye,Ye*ye,s.color,s.symbolKeepAspect);if(i){var ht=r.painter.renderOneToVNode(Ze);ht&&U.children.push(ht)}else kK(W,Ze)}}}}function OK(e){if(!e||e.length===0)return[["rect"]];if(pn(e))return[[e]];for(var t=!0,n=0;n<e.length;++n)if(!pn(e[n])){t=!1;break}if(t)return OK([e]);for(var r=[],n=0;n<e.length;++n)pn(e[n])?r.push([e[n]]):r.push(e[n]);return r}function RK(e){if(!e||e.length===0)return[[0,0]];if(ti(e)){var t=Math.ceil(e);return[[t,t]]}for(var n=!0,r=0;r<e.length;++r)if(!ti(e[r])){n=!1;break}if(n)return RK([e]);for(var i=[],r=0;r<e.length;++r)if(ti(e[r])){var t=Math.ceil(e[r]);i.push([t,t])}else{var t=_n(e[r],function(a){return Math.ceil(a)});t.length%2===1?i.push(t.concat(t)):i.push(t)}return i}function aRe(e){if(!e||typeof e=="object"&&e.length===0)return[0,0];if(ti(e)){var t=Math.ceil(e);return[t,t]}var n=_n(e,function(r){return Math.ceil(r)});return e.length%2?n.concat(n):n}function sRe(e){return _n(e,function(t){return LK(t)})}function LK(e){for(var t=0,n=0;n<e.length;++n)t+=e[n];return e.length%2===1?t*2:t}function lRe(e,t){e.eachRawSeries(function(n){if(!e.isSeriesFiltered(n)){var r=n.getData();r.hasItemVisual()&&r.each(function(s){var a=r.getItemVisual(s,"decal");if(a){var c=r.ensureUniqueItemVisual(s,"style");c.decal=UA(a,t)}});var i=r.getVisual("decal");if(i){var o=r.getVisual("style");o.decal=UA(i,t)}}})}var rl=new vl,$K={};function uRe(e,t){$K[e]=t}function cRe(e){return $K[e]}var hRe=1,dRe=800,fRe=900,pRe=1e3,mRe=2e3,gRe=5e3,zK=1e3,vRe=1100,wR=2e3,BK=3e3,yRe=4e3,CC=4500,_Re=4600,bRe=5e3,xRe=6e3,FK=7e3,wRe={PROCESSOR:{FILTER:pRe,SERIES_FILTER:dRe,STATISTIC:gRe},VISUAL:{LAYOUT:zK,PROGRESSIVE_LAYOUT:vRe,GLOBAL:wR,CHART:BK,POST_CHART_LAYOUT:_Re,COMPONENT:yRe,BRUSH:bRe,CHART_ITEM:CC,ARIA:xRe,DECAL:FK}},jo="__flagInMainProcess",Pa="__pendingUpdate",GE="__needsUpdateStatus",BN=/^[a-zA-Z0-9_]+$/,WE="__connectUpdateStatus",FN=0,SRe=1,CRe=2;function NK(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.isDisposed()){this.id;return}return jK(this,e,t)}}function VK(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return jK(this,e,t)}}function jK(e,t,n){return n[0]=n[0]&&n[0].toLowerCase(),vl.prototype[t].apply(e,n)}var HK=function(e){Xt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(vl),UK=HK.prototype;UK.on=VK("on");UK.off=VK("off");var fm,ZE,Nx,Wc,qE,KE,XE,qy,Ky,NN,VN,YE,jN,Vx,HN,GK,Cs,UN,WK=function(e){Xt(t,e);function t(n,r,i){var o=e.call(this,new DOe)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},o._pendingActions=[],i=i||{},pn(r)&&(r=ZK[r]),o._dom=n;var s="canvas",a="auto",c=!1;i.ssr&&XIe(function(y){var v=sr(y),x=v.dataIndex;if(x!=null){var C=Dn();return C.set("series_index",v.seriesIndex),C.set("data_index",x),v.ssrType&&C.set("ssr_type",v.ssrType),C}});var h=o._zr=Z6(n,{renderer:i.renderer||s,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:Fn(i.useDirtyRect,c),useCoarsePointer:Fn(i.useCoarsePointer,a),pointerSize:i.pointerSize});o._ssr=i.ssr,o._throttledZrFlush=_R(zn(h.flush,h),17),r=er(r),r&&iK(r,!0),o._theme=r,o._locale=FDe(i.locale||zq),o._coordSysMgr=new fR;var d=o._api=HN(o);function g(y,v){return y.__prio-v.__prio}return Pw(ZS,g),Pw(GA,g),o._scheduler=new CK(o,d,GA,ZS),o._messageCenter=new HK,o._initEvents(),o.resize=zn(o.resize,o),h.animation.on("frame",o._onframe,o),NN(h,o),VN(h,o),iA(o),o}return t.prototype._onframe=function(){if(!this._disposed){UN(this);var n=this._scheduler;if(this[Pa]){var r=this[Pa].silent;this[jo]=!0;try{fm(this),Wc.update.call(this,null,this[Pa].updateParams)}catch(c){throw this[jo]=!1,this[Pa]=null,c}this._zr.flush(),this[jo]=!1,this[Pa]=null,qy.call(this,r),Ky.call(this,r)}else if(n.unfinished){var i=hRe,o=this._model,s=this._api;n.unfinished=!1;do{var a=+new Date;n.performSeriesTasks(o),n.performDataProcessorTasks(o),KE(this,o),n.performVisualTasks(o),Vx(this,this._model,s,"remain",{}),i-=+new Date-a}while(i>0&&n.unfinished);n.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(n,r,i){if(!this[jo]){if(this._disposed){this.id;return}var o,s,a;if(Pn(r)&&(i=r.lazyUpdate,o=r.silent,s=r.replaceMerge,a=r.transition,r=r.notMerge),this[jo]=!0,!this._model||r){var c=new dke(this._api),h=this._theme,d=this._model=new dR;d.scheduler=this._scheduler,d.ssr=this._ssr,d.init(null,null,null,h,this._locale,c)}this._model.setOption(n,{replaceMerge:s},WA);var g={seriesTransition:a,optionChanged:!0};if(i)this[Pa]={silent:o,updateParams:g},this[jo]=!1,this.getZr().wakeUp();else{try{fm(this),Wc.update.call(this,null,g)}catch(y){throw this[Pa]=null,this[jo]=!1,y}this._ssr||this._zr.flush(),this[Pa]=null,this[jo]=!1,qy.call(this,o),Ky.call(this,o)}}},t.prototype.setTheme=function(){},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Ln.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(n){return this.renderToCanvas(n)},t.prototype.renderToCanvas=function(n){n=n||{};var r=this._zr.painter;return r.getRenderedCanvas({backgroundColor:n.backgroundColor||this._model.get("backgroundColor"),pixelRatio:n.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(n){n=n||{};var r=this._zr.painter;return r.renderToString({useViewBox:n.useViewBox})},t.prototype.getSvgDataURL=function(){if(Ln.svgSupported){var n=this._zr,r=n.storage.getDisplayList();return Ne(r,function(i){i.stopAnimation(null,!0)}),n.painter.toDataURL()}},t.prototype.getDataURL=function(n){if(this._disposed){this.id;return}n=n||{};var r=n.excludeComponents,i=this._model,o=[],s=this;Ne(r,function(c){i.eachComponent({mainType:c},function(h){var d=s._componentsMap[h.__viewId];d.group.ignore||(o.push(d),d.group.ignore=!0)})});var a=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(n).toDataURL("image/"+(n&&n.type||"png"));return Ne(o,function(c){c.group.ignore=!1}),a},t.prototype.getConnectedDataURL=function(n){if(this._disposed){this.id;return}var r=n.type==="svg",i=this.group,o=Math.min,s=Math.max,a=1/0;if(GN[i]){var c=a,h=a,d=-a,g=-a,y=[],v=n&&n.pixelRatio||this.getDevicePixelRatio();Ne(J_,function(R,z){if(R.group===i){var V=r?R.getZr().painter.getSvgDom().innerHTML:R.renderToCanvas(er(n)),U=R.getDom().getBoundingClientRect();c=o(U.left,c),h=o(U.top,h),d=s(U.right,d),g=s(U.bottom,g),y.push({dom:V,left:U.left,top:U.top})}}),c*=v,h*=v,d*=v,g*=v;var x=d-c,C=g-h,I=Ug.createCanvas(),A=Z6(I,{renderer:r?"svg":"canvas"});if(A.resize({width:x,height:C}),r){var k="";return Ne(y,function(R){var z=R.left-c,V=R.top-h;k+='<g transform="translate('+z+","+V+')">'+R.dom+"</g>"}),A.painter.getSvgRoot().innerHTML=k,n.connectedBackgroundColor&&A.painter.setBackgroundColor(n.connectedBackgroundColor),A.refreshImmediately(),A.painter.toDataURL()}else return n.connectedBackgroundColor&&A.add(new Si({shape:{x:0,y:0,width:x,height:C},style:{fill:n.connectedBackgroundColor}})),Ne(y,function(R){var z=new ru({style:{x:R.left*v-c,y:R.top*v-h,image:R.dom}});A.add(z)}),A.refreshImmediately(),I.toDataURL("image/"+(n&&n.type||"png"))}else return this.getDataURL(n)},t.prototype.convertToPixel=function(n,r){return qE(this,"convertToPixel",n,r)},t.prototype.convertFromPixel=function(n,r){return qE(this,"convertFromPixel",n,r)},t.prototype.containPixel=function(n,r){if(this._disposed){this.id;return}var i=this._model,o,s=vE(i,n);return Ne(s,function(a,c){c.indexOf("Models")>=0&&Ne(a,function(h){var d=h.coordinateSystem;if(d&&d.containPoint)o=o||!!d.containPoint(r);else if(c==="seriesModels"){var g=this._chartsMap[h.__viewId];g&&g.containPoint&&(o=o||g.containPoint(r,h))}},this)},this),!!o},t.prototype.getVisual=function(n,r){var i=this._model,o=vE(i,n,{defaultMainType:"series"}),s=o.seriesModel,a=s.getData(),c=o.hasOwnProperty("dataIndexInside")?o.dataIndexInside:o.hasOwnProperty("dataIndex")?a.indexOfRawIndex(o.dataIndex):null;return c!=null?ROe(a,c,r):MK(a,r)},t.prototype.getViewOfComponentModel=function(n){return this._componentsMap[n.__viewId]},t.prototype.getViewOfSeriesModel=function(n){return this._chartsMap[n.__viewId]},t.prototype._initEvents=function(){var n=this;Ne(TRe,function(r){var i=function(o){var s=n.getModel(),a=o.target,c,h=r==="globalout";if(h?c={}:a&&b_(a,function(x){var C=sr(x);if(C&&C.dataIndex!=null){var I=C.dataModel||s.getSeriesByIndex(C.seriesIndex);return c=I&&I.getDataParams(C.dataIndex,C.dataType,a)||{},!0}else if(C.eventData)return c=en({},C.eventData),!0},!0),c){var d=c.componentType,g=c.componentIndex;(d==="markLine"||d==="markPoint"||d==="markArea")&&(d="series",g=c.seriesIndex);var y=d&&g!=null&&s.getComponent(d,g),v=y&&n[y.mainType==="series"?"_chartsMap":"_componentsMap"][y.__viewId];c.event=o,c.type=r,n._$eventProcessor.eventInfo={targetEl:a,packedEvent:c,model:y,view:v},n.trigger(r,c)}};i.zrEventfulCallAtLast=!0,n._zr.on(r,i,n)}),Ne(Y_,function(r,i){n._messageCenter.on(i,function(o){this.trigger(i,o)},n)}),Ne(["selectchanged"],function(r){n._messageCenter.on(r,function(i){this.trigger(r,i)},n)}),LOe(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var n=this.getDom();n&&YZ(this.getDom(),CR,"");var r=this,i=r._api,o=r._model;Ne(r._componentsViews,function(s){s.dispose(o,i)}),Ne(r._chartsViews,function(s){s.dispose(o,i)}),r._zr.dispose(),r._dom=r._model=r._chartsMap=r._componentsMap=r._chartsViews=r._componentsViews=r._scheduler=r._api=r._zr=r._throttledZrFlush=r._theme=r._coordSysMgr=r._messageCenter=null,delete J_[r.id]},t.prototype.resize=function(n){if(!this[jo]){if(this._disposed){this.id;return}this._zr.resize(n);var r=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!r){var i=r.resetOption("media"),o=n&&n.silent;this[Pa]&&(o==null&&(o=this[Pa].silent),i=!0,this[Pa]=null),this[jo]=!0;try{i&&fm(this),Wc.update.call(this,{type:"resize",animation:en({duration:0},n&&n.animation)})}catch(s){throw this[jo]=!1,s}this[jo]=!1,qy.call(this,o),Ky.call(this,o)}}},t.prototype.showLoading=function(n,r){if(this._disposed){this.id;return}if(Pn(n)&&(r=n,n=""),n=n||"default",this.hideLoading(),!!ZA[n]){var i=ZA[n](this._api,r),o=this._zr;this._loadingFX=i,o.add(i)}},t.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},t.prototype.makeActionFromEvent=function(n){var r=en({},n);return r.type=Y_[n.type],r},t.prototype.dispatchAction=function(n,r){if(this._disposed){this.id;return}if(Pn(r)||(r={silent:!!r}),!!WS[n.type]&&this._model){if(this[jo]){this._pendingActions.push(n);return}var i=r.silent;XE.call(this,n,i);var o=r.flush;o?this._zr.flush():o!==!1&&Ln.browser.weChat&&this._throttledZrFlush(),qy.call(this,i),Ky.call(this,i)}},t.prototype.updateLabelLayout=function(){rl.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(n){if(this._disposed){this.id;return}var r=n.seriesIndex,i=this.getModel(),o=i.getSeriesByIndex(r);o.appendData(n),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=function(){fm=function(g){var y=g._scheduler;y.restorePipelines(g._model),y.prepareStageTasks(),ZE(g,!0),ZE(g,!1),y.plan()},ZE=function(g,y){for(var v=g._model,x=g._scheduler,C=y?g._componentsViews:g._chartsViews,I=y?g._componentsMap:g._chartsMap,A=g._zr,k=g._api,R=0;R<C.length;R++)C[R].__alive=!1;y?v.eachComponent(function(U,N){U!=="series"&&z(N)}):v.eachSeries(z);function z(U){var N=U.__requireNewView;U.__requireNewView=!1;var W="_ec_"+U.id+"_"+U.type,X=!N&&I[W];if(!X){var K=Ul(U.type),te=y?ls.getClass(K.main,K.sub):Ns.getClass(K.sub);X=new te,X.init(v,k),I[W]=X,C.push(X),A.add(X.group)}U.__viewId=X.__id=W,X.__alive=!0,X.__model=U,X.group.__ecComponentInfo={mainType:U.mainType,index:U.componentIndex},!y&&x.prepareView(X,U,v,k)}for(var R=0;R<C.length;){var V=C[R];V.__alive?R++:(!y&&V.renderTask.dispose(),A.remove(V.group),V.dispose(v,k),C.splice(R,1),I[V.__id]===V&&delete I[V.__id],V.__id=V.group.__ecComponentInfo=null)}},Nx=function(g,y,v,x,C){var I=g._model;if(I.setUpdatePayload(v),!x){Ne([].concat(g._componentsViews).concat(g._chartsViews),V);return}var A={};A[x+"Id"]=v[x+"Id"],A[x+"Index"]=v[x+"Index"],A[x+"Name"]=v[x+"Name"];var k={mainType:x,query:A};C&&(k.subType=C);var R=v.excludeSeriesId,z;R!=null&&(z=Dn(),Ne(_a(R),function(U){var N=ql(U,null);N!=null&&z.set(N,!0)})),I&&I.eachComponent(k,function(U){var N=z&&z.get(U.id)!=null;if(!N)if(CF(v))if(U instanceof Ql)v.type===Tf&&!v.notBlur&&!U.get(["emphasis","disabled"])&&CAe(U,v,g._api);else{var W=JO(U.mainType,U.componentIndex,v.name,g._api),X=W.focusSelf,K=W.dispatchers;v.type===Tf&&X&&!v.notBlur&&AA(U.mainType,U.componentIndex,g._api),K&&Ne(K,function(te){v.type===Tf?L0(te):$0(te)})}else kA(v)&&U instanceof Ql&&(EAe(U,v,g._api),xF(U),Cs(g))},g),I&&I.eachComponent(k,function(U){var N=z&&z.get(U.id)!=null;N||V(g[x==="series"?"_chartsMap":"_componentsMap"][U.__viewId])},g);function V(U){U&&U.__alive&&U[y]&&U[y](U.__model,I,g._api,v)}},Wc={prepareAndUpdate:function(g){fm(this),Wc.update.call(this,g,{optionChanged:g.newOption!=null})},update:function(g,y){var v=this._model,x=this._api,C=this._zr,I=this._coordSysMgr,A=this._scheduler;if(v){v.setUpdatePayload(g),A.restoreData(v,g),A.performSeriesTasks(v),I.create(v,x),A.performDataProcessorTasks(v,g),KE(this,v),I.update(v,x),n(v),A.performVisualTasks(v,g),YE(this,v,x,g,y);var k=v.get("backgroundColor")||"transparent",R=v.get("darkMode");C.setBackgroundColor(k),R!=null&&R!=="auto"&&C.setDarkMode(R),rl.trigger("afterupdate",v,x)}},updateTransform:function(g){var y=this,v=this._model,x=this._api;if(v){v.setUpdatePayload(g);var C=[];v.eachComponent(function(A,k){if(A!=="series"){var R=y.getViewOfComponentModel(k);if(R&&R.__alive)if(R.updateTransform){var z=R.updateTransform(k,v,x,g);z&&z.update&&C.push(R)}else C.push(R)}});var I=Dn();v.eachSeries(function(A){var k=y._chartsMap[A.__viewId];if(k.updateTransform){var R=k.updateTransform(A,v,x,g);R&&R.update&&I.set(A.uid,1)}else I.set(A.uid,1)}),n(v),this._scheduler.performVisualTasks(v,g,{setDirty:!0,dirtyMap:I}),Vx(this,v,x,g,{},I),rl.trigger("afterupdate",v,x)}},updateView:function(g){var y=this._model;y&&(y.setUpdatePayload(g),Ns.markUpdateMethod(g,"updateView"),n(y),this._scheduler.performVisualTasks(y,g,{setDirty:!0}),YE(this,y,this._api,g,{}),rl.trigger("afterupdate",y,this._api))},updateVisual:function(g){var y=this,v=this._model;v&&(v.setUpdatePayload(g),v.eachSeries(function(x){x.getData().clearAllVisual()}),Ns.markUpdateMethod(g,"updateVisual"),n(v),this._scheduler.performVisualTasks(v,g,{visualType:"visual",setDirty:!0}),v.eachComponent(function(x,C){if(x!=="series"){var I=y.getViewOfComponentModel(C);I&&I.__alive&&I.updateVisual(C,v,y._api,g)}}),v.eachSeries(function(x){var C=y._chartsMap[x.__viewId];C.updateVisual(x,v,y._api,g)}),rl.trigger("afterupdate",v,this._api))},updateLayout:function(g){Wc.update.call(this,g)}},qE=function(g,y,v,x){if(g._disposed){g.id;return}for(var C=g._model,I=g._coordSysMgr.getCoordinateSystems(),A,k=vE(C,v),R=0;R<I.length;R++){var z=I[R];if(z[y]&&(A=z[y](C,k,x))!=null)return A}},KE=function(g,y){var v=g._chartsMap,x=g._scheduler;y.eachSeries(function(C){x.updateStreamModes(C,v[C.__viewId])})},XE=function(g,y){var v=this,x=this.getModel(),C=g.type,I=g.escapeConnect,A=WS[C],k=A.actionInfo,R=(k.update||"update").split(":"),z=R.pop(),V=R[0]!=null&&Ul(R[0]);this[jo]=!0;var U=[g],N=!1;g.batch&&(N=!0,U=_n(g.batch,function(we){return we=Er(en({},we),g),we.batch=null,we}));var W=[],X,K=kA(g),te=CF(g);if(te&&vq(this._api),Ne(U,function(we){if(X=A.action(we,v._model,v._api),X=X||en({},we),X.type=k.event||X.type,W.push(X),te){var se=GO(g),ue=se.queryOptionMap,Te=se.mainTypeSpecified,Be=Te?ue.keys()[0]:"series";Nx(v,z,we,Be),Cs(v)}else K?(Nx(v,z,we,"series"),Cs(v)):V&&Nx(v,z,we,V.main,V.sub)}),z!=="none"&&!te&&!K&&!V)try{this[Pa]?(fm(this),Wc.update.call(this,g),this[Pa]=null):Wc[z].call(this,g)}catch(we){throw this[jo]=!1,we}if(N?X={type:k.event||C,escapeConnect:I,batch:W}:X=W[0],this[jo]=!1,!y){var ae=this._messageCenter;if(ae.trigger(X.type,X),K){var me={type:"selectchanged",escapeConnect:I,selected:IAe(x),isFromClick:g.isFromClick||!1,fromAction:g.type,fromActionPayload:g};ae.trigger(me.type,me)}}},qy=function(g){for(var y=this._pendingActions;y.length;){var v=y.shift();XE.call(this,v,g)}},Ky=function(g){!g&&this.trigger("updated")},NN=function(g,y){g.on("rendered",function(v){y.trigger("rendered",v),g.animation.isFinished()&&!y[Pa]&&!y._scheduler.unfinished&&!y._pendingActions.length&&y.trigger("finished")})},VN=function(g,y){g.on("mouseover",function(v){var x=v.target,C=b_(x,DA);C&&(TAe(C,v,y._api),Cs(y))}).on("mouseout",function(v){var x=v.target,C=b_(x,DA);C&&(PAe(C,v,y._api),Cs(y))}).on("click",function(v){var x=v.target,C=b_(x,function(k){return sr(k).dataIndex!=null},!0);if(C){var I=C.selected?"unselect":"select",A=sr(C);y._api.dispatchAction({type:I,dataType:A.dataType,dataIndexInside:A.dataIndex,seriesIndex:A.seriesIndex,isFromClick:!0})}})};function n(g){g.clearColorPalette(),g.eachSeries(function(y){y.clearColorPalette()})}function r(g){var y=[],v=[],x=!1;if(g.eachComponent(function(k,R){var z=R.get("zlevel")||0,V=R.get("z")||0,U=R.getZLevelKey();x=x||!!U,(k==="series"?v:y).push({zlevel:z,z:V,idx:R.componentIndex,type:k,key:U})}),x){var C=y.concat(v),I,A;Pw(C,function(k,R){return k.zlevel===R.zlevel?k.z-R.z:k.zlevel-R.zlevel}),Ne(C,function(k){var R=g.getComponent(k.type,k.idx),z=k.zlevel,V=k.key;I!=null&&(z=Math.max(I,z)),V?(z===I&&V!==A&&z++,A=V):A&&(z===I&&z++,A=""),I=z,R.setZLevel(z)})}}YE=function(g,y,v,x,C){r(y),jN(g,y,v,x,C),Ne(g._chartsViews,function(I){I.__alive=!1}),Vx(g,y,v,x,C),Ne(g._chartsViews,function(I){I.__alive||I.remove(y,v)})},jN=function(g,y,v,x,C,I){Ne(I||g._componentsViews,function(A){var k=A.__model;h(k,A),A.render(k,y,v,x),a(k,A),d(k,A)})},Vx=function(g,y,v,x,C,I){var A=g._scheduler;C=en(C||{},{updatedSeries:y.getSeries()}),rl.trigger("series:beforeupdate",y,v,C);var k=!1;y.eachSeries(function(R){var z=g._chartsMap[R.__viewId];z.__alive=!0;var V=z.renderTask;A.updatePayload(V,x),h(R,z),I&&I.get(R.uid)&&V.dirty(),V.perform(A.getPerformArgs(V))&&(k=!0),z.group.silent=!!R.get("silent"),s(R,z),xF(R)}),A.unfinished=k||A.unfinished,rl.trigger("series:layoutlabels",y,v,C),rl.trigger("series:transition",y,v,C),y.eachSeries(function(R){var z=g._chartsMap[R.__viewId];a(R,z),d(R,z)}),o(g,y),rl.trigger("series:afterupdate",y,v,C)},Cs=function(g){g[GE]=!0,g.getZr().wakeUp()},UN=function(g){g[GE]&&(g.getZr().storage.traverse(function(y){Z_(y)||i(y)}),g[GE]=!1)};function i(g){for(var y=[],v=g.currentStates,x=0;x<v.length;x++){var C=v[x];C==="emphasis"||C==="blur"||C==="select"||y.push(C)}g.selected&&g.states.select&&y.push("select"),g.hoverState===nC&&g.states.emphasis?y.push("emphasis"):g.hoverState===tC&&g.states.blur&&y.push("blur"),g.useStates(y)}function o(g,y){var v=g._zr,x=v.storage,C=0;x.traverse(function(I){I.isGroup||C++}),C>y.get("hoverLayerThreshold")&&!Ln.node&&!Ln.worker&&y.eachSeries(function(I){if(!I.preventUsingHoverLayer){var A=g._chartsMap[I.__viewId];A.__alive&&A.eachRendered(function(k){k.states.emphasis&&(k.states.emphasis.hoverLayer=!0)})}})}function s(g,y){var v=g.get("blendMode")||null;y.eachRendered(function(x){x.isGroup||(x.style.blend=v)})}function a(g,y){if(!g.preventAutoZ){var v=g.get("z")||0,x=g.get("zlevel")||0;y.eachRendered(function(C){return c(C,v,x,-1/0),!0})}}function c(g,y,v,x){var C=g.getTextContent(),I=g.getTextGuideLine(),A=g.isGroup;if(A)for(var k=g.childrenRef(),R=0;R<k.length;R++)x=Math.max(c(k[R],y,v,x),x);else g.z=y,g.zlevel=v,x=Math.max(g.z2,x);if(C&&(C.z=y,C.zlevel=v,isFinite(x)&&(C.z2=x+2)),I){var z=g.textGuideLineConfig;I.z=y,I.zlevel=v,isFinite(x)&&(I.z2=x+(z&&z.showAbove?1:-1))}return x}function h(g,y){y.eachRendered(function(v){if(!Z_(v)){var x=v.getTextContent(),C=v.getTextGuideLine();v.stateTransition&&(v.stateTransition=null),x&&x.stateTransition&&(x.stateTransition=null),C&&C.stateTransition&&(C.stateTransition=null),v.hasState()?(v.prevStates=v.currentStates,v.clearStates()):v.prevStates&&(v.prevStates=null)}})}function d(g,y){var v=g.getModel("stateAnimation"),x=g.isAnimationEnabled(),C=v.get("duration"),I=C>0?{duration:C,delay:v.get("delay"),easing:v.get("easing")}:null;y.eachRendered(function(A){if(A.states&&A.states.emphasis){if(Z_(A))return;if(A instanceof yr&&OAe(A),A.__dirty){var k=A.prevStates;k&&A.useStates(k)}if(x){A.stateTransition=I;var R=A.getTextContent(),z=A.getTextGuideLine();R&&(R.stateTransition=I),z&&(z.stateTransition=I)}A.__dirty&&i(A)}})}HN=function(g){return new(function(y){Xt(v,y);function v(){return y!==null&&y.apply(this,arguments)||this}return v.prototype.getCoordinateSystems=function(){return g._coordSysMgr.getCoordinateSystems()},v.prototype.getComponentByElement=function(x){for(;x;){var C=x.__ecComponentInfo;if(C!=null)return g._model.getComponent(C.mainType,C.index);x=x.parent}},v.prototype.enterEmphasis=function(x,C){L0(x,C),Cs(g)},v.prototype.leaveEmphasis=function(x,C){$0(x,C),Cs(g)},v.prototype.enterBlur=function(x){fq(x),Cs(g)},v.prototype.leaveBlur=function(x){YO(x),Cs(g)},v.prototype.enterSelect=function(x){pq(x),Cs(g)},v.prototype.leaveSelect=function(x){mq(x),Cs(g)},v.prototype.getModel=function(){return g.getModel()},v.prototype.getViewOfComponentModel=function(x){return g.getViewOfComponentModel(x)},v.prototype.getViewOfSeriesModel=function(x){return g.getViewOfSeriesModel(x)},v}(nK))(g)},GK=function(g){function y(v,x){for(var C=0;C<v.length;C++){var I=v[C];I[WE]=x}}Ne(Y_,function(v,x){g._messageCenter.on(x,function(C){if(GN[g.group]&&g[WE]!==FN){if(C&&C.escapeConnect)return;var I=g.makeActionFromEvent(C),A=[];Ne(J_,function(k){k!==g&&k.group===g.group&&A.push(k)}),y(A,FN),Ne(A,function(k){k[WE]!==SRe&&k.dispatchAction(I)}),y(A,CRe)}})})}}(),t}(vl),SR=WK.prototype;SR.on=NK("on");SR.off=NK("off");SR.one=function(e,t,n){var r=this;function i(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];t&&t.apply&&t.apply(this,o),r.off(e,i)}this.on.call(this,e,i,n)};var TRe=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var WS={},Y_={},GA=[],WA=[],ZS=[],ZK={},ZA={},J_={},GN={},PRe=+new Date-0,CR="_echarts_instance_";function ERe(e,t,n){var r=!(n&&n.ssr);if(r){var i=IRe(e);if(i)return i}var o=new WK(e,t,n);return o.id="ec_"+PRe++,J_[o.id]=o,r&&YZ(e,CR,o.id),GK(o),rl.trigger("afterinit",o),o}function IRe(e){return J_[gMe(e,CR)]}function qK(e,t){ZK[e]=t}function KK(e){hr(WA,e)<0&&WA.push(e)}function XK(e,t){PR(GA,e,t,mRe)}function MRe(e){TR("afterinit",e)}function ARe(e){TR("afterupdate",e)}function TR(e,t){rl.on(e,t)}function Jf(e,t,n){Sn(t)&&(n=t,t="");var r=Pn(e)?e.type:[e,e={event:t}][0];e.event=(e.event||r).toLowerCase(),t=e.event,!Y_[t]&&(hl(BN.test(r)&&BN.test(t)),WS[r]||(WS[r]={action:n,actionInfo:e}),Y_[t]=r)}function DRe(e,t){fR.register(e,t)}function kRe(e,t){PR(ZS,e,t,zK,"layout")}function Qf(e,t){PR(ZS,e,t,BK,"visual")}var WN=[];function PR(e,t,n,r,i){if((Sn(t)||Pn(t))&&(n=t,t=r),!(hr(WN,n)>=0)){WN.push(n);var o=CK.wrapStageHandler(n,i);o.__prio=t,o.__raw=n,e.push(o)}}function YK(e,t){ZA[e]=t}function ORe(e,t,n){var r=cRe("registerMap");r&&r(e,t,n)}var RRe=Vke;Qf(wR,vOe);Qf(CC,yOe);Qf(CC,_Oe);Qf(wR,kOe);Qf(CC,OOe);Qf(FK,lRe);KK(iK);XK(fRe,Cke);YK("default",bOe);Jf({type:Tf,event:Tf,update:Tf},Qo);Jf({type:kw,event:kw,update:kw},Qo);Jf({type:U_,event:U_,update:U_},Qo);Jf({type:Ow,event:Ow,update:Ow},Qo);Jf({type:G_,event:G_,update:G_},Qo);qK("light",AOe);qK("dark",IK);function Xy(e){return e==null?0:e.length||1}function ZN(e){return e}var LRe=function(){function e(t,n,r,i,o,s){this._old=t,this._new=n,this._oldKeyGetter=r||ZN,this._newKeyGetter=i||ZN,this.context=o,this._diffModeMultiple=s==="multiple"}return e.prototype.add=function(t){return this._add=t,this},e.prototype.update=function(t){return this._update=t,this},e.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},e.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},e.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},e.prototype.remove=function(t){return this._remove=t,this},e.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},e.prototype._executeOneToOne=function(){var t=this._old,n=this._new,r={},i=new Array(t.length),o=new Array(n.length);this._initIndexMap(t,null,i,"_oldKeyGetter"),this._initIndexMap(n,r,o,"_newKeyGetter");for(var s=0;s<t.length;s++){var a=i[s],c=r[a],h=Xy(c);if(h>1){var d=c.shift();c.length===1&&(r[a]=c[0]),this._update&&this._update(d,s)}else h===1?(r[a]=null,this._update&&this._update(c,s)):this._remove&&this._remove(s)}this._performRestAdd(o,r)},e.prototype._executeMultiple=function(){var t=this._old,n=this._new,r={},i={},o=[],s=[];this._initIndexMap(t,r,o,"_oldKeyGetter"),this._initIndexMap(n,i,s,"_newKeyGetter");for(var a=0;a<o.length;a++){var c=o[a],h=r[c],d=i[c],g=Xy(h),y=Xy(d);if(g>1&&y===1)this._updateManyToOne&&this._updateManyToOne(d,h),i[c]=null;else if(g===1&&y>1)this._updateOneToMany&&this._updateOneToMany(d,h),i[c]=null;else if(g===1&&y===1)this._update&&this._update(d,h),i[c]=null;else if(g>1&&y>1)this._updateManyToMany&&this._updateManyToMany(d,h),i[c]=null;else if(g>1)for(var v=0;v<g;v++)this._remove&&this._remove(h[v]);else this._remove&&this._remove(h)}this._performRestAdd(s,i)},e.prototype._performRestAdd=function(t,n){for(var r=0;r<t.length;r++){var i=t[r],o=n[i],s=Xy(o);if(s>1)for(var a=0;a<s;a++)this._add&&this._add(o[a]);else s===1&&this._add&&this._add(o);n[i]=null}},e.prototype._initIndexMap=function(t,n,r,i){for(var o=this._diffModeMultiple,s=0;s<t.length;s++){var a="_ec_"+this[i](t[s],s);if(o||(r[s]=a),!!n){var c=n[a],h=Xy(c);h===0?(n[a]=s,o&&r.push(a)):h===1?n[a]=[c,s]:c.push(s)}}},e}(),$Re=function(){function e(t,n){this._encode=t,this._schema=n}return e.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},e.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},e}();function zRe(e,t){var n={},r=n.encode={},i=Dn(),o=[],s=[],a={};Ne(e.dimensions,function(y){var v=e.getDimensionInfo(y),x=v.coordDim;if(x){var C=v.coordDimIndex;JE(r,x)[C]=y,v.isExtraCoord||(i.set(x,1),FRe(v.type)&&(o[0]=y),JE(a,x)[C]=e.getDimensionIndex(v.name)),v.defaultTooltip&&s.push(y)}Yq.each(function(I,A){var k=JE(r,A),R=v.otherDims[A];R!=null&&R!==!1&&(k[R]=v.name)})});var c=[],h={};i.each(function(y,v){var x=r[v];h[v]=x[0],c=c.concat(x)}),n.dataDimsOnCoord=c,n.dataDimIndicesOnCoord=_n(c,function(y){return e.getDimensionInfo(y).storeDimIndex}),n.encodeFirstDimNotExtra=h;var d=r.label;d&&d.length&&(o=d.slice());var g=r.tooltip;return g&&g.length?s=g.slice():s.length||(s=o.slice()),r.defaultedLabel=o,r.defaultedTooltip=s,n.userOutput=new $Re(a,t),n}function JE(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function BRe(e){return e==="category"?"ordinal":e==="time"?"time":"float"}function FRe(e){return!(e==="ordinal"||e==="time")}var $w=function(){function e(t){this.otherDims={},t!=null&&en(this,t)}return e}(),NRe=Ti(),VRe={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},JK=function(){function e(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return e.prototype.isDimensionOmitted=function(){return this._dimOmitted},e.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=tX(this.source)))},e.prototype.getSourceDimensionIndex=function(t){return Fn(this._dimNameMap.get(t),-1)},e.prototype.getSourceDimension=function(t){var n=this.source.dimensionsDefine;if(n)return n[t]},e.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,n=sK(this.source),r=!nX(t),i="",o=[],s=0,a=0;s<t;s++){var c=void 0,h=void 0,d=void 0,g=this.dimensions[a];if(g&&g.storeDimIndex===s)c=n?g.name:null,h=g.type,d=g.ordinalMeta,a++;else{var y=this.getSourceDimension(s);y&&(c=n?y.name:null,h=y.type)}o.push({property:c,type:h,ordinalMeta:d}),n&&c!=null&&(!g||!g.isCalculationCoord)&&(i+=r?c.replace(/\`/g,"`1").replace(/\$/g,"`2"):c),i+="$",i+=VRe[h]||"f",d&&(i+=d.uid),i+="$"}var v=this.source,x=[v.seriesLayoutBy,v.startIndex,i].join("$$");return{dimensions:o,hash:x}},e.prototype.makeOutputDimensionNames=function(){for(var t=[],n=0,r=0;n<this._fullDimCount;n++){var i=void 0,o=this.dimensions[r];if(o&&o.storeDimIndex===n)o.isCalculationCoord||(i=o.name),r++;else{var s=this.getSourceDimension(n);s&&(i=s.name)}t.push(i)}return t},e.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},e}();function QK(e){return e instanceof JK}function eX(e){for(var t=Dn(),n=0;n<(e||[]).length;n++){var r=e[n],i=Pn(r)?r.name:r;i!=null&&t.get(i)==null&&t.set(i,n)}return t}function tX(e){var t=NRe(e);return t.dimNameMap||(t.dimNameMap=eX(e.dimensionsDefine))}function nX(e){return e>30}var Yy=Pn,Zc=_n,jRe=typeof Int32Array>"u"?Array:Int32Array,HRe="e\0\0",qN=-1,URe=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],GRe=["_approximateExtent"],KN,jx,Jy,Qy,QE,e_,eI,ER=function(){function e(t,n){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var r,i=!1;QK(t)?(r=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(i=!0,r=t),r=r||["x","y"];for(var o={},s=[],a={},c=!1,h={},d=0;d<r.length;d++){var g=r[d],y=pn(g)?new $w({name:g}):g instanceof $w?g:new $w(g),v=y.name;y.type=y.type||"float",y.coordDim||(y.coordDim=v,y.coordDimIndex=0);var x=y.otherDims=y.otherDims||{};s.push(v),o[v]=y,h[v]!=null&&(c=!0),y.createInvertedIndices&&(a[v]=[]),x.itemName===0&&(this._nameDimIdx=d),x.itemId===0&&(this._idDimIdx=d),i&&(y.storeDimIndex=d)}if(this.dimensions=s,this._dimInfos=o,this._initGetDimensionInfo(c),this.hostModel=n,this._invertedIndicesMap=a,this._dimOmitted){var C=this._dimIdxToName=Dn();Ne(s,function(I){C.set(o[I].storeDimIndex,I)})}}return e.prototype.getDimension=function(t){var n=this._recognizeDimIndex(t);if(n==null)return t;if(n=t,!this._dimOmitted)return this.dimensions[n];var r=this._dimIdxToName.get(n);if(r!=null)return r;var i=this._schema.getSourceDimension(n);if(i)return i.name},e.prototype.getDimensionIndex=function(t){var n=this._recognizeDimIndex(t);if(n!=null)return n;if(t==null)return-1;var r=this._getDimInfo(t);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},e.prototype._recognizeDimIndex=function(t){if(ti(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},e.prototype._getStoreDimIndex=function(t){var n=this.getDimensionIndex(t);return n},e.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},e.prototype._initGetDimensionInfo=function(t){var n=this._dimInfos;this._getDimInfo=t?function(r){return n.hasOwnProperty(r)?n[r]:void 0}:function(r){return n[r]}},e.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},e.prototype.mapDimension=function(t,n){var r=this._dimSummary;if(n==null)return r.encodeFirstDimNotExtra[t];var i=r.encode[t];return i?i[n]:null},e.prototype.mapDimensionsAll=function(t){var n=this._dimSummary,r=n.encode[t];return(r||[]).slice()},e.prototype.getStore=function(){return this._store},e.prototype.initData=function(t,n,r){var i=this,o;if(t instanceof zA&&(o=t),!o){var s=this.dimensions,a=pR(t)||Ra(t)?new lK(t,s.length):t;o=new zA;var c=Zc(s,function(h){return{type:i._dimInfos[h].type,property:h}});o.initData(a,c,r)}this._store=o,this._nameList=(n||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,o.count()),this._dimSummary=zRe(this,this._schema),this.userOutput=this._dimSummary.userOutput},e.prototype.appendData=function(t){var n=this._store.appendData(t);this._doInit(n[0],n[1])},e.prototype.appendValues=function(t,n){var r=this._store.appendValues(t,n&&n.length),i=r.start,o=r.end,s=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),n)for(var a=i;a<o;a++){var c=a-i;this._nameList[a]=n[c],s&&eI(this,a)}},e.prototype._updateOrdinalMeta=function(){for(var t=this._store,n=this.dimensions,r=0;r<n.length;r++){var i=this._dimInfos[n[r]];i.ordinalMeta&&t.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},e.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==_h&&!t.fillStorage},e.prototype._doInit=function(t,n){if(!(t>=n)){var r=this._store,i=r.getProvider();this._updateOrdinalMeta();var o=this._nameList,s=this._idList,a=i.getSource().sourceFormat,c=a===Gs;if(c&&!i.pure)for(var h=[],d=t;d<n;d++){var g=i.getItem(d,h);if(!this.hasItemOption&&iMe(g)&&(this.hasItemOption=!0),g){var y=g.name;o[d]==null&&y!=null&&(o[d]=ql(y,null));var v=g.id;s[d]==null&&v!=null&&(s[d]=ql(v,null))}}if(this._shouldMakeIdFromName())for(var d=t;d<n;d++)eI(this,d);KN(this)}},e.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},e.prototype.setApproximateExtent=function(t,n){n=this.getDimension(n),this._approximateExtent[n]=t.slice()},e.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},e.prototype.setCalculationInfo=function(t,n){Yy(t)?en(this._calculationInfo,t):this._calculationInfo[t]=n},e.prototype.getName=function(t){var n=this.getRawIndex(t),r=this._nameList[n];return r==null&&this._nameDimIdx!=null&&(r=Jy(this,this._nameDimIdx,n)),r==null&&(r=""),r},e.prototype._getCategory=function(t,n){var r=this._store.get(t,n),i=this._store.getOrdinalMeta(t);return i?i.categories[r]:r},e.prototype.getId=function(t){return jx(this,this.getRawIndex(t))},e.prototype.count=function(){return this._store.count()},e.prototype.get=function(t,n){var r=this._store,i=this._dimInfos[t];if(i)return r.get(i.storeDimIndex,n)},e.prototype.getByRawIndex=function(t,n){var r=this._store,i=this._dimInfos[t];if(i)return r.getByRawIndex(i.storeDimIndex,n)},e.prototype.getIndices=function(){return this._store.getIndices()},e.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},e.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},e.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},e.prototype.getValues=function(t,n){var r=this,i=this._store;return cn(t)?i.getValues(Zc(t,function(o){return r._getStoreDimIndex(o)}),n):i.getValues(t)},e.prototype.hasValue=function(t){for(var n=this._dimSummary.dataDimIndicesOnCoord,r=0,i=n.length;r<i;r++)if(isNaN(this._store.get(n[r],t)))return!1;return!0},e.prototype.indexOfName=function(t){for(var n=0,r=this._store.count();n<r;n++)if(this.getName(n)===t)return n;return-1},e.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},e.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},e.prototype.rawIndexOf=function(t,n){var r=t&&this._invertedIndicesMap[t],i=r&&r[n];return i==null||isNaN(i)?qN:i},e.prototype.indicesOfNearest=function(t,n,r){return this._store.indicesOfNearest(this._getStoreDimIndex(t),n,r)},e.prototype.each=function(t,n,r){Sn(t)&&(r=n,n=t,t=[]);var i=r||this,o=Zc(Qy(t),this._getStoreDimIndex,this);this._store.each(o,i?zn(n,i):n)},e.prototype.filterSelf=function(t,n,r){Sn(t)&&(r=n,n=t,t=[]);var i=r||this,o=Zc(Qy(t),this._getStoreDimIndex,this);return this._store=this._store.filter(o,i?zn(n,i):n),this},e.prototype.selectRange=function(t){var n=this,r={},i=lr(t);return Ne(i,function(o){var s=n._getStoreDimIndex(o);r[s]=t[o]}),this._store=this._store.selectRange(r),this},e.prototype.mapArray=function(t,n,r){Sn(t)&&(r=n,n=t,t=[]),r=r||this;var i=[];return this.each(t,function(){i.push(n&&n.apply(this,arguments))},r),i},e.prototype.map=function(t,n,r,i){var o=r||i||this,s=Zc(Qy(t),this._getStoreDimIndex,this),a=e_(this);return a._store=this._store.map(s,o?zn(n,o):n),a},e.prototype.modify=function(t,n,r,i){var o=r||i||this,s=Zc(Qy(t),this._getStoreDimIndex,this);this._store.modify(s,o?zn(n,o):n)},e.prototype.downSample=function(t,n,r,i){var o=e_(this);return o._store=this._store.downSample(this._getStoreDimIndex(t),n,r,i),o},e.prototype.minmaxDownSample=function(t,n){var r=e_(this);return r._store=this._store.minmaxDownSample(this._getStoreDimIndex(t),n),r},e.prototype.lttbDownSample=function(t,n){var r=e_(this);return r._store=this._store.lttbDownSample(this._getStoreDimIndex(t),n),r},e.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},e.prototype.getItemModel=function(t){var n=this.hostModel,r=this.getRawDataItem(t);return new xi(r,n,n&&n.ecModel)},e.prototype.diff=function(t){var n=this;return new LRe(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(r){return jx(t,r)},function(r){return jx(n,r)})},e.prototype.getVisual=function(t){var n=this._visual;return n&&n[t]},e.prototype.setVisual=function(t,n){this._visual=this._visual||{},Yy(t)?en(this._visual,t):this._visual[t]=n},e.prototype.getItemVisual=function(t,n){var r=this._itemVisuals[t],i=r&&r[n];return i??this.getVisual(n)},e.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},e.prototype.ensureUniqueItemVisual=function(t,n){var r=this._itemVisuals,i=r[t];i||(i=r[t]={});var o=i[n];return o==null&&(o=this.getVisual(n),cn(o)?o=o.slice():Yy(o)&&(o=en({},o)),i[n]=o),o},e.prototype.setItemVisual=function(t,n,r){var i=this._itemVisuals[t]||{};this._itemVisuals[t]=i,Yy(n)?en(i,n):i[n]=r},e.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},e.prototype.setLayout=function(t,n){Yy(t)?en(this._layout,t):this._layout[t]=n},e.prototype.getLayout=function(t){return this._layout[t]},e.prototype.getItemLayout=function(t){return this._itemLayouts[t]},e.prototype.setItemLayout=function(t,n,r){this._itemLayouts[t]=r?en(this._itemLayouts[t]||{},n):n},e.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},e.prototype.setItemGraphicEl=function(t,n){var r=this.hostModel&&this.hostModel.seriesIndex;pAe(r,this.dataType,t,n),this._graphicEls[t]=n},e.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},e.prototype.eachItemGraphicEl=function(t,n){Ne(this._graphicEls,function(r,i){r&&t&&t.call(n,r,i)})},e.prototype.cloneShallow=function(t){return t||(t=new e(this._schema?this._schema:Zc(this.dimensions,this._getDimInfo,this),this.hostModel)),QE(t,this),t._store=this._store,t},e.prototype.wrapMethod=function(t,n){var r=this[t];Sn(r)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var i=r.apply(this,arguments);return n.apply(this,[i].concat(kO(arguments)))})},e.internalField=function(){KN=function(t){var n=t._invertedIndicesMap;Ne(n,function(r,i){var o=t._dimInfos[i],s=o.ordinalMeta,a=t._store;if(s){r=n[i]=new jRe(s.categories.length);for(var c=0;c<r.length;c++)r[c]=qN;for(var c=0;c<a.count();c++)r[a.get(o.storeDimIndex,c)]=c}})},Jy=function(t,n,r){return ql(t._getCategory(n,r),null)},jx=function(t,n){var r=t._idList[n];return r==null&&t._idDimIdx!=null&&(r=Jy(t,t._idDimIdx,n)),r==null&&(r=HRe+n),r},Qy=function(t){return cn(t)||(t=t!=null?[t]:[]),t},e_=function(t){var n=new e(t._schema?t._schema:Zc(t.dimensions,t._getDimInfo,t),t.hostModel);return QE(n,t),n},QE=function(t,n){Ne(URe.concat(n.__wrappedMethods||[]),function(r){n.hasOwnProperty(r)&&(t[r]=n[r])}),t.__wrappedMethods=n.__wrappedMethods,Ne(GRe,function(r){t[r]=er(n[r])}),t._calculationInfo=en({},n._calculationInfo)},eI=function(t,n){var r=t._nameList,i=t._idList,o=t._nameDimIdx,s=t._idDimIdx,a=r[n],c=i[n];if(a==null&&o!=null&&(r[n]=a=Jy(t,o,n)),c==null&&s!=null&&(i[n]=c=Jy(t,s,n)),c==null&&a!=null){var h=t._nameRepeatCount,d=h[a]=(h[a]||0)+1;c=a,d>1&&(c+="__ec__"+d),i[n]=c}}}(),e}();function WRe(e,t){pR(e)||(e=oK(e)),t=t||{};var n=t.coordDimensions||[],r=t.dimensionsDefine||e.dimensionsDefine||[],i=Dn(),o=[],s=qRe(e,n,r,t.dimensionsCount),a=t.canOmitUnusedDimensions&&nX(s),c=r===e.dimensionsDefine,h=c?tX(e):eX(r),d=t.encodeDefine;!d&&t.encodeDefaulter&&(d=t.encodeDefaulter(e,s));for(var g=Dn(d),y=new fK(s),v=0;v<y.length;v++)y[v]=-1;function x(X){var K=y[X];if(K<0){var te=r[X],ae=Pn(te)?te:{name:te},me=new $w,we=ae.name;we!=null&&h.get(we)!=null&&(me.name=me.displayName=we),ae.type!=null&&(me.type=ae.type),ae.displayName!=null&&(me.displayName=ae.displayName);var se=o.length;return y[X]=se,me.storeDimIndex=X,o.push(me),me}return o[K]}if(!a)for(var v=0;v<s;v++)x(v);g.each(function(X,K){var te=_a(X).slice();if(te.length===1&&!pn(te[0])&&te[0]<0){g.set(K,!1);return}var ae=g.set(K,[]);Ne(te,function(me,we){var se=pn(me)?h.get(me):me;se!=null&&se<s&&(ae[we]=se,I(x(se),K,we))})});var C=0;Ne(n,function(X){var K,te,ae,me;if(pn(X))K=X,me={};else{me=X,K=me.name;var we=me.ordinalMeta;me.ordinalMeta=null,me=en({},me),me.ordinalMeta=we,te=me.dimsDef,ae=me.otherDims,me.name=me.coordDim=me.coordDimIndex=me.dimsDef=me.otherDims=null}var se=g.get(K);if(se!==!1){if(se=_a(se),!se.length)for(var ue=0;ue<(te&&te.length||1);ue++){for(;C<s&&x(C).coordDim!=null;)C++;C<s&&se.push(C++)}Ne(se,function(Te,Be){var ke=x(Te);if(c&&me.type!=null&&(ke.type=me.type),I(Er(ke,me),K,Be),ke.name==null&&te){var rt=te[Be];!Pn(rt)&&(rt={name:rt}),ke.name=ke.displayName=rt.name,ke.defaultTooltip=rt.defaultTooltip}ae&&Er(ke.otherDims,ae)})}});function I(X,K,te){Yq.get(K)!=null?X.otherDims[K]=te:(X.coordDim=K,X.coordDimIndex=te,i.set(K,!0))}var A=t.generateCoord,k=t.generateCoordCount,R=k!=null;k=A?k||1:0;var z=A||"value";function V(X){X.name==null&&(X.name=X.coordDim)}if(a)Ne(o,function(X){V(X)}),o.sort(function(X,K){return X.storeDimIndex-K.storeDimIndex});else for(var U=0;U<s;U++){var N=x(U),W=N.coordDim;W==null&&(N.coordDim=KRe(z,i,R),N.coordDimIndex=0,(!A||k<=0)&&(N.isExtraCoord=!0),k--),V(N),N.type==null&&(tK(e,U)===Ya.Must||N.isExtraCoord&&(N.otherDims.itemName!=null||N.otherDims.seriesName!=null))&&(N.type="ordinal")}return ZRe(o),new JK({source:e,dimensions:o,fullDimensionCount:s,dimensionOmitted:a})}function ZRe(e){for(var t=Dn(),n=0;n<e.length;n++){var r=e[n],i=r.name,o=t.get(i)||0;o>0&&(r.name=i+(o-1)),o++,t.set(i,o)}}function qRe(e,t,n,r){var i=Math.max(e.dimensionsDetectedCount||1,t.length,n.length,r||0);return Ne(t,function(o){var s;Pn(o)&&(s=o.dimsDef)&&(i=Math.max(i,s.length))}),i}function KRe(e,t,n){if(n||t.hasKey(e)){for(var r=0;t.hasKey(e+r);)r++;e+=r}return t.set(e,!0),e}var XRe=function(){function e(t){this.coordSysDims=[],this.axisMap=Dn(),this.categoryAxisMap=Dn(),this.coordSysName=t}return e}();function YRe(e){var t=e.get("coordinateSystem"),n=new XRe(t),r=JRe[t];if(r)return r(e,n,n.axisMap,n.categoryAxisMap),n}var JRe={cartesian2d:function(e,t,n,r){var i=e.getReferringComponents("xAxis",Aa).models[0],o=e.getReferringComponents("yAxis",Aa).models[0];t.coordSysDims=["x","y"],n.set("x",i),n.set("y",o),pm(i)&&(r.set("x",i),t.firstCategoryDimIndex=0),pm(o)&&(r.set("y",o),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,n,r){var i=e.getReferringComponents("singleAxis",Aa).models[0];t.coordSysDims=["single"],n.set("single",i),pm(i)&&(r.set("single",i),t.firstCategoryDimIndex=0)},polar:function(e,t,n,r){var i=e.getReferringComponents("polar",Aa).models[0],o=i.findAxisModel("radiusAxis"),s=i.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],n.set("radius",o),n.set("angle",s),pm(o)&&(r.set("radius",o),t.firstCategoryDimIndex=0),pm(s)&&(r.set("angle",s),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(e,t,n,r){t.coordSysDims=["lng","lat"]},parallel:function(e,t,n,r){var i=e.ecModel,o=i.getComponent("parallel",e.get("parallelIndex")),s=t.coordSysDims=o.dimensions.slice();Ne(o.parallelAxisIndex,function(a,c){var h=i.getComponent("parallelAxis",a),d=s[c];n.set(d,h),pm(h)&&(r.set(d,h),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=c))})}};function pm(e){return e.get("type")==="category"}function QRe(e,t,n){n=n||{};var r=n.byIndex,i=n.stackedCoordDimension,o,s,a;eLe(t)?o=t:(s=t.schema,o=s.dimensions,a=t.store);var c=!!(e&&e.get("stack")),h,d,g,y;if(Ne(o,function(k,R){pn(k)&&(o[R]=k={name:k}),c&&!k.isExtraCoord&&(!r&&!h&&k.ordinalMeta&&(h=k),!d&&k.type!=="ordinal"&&k.type!=="time"&&(!i||i===k.coordDim)&&(d=k))}),d&&!r&&!h&&(r=!0),d){g="__\0ecstackresult_"+e.id,y="__\0ecstackedover_"+e.id,h&&(h.createInvertedIndices=!0);var v=d.coordDim,x=d.type,C=0;Ne(o,function(k){k.coordDim===v&&C++});var I={name:g,coordDim:v,coordDimIndex:C,type:x,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length},A={name:y,coordDim:y,coordDimIndex:C+1,type:x,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length+1};s?(a&&(I.storeDimIndex=a.ensureCalculationDimension(y,x),A.storeDimIndex=a.ensureCalculationDimension(g,x)),s.appendCalculationDimension(I),s.appendCalculationDimension(A)):(o.push(I),o.push(A))}return{stackedDimension:d&&d.name,stackedByDimension:h&&h.name,isStackedByIndex:r,stackedOverDimension:y,stackResultDimension:g}}function eLe(e){return!QK(e.schema)}function Ag(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function tLe(e,t){return Ag(e,t)?e.getCalculationInfo("stackResultDimension"):t}function nLe(e,t){var n=e.get("coordinateSystem"),r=fR.get(n),i;return t&&t.coordSysDims&&(i=_n(t.coordSysDims,function(o){var s={name:o},a=t.axisMap.get(o);if(a){var c=a.get("type");s.type=BRe(c)}return s})),i||(i=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),i}function rLe(e,t,n){var r,i;return n&&Ne(e,function(o,s){var a=o.coordDim,c=n.categoryAxisMap.get(a);c&&(r==null&&(r=s),o.ordinalMeta=c.getOrdinalMeta(),t&&(o.createInvertedIndices=!0)),o.otherDims.itemName!=null&&(i=!0)}),!i&&r!=null&&(e[r].otherDims.itemName=0),r}function rX(e,t,n){n=n||{};var r=t.getSourceManager(),i,o=!1;i=r.getSource(),o=i.sourceFormat===Gs;var s=YRe(t),a=nLe(t,s),c=n.useEncodeDefaulter,h=Sn(c)?c:c?Qr(QDe,a,t):null,d={coordDimensions:a,generateCoord:n.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:h,canOmitUnusedDimensions:!o},g=WRe(i,d),y=rLe(g.dimensions,n.createInvertedIndices,s),v=o?null:r.getSharedDataStore(g),x=QRe(t,{schema:g,store:v}),C=new ER(g,t);C.setCalculationInfo(x);var I=y!=null&&iLe(i)?function(A,k,R,z){return z===y?R:this.defaultDimValueGetter(A,k,R,z)}:null;return C.hasItemOption=!1,C.initData(o?i:v,null,I),C}function iLe(e){if(e.sourceFormat===Gs){var t=oLe(e.data||[]);return!cn(yb(t))}}function oLe(e){for(var t=0;t<e.length&&e[t]==null;)t++;return e[t]}var ou=function(){function e(t){this._setting=t||{},this._extent=[1/0,-1/0]}return e.prototype.getSetting=function(t){return this._setting[t]},e.prototype.unionExtent=function(t){var n=this._extent;t[0]<n[0]&&(n[0]=t[0]),t[1]>n[1]&&(n[1]=t[1])},e.prototype.unionExtentFromData=function(t,n){this.unionExtent(t.getApproximateExtent(n))},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.setExtent=function(t,n){var r=this._extent;isNaN(t)||(r[0]=t),isNaN(n)||(r[1]=n)},e.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},e.prototype.isBlank=function(){return this._isBlank},e.prototype.setBlank=function(t){this._isBlank=t},e}();J2(ou);var aLe=0,qA=function(){function e(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++aLe}return e.createByAxisModel=function(t){var n=t.option,r=n.data,i=r&&_n(r,sLe);return new e({categories:i,needCollect:!i,deduplication:n.dedplication!==!1})},e.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},e.prototype.parseAndCollect=function(t){var n,r=this._needCollect;if(!pn(t)&&!r)return t;if(r&&!this._deduplication)return n=this.categories.length,this.categories[n]=t,n;var i=this._getOrCreateMap();return n=i.get(t),n==null&&(r?(n=this.categories.length,this.categories[n]=t,i.set(t,n)):n=NaN),n},e.prototype._getOrCreateMap=function(){return this._map||(this._map=Dn(this.categories))},e}();function sLe(e){return Pn(e)&&e.value!=null?e.value:e+""}function KA(e){return e.type==="interval"||e.type==="log"}function lLe(e,t,n,r){var i={},o=e[1]-e[0],s=i.interval=WZ(o/t);n!=null&&s<n&&(s=i.interval=n),r!=null&&s>r&&(s=i.interval=r);var a=i.intervalPrecision=iX(s),c=i.niceTickExtent=[$i(Math.ceil(e[0]/s)*s,a),$i(Math.floor(e[1]/s)*s,a)];return uLe(c,e),i}function tI(e){var t=Math.pow(10,HO(e)),n=e/t;return n?n===2?n=3:n===3?n=5:n*=2:n=1,$i(n*t)}function iX(e){return Hl(e)+2}function XN(e,t,n){e[t]=Math.max(Math.min(e[t],n[1]),n[0])}function uLe(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),XN(e,0,t),XN(e,1,t),e[0]>e[1]&&(e[0]=e[1])}function TC(e,t){return e>=t[0]&&e<=t[1]}function PC(e,t){return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])}function EC(e,t){return e*(t[1]-t[0])+t[0]}var IR=function(e){Xt(t,e);function t(n){var r=e.call(this,n)||this;r.type="ordinal";var i=r.getSetting("ordinalMeta");return i||(i=new qA({})),cn(i)&&(i=new qA({categories:_n(i,function(o){return Pn(o)?o.value:o})})),r._ordinalMeta=i,r._extent=r.getSetting("extent")||[0,i.categories.length-1],r}return t.prototype.parse=function(n){return n==null?NaN:pn(n)?this._ordinalMeta.getOrdinal(n):Math.round(n)},t.prototype.contain=function(n){return n=this.parse(n),TC(n,this._extent)&&this._ordinalMeta.categories[n]!=null},t.prototype.normalize=function(n){return n=this._getTickNumber(this.parse(n)),PC(n,this._extent)},t.prototype.scale=function(n){return n=Math.round(EC(n,this._extent)),this.getRawOrdinalNumber(n)},t.prototype.getTicks=function(){for(var n=[],r=this._extent,i=r[0];i<=r[1];)n.push({value:i}),i++;return n},t.prototype.getMinorTicks=function(n){},t.prototype.setSortInfo=function(n){if(n==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var r=n.ordinalNumbers,i=this._ordinalNumbersByTick=[],o=this._ticksByOrdinalNumber=[],s=0,a=this._ordinalMeta.categories.length,c=Math.min(a,r.length);s<c;++s){var h=r[s];i[s]=h,o[h]=s}for(var d=0;s<a;++s){for(;o[d]!=null;)d++;i.push(d),o[d]=s}},t.prototype._getTickNumber=function(n){var r=this._ticksByOrdinalNumber;return r&&n>=0&&n<r.length?r[n]:n},t.prototype.getRawOrdinalNumber=function(n){var r=this._ordinalNumbersByTick;return r&&n>=0&&n<r.length?r[n]:n},t.prototype.getLabel=function(n){if(!this.isBlank()){var r=this.getRawOrdinalNumber(n.value),i=this._ordinalMeta.categories[r];return i==null?"":i+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(n,r){this.unionExtent(n.getApproximateExtent(r))},t.prototype.isInExtentRange=function(n){return n=this._getTickNumber(n),this._extent[0]<=n&&this._extent[1]>=n},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(ou);ou.registerClass(IR);var Zd=$i,Kg=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="interval",n._interval=0,n._intervalPrecision=2,n}return t.prototype.parse=function(n){return n},t.prototype.contain=function(n){return TC(n,this._extent)},t.prototype.normalize=function(n){return PC(n,this._extent)},t.prototype.scale=function(n){return EC(n,this._extent)},t.prototype.setExtent=function(n,r){var i=this._extent;isNaN(n)||(i[0]=parseFloat(n)),isNaN(r)||(i[1]=parseFloat(r))},t.prototype.unionExtent=function(n){var r=this._extent;n[0]<r[0]&&(r[0]=n[0]),n[1]>r[1]&&(r[1]=n[1]),this.setExtent(r[0],r[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(n){this._interval=n,this._niceExtent=this._extent.slice(),this._intervalPrecision=iX(n)},t.prototype.getTicks=function(n){var r=this._interval,i=this._extent,o=this._niceExtent,s=this._intervalPrecision,a=[];if(!r)return a;var c=1e4;i[0]<o[0]&&(n?a.push({value:Zd(o[0]-r,s)}):a.push({value:i[0]}));for(var h=o[0];h<=o[1]&&(a.push({value:h}),h=Zd(h+r,s),h!==a[a.length-1].value);)if(a.length>c)return[];var d=a.length?a[a.length-1].value:o[1];return i[1]>d&&(n?a.push({value:Zd(d+r,s)}):a.push({value:i[1]})),a},t.prototype.getMinorTicks=function(n){for(var r=this.getTicks(!0),i=[],o=this.getExtent(),s=1;s<r.length;s++){for(var a=r[s],c=r[s-1],h=0,d=[],g=a.value-c.value,y=g/n;h<n-1;){var v=Zd(c.value+(h+1)*y);v>o[0]&&v<o[1]&&d.push(v),h++}i.push(d)}return i},t.prototype.getLabel=function(n,r){if(n==null)return"";var i=r&&r.precision;i==null?i=Hl(n.value)||0:i==="auto"&&(i=this._intervalPrecision);var o=Zd(n.value,i,!0);return Zq(o)},t.prototype.calcNiceTicks=function(n,r,i){n=n||5;var o=this._extent,s=o[1]-o[0];if(isFinite(s)){s<0&&(s=-s,o.reverse());var a=lLe(o,n,r,i);this._intervalPrecision=a.intervalPrecision,this._interval=a.interval,this._niceExtent=a.niceTickExtent}},t.prototype.calcNiceExtent=function(n){var r=this._extent;if(r[0]===r[1])if(r[0]!==0){var i=Math.abs(r[0]);n.fixMax||(r[1]+=i/2),r[0]-=i/2}else r[1]=1;var o=r[1]-r[0];isFinite(o)||(r[0]=0,r[1]=1),this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval);var s=this._interval;n.fixMin||(r[0]=Zd(Math.floor(r[0]/s)*s)),n.fixMax||(r[1]=Zd(Math.ceil(r[1]/s)*s))},t.prototype.setNiceExtent=function(n,r){this._niceExtent=[n,r]},t.type="interval",t}(ou);ou.registerClass(Kg);var oX=typeof Float32Array<"u",cLe=oX?Float32Array:Array;function Lm(e){return cn(e)?oX?new Float32Array(e):e:new cLe(e)}var hLe="__ec_stack_";function dLe(e){return e.get("stack")||hLe+e.seriesIndex}function aX(e){return e.dim+e.index}function fLe(e,t){var n=[];return t.eachSeriesByType(e,function(r){yLe(r)&&n.push(r)}),n}function pLe(e){var t={};Ne(e,function(c){var h=c.coordinateSystem,d=h.getBaseAxis();if(!(d.type!=="time"&&d.type!=="value"))for(var g=c.getData(),y=d.dim+"_"+d.index,v=g.getDimensionIndex(g.mapDimension(d.dim)),x=g.getStore(),C=0,I=x.count();C<I;++C){var A=x.get(v,C);t[y]?t[y].push(A):t[y]=[A]}});var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];if(i){i.sort(function(c,h){return c-h});for(var o=null,s=1;s<i.length;++s){var a=i[s]-i[s-1];a>0&&(o=o===null?a:Math.min(o,a))}n[r]=o}}return n}function mLe(e){var t=pLe(e),n=[];return Ne(e,function(r){var i=r.coordinateSystem,o=i.getBaseAxis(),s=o.getExtent(),a;if(o.type==="category")a=o.getBandWidth();else if(o.type==="value"||o.type==="time"){var c=o.dim+"_"+o.index,h=t[c],d=Math.abs(s[1]-s[0]),g=o.scale.getExtent(),y=Math.abs(g[1]-g[0]);a=h?d/y*h:d}else{var v=r.getData();a=Math.abs(s[1]-s[0])/v.count()}var x=eo(r.get("barWidth"),a),C=eo(r.get("barMaxWidth"),a),I=eo(r.get("barMinWidth")||(_Le(r)?.5:1),a),A=r.get("barGap"),k=r.get("barCategoryGap");n.push({bandWidth:a,barWidth:x,barMaxWidth:C,barMinWidth:I,barGap:A,barCategoryGap:k,axisKey:aX(o),stackId:dLe(r)})}),gLe(n)}function gLe(e){var t={};Ne(e,function(r,i){var o=r.axisKey,s=r.bandWidth,a=t[o]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},c=a.stacks;t[o]=a;var h=r.stackId;c[h]||a.autoWidthCount++,c[h]=c[h]||{width:0,maxWidth:0};var d=r.barWidth;d&&!c[h].width&&(c[h].width=d,d=Math.min(a.remainedWidth,d),a.remainedWidth-=d);var g=r.barMaxWidth;g&&(c[h].maxWidth=g);var y=r.barMinWidth;y&&(c[h].minWidth=y);var v=r.barGap;v!=null&&(a.gap=v);var x=r.barCategoryGap;x!=null&&(a.categoryGap=x)});var n={};return Ne(t,function(r,i){n[i]={};var o=r.stacks,s=r.bandWidth,a=r.categoryGap;if(a==null){var c=lr(o).length;a=Math.max(35-c*4,15)+"%"}var h=eo(a,s),d=eo(r.gap,1),g=r.remainedWidth,y=r.autoWidthCount,v=(g-h)/(y+(y-1)*d);v=Math.max(v,0),Ne(o,function(A){var k=A.maxWidth,R=A.minWidth;if(A.width){var z=A.width;k&&(z=Math.min(z,k)),R&&(z=Math.max(z,R)),A.width=z,g-=z+d*z,y--}else{var z=v;k&&k<z&&(z=Math.min(k,g)),R&&R>z&&(z=R),z!==v&&(A.width=z,g-=z+d*z,y--)}}),v=(g-h)/(y+(y-1)*d),v=Math.max(v,0);var x=0,C;Ne(o,function(A,k){A.width||(A.width=v),C=A,x+=A.width*(1+d)}),C&&(x-=C.width*d);var I=-x/2;Ne(o,function(A,k){n[i][k]=n[i][k]||{bandWidth:s,offset:I,width:A.width},I+=A.width*(1+d)})}),n}function vLe(e,t,n){if(e&&t){var r=e[aX(t)];return r}}function yLe(e){return e.coordinateSystem&&e.coordinateSystem.type==="cartesian2d"}function _Le(e){return e.pipelineContext&&e.pipelineContext.large}var bLe=function(e,t,n,r){for(;n<r;){var i=n+r>>>1;e[i][1]<t?n=i+1:r=i}return n},sX=function(e){Xt(t,e);function t(n){var r=e.call(this,n)||this;return r.type="time",r}return t.prototype.getLabel=function(n){var r=this.getSetting("useUTC");return pC(n.value,VF[HDe(ng(this._minLevelUnit))]||VF.second,r,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(n,r,i){var o=this.getSetting("useUTC"),s=this.getSetting("locale");return UDe(n,r,i,s,o)},t.prototype.getTicks=function(){var n=this._interval,r=this._extent,i=[];if(!n)return i;i.push({value:r[0],level:0});var o=this.getSetting("useUTC"),s=ELe(this._minLevelUnit,this._approxInterval,o,r);return i=i.concat(s),i.push({value:r[1],level:0}),i},t.prototype.calcNiceExtent=function(n){var r=this._extent;if(r[0]===r[1]&&(r[0]-=zs,r[1]+=zs),r[1]===-1/0&&r[0]===1/0){var i=new Date;r[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),r[0]=r[1]-zs}this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval)},t.prototype.calcNiceTicks=function(n,r,i){n=n||10;var o=this._extent,s=o[1]-o[0];this._approxInterval=s/n,r!=null&&this._approxInterval<r&&(this._approxInterval=r),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var a=Hx.length,c=Math.min(bLe(Hx,this._approxInterval,0,a),a-1);this._interval=Hx[c][1],this._minLevelUnit=Hx[Math.max(c-1,0)][0]},t.prototype.parse=function(n){return ti(n)?n:+rc(n)},t.prototype.contain=function(n){return TC(this.parse(n),this._extent)},t.prototype.normalize=function(n){return PC(this.parse(n),this._extent)},t.prototype.scale=function(n){return EC(n,this._extent)},t.type="time",t}(Kg),Hx=[["second",sR],["minute",lR],["hour",q_],["quarter-day",q_*6],["half-day",q_*12],["day",zs*1.2],["half-week",zs*3.5],["week",zs*7],["month",zs*31],["quarter",zs*95],["half-year",NF/2],["year",NF]];function xLe(e,t,n,r){var i=rc(t),o=rc(n),s=function(x){return jF(i,x,r)===jF(o,x,r)},a=function(){return s("year")},c=function(){return a()&&s("month")},h=function(){return c()&&s("day")},d=function(){return h()&&s("hour")},g=function(){return d()&&s("minute")},y=function(){return g()&&s("second")},v=function(){return y()&&s("millisecond")};switch(e){case"year":return a();case"month":return c();case"day":return h();case"hour":return d();case"minute":return g();case"second":return y();case"millisecond":return v()}}function wLe(e,t){return e/=zs,e>16?16:e>7.5?7:e>3.5?4:e>1.5?2:1}function SLe(e){var t=30*zs;return e/=t,e>6?6:e>3?3:e>2?2:1}function CLe(e){return e/=q_,e>12?12:e>6?6:e>3.5?4:e>2?2:1}function YN(e,t){return e/=t?lR:sR,e>30?30:e>20?20:e>15?15:e>10?10:e>5?5:e>2?2:1}function TLe(e){return WZ(e)}function PLe(e,t,n){var r=new Date(e);switch(ng(t)){case"year":case"month":r[Vq(n)](0);case"day":r[jq(n)](1);case"hour":r[Hq(n)](0);case"minute":r[Uq(n)](0);case"second":r[Gq(n)](0),r[Wq(n)](0)}return r.getTime()}function ELe(e,t,n,r){var i=1e4,o=Fq,s=0;function a(K,te,ae,me,we,se,ue){for(var Te=new Date(te),Be=te,ke=Te[me]();Be<ae&&Be<=r[1];)ue.push({value:Be}),ke+=K,Te[we](ke),Be=Te.getTime();ue.push({value:Be,notAdd:!0})}function c(K,te,ae){var me=[],we=!te.length;if(!xLe(ng(K),r[0],r[1],n)){we&&(te=[{value:PLe(new Date(r[0]),K,n)},{value:r[1]}]);for(var se=0;se<te.length-1;se++){var ue=te[se].value,Te=te[se+1].value;if(ue!==Te){var Be=void 0,ke=void 0,rt=void 0,ot=!1;switch(K){case"year":Be=Math.max(1,Math.round(t/zs/365)),ke=uR(n),rt=GDe(n);break;case"half-year":case"quarter":case"month":Be=SLe(t),ke=rg(n),rt=Vq(n);break;case"week":case"half-week":case"day":Be=wLe(t),ke=mC(n),rt=jq(n),ot=!0;break;case"half-day":case"quarter-day":case"hour":Be=CLe(t),ke=N0(n),rt=Hq(n);break;case"minute":Be=YN(t,!0),ke=gC(n),rt=Uq(n);break;case"second":Be=YN(t,!1),ke=vC(n),rt=Gq(n);break;case"millisecond":Be=TLe(t),ke=yC(n),rt=Wq(n);break}a(Be,ue,Te,ke,rt,ot,me),K==="year"&&ae.length>1&&se===0&&ae.unshift({value:ae[0].value-Be})}}for(var se=0;se<me.length;se++)ae.push(me[se]);return me}}for(var h=[],d=[],g=0,y=0,v=0;v<o.length&&s++<i;++v){var x=ng(o[v]);if(jDe(o[v])){c(o[v],h[h.length-1]||[],d);var C=o[v+1]?ng(o[v+1]):null;if(x!==C){if(d.length){y=g,d.sort(function(K,te){return K.value-te.value});for(var I=[],A=0;A<d.length;++A){var k=d[A].value;(A===0||d[A-1].value!==k)&&(I.push(d[A]),k>=r[0]&&k<=r[1]&&g++)}var R=(r[1]-r[0])/t;if(g>R*1.5&&y>R/1.5||(h.push(I),g>R||e===o[v]))break}d=[]}}}for(var z=Qi(_n(h,function(K){return Qi(K,function(te){return te.value>=r[0]&&te.value<=r[1]&&!te.notAdd})}),function(K){return K.length>0}),V=[],U=z.length-1,v=0;v<z.length;++v)for(var N=z[v],W=0;W<N.length;++W)V.push({value:N[W].value,level:U-v});V.sort(function(K,te){return K.value-te.value});for(var X=[],v=0;v<V.length;++v)(v===0||V[v].value!==V[v-1].value)&&X.push(V[v]);return X}ou.registerClass(sX);var JN=ou.prototype,Q_=Kg.prototype,ILe=$i,MLe=Math.floor,ALe=Math.ceil,Ux=Math.pow,Qs=Math.log,MR=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="log",n.base=10,n._originalScale=new Kg,n._interval=0,n}return t.prototype.getTicks=function(n){var r=this._originalScale,i=this._extent,o=r.getExtent(),s=Q_.getTicks.call(this,n);return _n(s,function(a){var c=a.value,h=$i(Ux(this.base,c));return h=c===i[0]&&this._fixMin?Gx(h,o[0]):h,h=c===i[1]&&this._fixMax?Gx(h,o[1]):h,{value:h}},this)},t.prototype.setExtent=function(n,r){var i=Qs(this.base);n=Qs(Math.max(0,n))/i,r=Qs(Math.max(0,r))/i,Q_.setExtent.call(this,n,r)},t.prototype.getExtent=function(){var n=this.base,r=JN.getExtent.call(this);r[0]=Ux(n,r[0]),r[1]=Ux(n,r[1]);var i=this._originalScale,o=i.getExtent();return this._fixMin&&(r[0]=Gx(r[0],o[0])),this._fixMax&&(r[1]=Gx(r[1],o[1])),r},t.prototype.unionExtent=function(n){this._originalScale.unionExtent(n);var r=this.base;n[0]=Qs(n[0])/Qs(r),n[1]=Qs(n[1])/Qs(r),JN.unionExtent.call(this,n)},t.prototype.unionExtentFromData=function(n,r){this.unionExtent(n.getApproximateExtent(r))},t.prototype.calcNiceTicks=function(n){n=n||10;var r=this._extent,i=r[1]-r[0];if(!(i===1/0||i<=0)){var o=tMe(i),s=n/i*o;for(s<=.5&&(o*=10);!isNaN(o)&&Math.abs(o)<1&&Math.abs(o)>0;)o*=10;var a=[$i(ALe(r[0]/o)*o),$i(MLe(r[1]/o)*o)];this._interval=o,this._niceExtent=a}},t.prototype.calcNiceExtent=function(n){Q_.calcNiceExtent.call(this,n),this._fixMin=n.fixMin,this._fixMax=n.fixMax},t.prototype.parse=function(n){return n},t.prototype.contain=function(n){return n=Qs(n)/Qs(this.base),TC(n,this._extent)},t.prototype.normalize=function(n){return n=Qs(n)/Qs(this.base),PC(n,this._extent)},t.prototype.scale=function(n){return n=EC(n,this._extent),Ux(this.base,n)},t.type="log",t}(ou),lX=MR.prototype;lX.getMinorTicks=Q_.getMinorTicks;lX.getLabel=Q_.getLabel;function Gx(e,t){return ILe(e,Hl(t))}ou.registerClass(MR);var DLe=function(){function e(t,n,r){this._prepareParams(t,n,r)}return e.prototype._prepareParams=function(t,n,r){r[1]<r[0]&&(r=[NaN,NaN]),this._dataMin=r[0],this._dataMax=r[1];var i=this._isOrdinal=t.type==="ordinal";this._needCrossZero=t.type==="interval"&&n.getNeedCrossZero&&n.getNeedCrossZero();var o=n.get("min",!0);o==null&&(o=n.get("startValue",!0));var s=this._modelMinRaw=o;Sn(s)?this._modelMinNum=Wx(t,s({min:r[0],max:r[1]})):s!=="dataMin"&&(this._modelMinNum=Wx(t,s));var a=this._modelMaxRaw=n.get("max",!0);if(Sn(a)?this._modelMaxNum=Wx(t,a({min:r[0],max:r[1]})):a!=="dataMax"&&(this._modelMaxNum=Wx(t,a)),i)this._axisDataLen=n.getCategories().length;else{var c=n.get("boundaryGap"),h=cn(c)?c:[c||0,c||0];typeof h[0]=="boolean"||typeof h[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Ff(h[0],1),Ff(h[1],1)]}},e.prototype.calculate=function(){var t=this._isOrdinal,n=this._dataMin,r=this._dataMax,i=this._axisDataLen,o=this._boundaryGapInner,s=t?null:r-n||Math.abs(n),a=this._modelMinRaw==="dataMin"?n:this._modelMinNum,c=this._modelMaxRaw==="dataMax"?r:this._modelMaxNum,h=a!=null,d=c!=null;a==null&&(a=t?i?0:NaN:n-o[0]*s),c==null&&(c=t?i?i-1:NaN:r+o[1]*s),(a==null||!isFinite(a))&&(a=NaN),(c==null||!isFinite(c))&&(c=NaN);var g=wS(a)||wS(c)||t&&!i;this._needCrossZero&&(a>0&&c>0&&!h&&(a=0),a<0&&c<0&&!d&&(c=0));var y=this._determinedMin,v=this._determinedMax;return y!=null&&(a=y,h=!0),v!=null&&(c=v,d=!0),{min:a,max:c,minFixed:h,maxFixed:d,isBlank:g}},e.prototype.modifyDataMinMax=function(t,n){this[OLe[t]]=n},e.prototype.setDeterminedMinMax=function(t,n){var r=kLe[t];this[r]=n},e.prototype.freeze=function(){this.frozen=!0},e}(),kLe={min:"_determinedMin",max:"_determinedMax"},OLe={min:"_dataMin",max:"_dataMax"};function uX(e,t,n){var r=e.rawExtentInfo;return r||(r=new DLe(e,t,n),e.rawExtentInfo=r,r)}function Wx(e,t){return t==null?null:wS(t)?NaN:e.parse(t)}function cX(e,t){var n=e.type,r=uX(e,t,e.getExtent()).calculate();e.setBlank(r.isBlank);var i=r.min,o=r.max,s=t.ecModel;if(s&&n==="time"){var a=fLe("bar",s),c=!1;if(Ne(a,function(g){c=c||g.getBaseAxis()===t.axis}),c){var h=mLe(a),d=RLe(i,o,t,h);i=d.min,o=d.max}}return{extent:[i,o],fixMin:r.minFixed,fixMax:r.maxFixed}}function RLe(e,t,n,r){var i=n.axis.getExtent(),o=Math.abs(i[1]-i[0]),s=vLe(r,n.axis);if(s===void 0)return{min:e,max:t};var a=1/0;Ne(s,function(v){a=Math.min(v.offset,a)});var c=-1/0;Ne(s,function(v){c=Math.max(v.offset+v.width,c)}),a=Math.abs(a),c=Math.abs(c);var h=a+c,d=t-e,g=1-(a+c)/o,y=d/g-d;return t+=y*(c/h),e-=y*(a/h),{min:e,max:t}}function QN(e,t){var n=t,r=cX(e,n),i=r.extent,o=n.get("splitNumber");e instanceof MR&&(e.base=n.get("logBase"));var s=e.type,a=n.get("interval"),c=s==="interval"||s==="time";e.setExtent(i[0],i[1]),e.calcNiceExtent({splitNumber:o,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:c?n.get("minInterval"):null,maxInterval:c?n.get("maxInterval"):null}),a!=null&&e.setInterval&&e.setInterval(a)}function LLe(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new IR({ordinalMeta:e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),extent:[1/0,-1/0]});case"time":return new sX({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new(ou.getClass(t)||Kg)}}function $Le(e){var t=e.scale.getExtent(),n=t[0],r=t[1];return!(n>0&&r>0||n<0&&r<0)}function Xg(e){var t=e.getLabelModel().get("formatter"),n=e.type==="category"?e.scale.getExtent()[0]:null;return e.scale.type==="time"?function(r){return function(i,o){return e.scale.getFormattedLabel(i,o,r)}}(t):pn(t)?function(r){return function(i){var o=e.scale.getLabel(i),s=r.replace("{value}",o??"");return s}}(t):Sn(t)?function(r){return function(i,o){return n!=null&&(o=i.value-n),r(AR(e,i),o,i.level!=null?{level:i.level}:null)}}(t):function(r){return e.scale.getLabel(r)}}function AR(e,t){return e.type==="category"?e.scale.getLabel(t):t.value}function zLe(e){var t=e.model,n=e.scale;if(!(!t.get(["axisLabel","show"])||n.isBlank())){var r,i,o=n.getExtent();n instanceof IR?i=n.count():(r=n.getTicks(),i=r.length);var s=e.getLabelModel(),a=Xg(e),c,h=1;i>40&&(h=Math.ceil(i/40));for(var d=0;d<i;d+=h){var g=r?r[d]:{value:o[0]+d},y=a(g,d),v=s.getTextRect(y),x=BLe(v,s.get("rotate")||0);c?c.union(x):c=x}return c}}function BLe(e,t){var n=t*Math.PI/180,r=e.width,i=e.height,o=r*Math.abs(Math.cos(n))+Math.abs(i*Math.sin(n)),s=r*Math.abs(Math.sin(n))+Math.abs(i*Math.cos(n)),a=new dr(e.x,e.y,o,s);return a}function DR(e){var t=e.get("interval");return t??"auto"}function hX(e){return e.type==="category"&&DR(e.getLabelModel())===0}function dX(e,t){var n={};return Ne(e.mapDimensionsAll(t),function(r){n[tLe(e,r)]=!0}),lr(n)}function FLe(e,t,n){t&&Ne(dX(t,n),function(r){var i=t.getApproximateExtent(r);i[0]<e[0]&&(e[0]=i[0]),i[1]>e[1]&&(e[1]=i[1])})}var NLe=function(){function e(){}return e.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},e.prototype.getCoordSysModel=function(){},e}(),e9=[],VLe={registerPreprocessor:KK,registerProcessor:XK,registerPostInit:MRe,registerPostUpdate:ARe,registerUpdateLifecycle:TR,registerAction:Jf,registerCoordinateSystem:DRe,registerLayout:kRe,registerVisual:Qf,registerTransform:RRe,registerLoading:YK,registerMap:ORe,registerImpl:uRe,PRIORITY:wRe,ComponentModel:gr,ComponentView:ls,SeriesModel:Ql,ChartView:Ns,registerComponentModel:function(e){gr.registerClass(e)},registerComponentView:function(e){ls.registerClass(e)},registerSeriesModel:function(e){Ql.registerClass(e)},registerChartView:function(e){Ns.registerClass(e)},registerSubTypeDefaulter:function(e,t){gr.registerSubTypeDefaulter(e,t)},registerPainter:function(e,t){qIe(e,t)}};function Us(e){if(cn(e)){Ne(e,function(t){Us(t)});return}hr(e9,e)>=0||(e9.push(e),Sn(e)&&(e={install:e}),e.install(VLe))}var G0=Ti();function fX(e,t){var n=_n(t,function(r){return e.scale.parse(r)});return e.type==="time"&&n.length>0&&(n.sort(),n.unshift(n[0]),n.push(n[n.length-1])),n}function jLe(e){var t=e.getLabelModel().get("customValues");if(t){var n=Xg(e),r=e.scale.getExtent(),i=fX(e,t),o=Qi(i,function(s){return s>=r[0]&&s<=r[1]});return{labels:_n(o,function(s){var a={value:s};return{formattedLabel:n(a),rawLabel:e.scale.getLabel(a),tickValue:s}})}}return e.type==="category"?ULe(e):WLe(e)}function HLe(e,t){var n=e.getTickModel().get("customValues");if(n){var r=e.scale.getExtent(),i=fX(e,n);return{ticks:Qi(i,function(o){return o>=r[0]&&o<=r[1]})}}return e.type==="category"?GLe(e,t):{ticks:_n(e.scale.getTicks(),function(o){return o.value})}}function ULe(e){var t=e.getLabelModel(),n=pX(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}function pX(e,t){var n=mX(e,"labels"),r=DR(t),i=gX(n,r);if(i)return i;var o,s;return Sn(r)?o=_X(e,r):(s=r==="auto"?ZLe(e):r,o=yX(e,s)),vX(n,r,{labels:o,labelCategoryInterval:s})}function GLe(e,t){var n=mX(e,"ticks"),r=DR(t),i=gX(n,r);if(i)return i;var o,s;if((!t.get("show")||e.scale.isBlank())&&(o=[]),Sn(r))o=_X(e,r,!0);else if(r==="auto"){var a=pX(e,e.getLabelModel());s=a.labelCategoryInterval,o=_n(a.labels,function(c){return c.tickValue})}else s=r,o=yX(e,s,!0);return vX(n,r,{ticks:o,tickCategoryInterval:s})}function WLe(e){var t=e.scale.getTicks(),n=Xg(e);return{labels:_n(t,function(r,i){return{level:r.level,formattedLabel:n(r,i),rawLabel:e.scale.getLabel(r),tickValue:r.value}})}}function mX(e,t){return G0(e)[t]||(G0(e)[t]=[])}function gX(e,t){for(var n=0;n<e.length;n++)if(e[n].key===t)return e[n].value}function vX(e,t,n){return e.push({key:t,value:n}),n}function ZLe(e){var t=G0(e).autoInterval;return t??(G0(e).autoInterval=e.calculateCategoryInterval())}function qLe(e){var t=KLe(e),n=Xg(e),r=(t.axisRotate-t.labelRotate)/180*Math.PI,i=e.scale,o=i.getExtent(),s=i.count();if(o[1]-o[0]<1)return 0;var a=1;s>40&&(a=Math.max(1,Math.floor(s/40)));for(var c=o[0],h=e.dataToCoord(c+1)-e.dataToCoord(c),d=Math.abs(h*Math.cos(r)),g=Math.abs(h*Math.sin(r)),y=0,v=0;c<=o[1];c+=a){var x=0,C=0,I=jO(n({value:c}),t.font,"center","top");x=I.width*1.3,C=I.height*1.3,y=Math.max(y,x,7),v=Math.max(v,C,7)}var A=y/d,k=v/g;isNaN(A)&&(A=1/0),isNaN(k)&&(k=1/0);var R=Math.max(0,Math.floor(Math.min(A,k))),z=G0(e.model),V=e.getExtent(),U=z.lastAutoInterval,N=z.lastTickCount;return U!=null&&N!=null&&Math.abs(U-R)<=1&&Math.abs(N-s)<=1&&U>R&&z.axisExtent0===V[0]&&z.axisExtent1===V[1]?R=U:(z.lastTickCount=s,z.lastAutoInterval=R,z.axisExtent0=V[0],z.axisExtent1=V[1]),R}function KLe(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function yX(e,t,n){var r=Xg(e),i=e.scale,o=i.getExtent(),s=e.getLabelModel(),a=[],c=Math.max((t||0)+1,1),h=o[0],d=i.count();h!==0&&c>1&&d/c>2&&(h=Math.round(Math.ceil(h/c)*c));var g=hX(e),y=s.get("showMinLabel")||g,v=s.get("showMaxLabel")||g;y&&h!==o[0]&&C(o[0]);for(var x=h;x<=o[1];x+=c)C(x);v&&x-c!==o[1]&&C(o[1]);function C(I){var A={value:I};a.push(n?I:{formattedLabel:r(A),rawLabel:i.getLabel(A),tickValue:I})}return a}function _X(e,t,n){var r=e.scale,i=Xg(e),o=[];return Ne(r.getTicks(),function(s){var a=r.getLabel(s),c=s.value;t(s.value,a)&&o.push(n?c:{formattedLabel:i(s),rawLabel:a,tickValue:c})}),o}var t9=[0,1],XLe=function(){function e(t,n,r){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=n,this._extent=r||[0,0]}return e.prototype.contain=function(t){var n=this._extent,r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return t>=r&&t<=i},e.prototype.containData=function(t){return this.scale.contain(t)},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(t){return UZ(t||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(t,n){var r=this._extent;r[0]=t,r[1]=n},e.prototype.dataToCoord=function(t,n){var r=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&i.type==="ordinal"&&(r=r.slice(),n9(r,i.count())),Go(t,t9,r,n)},e.prototype.coordToData=function(t,n){var r=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(r=r.slice(),n9(r,i.count()));var o=Go(t,r,t9,n);return this.scale.scale(o)},e.prototype.pointToData=function(t,n){},e.prototype.getTicksCoords=function(t){t=t||{};var n=t.tickModel||this.getTickModel(),r=HLe(this,n),i=r.ticks,o=_n(i,function(a){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(a):a),tickValue:a}},this),s=n.get("alignWithLabel");return YLe(this,o,s,t.clamp),o},e.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),n=t.get("splitNumber");n>0&&n<100||(n=5);var r=this.scale.getMinorTicks(n),i=_n(r,function(o){return _n(o,function(s){return{coord:this.dataToCoord(s),tickValue:s}},this)},this);return i},e.prototype.getViewLabels=function(){return jLe(this).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var t=this._extent,n=this.scale.getExtent(),r=n[1]-n[0]+(this.onBand?1:0);r===0&&(r=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/r},e.prototype.calculateCategoryInterval=function(){return qLe(this)},e}();function n9(e,t){var n=e[1]-e[0],r=t,i=n/r/2;e[0]+=i,e[1]-=i}function YLe(e,t,n,r){var i=t.length;if(!e.onBand||n||!i)return;var o=e.getExtent(),s,a;if(i===1)t[0].coord=o[0],s=t[1]={coord:o[1],tickValue:t[0].tickValue};else{var c=t[i-1].tickValue-t[0].tickValue,h=(t[i-1].coord-t[0].coord)/c;Ne(t,function(v){v.coord-=h/2});var d=e.scale.getExtent();a=1+d[1]-t[i-1].tickValue,s={coord:t[i-1].coord+h*a,tickValue:d[1]+1},t.push(s)}var g=o[0]>o[1];y(t[0].coord,o[0])&&(r?t[0].coord=o[0]:t.shift()),r&&y(o[0],t[0].coord)&&t.unshift({coord:o[0]}),y(o[1],s.coord)&&(r?s.coord=o[1]:t.pop()),r&&y(s.coord,o[1])&&t.push({coord:o[1]});function y(v,x){return v=$i(v),x=$i(x),g?v>x:v<x}}function JLe(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(!r.defaultAttr.ignore){var i=r.label,o=i.getComputedTransform(),s=i.getBoundingRect(),a=!o||o[1]<1e-5&&o[2]<1e-5,c=i.style.margin||0,h=s.clone();h.applyTransform(o),h.x-=c/2,h.y-=c/2,h.width+=c,h.height+=c;var d=a?new LS(s,o):null;t.push({label:i,labelLine:r.labelLine,rect:h,localRect:s,obb:d,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:a,transform:o})}}return t}function QLe(e){var t=[];e.sort(function(C,I){return I.priority-C.priority});var n=new dr(0,0,0,0);function r(C){if(!C.ignore){var I=C.ensureState("emphasis");I.ignore==null&&(I.ignore=!1)}C.ignore=!0}for(var i=0;i<e.length;i++){var o=e[i],s=o.axisAligned,a=o.localRect,c=o.transform,h=o.label,d=o.labelLine;n.copy(o.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var g=o.obb,y=!1,v=0;v<t.length;v++){var x=t[v];if(n.intersect(x.rect)){if(s&&x.axisAligned){y=!0;break}if(x.obb||(x.obb=new LS(x.localRect,x.transform)),g||(g=new LS(a,c)),g.intersect(x.obb)){y=!0;break}}}y?(r(h),d&&r(d)):(h.attr("ignore",o.defaultAttr.ignore),d&&d.attr("ignore",o.defaultAttr.labelGuideIgnore),t.push(o))}}var nI=null;function e3e(e){return nI||(nI=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return setTimeout(t,16)}).bind(window)),nI(e)}var rI=null;function t3e(e){rI||(rI=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){clearTimeout(t)}).bind(window)),rI(e)}function n3e(e){var t=document.createElement("style");return t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),(document.querySelector("head")||document.body).appendChild(t),t}function Zx(e,t){t===void 0&&(t={});var n=document.createElement(e);return Object.keys(t).forEach(function(r){n[r]=t[r]}),n}function bX(e,t,n){var r=window.getComputedStyle(e,null)||{display:"none"};return r[t]}function XA(e){if(!document.documentElement.contains(e))return{detached:!0,rendered:!1};for(var t=e;t!==document;){if(bX(t,"display")==="none")return{detached:!1,rendered:!1};t=t.parentNode}return{detached:!1,rendered:!0}}var r3e='.resize-triggers{visibility:hidden;opacity:0;pointer-events:none}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}',YA=0,zw=null;function i3e(e,t){e.__resize_mutation_handler__||(e.__resize_mutation_handler__=s3e.bind(e));var n=e.__resize_listeners__;if(!n){if(e.__resize_listeners__=[],window.ResizeObserver){var r=e.offsetWidth,i=e.offsetHeight,o=new ResizeObserver(function(){!e.__resize_observer_triggered__&&(e.__resize_observer_triggered__=!0,e.offsetWidth===r&&e.offsetHeight===i)||qS(e)}),s=XA(e),a=s.detached,c=s.rendered;e.__resize_observer_triggered__=a===!1&&c===!1,e.__resize_observer__=o,o.observe(e)}else if(e.attachEvent&&e.addEventListener)e.__resize_legacy_resize_handler__=function(){qS(e)},e.attachEvent("onresize",e.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);else if(YA||(zw=n3e(r3e)),l3e(e),e.__resize_rendered__=XA(e).rendered,window.MutationObserver){var h=new MutationObserver(e.__resize_mutation_handler__);h.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),e.__resize_mutation_observer__=h}}e.__resize_listeners__.push(t),YA++}function o3e(e,t){var n=e.__resize_listeners__;if(n){if(t&&n.splice(n.indexOf(t),1),!n.length||!t){if(e.detachEvent&&e.removeEventListener){e.detachEvent("onresize",e.__resize_legacy_resize_handler__),document.removeEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);return}e.__resize_observer__?(e.__resize_observer__.unobserve(e),e.__resize_observer__.disconnect(),e.__resize_observer__=null):(e.__resize_mutation_observer__&&(e.__resize_mutation_observer__.disconnect(),e.__resize_mutation_observer__=null),e.removeEventListener("scroll",kR),e.removeChild(e.__resize_triggers__.triggers),e.__resize_triggers__=null),e.__resize_listeners__=null}!--YA&&zw&&zw.parentNode.removeChild(zw)}}function a3e(e){var t=e.__resize_last__,n=t.width,r=t.height,i=e.offsetWidth,o=e.offsetHeight;return i!==n||o!==r?{width:i,height:o}:null}function s3e(){var e=XA(this),t=e.rendered,n=e.detached;t!==this.__resize_rendered__&&(!n&&this.__resize_triggers__&&(OR(this),this.addEventListener("scroll",kR,!0)),this.__resize_rendered__=t,qS(this))}function kR(){var e=this;OR(this),this.__resize_raf__&&t3e(this.__resize_raf__),this.__resize_raf__=e3e(function(){var t=a3e(e);t&&(e.__resize_last__=t,qS(e))})}function qS(e){!e||!e.__resize_listeners__||e.__resize_listeners__.forEach(function(t){t.call(e,e)})}function l3e(e){var t=bX(e,"position");(!t||t==="static")&&(e.style.position="relative"),e.__resize_old_position__=t,e.__resize_last__={};var n=Zx("div",{className:"resize-triggers"}),r=Zx("div",{className:"resize-expand-trigger"}),i=Zx("div"),o=Zx("div",{className:"resize-contract-trigger"});r.appendChild(i),n.appendChild(r),n.appendChild(o),e.appendChild(n),e.__resize_triggers__={triggers:n,expand:r,expandChild:i,contract:o},OR(e),e.addEventListener("scroll",kR,!0),e.__resize_last__={width:e.offsetWidth,height:e.offsetHeight}}function OR(e){var t=e.__resize_triggers__,n=t.expand,r=t.expandChild,i=t.contract,o=i.scrollWidth,s=i.scrollHeight,a=n.offsetWidth,c=n.offsetHeight,h=n.scrollWidth,d=n.scrollHeight;i.scrollLeft=o,i.scrollTop=s,r.style.width=a+1+"px",r.style.height=c+1+"px",n.scrollLeft=h,n.scrollTop=d}var ju=function(){return ju=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ju.apply(this,arguments)},u3e=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function c3e(e){return t=Object.create(null),u3e.forEach(function(n){t[n]=function(r){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(!e.value)throw new Error("ECharts is not initialized yet.");return e.value[r].apply(e.value,i)}}(n)}),t;var t}var h3e={autoresize:Boolean},d3e={loading:Boolean,loadingOptions:Object},f3e=/^on[^a-z]/,p3e=function(e){return f3e.test(e)},r9=[],t_=[];(function(e,t){if(e&&typeof document<"u"){var n,r=t.prepend===!0?"prepend":"append",i=t.singleTag===!0,o=typeof t.container=="string"?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(i){var s=r9.indexOf(o);s===-1&&(s=r9.push(o)-1,t_[s]={}),n=t_[s]&&t_[s][r]?t_[s][r]:t_[s][r]=a()}else n=a();e.charCodeAt(0)===65279&&(e=e.substring(1)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(document.createTextNode(e))}function a(){var c=document.createElement("style");if(c.setAttribute("type","text/css"),t.attributes)for(var h=Object.keys(t.attributes),d=0;d<h.length;d++)c.setAttribute(h[d],t.attributes[h[d]]);var g=r==="prepend"?"afterbegin":"beforeend";return o.insertAdjacentElement(g,c),c}})(`x-vue-echarts{display:block;width:100%;height:100%}
`,{});var xX=Pt({name:"echarts",props:ju(ju({option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean},h3e),d3e),inheritAttrs:!1,setup:function(e,t){var n=t.attrs,r=Et(),i=Et(),o=Et(),s=Mn("ecTheme",null),a=Mn("ecInitOptions",null),c=Mn("ecUpdateOptions",null),h=Q0(e),d=h.autoresize,g=h.manualUpdate,y=h.loading,v=h.loadingOptions,x=ge(function(){return o.value||e.option||null}),C=ge(function(){return e.theme||Ui(s)||{}}),I=ge(function(){return e.initOptions||Ui(a)||{}}),A=ge(function(){return e.updateOptions||Ui(c)||{}}),k=ge(function(){return function(W){var X={};for(var K in W)p3e(K)||(X[K]=W[K]);return X}(n)}),R=Ao().proxy.$listeners;function z(W){if(r.value){var X=i.value=ERe(r.value,C.value,I.value);e.group&&(X.group=e.group);var K=R;K||(K={},Object.keys(n).filter(function(ae){return ae.indexOf("on")===0&&ae.length>2}).forEach(function(ae){var me=ae.charAt(2).toLowerCase()+ae.slice(3);me.substring(me.length-4)==="Once"&&(me="~".concat(me.substring(0,me.length-4))),K[me]=n[ae]})),Object.keys(K).forEach(function(ae){var me=K[ae];if(me){var we=ae.toLowerCase();we.charAt(0)==="~"&&(we=we.substring(1),me.__once__=!0);var se=X;if(we.indexOf("zr:")===0&&(se=X.getZr(),we=we.substring(3)),me.__once__){delete me.__once__;var ue=me;me=function(){for(var Te=[],Be=0;Be<arguments.length;Be++)Te[Be]=arguments[Be];ue.apply(void 0,Te),se.off(we,me)}}se.on(we,me)}}),d.value?wi(function(){X&&!X.isDisposed()&&X.resize(),te()}):te()}function te(){var ae=W||x.value;ae&&X.setOption(ae,A.value)}}function V(){i.value&&(i.value.dispose(),i.value=void 0)}var U=null;qt(g,function(W){typeof U=="function"&&(U(),U=null),W||(U=qt(function(){return e.option},function(X,K){X&&(i.value?i.value.setOption(X,ju({notMerge:X.value!==(K==null?void 0:K.value)},A.value)):z())},{deep:!0}))},{immediate:!0}),qt([C,I],function(){V(),z()},{deep:!0}),Dr(function(){e.group&&i.value&&(i.value.group=e.group)});var N=c3e(i);return function(W,X,K){var te=Mn("ecLoadingOptions",{}),ae=ge(function(){return ju(ju({},Ui(te)),K==null?void 0:K.value)});Dr(function(){var me=W.value;me&&(X.value?me.showLoading(ae.value):me.hideLoading())})}(i,y,v),function(W,X,K){var te=null;qt([K,W,X],function(ae,me,we){var se=ae[0],ue=ae[1],Te=ae[2];se&&ue&&Te&&(te=_R(function(){ue.resize()},100),i3e(se,te)),we(function(){te&&se&&o3e(se,te)})})}(i,d,r),Nn(function(){z()}),eu(V),ju({chart:i,root:r,setOption:function(W,X){e.manualUpdate&&(o.value=W),i.value?i.value.setOption(W,X||{}):z(W)},nonEventAttrs:k},N)},render:function(){var e=ju({},this.nonEventAttrs);return e.ref="root",e.class=e.class?["echarts"].concat(e.class):"echarts",Cn("x-vue-echarts",e)}}),iI=Math.sin,oI=Math.cos,wX=Math.PI,qd=Math.PI*2,m3e=180/wX,SX=function(){function e(){}return e.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},e.prototype.moveTo=function(t,n){this._add("M",t,n)},e.prototype.lineTo=function(t,n){this._add("L",t,n)},e.prototype.bezierCurveTo=function(t,n,r,i,o,s){this._add("C",t,n,r,i,o,s)},e.prototype.quadraticCurveTo=function(t,n,r,i){this._add("Q",t,n,r,i)},e.prototype.arc=function(t,n,r,i,o,s){this.ellipse(t,n,r,r,0,i,o,s)},e.prototype.ellipse=function(t,n,r,i,o,s,a,c){var h=a-s,d=!c,g=Math.abs(h),y=hh(g-qd)||(d?h>=qd:-h>=qd),v=h>0?h%qd:h%qd+qd,x=!1;y?x=!0:hh(g)?x=!1:x=v>=wX==!!d;var C=t+r*oI(s),I=n+i*iI(s);this._start&&this._add("M",C,I);var A=Math.round(o*m3e);if(y){var k=1/this._p,R=(d?1:-1)*(qd-k);this._add("A",r,i,A,1,+d,t+r*oI(s+R),n+i*iI(s+R)),k>.01&&this._add("A",r,i,A,0,+d,C,I)}else{var z=t+r*oI(a),V=n+i*iI(a);this._add("A",r,i,A,+x,+d,z,V)}},e.prototype.rect=function(t,n,r,i){this._add("M",t,n),this._add("l",r,0),this._add("l",0,i),this._add("l",-r,0),this._add("Z")},e.prototype.closePath=function(){this._d.length>0&&this._add("Z")},e.prototype._add=function(t,n,r,i,o,s,a,c,h){for(var d=[],g=this._p,y=1;y<arguments.length;y++){var v=arguments[y];if(isNaN(v)){this._invalid=!0;return}d.push(Math.round(v*g)/g)}this._d.push(t+d.join(" ")),this._start=t==="Z"},e.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},e.prototype.getStr=function(){return this._str},e}(),RR="none",g3e=Math.round;function v3e(e){var t=e.fill;return t!=null&&t!==RR}function y3e(e){var t=e.stroke;return t!=null&&t!==RR}var JA=["lineCap","miterLimit","lineJoin"],_3e=_n(JA,function(e){return"stroke-"+e.toLowerCase()});function b3e(e,t,n,r){var i=t.opacity==null?1:t.opacity;if(n instanceof ru){e("opacity",i);return}if(v3e(t)){var o=A0(t.fill);e("fill",o.color);var s=t.fillOpacity!=null?t.fillOpacity*o.opacity*i:o.opacity*i;s<1&&e("fill-opacity",s)}else e("fill",RR);if(y3e(t)){var a=A0(t.stroke);e("stroke",a.color);var c=t.strokeNoScale?n.getLineScale():1,h=c?(t.lineWidth||0)/c:0,d=t.strokeOpacity!=null?t.strokeOpacity*a.opacity*i:a.opacity*i,g=t.strokeFirst;if(h!==1&&e("stroke-width",h),g&&e("paint-order",g?"stroke":"fill"),d<1&&e("stroke-opacity",d),t.lineDash){var y=xR(n),v=y[0],x=y[1];v&&(x=g3e(x||0),e("stroke-dasharray",v.join(",")),(x||r)&&e("stroke-dashoffset",x))}for(var C=0;C<JA.length;C++){var I=JA[C];if(t[I]!==OS[I]){var A=t[I]||OS[I];A&&e(_3e[C],A)}}}}var CX="http://www.w3.org/2000/svg",TX="http://www.w3.org/1999/xlink",x3e="http://www.w3.org/2000/xmlns/",w3e="http://www.w3.org/XML/1998/namespace",i9="ecmeta_";function PX(e){return document.createElementNS(CX,e)}function oo(e,t,n,r,i){return{tag:e,attrs:n||{},children:r,text:i,key:t}}function S3e(e,t){var n=[];if(t)for(var r in t){var i=t[r],o=r;i!==!1&&(i!==!0&&i!=null&&(o+='="'+i+'"'),n.push(o))}return"<"+e+" "+n.join(" ")+">"}function C3e(e){return"</"+e+">"}function LR(e,t){t=t||{};var n=t.newline?`
`:"";function r(i){var o=i.children,s=i.tag,a=i.attrs,c=i.text;return S3e(s,a)+(s!=="style"?pa(c):c||"")+(o?""+n+_n(o,function(h){return r(h)}).join(n)+n:"")+C3e(s)}return r(e)}function T3e(e,t,n){n=n||{};var r=n.newline?`
`:"",i=" {"+r,o=r+"}",s=_n(lr(e),function(c){return c+i+_n(lr(e[c]),function(h){return h+":"+e[c][h]+";"}).join(r)+o}).join(r),a=_n(lr(t),function(c){return"@keyframes "+c+i+_n(lr(t[c]),function(h){return h+i+_n(lr(t[c][h]),function(d){var g=t[c][h][d];return d==="d"&&(g='path("'+g+'")'),d+":"+g+";"}).join(r)+o}).join(r)+o}).join(r);return!s&&!a?"":["<![CDATA[",s,a,"]]>"].join(r)}function QA(e){return{zrId:e,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function o9(e,t,n,r){return oo("svg","root",{width:e,height:t,xmlns:CX,"xmlns:xlink":TX,version:"1.1",baseProfile:"full",viewBox:r?"0 0 "+e+" "+t:!1},n)}var P3e=0;function EX(){return P3e++}var a9={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Jd="transform-origin";function E3e(e,t,n){var r=en({},e.shape);en(r,t),e.buildPath(n,r);var i=new SX;return i.reset(RZ(e)),n.rebuildPath(i,1),i.generateStr(),i.getStr()}function I3e(e,t){var n=t.originX,r=t.originY;(n||r)&&(e[Jd]=n+"px "+r+"px")}var M3e={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function IX(e,t){var n=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[n]=e,n}function A3e(e,t,n){var r=e.shape.paths,i={},o,s;if(Ne(r,function(c){var h=QA(n.zrId);h.animation=!0,IC(c,{},h,!0);var d=h.cssAnims,g=h.cssNodes,y=lr(d),v=y.length;if(v){s=y[v-1];var x=d[s];for(var C in x){var I=x[C];i[C]=i[C]||{d:""},i[C].d+=I.d||""}for(var A in g){var k=g[A].animation;k.indexOf(s)>=0&&(o=k)}}}),!!o){t.d=!1;var a=IX(i,n);return o.replace(s,a)}}function s9(e){return pn(e)?a9[e]?"cubic-bezier("+a9[e]+")":BO(e)?e:"":""}function IC(e,t,n,r){var i=e.animators,o=i.length,s=[];if(e instanceof Cq){var a=A3e(e,t,n);if(a)s.push(a);else if(!o)return}else if(!o)return;for(var c={},h=0;h<o;h++){var d=i[h],g=[d.getMaxTime()/1e3+"s"],y=s9(d.getClip().easing),v=d.getDelay();y?g.push(y):g.push("linear"),v&&g.push(v/1e3+"s"),d.getLoop()&&g.push("infinite");var x=g.join(" ");c[x]=c[x]||[x,[]],c[x][1].push(d)}function C(k){var R=k[1],z=R.length,V={},U={},N={},W="animation-timing-function";function X(ut,Re,Ve){for(var Le=ut.getTracks(),Ye=ut.getMaxTime(),pe=0;pe<Le.length;pe++){var ye=Le[pe];if(ye.needsAnimate()){var Ze=ye.keyframes,ht=ye.propName;if(Ve&&(ht=Ve(ht)),ht)for(var st=0;st<Ze.length;st++){var Xe=Ze[st],Qe=Math.round(Xe.time/Ye*100)+"%",lt=s9(Xe.easing),St=Xe.rawValue;(pn(St)||ti(St))&&(Re[Qe]=Re[Qe]||{},Re[Qe][ht]=Xe.rawValue,lt&&(Re[Qe][W]=lt))}}}}for(var K=0;K<z;K++){var te=R[K],ae=te.targetName;ae?ae==="shape"&&X(te,U):!r&&X(te,V)}for(var me in V){var we={};FZ(we,e),en(we,V[me]);var se=LZ(we),ue=V[me][W];N[me]=se?{transform:se}:{},I3e(N[me],we),ue&&(N[me][W]=ue)}var Te,Be=!0;for(var me in U){N[me]=N[me]||{};var ke=!Te,ue=U[me][W];ke&&(Te=new Mh);var rt=Te.len();Te.reset(),N[me].d=E3e(e,U[me],Te);var ot=Te.len();if(!ke&&rt!==ot){Be=!1;break}ue&&(N[me][W]=ue)}if(!Be)for(var me in N)delete N[me].d;if(!r)for(var K=0;K<z;K++){var te=R[K],ae=te.targetName;ae==="style"&&X(te,N,function(Le){return M3e[Le]})}for(var tt=lr(N),It=!0,Bt,K=1;K<tt.length;K++){var Lt=tt[K-1],Yt=tt[K];if(N[Lt][Jd]!==N[Yt][Jd]){It=!1;break}Bt=N[Lt][Jd]}if(It&&Bt){for(var me in N)N[me][Jd]&&delete N[me][Jd];t[Jd]=Bt}if(Qi(tt,function(ut){return lr(N[ut]).length>0}).length){var ze=IX(N,n);return ze+" "+k[0]+" both"}}for(var I in c){var a=C(c[I]);a&&s.push(a)}if(s.length){var A=n.zrId+"-cls-"+EX();n.cssNodes["."+A]={animation:s.join(",")},t.class=A}}function D3e(e,t,n){if(!e.ignore)if(e.isSilent()){var r={"pointer-events":"none"};l9(r,t,n)}else{var i=e.states.emphasis&&e.states.emphasis.style?e.states.emphasis.style:{},o=i.fill;if(!o){var s=e.style&&e.style.fill,a=e.states.select&&e.states.select.style&&e.states.select.style.fill,c=e.currentStates.indexOf("select")>=0&&a||s;c&&(o=pA(c))}var h=i.lineWidth;if(h){var d=!i.strokeNoScale&&e.transform?e.transform[0]:1;h=h/d}var r={cursor:"pointer"};o&&(r.fill=o),i.stroke&&(r.stroke=i.stroke),h&&(r["stroke-width"]=h),l9(r,t,n)}}function l9(e,t,n,r){var i=JSON.stringify(e),o=n.cssStyleCache[i];o||(o=n.zrId+"-cls-"+EX(),n.cssStyleCache[i]=o,n.cssNodes["."+o+":hover"]=e),t.class=t.class?t.class+" "+o:o}var W0=Math.round;function MX(e){return e&&pn(e.src)}function AX(e){return e&&Sn(e.toDataURL)}function $R(e,t,n,r){b3e(function(i,o){var s=i==="fill"||i==="stroke";s&&OZ(o)?kX(t,e,i,r):s&&FO(o)?OX(n,e,i,r):e[i]=o,s&&r.ssr&&o==="none"&&(e["pointer-events"]="visible")},t,n,!1),B3e(n,e,r)}function zR(e,t){var n=KIe(t);n&&(n.each(function(r,i){r!=null&&(e[(i9+i).toLowerCase()]=r+"")}),t.isSilent()&&(e[i9+"silent"]="true"))}function u9(e){return hh(e[0]-1)&&hh(e[1])&&hh(e[2])&&hh(e[3]-1)}function k3e(e){return hh(e[4])&&hh(e[5])}function BR(e,t,n){if(t&&!(k3e(t)&&u9(t))){var r=1e4;e.transform=u9(t)?"translate("+W0(t[4]*r)/r+" "+W0(t[5]*r)/r+")":yIe(t)}}function c9(e,t,n){for(var r=e.points,i=[],o=0;o<r.length;o++)i.push(W0(r[o][0]*n)/n),i.push(W0(r[o][1]*n)/n);t.points=i.join(" ")}function h9(e){return!e.smooth}function O3e(e){var t=_n(e,function(n){return typeof n=="string"?[n,n]:n});return function(n,r,i){for(var o=0;o<t.length;o++){var s=t[o],a=n[s[0]];a!=null&&(r[s[1]]=W0(a*i)/i)}}}var R3e={circle:[O3e(["cx","cy","r"])],polyline:[c9,h9],polygon:[c9,h9]};function L3e(e){for(var t=e.animators,n=0;n<t.length;n++)if(t[n].targetName==="shape")return!0;return!1}function DX(e,t){var n=e.style,r=e.shape,i=R3e[e.type],o={},s=t.animation,a="path",c=e.style.strokePercent,h=t.compress&&RZ(e)||4;if(i&&!t.willUpdate&&!(i[1]&&!i[1](r))&&!(s&&L3e(e))&&!(c<1)){a=e.type;var d=Math.pow(10,h);i[0](r,o,d)}else{var g=!e.path||e.shapeChanged();e.path||e.createPathProxy();var y=e.path;g&&(y.beginPath(),e.buildPath(y,e.shape),e.pathUpdated());var v=y.getVersion(),x=e,C=x.__svgPathBuilder;(x.__svgPathVersion!==v||!C||c!==x.__svgPathStrokePercent)&&(C||(C=x.__svgPathBuilder=new SX),C.reset(h),y.rebuildPath(C,c),C.generateStr(),x.__svgPathVersion=v,x.__svgPathStrokePercent=c),o.d=C.getStr()}return BR(o,e.transform),$R(o,n,e,t),zR(o,e),t.animation&&IC(e,o,t),t.emphasis&&D3e(e,o,t),oo(a,e.id+"",o)}function $3e(e,t){var n=e.style,r=n.image;if(r&&!pn(r)&&(MX(r)?r=r.src:AX(r)&&(r=r.toDataURL())),!!r){var i=n.x||0,o=n.y||0,s=n.width,a=n.height,c={href:r,width:s,height:a};return i&&(c.x=i),o&&(c.y=o),BR(c,e.transform),$R(c,n,e,t),zR(c,e),t.animation&&IC(e,c,t),oo("image",e.id+"",c)}}function z3e(e,t){var n=e.style,r=n.text;if(r!=null&&(r+=""),!(!r||isNaN(n.x)||isNaN(n.y))){var i=n.font||Ih,o=n.x||0,s=bIe(n.y||0,X2(i),n.textBaseline),a=_Ie[n.textAlign]||n.textAlign,c={"dominant-baseline":"central","text-anchor":a};if(lq(n)){var h="",d=n.fontStyle,g=sq(n.fontSize);if(!parseFloat(g))return;var y=n.fontFamily||cZ,v=n.fontWeight;h+="font-size:"+g+";font-family:"+y+";",d&&d!=="normal"&&(h+="font-style:"+d+";"),v&&v!=="normal"&&(h+="font-weight:"+v+";"),c.style=h}else c.style="font: "+i;return r.match(/\s/)&&(c["xml:space"]="preserve"),o&&(c.x=o),s&&(c.y=s),BR(c,e.transform),$R(c,n,e,t),zR(c,e),t.animation&&IC(e,c,t),oo("text",e.id+"",c,void 0,r)}}function d9(e,t){if(e instanceof yr)return DX(e,t);if(e instanceof ru)return $3e(e,t);if(e instanceof R0)return z3e(e,t)}function B3e(e,t,n){var r=e.style;if(xIe(r)){var i=wIe(e),o=n.shadowCache,s=o[i];if(!s){var a=e.getGlobalScale(),c=a[0],h=a[1];if(!c||!h)return;var d=r.shadowOffsetX||0,g=r.shadowOffsetY||0,y=r.shadowBlur,v=A0(r.shadowColor),x=v.opacity,C=v.color,I=y/2/c,A=y/2/h,k=I+" "+A;s=n.zrId+"-s"+n.shadowIdx++,n.defs[s]=oo("filter",s,{id:s,x:"-100%",y:"-100%",width:"300%",height:"300%"},[oo("feDropShadow","",{dx:d/c,dy:g/h,stdDeviation:k,"flood-color":C,"flood-opacity":x})]),o[i]=s}t.filter=K2(s)}}function kX(e,t,n,r){var i=e[n],o,s={gradientUnits:i.global?"userSpaceOnUse":"objectBoundingBox"};if(DZ(i))o="linearGradient",s.x1=i.x,s.y1=i.y,s.x2=i.x2,s.y2=i.y2;else if(kZ(i))o="radialGradient",s.cx=Fn(i.x,.5),s.cy=Fn(i.y,.5),s.r=Fn(i.r,.5);else return;for(var a=i.colorStops,c=[],h=0,d=a.length;h<d;++h){var g=mA(a[h].offset)*100+"%",y=a[h].color,v=A0(y),x=v.color,C=v.opacity,I={offset:g};I["stop-color"]=x,C<1&&(I["stop-opacity"]=C),c.push(oo("stop",h+"",I))}var A=oo(o,"",s,c),k=LR(A),R=r.gradientCache,z=R[k];z||(z=r.zrId+"-g"+r.gradientIdx++,R[k]=z,s.id=z,r.defs[z]=oo(o,z,s,c)),t[n]=K2(z)}function OX(e,t,n,r){var i=e.style[n],o=e.getBoundingRect(),s={},a=i.repeat,c=a==="no-repeat",h=a==="repeat-x",d=a==="repeat-y",g;if(AZ(i)){var y=i.imageWidth,v=i.imageHeight,x=void 0,C=i.image;if(pn(C)?x=C:MX(C)?x=C.src:AX(C)&&(x=C.toDataURL()),typeof Image>"u"){var I="Image width/height must been given explictly in svg-ssr renderer.";hl(y,I),hl(v,I)}else if(y==null||v==null){var A=function(K,te){if(K){var ae=K.elm,me=y||te.width,we=v||te.height;K.tag==="pattern"&&(h?(we=1,me/=o.width):d&&(me=1,we/=o.height)),K.attrs.width=me,K.attrs.height=we,ae&&(ae.setAttribute("width",me),ae.setAttribute("height",we))}},k=ZO(x,null,e,function(K){c||A(U,K),A(g,K)});k&&k.width&&k.height&&(y=y||k.width,v=v||k.height)}g=oo("image","img",{href:x,width:y,height:v}),s.width=y,s.height=v}else i.svgElement&&(g=er(i.svgElement),s.width=i.svgWidth,s.height=i.svgHeight);if(g){var R,z;c?R=z=1:h?(z=1,R=s.width/o.width):d?(R=1,z=s.height/o.height):s.patternUnits="userSpaceOnUse",R!=null&&!isNaN(R)&&(s.width=R),z!=null&&!isNaN(z)&&(s.height=z);var V=LZ(i);V&&(s.patternTransform=V);var U=oo("pattern","",s,[g]),N=LR(U),W=r.patternCache,X=W[N];X||(X=r.zrId+"-p"+r.patternIdx++,W[N]=X,s.id=X,U=r.defs[X]=oo("pattern",X,s,[g])),t[n]=K2(X)}}function F3e(e,t,n){var r=n.clipPathCache,i=n.defs,o=r[e.id];if(!o){o=n.zrId+"-c"+n.clipPathIdx++;var s={id:o};r[e.id]=o,i[o]=oo("clipPath",o,s,[DX(e,n)])}t["clip-path"]=K2(o)}function f9(e){return document.createTextNode(e)}function of(e,t,n){e.insertBefore(t,n)}function p9(e,t){e.removeChild(t)}function m9(e,t){e.appendChild(t)}function RX(e){return e.parentNode}function LX(e){return e.nextSibling}function aI(e,t){e.textContent=t}var g9=58,N3e=120,V3e=oo("","");function eD(e){return e===void 0}function $l(e){return e!==void 0}function j3e(e,t,n){for(var r={},i=t;i<=n;++i){var o=e[i].key;o!==void 0&&(r[o]=i)}return r}function x_(e,t){var n=e.key===t.key,r=e.tag===t.tag;return r&&n}function Z0(e){var t,n=e.children,r=e.tag;if($l(r)){var i=e.elm=PX(r);if(FR(V3e,e),cn(n))for(t=0;t<n.length;++t){var o=n[t];o!=null&&m9(i,Z0(o))}else $l(e.text)&&!Pn(e.text)&&m9(i,f9(e.text))}else e.elm=f9(e.text);return e.elm}function $X(e,t,n,r,i){for(;r<=i;++r){var o=n[r];o!=null&&of(e,Z0(o),t)}}function KS(e,t,n,r){for(;n<=r;++n){var i=t[n];if(i!=null)if($l(i.tag)){var o=RX(i.elm);p9(o,i.elm)}else p9(e,i.elm)}}function FR(e,t){var n,r=t.elm,i=e&&e.attrs||{},o=t.attrs||{};if(i!==o){for(n in o){var s=o[n],a=i[n];a!==s&&(s===!0?r.setAttribute(n,""):s===!1?r.removeAttribute(n):n==="style"?r.style.cssText=s:n.charCodeAt(0)!==N3e?r.setAttribute(n,s):n==="xmlns:xlink"||n==="xmlns"?r.setAttributeNS(x3e,n,s):n.charCodeAt(3)===g9?r.setAttributeNS(w3e,n,s):n.charCodeAt(5)===g9?r.setAttributeNS(TX,n,s):r.setAttribute(n,s))}for(n in i)n in o||r.removeAttribute(n)}}function H3e(e,t,n){for(var r=0,i=0,o=t.length-1,s=t[0],a=t[o],c=n.length-1,h=n[0],d=n[c],g,y,v,x;r<=o&&i<=c;)s==null?s=t[++r]:a==null?a=t[--o]:h==null?h=n[++i]:d==null?d=n[--c]:x_(s,h)?(Sm(s,h),s=t[++r],h=n[++i]):x_(a,d)?(Sm(a,d),a=t[--o],d=n[--c]):x_(s,d)?(Sm(s,d),of(e,s.elm,LX(a.elm)),s=t[++r],d=n[--c]):x_(a,h)?(Sm(a,h),of(e,a.elm,s.elm),a=t[--o],h=n[++i]):(eD(g)&&(g=j3e(t,r,o)),y=g[h.key],eD(y)?of(e,Z0(h),s.elm):(v=t[y],v.tag!==h.tag?of(e,Z0(h),s.elm):(Sm(v,h),t[y]=void 0,of(e,v.elm,s.elm))),h=n[++i]);(r<=o||i<=c)&&(r>o?(x=n[c+1]==null?null:n[c+1].elm,$X(e,x,n,i,c)):KS(e,t,r,o))}function Sm(e,t){var n=t.elm=e.elm,r=e.children,i=t.children;e!==t&&(FR(e,t),eD(t.text)?$l(r)&&$l(i)?r!==i&&H3e(n,r,i):$l(i)?($l(e.text)&&aI(n,""),$X(n,null,i,0,i.length-1)):$l(r)?KS(n,r,0,r.length-1):$l(e.text)&&aI(n,""):e.text!==t.text&&($l(r)&&KS(n,r,0,r.length-1),aI(n,t.text)))}function U3e(e,t){if(x_(e,t))Sm(e,t);else{var n=e.elm,r=RX(n);Z0(t),r!==null&&(of(r,t.elm,LX(n)),KS(r,[e],0,0))}return t}var G3e=0,W3e=function(){function e(t,n,r){if(this.type="svg",this.refreshHover=v9(),this.configLayer=v9(),this.storage=n,this._opts=r=en({},r),this.root=t,this._id="zr"+G3e++,this._oldVNode=o9(r.width,r.height),t&&!r.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var o=this._svgDom=this._oldVNode.elm=PX("svg");FR(null,this._oldVNode),i.appendChild(o),t.appendChild(i)}this.resize(r.width,r.height)}return e.prototype.getType=function(){return this.type},e.prototype.getViewportRoot=function(){return this._viewport},e.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},e.prototype.getSvgDom=function(){return this._svgDom},e.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",U3e(this._oldVNode,t),this._oldVNode=t}},e.prototype.renderOneToVNode=function(t){return d9(t,QA(this._id))},e.prototype.renderToVNode=function(t){t=t||{};var n=this.storage.getDisplayList(!0),r=this._width,i=this._height,o=QA(this._id);o.animation=t.animation,o.willUpdate=t.willUpdate,o.compress=t.compress,o.emphasis=t.emphasis,o.ssr=this._opts.ssr;var s=[],a=this._bgVNode=Z3e(r,i,this._backgroundColor,o);a&&s.push(a);var c=t.compress?null:this._mainVNode=oo("g","main",{},[]);this._paintList(n,o,c?c.children:s),c&&s.push(c);var h=_n(lr(o.defs),function(y){return o.defs[y]});if(h.length&&s.push(oo("defs","defs",{},h)),t.animation){var d=T3e(o.cssNodes,o.cssAnims,{newline:!0});if(d){var g=oo("style","stl",{},[],d);s.push(g)}}return o9(r,i,s,t.useViewBox)},e.prototype.renderToString=function(t){return t=t||{},LR(this.renderToVNode({animation:Fn(t.cssAnimation,!0),emphasis:Fn(t.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:Fn(t.useViewBox,!0)}),{newline:!0})},e.prototype.setBackgroundColor=function(t){this._backgroundColor=t},e.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},e.prototype._paintList=function(t,n,r){for(var i=t.length,o=[],s=0,a,c,h=0,d=0;d<i;d++){var g=t[d];if(!g.invisible){var y=g.__clipPaths,v=y&&y.length||0,x=c&&c.length||0,C=void 0;for(C=Math.max(v-1,x-1);C>=0&&!(y&&c&&y[C]===c[C]);C--);for(var I=x-1;I>C;I--)s--,a=o[s-1];for(var A=C+1;A<v;A++){var k={};F3e(y[A],k,n);var R=oo("g","clip-g-"+h++,k,[]);(a?a.children:r).push(R),o[s++]=R,a=R}c=y;var z=d9(g,n);z&&(a?a.children:r).push(z)}}},e.prototype.resize=function(t,n){var r=this._opts,i=this.root,o=this._viewport;if(t!=null&&(r.width=t),n!=null&&(r.height=n),i&&o&&(o.style.display="none",t=Rm(i,0,r),n=Rm(i,1,r),o.style.display=""),this._width!==t||this._height!==n){if(this._width=t,this._height=n,o){var s=o.style;s.width=t+"px",s.height=n+"px"}if(FO(this._backgroundColor))this.refresh();else{var a=this._svgDom;a&&(a.setAttribute("width",t),a.setAttribute("height",n));var c=this._bgVNode&&this._bgVNode.elm;c&&(c.setAttribute("width",t),c.setAttribute("height",n))}}},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},e.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},e.prototype.toDataURL=function(t){var n=this.renderToString(),r="data:image/svg+xml;";return t?(n=CIe(n),n&&r+"base64,"+n):r+"charset=UTF-8,"+encodeURIComponent(n)},e}();function v9(e){return function(){}}function Z3e(e,t,n,r){var i;if(n&&n!=="none")if(i=oo("rect","bg",{width:e,height:t,x:"0",y:"0"}),OZ(n))kX({fill:n},i.attrs,"fill",r);else if(FO(n))OX({style:{fill:n},dirty:Qo,getBoundingRect:function(){return{width:e,height:t}}},i.attrs,"fill",r);else{var o=A0(n),s=o.color,a=o.opacity;i.attrs.fill=s,a<1&&(i.attrs["fill-opacity"]=a)}return i}function q3e(e){e.registerPainter("svg",W3e)}function y9(e,t,n){var r=Ug.createCanvas(),i=t.getWidth(),o=t.getHeight(),s=r.style;return s&&(s.position="absolute",s.left="0",s.top="0",s.width=i+"px",s.height=o+"px",r.setAttribute("data-zr-dom-id",e)),r.width=i*n,r.height=o*n,r}var sI=function(e){Xt(t,e);function t(n,r,i){var o=e.call(this)||this;o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.maxRepaintRectCount=5,o.__dirty=!0,o.__firstTimePaint=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,o.__prevStartIndex=null,o.__prevEndIndex=null;var s;i=i||AS,typeof n=="string"?s=y9(n,r,i):Pn(n)&&(s=n,n=s.id),o.id=n,o.dom=s;var a=s.style;return a&&(vZ(s),s.onselectstart=function(){return!1},a.padding="0",a.margin="0",a.borderWidth="0"),o.painter=r,o.dpr=i,o}return t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var n=this.dpr;this.domBack=y9("back-"+this.id,this.painter,n),this.ctxBack=this.domBack.getContext("2d"),n!==1&&this.ctxBack.scale(n,n)},t.prototype.createRepaintRects=function(n,r,i,o){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var s=[],a=this.maxRepaintRectCount,c=!1,h=new dr(0,0,0,0);function d(k){if(!(!k.isFinite()||k.isZero()))if(s.length===0){var R=new dr(0,0,0,0);R.copy(k),s.push(R)}else{for(var z=!1,V=1/0,U=0,N=0;N<s.length;++N){var W=s[N];if(W.intersect(k)){var X=new dr(0,0,0,0);X.copy(W),X.union(k),s[N]=X,z=!0;break}else if(c){h.copy(k),h.union(W);var K=k.width*k.height,te=W.width*W.height,ae=h.width*h.height,me=ae-K-te;me<V&&(V=me,U=N)}}if(c&&(s[U].union(k),z=!0),!z){var R=new dr(0,0,0,0);R.copy(k),s.push(R)}c||(c=s.length>=a)}}for(var g=this.__startIndex;g<this.__endIndex;++g){var y=n[g];if(y){var v=y.shouldBePainted(i,o,!0,!0),x=y.__isRendered&&(y.__dirty&ts||!v)?y.getPrevPaintRect():null;x&&d(x);var C=v&&(y.__dirty&ts||!y.__isRendered)?y.getPaintRect():null;C&&d(C)}}for(var g=this.__prevStartIndex;g<this.__prevEndIndex;++g){var y=r[g],v=y&&y.shouldBePainted(i,o,!0,!0);if(y&&(!v||!y.__zr)&&y.__isRendered){var x=y.getPrevPaintRect();x&&d(x)}}var I;do{I=!1;for(var g=0;g<s.length;){if(s[g].isZero()){s.splice(g,1);continue}for(var A=g+1;A<s.length;)s[g].intersect(s[A])?(I=!0,s[g].union(s[A]),s.splice(A,1)):A++;g++}}while(I);return this._paintRects=s,s},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(n,r){var i=this.dpr,o=this.dom,s=o.style,a=this.domBack;s&&(s.width=n+"px",s.height=r+"px"),o.width=n*i,o.height=r*i,a&&(a.width=n*i,a.height=r*i,i!==1&&this.ctxBack.scale(i,i))},t.prototype.clear=function(n,r,i){var o=this.dom,s=this.ctx,a=o.width,c=o.height;r=r||this.clearColor;var h=this.motionBlur&&!n,d=this.lastFrameAlpha,g=this.dpr,y=this;h&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(o,0,0,a/g,c/g));var v=this.domBack;function x(C,I,A,k){if(s.clearRect(C,I,A,k),r&&r!=="transparent"){var R=void 0;if(W2(r)){var z=r.global||r.__width===A&&r.__height===k;R=z&&r.__canvasGradient||jA(s,r,{x:0,y:0,width:A,height:k}),r.__canvasGradient=R,r.__width=A,r.__height=k}else AEe(r)&&(r.scaleX=r.scaleX||g,r.scaleY=r.scaleY||g,R=HA(s,r,{dirty:function(){y.setUnpainted(),y.painter.refresh()}}));s.save(),s.fillStyle=R||r,s.fillRect(C,I,A,k),s.restore()}h&&(s.save(),s.globalAlpha=d,s.drawImage(v,C,I,A,k),s.restore())}!i||h?x(0,0,a,c):i.length&&Ne(i,function(C){x(C.x*g,C.y*g,C.width*g,C.height*g)})},t}(vl),_9=1e5,Kd=314159,qx=.01,K3e=.001;function X3e(e){return e?e.__builtin__?!0:!(typeof e.resize!="function"||typeof e.refresh!="function"):!1}function Y3e(e,t){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}var J3e=function(){function e(t,n,r,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=r=en({},r||{}),this.dpr=r.devicePixelRatio||AS,this._singleCanvas=o,this.root=t;var s=t.style;s&&(vZ(t),t.innerHTML=""),this.storage=n;var a=this._zlevelList;this._prevDisplayList=[];var c=this._layers;if(o){var d=t,g=d.width,y=d.height;r.width!=null&&(g=r.width),r.height!=null&&(y=r.height),this.dpr=r.devicePixelRatio||1,d.width=g*this.dpr,d.height=y*this.dpr,this._width=g,this._height=y;var v=new sI(d,this,this.dpr);v.__builtin__=!0,v.initContext(),c[Kd]=v,v.zlevel=Kd,a.push(Kd),this._domRoot=t}else{this._width=Rm(t,0,r),this._height=Rm(t,1,r);var h=this._domRoot=Y3e(this._width,this._height);t.appendChild(h)}}return e.prototype.getType=function(){return"canvas"},e.prototype.isSingleCanvas=function(){return this._singleCanvas},e.prototype.getViewportRoot=function(){return this._domRoot},e.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},e.prototype.refresh=function(t){var n=this.storage.getDisplayList(!0),r=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(n,r,t,this._redrawId);for(var o=0;o<i.length;o++){var s=i[o],a=this._layers[s];if(!a.__builtin__&&a.refresh){var c=o===0?this._backgroundColor:null;a.refresh(c)}}return this._opts.useDirtyRect&&(this._prevDisplayList=n.slice()),this},e.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},e.prototype._paintHoverList=function(t){var n=t.length,r=this._hoverlayer;if(r&&r.clear(),!!n){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},o,s=0;s<n;s++){var a=t[s];a.__inHover&&(r||(r=this._hoverlayer=this.getLayer(_9)),o||(o=r.ctx,o.save()),ff(o,a,i,s===n-1))}o&&o.restore()}},e.prototype.getHoverLayer=function(){return this.getLayer(_9)},e.prototype.paintOne=function(t,n){kK(t,n)},e.prototype._paintList=function(t,n,r,i){if(this._redrawId===i){r=r||!1,this._updateLayerStatus(t);var o=this._doPaintList(t,n,r),s=o.finished,a=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),a&&this._paintHoverList(t),s)this.eachLayer(function(h){h.afterBrush&&h.afterBrush()});else{var c=this;SS(function(){c._paintList(t,n,r,i)})}}},e.prototype._compositeManually=function(){var t=this.getLayer(Kd).ctx,n=this._domRoot.width,r=this._domRoot.height;t.clearRect(0,0,n,r),this.eachBuiltinLayer(function(i){i.virtual&&t.drawImage(i.dom,0,0,n,r)})},e.prototype._doPaintList=function(t,n,r){for(var i=this,o=[],s=this._opts.useDirtyRect,a=0;a<this._zlevelList.length;a++){var c=this._zlevelList[a],h=this._layers[c];h.__builtin__&&h!==this._hoverlayer&&(h.__dirty||r)&&o.push(h)}for(var d=!0,g=!1,y=function(C){var I=o[C],A=I.ctx,k=s&&I.createRepaintRects(t,n,v._width,v._height),R=r?I.__startIndex:I.__drawIndex,z=!r&&I.incremental&&Date.now,V=z&&Date.now(),U=I.zlevel===v._zlevelList[0]?v._backgroundColor:null;if(I.__startIndex===I.__endIndex)I.clear(!1,U,k);else if(R===I.__startIndex){var N=t[R];(!N.incremental||!N.notClear||r)&&I.clear(!1,U,k)}R===-1&&(console.error("For some unknown reason. drawIndex is -1"),R=I.__startIndex);var W,X=function(me){var we={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(W=R;W<I.__endIndex;W++){var se=t[W];if(se.__inHover&&(g=!0),i._doPaintEl(se,I,s,me,we,W===I.__endIndex-1),z){var ue=Date.now()-V;if(ue>15)break}}we.prevElClipPaths&&A.restore()};if(k)if(k.length===0)W=I.__endIndex;else for(var K=v.dpr,te=0;te<k.length;++te){var ae=k[te];A.save(),A.beginPath(),A.rect(ae.x*K,ae.y*K,ae.width*K,ae.height*K),A.clip(),X(ae),A.restore()}else A.save(),X(),A.restore();I.__drawIndex=W,I.__drawIndex<I.__endIndex&&(d=!1)},v=this,x=0;x<o.length;x++)y(x);return Ln.wxa&&Ne(this._layers,function(C){C&&C.ctx&&C.ctx.draw&&C.ctx.draw()}),{finished:d,needsRefreshHover:g}},e.prototype._doPaintEl=function(t,n,r,i,o,s){var a=n.ctx;if(r){var c=t.getPaintRect();(!i||c&&c.intersect(i))&&(ff(a,t,o,s),t.setPrevPaintRect(c))}else ff(a,t,o,s)},e.prototype.getLayer=function(t,n){this._singleCanvas&&!this._needsManuallyCompositing&&(t=Kd);var r=this._layers[t];return r||(r=new sI("zr_"+t,this,this.dpr),r.zlevel=t,r.__builtin__=!0,this._layerConfig[t]?ur(r,this._layerConfig[t],!0):this._layerConfig[t-qx]&&ur(r,this._layerConfig[t-qx],!0),n&&(r.virtual=n),this.insertLayer(t,r),r.initContext()),r},e.prototype.insertLayer=function(t,n){var r=this._layers,i=this._zlevelList,o=i.length,s=this._domRoot,a=null,c=-1;if(!r[t]&&X3e(n)){if(o>0&&t>i[0]){for(c=0;c<o-1&&!(i[c]<t&&i[c+1]>t);c++);a=r[i[c]]}if(i.splice(c+1,0,t),r[t]=n,!n.virtual)if(a){var h=a.dom;h.nextSibling?s.insertBefore(n.dom,h.nextSibling):s.appendChild(n.dom)}else s.firstChild?s.insertBefore(n.dom,s.firstChild):s.appendChild(n.dom);n.painter||(n.painter=this)}},e.prototype.eachLayer=function(t,n){for(var r=this._zlevelList,i=0;i<r.length;i++){var o=r[i];t.call(n,this._layers[o],o)}},e.prototype.eachBuiltinLayer=function(t,n){for(var r=this._zlevelList,i=0;i<r.length;i++){var o=r[i],s=this._layers[o];s.__builtin__&&t.call(n,s,o)}},e.prototype.eachOtherLayer=function(t,n){for(var r=this._zlevelList,i=0;i<r.length;i++){var o=r[i],s=this._layers[o];s.__builtin__||t.call(n,s,o)}},e.prototype.getLayers=function(){return this._layers},e.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(g,y){g.__dirty=g.__used=!1});function n(g){o&&(o.__endIndex!==g&&(o.__dirty=!0),o.__endIndex=g)}if(this._singleCanvas)for(var r=1;r<t.length;r++){var i=t[r];if(i.zlevel!==t[r-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var o=null,s=0,a,c;for(c=0;c<t.length;c++){var i=t[c],h=i.zlevel,d=void 0;a!==h&&(a=h,s=0),i.incremental?(d=this.getLayer(h+K3e,this._needsManuallyCompositing),d.incremental=!0,s=1):d=this.getLayer(h+(s>0?qx:0),this._needsManuallyCompositing),d.__builtin__||DO("ZLevel "+h+" has been used by unkown layer "+d.id),d!==o&&(d.__used=!0,d.__startIndex!==c&&(d.__dirty=!0),d.__startIndex=c,d.incremental?d.__drawIndex=-1:d.__drawIndex=c,n(c),o=d),i.__dirty&ts&&!i.__inHover&&(d.__dirty=!0,d.incremental&&d.__drawIndex<0&&(d.__drawIndex=c))}n(c),this.eachBuiltinLayer(function(g,y){!g.__used&&g.getElementCount()>0&&(g.__dirty=!0,g.__startIndex=g.__endIndex=g.__drawIndex=0),g.__dirty&&g.__drawIndex<0&&(g.__drawIndex=g.__startIndex)})},e.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},e.prototype._clearLayer=function(t){t.clear()},e.prototype.setBackgroundColor=function(t){this._backgroundColor=t,Ne(this._layers,function(n){n.setUnpainted()})},e.prototype.configLayer=function(t,n){if(n){var r=this._layerConfig;r[t]?ur(r[t],n,!0):r[t]=n;for(var i=0;i<this._zlevelList.length;i++){var o=this._zlevelList[i];if(o===t||o===t+qx){var s=this._layers[o];ur(s,r[t],!0)}}}},e.prototype.delLayer=function(t){var n=this._layers,r=this._zlevelList,i=n[t];i&&(i.dom.parentNode.removeChild(i.dom),delete n[t],r.splice(hr(r,t),1))},e.prototype.resize=function(t,n){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var i=this._opts,o=this.root;if(t!=null&&(i.width=t),n!=null&&(i.height=n),t=Rm(o,0,i),n=Rm(o,1,i),r.style.display="",this._width!==t||n!==this._height){r.style.width=t+"px",r.style.height=n+"px";for(var s in this._layers)this._layers.hasOwnProperty(s)&&this._layers[s].resize(t,n);this.refresh(!0)}this._width=t,this._height=n}else{if(t==null||n==null)return;this._width=t,this._height=n,this.getLayer(Kd).resize(t,n)}return this},e.prototype.clearLayer=function(t){var n=this._layers[t];n&&n.clear()},e.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},e.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[Kd].dom;var n=new sI("image",this,t.pixelRatio||this.dpr);n.initContext(),n.clear(!1,t.backgroundColor||this._backgroundColor);var r=n.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var i=n.dom.width,o=n.dom.height;this.eachLayer(function(g){g.__builtin__?r.drawImage(g.dom,0,0,i,o):g.renderToCanvas&&(r.save(),g.renderToCanvas(r),r.restore())})}else for(var s={inHover:!1,viewWidth:this._width,viewHeight:this._height},a=this.storage.getDisplayList(!0),c=0,h=a.length;c<h;c++){var d=a[c];ff(r,d,s,c===h-1)}return n.dom},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e}();function Q3e(e){e.registerPainter("canvas",J3e)}var e$e=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return t.prototype.getInitialData=function(n){return rX(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(n){var r=new gi,i=dl("line",0,n.itemHeight/2,n.itemWidth,0,n.lineStyle.stroke,!1);r.add(i),i.setStyle(n.lineStyle);var o=this.getData().getVisual("symbol"),s=this.getData().getVisual("symbolRotate"),a=o==="none"?"circle":o,c=n.itemHeight*.8,h=dl(a,(n.itemWidth-c)/2,(n.itemHeight-c)/2,c,c,n.itemStyle.fill);r.add(h),h.setStyle(n.itemStyle);var d=n.iconRotate==="inherit"?s:n.iconRotate||0;return h.rotation=d*Math.PI/180,h.setOrigin([n.itemWidth/2,n.itemHeight/2]),a.indexOf("empty")>-1&&(h.style.stroke=h.style.fill,h.style.fill="#fff",h.style.lineWidth=2),r},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(Ql);function zX(e,t){var n=e.mapDimensionsAll("defaultedLabel"),r=n.length;if(r===1){var i=Mg(e,t,n[0]);return i!=null?i+"":null}else if(r){for(var o=[],s=0;s<n.length;s++)o.push(Mg(e,t,n[s]));return o.join(" ")}}function t$e(e,t){var n=e.mapDimensionsAll("defaultedLabel");if(!cn(t))return t+"";for(var r=[],i=0;i<n.length;i++){var o=e.getDimensionIndex(n[i]);o>=0&&r.push(t[o])}return r.join(" ")}var NR=function(e){Xt(t,e);function t(n,r,i,o){var s=e.call(this)||this;return s.updateData(n,r,i,o),s}return t.prototype._createSymbol=function(n,r,i,o,s){this.removeAll();var a=dl(n,-1,-1,2,2,null,s);a.attr({z2:100,culling:!0,scaleX:o[0]/2,scaleY:o[1]/2}),a.drift=n$e,this._symbolType=n,this.add(a)},t.prototype.stopSymbolAnimation=function(n){this.childAt(0).stopAnimation(null,n)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){L0(this.childAt(0))},t.prototype.downplay=function(){$0(this.childAt(0))},t.prototype.setZ=function(n,r){var i=this.childAt(0);i.zlevel=n,i.z=r},t.prototype.setDraggable=function(n,r){var i=this.childAt(0);i.draggable=n,i.cursor=!r&&n?"move":i.cursor},t.prototype.updateData=function(n,r,i,o){this.silent=!1;var s=n.getItemVisual(r,"symbol")||"circle",a=n.hostModel,c=t.getSymbolSize(n,r),h=s!==this._symbolType,d=o&&o.disableAnimation;if(h){var g=n.getItemVisual(r,"symbolKeepAspect");this._createSymbol(s,n,r,c,g)}else{var y=this.childAt(0);y.silent=!1;var v={scaleX:c[0]/2,scaleY:c[1]/2};d?y.attr(v):Jl(y,v,a,r),cDe(y)}if(this._updateCommon(n,r,c,i,o),h){var y=this.childAt(0);if(!d){var v={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:y.style.opacity}};y.scaleX=y.scaleY=0,y.style.opacity=0,Zg(y,v,a,r)}}d&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(n,r,i,o,s){var a=this.childAt(0),c=n.hostModel,h,d,g,y,v,x,C,I,A;if(o&&(h=o.emphasisItemStyle,d=o.blurItemStyle,g=o.selectItemStyle,y=o.focus,v=o.blurScope,C=o.labelStatesModels,I=o.hoverScale,A=o.cursorStyle,x=o.emphasisDisabled),!o||n.hasItemOption){var k=o&&o.itemModel?o.itemModel:n.getItemModel(r),R=k.getModel("emphasis");h=R.getModel("itemStyle").getItemStyle(),g=k.getModel(["select","itemStyle"]).getItemStyle(),d=k.getModel(["blur","itemStyle"]).getItemStyle(),y=R.get("focus"),v=R.get("blurScope"),x=R.get("disabled"),C=wb(k),I=R.getShallow("scale"),A=k.getShallow("cursor")}var z=n.getItemVisual(r,"symbolRotate");a.attr("rotation",(z||0)*Math.PI/180||0);var V=SC(n.getItemVisual(r,"symbolOffset"),i);V&&(a.x=V[0],a.y=V[1]),A&&a.attr("cursor",A);var U=n.getItemVisual(r,"style"),N=U.fill;if(a instanceof ru){var W=a.style;a.useStyle(en({image:W.image,x:W.x,y:W.y,width:W.width,height:W.height},U))}else a.__isEmptyBrush?a.useStyle(en({},U)):a.useStyle(U),a.style.decal=null,a.setColor(N,s&&s.symbolInnerColor),a.style.strokeNoScale=!0;var X=n.getItemVisual(r,"liftZ"),K=this._z2;X!=null?K==null&&(this._z2=a.z2,a.z2+=X):K!=null&&(a.z2=K,this._z2=null);var te=s&&s.useNameLabel;dC(a,C,{labelFetcher:c,labelDataIndex:r,defaultText:ae,inheritColor:N,defaultOpacity:U.opacity});function ae(se){return te?n.getName(se):zX(n,se)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var me=a.ensureState("emphasis");me.style=h,a.ensureState("select").style=g,a.ensureState("blur").style=d;var we=I==null||I===!0?Math.max(1.1,3/this._sizeY):isFinite(I)&&I>0?+I:1;me.scaleX=this._sizeX*we,me.scaleY=this._sizeY*we,this.setSymbolScale(1),z0(this,y,v,x)},t.prototype.setSymbolScale=function(n){this.scaleX=this.scaleY=n},t.prototype.fadeOut=function(n,r,i){var o=this.childAt(0),s=sr(this).dataIndex,a=i&&i.animation;if(this.silent=o.silent=!0,i&&i.fadeLabel){var c=o.getTextContent();c&&$S(c,{style:{opacity:0}},r,{dataIndex:s,removeOpt:a,cb:function(){o.removeTextContent()}})}else o.removeTextContent();$S(o,{style:{opacity:0},scaleX:0,scaleY:0},r,{dataIndex:s,cb:n,removeOpt:a})},t.getSymbolSize=function(n,r){return bR(n.getItemVisual(r,"symbolSize"))},t}(gi);function n$e(e,t){this.parent.drift(e,t)}function lI(e,t,n,r){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(r.isIgnore&&r.isIgnore(n))&&!(r.clipShape&&!r.clipShape.contain(t[0],t[1]))&&e.getItemVisual(n,"symbol")!=="none"}function b9(e){return e!=null&&!Pn(e)&&(e={isIgnore:e}),e||{}}function x9(e){var t=e.hostModel,n=t.getModel("emphasis");return{emphasisItemStyle:n.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:n.get("focus"),blurScope:n.get("blurScope"),emphasisDisabled:n.get("disabled"),hoverScale:n.get("scale"),labelStatesModels:wb(t),cursorStyle:t.get("cursor")}}var VR=function(){function e(t){this.group=new gi,this._SymbolCtor=t||NR}return e.prototype.updateData=function(t,n){this._progressiveEls=null,n=b9(n);var r=this.group,i=t.hostModel,o=this._data,s=this._SymbolCtor,a=n.disableAnimation,c=x9(t),h={disableAnimation:a},d=n.getSymbolPoint||function(g){return t.getItemLayout(g)};o||r.removeAll(),t.diff(o).add(function(g){var y=d(g);if(lI(t,y,g,n)){var v=new s(t,g,c,h);v.setPosition(y),t.setItemGraphicEl(g,v),r.add(v)}}).update(function(g,y){var v=o.getItemGraphicEl(y),x=d(g);if(!lI(t,x,g,n)){r.remove(v);return}var C=t.getItemVisual(g,"symbol")||"circle",I=v&&v.getSymbolType&&v.getSymbolType();if(!v||I&&I!==C)r.remove(v),v=new s(t,g,c,h),v.setPosition(x);else{v.updateData(t,g,c,h);var A={x:x[0],y:x[1]};a?v.attr(A):Jl(v,A,i)}r.add(v),t.setItemGraphicEl(g,v)}).remove(function(g){var y=o.getItemGraphicEl(g);y&&y.fadeOut(function(){r.remove(y)},i)}).execute(),this._getSymbolPoint=d,this._data=t},e.prototype.updateLayout=function(){var t=this,n=this._data;n&&n.eachItemGraphicEl(function(r,i){var o=t._getSymbolPoint(i);r.setPosition(o),r.markRedraw()})},e.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=x9(t),this._data=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(t,n,r){this._progressiveEls=[],r=b9(r);function i(c){c.isGroup||(c.incremental=!0,c.ensureState("emphasis").hoverLayer=!0)}for(var o=t.start;o<t.end;o++){var s=n.getItemLayout(o);if(lI(n,s,o,r)){var a=new this._SymbolCtor(n,o,this._seriesScope);a.traverse(i),a.setPosition(s),this.group.add(a),n.setItemGraphicEl(o,a),this._progressiveEls.push(a)}}},e.prototype.eachRendered=function(t){cC(this._progressiveEls||this.group,t)},e.prototype.remove=function(t){var n=this.group,r=this._data;r&&t?r.eachItemGraphicEl(function(i){i.fadeOut(function(){n.remove(i)},r.hostModel)}):n.removeAll()},e}();function BX(e,t,n){var r=e.getBaseAxis(),i=e.getOtherAxis(r),o=r$e(i,n),s=r.dim,a=i.dim,c=t.mapDimension(a),h=t.mapDimension(s),d=a==="x"||a==="radius"?1:0,g=_n(e.dimensions,function(x){return t.mapDimension(x)}),y=!1,v=t.getCalculationInfo("stackResultDimension");return Ag(t,g[0])&&(y=!0,g[0]=v),Ag(t,g[1])&&(y=!0,g[1]=v),{dataDimsForPoint:g,valueStart:o,valueAxisDim:a,baseAxisDim:s,stacked:!!y,valueDim:c,baseDim:h,baseDataOffset:d,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function r$e(e,t){var n=0,r=e.scale.getExtent();return t==="start"?n=r[0]:t==="end"?n=r[1]:ti(t)&&!isNaN(t)?n=t:r[0]>0?n=r[0]:r[1]<0&&(n=r[1]),n}function FX(e,t,n,r){var i=NaN;e.stacked&&(i=n.get(n.getCalculationInfo("stackedOverDimension"),r)),isNaN(i)&&(i=e.valueStart);var o=e.baseDataOffset,s=[];return s[o]=n.get(e.baseDim,r),s[1-o]=i,t.dataToPoint(s)}function i$e(e,t){var n=[];return t.diff(e).add(function(r){n.push({cmd:"+",idx:r})}).update(function(r,i){n.push({cmd:"=",idx:i,idx1:r})}).remove(function(r){n.push({cmd:"-",idx:r})}).execute(),n}function o$e(e,t,n,r,i,o,s,a){for(var c=i$e(e,t),h=[],d=[],g=[],y=[],v=[],x=[],C=[],I=BX(i,t,s),A=e.getLayout("points")||[],k=t.getLayout("points")||[],R=0;R<c.length;R++){var z=c[R],V=!0,U=void 0,N=void 0;switch(z.cmd){case"=":U=z.idx*2,N=z.idx1*2;var W=A[U],X=A[U+1],K=k[N],te=k[N+1];(isNaN(W)||isNaN(X))&&(W=K,X=te),h.push(W,X),d.push(K,te),g.push(n[U],n[U+1]),y.push(r[N],r[N+1]),C.push(t.getRawIndex(z.idx1));break;case"+":var ae=z.idx,me=I.dataDimsForPoint,we=i.dataToPoint([t.get(me[0],ae),t.get(me[1],ae)]);N=ae*2,h.push(we[0],we[1]),d.push(k[N],k[N+1]);var se=FX(I,i,t,ae);g.push(se[0],se[1]),y.push(r[N],r[N+1]),C.push(t.getRawIndex(ae));break;case"-":V=!1}V&&(v.push(z),x.push(x.length))}x.sort(function(Lt,Yt){return C[Lt]-C[Yt]});for(var ue=h.length,Te=Lm(ue),Be=Lm(ue),ke=Lm(ue),rt=Lm(ue),ot=[],R=0;R<x.length;R++){var tt=x[R],It=R*2,Bt=tt*2;Te[It]=h[Bt],Te[It+1]=h[Bt+1],Be[It]=d[Bt],Be[It+1]=d[Bt+1],ke[It]=g[Bt],ke[It+1]=g[Bt+1],rt[It]=y[Bt],rt[It+1]=y[Bt+1],ot[R]=v[tt]}return{current:Te,next:Be,stackedOnCurrent:ke,stackedOnNext:rt,status:ot}}var qc=Math.min,Kc=Math.max;function Pf(e,t){return isNaN(e)||isNaN(t)}function tD(e,t,n,r,i,o,s,a,c){for(var h,d,g,y,v,x,C=n,I=0;I<r;I++){var A=t[C*2],k=t[C*2+1];if(C>=i||C<0)break;if(Pf(A,k)){if(c){C+=o;continue}break}if(C===n)e[o>0?"moveTo":"lineTo"](A,k),g=A,y=k;else{var R=A-h,z=k-d;if(R*R+z*z<.5){C+=o;continue}if(s>0){for(var V=C+o,U=t[V*2],N=t[V*2+1];U===A&&N===k&&I<r;)I++,V+=o,C+=o,U=t[V*2],N=t[V*2+1],A=t[C*2],k=t[C*2+1],R=A-h,z=k-d;var W=I+1;if(c)for(;Pf(U,N)&&W<r;)W++,V+=o,U=t[V*2],N=t[V*2+1];var X=.5,K=0,te=0,ae=void 0,me=void 0;if(W>=r||Pf(U,N))v=A,x=k;else{K=U-h,te=N-d;var we=A-h,se=U-A,ue=k-d,Te=N-k,Be=void 0,ke=void 0;if(a==="x"){Be=Math.abs(we),ke=Math.abs(se);var rt=K>0?1:-1;v=A-rt*Be*s,x=k,ae=A+rt*ke*s,me=k}else if(a==="y"){Be=Math.abs(ue),ke=Math.abs(Te);var ot=te>0?1:-1;v=A,x=k-ot*Be*s,ae=A,me=k+ot*ke*s}else Be=Math.sqrt(we*we+ue*ue),ke=Math.sqrt(se*se+Te*Te),X=ke/(ke+Be),v=A-K*s*(1-X),x=k-te*s*(1-X),ae=A+K*s*X,me=k+te*s*X,ae=qc(ae,Kc(U,A)),me=qc(me,Kc(N,k)),ae=Kc(ae,qc(U,A)),me=Kc(me,qc(N,k)),K=ae-A,te=me-k,v=A-K*Be/ke,x=k-te*Be/ke,v=qc(v,Kc(h,A)),x=qc(x,Kc(d,k)),v=Kc(v,qc(h,A)),x=Kc(x,qc(d,k)),K=A-v,te=k-x,ae=A+K*ke/Be,me=k+te*ke/Be}e.bezierCurveTo(g,y,v,x,A,k),g=ae,y=me}else e.lineTo(A,k)}h=A,d=k,C+=o}return I}var NX=function(){function e(){this.smooth=0,this.smoothConstraint=!0}return e}(),a$e=function(e){Xt(t,e);function t(n){var r=e.call(this,n)||this;return r.type="ec-polyline",r}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new NX},t.prototype.buildPath=function(n,r){var i=r.points,o=0,s=i.length/2;if(r.connectNulls){for(;s>0&&Pf(i[s*2-2],i[s*2-1]);s--);for(;o<s&&Pf(i[o*2],i[o*2+1]);o++);}for(;o<s;)o+=tD(n,i,o,s,s,1,r.smooth,r.smoothMonotone,r.connectNulls)+1},t.prototype.getPointOn=function(n,r){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,o=i.data,s=Mh.CMD,a,c,h=r==="x",d=[],g=0;g<o.length;){var y=o[g++],v=void 0,x=void 0,C=void 0,I=void 0,A=void 0,k=void 0,R=void 0;switch(y){case s.M:a=o[g++],c=o[g++];break;case s.L:if(v=o[g++],x=o[g++],R=h?(n-a)/(v-a):(n-c)/(x-c),R<=1&&R>=0){var z=h?(x-c)*R+c:(v-a)*R+a;return h?[n,z]:[z,n]}a=v,c=x;break;case s.C:v=o[g++],x=o[g++],C=o[g++],I=o[g++],A=o[g++],k=o[g++];var V=h?TS(a,v,C,A,n,d):TS(c,x,I,k,n,d);if(V>0)for(var U=0;U<V;U++){var N=d[U];if(N<=1&&N>=0){var z=h?Po(c,x,I,k,N):Po(a,v,C,A,N);return h?[n,z]:[z,n]}}a=A,c=k;break}}},t}(yr),s$e=function(e){Xt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(NX),l$e=function(e){Xt(t,e);function t(n){var r=e.call(this,n)||this;return r.type="ec-polygon",r}return t.prototype.getDefaultShape=function(){return new s$e},t.prototype.buildPath=function(n,r){var i=r.points,o=r.stackedOnPoints,s=0,a=i.length/2,c=r.smoothMonotone;if(r.connectNulls){for(;a>0&&Pf(i[a*2-2],i[a*2-1]);a--);for(;s<a&&Pf(i[s*2],i[s*2+1]);s++);}for(;s<a;){var h=tD(n,i,s,a,a,1,r.smooth,c,r.connectNulls);tD(n,o,s+h-1,h,a,-1,r.stackedOnSmooth,c,r.connectNulls),s+=h+1,n.closePath()}},t}(yr);function VX(e,t,n,r,i){var o=e.getArea(),s=o.x,a=o.y,c=o.width,h=o.height,d=n.get(["lineStyle","width"])||0;s-=d/2,a-=d/2,c+=d,h+=d,c=Math.ceil(c),s!==Math.floor(s)&&(s=Math.floor(s),c++);var g=new Si({shape:{x:s,y:a,width:c,height:h}});if(t){var y=e.getBaseAxis(),v=y.isHorizontal(),x=y.inverse;v?(x&&(g.shape.x+=c),g.shape.width=0):(x||(g.shape.y+=h),g.shape.height=0);var C=Sn(i)?function(I){i(I,g)}:null;Zg(g,{shape:{width:c,height:h,x:s,y:a}},n,null,r,C)}return g}function jX(e,t,n){var r=e.getArea(),i=$i(r.r0,1),o=$i(r.r,1),s=new oC({shape:{cx:$i(e.cx,1),cy:$i(e.cy,1),r0:i,r:o,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});if(t){var a=e.getBaseAxis().dim==="angle";a?s.shape.endAngle=r.startAngle:s.shape.r=i,Zg(s,{shape:{endAngle:r.endAngle,r:o}},n)}return s}function u$e(e,t,n,r,i){if(e){if(e.type==="polar")return jX(e,t,n);if(e.type==="cartesian2d")return VX(e,t,n,r,i)}else return null;return null}function c$e(e,t){return e.type===t}function w9(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return;return!0}}function S9(e){for(var t=1/0,n=1/0,r=-1/0,i=-1/0,o=0;o<e.length;){var s=e[o++],a=e[o++];isNaN(s)||(t=Math.min(s,t),r=Math.max(s,r)),isNaN(a)||(n=Math.min(a,n),i=Math.max(a,i))}return[[t,n],[r,i]]}function C9(e,t){var n=S9(e),r=n[0],i=n[1],o=S9(t),s=o[0],a=o[1];return Math.max(Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]),Math.abs(i[0]-a[0]),Math.abs(i[1]-a[1]))}function T9(e){return ti(e)?e:e?.5:0}function h$e(e,t,n){if(!n.valueDim)return[];for(var r=t.count(),i=Lm(r*2),o=0;o<r;o++){var s=FX(n,e,t,o);i[o*2]=s[0],i[o*2+1]=s[1]}return i}function Xc(e,t,n,r,i){var o=n.getBaseAxis(),s=o.dim==="x"||o.dim==="radius"?0:1,a=[],c=0,h=[],d=[],g=[],y=[];if(i){for(c=0;c<e.length;c+=2){var v=t||e;!isNaN(v[c])&&!isNaN(v[c+1])&&y.push(e[c],e[c+1])}e=y}for(c=0;c<e.length-2;c+=2)switch(g[0]=e[c+2],g[1]=e[c+3],d[0]=e[c],d[1]=e[c+1],a.push(d[0],d[1]),r){case"end":h[s]=g[s],h[1-s]=d[1-s],a.push(h[0],h[1]);break;case"middle":var x=(d[s]+g[s])/2,C=[];h[s]=C[s]=x,h[1-s]=d[1-s],C[1-s]=g[1-s],a.push(h[0],h[1]),a.push(C[0],C[1]);break;default:h[s]=d[s],h[1-s]=g[1-s],a.push(h[0],h[1])}return a.push(e[c++],e[c++]),a}function d$e(e,t){var n=[],r=e.length,i,o;function s(d,g,y){var v=d.coord,x=(y-v)/(g.coord-v),C=vIe(x,[d.color,g.color]);return{coord:y,color:C}}for(var a=0;a<r;a++){var c=e[a],h=c.coord;if(h<0)i=c;else if(h>t){o?n.push(s(o,c,t)):i&&n.push(s(i,c,0),s(i,c,t));break}else i&&(n.push(s(i,c,0)),i=null),n.push(c),o=c}return n}function f$e(e,t,n){var r=e.getVisual("visualMeta");if(!(!r||!r.length||!e.count())&&t.type==="cartesian2d"){for(var i,o,s=r.length-1;s>=0;s--){var a=e.getDimensionInfo(r[s].dimension);if(i=a&&a.coordDim,i==="x"||i==="y"){o=r[s];break}}if(o){var c=t.getAxis(i),h=_n(o.stops,function(R){return{coord:c.toGlobalCoord(c.dataToCoord(R.value)),color:R.color}}),d=h.length,g=o.outerColors.slice();d&&h[0].coord>h[d-1].coord&&(h.reverse(),g.reverse());var y=d$e(h,i==="x"?n.getWidth():n.getHeight()),v=y.length;if(!v&&d)return h[0].coord<0?g[1]?g[1]:h[d-1].color:g[0]?g[0]:h[0].color;var x=10,C=y[0].coord-x,I=y[v-1].coord+x,A=I-C;if(A<.001)return"transparent";Ne(y,function(R){R.offset=(R.coord-C)/A}),y.push({offset:v?y[v-1].offset:.5,color:g[1]||"transparent"}),y.unshift({offset:v?y[0].offset:.5,color:g[0]||"transparent"});var k=new Pq(0,0,0,0,y,!0);return k[i]=C,k[i+"2"]=I,k}}}function p$e(e,t,n){var r=e.get("showAllSymbol"),i=r==="auto";if(!(r&&!i)){var o=n.getAxesByScale("ordinal")[0];if(o&&!(i&&m$e(o,t))){var s=t.mapDimension(o.dim),a={};return Ne(o.getViewLabels(),function(c){var h=o.scale.getRawOrdinalNumber(c.tickValue);a[h]=1}),function(c){return!a.hasOwnProperty(t.get(s,c))}}}}function m$e(e,t){var n=e.getExtent(),r=Math.abs(n[1]-n[0])/e.scale.count();isNaN(r)&&(r=0);for(var i=t.count(),o=Math.max(1,Math.round(i/5)),s=0;s<i;s+=o)if(NR.getSymbolSize(t,s)[e.isHorizontal()?1:0]*1.5>r)return!1;return!0}function g$e(e,t){return isNaN(e)||isNaN(t)}function v$e(e){for(var t=e.length/2;t>0&&g$e(e[t*2-2],e[t*2-1]);t--);return t-1}function P9(e,t){return[e[t*2],e[t*2+1]]}function y$e(e,t,n){for(var r=e.length/2,i=n==="x"?0:1,o,s,a=0,c=-1,h=0;h<r;h++)if(s=e[h*2+i],!(isNaN(s)||isNaN(e[h*2+1-i]))){if(h===0){o=s;continue}if(o<=t&&s>=t||o>=t&&s<=t){c=h;break}a=h,o=s}return{range:[a,c],t:(t-o)/(s-o)}}function HX(e){if(e.get(["endLabel","show"]))return!0;for(var t=0;t<Hs.length;t++)if(e.get([Hs[t],"endLabel","show"]))return!0;return!1}function uI(e,t,n,r){if(c$e(t,"cartesian2d")){var i=r.getModel("endLabel"),o=i.get("valueAnimation"),s=r.getData(),a={lastFrameIndex:0},c=HX(r)?function(v,x){e._endLabelOnDuring(v,x,s,a,o,i,t)}:null,h=t.getBaseAxis().isHorizontal(),d=VX(t,n,r,function(){var v=e._endLabel;v&&n&&a.originalX!=null&&v.attr({x:a.originalX,y:a.originalY})},c);if(!r.get("clip",!0)){var g=d.shape,y=Math.max(g.width,g.height);h?(g.y-=y,g.height+=y*2):(g.x-=y,g.width+=y*2)}return c&&c(1,d),d}else return jX(t,n,r)}function _$e(e,t){var n=t.getBaseAxis(),r=n.isHorizontal(),i=n.inverse,o=r?i?"right":"left":"center",s=r?"middle":i?"top":"bottom";return{normal:{align:e.get("align")||o,verticalAlign:e.get("verticalAlign")||s}}}var b$e=function(e){Xt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(){var n=new gi,r=new VR;this.group.add(r.group),this._symbolDraw=r,this._lineGroup=n,this._changePolyState=zn(this._changePolyState,this)},t.prototype.render=function(n,r,i){var o=n.coordinateSystem,s=this.group,a=n.getData(),c=n.getModel("lineStyle"),h=n.getModel("areaStyle"),d=a.getLayout("points")||[],g=o.type==="polar",y=this._coordSys,v=this._symbolDraw,x=this._polyline,C=this._polygon,I=this._lineGroup,A=!r.ssr&&n.get("animation"),k=!h.isEmpty(),R=h.get("origin"),z=BX(o,a,R),V=k&&h$e(o,a,z),U=n.get("showSymbol"),N=n.get("connectNulls"),W=U&&!g&&p$e(n,a,o),X=this._data;X&&X.eachItemGraphicEl(function(Lt,Yt){Lt.__temp&&(s.remove(Lt),X.setItemGraphicEl(Yt,null))}),U||v.remove(),s.add(I);var K=g?!1:n.get("step"),te;o&&o.getArea&&n.get("clip",!0)&&(te=o.getArea(),te.width!=null?(te.x-=.1,te.y-=.1,te.width+=.2,te.height+=.2):te.r0&&(te.r0-=.5,te.r+=.5)),this._clipShapeForSymbol=te;var ae=f$e(a,o,i)||a.getVisual("style")[a.getVisual("drawType")];if(!(x&&y.type===o.type&&K===this._step))U&&v.updateData(a,{isIgnore:W,clipShape:te,disableAnimation:!0,getSymbolPoint:function(Lt){return[d[Lt*2],d[Lt*2+1]]}}),A&&this._initSymbolLabelAnimation(a,o,te),K&&(V&&(V=Xc(V,d,o,K,N)),d=Xc(d,null,o,K,N)),x=this._newPolyline(d),k?C=this._newPolygon(d,V):C&&(I.remove(C),C=this._polygon=null),g||this._initOrUpdateEndLabel(n,o,Vf(ae)),I.setClipPath(uI(this,o,!0,n));else{k&&!C?C=this._newPolygon(d,V):C&&!k&&(I.remove(C),C=this._polygon=null),g||this._initOrUpdateEndLabel(n,o,Vf(ae));var me=I.getClipPath();if(me){var we=uI(this,o,!1,n);Zg(me,{shape:we.shape},n)}else I.setClipPath(uI(this,o,!0,n));U&&v.updateData(a,{isIgnore:W,clipShape:te,disableAnimation:!0,getSymbolPoint:function(Lt){return[d[Lt*2],d[Lt*2+1]]}}),(!w9(this._stackedOnPoints,V)||!w9(this._points,d))&&(A?this._doUpdateAnimation(a,V,o,i,K,R,N):(K&&(V&&(V=Xc(V,d,o,K,N)),d=Xc(d,null,o,K,N)),x.setShape({points:d}),C&&C.setShape({points:d,stackedOnPoints:V})))}var se=n.getModel("emphasis"),ue=se.get("focus"),Te=se.get("blurScope"),Be=se.get("disabled");if(x.useStyle(Er(c.getLineStyle(),{fill:"none",stroke:ae,lineJoin:"bevel"})),SF(x,n,"lineStyle"),x.style.lineWidth>0&&n.get(["emphasis","lineStyle","width"])==="bolder"){var ke=x.getState("emphasis").style;ke.lineWidth=+x.style.lineWidth+1}sr(x).seriesIndex=n.seriesIndex,z0(x,ue,Te,Be);var rt=T9(n.get("smooth")),ot=n.get("smoothMonotone");if(x.setShape({smooth:rt,smoothMonotone:ot,connectNulls:N}),C){var tt=a.getCalculationInfo("stackedOnSeries"),It=0;C.useStyle(Er(h.getAreaStyle(),{fill:ae,opacity:.7,lineJoin:"bevel",decal:a.getVisual("style").decal})),tt&&(It=T9(tt.get("smooth"))),C.setShape({smooth:rt,stackedOnSmooth:It,smoothMonotone:ot,connectNulls:N}),SF(C,n,"areaStyle"),sr(C).seriesIndex=n.seriesIndex,z0(C,ue,Te,Be)}var Bt=this._changePolyState;a.eachItemGraphicEl(function(Lt){Lt&&(Lt.onHoverStateChange=Bt)}),this._polyline.onHoverStateChange=Bt,this._data=a,this._coordSys=o,this._stackedOnPoints=V,this._points=d,this._step=K,this._valueOrigin=R,n.get("triggerLineEvent")&&(this.packEventData(n,x),C&&this.packEventData(n,C))},t.prototype.packEventData=function(n,r){sr(r).eventData={componentType:"series",componentSubType:"line",componentIndex:n.componentIndex,seriesIndex:n.seriesIndex,seriesName:n.name,seriesType:"line"}},t.prototype.highlight=function(n,r,i,o){var s=n.getData(),a=Nf(s,o);if(this._changePolyState("emphasis"),!(a instanceof Array)&&a!=null&&a>=0){var c=s.getLayout("points"),h=s.getItemGraphicEl(a);if(!h){var d=c[a*2],g=c[a*2+1];if(isNaN(d)||isNaN(g)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(d,g))return;var y=n.get("zlevel")||0,v=n.get("z")||0;h=new NR(s,a),h.x=d,h.y=g,h.setZ(y,v);var x=h.getSymbolPath().getTextContent();x&&(x.zlevel=y,x.z=v,x.z2=this._polyline.z2+1),h.__temp=!0,s.setItemGraphicEl(a,h),h.stopSymbolAnimation(!0),this.group.add(h)}h.highlight()}else Ns.prototype.highlight.call(this,n,r,i,o)},t.prototype.downplay=function(n,r,i,o){var s=n.getData(),a=Nf(s,o);if(this._changePolyState("normal"),a!=null&&a>=0){var c=s.getItemGraphicEl(a);c&&(c.__temp?(s.setItemGraphicEl(a,null),this.group.remove(c)):c.downplay())}else Ns.prototype.downplay.call(this,n,r,i,o)},t.prototype._changePolyState=function(n){var r=this._polygon;yF(this._polyline,n),r&&yF(r,n)},t.prototype._newPolyline=function(n){var r=this._polyline;return r&&this._lineGroup.remove(r),r=new a$e({shape:{points:n},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(r),this._polyline=r,r},t.prototype._newPolygon=function(n,r){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new l$e({shape:{points:n,stackedOnPoints:r},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},t.prototype._initSymbolLabelAnimation=function(n,r,i){var o,s,a=r.getBaseAxis(),c=a.inverse;r.type==="cartesian2d"?(o=a.isHorizontal(),s=!1):r.type==="polar"&&(o=a.dim==="angle",s=!0);var h=n.hostModel,d=h.get("animationDuration");Sn(d)&&(d=d(null));var g=h.get("animationDelay")||0,y=Sn(g)?g(null):g;n.eachItemGraphicEl(function(v,x){var C=v;if(C){var I=[v.x,v.y],A=void 0,k=void 0,R=void 0;if(i)if(s){var z=i,V=r.pointToCoord(I);o?(A=z.startAngle,k=z.endAngle,R=-V[1]/180*Math.PI):(A=z.r0,k=z.r,R=V[0])}else{var U=i;o?(A=U.x,k=U.x+U.width,R=v.x):(A=U.y+U.height,k=U.y,R=v.y)}var N=k===A?0:(R-A)/(k-A);c&&(N=1-N);var W=Sn(g)?g(x):d*N+y,X=C.getSymbolPath(),K=X.getTextContent();C.attr({scaleX:0,scaleY:0}),C.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:W}),K&&K.animateFrom({style:{opacity:0}},{duration:300,delay:W}),X.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(n,r,i){var o=n.getModel("endLabel");if(HX(n)){var s=n.getData(),a=this._polyline,c=s.getLayout("points");if(!c){a.removeTextContent(),this._endLabel=null;return}var h=this._endLabel;h||(h=this._endLabel=new Mo({z2:200}),h.ignoreClip=!0,a.setTextContent(this._endLabel),a.disableLabelAnimation=!0);var d=v$e(c);d>=0&&(dC(a,wb(n,"endLabel"),{inheritColor:i,labelFetcher:n,labelDataIndex:d,defaultText:function(g,y,v){return v!=null?t$e(s,v):zX(s,g)},enableTextSetter:!0},_$e(o,r)),a.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(n,r,i,o,s,a,c){var h=this._endLabel,d=this._polyline;if(h){n<1&&o.originalX==null&&(o.originalX=h.x,o.originalY=h.y);var g=i.getLayout("points"),y=i.hostModel,v=y.get("connectNulls"),x=a.get("precision"),C=a.get("distance")||0,I=c.getBaseAxis(),A=I.isHorizontal(),k=I.inverse,R=r.shape,z=k?A?R.x:R.y+R.height:A?R.x+R.width:R.y,V=(A?C:0)*(k?-1:1),U=(A?0:-C)*(k?-1:1),N=A?"x":"y",W=y$e(g,z,N),X=W.range,K=X[1]-X[0],te=void 0;if(K>=1){if(K>1&&!v){var ae=P9(g,X[0]);h.attr({x:ae[0]+V,y:ae[1]+U}),s&&(te=y.getRawValue(X[0]))}else{var ae=d.getPointOn(z,N);ae&&h.attr({x:ae[0]+V,y:ae[1]+U});var me=y.getRawValue(X[0]),we=y.getRawValue(X[1]);s&&(te=yMe(i,x,me,we,W.t))}o.lastFrameIndex=X[0]}else{var se=n===1||o.lastFrameIndex>0?X[0]:0,ae=P9(g,se);s&&(te=y.getRawValue(se)),h.attr({x:ae[0]+V,y:ae[1]+U})}if(s){var ue=Rq(h);typeof ue.setLabelText=="function"&&ue.setLabelText(te)}}},t.prototype._doUpdateAnimation=function(n,r,i,o,s,a,c){var h=this._polyline,d=this._polygon,g=n.hostModel,y=o$e(this._data,n,this._stackedOnPoints,r,this._coordSys,i,this._valueOrigin),v=y.current,x=y.stackedOnCurrent,C=y.next,I=y.stackedOnNext;if(s&&(x=Xc(y.stackedOnCurrent,y.current,i,s,c),v=Xc(y.current,null,i,s,c),I=Xc(y.stackedOnNext,y.next,i,s,c),C=Xc(y.next,null,i,s,c)),C9(v,C)>3e3||d&&C9(x,I)>3e3){h.stopAnimation(),h.setShape({points:C}),d&&(d.stopAnimation(),d.setShape({points:C,stackedOnPoints:I}));return}h.shape.__points=y.current,h.shape.points=v;var A={shape:{points:C}};y.current!==v&&(A.shape.__points=y.next),h.stopAnimation(),Jl(h,A,g),d&&(d.setShape({points:v,stackedOnPoints:x}),d.stopAnimation(),Jl(d,{shape:{stackedOnPoints:I}},g),h.shape.points!==d.shape.points&&(d.shape.points=h.shape.points));for(var k=[],R=y.status,z=0;z<R.length;z++){var V=R[z].cmd;if(V==="="){var U=n.getItemGraphicEl(R[z].idx1);U&&k.push({el:U,ptIdx:z})}}h.animators&&h.animators.length&&h.animators[0].during(function(){d&&d.dirtyShape();for(var N=h.shape.__points,W=0;W<k.length;W++){var X=k[W].el,K=k[W].ptIdx*2;X.x=N[K],X.y=N[K+1],X.markRedraw()}})},t.prototype.remove=function(n){var r=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(o,s){o.__temp&&(r.remove(o),i.setItemGraphicEl(s,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(Ns);function jR(e,t){return{seriesType:e,plan:yR(),reset:function(n){var r=n.getData(),i=n.coordinateSystem,o=n.pipelineContext,s=t||o.large;if(i){var a=_n(i.dimensions,function(v){return r.mapDimension(v)}).slice(0,2),c=a.length,h=r.getCalculationInfo("stackResultDimension");Ag(r,a[0])&&(a[0]=h),Ag(r,a[1])&&(a[1]=h);var d=r.getStore(),g=r.getDimensionIndex(a[0]),y=r.getDimensionIndex(a[1]);return c&&{progress:function(v,x){for(var C=v.end-v.start,I=s&&Lm(C*c),A=[],k=[],R=v.start,z=0;R<v.end;R++){var V=void 0;if(c===1){var U=d.get(g,R);V=i.dataToPoint(U,null,k)}else A[0]=d.get(g,R),A[1]=d.get(y,R),V=i.dataToPoint(A,null,k);s?(I[z++]=V[0],I[z++]=V[1]):x.setItemLayout(R,V.slice())}s&&x.setLayout("points",I)}}}}}}var x$e={average:function(e){for(var t=0,n=0,r=0;r<e.length;r++)isNaN(e[r])||(t+=e[r],n++);return n===0?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]||0;return t},max:function(e){for(var t=-1/0,n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}},w$e=function(e){return Math.round(e.length/2)};function S$e(e){return{seriesType:e,reset:function(t,n,r){var i=t.getData(),o=t.get("sampling"),s=t.coordinateSystem,a=i.count();if(a>10&&s.type==="cartesian2d"&&o){var c=s.getBaseAxis(),h=s.getOtherAxis(c),d=c.getExtent(),g=r.getDevicePixelRatio(),y=Math.abs(d[1]-d[0])*(g||1),v=Math.round(a/y);if(isFinite(v)&&v>1){o==="lttb"?t.setData(i.lttbDownSample(i.mapDimension(h.dim),1/v)):o==="minmax"&&t.setData(i.minmaxDownSample(i.mapDimension(h.dim),1/v));var x=void 0;pn(o)?x=x$e[o]:Sn(o)&&(x=o),x&&t.setData(i.downSample(i.mapDimension(h.dim),1/v,x,w$e))}}}}}function C$e(e){e.registerChartView(b$e),e.registerSeriesModel(e$e),e.registerLayout(jR("line",!0)),e.registerVisual({seriesType:"line",reset:function(t){var n=t.getData(),r=t.getModel("lineStyle").getLineStyle();r&&!r.stroke&&(r.stroke=n.getVisual("style").fill),n.setVisual("legendLineStyle",r)}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,S$e("line"))}var T$e=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return t.prototype.getInitialData=function(n,r){return rX(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var n=this.option.progressive;return n??(this.option.large?5e3:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var n=this.option.progressiveThreshold;return n??(this.option.large?1e4:this.get("progressiveThreshold"))},t.prototype.brushSelector=function(n,r,i){return i.point(r.getItemLayout(n))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(Ql),UX=4,P$e=function(){function e(){}return e}(),E$e=function(e){Xt(t,e);function t(n){var r=e.call(this,n)||this;return r._off=0,r.hoverDataIdx=-1,r}return t.prototype.getDefaultShape=function(){return new P$e},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(n,r){var i=r.points,o=r.size,s=this.symbolProxy,a=s.shape,c=n.getContext?n.getContext():n,h=c&&o[0]<UX,d=this.softClipShape,g;if(h){this._ctx=c;return}for(this._ctx=null,g=this._off;g<i.length;){var y=i[g++],v=i[g++];isNaN(y)||isNaN(v)||d&&!d.contain(y,v)||(a.x=y-o[0]/2,a.y=v-o[1]/2,a.width=o[0],a.height=o[1],s.buildPath(n,a,!0))}this.incremental&&(this._off=g,this.notClear=!0)},t.prototype.afterBrush=function(){var n=this.shape,r=n.points,i=n.size,o=this._ctx,s=this.softClipShape,a;if(o){for(a=this._off;a<r.length;){var c=r[a++],h=r[a++];isNaN(c)||isNaN(h)||s&&!s.contain(c,h)||o.fillRect(c-i[0]/2,h-i[1]/2,i[0],i[1])}this.incremental&&(this._off=a,this.notClear=!0)}},t.prototype.findDataIndex=function(n,r){for(var i=this.shape,o=i.points,s=i.size,a=Math.max(s[0],4),c=Math.max(s[1],4),h=o.length/2-1;h>=0;h--){var d=h*2,g=o[d]-a/2,y=o[d+1]-c/2;if(n>=g&&r>=y&&n<=g+a&&r<=y+c)return h}return-1},t.prototype.contain=function(n,r){var i=this.transformCoordToLocal(n,r),o=this.getBoundingRect();if(n=i[0],r=i[1],o.contain(n,r)){var s=this.hoverDataIdx=this.findDataIndex(n,r);return s>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var n=this._rect;if(!n){for(var r=this.shape,i=r.points,o=r.size,s=o[0],a=o[1],c=1/0,h=1/0,d=-1/0,g=-1/0,y=0;y<i.length;){var v=i[y++],x=i[y++];c=Math.min(v,c),d=Math.max(v,d),h=Math.min(x,h),g=Math.max(x,g)}n=this._rect=new dr(c-s/2,h-a/2,d-c+s,g-h+a)}return n},t}(yr),I$e=function(){function e(){this.group=new gi}return e.prototype.updateData=function(t,n){this._clear();var r=this._create();r.setShape({points:t.getLayout("points")}),this._setCommon(r,t,n)},e.prototype.updateLayout=function(t){var n=t.getLayout("points");this.group.eachChild(function(r){if(r.startIndex!=null){var i=(r.endIndex-r.startIndex)*2,o=r.startIndex*4*2;n=new Float32Array(n.buffer,o,i)}r.setShape("points",n),r.reset()})},e.prototype.incrementalPrepareUpdate=function(t){this._clear()},e.prototype.incrementalUpdate=function(t,n,r){var i=this._newAdded[0],o=n.getLayout("points"),s=i&&i.shape.points;if(s&&s.length<2e4){var a=s.length,c=new Float32Array(a+o.length);c.set(s),c.set(o,a),i.endIndex=t.end,i.setShape({points:c})}else{this._newAdded=[];var h=this._create();h.startIndex=t.start,h.endIndex=t.end,h.incremental=!0,h.setShape({points:o}),this._setCommon(h,n,r)}},e.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},e.prototype._create=function(){var t=new E$e({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},e.prototype._setCommon=function(t,n,r){var i=n.hostModel;r=r||{};var o=n.getVisual("symbolSize");t.setShape("size",o instanceof Array?o:[o,o]),t.softClipShape=r.clipShape||null,t.symbolProxy=dl(n.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var s=t.shape.size[0]<UX;t.useStyle(i.getModel("itemStyle").getItemStyle(s?["color","shadowBlur","shadowColor"]:["color"]));var a=n.getVisual("style"),c=a&&a.fill;c&&t.setColor(c);var h=sr(t);h.seriesIndex=i.seriesIndex,t.on("mousemove",function(d){h.dataIndex=null;var g=t.hoverDataIdx;g>=0&&(h.dataIndex=g+(t.startIndex||0))})},e.prototype.remove=function(){this._clear()},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}(),M$e=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,i){var o=n.getData(),s=this._updateSymbolDraw(o,n);s.updateData(o,{clipShape:this._getClipShape(n)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(n,r,i){var o=n.getData(),s=this._updateSymbolDraw(o,n);s.incrementalPrepareUpdate(o),this._finished=!1},t.prototype.incrementalRender=function(n,r,i){this._symbolDraw.incrementalUpdate(n,r.getData(),{clipShape:this._getClipShape(r)}),this._finished=n.end===r.getData().count()},t.prototype.updateTransform=function(n,r,i){var o=n.getData();if(this.group.dirty(),!this._finished||o.count()>1e4)return{update:!0};var s=jR("").reset(n,r,i);s.progress&&s.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout(o)},t.prototype.eachRendered=function(n){this._symbolDraw&&this._symbolDraw.eachRendered(n)},t.prototype._getClipShape=function(n){if(n.get("clip",!0)){var r=n.coordinateSystem;return r&&r.getArea&&r.getArea(.1)}},t.prototype._updateSymbolDraw=function(n,r){var i=this._symbolDraw,o=r.pipelineContext,s=o.large;return(!i||s!==this._isLargeDraw)&&(i&&i.remove(),i=this._symbolDraw=s?new I$e:new VR,this._isLargeDraw=s,this.group.removeAll()),this.group.add(i.group),i},t.prototype.remove=function(n,r){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(Ns),A$e=function(e){Xt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(gr),nD=function(e){Xt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Aa).models[0]},t.type="cartesian2dAxis",t}(gr);gl(nD,NLe);var GX={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},D$e=ur({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},GX),HR=ur({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},GX),k$e=ur({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},HR),O$e=Er({logBase:10},HR);const R$e={category:D$e,value:HR,time:k$e,log:O$e};var L$e={value:1,category:1,time:1,log:1};function E9(e,t,n,r){Ne(L$e,function(i,o){var s=ur(ur({},R$e[o],!0),r,!0),a=function(c){Xt(h,c);function h(){var d=c!==null&&c.apply(this,arguments)||this;return d.type=t+"Axis."+o,d}return h.prototype.mergeDefaultAndTheme=function(d,g){var y=V0(this),v=y?Sb(d):{},x=g.getTheme();ur(d,x.get(o+"Axis")),ur(d,this.getDefaultOption()),d.type=I9(d),y&&Ig(d,v,y)},h.prototype.optionUpdated=function(){var d=this.option;d.type==="category"&&(this.__ordinalMeta=qA.createByAxisModel(this))},h.prototype.getCategories=function(d){var g=this.option;if(g.type==="category")return d?g.data:this.__ordinalMeta.categories},h.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},h.type=t+"Axis."+o,h.defaultOption=s,h}(n);e.registerComponentModel(a)}),e.registerSubTypeDefaulter(t+"Axis",I9)}function I9(e){return e.type||(e.data?"category":"value")}var $$e=function(){function e(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return e.prototype.getAxis=function(t){return this._axes[t]},e.prototype.getAxes=function(){return _n(this._dimList,function(t){return this._axes[t]},this)},e.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),Qi(this.getAxes(),function(n){return n.scale.type===t})},e.prototype.addAxis=function(t){var n=t.dim;this._axes[n]=t,this._dimList.push(n)},e}(),rD=["x","y"];function M9(e){return e.type==="interval"||e.type==="time"}var z$e=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="cartesian2d",n.dimensions=rD,n}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var n=this.getAxis("x").scale,r=this.getAxis("y").scale;if(!(!M9(n)||!M9(r))){var i=n.getExtent(),o=r.getExtent(),s=this.dataToPoint([i[0],o[0]]),a=this.dataToPoint([i[1],o[1]]),c=i[1]-i[0],h=o[1]-o[0];if(!(!c||!h)){var d=(a[0]-s[0])/c,g=(a[1]-s[1])/h,y=s[0]-i[0]*d,v=s[1]-o[0]*g,x=this._transform=[d,0,0,g,y,v];this._invTransform=zO([],x)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(n){var r=this.getAxis("x"),i=this.getAxis("y");return r.contain(r.toLocalCoord(n[0]))&&i.contain(i.toLocalCoord(n[1]))},t.prototype.containData=function(n){return this.getAxis("x").containData(n[0])&&this.getAxis("y").containData(n[1])},t.prototype.containZone=function(n,r){var i=this.dataToPoint(n),o=this.dataToPoint(r),s=this.getArea(),a=new dr(i[0],i[1],o[0]-i[0],o[1]-i[1]);return s.intersect(a)},t.prototype.dataToPoint=function(n,r,i){i=i||[];var o=n[0],s=n[1];if(this._transform&&o!=null&&isFinite(o)&&s!=null&&isFinite(s))return Fs(i,n,this._transform);var a=this.getAxis("x"),c=this.getAxis("y");return i[0]=a.toGlobalCoord(a.dataToCoord(o,r)),i[1]=c.toGlobalCoord(c.dataToCoord(s,r)),i},t.prototype.clampData=function(n,r){var i=this.getAxis("x").scale,o=this.getAxis("y").scale,s=i.getExtent(),a=o.getExtent(),c=i.parse(n[0]),h=o.parse(n[1]);return r=r||[],r[0]=Math.min(Math.max(Math.min(s[0],s[1]),c),Math.max(s[0],s[1])),r[1]=Math.min(Math.max(Math.min(a[0],a[1]),h),Math.max(a[0],a[1])),r},t.prototype.pointToData=function(n,r){var i=[];if(this._invTransform)return Fs(i,n,this._invTransform);var o=this.getAxis("x"),s=this.getAxis("y");return i[0]=o.coordToData(o.toLocalCoord(n[0]),r),i[1]=s.coordToData(s.toLocalCoord(n[1]),r),i},t.prototype.getOtherAxis=function(n){return this.getAxis(n.dim==="x"?"y":"x")},t.prototype.getArea=function(n){n=n||0;var r=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),o=Math.min(r[0],r[1])-n,s=Math.min(i[0],i[1])-n,a=Math.max(r[0],r[1])-o+n,c=Math.max(i[0],i[1])-s+n;return new dr(o,s,a,c)},t}($$e),B$e=function(e){Xt(t,e);function t(n,r,i,o,s){var a=e.call(this,n,r,i)||this;return a.index=0,a.type=o||"value",a.position=s||"bottom",a}return t.prototype.isHorizontal=function(){var n=this.position;return n==="top"||n==="bottom"},t.prototype.getGlobalExtent=function(n){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),n&&r[0]>r[1]&&r.reverse(),r},t.prototype.pointToData=function(n,r){return this.coordToData(this.toLocalCoord(n[this.dim==="x"?0:1]),r)},t.prototype.setCategorySortInfo=function(n){if(this.type!=="category")return!1;this.model.option.categorySortInfo=n,this.scale.setSortInfo(n)},t}(XLe);function iD(e,t,n){n=n||{};var r=e.coordinateSystem,i=t.axis,o={},s=i.getAxesOnZeroOf()[0],a=i.position,c=s?"onZero":a,h=i.dim,d=r.getRect(),g=[d.x,d.x+d.width,d.y,d.y+d.height],y={left:0,right:1,top:0,bottom:1,onZero:2},v=t.get("offset")||0,x=h==="x"?[g[2]-v,g[3]+v]:[g[0]-v,g[1]+v];if(s){var C=s.toGlobalCoord(s.dataToCoord(0));x[y.onZero]=Math.max(Math.min(C,x[1]),x[0])}o.position=[h==="y"?x[y[c]]:g[0],h==="x"?x[y[c]]:g[3]],o.rotation=Math.PI/2*(h==="x"?0:1);var I={top:-1,bottom:1,left:-1,right:1};o.labelDirection=o.tickDirection=o.nameDirection=I[a],o.labelOffset=s?x[y[a]]-x[y.onZero]:0,t.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),Tg(n.labelInside,t.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var A=t.get(["axisLabel","rotate"]);return o.labelRotate=c==="top"?-A:A,o.z2=1,o}function A9(e){return e.get("coordinateSystem")==="cartesian2d"}function D9(e){var t={xAxisModel:null,yAxisModel:null};return Ne(t,function(n,r){var i=r.replace(/Model$/,""),o=e.getReferringComponents(i,Aa).models[0];t[r]=o}),t}var cI=Math.log;function F$e(e,t,n){var r=Kg.prototype,i=r.getTicks.call(n),o=r.getTicks.call(n,!0),s=i.length-1,a=r.getInterval.call(n),c=cX(e,t),h=c.extent,d=c.fixMin,g=c.fixMax;if(e.type==="log"){var y=cI(e.base);h=[cI(h[0])/y,cI(h[1])/y]}e.setExtent(h[0],h[1]),e.calcNiceExtent({splitNumber:s,fixMin:d,fixMax:g});var v=r.getExtent.call(e);d&&(h[0]=v[0]),g&&(h[1]=v[1]);var x=r.getInterval.call(e),C=h[0],I=h[1];if(d&&g)x=(I-C)/s;else if(d)for(I=h[0]+x*s;I<h[1]&&isFinite(I)&&isFinite(h[1]);)x=tI(x),I=h[0]+x*s;else if(g)for(C=h[1]-x*s;C>h[0]&&isFinite(C)&&isFinite(h[0]);)x=tI(x),C=h[1]-x*s;else{var A=e.getTicks().length-1;A>s&&(x=tI(x));var k=x*s;I=Math.ceil(h[1]/x)*x,C=$i(I-k),C<0&&h[0]>=0?(C=0,I=$i(k)):I>0&&h[1]<=0&&(I=0,C=-$i(k))}var R=(i[0].value-o[0].value)/a,z=(i[s].value-o[s].value)/a;r.setExtent.call(e,C+x*R,I+x*z),r.setInterval.call(e,x),(R||z)&&r.setNiceExtent.call(e,C+x,I-x)}var N$e=function(){function e(t,n,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=rD,this._initCartesian(t,n,r),this.model=t}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(t,n){var r=this._axesMap;this._updateScale(t,this.model);function i(s){var a,c=lr(s),h=c.length;if(h){for(var d=[],g=h-1;g>=0;g--){var y=+c[g],v=s[y],x=v.model,C=v.scale;KA(C)&&x.get("alignTicks")&&x.get("interval")==null?d.push(v):(QN(C,x),KA(C)&&(a=v))}d.length&&(a||(a=d.pop(),QN(a.scale,a.model)),Ne(d,function(I){F$e(I.scale,I.model,a.scale)}))}}i(r.x),i(r.y);var o={};Ne(r.x,function(s){k9(r,"y",s,o)}),Ne(r.y,function(s){k9(r,"x",s,o)}),this.resize(this.model,n)},e.prototype.resize=function(t,n,r){var i=t.getBoxLayoutParams(),o=!r&&t.get("containLabel"),s=Eg(i,{width:n.getWidth(),height:n.getHeight()});this._rect=s;var a=this._axesList;c(),o&&(Ne(a,function(h){if(!h.model.get(["axisLabel","inside"])){var d=zLe(h);if(d){var g=h.isHorizontal()?"height":"width",y=h.model.get(["axisLabel","margin"]);s[g]-=d[g]+y,h.position==="top"?s.y+=d.height+y:h.position==="left"&&(s.x+=d.width+y)}}}),c()),Ne(this._coordsList,function(h){h.calcAffineTransform()});function c(){Ne(a,function(h){var d=h.isHorizontal(),g=d?[0,s.width]:[0,s.height],y=h.inverse?1:0;h.setExtent(g[y],g[1-y]),V$e(h,d?s.x:s.y)})}},e.prototype.getAxis=function(t,n){var r=this._axesMap[t];if(r!=null)return r[n||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(t,n){if(t!=null&&n!=null){var r="x"+t+"y"+n;return this._coordsMap[r]}Pn(t)&&(n=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,o=this._coordsList;i<o.length;i++)if(o[i].getAxis("x").index===t||o[i].getAxis("y").index===n)return o[i]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(t,n,r){var i=this._findConvertTarget(n);return i.cartesian?i.cartesian.dataToPoint(r):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(r)):null},e.prototype.convertFromPixel=function(t,n,r){var i=this._findConvertTarget(n);return i.cartesian?i.cartesian.pointToData(r):i.axis?i.axis.coordToData(i.axis.toLocalCoord(r)):null},e.prototype._findConvertTarget=function(t){var n=t.seriesModel,r=t.xAxisModel||n&&n.getReferringComponents("xAxis",Aa).models[0],i=t.yAxisModel||n&&n.getReferringComponents("yAxis",Aa).models[0],o=t.gridModel,s=this._coordsList,a,c;if(n)a=n.coordinateSystem,hr(s,a)<0&&(a=null);else if(r&&i)a=this.getCartesian(r.componentIndex,i.componentIndex);else if(r)c=this.getAxis("x",r.componentIndex);else if(i)c=this.getAxis("y",i.componentIndex);else if(o){var h=o.coordinateSystem;h===this&&(a=this._coordsList[0])}return{cartesian:a,axis:c}},e.prototype.containPoint=function(t){var n=this._coordsList[0];if(n)return n.containPoint(t)},e.prototype._initCartesian=function(t,n,r){var i=this,o=this,s={left:!1,right:!1,top:!1,bottom:!1},a={x:{},y:{}},c={x:0,y:0};if(n.eachComponent("xAxis",h("x"),this),n.eachComponent("yAxis",h("y"),this),!c.x||!c.y){this._axesMap={},this._axesList=[];return}this._axesMap=a,Ne(a.x,function(d,g){Ne(a.y,function(y,v){var x="x"+g+"y"+v,C=new z$e(x);C.master=i,C.model=t,i._coordsMap[x]=C,i._coordsList.push(C),C.addAxis(d),C.addAxis(y)})});function h(d){return function(g,y){if(hI(g,t)){var v=g.get("position");d==="x"?v!=="top"&&v!=="bottom"&&(v=s.bottom?"top":"bottom"):v!=="left"&&v!=="right"&&(v=s.left?"right":"left"),s[v]=!0;var x=new B$e(d,LLe(g),[0,0],g.get("type"),v),C=x.type==="category";x.onBand=C&&g.get("boundaryGap"),x.inverse=g.get("inverse"),g.axis=x,x.model=g,x.grid=o,x.index=y,o._axesList.push(x),a[d][y]=x,c[d]++}}}},e.prototype._updateScale=function(t,n){Ne(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var o=i.model.get("categorySortInfo");i.scale.setSortInfo(o)}}),t.eachSeries(function(i){if(A9(i)){var o=D9(i),s=o.xAxisModel,a=o.yAxisModel;if(!hI(s,n)||!hI(a,n))return;var c=this.getCartesian(s.componentIndex,a.componentIndex),h=i.getData(),d=c.getAxis("x"),g=c.getAxis("y");r(h,d),r(h,g)}},this);function r(i,o){Ne(dX(i,o.dim),function(s){o.scale.unionExtentFromData(i,s)})}},e.prototype.getTooltipAxes=function(t){var n=[],r=[];return Ne(this.getCartesians(),function(i){var o=t!=null&&t!=="auto"?i.getAxis(t):i.getBaseAxis(),s=i.getOtherAxis(o);hr(n,o)<0&&n.push(o),hr(r,s)<0&&r.push(s)}),{baseAxes:n,otherAxes:r}},e.create=function(t,n){var r=[];return t.eachComponent("grid",function(i,o){var s=new e(i,t,n);s.name="grid_"+o,s.resize(i,n,!0),i.coordinateSystem=s,r.push(s)}),t.eachSeries(function(i){if(A9(i)){var o=D9(i),s=o.xAxisModel,a=o.yAxisModel,c=s.getCoordSysModel(),h=c.coordinateSystem;i.coordinateSystem=h.getCartesian(s.componentIndex,a.componentIndex)}}),r},e.dimensions=rD,e}();function hI(e,t){return e.getCoordSysModel()===t}function k9(e,t,n,r){n.getAxesOnZeroOf=function(){return o?[o]:[]};var i=e[t],o,s=n.model,a=s.get(["axisLine","onZero"]),c=s.get(["axisLine","onZeroAxisIndex"]);if(!a)return;if(c!=null)O9(i[c])&&(o=i[c]);else for(var h in i)if(i.hasOwnProperty(h)&&O9(i[h])&&!r[d(i[h])]){o=i[h];break}o&&(r[d(o)]=!0);function d(g){return g.dim+"_"+g.index}}function O9(e){return e&&e.type!=="category"&&e.type!=="time"&&$Le(e)}function V$e(e,t){var n=e.getExtent(),r=n[0]+n[1];e.toGlobalCoord=e.dim==="x"?function(i){return i+t}:function(i){return r-i+t},e.toLocalCoord=e.dim==="x"?function(i){return i-t}:function(i){return r-i+t}}var dh=Math.PI,bh=function(){function e(t,n){this.group=new gi,this.opt=n,this.axisModel=t,Er(n,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var r=new gi({x:n.position[0],y:n.position[1],rotation:n.rotation});r.updateTransform(),this._transformGroup=r}return e.prototype.hasBuilder=function(t){return!!R9[t]},e.prototype.add=function(t){R9[t](this.opt,this.axisModel,this.group,this._transformGroup)},e.prototype.getGroup=function(){return this.group},e.innerTextLayout=function(t,n,r){var i=GZ(n-t),o,s;return DS(i)?(s=r>0?"top":"bottom",o="center"):DS(i-dh)?(s=r>0?"bottom":"top",o="center"):(s="middle",i>0&&i<dh?o=r>0?"right":"left":o=r>0?"left":"right"),{rotation:i,textAlign:o,textVerticalAlign:s}},e.makeAxisEventDataBase=function(t){var n={componentType:t.mainType,componentIndex:t.componentIndex};return n[t.mainType+"Index"]=t.componentIndex,n},e.isLabelSilent=function(t){var n=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||n&&n.show)},e}(),R9={axisLine:function(e,t,n,r){var i=t.get(["axisLine","show"]);if(i==="auto"&&e.handleAutoShown&&(i=e.handleAutoShown("axisLine")),!!i){var o=t.axis.getExtent(),s=r.transform,a=[o[0],0],c=[o[1],0],h=a[0]>c[0];s&&(Fs(a,a,s),Fs(c,c,s));var d=en({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),g=new ic({shape:{x1:a[0],y1:a[1],x2:c[0],y2:c[1]},style:d,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1});B0(g.shape,g.style.lineWidth),g.anid="line",n.add(g);var y=t.get(["axisLine","symbol"]);if(y!=null){var v=t.get(["axisLine","symbolSize"]);pn(y)&&(y=[y,y]),(pn(v)||ti(v))&&(v=[v,v]);var x=SC(t.get(["axisLine","symbolOffset"])||0,v),C=v[0],I=v[1];Ne([{rotate:e.rotation+Math.PI/2,offset:x[0],r:0},{rotate:e.rotation-Math.PI/2,offset:x[1],r:Math.sqrt((a[0]-c[0])*(a[0]-c[0])+(a[1]-c[1])*(a[1]-c[1]))}],function(A,k){if(y[k]!=="none"&&y[k]!=null){var R=dl(y[k],-C/2,-I/2,C,I,d.stroke,!0),z=A.r+A.offset,V=h?c:a;R.attr({rotation:A.rotate,x:V[0]+z*Math.cos(e.rotation),y:V[1]-z*Math.sin(e.rotation),silent:!0,z2:11}),n.add(R)}})}}},axisTickLabel:function(e,t,n,r){var i=U$e(n,r,t,e),o=W$e(n,r,t,e);if(H$e(t,o,i),G$e(n,r,t,e.tickDirection),t.get(["axisLabel","hideOverlap"])){var s=JLe(_n(o,function(a){return{label:a,priority:a.z2,defaultAttr:{ignore:a.ignore}}}));QLe(s)}},axisName:function(e,t,n,r){var i=Tg(e.axisName,t.get("name"));if(i){var o=t.get("nameLocation"),s=e.nameDirection,a=t.getModel("nameTextStyle"),c=t.get("nameGap")||0,h=t.axis.getExtent(),d=h[0]>h[1]?-1:1,g=[o==="start"?h[0]-d*c:o==="end"?h[1]+d*c:(h[0]+h[1])/2,$9(o)?e.labelOffset+s*c:0],y,v=t.get("nameRotate");v!=null&&(v=v*dh/180);var x;$9(o)?y=bh.innerTextLayout(e.rotation,v??e.rotation,s):(y=j$e(e.rotation,o,v||0,h),x=e.axisNameAvailableWidth,x!=null&&(x=Math.abs(x/Math.sin(y.rotation)),!isFinite(x)&&(x=null)));var C=a.getFont(),I=t.get("nameTruncate",!0)||{},A=I.ellipsis,k=Tg(e.nameTruncateMaxWidth,I.maxWidth,x),R=new Mo({x:g[0],y:g[1],rotation:y.rotation,silent:bh.isLabelSilent(t),style:oc(a,{text:i,font:C,overflow:"truncate",width:k,ellipsis:A,fill:a.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:a.get("align")||y.textAlign,verticalAlign:a.get("verticalAlign")||y.textVerticalAlign}),z2:1});if(uC({el:R,componentModel:t,itemName:i}),R.__fullText=i,R.anid="name",t.get("triggerEvent")){var z=bh.makeAxisEventDataBase(t);z.targetType="axisName",z.name=i,sr(R).eventData=z}r.add(R),R.updateTransform(),n.add(R),R.decomposeTransform()}}};function j$e(e,t,n,r){var i=GZ(n-e),o,s,a=r[0]>r[1],c=t==="start"&&!a||t!=="start"&&a;return DS(i-dh/2)?(s=c?"bottom":"top",o="center"):DS(i-dh*1.5)?(s=c?"top":"bottom",o="center"):(s="middle",i<dh*1.5&&i>dh/2?o=c?"left":"right":o=c?"right":"left"),{rotation:i,textAlign:o,textVerticalAlign:s}}function H$e(e,t,n){if(!hX(e.axis)){var r=e.get(["axisLabel","showMinLabel"]),i=e.get(["axisLabel","showMaxLabel"]);t=t||[],n=n||[];var o=t[0],s=t[1],a=t[t.length-1],c=t[t.length-2],h=n[0],d=n[1],g=n[n.length-1],y=n[n.length-2];r===!1?(Ts(o),Ts(h)):L9(o,s)&&(r?(Ts(s),Ts(d)):(Ts(o),Ts(h))),i===!1?(Ts(a),Ts(g)):L9(c,a)&&(i?(Ts(c),Ts(y)):(Ts(a),Ts(g)))}}function Ts(e){e&&(e.ignore=!0)}function L9(e,t){var n=e&&e.getBoundingRect().clone(),r=t&&t.getBoundingRect().clone();if(!(!n||!r)){var i=LO([]);return $O(i,i,-e.rotation),n.applyTransform(Qm([],i,e.getLocalTransform())),r.applyTransform(Qm([],i,t.getLocalTransform())),n.intersect(r)}}function $9(e){return e==="middle"||e==="center"}function WX(e,t,n,r,i){for(var o=[],s=[],a=[],c=0;c<e.length;c++){var h=e[c].coord;s[0]=h,s[1]=0,a[0]=h,a[1]=n,t&&(Fs(s,s,t),Fs(a,a,t));var d=new ic({shape:{x1:s[0],y1:s[1],x2:a[0],y2:a[1]},style:r,z2:2,autoBatch:!0,silent:!0});B0(d.shape,d.style.lineWidth),d.anid=i+"_"+e[c].tickValue,o.push(d)}return o}function U$e(e,t,n,r){var i=n.axis,o=n.getModel("axisTick"),s=o.get("show");if(s==="auto"&&r.handleAutoShown&&(s=r.handleAutoShown("axisTick")),!(!s||i.scale.isBlank())){for(var a=o.getModel("lineStyle"),c=r.tickDirection*o.get("length"),h=i.getTicksCoords(),d=WX(h,t.transform,c,Er(a.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),g=0;g<d.length;g++)e.add(d[g]);return d}}function G$e(e,t,n,r){var i=n.axis,o=n.getModel("minorTick");if(!(!o.get("show")||i.scale.isBlank())){var s=i.getMinorTicksCoords();if(s.length)for(var a=o.getModel("lineStyle"),c=r*o.get("length"),h=Er(a.getLineStyle(),Er(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),d=0;d<s.length;d++)for(var g=WX(s[d],t.transform,c,h,"minorticks_"+d),y=0;y<g.length;y++)e.add(g[y])}}function W$e(e,t,n,r){var i=n.axis,o=Tg(r.axisLabelShow,n.get(["axisLabel","show"]));if(!(!o||i.scale.isBlank())){var s=n.getModel("axisLabel"),a=s.get("margin"),c=i.getViewLabels(),h=(Tg(r.labelRotate,s.get("rotate"))||0)*dh/180,d=bh.innerTextLayout(r.rotation,h,r.labelDirection),g=n.getCategories&&n.getCategories(!0),y=[],v=bh.isLabelSilent(n),x=n.get("triggerEvent");return Ne(c,function(C,I){var A=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(C.tickValue):C.tickValue,k=C.formattedLabel,R=C.rawLabel,z=s;if(g&&g[A]){var V=g[A];Pn(V)&&V.textStyle&&(z=new xi(V.textStyle,s,n.ecModel))}var U=z.getTextColor()||n.get(["axisLine","lineStyle","color"]),N=i.dataToCoord(A),W=z.getShallow("align",!0)||d.textAlign,X=Fn(z.getShallow("alignMinLabel",!0),W),K=Fn(z.getShallow("alignMaxLabel",!0),W),te=z.getShallow("verticalAlign",!0)||z.getShallow("baseline",!0)||d.textVerticalAlign,ae=Fn(z.getShallow("verticalAlignMinLabel",!0),te),me=Fn(z.getShallow("verticalAlignMaxLabel",!0),te),we=new Mo({x:N,y:r.labelOffset+r.labelDirection*a,rotation:d.rotation,silent:v,z2:10+(C.level||0),style:oc(z,{text:k,align:I===0?X:I===c.length-1?K:W,verticalAlign:I===0?ae:I===c.length-1?me:te,fill:Sn(U)?U(i.type==="category"?R:i.type==="value"?A+"":A,I):U})});if(we.anid="label_"+A,uC({el:we,componentModel:n,itemName:k,formatterParamsExtra:{isTruncated:function(){return we.isTruncated},value:R,tickIndex:I}}),x){var se=bh.makeAxisEventDataBase(n);se.targetType="axisLabel",se.value=R,se.tickIndex=I,i.type==="category"&&(se.dataIndex=A),sr(we).eventData=se}t.add(we),we.updateTransform(),y.push(we),e.add(we),we.decomposeTransform()}),y}}function Z$e(e,t){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return q$e(n,e,t),n.seriesInvolved&&X$e(n,e),n}function q$e(e,t,n){var r=t.getComponent("tooltip"),i=t.getComponent("axisPointer"),o=i.get("link",!0)||[],s=[];Ne(n.getCoordinateSystems(),function(a){if(!a.axisPointerEnabled)return;var c=q0(a.model),h=e.coordSysAxesInfo[c]={};e.coordSysMap[c]=a;var d=a.model,g=d.getModel("tooltip",r);if(Ne(a.getAxes(),Qr(C,!1,null)),a.getTooltipAxes&&r&&g.get("show")){var y=g.get("trigger")==="axis",v=g.get(["axisPointer","type"])==="cross",x=a.getTooltipAxes(g.get(["axisPointer","axis"]));(y||v)&&Ne(x.baseAxes,Qr(C,v?"cross":!0,y)),v&&Ne(x.otherAxes,Qr(C,"cross",!1))}function C(I,A,k){var R=k.model.getModel("axisPointer",i),z=R.get("show");if(!(!z||z==="auto"&&!I&&!oD(R))){A==null&&(A=R.get("triggerTooltip")),R=I?K$e(k,g,i,t,I,A):R;var V=R.get("snap"),U=R.get("triggerEmphasis"),N=q0(k.model),W=A||V||k.type==="category",X=e.axesInfo[N]={key:N,axis:k,coordSys:a,axisPointerModel:R,triggerTooltip:A,triggerEmphasis:U,involveSeries:W,snap:V,useHandle:oD(R),seriesModels:[],linkGroup:null};h[N]=X,e.seriesInvolved=e.seriesInvolved||W;var K=Y$e(o,k);if(K!=null){var te=s[K]||(s[K]={axesInfo:{}});te.axesInfo[N]=X,te.mapper=o[K].mapper,X.linkGroup=te}}}})}function K$e(e,t,n,r,i,o){var s=t.getModel("axisPointer"),a=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],c={};Ne(a,function(y){c[y]=er(s.get(y))}),c.snap=e.type!=="category"&&!!o,s.get("type")==="cross"&&(c.type="line");var h=c.label||(c.label={});if(h.show==null&&(h.show=!1),i==="cross"){var d=s.get(["label","show"]);if(h.show=d??!0,!o){var g=c.lineStyle=s.get("crossStyle");g&&Er(h,g.textStyle)}}return e.model.getModel("axisPointer",new xi(c,n,r))}function X$e(e,t){t.eachSeries(function(n){var r=n.coordinateSystem,i=n.get(["tooltip","trigger"],!0),o=n.get(["tooltip","show"],!0);!r||i==="none"||i===!1||i==="item"||o===!1||n.get(["axisPointer","show"],!0)===!1||Ne(e.coordSysAxesInfo[q0(r.model)],function(s){var a=s.axis;r.getAxis(a.dim)===a&&(s.seriesModels.push(n),s.seriesDataCount==null&&(s.seriesDataCount=0),s.seriesDataCount+=n.getData().count())})})}function Y$e(e,t){for(var n=t.model,r=t.dim,i=0;i<e.length;i++){var o=e[i]||{};if(dI(o[r+"AxisId"],n.id)||dI(o[r+"AxisIndex"],n.componentIndex)||dI(o[r+"AxisName"],n.name))return i}}function dI(e,t){return e==="all"||cn(e)&&hr(e,t)>=0||e===t}function J$e(e){var t=UR(e);if(t){var n=t.axisPointerModel,r=t.axis.scale,i=n.option,o=n.get("status"),s=n.get("value");s!=null&&(s=r.parse(s));var a=oD(n);o==null&&(i.status=a?"show":"hide");var c=r.getExtent().slice();c[0]>c[1]&&c.reverse(),(s==null||s>c[1])&&(s=c[1]),s<c[0]&&(s=c[0]),i.value=s,a&&(i.status=t.axis.scale.isBlank()?"hide":"show")}}function UR(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[q0(e)]}function Q$e(e){var t=UR(e);return t&&t.axisPointerModel}function oD(e){return!!e.get(["handle","show"])}function q0(e){return e.type+"||"+e.id}var z9={},ZX=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,i,o){this.axisPointerClass&&J$e(n),e.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(n,i,!0)},t.prototype.updateAxisPointer=function(n,r,i,o){this._doUpdateAxisPointerClass(n,i,!1)},t.prototype.remove=function(n,r){var i=this._axisPointer;i&&i.remove(r)},t.prototype.dispose=function(n,r){this._disposeAxisPointer(r),e.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(n,r,i){var o=t.getAxisPointerClass(this.axisPointerClass);if(o){var s=Q$e(n);s?(this._axisPointer||(this._axisPointer=new o)).render(n,s,r,i):this._disposeAxisPointer(r)}},t.prototype._disposeAxisPointer=function(n){this._axisPointer&&this._axisPointer.dispose(n),this._axisPointer=null},t.registerAxisPointerClass=function(n,r){z9[n]=r},t.getAxisPointerClass=function(n){return n&&z9[n]},t.type="axis",t}(ls),aD=Ti();function e5e(e,t,n,r){var i=n.axis;if(!i.scale.isBlank()){var o=n.getModel("splitArea"),s=o.getModel("areaStyle"),a=s.get("color"),c=r.coordinateSystem.getRect(),h=i.getTicksCoords({tickModel:o,clamp:!0});if(h.length){var d=a.length,g=aD(e).splitAreaColors,y=Dn(),v=0;if(g)for(var x=0;x<h.length;x++){var C=g.get(h[x].tickValue);if(C!=null){v=(C+(d-1)*x)%d;break}}var I=i.toGlobalCoord(h[0].coord),A=s.getAreaStyle();a=cn(a)?a:[a];for(var x=1;x<h.length;x++){var k=i.toGlobalCoord(h[x].coord),R=void 0,z=void 0,V=void 0,U=void 0;i.isHorizontal()?(R=I,z=c.y,V=k-R,U=c.height,I=R+V):(R=c.x,z=I,V=c.width,U=k-z,I=z+U);var N=h[x-1].tickValue;N!=null&&y.set(N,v),t.add(new Si({anid:N!=null?"area_"+N:null,shape:{x:R,y:z,width:V,height:U},style:Er({fill:a[v]},A),autoBatch:!0,silent:!0})),v=(v+1)%d}aD(e).splitAreaColors=y}}}function t5e(e){aD(e).splitAreaColors=null}var n5e=["axisLine","axisTickLabel","axisName"],r5e=["splitArea","splitLine","minorSplitLine"],qX=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="CartesianAxisPointer",n}return t.prototype.render=function(n,r,i,o){this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new gi,this.group.add(this._axisGroup),!!n.get("show")){var a=n.getCoordSysModel(),c=iD(a,n),h=new bh(n,en({handleAutoShown:function(g){for(var y=a.coordinateSystem.getCartesians(),v=0;v<y.length;v++)if(KA(y[v].getOtherAxis(n.axis).scale))return!0;return!1}},c));Ne(n5e,h.add,h),this._axisGroup.add(h.getGroup()),Ne(r5e,function(g){n.get([g,"show"])&&i5e[g](this,this._axisGroup,n,a)},this);var d=o&&o.type==="changeAxisOrder"&&o.isInitSort;d||kq(s,this._axisGroup,n),e.prototype.render.call(this,n,r,i,o)}},t.prototype.remove=function(){t5e(this)},t.type="cartesianAxis",t}(ZX),i5e={splitLine:function(e,t,n,r){var i=n.axis;if(!i.scale.isBlank()){var o=n.getModel("splitLine"),s=o.getModel("lineStyle"),a=s.get("color"),c=o.get("showMinLine")!==!1,h=o.get("showMaxLine")!==!1;a=cn(a)?a:[a];for(var d=r.coordinateSystem.getRect(),g=i.isHorizontal(),y=0,v=i.getTicksCoords({tickModel:o}),x=[],C=[],I=s.getLineStyle(),A=0;A<v.length;A++){var k=i.toGlobalCoord(v[A].coord);if(!(A===0&&!c||A===v.length-1&&!h)){var R=v[A].tickValue;g?(x[0]=k,x[1]=d.y,C[0]=k,C[1]=d.y+d.height):(x[0]=d.x,x[1]=k,C[0]=d.x+d.width,C[1]=k);var z=y++%a.length,V=new ic({anid:R!=null?"line_"+R:null,autoBatch:!0,shape:{x1:x[0],y1:x[1],x2:C[0],y2:C[1]},style:Er({stroke:a[z]},I),silent:!0});B0(V.shape,I.lineWidth),t.add(V)}}}},minorSplitLine:function(e,t,n,r){var i=n.axis,o=n.getModel("minorSplitLine"),s=o.getModel("lineStyle"),a=r.coordinateSystem.getRect(),c=i.isHorizontal(),h=i.getMinorTicksCoords();if(h.length)for(var d=[],g=[],y=s.getLineStyle(),v=0;v<h.length;v++)for(var x=0;x<h[v].length;x++){var C=i.toGlobalCoord(h[v][x].coord);c?(d[0]=C,d[1]=a.y,g[0]=C,g[1]=a.y+a.height):(d[0]=a.x,d[1]=C,g[0]=a.x+a.width,g[1]=C);var I=new ic({anid:"minor_line_"+h[v][x].tickValue,autoBatch:!0,shape:{x1:d[0],y1:d[1],x2:g[0],y2:g[1]},style:y,silent:!0});B0(I.shape,y.lineWidth),t.add(I)}},splitArea:function(e,t,n,r){e5e(e,t,n,r)}},KX=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="xAxis",t}(qX),o5e=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=KX.type,n}return t.type="yAxis",t}(qX),a5e=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="grid",n}return t.prototype.render=function(n,r){this.group.removeAll(),n.get("show")&&this.group.add(new Si({shape:n.coordinateSystem.getRect(),style:Er({fill:n.get("backgroundColor")},n.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(ls),B9={offset:0};function XX(e){e.registerComponentView(a5e),e.registerComponentModel(A$e),e.registerCoordinateSystem("cartesian2d",N$e),E9(e,"x",nD,B9),E9(e,"y",nD,B9),e.registerComponentView(KX),e.registerComponentView(o5e),e.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function s5e(e){Us(XX),e.registerSeriesModel(T$e),e.registerChartView(M$e),e.registerLayout(jR("scatter"))}var F9="\0_ec_interaction_mutex";function N9(e,t){return!!l5e(e)[t]}function l5e(e){return e[F9]||(e[F9]={})}Jf({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Qo);var u5e=function(e){Xt(t,e);function t(n){var r=e.call(this)||this;r._zr=n;var i=zn(r._mousedownHandler,r),o=zn(r._mousemoveHandler,r),s=zn(r._mouseupHandler,r),a=zn(r._mousewheelHandler,r),c=zn(r._pinchHandler,r);return r.enable=function(h,d){this.disable(),this._opt=Er(er(d)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),h==null&&(h=!0),(h===!0||h==="move"||h==="pan")&&(n.on("mousedown",i),n.on("mousemove",o),n.on("mouseup",s)),(h===!0||h==="scale"||h==="zoom")&&(n.on("mousewheel",a),n.on("pinch",c))},r.disable=function(){n.off("mousedown",i),n.off("mousemove",o),n.off("mouseup",s),n.off("mousewheel",a),n.off("pinch",c)},r}return t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(n){this.pointerChecker=n},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(n){if(!S6(n)){for(var r=n.target;r;){if(r.draggable)return;r=r.__hostTarget||r.parent}var i=n.offsetX,o=n.offsetY;this.pointerChecker&&this.pointerChecker(n,i,o)&&(this._x=i,this._y=o,this._dragging=!0)}},t.prototype._mousemoveHandler=function(n){if(!(!this._dragging||!Bw("moveOnMouseMove",n,this._opt)||n.gestureEvent==="pinch"||N9(this._zr,"globalPan"))){var r=n.offsetX,i=n.offsetY,o=this._x,s=this._y,a=r-o,c=i-s;this._x=r,this._y=i,this._opt.preventDefaultMouseMove&&Pg(n.event),YX(this,"pan","moveOnMouseMove",n,{dx:a,dy:c,oldX:o,oldY:s,newX:r,newY:i,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(n){S6(n)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(n){var r=Bw("zoomOnMouseWheel",n,this._opt),i=Bw("moveOnMouseWheel",n,this._opt),o=n.wheelDelta,s=Math.abs(o),a=n.offsetX,c=n.offsetY;if(!(o===0||!r&&!i)){if(r){var h=s>3?1.4:s>1?1.2:1.1,d=o>0?h:1/h;fI(this,"zoom","zoomOnMouseWheel",n,{scale:d,originX:a,originY:c,isAvailableBehavior:null})}if(i){var g=Math.abs(o),y=(o>0?1:-1)*(g>3?.4:g>1?.15:.05);fI(this,"scrollMove","moveOnMouseWheel",n,{scrollDelta:y,originX:a,originY:c,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(n){if(!N9(this._zr,"globalPan")){var r=n.pinchScale>1?1.1:1/1.1;fI(this,"zoom",null,n,{scale:r,originX:n.pinchX,originY:n.pinchY,isAvailableBehavior:null})}},t}(vl);function fI(e,t,n,r,i){e.pointerChecker&&e.pointerChecker(r,i.originX,i.originY)&&(Pg(r.event),YX(e,t,n,r,i))}function YX(e,t,n,r,i){i.isAvailableBehavior=zn(Bw,null,n,r),e.trigger(t,i)}function Bw(e,t,n){var r=n[e];return!e||r&&(!pn(r)||t.event[r+"Key"])}var V9=ic.prototype,pI=sC.prototype,JX=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e}();(function(e){Xt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(JX);function mI(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var c5e=function(e){Xt(t,e);function t(n){var r=e.call(this,n)||this;return r.type="ec-line",r}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new JX},t.prototype.buildPath=function(n,r){mI(r)?V9.buildPath.call(this,n,r):pI.buildPath.call(this,n,r)},t.prototype.pointAt=function(n){return mI(this.shape)?V9.pointAt.call(this,n):pI.pointAt.call(this,n)},t.prototype.tangentAt=function(n){var r=this.shape,i=mI(r)?[r.x2-r.x1,r.y2-r.y1]:pI.tangentAt.call(this,n);return OO(i,i)},t}(yr),gI=["fromSymbol","toSymbol"];function j9(e){return"_"+e+"Type"}function H9(e,t,n){var r=t.getItemVisual(n,e);if(!r||r==="none")return r;var i=t.getItemVisual(n,e+"Size"),o=t.getItemVisual(n,e+"Rotate"),s=t.getItemVisual(n,e+"Offset"),a=t.getItemVisual(n,e+"KeepAspect"),c=bR(i),h=SC(s||0,c);return r+c+h+(o||"")+(a||"")}function U9(e,t,n){var r=t.getItemVisual(n,e);if(!(!r||r==="none")){var i=t.getItemVisual(n,e+"Size"),o=t.getItemVisual(n,e+"Rotate"),s=t.getItemVisual(n,e+"Offset"),a=t.getItemVisual(n,e+"KeepAspect"),c=bR(i),h=SC(s||0,c),d=dl(r,-c[0]/2+h[0],-c[1]/2+h[1],c[0],c[1],null,a);return d.__specifiedRotation=o==null||isNaN(o)?void 0:+o*Math.PI/180||0,d.name=e,d}}function h5e(e){var t=new c5e({name:"line",subPixelOptimize:!0});return sD(t.shape,e),t}function sD(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var n=t[2];n?(e.cpx1=n[0],e.cpy1=n[1]):(e.cpx1=NaN,e.cpy1=NaN)}var GR=function(e){Xt(t,e);function t(n,r,i){var o=e.call(this)||this;return o._createLine(n,r,i),o}return t.prototype._createLine=function(n,r,i){var o=n.hostModel,s=n.getItemLayout(r),a=h5e(s);a.shape.percent=0,Zg(a,{shape:{percent:1}},o,r),this.add(a),Ne(gI,function(c){var h=U9(c,n,r);this.add(h),this[j9(c)]=H9(c,n,r)},this),this._updateCommonStl(n,r,i)},t.prototype.updateData=function(n,r,i){var o=n.hostModel,s=this.childOfName("line"),a=n.getItemLayout(r),c={shape:{}};sD(c.shape,a),Jl(s,c,o,r),Ne(gI,function(h){var d=H9(h,n,r),g=j9(h);if(this[g]!==d){this.remove(this.childOfName(h));var y=U9(h,n,r);this.add(y)}this[g]=d},this),this._updateCommonStl(n,r,i)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(n,r,i){var o=n.hostModel,s=this.childOfName("line"),a=i&&i.emphasisLineStyle,c=i&&i.blurLineStyle,h=i&&i.selectLineStyle,d=i&&i.labelStatesModels,g=i&&i.emphasisDisabled,y=i&&i.focus,v=i&&i.blurScope;if(!i||n.hasItemOption){var x=n.getItemModel(r),C=x.getModel("emphasis");a=C.getModel("lineStyle").getLineStyle(),c=x.getModel(["blur","lineStyle"]).getLineStyle(),h=x.getModel(["select","lineStyle"]).getLineStyle(),g=C.get("disabled"),y=C.get("focus"),v=C.get("blurScope"),d=wb(x)}var I=n.getItemVisual(r,"style"),A=I.stroke;s.useStyle(I),s.style.fill=null,s.style.strokeNoScale=!0,s.ensureState("emphasis").style=a,s.ensureState("blur").style=c,s.ensureState("select").style=h,Ne(gI,function(U){var N=this.childOfName(U);if(N){N.setColor(A),N.style.opacity=I.opacity;for(var W=0;W<Hs.length;W++){var X=Hs[W],K=s.getState(X);if(K){var te=K.style||{},ae=N.ensureState(X),me=ae.style||(ae.style={});te.stroke!=null&&(me[N.__isEmptyBrush?"stroke":"fill"]=te.stroke),te.opacity!=null&&(me.opacity=te.opacity)}}N.markRedraw()}},this);var k=o.getRawValue(r);dC(this,d,{labelDataIndex:r,labelFetcher:{getFormattedLabel:function(U,N){return o.getFormattedLabel(U,N,n.dataType)}},inheritColor:A||"#000",defaultOpacity:I.opacity,defaultText:(k==null?n.getName(r):isFinite(k)?$i(k):k)+""});var R=this.getTextContent();if(R){var z=d.normal;R.__align=R.style.align,R.__verticalAlign=R.style.verticalAlign,R.__position=z.get("position")||"middle";var V=z.get("distance");cn(V)||(V=[V,V]),R.__labelDistance=V}this.setTextConfig({position:null,local:!0,inside:!1}),z0(this,y,v,g)},t.prototype.highlight=function(){L0(this)},t.prototype.downplay=function(){$0(this)},t.prototype.updateLayout=function(n,r){this.setLinePoints(n.getItemLayout(r))},t.prototype.setLinePoints=function(n){var r=this.childOfName("line");sD(r.shape,n),r.dirty()},t.prototype.beforeUpdate=function(){var n=this,r=n.childOfName("fromSymbol"),i=n.childOfName("toSymbol"),o=n.getTextContent();if(!r&&!i&&(!o||o.ignore))return;for(var s=1,a=this.parent;a;)a.scaleX&&(s/=a.scaleX),a=a.parent;var c=n.childOfName("line");if(!this.__dirty&&!c.__dirty)return;var h=c.shape.percent,d=c.pointAt(0),g=c.pointAt(h),y=yZ([],g,d);OO(y,y);function v(K,te){var ae=K.__specifiedRotation;if(ae==null){var me=c.tangentAt(te);K.attr("rotation",(te===1?-1:1)*Math.PI/2-Math.atan2(me[1],me[0]))}else K.attr("rotation",ae)}if(r&&(r.setPosition(d),v(r,0),r.scaleX=r.scaleY=s*h,r.markRedraw()),i&&(i.setPosition(g),v(i,1),i.scaleX=i.scaleY=s*h,i.markRedraw()),o&&!o.ignore){o.x=o.y=0,o.originX=o.originY=0;var x=void 0,C=void 0,I=o.__labelDistance,A=I[0]*s,k=I[1]*s,R=h/2,z=c.tangentAt(R),V=[z[1],-z[0]],U=c.pointAt(R);V[1]>0&&(V[0]=-V[0],V[1]=-V[1]);var N=z[0]<0?-1:1;if(o.__position!=="start"&&o.__position!=="end"){var W=-Math.atan2(z[1],z[0]);g[0]<d[0]&&(W=Math.PI+W),o.rotation=W}var X=void 0;switch(o.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":X=-k,C="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":X=k,C="top";break;default:X=0,C="middle"}switch(o.__position){case"end":o.x=y[0]*A+g[0],o.y=y[1]*k+g[1],x=y[0]>.8?"left":y[0]<-.8?"right":"center",C=y[1]>.8?"top":y[1]<-.8?"bottom":"middle";break;case"start":o.x=-y[0]*A+d[0],o.y=-y[1]*k+d[1],x=y[0]>.8?"right":y[0]<-.8?"left":"center",C=y[1]>.8?"bottom":y[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":o.x=A*N+d[0],o.y=d[1]+X,x=z[0]<0?"right":"left",o.originX=-A*N,o.originY=-X;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":o.x=U[0],o.y=U[1]+X,x="center",o.originY=-X;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":o.x=-A*N+g[0],o.y=g[1]+X,x=z[0]>=0?"right":"left",o.originX=A*N,o.originY=-X;break}o.scaleX=o.scaleY=s,o.setStyle({verticalAlign:o.__verticalAlign||C,align:o.__align||x})}},t}(gi),d5e=function(){function e(t){this.group=new gi,this._LineCtor=t||GR}return e.prototype.updateData=function(t){var n=this;this._progressiveEls=null;var r=this,i=r.group,o=r._lineData;r._lineData=t,o||i.removeAll();var s=G9(t);t.diff(o).add(function(a){n._doAdd(t,a,s)}).update(function(a,c){n._doUpdate(o,t,c,a,s)}).remove(function(a){i.remove(o.getItemGraphicEl(a))}).execute()},e.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(n,r){n.updateLayout(t,r)},this)},e.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=G9(t),this._lineData=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(t,n){this._progressiveEls=[];function r(a){!a.isGroup&&!f5e(a)&&(a.incremental=!0,a.ensureState("emphasis").hoverLayer=!0)}for(var i=t.start;i<t.end;i++){var o=n.getItemLayout(i);if(vI(o)){var s=new this._LineCtor(n,i,this._seriesScope);s.traverse(r),this.group.add(s),n.setItemGraphicEl(i,s),this._progressiveEls.push(s)}}},e.prototype.remove=function(){this.group.removeAll()},e.prototype.eachRendered=function(t){cC(this._progressiveEls||this.group,t)},e.prototype._doAdd=function(t,n,r){var i=t.getItemLayout(n);if(vI(i)){var o=new this._LineCtor(t,n,r);t.setItemGraphicEl(n,o),this.group.add(o)}},e.prototype._doUpdate=function(t,n,r,i,o){var s=t.getItemGraphicEl(r);if(!vI(n.getItemLayout(i))){this.group.remove(s);return}s?s.updateData(n,i,o):s=new this._LineCtor(n,i,o),n.setItemGraphicEl(i,s),this.group.add(s)},e}();function f5e(e){return e.animators&&e.animators.length>0}function G9(e){var t=e.hostModel,n=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:n.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:n.get("disabled"),blurScope:n.get("blurScope"),focus:n.get("focus"),labelStatesModels:wb(t)}}function W9(e){return isNaN(e[0])||isNaN(e[1])}function vI(e){return e&&!W9(e[0])&&!W9(e[1])}function MC(e,t,n,r,i,o){e=e||0;var s=n[1]-n[0];if(i!=null&&(i=mm(i,[0,s])),o!=null&&(o=Math.max(o,i??0)),r==="all"){var a=Math.abs(t[1]-t[0]);a=mm(a,[0,s]),i=o=mm(a,[i,o]),r=0}t[0]=mm(t[0],n),t[1]=mm(t[1],n);var c=yI(t,r);t[r]+=e;var h=i||0,d=n.slice();c.sign<0?d[0]+=h:d[1]-=h,t[r]=mm(t[r],d);var g;return g=yI(t,r),i!=null&&(g.sign!==c.sign||g.span<i)&&(t[1-r]=t[r]+c.sign*i),g=yI(t,r),o!=null&&g.span>o&&(t[1-r]=t[r]+g.sign*o),t}function yI(e,t){var n=e[t]-e[1-t];return{span:Math.abs(n),sign:n>0?-1:n<0?1:t?-1:1}}function mm(e,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,e))}var QX=function(e){Xt(t,e);function t(n,r,i){var o=e.call(this)||this;return o.add(o.createLine(n,r,i)),o._updateEffectSymbol(n,r),o}return t.prototype.createLine=function(n,r,i){return new GR(n,r,i)},t.prototype._updateEffectSymbol=function(n,r){var i=n.getItemModel(r),o=i.getModel("effect"),s=o.get("symbolSize"),a=o.get("symbol");cn(s)||(s=[s,s]);var c=n.getItemVisual(r,"style"),h=o.get("color")||c&&c.stroke,d=this.childAt(1);this._symbolType!==a&&(this.remove(d),d=dl(a,-.5,-.5,1,1,h),d.z2=100,d.culling=!0,this.add(d)),d&&(d.setStyle("shadowColor",h),d.setStyle(o.getItemStyle(["color"])),d.scaleX=s[0],d.scaleY=s[1],d.setColor(h),this._symbolType=a,this._symbolScale=s,this._updateEffectAnimation(n,o,r))},t.prototype._updateEffectAnimation=function(n,r,i){var o=this.childAt(1);if(o){var s=n.getItemLayout(i),a=r.get("period")*1e3,c=r.get("loop"),h=r.get("roundTrip"),d=r.get("constantSpeed"),g=Tg(r.get("delay"),function(v){return v/n.count()*a/3});if(o.ignore=!0,this._updateAnimationPoints(o,s),d>0&&(a=this._getLineLength(o)/d*1e3),a!==this._period||c!==this._loop||h!==this._roundTrip){o.stopAnimation();var y=void 0;Sn(g)?y=g(i):y=g,o.__t>0&&(y=-a*o.__t),this._animateSymbol(o,a,y,c,h)}this._period=a,this._loop=c,this._roundTrip=h}},t.prototype._animateSymbol=function(n,r,i,o,s){if(r>0){n.__t=0;var a=this,c=n.animate("",o).when(s?r*2:r,{__t:s?2:1}).delay(i).during(function(){a._updateSymbolPosition(n)});o||c.done(function(){a.remove(n)}),c.start()}},t.prototype._getLineLength=function(n){return Mm(n.__p1,n.__cp1)+Mm(n.__cp1,n.__p2)},t.prototype._updateAnimationPoints=function(n,r){n.__p1=r[0],n.__p2=r[1],n.__cp1=r[2]||[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]},t.prototype.updateData=function(n,r,i){this.childAt(0).updateData(n,r,i),this._updateEffectSymbol(n,r)},t.prototype._updateSymbolPosition=function(n){var r=n.__p1,i=n.__p2,o=n.__cp1,s=n.__t<1?n.__t:2-n.__t,a=[n.x,n.y],c=a.slice(),h=ma,d=hA;a[0]=h(r[0],o[0],i[0],s),a[1]=h(r[1],o[1],i[1],s);var g=n.__t<1?d(r[0],o[0],i[0],s):d(i[0],o[0],r[0],1-s),y=n.__t<1?d(r[1],o[1],i[1],s):d(i[1],o[1],r[1],1-s);n.rotation=-Math.atan2(y,g)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(n.__lastT!==void 0&&n.__lastT<n.__t?(n.scaleY=Mm(c,a)*1.05,s===1&&(a[0]=c[0]+(a[0]-c[0])/2,a[1]=c[1]+(a[1]-c[1])/2)):n.__lastT===1?n.scaleY=2*Mm(r,a):n.scaleY=this._symbolScale[1]),n.__lastT=n.__t,n.ignore=!1,n.x=a[0],n.y=a[1]},t.prototype.updateLayout=function(n,r){this.childAt(0).updateLayout(n,r);var i=n.getItemModel(r).getModel("effect");this._updateEffectAnimation(n,i,r)},t}(gi),eY=function(e){Xt(t,e);function t(n,r,i){var o=e.call(this)||this;return o._createPolyline(n,r,i),o}return t.prototype._createPolyline=function(n,r,i){var o=n.getItemLayout(r),s=new xb({shape:{points:o}});this.add(s),this._updateCommonStl(n,r,i)},t.prototype.updateData=function(n,r,i){var o=n.hostModel,s=this.childAt(0),a={shape:{points:n.getItemLayout(r)}};Jl(s,a,o,r),this._updateCommonStl(n,r,i)},t.prototype._updateCommonStl=function(n,r,i){var o=this.childAt(0),s=n.getItemModel(r),a=i&&i.emphasisLineStyle,c=i&&i.focus,h=i&&i.blurScope,d=i&&i.emphasisDisabled;if(!i||n.hasItemOption){var g=s.getModel("emphasis");a=g.getModel("lineStyle").getLineStyle(),d=g.get("disabled"),c=g.get("focus"),h=g.get("blurScope")}o.useStyle(n.getItemVisual(r,"style")),o.style.fill=null,o.style.strokeNoScale=!0;var y=o.ensureState("emphasis");y.style=a,z0(this,c,h,d)},t.prototype.updateLayout=function(n,r){var i=this.childAt(0);i.setShape("points",n.getItemLayout(r))},t}(gi),p5e=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n._lastFrame=0,n._lastFramePercent=0,n}return t.prototype.createLine=function(n,r,i){return new eY(n,r,i)},t.prototype._updateAnimationPoints=function(n,r){this._points=r;for(var i=[0],o=0,s=1;s<r.length;s++){var a=r[s-1],c=r[s];o+=Mm(a,c),i.push(o)}if(o===0){this._length=0;return}for(var s=0;s<i.length;s++)i[s]/=o;this._offsets=i,this._length=o},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(n){var r=n.__t<1?n.__t:2-n.__t,i=this._points,o=this._offsets,s=i.length;if(o){var a=this._lastFrame,c;if(r<this._lastFramePercent){var h=Math.min(a+1,s-1);for(c=h;c>=0&&!(o[c]<=r);c--);c=Math.min(c,s-2)}else{for(c=a;c<s&&!(o[c]>r);c++);c=Math.min(c-1,s-2)}var d=(r-o[c])/(o[c+1]-o[c]),g=i[c],y=i[c+1];n.x=g[0]*(1-d)+d*y[0],n.y=g[1]*(1-d)+d*y[1];var v=n.__t<1?y[0]-g[0]:g[0]-y[0],x=n.__t<1?y[1]-g[1]:g[1]-y[1];n.rotation=-Math.atan2(x,v)-Math.PI/2,this._lastFrame=c,this._lastFramePercent=r,n.ignore=!1}},t}(QX),m5e=function(){function e(){this.polyline=!1,this.curveness=0,this.segs=[]}return e}(),g5e=function(e){Xt(t,e);function t(n){var r=e.call(this,n)||this;return r._off=0,r.hoverDataIdx=-1,r}return t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new m5e},t.prototype.buildPath=function(n,r){var i=r.segs,o=r.curveness,s;if(r.polyline)for(s=this._off;s<i.length;){var a=i[s++];if(a>0){n.moveTo(i[s++],i[s++]);for(var c=1;c<a;c++)n.lineTo(i[s++],i[s++])}}else for(s=this._off;s<i.length;){var h=i[s++],d=i[s++],g=i[s++],y=i[s++];if(n.moveTo(h,d),o>0){var v=(h+g)/2-(d-y)*o,x=(d+y)/2-(g-h)*o;n.quadraticCurveTo(v,x,g,y)}else n.lineTo(g,y)}this.incremental&&(this._off=s,this.notClear=!0)},t.prototype.findDataIndex=function(n,r){var i=this.shape,o=i.segs,s=i.curveness,a=this.style.lineWidth;if(i.polyline)for(var c=0,h=0;h<o.length;){var d=o[h++];if(d>0)for(var g=o[h++],y=o[h++],v=1;v<d;v++){var x=o[h++],C=o[h++];if(oh(g,y,x,C,a,n,r))return c}c++}else for(var c=0,h=0;h<o.length;){var g=o[h++],y=o[h++],x=o[h++],C=o[h++];if(s>0){var I=(g+x)/2-(y-C)*s,A=(y+C)/2-(x-g)*s;if(rq(g,y,I,A,x,C,a,n,r))return c}else if(oh(g,y,x,C,a,n,r))return c;c++}return-1},t.prototype.contain=function(n,r){var i=this.transformCoordToLocal(n,r),o=this.getBoundingRect();if(n=i[0],r=i[1],o.contain(n,r)){var s=this.hoverDataIdx=this.findDataIndex(n,r);return s>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var n=this._rect;if(!n){for(var r=this.shape,i=r.segs,o=1/0,s=1/0,a=-1/0,c=-1/0,h=0;h<i.length;){var d=i[h++],g=i[h++];o=Math.min(d,o),a=Math.max(d,a),s=Math.min(g,s),c=Math.max(g,c)}n=this._rect=new dr(o,s,a,c)}return n},t}(yr),v5e=function(){function e(){this.group=new gi}return e.prototype.updateData=function(t){this._clear();var n=this._create();n.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(n,t)},e.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},e.prototype.incrementalUpdate=function(t,n){var r=this._newAdded[0],i=n.getLayout("linesPoints"),o=r&&r.shape.segs;if(o&&o.length<2e4){var s=o.length,a=new Float32Array(s+i.length);a.set(o),a.set(i,s),r.setShape({segs:a})}else{this._newAdded=[];var c=this._create();c.incremental=!0,c.setShape({segs:i}),this._setCommon(c,n),c.__startIndex=t.start}},e.prototype.remove=function(){this._clear()},e.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},e.prototype._create=function(){var t=new g5e({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},e.prototype._setCommon=function(t,n,r){var i=n.hostModel;t.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),t.useStyle(i.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var o=n.getVisual("style");o&&o.stroke&&t.setStyle("stroke",o.stroke),t.setStyle("fill",null);var s=sr(t);s.seriesIndex=i.seriesIndex,t.on("mousemove",function(a){s.dataIndex=null;var c=t.hoverDataIdx;c>0&&(s.dataIndex=c+t.__startIndex)})},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}(),tY={seriesType:"lines",plan:yR(),reset:function(e){var t=e.coordinateSystem;if(t){var n=e.get("polyline"),r=e.pipelineContext.large;return{progress:function(i,o){var s=[];if(r){var a=void 0,c=i.end-i.start;if(n){for(var h=0,d=i.start;d<i.end;d++)h+=e.getLineCoordsCount(d);a=new Float32Array(c+h*2)}else a=new Float32Array(c*4);for(var g=0,y=[],d=i.start;d<i.end;d++){var v=e.getLineCoords(d,s);n&&(a[g++]=v);for(var x=0;x<v;x++)y=t.dataToPoint(s[x],!1,y),a[g++]=y[0],a[g++]=y[1]}o.setLayout("linesPoints",a)}else for(var d=i.start;d<i.end;d++){var C=o.getItemModel(d),v=e.getLineCoords(d,s),I=[];if(n)for(var A=0;A<v;A++)I.push(t.dataToPoint(s[A]));else{I[0]=t.dataToPoint(s[0]),I[1]=t.dataToPoint(s[1]);var k=C.get(["lineStyle","curveness"]);+k&&(I[2]=[(I[0][0]+I[1][0])/2-(I[0][1]-I[1][1])*k,(I[0][1]+I[1][1])/2-(I[1][0]-I[0][0])*k])}o.setItemLayout(d,I)}}}}}},y5e=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,i){var o=n.getData(),s=this._updateLineDraw(o,n),a=n.get("zlevel"),c=n.get(["effect","trailLength"]),h=i.getZr(),d=h.painter.getType()==="svg";d||h.painter.getLayer(a).clear(!0),this._lastZlevel!=null&&!d&&h.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(n)&&c>0&&(d||h.configLayer(a,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(c/10+.9,1),0)})),s.updateData(o);var g=n.get("clip",!0)&&u$e(n.coordinateSystem,!1,n);g?this.group.setClipPath(g):this.group.removeClipPath(),this._lastZlevel=a,this._finished=!0},t.prototype.incrementalPrepareRender=function(n,r,i){var o=n.getData(),s=this._updateLineDraw(o,n);s.incrementalPrepareUpdate(o),this._clearLayer(i),this._finished=!1},t.prototype.incrementalRender=function(n,r,i){this._lineDraw.incrementalUpdate(n,r.getData()),this._finished=n.end===r.getData().count()},t.prototype.eachRendered=function(n){this._lineDraw&&this._lineDraw.eachRendered(n)},t.prototype.updateTransform=function(n,r,i){var o=n.getData(),s=n.pipelineContext;if(!this._finished||s.large||s.progressiveRender)return{update:!0};var a=tY.reset(n,r,i);a.progress&&a.progress({start:0,end:o.count(),count:o.count()},o),this._lineDraw.updateLayout(),this._clearLayer(i)},t.prototype._updateLineDraw=function(n,r){var i=this._lineDraw,o=this._showEffect(r),s=!!r.get("polyline"),a=r.pipelineContext,c=a.large;return(!i||o!==this._hasEffet||s!==this._isPolyline||c!==this._isLargeDraw)&&(i&&i.remove(),i=this._lineDraw=c?new v5e:new d5e(s?o?p5e:eY:o?QX:GR),this._hasEffet=o,this._isPolyline=s,this._isLargeDraw=c),this.group.add(i.group),i},t.prototype._showEffect=function(n){return!!n.get(["effect","show"])},t.prototype._clearLayer=function(n){var r=n.getZr(),i=r.painter.getType()==="svg";!i&&this._lastZlevel!=null&&r.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(n,r){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(r)},t.prototype.dispose=function(n,r){this.remove(n,r)},t.type="lines",t}(Ns),_5e=typeof Uint32Array>"u"?Array:Uint32Array,b5e=typeof Float64Array>"u"?Array:Float64Array;function Z9(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=_n(t,function(n){var r=[n[0].coord,n[1].coord],i={coords:r};return n[0].name&&(i.fromName=n[0].name),n[1].name&&(i.toName=n[1].name),EEe([i,n[0],n[1]])}))}var x5e=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return t.prototype.init=function(n){n.data=n.data||[],Z9(n);var r=this._processFlatCoordsArray(n.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(n.data=new Float32Array(r.count)),e.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(n){if(Z9(n),n.data){var r=this._processFlatCoordsArray(n.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(n.data=new Float32Array(r.count))}e.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(n){var r=this._processFlatCoordsArray(n.data);r.flatCoords&&(this._flatCoords?(this._flatCoords=oA(this._flatCoords,r.flatCoords),this._flatCoordsOffset=oA(this._flatCoordsOffset,r.flatCoordsOffset)):(this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset),n.data=new Float32Array(r.count)),this.getRawData().appendData(n.data)},t.prototype._getCoordsFromItemModel=function(n){var r=this.getData().getItemModel(n),i=r.option instanceof Array?r.option:r.getShallow("coords");return i},t.prototype.getLineCoordsCount=function(n){return this._flatCoordsOffset?this._flatCoordsOffset[n*2+1]:this._getCoordsFromItemModel(n).length},t.prototype.getLineCoords=function(n,r){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[n*2],o=this._flatCoordsOffset[n*2+1],s=0;s<o;s++)r[s]=r[s]||[],r[s][0]=this._flatCoords[i+s*2],r[s][1]=this._flatCoords[i+s*2+1];return o}else{for(var a=this._getCoordsFromItemModel(n),s=0;s<a.length;s++)r[s]=r[s]||[],r[s][0]=a[s][0],r[s][1]=a[s][1];return a.length}},t.prototype._processFlatCoordsArray=function(n){var r=0;if(this._flatCoords&&(r=this._flatCoords.length),ti(n[0])){for(var i=n.length,o=new _5e(i),s=new b5e(i),a=0,c=0,h=0,d=0;d<i;){h++;var g=n[d++];o[c++]=a+r,o[c++]=g;for(var y=0;y<g;y++){var v=n[d++],x=n[d++];s[a++]=v,s[a++]=x}}return{flatCoordsOffset:new Uint32Array(o.buffer,0,c),flatCoords:s,count:h}}return{flatCoordsOffset:null,flatCoords:null,count:n.length}},t.prototype.getInitialData=function(n,r){var i=new ER(["value"],this);return i.hasItemOption=!1,i.initData(n.data,[],function(o,s,a,c){if(o instanceof Array)return NaN;i.hasItemOption=!0;var h=o.value;if(h!=null)return h instanceof Array?h[c]:h}),i},t.prototype.formatTooltip=function(n,r,i){var o=this.getData(),s=o.getItemModel(n),a=s.get("name");if(a)return a;var c=s.get("fromName"),h=s.get("toName"),d=[];return c!=null&&d.push(c),h!=null&&d.push(h),Ah("nameValue",{name:d.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var n=this.option.progressive;return n??(this.option.large?1e4:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var n=this.option.progressiveThreshold;return n??(this.option.large?2e4:this.get("progressiveThreshold"))},t.prototype.getZLevelKey=function(){var n=this.getModel("effect"),r=n.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:n.get("show")&&r>0?r+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(Ql);function Kx(e){return e instanceof Array||(e=[e,e]),e}var w5e={seriesType:"lines",reset:function(e){var t=Kx(e.get("symbol")),n=Kx(e.get("symbolSize")),r=e.getData();r.setVisual("fromSymbol",t&&t[0]),r.setVisual("toSymbol",t&&t[1]),r.setVisual("fromSymbolSize",n&&n[0]),r.setVisual("toSymbolSize",n&&n[1]);function i(o,s){var a=o.getItemModel(s),c=Kx(a.getShallow("symbol",!0)),h=Kx(a.getShallow("symbolSize",!0));c[0]&&o.setItemVisual(s,"fromSymbol",c[0]),c[1]&&o.setItemVisual(s,"toSymbol",c[1]),h[0]&&o.setItemVisual(s,"fromSymbolSize",h[0]),h[1]&&o.setItemVisual(s,"toSymbolSize",h[1])}return{dataEach:r.hasItemOption?i:null}}};function S5e(e){e.registerChartView(y5e),e.registerSeriesModel(x5e),e.registerLayout(tY),e.registerVisual(w5e)}var af=Ti(),q9=er,_I=zn,C5e=function(){function e(){this._dragging=!1,this.animationThreshold=15}return e.prototype.render=function(t,n,r,i){var o=n.get("value"),s=n.get("status");if(this._axisModel=t,this._axisPointerModel=n,this._api=r,!(!i&&this._lastValue===o&&this._lastStatus===s)){this._lastValue=o,this._lastStatus=s;var a=this._group,c=this._handle;if(!s||s==="hide"){a&&a.hide(),c&&c.hide();return}a&&a.show(),c&&c.show();var h={};this.makeElOption(h,o,t,n,r);var d=h.graphicKey;d!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=d;var g=this._moveAnimation=this.determineAnimation(t,n);if(!a)a=this._group=new gi,this.createPointerEl(a,h,t,n),this.createLabelEl(a,h,t,n),r.getZr().add(a);else{var y=Qr(K9,n,g);this.updatePointerEl(a,h,y),this.updateLabelEl(a,h,y,n)}Y9(a,n,!0),this._renderHandle(o)}},e.prototype.remove=function(t){this.clear(t)},e.prototype.dispose=function(t){this.clear(t)},e.prototype.determineAnimation=function(t,n){var r=n.get("animation"),i=t.axis,o=i.type==="category",s=n.get("snap");if(!s&&!o)return!1;if(r==="auto"||r==null){var a=this.animationThreshold;if(o&&i.getBandWidth()>a)return!0;if(s){var c=UR(t).seriesDataCount,h=i.getExtent();return Math.abs(h[0]-h[1])/c>a}return!1}return r===!0},e.prototype.makeElOption=function(t,n,r,i,o){},e.prototype.createPointerEl=function(t,n,r,i){var o=n.pointer;if(o){var s=af(t).pointerEl=new SDe[o.type](q9(n.pointer));t.add(s)}},e.prototype.createLabelEl=function(t,n,r,i){if(n.label){var o=af(t).labelEl=new Mo(q9(n.label));t.add(o),X9(o,i)}},e.prototype.updatePointerEl=function(t,n,r){var i=af(t).pointerEl;i&&n.pointer&&(i.setStyle(n.pointer.style),r(i,{shape:n.pointer.shape}))},e.prototype.updateLabelEl=function(t,n,r,i){var o=af(t).labelEl;o&&(o.setStyle(n.label.style),r(o,{x:n.label.x,y:n.label.y}),X9(o,i))},e.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var n=this._axisPointerModel,r=this._api.getZr(),i=this._handle,o=n.getModel("handle"),s=n.get("status");if(!o.get("show")||!s||s==="hide"){i&&r.remove(i),this._handle=null;return}var a;this._handle||(a=!0,i=this._handle=rR(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(h){Pg(h.event)},onmousedown:_I(this._onHandleDragMove,this,0,0),drift:_I(this._onHandleDragMove,this),ondragend:_I(this._onHandleDragEnd,this)}),r.add(i)),Y9(i,n,!1),i.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var c=o.get("size");cn(c)||(c=[c,c]),i.scaleX=c[0]/2,i.scaleY=c[1]/2,wC(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,a)}},e.prototype._moveHandleToValue=function(t,n){K9(this._axisPointerModel,!n&&this._moveAnimation,this._handle,bI(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},e.prototype._onHandleDragMove=function(t,n){var r=this._handle;if(r){this._dragging=!0;var i=this.updateHandleTransform(bI(r),[t,n],this._axisModel,this._axisPointerModel);this._payloadInfo=i,r.stopAnimation(),r.attr(bI(i)),af(r).lastProp=null,this._doDispatchAxisPointer()}},e.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var n=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:n.cursorPoint[0],y:n.cursorPoint[1],tooltipOption:n.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},e.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var n=this._axisPointerModel.get("value");this._moveHandleToValue(n),this._api.dispatchAction({type:"hideTip"})}},e.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var n=t.getZr(),r=this._group,i=this._handle;n&&r&&(this._lastGraphicKey=null,r&&n.remove(r),i&&n.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),VS(this,"_doDispatchAxisPointer")},e.prototype.doClear=function(){},e.prototype.buildLabel=function(t,n,r){return r=r||0,{x:t[r],y:t[1-r],width:n[r],height:n[1-r]}},e}();function K9(e,t,n,r){nY(af(n).lastProp,r)||(af(n).lastProp=r,t?Jl(n,r,e):(n.stopAnimation(),n.attr(r)))}function nY(e,t){if(Pn(e)&&Pn(t)){var n=!0;return Ne(t,function(r,i){n=n&&nY(e[i],r)}),!!n}else return e===t}function X9(e,t){e[t.get(["label","show"])?"show":"hide"]()}function bI(e){return{x:e.x||0,y:e.y||0,rotation:e.rotation||0}}function Y9(e,t,n){var r=t.get("z"),i=t.get("zlevel");e&&e.traverse(function(o){o.type!=="group"&&(r!=null&&(o.z=r),i!=null&&(o.zlevel=i),o.silent=n)})}function T5e(e){var t=e.get("type"),n=e.getModel(t+"Style"),r;return t==="line"?(r=n.getLineStyle(),r.fill=null):t==="shadow"&&(r=n.getAreaStyle(),r.stroke=null),r}function P5e(e,t,n,r,i){var o=n.get("value"),s=rY(o,t.axis,t.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),a=n.getModel("label"),c=_C(a.get("padding")||0),h=a.getFont(),d=jO(s,h),g=i.position,y=d.width+c[1]+c[3],v=d.height+c[0]+c[2],x=i.align;x==="right"&&(g[0]-=y),x==="center"&&(g[0]-=y/2);var C=i.verticalAlign;C==="bottom"&&(g[1]-=v),C==="middle"&&(g[1]-=v/2),E5e(g,y,v,r);var I=a.get("backgroundColor");(!I||I==="auto")&&(I=t.get(["axisLine","lineStyle","color"])),e.label={x:g[0],y:g[1],style:oc(a,{text:s,font:h,fill:a.getTextColor(),padding:c,backgroundColor:I}),z2:10}}function E5e(e,t,n,r){var i=r.getWidth(),o=r.getHeight();e[0]=Math.min(e[0]+t,i)-t,e[1]=Math.min(e[1]+n,o)-n,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}function rY(e,t,n,r,i){e=t.scale.parse(e);var o=t.scale.getLabel({value:e},{precision:i.precision}),s=i.formatter;if(s){var a={value:AR(t,{value:e}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};Ne(r,function(c){var h=n.getSeriesByIndex(c.seriesIndex),d=c.dataIndexInside,g=h&&h.getDataParams(d);g&&a.seriesData.push(g)}),pn(s)?o=s.replace("{value}",o):Sn(s)&&(o=s(a))}return o}function iY(e,t,n){var r=Jm();return $O(r,r,n.rotation),cA(r,r,n.position),F0([e.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],r)}function I5e(e,t,n,r,i,o){var s=bh.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=i.get(["label","margin"]),P5e(t,r,i,o,{position:iY(r.axis,e,n),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function M5e(e,t,n){return n=n||0,{x1:e[n],y1:e[1-n],x2:t[n],y2:t[1-n]}}function A5e(e,t,n){return n=n||0,{x:e[n],y:e[1-n],width:t[n],height:t[1-n]}}var D5e=function(e){Xt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(n,r,i,o,s){var a=i.axis,c=a.grid,h=o.get("type"),d=J9(c,a).getOtherAxis(a).getGlobalExtent(),g=a.toGlobalCoord(a.dataToCoord(r,!0));if(h&&h!=="none"){var y=T5e(o),v=k5e[h](a,g,d);v.style=y,n.graphicKey=v.type,n.pointer=v}var x=iD(c.model,i);I5e(r,n,x,i,o,s)},t.prototype.getHandleTransform=function(n,r,i){var o=iD(r.axis.grid.model,r,{labelInside:!1});o.labelMargin=i.get(["handle","margin"]);var s=iY(r.axis,n,o);return{x:s[0],y:s[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(n,r,i,o){var s=i.axis,a=s.grid,c=s.getGlobalExtent(!0),h=J9(a,s).getOtherAxis(s).getGlobalExtent(),d=s.dim==="x"?0:1,g=[n.x,n.y];g[d]+=r[d],g[d]=Math.min(c[1],g[d]),g[d]=Math.max(c[0],g[d]);var y=(h[1]+h[0])/2,v=[y,y];v[d]=g[d];var x=[{verticalAlign:"middle"},{align:"center"}];return{x:g[0],y:g[1],rotation:n.rotation,cursorPoint:v,tooltipOption:x[d]}},t}(C5e);function J9(e,t){var n={};return n[t.dim+"AxisIndex"]=t.index,e.getCartesian(n)}var k5e={line:function(e,t,n){var r=M5e([t,n[0]],[t,n[1]],Q9(e));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(e,t,n){var r=Math.max(1,e.getBandWidth()),i=n[1]-n[0];return{type:"Rect",shape:A5e([t-r/2,n[0]],[r,i],Q9(e))}}};function Q9(e){return e.dim==="x"?0:1}var O5e=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(gr),Yu=Ti(),R5e=Ne;function oY(e,t,n){if(!Ln.node){var r=t.getZr();Yu(r).records||(Yu(r).records={}),L5e(r,t);var i=Yu(r).records[e]||(Yu(r).records[e]={});i.handler=n}}function L5e(e,t){if(Yu(e).initialized)return;Yu(e).initialized=!0,n("click",Qr(e8,"click")),n("mousemove",Qr(e8,"mousemove")),n("globalout",z5e);function n(r,i){e.on(r,function(o){var s=B5e(t);R5e(Yu(e).records,function(a){a&&i(a,o,s.dispatchAction)}),$5e(s.pendings,t)})}}function $5e(e,t){var n=e.showTip.length,r=e.hideTip.length,i;n?i=e.showTip[n-1]:r&&(i=e.hideTip[r-1]),i&&(i.dispatchAction=null,t.dispatchAction(i))}function z5e(e,t,n){e.handler("leave",null,n)}function e8(e,t,n,r){t.handler(e,n,r)}function B5e(e){var t={showTip:[],hideTip:[]},n=function(r){var i=t[r.type];i?i.push(r):(r.dispatchAction=n,e.dispatchAction(r))};return{dispatchAction:n,pendings:t}}function lD(e,t){if(!Ln.node){var n=t.getZr(),r=(Yu(n).records||{})[e];r&&(Yu(n).records[e]=null)}}var F5e=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,i){var o=r.getComponent("tooltip"),s=n.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";oY("axisPointer",i,function(a,c,h){s!=="none"&&(a==="leave"||s.indexOf(a)>=0)&&h({type:"updateAxisPointer",currTrigger:a,x:c&&c.offsetX,y:c&&c.offsetY})})},t.prototype.remove=function(n,r){lD("axisPointer",r)},t.prototype.dispose=function(n,r){lD("axisPointer",r)},t.type="axisPointer",t}(ls);function aY(e,t){var n=[],r=e.seriesIndex,i;if(r==null||!(i=t.getSeriesByIndex(r)))return{point:[]};var o=i.getData(),s=Nf(o,e);if(s==null||s<0||cn(s))return{point:[]};var a=o.getItemGraphicEl(s),c=i.coordinateSystem;if(i.getTooltipPosition)n=i.getTooltipPosition(s)||[];else if(c&&c.dataToPoint)if(e.isStacked){var h=c.getBaseAxis(),d=c.getOtherAxis(h),g=d.dim,y=h.dim,v=g==="x"||g==="radius"?1:0,x=o.mapDimension(y),C=[];C[v]=o.get(x,s),C[1-v]=o.get(o.getCalculationInfo("stackResultDimension"),s),n=c.dataToPoint(C)||[]}else n=c.dataToPoint(o.getValues(_n(c.dimensions,function(A){return o.mapDimension(A)}),s))||[];else if(a){var I=a.getBoundingRect().clone();I.applyTransform(a.transform),n=[I.x+I.width/2,I.y+I.height/2]}return{point:n,el:a}}var t8=Ti();function N5e(e,t,n){var r=e.currTrigger,i=[e.x,e.y],o=e,s=e.dispatchAction||zn(n.dispatchAction,n),a=t.getComponent("axisPointer").coordSysAxesInfo;if(a){Fw(i)&&(i=aY({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},t).point);var c=Fw(i),h=o.axesInfo,d=a.axesInfo,g=r==="leave"||Fw(i),y={},v={},x={list:[],map:{}},C={showPointer:Qr(j5e,v),showTooltip:Qr(H5e,x)};Ne(a.coordSysMap,function(A,k){var R=c||A.containPoint(i);Ne(a.coordSysAxesInfo[k],function(z,V){var U=z.axis,N=Z5e(h,z);if(!g&&R&&(!h||N)){var W=N&&N.value;W==null&&!c&&(W=U.pointToData(i)),W!=null&&n8(z,W,C,!1,y)}})});var I={};return Ne(d,function(A,k){var R=A.linkGroup;R&&!v[k]&&Ne(R.axesInfo,function(z,V){var U=v[V];if(z!==A&&U){var N=U.value;R.mapper&&(N=A.axis.scale.parse(R.mapper(N,r8(z),r8(A)))),I[A.key]=N}})}),Ne(I,function(A,k){n8(d[k],A,C,!0,y)}),U5e(v,d,y),G5e(x,i,e,s),W5e(d,s,n),y}}function n8(e,t,n,r,i){var o=e.axis;if(!(o.scale.isBlank()||!o.containData(t))){if(!e.involveSeries){n.showPointer(e,t);return}var s=V5e(t,e),a=s.payloadBatch,c=s.snapToValue;a[0]&&i.seriesIndex==null&&en(i,a[0]),!r&&e.snap&&o.containData(c)&&c!=null&&(t=c),n.showPointer(e,t,a),n.showTooltip(e,s,c)}}function V5e(e,t){var n=t.axis,r=n.dim,i=e,o=[],s=Number.MAX_VALUE,a=-1;return Ne(t.seriesModels,function(c,h){var d=c.getData().mapDimensionsAll(r),g,y;if(c.getAxisTooltipData){var v=c.getAxisTooltipData(d,e,n);y=v.dataIndices,g=v.nestestValue}else{if(y=c.getData().indicesOfNearest(d[0],e,n.type==="category"?.5:null),!y.length)return;g=c.getData().get(d[0],y[0])}if(!(g==null||!isFinite(g))){var x=e-g,C=Math.abs(x);C<=s&&((C<s||x>=0&&a<0)&&(s=C,a=x,i=g,o.length=0),Ne(y,function(I){o.push({seriesIndex:c.seriesIndex,dataIndexInside:I,dataIndex:c.getData().getRawIndex(I)})}))}}),{payloadBatch:o,snapToValue:i}}function j5e(e,t,n,r){e[t.key]={value:n,payloadBatch:r}}function H5e(e,t,n,r){var i=n.payloadBatch,o=t.axis,s=o.model,a=t.axisPointerModel;if(!(!t.triggerTooltip||!i.length)){var c=t.coordSys.model,h=q0(c),d=e.map[h];d||(d=e.map[h]={coordSysId:c.id,coordSysIndex:c.componentIndex,coordSysType:c.type,coordSysMainType:c.mainType,dataByAxis:[]},e.list.push(d)),d.dataByAxis.push({axisDim:o.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:r,valueLabelOpt:{precision:a.get(["label","precision"]),formatter:a.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function U5e(e,t,n){var r=n.axesInfo=[];Ne(t,function(i,o){var s=i.axisPointerModel.option,a=e[o];a?(!i.useHandle&&(s.status="show"),s.value=a.value,s.seriesDataIndices=(a.payloadBatch||[]).slice()):!i.useHandle&&(s.status="hide"),s.status==="show"&&r.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:s.value})})}function G5e(e,t,n,r){if(Fw(t)||!e.list.length){r({type:"hideTip"});return}var i=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:e.list})}function W5e(e,t,n){var r=n.getZr(),i="axisPointerLastHighlights",o=t8(r)[i]||{},s=t8(r)[i]={};Ne(e,function(h,d){var g=h.axisPointerModel.option;g.status==="show"&&h.triggerEmphasis&&Ne(g.seriesDataIndices,function(y){var v=y.seriesIndex+" | "+y.dataIndex;s[v]=y})});var a=[],c=[];Ne(o,function(h,d){!s[d]&&c.push(h)}),Ne(s,function(h,d){!o[d]&&a.push(h)}),c.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:c}),a.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:a})}function Z5e(e,t){for(var n=0;n<(e||[]).length;n++){var r=e[n];if(t.axis.dim===r.axisDim&&t.axis.model.componentIndex===r.axisIndex)return r}}function r8(e){var t=e.axis.model,n={},r=n.axisDim=e.axis.dim;return n.axisIndex=n[r+"AxisIndex"]=t.componentIndex,n.axisName=n[r+"AxisName"]=t.name,n.axisId=n[r+"AxisId"]=t.id,n}function Fw(e){return!e||e[0]==null||isNaN(e[0])||e[1]==null||isNaN(e[1])}function sY(e){ZX.registerAxisPointerClass("CartesianAxisPointer",D5e),e.registerComponentModel(O5e),e.registerComponentView(F5e),e.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var n=t.axisPointer.link;n&&!cn(n)&&(t.axisPointer.link=[n])}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(t,n){t.getComponent("axisPointer").coordSysAxesInfo=Z$e(t,n)}),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},N5e)}function lY(e){Us(XX),Us(sY)}var i8=["x","y","radius","angle","single"],q5e=["cartesian2d","polar","singleAxis"];function K5e(e){var t=e.get("coordinateSystem");return hr(q5e,t)>=0}function fh(e){return e+"Axis"}function X5e(e,t){var n=Dn(),r=[],i=Dn();e.eachComponent({mainType:"dataZoom",query:t},function(d){i.get(d.uid)||a(d)});var o;do o=!1,e.eachComponent("dataZoom",s);while(o);function s(d){!i.get(d.uid)&&c(d)&&(a(d),o=!0)}function a(d){i.set(d.uid,!0),r.push(d),h(d)}function c(d){var g=!1;return d.eachTargetAxis(function(y,v){var x=n.get(y);x&&x[v]&&(g=!0)}),g}function h(d){d.eachTargetAxis(function(g,y){(n.get(g)||n.set(g,[]))[y]=!0})}return r}function uY(e){var t=e.ecModel,n={infoList:[],infoMap:Dn()};return e.eachTargetAxis(function(r,i){var o=t.getComponent(fh(r),i);if(o){var s=o.getCoordSysModel();if(s){var a=s.uid,c=n.infoMap.get(a);c||(c={model:s,axisModels:[]},n.infoList.push(c),n.infoMap.set(a,c)),c.axisModels.push(o)}}}),n}var xI=function(){function e(){this.indexList=[],this.indexMap=[]}return e.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},e}(),XS=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._autoThrottle=!0,n._noTarget=!0,n._rangePropMode=["percent","percent"],n}return t.prototype.init=function(n,r,i){var o=o8(n);this.settledOption=o,this.mergeDefaultAndTheme(n,i),this._doInit(o)},t.prototype.mergeOption=function(n){var r=o8(n);ur(this.option,n,!0),ur(this.settledOption,r,!0),this._doInit(r)},t.prototype._doInit=function(n){var r=this.option;this._setDefaultThrottle(n),this._updateRangeUse(n);var i=this.settledOption;Ne([["start","startValue"],["end","endValue"]],function(o,s){this._rangePropMode[s]==="value"&&(r[o[0]]=i[o[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var n=this.get("orient",!0),r=this._targetAxisInfoMap=Dn(),i=this._fillSpecifiedTargetAxis(r);i?this._orient=n||this._makeAutoOrientByTargetAxis():(this._orient=n||"horizontal",this._fillAutoTargetAxisByOrient(r,this._orient)),this._noTarget=!0,r.each(function(o){o.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(n){var r=!1;return Ne(i8,function(i){var o=this.getReferringComponents(fh(i),mMe);if(o.specified){r=!0;var s=new xI;Ne(o.models,function(a){s.add(a.componentIndex)}),n.set(i,s)}},this),r},t.prototype._fillAutoTargetAxisByOrient=function(n,r){var i=this.ecModel,o=!0;if(o){var s=r==="vertical"?"y":"x",a=i.findComponents({mainType:s+"Axis"});c(a,s)}if(o){var a=i.findComponents({mainType:"singleAxis",filter:function(d){return d.get("orient",!0)===r}});c(a,"single")}function c(h,d){var g=h[0];if(g){var y=new xI;if(y.add(g.componentIndex),n.set(d,y),o=!1,d==="x"||d==="y"){var v=g.getReferringComponents("grid",Aa).models[0];v&&Ne(h,function(x){g.componentIndex!==x.componentIndex&&v===x.getReferringComponents("grid",Aa).models[0]&&y.add(x.componentIndex)})}}}o&&Ne(i8,function(h){if(o){var d=i.findComponents({mainType:fh(h),filter:function(y){return y.get("type",!0)==="category"}});if(d[0]){var g=new xI;g.add(d[0].componentIndex),n.set(h,g),o=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var n;return this.eachTargetAxis(function(r){!n&&(n=r)},this),n==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(n){if(n.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var r=this.ecModel.option;this.option.throttle=r.animation&&r.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(n){var r=this._rangePropMode,i=this.get("rangeMode");Ne([["start","startValue"],["end","endValue"]],function(o,s){var a=n[o[0]]!=null,c=n[o[1]]!=null;a&&!c?r[s]="percent":!a&&c?r[s]="value":i?r[s]=i[s]:a&&(r[s]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var n;return this.eachTargetAxis(function(r,i){n==null&&(n=this.ecModel.getComponent(fh(r),i))},this),n},t.prototype.eachTargetAxis=function(n,r){this._targetAxisInfoMap.each(function(i,o){Ne(i.indexList,function(s){n.call(r,o,s)})})},t.prototype.getAxisProxy=function(n,r){var i=this.getAxisModel(n,r);if(i)return i.__dzAxisProxy},t.prototype.getAxisModel=function(n,r){var i=this._targetAxisInfoMap.get(n);if(i&&i.indexMap[r])return this.ecModel.getComponent(fh(n),r)},t.prototype.setRawRange=function(n){var r=this.option,i=this.settledOption;Ne([["start","startValue"],["end","endValue"]],function(o){(n[o[0]]!=null||n[o[1]]!=null)&&(r[o[0]]=i[o[0]]=n[o[0]],r[o[1]]=i[o[1]]=n[o[1]])},this),this._updateRangeUse(n)},t.prototype.setCalculatedRange=function(n){var r=this.option;Ne(["start","startValue","end","endValue"],function(i){r[i]=n[i]})},t.prototype.getPercentRange=function(){var n=this.findRepresentativeAxisProxy();if(n)return n.getDataPercentWindow()},t.prototype.getValueRange=function(n,r){if(n==null&&r==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(n,r).getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(n){if(n)return n.__dzAxisProxy;for(var r,i=this._targetAxisInfoMap.keys(),o=0;o<i.length;o++)for(var s=i[o],a=this._targetAxisInfoMap.get(s),c=0;c<a.indexList.length;c++){var h=this.getAxisProxy(s,a.indexList[c]);if(h.hostedBy(this))return h;r||(r=h)}return r},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(gr);function o8(e){var t={};return Ne(["start","end","startValue","endValue","throttle"],function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}var cY=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,i,o){this.dataZoomModel=n,this.ecModel=r,this.api=i},t.type="dataZoom",t}(ls),Cm=Ne,a8=g_,Y5e=function(){function e(t,n,r,i){this._dimName=t,this._axisIndex=n,this.ecModel=i,this._dataZoomModel=r}return e.prototype.hostedBy=function(t){return this._dataZoomModel===t},e.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},e.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},e.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(n){if(K5e(n)){var r=fh(this._dimName),i=n.getReferringComponents(r,Aa).models[0];i&&this._axisIndex===i.componentIndex&&t.push(n)}},this),t},e.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},e.prototype.getMinMaxSpan=function(){return er(this._minMaxSpan)},e.prototype.calculateDataWindow=function(t){var n=this._dataExtent,r=this.getAxisModel(),i=r.axis.scale,o=this._dataZoomModel.getRangePropMode(),s=[0,100],a=[],c=[],h;Cm(["start","end"],function(y,v){var x=t[y],C=t[y+"Value"];o[v]==="percent"?(x==null&&(x=s[v]),C=i.parse(Go(x,s,n))):(h=!0,C=C==null?n[v]:i.parse(C),x=Go(C,n,s)),c[v]=C==null||isNaN(C)?n[v]:C,a[v]=x==null||isNaN(x)?s[v]:x}),a8(c),a8(a);var d=this._minMaxSpan;h?g(c,a,n,s,!1):g(a,c,s,n,!0);function g(y,v,x,C,I){var A=I?"Span":"ValueSpan";MC(0,y,x,"all",d["min"+A],d["max"+A]);for(var k=0;k<2;k++)v[k]=Go(y[k],x,C,!0),I&&(v[k]=i.parse(v[k]))}return{valueWindow:c,percentWindow:a}},e.prototype.reset=function(t){if(t===this._dataZoomModel){var n=this.getTargetSeriesModels();this._dataExtent=J5e(this,this._dimName,n),this._updateMinMaxSpan();var r=this.calculateDataWindow(t.settledOption);this._valueWindow=r.valueWindow,this._percentWindow=r.percentWindow,this._setAxisModel()}},e.prototype.filterData=function(t,n){if(t!==this._dataZoomModel)return;var r=this._dimName,i=this.getTargetSeriesModels(),o=t.get("filterMode"),s=this._valueWindow;if(o==="none")return;Cm(i,function(c){var h=c.getData(),d=h.mapDimensionsAll(r);if(d.length){if(o==="weakFilter"){var g=h.getStore(),y=_n(d,function(v){return h.getDimensionIndex(v)},h);h.filterSelf(function(v){for(var x,C,I,A=0;A<d.length;A++){var k=g.get(y[A],v),R=!isNaN(k),z=k<s[0],V=k>s[1];if(R&&!z&&!V)return!0;R&&(I=!0),z&&(x=!0),V&&(C=!0)}return I&&x&&C})}else Cm(d,function(v){if(o==="empty")c.setData(h=h.map(v,function(C){return a(C)?C:NaN}));else{var x={};x[v]=s,h.selectRange(x)}});Cm(d,function(v){h.setApproximateExtent(s,v)})}});function a(c){return c>=s[0]&&c<=s[1]}},e.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},n=this._dataZoomModel,r=this._dataExtent;Cm(["min","max"],function(i){var o=n.get(i+"Span"),s=n.get(i+"ValueSpan");s!=null&&(s=this.getAxisModel().axis.scale.parse(s)),s!=null?o=Go(r[0]+s,r,[0,100],!0):o!=null&&(s=Go(o,[0,100],r,!0)-r[0]),t[i+"Span"]=o,t[i+"ValueSpan"]=s},this)},e.prototype._setAxisModel=function(){var t=this.getAxisModel(),n=this._percentWindow,r=this._valueWindow;if(n){var i=UZ(r,[0,500]);i=Math.min(i,20);var o=t.axis.scale.rawExtentInfo;n[0]!==0&&o.setDeterminedMinMax("min",+r[0].toFixed(i)),n[1]!==100&&o.setDeterminedMinMax("max",+r[1].toFixed(i)),o.freeze()}},e}();function J5e(e,t,n){var r=[1/0,-1/0];Cm(n,function(s){FLe(r,s.getData(),t)});var i=e.getAxisModel(),o=uX(i.axis.scale,i,r).calculate();return[o.min,o.max]}var Q5e={getTargetSeries:function(e){function t(i){e.eachComponent("dataZoom",function(o){o.eachTargetAxis(function(s,a){var c=e.getComponent(fh(s),a);i(s,a,c,o)})})}t(function(i,o,s,a){s.__dzAxisProxy=null});var n=[];t(function(i,o,s,a){s.__dzAxisProxy||(s.__dzAxisProxy=new Y5e(i,o,a,e),n.push(s.__dzAxisProxy))});var r=Dn();return Ne(n,function(i){Ne(i.getTargetSeriesModels(),function(o){r.set(o.uid,o)})}),r},overallReset:function(e,t){e.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(r,i){n.getAxisProxy(r,i).reset(n)}),n.eachTargetAxis(function(r,i){n.getAxisProxy(r,i).filterData(n,t)})}),e.eachComponent("dataZoom",function(n){var r=n.findRepresentativeAxisProxy();if(r){var i=r.getDataPercentWindow(),o=r.getDataValueWindow();n.setCalculatedRange({start:i[0],end:i[1],startValue:o[0],endValue:o[1]})}})}};function eze(e){e.registerAction("dataZoom",function(t,n){var r=X5e(n,t);Ne(r,function(i){i.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var s8=!1;function hY(e){s8||(s8=!0,e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,Q5e),eze(e),e.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function tze(e,t){var n=_C(t.get("padding")),r=t.getItemStyle(["color","opacity"]);return r.fill=t.get("backgroundColor"),e=new Si({shape:{x:e.x-n[3],y:e.y-n[0],width:e.width+n[1]+n[3],height:e.height+n[0]+n[2],r:t.get("borderRadius")},style:r,silent:!0,z2:-1}),e}var nze=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(gr);function dY(e){var t=e.get("confine");return t!=null?!!t:e.get("renderMode")==="richText"}function fY(e){if(Ln.domSupported){for(var t=document.documentElement.style,n=0,r=e.length;n<r;n++)if(e[n]in t)return e[n]}}var pY=fY(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),rze=fY(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function mY(e,t){if(!e)return t;t=qq(t,!0);var n=e.indexOf(t);return e=n===-1?t:"-"+e.slice(0,n)+"-"+t,e.toLowerCase()}function ize(e,t){var n=e.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e);return n?n[t]:null}var oze=mY(rze,"transition"),WR=mY(pY,"transform"),aze="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Ln.transform3dSupported?"will-change:transform;":"");function sze(e){return e=e==="left"?"right":e==="right"?"left":e==="top"?"bottom":"top",e}function lze(e,t,n){if(!pn(n)||n==="inside")return"";var r=e.get("backgroundColor"),i=e.get("borderWidth");t=Vf(t);var o=sze(n),s=Math.max(Math.round(i)*1.5,6),a="",c=WR+":",h;hr(["left","right"],o)>-1?(a+="top:50%",c+="translateY(-50%) rotate("+(h=o==="left"?-225:-45)+"deg)"):(a+="left:50%",c+="translateX(-50%) rotate("+(h=o==="top"?225:45)+"deg)");var d=h*Math.PI/180,g=s+i,y=g*Math.abs(Math.cos(d))+g*Math.abs(Math.sin(d)),v=Math.round(((y-Math.SQRT2*i)/2+Math.SQRT2*i-(y-g)/2)*100)/100;a+=";"+o+":-"+v+"px";var x=t+" solid "+i+"px;",C=["position:absolute;width:"+s+"px;height:"+s+"px;z-index:-1;",a+";"+c+";","border-bottom:"+x,"border-right:"+x,"background-color:"+r+";"];return'<div style="'+C.join("")+'"></div>'}function uze(e,t){var n="cubic-bezier(0.23,1,0.32,1)",r=" "+e/2+"s "+n,i="opacity"+r+",visibility"+r;return t||(r=" "+e+"s "+n,i+=Ln.transformSupported?","+WR+r:",left"+r+",top"+r),oze+":"+i}function l8(e,t,n){var r=e.toFixed(0)+"px",i=t.toFixed(0)+"px";if(!Ln.transformSupported)return n?"top:"+i+";left:"+r+";":[["top",i],["left",r]];var o=Ln.transform3dSupported,s="translate"+(o?"3d":"")+"("+r+","+i+(o?",0":"")+")";return n?"top:0;left:0;"+WR+":"+s+";":[["top",0],["left",0],[pY,s]]}function cze(e){var t=[],n=e.get("fontSize"),r=e.getTextColor();r&&t.push("color:"+r),t.push("font:"+e.getFont());var i=Fn(e.get("lineHeight"),Math.round(n*3/2));n&&t.push("line-height:"+i+"px");var o=e.get("textShadowColor"),s=e.get("textShadowBlur")||0,a=e.get("textShadowOffsetX")||0,c=e.get("textShadowOffsetY")||0;return o&&s&&t.push("text-shadow:"+a+"px "+c+"px "+s+"px "+o),Ne(["decoration","align"],function(h){var d=e.get(h);d&&t.push("text-"+h+":"+d)}),t.join(";")}function hze(e,t,n){var r=[],i=e.get("transitionDuration"),o=e.get("backgroundColor"),s=e.get("shadowBlur"),a=e.get("shadowColor"),c=e.get("shadowOffsetX"),h=e.get("shadowOffsetY"),d=e.getModel("textStyle"),g=bK(e,"html"),y=c+"px "+h+"px "+s+"px "+a;return r.push("box-shadow:"+y),t&&i&&r.push(uze(i,n)),o&&r.push("background-color:"+o),Ne(["width","color","radius"],function(v){var x="border-"+v,C=qq(x),I=e.get(C);I!=null&&r.push(x+":"+I+(v==="color"?"":"px"))}),r.push(cze(d)),g!=null&&r.push("padding:"+_C(g).join("px ")+"px"),r.join(";")+";"}function u8(e,t,n,r,i){var o=t&&t.painter;if(n){var s=o&&o.getViewportRoot();s&&NEe(e,s,n,r,i)}else{e[0]=r,e[1]=i;var a=o&&o.getViewportRootOffset();a&&(e[0]+=a.offsetLeft,e[1]+=a.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var dze=function(){function e(t,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Ln.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var i=this._zr=t.getZr(),o=n.appendTo,s=o&&(pn(o)?document.querySelector(o):M0(o)?o:Sn(o)&&o(t.getDom()));u8(this._styleCoord,i,s,t.getWidth()/2,t.getHeight()/2),(s||t.getDom()).appendChild(r),this._api=t,this._container=s;var a=this;r.onmouseenter=function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0},r.onmousemove=function(c){if(c=c||window.event,!a._enterable){var h=i.handler,d=i.painter.getViewportRoot();Ms(d,c,!0),h.dispatch("mousemove",c)}},r.onmouseleave=function(){a._inContent=!1,a._enterable&&a._show&&a.hideLater(a._hideDelay)}}return e.prototype.update=function(t){if(!this._container){var n=this._api.getDom(),r=ize(n,"position"),i=n.style;i.position!=="absolute"&&r!=="absolute"&&(i.position="relative")}var o=t.get("alwaysShowContent");o&&this._moveIfResized(),this._alwaysShowContent=o,this.el.className=t.get("className")||""},e.prototype.show=function(t,n){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,i=r.style,o=this._styleCoord;r.innerHTML?i.cssText=aze+hze(t,!this._firstShow,this._longHide)+l8(o[0],o[1],!0)+("border-color:"+Vf(n)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},e.prototype.setContent=function(t,n,r,i,o){var s=this.el;if(t==null){s.innerHTML="";return}var a="";if(pn(o)&&r.get("trigger")==="item"&&!dY(r)&&(a=lze(r,i,o)),pn(t))s.innerHTML=t+a;else if(t){s.innerHTML="",cn(t)||(t=[t]);for(var c=0;c<t.length;c++)M0(t[c])&&t[c].parentNode!==s&&s.appendChild(t[c]);if(a&&s.childNodes.length){var h=document.createElement("div");h.innerHTML=a,s.appendChild(h)}}},e.prototype.setEnterable=function(t){this._enterable=t},e.prototype.getSize=function(){var t=this.el;return t?[t.offsetWidth,t.offsetHeight]:[0,0]},e.prototype.moveTo=function(t,n){if(this.el){var r=this._styleCoord;if(u8(r,this._zr,this._container,t,n),r[0]!=null&&r[1]!=null){var i=this.el.style,o=l8(r[0],r[1]);Ne(o,function(s){i[s[0]]=s[1]})}}},e.prototype._moveIfResized=function(){var t=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),n*this._zr.getHeight())},e.prototype.hide=function(){var t=this,n=this.el.style;n.visibility="hidden",n.opacity="0",Ln.transform3dSupported&&(n.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},e.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(zn(this.hide,this),t)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this.el.parentNode;t&&t.removeChild(this.el),this.el=this._container=null},e}(),fze=function(){function e(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),h8(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return e.prototype.update=function(t){var n=t.get("alwaysShowContent");n&&this._moveIfResized(),this._alwaysShowContent=n},e.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},e.prototype.setContent=function(t,n,r,i,o){var s=this;Pn(t)&&Ia(""),this.el&&this._zr.remove(this.el);var a=r.getModel("textStyle");this.el=new Mo({style:{rich:n.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:a.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:bK(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),Ne(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(h){s.el.style[h]=r.get(h)}),Ne(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(h){s.el.style[h]=a.get(h)||0}),this._zr.add(this.el);var c=this;this.el.on("mouseover",function(){c._enterable&&(clearTimeout(c._hideTimeout),c._show=!0),c._inContent=!0}),this.el.on("mouseout",function(){c._enterable&&c._show&&c.hideLater(c._hideDelay),c._inContent=!1})},e.prototype.setEnterable=function(t){this._enterable=t},e.prototype.getSize=function(){var t=this.el,n=this.el.getBoundingRect(),r=c8(t.style);return[n.width+r.left+r.right,n.height+r.top+r.bottom]},e.prototype.moveTo=function(t,n){var r=this.el;if(r){var i=this._styleCoord;h8(i,this._zr,t,n),t=i[0],n=i[1];var o=r.style,s=eh(o.borderWidth||0),a=c8(o);r.x=t+s+a.left,r.y=n+s+a.top,r.markRedraw()}},e.prototype._moveIfResized=function(){var t=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),n*this._zr.getHeight())},e.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},e.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(zn(this.hide,this),t)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this._zr.remove(this.el)},e}();function eh(e){return Math.max(0,e)}function c8(e){var t=eh(e.shadowBlur||0),n=eh(e.shadowOffsetX||0),r=eh(e.shadowOffsetY||0);return{left:eh(t-n),right:eh(t+n),top:eh(t-r),bottom:eh(t+r)}}function h8(e,t,n,r){e[0]=n,e[1]=r,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var pze=new Si({shape:{x:-1,y:-1,width:2,height:2}}),mze=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,r){if(!(Ln.node||!r.getDom())){var i=n.getComponent("tooltip"),o=this._renderMode=vMe(i.get("renderMode"));this._tooltipContent=o==="richText"?new fze(r):new dze(r,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},t.prototype.render=function(n,r,i){if(!(Ln.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=n,this._ecModel=r,this._api=i;var o=this._tooltipContent;o.update(n),o.setEnterable(n.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&n.get("transitionDuration")?wC(this,"_updatePosition",50,"fixRate"):VS(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var n=this._tooltipModel,r=n.get("triggerOn");oY("itemTooltip",this._api,zn(function(i,o,s){r!=="none"&&(r.indexOf(i)>=0?this._tryShow(o,s):i==="leave"&&this._hide(s))},this))},t.prototype._keepShow=function(){var n=this._tooltipModel,r=this._ecModel,i=this._api,o=n.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&o!=="none"&&o!=="click"){var s=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&s.manuallyShowTip(n,r,i,{x:s._lastX,y:s._lastY,dataByCoordSys:s._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(n,r,i,o){if(!(o.from===this.uid||Ln.node||!i.getDom())){var s=d8(o,i);this._ticket="";var a=o.dataByCoordSys,c=_ze(o,r,i);if(c){var h=c.el.getBoundingRect().clone();h.applyTransform(c.el.transform),this._tryShow({offsetX:h.x+h.width/2,offsetY:h.y+h.height/2,target:c.el,position:o.position,positionDefault:"bottom"},s)}else if(o.tooltip&&o.x!=null&&o.y!=null){var d=pze;d.x=o.x,d.y=o.y,d.update(),sr(d).tooltipConfig={name:null,option:o.tooltip},this._tryShow({offsetX:o.x,offsetY:o.y,target:d},s)}else if(a)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,dataByCoordSys:a,tooltipOption:o.tooltipOption},s);else if(o.seriesIndex!=null){if(this._manuallyAxisShowTip(n,r,i,o))return;var g=aY(o,r),y=g.point[0],v=g.point[1];y!=null&&v!=null&&this._tryShow({offsetX:y,offsetY:v,target:g.el,position:o.position,positionDefault:"bottom"},s)}else o.x!=null&&o.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:i.getZr().findHover(o.x,o.y).target},s))}},t.prototype.manuallyHideTip=function(n,r,i,o){var s=this._tooltipContent;this._tooltipModel&&s.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,o.from!==this.uid&&this._hide(d8(o,i))},t.prototype._manuallyAxisShowTip=function(n,r,i,o){var s=o.seriesIndex,a=o.dataIndex,c=r.getComponent("axisPointer").coordSysAxesInfo;if(!(s==null||a==null||c==null)){var h=r.getSeriesByIndex(s);if(h){var d=h.getData(),g=n_([d.getItemModel(a),h,(h.coordinateSystem||{}).model],this._tooltipModel);if(g.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:s,dataIndex:a,position:o.position}),!0}}},t.prototype._tryShow=function(n,r){var i=n.target,o=this._tooltipModel;if(o){this._lastX=n.offsetX,this._lastY=n.offsetY;var s=n.dataByCoordSys;if(s&&s.length)this._showAxisTooltip(s,n);else if(i){var a=sr(i);if(a.ssrType==="legend")return;this._lastDataByCoordSys=null;var c,h;b_(i,function(d){if(sr(d).dataIndex!=null)return c=d,!0;if(sr(d).tooltipConfig!=null)return h=d,!0},!0),c?this._showSeriesItemTooltip(n,c,r):h?this._showComponentItemTooltip(n,h,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},t.prototype._showOrMove=function(n,r){var i=n.get("showDelay");r=zn(r,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(r,i):r()},t.prototype._showAxisTooltip=function(n,r){var i=this._ecModel,o=this._tooltipModel,s=[r.offsetX,r.offsetY],a=n_([r.tooltipOption],o),c=this._renderMode,h=[],d=Ah("section",{blocks:[],noHeader:!0}),g=[],y=new HE;Ne(n,function(k){Ne(k.dataByAxis,function(R){var z=i.getComponent(R.axisDim+"Axis",R.axisIndex),V=R.value;if(!(!z||V==null)){var U=rY(V,z.axis,i,R.seriesDataIndices,R.valueLabelOpt),N=Ah("section",{header:U,noHeader:!jl(U),sortBlocks:!0,blocks:[]});d.blocks.push(N),Ne(R.seriesDataIndices,function(W){var X=i.getSeriesByIndex(W.seriesIndex),K=W.dataIndexInside,te=X.getDataParams(K);if(!(te.dataIndex<0)){te.axisDim=R.axisDim,te.axisIndex=R.axisIndex,te.axisType=R.axisType,te.axisId=R.axisId,te.axisValue=AR(z.axis,{value:V}),te.axisValueLabel=U,te.marker=y.makeTooltipMarker("item",Vf(te.color),c);var ae=lN(X.formatTooltip(K,!0,null)),me=ae.frag;if(me){var we=n_([X],o).get("valueFormatter");N.blocks.push(we?en({valueFormatter:we},me):me)}ae.text&&g.push(ae.text),h.push(te)}})}})}),d.blocks.reverse(),g.reverse();var v=r.position,x=a.get("order"),C=fN(d,y,c,x,i.get("useUTC"),a.get("textStyle"));C&&g.unshift(C);var I=c==="richText"?`

`:"<br/>",A=g.join(I);this._showOrMove(a,function(){this._updateContentNotChangedOnAxis(n,h)?this._updatePosition(a,v,s[0],s[1],this._tooltipContent,h):this._showTooltipContent(a,A,h,Math.random()+"",s[0],s[1],v,null,y)})},t.prototype._showSeriesItemTooltip=function(n,r,i){var o=this._ecModel,s=sr(r),a=s.seriesIndex,c=o.getSeriesByIndex(a),h=s.dataModel||c,d=s.dataIndex,g=s.dataType,y=h.getData(g),v=this._renderMode,x=n.positionDefault,C=n_([y.getItemModel(d),h,c&&(c.coordinateSystem||{}).model],this._tooltipModel,x?{position:x}:null),I=C.get("trigger");if(!(I!=null&&I!=="item")){var A=h.getDataParams(d,g),k=new HE;A.marker=k.makeTooltipMarker("item",Vf(A.color),v);var R=lN(h.formatTooltip(d,!1,g)),z=C.get("order"),V=C.get("valueFormatter"),U=R.frag,N=U?fN(V?en({valueFormatter:V},U):U,k,v,z,o.get("useUTC"),C.get("textStyle")):R.text,W="item_"+h.name+"_"+d;this._showOrMove(C,function(){this._showTooltipContent(C,N,A,W,n.offsetX,n.offsetY,n.position,n.target,k)}),i({type:"showTip",dataIndexInside:d,dataIndex:y.getRawIndex(d),seriesIndex:a,from:this.uid})}},t.prototype._showComponentItemTooltip=function(n,r,i){var o=this._renderMode==="html",s=sr(r),a=s.tooltipConfig,c=a.option||{},h=c.encodeHTMLContent;if(pn(c)){var d=c;c={content:d,formatter:d},h=!0}h&&o&&c.content&&(c=er(c),c.content=pa(c.content));var g=[c],y=this._ecModel.getComponent(s.componentMainType,s.componentIndex);y&&g.push(y),g.push({formatter:c.content});var v=n.positionDefault,x=n_(g,this._tooltipModel,v?{position:v}:null),C=x.get("content"),I=Math.random()+"",A=new HE;this._showOrMove(x,function(){var k=er(x.get("formatterParams")||{});this._showTooltipContent(x,C,k,I,n.offsetX,n.offsetY,n.position,r,A)}),i({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(n,r,i,o,s,a,c,h,d){if(this._ticket="",!(!n.get("showContent")||!n.get("show"))){var g=this._tooltipContent;g.setEnterable(n.get("enterable"));var y=n.get("formatter");c=c||n.get("position");var v=r,x=this._getNearestPoint([s,a],i,n.get("trigger"),n.get("borderColor")),C=x.color;if(y)if(pn(y)){var I=n.ecModel.get("useUTC"),A=cn(i)?i[0]:i,k=A&&A.axisType&&A.axisType.indexOf("time")>=0;v=y,k&&(v=pC(A.axisValue,v,I)),v=Kq(v,i,!0)}else if(Sn(y)){var R=zn(function(z,V){z===this._ticket&&(g.setContent(V,d,n,C,c),this._updatePosition(n,c,s,a,g,i,h))},this);this._ticket=o,v=y(i,o,R)}else v=y;g.setContent(v,d,n,C,c),g.show(n,C),this._updatePosition(n,c,s,a,g,i,h)}},t.prototype._getNearestPoint=function(n,r,i,o){if(i==="axis"||cn(r))return{color:o||(this._renderMode==="html"?"#fff":"none")};if(!cn(r))return{color:o||r.color||r.borderColor}},t.prototype._updatePosition=function(n,r,i,o,s,a,c){var h=this._api.getWidth(),d=this._api.getHeight();r=r||n.get("position");var g=s.getSize(),y=n.get("align"),v=n.get("verticalAlign"),x=c&&c.getBoundingRect().clone();if(c&&x.applyTransform(c.transform),Sn(r)&&(r=r([i,o],a,s.el,x,{viewSize:[h,d],contentSize:g.slice()})),cn(r))i=eo(r[0],h),o=eo(r[1],d);else if(Pn(r)){var C=r;C.width=g[0],C.height=g[1];var I=Eg(C,{width:h,height:d});i=I.x,o=I.y,y=null,v=null}else if(pn(r)&&c){var A=yze(r,x,g,n.get("borderWidth"));i=A[0],o=A[1]}else{var A=gze(i,o,s,h,d,y?null:20,v?null:20);i=A[0],o=A[1]}if(y&&(i-=f8(y)?g[0]/2:y==="right"?g[0]:0),v&&(o-=f8(v)?g[1]/2:v==="bottom"?g[1]:0),dY(n)){var A=vze(i,o,s,h,d);i=A[0],o=A[1]}s.moveTo(i,o)},t.prototype._updateContentNotChangedOnAxis=function(n,r){var i=this._lastDataByCoordSys,o=this._cbParamsList,s=!!i&&i.length===n.length;return s&&Ne(i,function(a,c){var h=a.dataByAxis||[],d=n[c]||{},g=d.dataByAxis||[];s=s&&h.length===g.length,s&&Ne(h,function(y,v){var x=g[v]||{},C=y.seriesDataIndices||[],I=x.seriesDataIndices||[];s=s&&y.value===x.value&&y.axisType===x.axisType&&y.axisId===x.axisId&&C.length===I.length,s&&Ne(C,function(A,k){var R=I[k];s=s&&A.seriesIndex===R.seriesIndex&&A.dataIndex===R.dataIndex}),o&&Ne(y.seriesDataIndices,function(A){var k=A.seriesIndex,R=r[k],z=o[k];R&&z&&z.data!==R.data&&(s=!1)})})}),this._lastDataByCoordSys=n,this._cbParamsList=r,!!s},t.prototype._hide=function(n){this._lastDataByCoordSys=null,n({type:"hideTip",from:this.uid})},t.prototype.dispose=function(n,r){Ln.node||!r.getDom()||(VS(this,"_updatePosition"),this._tooltipContent.dispose(),lD("itemTooltip",r))},t.type="tooltip",t}(ls);function n_(e,t,n){var r=t.ecModel,i;n?(i=new xi(n,r,r),i=new xi(t.option,i,r)):i=t;for(var o=e.length-1;o>=0;o--){var s=e[o];s&&(s instanceof xi&&(s=s.get("tooltip",!0)),pn(s)&&(s={formatter:s}),s&&(i=new xi(s,i,r)))}return i}function d8(e,t){return e.dispatchAction||zn(t.dispatchAction,t)}function gze(e,t,n,r,i,o,s){var a=n.getSize(),c=a[0],h=a[1];return o!=null&&(e+c+o+2>r?e-=c+o:e+=o),s!=null&&(t+h+s>i?t-=h+s:t+=s),[e,t]}function vze(e,t,n,r,i){var o=n.getSize(),s=o[0],a=o[1];return e=Math.min(e+s,r)-s,t=Math.min(t+a,i)-a,e=Math.max(e,0),t=Math.max(t,0),[e,t]}function yze(e,t,n,r){var i=n[0],o=n[1],s=Math.ceil(Math.SQRT2*r)+8,a=0,c=0,h=t.width,d=t.height;switch(e){case"inside":a=t.x+h/2-i/2,c=t.y+d/2-o/2;break;case"top":a=t.x+h/2-i/2,c=t.y-o-s;break;case"bottom":a=t.x+h/2-i/2,c=t.y+d+s;break;case"left":a=t.x-i-s,c=t.y+d/2-o/2;break;case"right":a=t.x+h+s,c=t.y+d/2-o/2}return[a,c]}function f8(e){return e==="center"||e==="middle"}function _ze(e,t,n){var r=GO(e).queryOptionMap,i=r.keys()[0];if(!(!i||i==="series")){var o=_b(t,i,r.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),s=o.models[0];if(s){var a=n.getViewOfComponentModel(s),c;if(a.group.traverse(function(h){var d=sr(h).tooltipConfig;if(d&&d.name===e.name)return c=h,!0}),c)return{componentMainType:i,componentIndex:s.componentIndex,el:c}}}}function gY(e){Us(sY),e.registerComponentModel(nze),e.registerComponentView(mze),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Qo),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Qo)}var bze=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode={type:"box",ignoreSize:!0},n}return t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(gr),xze=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,i){if(this.group.removeAll(),!!n.get("show")){var o=this.group,s=n.getModel("textStyle"),a=n.getModel("subtextStyle"),c=n.get("textAlign"),h=Fn(n.get("textBaseline"),n.get("textVerticalAlign")),d=new Mo({style:oc(s,{text:n.get("text"),fill:s.getTextColor()},{disableBox:!0}),z2:10}),g=d.getBoundingRect(),y=n.get("subtext"),v=new Mo({style:oc(a,{text:y,fill:a.getTextColor(),y:g.height+n.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),x=n.get("link"),C=n.get("sublink"),I=n.get("triggerEvent",!0);d.silent=!x&&!I,v.silent=!C&&!I,x&&d.on("click",function(){UF(x,"_"+n.get("target"))}),C&&v.on("click",function(){UF(C,"_"+n.get("subtarget"))}),sr(d).eventData=sr(v).eventData=I?{componentType:"title",componentIndex:n.componentIndex}:null,o.add(d),y&&o.add(v);var A=o.getBoundingRect(),k=n.getBoxLayoutParams();k.width=A.width,k.height=A.height;var R=Eg(k,{width:i.getWidth(),height:i.getHeight()},n.get("padding"));c||(c=n.get("left")||n.get("right"),c==="middle"&&(c="center"),c==="right"?R.x+=R.width:c==="center"&&(R.x+=R.width/2)),h||(h=n.get("top")||n.get("bottom"),h==="center"&&(h="middle"),h==="bottom"?R.y+=R.height:h==="middle"&&(R.y+=R.height/2),h=h||"top"),o.x=R.x,o.y=R.y,o.markRedraw();var z={align:c,verticalAlign:h};d.setStyle(z),v.setStyle(z),A=o.getBoundingRect();var V=R.margin,U=n.getItemStyle(["color","opacity"]);U.fill=n.get("backgroundColor");var N=new Si({shape:{x:A.x-V[3],y:A.y-V[0],width:A.width+V[1]+V[3],height:A.height+V[0]+V[2],r:n.get("borderRadius")},style:U,subPixelOptimize:!0,silent:!0});o.add(N)}},t.type="title",t}(ls);function vY(e){e.registerComponentModel(bze),e.registerComponentView(xze)}function wze(e,t){if(!e)return!1;for(var n=cn(e)?e:[e],r=0;r<n.length;r++)if(n[r]&&n[r][t])return!0;return!1}function Xx(e){TA(e,"label",["show"])}var Yx=Ti(),K0=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.createdBySelf=!1,n}return t.prototype.init=function(n,r,i){this.mergeDefaultAndTheme(n,i),this._mergeOption(n,i,!1,!0)},t.prototype.isAnimationEnabled=function(){if(Ln.node)return!1;var n=this.__hostSeries;return this.getShallow("animation")&&n&&n.isAnimationEnabled()},t.prototype.mergeOption=function(n,r){this._mergeOption(n,r,!1,!1)},t.prototype._mergeOption=function(n,r,i,o){var s=this.mainType;i||r.eachSeries(function(a){var c=a.get(this.mainType,!0),h=Yx(a)[s];if(!c||!c.data){Yx(a)[s]=null;return}h?h._mergeOption(c,r,!0):(o&&Xx(c),Ne(c.data,function(d){d instanceof Array?(Xx(d[0]),Xx(d[1])):Xx(d)}),h=this.createMarkerModelFromSeries(c,this,r),en(h,{mainType:this.mainType,seriesIndex:a.seriesIndex,name:a.name,createdBySelf:!0}),h.__hostSeries=a),Yx(a)[s]=h},this)},t.prototype.formatTooltip=function(n,r,i){var o=this.getData(),s=this.getRawValue(n),a=o.getName(n);return Ah("section",{header:this.name,blocks:[Ah("nameValue",{name:a,value:s,noName:!a,noValue:s==null})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(n){this._data=n},t.prototype.getDataParams=function(n,r){var i=gR.prototype.getDataParams.call(this,n,r),o=this.__hostSeries;return o&&(i.seriesId=o.id,i.seriesName=o.name,i.seriesType=o.subType),i},t.getMarkerModelFromSeries=function(n,r){return Yx(n)[r]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(gr);gl(K0,gR.prototype);var Sze=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.createMarkerModelFromSeries=function(n,r,i){return new t(n,r,i)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(K0);function Cze(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}function Tze(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}function Jx(e,t,n,r,i,o){var s=[],a=Ag(t,r),c=a?t.getCalculationInfo("stackResultDimension"):r,h=yY(t,c,e),d=t.indicesOfNearest(c,h)[0];s[i]=t.get(n,d),s[o]=t.get(c,d);var g=t.get(r,d),y=Hl(t.get(r,d));return y=Math.min(y,20),y>=0&&(s[o]=+s[o].toFixed(y)),[s,g]}var wI={min:Qr(Jx,"min"),max:Qr(Jx,"max"),average:Qr(Jx,"average"),median:Qr(Jx,"median")};function Pze(e,t){if(t){var n=e.getData(),r=e.coordinateSystem,i=r&&r.dimensions;if(!Tze(t)&&!cn(t.coord)&&cn(i)){var o=Eze(t,n,r,e);if(t=er(t),t.type&&wI[t.type]&&o.baseAxis&&o.valueAxis){var s=hr(i,o.baseAxis.dim),a=hr(i,o.valueAxis.dim),c=wI[t.type](n,o.baseDataDim,o.valueDataDim,s,a);t.coord=c[0],t.value=c[1]}else t.coord=[t.xAxis!=null?t.xAxis:t.radiusAxis,t.yAxis!=null?t.yAxis:t.angleAxis]}if(t.coord==null||!cn(i))t.coord=[];else for(var h=t.coord,d=0;d<2;d++)wI[h[d]]&&(h[d]=yY(n,n.mapDimension(i[d]),h[d]));return t}}function Eze(e,t,n,r){var i={};return e.valueIndex!=null||e.valueDim!=null?(i.valueDataDim=e.valueIndex!=null?t.getDimension(e.valueIndex):e.valueDim,i.valueAxis=n.getAxis(Ize(r,i.valueDataDim)),i.baseAxis=n.getOtherAxis(i.valueAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim)):(i.baseAxis=r.getBaseAxis(),i.valueAxis=n.getOtherAxis(i.baseAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim),i.valueDataDim=t.mapDimension(i.valueAxis.dim)),i}function Ize(e,t){var n=e.getData().getDimensionInfo(t);return n&&n.coordDim}function Mze(e,t){return e&&e.containData&&t.coord&&!Cze(t)?e.containData(t.coord):!0}function Aze(e,t){return e?function(n,r,i,o){var s=o<2?n.coord&&n.coord[o]:n.value;return ig(s,t[o])}:function(n,r,i,o){return ig(n.value,t[o])}}function yY(e,t,n){if(n==="average"){var r=0,i=0;return e.each(t,function(o,s){isNaN(o)||(r+=o,i++)}),r/i}else return n==="median"?e.getMedian(t):e.getDataExtent(t)[n==="max"?1:0]}var SI=Ti(),Dze=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(){this.markerGroupMap=Dn()},t.prototype.render=function(n,r,i){var o=this,s=this.markerGroupMap;s.each(function(a){SI(a).keep=!1}),r.eachSeries(function(a){var c=K0.getMarkerModelFromSeries(a,o.type);c&&o.renderSeries(a,c,r,i)}),s.each(function(a){!SI(a).keep&&o.group.remove(a.group)})},t.prototype.markKeep=function(n){SI(n).keep=!0},t.prototype.toggleBlurSeries=function(n,r){var i=this;Ne(n,function(o){var s=K0.getMarkerModelFromSeries(o,i.type);if(s){var a=s.getData();a.eachItemGraphicEl(function(c){c&&(r?fq(c):YO(c))})}})},t.type="marker",t}(ls);function p8(e,t,n){var r=t.coordinateSystem;e.each(function(i){var o=e.getItemModel(i),s,a=eo(o.get("x"),n.getWidth()),c=eo(o.get("y"),n.getHeight());if(!isNaN(a)&&!isNaN(c))s=[a,c];else if(t.getMarkerPosition)s=t.getMarkerPosition(e.getValues(e.dimensions,i));else if(r){var h=e.get(r.dimensions[0],i),d=e.get(r.dimensions[1],i);s=r.dataToPoint([h,d])}isNaN(a)||(s[0]=a),isNaN(c)||(s[1]=c),e.setItemLayout(i,s)})}var kze=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.updateTransform=function(n,r,i){r.eachSeries(function(o){var s=K0.getMarkerModelFromSeries(o,"markPoint");s&&(p8(s.getData(),o,i),this.markerGroupMap.get(o.id).updateLayout())},this)},t.prototype.renderSeries=function(n,r,i,o){var s=n.coordinateSystem,a=n.id,c=n.getData(),h=this.markerGroupMap,d=h.get(a)||h.set(a,new VR),g=Oze(s,n,r);r.setData(g),p8(r.getData(),n,o),g.each(function(y){var v=g.getItemModel(y),x=v.getShallow("symbol"),C=v.getShallow("symbolSize"),I=v.getShallow("symbolRotate"),A=v.getShallow("symbolOffset"),k=v.getShallow("symbolKeepAspect");if(Sn(x)||Sn(C)||Sn(I)||Sn(A)){var R=r.getRawValue(y),z=r.getDataParams(y);Sn(x)&&(x=x(R,z)),Sn(C)&&(C=C(R,z)),Sn(I)&&(I=I(R,z)),Sn(A)&&(A=A(R,z))}var V=v.getModel("itemStyle").getItemStyle(),U=MK(c,"color");V.fill||(V.fill=U),g.setItemVisual(y,{symbol:x,symbolSize:C,symbolRotate:I,symbolOffset:A,symbolKeepAspect:k,style:V})}),d.updateData(g),this.group.add(d.group),g.eachItemGraphicEl(function(y){y.traverse(function(v){sr(v).dataModel=r})}),this.markKeep(d),d.group.silent=r.get("silent")||n.get("silent")},t.type="markPoint",t}(Dze);function Oze(e,t,n){var r;e?r=_n(e&&e.dimensions,function(a){var c=t.getData().getDimensionInfo(t.getData().mapDimension(a))||{};return en(en({},c),{name:a,ordinalMeta:null})}):r=[{name:"value",type:"float"}];var i=new ER(r,n),o=_n(n.get("data"),Qr(Pze,t));e&&(o=Qi(o,Qr(Mze,e)));var s=Aze(!!e,r);return i.initData(o,null,s),i}function Rze(e){e.registerComponentModel(Sze),e.registerComponentView(kze),e.registerPreprocessor(function(t){wze(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}var Lze=function(e,t){if(t==="all")return{type:"all",title:e.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:e.getLocaleModel().get(["legend","selector","inverse"])}},uD=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode={type:"box",ignoreSize:!0},n}return t.prototype.init=function(n,r,i){this.mergeDefaultAndTheme(n,i),n.selected=n.selected||{},this._updateSelector(n)},t.prototype.mergeOption=function(n,r){e.prototype.mergeOption.call(this,n,r),this._updateSelector(n)},t.prototype._updateSelector=function(n){var r=n.selector,i=this.ecModel;r===!0&&(r=n.selector=["all","inverse"]),cn(r)&&Ne(r,function(o,s){pn(o)&&(o={type:o}),r[s]=ur(o,Lze(i,o.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var n=this._data;if(n[0]&&this.get("selectedMode")==="single"){for(var r=!1,i=0;i<n.length;i++){var o=n[i].get("name");if(this.isSelected(o)){this.select(o),r=!0;break}}!r&&this.select(n[0].get("name"))}},t.prototype._updateData=function(n){var r=[],i=[];n.eachRawSeries(function(c){var h=c.name;i.push(h);var d;if(c.legendVisualProvider){var g=c.legendVisualProvider,y=g.getAllNames();n.isSeriesFiltered(c)||(i=i.concat(y)),y.length?r=r.concat(y):d=!0}else d=!0;d&&UO(c)&&r.push(c.name)}),this._availableNames=i;var o=this.get("data")||r,s=Dn(),a=_n(o,function(c){return(pn(c)||ti(c))&&(c={name:c}),s.get(c.name)?null:(s.set(c.name,!0),new xi(c,this,this.ecModel))},this);this._data=Qi(a,function(c){return!!c})},t.prototype.getData=function(){return this._data},t.prototype.select=function(n){var r=this.option.selected,i=this.get("selectedMode");if(i==="single"){var o=this._data;Ne(o,function(s){r[s.get("name")]=!1})}r[n]=!0},t.prototype.unSelect=function(n){this.get("selectedMode")!=="single"&&(this.option.selected[n]=!1)},t.prototype.toggleSelected=function(n){var r=this.option.selected;r.hasOwnProperty(n)||(r[n]=!0),this[r[n]?"unSelect":"select"](n)},t.prototype.allSelect=function(){var n=this._data,r=this.option.selected;Ne(n,function(i){r[i.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var n=this._data,r=this.option.selected;Ne(n,function(i){var o=i.get("name",!0);r.hasOwnProperty(o)||(r[o]=!0),r[o]=!r[o]})},t.prototype.isSelected=function(n){var r=this.option.selected;return!(r.hasOwnProperty(n)&&!r[n])&&hr(this._availableNames,n)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(gr),gm=Qr,cD=Ne,Qx=gi,_Y=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.newlineDisabled=!1,n}return t.prototype.init=function(){this.group.add(this._contentGroup=new Qx),this.group.add(this._selectorGroup=new Qx),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(n,r,i){var o=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!n.get("show",!0)){var s=n.get("align"),a=n.get("orient");(!s||s==="auto")&&(s=n.get("left")==="right"&&a==="vertical"?"right":"left");var c=n.get("selector",!0),h=n.get("selectorPosition",!0);c&&(!h||h==="auto")&&(h=a==="horizontal"?"end":"start"),this.renderInner(s,n,r,i,c,a,h);var d=n.getBoxLayoutParams(),g={width:i.getWidth(),height:i.getHeight()},y=n.get("padding"),v=Eg(d,g,y),x=this.layoutInner(n,s,v,o,c,h),C=Eg(Er({width:x.width,height:x.height},d),g,y);this.group.x=C.x-x.x,this.group.y=C.y-x.y,this.group.markRedraw(),this.group.add(this._backgroundEl=tze(x,n))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(n,r,i,o,s,a,c){var h=this.getContentGroup(),d=Dn(),g=r.get("selectedMode"),y=[];i.eachRawSeries(function(v){!v.get("legendHoverLink")&&y.push(v.id)}),cD(r.getData(),function(v,x){var C=v.get("name");if(!this.newlineDisabled&&(C===""||C===`
`)){var I=new Qx;I.newline=!0,h.add(I);return}var A=i.getSeriesByName(C)[0];if(!d.get(C))if(A){var k=A.getData(),R=k.getVisual("legendLineStyle")||{},z=k.getVisual("legendIcon"),V=k.getVisual("style"),U=this._createItem(A,C,x,v,r,n,R,V,z,g,o);U.on("click",gm(m8,C,null,o,y)).on("mouseover",gm(hD,A.name,null,o,y)).on("mouseout",gm(dD,A.name,null,o,y)),i.ssr&&U.eachChild(function(N){var W=sr(N);W.seriesIndex=A.seriesIndex,W.dataIndex=x,W.ssrType="legend"}),d.set(C,!0)}else i.eachRawSeries(function(N){if(!d.get(C)&&N.legendVisualProvider){var W=N.legendVisualProvider;if(!W.containName(C))return;var X=W.indexOfName(C),K=W.getItemVisual(X,"style"),te=W.getItemVisual(X,"legendIcon"),ae=Zl(K.fill);ae&&ae[3]===0&&(ae[3]=.2,K=en(en({},K),{fill:q2(ae,"rgba")}));var me=this._createItem(N,C,x,v,r,n,{},K,te,g,o);me.on("click",gm(m8,null,C,o,y)).on("mouseover",gm(hD,null,C,o,y)).on("mouseout",gm(dD,null,C,o,y)),i.ssr&&me.eachChild(function(we){var se=sr(we);se.seriesIndex=N.seriesIndex,se.dataIndex=x,se.ssrType="legend"}),d.set(C,!0)}},this)},this),s&&this._createSelector(s,r,o,a,c)},t.prototype._createSelector=function(n,r,i,o,s){var a=this.getSelectorGroup();cD(n,function(h){var d=h.type,g=new Mo({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:d==="all"?"legendAllSelect":"legendInverseSelect",legendId:r.id})}});a.add(g);var y=r.getModel("selectorLabel"),v=r.getModel(["emphasis","selectorLabel"]);dC(g,{normal:y,emphasis:v},{defaultText:h.title}),RS(g)})},t.prototype._createItem=function(n,r,i,o,s,a,c,h,d,g,y){var v=n.visualDrawType,x=s.get("itemWidth"),C=s.get("itemHeight"),I=s.isSelected(r),A=o.get("symbolRotate"),k=o.get("symbolKeepAspect"),R=o.get("icon");d=R||d||"roundRect";var z=$ze(d,o,c,h,v,I,y),V=new Qx,U=o.getModel("textStyle");if(Sn(n.getLegendIcon)&&(!R||R==="inherit"))V.add(n.getLegendIcon({itemWidth:x,itemHeight:C,icon:d,iconRotate:A,itemStyle:z.itemStyle,lineStyle:z.lineStyle,symbolKeepAspect:k}));else{var N=R==="inherit"&&n.getData().getVisual("symbol")?A==="inherit"?n.getData().getVisual("symbolRotate"):A:0;V.add(zze({itemWidth:x,itemHeight:C,icon:d,iconRotate:N,itemStyle:z.itemStyle,lineStyle:z.lineStyle,symbolKeepAspect:k}))}var W=a==="left"?x+5:-5,X=a,K=s.get("formatter"),te=r;pn(K)&&K?te=K.replace("{name}",r??""):Sn(K)&&(te=K(r));var ae=I?U.getTextColor():o.get("inactiveColor");V.add(new Mo({style:oc(U,{text:te,x:W,y:C/2,fill:ae,align:X,verticalAlign:"middle"},{inheritColor:ae})}));var me=new Si({shape:V.getBoundingRect(),style:{fill:"transparent"}}),we=o.getModel("tooltip");return we.get("show")&&uC({el:me,componentModel:s,itemName:r,itemTooltipOption:we.option}),V.add(me),V.eachChild(function(se){se.silent=!0}),me.silent=!g,this.getContentGroup().add(V),RS(V),V.__legendDataIndex=i,V},t.prototype.layoutInner=function(n,r,i,o,s,a){var c=this.getContentGroup(),h=this.getSelectorGroup();K_(n.get("orient"),c,n.get("itemGap"),i.width,i.height);var d=c.getBoundingRect(),g=[-d.x,-d.y];if(h.markRedraw(),c.markRedraw(),s){K_("horizontal",h,n.get("selectorItemGap",!0));var y=h.getBoundingRect(),v=[-y.x,-y.y],x=n.get("selectorButtonGap",!0),C=n.getOrient().index,I=C===0?"width":"height",A=C===0?"height":"width",k=C===0?"y":"x";a==="end"?v[C]+=d[I]+x:g[C]+=y[I]+x,v[1-C]+=d[A]/2-y[A]/2,h.x=v[0],h.y=v[1],c.x=g[0],c.y=g[1];var R={x:0,y:0};return R[I]=d[I]+x+y[I],R[A]=Math.max(d[A],y[A]),R[k]=Math.min(0,y[k]+v[1-C]),R}else return c.x=g[0],c.y=g[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(ls);function $ze(e,t,n,r,i,o,s){function a(I,A){I.lineWidth==="auto"&&(I.lineWidth=A.lineWidth>0?2:0),cD(I,function(k,R){I[R]==="inherit"&&(I[R]=A[R])})}var c=t.getModel("itemStyle"),h=c.getItemStyle(),d=e.lastIndexOf("empty",0)===0?"fill":"stroke",g=c.getShallow("decal");h.decal=!g||g==="inherit"?r.decal:UA(g,s),h.fill==="inherit"&&(h.fill=r[i]),h.stroke==="inherit"&&(h.stroke=r[d]),h.opacity==="inherit"&&(h.opacity=(i==="fill"?r:n).opacity),a(h,r);var y=t.getModel("lineStyle"),v=y.getLineStyle();if(a(v,n),h.fill==="auto"&&(h.fill=r.fill),h.stroke==="auto"&&(h.stroke=r.fill),v.stroke==="auto"&&(v.stroke=r.fill),!o){var x=t.get("inactiveBorderWidth"),C=h[d];h.lineWidth=x==="auto"?r.lineWidth>0&&C?2:0:h.lineWidth,h.fill=t.get("inactiveColor"),h.stroke=t.get("inactiveBorderColor"),v.stroke=y.get("inactiveColor"),v.lineWidth=y.get("inactiveWidth")}return{itemStyle:h,lineStyle:v}}function zze(e){var t=e.icon||"roundRect",n=dl(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill,e.symbolKeepAspect);return n.setStyle(e.itemStyle),n.rotation=(e.iconRotate||0)*Math.PI/180,n.setOrigin([e.itemWidth/2,e.itemHeight/2]),t.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n}function m8(e,t,n,r){dD(e,t,n,r),n.dispatchAction({type:"legendToggleSelect",name:e??t}),hD(e,t,n,r)}function bY(e){for(var t=e.getZr().storage.getDisplayList(),n,r=0,i=t.length;r<i&&!(n=t[r].states.emphasis);)r++;return n&&n.hoverLayer}function hD(e,t,n,r){bY(n)||n.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:r})}function dD(e,t,n,r){bY(n)||n.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:r})}function Bze(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries(function(n){for(var r=0;r<t.length;r++)if(!t[r].isSelected(n.name))return!1;return!0})}function r_(e,t,n){var r=e==="allSelect"||e==="inverseSelect",i={},o=[];n.eachComponent({mainType:"legend",query:t},function(a){r?a[e]():a[e](t.name),g8(a,i),o.push(a.componentIndex)});var s={};return n.eachComponent("legend",function(a){Ne(i,function(c,h){a[c?"select":"unSelect"](h)}),g8(a,s)}),r?{selected:s,legendIndex:o}:{name:t.name,selected:s}}function g8(e,t){var n=t||{};return Ne(e.getData(),function(r){var i=r.get("name");if(!(i===`
`||i==="")){var o=e.isSelected(i);Bf(n,i)?n[i]=n[i]&&o:n[i]=o}}),n}function Fze(e){e.registerAction("legendToggleSelect","legendselectchanged",Qr(r_,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",Qr(r_,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",Qr(r_,"inverseSelect")),e.registerAction("legendSelect","legendselected",Qr(r_,"select")),e.registerAction("legendUnSelect","legendunselected",Qr(r_,"unSelect"))}function xY(e){e.registerComponentModel(uD),e.registerComponentView(_Y),e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,Bze),e.registerSubTypeDefaulter("legend",function(){return"plain"}),Fze(e)}var Nze=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.setScrollDataIndex=function(n){this.option.scrollDataIndex=n},t.prototype.init=function(n,r,i){var o=Sb(n);e.prototype.init.call(this,n,r,i),v8(this,n,o)},t.prototype.mergeOption=function(n,r){e.prototype.mergeOption.call(this,n,r),v8(this,this.option,n)},t.type="legend.scroll",t.defaultOption=iR(uD.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(uD);function v8(e,t,n){var r=e.getOrient(),i=[1,1];i[r.index]=0,Ig(t,n,{type:"box",ignoreSize:!!i})}var y8=gi,CI=["width","height"],TI=["x","y"],Vze=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.newlineDisabled=!0,n._currentIndex=0,n}return t.prototype.init=function(){e.prototype.init.call(this),this.group.add(this._containerGroup=new y8),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new y8)},t.prototype.resetInner=function(){e.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(n,r,i,o,s,a,c){var h=this;e.prototype.renderInner.call(this,n,r,i,o,s,a,c);var d=this._controllerGroup,g=r.get("pageIconSize",!0),y=cn(g)?g:[g,g];x("pagePrev",0);var v=r.getModel("pageTextStyle");d.add(new Mo({name:"pageText",style:{text:"xx/xx",fill:v.getTextColor(),font:v.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),x("pageNext",1);function x(C,I){var A=C+"DataIndex",k=rR(r.get("pageIcons",!0)[r.getOrient().name][I],{onclick:zn(h._pageGo,h,A,r,o)},{x:-y[0]/2,y:-y[1]/2,width:y[0],height:y[1]});k.name=C,d.add(k)}},t.prototype.layoutInner=function(n,r,i,o,s,a){var c=this.getSelectorGroup(),h=n.getOrient().index,d=CI[h],g=TI[h],y=CI[1-h],v=TI[1-h];s&&K_("horizontal",c,n.get("selectorItemGap",!0));var x=n.get("selectorButtonGap",!0),C=c.getBoundingRect(),I=[-C.x,-C.y],A=er(i);s&&(A[d]=i[d]-C[d]-x);var k=this._layoutContentAndController(n,o,A,h,d,y,v,g);if(s){if(a==="end")I[h]+=k[d]+x;else{var R=C[d]+x;I[h]-=R,k[g]-=R}k[d]+=C[d]+x,I[1-h]+=k[v]+k[y]/2-C[y]/2,k[y]=Math.max(k[y],C[y]),k[v]=Math.min(k[v],C[v]+I[1-h]),c.x=I[0],c.y=I[1],c.markRedraw()}return k},t.prototype._layoutContentAndController=function(n,r,i,o,s,a,c,h){var d=this.getContentGroup(),g=this._containerGroup,y=this._controllerGroup;K_(n.get("orient"),d,n.get("itemGap"),o?i.width:null,o?null:i.height),K_("horizontal",y,n.get("pageButtonItemGap",!0));var v=d.getBoundingRect(),x=y.getBoundingRect(),C=this._showController=v[s]>i[s],I=[-v.x,-v.y];r||(I[o]=d[h]);var A=[0,0],k=[-x.x,-x.y],R=Fn(n.get("pageButtonGap",!0),n.get("itemGap",!0));if(C){var z=n.get("pageButtonPosition",!0);z==="end"?k[o]+=i[s]-x[s]:A[o]+=x[s]+R}k[1-o]+=v[a]/2-x[a]/2,d.setPosition(I),g.setPosition(A),y.setPosition(k);var V={x:0,y:0};if(V[s]=C?i[s]:v[s],V[a]=Math.max(v[a],x[a]),V[c]=Math.min(0,x[c]+k[1-o]),g.__rectSize=i[s],C){var U={x:0,y:0};U[s]=Math.max(i[s]-x[s]-R,0),U[a]=V[a],g.setClipPath(new Si({shape:U})),g.__rectSize=U[s]}else y.eachChild(function(W){W.attr({invisible:!0,silent:!0})});var N=this._getPageInfo(n);return N.pageIndex!=null&&Jl(d,{x:N.contentPosition[0],y:N.contentPosition[1]},C?n:null),this._updatePageInfoView(n,N),V},t.prototype._pageGo=function(n,r,i){var o=this._getPageInfo(r)[n];o!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:r.id})},t.prototype._updatePageInfoView=function(n,r){var i=this._controllerGroup;Ne(["pagePrev","pageNext"],function(d){var g=d+"DataIndex",y=r[g]!=null,v=i.childOfName(d);v&&(v.setStyle("fill",y?n.get("pageIconColor",!0):n.get("pageIconInactiveColor",!0)),v.cursor=y?"pointer":"default")});var o=i.childOfName("pageText"),s=n.get("pageFormatter"),a=r.pageIndex,c=a!=null?a+1:0,h=r.pageCount;o&&s&&o.setStyle("text",pn(s)?s.replace("{current}",c==null?"":c+"").replace("{total}",h==null?"":h+""):s({current:c,total:h}))},t.prototype._getPageInfo=function(n){var r=n.get("scrollDataIndex",!0),i=this.getContentGroup(),o=this._containerGroup.__rectSize,s=n.getOrient().index,a=CI[s],c=TI[s],h=this._findTargetItemIndex(r),d=i.children(),g=d[h],y=d.length,v=y?1:0,x={contentPosition:[i.x,i.y],pageCount:v,pageIndex:v-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!g)return x;var C=z(g);x.contentPosition[s]=-C.s;for(var I=h+1,A=C,k=C,R=null;I<=y;++I)R=z(d[I]),(!R&&k.e>A.s+o||R&&!V(R,A.s))&&(k.i>A.i?A=k:A=R,A&&(x.pageNextDataIndex==null&&(x.pageNextDataIndex=A.i),++x.pageCount)),k=R;for(var I=h-1,A=C,k=C,R=null;I>=-1;--I)R=z(d[I]),(!R||!V(k,R.s))&&A.i<k.i&&(k=A,x.pagePrevDataIndex==null&&(x.pagePrevDataIndex=A.i),++x.pageCount,++x.pageIndex),A=R;return x;function z(U){if(U){var N=U.getBoundingRect(),W=N[c]+U[c];return{s:W,e:W+N[a],i:U.__legendDataIndex}}}function V(U,N){return U.e>=N&&U.s<=N+o}},t.prototype._findTargetItemIndex=function(n){if(!this._showController)return 0;var r,i=this.getContentGroup(),o;return i.eachChild(function(s,a){var c=s.__legendDataIndex;o==null&&c!=null&&(o=a),c===n&&(r=a)}),r??o},t.type="legend.scroll",t}(_Y);function jze(e){e.registerAction("legendScroll","legendscroll",function(t,n){var r=t.scrollDataIndex;r!=null&&n.eachComponent({mainType:"legend",subType:"scroll",query:t},function(i){i.setScrollDataIndex(r)})})}function Hze(e){Us(xY),e.registerComponentModel(Nze),e.registerComponentView(Vze),jze(e)}function Uze(e){Us(xY),Us(Hze)}var Gze=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="dataZoom.inside",t.defaultOption=iR(XS.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(XS),ZR=Ti();function Wze(e,t,n){ZR(e).coordSysRecordMap.each(function(r){var i=r.dataZoomInfoMap.get(t.uid);i&&(i.getRange=n)})}function Zze(e,t){for(var n=ZR(e).coordSysRecordMap,r=n.keys(),i=0;i<r.length;i++){var o=r[i],s=n.get(o),a=s.dataZoomInfoMap;if(a){var c=t.uid,h=a.get(c);h&&(a.removeKey(c),a.keys().length||wY(n,s))}}}function wY(e,t){if(t){e.removeKey(t.model.uid);var n=t.controller;n&&n.dispose()}}function qze(e,t){var n={model:t,containsPoint:Qr(Xze,t),dispatchAction:Qr(Kze,e),dataZoomInfoMap:null,controller:null},r=n.controller=new u5e(e.getZr());return Ne(["pan","zoom","scrollMove"],function(i){r.on(i,function(o){var s=[];n.dataZoomInfoMap.each(function(a){if(o.isAvailableBehavior(a.model.option)){var c=(a.getRange||{})[i],h=c&&c(a.dzReferCoordSysInfo,n.model.mainType,n.controller,o);!a.model.get("disabled",!0)&&h&&s.push({dataZoomId:a.model.id,start:h[0],end:h[1]})}}),s.length&&n.dispatchAction(s)})}),n}function Kze(e,t){e.isDisposed()||e.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function Xze(e,t,n,r){return e.coordinateSystem.containPoint([n,r])}function Yze(e){var t,n="type_",r={type_true:2,type_move:1,type_false:0,type_undefined:-1},i=!0;return e.each(function(o){var s=o.model,a=s.get("disabled",!0)?!1:s.get("zoomLock",!0)?"move":!0;r[n+a]>r[n+t]&&(t=a),i=i&&s.get("preventDefaultMouseMove",!0)}),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!i}}}function Jze(e){e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,function(t,n){var r=ZR(n),i=r.coordSysRecordMap||(r.coordSysRecordMap=Dn());i.each(function(o){o.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(o){var s=uY(o);Ne(s.infoList,function(a){var c=a.model.uid,h=i.get(c)||i.set(c,qze(n,a.model)),d=h.dataZoomInfoMap||(h.dataZoomInfoMap=Dn());d.set(o.uid,{dzReferCoordSysInfo:a,model:o,getRange:null})})}),i.each(function(o){var s=o.controller,a,c=o.dataZoomInfoMap;if(c){var h=c.keys()[0];h!=null&&(a=c.get(h))}if(!a){wY(i,o);return}var d=Yze(c);s.enable(d.controlType,d.opt),s.setPointerChecker(o.containsPoint),wC(o,"dispatchAction",a.model.get("throttle",!0),"fixRate")})})}var Qze=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="dataZoom.inside",n}return t.prototype.render=function(n,r,i){if(e.prototype.render.apply(this,arguments),n.noTarget()){this._clear();return}this.range=n.getPercentRange(),Wze(i,n,{pan:zn(PI.pan,this),zoom:zn(PI.zoom,this),scrollMove:zn(PI.scrollMove,this)})},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){Zze(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(cY),PI={zoom:function(e,t,n,r){var i=this.range,o=i.slice(),s=e.axisModels[0];if(s){var a=EI[t](null,[r.originX,r.originY],s,n,e),c=(a.signal>0?a.pixelStart+a.pixelLength-a.pixel:a.pixel-a.pixelStart)/a.pixelLength*(o[1]-o[0])+o[0],h=Math.max(1/r.scale,0);o[0]=(o[0]-c)*h+c,o[1]=(o[1]-c)*h+c;var d=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(MC(0,o,[0,100],0,d.minSpan,d.maxSpan),this.range=o,i[0]!==o[0]||i[1]!==o[1])return o}},pan:_8(function(e,t,n,r,i,o){var s=EI[r]([o.oldX,o.oldY],[o.newX,o.newY],t,i,n);return s.signal*(e[1]-e[0])*s.pixel/s.pixelLength}),scrollMove:_8(function(e,t,n,r,i,o){var s=EI[r]([0,0],[o.scrollDelta,o.scrollDelta],t,i,n);return s.signal*(e[1]-e[0])*o.scrollDelta})};function _8(e){return function(t,n,r,i){var o=this.range,s=o.slice(),a=t.axisModels[0];if(a){var c=e(s,a,t,n,r,i);if(MC(c,s,[0,100],"all"),this.range=s,o[0]!==s[0]||o[1]!==s[1])return s}}}var EI={grid:function(e,t,n,r,i){var o=n.axis,s={},a=i.model.coordinateSystem.getRect();return e=e||[0,0],o.dim==="x"?(s.pixel=t[0]-e[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=o.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=o.inverse?-1:1),s},polar:function(e,t,n,r,i){var o=n.axis,s={},a=i.model.coordinateSystem,c=a.getRadiusAxis().getExtent(),h=a.getAngleAxis().getExtent();return e=e?a.pointToCoord(e):[0,0],t=a.pointToCoord(t),n.mainType==="radiusAxis"?(s.pixel=t[0]-e[0],s.pixelLength=c[1]-c[0],s.pixelStart=c[0],s.signal=o.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=h[1]-h[0],s.pixelStart=h[0],s.signal=o.inverse?-1:1),s},singleAxis:function(e,t,n,r,i){var o=n.axis,s=i.model.coordinateSystem.getRect(),a={};return e=e||[0,0],o.orient==="horizontal"?(a.pixel=t[0]-e[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=o.inverse?1:-1):(a.pixel=t[1]-e[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=o.inverse?-1:1),a}};function e4e(e){hY(e),e.registerComponentModel(Gze),e.registerComponentView(Qze),Jze(e)}var t4e=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=iR(XS.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(XS),i_=Si,b8=7,n4e=1,II=30,r4e=7,o_="horizontal",x8="vertical",i4e=5,o4e=["line","bar","candlestick","scatter"],a4e={easing:"cubicOut",duration:100,delay:0},s4e=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._displayables={},n}return t.prototype.init=function(n,r){this.api=r,this._onBrush=zn(this._onBrush,this),this._onBrushEnd=zn(this._onBrushEnd,this)},t.prototype.render=function(n,r,i,o){if(e.prototype.render.apply(this,arguments),wC(this,"_dispatchZoomAction",n.get("throttle"),"fixRate"),this._orient=n.getOrient(),n.get("show")===!1){this.group.removeAll();return}if(n.noTarget()){this._clear(),this.group.removeAll();return}(!o||o.type!=="dataZoom"||o.from!==this.uid)&&this._buildView(),this._updateView()},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){VS(this,"_dispatchZoomAction");var n=this.api.getZr();n.off("mousemove",this._onBrush),n.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var n=this.group;n.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var r=this._displayables.sliderGroup=new gi;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),n.add(r),this._positionGroup()},t.prototype._resetLocation=function(){var n=this.dataZoomModel,r=this.api,i=n.get("brushSelect"),o=i?r4e:0,s=this._findCoordRect(),a={width:r.getWidth(),height:r.getHeight()},c=this._orient===o_?{right:a.width-s.x-s.width,top:a.height-II-b8-o,width:s.width,height:II}:{right:b8,top:s.y,width:II,height:s.height},h=Sb(n.option);Ne(["right","top","width","height"],function(g){h[g]==="ph"&&(h[g]=c[g])});var d=Eg(h,a);this._location={x:d.x,y:d.y},this._size=[d.width,d.height],this._orient===x8&&this._size.reverse()},t.prototype._positionGroup=function(){var n=this.group,r=this._location,i=this._orient,o=this.dataZoomModel.getFirstTargetAxisModel(),s=o&&o.get("inverse"),a=this._displayables.sliderGroup,c=(this._dataShadowInfo||{}).otherAxisInverse;a.attr(i===o_&&!s?{scaleY:c?1:-1,scaleX:1}:i===o_&&s?{scaleY:c?1:-1,scaleX:-1}:i===x8&&!s?{scaleY:c?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:c?-1:1,scaleX:-1,rotation:Math.PI/2});var h=n.getBoundingRect([a]);n.x=r.x-h.x,n.y=r.y-h.y,n.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var n=this.dataZoomModel,r=this._size,i=this._displayables.sliderGroup,o=n.get("brushSelect");i.add(new i_({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:n.get("backgroundColor")},z2:-40}));var s=new i_({shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:"transparent"},z2:0,onclick:zn(this._onClickPanel,this)}),a=this.api.getZr();o?(s.on("mousedown",this._onBrushStart,this),s.cursor="crosshair",a.on("mousemove",this._onBrush),a.on("mouseup",this._onBrushEnd)):(a.off("mousemove",this._onBrush),a.off("mouseup",this._onBrushEnd)),i.add(s)},t.prototype._renderDataShadow=function(){var n=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!n)return;var r=this._size,i=this._shadowSize||[],o=n.series,s=o.getRawData(),a=o.getShadowDim&&o.getShadowDim(),c=a&&s.getDimensionInfo(a)?o.getShadowDim():n.otherDim;if(c==null)return;var h=this._shadowPolygonPts,d=this._shadowPolylinePts;if(s!==this._shadowData||c!==this._shadowDim||r[0]!==i[0]||r[1]!==i[1]){var g=s.getDataExtent(c),y=(g[1]-g[0])*.3;g=[g[0]-y,g[1]+y];var v=[0,r[1]],x=[0,r[0]],C=[[r[0],0],[0,0]],I=[],A=x[1]/(s.count()-1),k=0,R=Math.round(s.count()/r[0]),z;s.each([c],function(X,K){if(R>0&&K%R){k+=A;return}var te=X==null||isNaN(X)||X==="",ae=te?0:Go(X,g,v,!0);te&&!z&&K?(C.push([C[C.length-1][0],0]),I.push([I[I.length-1][0],0])):!te&&z&&(C.push([k,0]),I.push([k,0])),C.push([k,ae]),I.push([k,ae]),k+=A,z=te}),h=this._shadowPolygonPts=C,d=this._shadowPolylinePts=I}this._shadowData=s,this._shadowDim=c,this._shadowSize=[r[0],r[1]];var V=this.dataZoomModel;function U(X){var K=V.getModel(X?"selectedDataBackground":"dataBackground"),te=new gi,ae=new aC({shape:{points:h},segmentIgnoreThreshold:1,style:K.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),me=new xb({shape:{points:d},segmentIgnoreThreshold:1,style:K.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return te.add(ae),te.add(me),te}for(var N=0;N<3;N++){var W=U(N===1);this._displayables.sliderGroup.add(W),this._displayables.dataShadowSegs.push(W)}},t.prototype._prepareDataShadowInfo=function(){var n=this.dataZoomModel,r=n.get("showDataShadow");if(r!==!1){var i,o=this.ecModel;return n.eachTargetAxis(function(s,a){var c=n.getAxisProxy(s,a).getTargetSeriesModels();Ne(c,function(h){if(!i&&!(r!==!0&&hr(o4e,h.get("type"))<0)){var d=o.getComponent(fh(s),a).axis,g=l4e(s),y,v=h.coordinateSystem;g!=null&&v.getOtherAxis&&(y=v.getOtherAxis(d).inverse),g=h.getData().mapDimension(g),i={thisAxis:d,series:h,thisDim:s,otherDim:g,otherAxisInverse:y}}},this)},this),i}},t.prototype._renderHandle=function(){var n=this.group,r=this._displayables,i=r.handles=[null,null],o=r.handleLabels=[null,null],s=this._displayables.sliderGroup,a=this._size,c=this.dataZoomModel,h=this.api,d=c.get("borderRadius")||0,g=c.get("brushSelect"),y=r.filler=new i_({silent:g,style:{fill:c.get("fillerColor")},textConfig:{position:"inside"}});s.add(y),s.add(new i_({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:a[0],height:a[1],r:d},style:{stroke:c.get("dataBackgroundColor")||c.get("borderColor"),lineWidth:n4e,fill:"rgba(0,0,0,0)"}})),Ne([0,1],function(R){var z=c.get("handleIcon");!HS[z]&&z.indexOf("path://")<0&&z.indexOf("image://")<0&&(z="path://"+z);var V=dl(z,-1,0,2,2,null,!0);V.attr({cursor:w8(this._orient),draggable:!0,drift:zn(this._onDragMove,this,R),ondragend:zn(this._onDragEnd,this),onmouseover:zn(this._showDataInfo,this,!0),onmouseout:zn(this._showDataInfo,this,!1),z2:5});var U=V.getBoundingRect(),N=c.get("handleSize");this._handleHeight=eo(N,this._size[1]),this._handleWidth=U.width/U.height*this._handleHeight,V.setStyle(c.getModel("handleStyle").getItemStyle()),V.style.strokeNoScale=!0,V.rectHover=!0,V.ensureState("emphasis").style=c.getModel(["emphasis","handleStyle"]).getItemStyle(),RS(V);var W=c.get("handleColor");W!=null&&(V.style.fill=W),s.add(i[R]=V);var X=c.getModel("textStyle"),K=c.get("handleLabel")||{},te=K.show||!1;n.add(o[R]=new Mo({silent:!0,invisible:!te,style:oc(X,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:X.getTextColor(),font:X.getFont()}),z2:10}))},this);var v=y;if(g){var x=eo(c.get("moveHandleSize"),a[1]),C=r.moveHandle=new Si({style:c.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:a[1]-.5,height:x}}),I=x*.8,A=r.moveHandleIcon=dl(c.get("moveHandleIcon"),-I/2,-I/2,I,I,"#fff",!0);A.silent=!0,A.y=a[1]+x/2-.5,C.ensureState("emphasis").style=c.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var k=Math.min(a[1]/2,Math.max(x,10));v=r.moveZone=new Si({invisible:!0,shape:{y:a[1]-k,height:x+k}}),v.on("mouseover",function(){h.enterEmphasis(C)}).on("mouseout",function(){h.leaveEmphasis(C)}),s.add(C),s.add(A),s.add(v)}v.attr({draggable:!0,cursor:w8(this._orient),drift:zn(this._onDragMove,this,"all"),ondragstart:zn(this._showDataInfo,this,!0),ondragend:zn(this._onDragEnd,this),onmouseover:zn(this._showDataInfo,this,!0),onmouseout:zn(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var n=this._range=this.dataZoomModel.getPercentRange(),r=this._getViewExtent();this._handleEnds=[Go(n[0],[0,100],r,!0),Go(n[1],[0,100],r,!0)]},t.prototype._updateInterval=function(n,r){var i=this.dataZoomModel,o=this._handleEnds,s=this._getViewExtent(),a=i.findRepresentativeAxisProxy().getMinMaxSpan(),c=[0,100];MC(r,o,s,i.get("zoomLock")?"all":n,a.minSpan!=null?Go(a.minSpan,c,s,!0):null,a.maxSpan!=null?Go(a.maxSpan,c,s,!0):null);var h=this._range,d=this._range=g_([Go(o[0],s,c,!0),Go(o[1],s,c,!0)]);return!h||h[0]!==d[0]||h[1]!==d[1]},t.prototype._updateView=function(n){var r=this._displayables,i=this._handleEnds,o=g_(i.slice()),s=this._size;Ne([0,1],function(v){var x=r.handles[v],C=this._handleHeight;x.attr({scaleX:C/2,scaleY:C/2,x:i[v]+(v?-1:1),y:s[1]/2-C/2})},this),r.filler.setShape({x:o[0],y:0,width:o[1]-o[0],height:s[1]});var a={x:o[0],width:o[1]-o[0]};r.moveHandle&&(r.moveHandle.setShape(a),r.moveZone.setShape(a),r.moveZone.getBoundingRect(),r.moveHandleIcon&&r.moveHandleIcon.attr("x",a.x+a.width/2));for(var c=r.dataShadowSegs,h=[0,o[0],o[1],s[0]],d=0;d<c.length;d++){var g=c[d],y=g.getClipPath();y||(y=new Si,g.setClipPath(y)),y.setShape({x:h[d],y:0,width:h[d+1]-h[d],height:s[1]})}this._updateDataInfo(n)},t.prototype._updateDataInfo=function(n){var r=this.dataZoomModel,i=this._displayables,o=i.handleLabels,s=this._orient,a=["",""];if(r.get("showDetail")){var c=r.findRepresentativeAxisProxy();if(c){var h=c.getAxisModel().axis,d=this._range,g=n?c.calculateDataWindow({start:d[0],end:d[1]}).valueWindow:c.getDataValueWindow();a=[this._formatLabel(g[0],h),this._formatLabel(g[1],h)]}}var y=g_(this._handleEnds.slice());v.call(this,0),v.call(this,1);function v(x){var C=Aq(i.handles[x].parent,this.group),I=Dq(x===0?"right":"left",C),A=this._handleWidth/2+i4e,k=F0([y[x]+(x===0?-A:A),this._size[1]/2],C);o[x].setStyle({x:k[0],y:k[1],verticalAlign:s===o_?"middle":I,align:s===o_?I:"center",text:a[x]})}},t.prototype._formatLabel=function(n,r){var i=this.dataZoomModel,o=i.get("labelFormatter"),s=i.get("labelPrecision");(s==null||s==="auto")&&(s=r.getPixelPrecision());var a=n==null||isNaN(n)?"":r.type==="category"||r.type==="time"?r.scale.getLabel({value:Math.round(n)}):n.toFixed(Math.min(s,20));return Sn(o)?o(n,a):pn(o)?o.replace("{value}",a):a},t.prototype._showDataInfo=function(n){var r=this.dataZoomModel.get("handleLabel")||{},i=r.show||!1,o=this.dataZoomModel.getModel(["emphasis","handleLabel"]),s=o.get("show")||!1,a=n||this._dragging?s:i,c=this._displayables,h=c.handleLabels;h[0].attr("invisible",!a),h[1].attr("invisible",!a),c.moveHandle&&this.api[a?"enterEmphasis":"leaveEmphasis"](c.moveHandle,1)},t.prototype._onDragMove=function(n,r,i,o){this._dragging=!0,Pg(o.event);var s=this._displayables.sliderGroup.getLocalTransform(),a=F0([r,i],s,!0),c=this._updateInterval(n,a[0]),h=this.dataZoomModel.get("realtime");this._updateView(!h),c&&h&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var n=this.dataZoomModel.get("realtime");!n&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(n){var r=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(n.offsetX,n.offsetY);if(!(i[0]<0||i[0]>r[0]||i[1]<0||i[1]>r[1])){var o=this._handleEnds,s=(o[0]+o[1])/2,a=this._updateInterval("all",i[0]-s);this._updateView(),a&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(n){var r=n.offsetX,i=n.offsetY;this._brushStart=new $r(r,i),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(n){if(this._brushing){var r=this._displayables.brushRect;if(this._brushing=!1,!!r){r.attr("ignore",!0);var i=r.shape,o=+new Date;if(!(o-this._brushStartTime<200&&Math.abs(i.width)<5)){var s=this._getViewExtent(),a=[0,100];this._range=g_([Go(i.x,s,a,!0),Go(i.x+i.width,s,a,!0)]),this._handleEnds=[i.x,i.x+i.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(n){this._brushing&&(Pg(n.event),this._updateBrushRect(n.offsetX,n.offsetY))},t.prototype._updateBrushRect=function(n,r){var i=this._displayables,o=this.dataZoomModel,s=i.brushRect;s||(s=i.brushRect=new i_({silent:!0,style:o.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(s)),s.attr("ignore",!1);var a=this._brushStart,c=this._displayables.sliderGroup,h=c.transformCoordToLocal(n,r),d=c.transformCoordToLocal(a.x,a.y),g=this._size;h[0]=Math.max(Math.min(g[0],h[0]),0),s.setShape({x:d[0],y:0,width:h[0]-d[0],height:g[1]})},t.prototype._dispatchZoomAction=function(n){var r=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:n?a4e:null,start:r[0],end:r[1]})},t.prototype._findCoordRect=function(){var n,r=uY(this.dataZoomModel).infoList;if(!n&&r.length){var i=r[0].model.coordinateSystem;n=i.getRect&&i.getRect()}if(!n){var o=this.api.getWidth(),s=this.api.getHeight();n={x:o*.2,y:s*.2,width:o*.6,height:s*.6}}return n},t.type="dataZoom.slider",t}(cY);function l4e(e){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[e]}function w8(e){return e==="vertical"?"ns-resize":"ew-resize"}function u4e(e){e.registerComponentModel(t4e),e.registerComponentView(s4e),hY(e)}function c4e(e){Us(e4e),Us(u4e)}Us([q3e,vY,gY,Rze,lY,s5e,S5e]);const h4e={name:"BusChartVue",components:{"v-chart":xX},data:()=>({lines:[],stops1:[],stops2:[],historyBusData:[],themeColor:"#212529",themeColor_rev:"#DEE2E6",echartsOption:{tooltip:{show:!1},title:[{subtext:`By bilibili@交通数据小旭学长
GitHub@ni1o1`,sublink:"https://github.com/ni1o1/nikebus",textAlign:"right",bottom:"2%",left:"98%"}],grid:[{top:"10%",bottom:"0%",left:"26px",right:"14px"}],yAxis:[{inverse:!0,min:-100,max:4500,type:"value",boundaryGap:!1,show:!1,splitLine:{show:!1}}],xAxis:[{position:"top",verticalAlign:"top",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{interval:0},type:"category",data:[`L1号线
工学院方向
COE`,`L1号线
欣园方向
JHL`,`L2号线
科研楼方向
RSB`,`L2号线
欣园方向
JHL`],splitLine:{show:!1}}],series:[{type:"scatter",label:{fontSize:8,show:!0,color:"#212529",position:"right",formatter:"{b}"},data:[]},{type:"lines",coordinateSystem:"cartesian2d",data:[]},{type:"scatter",name:"bus",label:{fontSize:11,show:!0,color:"#212529",textBorderColor:"#DEE2E6",textBorderWidth:2.5,fontWeight:"bold",position:"right",distance:-5,formatter:"{b}"},data:[]}],stateAnimation:{duration:500}},timer:{},second:0}),methods:{setEchartsOption(e){this.echartsOption=e},checkTheme(){window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?(this.themeColor="#DEE2E6",this.themeColor_rev="#212529"):(this.themeColor="#212529",this.themeColor_rev="#DEE2E6"),this.updateSeriesColor()},updateSeriesColor(){this.echartsOption.series=this.echartsOption.series.map(e=>(e.label&&(e.label.color=this.themeColor,e.label.textBorderColor=this.themeColor_rev),e))},load_data(){Tn.all([Tn.get("/bus_echart/line1.json"),Tn.get("/bus_echart/line2.json"),Tn.get("/bus_echart/stop1.json"),Tn.get("/bus_echart/stop2.json")]).then(Tn.spread((e,t,n,r)=>{const i=e.data,o=t.data,s=n.data,a=r.data;this.lines=[i,o],this.stops1=s,this.stops2=a;const c=s.features.map(v=>({value:[1,Lu(i.features[0],v).properties.location*1e3],name:v.properties.name,symbolSize:8,itemStyle:{color:"#ff881b",opacity:1}})),h=s.features.map(v=>({value:[0,$u(i.features[0])*1e3-Lu(i.features[0],v).properties.location*1e3],name:v.properties.name,symbolSize:8,itemStyle:{color:"#ff881b",opacity:1}})),d=a.features.map(v=>({value:[3,Lu(o.features[0],v).properties.location*1e3],name:v.properties.name,symbolSize:8,itemStyle:{color:"#379ff4",opacity:1}})),g=a.features.map(v=>({value:[2,$u(o.features[0])*1e3-Lu(o.features[0],v).properties.location*1e3],name:v.properties.name,symbolSize:8,itemStyle:{color:"#379ff4",opacity:1}})),y={series:[{data:[...c,...h,...d,...g]},{data:[{coords:[[0,0],[0,$u(i.features[0])*1e3]],lineStyle:{color:"#ff881b",width:2,opacity:1}},{coords:[[1,0],[1,$u(i.features[0])*1e3]],lineStyle:{color:"#ff881b",width:2,opacity:1}},{coords:[[2,0],[2,$u(o.features[0])*1e3]],lineStyle:{color:"#379ff4",width:2,opacity:1}},{coords:[[3,0],[3,$u(o.features[0])*1e3]],lineStyle:{color:"#379ff4",width:2,opacity:1}}]}]};this.setEchartsOption(y)}))},updateBusPos(){this.lines.length>0&&Tn.get("https://bus.sustcra.com/api/v2/monitor_osm/").then(e=>{const n=e.data.filter(i=>i.is_operating==1).map(i=>{let o=0;i.route_code=="XYBS2"?o=1:i.route_code=="XYBS1"&&(o=0);const s=Nl([i.lng,i.lat]);let a=this.lines[o].features[0],c=Lu(a,s),h=c.properties.location,d=h*1e3;return i.route_dir>0&&(d=$u(a)*1e3-h*1e3),c.properties.dist*1e3>100|d<100?{value:[-1,0],name:"粤B"+i.id.slice(2),itemStyle:{color:"#222",show:!1},symbol:"image://https://bus.sustcra.com/bus-top-view.png",symbolSize:30,symbolRotate:180,speed:i.speed}:{value:[1-i.route_dir+o*2,d],name:"粤B"+i.id.slice(2),itemStyle:{color:"#222"},symbol:"image://https://bus.sustcra.com/bus-top-view.png",symbolSize:30,symbolRotate:180,speed:i.speed}});this.historyBusData=n.filter(i=>typeof i<"u");const r={series:[{},{},{data:n}]};this.setEchartsOption(r)})},refresh(){this.second+=1,this.second%10===0?this.updateBusPos():navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>{let t=e.coords.latitude,n=e.coords.longitude;const r=Nl([n,t]),i=m6(r,this.stops1),o=Lu(this.lines[0].features[0],i).properties.location*1e3,s=$u(this.lines[0].features[0])*1e3-Lu(this.lines[0].features[0],i).properties.location*1e3,a=m6(r,this.stops2),c=Lu(this.lines[1].features[0],a).properties.location*1e3,h=$u(this.lines[1].features[0])*1e3-Lu(this.lines[1].features[0],a).properties.location*1e3,d=this.historyBusData.filter(z=>z.value[0]===0&&z.value[1]<=s).map(z=>parseInt((s-z.value[1])/250)),g=this.historyBusData.filter(z=>z.value[0]===1&&z.value[1]<=o).map(z=>parseInt((o-z.value[1])/250)),y=this.historyBusData.filter(z=>z.value[0]===2&&z.value[1]<=h).map(z=>parseInt((h-z.value[1])/250)),v=this.historyBusData.filter(z=>z.value[0]===3&&z.value[1]<=c).map(z=>parseInt((c-z.value[1])/250)),x=d.length>0?`
 ~`+Math.min(...d)+"min.":"",C=g.length>0?`
  ~`+Math.min(...g)+"min.":"",I=y.length>0?`
   ~`+Math.min(...y)+"min.":"",A=v.length>0?`
    ~`+Math.min(...v)+"min.":"";let k=[],R=[];k=[{name:"最近"+C,itemStyle:{color:"#ff881b"},coord:[1,o]},{name:"最近"+x,itemStyle:{color:"#ff881b"},coord:[0,s]}],R=[{name:"最近"+A,itemStyle:{color:"#379ff4"},coord:[3,c]},{name:"最近"+I,itemStyle:{color:"#379ff4"},coord:[2,h]}],this.setEchartsOption({series:[{markPoint:{symbol:"arrow",symbolRotate:-90,symbolOffset:["-50%",0],symbolSize:10,label:{fontSize:10,show:!0,color:"#666",position:"left",formatter:"{b}"},data:[...k,...R]}},{},{}]})})}},watch:{lines:"updateBusPos"},created(){this.checkTheme(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",this.checkTheme)},mounted(){this.load_data(),this.updateBusPos(),this.timer=setInterval(()=>{this.refresh()},500)},unmounted(){clearInterval(this.timer)}};function d4e(e,t,n,r,i,o){const s=or("v-chart");return Dt(),Zt(vn,null,[ne(s,{class:"chart",option:e.echartsOption,autoresize:!0},null,8,["option"]),t[0]||(t[0]=kt("img",{src:"https://visitor-badge.laobi.icu/badge?page_id=nikebus",alt:"visitor badge",class:"visitor-badge"},null,-1))],64)}const f4e=Zn(h4e,[["render",d4e],["__scopeId","data-v-38e5a648"],["__file","BusChartVue.vue"]]),p4e={name:"RealtimeTraffic",data(){return{baseUrl:"https://susteen.itbill.cn/api/v1/traffic",trafficList:[],formatter:new Intl.DateTimeFormat("zh-CN",{hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}},mounted(){this.getTrafficList()},methods:{async getTrafficList(){try{const e=await Tn.get(this.baseUrl+"/canteens");this.trafficList=e.data.data;const t=this.trafficList.map(r=>Tn.get(`${this.baseUrl}/canteens/${r.canteen_id}`)),n=await Promise.all(t);this.trafficList=this.trafficList.map((r,i)=>({...r,booth_traffic:n[i].data.data}))}catch(e){console.error("Error fetching traffic data:",e)}},timeFormat(e){const t=new Date(e);return this.formatter.format(t)}}},m4e={class:"container mt-3"},g4e={class:"card-header"},v4e={class:"card-title"},y4e={class:"card-subtitle"},_4e={class:"card-subtitle"},b4e={class:"list-group"};function x4e(e,t,n,r,i,o){return Dt(),Gr(us,{name:"fade",mode:"out-in",appear:""},{default:Bn(()=>[kt("div",m4e,[(Dt(!0),Zt(vn,null,ea(i.trafficList,s=>(Dt(),Zt("div",{class:"card mb-3",key:s.canteen_id},[kt("div",g4e,[kt("h5",v4e,Rn(s.canteen_name)+" "+Rn(s.canteen_en_name),1),kt("p",y4e,"平均人数 Avg Number: "+Rn(s.avg_number.toFixed(2)),1),kt("p",_4e,"更新时间 Last Updated: "+Rn(o.timeFormat(s.time)),1)]),kt("ul",b4e,[(Dt(!0),Zt(vn,null,ea(s.booth_traffic,a=>(Dt(),Zt("li",{class:"list-group-item",key:a.booth_id},[kt("strong",null,Rn(a.booth_name)+" "+Rn(a.booth_en_name),1),Wi(" - 排队人数约: "+Rn(a.avg_number)+" 人 ",1)]))),128))])]))),128))])]),_:1})}const w4e=Zn(p4e,[["render",x4e],["__scopeId","data-v-425ddfaf"],["__file","RealtimeTraffic.vue"]]),S4e={components:{AButton:Wm},data(){return{keySelected:null}},props:{objs:{},initPos:{type:Number,default:0}},mounted(){this.select(Object.keys(this.objs)[this.initPos])},watch:{objs(e){for(let t in this.objs){this.keySelected=t;break}}},computed:{},methods:{select:function(e){this.keySelected=e}}};function C4e(e,t,n,r,i,o){const s=or("a-button");return Dt(),Zt(vn,null,[(Dt(!0),Zt(vn,null,ea(n.objs,(a,c,h)=>(Dt(),Gr(s,{key:h,onClick:d=>o.select(c),class:Jo(c==i.keySelected?"selected":"unselected"),type:c==i.keySelected?"primary":"default",size:"large"},{default:Bn(()=>[Wi(Rn(c),1)]),_:2},1032,["onClick","class","type"]))),128)),_i(e.$slots,"default",{selected:n.objs[i.keySelected]})],64)}const T4e=Zn(S4e,[["render",C4e],["__file","ObjectSelector.vue"]]),P4e={data(){return{data:null}},props:{path:{type:String}},watch:{path(e){if(e)return Tn.get(e).then(t=>{this.data=t.data})}}};function E4e(e,t,n,r,i,o){return _i(e.$slots,"default",{data:i.data})}const I4e=Zn(P4e,[["render",E4e],["__file","DataRequest.vue"]]);Us([Q3e,C$e,lY,gY,vY,Uze,c4e]);const M4e={name:"TrendChart",components:{"a-config-provider":Qu,"data-request":I4e,"object-selector":T4e,"v-chart":xX},data(){return{}},setup(){},methods:{getUrl(e,t){const n=new Date,r=n.getFullYear(),i=String(n.getMonth()+1).padStart(2,"0"),o=String(n.getDate()).padStart(2,"0"),s=`${r}${i}${o}`;return`https://susteen.itbill.cn/api/v1/traffic/booths/${e}?date=${s}&meal=${t}`},getChartData(e,t){if(e)return e=e.data,{title:{text:["早餐 Breakfast","午餐 Lunch","晚餐 Dinner"][t]},xAxis:{type:"category",data:e.map(r=>r.time.slice(11,16))},yAxis:{type:"value",name:"人数 Number"},series:[{data:e.map(r=>r.number),type:"line",lineStyle:{color:"rgb(90,120,200)"}}],dataZoom:[{type:"slider",xAxisIndex:0,start:50,end:100}]}}}},A4e={id:"bustable"};function D4e(e,t,n,r,i,o){const s=or("v-chart"),a=or("data-request"),c=or("object-selector"),h=or("a-config-provider");return Dt(),Zt("div",A4e,[ne(h,{theme:{token:{colorPrimary:"#ED6D00"}}},{default:Bn(()=>[ne(c,{objs:{"中心餐厅 | Center Cafeteria":!0,"十栋餐厅 | Building 10 No.2 Cafeteria":!1}},{default:Bn(d=>[t[0]||(t[0]=kt("br",null,null,-1)),ne(h,{theme:{token:{colorPrimary:"#49BF7C"}}},{default:Bn(()=>[ne(c,{objs:d.selected?{"麻辣烫 | Spicy Hot Pot":11,"大众菜左 | Popular Dishes":12,"大众菜右 | Popular Dishes":13,"风味面食 | Noodles":14,"潮汕卤味套餐 | Chiu Chow-style Brino Meat":15,"铁锅拌饭 | Rice with Mixed Vegetables":16}:{"大众菜左 | Popular Dishes":21,"大众菜右 | Popular Dishes":22}},{default:Bn(g=>[(Dt(),Zt(vn,null,ea([0,1,2],y=>kt("div",{key:y},[ne(a,{path:o.getUrl(g.selected,y)},{default:Bn(({data:v})=>[ne(s,{class:"echarts",option:o.getChartData(v,y)},null,8,["option"])]),_:2},1032,["path"])])),64))]),_:2},1032,["objs"])]),_:2},1024)]),_:1})]),_:1})])}const k4e=Zn(M4e,[["render",D4e],["__file","TrendChart.vue"]]),O4e={name:"Menu",setup(){const e=Ot([]),t=()=>{const n=new Date,r=n.getFullYear(),i=String(n.getMonth()+1).padStart(2,"0"),o=String(n.getDate()).padStart(2,"0");Tn.get(`https://susteen.itbill.cn/api/v1/menu/${r}/${i}/${o}`).then(s=>{e.value=s.data.data}).catch(s=>console.log("Error in Menu: "+s))};return Nn(()=>{t()}),{dailyMenus:e}}},R4e=["src","alt"];function L4e(e,t,n,r,i,o){return Dt(!0),Zt(vn,null,ea(r.dailyMenus,s=>(Dt(),Zt("div",{key:s.canteen_id},[kt("img",{class:"menu-img",src:s.url,alt:s.canteen_id,sizes:"width=200px"},null,8,R4e)]))),128)}const $4e=Zn(O4e,[["render",L4e],["__scopeId","data-v-276f5f03"],["__file","Menu.vue"]]),z4e={name:"Canteen",components:{ASegmented:dO,RealtimeTraffic:w4e,TrendChart:k4e,Menu:$4e},data(){return{}},setup(){const e=Ot("realtime-queue-length"),t=Ot("realtime-queue-length"),n=Ot([{value:"realtime-queue-length",payload:{title:"实时排队人数",subTitle:"Queue Length"}},{value:"queue-trend-chart",payload:{title:"排队趋势图",subTitle:"Queue Trend"}},{value:"daily-menus",payload:{title:"今日菜谱",subTitle:"Daily Menus"}}]);return{initSelect:e,currentSelect:t,tabOptions:n,switchTab:i=>{t.value=i}}}},B4e={style:{padding:"4px 0px"}},F4e={class:"tab-container"},N4e={key:0},V4e={key:1},j4e={key:2};function H4e(e,t,n,r,i,o){const s=or("a-segmented"),a=or("RealtimeTraffic"),c=or("TrendChart"),h=or("Menu");return Dt(),Zt("div",null,[ne(s,{value:r.initSelect,"onUpdate:value":t[0]||(t[0]=d=>r.initSelect=d),options:r.tabOptions,onChange:r.switchTab},{label:Bn(({payload:d})=>[kt("div",B4e,[kt("div",null,Rn(d.title),1),kt("div",null,Rn(d.subTitle),1)])]),_:1},8,["value","options","onChange"]),kt("div",F4e,[r.currentSelect==="realtime-queue-length"?(Dt(),Zt("div",N4e,[ne(a)])):vr("",!0),r.currentSelect==="queue-trend-chart"?(Dt(),Zt("div",V4e,[ne(c)])):vr("",!0),r.currentSelect==="daily-menus"?(Dt(),Zt("div",j4e,[ne(h)])):vr("",!0)])])}const U4e=Zn(z4e,[["render",H4e],["__file","Canteen.vue"]]),G4e={name:"adsense-inline",mounted(){this.adsenseAddLoad()},methods:{adsenseAddLoad(){let e=document.createElement("script");e.type="text/javascript",e.text="(adsbygoogle = window.adsbygoogle || []).push({});",document.getElementsByTagName("body")[0].appendChild(e)}}},W4e={class:"container"};function Z4e(e,t,n,r,i,o){return Dt(),Zt("div",W4e,t[0]||(t[0]=[kt("ins",{class:"adsbygoogle",style:{display:"block"},"data-ad-client":"ca-pub-9039393129169217","data-ad-slot":"6679712662","data-ad-format":"auto","data-full-width-responsive":"true"},null,-1)]))}const q4e=Zn(G4e,[["render",Z4e],["__file","adsense-inline.vue"]]),K4e={name:"adsense-displayad",mounted(){this.adsenseAddLoad()},methods:{adsenseAddLoad(){let e=document.createElement("script");e.type="text/javascript",e.text="(adsbygoogle = window.adsbygoogle || []).push({});",document.getElementsByTagName("body")[0].appendChild(e)}}},X4e={class:"container"};function Y4e(e,t,n,r,i,o){return Dt(),Zt("div",X4e,t[0]||(t[0]=[kt("ins",{class:"adsbygoogle",style:{display:"block","min-width":"300px","max-width":"970px",width:"100%",height:"103px"},"data-ad-client":"ca-pub-9039393129169217","data-ad-slot":"6679712662"},null,-1)]))}const J4e=Zn(K4e,[["render",Y4e],["__file","adsense-displayad.vue"]]),Q4e=pl({enhance({app:e}){e.component("BusTable",JCe),e.component("BusTable_img",nTe),e.component("BusAnnouncement",WTe),e.component("BusETAdemo",iPe),e.component("TabView",dPe),e.component("RealtimeMap",QPe),e.component("RealtimeMapv2",oEe),e.component("CampusMap",uEe),e.component("WeatherSpan",pEe),e.component("AdSenseInline",q4e),e.component("AdSenseDisplayAD",J4e),e.component("BusChartVue",f4e),e.component("Canteen",U4e)}}),eBe=Object.freeze(Object.defineProperty({__proto__:null,default:Q4e},Symbol.toStringTag,{value:"Module"})),ew=[xie,Yie,ioe,aoe,_oe,Toe,Ioe,Roe,Gse,Pce,Vce,Qce,ohe,eBe].map(e=>e.default).filter(Boolean),tBe=JSON.parse(`{"base":"/","lang":"en-US","title":"","description":"","head":[["link",{"rel":"icon","href":"/logo-assets/touch/homescreen192.png"}],["meta",{"name":"theme-color","content":"#49BF7C"}],["link",{"rel":"manifest","href":"/manifest.webmanifest"}],["meta",{"prefix":"og: http://ogp.me/ns#","property":"og:type","content":"article"}],["meta",{"prefix":"og: http://ogp.me/ns#","property":"og:image","content":"https://mirrors.sustech.edu.cn/git/sustech-online/sustech-online-ng/-/raw/master/docs/assets/og-image.png"}],["meta",{"prefix":"og: http://ogp.me/ns#","property":"og:article:author","content":"sustech.online"}],["meta",{"name":"apple-mobile-web-app-capable","content":"yes"}],["meta",{"name":"apple-mobile-web-app-status-bar-style","content":"black"}],["link",{"rel":"apple-touch-icon","href":"/logo-assets/touch/homescreen168.png"}],["meta",{"name":"msapplication-TileImage","content":"/logo-assets/touch/homescreen144.png"}],["meta",{"name":"msapplication-TileColor","content":"#49BF7C"}],["meta",{"name":"google-site-verification","content":"Av-srANCmFA_yZ8Iasa1yQsIPJCF_zlP5AoD35m6_Ww"}],["script",{"async":true,"src":"https://googletagmanager.com/gtag/js?id=G-1BQBXDGY3R"}],["script",{},"\\n                        window.dataLayer = window.dataLayer || [];\\n                        function gtag(){dataLayer.push(arguments);}\\n                        gtag('js', new Date());\\n                        gtag('config', 'G-1BQBXDGY3R');\\n                        "],["script",{"src":"/wx_helper.js"}],["script",{"src":"https://res.wx.qq.com/open/js/jweixin-1.6.0.js"}],["script",{"src":"https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/jquery/3.6.0/jquery.min.js"}],["script",{"src":"https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"}],["link",{"rel":"stylesheet","type":"text/css","href":"https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css"}],["script",{"src":"https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/datatables/1.10.21/js/jquery.dataTables.min.js"}],["link",{"rel":"stylesheet","type":"text/css","href":"https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/datatables/1.10.21/css/jquery.dataTables.min.css"}],["meta",{"name":"mobile-web-app-capable","content":"yes"}]],"locales":{"/":{"title":"南科手册","lang":"zh-CN","description":"Online manual for sustecher"}}}`);var w_=Et(tBe),nBe=Qne,rBe=()=>{const e=Ore({history:nBe(r7("/")),routes:[{name:"vuepress-route",path:"/:catchAll(.*)",components:{}}],scrollBehavior:(t,n,r)=>r||(t.hash?{el:t.hash}:{top:0})});return e.beforeResolve(async(t,n)=>{if(t.path!==n.path||n===Fu){const r=l0(t.fullPath);if(r.path!==t.fullPath)return r.path;const i=await r.loader();t.meta={...r.meta,_pageChunk:i}}else t.path===n.path&&(t.meta=n.meta)}),e},iBe=e=>{e.component("ClientOnly",BD),e.component("Content",FD),e.component("RouteLink",ib)},oBe=(e,t,n)=>{const r=ge(()=>t.currentRoute.value.path),i=WQ((I,A)=>({get(){return I(),t.currentRoute.value.meta._pageChunk},set(k){t.currentRoute.value.meta._pageChunk=k,A()}})),o=ge(()=>wd.resolveLayouts(n)),s=ge(()=>wd.resolveRouteLocale(w_.value.locales,r.value)),a=ge(()=>wd.resolveSiteLocaleData(w_.value,s.value)),c=ge(()=>i.value.comp),h=ge(()=>i.value.data),d=ge(()=>h.value.frontmatter),g=ge(()=>wd.resolvePageHeadTitle(h.value,a.value)),y=ge(()=>wd.resolvePageHead(g.value,d.value,a.value)),v=ge(()=>wd.resolvePageLang(h.value,a.value)),x=ge(()=>wd.resolvePageLayout(h.value,o.value)),C={layouts:o,pageData:h,pageComponent:c,pageFrontmatter:d,pageHead:y,pageHeadTitle:g,pageLang:v,pageLayout:x,redirects:qI,routeLocale:s,routePath:r,routes:jm,siteData:w_,siteLocaleData:a};return e.provide($D,C),Object.defineProperties(e.config.globalProperties,{$frontmatter:{get:()=>d.value},$head:{get:()=>y.value},$headTitle:{get:()=>g.value},$lang:{get:()=>v.value},$page:{get:()=>h.value},$routeLocale:{get:()=>s.value},$site:{get:()=>w_.value},$siteLocale:{get:()=>a.value},$withBase:{get:()=>u2}}),C},aBe=([e,t,n=""])=>{const r=Object.entries(t).map(([a,c])=>al(c)?`[${a}=${JSON.stringify(c)}]`:c?`[${a}]`:"").join(""),i=`head > ${e}${r}`;return Array.from(document.querySelectorAll(i)).find(a=>a.innerText===n)??null},sBe=([e,t,n])=>{if(!al(e))return null;const r=document.createElement(e);return OD(t)&&Object.entries(t).forEach(([i,o])=>{al(o)?r.setAttribute(i,o):o&&r.setAttribute(i,"")}),al(n)&&r.appendChild(document.createTextNode(n)),r},lBe=()=>{const e=$re(),t=P7();let n=[];const r=()=>{e.value.forEach(s=>{const a=aBe(s);a&&n.push(a)})},i=()=>{const s=[];return e.value.forEach(a=>{const c=sBe(a);c&&s.push(c)}),s},o=()=>{document.documentElement.lang=t.value;const s=i();n.forEach((a,c)=>{const h=s.findIndex(d=>a.isEqualNode(d));h===-1?(a.remove(),delete n[c]):s.splice(h,1)}),s.forEach(a=>document.head.appendChild(a)),n=[...n.filter(a=>!!a),...s]};fr(Fre,o),Nn(()=>{r(),qt(e,o,{immediate:!1})})},uBe=Jte,cBe=async()=>{var r;const e=uBe({name:"Vuepress",setup(){var s;lBe();for(const a of ew)(s=a.setup)==null||s.call(a);const i=ew.flatMap(({rootComponents:a=[]})=>a.map(c=>Cn(c))),o=zre();return()=>[Cn(o.value),i]}}),t=rBe();iBe(e);const n=oBe(e,t,ew);{const{setupDevtools:i}=await Kt(async()=>{const{setupDevtools:o}=await import("./setupDevtools-7MC2TMWH-vDEPlarT.js");return{setupDevtools:o}},[]);i(e,n)}for(const i of ew)await((r=i.enhance)==null?void 0:r.call(i,{app:e,router:t,siteData:w_}));return e.use(t),{app:e,router:t}};cBe().then(({app:e,router:t})=>{t.isReady().then(()=>{e.mount("#app")})});export{Zn as _,kt as a,ne as b,Zt as c,cBe as createVueApp,Wi as d,Bn as e,ste as f,Dt as o,or as r,rse as s,qt as w};
