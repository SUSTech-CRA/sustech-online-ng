const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.html-kmXb47D1.js","assets/CC-BY-SA_icon-BrYTWxWC.js","assets/index-wx.html-BEtf2mI-.js","assets/2025-2026.html-jUjeja-O.js","assets/2026-2-D_RC6Dok.js","assets/index.html-OHY8-LTy.js","assets/index.html-CHT5xhyV.js","assets/3-By_0Luwc.js","assets/index.html-TpfgKhjm.js"])))=>i.map(i=>d[i]);
/**
* @vue/shared v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function AD(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const zn={},cg=[],hu=()=>{},l9=()=>!1,nb=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),DD=e=>e.startsWith("onUpdate:"),co=Object.assign,LD=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},OJ=Object.prototype.hasOwnProperty,Tn=(e,t)=>OJ.call(e,t),Mr=Array.isArray,hg=e=>w2(e)==="[object Map]",u9=e=>w2(e)==="[object Set]",Or=e=>typeof e=="function",bi=e=>typeof e=="string",Mc=e=>typeof e=="symbol",Wn=e=>e!==null&&typeof e=="object",c9=e=>(Wn(e)||Or(e))&&Or(e.then)&&Or(e.catch),h9=Object.prototype.toString,w2=e=>h9.call(e),kJ=e=>w2(e).slice(8,-1),d9=e=>w2(e)==="[object Object]",S2=e=>bi(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,dg=AD(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),T2=e=>{const t=Object.create(null);return(r=>t[r]||(t[r]=e(r)))},$J=/-\w/g,Oa=T2(e=>e.replace($J,t=>t.slice(1).toUpperCase())),zJ=/\B([A-Z])/g,Kh=T2(e=>e.replace(zJ,"-$1").toLowerCase()),ib=T2(e=>e.charAt(0).toUpperCase()+e.slice(1)),wP=T2(e=>e?`on${ib(e)}`:""),kh=(e,t)=>!Object.is(e,t),SP=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},f9=(e,t,r,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:r})},BJ=e=>{const t=parseFloat(e);return isNaN(t)?e:t},FJ=e=>{const t=bi(e)?Number(e):NaN;return isNaN(t)?e:t};let u3;const C2=()=>u3||(u3=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ap(e){if(Mr(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],i=bi(n)?HJ(n):ap(n);if(i)for(const o in i)t[o]=i[o]}return t}else if(bi(e)||Wn(e))return e}const NJ=/;(?![^(]*\))/g,VJ=/:([^]+)/,jJ=/\/\*[^]*?\*\//g;function HJ(e){const t={};return e.replace(jJ,"").split(NJ).forEach(r=>{if(r){const n=r.split(VJ);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Lo(e){let t="";if(bi(e))t=e;else if(Mr(e))for(let r=0;r<e.length;r++){const n=Lo(e[r]);n&&(t+=n+" ")}else if(Wn(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function TP(e){if(!e)return null;let{class:t,style:r}=e;return t&&!bi(t)&&(e.class=Lo(t)),r&&(e.style=ap(r)),e}const GJ="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",UJ=AD(GJ);function p9(e){return!!e||e===""}const m9=e=>!!(e&&e.__v_isRef===!0),Cr=e=>bi(e)?e:e==null?"":Mr(e)||Wn(e)&&(e.toString===h9||!Or(e.toString))?m9(e)?Cr(e.value):JSON.stringify(e,g9,2):String(e),g9=(e,t)=>m9(t)?g9(e,t.value):hg(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,i],o)=>(r[CP(n,o)+" =>"]=i,r),{})}:u9(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>CP(r))}:Mc(t)?CP(t):Wn(t)&&!Mr(t)&&!d9(t)?String(t):t,CP=(e,t="")=>{var r;return Mc(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let qo;class WJ{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=qo,!t&&qo&&(this.index=(qo.scopes||(qo.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=qo;try{return qo=this,t()}finally{qo=r}}}on(){++this._on===1&&(this.prevScope=qo,qo=this)}off(){this._on>0&&--this._on===0&&(qo=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function P2(){return qo}function qJ(e,t=!1){qo&&qo.cleanups.push(e)}let ei;const PP=new WeakSet;class v9{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,qo&&qo.active&&qo.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,PP.has(this)&&(PP.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||_9(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,c3(this),b9(this);const t=ei,r=vl;ei=this,vl=!0;try{return this.fn()}finally{x9(this),ei=t,vl=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)kD(t);this.deps=this.depsTail=void 0,c3(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?PP.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){sE(this)&&this.run()}get dirty(){return sE(this)}}let y9=0,k_,$_;function _9(e,t=!1){if(e.flags|=8,t){e.next=$_,$_=e;return}e.next=k_,k_=e}function RD(){y9++}function OD(){if(--y9>0)return;if($_){let t=$_;for($_=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;k_;){let t=k_;for(k_=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=r}}if(e)throw e}function b9(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function x9(e){let t,r=e.depsTail,n=r;for(;n;){const i=n.prevDep;n.version===-1?(n===r&&(r=i),kD(n),ZJ(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}e.deps=t,e.depsTail=r}function sE(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(w9(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function w9(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===f0)||(e.globalVersion=f0,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!sE(e))))return;e.flags|=2;const t=e.dep,r=ei,n=vl;ei=e,vl=!0;try{b9(e);const i=e.fn(e._value);(t.version===0||kh(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{ei=r,vl=n,x9(e),e.flags&=-3}}function kD(e,t=!1){const{dep:r,prevSub:n,nextSub:i}=e;if(n&&(n.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=n,e.nextSub=void 0),r.subs===e&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let o=r.computed.deps;o;o=o.nextDep)kD(o,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function ZJ(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let vl=!0;const S9=[];function yc(){S9.push(vl),vl=!1}function _c(){const e=S9.pop();vl=e===void 0?!0:e}function c3(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=ei;ei=void 0;try{t()}finally{ei=r}}}let f0=0;class XJ{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class M2{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!ei||!vl||ei===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==ei)r=this.activeLink=new XJ(ei,this),ei.deps?(r.prevDep=ei.depsTail,ei.depsTail.nextDep=r,ei.depsTail=r):ei.deps=ei.depsTail=r,T9(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=ei.depsTail,r.nextDep=void 0,ei.depsTail.nextDep=r,ei.depsTail=r,ei.deps===r&&(ei.deps=n)}return r}trigger(t){this.version++,f0++,this.notify(t)}notify(t){RD();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{OD()}}}function T9(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)T9(n)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const fS=new WeakMap,kf=Symbol(""),lE=Symbol(""),p0=Symbol("");function Yo(e,t,r){if(vl&&ei){let n=fS.get(e);n||fS.set(e,n=new Map);let i=n.get(r);i||(n.set(r,i=new M2),i.map=n,i.key=r),i.track()}}function ac(e,t,r,n,i,o){const s=fS.get(e);if(!s){f0++;return}const a=h=>{h&&h.trigger()};if(RD(),t==="clear")s.forEach(a);else{const h=Mr(e),p=h&&S2(r);if(h&&r==="length"){const m=Number(n);s.forEach((v,b)=>{(b==="length"||b===p0||!Mc(b)&&b>=m)&&a(v)})}else switch((r!==void 0||s.has(void 0))&&a(s.get(r)),p&&a(s.get(p0)),t){case"add":h?p&&a(s.get("length")):(a(s.get(kf)),hg(e)&&a(s.get(lE)));break;case"delete":h||(a(s.get(kf)),hg(e)&&a(s.get(lE)));break;case"set":hg(e)&&a(s.get(kf));break}}OD()}function KJ(e,t){const r=fS.get(e);return r&&r.get(t)}function _m(e){const t=Ur(e);return t===e?t:(Yo(t,"iterate",p0),os(e)?t:t.map(bl))}function I2(e){return Yo(e=Ur(e),"iterate",p0),e}function wh(e,t){return bc(e)?$h(e)?Lg(bl(t)):Lg(t):bl(t)}const YJ={__proto__:null,[Symbol.iterator](){return MP(this,Symbol.iterator,e=>wh(this,e))},concat(...e){return _m(this).concat(...e.map(t=>Mr(t)?_m(t):t))},entries(){return MP(this,"entries",e=>(e[1]=wh(this,e[1]),e))},every(e,t){return Uu(this,"every",e,t,void 0,arguments)},filter(e,t){return Uu(this,"filter",e,t,r=>r.map(n=>wh(this,n)),arguments)},find(e,t){return Uu(this,"find",e,t,r=>wh(this,r),arguments)},findIndex(e,t){return Uu(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Uu(this,"findLast",e,t,r=>wh(this,r),arguments)},findLastIndex(e,t){return Uu(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Uu(this,"forEach",e,t,void 0,arguments)},includes(...e){return IP(this,"includes",e)},indexOf(...e){return IP(this,"indexOf",e)},join(e){return _m(this).join(e)},lastIndexOf(...e){return IP(this,"lastIndexOf",e)},map(e,t){return Uu(this,"map",e,t,void 0,arguments)},pop(){return By(this,"pop")},push(...e){return By(this,"push",e)},reduce(e,...t){return h3(this,"reduce",e,t)},reduceRight(e,...t){return h3(this,"reduceRight",e,t)},shift(){return By(this,"shift")},some(e,t){return Uu(this,"some",e,t,void 0,arguments)},splice(...e){return By(this,"splice",e)},toReversed(){return _m(this).toReversed()},toSorted(e){return _m(this).toSorted(e)},toSpliced(...e){return _m(this).toSpliced(...e)},unshift(...e){return By(this,"unshift",e)},values(){return MP(this,"values",e=>wh(this,e))}};function MP(e,t,r){const n=I2(e),i=n[t]();return n!==e&&!os(e)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.done||(o.value=r(o.value)),o}),i}const JJ=Array.prototype;function Uu(e,t,r,n,i,o){const s=I2(e),a=s!==e&&!os(e),h=s[t];if(h!==JJ[t]){const v=h.apply(e,o);return a?bl(v):v}let p=r;s!==e&&(a?p=function(v,b){return r.call(this,wh(e,v),b,e)}:r.length>2&&(p=function(v,b){return r.call(this,v,b,e)}));const m=h.call(s,p,n);return a&&i?i(m):m}function h3(e,t,r,n){const i=I2(e);let o=r;return i!==e&&(os(e)?r.length>3&&(o=function(s,a,h){return r.call(this,s,a,h,e)}):o=function(s,a,h){return r.call(this,s,wh(e,a),h,e)}),i[t](o,...n)}function IP(e,t,r){const n=Ur(e);Yo(n,"iterate",p0);const i=n[t](...r);return(i===-1||i===!1)&&D2(r[0])?(r[0]=Ur(r[0]),n[t](...r)):i}function By(e,t,r=[]){yc(),RD();const n=Ur(e)[t].apply(e,r);return OD(),_c(),n}const QJ=AD("__proto__,__v_isRef,__isVue"),C9=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Mc));function eQ(e){Mc(e)||(e=String(e));const t=Ur(this);return Yo(t,"has",e),t.hasOwnProperty(e)}class P9{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,n){if(r==="__v_skip")return t.__v_skip;const i=this._isReadonly,o=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return o;if(r==="__v_raw")return n===(i?o?L9:D9:o?A9:E9).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const s=Mr(t);if(!i){let h;if(s&&(h=YJ[r]))return h;if(r==="hasOwnProperty")return eQ}const a=Reflect.get(t,r,Ri(t)?t:n);if((Mc(r)?C9.has(r):QJ(r))||(i||Yo(t,"get",r),o))return a;if(Ri(a)){const h=s&&S2(r)?a:a.value;return i&&Wn(h)?Hh(h):h}return Wn(a)?i?Hh(a):ki(a):a}}class M9 extends P9{constructor(t=!1){super(!1,t)}set(t,r,n,i){let o=t[r];const s=Mr(t)&&S2(r);if(!this._isShallow){const p=bc(o);if(!os(n)&&!bc(n)&&(o=Ur(o),n=Ur(n)),!s&&Ri(o)&&!Ri(n))return p||(o.value=n),!0}const a=s?Number(r)<t.length:Tn(t,r),h=Reflect.set(t,r,n,Ri(t)?t:i);return t===Ur(i)&&(a?kh(n,o)&&ac(t,"set",r,n):ac(t,"add",r,n)),h}deleteProperty(t,r){const n=Tn(t,r);t[r];const i=Reflect.deleteProperty(t,r);return i&&n&&ac(t,"delete",r,void 0),i}has(t,r){const n=Reflect.has(t,r);return(!Mc(r)||!C9.has(r))&&Yo(t,"has",r),n}ownKeys(t){return Yo(t,"iterate",Mr(t)?"length":kf),Reflect.ownKeys(t)}}class I9 extends P9{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const tQ=new M9,rQ=new I9,nQ=new M9(!0),iQ=new I9(!0),uE=e=>e,cx=e=>Reflect.getPrototypeOf(e);function oQ(e,t,r){return function(...n){const i=this.__v_raw,o=Ur(i),s=hg(o),a=e==="entries"||e===Symbol.iterator&&s,h=e==="keys"&&s,p=i[e](...n),m=r?uE:t?Lg:bl;return!t&&Yo(o,"iterate",h?lE:kf),{next(){const{value:v,done:b}=p.next();return b?{value:v,done:b}:{value:a?[m(v[0]),m(v[1])]:m(v),done:b}},[Symbol.iterator](){return this}}}}function hx(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function aQ(e,t){const r={get(i){const o=this.__v_raw,s=Ur(o),a=Ur(i);e||(kh(i,a)&&Yo(s,"get",i),Yo(s,"get",a));const{has:h}=cx(s),p=t?uE:e?Lg:bl;if(h.call(s,i))return p(o.get(i));if(h.call(s,a))return p(o.get(a));o!==s&&o.get(i)},get size(){const i=this.__v_raw;return!e&&Yo(Ur(i),"iterate",kf),i.size},has(i){const o=this.__v_raw,s=Ur(o),a=Ur(i);return e||(kh(i,a)&&Yo(s,"has",i),Yo(s,"has",a)),i===a?o.has(i):o.has(i)||o.has(a)},forEach(i,o){const s=this,a=s.__v_raw,h=Ur(a),p=t?uE:e?Lg:bl;return!e&&Yo(h,"iterate",kf),a.forEach((m,v)=>i.call(o,p(m),p(v),s))}};return co(r,e?{add:hx("add"),set:hx("set"),delete:hx("delete"),clear:hx("clear")}:{add(i){!t&&!os(i)&&!bc(i)&&(i=Ur(i));const o=Ur(this);return cx(o).has.call(o,i)||(o.add(i),ac(o,"add",i,i)),this},set(i,o){!t&&!os(o)&&!bc(o)&&(o=Ur(o));const s=Ur(this),{has:a,get:h}=cx(s);let p=a.call(s,i);p||(i=Ur(i),p=a.call(s,i));const m=h.call(s,i);return s.set(i,o),p?kh(o,m)&&ac(s,"set",i,o):ac(s,"add",i,o),this},delete(i){const o=Ur(this),{has:s,get:a}=cx(o);let h=s.call(o,i);h||(i=Ur(i),h=s.call(o,i)),a&&a.call(o,i);const p=o.delete(i);return h&&ac(o,"delete",i,void 0),p},clear(){const i=Ur(this),o=i.size!==0,s=i.clear();return o&&ac(i,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(i=>{r[i]=oQ(i,e,t)}),r}function E2(e,t){const r=aQ(e,t);return(n,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(Tn(r,i)&&i in n?r:n,i,o)}const sQ={get:E2(!1,!1)},lQ={get:E2(!1,!0)},uQ={get:E2(!0,!1)},cQ={get:E2(!0,!0)},E9=new WeakMap,A9=new WeakMap,D9=new WeakMap,L9=new WeakMap;function hQ(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function dQ(e){return e.__v_skip||!Object.isExtensible(e)?0:hQ(kJ(e))}function ki(e){return bc(e)?e:A2(e,!1,tQ,sQ,E9)}function R9(e){return A2(e,!1,nQ,lQ,A9)}function Hh(e){return A2(e,!0,rQ,uQ,D9)}function fQ(e){return A2(e,!0,iQ,cQ,L9)}function A2(e,t,r,n,i){if(!Wn(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=dQ(e);if(o===0)return e;const s=i.get(e);if(s)return s;const a=new Proxy(e,o===2?n:r);return i.set(e,a),a}function $h(e){return bc(e)?$h(e.__v_raw):!!(e&&e.__v_isReactive)}function bc(e){return!!(e&&e.__v_isReadonly)}function os(e){return!!(e&&e.__v_isShallow)}function D2(e){return e?!!e.__v_raw:!1}function Ur(e){const t=e&&e.__v_raw;return t?Ur(t):e}function pQ(e){return!Tn(e,"__v_skip")&&Object.isExtensible(e)&&f9(e,"__v_skip",!0),e}const bl=e=>Wn(e)?ki(e):e,Lg=e=>Wn(e)?Hh(e):e;function Ri(e){return e?e.__v_isRef===!0:!1}function Vt(e){return O9(e,!1)}function vt(e){return O9(e,!0)}function O9(e,t){return Ri(e)?e:new mQ(e,t)}class mQ{constructor(t,r){this.dep=new M2,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:Ur(t),this._value=r?t:bl(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,n=this.__v_isShallow||os(t)||bc(t);t=n?t:Ur(t),kh(t,r)&&(this._rawValue=t,this._value=n?t:bl(t),this.dep.trigger())}}function gQ(e){e.dep&&e.dep.trigger()}function rr(e){return Ri(e)?e.value:e}function Ln(e){return Or(e)?e():rr(e)}const vQ={get:(e,t,r)=>t==="__v_raw"?e:rr(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const i=e[t];return Ri(i)&&!Ri(r)?(i.value=r,!0):Reflect.set(e,t,r,n)}};function k9(e){return $h(e)?e:new Proxy(e,vQ)}class yQ{constructor(t){this.__v_isRef=!0,this._value=void 0;const r=this.dep=new M2,{get:n,set:i}=t(r.track.bind(r),r.trigger.bind(r));this._get=n,this._set=i}get value(){return this._value=this._get()}set value(t){this._set(t)}}function $9(e){return new yQ(e)}function $D(e){const t=Mr(e)?new Array(e.length):{};for(const r in e)t[r]=z9(e,r);return t}class _Q{constructor(t,r,n){this._object=t,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0,this._raw=Ur(t);let i=!0,o=t;if(!Mr(t)||!S2(String(r)))do i=!D2(o)||os(o);while(i&&(o=o.__v_raw));this._shallow=i}get value(){let t=this._object[this._key];return this._shallow&&(t=rr(t)),this._value=t===void 0?this._defaultValue:t}set value(t){if(this._shallow&&Ri(this._raw[this._key])){const r=this._object[this._key];if(Ri(r)){r.value=t;return}}this._object[this._key]=t}get dep(){return KJ(this._raw,this._key)}}class bQ{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function es(e,t,r){return Ri(e)?e:Or(e)?new bQ(e):Wn(e)&&arguments.length>1?z9(e,t,r):Vt(e)}function z9(e,t,r){return new _Q(e,t,r)}class xQ{constructor(t,r,n){this.fn=t,this.setter=r,this._value=void 0,this.dep=new M2(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=f0-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&ei!==this)return _9(this,!0),!0}get value(){const t=this.dep.track();return w9(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function wQ(e,t,r=!1){let n,i;return Or(e)?n=e:(n=e.get,i=e.set),new xQ(n,i,r)}const dx={},pS=new WeakMap;let bf;function SQ(e,t=!1,r=bf){if(r){let n=pS.get(r);n||pS.set(r,n=[]),n.push(e)}}function TQ(e,t,r=zn){const{immediate:n,deep:i,once:o,scheduler:s,augmentJob:a,call:h}=r,p=N=>i?N:os(N)||i===!1||i===0?sc(N,1):sc(N);let m,v,b,x,C=!1,I=!1;if(Ri(e)?(v=()=>e.value,C=os(e)):$h(e)?(v=()=>p(e),C=!0):Mr(e)?(I=!0,C=e.some(N=>$h(N)||os(N)),v=()=>e.map(N=>{if(Ri(N))return N.value;if($h(N))return p(N);if(Or(N))return h?h(N,2):N()})):Or(e)?t?v=h?()=>h(e,2):e:v=()=>{if(b){yc();try{b()}finally{_c()}}const N=bf;bf=m;try{return h?h(e,3,[x]):e(x)}finally{bf=N}}:v=hu,t&&i){const N=v,H=i===!0?1/0:i;v=()=>sc(N(),H)}const A=P2(),R=()=>{m.stop(),A&&A.active&&LD(A.effects,m)};if(o&&t){const N=t;t=(...H)=>{N(...H),R()}}let k=I?new Array(e.length).fill(dx):dx;const $=N=>{if(!(!(m.flags&1)||!m.dirty&&!N))if(t){const H=m.run();if(i||C||(I?H.some((W,j)=>kh(W,k[j])):kh(H,k))){b&&b();const W=bf;bf=m;try{const j=[H,k===dx?void 0:I&&k[0]===dx?[]:k,x];k=H,h?h(t,3,j):t(...j)}finally{bf=W}}}else m.run()};return a&&a($),m=new v9(v),m.scheduler=s?()=>s($,!1):$,x=N=>SQ(N,!1,m),b=m.onStop=()=>{const N=pS.get(m);if(N){if(h)h(N,4);else for(const H of N)H();pS.delete(m)}},t?n?$(!0):k=m.run():s?s($.bind(null,!0),!0):m.run(),R.pause=m.pause.bind(m),R.resume=m.resume.bind(m),R.stop=R,R}function sc(e,t=1/0,r){if(t<=0||!Wn(e)||e.__v_skip||(r=r||new Map,(r.get(e)||0)>=t))return e;if(r.set(e,t),t--,Ri(e))sc(e.value,t,r);else if(Mr(e))for(let n=0;n<e.length;n++)sc(e[n],t,r);else if(u9(e)||hg(e))e.forEach(n=>{sc(n,t,r)});else if(d9(e)){for(const n in e)sc(e[n],t,r);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&sc(e[n],t,r)}return e}/**
* @vue/runtime-core v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ob(e,t,r,n){try{return n?e(...n):e()}catch(i){ab(i,t,r)}}function xl(e,t,r,n){if(Or(e)){const i=ob(e,t,r,n);return i&&c9(i)&&i.catch(o=>{ab(o,t,r)}),i}if(Mr(e)){const i=[];for(let o=0;o<e.length;o++)i.push(xl(e[o],t,r,n));return i}}function ab(e,t,r,n=!0){const i=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:s}=t&&t.appContext.config||zn;if(t){let a=t.parent;const h=t.proxy,p=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const m=a.ec;if(m){for(let v=0;v<m.length;v++)if(m[v](e,h,p)===!1)return}a=a.parent}if(o){yc(),ob(o,null,10,[e,h,p]),_c();return}}CQ(e,r,i,n,s)}function CQ(e,t,r,n=!0,i=!1){if(i)throw e;console.error(e)}const ha=[];let eu=-1;const fg=[];let Sh=null,Hm=0;const B9=Promise.resolve();let mS=null;function _i(e){const t=mS||B9;return e?t.then(this?e.bind(this):e):t}function PQ(e){let t=eu+1,r=ha.length;for(;t<r;){const n=t+r>>>1,i=ha[n],o=m0(i);o<e||o===e&&i.flags&2?t=n+1:r=n}return t}function zD(e){if(!(e.flags&1)){const t=m0(e),r=ha[ha.length-1];!r||!(e.flags&2)&&t>=m0(r)?ha.push(e):ha.splice(PQ(t),0,e),e.flags|=1,F9()}}function F9(){mS||(mS=B9.then(N9))}function MQ(e){Mr(e)?fg.push(...e):Sh&&e.id===-1?Sh.splice(Hm+1,0,e):e.flags&1||(fg.push(e),e.flags|=1),F9()}function d3(e,t,r=eu+1){for(;r<ha.length;r++){const n=ha[r];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;ha.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function gS(e){if(fg.length){const t=[...new Set(fg)].sort((r,n)=>m0(r)-m0(n));if(fg.length=0,Sh){Sh.push(...t);return}for(Sh=t,Hm=0;Hm<Sh.length;Hm++){const r=Sh[Hm];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Sh=null,Hm=0}}const m0=e=>e.id==null?e.flags&2?-1:1/0:e.id;function N9(e){try{for(eu=0;eu<ha.length;eu++){const t=ha[eu];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ob(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;eu<ha.length;eu++){const t=ha[eu];t&&(t.flags&=-2)}eu=-1,ha.length=0,gS(),mS=null,(ha.length||fg.length)&&N9()}}let Ro=null,V9=null;function vS(e){const t=Ro;return Ro=e,V9=e&&e.type.__scopeId||null,t}function Lr(e,t=Ro,r){if(!t||e._n)return e;const n=(...i)=>{n._d&&bS(-1);const o=vS(t);let s;try{s=e(...i)}finally{vS(o),n._d&&bS(1)}return s};return n._n=!0,n._c=!0,n._d=!0,n}function Gh(e,t){if(Ro===null)return e;const r=O2(Ro),n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,s,a,h=zn]=t[i];o&&(Or(o)&&(o={mounted:o,updated:o}),o.deep&&sc(s),n.push({dir:o,instance:r,value:s,oldValue:void 0,arg:a,modifiers:h}))}return e}function tu(e,t,r,n){const i=e.dirs,o=t&&t.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let h=a.dir[n];h&&(yc(),xl(h,r,8,[e.el,a,e,t]),_c())}}const j9=Symbol("_vte"),H9=e=>e.__isTeleport,z_=e=>e&&(e.disabled||e.disabled===""),f3=e=>e&&(e.defer||e.defer===""),p3=e=>typeof SVGElement<"u"&&e instanceof SVGElement,m3=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,cE=(e,t)=>{const r=e&&e.to;return bi(r)?t?t(r):null:r},G9={name:"Teleport",__isTeleport:!0,process(e,t,r,n,i,o,s,a,h,p){const{mc:m,pc:v,pbc:b,o:{insert:x,querySelector:C,createText:I,createComment:A}}=p,R=z_(t.props);let{shapeFlag:k,children:$,dynamicChildren:N}=t;if(e==null){const H=t.el=I(""),W=t.anchor=I("");x(H,r,n),x(W,r,n);const j=(K,Q)=>{k&16&&m($,K,Q,i,o,s,a,h)},X=()=>{const K=t.target=cE(t.props,C),Q=U9(K,t,I,x);K&&(s!=="svg"&&p3(K)?s="svg":s!=="mathml"&&m3(K)&&(s="mathml"),i&&i.isCE&&(i.ce._teleportTargets||(i.ce._teleportTargets=new Set)).add(K),R||(j(K,Q),Dw(t,!1)))};R&&(j(r,W),Dw(t,!0)),f3(t.props)?(t.el.__isMounted=!1,la(()=>{X(),delete t.el.__isMounted},o)):X()}else{if(f3(t.props)&&e.el.__isMounted===!1){la(()=>{G9.process(e,t,r,n,i,o,s,a,h,p)},o);return}t.el=e.el,t.targetStart=e.targetStart;const H=t.anchor=e.anchor,W=t.target=e.target,j=t.targetAnchor=e.targetAnchor,X=z_(e.props),K=X?r:W,Q=X?H:j;if(s==="svg"||p3(W)?s="svg":(s==="mathml"||m3(W))&&(s="mathml"),N?(b(e.dynamicChildren,N,K,i,o,s,a),UD(e,t,!0)):h||v(e,t,K,Q,i,o,s,a,!1),R)X?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):fx(t,r,H,p,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const oe=t.target=cE(t.props,C);oe&&fx(t,oe,null,p,0)}else X&&fx(t,W,j,p,1);Dw(t,R)}},remove(e,t,r,{um:n,o:{remove:i}},o){const{shapeFlag:s,children:a,anchor:h,targetStart:p,targetAnchor:m,target:v,props:b}=e;if(v&&(i(p),i(m)),o&&i(h),s&16){const x=o||!z_(b);for(let C=0;C<a.length;C++){const I=a[C];n(I,t,r,x,!!I.dynamicChildren)}}},move:fx,hydrate:IQ};function fx(e,t,r,{o:{insert:n},m:i},o=2){o===0&&n(e.targetAnchor,t,r);const{el:s,anchor:a,shapeFlag:h,children:p,props:m}=e,v=o===2;if(v&&n(s,t,r),(!v||z_(m))&&h&16)for(let b=0;b<p.length;b++)i(p[b],t,r,2);v&&n(a,t,r)}function IQ(e,t,r,n,i,o,{o:{nextSibling:s,parentNode:a,querySelector:h,insert:p,createText:m}},v){function b(I,A,R,k){A.anchor=v(s(I),A,a(I),r,n,i,o),A.targetStart=R,A.targetAnchor=k}const x=t.target=cE(t.props,h),C=z_(t.props);if(x){const I=x._lpa||x.firstChild;if(t.shapeFlag&16)if(C)b(e,t,I,I&&s(I));else{t.anchor=s(e);let A=I;for(;A;){if(A&&A.nodeType===8){if(A.data==="teleport start anchor")t.targetStart=A;else if(A.data==="teleport anchor"){t.targetAnchor=A,x._lpa=t.targetAnchor&&s(t.targetAnchor);break}}A=s(A)}t.targetAnchor||U9(x,t,m,p),v(I&&s(I),t,x,r,n,i,o)}Dw(t,C)}else C&&t.shapeFlag&16&&b(e,t,e,s(e));return t.anchor&&s(t.anchor)}const BD=G9;function Dw(e,t){const r=e.ctx;if(r&&r.ut){let n,i;for(t?(n=e.el,i=e.anchor):(n=e.targetStart,i=e.targetAnchor);n&&n!==i;)n.nodeType===1&&n.setAttribute("data-v-owner",r.uid),n=n.nextSibling;r.ut()}}function U9(e,t,r,n){const i=t.targetStart=r(""),o=t.targetAnchor=r("");return i[j9]=o,e&&(n(i,e),n(o,e)),o}const ic=Symbol("_leaveCb"),px=Symbol("_enterCb");function W9(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Nr(()=>{e.isMounted=!0}),hi(()=>{e.isUnmounting=!0}),e}const Ss=[Function,Array],q9={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ss,onEnter:Ss,onAfterEnter:Ss,onEnterCancelled:Ss,onBeforeLeave:Ss,onLeave:Ss,onAfterLeave:Ss,onLeaveCancelled:Ss,onBeforeAppear:Ss,onAppear:Ss,onAfterAppear:Ss,onAppearCancelled:Ss},Z9=e=>{const t=e.subTree;return t.component?Z9(t.component):t},EQ={name:"BaseTransition",props:q9,setup(e,{slots:t}){const r=Yi(),n=W9();return()=>{const i=t.default&&FD(t.default(),!0);if(!i||!i.length)return;const o=X9(i),s=Ur(e),{mode:a}=s;if(n.isLeaving)return EP(o);const h=g3(o);if(!h)return EP(o);let p=g0(h,s,n,r,v=>p=v);h.type!==lo&&qf(h,p);let m=r.subTree&&g3(r.subTree);if(m&&m.type!==lo&&!Sf(m,h)&&Z9(r).type!==lo){let v=g0(m,s,n,r);if(qf(m,v),a==="out-in"&&h.type!==lo)return n.isLeaving=!0,v.afterLeave=()=>{n.isLeaving=!1,r.job.flags&8||r.update(),delete v.afterLeave,m=void 0},EP(o);a==="in-out"&&h.type!==lo?v.delayLeave=(b,x,C)=>{const I=K9(n,m);I[String(m.key)]=m,b[ic]=()=>{x(),b[ic]=void 0,delete p.delayedLeave,m=void 0},p.delayedLeave=()=>{C(),delete p.delayedLeave,m=void 0}}:m=void 0}else m&&(m=void 0);return o}}};function X9(e){let t=e[0];if(e.length>1){for(const r of e)if(r.type!==lo){t=r;break}}return t}const AQ=EQ;function K9(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function g0(e,t,r,n,i){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:h,onEnter:p,onAfterEnter:m,onEnterCancelled:v,onBeforeLeave:b,onLeave:x,onAfterLeave:C,onLeaveCancelled:I,onBeforeAppear:A,onAppear:R,onAfterAppear:k,onAppearCancelled:$}=t,N=String(e.key),H=K9(r,e),W=(K,Q)=>{K&&xl(K,n,9,Q)},j=(K,Q)=>{const oe=Q[1];W(K,Q),Mr(K)?K.every(he=>he.length<=1)&&oe():K.length<=1&&oe()},X={mode:s,persisted:a,beforeEnter(K){let Q=h;if(!r.isMounted)if(o)Q=A||h;else return;K[ic]&&K[ic](!0);const oe=H[N];oe&&Sf(e,oe)&&oe.el[ic]&&oe.el[ic](),W(Q,[K])},enter(K){let Q=p,oe=m,he=v;if(!r.isMounted)if(o)Q=R||p,oe=k||m,he=$||v;else return;let ye=!1;const be=K[px]=ce=>{ye||(ye=!0,ce?W(he,[K]):W(oe,[K]),X.delayedLeave&&X.delayedLeave(),K[px]=void 0)};Q?j(Q,[K,be]):be()},leave(K,Q){const oe=String(e.key);if(K[px]&&K[px](!0),r.isUnmounting)return Q();W(b,[K]);let he=!1;const ye=K[ic]=be=>{he||(he=!0,Q(),be?W(I,[K]):W(C,[K]),K[ic]=void 0,H[oe]===e&&delete H[oe])};H[oe]=e,x?j(x,[K,ye]):ye()},clone(K){const Q=g0(K,t,r,n,i);return i&&i(Q),Q}};return X}function EP(e){if(sb(e))return e=ls(e),e.children=null,e}function g3(e){if(!sb(e))return H9(e.type)&&e.children?X9(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:r}=e;if(r){if(t&16)return r[0];if(t&32&&Or(r.default))return r.default()}}function qf(e,t){e.shapeFlag&6&&e.component?(e.transition=t,qf(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function FD(e,t=!1,r){let n=[],i=0;for(let o=0;o<e.length;o++){let s=e[o];const a=r==null?s.key:String(r)+String(s.key!=null?s.key:o);s.type===pr?(s.patchFlag&128&&i++,n=n.concat(FD(s.children,t,a))):(t||s.type!==lo)&&n.push(a!=null?ls(s,{key:a}):s)}if(i>1)for(let o=0;o<n.length;o++)n[o].patchFlag=-2;return n}function St(e,t){return Or(e)?co({name:e.name},t,{setup:e}):e}function Y9(){const e=Yi();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function ND(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function v3(e){const t=Yi(),r=vt(null);if(t){const i=t.refs===zn?t.refs={}:t.refs;Object.defineProperty(i,e,{enumerable:!0,get:()=>r.value,set:o=>r.value=o})}return r}const yS=new WeakMap;function pg(e,t,r,n,i=!1){if(Mr(e)){e.forEach((C,I)=>pg(C,t&&(Mr(t)?t[I]:t),r,n,i));return}if($f(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&pg(e,t,r,n.component.subTree);return}const o=n.shapeFlag&4?O2(n.component):n.el,s=i?null:o,{i:a,r:h}=e,p=t&&t.r,m=a.refs===zn?a.refs={}:a.refs,v=a.setupState,b=Ur(v),x=v===zn?l9:C=>Tn(b,C);if(p!=null&&p!==h){if(y3(t),bi(p))m[p]=null,x(p)&&(v[p]=null);else if(Ri(p)){p.value=null;const C=t;C.k&&(m[C.k]=null)}}if(Or(h))ob(h,a,12,[s,m]);else{const C=bi(h),I=Ri(h);if(C||I){const A=()=>{if(e.f){const R=C?x(h)?v[h]:m[h]:h.value;if(i)Mr(R)&&LD(R,o);else if(Mr(R))R.includes(o)||R.push(o);else if(C)m[h]=[o],x(h)&&(v[h]=m[h]);else{const k=[o];h.value=k,e.k&&(m[e.k]=k)}}else C?(m[h]=s,x(h)&&(v[h]=s)):I&&(h.value=s,e.k&&(m[e.k]=s))};if(s){const R=()=>{A(),yS.delete(e)};R.id=-1,yS.set(e,R),la(R,r)}else y3(e),A()}}}function y3(e){const t=yS.get(e);t&&(t.flags|=8,yS.delete(e))}let _3=!1;const bm=()=>{_3||(console.error("Hydration completed but contains mismatches."),_3=!0)},DQ=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",LQ=e=>e.namespaceURI.includes("MathML"),mx=e=>{if(e.nodeType===1){if(DQ(e))return"svg";if(LQ(e))return"mathml"}},Qm=e=>e.nodeType===8;function RQ(e){const{mt:t,p:r,o:{patchProp:n,createText:i,nextSibling:o,parentNode:s,remove:a,insert:h,createComment:p}}=e,m=($,N)=>{if(!N.hasChildNodes()){r(null,$,N),gS(),N._vnode=$;return}v(N.firstChild,$,null,null,null),gS(),N._vnode=$},v=($,N,H,W,j,X=!1)=>{X=X||!!N.dynamicChildren;const K=Qm($)&&$.data==="[",Q=()=>I($,N,H,W,j,K),{type:oe,ref:he,shapeFlag:ye,patchFlag:be}=N;let ce=$.nodeType;N.el=$,be===-2&&(X=!1,N.dynamicChildren=null);let de=null;switch(oe){case dc:ce!==3?N.children===""?(h(N.el=i(""),s($),$),de=$):de=Q():($.data!==N.children&&(bm(),$.data=N.children),de=o($));break;case lo:k($)?(de=o($),R(N.el=$.content.firstChild,$,H)):ce!==8||K?de=Q():de=o($);break;case F_:if(K&&($=o($),ce=$.nodeType),ce===1||ce===3){de=$;const Oe=!N.children.length;for(let ze=0;ze<N.staticCount;ze++)Oe&&(N.children+=de.nodeType===1?de.outerHTML:de.data),ze===N.staticCount-1&&(N.anchor=de),de=o(de);return K?o(de):de}else Q();break;case pr:K?de=C($,N,H,W,j,X):de=Q();break;default:if(ye&1)(ce!==1||N.type.toLowerCase()!==$.tagName.toLowerCase())&&!k($)?de=Q():de=b($,N,H,W,j,X);else if(ye&6){N.slotScopeIds=j;const Oe=s($);if(K?de=A($):Qm($)&&$.data==="teleport start"?de=A($,$.data,"teleport end"):de=o($),t(N,Oe,null,H,W,mx(Oe),X),$f(N)&&!N.type.__asyncResolved){let ze;K?(ze=ie(pr),ze.anchor=de?de.previousSibling:Oe.lastChild):ze=$.nodeType===3?Ai(""):ie("div"),ze.el=$,N.component.subTree=ze}}else ye&64?ce!==8?de=Q():de=N.type.hydrate($,N,H,W,j,X,e,x):ye&128&&(de=N.type.hydrate($,N,H,W,mx(s($)),j,X,e,v))}return he!=null&&pg(he,null,W,N),de},b=($,N,H,W,j,X)=>{X=X||!!N.dynamicChildren;const{type:K,props:Q,patchFlag:oe,shapeFlag:he,dirs:ye,transition:be}=N,ce=K==="input"||K==="option";if(ce||oe!==-1){ye&&tu(N,null,H,"created");let de=!1;if(k($)){de=_V(null,be)&&H&&H.vnode.props&&H.vnode.props.appear;const ze=$.content.firstChild;if(de){const De=ze.getAttribute("class");De&&(ze.$cls=De),be.beforeEnter(ze)}R(ze,$,H),N.el=$=ze}if(he&16&&!(Q&&(Q.innerHTML||Q.textContent))){let ze=x($.firstChild,N,$,H,W,j,X);for(;ze;){gx($,1)||bm();const De=ze;ze=ze.nextSibling,a(De)}}else if(he&8){let ze=N.children;ze[0]===`
`&&($.tagName==="PRE"||$.tagName==="TEXTAREA")&&(ze=ze.slice(1));const{textContent:De}=$;De!==ze&&De!==ze.replace(/\r\n|\r/g,`
`)&&(gx($,0)||bm(),$.textContent=N.children)}if(Q){if(ce||!X||oe&48){const ze=$.tagName.includes("-");for(const De in Q)(ce&&(De.endsWith("value")||De==="indeterminate")||nb(De)&&!dg(De)||De[0]==="."||ze)&&n($,De,null,Q[De],void 0,H)}else if(Q.onClick)n($,"onClick",null,Q.onClick,void 0,H);else if(oe&4&&$h(Q.style))for(const ze in Q.style)Q.style[ze]}let Oe;(Oe=Q&&Q.onVnodeBeforeMount)&&As(Oe,H,N),ye&&tu(N,null,H,"beforeMount"),((Oe=Q&&Q.onVnodeMounted)||ye||de)&&wV(()=>{Oe&&As(Oe,H,N),de&&be.enter($),ye&&tu(N,null,H,"mounted")},W)}return $.nextSibling},x=($,N,H,W,j,X,K)=>{K=K||!!N.dynamicChildren;const Q=N.children,oe=Q.length;for(let he=0;he<oe;he++){const ye=K?Q[he]:Q[he]=Os(Q[he]),be=ye.type===dc;$?(be&&!K&&he+1<oe&&Os(Q[he+1]).type===dc&&(h(i($.data.slice(ye.children.length)),H,o($)),$.data=ye.children),$=v($,ye,W,j,X,K)):be&&!ye.children?h(ye.el=i(""),H):(gx(H,1)||bm(),r(null,ye,H,null,W,j,mx(H),X))}return $},C=($,N,H,W,j,X)=>{const{slotScopeIds:K}=N;K&&(j=j?j.concat(K):K);const Q=s($),oe=x(o($),N,Q,H,W,j,X);return oe&&Qm(oe)&&oe.data==="]"?o(N.anchor=oe):(bm(),h(N.anchor=p("]"),Q,oe),oe)},I=($,N,H,W,j,X)=>{if(gx($.parentElement,1)||bm(),N.el=null,X){const oe=A($);for(;;){const he=o($);if(he&&he!==oe)a(he);else break}}const K=o($),Q=s($);return a($),r(null,N,Q,K,H,W,mx(Q),j),H&&(H.vnode.el=N.el,uV(H,N.el)),K},A=($,N="[",H="]")=>{let W=0;for(;$;)if($=o($),$&&Qm($)&&($.data===N&&W++,$.data===H)){if(W===0)return o($);W--}return $},R=($,N,H)=>{const W=N.parentNode;W&&W.replaceChild($,N);let j=H;for(;j;)j.vnode.el===N&&(j.vnode.el=j.subTree.el=$),j=j.parent},k=$=>$.nodeType===1&&$.tagName==="TEMPLATE";return[m,v]}const b3="data-allow-mismatch",OQ={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function gx(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute(b3);)e=e.parentElement;const r=e&&e.getAttribute(b3);if(r==null)return!1;if(r==="")return!0;{const n=r.split(",");return t===0&&n.includes("children")?!0:n.includes(OQ[t])}}C2().requestIdleCallback;C2().cancelIdleCallback;function kQ(e,t){if(Qm(e)&&e.data==="["){let r=1,n=e.nextSibling;for(;n;){if(n.nodeType===1){if(t(n)===!1)break}else if(Qm(n))if(n.data==="]"){if(--r===0)break}else n.data==="["&&r++;n=n.nextSibling}}else t(e)}const $f=e=>!!e.type.__asyncLoader;function $Q(e){Or(e)&&(e={loader:e});const{loader:t,loadingComponent:r,errorComponent:n,delay:i=200,hydrate:o,timeout:s,suspensible:a=!0,onError:h}=e;let p=null,m,v=0;const b=()=>(v++,p=null,x()),x=()=>{let C;return p||(C=p=t().catch(I=>{if(I=I instanceof Error?I:new Error(String(I)),h)return new Promise((A,R)=>{h(I,()=>A(b()),()=>R(I),v+1)});throw I}).then(I=>C!==p&&p?p:(I&&(I.__esModule||I[Symbol.toStringTag]==="Module")&&(I=I.default),m=I,I)))};return St({name:"AsyncComponentWrapper",__asyncLoader:x,__asyncHydrate(C,I,A){let R=!1;(I.bu||(I.bu=[])).push(()=>R=!0);const k=()=>{R||A()},$=o?()=>{const N=o(k,H=>kQ(C,H));N&&(I.bum||(I.bum=[])).push(N)}:k;m?$():x().then(()=>!I.isUnmounted&&$())},get __asyncResolved(){return m},setup(){const C=Do;if(ND(C),m)return()=>vx(m,C);const I=$=>{p=null,ab($,C,13,!n)};if(a&&C.suspense||Rg)return x().then($=>()=>vx($,C)).catch($=>(I($),()=>n?ie(n,{error:$}):null));const A=Vt(!1),R=Vt(),k=Vt(!!i);return i&&setTimeout(()=>{k.value=!1},i),s!=null&&setTimeout(()=>{if(!A.value&&!R.value){const $=new Error(`Async component timed out after ${s}ms.`);I($),R.value=$}},s),x().then(()=>{A.value=!0,C.parent&&sb(C.parent.vnode)&&C.parent.update()}).catch($=>{I($),R.value=$}),()=>{if(A.value&&m)return vx(m,C);if(R.value&&n)return ie(n,{error:R.value});if(r&&!k.value)return vx(r,C)}}})}function vx(e,t){const{ref:r,props:n,children:i,ce:o}=t.vnode,s=ie(e,n,i);return s.ref=r,s.ce=o,delete t.vnode.ce,s}const sb=e=>e.type.__isKeepAlive;function zQ(e,t){J9(e,"a",t)}function BQ(e,t){J9(e,"da",t)}function J9(e,t,r=Do){const n=e.__wdc||(e.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(L2(t,n,r),r){let i=r.parent;for(;i&&i.parent;)sb(i.parent.vnode)&&FQ(n,t,r,i),i=i.parent}}function FQ(e,t,r,n){const i=L2(t,e,n,!0);_u(()=>{LD(n[t],i)},r)}function L2(e,t,r=Do,n=!1){if(r){const i=r[e]||(r[e]=[]),o=t.__weh||(t.__weh=(...s)=>{yc();const a=lb(r),h=xl(t,r,e,s);return a(),_c(),h});return n?i.unshift(o):i.push(o),o}}const Ic=e=>(t,r=Do)=>{(!Rg||e==="sp")&&L2(e,(...n)=>t(...n),r)},VD=Ic("bm"),Nr=Ic("m"),Q9=Ic("bu"),Yh=Ic("u"),hi=Ic("bum"),_u=Ic("um"),NQ=Ic("sp"),VQ=Ic("rtg"),jQ=Ic("rtc");function HQ(e,t=Do){L2("ec",e,t)}const eV="components",GQ="directives";function Cn(e,t){return tV(eV,e,!0,t)||e}const UQ=Symbol.for("v-ndc");function WQ(e){return tV(GQ,e)}function tV(e,t,r=!0,n=!1){const i=Ro||Do;if(i){const o=i.type;if(e===eV){const a=Dee(o,!1);if(a&&(a===t||a===Oa(t)||a===ib(Oa(t))))return o}const s=x3(i[e]||o[e],t)||x3(i.appContext[e],t);return!s&&n?o:s}}function x3(e,t){return e&&(e[t]||e[Oa(t)]||e[ib(Oa(t))])}function Oo(e,t,r,n){let i;const o=r,s=Mr(e);if(s||bi(e)){const a=s&&$h(e);let h=!1,p=!1;a&&(h=!os(e),p=bc(e),e=I2(e)),i=new Array(e.length);for(let m=0,v=e.length;m<v;m++)i[m]=t(h?p?Lg(bl(e[m])):bl(e[m]):e[m],m,void 0,o)}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,o)}else if(Wn(e))if(e[Symbol.iterator])i=Array.from(e,(a,h)=>t(a,h,void 0,o));else{const a=Object.keys(e);i=new Array(a.length);for(let h=0,p=a.length;h<p;h++){const m=a[h];i[h]=t(e[m],m,h,o)}}else i=[];return i}function qQ(e,t){for(let r=0;r<t.length;r++){const n=t[r];if(Mr(n))for(let i=0;i<n.length;i++)e[n[i].name]=n[i].fn;else n&&(e[n.name]=n.key?(...i)=>{const o=n.fn(...i);return o&&(o.key=n.key),o}:n.fn)}return e}function Hn(e,t,r={},n,i){if(Ro.ce||Ro.parent&&$f(Ro.parent)&&Ro.parent.ce){const p=Object.keys(r).length>0;return t!=="default"&&(r.name=t),Pt(),Bn(pr,null,[ie("slot",r,n&&n())],p?-2:64)}let o=e[t];o&&o._c&&(o._d=!1),Pt();const s=o&&rV(o(r)),a=r.key||s&&s.key,h=Bn(pr,{key:(a&&!Mc(a)?a:`_${t}`)+(!s&&n?"_fb":"")},s||(n?n():[]),s&&e._===1?64:-2);return h.scopeId&&(h.slotScopeIds=[h.scopeId+"-s"]),o&&o._c&&(o._d=!0),h}function rV(e){return e.some(t=>ea(t)?!(t.type===lo||t.type===pr&&!rV(t.children)):!0)?e:null}const hE=e=>e?CV(e)?O2(e):hE(e.parent):null,B_=co(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>hE(e.parent),$root:e=>hE(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>iV(e),$forceUpdate:e=>e.f||(e.f=()=>{zD(e.update)}),$nextTick:e=>e.n||(e.n=_i.bind(e.proxy)),$watch:e=>iee.bind(e)}),AP=(e,t)=>e!==zn&&!e.__isScriptSetup&&Tn(e,t),ZQ={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:o,accessCache:s,type:a,appContext:h}=e;if(t[0]!=="$"){const b=s[t];if(b!==void 0)switch(b){case 1:return n[t];case 2:return i[t];case 4:return r[t];case 3:return o[t]}else{if(AP(n,t))return s[t]=1,n[t];if(i!==zn&&Tn(i,t))return s[t]=2,i[t];if(Tn(o,t))return s[t]=3,o[t];if(r!==zn&&Tn(r,t))return s[t]=4,r[t];dE&&(s[t]=0)}}const p=B_[t];let m,v;if(p)return t==="$attrs"&&Yo(e.attrs,"get",""),p(e);if((m=a.__cssModules)&&(m=m[t]))return m;if(r!==zn&&Tn(r,t))return s[t]=4,r[t];if(v=h.config.globalProperties,Tn(v,t))return v[t]},set({_:e},t,r){const{data:n,setupState:i,ctx:o}=e;return AP(i,t)?(i[t]=r,!0):n!==zn&&Tn(n,t)?(n[t]=r,!0):Tn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:i,props:o,type:s}},a){let h;return!!(r[a]||e!==zn&&a[0]!=="$"&&Tn(e,a)||AP(t,a)||Tn(o,a)||Tn(n,a)||Tn(B_,a)||Tn(i.config.globalProperties,a)||(h=s.__cssModules)&&h[a])},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Tn(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function w3(e){return Mr(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let dE=!0;function XQ(e){const t=iV(e),r=e.proxy,n=e.ctx;dE=!1,t.beforeCreate&&S3(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:s,watch:a,provide:h,inject:p,created:m,beforeMount:v,mounted:b,beforeUpdate:x,updated:C,activated:I,deactivated:A,beforeDestroy:R,beforeUnmount:k,destroyed:$,unmounted:N,render:H,renderTracked:W,renderTriggered:j,errorCaptured:X,serverPrefetch:K,expose:Q,inheritAttrs:oe,components:he,directives:ye,filters:be}=t;if(p&&KQ(p,n,null),s)for(const Oe in s){const ze=s[Oe];Or(ze)&&(n[Oe]=ze.bind(r))}if(i){const Oe=i.call(r,r);Wn(Oe)&&(e.data=ki(Oe))}if(dE=!0,o)for(const Oe in o){const ze=o[Oe],De=Or(ze)?ze.bind(r,r):Or(ze.get)?ze.get.bind(r,r):hu,ct=!Or(ze)&&Or(ze.set)?ze.set.bind(r):hu,Ke=ve({get:De,set:ct});Object.defineProperty(n,Oe,{enumerable:!0,configurable:!0,get:()=>Ke.value,set:gt=>Ke.value=gt})}if(a)for(const Oe in a)nV(a[Oe],n,r,Oe);if(h){const Oe=Or(h)?h.call(r):h;Reflect.ownKeys(Oe).forEach(ze=>{un(ze,Oe[ze])})}m&&S3(m,e,"c");function de(Oe,ze){Mr(ze)?ze.forEach(De=>Oe(De.bind(r))):ze&&Oe(ze.bind(r))}if(de(VD,v),de(Nr,b),de(Q9,x),de(Yh,C),de(zQ,I),de(BQ,A),de(HQ,X),de(jQ,W),de(VQ,j),de(hi,k),de(_u,N),de(NQ,K),Mr(Q))if(Q.length){const Oe=e.exposed||(e.exposed={});Q.forEach(ze=>{Object.defineProperty(Oe,ze,{get:()=>r[ze],set:De=>r[ze]=De,enumerable:!0})})}else e.exposed||(e.exposed={});H&&e.render===hu&&(e.render=H),oe!=null&&(e.inheritAttrs=oe),he&&(e.components=he),ye&&(e.directives=ye),K&&ND(e)}function KQ(e,t,r=hu){Mr(e)&&(e=fE(e));for(const n in e){const i=e[n];let o;Wn(i)?"default"in i?o=Ir(i.from||n,i.default,!0):o=Ir(i.from||n):o=Ir(i),Ri(o)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):t[n]=o}}function S3(e,t,r){xl(Mr(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function nV(e,t,r,n){let i=n.includes(".")?sV(r,n):()=>r[n];if(bi(e)){const o=t[e];Or(o)&&Zt(i,o)}else if(Or(e))Zt(i,e.bind(r));else if(Wn(e))if(Mr(e))e.forEach(o=>nV(o,t,r,n));else{const o=Or(e.handler)?e.handler.bind(r):t[e.handler];Or(o)&&Zt(i,o,e)}}function iV(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,a=o.get(t);let h;return a?h=a:!i.length&&!r&&!n?h=t:(h={},i.length&&i.forEach(p=>_S(h,p,s,!0)),_S(h,t,s)),Wn(t)&&o.set(t,h),h}function _S(e,t,r,n=!1){const{mixins:i,extends:o}=t;o&&_S(e,o,r,!0),i&&i.forEach(s=>_S(e,s,r,!0));for(const s in t)if(!(n&&s==="expose")){const a=YQ[s]||r&&r[s];e[s]=a?a(e[s],t[s]):t[s]}return e}const YQ={data:T3,props:C3,emits:C3,methods:x_,computed:x_,beforeCreate:sa,created:sa,beforeMount:sa,mounted:sa,beforeUpdate:sa,updated:sa,beforeDestroy:sa,beforeUnmount:sa,destroyed:sa,unmounted:sa,activated:sa,deactivated:sa,errorCaptured:sa,serverPrefetch:sa,components:x_,directives:x_,watch:QQ,provide:T3,inject:JQ};function T3(e,t){return t?e?function(){return co(Or(e)?e.call(this,this):e,Or(t)?t.call(this,this):t)}:t:e}function JQ(e,t){return x_(fE(e),fE(t))}function fE(e){if(Mr(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function sa(e,t){return e?[...new Set([].concat(e,t))]:t}function x_(e,t){return e?co(Object.create(null),e,t):t}function C3(e,t){return e?Mr(e)&&Mr(t)?[...new Set([...e,...t])]:co(Object.create(null),w3(e),w3(t??{})):t}function QQ(e,t){if(!e)return t;if(!t)return e;const r=co(Object.create(null),e);for(const n in t)r[n]=sa(e[n],t[n]);return r}function oV(){return{app:null,config:{isNativeTag:l9,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let eee=0;function tee(e,t){return function(n,i=null){Or(n)||(n=co({},n)),i!=null&&!Wn(i)&&(i=null);const o=oV(),s=new WeakSet,a=[];let h=!1;const p=o.app={_uid:eee++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:Ree,get config(){return o.config},set config(m){},use(m,...v){return s.has(m)||(m&&Or(m.install)?(s.add(m),m.install(p,...v)):Or(m)&&(s.add(m),m(p,...v))),p},mixin(m){return o.mixins.includes(m)||o.mixins.push(m),p},component(m,v){return v?(o.components[m]=v,p):o.components[m]},directive(m,v){return v?(o.directives[m]=v,p):o.directives[m]},mount(m,v,b){if(!h){const x=p._ceVNode||ie(n,i);return x.appContext=o,b===!0?b="svg":b===!1&&(b=void 0),v&&t?t(x,m):e(x,m,b),h=!0,p._container=m,m.__vue_app__=p,O2(x.component)}},onUnmount(m){a.push(m)},unmount(){h&&(xl(a,p._instance,16),e(null,p._container),delete p._container.__vue_app__)},provide(m,v){return o.provides[m]=v,p},runWithContext(m){const v=zf;zf=p;try{return m()}finally{zf=v}}};return p}}let zf=null;function un(e,t){if(Do){let r=Do.provides;const n=Do.parent&&Do.parent.provides;n===r&&(r=Do.provides=Object.create(n)),r[e]=t}}function Ir(e,t,r=!1){const n=Yi();if(n||zf){let i=zf?zf._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return r&&Or(t)?t.call(n&&n.proxy):t}}function aV(){return!!(Yi()||zf)}const ree=Symbol.for("v-scx"),nee=()=>Ir(ree);function Gn(e,t){return jD(e,null,t)}function Zt(e,t,r){return jD(e,t,r)}function jD(e,t,r=zn){const{immediate:n,deep:i,flush:o,once:s}=r,a=co({},r),h=t&&n||!t&&o!=="post";let p;if(Rg){if(o==="sync"){const x=nee();p=x.__watcherHandles||(x.__watcherHandles=[])}else if(!h){const x=()=>{};return x.stop=hu,x.resume=hu,x.pause=hu,x}}const m=Do;a.call=(x,C,I)=>xl(x,m,C,I);let v=!1;o==="post"?a.scheduler=x=>{la(x,m&&m.suspense)}:o!=="sync"&&(v=!0,a.scheduler=(x,C)=>{C?x():zD(x)}),a.augmentJob=x=>{t&&(x.flags|=4),v&&(x.flags|=2,m&&(x.id=m.uid,x.i=m))};const b=TQ(e,t,a);return Rg&&(p?p.push(b):h&&b()),b}function iee(e,t,r){const n=this.proxy,i=bi(e)?e.includes(".")?sV(n,e):()=>n[e]:e.bind(n,n);let o;Or(t)?o=t:(o=t.handler,r=t);const s=lb(this),a=jD(i,o.bind(n),r);return s(),a}function sV(e,t){const r=t.split(".");return()=>{let n=e;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}const oee=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Oa(t)}Modifiers`]||e[`${Kh(t)}Modifiers`];function aee(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||zn;let i=r;const o=t.startsWith("update:"),s=o&&oee(n,t.slice(7));s&&(s.trim&&(i=r.map(m=>bi(m)?m.trim():m)),s.number&&(i=r.map(BJ)));let a,h=n[a=wP(t)]||n[a=wP(Oa(t))];!h&&o&&(h=n[a=wP(Kh(t))]),h&&xl(h,e,6,i);const p=n[a+"Once"];if(p){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,xl(p,e,6,i)}}const see=new WeakMap;function lV(e,t,r=!1){const n=r?see:t.emitsCache,i=n.get(e);if(i!==void 0)return i;const o=e.emits;let s={},a=!1;if(!Or(e)){const h=p=>{const m=lV(p,t,!0);m&&(a=!0,co(s,m))};!r&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}return!o&&!a?(Wn(e)&&n.set(e,null),null):(Mr(o)?o.forEach(h=>s[h]=null):co(s,o),Wn(e)&&n.set(e,s),s)}function R2(e,t){return!e||!nb(t)?!1:(t=t.slice(2).replace(/Once$/,""),Tn(e,t[0].toLowerCase()+t.slice(1))||Tn(e,Kh(t))||Tn(e,t))}function DP(e){const{type:t,vnode:r,proxy:n,withProxy:i,propsOptions:[o],slots:s,attrs:a,emit:h,render:p,renderCache:m,props:v,data:b,setupState:x,ctx:C,inheritAttrs:I}=e,A=vS(e);let R,k;try{if(r.shapeFlag&4){const N=i||n,H=N;R=Os(p.call(H,N,m,v,x,b,C)),k=a}else{const N=t;R=Os(N.length>1?N(v,{attrs:a,slots:s,emit:h}):N(v,null)),k=t.props?a:lee(a)}}catch(N){N_.length=0,ab(N,e,1),R=ie(lo)}let $=R;if(k&&I!==!1){const N=Object.keys(k),{shapeFlag:H}=$;N.length&&H&7&&(o&&N.some(DD)&&(k=uee(k,o)),$=ls($,k,!1,!0))}return r.dirs&&($=ls($,null,!1,!0),$.dirs=$.dirs?$.dirs.concat(r.dirs):r.dirs),r.transition&&qf($,r.transition),R=$,vS(A),R}const lee=e=>{let t;for(const r in e)(r==="class"||r==="style"||nb(r))&&((t||(t={}))[r]=e[r]);return t},uee=(e,t)=>{const r={};for(const n in e)(!DD(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function cee(e,t,r){const{props:n,children:i,component:o}=e,{props:s,children:a,patchFlag:h}=t,p=o.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&h>=0){if(h&1024)return!0;if(h&16)return n?P3(n,s,p):!!s;if(h&8){const m=t.dynamicProps;for(let v=0;v<m.length;v++){const b=m[v];if(s[b]!==n[b]&&!R2(p,b))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===s?!1:n?s?P3(n,s,p):!0:!!s;return!1}function P3(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(t[o]!==e[o]&&!R2(r,o))return!0}return!1}function uV({vnode:e,parent:t},r){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=r,t=t.parent;else break}}const cV={},hV=()=>Object.create(cV),dV=e=>Object.getPrototypeOf(e)===cV;function hee(e,t,r,n=!1){const i={},o=hV();e.propsDefaults=Object.create(null),fV(e,t,i,o);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);r?e.props=n?i:R9(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function dee(e,t,r,n){const{props:i,attrs:o,vnode:{patchFlag:s}}=e,a=Ur(i),[h]=e.propsOptions;let p=!1;if((n||s>0)&&!(s&16)){if(s&8){const m=e.vnode.dynamicProps;for(let v=0;v<m.length;v++){let b=m[v];if(R2(e.emitsOptions,b))continue;const x=t[b];if(h)if(Tn(o,b))x!==o[b]&&(o[b]=x,p=!0);else{const C=Oa(b);i[C]=pE(h,a,C,x,e,!1)}else x!==o[b]&&(o[b]=x,p=!0)}}}else{fV(e,t,i,o)&&(p=!0);let m;for(const v in a)(!t||!Tn(t,v)&&((m=Kh(v))===v||!Tn(t,m)))&&(h?r&&(r[v]!==void 0||r[m]!==void 0)&&(i[v]=pE(h,a,v,void 0,e,!0)):delete i[v]);if(o!==a)for(const v in o)(!t||!Tn(t,v))&&(delete o[v],p=!0)}p&&ac(e.attrs,"set","")}function fV(e,t,r,n){const[i,o]=e.propsOptions;let s=!1,a;if(t)for(let h in t){if(dg(h))continue;const p=t[h];let m;i&&Tn(i,m=Oa(h))?!o||!o.includes(m)?r[m]=p:(a||(a={}))[m]=p:R2(e.emitsOptions,h)||(!(h in n)||p!==n[h])&&(n[h]=p,s=!0)}if(o){const h=Ur(r),p=a||zn;for(let m=0;m<o.length;m++){const v=o[m];r[v]=pE(i,h,v,p[v],e,!Tn(p,v))}}return s}function pE(e,t,r,n,i,o){const s=e[r];if(s!=null){const a=Tn(s,"default");if(a&&n===void 0){const h=s.default;if(s.type!==Function&&!s.skipFactory&&Or(h)){const{propsDefaults:p}=i;if(r in p)n=p[r];else{const m=lb(i);n=p[r]=h.call(null,t),m()}}else n=h;i.ce&&i.ce._setProp(r,n)}s[0]&&(o&&!a?n=!1:s[1]&&(n===""||n===Kh(r))&&(n=!0))}return n}const fee=new WeakMap;function pV(e,t,r=!1){const n=r?fee:t.propsCache,i=n.get(e);if(i)return i;const o=e.props,s={},a=[];let h=!1;if(!Or(e)){const m=v=>{h=!0;const[b,x]=pV(v,t,!0);co(s,b),x&&a.push(...x)};!r&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}if(!o&&!h)return Wn(e)&&n.set(e,cg),cg;if(Mr(o))for(let m=0;m<o.length;m++){const v=Oa(o[m]);M3(v)&&(s[v]=zn)}else if(o)for(const m in o){const v=Oa(m);if(M3(v)){const b=o[m],x=s[v]=Mr(b)||Or(b)?{type:b}:co({},b),C=x.type;let I=!1,A=!0;if(Mr(C))for(let R=0;R<C.length;++R){const k=C[R],$=Or(k)&&k.name;if($==="Boolean"){I=!0;break}else $==="String"&&(A=!1)}else I=Or(C)&&C.name==="Boolean";x[0]=I,x[1]=A,(I||Tn(x,"default"))&&a.push(v)}}const p=[s,a];return Wn(e)&&n.set(e,p),p}function M3(e){return e[0]!=="$"&&!dg(e)}const HD=e=>e==="_"||e==="_ctx"||e==="$stable",GD=e=>Mr(e)?e.map(Os):[Os(e)],pee=(e,t,r)=>{if(t._n)return t;const n=Lr((...i)=>GD(t(...i)),r);return n._c=!1,n},mV=(e,t,r)=>{const n=e._ctx;for(const i in e){if(HD(i))continue;const o=e[i];if(Or(o))t[i]=pee(i,o,n);else if(o!=null){const s=GD(o);t[i]=()=>s}}},gV=(e,t)=>{const r=GD(t);e.slots.default=()=>r},vV=(e,t,r)=>{for(const n in t)(r||!HD(n))&&(e[n]=t[n])},mee=(e,t,r)=>{const n=e.slots=hV();if(e.vnode.shapeFlag&32){const i=t._;i?(vV(n,t,r),r&&f9(n,"_",i,!0)):mV(t,n)}else t&&gV(e,t)},gee=(e,t,r)=>{const{vnode:n,slots:i}=e;let o=!0,s=zn;if(n.shapeFlag&32){const a=t._;a?r&&a===1?o=!1:vV(i,t,r):(o=!t.$stable,mV(t,i)),s=t}else t&&(gV(e,t),s={default:1});if(o)for(const a in i)!HD(a)&&s[a]==null&&delete i[a]},la=wV;function vee(e){return yV(e)}function yee(e){return yV(e,RQ)}function yV(e,t){const r=C2();r.__VUE__=!0;const{insert:n,remove:i,patchProp:o,createElement:s,createText:a,createComment:h,setText:p,setElementText:m,parentNode:v,nextSibling:b,setScopeId:x=hu,insertStaticContent:C}=e,I=(me,_e,qe,ht=null,et=null,Je=null,Qe=void 0,dt=null,xt=!!_e.dynamicChildren)=>{if(me===_e)return;me&&!Sf(me,_e)&&(ht=Be(me),gt(me,et,Je,!0),me=null),_e.patchFlag===-2&&(xt=!1,_e.dynamicChildren=null);const{type:yt,ref:Ht,shapeFlag:$t}=_e;switch(yt){case dc:A(me,_e,qe,ht);break;case lo:R(me,_e,qe,ht);break;case F_:me==null&&k(_e,qe,ht,Qe);break;case pr:he(me,_e,qe,ht,et,Je,Qe,dt,xt);break;default:$t&1?H(me,_e,qe,ht,et,Je,Qe,dt,xt):$t&6?ye(me,_e,qe,ht,et,Je,Qe,dt,xt):($t&64||$t&128)&&yt.process(me,_e,qe,ht,et,Je,Qe,dt,xt,He)}Ht!=null&&et?pg(Ht,me&&me.ref,Je,_e||me,!_e):Ht==null&&me&&me.ref!=null&&pg(me.ref,null,Je,me,!0)},A=(me,_e,qe,ht)=>{if(me==null)n(_e.el=a(_e.children),qe,ht);else{const et=_e.el=me.el;_e.children!==me.children&&p(et,_e.children)}},R=(me,_e,qe,ht)=>{me==null?n(_e.el=h(_e.children||""),qe,ht):_e.el=me.el},k=(me,_e,qe,ht)=>{[me.el,me.anchor]=C(me.children,_e,qe,ht,me.el,me.anchor)},$=({el:me,anchor:_e},qe,ht)=>{let et;for(;me&&me!==_e;)et=b(me),n(me,qe,ht),me=et;n(_e,qe,ht)},N=({el:me,anchor:_e})=>{let qe;for(;me&&me!==_e;)qe=b(me),i(me),me=qe;i(_e)},H=(me,_e,qe,ht,et,Je,Qe,dt,xt)=>{if(_e.type==="svg"?Qe="svg":_e.type==="math"&&(Qe="mathml"),me==null)W(_e,qe,ht,et,Je,Qe,dt,xt);else{const yt=me.el&&me.el._isVueCE?me.el:null;try{yt&&yt._beginPatch(),K(me,_e,et,Je,Qe,dt,xt)}finally{yt&&yt._endPatch()}}},W=(me,_e,qe,ht,et,Je,Qe,dt)=>{let xt,yt;const{props:Ht,shapeFlag:$t,transition:Gt,dirs:or}=me;if(xt=me.el=s(me.type,Je,Ht&&Ht.is,Ht),$t&8?m(xt,me.children):$t&16&&X(me.children,xt,null,ht,et,LP(me,Je),Qe,dt),or&&tu(me,null,ht,"created"),j(xt,me,me.scopeId,Qe,ht),Ht){for(const Er in Ht)Er!=="value"&&!dg(Er)&&o(xt,Er,null,Ht[Er],Je,ht);"value"in Ht&&o(xt,"value",null,Ht.value,Je),(yt=Ht.onVnodeBeforeMount)&&As(yt,ht,me)}or&&tu(me,null,ht,"beforeMount");const vr=_V(et,Gt);vr&&Gt.beforeEnter(xt),n(xt,_e,qe),((yt=Ht&&Ht.onVnodeMounted)||vr||or)&&la(()=>{yt&&As(yt,ht,me),vr&&Gt.enter(xt),or&&tu(me,null,ht,"mounted")},et)},j=(me,_e,qe,ht,et)=>{if(qe&&x(me,qe),ht)for(let Je=0;Je<ht.length;Je++)x(me,ht[Je]);if(et){let Je=et.subTree;if(_e===Je||xV(Je.type)&&(Je.ssContent===_e||Je.ssFallback===_e)){const Qe=et.vnode;j(me,Qe,Qe.scopeId,Qe.slotScopeIds,et.parent)}}},X=(me,_e,qe,ht,et,Je,Qe,dt,xt=0)=>{for(let yt=xt;yt<me.length;yt++){const Ht=me[yt]=dt?Th(me[yt]):Os(me[yt]);I(null,Ht,_e,qe,ht,et,Je,Qe,dt)}},K=(me,_e,qe,ht,et,Je,Qe)=>{const dt=_e.el=me.el;let{patchFlag:xt,dynamicChildren:yt,dirs:Ht}=_e;xt|=me.patchFlag&16;const $t=me.props||zn,Gt=_e.props||zn;let or;if(qe&&Gd(qe,!1),(or=Gt.onVnodeBeforeUpdate)&&As(or,qe,_e,me),Ht&&tu(_e,me,qe,"beforeUpdate"),qe&&Gd(qe,!0),($t.innerHTML&&Gt.innerHTML==null||$t.textContent&&Gt.textContent==null)&&m(dt,""),yt?Q(me.dynamicChildren,yt,dt,qe,ht,LP(_e,et),Je):Qe||ze(me,_e,dt,null,qe,ht,LP(_e,et),Je,!1),xt>0){if(xt&16)oe(dt,$t,Gt,qe,et);else if(xt&2&&$t.class!==Gt.class&&o(dt,"class",null,Gt.class,et),xt&4&&o(dt,"style",$t.style,Gt.style,et),xt&8){const vr=_e.dynamicProps;for(let Er=0;Er<vr.length;Er++){const mr=vr[Er],Wr=$t[mr],Yr=Gt[mr];(Yr!==Wr||mr==="value")&&o(dt,mr,Wr,Yr,et,qe)}}xt&1&&me.children!==_e.children&&m(dt,_e.children)}else!Qe&&yt==null&&oe(dt,$t,Gt,qe,et);((or=Gt.onVnodeUpdated)||Ht)&&la(()=>{or&&As(or,qe,_e,me),Ht&&tu(_e,me,qe,"updated")},ht)},Q=(me,_e,qe,ht,et,Je,Qe)=>{for(let dt=0;dt<_e.length;dt++){const xt=me[dt],yt=_e[dt],Ht=xt.el&&(xt.type===pr||!Sf(xt,yt)||xt.shapeFlag&198)?v(xt.el):qe;I(xt,yt,Ht,null,ht,et,Je,Qe,!0)}},oe=(me,_e,qe,ht,et)=>{if(_e!==qe){if(_e!==zn)for(const Je in _e)!dg(Je)&&!(Je in qe)&&o(me,Je,_e[Je],null,et,ht);for(const Je in qe){if(dg(Je))continue;const Qe=qe[Je],dt=_e[Je];Qe!==dt&&Je!=="value"&&o(me,Je,dt,Qe,et,ht)}"value"in qe&&o(me,"value",_e.value,qe.value,et)}},he=(me,_e,qe,ht,et,Je,Qe,dt,xt)=>{const yt=_e.el=me?me.el:a(""),Ht=_e.anchor=me?me.anchor:a("");let{patchFlag:$t,dynamicChildren:Gt,slotScopeIds:or}=_e;or&&(dt=dt?dt.concat(or):or),me==null?(n(yt,qe,ht),n(Ht,qe,ht),X(_e.children||[],qe,Ht,et,Je,Qe,dt,xt)):$t>0&&$t&64&&Gt&&me.dynamicChildren?(Q(me.dynamicChildren,Gt,qe,et,Je,Qe,dt),(_e.key!=null||et&&_e===et.subTree)&&UD(me,_e,!0)):ze(me,_e,qe,Ht,et,Je,Qe,dt,xt)},ye=(me,_e,qe,ht,et,Je,Qe,dt,xt)=>{_e.slotScopeIds=dt,me==null?_e.shapeFlag&512?et.ctx.activate(_e,qe,ht,Qe,xt):be(_e,qe,ht,et,Je,Qe,xt):ce(me,_e,xt)},be=(me,_e,qe,ht,et,Je,Qe)=>{const dt=me.component=Pee(me,ht,et);if(sb(me)&&(dt.ctx.renderer=He),Mee(dt,!1,Qe),dt.asyncDep){if(et&&et.registerDep(dt,de,Qe),!me.el){const xt=dt.subTree=ie(lo);R(null,xt,_e,qe),me.placeholder=xt.el}}else de(dt,me,_e,qe,et,Je,Qe)},ce=(me,_e,qe)=>{const ht=_e.component=me.component;if(cee(me,_e,qe))if(ht.asyncDep&&!ht.asyncResolved){Oe(ht,_e,qe);return}else ht.next=_e,ht.update();else _e.el=me.el,ht.vnode=_e},de=(me,_e,qe,ht,et,Je,Qe)=>{const dt=()=>{if(me.isMounted){let{next:$t,bu:Gt,u:or,parent:vr,vnode:Er}=me;{const rn=bV(me);if(rn){$t&&($t.el=Er.el,Oe(me,$t,Qe)),rn.asyncDep.then(()=>{me.isUnmounted||dt()});return}}let mr=$t,Wr;Gd(me,!1),$t?($t.el=Er.el,Oe(me,$t,Qe)):$t=Er,Gt&&SP(Gt),(Wr=$t.props&&$t.props.onVnodeBeforeUpdate)&&As(Wr,vr,$t,Er),Gd(me,!0);const Yr=DP(me),Nn=me.subTree;me.subTree=Yr,I(Nn,Yr,v(Nn.el),Be(Nn),me,et,Je),$t.el=Yr.el,mr===null&&uV(me,Yr.el),or&&la(or,et),(Wr=$t.props&&$t.props.onVnodeUpdated)&&la(()=>As(Wr,vr,$t,Er),et)}else{let $t;const{el:Gt,props:or}=_e,{bm:vr,m:Er,parent:mr,root:Wr,type:Yr}=me,Nn=$f(_e);if(Gd(me,!1),vr&&SP(vr),!Nn&&($t=or&&or.onVnodeBeforeMount)&&As($t,mr,_e),Gd(me,!0),Gt&&tt){const rn=()=>{me.subTree=DP(me),tt(Gt,me.subTree,me,et,null)};Nn&&Yr.__asyncHydrate?Yr.__asyncHydrate(Gt,me,rn):rn()}else{Wr.ce&&Wr.ce._def.shadowRoot!==!1&&Wr.ce._injectChildStyle(Yr);const rn=me.subTree=DP(me);I(null,rn,qe,ht,me,et,Je),_e.el=rn.el}if(Er&&la(Er,et),!Nn&&($t=or&&or.onVnodeMounted)){const rn=_e;la(()=>As($t,mr,rn),et)}(_e.shapeFlag&256||mr&&$f(mr.vnode)&&mr.vnode.shapeFlag&256)&&me.a&&la(me.a,et),me.isMounted=!0,_e=qe=ht=null}};me.scope.on();const xt=me.effect=new v9(dt);me.scope.off();const yt=me.update=xt.run.bind(xt),Ht=me.job=xt.runIfDirty.bind(xt);Ht.i=me,Ht.id=me.uid,xt.scheduler=()=>zD(Ht),Gd(me,!0),yt()},Oe=(me,_e,qe)=>{_e.component=me;const ht=me.vnode.props;me.vnode=_e,me.next=null,dee(me,_e.props,ht,qe),gee(me,_e.children,qe),yc(),d3(me),_c()},ze=(me,_e,qe,ht,et,Je,Qe,dt,xt=!1)=>{const yt=me&&me.children,Ht=me?me.shapeFlag:0,$t=_e.children,{patchFlag:Gt,shapeFlag:or}=_e;if(Gt>0){if(Gt&128){ct(yt,$t,qe,ht,et,Je,Qe,dt,xt);return}else if(Gt&256){De(yt,$t,qe,ht,et,Je,Qe,dt,xt);return}}or&8?(Ht&16&&Ft(yt,et,Je),$t!==yt&&m(qe,$t)):Ht&16?or&16?ct(yt,$t,qe,ht,et,Je,Qe,dt,xt):Ft(yt,et,Je,!0):(Ht&8&&m(qe,""),or&16&&X($t,qe,ht,et,Je,Qe,dt,xt))},De=(me,_e,qe,ht,et,Je,Qe,dt,xt)=>{me=me||cg,_e=_e||cg;const yt=me.length,Ht=_e.length,$t=Math.min(yt,Ht);let Gt;for(Gt=0;Gt<$t;Gt++){const or=_e[Gt]=xt?Th(_e[Gt]):Os(_e[Gt]);I(me[Gt],or,qe,null,et,Je,Qe,dt,xt)}yt>Ht?Ft(me,et,Je,!0,!1,$t):X(_e,qe,ht,et,Je,Qe,dt,xt,$t)},ct=(me,_e,qe,ht,et,Je,Qe,dt,xt)=>{let yt=0;const Ht=_e.length;let $t=me.length-1,Gt=Ht-1;for(;yt<=$t&&yt<=Gt;){const or=me[yt],vr=_e[yt]=xt?Th(_e[yt]):Os(_e[yt]);if(Sf(or,vr))I(or,vr,qe,null,et,Je,Qe,dt,xt);else break;yt++}for(;yt<=$t&&yt<=Gt;){const or=me[$t],vr=_e[Gt]=xt?Th(_e[Gt]):Os(_e[Gt]);if(Sf(or,vr))I(or,vr,qe,null,et,Je,Qe,dt,xt);else break;$t--,Gt--}if(yt>$t){if(yt<=Gt){const or=Gt+1,vr=or<Ht?_e[or].el:ht;for(;yt<=Gt;)I(null,_e[yt]=xt?Th(_e[yt]):Os(_e[yt]),qe,vr,et,Je,Qe,dt,xt),yt++}}else if(yt>Gt)for(;yt<=$t;)gt(me[yt],et,Je,!0),yt++;else{const or=yt,vr=yt,Er=new Map;for(yt=vr;yt<=Gt;yt++){const ne=_e[yt]=xt?Th(_e[yt]):Os(_e[yt]);ne.key!=null&&Er.set(ne.key,yt)}let mr,Wr=0;const Yr=Gt-vr+1;let Nn=!1,rn=0;const Zn=new Array(Yr);for(yt=0;yt<Yr;yt++)Zn[yt]=0;for(yt=or;yt<=$t;yt++){const ne=me[yt];if(Wr>=Yr){gt(ne,et,Je,!0);continue}let le;if(ne.key!=null)le=Er.get(ne.key);else for(mr=vr;mr<=Gt;mr++)if(Zn[mr-vr]===0&&Sf(ne,_e[mr])){le=mr;break}le===void 0?gt(ne,et,Je,!0):(Zn[le-vr]=yt+1,le>=rn?rn=le:Nn=!0,I(ne,_e[le],qe,null,et,Je,Qe,dt,xt),Wr++)}const Ne=Nn?_ee(Zn):cg;for(mr=Ne.length-1,yt=Yr-1;yt>=0;yt--){const ne=vr+yt,le=_e[ne],pe=_e[ne+1],Ee=ne+1<Ht?pe.el||pe.placeholder:ht;Zn[yt]===0?I(null,le,qe,Ee,et,Je,Qe,dt,xt):Nn&&(mr<0||yt!==Ne[mr]?Ke(le,qe,Ee,2):mr--)}}},Ke=(me,_e,qe,ht,et=null)=>{const{el:Je,type:Qe,transition:dt,children:xt,shapeFlag:yt}=me;if(yt&6){Ke(me.component.subTree,_e,qe,ht);return}if(yt&128){me.suspense.move(_e,qe,ht);return}if(yt&64){Qe.move(me,_e,qe,He);return}if(Qe===pr){n(Je,_e,qe);for(let $t=0;$t<xt.length;$t++)Ke(xt[$t],_e,qe,ht);n(me.anchor,_e,qe);return}if(Qe===F_){$(me,_e,qe);return}if(ht!==2&&yt&1&&dt)if(ht===0)dt.beforeEnter(Je),n(Je,_e,qe),la(()=>dt.enter(Je),et);else{const{leave:$t,delayLeave:Gt,afterLeave:or}=dt,vr=()=>{me.ctx.isUnmounted?i(Je):n(Je,_e,qe)},Er=()=>{Je._isLeaving&&Je[ic](!0),$t(Je,()=>{vr(),or&&or()})};Gt?Gt(Je,vr,Er):Er()}else n(Je,_e,qe)},gt=(me,_e,qe,ht=!1,et=!1)=>{const{type:Je,props:Qe,ref:dt,children:xt,dynamicChildren:yt,shapeFlag:Ht,patchFlag:$t,dirs:Gt,cacheIndex:or}=me;if($t===-2&&(et=!1),dt!=null&&(yc(),pg(dt,null,qe,me,!0),_c()),or!=null&&(_e.renderCache[or]=void 0),Ht&256){_e.ctx.deactivate(me);return}const vr=Ht&1&&Gt,Er=!$f(me);let mr;if(Er&&(mr=Qe&&Qe.onVnodeBeforeUnmount)&&As(mr,_e,me),Ht&6)zt(me.component,qe,ht);else{if(Ht&128){me.suspense.unmount(qe,ht);return}vr&&tu(me,null,_e,"beforeUnmount"),Ht&64?me.type.remove(me,_e,qe,He,ht):yt&&!yt.hasOnce&&(Je!==pr||$t>0&&$t&64)?Ft(yt,_e,qe,!1,!0):(Je===pr&&$t&384||!et&&Ht&16)&&Ft(xt,_e,qe),ht&&Lt(me)}(Er&&(mr=Qe&&Qe.onVnodeUnmounted)||vr)&&la(()=>{mr&&As(mr,_e,me),vr&&tu(me,null,_e,"unmounted")},qe)},Lt=me=>{const{type:_e,el:qe,anchor:ht,transition:et}=me;if(_e===pr){Nt(qe,ht);return}if(_e===F_){N(me);return}const Je=()=>{i(qe),et&&!et.persisted&&et.afterLeave&&et.afterLeave()};if(me.shapeFlag&1&&et&&!et.persisted){const{leave:Qe,delayLeave:dt}=et,xt=()=>Qe(qe,Je);dt?dt(me.el,Je,xt):xt()}else Je()},Nt=(me,_e)=>{let qe;for(;me!==_e;)qe=b(me),i(me),me=qe;i(_e)},zt=(me,_e,qe)=>{const{bum:ht,scope:et,job:Je,subTree:Qe,um:dt,m:xt,a:yt}=me;I3(xt),I3(yt),ht&&SP(ht),et.stop(),Je&&(Je.flags|=8,gt(Qe,me,_e,qe)),dt&&la(dt,_e),la(()=>{me.isUnmounted=!0},_e)},Ft=(me,_e,qe,ht=!1,et=!1,Je=0)=>{for(let Qe=Je;Qe<me.length;Qe++)gt(me[Qe],_e,qe,ht,et)},Be=me=>{if(me.shapeFlag&6)return Be(me.component.subTree);if(me.shapeFlag&128)return me.suspense.next();const _e=b(me.anchor||me.el),qe=_e&&_e[j9];return qe?b(qe):_e};let it=!1;const je=(me,_e,qe)=>{me==null?_e._vnode&&gt(_e._vnode,null,null,!0):I(_e._vnode||null,me,_e,null,null,null,qe),_e._vnode=me,it||(it=!0,d3(),gS(),it=!1)},He={p:I,um:gt,m:Ke,r:Lt,mt:be,mc:X,pc:ze,pbc:Q,n:Be,o:e};let Fe,tt;return t&&([Fe,tt]=t(He)),{render:je,hydrate:Fe,createApp:tee(je,Fe)}}function LP({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function Gd({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function _V(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function UD(e,t,r=!1){const n=e.children,i=t.children;if(Mr(n)&&Mr(i))for(let o=0;o<n.length;o++){const s=n[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=Th(i[o]),a.el=s.el),!r&&a.patchFlag!==-2&&UD(s,a)),a.type===dc&&a.patchFlag!==-1&&(a.el=s.el),a.type===lo&&!a.el&&(a.el=s.el)}}function _ee(e){const t=e.slice(),r=[0];let n,i,o,s,a;const h=e.length;for(n=0;n<h;n++){const p=e[n];if(p!==0){if(i=r[r.length-1],e[i]<p){t[n]=i,r.push(n);continue}for(o=0,s=r.length-1;o<s;)a=o+s>>1,e[r[a]]<p?o=a+1:s=a;p<e[r[o]]&&(o>0&&(t[n]=r[o-1]),r[o]=n)}}for(o=r.length,s=r[o-1];o-- >0;)r[o]=s,s=t[s];return r}function bV(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:bV(t)}function I3(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const xV=e=>e.__isSuspense;function wV(e,t){t&&t.pendingBranch?Mr(e)?t.effects.push(...e):t.effects.push(e):MQ(e)}const pr=Symbol.for("v-fgt"),dc=Symbol.for("v-txt"),lo=Symbol.for("v-cmt"),F_=Symbol.for("v-stc"),N_=[];let is=null;function Pt(e=!1){N_.push(is=e?null:[])}function bee(){N_.pop(),is=N_[N_.length-1]||null}let v0=1;function bS(e,t=!1){v0+=e,e<0&&is&&t&&(is.hasOnce=!0)}function SV(e){return e.dynamicChildren=v0>0?is||cg:null,bee(),v0>0&&is&&is.push(e),e}function Bt(e,t,r,n,i,o){return SV(Dt(e,t,r,n,i,o,!0))}function Bn(e,t,r,n,i){return SV(ie(e,t,r,n,i,!0))}function ea(e){return e?e.__v_isVNode===!0:!1}function Sf(e,t){return e.type===t.type&&e.key===t.key}const TV=({key:e})=>e??null,Lw=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?bi(e)||Ri(e)||Or(e)?{i:Ro,r:e,k:t,f:!!r}:e:null);function Dt(e,t=null,r=null,n=0,i=null,o=e===pr?0:1,s=!1,a=!1){const h={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&TV(t),ref:t&&Lw(t),scopeId:V9,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ro};return a?(WD(h,r),o&128&&e.normalize(h)):r&&(h.shapeFlag|=bi(r)?8:16),v0>0&&!s&&is&&(h.patchFlag>0||o&6)&&h.patchFlag!==32&&is.push(h),h}const ie=xee;function xee(e,t=null,r=null,n=0,i=null,o=!1){if((!e||e===UQ)&&(e=lo),ea(e)){const a=ls(e,t,!0);return r&&WD(a,r),v0>0&&!o&&is&&(a.shapeFlag&6?is[is.indexOf(e)]=a:is.push(a)),a.patchFlag=-2,a}if(Lee(e)&&(e=e.__vccOpts),t){t=Rw(t);let{class:a,style:h}=t;a&&!bi(a)&&(t.class=Lo(a)),Wn(h)&&(D2(h)&&!Mr(h)&&(h=co({},h)),t.style=ap(h))}const s=bi(e)?1:xV(e)?128:H9(e)?64:Wn(e)?4:Or(e)?2:0;return Dt(e,t,r,n,i,s,o,!0)}function Rw(e){return e?D2(e)||dV(e)?co({},e):e:null}function ls(e,t,r=!1,n=!1){const{props:i,ref:o,patchFlag:s,children:a,transition:h}=e,p=t?See(i||{},t):i,m={__v_isVNode:!0,__v_skip:!0,type:e.type,props:p,key:p&&TV(p),ref:t&&t.ref?r&&o?Mr(o)?o.concat(Lw(t)):[o,Lw(t)]:Lw(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==pr?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:h,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ls(e.ssContent),ssFallback:e.ssFallback&&ls(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return h&&n&&qf(m,h.clone(m)),m}function Ai(e=" ",t=0){return ie(dc,null,e,t)}function wee(e,t){const r=ie(F_,null,e);return r.staticCount=t,r}function gn(e="",t=!1){return t?(Pt(),Bn(lo,null,e)):ie(lo,null,e)}function Os(e){return e==null||typeof e=="boolean"?ie(lo):Mr(e)?ie(pr,null,e.slice()):ea(e)?Th(e):ie(dc,null,String(e))}function Th(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ls(e)}function WD(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(Mr(t))r=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),WD(e,i()),i._c&&(i._d=!0));return}else{r=32;const i=t._;!i&&!dV(t)?t._ctx=Ro:i===3&&Ro&&(Ro.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Or(t)?(t={default:t,_ctx:Ro},r=32):(t=String(t),n&64?(r=16,t=[Ai(t)]):r=8);e.children=t,e.shapeFlag|=r}function See(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=Lo([t.class,n.class]));else if(i==="style")t.style=ap([t.style,n.style]);else if(nb(i)){const o=t[i],s=n[i];s&&o!==s&&!(Mr(o)&&o.includes(s))&&(t[i]=o?[].concat(o,s):s)}else i!==""&&(t[i]=n[i])}return t}function As(e,t,r,n=null){xl(e,t,7,[r,n])}const Tee=oV();let Cee=0;function Pee(e,t,r){const n=e.type,i=(t?t.appContext:e.appContext)||Tee,o={uid:Cee++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new WJ(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pV(n,i),emitsOptions:lV(n,i),emit:null,emitted:null,propsDefaults:zn,inheritAttrs:n.inheritAttrs,ctx:zn,data:zn,props:zn,attrs:zn,slots:zn,refs:zn,setupState:zn,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=aee.bind(null,o),e.ce&&e.ce(o),o}let Do=null;const Yi=()=>Do||Ro;let xS,mE;{const e=C2(),t=(r,n)=>{let i;return(i=e[r])||(i=e[r]=[]),i.push(n),o=>{i.length>1?i.forEach(s=>s(o)):i[0](o)}};xS=t("__VUE_INSTANCE_SETTERS__",r=>Do=r),mE=t("__VUE_SSR_SETTERS__",r=>Rg=r)}const lb=e=>{const t=Do;return xS(e),e.scope.on(),()=>{e.scope.off(),xS(t)}},E3=()=>{Do&&Do.scope.off(),xS(null)};function CV(e){return e.vnode.shapeFlag&4}let Rg=!1;function Mee(e,t=!1,r=!1){t&&mE(t);const{props:n,children:i}=e.vnode,o=CV(e);hee(e,n,o,t),mee(e,i,r||t);const s=o?Iee(e,t):void 0;return t&&mE(!1),s}function Iee(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,ZQ);const{setup:n}=r;if(n){yc();const i=e.setupContext=n.length>1?Aee(e):null,o=lb(e),s=ob(n,e,0,[e.props,i]),a=c9(s);if(_c(),o(),(a||e.sp)&&!$f(e)&&ND(e),a){if(s.then(E3,E3),t)return s.then(h=>{A3(e,h)}).catch(h=>{ab(h,e,0)});e.asyncDep=s}else A3(e,s)}else PV(e)}function A3(e,t,r){Or(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Wn(t)&&(e.setupState=k9(t)),PV(e)}function PV(e,t,r){const n=e.type;e.render||(e.render=n.render||hu);{const i=lb(e);yc();try{XQ(e)}finally{_c(),i()}}}const Eee={get(e,t){return Yo(e,"get",""),e[t]}};function Aee(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,Eee),slots:e.slots,emit:e.emit,expose:t}}function O2(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(k9(pQ(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in B_)return B_[r](e)},has(t,r){return r in t||r in B_}})):e.proxy}function Dee(e,t=!0){return Or(e)?e.displayName||e.name:e.name||t&&e.__name}function Lee(e){return Or(e)&&"__vccOpts"in e}const ve=(e,t)=>wQ(e,t,Rg);function Wt(e,t,r){try{bS(-1);const n=arguments.length;return n===2?Wn(t)&&!Mr(t)?ea(t)?ie(e,null,[t]):ie(e,t):ie(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&ea(r)&&(r=[r]),ie(e,t,r))}finally{bS(1)}}const Ree="3.5.25";/**
* @vue/runtime-dom v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let gE;const D3=typeof window<"u"&&window.trustedTypes;if(D3)try{gE=D3.createPolicy("vue",{createHTML:e=>e})}catch{}const MV=gE?e=>gE.createHTML(e):e=>e,Oee="http://www.w3.org/2000/svg",kee="http://www.w3.org/1998/Math/MathML",tc=typeof document<"u"?document:null,L3=tc&&tc.createElement("template"),$ee={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const i=t==="svg"?tc.createElementNS(Oee,e):t==="mathml"?tc.createElementNS(kee,e):r?tc.createElement(e,{is:r}):tc.createElement(e);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>tc.createTextNode(e),createComment:e=>tc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>tc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,i,o){const s=r?r.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),r),!(i===o||!(i=i.nextSibling)););else{L3.innerHTML=MV(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const a=L3.content;if(n==="svg"||n==="mathml"){const h=a.firstChild;for(;h.firstChild;)a.appendChild(h.firstChild);a.removeChild(h)}t.insertBefore(a,r)}return[s?s.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},sh="transition",Fy="animation",Og=Symbol("_vtc"),IV={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},EV=co({},q9,IV),zee=e=>(e.displayName="Transition",e.props=EV,e),Fa=zee((e,{slots:t})=>Wt(AQ,AV(e),t)),Ud=(e,t=[])=>{Mr(e)?e.forEach(r=>r(...t)):e&&e(...t)},R3=e=>e?Mr(e)?e.some(t=>t.length>1):e.length>1:!1;function AV(e){const t={};for(const he in e)he in IV||(t[he]=e[he]);if(e.css===!1)return t;const{name:r="v",type:n,duration:i,enterFromClass:o=`${r}-enter-from`,enterActiveClass:s=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:h=o,appearActiveClass:p=s,appearToClass:m=a,leaveFromClass:v=`${r}-leave-from`,leaveActiveClass:b=`${r}-leave-active`,leaveToClass:x=`${r}-leave-to`}=e,C=Bee(i),I=C&&C[0],A=C&&C[1],{onBeforeEnter:R,onEnter:k,onEnterCancelled:$,onLeave:N,onLeaveCancelled:H,onBeforeAppear:W=R,onAppear:j=k,onAppearCancelled:X=$}=t,K=(he,ye,be,ce)=>{he._enterCancelled=ce,_h(he,ye?m:a),_h(he,ye?p:s),be&&be()},Q=(he,ye)=>{he._isLeaving=!1,_h(he,v),_h(he,x),_h(he,b),ye&&ye()},oe=he=>(ye,be)=>{const ce=he?j:k,de=()=>K(ye,he,be);Ud(ce,[ye,de]),O3(()=>{_h(ye,he?h:o),Yl(ye,he?m:a),R3(ce)||k3(ye,n,I,de)})};return co(t,{onBeforeEnter(he){Ud(R,[he]),Yl(he,o),Yl(he,s)},onBeforeAppear(he){Ud(W,[he]),Yl(he,h),Yl(he,p)},onEnter:oe(!1),onAppear:oe(!0),onLeave(he,ye){he._isLeaving=!0;const be=()=>Q(he,ye);Yl(he,v),he._enterCancelled?(Yl(he,b),vE(he)):(vE(he),Yl(he,b)),O3(()=>{he._isLeaving&&(_h(he,v),Yl(he,x),R3(N)||k3(he,n,A,be))}),Ud(N,[he,be])},onEnterCancelled(he){K(he,!1,void 0,!0),Ud($,[he])},onAppearCancelled(he){K(he,!0,void 0,!0),Ud(X,[he])},onLeaveCancelled(he){Q(he),Ud(H,[he])}})}function Bee(e){if(e==null)return null;if(Wn(e))return[RP(e.enter),RP(e.leave)];{const t=RP(e);return[t,t]}}function RP(e){return FJ(e)}function Yl(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e[Og]||(e[Og]=new Set)).add(t)}function _h(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const r=e[Og];r&&(r.delete(t),r.size||(e[Og]=void 0))}function O3(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Fee=0;function k3(e,t,r,n){const i=e._endId=++Fee,o=()=>{i===e._endId&&n()};if(r!=null)return setTimeout(o,r);const{type:s,timeout:a,propCount:h}=DV(e,t);if(!s)return n();const p=s+"end";let m=0;const v=()=>{e.removeEventListener(p,b),o()},b=x=>{x.target===e&&++m>=h&&v()};setTimeout(()=>{m<h&&v()},a+1),e.addEventListener(p,b)}function DV(e,t){const r=window.getComputedStyle(e),n=C=>(r[C]||"").split(", "),i=n(`${sh}Delay`),o=n(`${sh}Duration`),s=$3(i,o),a=n(`${Fy}Delay`),h=n(`${Fy}Duration`),p=$3(a,h);let m=null,v=0,b=0;t===sh?s>0&&(m=sh,v=s,b=o.length):t===Fy?p>0&&(m=Fy,v=p,b=h.length):(v=Math.max(s,p),m=v>0?s>p?sh:Fy:null,b=m?m===sh?o.length:h.length:0);const x=m===sh&&/\b(?:transform|all)(?:,|$)/.test(n(`${sh}Property`).toString());return{type:m,timeout:v,propCount:b,hasTransform:x}}function $3(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,n)=>z3(r)+z3(e[n])))}function z3(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function vE(e){return(e?e.ownerDocument:document).body.offsetHeight}function Nee(e,t,r){const n=e[Og];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const wS=Symbol("_vod"),LV=Symbol("_vsh"),Zf={name:"show",beforeMount(e,{value:t},{transition:r}){e[wS]=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):Ny(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:n}){!t!=!r&&(n?t?(n.beforeEnter(e),Ny(e,!0),n.enter(e)):n.leave(e,()=>{Ny(e,!1)}):Ny(e,t))},beforeUnmount(e,{value:t}){Ny(e,t)}};function Ny(e,t){e.style.display=t?e[wS]:"none",e[LV]=!t}const Vee=Symbol(""),jee=/(?:^|;)\s*display\s*:/;function Hee(e,t,r){const n=e.style,i=bi(r);let o=!1;if(r&&!i){if(t)if(bi(t))for(const s of t.split(";")){const a=s.slice(0,s.indexOf(":")).trim();r[a]==null&&Ow(n,a,"")}else for(const s in t)r[s]==null&&Ow(n,s,"");for(const s in r)s==="display"&&(o=!0),Ow(n,s,r[s])}else if(i){if(t!==r){const s=n[Vee];s&&(r+=";"+s),n.cssText=r,o=jee.test(r)}}else t&&e.removeAttribute("style");wS in e&&(e[wS]=o?n.display:"",e[LV]&&(n.display="none"))}const B3=/\s*!important$/;function Ow(e,t,r){if(Mr(r))r.forEach(n=>Ow(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=Gee(e,t);B3.test(r)?e.setProperty(Kh(n),r.replace(B3,""),"important"):e[n]=r}}const F3=["Webkit","Moz","ms"],OP={};function Gee(e,t){const r=OP[t];if(r)return r;let n=Oa(t);if(n!=="filter"&&n in e)return OP[t]=n;n=ib(n);for(let i=0;i<F3.length;i++){const o=F3[i]+n;if(o in e)return OP[t]=o}return t}const N3="http://www.w3.org/1999/xlink";function V3(e,t,r,n,i,o=UJ(t)){n&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(N3,t.slice(6,t.length)):e.setAttributeNS(N3,t,r):r==null||o&&!p9(r)?e.removeAttribute(t):e.setAttribute(t,o?"":Mc(r)?String(r):r)}function j3(e,t,r,n,i){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?MV(r):r);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?e.getAttribute("value")||"":e.value,h=r==null?e.type==="checkbox"?"on":"":String(r);(a!==h||!("_value"in e))&&(e.value=h),r==null&&e.removeAttribute(t),e._value=r;return}let s=!1;if(r===""||r==null){const a=typeof e[t];a==="boolean"?r=p9(r):r==null&&a==="string"?(r="",s=!0):a==="number"&&(r=0,s=!0)}try{e[t]=r}catch{}s&&e.removeAttribute(i||t)}function Uee(e,t,r,n){e.addEventListener(t,r,n)}function Wee(e,t,r,n){e.removeEventListener(t,r,n)}const H3=Symbol("_vei");function qee(e,t,r,n,i=null){const o=e[H3]||(e[H3]={}),s=o[t];if(n&&s)s.value=n;else{const[a,h]=Zee(t);if(n){const p=o[t]=Yee(n,i);Uee(e,a,p,h)}else s&&(Wee(e,a,s,h),o[t]=void 0)}}const G3=/(?:Once|Passive|Capture)$/;function Zee(e){let t;if(G3.test(e)){t={};let n;for(;n=e.match(G3);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Kh(e.slice(2)),t]}let kP=0;const Xee=Promise.resolve(),Kee=()=>kP||(Xee.then(()=>kP=0),kP=Date.now());function Yee(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;xl(Jee(n,r.value),t,5,[n])};return r.value=e,r.attached=Kee(),r}function Jee(e,t){if(Mr(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const U3=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Qee=(e,t,r,n,i,o)=>{const s=i==="svg";t==="class"?Nee(e,n,s):t==="style"?Hee(e,r,n):nb(t)?DD(t)||qee(e,t,r,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ete(e,t,n,s))?(j3(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&V3(e,t,n,s,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!bi(n))?j3(e,Oa(t),n,o,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),V3(e,t,n,s))};function ete(e,t,r,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&U3(t)&&Or(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return U3(t)&&bi(r)?!1:t in e}const RV=new WeakMap,OV=new WeakMap,SS=Symbol("_moveCb"),W3=Symbol("_enterCb"),tte=e=>(delete e.props.mode,e),rte=tte({name:"TransitionGroup",props:co({},EV,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=Yi(),n=W9();let i,o;return Yh(()=>{if(!i.length)return;const s=e.moveClass||`${e.name||"v"}-move`;if(!ate(i[0].el,r.vnode.el,s)){i=[];return}i.forEach(nte),i.forEach(ite);const a=i.filter(ote);vE(r.vnode.el),a.forEach(h=>{const p=h.el,m=p.style;Yl(p,s),m.transform=m.webkitTransform=m.transitionDuration="";const v=p[SS]=b=>{b&&b.target!==p||(!b||b.propertyName.endsWith("transform"))&&(p.removeEventListener("transitionend",v),p[SS]=null,_h(p,s))};p.addEventListener("transitionend",v)}),i=[]}),()=>{const s=Ur(e),a=AV(s);let h=s.tag||pr;if(i=[],o)for(let p=0;p<o.length;p++){const m=o[p];m.el&&m.el instanceof Element&&(i.push(m),qf(m,g0(m,a,n,r)),RV.set(m,{left:m.el.offsetLeft,top:m.el.offsetTop}))}o=t.default?FD(t.default()):[];for(let p=0;p<o.length;p++){const m=o[p];m.key!=null&&qf(m,g0(m,a,n,r))}return ie(h,null,o)}}}),qD=rte;function nte(e){const t=e.el;t[SS]&&t[SS](),t[W3]&&t[W3]()}function ite(e){OV.set(e,{left:e.el.offsetLeft,top:e.el.offsetTop})}function ote(e){const t=RV.get(e),r=OV.get(e),n=t.left-r.left,i=t.top-r.top;if(n||i){const o=e.el.style;return o.transform=o.webkitTransform=`translate(${n}px,${i}px)`,o.transitionDuration="0s",e}}function ate(e,t,r){const n=e.cloneNode(),i=e[Og];i&&i.forEach(a=>{a.split(/\s+/).forEach(h=>h&&n.classList.remove(h))}),r.split(/\s+/).forEach(a=>a&&n.classList.add(a)),n.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(n);const{hasTransform:s}=DV(n);return o.removeChild(n),s}const ste=["ctrl","shift","alt","meta"],lte={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>ste.some(r=>e[`${r}Key`]&&!t.includes(r))},q3=(e,t)=>{const r=e._withMods||(e._withMods={}),n=t.join(".");return r[n]||(r[n]=((i,...o)=>{for(let s=0;s<t.length;s++){const a=lte[t[s]];if(a&&a(i,t))return}return e(i,...o)}))},ute={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},cte=(e,t)=>{const r=e._withKeys||(e._withKeys={}),n=t.join(".");return r[n]||(r[n]=(i=>{if(!("key"in i))return;const o=Kh(i.key);if(t.some(s=>s===o||ute[s]===o))return e(i)}))},kV=co({patchProp:Qee},$ee);let V_,Z3=!1;function hte(){return V_||(V_=vee(kV))}function dte(){return V_=Z3?V_:yee(kV),Z3=!0,V_}const y0=((...e)=>{hte().render(...e)}),fte=((...e)=>{const t=dte().createApp(...e),{mount:r}=t;return t.mount=n=>{const i=mte(n);if(i)return r(i,!0,pte(i))},t});function pte(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function mte(e){return bi(e)?document.querySelector(e):e}var ub=e=>/^[a-z][a-z0-9+.-]*:/.test(e)||e.startsWith("//"),gte=/.md((\?|#).*)?$/,vte=(e,t="/")=>ub(e)||e.startsWith("/")&&!e.startsWith(t)&&!gte.test(e),cb=e=>/^(https?:)?\/\//.test(e),X3=e=>{if(!e||e.endsWith("/"))return e;let t=e.replace(/(^|\/)README.md$/i,"$1index.html");return t.endsWith(".md")?t=`${t.substring(0,t.length-3)}.html`:t.endsWith(".html")||(t=`${t}.html`),t.endsWith("/index.html")&&(t=t.substring(0,t.length-10)),t},yte="http://.",_te=(e,t)=>{if(!e.startsWith("/")&&t){const r=t.slice(0,t.lastIndexOf("/"));return X3(new URL(`${r}/${e}`,yte).pathname)}return X3(e)},bte=(e,t)=>{const r=Object.keys(e).sort((n,i)=>{const o=i.split("/").length-n.split("/").length;return o!==0?o:i.length-n.length});for(const n of r)if(t.startsWith(n))return n;return"/"},xte=(e,t="/")=>{const r=e.replace(/^(?:https?:)?\/\/[^/]*/,"");return r.startsWith(t)?`/${r.slice(t.length)}`:r},wte=/(#|\?)/,$V=e=>{const[t,...r]=e.split(wte);return{pathname:t,hashAndQueries:r.join("")}},Ste=["link","meta","script","style","noscript","template"],Tte=["title","base"],Cte=([e,t,r])=>Tte.includes(e)?e:Ste.includes(e)?e==="meta"&&t.name?`${e}.${t.name}`:e==="template"&&t.id?`${e}.${t.id}`:JSON.stringify([e,Object.entries(t).map(([n,i])=>typeof i=="boolean"?i?[n,""]:null:[n,i]).filter(n=>n!=null).sort(([n],[i])=>n.localeCompare(i)),r]):null,Pte=e=>{const t=new Set,r=[];return e.forEach(n=>{const i=Cte(n);i&&!t.has(i)&&(t.add(i),r.push(n))}),r},Mte=e=>e.endsWith("/")||e.endsWith(".html")?e:`${e}/`,zV=e=>e.endsWith("/")?e.slice(0,-1):e,ZD=e=>e.startsWith("/")?e.slice(1):e,XD=e=>Object.prototype.toString.call(e)==="[object Object]",Ns=e=>typeof e=="string";const Ite="modulepreload",Ete=function(e){return"/"+e},K3={},Ut=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let h=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=s?.nonce||s?.getAttribute("nonce");i=h(r.map(p=>{if(p=Ete(p),p in K3)return;K3[p]=!0;const m=p.endsWith(".css"),v=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const b=document.createElement("link");if(b.rel=m?"stylesheet":Ite,m||(b.as="script"),b.crossOrigin="",b.href=p,a&&b.setAttribute("nonce",a),document.head.appendChild(b),m)return new Promise((x,C)=>{b.addEventListener("load",x),b.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},Ate=JSON.parse("{}"),Dte=Object.fromEntries([["/",{loader:()=>Ut(()=>import("./index.html-kmXb47D1.js"),__vite__mapDeps([0,1])),meta:{title:""}}],["/index-wx.html",{loader:()=>Ut(()=>import("./index-wx.html-BEtf2mI-.js"),__vite__mapDeps([2,1])),meta:{title:""}}],["/about/",{loader:()=>Ut(()=>import("./index.html-xs7uKeii.js"),[]),meta:{title:""}}],["/calendar/2018-2019.html",{loader:()=>Ut(()=>import("./2018-2019.html-DNOOytah.js"),[]),meta:{title:" - 2018-2019 "}}],["/calendar/2019-2020.html",{loader:()=>Ut(()=>import("./2019-2020.html-Dtxb0aVB.js"),[]),meta:{title:" - 2019-2020 "}}],["/calendar/2020-2021.html",{loader:()=>Ut(()=>import("./2020-2021.html-BJG_mogj.js"),[]),meta:{title:" - 2020-2021 "}}],["/calendar/2021-2022.html",{loader:()=>Ut(()=>import("./2021-2022.html-CZLbHIEd.js"),[]),meta:{title:" - 2021-2022 "}}],["/calendar/2021fall.html",{loader:()=>Ut(()=>import("./2021fall.html-vr5hpZGP.js"),[]),meta:{title:""}}],["/calendar/2022-2023.html",{loader:()=>Ut(()=>import("./2022-2023.html-DZMDzloq.js"),[]),meta:{title:" - 2022-2023 "}}],["/calendar/2023-2024.html",{loader:()=>Ut(()=>import("./2023-2024.html-DjqkNvX8.js"),[]),meta:{title:" - 2023-2024 "}}],["/calendar/2024-2025.html",{loader:()=>Ut(()=>import("./2024-2025.html-BL4OOd0u.js"),[]),meta:{title:" - 2024-2025 "}}],["/calendar/2025-2026.html",{loader:()=>Ut(()=>import("./2025-2026.html-jUjeja-O.js"),__vite__mapDeps([3,4])),meta:{title:" - 2025-2026 "}}],["/calendar/",{loader:()=>Ut(()=>import("./index.html-OHY8-LTy.js"),__vite__mapDeps([5,4])),meta:{title:""}}],["/canteen/",{loader:()=>Ut(()=>import("./index.html-BlgPD9Gp.js"),[]),meta:{title:""}}],["/canteen/canteen-wx.html",{loader:()=>Ut(()=>import("./canteen-wx.html-CEUooKpR.js"),[]),meta:{title:""}}],["/emergency/",{loader:()=>Ut(()=>import("./index.html-5qd1L3np.js"),[]),meta:{title:""}}],["/contact/",{loader:()=>Ut(()=>import("./index.html-a0jUBWOR.js"),[]),meta:{title:""}}],["/facility/",{loader:()=>Ut(()=>import("./index.html-BHyMhxHw.js"),[]),meta:{title:""}}],["/facility/building-11-elevator.html",{loader:()=>Ut(()=>import("./building-11-elevator.html-D2hgLXNL.js"),[]),meta:{title:"11"}}],["/if-you-are-a-freshman/2021.html",{loader:()=>Ut(()=>import("./2021.html-BjIVbZRV.js"),[]),meta:{title:"..."}}],["/if-you-are-a-freshman/",{loader:()=>Ut(()=>import("./index.html-DUBDwfU0.js"),[]),meta:{title:"..."}}],["/life/",{loader:()=>Ut(()=>import("./index.html-B9nTBrg9.js"),[]),meta:{title:""}}],["/life/vehicle-charger.html",{loader:()=>Ut(()=>import("./vehicle-charger.html-eUpsfoda.js"),[]),meta:{title:""}}],["/media/",{loader:()=>Ut(()=>import("./index.html-DcBGDobk.js"),[]),meta:{title:""}}],["/miniapp/",{loader:()=>Ut(()=>import("./index.html-CfcTqklb.js"),[]),meta:{title:"-"}}],["/news/",{loader:()=>Ut(()=>import("./index.html-BUg0riE6.js"),[]),meta:{title:""}}],["/organizations/",{loader:()=>Ut(()=>import("./index.html-BuY1H7Qq.js"),[]),meta:{title:""}}],["/organizations/registered-organization-2019.html",{loader:()=>Ut(()=>import("./registered-organization-2019.html-BPHQ91Ws.js"),[]),meta:{title:"2018-2019"}}],["/organizations/registered-organization-2020.html",{loader:()=>Ut(()=>import("./registered-organization-2020.html-D1dL0ORc.js"),[]),meta:{title:"2019-2020"}}],["/organizations/registered-organization-2021.html",{loader:()=>Ut(()=>import("./registered-organization-2021.html-BUZn-VyP.js"),[]),meta:{title:"2020-2021"}}],["/service/",{loader:()=>Ut(()=>import("./index.html-gg8d8y7s.js"),[]),meta:{title:""}}],["/site-help/",{loader:()=>Ut(()=>import("./index.html-8vFcoUVX.js"),[]),meta:{title:""}}],["/site-help/adt.html",{loader:()=>Ut(()=>import("./adt.html-BIxQKAd1.js"),[]),meta:{title:"ADT"}}],["/surroundings/",{loader:()=>Ut(()=>import("./index.html-CHT5xhyV.js"),__vite__mapDeps([6,7])),meta:{title:""}}],["/study/",{loader:()=>Ut(()=>import("./index.html-BuqtT5tl.js"),[]),meta:{title:""}}],["/study/paper-tools.html",{loader:()=>Ut(()=>import("./paper-tools.html-DA_JzA9I.js"),[]),meta:{title:" ddl "}}],["/transport/",{loader:()=>Ut(()=>import("./index.html-TpfgKhjm.js"),__vite__mapDeps([8,7])),meta:{title:""}}],["/transport/bustimer-old.html",{loader:()=>Ut(()=>import("./bustimer-old.html-BXRcBG5O.js"),[]),meta:{title:" SUSTech Campus Bus Info"}}],["/transport/bustimer-wx.html",{loader:()=>Ut(()=>import("./bustimer-wx.html-BQJ3AMGQ.js"),[]),meta:{title:" SUSTech Campus Bus Info"}}],["/transport/bustimer.html",{loader:()=>Ut(()=>import("./bustimer.html-DlterRDa.js"),[]),meta:{title:" SUSTech Campus Bus Info"}}],["/transport/redirect.html",{loader:()=>Ut(()=>import("./redirect.html-DA-QlCnG.js"),[]),meta:{title:" - "}}],["/contact/professor-emails/",{loader:()=>Ut(()=>import("./index.html-D-YEZnru.js"),[]),meta:{title:""}}],["/facility/panolens/",{loader:()=>Ut(()=>import("./index.html-DqaPVOZ2.js"),[]),meta:{title:""}}],["/if-you-are-a-freshman/preview/",{loader:()=>Ut(()=>import("./index.html-BvsFWMga.js"),[]),meta:{title:"2021"}}],["/life/by-zhicheng-college/%E6%96%B0%E7%94%9F%E6%94%BB%E7%95%A5%E4%B9%8B%E5%AE%BF%E8%88%8D%E7%94%9F%E6%B4%BB%E7%AF%87.html",{loader:()=>Ut(()=>import("./.html-XAQz2hfQ.js"),[]),meta:{title:""}}],["/life/by-zhicheng-college/%E6%96%B0%E7%94%9F%E6%94%BB%E7%95%A5%E4%B9%8B%E6%A0%A1%E5%86%85%E4%BB%8B%E7%BB%8D%E7%AF%87.html",{loader:()=>Ut(()=>import("./.html-DBBIL9o4.js"),[]),meta:{title:""}}],["/life/by-zhicheng-college/%E6%96%B0%E7%94%9F%E6%94%BB%E7%95%A5%E4%B9%8B%E7%A4%BE%E5%9B%A2%E7%AF%87.html",{loader:()=>Ut(()=>import("./.html-D3KkiWZV.js"),[]),meta:{title:""}}],["/life/catering/",{loader:()=>Ut(()=>import("./index.html-CVDuDFQL.js"),[]),meta:{title:""}}],["/life/dormitory/",{loader:()=>Ut(()=>import("./index.html-ARgLTQBb.js"),[]),meta:{title:""}}],["/life/dormitory/dorm-floor-plan.html",{loader:()=>Ut(()=>import("./dorm-floor-plan.html-BDHOQ-6E.js"),[]),meta:{title:""}}],["/life/freshman-register/",{loader:()=>Ut(()=>import("./index.html-CTnT7viO.js"),[]),meta:{title:""}}],["/life/sports-facility/",{loader:()=>Ut(()=>import("./index.html-DgWqhJeg.js"),[]),meta:{title:""}}],["/service/email/",{loader:()=>Ut(()=>import("./index.html-pNrQoztj.js"),[]),meta:{title:""}}],["/service/email/send-receive-email-by-proxy.html",{loader:()=>Ut(()=>import("./send-receive-email-by-proxy.html-xMC__IWM.js"),[]),meta:{title:""}}],["/service/campus-card/",{loader:()=>Ut(()=>import("./index.html-8gw_Lm_L.js"),[]),meta:{title:""}}],["/service/mail-and-express/",{loader:()=>Ut(()=>import("./index.html-BxlL55i9.js"),[]),meta:{title:""}}],["/service/medical-treatment/",{loader:()=>Ut(()=>import("./index.html-CrlLJc1I.js"),[]),meta:{title:""}}],["/service/matlab/",{loader:()=>Ut(()=>import("./index.html-CvjnubVW.js"),[]),meta:{title:"MATLAB "}}],["/service/network/",{loader:()=>Ut(()=>import("./index.html-Bj9ZKAO0.js"),[]),meta:{title:" (its@sustech.edu.cn)"}}],["/service/sakai/",{loader:()=>Ut(()=>import("./index.html-xee6_Eup.js"),[]),meta:{title:"Sakai | "}}],["/service/sid/",{loader:()=>Ut(()=>import("./index.html-D7h2-EXg.js"),[]),meta:{title:"SID"}}],["/service/student-train-ticket/",{loader:()=>Ut(()=>import("./index.html-CPFnMpCn.js"),[]),meta:{title:""}}],["/service/tax/",{loader:()=>Ut(()=>import("./index.html-Cwk5_5gg.js"),[]),meta:{title:"-- "}}],["/service/unifound/",{loader:()=>Ut(()=>import("./index.html-aE7insYo.js"),[]),meta:{title:""}}],["/service/work-wechat/",{loader:()=>Ut(()=>import("./index.html-CIO5k3CI.js"),[]),meta:{title:""}}],["/study/borrow-books/",{loader:()=>Ut(()=>import("./index.html-3IkXNO9Q.js"),[]),meta:{title:""}}],["/study/by-zhicheng-college/%E6%96%B0%E7%94%9F%E6%94%BB%E7%95%A5%E4%B9%8B%E5%AD%A6%E4%B9%A0%E7%AF%87.html",{loader:()=>Ut(()=>import("./.html-CRUJGjdX.js"),[]),meta:{title:""}}],["/study/by-shude-college/advice-on-study.html",{loader:()=>Ut(()=>import("./advice-on-study.html-Cclgx90d.js"),[]),meta:{title:""}}],["/study/by-shude-college/info-on-study.html",{loader:()=>Ut(()=>import("./info-on-study.html-BUnncQnD.js"),[]),meta:{title:""}}],["/study/cse/innovative-project.html",{loader:()=>Ut(()=>import("./innovative-project.html-IP9dMReQ.js"),[]),meta:{title:""}}],["/study/send-transcripts-to-other-universites/",{loader:()=>Ut(()=>import("./index.html-uWFsE8kl.js"),[]),meta:{title:""}}],["/study/talks/2025-03-14T10-30-00_%E6%9D%8E%E7%AB%B9.html",{loader:()=>Ut(()=>import("./2025-03-14T10-30-00_.html-4_NEHArK.js"),[]),meta:{title:""}}],["/study/talks/2025-03-14T16-30-00_Prof._Peter_May.html",{loader:()=>Ut(()=>import("./2025-03-14T16-30-00_Prof._Peter_May.html-C5JBO01C.js"),[]),meta:{title:"188Prof. Peter May"}}],["/study/talks/2025-03-19T10-00-00_%E9%82%B5%E5%B3%B0.html",{loader:()=>Ut(()=>import("./2025-03-19T10-00-00_.html-AhNYEaO7.js"),[]),meta:{title:"395Gasdermin"}}],["/study/talks/2025-03-19T16-00-00_%E5%91%A8%E5%AD%9F%E5%88%9D_%E6%95%99%E6%8E%88.html",{loader:()=>Ut(()=>import("./2025-03-19T16-00-00__.html--qhdN7Gh.js"),[]),meta:{title:"SUSTech Lecture Series 396 "}}],["/study/talks/2025-03-20T10-00-00_%E4%BA%8E%E6%B5%B7%E6%98%8E.html",{loader:()=>Ut(()=>import("./2025-03-20T10-00-00_.html-Bz5UKAQh.js"),[]),meta:{title:" 2025-13"}}],["/study/talks/",{loader:()=>Ut(()=>import("./index.html-BF8zqJzA.js"),[]),meta:{title:""}}],["/service/blackboard/retrive-ics-url/",{loader:()=>Ut(()=>import("./index.html-jqWF-8Yc.js"),[]),meta:{title:"BB | BlackboardDDL"}}],["/service/network/apply-for-vpn/",{loader:()=>Ut(()=>import("./index.html-CoC30_2y.js"),[]),meta:{title:"VPN"}}],["/service/network/choose-a-pad/",{loader:()=>Ut(()=>import("./index.html-DbY8hA6L.js"),[]),meta:{title:""}}],["/service/network/choose-a-router/",{loader:()=>Ut(()=>import("./index.html-BXC0ovzY.js"),[]),meta:{title:""}}],["/service/network/eduroam/",{loader:()=>Ut(()=>import("./index.html-Bm-ZkAUe.js"),[]),meta:{title:"eduroam"}}],["/service/network/ipv6/",{loader:()=>Ut(()=>import("./index.html-DA6UM9Mj.js"),[]),meta:{title:" IPv6 "}}],["/service/network/remote-desktop/",{loader:()=>Ut(()=>import("./index.html-Br7LFJ--.js"),[]),meta:{title:""}}],["/service/network/use-vpn/",{loader:()=>Ut(()=>import("./index.html-C7RXaMup.js"),[]),meta:{title:" SSL VPN "}}],["/study/book-list-by-prof-yuan/2018/",{loader:()=>Ut(()=>import("./index.html-C8oehSZC.js"),[]),meta:{title:"2018"}}],["/404.html",{loader:()=>Ut(()=>import("./404.html-DqGI-t6V.js"),[]),meta:{title:""}}]]);/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const Gm=typeof document<"u";function BV(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Lte(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&BV(e.default)}const Sn=Object.assign;function $P(e,t){const r={};for(const n in t){const i=t[n];r[n]=wl(i)?i.map(e):e(i)}return r}const j_=()=>{},wl=Array.isArray;function Y3(e,t){const r={};for(const n in e)r[n]=n in t?t[n]:e[n];return r}const FV=/#/g,Rte=/&/g,Ote=/\//g,kte=/=/g,$te=/\?/g,NV=/\+/g,zte=/%5B/g,Bte=/%5D/g,VV=/%5E/g,Fte=/%60/g,jV=/%7B/g,Nte=/%7C/g,HV=/%7D/g,Vte=/%20/g;function KD(e){return e==null?"":encodeURI(""+e).replace(Nte,"|").replace(zte,"[").replace(Bte,"]")}function jte(e){return KD(e).replace(jV,"{").replace(HV,"}").replace(VV,"^")}function yE(e){return KD(e).replace(NV,"%2B").replace(Vte,"+").replace(FV,"%23").replace(Rte,"%26").replace(Fte,"`").replace(jV,"{").replace(HV,"}").replace(VV,"^")}function Hte(e){return yE(e).replace(kte,"%3D")}function Gte(e){return KD(e).replace(FV,"%23").replace($te,"%3F")}function Ute(e){return Gte(e).replace(Ote,"%2F")}function _0(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const Wte=/\/$/,qte=e=>e.replace(Wte,"");function zP(e,t,r="/"){let n,i={},o="",s="";const a=t.indexOf("#");let h=t.indexOf("?");return h=a>=0&&h>a?-1:h,h>=0&&(n=t.slice(0,h),o=t.slice(h,a>0?a:t.length),i=e(o.slice(1))),a>=0&&(n=n||t.slice(0,a),s=t.slice(a,t.length)),n=Yte(n??t,r),{fullPath:n+o+s,path:n,query:i,hash:_0(s)}}function Zte(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function J3(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Xte(e,t,r){const n=t.matched.length-1,i=r.matched.length-1;return n>-1&&n===i&&kg(t.matched[n],r.matched[i])&&GV(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function kg(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function GV(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!Kte(e[r],t[r]))return!1;return!0}function Kte(e,t){return wl(e)?Q3(e,t):wl(t)?Q3(t,e):e===t}function Q3(e,t){return wl(t)?e.length===t.length&&e.every((r,n)=>r===t[n]):e.length===1&&e[0]===t}function Yte(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),n=e.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let o=r.length-1,s,a;for(s=0;s<n.length;s++)if(a=n[s],a!==".")if(a==="..")o>1&&o--;else break;return r.slice(0,o).join("/")+"/"+n.slice(s).join("/")}const ec={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let _E=(function(e){return e.pop="pop",e.push="push",e})({}),BP=(function(e){return e.back="back",e.forward="forward",e.unknown="",e})({});function Jte(e){if(!e)if(Gm){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),qte(e)}const Qte=/^[^#]+#/;function ere(e,t){return e.replace(Qte,"#")+t}function tre(e,t){const r=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-r.left-(t.left||0),top:n.top-r.top-(t.top||0)}}const k2=()=>({left:window.scrollX,top:window.scrollY});function rre(e){let t;if("el"in e){const r=e.el,n=typeof r=="string"&&r.startsWith("#"),i=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;t=tre(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function ez(e,t){return(history.state?history.state.position-t:-1)+e}const bE=new Map;function nre(e,t){bE.set(e,t)}function ire(e){const t=bE.get(e);return bE.delete(e),t}function ore(e){return typeof e=="string"||e&&typeof e=="object"}function UV(e){return typeof e=="string"||typeof e=="symbol"}let Ei=(function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e})({});const WV=Symbol("");Ei.MATCHER_NOT_FOUND+"",Ei.NAVIGATION_GUARD_REDIRECT+"",Ei.NAVIGATION_ABORTED+"",Ei.NAVIGATION_CANCELLED+"",Ei.NAVIGATION_DUPLICATED+"";function $g(e,t){return Sn(new Error,{type:e,[WV]:!0},t)}function Wu(e,t){return e instanceof Error&&WV in e&&(t==null||!!(e.type&t))}const are=["params","query","hash"];function sre(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const r of are)r in e&&(t[r]=e[r]);return JSON.stringify(t,null,2)}function lre(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let n=0;n<r.length;++n){const i=r[n].replace(NV," "),o=i.indexOf("="),s=_0(o<0?i:i.slice(0,o)),a=o<0?null:_0(i.slice(o+1));if(s in t){let h=t[s];wl(h)||(h=t[s]=[h]),h.push(a)}else t[s]=a}return t}function tz(e){let t="";for(let r in e){const n=e[r];if(r=Hte(r),n==null){n!==void 0&&(t+=(t.length?"&":"")+r);continue}(wl(n)?n.map(i=>i&&yE(i)):[n&&yE(n)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+r,i!=null&&(t+="="+i))})}return t}function ure(e){const t={};for(const r in e){const n=e[r];n!==void 0&&(t[r]=wl(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return t}const cre=Symbol(""),rz=Symbol(""),$2=Symbol(""),YD=Symbol(""),xE=Symbol("");function Vy(){let e=[];function t(n){return e.push(n),()=>{const i=e.indexOf(n);i>-1&&e.splice(i,1)}}function r(){e=[]}return{add:t,list:()=>e.slice(),reset:r}}function Ch(e,t,r,n,i,o=s=>s()){const s=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((a,h)=>{const p=b=>{b===!1?h($g(Ei.NAVIGATION_ABORTED,{from:r,to:t})):b instanceof Error?h(b):ore(b)?h($g(Ei.NAVIGATION_GUARD_REDIRECT,{from:t,to:b})):(s&&n.enterCallbacks[i]===s&&typeof b=="function"&&s.push(b),a())},m=o(()=>e.call(n&&n.instances[i],t,r,p));let v=Promise.resolve(m);e.length<3&&(v=v.then(p)),v.catch(b=>h(b))})}function FP(e,t,r,n,i=o=>o()){const o=[];for(const s of e)for(const a in s.components){let h=s.components[a];if(!(t!=="beforeRouteEnter"&&!s.instances[a]))if(BV(h)){const p=(h.__vccOpts||h)[t];p&&o.push(Ch(p,r,n,s,a,i))}else{let p=h();o.push(()=>p.then(m=>{if(!m)throw new Error(`Couldn't resolve component "${a}" at "${s.path}"`);const v=Lte(m)?m.default:m;s.mods[a]=m,s.components[a]=v;const b=(v.__vccOpts||v)[t];return b&&Ch(b,r,n,s,a,i)()}))}}return o}function hre(e,t){const r=[],n=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let s=0;s<o;s++){const a=t.matched[s];a&&(e.matched.find(p=>kg(p,a))?n.push(a):r.push(a));const h=e.matched[s];h&&(t.matched.find(p=>kg(p,h))||i.push(h))}return[r,n,i]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let dre=()=>location.protocol+"//"+location.host;function qV(e,t){const{pathname:r,search:n,hash:i}=t,o=e.indexOf("#");if(o>-1){let s=i.includes(e.slice(o))?e.slice(o).length:1,a=i.slice(s);return a[0]!=="/"&&(a="/"+a),J3(a,"")}return J3(r,e)+n+i}function fre(e,t,r,n){let i=[],o=[],s=null;const a=({state:b})=>{const x=qV(e,location),C=r.value,I=t.value;let A=0;if(b){if(r.value=x,t.value=b,s&&s===C){s=null;return}A=I?b.position-I.position:0}else n(x);i.forEach(R=>{R(r.value,C,{delta:A,type:_E.pop,direction:A?A>0?BP.forward:BP.back:BP.unknown})})};function h(){s=r.value}function p(b){i.push(b);const x=()=>{const C=i.indexOf(b);C>-1&&i.splice(C,1)};return o.push(x),x}function m(){if(document.visibilityState==="hidden"){const{history:b}=window;if(!b.state)return;b.replaceState(Sn({},b.state,{scroll:k2()}),"")}}function v(){for(const b of o)b();o=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",m),document.removeEventListener("visibilitychange",m)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",m),document.addEventListener("visibilitychange",m),{pauseListeners:h,listen:p,destroy:v}}function nz(e,t,r,n=!1,i=!1){return{back:e,current:t,forward:r,replaced:n,position:window.history.length,scroll:i?k2():null}}function pre(e){const{history:t,location:r}=window,n={value:qV(e,r)},i={value:t.state};i.value||o(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(h,p,m){const v=e.indexOf("#"),b=v>-1?(r.host&&document.querySelector("base")?e:e.slice(v))+h:dre()+e+h;try{t[m?"replaceState":"pushState"](p,"",b),i.value=p}catch(x){console.error(x),r[m?"replace":"assign"](b)}}function s(h,p){o(h,Sn({},t.state,nz(i.value.back,h,i.value.forward,!0),p,{position:i.value.position}),!0),n.value=h}function a(h,p){const m=Sn({},i.value,t.state,{forward:h,scroll:k2()});o(m.current,m,!0),o(h,Sn({},nz(n.value,h,null),{position:m.position+1},p),!1),n.value=h}return{location:n,state:i,push:a,replace:s}}function mre(e){e=Jte(e);const t=pre(e),r=fre(e,t.state,t.location,t.replace);function n(o,s=!0){s||r.pauseListeners(),history.go(o)}const i=Sn({location:"",base:e,go:n,createHref:ere.bind(null,e)},t,r);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}let Ef=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e})({});var no=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e})(no||{});const gre={type:Ef.Static,value:""},vre=/[a-zA-Z0-9_]/;function yre(e){if(!e)return[[]];if(e==="/")return[[gre]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(x){throw new Error(`ERR (${r})/"${p}": ${x}`)}let r=no.Static,n=r;const i=[];let o;function s(){o&&i.push(o),o=[]}let a=0,h,p="",m="";function v(){p&&(r===no.Static?o.push({type:Ef.Static,value:p}):r===no.Param||r===no.ParamRegExp||r===no.ParamRegExpEnd?(o.length>1&&(h==="*"||h==="+")&&t(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),o.push({type:Ef.Param,value:p,regexp:m,repeatable:h==="*"||h==="+",optional:h==="*"||h==="?"})):t("Invalid state to consume buffer"),p="")}function b(){p+=h}for(;a<e.length;){if(h=e[a++],h==="\\"&&r!==no.ParamRegExp){n=r,r=no.EscapeNext;continue}switch(r){case no.Static:h==="/"?(p&&v(),s()):h===":"?(v(),r=no.Param):b();break;case no.EscapeNext:b(),r=n;break;case no.Param:h==="("?r=no.ParamRegExp:vre.test(h)?b():(v(),r=no.Static,h!=="*"&&h!=="?"&&h!=="+"&&a--);break;case no.ParamRegExp:h===")"?m[m.length-1]=="\\"?m=m.slice(0,-1)+h:r=no.ParamRegExpEnd:m+=h;break;case no.ParamRegExpEnd:v(),r=no.Static,h!=="*"&&h!=="?"&&h!=="+"&&a--,m="";break;default:t("Unknown state");break}}return r===no.ParamRegExp&&t(`Unfinished custom RegExp for param "${p}"`),v(),s(),i}const iz="[^/]+?",_re={sensitive:!1,strict:!1,start:!0,end:!0};var ua=(function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e})(ua||{});const bre=/[.+*?^${}()[\]/\\]/g;function xre(e,t){const r=Sn({},_re,t),n=[];let i=r.start?"^":"";const o=[];for(const p of e){const m=p.length?[]:[ua.Root];r.strict&&!p.length&&(i+="/");for(let v=0;v<p.length;v++){const b=p[v];let x=ua.Segment+(r.sensitive?ua.BonusCaseSensitive:0);if(b.type===Ef.Static)v||(i+="/"),i+=b.value.replace(bre,"\\$&"),x+=ua.Static;else if(b.type===Ef.Param){const{value:C,repeatable:I,optional:A,regexp:R}=b;o.push({name:C,repeatable:I,optional:A});const k=R||iz;if(k!==iz){x+=ua.BonusCustomRegExp;try{`${k}`}catch(N){throw new Error(`Invalid custom RegExp for param "${C}" (${k}): `+N.message)}}let $=I?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;v||($=A&&p.length<2?`(?:/${$})`:"/"+$),A&&($+="?"),i+=$,x+=ua.Dynamic,A&&(x+=ua.BonusOptional),I&&(x+=ua.BonusRepeatable),k===".*"&&(x+=ua.BonusWildcard)}m.push(x)}n.push(m)}if(r.strict&&r.end){const p=n.length-1;n[p][n[p].length-1]+=ua.BonusStrict}r.strict||(i+="/?"),r.end?i+="$":r.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const s=new RegExp(i,r.sensitive?"":"i");function a(p){const m=p.match(s),v={};if(!m)return null;for(let b=1;b<m.length;b++){const x=m[b]||"",C=o[b-1];v[C.name]=x&&C.repeatable?x.split("/"):x}return v}function h(p){let m="",v=!1;for(const b of e){(!v||!m.endsWith("/"))&&(m+="/"),v=!1;for(const x of b)if(x.type===Ef.Static)m+=x.value;else if(x.type===Ef.Param){const{value:C,repeatable:I,optional:A}=x,R=C in p?p[C]:"";if(wl(R)&&!I)throw new Error(`Provided param "${C}" is an array but it is not repeatable (* or + modifiers)`);const k=wl(R)?R.join("/"):R;if(!k)if(A)b.length<2&&(m.endsWith("/")?m=m.slice(0,-1):v=!0);else throw new Error(`Missing required param "${C}"`);m+=k}}return m||"/"}return{re:s,score:n,keys:o,parse:a,stringify:h}}function wre(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=t[r]-e[r];if(n)return n;r++}return e.length<t.length?e.length===1&&e[0]===ua.Static+ua.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===ua.Static+ua.Segment?1:-1:0}function ZV(e,t){let r=0;const n=e.score,i=t.score;for(;r<n.length&&r<i.length;){const o=wre(n[r],i[r]);if(o)return o;r++}if(Math.abs(i.length-n.length)===1){if(oz(n))return 1;if(oz(i))return-1}return i.length-n.length}function oz(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Sre={strict:!1,end:!0,sensitive:!1};function Tre(e,t,r){const n=xre(yre(e.path),r),i=Sn(n,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function Cre(e,t){const r=[],n=new Map;t=Y3(Sre,t);function i(v){return n.get(v)}function o(v,b,x){const C=!x,I=sz(v);I.aliasOf=x&&x.record;const A=Y3(t,v),R=[I];if("alias"in v){const N=typeof v.alias=="string"?[v.alias]:v.alias;for(const H of N)R.push(sz(Sn({},I,{components:x?x.record.components:I.components,path:H,aliasOf:x?x.record:I})))}let k,$;for(const N of R){const{path:H}=N;if(b&&H[0]!=="/"){const W=b.record.path,j=W[W.length-1]==="/"?"":"/";N.path=b.record.path+(H&&j+H)}if(k=Tre(N,b,A),x?x.alias.push(k):($=$||k,$!==k&&$.alias.push(k),C&&v.name&&!lz(k)&&s(v.name)),XV(k)&&h(k),I.children){const W=I.children;for(let j=0;j<W.length;j++)o(W[j],k,x&&x.children[j])}x=x||k}return $?()=>{s($)}:j_}function s(v){if(UV(v)){const b=n.get(v);b&&(n.delete(v),r.splice(r.indexOf(b),1),b.children.forEach(s),b.alias.forEach(s))}else{const b=r.indexOf(v);b>-1&&(r.splice(b,1),v.record.name&&n.delete(v.record.name),v.children.forEach(s),v.alias.forEach(s))}}function a(){return r}function h(v){const b=Ire(v,r);r.splice(b,0,v),v.record.name&&!lz(v)&&n.set(v.record.name,v)}function p(v,b){let x,C={},I,A;if("name"in v&&v.name){if(x=n.get(v.name),!x)throw $g(Ei.MATCHER_NOT_FOUND,{location:v});A=x.record.name,C=Sn(az(b.params,x.keys.filter($=>!$.optional).concat(x.parent?x.parent.keys.filter($=>$.optional):[]).map($=>$.name)),v.params&&az(v.params,x.keys.map($=>$.name))),I=x.stringify(C)}else if(v.path!=null)I=v.path,x=r.find($=>$.re.test(I)),x&&(C=x.parse(I),A=x.record.name);else{if(x=b.name?n.get(b.name):r.find($=>$.re.test(b.path)),!x)throw $g(Ei.MATCHER_NOT_FOUND,{location:v,currentLocation:b});A=x.record.name,C=Sn({},b.params,v.params),I=x.stringify(C)}const R=[];let k=x;for(;k;)R.unshift(k.record),k=k.parent;return{name:A,path:I,params:C,matched:R,meta:Mre(R)}}e.forEach(v=>o(v));function m(){r.length=0,n.clear()}return{addRoute:o,resolve:p,removeRoute:s,clearRoutes:m,getRoutes:a,getRecordMatcher:i}}function az(e,t){const r={};for(const n of t)n in e&&(r[n]=e[n]);return r}function sz(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Pre(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Pre(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const n in e.components)t[n]=typeof r=="object"?r[n]:r;return t}function lz(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Mre(e){return e.reduce((t,r)=>Sn(t,r.meta),{})}function Ire(e,t){let r=0,n=t.length;for(;r!==n;){const o=r+n>>1;ZV(e,t[o])<0?n=o:r=o+1}const i=Ere(e);return i&&(n=t.lastIndexOf(i,n-1)),n}function Ere(e){let t=e;for(;t=t.parent;)if(XV(t)&&ZV(e,t)===0)return t}function XV({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function uz(e){const t=Ir($2),r=Ir(YD),n=ve(()=>{const h=rr(e.to);return t.resolve(h)}),i=ve(()=>{const{matched:h}=n.value,{length:p}=h,m=h[p-1],v=r.matched;if(!m||!v.length)return-1;const b=v.findIndex(kg.bind(null,m));if(b>-1)return b;const x=cz(h[p-2]);return p>1&&cz(m)===x&&v[v.length-1].path!==x?v.findIndex(kg.bind(null,h[p-2])):b}),o=ve(()=>i.value>-1&&Rre(r.params,n.value.params)),s=ve(()=>i.value>-1&&i.value===r.matched.length-1&&GV(r.params,n.value.params));function a(h={}){if(Lre(h)){const p=t[rr(e.replace)?"replace":"push"](rr(e.to)).catch(j_);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>p),p}return Promise.resolve()}return{route:n,href:ve(()=>n.value.href),isActive:o,isExactActive:s,navigate:a}}function Are(e){return e.length===1?e[0]:e}const Dre=St({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:uz,setup(e,{slots:t}){const r=ki(uz(e)),{options:n}=Ir($2),i=ve(()=>({[hz(e.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[hz(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const o=t.default&&Are(t.default(r));return e.custom?o:Wt("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},o)}}}),KV=Dre;function Lre(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Rre(e,t){for(const r in t){const n=t[r],i=e[r];if(typeof n=="string"){if(n!==i)return!1}else if(!wl(i)||i.length!==n.length||n.some((o,s)=>o!==i[s]))return!1}return!0}function cz(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const hz=(e,t,r)=>e??t??r,Ore=St({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const n=Ir(xE),i=ve(()=>e.route||n.value),o=Ir(rz,0),s=ve(()=>{let p=rr(o);const{matched:m}=i.value;let v;for(;(v=m[p])&&!v.components;)p++;return p}),a=ve(()=>i.value.matched[s.value]);un(rz,ve(()=>s.value+1)),un(cre,a),un(xE,i);const h=Vt();return Zt(()=>[h.value,a.value,e.name],([p,m,v],[b,x,C])=>{m&&(m.instances[v]=p,x&&x!==m&&p&&p===b&&(m.leaveGuards.size||(m.leaveGuards=x.leaveGuards),m.updateGuards.size||(m.updateGuards=x.updateGuards))),p&&m&&(!x||!kg(m,x)||!b)&&(m.enterCallbacks[v]||[]).forEach(I=>I(p))},{flush:"post"}),()=>{const p=i.value,m=e.name,v=a.value,b=v&&v.components[m];if(!b)return dz(r.default,{Component:b,route:p});const x=v.props[m],C=x?x===!0?p.params:typeof x=="function"?x(p):x:null,A=Wt(b,Sn({},C,t,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(v.instances[m]=null)},ref:h}));return dz(r.default,{Component:A,route:p})||A}}});function dz(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const kre=Ore;function $re(e){const t=Cre(e.routes,e),r=e.parseQuery||lre,n=e.stringifyQuery||tz,i=e.history,o=Vy(),s=Vy(),a=Vy(),h=vt(ec);let p=ec;Gm&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const m=$P.bind(null,Be=>""+Be),v=$P.bind(null,Ute),b=$P.bind(null,_0);function x(Be,it){let je,He;return UV(Be)?(je=t.getRecordMatcher(Be),He=it):He=Be,t.addRoute(He,je)}function C(Be){const it=t.getRecordMatcher(Be);it&&t.removeRoute(it)}function I(){return t.getRoutes().map(Be=>Be.record)}function A(Be){return!!t.getRecordMatcher(Be)}function R(Be,it){if(it=Sn({},it||h.value),typeof Be=="string"){const _e=zP(r,Be,it.path),qe=t.resolve({path:_e.path},it),ht=i.createHref(_e.fullPath);return Sn(_e,qe,{params:b(qe.params),hash:_0(_e.hash),redirectedFrom:void 0,href:ht})}let je;if(Be.path!=null)je=Sn({},Be,{path:zP(r,Be.path,it.path).path});else{const _e=Sn({},Be.params);for(const qe in _e)_e[qe]==null&&delete _e[qe];je=Sn({},Be,{params:v(_e)}),it.params=v(it.params)}const He=t.resolve(je,it),Fe=Be.hash||"";He.params=m(b(He.params));const tt=Zte(n,Sn({},Be,{hash:jte(Fe),path:He.path})),me=i.createHref(tt);return Sn({fullPath:tt,hash:Fe,query:n===tz?ure(Be.query):Be.query||{}},He,{redirectedFrom:void 0,href:me})}function k(Be){return typeof Be=="string"?zP(r,Be,h.value.path):Sn({},Be)}function $(Be,it){if(p!==Be)return $g(Ei.NAVIGATION_CANCELLED,{from:it,to:Be})}function N(Be){return j(Be)}function H(Be){return N(Sn(k(Be),{replace:!0}))}function W(Be,it){const je=Be.matched[Be.matched.length-1];if(je&&je.redirect){const{redirect:He}=je;let Fe=typeof He=="function"?He(Be,it):He;return typeof Fe=="string"&&(Fe=Fe.includes("?")||Fe.includes("#")?Fe=k(Fe):{path:Fe},Fe.params={}),Sn({query:Be.query,hash:Be.hash,params:Fe.path!=null?{}:Be.params},Fe)}}function j(Be,it){const je=p=R(Be),He=h.value,Fe=Be.state,tt=Be.force,me=Be.replace===!0,_e=W(je,He);if(_e)return j(Sn(k(_e),{state:typeof _e=="object"?Sn({},Fe,_e.state):Fe,force:tt,replace:me}),it||je);const qe=je;qe.redirectedFrom=it;let ht;return!tt&&Xte(n,He,je)&&(ht=$g(Ei.NAVIGATION_DUPLICATED,{to:qe,from:He}),Ke(He,He,!0,!1)),(ht?Promise.resolve(ht):Q(qe,He)).catch(et=>Wu(et)?Wu(et,Ei.NAVIGATION_GUARD_REDIRECT)?et:ct(et):ze(et,qe,He)).then(et=>{if(et){if(Wu(et,Ei.NAVIGATION_GUARD_REDIRECT))return j(Sn({replace:me},k(et.to),{state:typeof et.to=="object"?Sn({},Fe,et.to.state):Fe,force:tt}),it||qe)}else et=he(qe,He,!0,me,Fe);return oe(qe,He,et),et})}function X(Be,it){const je=$(Be,it);return je?Promise.reject(je):Promise.resolve()}function K(Be){const it=Nt.values().next().value;return it&&typeof it.runWithContext=="function"?it.runWithContext(Be):Be()}function Q(Be,it){let je;const[He,Fe,tt]=hre(Be,it);je=FP(He.reverse(),"beforeRouteLeave",Be,it);for(const _e of He)_e.leaveGuards.forEach(qe=>{je.push(Ch(qe,Be,it))});const me=X.bind(null,Be,it);return je.push(me),Ft(je).then(()=>{je=[];for(const _e of o.list())je.push(Ch(_e,Be,it));return je.push(me),Ft(je)}).then(()=>{je=FP(Fe,"beforeRouteUpdate",Be,it);for(const _e of Fe)_e.updateGuards.forEach(qe=>{je.push(Ch(qe,Be,it))});return je.push(me),Ft(je)}).then(()=>{je=[];for(const _e of tt)if(_e.beforeEnter)if(wl(_e.beforeEnter))for(const qe of _e.beforeEnter)je.push(Ch(qe,Be,it));else je.push(Ch(_e.beforeEnter,Be,it));return je.push(me),Ft(je)}).then(()=>(Be.matched.forEach(_e=>_e.enterCallbacks={}),je=FP(tt,"beforeRouteEnter",Be,it,K),je.push(me),Ft(je))).then(()=>{je=[];for(const _e of s.list())je.push(Ch(_e,Be,it));return je.push(me),Ft(je)}).catch(_e=>Wu(_e,Ei.NAVIGATION_CANCELLED)?_e:Promise.reject(_e))}function oe(Be,it,je){a.list().forEach(He=>K(()=>He(Be,it,je)))}function he(Be,it,je,He,Fe){const tt=$(Be,it);if(tt)return tt;const me=it===ec,_e=Gm?history.state:{};je&&(He||me?i.replace(Be.fullPath,Sn({scroll:me&&_e&&_e.scroll},Fe)):i.push(Be.fullPath,Fe)),h.value=Be,Ke(Be,it,je,me),ct()}let ye;function be(){ye||(ye=i.listen((Be,it,je)=>{if(!zt.listening)return;const He=R(Be),Fe=W(He,zt.currentRoute.value);if(Fe){j(Sn(Fe,{replace:!0,force:!0}),He).catch(j_);return}p=He;const tt=h.value;Gm&&nre(ez(tt.fullPath,je.delta),k2()),Q(He,tt).catch(me=>Wu(me,Ei.NAVIGATION_ABORTED|Ei.NAVIGATION_CANCELLED)?me:Wu(me,Ei.NAVIGATION_GUARD_REDIRECT)?(j(Sn(k(me.to),{force:!0}),He).then(_e=>{Wu(_e,Ei.NAVIGATION_ABORTED|Ei.NAVIGATION_DUPLICATED)&&!je.delta&&je.type===_E.pop&&i.go(-1,!1)}).catch(j_),Promise.reject()):(je.delta&&i.go(-je.delta,!1),ze(me,He,tt))).then(me=>{me=me||he(He,tt,!1),me&&(je.delta&&!Wu(me,Ei.NAVIGATION_CANCELLED)?i.go(-je.delta,!1):je.type===_E.pop&&Wu(me,Ei.NAVIGATION_ABORTED|Ei.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),oe(He,tt,me)}).catch(j_)}))}let ce=Vy(),de=Vy(),Oe;function ze(Be,it,je){ct(Be);const He=de.list();return He.length?He.forEach(Fe=>Fe(Be,it,je)):console.error(Be),Promise.reject(Be)}function De(){return Oe&&h.value!==ec?Promise.resolve():new Promise((Be,it)=>{ce.add([Be,it])})}function ct(Be){return Oe||(Oe=!Be,be(),ce.list().forEach(([it,je])=>Be?je(Be):it()),ce.reset()),Be}function Ke(Be,it,je,He){const{scrollBehavior:Fe}=e;if(!Gm||!Fe)return Promise.resolve();const tt=!je&&ire(ez(Be.fullPath,0))||(He||!je)&&history.state&&history.state.scroll||null;return _i().then(()=>Fe(Be,it,tt)).then(me=>me&&rre(me)).catch(me=>ze(me,Be,it))}const gt=Be=>i.go(Be);let Lt;const Nt=new Set,zt={currentRoute:h,listening:!0,addRoute:x,removeRoute:C,clearRoutes:t.clearRoutes,hasRoute:A,getRoutes:I,resolve:R,options:e,push:N,replace:H,go:gt,back:()=>gt(-1),forward:()=>gt(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:de.add,isReady:De,install(Be){Be.component("RouterLink",KV),Be.component("RouterView",kre),Be.config.globalProperties.$router=zt,Object.defineProperty(Be.config.globalProperties,"$route",{enumerable:!0,get:()=>rr(h)}),Gm&&!Lt&&h.value===ec&&(Lt=!0,N(i.location).catch(He=>{}));const it={};for(const He in ec)Object.defineProperty(it,He,{get:()=>h.value[He],enumerable:!0});Be.provide($2,zt),Be.provide(YD,R9(it)),Be.provide(xE,h);const je=Be.unmount;Nt.add(Be),Be.unmount=function(){Nt.delete(Be),Nt.size<1&&(p=ec,ye&&ye(),ye=null,h.value=ec,Lt=!1,Oe=!1),je()}}};function Ft(Be){return Be.reduce((it,je)=>it.then(()=>K(je)),Promise.resolve())}return zt}function rv(){return Ir($2)}function sp(e){return Ir(YD)}var JD=Symbol(""),bu=()=>{const e=Ir(JD);if(!e)throw new Error("useClientData() is called without provider.");return e},zre=()=>bu().pageComponent,YV=()=>bu().pageFrontmatter,Bre=()=>bu().pageHead,JV=()=>bu().pageLang,Fre=()=>bu().pageLayout,QD=()=>bu().routeLocale,QV=()=>bu().routePath,Nre=()=>bu().routes,Vre=()=>bu().siteData,z2=bu,ej=YV,jre=JV,wE=new Set,nv=e=>{wE.add(e),_u(()=>{wE.delete(e)})},Hre=Symbol(""),SE=vt(Ate),mg=vt(Dte),tj=(e,t)=>{const r=_te(e,t);if(mg.value[r])return r;const n=encodeURI(r);if(mg.value[n])return n;const i=SE.value[r]||SE.value[n];return i||r},b0=(e,t)=>{const{pathname:r,hashAndQueries:n}=$V(e),i=tj(r,t),o=i+n;return mg.value[i]?{...mg.value[i],path:o,notFound:!1}:{...mg.value["/404.html"],path:o,notFound:!0}},Gre=(e,t)=>{const{pathname:r,hashAndQueries:n}=$V(e);return tj(r,t)+n},Ure=e=>{if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)&&!(e.currentTarget&&e.currentTarget.getAttribute("target")?.match(/\b_blank\b/i)))return e.preventDefault(),!0},hb=St({name:"RouteLink",props:{to:{type:String,required:!0},active:Boolean,activeClass:{type:String,default:"route-link-active"}},slots:Object,setup(e,{slots:t}){const r=rv(),n=sp(),i=ve(()=>e.to.startsWith("#")||e.to.startsWith("?")?e.to:`/${Gre(e.to,n.path).substring(1)}`);return()=>Wt("a",{class:["route-link",{[e.activeClass]:e.active}],href:i.value,onClick:(o={})=>{Ure(o)&&r.push(e.to).catch()}},t.default())}}),Wre=St({name:"AutoLink",props:{config:{type:Object,required:!0}},slots:Object,setup(e,{slots:t}){const r=es(e,"config"),n=sp(),i=Vre(),o=ve(()=>ub(r.value.link)),s=ve(()=>r.value.target||(o.value?"_blank":void 0)),a=ve(()=>s.value==="_blank"),h=ve(()=>!o.value&&!a.value),p=ve(()=>r.value.rel||(a.value?"noopener noreferrer":null)),m=ve(()=>r.value.ariaLabel??r.value.text),v=ve(()=>{if(r.value.exact)return!1;const x=Object.keys(i.value.locales);return x.length?x.every(C=>C!==r.value.link):r.value.link!=="/"}),b=ve(()=>h.value?r.value.activeMatch?(r.value.activeMatch instanceof RegExp?r.value.activeMatch:new RegExp(r.value.activeMatch,"u")).test(n.path):v.value?n.path.startsWith(r.value.link):n.path===r.value.link:!1);return()=>{const{before:x,after:C,default:I}=t,A=I?.(r.value)??[x?.(r.value),r.value.text,C?.(r.value)];return h.value?Wt(hb,{class:"auto-link",to:r.value.link,active:b.value,"aria-label":m.value},()=>A):Wt("a",{class:"auto-link external-link",href:r.value.link,"aria-label":m.value,rel:p.value,target:s.value},A)}}}),eL=St({name:"ClientOnly",setup(e,t){const r=Vt(!1);return Nr(()=>{r.value=!0}),()=>r.value?t.slots.default?.():null}}),yx=e=>{wE.forEach(t=>t(e))},tL=St({name:"Content",props:{path:{type:String,required:!1,default:""}},setup(e){const t=zre(),r=ve(()=>{if(!e.path)return t.value;const i=b0(e.path);return $Q(async()=>i.loader().then(({comp:o})=>o))}),n=YV();return Zt(n,()=>{yx("updated")},{deep:!0,flush:"post"}),()=>Wt(r.value,{onVnodeMounted:()=>{yx("mounted")},onVnodeUpdated:()=>{yx("updated")},onVnodeBeforeUnmount:()=>{yx("beforeUnmount")}})}}),qre="Layout",Zre="en-US",Wd=ki({resolveLayouts:e=>e.reduce((t,r)=>({...t,...r.layouts}),{}),resolvePageHead:(e,t,r)=>{const n=Ns(t.description)?t.description:r.description,i=[...Array.isArray(t.head)?t.head:[],...r.head,["title",{},e],["meta",{name:"description",content:n}]];return Pte(i)},resolvePageHeadTitle:(e,t)=>[e.title,t.title].filter(r=>!!r).join(" | "),resolvePageLang:(e,t)=>e.lang||t.lang||Zre,resolvePageLayout:(e,t)=>{const r=Ns(e.frontmatter.layout)?e.frontmatter.layout:qre;if(!t[r])throw new Error(`[vuepress] Cannot resolve layout: ${r}`);return t[r]},resolveRouteLocale:(e,t)=>bte(e,decodeURI(t)),resolveSiteLocaleData:({base:e,locales:t,...r},n)=>({...r,...t[n],head:[...t[n]?.head??[],...r.head]})}),Pl=(e={})=>e,B2=e=>cb(e)?e:`/${ZD(e)}`,Xre=Object.defineProperty,Kre=(e,t)=>{for(var r in t)Xre(e,r,{get:t[r],enumerable:!0})},Yre={};Kre(Yre,{COMPONENT_STATE_TYPE:()=>Jre,INSPECTOR_ID:()=>Qre,INSPECTOR_LABEL:()=>ene,INSPECTOR_NODES:()=>tne,INSPECTOR_STATE_SECTION_NAME:()=>rne,PLUGIN_ID:()=>rj,PLUGIN_LABEL:()=>rL});var rj="org.vuejs.vuepress",rL="VuePress",Jre=rL,Qre=rj,ene=rL,fz={id:"INTERNAL",label:"Internal",keys:["layouts","routes","redirects"]},pz={id:"SITE",label:"Site",keys:["siteData","siteLocaleData"]},mz={id:"ROUTE",label:"Route",keys:["routePath","routeLocale"]},gz={id:"PAGE",label:"Page",keys:["pageData","pageFrontmatter","pageLang","pageHead","pageHeadTitle","pageLayout","pageComponent"]},tne={[fz.id]:fz,[pz.id]:pz,[mz.id]:mz,[gz.id]:gz},rne="State";function nL(e,t){return P2()?(qJ(e,t),!0):!1}const gg=new WeakMap,nj=(...e)=>{var t;const r=e[0],n=(t=Yi())===null||t===void 0?void 0:t.proxy,i=n??P2();if(i==null&&!aV())throw new Error("injectLocal must be called in setup");return i&&gg.has(i)&&r in gg.get(i)?gg.get(i)[r]:Ir(...e)};function nne(e,t){var r;const n=(r=Yi())===null||r===void 0?void 0:r.proxy,i=n??P2();if(i==null)throw new Error("provideLocal must be called in setup");gg.has(i)||gg.set(i,Object.create(null));const o=gg.get(i);return o[e]=t,un(e,t)}const iL=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ine=e=>e!=null,one=Object.prototype.toString,ane=e=>one.call(e)==="[object Object]",Xf=()=>{};function sne(...e){if(e.length!==1)return es(...e);const t=e[0];return typeof t=="function"?Hh($9(()=>({get:t,set:Xf}))):Vt(t)}function oL(e,t){function r(...n){return new Promise((i,o)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(i).catch(o)})}return r}const ij=e=>e();function lne(e,t={}){let r,n,i=Xf;const o=h=>{clearTimeout(h),i(),i=Xf};let s;return h=>{const p=Ln(e),m=Ln(t.maxWait);return r&&o(r),p<=0||m!==void 0&&m<=0?(n&&(o(n),n=void 0),Promise.resolve(h())):new Promise((v,b)=>{i=t.rejectOnCancel?b:v,s=h,m&&!n&&(n=setTimeout(()=>{r&&o(r),n=void 0,v(s())},m)),r=setTimeout(()=>{n&&o(n),n=void 0,v(h())},p)})}}function une(...e){let t=0,r,n=!0,i=Xf,o,s,a,h,p;!Ri(e[0])&&typeof e[0]=="object"?{delay:s,trailing:a=!0,leading:h=!0,rejectOnCancel:p=!1}=e[0]:[s,a=!0,h=!0,p=!1]=e;const m=()=>{r&&(clearTimeout(r),r=void 0,i(),i=Xf)};return b=>{const x=Ln(s),C=Date.now()-t,I=()=>o=b();return m(),x<=0?(t=Date.now(),I()):(C>x?(t=Date.now(),(h||!n)&&I()):a&&(o=new Promise((A,R)=>{i=p?R:A,r=setTimeout(()=>{t=Date.now(),n=!0,A(I()),m()},Math.max(0,x-C))})),!h&&!r&&(r=setTimeout(()=>n=!0,x)),n=!1,o)}}function cne(e=ij,t={}){const{initialState:r="active"}=t,n=sne(r==="active");function i(){n.value=!1}function o(){n.value=!0}const s=(...a)=>{n.value&&e(...a)};return{isActive:Hh(n),pause:i,resume:o,eventFilter:s}}function hne(e){let t;function r(){return t||(t=e()),t}return r.reset=async()=>{const n=t;t=void 0,n&&await n},r}function vz(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function H_(e){return Array.isArray(e)?e:[e]}function dne(e){return Yi()}function oj(e,t=200,r={}){return oL(lne(t,r),e)}function fne(e,t=200,r=!1,n=!0,i=!1){return oL(une(t,r,n,i),e)}function pne(e,t,r={}){const{eventFilter:n=ij,...i}=r;return Zt(e,oL(n,t),i)}function mne(e,t,r={}){const{eventFilter:n,initialState:i="active",...o}=r,{eventFilter:s,pause:a,resume:h,isActive:p}=cne(n,{initialState:i});return{stop:pne(e,t,{...o,eventFilter:s}),pause:a,resume:h,isActive:p}}const gne=mne;function F2(e,t=!0,r){dne()?Nr(e,r):t?e():_i(e)}function vne(e,t,r={}){const{immediate:n=!0,immediateCallback:i=!1}=r,o=vt(!1);let s;function a(){s&&(clearTimeout(s),s=void 0)}function h(){o.value=!1,a()}function p(...m){i&&e(),a(),o.value=!0,s=setTimeout(()=>{o.value=!1,s=void 0,e(...m)},Ln(t))}return n&&(o.value=!0,iL&&p()),nL(h),{isPending:fQ(o),start:p,stop:h}}function aL(e=!1,t={}){const{truthyValue:r=!0,falsyValue:n=!1}=t,i=Ri(e),o=vt(e);function s(a){if(arguments.length)return o.value=a,o.value;{const h=Ln(r);return o.value=o.value===h?Ln(n):h,o.value}}return i?s:[o,s]}function sL(e,t,r){return Zt(e,t,{...r,immediate:!0})}const Fs=iL?window:void 0,aj=iL?window.navigator:void 0;function lc(e){var t;const r=Ln(e);return(t=r?.$el)!==null&&t!==void 0?t:r}function ta(...e){const t=(n,i,o,s)=>(n.addEventListener(i,o,s),()=>n.removeEventListener(i,o,s)),r=ve(()=>{const n=H_(Ln(e[0])).filter(i=>i!=null);return n.every(i=>typeof i!="string")?n:void 0});return sL(()=>{var n,i;return[(n=(i=r.value)===null||i===void 0?void 0:i.map(o=>lc(o)))!==null&&n!==void 0?n:[Fs].filter(o=>o!=null),H_(Ln(r.value?e[1]:e[0])),H_(rr(r.value?e[2]:e[1])),Ln(r.value?e[3]:e[2])]},([n,i,o,s],a,h)=>{if(!n?.length||!i?.length||!o?.length)return;const p=ane(s)?{...s}:s,m=n.flatMap(v=>i.flatMap(b=>o.map(x=>t(v,b,x,p))));h(()=>{m.forEach(v=>v())})},{flush:"post"})}function lL(){const e=vt(!1),t=Yi();return t&&Nr(()=>{e.value=!0},t),e}function db(e){const t=lL();return ve(()=>(t.value,!!e()))}function yne(e,t,r={}){const{window:n=Fs,...i}=r;let o;const s=db(()=>n&&"MutationObserver"in n),a=()=>{o&&(o.disconnect(),o=void 0)},h=Zt(ve(()=>{const v=H_(Ln(e)).map(lc).filter(ine);return new Set(v)}),v=>{a(),s.value&&v.size&&(o=new MutationObserver(t),v.forEach(b=>o.observe(b,i)))},{immediate:!0,flush:"post"}),p=()=>o?.takeRecords(),m=()=>{h(),a()};return nL(m),{isSupported:s,stop:m,takeRecords:p}}const _ne=Symbol("vueuse-ssr-width");function bne(){const e=aV()?nj(_ne,null):null;return typeof e=="number"?e:void 0}function uL(e,t={}){const{window:r=Fs,ssrWidth:n=bne()}=t,i=db(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function"),o=vt(typeof n=="number"),s=vt(),a=vt(!1),h=p=>{a.value=p.matches};return Gn(()=>{if(o.value){o.value=!i.value,a.value=Ln(e).split(",").some(p=>{const m=p.includes("not all"),v=p.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),b=p.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let x=!!(v||b);return v&&x&&(x=n>=vz(v[1])),b&&x&&(x=n<=vz(b[1])),m?!x:x});return}i.value&&(s.value=r.matchMedia(Ln(e)),a.value=s.value.matches)}),ta(s,"change",h,{passive:!0}),ve(()=>a.value)}function yz(e,t={}){const{controls:r=!1,navigator:n=aj}=t,i=db(()=>n&&"permissions"in n),o=vt(),s=typeof e=="string"?{name:e}:e,a=vt(),h=()=>{var m,v;a.value=(m=(v=o.value)===null||v===void 0?void 0:v.state)!==null&&m!==void 0?m:"prompt"};ta(o,"change",h,{passive:!0});const p=hne(async()=>{if(i.value){if(!o.value)try{o.value=await n.permissions.query(s)}catch{o.value=void 0}finally{h()}if(r)return Ur(o.value)}});return p(),r?{state:a,isSupported:i,query:p}:a}function xne(e={}){const{navigator:t=aj,read:r=!1,source:n,copiedDuring:i=1500,legacy:o=!1}=e,s=db(()=>t&&"clipboard"in t),a=yz("clipboard-read"),h=yz("clipboard-write"),p=ve(()=>s.value||o),m=vt(""),v=vt(!1),b=vne(()=>v.value=!1,i,{immediate:!1});async function x(){let k=!(s.value&&R(a.value));if(!k)try{m.value=await t.clipboard.readText()}catch{k=!0}k&&(m.value=A())}p.value&&r&&ta(["copy","cut"],x,{passive:!0});async function C(k=Ln(n)){if(p.value&&k!=null){let $=!(s.value&&R(h.value));if(!$)try{await t.clipboard.writeText(k)}catch{$=!0}$&&I(k),m.value=k,v.value=!0,b.start()}}function I(k){const $=document.createElement("textarea");$.value=k,$.style.position="absolute",$.style.opacity="0",$.setAttribute("readonly",""),document.body.appendChild($),$.select(),document.execCommand("copy"),$.remove()}function A(){var k,$,N;return(k=($=document)===null||$===void 0||(N=$.getSelection)===null||N===void 0||(N=N.call($))===null||N===void 0?void 0:N.toString())!==null&&k!==void 0?k:""}function R(k){return k==="granted"||k==="prompt"}return{isSupported:p,text:Hh(m),copied:Hh(v),copy:C}}const _x=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bx="__vueuse_ssr_handlers__",wne=Sne();function Sne(){return bx in _x||(_x[bx]=_x[bx]||{}),_x[bx]}function Tne(e,t){return wne[e]||t}function Cne(e){return uL("(prefers-color-scheme: dark)",e)}function Pne(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Mne={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},_z="vueuse-storage";function cL(e,t,r,n={}){var i;const{flush:o="pre",deep:s=!0,listenToStorageChanges:a=!0,writeDefaults:h=!0,mergeDefaults:p=!1,shallow:m,window:v=Fs,eventFilter:b,onError:x=be=>{console.error(be)},initOnMounted:C}=n,I=(m?vt:Vt)(typeof t=="function"?t():t),A=ve(()=>Ln(e));if(!r)try{r=Tne("getDefaultStorage",()=>Fs?.localStorage)()}catch(be){x(be)}if(!r)return I;const R=Ln(t),k=Pne(R),$=(i=n.serializer)!==null&&i!==void 0?i:Mne[k],{pause:N,resume:H}=gne(I,be=>Q(be),{flush:o,deep:s,eventFilter:b});Zt(A,()=>he(),{flush:o});let W=!1;const j=be=>{C&&!W||he(be)},X=be=>{C&&!W||ye(be)};v&&a&&(r instanceof Storage?ta(v,"storage",j,{passive:!0}):ta(v,_z,X)),C?F2(()=>{W=!0,he()}):he();function K(be,ce){if(v){const de={key:A.value,oldValue:be,newValue:ce,storageArea:r};v.dispatchEvent(r instanceof Storage?new StorageEvent("storage",de):new CustomEvent(_z,{detail:de}))}}function Q(be){try{const ce=r.getItem(A.value);if(be==null)K(ce,null),r.removeItem(A.value);else{const de=$.write(be);ce!==de&&(r.setItem(A.value,de),K(ce,de))}}catch(ce){x(ce)}}function oe(be){const ce=be?be.newValue:r.getItem(A.value);if(ce==null)return h&&R!=null&&r.setItem(A.value,$.write(R)),R;if(!be&&p){const de=$.read(ce);return typeof p=="function"?p(de,R):k==="object"&&!Array.isArray(de)?{...R,...de}:de}else return typeof ce!="string"?ce:$.read(ce)}function he(be){if(!(be&&be.storageArea!==r)){if(be&&be.key==null){I.value=R;return}if(!(be&&be.key!==A.value)){N();try{const ce=$.write(I.value);(be===void 0||be?.newValue!==ce)&&(I.value=oe(be))}catch(ce){x(ce)}finally{be?_i(H):H()}}}}function ye(be){he(be.detail)}return I}function Ine(e,t,r={}){const{window:n=Fs,...i}=r;let o;const s=db(()=>n&&"ResizeObserver"in n),a=()=>{o&&(o.disconnect(),o=void 0)},h=Zt(ve(()=>{const m=Ln(e);return Array.isArray(m)?m.map(v=>lc(v)):[lc(m)]}),m=>{if(a(),s.value&&n){o=new ResizeObserver(t);for(const v of m)v&&o.observe(v,i)}},{immediate:!0,flush:"post"}),p=()=>{a(),h()};return nL(p),{isSupported:s,stop:p}}function Ene(e,t={width:0,height:0},r={}){const{window:n=Fs,box:i="content-box"}=r,o=ve(()=>{var v;return(v=lc(e))===null||v===void 0||(v=v.namespaceURI)===null||v===void 0?void 0:v.includes("svg")}),s=vt(t.width),a=vt(t.height),{stop:h}=Ine(e,([v])=>{const b=i==="border-box"?v.borderBoxSize:i==="content-box"?v.contentBoxSize:v.devicePixelContentBoxSize;if(n&&o.value){const x=lc(e);if(x){const C=x.getBoundingClientRect();s.value=C.width,a.value=C.height}}else if(b){const x=H_(b);s.value=x.reduce((C,{inlineSize:I})=>C+I,0),a.value=x.reduce((C,{blockSize:I})=>C+I,0)}else s.value=v.contentRect.width,a.value=v.contentRect.height},r);F2(()=>{const v=lc(e);v&&(s.value="offsetWidth"in v?v.offsetWidth:t.width,a.value="offsetHeight"in v?v.offsetHeight:t.height)});const p=Zt(()=>lc(e),v=>{s.value=v?t.width:0,a.value=v?t.height:0});function m(){h(),p()}return{width:s,height:a,stop:m}}const bz=1;function Ane(e,t={}){const{throttle:r=0,idle:n=200,onStop:i=Xf,onScroll:o=Xf,offset:s={left:0,right:0,top:0,bottom:0},observe:a={mutation:!1},eventListenerOptions:h={capture:!1,passive:!0},behavior:p="auto",window:m=Fs,onError:v=K=>{console.error(K)}}=t,b=typeof a=="boolean"?{mutation:a}:a,x=vt(0),C=vt(0),I=ve({get(){return x.value},set(K){R(K,void 0)}}),A=ve({get(){return C.value},set(K){R(void 0,K)}});function R(K,Q){var oe,he,ye,be;if(!m)return;const ce=Ln(e);if(!ce)return;(oe=ce instanceof Document?m.document.body:ce)===null||oe===void 0||oe.scrollTo({top:(he=Ln(Q))!==null&&he!==void 0?he:A.value,left:(ye=Ln(K))!==null&&ye!==void 0?ye:I.value,behavior:Ln(p)});const de=(ce==null||(be=ce.document)===null||be===void 0?void 0:be.documentElement)||ce?.documentElement||ce;I!=null&&(x.value=de.scrollLeft),A!=null&&(C.value=de.scrollTop)}const k=vt(!1),$=ki({left:!0,right:!1,top:!0,bottom:!1}),N=ki({left:!1,right:!1,top:!1,bottom:!1}),H=K=>{k.value&&(k.value=!1,N.left=!1,N.right=!1,N.top=!1,N.bottom=!1,i(K))},W=oj(H,r+n),j=K=>{var Q;if(!m)return;const oe=(K==null||(Q=K.document)===null||Q===void 0?void 0:Q.documentElement)||K?.documentElement||lc(K),{display:he,flexDirection:ye,direction:be}=m.getComputedStyle(oe),ce=be==="rtl"?-1:1,de=oe.scrollLeft;N.left=de<x.value,N.right=de>x.value;const Oe=Math.abs(de*ce)<=(s.left||0),ze=Math.abs(de*ce)+oe.clientWidth>=oe.scrollWidth-(s.right||0)-bz;he==="flex"&&ye==="row-reverse"?($.left=ze,$.right=Oe):($.left=Oe,$.right=ze),x.value=de;let De=oe.scrollTop;K===m.document&&!De&&(De=m.document.body.scrollTop),N.top=De<C.value,N.bottom=De>C.value;const ct=Math.abs(De)<=(s.top||0),Ke=Math.abs(De)+oe.clientHeight>=oe.scrollHeight-(s.bottom||0)-bz;he==="flex"&&ye==="column-reverse"?($.top=Ke,$.bottom=ct):($.top=ct,$.bottom=Ke),C.value=De},X=K=>{var Q;m&&(j((Q=K.target.documentElement)!==null&&Q!==void 0?Q:K.target),k.value=!0,W(K),o(K))};return ta(e,"scroll",r?fne(X,r,!0,!1):X,h),F2(()=>{try{const K=Ln(e);if(!K)return;j(K)}catch(K){v(K)}}),b?.mutation&&e!=null&&e!==m&&e!==document&&yne(e,()=>{const K=Ln(e);K&&j(K)},{attributes:!0,childList:!0,subtree:!0}),ta(e,"scrollend",H,h),{x:I,y:A,isScrolling:k,arrivedState:$,directions:N,measure(){const K=Ln(e);m&&K&&j(K)}}}function Dne(e={}){const{window:t=Fs,...r}=e;return Ane(t,r)}function Lne(e={}){const{window:t=Fs,initialWidth:r=Number.POSITIVE_INFINITY,initialHeight:n=Number.POSITIVE_INFINITY,listenOrientation:i=!0,includeScrollbar:o=!0,type:s="inner"}=e,a=vt(r),h=vt(n),p=()=>{if(t)if(s==="outer")a.value=t.outerWidth,h.value=t.outerHeight;else if(s==="visual"&&t.visualViewport){const{width:v,height:b,scale:x}=t.visualViewport;a.value=Math.round(v*x),h.value=Math.round(b*x)}else o?(a.value=t.innerWidth,h.value=t.innerHeight):(a.value=t.document.documentElement.clientWidth,h.value=t.document.documentElement.clientHeight)};p(),F2(p);const m={passive:!0};return ta("resize",p,m),t&&s==="visual"&&t.visualViewport&&ta(t.visualViewport,"resize",p,m),i&&Zt(uL("(orientation: portrait)"),()=>p()),{width:a,height:h}}const xz=async(e,t)=>{const{path:r,query:n}=e.currentRoute.value,{scrollBehavior:i}=e.options;e.options.scrollBehavior=void 0,await e.replace({path:r,query:n,hash:t}),e.options.scrollBehavior=i},Rne=({headerLinkSelector:e,headerAnchorSelector:t,delay:r,offset:n=5})=>{const i=rv();ta("scroll",oj(()=>{const s=Math.max(window.scrollY,document.documentElement.scrollTop,document.body.scrollTop);if(Math.abs(s)<n){xz(i,"");return}const h=window.innerHeight+s,p=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),m=Math.abs(p-h)<n,v=Array.from(document.querySelectorAll(e)),x=Array.from(document.querySelectorAll(t)).filter(C=>v.some(I=>I.hash===C.hash));for(let C=0;C<x.length;C++){const I=x[C],A=x[C+1],R=s>=(I.parentElement?.offsetTop??0)-n,k=!A||s<(A.parentElement?.offsetTop??0)-n;if(!(R&&k))continue;const N=decodeURIComponent(i.currentRoute.value.hash),H=decodeURIComponent(I.hash);if(N===H)return;if(m){for(let W=C+1;W<x.length;W++)if(N===decodeURIComponent(x[W].hash))return}xz(i,H);return}},r))},One="a.vp-sidebar-item",kne=".header-anchor",$ne=300,zne=5,Bne=Pl({setup(){Rne({headerLinkSelector:One,headerAnchorSelector:kne,delay:$ne,offset:zne})}}),Fne=Object.freeze(Object.defineProperty({__proto__:null,default:Bne},Symbol.toStringTag,{value:"Module"})),Nne=St({name:"FadeInExpandTransition",props:{group:Boolean,appear:Boolean,width:Boolean,mode:String,onLeave:Function,onAfterLeave:Function,onAfterEnter:Function},setup(e,{slots:t}){const r=a=>{a.style[e.width?"maxWidth":"maxHeight"]=`${a.offsetHeight}px`,a.offsetWidth},n=a=>{a.style[e.width?"maxWidth":"maxHeight"]="0",a.offsetWidth,e.onLeave?.()},i=a=>{a.style[e.width?"maxWidth":"maxHeight"]="",e.onAfterLeave?.()},o=a=>{if(a.style.transition="none",e.width){const h=a.offsetWidth;a.style.maxWidth="0",a.offsetWidth,a.style.transition="",a.style.maxWidth=`${h}px`}else{const h=a.offsetHeight;a.style.maxHeight="0",a.offsetWidth,a.style.transition="",a.style.maxHeight=`${h}px`}a.offsetWidth},s=a=>{a.style[e.width?"maxWidth":"maxHeight"]="",e.onAfterEnter?.()};return()=>Wt(e.group?qD:Fa,{name:e.width?"fade-in-width-expand":"fade-in-height-expand",appear:e.appear,onEnter:o,onAfterEnter:s,onBeforeLeave:r,onLeave:n,onAfterLeave:i,...e.group?void 0:{mode:e.mode}},t)}});var rs=Uint8Array,eg=Uint16Array,Vne=Int32Array,sj=new rs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),lj=new rs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),jne=new rs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),uj=function(e,t){for(var r=new eg(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new Vne(r[30]),n=1;n<30;++n)for(var o=r[n];o<r[n+1];++o)i[o]=o-r[n]<<5|n;return{b:r,r:i}},cj=uj(sj,2),hj=cj.b,Hne=cj.r;hj[28]=258,Hne[258]=28;var Gne=uj(lj,0),Une=Gne.b,TE=new eg(32768);for(var ci=0;ci<32768;++ci){var lh=(ci&43690)>>1|(ci&21845)<<1;lh=(lh&52428)>>2|(lh&13107)<<2,lh=(lh&61680)>>4|(lh&3855)<<4,TE[ci]=((lh&65280)>>8|(lh&255)<<8)>>1}var G_=(function(e,t,r){for(var n=e.length,i=0,o=new eg(t);i<n;++i)e[i]&&++o[e[i]-1];var s=new eg(t);for(i=1;i<t;++i)s[i]=s[i-1]+o[i-1]<<1;var a;if(r){a=new eg(1<<t);var h=15-t;for(i=0;i<n;++i)if(e[i])for(var p=i<<4|e[i],m=t-e[i],v=s[e[i]-1]++<<m,b=v|(1<<m)-1;v<=b;++v)a[TE[v]>>h]=p}else for(a=new eg(n),i=0;i<n;++i)e[i]&&(a[i]=TE[s[e[i]-1]++]>>15-e[i]);return a}),fb=new rs(288);for(var ci=0;ci<144;++ci)fb[ci]=8;for(var ci=144;ci<256;++ci)fb[ci]=9;for(var ci=256;ci<280;++ci)fb[ci]=7;for(var ci=280;ci<288;++ci)fb[ci]=8;var dj=new rs(32);for(var ci=0;ci<32;++ci)dj[ci]=5;var Wne=G_(fb,9,1),qne=G_(dj,5,1),NP=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},sl=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},VP=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},Zne=function(e){return(e+7)/8|0},Xne=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new rs(e.subarray(t,r))},Kne=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ts=function(e,t,r){var n=new Error(t||Kne[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,ts),!r)throw n;return n},hL=function(e,t,r,n){var i=e.length,o=0;if(!i||t.f&&!t.l)return r||new rs(0);var s=!r,a=s||t.i!=2,h=t.i;s&&(r=new rs(i*3));var p=function(Fe){var tt=r.length;if(Fe>tt){var me=new rs(Math.max(tt*2,Fe));me.set(r),r=me}},m=t.f||0,v=t.p||0,b=t.b||0,x=t.l,C=t.d,I=t.m,A=t.n,R=i*8;do{if(!x){m=sl(e,v,1);var k=sl(e,v+1,3);if(v+=3,k)if(k==1)x=Wne,C=qne,I=9,A=5;else if(k==2){var W=sl(e,v,31)+257,j=sl(e,v+10,15)+4,X=W+sl(e,v+5,31)+1;v+=14;for(var K=new rs(X),Q=new rs(19),oe=0;oe<j;++oe)Q[jne[oe]]=sl(e,v+oe*3,7);v+=j*3;for(var he=NP(Q),ye=(1<<he)-1,be=G_(Q,he,1),oe=0;oe<X;){var ce=be[sl(e,v,ye)];v+=ce&15;var $=ce>>4;if($<16)K[oe++]=$;else{var de=0,Oe=0;for($==16?(Oe=3+sl(e,v,3),v+=2,de=K[oe-1]):$==17?(Oe=3+sl(e,v,7),v+=3):$==18&&(Oe=11+sl(e,v,127),v+=7);Oe--;)K[oe++]=de}}var ze=K.subarray(0,W),De=K.subarray(W);I=NP(ze),A=NP(De),x=G_(ze,I,1),C=G_(De,A,1)}else ts(1);else{var $=Zne(v)+4,N=e[$-4]|e[$-3]<<8,H=$+N;if(H>i){h&&ts(0);break}a&&p(b+N),r.set(e.subarray($,H),b),t.b=b+=N,t.p=v=H*8,t.f=m;continue}if(v>R){h&&ts(0);break}}a&&p(b+131072);for(var ct=(1<<I)-1,Ke=(1<<A)-1,gt=v;;gt=v){var de=x[VP(e,v)&ct],Lt=de>>4;if(v+=de&15,v>R){h&&ts(0);break}if(de||ts(2),Lt<256)r[b++]=Lt;else if(Lt==256){gt=v,x=null;break}else{var Nt=Lt-254;if(Lt>264){var oe=Lt-257,zt=sj[oe];Nt=sl(e,v,(1<<zt)-1)+hj[oe],v+=zt}var Ft=C[VP(e,v)&Ke],Be=Ft>>4;Ft||ts(3),v+=Ft&15;var De=Une[Be];if(Be>3){var zt=lj[Be];De+=VP(e,v)&(1<<zt)-1,v+=zt}if(v>R){h&&ts(0);break}a&&p(b+131072);var it=b+Nt;if(b<De){var je=o-De,He=Math.min(De,it);for(je+b<0&&ts(3);b<He;++b)r[b]=n[je+b]}for(;b<it;++b)r[b]=r[b-De]}}t.l=x,t.p=gt,t.b=b,t.f=m,x&&(m=1,t.m=I,t.d=C,t.n=A)}while(!m);return b!=r.length&&s?Xne(r,0,b):r.subarray(0,b)},Yne=new rs(0),Jne=function(e){(e[0]!=31||e[1]!=139||e[2]!=8)&&ts(6,"invalid gzip data");var t=e[3],r=10;t&4&&(r+=(e[10]|e[11]<<8)+2);for(var n=(t>>3&1)+(t>>4&1);n>0;n-=!e[r++]);return r+(t&2)},Qne=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0},eie=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&ts(6,"invalid zlib data"),(e[1]>>5&1)==1&&ts(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function tie(e,t){return hL(e,{i:2},t,t)}function rie(e,t){var r=Jne(e);return r+8>e.length&&ts(6,"invalid gzip data"),hL(e.subarray(r,-8),{i:2},new rs(Qne(e)),t)}function nie(e,t){return hL(e.subarray(eie(e),-4),{i:2},t,t)}function iie(e,t){return e[0]==31&&e[1]==139&&e[2]==8?rie(e,t):(e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31?tie(e,t):nie(e,t)}var oie=typeof TextDecoder<"u"&&new TextDecoder,aie=0;try{oie.decode(Yne,{stream:!0}),aie=1}catch{}const sie=e=>typeof e<"u",fj=(e,t)=>Ns(e)&&e.startsWith(t),{keys:lie}=Object,pj=e=>fj(e,"/")&&e[1]!=="/",mj=e=>!vte(e)&&!ub(e),N2=()=>navigator.userAgentData?.platform||navigator.platform,uie=()=>navigator.userAgent,gj=()=>/\biPhone\b/i.test(N2()),dL=()=>/\biPad\b/i.test(N2()),cie=()=>/ios/i.test(N2())||gj()||dL(),vj=()=>{const e=N2();return e?/mac/i.test(e):/macintosh|mac os x/i.test(uie())&&!cie()},wz=()=>document.documentElement.getAttribute("data-theme")==="dark",yj=[...new Array(6)].map((e,t)=>`[vp-content] h${t+1}`).join(","),hie=(e,t=2)=>{if(t===!1)return[];const[r,n]=typeof t=="number"?[t,t]:t==="deep"?[2,6]:t,i=e.filter(s=>s.level>=r&&s.level<=n),o=[];e:for(let s=0;s<i.length;s++){const a=i[s];if(s===0)o.push(a);else{for(let h=s-1;h>=0;h--){const p=i[h];if(p.level<a.level){p.children.push(a);continue e}}o.push(a)}}return o},die=(e,t=[])=>{let r;if(t.length){const n=e.cloneNode(!0);n.querySelectorAll(t.join(",")).forEach(i=>{i.remove()}),r=n.textContent||""}else r=e.textContent||"";return r.trim()},fie=(e=yj,t=[])=>Array.from(document.querySelectorAll(e)).filter(r=>r.id&&r.hasChildNodes()).map(r=>({element:r,title:die(r,t),link:`#${r.id}`,slug:r.id,level:Number(r.tagName[1]),children:[]})),_j=({selector:e=yj,levels:t=2,ignore:r=[]}={})=>hie(fie(e,r),t),bj=(e,t)=>{const r=Yi()?.appContext.components;return r?e in r||Oa(e)in r||ib(Oa(e))in r:!1},xj=Symbol(""),Sz=Vt(!1);typeof document<"u"&&(Sz.value=wz(),new MutationObserver(()=>{Sz.value=wz()}).observe(document.documentElement,{attributeFilter:["data-theme"],attributes:!0}));const pie=(e={})=>{const t=Vt([]);return nv(r=>{t.value=r==="beforeUnmount"?[]:_j(Ln(e))}),t},mie=e=>{const t=QD();return ve(()=>Ln(e)[t.value]??{})},V2=mie,gie=()=>{const e=Nre();return ve(()=>Object.keys(e.value))};var vie={"/":{backToTop:""}};const yie=St({name:"BackToTop",setup(){const e=ej(),t=V2(vie),r=vt(),{height:n}=Ene(r),{height:i}=Lne(),{y:o}=Dne(),s=ve(()=>(e.value.backToTop??!0)&&o.value>100),a=ve(()=>o.value/(n.value-i.value)*100);return Nr(()=>{r.value=document.body}),()=>Wt(Fa,{name:"fade-in"},()=>s.value?Wt("button",{type:"button",class:"vp-back-to-top-button","aria-label":t.value.backToTop,onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})}},[Wt("span",{class:"vp-scroll-progress",role:"progressbar","aria-labelledby":"loadinglabel","aria-valuenow":a.value},Wt("svg",Wt("circle",{cx:"26",cy:"26",r:"24",fill:"none",stroke:"currentColor","stroke-width":"4","stroke-dasharray":`${Math.PI*a.value*.48} ${Math.PI*(100-a.value)*.48}`}))),Wt("div",{class:"back-to-top-icon"})]):null)}}),_ie=Pl({rootComponents:[yie]}),bie=Object.freeze(Object.defineProperty({__proto__:null,default:_ie},Symbol.toStringTag,{value:"Module"})),xie=/language-(shellscript|shell|bash|sh|zsh)/,wie=({selector:e,ignoreSelector:t,inlineSelector:r,duration:n=2e3,locales:i,showInMobile:o,transform:s})=>{const a=uL("(max-width: 419px)"),h=ve(()=>!a.value||o),p=V2(i),m=I=>{if(I.hasAttribute("copy-code"))return;const A=document.createElement("button");A.type="button",A.classList.add("vp-copy-code-button"),A.setAttribute("aria-label",p.value.copy),A.setAttribute("data-copied",p.value.copied),I.parentElement?.insertBefore(A,I),I.setAttribute("copy-code","")},v=()=>{document.body.classList.toggle("no-copy-code",!h.value),h.value&&document.querySelectorAll(e).forEach(m)};sL(h,()=>_i(v),{flush:"post"}),nv(I=>{I!=="beforeUnmount"&&v()});const{copy:b}=xne({legacy:!0}),x=new WeakMap,C=async(I,A,R)=>{const k=A.cloneNode(!0);s&&s(k);let $=k.textContent||"";if(xie.test(I.className)&&($=$.replace(/^ *(\$|>) /gm,"")),await b($),n<=0)return;R.classList.add("copied"),clearTimeout(x.get(R));const N=setTimeout(()=>{R.classList.remove("copied"),R.blur(),x.delete(R)},n);x.set(R,N)};ta("click",I=>{const A=I.target;if(h.value&&A.matches('div[class*="language-"] > button.vp-copy-code-button')){const R=A.parentElement,k=A.nextElementSibling;if(!R||!k)return;C(R,k,A)}},{passive:!0})};var Sie={"/":{copy:"",copied:""}};const Tie=Pl({setup:()=>{wie({selector:'[vp-content] div[class*="language-"] pre',ignoreSelector:"",inlineSelector:"",locales:Sie,duration:2e3,showInMobile:!1})}}),Cie=Object.freeze(Object.defineProperty({__proto__:null,default:Tie},Symbol.toStringTag,{value:"Module"})),Pie=Pl({setup(){ta("beforeprint",()=>{document.querySelectorAll("details").forEach(e=>{e.open=!0})},{passive:!0})}}),Mie=Object.freeze(Object.defineProperty({__proto__:null,default:Pie},Symbol.toStringTag,{value:"Module"}));var Tz={provider:"github",pattern:{commit:":repo/commit/:hash",issue:":repo/issues/:issue",tag:":repo/releases/tag/:tag"},repo:"sustech-cra/sustech-online-ng"};const Cz=typeof Tz>"u"?{}:Tz,Iie=(e,t)=>!e||cb(e)?e:t==="github"?`https://github.com/${e}`:t==="gitee"?`https://gitee.com/${e}`:e,Eie=/#(\d+)/g,Aie=(e=!0)=>{const{frontmatter:t,lang:r,page:n}=z2(),{pattern:i={},provider:o}=Cz,s=Iie(Cz.repo,o);return ve(()=>{if(t.value.changelog===!1||!Ln(e))return[];const a=new Intl.DateTimeFormat(r.value,{dateStyle:"short"});return(n.value.git?.changelog??[]).map(h=>{const p={date:a.format(h.time),...h};return i.issue&&s&&(p.message=p.message.replace(Eie,(m,v)=>`<a href="${i.issue.replace(":issue",v).replace(":repo",s)}" target="_blank" rel="noopener noreferrer">${m}</a>`)),i.commit&&s&&(p.commitUrl=i.commit.replace(":hash",p.hash).replace(":repo",s)),i.tag&&s&&p.tag&&(p.tagUrl=i.tag.replace(":tag",p.tag).replace(":repo",s)),p})})},wj=(e=!0)=>{const{frontmatter:t,page:r}=z2();return ve(()=>t.value.contributors===!1||!Ln(e)?[]:r.value.git.contributors??[])};var Pz={"/":{contributors:"",changelog:"",timeOn:"",viewChangelog:"",latestUpdateAt:""}};const Die=typeof Pz>"u"?{}:Pz,fL=()=>V2(Die),Sj=(e=!0)=>{const{lang:t,page:r}=z2(),n=fL();return ve(()=>{if(!Ln(e))return null;const i=r.value.git?.updatedTime??r.value.git?.changelog?.[0].time;if(!i)return null;const o=new Date(i),s=new Intl.DateTimeFormat(t.value,{dateStyle:"short",timeStyle:"short"}).format(i);return{date:o,text:s,iso:o.toISOString(),locale:n.value.latestUpdateAt}})},Tj=({level:e=2,text:t,anchor:r})=>Wt(`h${e||2}`,{id:r,tabindex:"-1"},Wt("a",{href:`#${r}`,class:"header-anchor"},Wt("span",t))),Lie=({name:e,url:t,avatar:r})=>Wt(t?"a":"span",{href:t,target:"_blank",rel:"noreferrer",class:"vp-contributor"},[r?Wt("img",{src:r,alt:"",class:"vp-contributor-avatar"}):null,Wt("span",{class:"vp-contributor-name"},e)]),Rie=St({name:"GitContributors",props:{title:String,headerLevel:{type:Number,default:2}},setup(e){const t=wj(),r=fL();return()=>t.value.length?[Wt(Tj,{level:e.headerLevel,anchor:"doc-contributors",text:e.title||r.value.contributors}),Wt("div",{class:"vp-contributors"},t.value.map(n=>Wt(Lie,n)))]:null}}),Oie=St({name:"GitChangelog",props:{title:String,headerLevel:{type:Number,default:2}},setup(e){const t=Aie(),r=fL(),n=Sj(),[i,o]=aL(),s=()=>Wt("div",{class:"vp-changelog-header",onClick:()=>o()},[Wt("div",{class:"vp-latest-updated"},[Wt("span",{class:"vp-changelog-icon"}),Wt("span",{"data-allow-mismatch":""},n.value.text)]),Wt("div",[Wt("span",{class:"vp-changelog-menu-icon"}),Wt("span",r.value.viewChangelog)])]),a=({item:p})=>Wt("li",{class:"vp-changelog-item-tag"},Wt("div",[Wt("a",{class:"vp-changelog-tag"},Wt("code",p.tag)),Wt("span",{class:"vp-changelog-date","data-allow-mismatch":""},[r.value.timeOn," ",Wt("time",{datetime:new Date(p.time).toISOString()},p.date)])])),h=({item:p})=>Wt("li",{class:"vp-changelog-item-commit"},[Wt(p.commitUrl?"a":"span",{class:"vp-changelog-hash",href:p.commitUrl,target:"_blank",rel:"noreferrer"},[Wt("code",p.hash.slice(0,5))]),Wt("span",{class:"vp-changelog-divider"},"-"),Wt("span",{class:"vp-changelog-message",innerHTML:p.message}),Wt("span",{class:"vp-changelog-date","data-allow-mismatch":""},[r.value.timeOn||"on"," ",Wt("time",{datetime:new Date(p.time).toISOString()},p.date)])]);return()=>t.value.length?[Wt(Tj,{level:e.headerLevel,anchor:"doc-changelog",text:e.title||r.value.changelog}),Wt("div",{class:["vp-changelog-wrapper",{active:i.value}]},[Wt(s),Wt("ul",{class:"vp-changelog-list"},[t.value.map(p=>p.tag?Wt(a,{item:p,key:p.tag}):Wt(h,{item:p,key:p.hash}))])])]:null}}),kie={enhance:({app:e})=>{e.component("GitContributors",Rie),e.component("GitChangelog",Oie)}},$ie=Object.freeze(Object.defineProperty({__proto__:null,default:kie},Symbol.toStringTag,{value:"Module"}));/*! medium-zoom 1.1.0 | MIT License | https://github.com/francoischalifour/medium-zoom */var xf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xx=function(t){return t.tagName==="IMG"},zie=function(t){return NodeList.prototype.isPrototypeOf(t)},kw=function(t){return t&&t.nodeType===1},Mz=function(t){var r=t.currentSrc||t.src;return r.substr(-4).toLowerCase()===".svg"},Iz=function(t){try{return Array.isArray(t)?t.filter(xx):zie(t)?[].slice.call(t).filter(xx):kw(t)?[t].filter(xx):typeof t=="string"?[].slice.call(document.querySelectorAll(t)).filter(xx):[]}catch{throw new TypeError(`The provided selector is invalid.
Expects a CSS selector, a Node element, a NodeList or an array.
See: https://github.com/francoischalifour/medium-zoom`)}},Bie=function(t){var r=document.createElement("div");return r.classList.add("medium-zoom-overlay"),r.style.background=t,r},Fie=function(t){var r=t.getBoundingClientRect(),n=r.top,i=r.left,o=r.width,s=r.height,a=t.cloneNode(),h=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,p=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return a.removeAttribute("id"),a.style.position="absolute",a.style.top=n+h+"px",a.style.left=i+p+"px",a.style.width=o+"px",a.style.height=s+"px",a.style.transform="",a},xm=function(t,r){var n=xf({bubbles:!1,cancelable:!1,detail:void 0},r);if(typeof window.CustomEvent=="function")return new CustomEvent(t,n);var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),i},Nie=function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=window.Promise||function(he){function ye(){}he(ye,ye)},i=function(he){var ye=he.target;if(ye===K){C();return}$.indexOf(ye)!==-1&&I({target:ye})},o=function(){if(!(H||!X.original)){var he=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(W-he)>j.scrollOffset&&setTimeout(C,150)}},s=function(he){var ye=he.key||he.keyCode;(ye==="Escape"||ye==="Esc"||ye===27)&&C()},a=function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ye=he;if(he.background&&(K.style.background=he.background),he.container&&he.container instanceof Object&&(ye.container=xf({},j.container,he.container)),he.template){var be=kw(he.template)?he.template:document.querySelector(he.template);ye.template=be}return j=xf({},j,ye),$.forEach(function(ce){ce.dispatchEvent(xm("medium-zoom:update",{detail:{zoom:Q}}))}),Q},h=function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e(xf({},j,he))},p=function(){for(var he=arguments.length,ye=Array(he),be=0;be<he;be++)ye[be]=arguments[be];var ce=ye.reduce(function(de,Oe){return[].concat(de,Iz(Oe))},[]);return ce.filter(function(de){return $.indexOf(de)===-1}).forEach(function(de){$.push(de),de.classList.add("medium-zoom-image")}),N.forEach(function(de){var Oe=de.type,ze=de.listener,De=de.options;ce.forEach(function(ct){ct.addEventListener(Oe,ze,De)})}),Q},m=function(){for(var he=arguments.length,ye=Array(he),be=0;be<he;be++)ye[be]=arguments[be];X.zoomed&&C();var ce=ye.length>0?ye.reduce(function(de,Oe){return[].concat(de,Iz(Oe))},[]):$;return ce.forEach(function(de){de.classList.remove("medium-zoom-image"),de.dispatchEvent(xm("medium-zoom:detach",{detail:{zoom:Q}}))}),$=$.filter(function(de){return ce.indexOf(de)===-1}),Q},v=function(he,ye){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return $.forEach(function(ce){ce.addEventListener("medium-zoom:"+he,ye,be)}),N.push({type:"medium-zoom:"+he,listener:ye,options:be}),Q},b=function(he,ye){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return $.forEach(function(ce){ce.removeEventListener("medium-zoom:"+he,ye,be)}),N=N.filter(function(ce){return!(ce.type==="medium-zoom:"+he&&ce.listener.toString()===ye.toString())}),Q},x=function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ye=he.target,be=function(){var de={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},Oe=void 0,ze=void 0;if(j.container)if(j.container instanceof Object)de=xf({},de,j.container),Oe=de.width-de.left-de.right-j.margin*2,ze=de.height-de.top-de.bottom-j.margin*2;else{var De=kw(j.container)?j.container:document.querySelector(j.container),ct=De.getBoundingClientRect(),Ke=ct.width,gt=ct.height,Lt=ct.left,Nt=ct.top;de=xf({},de,{width:Ke,height:gt,left:Lt,top:Nt})}Oe=Oe||de.width-j.margin*2,ze=ze||de.height-j.margin*2;var zt=X.zoomedHd||X.original,Ft=Mz(zt)?Oe:zt.naturalWidth||Oe,Be=Mz(zt)?ze:zt.naturalHeight||ze,it=zt.getBoundingClientRect(),je=it.top,He=it.left,Fe=it.width,tt=it.height,me=Math.min(Math.max(Fe,Ft),Oe)/Fe,_e=Math.min(Math.max(tt,Be),ze)/tt,qe=Math.min(me,_e),ht=(-He+(Oe-Fe)/2+j.margin+de.left)/qe,et=(-je+(ze-tt)/2+j.margin+de.top)/qe,Je="scale("+qe+") translate3d("+ht+"px, "+et+"px, 0)";X.zoomed.style.transform=Je,X.zoomedHd&&(X.zoomedHd.style.transform=Je)};return new n(function(ce){if(ye&&$.indexOf(ye)===-1){ce(Q);return}var de=function Ke(){H=!1,X.zoomed.removeEventListener("transitionend",Ke),X.original.dispatchEvent(xm("medium-zoom:opened",{detail:{zoom:Q}})),ce(Q)};if(X.zoomed){ce(Q);return}if(ye)X.original=ye;else if($.length>0){var Oe=$;X.original=Oe[0]}else{ce(Q);return}if(X.original.dispatchEvent(xm("medium-zoom:open",{detail:{zoom:Q}})),W=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,H=!0,X.zoomed=Fie(X.original),document.body.appendChild(K),j.template){var ze=kw(j.template)?j.template:document.querySelector(j.template);X.template=document.createElement("div"),X.template.appendChild(ze.content.cloneNode(!0)),document.body.appendChild(X.template)}if(X.original.parentElement&&X.original.parentElement.tagName==="PICTURE"&&X.original.currentSrc&&(X.zoomed.src=X.original.currentSrc),document.body.appendChild(X.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),X.original.classList.add("medium-zoom-image--hidden"),X.zoomed.classList.add("medium-zoom-image--opened"),X.zoomed.addEventListener("click",C),X.zoomed.addEventListener("transitionend",de),X.original.getAttribute("data-zoom-src")){X.zoomedHd=X.zoomed.cloneNode(),X.zoomedHd.removeAttribute("srcset"),X.zoomedHd.removeAttribute("sizes"),X.zoomedHd.removeAttribute("loading"),X.zoomedHd.src=X.zoomed.getAttribute("data-zoom-src"),X.zoomedHd.onerror=function(){clearInterval(De),console.warn("Unable to reach the zoom image target "+X.zoomedHd.src),X.zoomedHd=null,be()};var De=setInterval(function(){X.zoomedHd.complete&&(clearInterval(De),X.zoomedHd.classList.add("medium-zoom-image--opened"),X.zoomedHd.addEventListener("click",C),document.body.appendChild(X.zoomedHd),be())},10)}else if(X.original.hasAttribute("srcset")){X.zoomedHd=X.zoomed.cloneNode(),X.zoomedHd.removeAttribute("sizes"),X.zoomedHd.removeAttribute("loading");var ct=X.zoomedHd.addEventListener("load",function(){X.zoomedHd.removeEventListener("load",ct),X.zoomedHd.classList.add("medium-zoom-image--opened"),X.zoomedHd.addEventListener("click",C),document.body.appendChild(X.zoomedHd),be()})}else be()})},C=function(){return new n(function(he){if(H||!X.original){he(Q);return}var ye=function be(){X.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(X.zoomed),X.zoomedHd&&document.body.removeChild(X.zoomedHd),document.body.removeChild(K),X.zoomed.classList.remove("medium-zoom-image--opened"),X.template&&document.body.removeChild(X.template),H=!1,X.zoomed.removeEventListener("transitionend",be),X.original.dispatchEvent(xm("medium-zoom:closed",{detail:{zoom:Q}})),X.original=null,X.zoomed=null,X.zoomedHd=null,X.template=null,he(Q)};H=!0,document.body.classList.remove("medium-zoom--opened"),X.zoomed.style.transform="",X.zoomedHd&&(X.zoomedHd.style.transform=""),X.template&&(X.template.style.transition="opacity 150ms",X.template.style.opacity=0),X.original.dispatchEvent(xm("medium-zoom:close",{detail:{zoom:Q}})),X.zoomed.addEventListener("transitionend",ye)})},I=function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ye=he.target;return X.original?C():x({target:ye})},A=function(){return j},R=function(){return $},k=function(){return X.original},$=[],N=[],H=!1,W=0,j=r,X={original:null,zoomed:null,zoomedHd:null,template:null};Object.prototype.toString.call(t)==="[object Object]"?j=t:(t||typeof t=="string")&&p(t),j=xf({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},j);var K=Bie(j.background);document.addEventListener("click",i),document.addEventListener("keyup",s),document.addEventListener("scroll",o),window.addEventListener("resize",C);var Q={open:x,close:C,toggle:I,update:a,clone:h,attach:p,detach:m,on:v,off:b,getOptions:A,getImages:R,getZoomedImage:k};return Q};function Vie(e,t){t===void 0&&(t={});var r=t.insertAt;if(!(typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",r==="top"&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var jie=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";Vie(jie);const Cj=Symbol("mediumZoom"),Hie=()=>{const e=Ir(Cj);if(!e)throw new Error("useMediumZoom() is called without provider.");return e};var Gie={};const Uie="[vp-content] > img, [vp-content] :not(a) > img",Wie=Gie,qie=Pl({enhance({app:e}){const t=Nie(Wie);t.refresh=(r=Uie)=>{t.detach(),t.attach(r)},e.provide(Cj,t)},setup(){const e=Hie();nv(t=>{t!=="beforeUnmount"&&e.refresh()})}}),Zie=Object.freeze(Object.defineProperty({__proto__:null,default:qie},Symbol.toStringTag,{value:"Module"}));/**
 * NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT
 */const Ez=(e,t)=>{e.classList.add(t)},Az=(e,t)=>{e.classList.remove(t)},Xie=e=>{e?.parentNode?.removeChild(e)},jP=(e,t,r)=>e<t?t:e>r?r:e,Dz=e=>(-1+e)*100,Kie=(()=>{const e=[],t=()=>{const r=e.shift();r&&r(t)};return r=>{e.push(r),e.length===1&&t()}})(),Yie=e=>e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(t,r)=>r.toUpperCase()),Sx=(()=>{const e=["Webkit","O","Moz","ms"],t={},r=o=>{const{style:s}=document.body;if(o in s)return o;const a=o.charAt(0).toUpperCase()+o.slice(1);let h=e.length;for(;h--;){const p=`${e[h]}${a}`;if(p in s)return p}return o},n=o=>{const s=Yie(o);return t[s]??=r(s)},i=(o,s,a)=>{o.style[n(s)]=a};return(o,s)=>{for(const a in s){const h=s[a];Object.hasOwn(s,a)&&sie(h)&&i(o,a,h)}}})(),qu={minimum:.08,easing:"ease",speed:200,trickleRate:.02,trickleSpeed:800,barSelector:'[role="bar"]',parent:"body",template:'<div class="bar" role="bar"></div>'},Ii={percent:null,isRendered:()=>!!document.getElementById("nprogress"),set:e=>{const{speed:t,easing:r}=qu,n=Ii.isStarted(),i=jP(e,qu.minimum,1);Ii.percent=i===1?null:i;const o=Ii.render(!n),s=o.querySelector(qu.barSelector);return o.offsetWidth,Kie(a=>{Sx(s,{transform:`translate3d(${Dz(i)}%,0,0)`,transition:`all ${t}ms ${r}`}),i===1?(Sx(o,{transition:"none",opacity:"1"}),o.offsetWidth,setTimeout(()=>{Sx(o,{transition:`all ${t}ms linear`,opacity:"0"}),setTimeout(()=>{Ii.remove(),a()},t)},t)):setTimeout(()=>{a()},t)}),Ii},isStarted:()=>typeof Ii.percent=="number",start:()=>{Ii.percent||Ii.set(0);const e=()=>{setTimeout(()=>{Ii.percent&&(Ii.trickle(),e())},qu.trickleSpeed)};return e(),Ii},done:e=>!e&&!Ii.percent?Ii:Ii.increase(.3+.5*Math.random()).set(1),increase:e=>{let{percent:t}=Ii;return t?(t=jP(t+(typeof e=="number"?e:(1-t)*jP(Math.random()*t,.1,.95)),0,.994),Ii.set(t)):Ii.start()},trickle:()=>Ii.increase(Math.random()*qu.trickleRate),render:e=>{if(Ii.isRendered())return document.getElementById("nprogress");Ez(document.documentElement,"nprogress-busy");const t=document.createElement("div");t.id="nprogress",t.innerHTML=qu.template;const r=t.querySelector(qu.barSelector),n=document.querySelector(qu.parent),i=e?"-100":Dz(Ii.percent??0);return Sx(r,{transition:"all 0 linear",transform:`translate3d(${i}%,0,0)`}),n&&(n!==document.body&&Ez(n,"nprogress-custom-parent"),n.appendChild(t)),t},remove:()=>{Az(document.documentElement,"nprogress-busy"),Az(document.querySelector(qu.parent),"nprogress-custom-parent"),Xie(document.getElementById("nprogress"))}},Jie=()=>{Nr(()=>{const e=rv(),t=new Set;t.add(e.currentRoute.value.path),e.beforeEach(r=>{t.has(r.path)||Ii.start()}),e.afterEach(r=>{t.add(r.path),Ii.done()})})},Qie=Pl({setup(){Jie()}}),eoe=Object.freeze(Object.defineProperty({__proto__:null,default:Qie},Symbol.toStringTag,{value:"Module"})),toe=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),roe="VUEPRESS_CODE_TAB_STORE",Tx=cL(roe,{}),noe=St({name:"CodeTabs",props:{active:{type:Number,default:0},data:{type:Array,required:!0},tabId:String},slots:Object,setup(e,{slots:t}){let r=e.data.map(()=>Y9());const n=Vt(e.active),i=vt([]),o=()=>{e.tabId&&(Tx.value[e.tabId]=e.data[n.value].id)},s=(m=n.value)=>{n.value=m<i.value.length-1?m+1:0,i.value[n.value].focus()},a=(m=n.value)=>{n.value=m>0?m-1:i.value.length-1,i.value[n.value].focus()},h=(m,v)=>{m.key===" "||m.key==="Enter"?(m.preventDefault(),n.value=v):m.key==="ArrowRight"?(m.preventDefault(),s()):m.key==="ArrowLeft"&&(m.preventDefault(),a()),e.tabId&&(Tx.value[e.tabId]=e.data[n.value].id)},p=()=>{if(e.tabId){const m=e.data.findIndex(({id:v})=>Tx.value[e.tabId]===v);if(m!==-1)return m}return e.active};return Nr(()=>{n.value=p(),Zt(()=>e.tabId&&Tx.value[e.tabId],(m,v)=>{if(e.tabId&&m!==v){const b=e.data.findIndex(({id:x})=>x===m);b!==-1&&(n.value=b)}})}),()=>e.data.length?Wt("div",{class:"vp-code-tabs"},[Wt("div",{class:"vp-code-tabs-nav",role:"tablist"},e.data.map(({id:m},v)=>{const b=v===n.value;return Wt("button",{type:"button",ref:x=>{x&&(i.value[v]=x)},class:["vp-code-tab-nav",{active:b}],role:"tab","aria-controls":r[v],"aria-selected":b,onClick:()=>{n.value=v,o()},onKeydown:x=>{h(x,v)}},t[`title${v}`]({value:m,isActive:b}))})),e.data.map(({id:m},v)=>{const b=v===n.value;return Wt("div",{class:["vp-code-tab",{active:b}],id:r[v],role:"tabpanel","aria-expanded":b},[Wt("div",{class:"vp-code-tab-title"},t[`title${v}`]({value:m,isActive:b})),t[`tab${v}`]({value:m,isActive:b})])})]):null}}),ioe="VUEPRESS_TAB_STORE",HP=cL(ioe,{}),ooe=St({name:"Tabs",props:{active:{type:Number,default:0},data:{type:Array,required:!0},tabId:String},slots:Object,setup(e,{slots:t}){let r=e.data.map(()=>Y9());const n=Vt(e.active),i=vt([]),o=()=>{e.tabId&&(HP.value[e.tabId]=e.data[n.value].id)},s=(m=n.value)=>{n.value=m<i.value.length-1?m+1:0,i.value[n.value].focus()},a=(m=n.value)=>{n.value=m>0?m-1:i.value.length-1,i.value[n.value].focus()},h=(m,v)=>{m.key===" "||m.key==="Enter"?(m.preventDefault(),n.value=v):m.key==="ArrowRight"?(m.preventDefault(),s()):m.key==="ArrowLeft"&&(m.preventDefault(),a()),o()},p=()=>{if(e.tabId){const m=e.data.findIndex(({id:v})=>HP.value[e.tabId]===v);if(m!==-1)return m}return e.active};return Nr(()=>{n.value=p(),Zt(()=>e.tabId&&HP.value[e.tabId],(m,v)=>{if(e.tabId&&m!==v){const b=e.data.findIndex(({id:x})=>x===m);b!==-1&&(n.value=b)}})}),()=>e.data.length?Wt("div",{class:"vp-tabs"},[Wt("div",{class:"vp-tabs-nav",role:"tablist"},e.data.map(({id:m},v)=>{const b=v===n.value;return Wt("button",{type:"button",ref:x=>{x&&(i.value[v]=x)},class:["vp-tab-nav",{active:b}],role:"tab","aria-controls":r[v],"aria-selected":b,onClick:()=>{n.value=v,o()},onKeydown:x=>{h(x,v)}},t[`title${v}`]({value:m,isActive:b}))})),e.data.map(({id:m},v)=>{const b=v===n.value;return Wt("div",{class:["vp-tab",{active:b}],id:r[v],role:"tabpanel","aria-expanded":b},[Wt("div",{class:"vp-tab-title"},t[`title${v}`]({value:m,isActive:b})),t[`tab${v}`]({value:m,isActive:b})])})]):null}}),aoe={enhance:({app:e})=>{e.component("CodeTabs",noe),e.component("Tabs",ooe)}},soe=Object.freeze(Object.defineProperty({__proto__:null,default:aoe},Symbol.toStringTag,{value:"Module"})),loe=JSON.parse('{"navbar":[{"text":"","link":"/"},{"text":"","link":"https://daily.sustech.online/"},{"text":"","link":"/miniapp/"},{"text":"","link":"/about/"},{"text":"","link":"/site-help/"}],"repo":"sustech-cra/sustech-online-ng","repoLabel":"Github","docsRepo":"sustech-cra/sustech-online-ng","docsDir":"docs","editLinkText":"","lastUpdatedText":"","contributorsText":"","editLink":true,"docsBranch":"master","tip":"","warning":"","danger":"","notFound":["",""," 404 ",""],"backToHome":"","openInNewWindow":"","toggleColorMode":"","toggleSidebar":"","sidebarDepth":2,"sidebar":["/","/facility/","/contact/","/calendar/","/service/","/life/","/study/","/canteen/","/organizations/","/media/",{"text":"","link":"/transport/","children":[{"text":"","link":"/transport/bustimer.md","children":[]},{"text":"","link":"/transport/","children":[]}]},"/surroundings/"],"locales":{"/":{"selectLanguageName":"English"}},"colorMode":"auto","colorModeSwitch":true,"logo":null,"selectLanguageText":"Languages","selectLanguageAriaLabel":"Select language","lastUpdated":true,"contributors":true}'),uoe=Vt(loe),Pj=()=>uoe,Mj=Symbol(""),coe=()=>{const e=Ir(Mj);if(!e)throw new Error("useThemeLocaleData() is called without provider.");return e},hoe=(e,t)=>{const{locales:r,...n}=e;return{...n,...r?.[t]}},doe=Pl({enhance({app:e}){const t=Pj(),r=e._context.provides[JD],n=ve(()=>hoe(t.value,r.routeLocale.value));e.provide(Mj,n),Object.defineProperties(e.config.globalProperties,{$theme:{get(){return t.value}},$themeLocale:{get(){return n.value}}})}}),foe=Object.freeze(Object.defineProperty({__proto__:null,default:doe},Symbol.toStringTag,{value:"Module"})),ho=()=>({...z2(),theme:Pj(),themeLocale:coe()}),poe=e=>{const t=(r=e.value)=>{const n=window.document.documentElement;n.dataset.theme=r?"dark":"light"};Nr(()=>{sL(e,t)}),_u(()=>{t()})},pL=()=>{const e=Ir(xj);if(!e)throw new Error("useDarkMode() is called without provider.");return e},moe=()=>{const{themeLocale:e}=ho(),t=Cne(),r=cL("vuepress-color-scheme",e.value.colorMode),n=ve({get(){return e.value.colorModeSwitch?r.value==="auto"?t.value:r.value==="dark":e.value.colorMode==="dark"},set(i){i===t.value?r.value="auto":r.value=i?"dark":"light"}});un(xj,n),poe(n)},Ij=Symbol("headers"),goe=()=>{const e=nj(Ij);if(!e)throw new Error("useHeaders() is called without provider.");return e},voe=()=>{const{frontmatter:e,themeLocale:t}=ho(),r=Vt([]),n=ve(()=>e.value.sidebarDepth??t.value.sidebarDepth??2),i=()=>{if(n.value<=0){r.value=[];return}r.value=_j({levels:[2,n.value+1],ignore:[".vp-badge"]})};nne(Ij,r),nv(o=>{o==="beforeUnmount"?r.value=[]:i()})};let GP=null,UP=null;const yoe={wait:()=>GP,pending:()=>{GP=new Promise(e=>{UP=e})},resolve:()=>{UP?.(),GP=null,UP=null}},Ej=()=>yoe,zg=(e,t)=>{const{notFound:r,meta:n,path:i}=b0(e,t);return r?{text:i,link:i}:{text:n.title||i,link:i}},vg=(e="",t="")=>pj(t)||ub(t)?t:`${Mte(e)}${t}`,_oe=e=>({text:e.title,link:e.link,children:mL(e.children)}),mL=e=>e?e.map(t=>_oe(t)):[],Aj=(e,t)=>[{text:e.title,children:mL(t)}],Dj=(e,t,r,n="")=>{const i=(o,s)=>{const a=Ns(o)?zg(vg(s,o)):Ns(o.link)?{...o,link:mj(o.link)?zg(vg(s,o.link)).link:o.link}:o;if("children"in a)return{...a,children:a.children.map(h=>i(h,vg(s,a.prefix)))};if(a.link===r){const h=t[0]?.level===1?t[0].children:t;return{...a,children:mL(h)}}return a};return e.map(o=>i(o,n))},boe=(e,t,r,n)=>{const i=lie(e).sort((o,s)=>s.length-o.length);for(const o of i)if(fj(decodeURI(n),o)){const s=e[o];return s?s==="heading"?Aj(t,r):Dj(s,r,n,o):[]}return console.warn(`${decodeURI(n)} is missing sidebar config.`),[]},Lj=Symbol("sidebarItems"),gL=()=>{const e=Ir(Lj);if(!e)throw new Error("useSidebarItems() is called without provider.");return e},xoe=(e,t,r,n,i)=>e===!1?[]:e==="heading"?Aj(t,i):Array.isArray(e)?Dj(e,i,r,n):XD(e)?boe(e,t,i,r):[],woe=()=>{const{frontmatter:e,page:t,routeLocale:r,themeLocale:n}=ho(),i=goe(),o=QV(),s=ve(()=>e.value.home?!1:e.value.sidebar??n.value.sidebar??"heading"),a=ve(()=>xoe(s.value,t.value,o.value,r.value,i.value));un(Lj,a)},Soe=St({__name:"Badge",props:{type:{default:"tip"},text:{default:""},vertical:{default:""}},setup(e){return(t,r)=>(Pt(),Bt("span",{class:Lo(["vp-badge",e.type]),style:ap(e.vertical?{verticalAlign:e.vertical}:"")},[Hn(t.$slots,"default",{},()=>[Ai(Cr(e.text),1)])],6))}}),Toe=St({__name:"VPFadeSlideYTransition",emits:["beforeEnter","beforeLeave"],setup(e){return(t,r)=>(Pt(),Bn(Fa,{name:"fade-in-down",mode:"out-in",onBeforeEnter:r[0]||(r[0]=n=>t.$emit("beforeEnter")),onBeforeLeave:r[1]||(r[1]=n=>t.$emit("beforeLeave"))},{default:Lr(()=>[Hn(t.$slots,"default")]),_:3}))}}),Coe={key:0,class:"vp-features"},Poe=St({__name:"VPHomeFeatures",setup(e){const{frontmatter:t}=ho(),r=ve(()=>t.value.features??[]);return(n,i)=>r.value.length?(Pt(),Bt("div",Coe,[(Pt(!0),Bt(pr,null,Oo(r.value,o=>(Pt(),Bt("div",{key:o.title,class:"vp-feature"},[Dt("h2",null,Cr(o.title),1),Dt("p",null,Cr(o.details),1)]))),128))])):gn("",!0)}}),Moe=["innerHTML"],Ioe=["textContent"],Eoe=St({__name:"VPHomeFooter",setup(e){const t=ej(),r=ve(()=>t.value.footer),n=ve(()=>t.value.footerHtml);return(i,o)=>r.value?(Pt(),Bt(pr,{key:0},[n.value?(Pt(),Bt("div",{key:0,class:"vp-footer","vp-footer":"",innerHTML:r.value},null,8,Moe)):(Pt(),Bt("div",{key:1,class:"vp-footer","vp-footer":"",textContent:Cr(r.value)},null,8,Ioe))],64)):gn("",!0)}}),fc=St({__name:"VPAutoLink",props:{config:{}},setup(e){return(t,r)=>(Pt(),Bn(rr(Wre),{config:e.config},qQ({before:Lr(()=>[Hn(t.$slots,"before",TP(Rw(e.config)))]),after:Lr(()=>[Hn(t.$slots,"after",TP(Rw(e.config)))]),_:2},[t.$slots.default?{name:"default",fn:Lr(()=>[Hn(t.$slots,"default",TP(Rw(e.config)))]),key:"0"}:void 0]),1032,["config"]))}}),Aoe={class:"vp-hero"},Doe={key:0,id:"main-title"},Loe={key:1,class:"vp-hero-description"},Roe={key:2,class:"vp-hero-actions"},Ooe=St({__name:"VPHomeHero",setup(e){const{frontmatter:t,siteLocale:r}=ho(),n=pL(),i=ve(()=>t.value.heroText===null?null:t.value.heroText||r.value.title||"Hello"),o=ve(()=>t.value.tagline===null?null:t.value.tagline||r.value.description||"Welcome to your VuePress site"),s=ve(()=>n.value&&t.value.heroImageDark!==void 0?t.value.heroImageDark:t.value.heroImage),a=ve(()=>t.value.heroAlt||i.value||"hero"),h=ve(()=>t.value.heroHeight??280),p=ve(()=>Array.isArray(t.value.actions)?t.value.actions.map(({type:v="primary",...b})=>({type:v,...b})):[]),m=()=>{if(!s.value)return null;const v=Wt("img",{class:"vp-hero-image",src:B2(s.value),alt:a.value,height:h.value});return t.value.heroImageDark===void 0?v:Wt(eL,()=>v)};return(v,b)=>(Pt(),Bt("header",Aoe,[ie(m),i.value?(Pt(),Bt("h1",Doe,Cr(i.value),1)):gn("",!0),o.value?(Pt(),Bt("p",Loe,Cr(o.value),1)):gn("",!0),p.value.length?(Pt(),Bt("p",Roe,[(Pt(!0),Bt(pr,null,Oo(p.value,x=>(Pt(),Bn(fc,{key:x.text,class:Lo(["vp-hero-action-button",[x.type]]),config:x},null,8,["class","config"]))),128))])):gn("",!0)]))}}),koe={class:"vp-home"},$oe={"vp-content":""},zoe=St({__name:"VPHome",setup(e){return(t,r)=>(Pt(),Bt("main",koe,[ie(Ooe),ie(Poe),Dt("div",$oe,[ie(rr(tL))]),ie(Eoe)]))}}),Boe=["aria-hidden"],Foe=St({__name:"VPNavbarBrand",setup(e){const{routeLocale:t,siteLocale:r,themeLocale:n}=ho(),i=pL(),o=ve(()=>n.value.home||t.value),s=ve(()=>r.value.title),a=ve(()=>i.value&&n.value.logoDark!==void 0?n.value.logoDark:n.value.logo),h=ve(()=>n.value.logoAlt??s.value),p=ve(()=>s.value.toLocaleUpperCase().trim()===h.value.toLocaleUpperCase().trim()),m=()=>{if(!a.value)return null;const v=Wt("img",{class:"vp-site-logo",src:B2(a.value),alt:h.value});return n.value.logoDark===void 0?v:Wt(eL,()=>v)};return(v,b)=>(Pt(),Bn(rr(hb),{to:o.value},{default:Lr(()=>[ie(m),s.value?(Pt(),Bt("span",{key:0,class:Lo(["vp-site-name",{"vp-hide-mobile":a.value}]),"aria-hidden":p.value},Cr(s.value),11,Boe)):gn("",!0)]),_:1},8,["to"]))}}),Noe=["aria-label"],Voe={class:"title"},joe=["aria-label"],Hoe={class:"title"},Goe={class:"vp-navbar-dropdown"},Uoe={class:"vp-navbar-dropdown-subtitle"},Woe={key:1},qoe={class:"vp-navbar-dropdown-subitem-wrapper"},Zoe=St({__name:"VPNavbarDropdown",props:{config:{}},setup(e){const[t,r]=aL(),n=ve(()=>e.config.ariaLabel||e.config.text),i=(s,a)=>a[a.length-1]===s,o=s=>{s.detail===0?r():r(!1)};return nv(()=>{r(!1)}),(s,a)=>(Pt(),Bt("div",{class:Lo(["vp-navbar-dropdown-wrapper",{open:rr(t)}])},[Dt("button",{class:"vp-navbar-dropdown-title",type:"button","aria-label":n.value,onClick:o},[Dt("span",Voe,Cr(e.config.text),1),a[1]||(a[1]=Dt("span",{class:"arrow down"},null,-1))],8,Noe),Dt("button",{class:"vp-navbar-dropdown-title-mobile",type:"button","aria-label":n.value,onClick:a[0]||(a[0]=()=>rr(r)())},[Dt("span",Hoe,Cr(e.config.text),1),Dt("span",{class:Lo(["arrow",rr(t)?"down":"right"])},null,2)],8,joe),ie(rr(Nne),null,{default:Lr(()=>[Gh(Dt("ul",Goe,[(Pt(!0),Bt(pr,null,Oo(e.config.children,h=>(Pt(),Bt("li",{key:h.text,class:"vp-navbar-dropdown-item"},["children"in h?(Pt(),Bt(pr,{key:0},[Dt("h4",Uoe,[h.link?(Pt(),Bn(fc,{key:0,config:h,onFocusout:()=>{i(h,e.config.children)&&h.children.length===0&&(t.value=!1)}},null,8,["config","onFocusout"])):(Pt(),Bt("span",Woe,Cr(h.text),1))]),Dt("ul",qoe,[(Pt(!0),Bt(pr,null,Oo(h.children,p=>(Pt(),Bt("li",{key:p.link,class:"vp-navbar-dropdown-subitem"},[ie(fc,{config:p,onFocusout:()=>{i(p,h.children)&&i(h,e.config.children)&&rr(r)(!1)}},null,8,["config","onFocusout"])]))),128))])],64)):(Pt(),Bn(fc,{key:1,config:h,onFocusout:()=>{i(h,e.config.children)&&rr(r)(!1)}},null,8,["config","onFocusout"]))]))),128))],512),[[Zf,rr(t)]])]),_:1})],2))}}),Rj=(e,t="")=>Ns(e)?zg(vg(t,e)):"children"in e?{...e,children:e.children.map(r=>Rj(r,vg(t,e.prefix)))}:{...e,link:mj(e.link)?zg(vg(t,e.link)).link:e.link},Xoe=()=>{const{themeLocale:e}=ho();return ve(()=>(e.value.navbar||[]).map(t=>Rj(t)))},Oj=e=>!cb(e)||e.includes("github.com")?"GitHub":e.includes("bitbucket.org")?"Bitbucket":e.includes("gitlab.com")?"GitLab":e.includes("gitee.com")?"Gitee":null,Koe=()=>{const{themeLocale:e}=ho(),t=ve(()=>e.value.repo),r=ve(()=>t.value?Oj(t.value):null),n=ve(()=>t.value&&!cb(t.value)?`https://github.com/${t.value}`:t.value),i=ve(()=>n.value?e.value.repoLabel?e.value.repoLabel:r.value===null?"Source":r.value:null);return ve(()=>!n.value||!i.value?[]:[{text:i.value,link:n.value}])},Yoe=()=>{const e=sp(),t=gie(),{routeLocale:r,site:n,siteLocale:i,theme:o,themeLocale:s}=ho(),a=lL();return ve(()=>{const h=Object.keys(n.value.locales);if(h.length<2)return[];const p=e.path,m=e.fullPath;return[{text:`${s.value.selectLanguageText}`,ariaLabel:`${s.value.selectLanguageAriaLabel??s.value.selectLanguageText}`,children:h.map(b=>{const x=n.value.locales?.[b]??{},C=o.value.locales?.[b]??{},I=`${x.lang}`,A=C.selectLanguageName??I;if(I===i.value.lang)return{text:A,activeMatch:".",link:a.value?m:p};const R=p.replace(r.value,b);return{text:A,link:t.value.some(k=>k===R)?a.value?m.replace(p,R):R:C.home??b}})}]})},Joe="719px",Qoe={mobile:Joe};var x0;(function(e){e.Mobile="mobile"})(x0||(x0={}));const eae={[x0.Mobile]:Number.parseInt(Qoe.mobile.replace("px",""),10)},kj=(e,t)=>{const r=eae[e];Number.isInteger(r)&&(ta("orientationchange",()=>{t(r)}),ta("resize",()=>{t(r)}),Nr(()=>{t(r)}))},tae=["aria-label"],$j=St({__name:"VPNavbarItems",setup(e){const{themeLocale:t}=ho(),r=Xoe(),n=Yoe(),i=Koe(),o=Vt(!1),s=ve(()=>t.value.navbarLabel??"site navigation"),a=ve(()=>[...r.value,...n.value,...i.value]);return kj(x0.Mobile,h=>{o.value=window.innerWidth<h}),(h,p)=>a.value.length?(Pt(),Bt("nav",{key:0,class:"vp-navbar-items","aria-label":s.value},[(Pt(!0),Bt(pr,null,Oo(a.value,m=>(Pt(),Bt("div",{key:m.text,class:"vp-navbar-item"},["children"in m?(Pt(),Bn(Zoe,{key:0,class:Lo({mobile:o.value}),config:m},null,8,["class","config"])):(Pt(),Bn(fc,{key:1,config:m},null,8,["config"]))]))),128))],8,tae)):gn("",!0)}}),$i=(e,t)=>{const r=e.__vccOpts||e;for(const[n,i]of t)r[n]=i;return r},rae={},nae={class:"dark-icon",viewBox:"0 0 32 32"};function iae(e,t){return Pt(),Bt("svg",nae,[...t[0]||(t[0]=[Dt("path",{d:"M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z",fill:"currentColor"},null,-1)])])}const oae=$i(rae,[["render",iae]]),aae={},sae={class:"light-icon",viewBox:"0 0 32 32"};function lae(e,t){return Pt(),Bt("svg",sae,[...t[0]||(t[0]=[wee('<path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path>',9)])])}const uae=$i(aae,[["render",lae]]),cae=["title"],hae=St({__name:"VPToggleColorModeButton",setup(e){const{themeLocale:t}=ho(),r=pL(),n=()=>{r.value=!r.value};return(i,o)=>(Pt(),Bt("button",{type:"button",class:"vp-toggle-color-mode-button",title:rr(t).toggleColorMode,onClick:n},[Gh(ie(uae,null,null,512),[[Zf,!rr(r)]]),Gh(ie(oae,null,null,512),[[Zf,rr(r)]])],8,cae))}}),dae=["title"],fae=St({__name:"VPToggleSidebarButton",emits:["toggle"],setup(e){const{themeLocale:t}=ho();return(r,n)=>(Pt(),Bt("div",{class:"vp-toggle-sidebar-button",title:rr(t).toggleSidebar,"aria-expanded":"false",role:"button",tabindex:"0",onClick:n[0]||(n[0]=i=>r.$emit("toggle"))},[...n[1]||(n[1]=[Dt("div",{class:"icon","aria-hidden":"true"},[Dt("span"),Dt("span"),Dt("span")],-1)])],8,dae))}}),pae={ref:"navbar-brand"},mae=St({__name:"VPNavbar",emits:["toggleSidebar"],setup(e){const t=bj("SearchBox")?Cn("SearchBox"):()=>null,{themeLocale:r}=ho(),n=v3("navbar"),i=v3("navbar-brand"),o=Vt(0),s=ve(()=>o.value?{maxWidth:`${o.value}px`}:{}),a=(h,p)=>{const m=h?.ownerDocument.defaultView?.getComputedStyle(h,null)[p],v=Number.parseInt(m,10);return Number.isNaN(v)?0:v};return kj(x0.Mobile,h=>{const p=a(n.value,"paddingLeft")+a(n.value,"paddingRight");window.innerWidth<h?o.value=0:o.value=n.value.offsetWidth-p-(i.value?.offsetWidth??0)}),(h,p)=>(Pt(),Bt("header",{ref_key:"navbar",ref:n,class:"vp-navbar","vp-navbar":""},[ie(fae,{onToggle:p[0]||(p[0]=m=>h.$emit("toggleSidebar"))}),Dt("span",pae,[ie(Foe)],512),Dt("div",{class:"vp-navbar-items-wrapper",style:ap(s.value)},[Hn(h.$slots,"before"),ie($j,{class:"vp-hide-mobile"}),Hn(h.$slots,"after"),rr(r).colorModeSwitch?(Pt(),Bn(hae,{key:0})):gn("",!0),ie(rr(t))],4)],512))}}),gae={},vae={class:"edit-icon",viewBox:"0 0 1024 1024"};function yae(e,t){return Pt(),Bt("svg",vae,[...t[0]||(t[0]=[Dt("g",{fill:"currentColor"},[Dt("path",{d:"M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"}),Dt("path",{d:"M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"})],-1)])])}const _ae=$i(gae,[["render",yae]]),bae={GitHub:":repo/edit/:branch/:path",GitLab:":repo/-/edit/:branch/:path",Gitee:":repo/edit/:branch/:path",Bitbucket:":repo/src/:branch/:path?mode=edit&spa=0&at=:branch&fileviewer=file-view-default"},xae=({docsRepo:e,editLinkPattern:t})=>{if(t)return t;const r=Oj(e);return r!==null?bae[r]:null},wae=({docsRepo:e,docsBranch:t,docsDir:r,filePathRelative:n,editLinkPattern:i})=>{if(!n)return null;const o=xae({docsRepo:e,editLinkPattern:i});return o?o.replace(/:repo/,cb(e)?e:`https://github.com/${e}`).replace(/:branch/,t).replace(/:path/,ZD(`${zV(r)}/${n}`)):null},Sae=()=>{const{frontmatter:e,page:t,themeLocale:r}=ho();return ve(()=>{if(!(e.value.editLink??r.value.editLink??!0))return null;const{repo:i,docsRepo:o=i,docsBranch:s="main",docsDir:a="",editLinkText:h}=r.value;if(!o)return null;const p=wae({docsRepo:o,docsBranch:s,docsDir:a,filePathRelative:t.value.filePathRelative,editLinkPattern:e.value.editLinkPattern??r.value.editLinkPattern});return p?{text:h??"Edit this page",link:p}:null})},Tae={class:"vp-page-meta"},Cae={key:0,class:"vp-meta-item edit-link"},Pae={class:"vp-meta-item git-info"},Mae={key:0,class:"vp-meta-item last-updated"},Iae={class:"meta-item-label"},Eae=["datetime"],Aae={key:1,class:"vp-meta-item contributors"},Dae={class:"meta-item-label"},Lae={class:"meta-item-info"},Rae=["title"],Oae=St({__name:"VPPageMeta",setup(e){const{frontmatter:t,themeLocale:r}=ho(),n=wj(()=>t.value.contributors??r.value.contributors??!0),i=Sae(),o=Sj(()=>t.value.lastUpdated??r.value.lastUpdated??!0);return(s,a)=>(Pt(),Bt("footer",Tae,[rr(i)?(Pt(),Bt("div",Cae,[ie(fc,{class:"label",config:rr(i)},{before:Lr(()=>[ie(_ae)]),_:1},8,["config"])])):gn("",!0),Dt("div",Pae,[rr(o)?(Pt(),Bt("div",Mae,[Dt("span",Iae,Cr(rr(r).lastUpdatedText??rr(o).locale)+": ",1),Dt("time",{class:"meta-item-info",datetime:rr(o).iso,"data-allow-mismatch":""},Cr(rr(o).text),9,Eae)])):gn("",!0),rr(n).length?(Pt(),Bt("div",Aae,[Dt("span",Dae,Cr(rr(r).contributorsText)+": ",1),Dt("span",Lae,[(Pt(!0),Bt(pr,null,Oo(rr(n),(h,p)=>(Pt(),Bt(pr,{key:p},[Dt("span",{class:"contributor",title:`email: ${h.email}`},Cr(h.name),9,Rae),p!==rr(n).length-1?(Pt(),Bt(pr,{key:0},[Ai(", ")],64)):gn("",!0)],64))),128))])])):gn("",!0)])]))}}),kae=()=>{const e=rv(),t=sp();return r=>{r&&(pj(r)?t.fullPath!==r&&e.push(r):ub(r)?window.open(r):e.push(encodeURI(r)))}},Lz=(e,t)=>e===!1?!1:Ns(e)?zg(e,t):XD(e)?{...e,link:zg(e.link,t).link}:null,CE=(e,t,r)=>{const n=e.findIndex(o=>o.link===t);if(n!==-1){const o=e[n+r];return o?o.link?o:"prefix"in o&&!b0(o.prefix).notFound?{...o,link:o.prefix}:null:null}for(const o of e)if("children"in o){const s=CE(o.children,t,r);if(s)return s}const i=e.findIndex(o=>"prefix"in o&&o.prefix===t);if(i!==-1){const o=e[i+r];return o?o.link?o:"prefix"in o&&!b0(o.prefix).notFound?{...o,link:o.prefix}:null:null}return null},$ae=()=>{const{frontmatter:e,themeLocale:t}=ho(),r=gL(),n=QV(),i=ve(()=>{const s=Lz(e.value.prev,n.value);return s===!1?null:s??(t.value.prev===!1?null:CE(r.value,n.value,-1))}),o=ve(()=>{const s=Lz(e.value.next,n.value);return s===!1?null:s??(t.value.next===!1?null:CE(r.value,n.value,1))});return{prevLink:i,nextLink:o}},zae=["aria-label"],Bae={class:"hint"},Fae={class:"link"},Nae={class:"external-link"},Vae={class:"hint"},jae={class:"link"},Hae={class:"external-link"},Gae=St({__name:"VPPageNav",setup(e){const{themeLocale:t}=ho(),r=kae(),{prevLink:n,nextLink:i}=$ae(),o=ve(()=>t.value.pageNavbarLabel??"page navigation");return ta("keydown",s=>{s.altKey&&(s.key==="ArrowRight"?i.value&&(r(i.value.link),s.preventDefault()):s.key==="ArrowLeft"&&n.value&&(r(n.value.link),s.preventDefault()))}),(s,a)=>rr(n)||rr(i)?(Pt(),Bt("nav",{key:0,class:"vp-page-nav","aria-label":o.value},[rr(n)?(Pt(),Bn(fc,{key:0,class:"prev",config:rr(n)},{default:Lr(()=>[Dt("div",Bae,[a[0]||(a[0]=Dt("span",{class:"arrow left"},null,-1)),Ai(" "+Cr(rr(t).prev??"Prev"),1)]),Dt("div",Fae,[Dt("span",Nae,Cr(rr(n).text),1)])]),_:1},8,["config"])):gn("",!0),rr(i)?(Pt(),Bn(fc,{key:1,class:"next",config:rr(i)},{default:Lr(()=>[Dt("div",Vae,[Ai(Cr(rr(t).next??"Next")+" ",1),a[1]||(a[1]=Dt("span",{class:"arrow right"},null,-1))]),Dt("div",jae,[Dt("span",Hae,Cr(rr(i).text),1)])]),_:1},8,["config"])):gn("",!0)],8,zae)):gn("",!0)}}),Uae={class:"vp-page"},Wae={"vp-content":""},qae=St({__name:"VPPage",setup(e){return(t,r)=>(Pt(),Bt("main",Uae,[Hn(t.$slots,"top"),Dt("div",Wae,[Hn(t.$slots,"content-top"),ie(rr(tL),{id:"content"}),Hn(t.$slots,"content-bottom")]),ie(Oae),ie(Gae),Hn(t.$slots,"bottom")]))}}),Zae=St({__name:"VPDropdownTransition",setup(e){const t=n=>{n.style.height=`${n.scrollHeight}px`},r=n=>{n.style.height=""};return(n,i)=>(Pt(),Bn(Fa,{name:"vp-dropdown",onEnter:t,onAfterEnter:r,onBeforeLeave:t},{default:Lr(()=>[Hn(n.$slots,"default")]),_:3}))}}),Rz=e=>decodeURI(e).replace(/#.*$/,"").replace(/(index)?\.(md|html)$/,""),Xae=(e,t)=>{if(t.hash===e)return!0;const r=Rz(t.path),n=Rz(e);return r===n},zj=(e,t)=>e.link&&Xae(e.link,t)?!0:"children"in e?e.children.some(r=>zj(r,t)):!1,Kae={class:"vp-sidebar-children"},Yae=St({__name:"VPSidebarItem",props:{item:{},depth:{default:0}},setup(e){const t=sp(),r=rv(),n=ve(()=>e.item.collapsible),i=ve(()=>zj(e.item,t)),o=ve(()=>({"vp-sidebar-item":!0,"vp-sidebar-heading":e.depth===0,active:i.value,collapsible:n.value})),s=ve(()=>n.value?i.value:!0),[a,h]=aL(s.value),p=v=>{n.value&&(v.preventDefault(),h())},m=r.afterEach(()=>{_i(()=>{a.value=s.value})});return hi(()=>{m()}),(v,b)=>{const x=Cn("VPSidebarItem",!0);return Pt(),Bt("li",null,[e.item.link?(Pt(),Bn(fc,{key:0,class:Lo(o.value),config:e.item},{after:Lr(()=>[n.value?(Pt(),Bt("span",{key:0,class:Lo(["arrow",rr(a)?"down":"right"])},null,2)):gn("",!0)]),_:1},8,["class","config"])):(Pt(),Bt("p",{key:1,tabindex:"0",class:Lo(o.value),onClick:p,onKeydown:cte(p,["enter"])},[Ai(Cr(e.item.text)+" ",1),n.value?(Pt(),Bt("span",{key:0,class:Lo(["arrow",rr(a)?"down":"right"])},null,2)):gn("",!0)],34)),"children"in e.item&&e.item.children.length?(Pt(),Bn(Zae,{key:2},{default:Lr(()=>[Gh(Dt("ul",Kae,[(Pt(!0),Bt(pr,null,Oo(e.item.children,C=>(Pt(),Bn(x,{key:`${e.depth}${C.text}${C.link}`,item:C,depth:e.depth+1},null,8,["item","depth"]))),128))],512),[[Zf,rr(a)]])]),_:1})):gn("",!0)])}}}),Jae={key:0,class:"vp-sidebar-items"},Qae=St({__name:"VPSidebarItems",setup(e){const t=sp(),r=gL();return Nr(()=>{Zt(()=>t.hash,n=>{const i=document.querySelector(".vp-sidebar");if(!i)return;const o=document.querySelector(`.vp-sidebar .vp-sidebar-item.auto-link[href="${t.path}${n}"]`);if(!o)return;const{top:s,height:a}=i.getBoundingClientRect(),{top:h,height:p}=o.getBoundingClientRect();h<s?o.scrollIntoView(!0):h+p>s+a&&o.scrollIntoView(!1)})}),(n,i)=>rr(r).length?(Pt(),Bt("ul",Jae,[(Pt(!0),Bt(pr,null,Oo(rr(r),o=>(Pt(),Bn(Yae,{key:`${o.text}${o.link}`,item:o},null,8,["item"]))),128))])):gn("",!0)}}),ese={class:"vp-sidebar","vp-sidebar":""},tse=St({__name:"VPSidebar",setup(e){return(t,r)=>(Pt(),Bt("aside",ese,[ie($j),Hn(t.$slots,"top"),ie(Qae),Hn(t.$slots,"bottom")]))}}),rse=St({__name:"Layout",setup(e){const{frontmatter:t,page:r,themeLocale:n}=ho(),i=ve(()=>t.value.navbar??n.value.navbar??!0),o=gL(),s=Vt(!1),a=A=>{s.value=typeof A=="boolean"?A:!s.value},h={x:0,y:0},p=A=>{h.x=A.changedTouches[0].clientX,h.y=A.changedTouches[0].clientY},m=A=>{const R=A.changedTouches[0].clientX-h.x,k=A.changedTouches[0].clientY-h.y;Math.abs(R)>Math.abs(k)&&Math.abs(R)>40&&(R>0&&h.x<=80?a(!0):a(!1))},v=ve(()=>t.value.externalLinkIcon??n.value.externalLinkIcon??!0),b=ve(()=>[{"no-navbar":!i.value,"no-sidebar":!o.value.length,"sidebar-open":s.value,"external-link-icon":v.value},t.value.pageClass]);nv(()=>{a(!1)});const x=Ej(),C=x.resolve,I=x.pending;return(A,R)=>(Pt(),Bt("div",{class:Lo(["vp-theme-container",b.value]),"vp-container":"",onTouchstart:p,onTouchend:m},[Hn(A.$slots,"navbar",{},()=>[i.value?(Pt(),Bn(mae,{key:0,onToggleSidebar:a},{before:Lr(()=>[Hn(A.$slots,"navbar-before")]),after:Lr(()=>[Hn(A.$slots,"navbar-after")]),_:3})):gn("",!0)]),Dt("div",{class:"vp-sidebar-mask",onClick:R[0]||(R[0]=k=>a(!1))}),Hn(A.$slots,"sidebar",{},()=>[ie(tse,null,{top:Lr(()=>[Hn(A.$slots,"sidebar-top")]),bottom:Lr(()=>[Hn(A.$slots,"sidebar-bottom")]),_:3})]),Hn(A.$slots,"page",{},()=>[ie(Toe,{onBeforeEnter:rr(C),onBeforeLeave:rr(I)},{default:Lr(()=>[rr(t).home?(Pt(),Bn(zoe,{key:0})):(Pt(),Bn(qae,{key:rr(r).path},{top:Lr(()=>[Hn(A.$slots,"page-top")]),"content-top":Lr(()=>[Hn(A.$slots,"page-content-top")]),"content-bottom":Lr(()=>[Hn(A.$slots,"page-content-bottom")]),bottom:Lr(()=>[Hn(A.$slots,"page-bottom")]),_:3}))]),_:3},8,["onBeforeEnter","onBeforeLeave"])])],34))}}),nse={class:"vp-theme-container","vp-container":""},ise={class:"page"},ose={"vp-content":""},ase=St({__name:"NotFound",setup(e){const{routeLocale:t,theme:r,themeLocale:n}=ho(),i=lL(),o=ve(()=>i.value?t.value:"/"),s=ve(()=>{if(i.value)return n.value;const{locales:v,...b}=r.value;return{...b,...v?.["/"]}}),a=ve(()=>s.value.home??o.value),h=ve(()=>s.value.backToHome??"Back to home"),p=ve(()=>s.value.notFound??["Not Found"]),m=ve(()=>i.value?p.value[Math.floor(Math.random()*p.value.length)]:p.value[0]);return(v,b)=>(Pt(),Bt("div",nse,[Dt("main",ise,[Dt("div",ose,[b[0]||(b[0]=Dt("h1",null,"404",-1)),Dt("blockquote",null,Cr(m.value),1),ie(rr(hb),{to:a.value},{default:Lr(()=>[Ai(Cr(h.value),1)]),_:1},8,["to"])])])]))}}),sse=$i(ase,[["__scopeId","data-v-319130d1"]]),lse=Pl({enhance({app:e,router:t}){bj("Badge")||e.component("Badge",Soe);const r=t.options.scrollBehavior;t.options.scrollBehavior=async(...n)=>(await Ej().wait(),r(...n))},setup(){moe(),voe(),woe()},layouts:{Layout:rse,NotFound:sse}}),use=Object.freeze(Object.defineProperty({__proto__:null,default:lse},Symbol.toStringTag,{value:"Module"}));function cse(e,t,r){var n,i,o;r===void 0&&(r={});var s=(n=r.isImmediate)!=null&&n,a=(i=r.callback)!=null&&i,h=r.maxWait,p=Date.now(),m=[];function v(){if(h!==void 0){var x=Date.now()-p;if(x+t>=h)return h-x}return t}var b=function(){var x=[].slice.call(arguments),C=this;return new Promise(function(I,A){var R=s&&o===void 0;if(o!==void 0&&clearTimeout(o),o=setTimeout(function(){if(o=void 0,p=Date.now(),!s){var $=e.apply(C,x);a&&a($),m.forEach(function(N){return(0,N.resolve)($)}),m=[]}},v()),R){var k=e.apply(C,x);return a&&a(k),I(k)}m.push({resolve:I,reject:A})})};return b.cancel=function(x){o!==void 0&&clearTimeout(o),m.forEach(function(C){return(0,C.reject)(x)}),m=[]},b}var hse={appId:"51MD42WJ9Y",apiKey:"9b4e38ac3e880ab6800175b16f674d78",indexName:"sustech",locales:{"/":{placeholder:"",translations:{button:{buttonText:"",buttonAriaLabel:""},modal:{searchBox:{clearButtonTitle:"",clearButtonAriaLabel:"",closeButtonText:"",closeButtonAriaLabel:"",placeholderText:"",placeholderTextAskAi:" AI ",placeholderTextAskAiStreaming:"...",searchInputLabel:"",backToKeywordSearchButtonText:"",backToKeywordSearchButtonAriaLabel:"",newConversationPlaceholder:"",conversationHistoryTitle:"",startNewConversationText:"",viewConversationHistoryText:"",resetButtonTitle:"",resetButtonAriaLabel:"",cancelButtonText:"",cancelButtonAriaLabel:""},startScreen:{recentSearchesTitle:"",noRecentSearchesText:"",saveRecentSearchButtonTitle:"",removeRecentSearchButtonTitle:"",favoriteSearchesTitle:"",removeFavoriteSearchButtonTitle:"",recentConversationsTitle:"",removeRecentConversationButtonTitle:""},errorScreen:{titleText:"",helpText:""},noResultsScreen:{noResultsText:"",suggestedQueryText:"",reportMissingResultsText:"",reportMissingResultsLinkText:""},resultsScreen:{askAiPlaceholder:"AI",noResultsAskAiPlaceholder:" AI "},askAiScreen:{disclaimerText:"AI ",relatedSourcesText:"",thinkingText:"...",copyButtonText:"",copyButtonCopiedText:"",copyButtonTitle:"",likeButtonTitle:"",dislikeButtonTitle:"",thanksForFeedbackText:"",preToolCallText:"...",duringToolCallText:"",afterToolCallText:"",stoppedStreamingText:""},footer:{selectText:"",submitQuestionText:"",selectKeyAriaLabel:"",navigateText:"",navigateUpKeyAriaLabel:"",navigateDownKeyAriaLabel:"",closeText:"",backToSearchText:"",closeKeyAriaLabel:"ESC ",poweredByText:"",searchByText:""}}}}}};const dse=(e,t)=>{const r=ta("keydown",n=>{const{keyboardShortcuts:i={}}=e.value,o=i["Ctrl/Cmd+K"]!==!1&&n.key==="k"&&(vj()||dL()?n.metaKey:n.ctrlKey),s=i["/"]!==!1&&n.key==="/";(o||s)&&(n.preventDefault(),t(),r())})},fse=()=>{const e=rv();return{transformItems:t=>t.map(r=>({...r,url:`/${ZD(xte(r.url,"/"))}`})),navigator:{navigate:({itemUrl:t})=>{e.push(t.replace("/","/"))}},transformSearchClient:t=>({...t,search:cse(t.search,500)})}},pse=hse,mse=Vt(pse),Bj=Symbol(""),gse=()=>{const e=Ir(Bj),t=QD();return ve(()=>({...e.value,...e.value.locales?.[t.value]}))},vse=e=>{e.provide(Bj,Hh(mse))},yse=(e,t=[])=>[`lang:${e}`,...Array.isArray(t)?t:[t]],_se=({indices:e,indexName:t,searchParameters:r},n)=>(e??[{name:t??"",searchParameters:r}]).map(i=>{if(Ns(i))return{name:i,searchParameters:{facetFilters:`lang:${n}`}};const{searchParameters:o,...s}=i;return{...s,searchParameters:{...o,facetFilters:yse(n,o?.facetFilters)}}}),bse=({buttonText:e="Search",buttonAriaLabel:t=e}={})=>{const r=vj()||dL()||gj();return`<button type="button" aria-label="${t}" aria-keyshortcuts="${r?"Command":"Control"}+k" class="DocSearch DocSearch-Button"><span class="DocSearch-Button-Container"><svg width="20" height="20" viewBox="0 0 24 24" aria-hidden="true" class="DocSearch-Search-Icon"><circle cx="11" cy="11" r="8" stroke="currentColor" fill="none" stroke-width="1.4"></circle><path d="m21 21-4.3-4.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">${e}</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key ${r?"":"DocSearch-Button-Key--ctrl"}">${r?"":"Ctrl"}</kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button>`},Fj=()=>{if(document.querySelector(".DocSearch-Modal"))return;const e=new Event("keydown");e.key="k",e.metaKey=!0,window.dispatchEvent(e),setTimeout(Fj,16)},xse=e=>{const t="algolia-preconnect";("requestIdleCallback"in window?window.requestIdleCallback:setTimeout)(()=>{if(document.head.querySelector(`#${t}`))return;const r=document.createElement("link");r.id=t,r.rel="preconnect",r.href=`https://${e}-dsn.algolia.net`,r.crossOrigin="",document.head.appendChild(r)})},wse=St({name:"DocSearch",props:{containerId:{type:String,default:"docsearch-container"},options:{type:Object,default:()=>({})}},setup(e){const t=gse(),r=fse(),n=jre(),i=QD(),o=Vt(!1),s=Vt(!1),a=ve(()=>{const{locales:m={},...v}=e.options;return{...t.value,...v,...m[i.value]}}),h=async()=>{const{default:m}=await Ut(async()=>{const{default:I}=await import("./index-jlbGtaFS.js");return{default:I}},[]),{indexName:v,indices:b,searchParameters:x,...C}=a.value;m({...r,...C,container:`#${e.containerId}`,indices:_se({indices:b,indexName:v,searchParameters:x},n.value)}),o.value=!0},p=()=>{s.value||o.value||(s.value=!0,h(),Fj(),Zt(i,h))};return dse(a,p),Nr(()=>{xse(a.value.appId)}),()=>[Wt("div",{id:e.containerId,style:{display:o.value?"block":"none"}}),o.value?null:Wt("div",{class:"docsearch-placeholder",onClick:p,innerHTML:bse(a.value.translations?.button)})]}}),Sse={enhance({app:e}){vse(e),e.component("SearchBox",wse)}},Tse=Object.freeze(Object.defineProperty({__proto__:null,default:Sse},Symbol.toStringTag,{value:"Module"}));function Cse(e){return{all:e=e||new Map,on:function(t,r){var n=e.get(t);n?n.push(r):e.set(t,[r])},off:function(t,r){var n=e.get(t);n&&(r?n.splice(n.indexOf(r)>>>0,1):e.set(t,[]))},emit:function(t,r){var n=e.get(t);n&&n.slice().map(function(i){i(r)}),(n=e.get("*"))&&n.slice().map(function(i){i(t,r)})}}}const Nj=Symbol(""),Pse=()=>{const e=Ir(Nj);if(!e)throw new Error("usePwaEvent() is called without provider.");return e},Mse=()=>{navigator.serviceWorker.getRegistration().then(e=>{e?.active&&e.addEventListener("updatefound",()=>{window.location.reload(!0)})})},Ise=async(e,t={},r=!0)=>{const{register:n}=await Ut(async()=>{const{register:i}=await import("./index-DTEEl-sV.js");return{register:i}},[]);n(e,{ready(i){r&&console.info("[Service Worker]: active"),t.ready?.(i)},registered(i){r&&console.log("[Service Worker]: registered"),t.registered?.(i)},cached(i){r&&console.log("[Service Worker]: cached"),t.cached?.(i)},updatefound(i){r&&console.log("[Service Worker]: update found"),t.updatefound?.(i)},updated(i){r&&console.log("[Service Worker]: updated"),t.updated?.(i)},offline(){r&&console.log("[Service Worker]: offline"),t.offline?.()},error(i){r&&console.error("[Service Worker]: ",i),t.error?.(i)}})},Ese=async(e,t)=>Ise(B2(e),{ready(r){t.emit("ready",r)},registered(r){t.emit("registered",r)},cached(r){t.emit("cached",r)},updatefound(r){t.emit("updatefound",r)},updated(r){const n="service-worker-version",i=Number(localStorage.getItem(n)||0);localStorage.setItem(n,(i+1).toString()),localStorage.removeItem("manifest"),t.emit("updated",r)},offline(){t.emit("offline")},error(r){t.emit("error",r)}}),Ase=(e,t=!1)=>{const r=Cse();un(Nj,r),Nr(async()=>{if(!("serviceWorker"in navigator))return;let n=!1;navigator.serviceWorker.controller&&navigator.serviceWorker.addEventListener("controllerchange",()=>{n||(n=!0,window.location.reload())}),t&&Mse(),await Ese(e,r)})},Dse=()=>{Nr(()=>{if(window.matchMedia("(display-mode: standalone)").matches){const e=document.head.querySelector('meta[name="viewport"]');if(e){e.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover");return}const t=document.createElement("meta");t.name="viewport",t.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover",document.head.appendChild(t)}})},Vj=({name:e="",color:t="currentColor"},{slots:r})=>Wt("svg",{xmlns:"http://www.w3.org/2000/svg",class:["icon",`${e}-icon`],viewBox:"0 0 1024 1024",fill:t,"aria-label":`${e} icon`},r.default());Vj.displayName="SVGWrapper";const jj=()=>Wt(Vj,{name:"update"},()=>Wt("path",{d:"M949.949 146.25v255.826c0 21.981-13.989 35.97-35.97 35.97H658.154c-13.988 0-25.983-7.992-33.973-21.981-5.997-13.989-4-27.977 7.991-39.97l79.942-77.946c-55.954-51.973-121.918-77.955-199.863-77.955-37.975 0-75.95 8.002-113.924 21.99-37.975 15.985-67.948 37.976-91.934 63.957-25.982 23.987-47.973 53.96-63.957 91.934-29.983 73.955-29.983 153.895 0 227.85 15.984 37.976 37.975 67.947 63.957 91.934 23.986 25.982 53.959 47.973 91.934 63.956 37.974 13.989 75.95 21.991 113.924 21.991 45.967 0 87.942-9.998 127.913-29.982 41.976-17.99 75.951-45.967 101.931-83.943 7.993-4 11.994-5.995 13.989-5.995 5.997 0 9.998 1.994 13.988 5.995l77.958 77.946c3.989 4 5.986 7.993 5.986 11.994 0 1.994-1.996 5.995-3.99 11.994-43.973 51.962-93.941 91.934-151.9 117.914-53.958 25.983-115.92 39.972-185.874 39.972-61.961 0-119.921-11.984-169.89-33.973-57.96-25.985-105.923-57.963-139.896-93.943-35.98-33.972-67.958-81.936-93.94-139.897-45.967-101.93-45.967-237.846 0-339.777 25.982-57.96 57.96-105.923 93.94-139.896 33.973-35.98 81.936-67.958 139.896-93.94 49.968-21.99 107.928-33.974 169.89-33.974 55.963 0 109.923 9.988 161.885 29.973 53.97 21.99 101.933 51.963 139.908 89.938l73.954-73.944c9.987-9.998 23.987-13.988 39.971-8.002 13.988 8.002 21.98 19.995 21.98 33.984z"}));jj.displayName="UpdateIcon";const Lse=e=>{const t=e.waiting;if(!t)return;const r=new MessageChannel;t.postMessage({type:"SKIP_WAITING"},[r.port2])},Rse=St({name:"PwaReadyPopup",props:{locales:{type:Object,required:!0}},slots:Object,setup(e,{slots:t}){const r=V2(e.locales),n=vt(),i=ve(()=>!!n.value),o=()=>{n.value&&(Lse(n.value),n.value=void 0)};return Nr(()=>{Pse().on("updated",s=>{n.value=s})}),()=>Wt(Fa,{name:"fade-in-scale-up"},()=>t.default?.({isReady:i.value,reload:o})??(i.value?Wt("button",{type:"button",class:"sw-update-popup",tabindex:0,onClick:()=>{o()}},[r.value.update,Wt("span",{class:"icon-wrapper"},Wt(jj))]):null))}}),Ose={"/":{install:"",iOSInstall:"",cancel:"",close:"",prevImage:"",nextImage:"",desc:"",feature:"",explain:" PC  Web  Web ",hint:"",update:""}},kse=Pl({setup:()=>{Ase("service-worker.js",!1),Dse()},rootComponents:[()=>Wt(Rse,{locales:Ose})]}),$se=Object.freeze(Object.defineProperty({__proto__:null,default:kse},Symbol.toStringTag,{value:"Module"})),zse=(e,t,r)=>{const n=`#${e.slug}`,i=[t.linkClass];return t.linkActiveClass&&r.hash===n&&i.push(t.linkActiveClass),t.linkChildrenActiveClass&&e.children.some(o=>`#${o.slug}`===r.hash)&&i.push(t.linkChildrenActiveClass),t.linkTag==="RouteLink"?Wt(hb,{to:n,class:i,ariaLabel:e.title},()=>e.title):t.linkTag==="RouterLink"?Wt(KV,{to:n,class:i,ariaLabel:e.title},()=>e.title):Wt("a",{href:n,class:i,ariaLabel:e.title},e.title)},Hj=(e,t,r)=>e.length===0?[]:[Wt("ul",{class:t.listClass},e.map(n=>Wt("li",{class:t.itemClass},[zse(n,t,r),Hj(n.children,t,r)])))],Bse=St({name:"Toc",props:{headers:Array,headersOptions:Object,renderOptions:Object},setup(e){const{headers:t,headersOptions:r,renderOptions:n}=$D(e),i=pie(r),o=sp(),s=ve(()=>({containerTag:"nav",containerClass:"vuepress-toc",listClass:"vuepress-toc-list",itemClass:"vuepress-toc-item",linkTag:"RouteLink",linkClass:"vuepress-toc-link",linkActiveClass:"active",linkChildrenActiveClass:"active",...n.value}));return()=>{const a=Hj(t.value??i.value,s.value,o);return s.value.containerTag?Wt(s.value.containerTag,{class:s.value.containerClass},a):a}}});var Fse={},Nse={},Vse=Pl({enhance({app:e}){e.component("Toc",t=>Wt(Bse,{headers:t.headers,headersOptions:{...Fse,...t.headersOptions},renderOptions:{...Nse,...t.renderOptions}}))}});const jse=Object.freeze(Object.defineProperty({__proto__:null,default:Vse},Symbol.toStringTag,{value:"Module"}));function Gj(e,t){return function(){return e.apply(t,arguments)}}const{toString:Hse}=Object.prototype,{getPrototypeOf:vL}=Object,{iterator:j2,toStringTag:Uj}=Symbol,H2=(e=>t=>{const r=Hse.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ml=e=>(e=e.toLowerCase(),t=>H2(t)===e),G2=e=>t=>typeof t===e,{isArray:iv}=Array,Bg=G2("undefined");function pb(e){return e!==null&&!Bg(e)&&e.constructor!==null&&!Bg(e.constructor)&&La(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Wj=Ml("ArrayBuffer");function Gse(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Wj(e.buffer),t}const Use=G2("string"),La=G2("function"),qj=G2("number"),mb=e=>e!==null&&typeof e=="object",Wse=e=>e===!0||e===!1,$w=e=>{if(H2(e)!=="object")return!1;const t=vL(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Uj in e)&&!(j2 in e)},qse=e=>{if(!mb(e)||pb(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Zse=Ml("Date"),Xse=Ml("File"),Kse=Ml("Blob"),Yse=Ml("FileList"),Jse=e=>mb(e)&&La(e.pipe),Qse=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||La(e.append)&&((t=H2(e))==="formdata"||t==="object"&&La(e.toString)&&e.toString()==="[object FormData]"))},ele=Ml("URLSearchParams"),[tle,rle,nle,ile]=["ReadableStream","Request","Response","Headers"].map(Ml),ole=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gb(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),iv(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(pb(e))return;const o=r?Object.getOwnPropertyNames(e):Object.keys(e),s=o.length;let a;for(n=0;n<s;n++)a=o[n],t.call(null,e[a],a,e)}}function Zj(e,t){if(pb(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const Af=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Xj=e=>!Bg(e)&&e!==Af;function PE(){const{caseless:e,skipUndefined:t}=Xj(this)&&this||{},r={},n=(i,o)=>{const s=e&&Zj(r,o)||o;$w(r[s])&&$w(i)?r[s]=PE(r[s],i):$w(i)?r[s]=PE({},i):iv(i)?r[s]=i.slice():(!t||!Bg(i))&&(r[s]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&gb(arguments[i],n);return r}const ale=(e,t,r,{allOwnKeys:n}={})=>(gb(t,(i,o)=>{r&&La(i)?e[o]=Gj(i,r):e[o]=i},{allOwnKeys:n}),e),sle=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),lle=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},ule=(e,t,r,n)=>{let i,o,s;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],(!n||n(s,e,t))&&!a[s]&&(t[s]=e[s],a[s]=!0);e=r!==!1&&vL(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},cle=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},hle=e=>{if(!e)return null;if(iv(e))return e;let t=e.length;if(!qj(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},dle=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&vL(Uint8Array)),fle=(e,t)=>{const n=(e&&e[j2]).call(e);let i;for(;(i=n.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},ple=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},mle=Ml("HTMLFormElement"),gle=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),Oz=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),vle=Ml("RegExp"),Kj=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};gb(r,(i,o)=>{let s;(s=t(i,o,e))!==!1&&(n[o]=s||i)}),Object.defineProperties(e,n)},yle=e=>{Kj(e,(t,r)=>{if(La(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(La(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},_le=(e,t)=>{const r={},n=i=>{i.forEach(o=>{r[o]=!0})};return iv(e)?n(e):n(String(e).split(t)),r},ble=()=>{},xle=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function wle(e){return!!(e&&La(e.append)&&e[Uj]==="FormData"&&e[j2])}const Sle=e=>{const t=new Array(10),r=(n,i)=>{if(mb(n)){if(t.indexOf(n)>=0)return;if(pb(n))return n;if(!("toJSON"in n)){t[i]=n;const o=iv(n)?[]:{};return gb(n,(s,a)=>{const h=r(s,i+1);!Bg(h)&&(o[a]=h)}),t[i]=void 0,o}}return n};return r(e,0)},Tle=Ml("AsyncFunction"),Cle=e=>e&&(mb(e)||La(e))&&La(e.then)&&La(e.catch),Yj=((e,t)=>e?setImmediate:t?((r,n)=>(Af.addEventListener("message",({source:i,data:o})=>{i===Af&&o===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Af.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",La(Af.postMessage)),Ple=typeof queueMicrotask<"u"?queueMicrotask.bind(Af):typeof process<"u"&&process.nextTick||Yj,Mle=e=>e!=null&&La(e[j2]),mt={isArray:iv,isArrayBuffer:Wj,isBuffer:pb,isFormData:Qse,isArrayBufferView:Gse,isString:Use,isNumber:qj,isBoolean:Wse,isObject:mb,isPlainObject:$w,isEmptyObject:qse,isReadableStream:tle,isRequest:rle,isResponse:nle,isHeaders:ile,isUndefined:Bg,isDate:Zse,isFile:Xse,isBlob:Kse,isRegExp:vle,isFunction:La,isStream:Jse,isURLSearchParams:ele,isTypedArray:dle,isFileList:Yse,forEach:gb,merge:PE,extend:ale,trim:ole,stripBOM:sle,inherits:lle,toFlatObject:ule,kindOf:H2,kindOfTest:Ml,endsWith:cle,toArray:hle,forEachEntry:fle,matchAll:ple,isHTMLForm:mle,hasOwnProperty:Oz,hasOwnProp:Oz,reduceDescriptors:Kj,freezeMethods:yle,toObjectSet:_le,toCamelCase:gle,noop:ble,toFiniteNumber:xle,findKey:Zj,global:Af,isContextDefined:Xj,isSpecCompliantForm:wle,toJSONObject:Sle,isAsyncFn:Tle,isThenable:Cle,setImmediate:Yj,asap:Ple,isIterable:Mle};function Gr(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}mt.inherits(Gr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:mt.toJSONObject(this.config),code:this.code,status:this.status}}});const Jj=Gr.prototype,Qj={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Qj[e]={value:e}});Object.defineProperties(Gr,Qj);Object.defineProperty(Jj,"isAxiosError",{value:!0});Gr.from=(e,t,r,n,i,o)=>{const s=Object.create(Jj);mt.toFlatObject(e,s,function(m){return m!==Error.prototype},p=>p!=="isAxiosError");const a=e&&e.message?e.message:"Error",h=t==null&&e?e.code:t;return Gr.call(s,a,h,r,n,i),e&&s.cause==null&&Object.defineProperty(s,"cause",{value:e,configurable:!0}),s.name=e&&e.name||"Error",o&&Object.assign(s,o),s};const Ile=null;function ME(e){return mt.isPlainObject(e)||mt.isArray(e)}function e7(e){return mt.endsWith(e,"[]")?e.slice(0,-2):e}function kz(e,t,r){return e?e.concat(t).map(function(i,o){return i=e7(i),!r&&o?"["+i+"]":i}).join(r?".":""):t}function Ele(e){return mt.isArray(e)&&!e.some(ME)}const Ale=mt.toFlatObject(mt,{},null,function(t){return/^is[A-Z]/.test(t)});function U2(e,t,r){if(!mt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=mt.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(I,A){return!mt.isUndefined(A[I])});const n=r.metaTokens,i=r.visitor||m,o=r.dots,s=r.indexes,h=(r.Blob||typeof Blob<"u"&&Blob)&&mt.isSpecCompliantForm(t);if(!mt.isFunction(i))throw new TypeError("visitor must be a function");function p(C){if(C===null)return"";if(mt.isDate(C))return C.toISOString();if(mt.isBoolean(C))return C.toString();if(!h&&mt.isBlob(C))throw new Gr("Blob is not supported. Use a Buffer instead.");return mt.isArrayBuffer(C)||mt.isTypedArray(C)?h&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function m(C,I,A){let R=C;if(C&&!A&&typeof C=="object"){if(mt.endsWith(I,"{}"))I=n?I:I.slice(0,-2),C=JSON.stringify(C);else if(mt.isArray(C)&&Ele(C)||(mt.isFileList(C)||mt.endsWith(I,"[]"))&&(R=mt.toArray(C)))return I=e7(I),R.forEach(function($,N){!(mt.isUndefined($)||$===null)&&t.append(s===!0?kz([I],N,o):s===null?I:I+"[]",p($))}),!1}return ME(C)?!0:(t.append(kz(A,I,o),p(C)),!1)}const v=[],b=Object.assign(Ale,{defaultVisitor:m,convertValue:p,isVisitable:ME});function x(C,I){if(!mt.isUndefined(C)){if(v.indexOf(C)!==-1)throw Error("Circular reference detected in "+I.join("."));v.push(C),mt.forEach(C,function(R,k){(!(mt.isUndefined(R)||R===null)&&i.call(t,R,mt.isString(k)?k.trim():k,I,b))===!0&&x(R,I?I.concat(k):[k])}),v.pop()}}if(!mt.isObject(e))throw new TypeError("data must be an object");return x(e),t}function $z(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function yL(e,t){this._pairs=[],e&&U2(e,this,t)}const t7=yL.prototype;t7.append=function(t,r){this._pairs.push([t,r])};t7.toString=function(t){const r=t?function(n){return t.call(this,n,$z)}:$z;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function Dle(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function r7(e,t,r){if(!t)return e;const n=r&&r.encode||Dle;mt.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let o;if(i?o=i(t,r):o=mt.isURLSearchParams(t)?t.toString():new yL(t,r).toString(n),o){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class zz{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){mt.forEach(this.handlers,function(n){n!==null&&t(n)})}}const n7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Lle=typeof URLSearchParams<"u"?URLSearchParams:yL,Rle=typeof FormData<"u"?FormData:null,Ole=typeof Blob<"u"?Blob:null,kle={isBrowser:!0,classes:{URLSearchParams:Lle,FormData:Rle,Blob:Ole},protocols:["http","https","file","blob","url","data"]},_L=typeof window<"u"&&typeof document<"u",IE=typeof navigator=="object"&&navigator||void 0,$le=_L&&(!IE||["ReactNative","NativeScript","NS"].indexOf(IE.product)<0),zle=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ble=_L&&window.location.href||"http://localhost",Fle=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:_L,hasStandardBrowserEnv:$le,hasStandardBrowserWebWorkerEnv:zle,navigator:IE,origin:Ble},Symbol.toStringTag,{value:"Module"})),Jo={...Fle,...kle};function Nle(e,t){return U2(e,new Jo.classes.URLSearchParams,{visitor:function(r,n,i,o){return Jo.isNode&&mt.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function Vle(e){return mt.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function jle(e){const t={},r=Object.keys(e);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],t[o]=e[o];return t}function i7(e){function t(r,n,i,o){let s=r[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),h=o>=r.length;return s=!s&&mt.isArray(i)?i.length:s,h?(mt.hasOwnProp(i,s)?i[s]=[i[s],n]:i[s]=n,!a):((!i[s]||!mt.isObject(i[s]))&&(i[s]=[]),t(r,n,i[s],o)&&mt.isArray(i[s])&&(i[s]=jle(i[s])),!a)}if(mt.isFormData(e)&&mt.isFunction(e.entries)){const r={};return mt.forEachEntry(e,(n,i)=>{t(Vle(n),i,r,0)}),r}return null}function Hle(e,t,r){if(mt.isString(e))try{return(t||JSON.parse)(e),mt.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const vb={transitional:n7,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,o=mt.isObject(t);if(o&&mt.isHTMLForm(t)&&(t=new FormData(t)),mt.isFormData(t))return i?JSON.stringify(i7(t)):t;if(mt.isArrayBuffer(t)||mt.isBuffer(t)||mt.isStream(t)||mt.isFile(t)||mt.isBlob(t)||mt.isReadableStream(t))return t;if(mt.isArrayBufferView(t))return t.buffer;if(mt.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Nle(t,this.formSerializer).toString();if((a=mt.isFileList(t))||n.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return U2(a?{"files[]":t}:t,h&&new h,this.formSerializer)}}return o||i?(r.setContentType("application/json",!1),Hle(t)):t}],transformResponse:[function(t){const r=this.transitional||vb.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(mt.isResponse(t)||mt.isReadableStream(t))return t;if(t&&mt.isString(t)&&(n&&!this.responseType||i)){const s=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(a){if(s)throw a.name==="SyntaxError"?Gr.from(a,Gr.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Jo.classes.FormData,Blob:Jo.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};mt.forEach(["delete","get","head","post","put","patch"],e=>{vb.headers[e]={}});const Gle=mt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ule=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(s){i=s.indexOf(":"),r=s.substring(0,i).trim().toLowerCase(),n=s.substring(i+1).trim(),!(!r||t[r]&&Gle[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Bz=Symbol("internals");function jy(e){return e&&String(e).trim().toLowerCase()}function zw(e){return e===!1||e==null?e:mt.isArray(e)?e.map(zw):String(e)}function Wle(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const qle=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function WP(e,t,r,n,i){if(mt.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!mt.isString(t)){if(mt.isString(n))return t.indexOf(n)!==-1;if(mt.isRegExp(n))return n.test(t)}}function Zle(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Xle(e,t){const r=mt.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,o,s){return this[n].call(this,t,i,o,s)},configurable:!0})})}let Ra=class{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function o(a,h,p){const m=jy(h);if(!m)throw new Error("header name must be a non-empty string");const v=mt.findKey(i,m);(!v||i[v]===void 0||p===!0||p===void 0&&i[v]!==!1)&&(i[v||h]=zw(a))}const s=(a,h)=>mt.forEach(a,(p,m)=>o(p,m,h));if(mt.isPlainObject(t)||t instanceof this.constructor)s(t,r);else if(mt.isString(t)&&(t=t.trim())&&!qle(t))s(Ule(t),r);else if(mt.isObject(t)&&mt.isIterable(t)){let a={},h,p;for(const m of t){if(!mt.isArray(m))throw TypeError("Object iterator must return a key-value pair");a[p=m[0]]=(h=a[p])?mt.isArray(h)?[...h,m[1]]:[h,m[1]]:m[1]}s(a,r)}else t!=null&&o(r,t,n);return this}get(t,r){if(t=jy(t),t){const n=mt.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return Wle(i);if(mt.isFunction(r))return r.call(this,i,n);if(mt.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=jy(t),t){const n=mt.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||WP(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function o(s){if(s=jy(s),s){const a=mt.findKey(n,s);a&&(!r||WP(n,n[a],a,r))&&(delete n[a],i=!0)}}return mt.isArray(t)?t.forEach(o):o(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const o=r[n];(!t||WP(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const r=this,n={};return mt.forEach(this,(i,o)=>{const s=mt.findKey(n,o);if(s){r[s]=zw(i),delete r[o];return}const a=t?Zle(o):String(o).trim();a!==o&&delete r[o],r[a]=zw(i),n[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return mt.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&mt.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[Bz]=this[Bz]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=jy(s);n[a]||(Xle(i,s),n[a]=!0)}return mt.isArray(t)?t.forEach(o):o(t),this}};Ra.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);mt.reduceDescriptors(Ra.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});mt.freezeMethods(Ra);function qP(e,t){const r=this||vb,n=t||r,i=Ra.from(n.headers);let o=n.data;return mt.forEach(e,function(a){o=a.call(r,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function o7(e){return!!(e&&e.__CANCEL__)}function ov(e,t,r){Gr.call(this,e??"canceled",Gr.ERR_CANCELED,t,r),this.name="CanceledError"}mt.inherits(ov,Gr,{__CANCEL__:!0});function a7(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Gr("Request failed with status code "+r.status,[Gr.ERR_BAD_REQUEST,Gr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Kle(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Yle(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,o=0,s;return t=t!==void 0?t:1e3,function(h){const p=Date.now(),m=n[o];s||(s=p),r[i]=h,n[i]=p;let v=o,b=0;for(;v!==i;)b+=r[v++],v=v%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),p-s<t)return;const x=m&&p-m;return x?Math.round(b*1e3/x):void 0}}function Jle(e,t){let r=0,n=1e3/t,i,o;const s=(p,m=Date.now())=>{r=m,i=null,o&&(clearTimeout(o),o=null),e(...p)};return[(...p)=>{const m=Date.now(),v=m-r;v>=n?s(p,m):(i=p,o||(o=setTimeout(()=>{o=null,s(i)},n-v)))},()=>i&&s(i)]}const TS=(e,t,r=3)=>{let n=0;const i=Yle(50,250);return Jle(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,h=s-n,p=i(h),m=s<=a;n=s;const v={loaded:s,total:a,progress:a?s/a:void 0,bytes:h,rate:p||void 0,estimated:p&&a&&m?(a-s)/p:void 0,event:o,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(v)},r)},Fz=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Nz=e=>(...t)=>mt.asap(()=>e(...t)),Qle=Jo.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Jo.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Jo.origin),Jo.navigator&&/(msie|trident)/i.test(Jo.navigator.userAgent)):()=>!0,eue=Jo.hasStandardBrowserEnv?{write(e,t,r,n,i,o,s){if(typeof document>"u")return;const a=[`${e}=${encodeURIComponent(t)}`];mt.isNumber(r)&&a.push(`expires=${new Date(r).toUTCString()}`),mt.isString(n)&&a.push(`path=${n}`),mt.isString(i)&&a.push(`domain=${i}`),o===!0&&a.push("secure"),mt.isString(s)&&a.push(`SameSite=${s}`),document.cookie=a.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function tue(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function rue(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function s7(e,t,r){let n=!tue(t);return e&&(n||r==!1)?rue(e,t):t}const Vz=e=>e instanceof Ra?{...e}:e;function Kf(e,t){t=t||{};const r={};function n(p,m,v,b){return mt.isPlainObject(p)&&mt.isPlainObject(m)?mt.merge.call({caseless:b},p,m):mt.isPlainObject(m)?mt.merge({},m):mt.isArray(m)?m.slice():m}function i(p,m,v,b){if(mt.isUndefined(m)){if(!mt.isUndefined(p))return n(void 0,p,v,b)}else return n(p,m,v,b)}function o(p,m){if(!mt.isUndefined(m))return n(void 0,m)}function s(p,m){if(mt.isUndefined(m)){if(!mt.isUndefined(p))return n(void 0,p)}else return n(void 0,m)}function a(p,m,v){if(v in t)return n(p,m);if(v in e)return n(void 0,p)}const h={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(p,m,v)=>i(Vz(p),Vz(m),v,!0)};return mt.forEach(Object.keys({...e,...t}),function(m){const v=h[m]||i,b=v(e[m],t[m],m);mt.isUndefined(b)&&v!==a||(r[m]=b)}),r}const l7=e=>{const t=Kf({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=t;if(t.headers=s=Ra.from(s),t.url=r7(s7(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),mt.isFormData(r)){if(Jo.hasStandardBrowserEnv||Jo.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(mt.isFunction(r.getHeaders)){const h=r.getHeaders(),p=["content-type","content-length"];Object.entries(h).forEach(([m,v])=>{p.includes(m.toLowerCase())&&s.set(m,v)})}}if(Jo.hasStandardBrowserEnv&&(n&&mt.isFunction(n)&&(n=n(t)),n||n!==!1&&Qle(t.url))){const h=i&&o&&eue.read(o);h&&s.set(i,h)}return t},nue=typeof XMLHttpRequest<"u",iue=nue&&function(e){return new Promise(function(r,n){const i=l7(e);let o=i.data;const s=Ra.from(i.headers).normalize();let{responseType:a,onUploadProgress:h,onDownloadProgress:p}=i,m,v,b,x,C;function I(){x&&x(),C&&C(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let A=new XMLHttpRequest;A.open(i.method.toUpperCase(),i.url,!0),A.timeout=i.timeout;function R(){if(!A)return;const $=Ra.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),H={data:!a||a==="text"||a==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:$,config:e,request:A};a7(function(j){r(j),I()},function(j){n(j),I()},H),A=null}"onloadend"in A?A.onloadend=R:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(R)},A.onabort=function(){A&&(n(new Gr("Request aborted",Gr.ECONNABORTED,e,A)),A=null)},A.onerror=function(N){const H=N&&N.message?N.message:"Network Error",W=new Gr(H,Gr.ERR_NETWORK,e,A);W.event=N||null,n(W),A=null},A.ontimeout=function(){let N=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const H=i.transitional||n7;i.timeoutErrorMessage&&(N=i.timeoutErrorMessage),n(new Gr(N,H.clarifyTimeoutError?Gr.ETIMEDOUT:Gr.ECONNABORTED,e,A)),A=null},o===void 0&&s.setContentType(null),"setRequestHeader"in A&&mt.forEach(s.toJSON(),function(N,H){A.setRequestHeader(H,N)}),mt.isUndefined(i.withCredentials)||(A.withCredentials=!!i.withCredentials),a&&a!=="json"&&(A.responseType=i.responseType),p&&([b,C]=TS(p,!0),A.addEventListener("progress",b)),h&&A.upload&&([v,x]=TS(h),A.upload.addEventListener("progress",v),A.upload.addEventListener("loadend",x)),(i.cancelToken||i.signal)&&(m=$=>{A&&(n(!$||$.type?new ov(null,e,A):$),A.abort(),A=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const k=Kle(i.url);if(k&&Jo.protocols.indexOf(k)===-1){n(new Gr("Unsupported protocol "+k+":",Gr.ERR_BAD_REQUEST,e));return}A.send(o||null)})},oue=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const o=function(p){if(!i){i=!0,a();const m=p instanceof Error?p:this.reason;n.abort(m instanceof Gr?m:new ov(m instanceof Error?m.message:m))}};let s=t&&setTimeout(()=>{s=null,o(new Gr(`timeout ${t} of ms exceeded`,Gr.ETIMEDOUT))},t);const a=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(o):p.removeEventListener("abort",o)}),e=null)};e.forEach(p=>p.addEventListener("abort",o));const{signal:h}=n;return h.unsubscribe=()=>mt.asap(a),h}},aue=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},sue=async function*(e,t){for await(const r of lue(e))yield*aue(r,t)},lue=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},jz=(e,t,r,n)=>{const i=sue(e,t);let o=0,s,a=h=>{s||(s=!0,n&&n(h))};return new ReadableStream({async pull(h){try{const{done:p,value:m}=await i.next();if(p){a(),h.close();return}let v=m.byteLength;if(r){let b=o+=v;r(b)}h.enqueue(new Uint8Array(m))}catch(p){throw a(p),p}},cancel(h){return a(h),i.return()}},{highWaterMark:2})},Hz=64*1024,{isFunction:Cx}=mt,uue=(({Request:e,Response:t})=>({Request:e,Response:t}))(mt.global),{ReadableStream:Gz,TextEncoder:Uz}=mt.global,Wz=(e,...t)=>{try{return!!e(...t)}catch{return!1}},cue=e=>{e=mt.merge.call({skipUndefined:!0},uue,e);const{fetch:t,Request:r,Response:n}=e,i=t?Cx(t):typeof fetch=="function",o=Cx(r),s=Cx(n);if(!i)return!1;const a=i&&Cx(Gz),h=i&&(typeof Uz=="function"?(C=>I=>C.encode(I))(new Uz):async C=>new Uint8Array(await new r(C).arrayBuffer())),p=o&&a&&Wz(()=>{let C=!1;const I=new r(Jo.origin,{body:new Gz,method:"POST",get duplex(){return C=!0,"half"}}).headers.has("Content-Type");return C&&!I}),m=s&&a&&Wz(()=>mt.isReadableStream(new n("").body)),v={stream:m&&(C=>C.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(C=>{!v[C]&&(v[C]=(I,A)=>{let R=I&&I[C];if(R)return R.call(I);throw new Gr(`Response type '${C}' is not supported`,Gr.ERR_NOT_SUPPORT,A)})});const b=async C=>{if(C==null)return 0;if(mt.isBlob(C))return C.size;if(mt.isSpecCompliantForm(C))return(await new r(Jo.origin,{method:"POST",body:C}).arrayBuffer()).byteLength;if(mt.isArrayBufferView(C)||mt.isArrayBuffer(C))return C.byteLength;if(mt.isURLSearchParams(C)&&(C=C+""),mt.isString(C))return(await h(C)).byteLength},x=async(C,I)=>{const A=mt.toFiniteNumber(C.getContentLength());return A??b(I)};return async C=>{let{url:I,method:A,data:R,signal:k,cancelToken:$,timeout:N,onDownloadProgress:H,onUploadProgress:W,responseType:j,headers:X,withCredentials:K="same-origin",fetchOptions:Q}=l7(C),oe=t||fetch;j=j?(j+"").toLowerCase():"text";let he=oue([k,$&&$.toAbortSignal()],N),ye=null;const be=he&&he.unsubscribe&&(()=>{he.unsubscribe()});let ce;try{if(W&&p&&A!=="get"&&A!=="head"&&(ce=await x(X,R))!==0){let Ke=new r(I,{method:"POST",body:R,duplex:"half"}),gt;if(mt.isFormData(R)&&(gt=Ke.headers.get("content-type"))&&X.setContentType(gt),Ke.body){const[Lt,Nt]=Fz(ce,TS(Nz(W)));R=jz(Ke.body,Hz,Lt,Nt)}}mt.isString(K)||(K=K?"include":"omit");const de=o&&"credentials"in r.prototype,Oe={...Q,signal:he,method:A.toUpperCase(),headers:X.normalize().toJSON(),body:R,duplex:"half",credentials:de?K:void 0};ye=o&&new r(I,Oe);let ze=await(o?oe(ye,Q):oe(I,Oe));const De=m&&(j==="stream"||j==="response");if(m&&(H||De&&be)){const Ke={};["status","statusText","headers"].forEach(zt=>{Ke[zt]=ze[zt]});const gt=mt.toFiniteNumber(ze.headers.get("content-length")),[Lt,Nt]=H&&Fz(gt,TS(Nz(H),!0))||[];ze=new n(jz(ze.body,Hz,Lt,()=>{Nt&&Nt(),be&&be()}),Ke)}j=j||"text";let ct=await v[mt.findKey(v,j)||"text"](ze,C);return!De&&be&&be(),await new Promise((Ke,gt)=>{a7(Ke,gt,{data:ct,headers:Ra.from(ze.headers),status:ze.status,statusText:ze.statusText,config:C,request:ye})})}catch(de){throw be&&be(),de&&de.name==="TypeError"&&/Load failed|fetch/i.test(de.message)?Object.assign(new Gr("Network Error",Gr.ERR_NETWORK,C,ye),{cause:de.cause||de}):Gr.from(de,de&&de.code,C,ye)}}},hue=new Map,u7=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:i}=t,o=[n,i,r];let s=o.length,a=s,h,p,m=hue;for(;a--;)h=o[a],p=m.get(h),p===void 0&&m.set(h,p=a?new Map:cue(t)),m=p;return p};u7();const bL={http:Ile,xhr:iue,fetch:{get:u7}};mt.forEach(bL,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const qz=e=>`- ${e}`,due=e=>mt.isFunction(e)||e===null||e===!1;function fue(e,t){e=mt.isArray(e)?e:[e];const{length:r}=e;let n,i;const o={};for(let s=0;s<r;s++){n=e[s];let a;if(i=n,!due(n)&&(i=bL[(a=String(n)).toLowerCase()],i===void 0))throw new Gr(`Unknown adapter '${a}'`);if(i&&(mt.isFunction(i)||(i=i.get(t))))break;o[a||"#"+s]=i}if(!i){const s=Object.entries(o).map(([h,p])=>`adapter ${h} `+(p===!1?"is not supported by the environment":"is not available in the build"));let a=r?s.length>1?`since :
`+s.map(qz).join(`
`):" "+qz(s[0]):"as no adapter specified";throw new Gr("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i}const c7={getAdapter:fue,adapters:bL};function ZP(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ov(null,e)}function Zz(e){return ZP(e),e.headers=Ra.from(e.headers),e.data=qP.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),c7.getAdapter(e.adapter||vb.adapter,e)(e).then(function(n){return ZP(e),n.data=qP.call(e,e.transformResponse,n),n.headers=Ra.from(n.headers),n},function(n){return o7(n)||(ZP(e),n&&n.response&&(n.response.data=qP.call(e,e.transformResponse,n.response),n.response.headers=Ra.from(n.response.headers))),Promise.reject(n)})}const h7="1.13.2",W2={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{W2[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Xz={};W2.transitional=function(t,r,n){function i(o,s){return"[Axios v"+h7+"] Transitional option '"+o+"'"+s+(n?". "+n:"")}return(o,s,a)=>{if(t===!1)throw new Gr(i(s," has been removed"+(r?" in "+r:"")),Gr.ERR_DEPRECATED);return r&&!Xz[s]&&(Xz[s]=!0,console.warn(i(s," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,s,a):!0}};W2.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function pue(e,t,r){if(typeof e!="object")throw new Gr("options must be an object",Gr.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const o=n[i],s=t[o];if(s){const a=e[o],h=a===void 0||s(a,o,e);if(h!==!0)throw new Gr("option "+o+" must be "+h,Gr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Gr("Unknown option "+o,Gr.ERR_BAD_OPTION)}}const Bw={assertOptions:pue,validators:W2},Wl=Bw.validators;let Bf=class{constructor(t){this.defaults=t||{},this.interceptors={request:new zz,response:new zz}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Kf(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:o}=r;n!==void 0&&Bw.assertOptions(n,{silentJSONParsing:Wl.transitional(Wl.boolean),forcedJSONParsing:Wl.transitional(Wl.boolean),clarifyTimeoutError:Wl.transitional(Wl.boolean)},!1),i!=null&&(mt.isFunction(i)?r.paramsSerializer={serialize:i}:Bw.assertOptions(i,{encode:Wl.function,serialize:Wl.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Bw.assertOptions(r,{baseUrl:Wl.spelling("baseURL"),withXsrfToken:Wl.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s=o&&mt.merge(o.common,o[r.method]);o&&mt.forEach(["delete","get","head","post","put","patch","common"],C=>{delete o[C]}),r.headers=Ra.concat(s,o);const a=[];let h=!0;this.interceptors.request.forEach(function(I){typeof I.runWhen=="function"&&I.runWhen(r)===!1||(h=h&&I.synchronous,a.unshift(I.fulfilled,I.rejected))});const p=[];this.interceptors.response.forEach(function(I){p.push(I.fulfilled,I.rejected)});let m,v=0,b;if(!h){const C=[Zz.bind(this),void 0];for(C.unshift(...a),C.push(...p),b=C.length,m=Promise.resolve(r);v<b;)m=m.then(C[v++],C[v++]);return m}b=a.length;let x=r;for(;v<b;){const C=a[v++],I=a[v++];try{x=C(x)}catch(A){I.call(this,A);break}}try{m=Zz.call(this,x)}catch(C){return Promise.reject(C)}for(v=0,b=p.length;v<b;)m=m.then(p[v++],p[v++]);return m}getUri(t){t=Kf(this.defaults,t);const r=s7(t.baseURL,t.url,t.allowAbsoluteUrls);return r7(r,t.params,t.paramsSerializer)}};mt.forEach(["delete","get","head","options"],function(t){Bf.prototype[t]=function(r,n){return this.request(Kf(n||{},{method:t,url:r,data:(n||{}).data}))}});mt.forEach(["post","put","patch"],function(t){function r(n){return function(o,s,a){return this.request(Kf(a||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Bf.prototype[t]=r(),Bf.prototype[t+"Form"]=r(!0)});let mue=class d7{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{n.subscribe(a),o=a}).then(i);return s.cancel=function(){n.unsubscribe(o)},s},t(function(o,s,a){n.reason||(n.reason=new ov(o,s,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new d7(function(i){t=i}),cancel:t}}};function gue(e){return function(r){return e.apply(null,r)}}function vue(e){return mt.isObject(e)&&e.isAxiosError===!0}const EE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(EE).forEach(([e,t])=>{EE[t]=e});function f7(e){const t=new Bf(e),r=Gj(Bf.prototype.request,t);return mt.extend(r,Bf.prototype,t,{allOwnKeys:!0}),mt.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return f7(Kf(e,i))},r}const _r=f7(vb);_r.Axios=Bf;_r.CanceledError=ov;_r.CancelToken=mue;_r.isCancel=o7;_r.VERSION=h7;_r.toFormData=U2;_r.AxiosError=Gr;_r.Cancel=_r.CanceledError;_r.all=function(t){return Promise.all(t)};_r.spread=gue;_r.isAxiosError=vue;_r.mergeConfig=Kf;_r.AxiosHeaders=Ra;_r.formToJSON=e=>i7(mt.isHTMLForm(e)?new FormData(e):e);_r.getAdapter=c7.getAdapter;_r.HttpStatusCode=EE;_r.default=_r;const{Axios:nze,AxiosError:ize,CanceledError:oze,isCancel:aze,CancelToken:sze,VERSION:lze,all:uze,Cancel:cze,isAxiosError:hze,spread:dze,toFormData:fze,AxiosHeaders:pze,HttpStatusCode:mze,formToJSON:gze,getAdapter:vze,mergeConfig:yze}=_r;function w0(e){"@babel/helpers - typeof";return w0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w0(e)}function yue(e,t){if(w0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(w0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _ue(e){var t=yue(e,"string");return w0(t)=="symbol"?t:t+""}function bue(e,t,r){return(t=_ue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kz(Object(r),!0).forEach(function(n){bue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ue.apply(null,arguments)}const xue=e=>typeof e=="function",wue=Array.isArray,Sue=e=>typeof e=="string",Tue=e=>e!==null&&typeof e=="object",Cue=/^on[^a-z]/,Pue=e=>Cue.test(e),xL=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},Mue=/-(\w)/g,wL=xL(e=>e.replace(Mue,(t,r)=>r?r.toUpperCase():"")),Iue=/\B([A-Z])/g,Eue=xL(e=>e.replace(Iue,"-$1").toLowerCase()),Aue=xL(e=>e.charAt(0).toUpperCase()+e.slice(1)),Due=Object.prototype.hasOwnProperty,Yz=(e,t)=>Due.call(e,t);function Lue(e,t,r,n){const i=e[r];if(i!=null){const o=Yz(i,"default");if(o&&n===void 0){const s=i.default;n=i.type!==Function&&xue(s)?s():s}i.type===Boolean&&(!Yz(t,r)&&!o?n=!1:n===""&&(n=!0))}return n}function Rue(e){return Object.keys(e).reduce((t,r)=>((r.startsWith("data-")||r.startsWith("aria-"))&&(t[r]=e[r]),t),{})}function Hy(e){return typeof e=="number"?`${e}px`:e}function tg(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return typeof e=="function"?e(t):e??r}function Oue(e){let t;const r=new Promise(i=>{t=e(()=>{i(!0)})}),n=()=>{t?.()};return n.then=(i,o)=>r.then(i,o),n.promise=r,n}function ir(){const e=[];for(let t=0;t<arguments.length;t++){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r){if(Sue(r))e.push(r);else if(wue(r))for(let n=0;n<r.length;n++){const i=ir(r[n]);i&&e.push(i)}else if(Tue(r))for(const n in r)r[n]&&e.push(n)}}return e.join(" ")}var p7=(function(){if(typeof Map<"u")return Map;function e(t,r){var n=-1;return t.some(function(i,o){return i[0]===r?(n=o,!0):!1}),n}return(function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(r){var n=e(this.__entries__,r),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(r,n){var i=e(this.__entries__,r);~i?this.__entries__[i][1]=n:this.__entries__.push([r,n])},t.prototype.delete=function(r){var n=this.__entries__,i=e(n,r);~i&&n.splice(i,1)},t.prototype.has=function(r){return!!~e(this.__entries__,r)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var i=0,o=this.__entries__;i<o.length;i++){var s=o[i];r.call(n,s[1],s[0])}},t})()})(),AE=typeof window<"u"&&typeof document<"u"&&window.document===document,CS=(function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),kue=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(CS):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}})(),$ue=2;function zue(e,t){var r=!1,n=!1,i=0;function o(){r&&(r=!1,e()),n&&a()}function s(){kue(o)}function a(){var h=Date.now();if(r){if(h-i<$ue)return;n=!0}else r=!0,n=!1,setTimeout(s,t);i=h}return a}var Bue=20,Fue=["top","right","bottom","left","width","height","size","weight"],Nue=typeof MutationObserver<"u",Vue=(function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=zue(this.refresh.bind(this),Bue)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var r=this.observers_,n=r.indexOf(t);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return t.forEach(function(r){return r.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!AE||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Nue?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!AE||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var r=t.propertyName,n=r===void 0?"":r,i=Fue.some(function(o){return!!~n.indexOf(o)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e})(),m7=(function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e}),Fg=(function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||CS}),g7=q2(0,0,0,0);function PS(e){return parseFloat(e)||0}function Jz(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(n,i){var o=e["border-"+i+"-width"];return n+PS(o)},0)}function jue(e){for(var t=["top","right","bottom","left"],r={},n=0,i=t;n<i.length;n++){var o=i[n],s=e["padding-"+o];r[o]=PS(s)}return r}function Hue(e){var t=e.getBBox();return q2(0,0,t.width,t.height)}function Gue(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return g7;var n=Fg(e).getComputedStyle(e),i=jue(n),o=i.left+i.right,s=i.top+i.bottom,a=PS(n.width),h=PS(n.height);if(n.boxSizing==="border-box"&&(Math.round(a+o)!==t&&(a-=Jz(n,"left","right")+o),Math.round(h+s)!==r&&(h-=Jz(n,"top","bottom")+s)),!Wue(e)){var p=Math.round(a+o)-t,m=Math.round(h+s)-r;Math.abs(p)!==1&&(a-=p),Math.abs(m)!==1&&(h-=m)}return q2(i.left,i.top,a,h)}var Uue=(function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof Fg(e).SVGGraphicsElement}:function(e){return e instanceof Fg(e).SVGElement&&typeof e.getBBox=="function"}})();function Wue(e){return e===Fg(e).document.documentElement}function que(e){return AE?Uue(e)?Hue(e):Gue(e):g7}function Zue(e){var t=e.x,r=e.y,n=e.width,i=e.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(o.prototype);return m7(s,{x:t,y:r,width:n,height:i,top:r,right:t+n,bottom:i+r,left:t}),s}function q2(e,t,r,n){return{x:e,y:t,width:r,height:n}}var Xue=(function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=q2(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=que(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e})(),Kue=(function(){function e(t,r){var n=Zue(r);m7(this,{target:t,contentRect:n})}return e})(),Yue=(function(){function e(t,r,n){if(this.activeObservations_=[],this.observations_=new p7,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=r,this.callbackCtx_=n}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Fg(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)||(r.set(t,new Xue(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Fg(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)&&(r.delete(t),r.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&t.activeObservations_.push(r)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new Kue(n.target,n.broadcastRect())});this.callback_.call(t,r,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e})(),v7=typeof WeakMap<"u"?new WeakMap:new p7,y7=(function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=Vue.getInstance(),n=new Yue(t,r,this);v7.set(this,n)}return e})();["observe","unobserve","disconnect"].forEach(function(e){y7.prototype[e]=function(){var t;return(t=v7.get(this))[e].apply(t,arguments)}});var _7=(function(){return typeof CS.ResizeObserver<"u"?CS.ResizeObserver:y7})();const DE=e=>e!=null&&e!=="",Na=(e,t)=>{const r=ue({},e);return Object.keys(t).forEach(n=>{const i=r[n];if(i)i.type||i.default?i.default=t[n]:i.def?i.def(t[n]):r[n]={type:i,default:t[n]};else throw new Error(`not have ${n} prop`)}),r},Jue=e=>{const t=Object.keys(e),r={},n={},i={};for(let o=0,s=t.length;o<s;o++){const a=t[o];Pue(a)?(r[a[2].toLowerCase()+a.slice(3)]=e[a],n[a]=e[a]):i[a]=e[a]}return{onEvents:n,events:r,extraAttrs:i}},Que=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r={},n=/;(?![^(]*\))/g,i=/:(.+)/;return typeof e=="object"?e:(e.split(n).forEach(function(o){if(o){const s=o.split(i);if(s.length>1){const a=t?wL(s[0].trim()):s[0].trim();r[a]=s[1].trim()}}}),r)},ece=(e,t)=>e[t]!==void 0,b7=Symbol("skipFlatten"),So=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=Array.isArray(e)?e:[e],n=[];return r.forEach(i=>{Array.isArray(i)?n.push(...So(i,t)):i&&i.type===pr?i.key===b7?n.push(i):n.push(...So(i.children,t)):i&&ea(i)?t&&!Z2(i)?n.push(i):t||n.push(i):DE(i)&&n.push(i)}),n},tce=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(ea(e))return e.type===pr?t==="default"?So(e.children):[]:e.children&&e.children[t]?So(e.children[t](r)):[];{const n=e.$slots[t]&&e.$slots[t](r);return So(n)}},Mh=e=>{var t;let r=((t=e?.vnode)===null||t===void 0?void 0:t.el)||e&&(e.$el||e);for(;r&&!r.tagName;)r=r.nextSibling;return r},rce=e=>{const t={};if(e.$&&e.$.vnode){const r=e.$.vnode.props||{};Object.keys(e.$props).forEach(n=>{const i=e.$props[n],o=Eue(n);(i!==void 0||o in r)&&(t[n]=i)})}else if(ea(e)&&typeof e.type=="object"){const r=e.props||{},n={};Object.keys(r).forEach(o=>{n[wL(o)]=r[o]});const i=e.type.props||{};Object.keys(i).forEach(o=>{const s=Lue(i,n,o,n[o]);(s!==void 0||o in n)&&(t[o]=s)})}return t},nce=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i;if(e.$){const o=e[t];if(o!==void 0)return typeof o=="function"&&n?o(r):o;i=e.$slots[t],i=n&&i?i(r):i}else if(ea(e)){const o=e.props&&e.props[t];if(o!==void 0&&e.props!==null)return typeof o=="function"&&n?o(r):o;e.type===pr?i=e.children:e.children&&e.children[t]&&(i=e.children[t],i=n&&i?i(r):i)}return Array.isArray(i)&&(i=So(i),i=i.length===1?i[0]:i,i=i.length===0?void 0:i),i};function Qz(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r={};return e.$?r=ue(ue({},r),e.$attrs):r=ue(ue({},r),e.props),Jue(r)[t?"onEvents":"events"]}function ice(e,t){let n=((ea(e)?e.props:e.$attrs)||{}).style||{};return typeof n=="string"&&(n=Que(n,t)),n}function oce(e){return e.length===1&&e[0].type===pr}function Z2(e){return e&&(e.type===lo||e.type===pr&&e.children.length===0||e.type===dc&&e.children.trim()==="")}function lp(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=[];return e.forEach(r=>{Array.isArray(r)?t.push(...r):r?.type===pr?t.push(...lp(r.children)):t.push(r)}),t.filter(r=>!Z2(r))}function Gy(e){if(e){const t=lp(e);return t.length?t:void 0}else return e}function Jh(e){return Array.isArray(e)&&e.length===1&&(e=e[0]),e&&e.__v_isVNode&&typeof e.type!="symbol"}function pc(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"default";var n,i;return(n=t[r])!==null&&n!==void 0?n:(i=e[r])===null||i===void 0?void 0:i.call(e)}const S0=St({compatConfig:{MODE:3},name:"ResizeObserver",props:{disabled:Boolean,onResize:Function},emits:["resize"],setup(e,t){let{slots:r}=t;const n=ki({width:0,height:0,offsetHeight:0,offsetWidth:0});let i=null,o=null;const s=()=>{o&&(o.disconnect(),o=null)},a=m=>{const{onResize:v}=e,b=m[0].target,{width:x,height:C}=b.getBoundingClientRect(),{offsetWidth:I,offsetHeight:A}=b,R=Math.floor(x),k=Math.floor(C);if(n.width!==R||n.height!==k||n.offsetWidth!==I||n.offsetHeight!==A){const $={width:R,height:k,offsetWidth:I,offsetHeight:A};ue(n,$),v&&Promise.resolve().then(()=>{v(ue(ue({},$),{offsetWidth:I,offsetHeight:A}),b)})}},h=Yi(),p=()=>{const{disabled:m}=e;if(m){s();return}const v=Mh(h);v!==i&&(s(),i=v),!o&&v&&(o=new _7(a),o.observe(v))};return Nr(()=>{p()}),Yh(()=>{p()}),_u(()=>{s()}),Zt(()=>e.disabled,()=>{p()},{flush:"post"}),()=>{var m;return(m=r.default)===null||m===void 0?void 0:m.call(r)[0]}}});let x7=e=>setTimeout(e,16),w7=e=>clearTimeout(e);typeof window<"u"&&"requestAnimationFrame"in window&&(x7=e=>window.requestAnimationFrame(e),w7=e=>window.cancelAnimationFrame(e));let e5=0;const SL=new Map;function S7(e){SL.delete(e)}function Pn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;e5+=1;const r=e5;function n(i){if(i===0)S7(r),e();else{const o=x7(()=>{n(i-1)});SL.set(r,o)}}return n(t),r}Pn.cancel=e=>{const t=SL.get(e);return S7(t),w7(t)};const T0=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t},av=e=>{const t=e;return t.install=function(r){r.component(t.displayName||t.name,e)},e};function LE(){return{type:[Function,Array]}}function ti(e){return{type:Object,default:e}}function Xi(e){return{type:Boolean,default:e}}function io(e){return{type:Function,default:e}}function pl(e,t){return{validator:()=>!0,default:e}}function XP(){return{validator:()=>!0}}function MS(e){return{type:Array,default:e}}function ma(e){return{type:String,default:e}}function Uh(e,t){return e?{type:e,default:t}:pl(t)}let da=!1;try{const e=Object.defineProperty({},"passive",{get(){da=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch{}function w_(e,t,r,n){if(e&&e.addEventListener){let i=n;i===void 0&&da&&(t==="touchstart"||t==="touchmove"||t==="wheel")&&(i={passive:!1}),e.addEventListener(t,r,i)}return{remove:()=>{e&&e.removeEventListener&&e.removeEventListener(t,r)}}}const TL="anticon",ace=Symbol("GlobalFormContextKey"),sce=e=>{un(ace,e)},lce=()=>({iconPrefixCls:String,getTargetContainer:{type:Function},getPopupContainer:{type:Function},prefixCls:String,getPrefixCls:{type:Function},renderEmpty:{type:Function},transformCellText:{type:Function},csp:ti(),input:ti(),autoInsertSpaceInButton:{type:Boolean,default:void 0},locale:ti(),pageHeader:ti(),componentSize:{type:String},componentDisabled:{type:Boolean,default:void 0},direction:{type:String,default:"ltr"},space:ti(),virtual:{type:Boolean,default:void 0},dropdownMatchSelectWidth:{type:[Number,Boolean],default:!0},form:ti(),pagination:ti(),theme:ti(),select:ti(),wave:ti()}),CL=Symbol("configProvider"),T7={getPrefixCls:(e,t)=>t||(e?`ant-${e}`:"ant"),iconPrefixCls:ve(()=>TL),getPopupContainer:ve(()=>()=>document.body),direction:ve(()=>"ltr")},C7=()=>Ir(CL,T7),uce=e=>un(CL,e),P7=Symbol("DisabledContextKey"),yb=()=>Ir(P7,Vt(void 0)),cce=e=>{const t=yb();return un(P7,ve(()=>{var r;return(r=e.value)!==null&&r!==void 0?r:t.value})),e},hce={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages"},dce={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},M7={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},t5={lang:ue({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},dce),timePickerLocale:ue({},M7)},Ka="${label} is not a valid ${type}",C0={locale:"en",Pagination:hce,DatePicker:t5,TimePicker:M7,Calendar:t5,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Ka,method:Ka,array:Ka,object:Ka,number:Ka,date:Ka,boolean:Ka,integer:Ka,float:Ka,regexp:Ka,email:Ka,url:Ka,hex:Ka},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"}},I7=St({compatConfig:{MODE:3},name:"LocaleReceiver",props:{componentName:String,defaultLocale:{type:[Object,Function]},children:{type:Function}},setup(e,t){let{slots:r}=t;const n=Ir("localeData",{}),i=ve(()=>{const{componentName:s="global",defaultLocale:a}=e,h=a||C0[s||"global"],{antLocale:p}=n,m=s&&p?p[s]:{};return ue(ue({},typeof h=="function"?h():h),m||{})}),o=ve(()=>{const{antLocale:s}=n,a=s&&s.locale;return s&&s.exist&&!a?C0.locale:a});return()=>{const s=e.children||r.default,{antLocale:a}=n;return s?.(i.value,o.value,a)}}});function PL(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}const r5="%";class fce{constructor(t){this.cache=new Map,this.instanceId=t}get(t){return this.cache.get(Array.isArray(t)?t.join(r5):t)||null}update(t,r){const n=Array.isArray(t)?t.join(r5):t,i=this.cache.get(n),o=r(i);o===null?this.cache.delete(n):this.cache.set(n,o)}}const E7="data-token-hash",Ff="data-css-hash",rg="__cssinjs_instance__";function P0(){const e=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){const t=document.body.querySelectorAll(`style[${Ff}]`)||[],{firstChild:r}=document.head;Array.from(t).forEach(i=>{i[rg]=i[rg]||e,i[rg]===e&&document.head.insertBefore(i,r)});const n={};Array.from(document.querySelectorAll(`style[${Ff}]`)).forEach(i=>{var o;const s=i.getAttribute(Ff);n[s]?i[rg]===e&&((o=i.parentNode)===null||o===void 0||o.removeChild(i)):n[s]=!0})}return new fce(e)}const A7=Symbol("StyleContextKey"),pce=()=>{var e,t,r;const n=Yi();let i;if(n&&n.appContext){const o=(r=(t=(e=n.appContext)===null||e===void 0?void 0:e.config)===null||t===void 0?void 0:t.globalProperties)===null||r===void 0?void 0:r.__ANTDV_CSSINJS_CACHE__;o?i=o:(i=P0(),n.appContext.config.globalProperties&&(n.appContext.config.globalProperties.__ANTDV_CSSINJS_CACHE__=i))}else i=P0();return i},D7={cache:P0(),defaultCache:!0,hashPriority:"low"},X2=()=>{const e=pce();return Ir(A7,vt(ue(ue({},D7),{cache:e})))},mce=e=>{const t=X2(),r=vt(ue(ue({},D7),{cache:P0()}));return Zt([()=>rr(e),t],()=>{const n=ue({},t.value),i=rr(e);Object.keys(i).forEach(s=>{const a=i[s];i[s]!==void 0&&(n[s]=a)});const{cache:o}=i;n.cache=n.cache||P0(),n.defaultCache=!o&&t.value.defaultCache,r.value=n},{immediate:!0}),un(A7,r),r},gce=()=>({autoClear:Xi(),mock:ma(),cache:ti(),defaultCache:Xi(),hashPriority:ma(),container:Uh(),ssrInline:Xi(),transformers:MS(),linters:MS()});av(St({name:"AStyleProvider",inheritAttrs:!1,props:gce(),setup(e,t){let{slots:r}=t;return mce(e),()=>{var n;return(n=r.default)===null||n===void 0?void 0:n.call(r)}}}));function L7(e,t,r,n){const i=X2(),o=vt(""),s=vt();Gn(()=>{o.value=[e,...t.value].join("%")});const a=h=>{i.value.cache.update(h,p=>{const[m=0,v]=p||[];return m-1===0?(n?.(v,!1),null):[m-1,v]})};return Zt(o,(h,p)=>{p&&a(p),i.value.cache.update(h,m=>{const[v=0,b]=m||[],C=b||r();return[v+1,C]}),s.value=i.value.cache.get(o.value)[1]},{immediate:!0}),hi(()=>{a(o.value)}),s}function Sl(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Tf(e,t){return e&&e.contains?e.contains(t):!1}const n5="data-vc-order",vce="vc-util-key",RE=new Map;function R7(){let{mark:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e?e.startsWith("data-")?e:`data-${e}`:vce}function K2(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function yce(e){return e==="queue"?"prependQueue":e?"prepend":"append"}function O7(e){return Array.from((RE.get(e)||e).children).filter(t=>t.tagName==="STYLE")}function k7(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Sl())return null;const{csp:r,prepend:n}=t,i=document.createElement("style");i.setAttribute(n5,yce(n)),r?.nonce&&(i.nonce=r?.nonce),i.innerHTML=e;const o=K2(t),{firstChild:s}=o;if(n){if(n==="queue"){const a=O7(o).filter(h=>["prepend","prependQueue"].includes(h.getAttribute(n5)));if(a.length)return o.insertBefore(i,a[a.length-1].nextSibling),i}o.insertBefore(i,s)}else o.appendChild(i);return i}function $7(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=K2(t);return O7(r).find(n=>n.getAttribute(R7(t))===e)}function IS(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=$7(e,t);r&&K2(t).removeChild(r)}function _ce(e,t){const r=RE.get(e);if(!r||!Tf(document,r)){const n=k7("",t),{parentNode:i}=n;RE.set(e,i),e.removeChild(n)}}function M0(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var n,i,o;const s=K2(r);_ce(s,r);const a=$7(t,r);if(a)return!((n=r.csp)===null||n===void 0)&&n.nonce&&a.nonce!==((i=r.csp)===null||i===void 0?void 0:i.nonce)&&(a.nonce=(o=r.csp)===null||o===void 0?void 0:o.nonce),a.innerHTML!==e&&(a.innerHTML=e),a;const h=k7(e,r);return h.setAttribute(R7(r),t),h}function bce(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}class Ng{constructor(){this.cache=new Map,this.keys=[],this.cacheCallTimes=0}size(){return this.keys.length}internalGet(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n={map:this.cache};return t.forEach(i=>{var o;n?n=(o=n?.map)===null||o===void 0?void 0:o.get(i):n=void 0}),n?.value&&r&&(n.value[1]=this.cacheCallTimes++),n?.value}get(t){var r;return(r=this.internalGet(t,!0))===null||r===void 0?void 0:r[0]}has(t){return!!this.internalGet(t)}set(t,r){if(!this.has(t)){if(this.size()+1>Ng.MAX_CACHE_SIZE+Ng.MAX_CACHE_OFFSET){const[i]=this.keys.reduce((o,s)=>{const[,a]=o;return this.internalGet(s)[1]<a?[s,this.internalGet(s)[1]]:o},[this.keys[0],this.cacheCallTimes]);this.delete(i)}this.keys.push(t)}let n=this.cache;t.forEach((i,o)=>{if(o===t.length-1)n.set(i,{value:[r,this.cacheCallTimes++]});else{const s=n.get(i);s?s.map||(s.map=new Map):n.set(i,{map:new Map}),n=n.get(i).map}})}deleteByPath(t,r){var n;const i=t.get(r[0]);if(r.length===1)return i.map?t.set(r[0],{map:i.map}):t.delete(r[0]),(n=i.value)===null||n===void 0?void 0:n[0];const o=this.deleteByPath(i.map,r.slice(1));return(!i.map||i.map.size===0)&&!i.value&&t.delete(r[0]),o}delete(t){if(this.has(t))return this.keys=this.keys.filter(r=>!bce(r,t)),this.deleteByPath(this.cache,t)}}Ng.MAX_CACHE_SIZE=20;Ng.MAX_CACHE_OFFSET=5;let i5={};function xce(e,t){}function wce(e,t,r){!t&&!i5[r]&&(i5[r]=!0)}function Sce(e,t){wce(xce,e,t)}function Tce(){}let ML=Tce,o5=0;class z7{constructor(t){this.derivatives=Array.isArray(t)?t:[t],this.id=o5,t.length===0&&ML(t.length>0),o5+=1}getDerivativeToken(t){return this.derivatives.reduce((r,n)=>n(t,r),void 0)}}const KP=new Ng;function B7(e){const t=Array.isArray(e)?e:[e];return KP.has(t)||KP.set(t,new z7(t)),KP.get(t)}const a5=new WeakMap;function ES(e){let t=a5.get(e)||"";return t||(Object.keys(e).forEach(r=>{const n=e[r];t+=r,n instanceof z7?t+=n.id:n&&typeof n=="object"?t+=ES(n):t+=n}),a5.set(e,t)),t}function Cce(e,t){return PL(`${t}_${ES(e)}`)}const U_=`random-${Date.now()}-${Math.random()}`.replace(/\./g,""),F7="_bAmBoO_";function Pce(e,t,r){var n,i;if(Sl()){M0(e,U_);const o=document.createElement("div");o.style.position="fixed",o.style.left="0",o.style.top="0",t?.(o),document.body.appendChild(o);const s=r?r(o):(n=getComputedStyle(o).content)===null||n===void 0?void 0:n.includes(F7);return(i=o.parentNode)===null||i===void 0||i.removeChild(o),IS(U_),s}return!1}let YP;function Mce(){return YP===void 0&&(YP=Pce(`@layer ${U_} { .${U_} { content: "${F7}"!important; } }`,e=>{e.className=U_})),YP}const s5={},Ice="css",Cf=new Map;function Ece(e){Cf.set(e,(Cf.get(e)||0)+1)}function Ace(e,t){typeof document<"u"&&document.querySelectorAll(`style[${E7}="${e}"]`).forEach(n=>{var i;n[rg]===t&&((i=n.parentNode)===null||i===void 0||i.removeChild(n))})}const Dce=0;function Lce(e,t){Cf.set(e,(Cf.get(e)||0)-1);const r=Array.from(Cf.keys()),n=r.filter(i=>(Cf.get(i)||0)<=0);r.length-n.length>Dce&&n.forEach(i=>{Ace(i,t),Cf.delete(i)})}const Rce=(e,t,r,n)=>{const i=r.getDerivativeToken(e);let o=ue(ue({},i),t);return n&&(o=n(o)),o};function Oce(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Vt({});const n=X2(),i=ve(()=>ue({},...t.value)),o=ve(()=>ES(i.value)),s=ve(()=>ES(r.value.override||s5));return L7("token",ve(()=>[r.value.salt||"",e.value.id,o.value,s.value]),()=>{const{salt:h="",override:p=s5,formatToken:m,getComputedToken:v}=r.value,b=v?v(i.value,p,e.value):Rce(i.value,p,e.value,m),x=Cce(b,h);b._tokenKey=x,Ece(x);const C=`${Ice}-${PL(x)}`;return b._hashId=C,[b,C]},h=>{var p;Lce(h[0]._tokenKey,(p=n.value)===null||p===void 0?void 0:p.cache.instanceId)})}var kce={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},N7="comm",V7="rule",j7="decl",$ce="@import",zce="@namespace",Bce="@keyframes",Fce="@layer",H7=Math.abs,IL=String.fromCharCode;function G7(e){return e.trim()}function Fw(e,t,r){return e.replace(t,r)}function Nce(e,t,r){return e.indexOf(t,r)}function yg(e,t){return e.charCodeAt(t)|0}function Vg(e,t,r){return e.slice(t,r)}function ru(e){return e.length}function Vce(e){return e.length}function Px(e,t){return t.push(e),e}var Y2=1,jg=1,U7=0,Hs=0,Ki=0,sv="";function EL(e,t,r,n,i,o,s,a){return{value:e,root:t,parent:r,type:n,props:i,children:o,line:Y2,column:jg,length:s,return:"",siblings:a}}function jce(){return Ki}function Hce(){return Ki=Hs>0?yg(sv,--Hs):0,jg--,Ki===10&&(jg=1,Y2--),Ki}function yl(){return Ki=Hs<U7?yg(sv,Hs++):0,jg++,Ki===10&&(jg=1,Y2++),Ki}function Ih(){return yg(sv,Hs)}function Nw(){return Hs}function J2(e,t){return Vg(sv,e,t)}function I0(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Gce(e){return Y2=jg=1,U7=ru(sv=e),Hs=0,[]}function Uce(e){return sv="",e}function JP(e){return G7(J2(Hs-1,OE(e===91?e+2:e===40?e+1:e)))}function Wce(e){for(;(Ki=Ih())&&Ki<33;)yl();return I0(e)>2||I0(Ki)>3?"":" "}function qce(e,t){for(;--t&&yl()&&!(Ki<48||Ki>102||Ki>57&&Ki<65||Ki>70&&Ki<97););return J2(e,Nw()+(t<6&&Ih()==32&&yl()==32))}function OE(e){for(;yl();)switch(Ki){case e:return Hs;case 34:case 39:e!==34&&e!==39&&OE(Ki);break;case 40:e===41&&OE(e);break;case 92:yl();break}return Hs}function Zce(e,t){for(;yl()&&e+Ki!==57;)if(e+Ki===84&&Ih()===47)break;return"/*"+J2(t,Hs-1)+"*"+IL(e===47?e:yl())}function Xce(e){for(;!I0(Ih());)yl();return J2(e,Hs)}function Kce(e){return Uce(Vw("",null,null,null,[""],e=Gce(e),0,[0],e))}function Vw(e,t,r,n,i,o,s,a,h){for(var p=0,m=0,v=s,b=0,x=0,C=0,I=1,A=1,R=1,k=0,$="",N=i,H=o,W=n,j=$;A;)switch(C=k,k=yl()){case 40:if(C!=108&&yg(j,v-1)==58){Nce(j+=Fw(JP(k),"&","&\f"),"&\f",H7(p?a[p-1]:0))!=-1&&(R=-1);break}case 34:case 39:case 91:j+=JP(k);break;case 9:case 10:case 13:case 32:j+=Wce(C);break;case 92:j+=qce(Nw()-1,7);continue;case 47:switch(Ih()){case 42:case 47:Px(Yce(Zce(yl(),Nw()),t,r,h),h),(I0(C||1)==5||I0(Ih()||1)==5)&&ru(j)&&Vg(j,-1,void 0)!==" "&&(j+=" ");break;default:j+="/"}break;case 123*I:a[p++]=ru(j)*R;case 125*I:case 59:case 0:switch(k){case 0:case 125:A=0;case 59+m:R==-1&&(j=Fw(j,/\f/g,"")),x>0&&(ru(j)-v||I===0&&C===47)&&Px(x>32?u5(j+";",n,r,v-1,h):u5(Fw(j," ","")+";",n,r,v-2,h),h);break;case 59:j+=";";default:if(Px(W=l5(j,t,r,p,m,i,a,$,N=[],H=[],v,o),o),k===123)if(m===0)Vw(j,t,W,W,N,o,v,a,H);else{switch(b){case 99:if(yg(j,3)===110)break;case 108:if(yg(j,2)===97)break;default:m=0;case 100:case 109:case 115:}m?Vw(e,W,W,n&&Px(l5(e,W,W,0,0,i,a,$,i,N=[],v,H),H),i,H,v,a,n?N:H):Vw(j,W,W,W,[""],H,0,a,H)}}p=m=x=0,I=R=1,$=j="",v=s;break;case 58:v=1+ru(j),x=C;default:if(I<1){if(k==123)--I;else if(k==125&&I++==0&&Hce()==125)continue}switch(j+=IL(k),k*I){case 38:R=m>0?1:(j+="\f",-1);break;case 44:a[p++]=(ru(j)-1)*R,R=1;break;case 64:Ih()===45&&(j+=JP(yl())),b=Ih(),m=v=ru($=j+=Xce(Nw())),k++;break;case 45:C===45&&ru(j)==2&&(I=0)}}return o}function l5(e,t,r,n,i,o,s,a,h,p,m,v){for(var b=i-1,x=i===0?o:[""],C=Vce(x),I=0,A=0,R=0;I<n;++I)for(var k=0,$=Vg(e,b+1,b=H7(A=s[I])),N=e;k<C;++k)(N=G7(A>0?x[k]+" "+$:Fw($,/&\f/g,x[k])))&&(h[R++]=N);return EL(e,t,r,i===0?V7:a,h,p,m,v)}function Yce(e,t,r,n){return EL(e,t,r,N7,IL(jce()),Vg(e,2,-2),0,n)}function u5(e,t,r,n,i){return EL(e,t,r,j7,Vg(e,0,n),Vg(e,n+1,-1),n,i)}function kE(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function Jce(e,t,r,n){switch(e.type){case Fce:if(e.children.length)break;case $ce:case zce:case j7:return e.return=e.return||e.value;case N7:return"";case Bce:return e.return=e.value+"{"+kE(e.children,n)+"}";case V7:if(!ru(e.value=e.props.join(",")))return""}return ru(r=kE(e.children,n))?e.return=e.value+"{"+r+"}":""}const c5="data-ant-cssinjs-cache-path",Qce="_FILE_STYLE__";let Nf,W7=!0;function ehe(){var e;if(!Nf&&(Nf={},Sl())){const t=document.createElement("div");t.className=c5,t.style.position="fixed",t.style.visibility="hidden",t.style.top="-9999px",document.body.appendChild(t);let r=getComputedStyle(t).content||"";r=r.replace(/^"/,"").replace(/"$/,""),r.split(";").forEach(i=>{const[o,s]=i.split(":");Nf[o]=s});const n=document.querySelector(`style[${c5}]`);n&&(W7=!1,(e=n.parentNode)===null||e===void 0||e.removeChild(n)),document.body.removeChild(t)}}function the(e){return ehe(),!!Nf[e]}function rhe(e){const t=Nf[e];let r=null;if(t&&Sl())if(W7)r=Qce;else{const n=document.querySelector(`style[${Ff}="${Nf[e]}"]`);n?r=n.innerHTML:delete Nf[e]}return[r,t]}const h5=Sl(),nhe="_skip_check_",q7="_multi_value_";function d5(e){return kE(Kce(e),Jce).replace(/\{%%%\:[^;];}/g,";")}function ihe(e){return typeof e=="object"&&e&&(nhe in e||q7 in e)}function ohe(e,t,r){if(!t)return e;const n=`.${t}`,i=r==="low"?`:where(${n})`:n;return e.split(",").map(s=>{var a;const h=s.trim().split(/\s+/);let p=h[0]||"";const m=((a=p.match(/^\w+/))===null||a===void 0?void 0:a[0])||"";return p=`${m}${i}${p.slice(m.length)}`,[p,...h.slice(1)].join(" ")}).join(",")}const f5=new Set,$E=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{root:r,injectHash:n,parentSelectors:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]};const{hashId:o,layer:s,path:a,hashPriority:h,transformers:p=[],linters:m=[]}=t;let v="",b={};function x(A){const R=A.getName(o);if(!b[R]){const[k]=$E(A.style,t,{root:!1,parentSelectors:i});b[R]=`@keyframes ${A.getName(o)}${k}`}}function C(A){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return A.forEach(k=>{Array.isArray(k)?C(k,R):k&&R.push(k)}),R}if(C(Array.isArray(e)?e:[e]).forEach(A=>{const R=typeof A=="string"&&!r?{}:A;if(typeof R=="string")v+=`${R}
`;else if(R._keyframe)x(R);else{const k=p.reduce(($,N)=>{var H;return((H=N?.visit)===null||H===void 0?void 0:H.call(N,$))||$},R);Object.keys(k).forEach($=>{var N;const H=k[$];if(typeof H=="object"&&H&&($!=="animationName"||!H._keyframe)&&!ihe(H)){let W=!1,j=$.trim(),X=!1;(r||n)&&o?j.startsWith("@")?W=!0:j=ohe($,o,h):r&&!o&&(j==="&"||j==="")&&(j="",X=!0);const[K,Q]=$E(H,t,{root:X,injectHash:W,parentSelectors:[...i,j]});b=ue(ue({},b),Q),v+=`${j}${K}`}else{let W=function(X,K){const Q=X.replace(/[A-Z]/g,he=>`-${he.toLowerCase()}`);let oe=K;!kce[X]&&typeof oe=="number"&&oe!==0&&(oe=`${oe}px`),X==="animationName"&&K?._keyframe&&(x(K),oe=K.getName(o)),v+=`${Q}:${oe};`};const j=(N=H?.value)!==null&&N!==void 0?N:H;typeof H=="object"&&H?.[q7]&&Array.isArray(j)?j.forEach(X=>{W($,X)}):W($,j)}})}}),!r)v=`{${v}}`;else if(s&&Mce()){const A=s.split(",");v=`@layer ${A[A.length-1].trim()} {${v}}`,A.length>1&&(v=`@layer ${s}{%%%:%}${v}`)}return[v,b]};function ahe(e,t){return PL(`${e.join("%")}${t}`)}function zE(e,t){const r=X2(),n=ve(()=>e.value.token._tokenKey),i=ve(()=>[n.value,...e.value.path]);let o=h5;return L7("style",i,()=>{const{path:s,hashId:a,layer:h,nonce:p,clientOnly:m,order:v=0}=e.value,b=i.value.join("|");if(the(b)){const[j,X]=rhe(b);if(j)return[j,n.value,X,{},m,v]}const x=t(),{hashPriority:C,container:I,transformers:A,linters:R,cache:k}=r.value,[$,N]=$E(x,{hashId:a,hashPriority:C,layer:h,path:s.join("-"),transformers:A,linters:R}),H=d5($),W=ahe(i.value,H);if(o){const j={mark:Ff,prepend:"queue",attachTo:I,priority:v},X=typeof p=="function"?p():p;X&&(j.csp={nonce:X});const K=M0(H,W,j);K[rg]=k.instanceId,K.setAttribute(E7,n.value),Object.keys(N).forEach(Q=>{f5.has(Q)||(f5.add(Q),M0(d5(N[Q]),`_effect-${Q}`,{mark:Ff,prepend:"queue",attachTo:I}))})}return[H,n.value,W,N,m,v]},(s,a)=>{let[,,h]=s;(a||r.value.autoClear)&&h5&&IS(h,{mark:Ff})}),s=>s}class Kr{constructor(t,r){this._keyframe=!0,this.name=t,this.style=r}getName(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t?`${t}-${this.name}`:this.name}}const she="4.2.6",AS=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function ko(e,t){lhe(e)&&(e="100%");var r=uhe(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function Mx(e){return Math.min(1,Math.max(0,e))}function lhe(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function uhe(e){return typeof e=="string"&&e.indexOf("%")!==-1}function Z7(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Ix(e){return e<=1?"".concat(Number(e)*100,"%"):e}function Df(e){return e.length===1?"0"+e:String(e)}function che(e,t,r){return{r:ko(e,255)*255,g:ko(t,255)*255,b:ko(r,255)*255}}function p5(e,t,r){e=ko(e,255),t=ko(t,255),r=ko(r,255);var n=Math.max(e,t,r),i=Math.min(e,t,r),o=0,s=0,a=(n+i)/2;if(n===i)s=0,o=0;else{var h=n-i;switch(s=a>.5?h/(2-n-i):h/(n+i),n){case e:o=(t-r)/h+(t<r?6:0);break;case t:o=(r-e)/h+2;break;case r:o=(e-t)/h+4;break}o/=6}return{h:o,s,l:a}}function QP(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*(6*r):r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function hhe(e,t,r){var n,i,o;if(e=ko(e,360),t=ko(t,100),r=ko(r,100),t===0)i=r,o=r,n=r;else{var s=r<.5?r*(1+t):r+t-r*t,a=2*r-s;n=QP(a,s,e+1/3),i=QP(a,s,e),o=QP(a,s,e-1/3)}return{r:n*255,g:i*255,b:o*255}}function BE(e,t,r){e=ko(e,255),t=ko(t,255),r=ko(r,255);var n=Math.max(e,t,r),i=Math.min(e,t,r),o=0,s=n,a=n-i,h=n===0?0:a/n;if(n===i)o=0;else{switch(n){case e:o=(t-r)/a+(t<r?6:0);break;case t:o=(r-e)/a+2;break;case r:o=(e-t)/a+4;break}o/=6}return{h:o,s:h,v:s}}function dhe(e,t,r){e=ko(e,360)*6,t=ko(t,100),r=ko(r,100);var n=Math.floor(e),i=e-n,o=r*(1-t),s=r*(1-i*t),a=r*(1-(1-i)*t),h=n%6,p=[r,s,o,o,a,r][h],m=[a,r,r,s,o,o][h],v=[o,o,a,r,r,s][h];return{r:p*255,g:m*255,b:v*255}}function FE(e,t,r,n){var i=[Df(Math.round(e).toString(16)),Df(Math.round(t).toString(16)),Df(Math.round(r).toString(16))];return n&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function fhe(e,t,r,n,i){var o=[Df(Math.round(e).toString(16)),Df(Math.round(t).toString(16)),Df(Math.round(r).toString(16)),Df(phe(n))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function phe(e){return Math.round(parseFloat(e)*255).toString(16)}function m5(e){return Ja(e)/255}function Ja(e){return parseInt(e,16)}function mhe(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var NE={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Um(e){var t={r:0,g:0,b:0},r=1,n=null,i=null,o=null,s=!1,a=!1;return typeof e=="string"&&(e=yhe(e)),typeof e=="object"&&(Zu(e.r)&&Zu(e.g)&&Zu(e.b)?(t=che(e.r,e.g,e.b),s=!0,a=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Zu(e.h)&&Zu(e.s)&&Zu(e.v)?(n=Ix(e.s),i=Ix(e.v),t=dhe(e.h,n,i),s=!0,a="hsv"):Zu(e.h)&&Zu(e.s)&&Zu(e.l)&&(n=Ix(e.s),o=Ix(e.l),t=hhe(e.h,n,o),s=!0,a="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(r=e.a)),r=Z7(r),{ok:s,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}var ghe="[-\\+]?\\d+%?",vhe="[-\\+]?\\d*\\.\\d+%?",Eh="(?:".concat(vhe,")|(?:").concat(ghe,")"),eM="[\\s|\\(]+(".concat(Eh,")[,|\\s]+(").concat(Eh,")[,|\\s]+(").concat(Eh,")\\s*\\)?"),tM="[\\s|\\(]+(".concat(Eh,")[,|\\s]+(").concat(Eh,")[,|\\s]+(").concat(Eh,")[,|\\s]+(").concat(Eh,")\\s*\\)?"),cl={CSS_UNIT:new RegExp(Eh),rgb:new RegExp("rgb"+eM),rgba:new RegExp("rgba"+tM),hsl:new RegExp("hsl"+eM),hsla:new RegExp("hsla"+tM),hsv:new RegExp("hsv"+eM),hsva:new RegExp("hsva"+tM),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function yhe(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(NE[e])e=NE[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r=cl.rgb.exec(e);return r?{r:r[1],g:r[2],b:r[3]}:(r=cl.rgba.exec(e),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=cl.hsl.exec(e),r?{h:r[1],s:r[2],l:r[3]}:(r=cl.hsla.exec(e),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=cl.hsv.exec(e),r?{h:r[1],s:r[2],v:r[3]}:(r=cl.hsva.exec(e),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=cl.hex8.exec(e),r?{r:Ja(r[1]),g:Ja(r[2]),b:Ja(r[3]),a:m5(r[4]),format:t?"name":"hex8"}:(r=cl.hex6.exec(e),r?{r:Ja(r[1]),g:Ja(r[2]),b:Ja(r[3]),format:t?"name":"hex"}:(r=cl.hex4.exec(e),r?{r:Ja(r[1]+r[1]),g:Ja(r[2]+r[2]),b:Ja(r[3]+r[3]),a:m5(r[4]+r[4]),format:t?"name":"hex8"}:(r=cl.hex3.exec(e),r?{r:Ja(r[1]+r[1]),g:Ja(r[2]+r[2]),b:Ja(r[3]+r[3]),format:t?"name":"hex"}:!1)))))))))}function Zu(e){return!!cl.CSS_UNIT.exec(String(e))}var Di=(function(){function e(t,r){t===void 0&&(t=""),r===void 0&&(r={});var n;if(t instanceof e)return t;typeof t=="number"&&(t=mhe(t)),this.originalInput=t;var i=Um(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(n=r.format)!==null&&n!==void 0?n:i.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),r,n,i,o=t.r/255,s=t.g/255,a=t.b/255;return o<=.03928?r=o/12.92:r=Math.pow((o+.055)/1.055,2.4),s<=.03928?n=s/12.92:n=Math.pow((s+.055)/1.055,2.4),a<=.03928?i=a/12.92:i=Math.pow((a+.055)/1.055,2.4),.2126*r+.7152*n+.0722*i},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=Z7(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=BE(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=BE(this.r,this.g,this.b),r=Math.round(t.h*360),n=Math.round(t.s*100),i=Math.round(t.v*100);return this.a===1?"hsv(".concat(r,", ").concat(n,"%, ").concat(i,"%)"):"hsva(".concat(r,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=p5(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=p5(this.r,this.g,this.b),r=Math.round(t.h*360),n=Math.round(t.s*100),i=Math.round(t.l*100);return this.a===1?"hsl(".concat(r,", ").concat(n,"%, ").concat(i,"%)"):"hsla(".concat(r,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),FE(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),fhe(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),r=Math.round(this.g),n=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(r,", ").concat(n,")"):"rgba(".concat(t,", ").concat(r,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(r){return"".concat(Math.round(ko(r,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(r){return Math.round(ko(r,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+FE(this.r,this.g,this.b,!1),r=0,n=Object.entries(NE);r<n.length;r++){var i=n[r],o=i[0],s=i[1];if(t===s)return o}return!1},e.prototype.toString=function(t){var r=!!t;t=t??this.format;var n=!1,i=this.a<1&&this.a>=0,o=!r&&i&&(t.startsWith("hex")||t==="name");return o?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(n=this.toRgbString()),t==="prgb"&&(n=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(n=this.toHexString()),t==="hex3"&&(n=this.toHexString(!0)),t==="hex4"&&(n=this.toHex8String(!0)),t==="hex8"&&(n=this.toHex8String()),t==="name"&&(n=this.toName()),t==="hsl"&&(n=this.toHslString()),t==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.l+=t/100,r.l=Mx(r.l),new e(r)},e.prototype.brighten=function(t){t===void 0&&(t=10);var r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(t/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(t/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(t/100)))),new e(r)},e.prototype.darken=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.l-=t/100,r.l=Mx(r.l),new e(r)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.s-=t/100,r.s=Mx(r.s),new e(r)},e.prototype.saturate=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.s+=t/100,r.s=Mx(r.s),new e(r)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var r=this.toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,new e(r)},e.prototype.mix=function(t,r){r===void 0&&(r=50);var n=this.toRgb(),i=new e(t).toRgb(),o=r/100,s={r:(i.r-n.r)*o+n.r,g:(i.g-n.g)*o+n.g,b:(i.b-n.b)*o+n.b,a:(i.a-n.a)*o+n.a};return new e(s)},e.prototype.analogous=function(t,r){t===void 0&&(t=6),r===void 0&&(r=30);var n=this.toHsl(),i=360/r,o=[this];for(n.h=(n.h-(i*t>>1)+720)%360;--t;)n.h=(n.h+i)%360,o.push(new e(n));return o},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var r=this.toHsv(),n=r.h,i=r.s,o=r.v,s=[],a=1/t;t--;)s.push(new e({h:n,s:i,v:o})),o=(o+a)%1;return s},e.prototype.splitcomplement=function(){var t=this.toHsl(),r=t.h;return[this,new e({h:(r+72)%360,s:t.s,l:t.l}),new e({h:(r+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var r=this.toRgb(),n=new e(t).toRgb(),i=r.a+n.a*(1-r.a);return new e({r:(r.r*r.a+n.r*n.a*(1-r.a))/i,g:(r.g*r.a+n.g*n.a*(1-r.a))/i,b:(r.b*r.a+n.b*n.a*(1-r.a))/i,a:i})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var r=this.toHsl(),n=r.h,i=[this],o=360/t,s=1;s<t;s++)i.push(new e({h:(n+s*o)%360,s:r.s,l:r.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e})(),Ex=2,g5=.16,_he=.05,bhe=.05,xhe=.15,X7=5,K7=4,whe=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function v5(e){var t=e.r,r=e.g,n=e.b,i=BE(t,r,n);return{h:i.h*360,s:i.s,v:i.v}}function Ax(e){var t=e.r,r=e.g,n=e.b;return"#".concat(FE(t,r,n,!1))}function She(e,t,r){var n=r/100,i={r:(t.r-e.r)*n+e.r,g:(t.g-e.g)*n+e.g,b:(t.b-e.b)*n+e.b};return i}function y5(e,t,r){var n;return Math.round(e.h)>=60&&Math.round(e.h)<=240?n=r?Math.round(e.h)-Ex*t:Math.round(e.h)+Ex*t:n=r?Math.round(e.h)+Ex*t:Math.round(e.h)-Ex*t,n<0?n+=360:n>=360&&(n-=360),n}function _5(e,t,r){if(e.h===0&&e.s===0)return e.s;var n;return r?n=e.s-g5*t:t===K7?n=e.s+g5:n=e.s+_he*t,n>1&&(n=1),r&&t===X7&&n>.1&&(n=.1),n<.06&&(n=.06),Number(n.toFixed(2))}function b5(e,t,r){var n;return r?n=e.v+bhe*t:n=e.v-xhe*t,n>1&&(n=1),Number(n.toFixed(2))}function xc(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=[],n=Um(e),i=X7;i>0;i-=1){var o=v5(n),s=Ax(Um({h:y5(o,i,!0),s:_5(o,i,!0),v:b5(o,i,!0)}));r.push(s)}r.push(Ax(n));for(var a=1;a<=K7;a+=1){var h=v5(n),p=Ax(Um({h:y5(h,a),s:_5(h,a),v:b5(h,a)}));r.push(p)}return t.theme==="dark"?whe.map(function(m){var v=m.index,b=m.opacity,x=Ax(She(Um(t.backgroundColor||"#141414"),Um(r[v]),b*100));return x}):r}var rM={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},jw={},nM={};Object.keys(rM).forEach(function(e){jw[e]=xc(rM[e]),jw[e].primary=jw[e][5],nM[e]=xc(rM[e],{theme:"dark",backgroundColor:"#141414"}),nM[e].primary=nM[e][5]});var The=jw.blue;const Che=e=>{const{controlHeight:t}=e;return{controlHeightSM:t*.75,controlHeightXS:t*.5,controlHeightLG:t*1.25}};function Phe(e){const{sizeUnit:t,sizeStep:r}=e;return{sizeXXL:t*(r+8),sizeXL:t*(r+4),sizeLG:t*(r+2),sizeMD:t*(r+1),sizeMS:t*r,size:t*r,sizeSM:t*(r-1),sizeXS:t*(r-2),sizeXXS:t*(r-3)}}const AL={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},Q2=ue(ue({},AL),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1});function Y7(e,t){let{generateColorPalettes:r,generateNeutralColorPalettes:n}=t;const{colorSuccess:i,colorWarning:o,colorError:s,colorInfo:a,colorPrimary:h,colorBgBase:p,colorTextBase:m}=e,v=r(h),b=r(i),x=r(o),C=r(s),I=r(a),A=n(p,m);return ue(ue({},A),{colorPrimaryBg:v[1],colorPrimaryBgHover:v[2],colorPrimaryBorder:v[3],colorPrimaryBorderHover:v[4],colorPrimaryHover:v[5],colorPrimary:v[6],colorPrimaryActive:v[7],colorPrimaryTextHover:v[8],colorPrimaryText:v[9],colorPrimaryTextActive:v[10],colorSuccessBg:b[1],colorSuccessBgHover:b[2],colorSuccessBorder:b[3],colorSuccessBorderHover:b[4],colorSuccessHover:b[4],colorSuccess:b[6],colorSuccessActive:b[7],colorSuccessTextHover:b[8],colorSuccessText:b[9],colorSuccessTextActive:b[10],colorErrorBg:C[1],colorErrorBgHover:C[2],colorErrorBorder:C[3],colorErrorBorderHover:C[4],colorErrorHover:C[5],colorError:C[6],colorErrorActive:C[7],colorErrorTextHover:C[8],colorErrorText:C[9],colorErrorTextActive:C[10],colorWarningBg:x[1],colorWarningBgHover:x[2],colorWarningBorder:x[3],colorWarningBorderHover:x[4],colorWarningHover:x[4],colorWarning:x[6],colorWarningActive:x[7],colorWarningTextHover:x[8],colorWarningText:x[9],colorWarningTextActive:x[10],colorInfoBg:I[1],colorInfoBgHover:I[2],colorInfoBorder:I[3],colorInfoBorderHover:I[4],colorInfoHover:I[4],colorInfo:I[6],colorInfoActive:I[7],colorInfoTextHover:I[8],colorInfoText:I[9],colorInfoTextActive:I[10],colorBgMask:new Di("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const Mhe=e=>{let t=e,r=e,n=e,i=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?r=4:e<8&&e>=7?r=5:e<14&&e>=8?r=6:e<16&&e>=14?r=7:e>=16&&(r=8),e<6&&e>=2?n=1:e>=6&&(n=2),e>4&&e<8?i=4:e>=8&&(i=6),{borderRadius:e>16?16:e,borderRadiusXS:n,borderRadiusSM:r,borderRadiusLG:t,borderRadiusOuter:i}};function Ihe(e){const{motionUnit:t,motionBase:r,borderRadius:n,lineWidth:i}=e;return ue({motionDurationFast:`${(r+t).toFixed(1)}s`,motionDurationMid:`${(r+t*2).toFixed(1)}s`,motionDurationSlow:`${(r+t*3).toFixed(1)}s`,lineWidthBold:i+1},Mhe(n))}const Xu=(e,t)=>new Di(e).setAlpha(t).toRgbString(),Uy=(e,t)=>new Di(e).darken(t).toHexString(),Ehe=e=>{const t=xc(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},Ahe=(e,t)=>{const r=e||"#fff",n=t||"#000";return{colorBgBase:r,colorTextBase:n,colorText:Xu(n,.88),colorTextSecondary:Xu(n,.65),colorTextTertiary:Xu(n,.45),colorTextQuaternary:Xu(n,.25),colorFill:Xu(n,.15),colorFillSecondary:Xu(n,.06),colorFillTertiary:Xu(n,.04),colorFillQuaternary:Xu(n,.02),colorBgLayout:Uy(r,4),colorBgContainer:Uy(r,0),colorBgElevated:Uy(r,0),colorBgSpotlight:Xu(n,.85),colorBorder:Uy(r,15),colorBorderSecondary:Uy(r,6)}};function Dhe(e){const t=new Array(10).fill(null).map((r,n)=>{const i=n-1,o=e*Math.pow(2.71828,i/5),s=n>1?Math.floor(o):Math.ceil(o);return Math.floor(s/2)*2});return t[1]=e,t.map(r=>{const n=r+8;return{size:r,lineHeight:n/r}})}const Lhe=e=>{const t=Dhe(e),r=t.map(i=>i.size),n=t.map(i=>i.lineHeight);return{fontSizeSM:r[0],fontSize:r[1],fontSizeLG:r[2],fontSizeXL:r[3],fontSizeHeading1:r[6],fontSizeHeading2:r[5],fontSizeHeading3:r[4],fontSizeHeading4:r[3],fontSizeHeading5:r[2],lineHeight:n[1],lineHeightLG:n[2],lineHeightSM:n[0],lineHeightHeading1:n[6],lineHeightHeading2:n[5],lineHeightHeading3:n[4],lineHeightHeading4:n[3],lineHeightHeading5:n[2]}};function DL(e){const t=Object.keys(AL).map(r=>{const n=xc(e[r]);return new Array(10).fill(1).reduce((i,o,s)=>(i[`${r}-${s+1}`]=n[s],i),{})}).reduce((r,n)=>(r=ue(ue({},r),n),r),{});return ue(ue(ue(ue(ue(ue(ue({},e),t),Y7(e,{generateColorPalettes:Ehe,generateNeutralColorPalettes:Ahe})),Lhe(e.fontSize)),Phe(e)),Che(e)),Ihe(e))}function iM(e){return e>=0&&e<=255}function Dx(e,t){const{r,g:n,b:i,a:o}=new Di(e).toRgb();if(o<1)return e;const{r:s,g:a,b:h}=new Di(t).toRgb();for(let p=.01;p<=1;p+=.01){const m=Math.round((r-s*(1-p))/p),v=Math.round((n-a*(1-p))/p),b=Math.round((i-h*(1-p))/p);if(iM(m)&&iM(v)&&iM(b))return new Di({r:m,g:v,b,a:Math.round(p*100)/100}).toRgbString()}return new Di({r,g:n,b:i,a:1}).toRgbString()}var Rhe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function Ohe(e){const{override:t}=e,r=Rhe(e,["override"]),n=ue({},t);Object.keys(Q2).forEach(x=>{delete n[x]});const i=ue(ue({},r),n),o=480,s=576,a=768,h=992,p=1200,m=1600,v=2e3;return ue(ue(ue({},i),{colorLink:i.colorInfoText,colorLinkHover:i.colorInfoHover,colorLinkActive:i.colorInfoActive,colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:Dx(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:Dx(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:Dx(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidth:i.lineWidth,controlOutlineWidth:i.lineWidth*2,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:Dx(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:o,screenXSMin:o,screenXSMax:s-1,screenSM:s,screenSMMin:s,screenSMMax:a-1,screenMD:a,screenMDMin:a,screenMDMax:h-1,screenLG:h,screenLGMin:h,screenLGMax:p-1,screenXL:p,screenXLMin:p,screenXLMax:m-1,screenXXL:m,screenXXLMin:m,screenXXLMax:v-1,screenXXXL:v,screenXXXLMin:v,boxShadowPopoverArrow:"3px 3px 7px rgba(0, 0, 0, 0.1)",boxShadowCard:`
      0 1px 2px -2px ${new Di("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new Di("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new Di("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),n)}const khe=(e,t,r,n,i)=>{const o=e/2,s=0,a=o,h=r*1/Math.sqrt(2),p=o-r*(1-1/Math.sqrt(2)),m=o-t*(1/Math.sqrt(2)),v=r*(Math.sqrt(2)-1)+t*(1/Math.sqrt(2)),b=2*o-m,x=v,C=2*o-h,I=p,A=2*o-s,R=a,k=o*Math.sqrt(2)+r*(Math.sqrt(2)-2),$=r*(Math.sqrt(2)-1);return{pointerEvents:"none",width:e,height:e,overflow:"hidden","&::after":{content:'""',position:"absolute",width:k,height:k,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${t}px 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:i,zIndex:0,background:"transparent"},"&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:e,height:e/2,background:n,clipPath:{_multi_value_:!0,value:[`polygon(${$}px 100%, 50% ${$}px, ${2*o-$}px 100%, ${$}px 100%)`,`path('M ${s} ${a} A ${r} ${r} 0 0 0 ${h} ${p} L ${m} ${v} A ${t} ${t} 0 0 1 ${b} ${x} L ${C} ${I} A ${r} ${r} 0 0 0 ${A} ${R} Z')`]},content:'""'}}};function J7(e,t){return AS.reduce((r,n)=>{const i=e[`${n}-1`],o=e[`${n}-3`],s=e[`${n}-6`],a=e[`${n}-7`];return ue(ue({},r),t(n,{lightColor:i,lightBorderColor:o,darkColor:s,textColor:a}))},{})}const Wh={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},_a=e=>({boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:e.fontFamily}),_b=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),Hg=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),$he=e=>({a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},"&:active,\n  &:hover":{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}),zhe=(e,t)=>{const{fontFamily:r,fontSize:n}=e,i=`[class^="${t}"], [class*=" ${t}"]`;return{[i]:{fontFamily:r,fontSize:n,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"},[i]:{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}}}},Q7=e=>({outline:`${e.lineWidthBold}px solid ${e.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),eT=e=>({"&:focus-visible":ue({},Q7(e))});function zo(e,t,r){return n=>{const i=ve(()=>n?.value),[o,s,a]=bb(),{getPrefixCls:h,iconPrefixCls:p}=C7(),m=ve(()=>h()),v=ve(()=>({theme:o.value,token:s.value,hashId:a.value,path:["Shared",m.value]}));zE(v,()=>[{"&":$he(s.value)}]);const b=ve(()=>({theme:o.value,token:s.value,hashId:a.value,path:[e,i.value,p.value]}));return[zE(b,()=>{const{token:x,flush:C}=Fhe(s.value),I=typeof r=="function"?r(x):r,A=ue(ue({},I),s.value[e]),R=`.${i.value}`,k=Un(x,{componentCls:R,prefixCls:i.value,iconCls:`.${p.value}`,antCls:`.${m.value}`},A),$=t(k,{hashId:a.value,prefixCls:i.value,rootPrefixCls:m.value,iconPrefixCls:p.value,overrideComponentToken:s.value[e]});return C(e,A),[zhe(s.value,i.value),$]}),a]}}const eH=typeof CSSINJS_STATISTIC<"u";let VE=!0;function Un(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!eH)return ue({},...t);VE=!1;const n={};return t.forEach(i=>{Object.keys(i).forEach(s=>{Object.defineProperty(n,s,{configurable:!0,enumerable:!0,get:()=>i[s]})})}),VE=!0,n}function Bhe(){}function Fhe(e){let t,r=e,n=Bhe;return eH&&(t=new Set,r=new Proxy(e,{get(i,o){return VE&&t.add(o),i[o]}}),n=(i,o)=>{Array.from(t)}),{token:r,keys:t,flush:n}}const Nhe=B7(DL),LL={token:Q2,hashed:!0},tH=Symbol("DesignTokenContext"),jE=vt(),Vhe=e=>{un(tH,e),Zt(e,()=>{jE.value=rr(e),gQ(jE)},{immediate:!0,deep:!0})},jhe=St({props:{value:ti()},setup(e,t){let{slots:r}=t;return Vhe(ve(()=>e.value)),()=>{var n;return(n=r.default)===null||n===void 0?void 0:n.call(r)}}});function bb(){const e=Ir(tH,ve(()=>jE.value||LL)),t=ve(()=>`${she}-${e.value.hashed||""}`),r=ve(()=>e.value.theme||Nhe),n=Oce(r,ve(()=>[Q2,e.value.token]),ve(()=>({salt:t.value,override:ue({override:e.value.token},e.value.components),formatToken:Ohe})));return[r,ve(()=>n.value[0]),ve(()=>e.value.hashed?n.value[1]:"")]}const RL=St({compatConfig:{MODE:3},setup(){const[,e]=bb(),t=ve(()=>new Di(e.value.colorBgBase).toHsl().l<.5?{opacity:.65}:{});return()=>ie("svg",{style:t.value,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},[ie("g",{fill:"none","fill-rule":"evenodd"},[ie("g",{transform:"translate(24 31.67)"},[ie("ellipse",{"fill-opacity":".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"},null),ie("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"},null),ie("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"},null),ie("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"},null),ie("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"},null)]),ie("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"},null),ie("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},[ie("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"},null),ie("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"},null)])])])}});RL.PRESENTED_IMAGE_DEFAULT=!0;const rH=St({compatConfig:{MODE:3},setup(){const[,e]=bb(),t=ve(()=>{const{colorFill:r,colorFillTertiary:n,colorFillQuaternary:i,colorBgContainer:o}=e.value;return{borderColor:new Di(r).onBackground(o).toHexString(),shadowColor:new Di(n).onBackground(o).toHexString(),contentColor:new Di(i).onBackground(o).toHexString()}});return()=>ie("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},[ie("g",{transform:"translate(0 1)",fill:"none","fill-rule":"evenodd"},[ie("ellipse",{fill:t.value.shadowColor,cx:"32",cy:"33",rx:"32",ry:"7"},null),ie("g",{"fill-rule":"nonzero",stroke:t.value.borderColor},[ie("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"},null),ie("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:t.value.contentColor},null)])])])}});rH.PRESENTED_IMAGE_SIMPLE=!0;const Hhe=e=>{const{componentCls:t,margin:r,marginXS:n,marginXL:i,fontSize:o,lineHeight:s}=e;return{[t]:{marginInline:n,fontSize:o,lineHeight:s,textAlign:"center",[`${t}-image`]:{height:e.emptyImgHeight,marginBottom:n,opacity:e.opacityImage,img:{height:"100%"},svg:{height:"100%",margin:"auto"}},[`${t}-footer`]:{marginTop:r},"&-normal":{marginBlock:i,color:e.colorTextDisabled,[`${t}-image`]:{height:e.emptyImgHeightMD}},"&-small":{marginBlock:n,color:e.colorTextDisabled,[`${t}-image`]:{height:e.emptyImgHeightSM}}}}},Ghe=zo("Empty",e=>{const{componentCls:t,controlHeightLG:r}=e,n=Un(e,{emptyImgCls:`${t}-img`,emptyImgHeight:r*2.5,emptyImgHeightMD:r,emptyImgHeightSM:r*.875});return[Hhe(n)]});var Uhe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Whe=()=>({prefixCls:String,imageStyle:ti(),image:pl(),description:pl()}),OL=St({name:"AEmpty",compatConfig:{MODE:3},inheritAttrs:!1,props:Whe(),setup(e,t){let{slots:r={},attrs:n}=t;const{direction:i,prefixCls:o}=qn("empty",e),[s,a]=Ghe(o);return()=>{var h,p;const m=o.value,v=ue(ue({},e),n),{image:b=((h=r.image)===null||h===void 0?void 0:h.call(r))||Wt(RL),description:x=((p=r.description)===null||p===void 0?void 0:p.call(r))||void 0,imageStyle:C,class:I=""}=v,A=Uhe(v,["image","description","imageStyle","class"]),R=typeof b=="function"?b():b,k=typeof R=="object"&&"type"in R&&R.type.PRESENTED_IMAGE_SIMPLE;return s(ie(I7,{componentName:"Empty",children:$=>{const N=typeof x<"u"?x:$.description,H=typeof N=="string"?N:"empty";let W=null;return typeof R=="string"?W=ie("img",{alt:H,src:R},null):W=R,ie("div",wt({class:ir(m,I,a.value,{[`${m}-normal`]:k,[`${m}-rtl`]:i.value==="rtl"})},A),[ie("div",{class:`${m}-image`,style:C},[W]),N&&ie("p",{class:`${m}-description`},[N]),r.default&&ie("div",{class:`${m}-footer`},[lp(r.default())])])}},null))}}});OL.PRESENTED_IMAGE_DEFAULT=()=>Wt(RL);OL.PRESENTED_IMAGE_SIMPLE=()=>Wt(rH);const Wm=av(OL),kL=e=>{const{prefixCls:t}=qn("empty",e);return(n=>{switch(n){case"Table":case"List":return ie(Wm,{image:Wm.PRESENTED_IMAGE_SIMPLE},null);case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return ie(Wm,{image:Wm.PRESENTED_IMAGE_SIMPLE,class:`${t.value}-small`},null);default:return ie(Wm,null,null)}})(e.componentName)};function qhe(e){return ie(kL,{componentName:e},null)}const nH=Symbol("SizeContextKey"),iH=()=>Ir(nH,Vt(void 0)),Zhe=e=>{const t=iH();return un(nH,ve(()=>e.value||t.value)),e},qn=((e,t)=>{const r=iH(),n=yb(),i=Ir(CL,ue(ue({},T7),{renderEmpty:j=>Wt(kL,{componentName:j})})),o=ve(()=>i.getPrefixCls(e,t.prefixCls)),s=ve(()=>{var j,X;return(j=t.direction)!==null&&j!==void 0?j:(X=i.direction)===null||X===void 0?void 0:X.value}),a=ve(()=>{var j;return(j=t.iconPrefixCls)!==null&&j!==void 0?j:i.iconPrefixCls.value}),h=ve(()=>i.getPrefixCls()),p=ve(()=>{var j;return(j=i.autoInsertSpaceInButton)===null||j===void 0?void 0:j.value}),m=i.renderEmpty,v=i.space,b=i.pageHeader,x=i.form,C=ve(()=>{var j,X;return(j=t.getTargetContainer)!==null&&j!==void 0?j:(X=i.getTargetContainer)===null||X===void 0?void 0:X.value}),I=ve(()=>{var j,X,K;return(X=(j=t.getContainer)!==null&&j!==void 0?j:t.getPopupContainer)!==null&&X!==void 0?X:(K=i.getPopupContainer)===null||K===void 0?void 0:K.value}),A=ve(()=>{var j,X;return(j=t.dropdownMatchSelectWidth)!==null&&j!==void 0?j:(X=i.dropdownMatchSelectWidth)===null||X===void 0?void 0:X.value}),R=ve(()=>{var j;return(t.virtual===void 0?((j=i.virtual)===null||j===void 0?void 0:j.value)!==!1:t.virtual!==!1)&&A.value!==!1}),k=ve(()=>t.size||r.value),$=ve(()=>{var j,X,K;return(j=t.autocomplete)!==null&&j!==void 0?j:(K=(X=i.input)===null||X===void 0?void 0:X.value)===null||K===void 0?void 0:K.autocomplete}),N=ve(()=>{var j;return(j=t.disabled)!==null&&j!==void 0?j:n.value}),H=ve(()=>{var j;return(j=t.csp)!==null&&j!==void 0?j:i.csp}),W=ve(()=>{var j,X;return(j=t.wave)!==null&&j!==void 0?j:(X=i.wave)===null||X===void 0?void 0:X.value});return{configProvider:i,prefixCls:o,direction:s,size:k,getTargetContainer:C,getPopupContainer:I,space:v,pageHeader:b,form:x,autoInsertSpaceInButton:p,renderEmpty:m,virtual:R,dropdownMatchSelectWidth:A,rootPrefixCls:h,getPrefixCls:i.getPrefixCls,autocomplete:$,csp:H,iconPrefixCls:a,disabled:N,select:i.select,wave:W}});function Qh(e,t){const r=ue({},e);for(let n=0;n<t.length;n+=1){const i=t[n];delete r[i]}return r}function Xhe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function oH(e,t,r){return r&&Xhe(e,r),e}function Hw(){return(Hw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function aH(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function sH(e,t){if(e==null)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)t.indexOf(r=o[n])>=0||(i[r]=e[r]);return i}function x5(e){return((t=e)!=null&&typeof t=="object"&&Array.isArray(t)===!1)==1&&Object.prototype.toString.call(e)==="[object Object]";var t}var lH=Object.prototype,uH=lH.toString,Khe=lH.hasOwnProperty,cH=/^\s*function (\w+)/;function w5(e){var t,r=(t=e?.type)!==null&&t!==void 0?t:e;if(r){var n=r.toString().match(cH);return n?n[1]:""}return""}var Yf=function(e){var t,r;return x5(e)!==!1&&typeof(t=e.constructor)=="function"&&x5(r=t.prototype)!==!1&&r.hasOwnProperty("isPrototypeOf")!==!1},Yhe=function(e){return e},as=Yhe,E0=function(e,t){return Khe.call(e,t)},Jhe=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e},Gg=Array.isArray||function(e){return uH.call(e)==="[object Array]"},Ug=function(e){return uH.call(e)==="[object Function]"},DS=function(e){return Yf(e)&&E0(e,"_vueTypes_name")},hH=function(e){return Yf(e)&&(E0(e,"type")||["_vueTypes_name","validator","default","required"].some(function(t){return E0(e,t)}))};function $L(e,t){return Object.defineProperty(e.bind(t),"__original",{value:e})}function up(e,t,r){var n,i=!0,o="";n=Yf(e)?e:{type:e};var s=DS(n)?n._vueTypes_name+" - ":"";if(hH(n)&&n.type!==null){if(n.type===void 0||n.type===!0||!n.required&&t===void 0)return i;Gg(n.type)?(i=n.type.some(function(v){return up(v,t)===!0}),o=n.type.map(function(v){return w5(v)}).join(" or ")):i=(o=w5(n))==="Array"?Gg(t):o==="Object"?Yf(t):o==="String"||o==="Number"||o==="Boolean"||o==="Function"?(function(v){if(v==null)return"";var b=v.constructor.toString().match(cH);return b?b[1]:""})(t)===o:t instanceof n.type}if(!i){var a=s+'value "'+t+'" should be of type "'+o+'"';return a}if(E0(n,"validator")&&Ug(n.validator)){var h=as,p=[];if(as=function(v){p.push(v)},i=n.validator(t),as=h,!i){var m=(p.length>1?"* ":"")+p.join(`
* `);return p.length=0,m}}return i}function us(e,t){var r=Object.defineProperties(t,{_vueTypes_name:{value:e,writable:!0},isRequired:{get:function(){return this.required=!0,this}},def:{value:function(i){return i!==void 0||this.default?Ug(i)||up(this,i)===!0?(this.default=Gg(i)?function(){return[].concat(i)}:Yf(i)?function(){return Object.assign({},i)}:i,this):(as(this._vueTypes_name+' - invalid default value: "'+i+'"'),this):this}}}),n=r.validator;return Ug(n)&&(r.validator=$L(n,r)),r}function pu(e,t){var r=us(e,t);return Object.defineProperty(r,"validate",{value:function(n){return Ug(this.validator)&&as(this._vueTypes_name+` - calling .validate() will overwrite the current custom validator function. Validator info:
`+JSON.stringify(this)),this.validator=$L(n,this),this}})}function S5(e,t,r){var n,i,o=(n=t,i={},Object.getOwnPropertyNames(n).forEach(function(v){i[v]=Object.getOwnPropertyDescriptor(n,v)}),Object.defineProperties({},i));if(o._vueTypes_name=e,!Yf(r))return o;var s,a,h=r.validator,p=sH(r,["validator"]);if(Ug(h)){var m=o.validator;m&&(m=(a=(s=m).__original)!==null&&a!==void 0?a:s),o.validator=$L(m?function(v){return m.call(this,v)&&h.call(this,v)}:h,o)}return Object.assign(o,p)}function tT(e){return e.replace(/^(?!\s*$)/gm,"  ")}var Qhe=function(){return pu("any",{})},ede=function(){return pu("function",{type:Function})},tde=function(){return pu("boolean",{type:Boolean})},rde=function(){return pu("string",{type:String})},nde=function(){return pu("number",{type:Number})},ide=function(){return pu("array",{type:Array})},ode=function(){return pu("object",{type:Object})},ade=function(){return us("integer",{type:Number,validator:function(e){return Jhe(e)}})},sde=function(){return us("symbol",{validator:function(e){return typeof e=="symbol"}})};function lde(e,t){if(t===void 0&&(t="custom validation failed"),typeof e!="function")throw new TypeError("[VueTypes error]: You must provide a function as argument");return us(e.name||"<<anonymous function>>",{validator:function(r){var n=e(r);return n||as(this._vueTypes_name+" - "+t),n}})}function ude(e){if(!Gg(e))throw new TypeError("[VueTypes error]: You must provide an array as argument.");var t='oneOf - value should be one of "'+e.join('", "')+'".',r=e.reduce(function(n,i){if(i!=null){var o=i.constructor;n.indexOf(o)===-1&&n.push(o)}return n},[]);return us("oneOf",{type:r.length>0?r:void 0,validator:function(n){var i=e.indexOf(n)!==-1;return i||as(t),i}})}function cde(e){if(!Gg(e))throw new TypeError("[VueTypes error]: You must provide an array as argument");for(var t=!1,r=[],n=0;n<e.length;n+=1){var i=e[n];if(hH(i)){if(DS(i)&&i._vueTypes_name==="oneOf"){r=r.concat(i.type);continue}if(Ug(i.validator)&&(t=!0),i.type!==!0&&i.type){r=r.concat(i.type);continue}}r.push(i)}return r=r.filter(function(o,s){return r.indexOf(o)===s}),us("oneOfType",t?{type:r,validator:function(o){var s=[],a=e.some(function(h){var p=up(DS(h)&&h._vueTypes_name==="oneOf"?h.type||null:h,o);return typeof p=="string"&&s.push(p),p===!0});return a||as("oneOfType - provided value does not match any of the "+s.length+` passed-in validators:
`+tT(s.join(`
`))),a}}:{type:r})}function hde(e){return us("arrayOf",{type:Array,validator:function(t){var r,n=t.every(function(i){return(r=up(e,i))===!0});return n||as(`arrayOf - value validation error:
`+tT(r)),n}})}function dde(e){return us("instanceOf",{type:e})}function fde(e){return us("objectOf",{type:Object,validator:function(t){var r,n=Object.keys(t).every(function(i){return(r=up(e,t[i]))===!0});return n||as(`objectOf - value validation error:
`+tT(r)),n}})}function pde(e){var t=Object.keys(e),r=t.filter(function(i){var o;return!!(!((o=e[i])===null||o===void 0)&&o.required)}),n=us("shape",{type:Object,validator:function(i){var o=this;if(!Yf(i))return!1;var s=Object.keys(i);if(r.length>0&&r.some(function(h){return s.indexOf(h)===-1})){var a=r.filter(function(h){return s.indexOf(h)===-1});return as(a.length===1?'shape - required property "'+a[0]+'" is not defined.':'shape - required properties "'+a.join('", "')+'" are not defined.'),!1}return s.every(function(h){if(t.indexOf(h)===-1)return o._vueTypes_isLoose===!0||(as('shape - shape definition does not include a "'+h+'" property. Allowed keys: "'+t.join('", "')+'".'),!1);var p=up(e[h],i[h]);return typeof p=="string"&&as('shape - "'+h+`" property validation error:
 `+tT(p)),p===!0})}});return Object.defineProperty(n,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(n,"loose",{get:function(){return this._vueTypes_isLoose=!0,this}}),n}var Jl=(function(){function e(){}return e.extend=function(t){var r=this;if(Gg(t))return t.forEach(function(v){return r.extend(v)}),this;var n=t.name,i=t.validate,o=i!==void 0&&i,s=t.getter,a=s!==void 0&&s,h=sH(t,["name","validate","getter"]);if(E0(this,n))throw new TypeError('[VueTypes error]: Type "'+n+'" already defined');var p,m=h.type;return DS(m)?(delete h.type,Object.defineProperty(this,n,a?{get:function(){return S5(n,m,h)}}:{value:function(){var v,b=S5(n,m,h);return b.validator&&(b.validator=(v=b.validator).bind.apply(v,[b].concat([].slice.call(arguments)))),b}})):(p=a?{get:function(){var v=Object.assign({},h);return o?pu(n,v):us(n,v)},enumerable:!0}:{value:function(){var v,b,x=Object.assign({},h);return v=o?pu(n,x):us(n,x),x.validator&&(v.validator=(b=x.validator).bind.apply(b,[v].concat([].slice.call(arguments)))),v},enumerable:!0},Object.defineProperty(this,n,p))},oH(e,null,[{key:"any",get:function(){return Qhe()}},{key:"func",get:function(){return ede().def(this.defaults.func)}},{key:"bool",get:function(){return tde().def(this.defaults.bool)}},{key:"string",get:function(){return rde().def(this.defaults.string)}},{key:"number",get:function(){return nde().def(this.defaults.number)}},{key:"array",get:function(){return ide().def(this.defaults.array)}},{key:"object",get:function(){return ode().def(this.defaults.object)}},{key:"integer",get:function(){return ade().def(this.defaults.integer)}},{key:"symbol",get:function(){return sde()}}]),e})();function dH(e){var t;return e===void 0&&(e={func:function(){},bool:!0,string:"",number:0,array:function(){return[]},object:function(){return{}},integer:0}),(t=(function(r){function n(){return r.apply(this,arguments)||this}return aH(n,r),oH(n,null,[{key:"sensibleDefaults",get:function(){return Hw({},this.defaults)},set:function(i){this.defaults=i!==!1?Hw({},i!==!0?i:e):{}}}]),n})(Jl)).defaults=Hw({},e),t}Jl.defaults={},Jl.custom=lde,Jl.oneOf=ude,Jl.instanceOf=dde,Jl.oneOfType=cde,Jl.arrayOf=hde,Jl.objectOf=fde,Jl.shape=pde,Jl.utils={validate:function(e,t){return up(t,e)===!0},toType:function(e,t,r){return r===void 0&&(r=!1),r?pu(e,t):us(e,t)}};(function(e){function t(){return e.apply(this,arguments)||this}return aH(t,e),t})(dH());const at=dH({func:void 0,bool:void 0,string:void 0,number:void 0,array:void 0,object:void 0,integer:void 0});at.extend([{name:"looseBool",getter:!0,type:Boolean,default:void 0},{name:"style",getter:!0,type:[String,Object],default:void 0},{name:"VueNode",getter:!0,type:null}]);const _l=((e,t,r)=>{Sce(e,`[ant-design-vue: ${t}] ${r}`)});function T5(e,t){const{key:r}=e;let n;return"value"in e&&({value:n}=e),r??(n!==void 0?n:`rc-index-key-${t}`)}function fH(e,t){const{label:r,value:n,options:i}=e||{};return{label:r||(t?"children":"label"),value:n||"value",options:i||"options"}}function mde(e){let{fieldNames:t,childrenAsData:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=[],{label:i,value:o,options:s}=fH(t,!1);function a(h,p){h.forEach(m=>{const v=m[i];if(p||!(s in m)){const b=m[o];n.push({key:T5(m,n.length),groupOption:p,data:m,label:v,value:b})}else{let b=v;b===void 0&&r&&(b=m.label),n.push({key:T5(m,n.length),group:!0,data:m,label:b}),a(m[s],!0)}})}return a(e,!1),n}function HE(e){const t=ue({},e);return"props"in t||Object.defineProperty(t,"props",{get(){return t}}),t}function gde(e,t){if(!t||!t.length)return null;let r=!1;function n(o,s){let[a,...h]=s;if(!a)return[o];const p=o.split(a);return r=r||p.length>1,p.reduce((m,v)=>[...m,...n(v,h)],[]).filter(m=>m)}const i=n(e,t);return r?i:null}function vde(){return""}function yde(e){return e?e.ownerDocument:window.document}function pH(){}const _de=()=>({action:at.oneOfType([at.string,at.arrayOf(at.string)]).def([]),showAction:at.any.def([]),hideAction:at.any.def([]),getPopupClassNameFromAlign:at.any.def(vde),onPopupVisibleChange:Function,afterPopupVisibleChange:at.func.def(pH),popup:at.any,arrow:at.bool.def(!0),popupStyle:{type:Object,default:void 0},prefixCls:at.string.def("rc-trigger-popup"),popupClassName:at.string.def(""),popupPlacement:String,builtinPlacements:at.object,popupTransitionName:String,popupAnimation:at.any,mouseEnterDelay:at.number.def(0),mouseLeaveDelay:at.number.def(.1),zIndex:Number,focusDelay:at.number.def(0),blurDelay:at.number.def(.15),getPopupContainer:Function,getDocument:at.func.def(yde),forceRender:{type:Boolean,default:void 0},destroyPopupOnHide:{type:Boolean,default:!1},mask:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0},popupAlign:at.object.def(()=>({})),popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},maskTransitionName:String,maskAnimation:String,stretch:String,alignPoint:{type:Boolean,default:void 0},autoDestroy:{type:Boolean,default:!1},mobile:Object,getTriggerDOMNode:Function}),zL={visible:Boolean,prefixCls:String,zIndex:Number,destroyPopupOnHide:Boolean,forceRender:Boolean,arrow:{type:Boolean,default:!0},animation:[String,Object],transitionName:String,stretch:{type:String},align:{type:Object},point:{type:Object},getRootDomNode:{type:Function},getClassNameFromAlign:{type:Function},onAlign:{type:Function},onMouseenter:{type:Function},onMouseleave:{type:Function},onMousedown:{type:Function},onTouchstart:{type:Function}},bde=ue(ue({},zL),{mobile:{type:Object}}),xde=ue(ue({},zL),{mask:Boolean,mobile:{type:Object},maskAnimation:String,maskTransitionName:String});function BL(e){let{prefixCls:t,animation:r,transitionName:n}=e;return r?{name:`${t}-${r}`}:n?{name:n}:{}}function mH(e){const{prefixCls:t,visible:r,zIndex:n,mask:i,maskAnimation:o,maskTransitionName:s}=e;if(!i)return null;let a={};return(s||o)&&(a=BL({prefixCls:t,transitionName:s,animation:o})),ie(Fa,wt({appear:!0},a),{default:()=>[Gh(ie("div",{style:{zIndex:n},class:`${t}-mask`},null),[[WQ("if"),r]])]})}mH.displayName="Mask";const wde=St({compatConfig:{MODE:3},name:"MobilePopupInner",inheritAttrs:!1,props:bde,emits:["mouseenter","mouseleave","mousedown","touchstart","align"],setup(e,t){let{expose:r,slots:n}=t;const i=Vt();return r({forceAlign:()=>{},getElement:()=>i.value}),()=>{var o;const{zIndex:s,visible:a,prefixCls:h,mobile:{popupClassName:p,popupStyle:m,popupMotion:v={},popupRender:b}={}}=e,x=ue({zIndex:s},m);let C=So((o=n.default)===null||o===void 0?void 0:o.call(n));C.length>1&&(C=ie("div",{class:`${h}-content`},[C])),b&&(C=b(C));const I=ir(h,p);return ie(Fa,wt({ref:i},v),{default:()=>[a?ie("div",{class:I,style:x},[C]):null]})}}});var Sde=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(m){try{p(n.next(m))}catch(v){s(v)}}function h(m){try{p(n.throw(m))}catch(v){s(v)}}function p(m){m.done?o(m.value):i(m.value).then(a,h)}p((n=n.apply(e,t||[])).next())})};const C5=["measure","align",null,"motion"],Tde=((e,t)=>{const r=vt(null),n=vt(),i=vt(!1);function o(h){i.value||(r.value=h)}function s(){Pn.cancel(n.value)}function a(h){s(),n.value=Pn(()=>{let p=r.value;switch(r.value){case"align":p="motion";break;case"motion":p="stable";break}o(p),h?.()})}return Zt(e,()=>{o("measure")},{immediate:!0,flush:"post"}),Nr(()=>{Zt(r,()=>{switch(r.value){case"measure":t();break}r.value&&(n.value=Pn(()=>Sde(void 0,void 0,void 0,function*(){const h=C5.indexOf(r.value),p=C5[h+1];p&&h!==-1&&o(p)})))},{immediate:!0,flush:"post"})}),hi(()=>{i.value=!0,s()}),[r,a]}),Cde=(e=>{const t=vt({width:0,height:0});function r(i){t.value={width:i.offsetWidth,height:i.offsetHeight}}return[ve(()=>{const i={};if(e.value){const{width:o,height:s}=t.value;e.value.indexOf("height")!==-1&&s?i.height=`${s}px`:e.value.indexOf("minHeight")!==-1&&s&&(i.minHeight=`${s}px`),e.value.indexOf("width")!==-1&&o?i.width=`${o}px`:e.value.indexOf("minWidth")!==-1&&o&&(i.minWidth=`${o}px`)}return i}),r]});function P5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function M5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P5(Object(r),!0).forEach(function(n){Pde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GE(e){"@babel/helpers - typeof";return GE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},GE(e)}function Pde(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Wy,Mde={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function LS(){if(Wy!==void 0)return Wy;Wy="";var e=document.createElement("p").style,t="Transform";for(var r in Mde)r+t in e&&(Wy=r);return Wy}function gH(){return LS()?"".concat(LS(),"TransitionProperty"):"transitionProperty"}function rT(){return LS()?"".concat(LS(),"Transform"):"transform"}function I5(e,t){var r=gH();r&&(e.style[r]=t,r!=="transitionProperty"&&(e.style.transitionProperty=t))}function oM(e,t){var r=rT();r&&(e.style[r]=t,r!=="transform"&&(e.style.transform=t))}function Ide(e){return e.style.transitionProperty||e.style[gH()]}function Ede(e){var t=window.getComputedStyle(e,null),r=t.getPropertyValue("transform")||t.getPropertyValue(rT());if(r&&r!=="none"){var n=r.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(n[12]||n[4],0),y:parseFloat(n[13]||n[5],0)}}return{x:0,y:0}}var Ade=/matrix\((.*)\)/,Dde=/matrix3d\((.*)\)/;function Lde(e,t){var r=window.getComputedStyle(e,null),n=r.getPropertyValue("transform")||r.getPropertyValue(rT());if(n&&n!=="none"){var i,o=n.match(Ade);if(o)o=o[1],i=o.split(",").map(function(a){return parseFloat(a,10)}),i[4]=t.x,i[5]=t.y,oM(e,"matrix(".concat(i.join(","),")"));else{var s=n.match(Dde)[1];i=s.split(",").map(function(a){return parseFloat(a,10)}),i[12]=t.x,i[13]=t.y,oM(e,"matrix3d(".concat(i.join(","),")"))}}else oM(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}var Rde=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,xb;function E5(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function _g(e,t,r){var n=r;if(GE(t)==="object"){for(var i in t)t.hasOwnProperty(i)&&_g(e,i,t[i]);return}if(typeof n<"u"){typeof n=="number"&&(n="".concat(n,"px")),e.style[t]=n;return}return xb(e,t)}function Ode(e){var t,r,n,i=e.ownerDocument,o=i.body,s=i&&i.documentElement;return t=e.getBoundingClientRect(),r=Math.floor(t.left),n=Math.floor(t.top),r-=s.clientLeft||o.clientLeft||0,n-=s.clientTop||o.clientTop||0,{left:r,top:n}}function vH(e,t){var r=e["page".concat(t?"Y":"X","Offset")],n="scroll".concat(t?"Top":"Left");if(typeof r!="number"){var i=e.document;r=i.documentElement[n],typeof r!="number"&&(r=i.body[n])}return r}function yH(e){return vH(e)}function _H(e){return vH(e,!0)}function A0(e){var t=Ode(e),r=e.ownerDocument,n=r.defaultView||r.parentWindow;return t.left+=yH(n),t.top+=_H(n),t}function FL(e){return e!=null&&e==e.window}function bH(e){return FL(e)?e.document:e.nodeType===9?e:e.ownerDocument}function kde(e,t,r){var n=r,i="",o=bH(e);return n=n||o.defaultView.getComputedStyle(e,null),n&&(i=n.getPropertyValue(t)||n[t]),i}var $de=new RegExp("^(".concat(Rde,")(?!px)[a-z%]+$"),"i"),zde=/^(top|right|bottom|left)$/,aM="currentStyle",sM="runtimeStyle",qd="left",Bde="px";function Fde(e,t){var r=e[aM]&&e[aM][t];if($de.test(r)&&!zde.test(t)){var n=e.style,i=n[qd],o=e[sM][qd];e[sM][qd]=e[aM][qd],n[qd]=t==="fontSize"?"1em":r||0,r=n.pixelLeft+Bde,n[qd]=i,e[sM][qd]=o}return r===""?"auto":r}typeof window<"u"&&(xb=window.getComputedStyle?kde:Fde);function Lx(e,t){return e==="left"?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function A5(e){if(e==="left")return"right";if(e==="right")return"left";if(e==="top")return"bottom";if(e==="bottom")return"top"}function D5(e,t,r){_g(e,"position")==="static"&&(e.style.position="relative");var n=-999,i=-999,o=Lx("left",r),s=Lx("top",r),a=A5(o),h=A5(s);o!=="left"&&(n=999),s!=="top"&&(i=999);var p="",m=A0(e);("left"in t||"top"in t)&&(p=Ide(e)||"",I5(e,"none")),"left"in t&&(e.style[a]="",e.style[o]="".concat(n,"px")),"top"in t&&(e.style[h]="",e.style[s]="".concat(i,"px")),E5(e);var v=A0(e),b={};for(var x in t)if(t.hasOwnProperty(x)){var C=Lx(x,r),I=x==="left"?n:i,A=m[x]-v[x];C===x?b[C]=I+A:b[C]=I-A}_g(e,b),E5(e),("left"in t||"top"in t)&&I5(e,p);var R={};for(var k in t)if(t.hasOwnProperty(k)){var $=Lx(k,r),N=t[k]-m[k];k===$?R[$]=b[$]+N:R[$]=b[$]-N}_g(e,R)}function Nde(e,t){var r=A0(e),n=Ede(e),i={x:n.x,y:n.y};"left"in t&&(i.x=n.x+t.left-r.left),"top"in t&&(i.y=n.y+t.top-r.top),Lde(e,i)}function Vde(e,t,r){if(r.ignoreShake){var n=A0(e),i=n.left.toFixed(0),o=n.top.toFixed(0),s=t.left.toFixed(0),a=t.top.toFixed(0);if(i===s&&o===a)return}r.useCssRight||r.useCssBottom?D5(e,t,r):r.useCssTransform&&rT()in document.body.style?Nde(e,t):D5(e,t,r)}function NL(e,t){for(var r=0;r<e.length;r++)t(e[r])}function xH(e){return xb(e,"boxSizing")==="border-box"}var jde=["margin","border","padding"],UE=-1,Hde=2,WE=1,Gde=0;function Ude(e,t,r){var n={},i=e.style,o;for(o in t)t.hasOwnProperty(o)&&(n[o]=i[o],i[o]=t[o]);r.call(e);for(o in t)t.hasOwnProperty(o)&&(i[o]=n[o])}function S_(e,t,r){var n=0,i,o,s;for(o=0;o<t.length;o++)if(i=t[o],i)for(s=0;s<r.length;s++){var a=void 0;i==="border"?a="".concat(i).concat(r[s],"Width"):a=i+r[s],n+=parseFloat(xb(e,a))||0}return n}var au={getParent:function(t){var r=t;do r.nodeType===11&&r.host?r=r.host:r=r.parentNode;while(r&&r.nodeType!==1&&r.nodeType!==9);return r}};NL(["Width","Height"],function(e){au["doc".concat(e)]=function(t){var r=t.document;return Math.max(r.documentElement["scroll".concat(e)],r.body["scroll".concat(e)],au["viewport".concat(e)](r))},au["viewport".concat(e)]=function(t){var r="client".concat(e),n=t.document,i=n.body,o=n.documentElement,s=o[r];return n.compatMode==="CSS1Compat"&&s||i&&i[r]||s}});function L5(e,t,r){var n=r;if(FL(e))return t==="width"?au.viewportWidth(e):au.viewportHeight(e);if(e.nodeType===9)return t==="width"?au.docWidth(e):au.docHeight(e);var i=t==="width"?["Left","Right"]:["Top","Bottom"],o=Math.floor(t==="width"?e.getBoundingClientRect().width:e.getBoundingClientRect().height),s=xH(e),a=0;(o==null||o<=0)&&(o=void 0,a=xb(e,t),(a==null||Number(a)<0)&&(a=e.style[t]||0),a=Math.floor(parseFloat(a))||0),n===void 0&&(n=s?WE:UE);var h=o!==void 0||s,p=o||a;return n===UE?h?p-S_(e,["border","padding"],i):a:h?n===WE?p:p+(n===Hde?-S_(e,["border"],i):S_(e,["margin"],i)):a+S_(e,jde.slice(n),i)}var Wde={position:"absolute",visibility:"hidden",display:"block"};function R5(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=t[0];return i.offsetWidth!==0?n=L5.apply(void 0,t):Ude(i,Wde,function(){n=L5.apply(void 0,t)}),n}NL(["width","height"],function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);au["outer".concat(t)]=function(n,i){return n&&R5(n,e,i?Gde:WE)};var r=e==="width"?["Left","Right"]:["Top","Bottom"];au[e]=function(n,i){var o=i;if(o!==void 0){if(n){var s=xH(n);return s&&(o+=S_(n,["padding","border"],r)),_g(n,e,o)}return}return n&&R5(n,e,UE)}});function wH(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}var Fr={getWindow:function(t){if(t&&t.document&&t.setTimeout)return t;var r=t.ownerDocument||t;return r.defaultView||r.parentWindow},getDocument:bH,offset:function(t,r,n){if(typeof r<"u")Vde(t,r,n||{});else return A0(t)},isWindow:FL,each:NL,css:_g,clone:function(t){var r,n={};for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);var i=t.overflow;if(i)for(r in t)t.hasOwnProperty(r)&&(n.overflow[r]=t.overflow[r]);return n},mix:wH,getWindowScrollLeft:function(t){return yH(t)},getWindowScrollTop:function(t){return _H(t)},merge:function(){for(var t={},r=0;r<arguments.length;r++)Fr.mix(t,r<0||arguments.length<=r?void 0:arguments[r]);return t},viewportWidth:0,viewportHeight:0};wH(Fr,au);var lM=Fr.getParent;function qE(e){if(Fr.isWindow(e)||e.nodeType===9)return null;var t=Fr.getDocument(e),r=t.body,n,i=Fr.css(e,"position"),o=i==="fixed"||i==="absolute";if(!o)return e.nodeName.toLowerCase()==="html"?null:lM(e);for(n=lM(e);n&&n!==r&&n.nodeType!==9;n=lM(n))if(i=Fr.css(n,"position"),i!=="static")return n;return null}var O5=Fr.getParent;function qde(e){if(Fr.isWindow(e)||e.nodeType===9)return!1;var t=Fr.getDocument(e),r=t.body,n=null;for(n=O5(e);n&&n!==r&&n!==t;n=O5(n)){var i=Fr.css(n,"position");if(i==="fixed")return!0}return!1}function VL(e,t){for(var r={left:0,right:1/0,top:0,bottom:1/0},n=qE(e),i=Fr.getDocument(e),o=i.defaultView||i.parentWindow,s=i.body,a=i.documentElement;n;){if((navigator.userAgent.indexOf("MSIE")===-1||n.clientWidth!==0)&&n!==s&&n!==a&&Fr.css(n,"overflow")!=="visible"){var h=Fr.offset(n);h.left+=n.clientLeft,h.top+=n.clientTop,r.top=Math.max(r.top,h.top),r.right=Math.min(r.right,h.left+n.clientWidth),r.bottom=Math.min(r.bottom,h.top+n.clientHeight),r.left=Math.max(r.left,h.left)}else if(n===s||n===a)break;n=qE(n)}var p=null;if(!Fr.isWindow(e)&&e.nodeType!==9){p=e.style.position;var m=Fr.css(e,"position");m==="absolute"&&(e.style.position="fixed")}var v=Fr.getWindowScrollLeft(o),b=Fr.getWindowScrollTop(o),x=Fr.viewportWidth(o),C=Fr.viewportHeight(o),I=a.scrollWidth,A=a.scrollHeight,R=window.getComputedStyle(s);if(R.overflowX==="hidden"&&(I=o.innerWidth),R.overflowY==="hidden"&&(A=o.innerHeight),e.style&&(e.style.position=p),t||qde(e))r.left=Math.max(r.left,v),r.top=Math.max(r.top,b),r.right=Math.min(r.right,v+x),r.bottom=Math.min(r.bottom,b+C);else{var k=Math.max(I,v+x);r.right=Math.min(r.right,k);var $=Math.max(A,b+C);r.bottom=Math.min(r.bottom,$)}return r.top>=0&&r.left>=0&&r.bottom>r.top&&r.right>r.left?r:null}function Zde(e,t,r,n){var i=Fr.clone(e),o={width:t.width,height:t.height};return n.adjustX&&i.left<r.left&&(i.left=r.left),n.resizeWidth&&i.left>=r.left&&i.left+o.width>r.right&&(o.width-=i.left+o.width-r.right),n.adjustX&&i.left+o.width>r.right&&(i.left=Math.max(r.right-o.width,r.left)),n.adjustY&&i.top<r.top&&(i.top=r.top),n.resizeHeight&&i.top>=r.top&&i.top+o.height>r.bottom&&(o.height-=i.top+o.height-r.bottom),n.adjustY&&i.top+o.height>r.bottom&&(i.top=Math.max(r.bottom-o.height,r.top)),Fr.mix(i,o)}function jL(e){var t,r,n;if(!Fr.isWindow(e)&&e.nodeType!==9)t=Fr.offset(e),r=Fr.outerWidth(e),n=Fr.outerHeight(e);else{var i=Fr.getWindow(e);t={left:Fr.getWindowScrollLeft(i),top:Fr.getWindowScrollTop(i)},r=Fr.viewportWidth(i),n=Fr.viewportHeight(i)}return t.width=r,t.height=n,t}function k5(e,t){var r=t.charAt(0),n=t.charAt(1),i=e.width,o=e.height,s=e.left,a=e.top;return r==="c"?a+=o/2:r==="b"&&(a+=o),n==="c"?s+=i/2:n==="r"&&(s+=i),{left:s,top:a}}function Rx(e,t,r,n,i){var o=k5(t,r[1]),s=k5(e,r[0]),a=[s.left-o.left,s.top-o.top];return{left:Math.round(e.left-a[0]+n[0]-i[0]),top:Math.round(e.top-a[1]+n[1]-i[1])}}function $5(e,t,r){return e.left<r.left||e.left+t.width>r.right}function z5(e,t,r){return e.top<r.top||e.top+t.height>r.bottom}function Xde(e,t,r){return e.left>r.right||e.left+t.width<r.left}function Kde(e,t,r){return e.top>r.bottom||e.top+t.height<r.top}function Ox(e,t,r){var n=[];return Fr.each(e,function(i){n.push(i.replace(t,function(o){return r[o]}))}),n}function kx(e,t){return e[t]=-e[t],e}function B5(e,t){var r;return/%$/.test(e)?r=parseInt(e.substring(0,e.length-1),10)/100*t:r=parseInt(e,10),r||0}function F5(e,t){e[0]=B5(e[0],t.width),e[1]=B5(e[1],t.height)}function SH(e,t,r,n){var i=r.points,o=r.offset||[0,0],s=r.targetOffset||[0,0],a=r.overflow,h=r.source||e;o=[].concat(o),s=[].concat(s),a=a||{};var p={},m=0,v=!!(a&&a.alwaysByViewport),b=VL(h,v),x=jL(h);F5(o,x),F5(s,t);var C=Rx(x,t,i,o,s),I=Fr.merge(x,C);if(b&&(a.adjustX||a.adjustY)&&n){if(a.adjustX&&$5(C,x,b)){var A=Ox(i,/[lr]/gi,{l:"r",r:"l"}),R=kx(o,0),k=kx(s,0),$=Rx(x,t,A,R,k);Xde($,x,b)||(m=1,i=A,o=R,s=k)}if(a.adjustY&&z5(C,x,b)){var N=Ox(i,/[tb]/gi,{t:"b",b:"t"}),H=kx(o,1),W=kx(s,1),j=Rx(x,t,N,H,W);Kde(j,x,b)||(m=1,i=N,o=H,s=W)}m&&(C=Rx(x,t,i,o,s),Fr.mix(I,C));var X=$5(C,x,b),K=z5(C,x,b);if(X||K){var Q=i;X&&(Q=Ox(i,/[lr]/gi,{l:"r",r:"l"})),K&&(Q=Ox(i,/[tb]/gi,{t:"b",b:"t"})),i=Q,o=r.offset||[0,0],s=r.targetOffset||[0,0]}p.adjustX=a.adjustX&&X,p.adjustY=a.adjustY&&K,(p.adjustX||p.adjustY)&&(I=Zde(C,x,b,p))}return I.width!==x.width&&Fr.css(h,"width",Fr.width(h)+I.width-x.width),I.height!==x.height&&Fr.css(h,"height",Fr.height(h)+I.height-x.height),Fr.offset(h,{left:I.left,top:I.top},{useCssRight:r.useCssRight,useCssBottom:r.useCssBottom,useCssTransform:r.useCssTransform,ignoreShake:r.ignoreShake}),{points:i,offset:o,targetOffset:s,overflow:p}}function Yde(e,t){var r=VL(e,t),n=jL(e);return!r||n.left+n.width<=r.left||n.top+n.height<=r.top||n.left>=r.right||n.top>=r.bottom}function HL(e,t,r){var n=r.target||t,i=jL(n),o=!Yde(n,r.overflow&&r.overflow.alwaysByViewport);return SH(e,i,r,o)}HL.__getOffsetParent=qE;HL.__getVisibleRectForElement=VL;function Jde(e,t,r){var n,i,o=Fr.getDocument(e),s=o.defaultView||o.parentWindow,a=Fr.getWindowScrollLeft(s),h=Fr.getWindowScrollTop(s),p=Fr.viewportWidth(s),m=Fr.viewportHeight(s);"pageX"in t?n=t.pageX:n=a+t.clientX,"pageY"in t?i=t.pageY:i=h+t.clientY;var v={left:n,top:i,width:0,height:0},b=n>=0&&n<=a+p&&i>=0&&i<=h+m,x=[r.points[0],"cc"];return SH(e,v,M5(M5({},r),{},{points:x}),b)}function ka(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=e;if(Array.isArray(e)&&(i=lp(e)[0]),!i)return null;const o=ls(i,t,n);return o.props=r?ue(ue({},o.props),t):o.props,ML(typeof o.props.class!="object"),o}const TH=e=>(e||[]).some(t=>ea(t)?!(t.type===lo||t.type===pr&&!TH(t.children)):!0)?e:null;function Qde(e,t,r,n){var i;const o=(i=e[t])===null||i===void 0?void 0:i.call(e,r);return TH(o)?o:n?.()}const CH=(e=>{if(!e)return!1;if(e.offsetParent)return!0;if(e.getBBox){const t=e.getBBox();if(t.width||t.height)return!0}if(e.getBoundingClientRect){const t=e.getBoundingClientRect();if(t.width||t.height)return!0}return!1});function efe(e,t){return e===t?!0:!e||!t?!1:"pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t?e.clientX===t.clientX&&e.clientY===t.clientY:!1}function tfe(e,t){e!==document.activeElement&&Tf(t,e)&&typeof e.focus=="function"&&e.focus()}function N5(e,t){let r=null,n=null;function i(s){let[{target:a}]=s;if(!document.documentElement.contains(a))return;const{width:h,height:p}=a.getBoundingClientRect(),m=Math.floor(h),v=Math.floor(p);(r!==m||n!==v)&&Promise.resolve().then(()=>{t({width:m,height:v})}),r=m,n=v}const o=new _7(i);return e&&o.observe(e),()=>{o.disconnect()}}const rfe=((e,t)=>{let r=!1,n=null;function i(){clearTimeout(n)}function o(s){if(!r||s===!0){if(e()===!1)return;r=!0,i(),n=setTimeout(()=>{r=!1},t.value)}else i(),n=setTimeout(()=>{r=!1,o()},t.value)}return[o,()=>{r=!1,i()}]});function nfe(){this.__data__=[],this.size=0}function GL(e,t){return e===t||e!==e&&t!==t}function nT(e,t){for(var r=e.length;r--;)if(GL(e[r][0],t))return r;return-1}var ife=Array.prototype,ofe=ife.splice;function afe(e){var t=this.__data__,r=nT(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():ofe.call(t,r,1),--this.size,!0}function sfe(e){var t=this.__data__,r=nT(t,e);return r<0?void 0:t[r][1]}function lfe(e){return nT(this.__data__,e)>-1}function ufe(e,t){var r=this.__data__,n=nT(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function Ec(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ec.prototype.clear=nfe;Ec.prototype.delete=afe;Ec.prototype.get=sfe;Ec.prototype.has=lfe;Ec.prototype.set=ufe;function cfe(){this.__data__=new Ec,this.size=0}function hfe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function dfe(e){return this.__data__.get(e)}function ffe(e){return this.__data__.has(e)}var PH=typeof global=="object"&&global&&global.Object===Object&&global,pfe=typeof self=="object"&&self&&self.Object===Object&&self,Ac=PH||pfe||Function("return this")(),mu=Ac.Symbol,MH=Object.prototype,mfe=MH.hasOwnProperty,gfe=MH.toString,qy=mu?mu.toStringTag:void 0;function vfe(e){var t=mfe.call(e,qy),r=e[qy];try{e[qy]=void 0;var n=!0}catch{}var i=gfe.call(e);return n&&(t?e[qy]=r:delete e[qy]),i}var yfe=Object.prototype,_fe=yfe.toString;function bfe(e){return _fe.call(e)}var xfe="[object Null]",wfe="[object Undefined]",V5=mu?mu.toStringTag:void 0;function cp(e){return e==null?e===void 0?wfe:xfe:V5&&V5 in Object(e)?vfe(e):bfe(e)}function RS(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Sfe="[object AsyncFunction]",Tfe="[object Function]",Cfe="[object GeneratorFunction]",Pfe="[object Proxy]";function IH(e){if(!RS(e))return!1;var t=cp(e);return t==Tfe||t==Cfe||t==Sfe||t==Pfe}var uM=Ac["__core-js_shared__"],j5=(function(){var e=/[^.]+$/.exec(uM&&uM.keys&&uM.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function Mfe(e){return!!j5&&j5 in e}var Ife=Function.prototype,Efe=Ife.toString;function hp(e){if(e!=null){try{return Efe.call(e)}catch{}try{return e+""}catch{}}return""}var Afe=/[\\^$.*+?()[\]{}|]/g,Dfe=/^\[object .+?Constructor\]$/,Lfe=Function.prototype,Rfe=Object.prototype,Ofe=Lfe.toString,kfe=Rfe.hasOwnProperty,$fe=RegExp("^"+Ofe.call(kfe).replace(Afe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zfe(e){if(!RS(e)||Mfe(e))return!1;var t=IH(e)?$fe:Dfe;return t.test(hp(e))}function Bfe(e,t){return e?.[t]}function dp(e,t){var r=Bfe(e,t);return zfe(r)?r:void 0}var D0=dp(Ac,"Map"),L0=dp(Object,"create");function Ffe(){this.__data__=L0?L0(null):{},this.size=0}function Nfe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Vfe="__lodash_hash_undefined__",jfe=Object.prototype,Hfe=jfe.hasOwnProperty;function Gfe(e){var t=this.__data__;if(L0){var r=t[e];return r===Vfe?void 0:r}return Hfe.call(t,e)?t[e]:void 0}var Ufe=Object.prototype,Wfe=Ufe.hasOwnProperty;function qfe(e){var t=this.__data__;return L0?t[e]!==void 0:Wfe.call(t,e)}var Zfe="__lodash_hash_undefined__";function Xfe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=L0&&t===void 0?Zfe:t,this}function Jf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Jf.prototype.clear=Ffe;Jf.prototype.delete=Nfe;Jf.prototype.get=Gfe;Jf.prototype.has=qfe;Jf.prototype.set=Xfe;function Kfe(){this.size=0,this.__data__={hash:new Jf,map:new(D0||Ec),string:new Jf}}function Yfe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function iT(e,t){var r=e.__data__;return Yfe(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Jfe(e){var t=iT(this,e).delete(e);return this.size-=t?1:0,t}function Qfe(e){return iT(this,e).get(e)}function epe(e){return iT(this,e).has(e)}function tpe(e,t){var r=iT(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function Dc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Dc.prototype.clear=Kfe;Dc.prototype.delete=Jfe;Dc.prototype.get=Qfe;Dc.prototype.has=epe;Dc.prototype.set=tpe;var rpe=200;function npe(e,t){var r=this.__data__;if(r instanceof Ec){var n=r.__data__;if(!D0||n.length<rpe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Dc(n)}return r.set(e,t),this.size=r.size,this}function zh(e){var t=this.__data__=new Ec(e);this.size=t.size}zh.prototype.clear=cfe;zh.prototype.delete=hfe;zh.prototype.get=dfe;zh.prototype.has=ffe;zh.prototype.set=npe;var ipe="__lodash_hash_undefined__";function ope(e){return this.__data__.set(e,ipe),this}function ape(e){return this.__data__.has(e)}function R0(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Dc;++t<r;)this.add(e[t])}R0.prototype.add=R0.prototype.push=ope;R0.prototype.has=ape;function spe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function EH(e,t){return e.has(t)}var lpe=1,upe=2;function AH(e,t,r,n,i,o){var s=r&lpe,a=e.length,h=t.length;if(a!=h&&!(s&&h>a))return!1;var p=o.get(e),m=o.get(t);if(p&&m)return p==t&&m==e;var v=-1,b=!0,x=r&upe?new R0:void 0;for(o.set(e,t),o.set(t,e);++v<a;){var C=e[v],I=t[v];if(n)var A=s?n(I,C,v,t,e,o):n(C,I,v,e,t,o);if(A!==void 0){if(A)continue;b=!1;break}if(x){if(!spe(t,function(R,k){if(!EH(x,k)&&(C===R||i(C,R,r,n,o)))return x.push(k)})){b=!1;break}}else if(!(C===I||i(C,I,r,n,o))){b=!1;break}}return o.delete(e),o.delete(t),b}var H5=Ac.Uint8Array;function cpe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}function UL(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var hpe=1,dpe=2,fpe="[object Boolean]",ppe="[object Date]",mpe="[object Error]",gpe="[object Map]",vpe="[object Number]",ype="[object RegExp]",_pe="[object Set]",bpe="[object String]",xpe="[object Symbol]",wpe="[object ArrayBuffer]",Spe="[object DataView]",G5=mu?mu.prototype:void 0,cM=G5?G5.valueOf:void 0;function Tpe(e,t,r,n,i,o,s){switch(r){case Spe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case wpe:return!(e.byteLength!=t.byteLength||!o(new H5(e),new H5(t)));case fpe:case ppe:case vpe:return GL(+e,+t);case mpe:return e.name==t.name&&e.message==t.message;case ype:case bpe:return e==t+"";case gpe:var a=cpe;case _pe:var h=n&hpe;if(a||(a=UL),e.size!=t.size&&!h)return!1;var p=s.get(e);if(p)return p==t;n|=dpe,s.set(e,t);var m=AH(a(e),a(t),n,i,o,s);return s.delete(e),m;case xpe:if(cM)return cM.call(e)==cM.call(t)}return!1}function DH(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var gu=Array.isArray;function Cpe(e,t,r){var n=t(e);return gu(e)?n:DH(n,r(e))}function Ppe(e,t){for(var r=-1,n=e==null?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o}function Mpe(){return[]}var Ipe=Object.prototype,Epe=Ipe.propertyIsEnumerable,U5=Object.getOwnPropertySymbols,Ape=U5?function(e){return e==null?[]:(e=Object(e),Ppe(U5(e),function(t){return Epe.call(e,t)}))}:Mpe;function Dpe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Qf(e){return e!=null&&typeof e=="object"}var Lpe="[object Arguments]";function W5(e){return Qf(e)&&cp(e)==Lpe}var LH=Object.prototype,Rpe=LH.hasOwnProperty,Ope=LH.propertyIsEnumerable,oT=W5((function(){return arguments})())?W5:function(e){return Qf(e)&&Rpe.call(e,"callee")&&!Ope.call(e,"callee")};function kpe(){return!1}var RH=typeof exports=="object"&&exports&&!exports.nodeType&&exports,q5=RH&&typeof module=="object"&&module&&!module.nodeType&&module,$pe=q5&&q5.exports===RH,Z5=$pe?Ac.Buffer:void 0,zpe=Z5?Z5.isBuffer:void 0,OS=zpe||kpe,Bpe=9007199254740991,Fpe=/^(?:0|[1-9]\d*)$/;function WL(e,t){var r=typeof e;return t=t??Bpe,!!t&&(r=="number"||r!="symbol"&&Fpe.test(e))&&e>-1&&e%1==0&&e<t}var Npe=9007199254740991;function qL(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Npe}var Vpe="[object Arguments]",jpe="[object Array]",Hpe="[object Boolean]",Gpe="[object Date]",Upe="[object Error]",Wpe="[object Function]",qpe="[object Map]",Zpe="[object Number]",Xpe="[object Object]",Kpe="[object RegExp]",Ype="[object Set]",Jpe="[object String]",Qpe="[object WeakMap]",eme="[object ArrayBuffer]",tme="[object DataView]",rme="[object Float32Array]",nme="[object Float64Array]",ime="[object Int8Array]",ome="[object Int16Array]",ame="[object Int32Array]",sme="[object Uint8Array]",lme="[object Uint8ClampedArray]",ume="[object Uint16Array]",cme="[object Uint32Array]",li={};li[rme]=li[nme]=li[ime]=li[ome]=li[ame]=li[sme]=li[lme]=li[ume]=li[cme]=!0;li[Vpe]=li[jpe]=li[eme]=li[Hpe]=li[tme]=li[Gpe]=li[Upe]=li[Wpe]=li[qpe]=li[Zpe]=li[Xpe]=li[Kpe]=li[Ype]=li[Jpe]=li[Qpe]=!1;function hme(e){return Qf(e)&&qL(e.length)&&!!li[cp(e)]}function dme(e){return function(t){return e(t)}}var OH=typeof exports=="object"&&exports&&!exports.nodeType&&exports,W_=OH&&typeof module=="object"&&module&&!module.nodeType&&module,fme=W_&&W_.exports===OH,hM=fme&&PH.process,X5=(function(){try{var e=W_&&W_.require&&W_.require("util").types;return e||hM&&hM.binding&&hM.binding("util")}catch{}})(),K5=X5&&X5.isTypedArray,ZL=K5?dme(K5):hme,pme=Object.prototype,mme=pme.hasOwnProperty;function gme(e,t){var r=gu(e),n=!r&&oT(e),i=!r&&!n&&OS(e),o=!r&&!n&&!i&&ZL(e),s=r||n||i||o,a=s?Dpe(e.length,String):[],h=a.length;for(var p in e)mme.call(e,p)&&!(s&&(p=="length"||i&&(p=="offset"||p=="parent")||o&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||WL(p,h)))&&a.push(p);return a}var vme=Object.prototype;function kH(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||vme;return e===r}function $H(e,t){return function(r){return e(t(r))}}var yme=$H(Object.keys,Object),_me=Object.prototype,bme=_me.hasOwnProperty;function zH(e){if(!kH(e))return yme(e);var t=[];for(var r in Object(e))bme.call(e,r)&&r!="constructor"&&t.push(r);return t}function BH(e){return e!=null&&qL(e.length)&&!IH(e)}function xme(e){return BH(e)?gme(e):zH(e)}function Y5(e){return Cpe(e,xme,Ape)}var wme=1,Sme=Object.prototype,Tme=Sme.hasOwnProperty;function Cme(e,t,r,n,i,o){var s=r&wme,a=Y5(e),h=a.length,p=Y5(t),m=p.length;if(h!=m&&!s)return!1;for(var v=h;v--;){var b=a[v];if(!(s?b in t:Tme.call(t,b)))return!1}var x=o.get(e),C=o.get(t);if(x&&C)return x==t&&C==e;var I=!0;o.set(e,t),o.set(t,e);for(var A=s;++v<h;){b=a[v];var R=e[b],k=t[b];if(n)var $=s?n(k,R,b,t,e,o):n(R,k,b,e,t,o);if(!($===void 0?R===k||i(R,k,r,n,o):$)){I=!1;break}A||(A=b=="constructor")}if(I&&!A){var N=e.constructor,H=t.constructor;N!=H&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof H=="function"&&H instanceof H)&&(I=!1)}return o.delete(e),o.delete(t),I}var ZE=dp(Ac,"DataView"),XE=dp(Ac,"Promise"),bg=dp(Ac,"Set"),KE=dp(Ac,"WeakMap"),J5="[object Map]",Pme="[object Object]",Q5="[object Promise]",eB="[object Set]",tB="[object WeakMap]",rB="[object DataView]",Mme=hp(ZE),Ime=hp(D0),Eme=hp(XE),Ame=hp(bg),Dme=hp(KE),oc=cp;(ZE&&oc(new ZE(new ArrayBuffer(1)))!=rB||D0&&oc(new D0)!=J5||XE&&oc(XE.resolve())!=Q5||bg&&oc(new bg)!=eB||KE&&oc(new KE)!=tB)&&(oc=function(e){var t=cp(e),r=t==Pme?e.constructor:void 0,n=r?hp(r):"";if(n)switch(n){case Mme:return rB;case Ime:return J5;case Eme:return Q5;case Ame:return eB;case Dme:return tB}return t});var Lme=1,nB="[object Arguments]",iB="[object Array]",$x="[object Object]",Rme=Object.prototype,oB=Rme.hasOwnProperty;function Ome(e,t,r,n,i,o){var s=gu(e),a=gu(t),h=s?iB:oc(e),p=a?iB:oc(t);h=h==nB?$x:h,p=p==nB?$x:p;var m=h==$x,v=p==$x,b=h==p;if(b&&OS(e)){if(!OS(t))return!1;s=!0,m=!1}if(b&&!m)return o||(o=new zh),s||ZL(e)?AH(e,t,r,n,i,o):Tpe(e,t,h,r,n,i,o);if(!(r&Lme)){var x=m&&oB.call(e,"__wrapped__"),C=v&&oB.call(t,"__wrapped__");if(x||C){var I=x?e.value():e,A=C?t.value():t;return o||(o=new zh),i(I,A,r,n,o)}}return b?(o||(o=new zh),Cme(e,t,r,n,i,o)):!1}function FH(e,t,r,n,i){return e===t?!0:e==null||t==null||!Qf(e)&&!Qf(t)?e!==e&&t!==t:Ome(e,t,r,n,FH,i)}function kme(e,t){return FH(e,t)}const $me={align:Object,target:[Object,Function],onAlign:Function,monitorBufferTime:Number,monitorWindowResize:Boolean,disabled:Boolean};function aB(e){return typeof e!="function"?null:e()}function sB(e){return typeof e!="object"||!e?null:e}const zme=St({compatConfig:{MODE:3},name:"Align",props:$me,emits:["align"],setup(e,t){let{expose:r,slots:n}=t;const i=Vt({}),o=Vt(),[s,a]=rfe(()=>{const{disabled:b,target:x,align:C,onAlign:I}=e;if(!b&&x&&o.value){const A=o.value;let R;const k=aB(x),$=sB(x);i.value.element=k,i.value.point=$,i.value.align=C;const{activeElement:N}=document;return k&&CH(k)?R=HL(A,k,C):$&&(R=Jde(A,$,C)),tfe(N,A),I&&R&&I(A,R),!0}return!1},ve(()=>e.monitorBufferTime)),h=Vt({cancel:()=>{}}),p=Vt({cancel:()=>{}}),m=()=>{const b=e.target,x=aB(b),C=sB(b);o.value!==p.value.element&&(p.value.cancel(),p.value.element=o.value,p.value.cancel=N5(o.value,s)),(i.value.element!==x||!efe(i.value.point,C)||!kme(i.value.align,e.align))&&(s(),h.value.element!==x&&(h.value.cancel(),h.value.element=x,h.value.cancel=N5(x,s)))};Nr(()=>{_i(()=>{m()})}),Yh(()=>{_i(()=>{m()})}),Zt(()=>e.disabled,b=>{b?a():s()},{immediate:!0,flush:"post"});const v=Vt(null);return Zt(()=>e.monitorWindowResize,b=>{b?v.value||(v.value=w_(window,"resize",s)):v.value&&(v.value.remove(),v.value=null)},{flush:"post"}),_u(()=>{h.value.cancel(),p.value.cancel(),v.value&&v.value.remove(),a()}),r({forceAlign:()=>s(!0)}),()=>{const b=n?.default();return b?ka(b[0],{ref:o},!0,!0):null}}});T0("bottomLeft","bottomRight","topLeft","topRight");const Bme=e=>e!==void 0&&(e==="topLeft"||e==="topRight")?"slide-down":"slide-up",NH=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ue(e?{name:e,appear:!0,enterFromClass:`${e}-enter ${e}-enter-prepare ${e}-enter-start`,enterActiveClass:`${e}-enter ${e}-enter-prepare`,enterToClass:`${e}-enter ${e}-enter-active`,leaveFromClass:` ${e}-leave`,leaveActiveClass:`${e}-leave ${e}-leave-active`,leaveToClass:`${e}-leave ${e}-leave-active`}:{css:!1},t)},VH=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ue(e?{name:e,appear:!0,appearActiveClass:`${e}`,appearToClass:`${e}-appear ${e}-appear-active`,enterFromClass:`${e}-appear ${e}-enter ${e}-appear-prepare ${e}-enter-prepare`,enterActiveClass:`${e}`,enterToClass:`${e}-enter ${e}-appear ${e}-appear-active ${e}-enter-active`,leaveActiveClass:`${e} ${e}-leave`,leaveToClass:`${e}-leave-active`}:{css:!1},t)},jH=(e,t,r)=>r!==void 0?r:`${e}-${t}`,Fme=St({compatConfig:{MODE:3},name:"PopupInner",inheritAttrs:!1,props:zL,emits:["mouseenter","mouseleave","mousedown","touchstart","align"],setup(e,t){let{expose:r,attrs:n,slots:i}=t;const o=vt(),s=vt(),a=vt(),[h,p]=Cde(es(e,"stretch")),m=()=>{e.stretch&&p(e.getRootDomNode())},v=vt(!1);let b;Zt(()=>e.visible,W=>{clearTimeout(b),W?b=setTimeout(()=>{v.value=e.visible}):v.value=!1},{immediate:!0});const[x,C]=Tde(v,m),I=vt(),A=()=>e.point?e.point:e.getRootDomNode,R=()=>{var W;(W=o.value)===null||W===void 0||W.forceAlign()},k=(W,j)=>{var X;const K=e.getClassNameFromAlign(j),Q=a.value;a.value!==K&&(a.value=K),x.value==="align"&&(Q!==K?Promise.resolve().then(()=>{R()}):C(()=>{var oe;(oe=I.value)===null||oe===void 0||oe.call(I)}),(X=e.onAlign)===null||X===void 0||X.call(e,W,j))},$=ve(()=>{const W=typeof e.animation=="object"?e.animation:BL(e);return["onAfterEnter","onAfterLeave"].forEach(j=>{const X=W[j];W[j]=K=>{C(),x.value="stable",X?.(K)}}),W}),N=()=>new Promise(W=>{I.value=W});Zt([$,x],()=>{!$.value&&x.value==="motion"&&C()},{immediate:!0}),r({forceAlign:R,getElement:()=>s.value.$el||s.value});const H=ve(()=>{var W;return!(!((W=e.align)===null||W===void 0)&&W.points&&(x.value==="align"||x.value==="stable"))});return()=>{var W;const{zIndex:j,align:X,prefixCls:K,destroyPopupOnHide:Q,onMouseenter:oe,onMouseleave:he,onTouchstart:ye=()=>{},onMousedown:be}=e,ce=x.value,de=[ue(ue({},h.value),{zIndex:j,opacity:ce==="motion"||ce==="stable"||!v.value?null:0,pointerEvents:!v.value&&ce!=="stable"?"none":null}),n.style];let Oe=So((W=i.default)===null||W===void 0?void 0:W.call(i,{visible:e.visible}));Oe.length>1&&(Oe=ie("div",{class:`${K}-content`},[Oe]));const ze=ir(K,n.class,a.value,!e.arrow&&`${K}-arrow-hidden`),ct=v.value||!e.visible?NH($.value.name,$.value):{};return ie(Fa,wt(wt({ref:s},ct),{},{onBeforeEnter:N}),{default:()=>!Q||e.visible?Gh(ie(zme,{target:A(),key:"popup",ref:o,monitorWindowResize:!0,disabled:H.value,align:X,onAlign:k},{default:()=>ie("div",{class:ze,onMouseenter:oe,onMouseleave:he,onMousedown:q3(be,["capture"]),[da?"onTouchstartPassive":"onTouchstart"]:q3(ye,["capture"]),style:de},[Oe])}),[[Zf,v.value]]):null})}}}),Nme=St({compatConfig:{MODE:3},name:"Popup",inheritAttrs:!1,props:xde,setup(e,t){let{attrs:r,slots:n,expose:i}=t;const o=vt(!1),s=vt(!1),a=vt(),h=vt();return Zt([()=>e.visible,()=>e.mobile],()=>{o.value=e.visible,e.visible&&e.mobile&&(s.value=!0)},{immediate:!0,flush:"post"}),i({forceAlign:()=>{var p;(p=a.value)===null||p===void 0||p.forceAlign()},getElement:()=>{var p;return(p=a.value)===null||p===void 0?void 0:p.getElement()}}),()=>{const p=ue(ue(ue({},e),r),{visible:o.value}),m=s.value?ie(wde,wt(wt({},p),{},{mobile:e.mobile,ref:a}),{default:n.default}):ie(Fme,wt(wt({},p),{},{ref:a}),{default:n.default});return ie("div",{ref:h},[ie(mH,p,null),m])}}});function Vme(e,t,r){return r?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function lB(e,t,r){const n=e[t]||{};return ue(ue({},n),r)}function jme(e,t,r,n){const{points:i}=r,o=Object.keys(e);for(let s=0;s<o.length;s+=1){const a=o[s];if(Vme(e[a].points,i,n))return`${t}-placement-${a}`}return""}const Hme={methods:{setState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=typeof e=="function"?e(this.$data,this.$props):e;if(this.getDerivedStateFromProps){const n=this.getDerivedStateFromProps(rce(this),ue(ue({},this.$data),r));if(n===null)return;r=ue(ue({},r),n||{})}ue(this.$data,r),this._.isMounted&&this.$forceUpdate(),_i(()=>{t&&t()})},__emit(){const e=[].slice.call(arguments,0);let t=e[0];t=`on${t[0].toUpperCase()}${t.substring(1)}`;const r=this.$props[t]||this.$attrs[t];if(e.length&&r)if(Array.isArray(r))for(let n=0,i=r.length;n<i;n++)r[n](...e.slice(1));else r(...e.slice(1))}}},HH=Symbol("PortalContextKey"),GH=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inTriggerContext:!0};un(HH,{inTriggerContext:t.inTriggerContext,shouldRender:ve(()=>{const{sPopupVisible:r,popupRef:n,forceRender:i,autoDestroy:o}=e||{};let s=!1;return(r||n||i)&&(s=!0),!r&&o&&(s=!1),s})})},Gme=()=>{GH({},{inTriggerContext:!1});const e=Ir(HH,{shouldRender:ve(()=>!1),inTriggerContext:!1});return{shouldRender:ve(()=>e.shouldRender.value||e.inTriggerContext===!1)}},UH=St({compatConfig:{MODE:3},name:"Portal",inheritAttrs:!1,props:{getContainer:at.func.isRequired,didUpdate:Function},setup(e,t){let{slots:r}=t,n=!0,i;const{shouldRender:o}=Gme();function s(){o.value&&(i=e.getContainer())}VD(()=>{n=!1,s()}),Nr(()=>{i||s()});const a=Zt(o,()=>{o.value&&!i&&(i=e.getContainer()),i&&a()});return Yh(()=>{_i(()=>{var h;o.value&&((h=e.didUpdate)===null||h===void 0||h.call(e,e))})}),()=>{var h;return o.value?n?(h=r.default)===null||h===void 0?void 0:h.call(r):i?ie(BD,{to:i},r):null:null}}});let dM;function Ume(e){if(typeof document>"u")return 0;if(dM===void 0){const t=document.createElement("div");t.style.width="100%",t.style.height="200px";const r=document.createElement("div"),n=r.style;n.position="absolute",n.top="0",n.left="0",n.pointerEvents="none",n.visibility="hidden",n.width="200px",n.height="150px",n.overflow="hidden",r.appendChild(t),document.body.appendChild(r);const i=t.offsetWidth;r.style.overflow="scroll";let o=t.offsetWidth;i===o&&(o=r.clientWidth),document.body.removeChild(r),dM=i-o}return dM}const Wme=`vc-util-locker-${Date.now()}`;let uB=0;function qme(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}function Zme(e){const t=ve(()=>!!e&&!!e.value);uB+=1;const r=`${Wme}_${uB}`;Gn(n=>{if(Sl()){if(t.value){const i=Ume(),o=qme();M0(`
html body {
  overflow-y: hidden;
  ${o?`width: calc(100% - ${i}px);`:""}
}`,r)}else IS(r);n(()=>{IS(r)})}},{flush:"post"})}let Zd=0;const Gw=Sl(),cB=e=>{if(!Gw)return null;if(e){if(typeof e=="string")return document.querySelectorAll(e)[0];if(typeof e=="function")return e();if(typeof e=="object"&&e instanceof window.HTMLElement)return e}return document.body},Xme=St({compatConfig:{MODE:3},name:"PortalWrapper",inheritAttrs:!1,props:{wrapperClassName:String,forceRender:{type:Boolean,default:void 0},getContainer:at.any,visible:{type:Boolean,default:void 0},autoLock:Xi(),didUpdate:Function},setup(e,t){let{slots:r}=t;const n=vt(),i=vt(),o=vt(),s=vt(1),a=Sl()&&document.createElement("div"),h=()=>{var x,C;n.value===a&&((C=(x=n.value)===null||x===void 0?void 0:x.parentNode)===null||C===void 0||C.removeChild(n.value)),n.value=null};let p=null;const m=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)||n.value&&!n.value.parentNode?(p=cB(e.getContainer),p?(p.appendChild(n.value),!0):!1):!0},v=()=>Gw?(n.value||(n.value=a,m(!0)),b(),n.value):null,b=()=>{const{wrapperClassName:x}=e;n.value&&x&&x!==n.value.className&&(n.value.className=x)};return Yh(()=>{b(),m()}),Zme(ve(()=>e.autoLock&&e.visible&&Sl()&&(n.value===document.body||n.value===a))),Nr(()=>{let x=!1;Zt([()=>e.visible,()=>e.getContainer],(C,I)=>{let[A,R]=C,[k,$]=I;Gw&&(p=cB(e.getContainer),p===document.body&&(A&&!k?Zd+=1:x&&(Zd-=1))),x&&(typeof R=="function"&&typeof $=="function"?R.toString()!==$.toString():R!==$)&&h(),x=!0},{immediate:!0,flush:"post"}),_i(()=>{m()||(o.value=Pn(()=>{s.value+=1}))})}),hi(()=>{const{visible:x}=e;Gw&&p===document.body&&(Zd=x&&Zd?Zd-1:Zd),h(),Pn.cancel(o.value)}),()=>{const{forceRender:x,visible:C}=e;let I=null;const A={getOpenCount:()=>Zd,getContainer:v};return s.value&&(x||C||i.value)&&(I=ie(UH,{getContainer:v,ref:i,didUpdate:e.didUpdate},{default:()=>{var R;return(R=r.default)===null||R===void 0?void 0:R.call(r,A)}})),I}}}),Kme=["onClick","onMousedown","onTouchstart","onMouseenter","onMouseleave","onFocus","onBlur","onContextmenu"],aT=St({compatConfig:{MODE:3},name:"Trigger",mixins:[Hme],inheritAttrs:!1,props:_de(),setup(e){const t=ve(()=>{const{popupPlacement:i,popupAlign:o,builtinPlacements:s}=e;return i&&s?lB(s,i,o):o}),r=vt(null),n=i=>{r.value=i};return{vcTriggerContext:Ir("vcTriggerContext",{}),popupRef:r,setPopupRef:n,triggerRef:vt(null),align:t,focusTime:null,clickOutsideHandler:null,contextmenuOutsideHandler1:null,contextmenuOutsideHandler2:null,touchOutsideHandler:null,attachId:null,delayTimer:null,hasPopupMouseDown:!1,preClickTime:null,preTouchTime:null,mouseDownTimeout:null,childOriginEvents:{}}},data(){const e=this.$props;let t;return this.popupVisible!==void 0?t=!!e.popupVisible:t=!!e.defaultPopupVisible,Kme.forEach(r=>{this[`fire${r}`]=n=>{this.fireEvents(r,n)}}),{prevPopupVisible:t,sPopupVisible:t,point:null}},watch:{popupVisible(e){e!==void 0&&(this.prevPopupVisible=this.sPopupVisible,this.sPopupVisible=e)}},created(){un("vcTriggerContext",{onPopupMouseDown:this.onPopupMouseDown,onPopupMouseenter:this.onPopupMouseenter,onPopupMouseleave:this.onPopupMouseleave}),GH(this)},deactivated(){this.setPopupVisible(!1)},mounted(){this.$nextTick(()=>{this.updatedCal()})},updated(){this.$nextTick(()=>{this.updatedCal()})},beforeUnmount(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),Pn.cancel(this.attachId)},methods:{updatedCal(){const e=this.$props;if(this.$data.sPopupVisible){let r;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextmenuToShow())&&(r=e.getDocument(this.getRootDomNode()),this.clickOutsideHandler=w_(r,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(r=r||e.getDocument(this.getRootDomNode()),this.touchOutsideHandler=w_(r,"touchstart",this.onDocumentClick,da?{passive:!1}:!1)),!this.contextmenuOutsideHandler1&&this.isContextmenuToShow()&&(r=r||e.getDocument(this.getRootDomNode()),this.contextmenuOutsideHandler1=w_(r,"scroll",this.onContextmenuClose)),!this.contextmenuOutsideHandler2&&this.isContextmenuToShow()&&(this.contextmenuOutsideHandler2=w_(window,"blur",this.onContextmenuClose))}else this.clearOutsideHandler()},onMouseenter(e){const{mouseEnterDelay:t}=this.$props;this.fireEvents("onMouseenter",e),this.delaySetPopupVisible(!0,t,t?null:e)},onMouseMove(e){this.fireEvents("onMousemove",e),this.setPoint(e)},onMouseleave(e){this.fireEvents("onMouseleave",e),this.delaySetPopupVisible(!1,this.$props.mouseLeaveDelay)},onPopupMouseenter(){const{vcTriggerContext:e={}}=this;e.onPopupMouseenter&&e.onPopupMouseenter(),this.clearDelayTimer()},onPopupMouseleave(e){var t;if(e&&e.relatedTarget&&!e.relatedTarget.setTimeout&&Tf((t=this.popupRef)===null||t===void 0?void 0:t.getElement(),e.relatedTarget))return;this.isMouseLeaveToHide()&&this.delaySetPopupVisible(!1,this.$props.mouseLeaveDelay);const{vcTriggerContext:r={}}=this;r.onPopupMouseleave&&r.onPopupMouseleave(e)},onFocus(e){this.fireEvents("onFocus",e),this.clearDelayTimer(),this.isFocusToShow()&&(this.focusTime=Date.now(),this.delaySetPopupVisible(!0,this.$props.focusDelay))},onMousedown(e){this.fireEvents("onMousedown",e),this.preClickTime=Date.now()},onTouchstart(e){this.fireEvents("onTouchstart",e),this.preTouchTime=Date.now()},onBlur(e){Tf(e.target,e.relatedTarget||document.activeElement)||(this.fireEvents("onBlur",e),this.clearDelayTimer(),this.isBlurToHide()&&this.delaySetPopupVisible(!1,this.$props.blurDelay))},onContextmenu(e){e.preventDefault(),this.fireEvents("onContextmenu",e),this.setPopupVisible(!0,e)},onContextmenuClose(){this.isContextmenuToShow()&&this.close()},onClick(e){if(this.fireEvents("onClick",e),this.focusTime){let r;if(this.preClickTime&&this.preTouchTime?r=Math.min(this.preClickTime,this.preTouchTime):this.preClickTime?r=this.preClickTime:this.preTouchTime&&(r=this.preTouchTime),Math.abs(r-this.focusTime)<20)return;this.focusTime=0}this.preClickTime=0,this.preTouchTime=0,this.isClickToShow()&&(this.isClickToHide()||this.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault(),e&&e.domEvent&&e.domEvent.preventDefault();const t=!this.$data.sPopupVisible;(this.isClickToHide()&&!t||t&&this.isClickToShow())&&this.setPopupVisible(!this.$data.sPopupVisible,e)},onPopupMouseDown(){const{vcTriggerContext:e={}}=this;this.hasPopupMouseDown=!0,clearTimeout(this.mouseDownTimeout),this.mouseDownTimeout=setTimeout(()=>{this.hasPopupMouseDown=!1},0),e.onPopupMouseDown&&e.onPopupMouseDown(...arguments)},onDocumentClick(e){if(this.$props.mask&&!this.$props.maskClosable)return;const t=e.target,r=this.getRootDomNode(),n=this.getPopupDomNode();(!Tf(r,t)||this.isContextMenuOnly())&&!Tf(n,t)&&!this.hasPopupMouseDown&&this.delaySetPopupVisible(!1,.1)},getPopupDomNode(){var e;return((e=this.popupRef)===null||e===void 0?void 0:e.getElement())||null},getRootDomNode(){var e,t,r,n;const{getTriggerDOMNode:i}=this.$props;if(i){const o=((t=(e=this.triggerRef)===null||e===void 0?void 0:e.$el)===null||t===void 0?void 0:t.nodeName)==="#comment"?null:Mh(this.triggerRef);return Mh(i(o))}try{const o=((n=(r=this.triggerRef)===null||r===void 0?void 0:r.$el)===null||n===void 0?void 0:n.nodeName)==="#comment"?null:Mh(this.triggerRef);if(o)return o}catch{}return Mh(this)},handleGetPopupClassFromAlign(e){const t=[],r=this.$props,{popupPlacement:n,builtinPlacements:i,prefixCls:o,alignPoint:s,getPopupClassNameFromAlign:a}=r;return n&&i&&t.push(jme(i,o,e,s)),a&&t.push(a(e)),t.join(" ")},getPopupAlign(){const e=this.$props,{popupPlacement:t,popupAlign:r,builtinPlacements:n}=e;return t&&n?lB(n,t,r):r},getComponent(){const e={};this.isMouseEnterToShow()&&(e.onMouseenter=this.onPopupMouseenter),this.isMouseLeaveToHide()&&(e.onMouseleave=this.onPopupMouseleave),e.onMousedown=this.onPopupMouseDown,e[da?"onTouchstartPassive":"onTouchstart"]=this.onPopupMouseDown;const{handleGetPopupClassFromAlign:t,getRootDomNode:r,$attrs:n}=this,{prefixCls:i,destroyPopupOnHide:o,popupClassName:s,popupAnimation:a,popupTransitionName:h,popupStyle:p,mask:m,maskAnimation:v,maskTransitionName:b,zIndex:x,stretch:C,alignPoint:I,mobile:A,arrow:R,forceRender:k}=this.$props,{sPopupVisible:$,point:N}=this.$data,H=ue(ue({prefixCls:i,arrow:R,destroyPopupOnHide:o,visible:$,point:I?N:null,align:this.align,animation:a,getClassNameFromAlign:t,stretch:C,getRootDomNode:r,mask:m,zIndex:x,transitionName:h,maskAnimation:v,maskTransitionName:b,class:s,style:p,onAlign:n.onPopupAlign||pH},e),{ref:this.setPopupRef,mobile:A,forceRender:k});return ie(Nme,H,{default:this.$slots.popup||(()=>nce(this,"popup"))})},attachParent(e){Pn.cancel(this.attachId);const{getPopupContainer:t,getDocument:r}=this.$props,n=this.getRootDomNode();let i;t?(n||t.length===0)&&(i=t(n)):i=r(this.getRootDomNode()).body,i?i.appendChild(e):this.attachId=Pn(()=>{this.attachParent(e)})},getContainer(){const{$props:e}=this,{getDocument:t}=e,r=t(this.getRootDomNode()).createElement("div");return r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.width="100%",this.attachParent(r),r},setPopupVisible(e,t){const{alignPoint:r,sPopupVisible:n,onPopupVisibleChange:i}=this;this.clearDelayTimer(),n!==e&&(ece(this,"popupVisible")||this.setState({sPopupVisible:e,prevPopupVisible:n}),i&&i(e)),r&&t&&e&&this.setPoint(t)},setPoint(e){const{alignPoint:t}=this.$props;!t||!e||this.setState({point:{pageX:e.pageX,pageY:e.pageY}})},handlePortalUpdate(){this.prevPopupVisible!==this.sPopupVisible&&this.afterPopupVisibleChange(this.sPopupVisible)},delaySetPopupVisible(e,t,r){const n=t*1e3;if(this.clearDelayTimer(),n){const i=r?{pageX:r.pageX,pageY:r.pageY}:null;this.delayTimer=setTimeout(()=>{this.setPopupVisible(e,i),this.clearDelayTimer()},n)}else this.setPopupVisible(e,r)},clearDelayTimer(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},clearOutsideHandler(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextmenuOutsideHandler1&&(this.contextmenuOutsideHandler1.remove(),this.contextmenuOutsideHandler1=null),this.contextmenuOutsideHandler2&&(this.contextmenuOutsideHandler2.remove(),this.contextmenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)},createTwoChains(e){let t=()=>{};const r=Qz(this);return this.childOriginEvents[e]&&r[e]?this[`fire${e}`]:(t=this.childOriginEvents[e]||r[e]||t,t)},isClickToShow(){const{action:e,showAction:t}=this.$props;return e.indexOf("click")!==-1||t.indexOf("click")!==-1},isContextMenuOnly(){const{action:e}=this.$props;return e==="contextmenu"||e.length===1&&e[0]==="contextmenu"},isContextmenuToShow(){const{action:e,showAction:t}=this.$props;return e.indexOf("contextmenu")!==-1||t.indexOf("contextmenu")!==-1},isClickToHide(){const{action:e,hideAction:t}=this.$props;return e.indexOf("click")!==-1||t.indexOf("click")!==-1},isMouseEnterToShow(){const{action:e,showAction:t}=this.$props;return e.indexOf("hover")!==-1||t.indexOf("mouseenter")!==-1},isMouseLeaveToHide(){const{action:e,hideAction:t}=this.$props;return e.indexOf("hover")!==-1||t.indexOf("mouseleave")!==-1},isFocusToShow(){const{action:e,showAction:t}=this.$props;return e.indexOf("focus")!==-1||t.indexOf("focus")!==-1},isBlurToHide(){const{action:e,hideAction:t}=this.$props;return e.indexOf("focus")!==-1||t.indexOf("blur")!==-1},forcePopupAlign(){var e;this.$data.sPopupVisible&&((e=this.popupRef)===null||e===void 0||e.forceAlign())},fireEvents(e,t){this.childOriginEvents[e]&&this.childOriginEvents[e](t);const r=this.$props[e]||this.$attrs[e];r&&r(t)},close(){this.setPopupVisible(!1)}},render(){const{$attrs:e}=this,t=lp(tce(this)),{alignPoint:r,getPopupContainer:n}=this.$props,i=t[0];this.childOriginEvents=Qz(i);const o={key:"trigger"};this.isContextmenuToShow()?o.onContextmenu=this.onContextmenu:o.onContextmenu=this.createTwoChains("onContextmenu"),this.isClickToHide()||this.isClickToShow()?(o.onClick=this.onClick,o.onMousedown=this.onMousedown,o[da?"onTouchstartPassive":"onTouchstart"]=this.onTouchstart):(o.onClick=this.createTwoChains("onClick"),o.onMousedown=this.createTwoChains("onMousedown"),o[da?"onTouchstartPassive":"onTouchstart"]=this.createTwoChains("onTouchstart")),this.isMouseEnterToShow()?(o.onMouseenter=this.onMouseenter,r&&(o.onMousemove=this.onMouseMove)):o.onMouseenter=this.createTwoChains("onMouseenter"),this.isMouseLeaveToHide()?o.onMouseleave=this.onMouseleave:o.onMouseleave=this.createTwoChains("onMouseleave"),this.isFocusToShow()||this.isBlurToHide()?(o.onFocus=this.onFocus,o.onBlur=this.onBlur):(o.onFocus=this.createTwoChains("onFocus"),o.onBlur=p=>{p&&(!p.relatedTarget||!Tf(p.target,p.relatedTarget))&&this.createTwoChains("onBlur")(p)});const s=ir(i&&i.props&&i.props.class,e.class);s&&(o.class=s);const a=ka(i,ue(ue({},o),{ref:"triggerRef"}),!0,!0),h=ie(Xme,{key:"portal",getContainer:n&&(()=>n(this.getRootDomNode())),didUpdate:this.handlePortalUpdate,visible:this.$data.sPopupVisible},{default:this.getComponent});return ie(pr,null,[a,h])}});var Yme=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Jme=e=>{const t=e===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}}}},Qme=St({name:"SelectTrigger",inheritAttrs:!1,props:{dropdownAlign:Object,visible:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},dropdownClassName:String,dropdownStyle:at.object,placement:String,empty:{type:Boolean,default:void 0},prefixCls:String,popupClassName:String,animation:String,transitionName:String,getPopupContainer:Function,dropdownRender:Function,containerWidth:Number,dropdownMatchSelectWidth:at.oneOfType([Number,Boolean]).def(!0),popupElement:at.any,direction:String,getTriggerDOMNode:Function,onPopupVisibleChange:Function,onPopupMouseEnter:Function,onPopupFocusin:Function,onPopupFocusout:Function},setup(e,t){let{slots:r,attrs:n,expose:i}=t;const o=ve(()=>{const{dropdownMatchSelectWidth:a}=e;return Jme(a)}),s=Vt();return i({getPopupElement:()=>s.value}),()=>{const a=ue(ue({},e),n),{empty:h=!1}=a,p=Yme(a,["empty"]),{visible:m,dropdownAlign:v,prefixCls:b,popupElement:x,dropdownClassName:C,dropdownStyle:I,direction:A="ltr",placement:R,dropdownMatchSelectWidth:k,containerWidth:$,dropdownRender:N,animation:H,transitionName:W,getPopupContainer:j,getTriggerDOMNode:X,onPopupVisibleChange:K,onPopupMouseEnter:Q,onPopupFocusin:oe,onPopupFocusout:he}=p,ye=`${b}-dropdown`;let be=x;N&&(be=N({menuNode:x,props:e}));const ce=H?`${ye}-${H}`:W,de=ue({minWidth:`${$}px`},I);return typeof k=="number"?de.width=`${k}px`:k&&(de.width=`${$}px`),ie(aT,wt(wt({},e),{},{showAction:K?["click"]:[],hideAction:K?["click"]:[],popupPlacement:R||(A==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:o.value,prefixCls:ye,popupTransitionName:ce,popupAlign:v,popupVisible:m,getPopupContainer:j,popupClassName:ir(C,{[`${ye}-empty`]:h}),popupStyle:de,getTriggerDOMNode:X,onPopupVisibleChange:K}),{default:r.default,popup:()=>ie("div",{ref:s,onMouseenter:Q,onFocusin:oe,onFocusout:he},[be])})}}}),yr={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,CAPS_LOCK:20,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,N:78,P:80,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,EQUALS:187,WIN_KEY:224},ep=(e,t)=>{let{slots:r}=t;var n;const{class:i,customizeIcon:o,customizeIconProps:s,onMousedown:a,onClick:h}=e;let p;return typeof o=="function"?p=o(s):p=ea(o)?ls(o):o,ie("span",{class:i,onMousedown:m=>{m.preventDefault(),a&&a(m)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:h,"aria-hidden":!0},[p!==void 0?p:ie("span",{class:i.split(/\s+/).map(m=>`${m}-icon`)},[(n=r.default)===null||n===void 0?void 0:n.call(r)])])};ep.inheritAttrs=!1;ep.displayName="TransBtn";ep.props={class:String,customizeIcon:at.any,customizeIconProps:at.any,onMousedown:Function,onClick:Function};var ege=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const tge=St({compatConfig:{MODE:3},props:{disabled:at.looseBool,type:at.string,value:at.any,tag:{type:String,default:"input"},size:at.string,onChange:Function,onInput:Function,onBlur:Function,onFocus:Function,onKeydown:Function,onCompositionstart:Function,onCompositionend:Function,onKeyup:Function,onPaste:Function,onMousedown:Function},emits:["change","input","blur","keydown","focus","compositionstart","compositionend","keyup","paste","mousedown"],setup(e,t){let{expose:r}=t;const n=vt(null);return r({focus:()=>{n.value&&n.value.focus()},blur:()=>{n.value&&n.value.blur()},input:n,setSelectionRange:(h,p,m)=>{var v;(v=n.value)===null||v===void 0||v.setSelectionRange(h,p,m)},select:()=>{var h;(h=n.value)===null||h===void 0||h.select()},getSelectionStart:()=>{var h;return(h=n.value)===null||h===void 0?void 0:h.selectionStart},getSelectionEnd:()=>{var h;return(h=n.value)===null||h===void 0?void 0:h.selectionEnd},getScrollTop:()=>{var h;return(h=n.value)===null||h===void 0?void 0:h.scrollTop}}),()=>{const{tag:h,value:p}=e,m=ege(e,["tag","value"]);return ie(h,wt(wt({},m),{},{ref:n,value:p}),null)}}});function rge(e){return Object.keys(e).reduce((t,r)=>{const n=e[r];return typeof n>"u"||n===null||(t+=`${r}: ${e[r]};`),t},"")}var nge=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const ige=St({compatConfig:{MODE:3},inheritAttrs:!1,props:{disabled:at.looseBool,type:at.string,value:at.any,lazy:at.bool.def(!0),tag:{type:String,default:"input"},size:at.string,style:at.oneOfType([String,Object]),class:at.string},emits:["change","input","blur","keydown","focus","compositionstart","compositionend","keyup","paste","mousedown"],setup(e,t){let{emit:r,attrs:n,expose:i}=t;const o=vt(null),s=Vt(),a=Vt(!1);Zt([()=>e.value,a],()=>{a.value||(s.value=e.value)},{immediate:!0});const h=j=>{r("change",j)},p=j=>{a.value=!0,j.target.composing=!0,r("compositionstart",j)},m=j=>{a.value=!1,j.target.composing=!1,r("compositionend",j);const X=document.createEvent("HTMLEvents");X.initEvent("input",!0,!0),j.target.dispatchEvent(X),h(j)},v=j=>{if(a.value&&e.lazy){s.value=j.target.value;return}r("input",j)},b=j=>{r("blur",j)},x=j=>{r("focus",j)},C=()=>{o.value&&o.value.focus()},I=()=>{o.value&&o.value.blur()},A=j=>{r("keydown",j)},R=j=>{r("keyup",j)},k=(j,X,K)=>{var Q;(Q=o.value)===null||Q===void 0||Q.setSelectionRange(j,X,K)},$=()=>{var j;(j=o.value)===null||j===void 0||j.select()};i({focus:C,blur:I,input:ve(()=>{var j;return(j=o.value)===null||j===void 0?void 0:j.input}),setSelectionRange:k,select:$,getSelectionStart:()=>{var j;return(j=o.value)===null||j===void 0?void 0:j.getSelectionStart()},getSelectionEnd:()=>{var j;return(j=o.value)===null||j===void 0?void 0:j.getSelectionEnd()},getScrollTop:()=>{var j;return(j=o.value)===null||j===void 0?void 0:j.getScrollTop()}});const N=j=>{r("mousedown",j)},H=j=>{r("paste",j)},W=ve(()=>e.style&&typeof e.style!="string"?rge(e.style):e.style);return()=>{const{style:j,lazy:X}=e,K=nge(e,["style","lazy"]);return ie(tge,wt(wt(wt({},K),n),{},{style:W.value,onInput:v,onChange:h,onBlur:b,onFocus:x,ref:o,value:s.value,onCompositionstart:p,onCompositionend:m,onKeyup:R,onKeydown:A,onPaste:H,onMousedown:N}),null)}}}),oge={inputRef:at.any,prefixCls:String,id:String,inputElement:at.VueNode,disabled:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,editable:{type:Boolean,default:void 0},activeDescendantId:String,value:String,open:{type:Boolean,default:void 0},tabindex:at.oneOfType([at.number,at.string]),attrs:at.object,onKeydown:{type:Function},onMousedown:{type:Function},onChange:{type:Function},onPaste:{type:Function},onCompositionstart:{type:Function},onCompositionend:{type:Function},onFocus:{type:Function},onBlur:{type:Function}},WH=St({compatConfig:{MODE:3},name:"SelectInput",inheritAttrs:!1,props:oge,setup(e){let t=null;const r=Ir("VCSelectContainerEvent");return()=>{var n;const{prefixCls:i,id:o,inputElement:s,disabled:a,tabindex:h,autofocus:p,autocomplete:m,editable:v,activeDescendantId:b,value:x,onKeydown:C,onMousedown:I,onChange:A,onPaste:R,onCompositionstart:k,onCompositionend:$,onFocus:N,onBlur:H,open:W,inputRef:j,attrs:X}=e;let K=s||ie(ige,null,null);const Q=K.props||{},{onKeydown:oe,onInput:he,onFocus:ye,onBlur:be,onMousedown:ce,onCompositionstart:de,onCompositionend:Oe,style:ze}=Q;return K=ka(K,ue(ue(ue(ue(ue({type:"search"},Q),{id:o,ref:j,disabled:a,tabindex:h,lazy:!1,autocomplete:m||"off",autofocus:p,class:ir(`${i}-selection-search-input`,(n=K?.props)===null||n===void 0?void 0:n.class),role:"combobox","aria-expanded":W,"aria-haspopup":"listbox","aria-owns":`${o}_list`,"aria-autocomplete":"list","aria-controls":`${o}_list`,"aria-activedescendant":b}),X),{value:v?x:"",readonly:!v,unselectable:v?null:"on",style:ue(ue({},ze),{opacity:v?null:0}),onKeydown:De=>{C(De),oe&&oe(De)},onMousedown:De=>{I(De),ce&&ce(De)},onInput:De=>{A(De),he&&he(De)},onCompositionstart(De){k(De),de&&de(De)},onCompositionend(De){$(De),Oe&&Oe(De)},onPaste:R,onFocus:function(){clearTimeout(t),ye&&ye(arguments.length<=0?void 0:arguments[0]),N&&N(arguments.length<=0?void 0:arguments[0]),r?.focus(arguments.length<=0?void 0:arguments[0])},onBlur:function(){for(var De=arguments.length,ct=new Array(De),Ke=0;Ke<De;Ke++)ct[Ke]=arguments[Ke];t=setTimeout(()=>{be&&be(ct[0]),H&&H(ct[0]),r?.blur(ct[0])},100)}}),K.type==="textarea"?{}:{type:"search"}),!0,!0),K}}}),age=`accept acceptcharset accesskey action allowfullscreen allowtransparency
alt async autocomplete autofocus autoplay capture cellpadding cellspacing challenge
charset checked classid classname colspan cols content contenteditable contextmenu
controls coords crossorigin data datetime default defer dir disabled download draggable
enctype form formaction formenctype formmethod formnovalidate formtarget frameborder
headers height hidden high href hreflang htmlfor for httpequiv icon id inputmode integrity
is keyparams keytype kind label lang list loop low manifest marginheight marginwidth max maxlength media
mediagroup method min minlength multiple muted name novalidate nonce open
optimum pattern placeholder poster preload radiogroup readonly rel required
reversed role rowspan rows sandbox scope scoped scrolling seamless selected
shape size sizes span spellcheck src srcdoc srclang srcset start step style
summary tabindex target title type usemap value width wmode wrap`,sge=`onCopy onCut onPaste onCompositionend onCompositionstart onCompositionupdate onKeydown
    onKeypress onKeyup onFocus onBlur onChange onInput onSubmit onClick onContextmenu onDoubleclick onDblclick
    onDrag onDragend onDragenter onDragexit onDragleave onDragover onDragstart onDrop onMousedown
    onMouseenter onMouseleave onMousemove onMouseout onMouseover onMouseup onSelect onTouchcancel
    onTouchend onTouchmove onTouchstart onTouchstartPassive onTouchmovePassive onScroll onWheel onAbort onCanplay onCanplaythrough
    onDurationchange onEmptied onEncrypted onEnded onError onLoadeddata onLoadedmetadata
    onLoadstart onPause onPlay onPlaying onProgress onRatechange onSeeked onSeeking onStalled onSuspend onTimeupdate onVolumechange onWaiting onLoad onError`,hB=`${age} ${sge}`.split(/[\s\n]+/),lge="aria-",uge="data-";function dB(e,t){return e.indexOf(t)===0}function XL(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r;t===!1?r={aria:!0,data:!0,attr:!0}:t===!0?r={aria:!0}:r=ue({},t);const n={};return Object.keys(e).forEach(i=>{(r.aria&&(i==="role"||dB(i,lge))||r.data&&dB(i,uge)||r.attr&&(hB.includes(i)||hB.includes(i.toLowerCase())))&&(n[i]=e[i])}),n}const qH=Symbol("OverflowContextProviderKey"),YE=St({compatConfig:{MODE:3},name:"OverflowContextProvider",inheritAttrs:!1,props:{value:{type:Object}},setup(e,t){let{slots:r}=t;return un(qH,ve(()=>e.value)),()=>{var n;return(n=r.default)===null||n===void 0?void 0:n.call(r)}}}),cge=()=>Ir(qH,ve(()=>null));var hge=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const wm=void 0,Uw=St({compatConfig:{MODE:3},name:"Item",props:{prefixCls:String,item:at.any,renderItem:Function,responsive:Boolean,itemKey:{type:[String,Number]},registerSize:Function,display:Boolean,order:Number,component:at.any,invalidate:Boolean},setup(e,t){let{slots:r,expose:n}=t;const i=ve(()=>e.responsive&&!e.display),o=Vt();n({itemNodeRef:o});function s(a){e.registerSize(e.itemKey,a)}return _u(()=>{s(null)}),()=>{var a;const{prefixCls:h,invalidate:p,item:m,renderItem:v,responsive:b,registerSize:x,itemKey:C,display:I,order:A,component:R="div"}=e,k=hge(e,["prefixCls","invalidate","item","renderItem","responsive","registerSize","itemKey","display","order","component"]),$=(a=r.default)===null||a===void 0?void 0:a.call(r),N=v&&m!==wm?v(m):$;let H;p||(H={opacity:i.value?0:1,height:i.value?0:wm,overflowY:i.value?"hidden":wm,order:b?A:wm,pointerEvents:i.value?"none":wm,position:i.value?"absolute":wm});const W={};return i.value&&(W["aria-hidden"]=!0),ie(S0,{disabled:!b,onResize:j=>{let{offsetWidth:X}=j;s(X)}},{default:()=>ie(R,wt(wt(wt({class:ir(!p&&h),style:H},W),k),{},{ref:o}),{default:()=>[N]})})}}});var fM=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const dge=St({compatConfig:{MODE:3},name:"RawItem",inheritAttrs:!1,props:{component:at.any,title:at.any,id:String,onMouseenter:{type:Function},onMouseleave:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},role:String,tabindex:Number},setup(e,t){let{slots:r,attrs:n}=t;const i=cge();return()=>{var o;if(!i.value){const{component:v="div"}=e,b=fM(e,["component"]);return ie(v,wt(wt({},b),n),{default:()=>[(o=r.default)===null||o===void 0?void 0:o.call(r)]})}const s=i.value,{className:a}=s,h=fM(s,["className"]),{class:p}=n,m=fM(n,["class"]);return ie(YE,{value:null},{default:()=>[ie(Uw,wt(wt(wt({class:ir(a,p)},h),m),e),r)]})}}});var fge=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const ZH="responsive",XH="invalidate";function pge(e){return`+ ${e.length} ...`}const mge=()=>({id:String,prefixCls:String,data:Array,itemKey:[String,Number,Function],itemWidth:{type:Number,default:10},renderItem:Function,renderRawItem:Function,maxCount:[Number,String],renderRest:Function,renderRawRest:Function,suffix:at.any,component:String,itemComponent:at.any,onVisibleChange:Function,ssr:String,onMousedown:Function,role:String}),mc=St({name:"Overflow",inheritAttrs:!1,props:mge(),emits:["visibleChange"],setup(e,t){let{attrs:r,emit:n,slots:i}=t;const o=ve(()=>e.ssr==="full"),s=vt(null),a=ve(()=>s.value||0),h=vt(new Map),p=vt(0),m=vt(0),v=vt(0),b=vt(null),x=vt(null),C=ve(()=>x.value===null&&o.value?Number.MAX_SAFE_INTEGER:x.value||0),I=vt(!1),A=ve(()=>`${e.prefixCls}-item`),R=ve(()=>Math.max(p.value,m.value)),k=ve(()=>!!(e.data.length&&e.maxCount===ZH)),$=ve(()=>e.maxCount===XH),N=ve(()=>k.value||typeof e.maxCount=="number"&&e.data.length>e.maxCount),H=ve(()=>{let ce=e.data;return k.value?s.value===null&&o.value?ce=e.data:ce=e.data.slice(0,Math.min(e.data.length,a.value/e.itemWidth)):typeof e.maxCount=="number"&&(ce=e.data.slice(0,e.maxCount)),ce}),W=ve(()=>k.value?e.data.slice(C.value+1):e.data.slice(H.value.length)),j=(ce,de)=>{var Oe;return typeof e.itemKey=="function"?e.itemKey(ce):(Oe=e.itemKey&&ce?.[e.itemKey])!==null&&Oe!==void 0?Oe:de},X=ve(()=>e.renderItem||(ce=>ce)),K=(ce,de)=>{x.value=ce,de||(I.value=ce<e.data.length-1,n("visibleChange",ce))},Q=(ce,de)=>{s.value=de.clientWidth},oe=(ce,de)=>{const Oe=new Map(h.value);de===null?Oe.delete(ce):Oe.set(ce,de),h.value=Oe},he=(ce,de)=>{p.value=m.value,m.value=de},ye=(ce,de)=>{v.value=de},be=ce=>h.value.get(j(H.value[ce],ce));return Zt([a,h,m,v,()=>e.itemKey,H],()=>{if(a.value&&R.value&&H.value){let ce=v.value;const de=H.value.length,Oe=de-1;if(!de){K(0),b.value=null;return}for(let ze=0;ze<de;ze+=1){const De=be(ze);if(De===void 0){K(ze-1,!0);break}if(ce+=De,Oe===0&&ce<=a.value||ze===Oe-1&&ce+be(Oe)<=a.value){K(Oe),b.value=null;break}else if(ce+R.value>a.value){K(ze-1),b.value=ce-De-v.value+m.value;break}}e.suffix&&be(0)+v.value>a.value&&(b.value=null)}}),()=>{const ce=I.value&&!!W.value.length,{itemComponent:de,renderRawItem:Oe,renderRawRest:ze,renderRest:De,prefixCls:ct="rc-overflow",suffix:Ke,component:gt="div",id:Lt,onMousedown:Nt}=e,{class:zt,style:Ft}=r,Be=fge(r,["class","style"]);let it={};b.value!==null&&k.value&&(it={position:"absolute",left:`${b.value}px`,top:0});const je={prefixCls:A.value,responsive:k.value,component:de,invalidate:$.value},He=Oe?(_e,qe)=>{const ht=j(_e,qe);return ie(YE,{key:ht,value:ue(ue({},je),{order:qe,item:_e,itemKey:ht,registerSize:oe,display:qe<=C.value})},{default:()=>[Oe(_e,qe)]})}:(_e,qe)=>{const ht=j(_e,qe);return ie(Uw,wt(wt({},je),{},{order:qe,key:ht,item:_e,renderItem:X.value,itemKey:ht,registerSize:oe,display:qe<=C.value}),null)};let Fe=()=>null;const tt={order:ce?C.value:Number.MAX_SAFE_INTEGER,className:`${A.value} ${A.value}-rest`,registerSize:he,display:ce};if(ze)ze&&(Fe=()=>ie(YE,{value:ue(ue({},je),tt)},{default:()=>[ze(W.value)]}));else{const _e=De||pge;Fe=()=>ie(Uw,wt(wt({},je),tt),{default:()=>typeof _e=="function"?_e(W.value):_e})}const me=()=>{var _e;return ie(gt,wt({id:Lt,class:ir(!$.value&&ct,zt),style:Ft,onMousedown:Nt,role:e.role},Be),{default:()=>[H.value.map(He),N.value?Fe():null,Ke&&ie(Uw,wt(wt({},je),{},{order:C.value,class:`${A.value}-suffix`,registerSize:ye,display:!0,style:it}),{default:()=>Ke}),(_e=i.default)===null||_e===void 0?void 0:_e.call(i)]})};return ie(S0,{disabled:!k.value,onResize:Q},{default:me})}}});mc.Item=dge;mc.RESPONSIVE=ZH;mc.INVALIDATE=XH;const gge=Symbol("TreeSelectLegacyContextPropsKey");function KL(){return Ir(gge,{})}const vge={id:String,prefixCls:String,values:at.array,open:{type:Boolean,default:void 0},searchValue:String,inputRef:at.any,placeholder:at.any,disabled:{type:Boolean,default:void 0},mode:String,showSearch:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,activeDescendantId:String,tabindex:at.oneOfType([at.number,at.string]),compositionStatus:Boolean,removeIcon:at.any,choiceTransitionName:String,maxTagCount:at.oneOfType([at.number,at.string]),maxTagTextLength:Number,maxTagPlaceholder:at.any.def(()=>e=>`+ ${e.length} ...`),tagRender:Function,onToggleOpen:{type:Function},onRemove:Function,onInputChange:Function,onInputPaste:Function,onInputKeyDown:Function,onInputMouseDown:Function,onInputCompositionStart:Function,onInputCompositionEnd:Function},fB=e=>{e.preventDefault(),e.stopPropagation()},yge=St({name:"MultipleSelectSelector",inheritAttrs:!1,props:vge,setup(e){const t=vt(),r=vt(0),n=vt(!1),i=KL(),o=ve(()=>`${e.prefixCls}-selection`),s=ve(()=>e.open||e.mode==="tags"?e.searchValue:""),a=ve(()=>e.mode==="tags"||e.showSearch&&(e.open||n.value)),h=Vt("");Gn(()=>{h.value=s.value}),Nr(()=>{Zt(h,()=>{r.value=t.value.scrollWidth},{flush:"post",immediate:!0})});function p(C,I,A,R,k){return ie("span",{class:ir(`${o.value}-item`,{[`${o.value}-item-disabled`]:A}),title:typeof C=="string"||typeof C=="number"?C.toString():void 0},[ie("span",{class:`${o.value}-item-content`},[I]),R&&ie(ep,{class:`${o.value}-item-remove`,onMousedown:fB,onClick:k,customizeIcon:e.removeIcon},{default:()=>[Ai("")]})])}function m(C,I,A,R,k,$){var N;const H=j=>{fB(j),e.onToggleOpen(!open)};let W=$;return i.keyEntities&&(W=((N=i.keyEntities[C])===null||N===void 0?void 0:N.node)||{}),ie("span",{key:C,onMousedown:H},[e.tagRender({label:I,value:C,disabled:A,closable:R,onClose:k,option:W})])}function v(C){const{disabled:I,label:A,value:R,option:k}=C,$=!e.disabled&&!I;let N=A;if(typeof e.maxTagTextLength=="number"&&(typeof A=="string"||typeof A=="number")){const W=String(N);W.length>e.maxTagTextLength&&(N=`${W.slice(0,e.maxTagTextLength)}...`)}const H=W=>{var j;W&&W.stopPropagation(),(j=e.onRemove)===null||j===void 0||j.call(e,C)};return typeof e.tagRender=="function"?m(R,N,I,$,H,k):p(A,N,I,$,H)}function b(C){const{maxTagPlaceholder:I=R=>`+ ${R.length} ...`}=e,A=typeof I=="function"?I(C):I;return p(A,A,!1)}const x=C=>{const I=C.target.composing;h.value=C.target.value,I||e.onInputChange(C)};return()=>{const{id:C,prefixCls:I,values:A,open:R,inputRef:k,placeholder:$,disabled:N,autofocus:H,autocomplete:W,activeDescendantId:j,tabindex:X,compositionStatus:K,onInputPaste:Q,onInputKeyDown:oe,onInputMouseDown:he,onInputCompositionStart:ye,onInputCompositionEnd:be}=e,ce=ie("div",{class:`${o.value}-search`,style:{width:r.value+"px"},key:"input"},[ie(WH,{inputRef:k,open:R,prefixCls:I,id:C,inputElement:null,disabled:N,autofocus:H,autocomplete:W,editable:a.value,activeDescendantId:j,value:h.value,onKeydown:oe,onMousedown:he,onChange:x,onPaste:Q,onCompositionstart:ye,onCompositionend:be,tabindex:X,attrs:XL(e,!0),onFocus:()=>n.value=!0,onBlur:()=>n.value=!1},null),ie("span",{ref:t,class:`${o.value}-search-mirror`,"aria-hidden":!0},[h.value,Ai("")])]),de=ie(mc,{prefixCls:`${o.value}-overflow`,data:A,renderItem:v,renderRest:b,suffix:ce,itemKey:"key",maxCount:e.maxTagCount,key:"overflow"},null);return ie(pr,null,[de,!A.length&&!s.value&&!K&&ie("span",{class:`${o.value}-placeholder`},[$])])}}}),_ge={inputElement:at.any,id:String,prefixCls:String,values:at.array,open:{type:Boolean,default:void 0},searchValue:String,inputRef:at.any,placeholder:at.any,compositionStatus:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},mode:String,showSearch:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,activeDescendantId:String,tabindex:at.oneOfType([at.number,at.string]),activeValue:String,backfill:{type:Boolean,default:void 0},optionLabelRender:Function,onInputChange:Function,onInputPaste:Function,onInputKeyDown:Function,onInputMouseDown:Function,onInputCompositionStart:Function,onInputCompositionEnd:Function},YL=St({name:"SingleSelector",setup(e){const t=vt(!1),r=ve(()=>e.mode==="combobox"),n=ve(()=>r.value||e.showSearch),i=ve(()=>{let m=e.searchValue||"";return r.value&&e.activeValue&&!t.value&&(m=e.activeValue),m}),o=KL();Zt([r,()=>e.activeValue],()=>{r.value&&(t.value=!1)},{immediate:!0});const s=ve(()=>e.mode!=="combobox"&&!e.open&&!e.showSearch?!1:!!i.value||e.compositionStatus),a=ve(()=>{const m=e.values[0];return m&&(typeof m.label=="string"||typeof m.label=="number")?m.label.toString():void 0}),h=()=>{if(e.values[0])return null;const m=s.value?{visibility:"hidden"}:void 0;return ie("span",{class:`${e.prefixCls}-selection-placeholder`,style:m},[e.placeholder])},p=m=>{m.target.composing||(t.value=!0,e.onInputChange(m))};return()=>{var m,v,b,x;const{inputElement:C,prefixCls:I,id:A,values:R,inputRef:k,disabled:$,autofocus:N,autocomplete:H,activeDescendantId:W,open:j,tabindex:X,optionLabelRender:K,onInputKeyDown:Q,onInputMouseDown:oe,onInputPaste:he,onInputCompositionStart:ye,onInputCompositionEnd:be}=e,ce=R[0];let de=null;if(ce&&o.customSlots){const Oe=(m=ce.key)!==null&&m!==void 0?m:ce.value,ze=((v=o.keyEntities[Oe])===null||v===void 0?void 0:v.node)||{};de=o.customSlots[(b=ze.slots)===null||b===void 0?void 0:b.title]||o.customSlots.title||ce.label,typeof de=="function"&&(de=de(ze))}else de=K&&ce?K(ce.option):ce?.label;return ie(pr,null,[ie("span",{class:`${I}-selection-search`},[ie(WH,{inputRef:k,prefixCls:I,id:A,open:j,inputElement:C,disabled:$,autofocus:N,autocomplete:H,editable:n.value,activeDescendantId:W,value:i.value,onKeydown:Q,onMousedown:oe,onChange:p,onPaste:he,onCompositionstart:ye,onCompositionend:be,tabindex:X,attrs:XL(e,!0)},null)]),!r.value&&ce&&!s.value&&ie("span",{class:`${I}-selection-item`,title:a.value},[ie(pr,{key:(x=ce.key)!==null&&x!==void 0?x:ce.value},[de])]),h()])}}});YL.props=_ge;YL.inheritAttrs=!1;function bge(e){return![yr.ESC,yr.SHIFT,yr.BACKSPACE,yr.TAB,yr.WIN_KEY,yr.ALT,yr.META,yr.WIN_KEY_RIGHT,yr.CTRL,yr.SEMICOLON,yr.EQUALS,yr.CAPS_LOCK,yr.CONTEXT_MENU,yr.F1,yr.F2,yr.F3,yr.F4,yr.F5,yr.F6,yr.F7,yr.F8,yr.F9,yr.F10,yr.F11,yr.F12].includes(e)}function KH(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,t=null,r;hi(()=>{clearTimeout(r)});function n(i){(i||t===null)&&(t=i),clearTimeout(r),r=setTimeout(()=>{t=null},e)}return[()=>t,n]}function O0(){const e=t=>{e.current=t};return e}const xge=St({name:"Selector",inheritAttrs:!1,props:{id:String,prefixCls:String,showSearch:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},values:at.array,multiple:{type:Boolean,default:void 0},mode:String,searchValue:String,activeValue:String,inputElement:at.any,autofocus:{type:Boolean,default:void 0},activeDescendantId:String,tabindex:at.oneOfType([at.number,at.string]),disabled:{type:Boolean,default:void 0},placeholder:at.any,removeIcon:at.any,maxTagCount:at.oneOfType([at.number,at.string]),maxTagTextLength:Number,maxTagPlaceholder:at.any,tagRender:Function,optionLabelRender:Function,tokenWithEnter:{type:Boolean,default:void 0},choiceTransitionName:String,onToggleOpen:{type:Function},onSearch:Function,onSearchSubmit:Function,onRemove:Function,onInputKeyDown:{type:Function},domRef:Function},setup(e,t){let{expose:r}=t;const n=O0(),i=Vt(!1),[o,s]=KH(0),a=R=>{const{which:k}=R;(k===yr.UP||k===yr.DOWN)&&R.preventDefault(),e.onInputKeyDown&&e.onInputKeyDown(R),k===yr.ENTER&&e.mode==="tags"&&!i.value&&!e.open&&e.onSearchSubmit(R.target.value),bge(k)&&e.onToggleOpen(!0)},h=()=>{s(!0)};let p=null;const m=R=>{e.onSearch(R,!0,i.value)!==!1&&e.onToggleOpen(!0)},v=()=>{i.value=!0},b=R=>{i.value=!1,e.mode!=="combobox"&&m(R.target.value)},x=R=>{let{target:{value:k}}=R;if(e.tokenWithEnter&&p&&/[\r\n]/.test(p)){const $=p.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");k=k.replace($,p)}p=null,m(k)},C=R=>{const{clipboardData:k}=R;p=k.getData("text")},I=R=>{let{target:k}=R;k!==n.current&&(document.body.style.msTouchAction!==void 0?setTimeout(()=>{n.current.focus()}):n.current.focus())},A=R=>{const k=o();R.target!==n.current&&!k&&R.preventDefault(),(e.mode!=="combobox"&&(!e.showSearch||!k)||!e.open)&&(e.open&&e.onSearch("",!0,!1),e.onToggleOpen())};return r({focus:()=>{n.current.focus()},blur:()=>{n.current.blur()}}),()=>{const{prefixCls:R,domRef:k,mode:$}=e,N={inputRef:n,onInputKeyDown:a,onInputMouseDown:h,onInputChange:x,onInputPaste:C,compositionStatus:i.value,onInputCompositionStart:v,onInputCompositionEnd:b},H=$==="multiple"||$==="tags"?ie(yge,wt(wt({},e),N),null):ie(YL,wt(wt({},e),N),null);return ie("div",{ref:k,class:`${R}-selector`,onClick:I,onMousedown:A},[H])}}});function wge(e,t,r){function n(i){var o,s,a;let h=i.target;h.shadowRoot&&i.composed&&(h=i.composedPath()[0]||h);const p=[(o=e[0])===null||o===void 0?void 0:o.value,(a=(s=e[1])===null||s===void 0?void 0:s.value)===null||a===void 0?void 0:a.getPopupElement()];t.value&&p.every(m=>m&&!m.contains(h)&&m!==h)&&r(!1)}Nr(()=>{window.addEventListener("mousedown",n)}),hi(()=>{window.removeEventListener("mousedown",n)})}function Sge(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10;const t=vt(!1);let r;const n=()=>{clearTimeout(r)};return Nr(()=>{n()}),[t,(o,s)=>{n(),r=setTimeout(()=>{t.value=o,s&&s()},e)},n]}const YH=Symbol("BaseSelectContextKey");function Tge(e){return un(YH,e)}function Cge(){return Ir(YH,{})}const JH=(()=>{if(typeof navigator>"u"||typeof window>"u")return!1;const e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e?.substring(0,4))});function QH(e){if(!Ri(e))return ki(e);const t=new Proxy({},{get(r,n,i){return Reflect.get(e.value,n,i)},set(r,n,i){return e.value[n]=i,!0},deleteProperty(r,n){return Reflect.deleteProperty(e.value,n)},has(r,n){return Reflect.has(e.value,n)},ownKeys(){return Object.keys(e.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return ki(t)}var Pge=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Mge=["value","onChange","removeIcon","placeholder","autofocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabindex","OptionList","notFoundContent"],Ige=()=>({prefixCls:String,id:String,omitDomProps:Array,displayValues:Array,onDisplayValuesChange:Function,activeValue:String,activeDescendantId:String,onActiveValueChange:Function,searchValue:String,onSearch:Function,onSearchSplit:Function,maxLength:Number,OptionList:at.any,emptyOptions:Boolean}),eG=()=>({showSearch:{type:Boolean,default:void 0},tagRender:{type:Function},optionLabelRender:{type:Function},direction:{type:String},tabindex:Number,autofocus:Boolean,notFoundContent:at.any,placeholder:at.any,onClear:Function,choiceTransitionName:String,mode:String,disabled:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:void 0},onDropdownVisibleChange:{type:Function},getInputElement:{type:Function},getRawInputElement:{type:Function},maxTagTextLength:Number,maxTagCount:{type:[String,Number]},maxTagPlaceholder:at.any,tokenSeparators:{type:Array},allowClear:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:void 0},inputIcon:at.any,clearIcon:at.any,removeIcon:at.any,animation:String,transitionName:String,dropdownStyle:{type:Object},dropdownClassName:String,dropdownMatchSelectWidth:{type:[Boolean,Number],default:void 0},dropdownRender:{type:Function},dropdownAlign:Object,placement:{type:String},getPopupContainer:{type:Function},showAction:{type:Array},onBlur:{type:Function},onFocus:{type:Function},onKeyup:Function,onKeydown:Function,onMousedown:Function,onPopupScroll:Function,onInputKeyDown:Function,onMouseenter:Function,onMouseleave:Function,onClick:Function}),Ege=()=>ue(ue({},Ige()),eG());function tG(e){return e==="tags"||e==="multiple"}const Age=St({compatConfig:{MODE:3},name:"BaseSelect",inheritAttrs:!1,props:Na(Ege(),{showAction:[],notFoundContent:"Not Found"}),setup(e,t){let{attrs:r,expose:n,slots:i}=t;const o=ve(()=>tG(e.mode)),s=ve(()=>e.showSearch!==void 0?e.showSearch:o.value||e.mode==="combobox"),a=vt(!1);Nr(()=>{a.value=JH()});const h=KL(),p=vt(null),m=O0(),v=vt(null),b=vt(null),x=vt(null),C=Vt(!1),[I,A,R]=Sge();n({focus:()=>{var He;(He=b.value)===null||He===void 0||He.focus()},blur:()=>{var He;(He=b.value)===null||He===void 0||He.blur()},scrollTo:He=>{var Fe;return(Fe=x.value)===null||Fe===void 0?void 0:Fe.scrollTo(He)}});const N=ve(()=>{var He;if(e.mode!=="combobox")return e.searchValue;const Fe=(He=e.displayValues[0])===null||He===void 0?void 0:He.value;return typeof Fe=="string"||typeof Fe=="number"?String(Fe):""}),H=e.open!==void 0?e.open:e.defaultOpen,W=vt(H),j=vt(H),X=He=>{W.value=e.open!==void 0?e.open:He,j.value=W.value};Zt(()=>e.open,()=>{X(e.open)});const K=ve(()=>!e.notFoundContent&&e.emptyOptions);Gn(()=>{j.value=W.value,(e.disabled||K.value&&j.value&&e.mode==="combobox")&&(j.value=!1)});const Q=ve(()=>K.value?!1:j.value),oe=He=>{const Fe=He!==void 0?He:!j.value;j.value!==Fe&&!e.disabled&&(X(Fe),e.onDropdownVisibleChange&&e.onDropdownVisibleChange(Fe),!Fe&&gt.value&&(gt.value=!1,A(!1,()=>{ct.value=!1,C.value=!1})))},he=ve(()=>(e.tokenSeparators||[]).some(He=>[`
`,`\r
`].includes(He))),ye=(He,Fe,tt)=>{var me,_e;let qe=!0,ht=He;(me=e.onActiveValueChange)===null||me===void 0||me.call(e,null);const et=tt?null:gde(He,e.tokenSeparators);return e.mode!=="combobox"&&et&&(ht="",(_e=e.onSearchSplit)===null||_e===void 0||_e.call(e,et),oe(!1),qe=!1),e.onSearch&&N.value!==ht&&e.onSearch(ht,{source:Fe?"typing":"effect"}),qe},be=He=>{var Fe;!He||!He.trim()||(Fe=e.onSearch)===null||Fe===void 0||Fe.call(e,He,{source:"submit"})};Zt(j,()=>{!j.value&&!o.value&&e.mode!=="combobox"&&ye("",!1,!1)},{immediate:!0,flush:"post"}),Zt(()=>e.disabled,()=>{W.value&&e.disabled&&X(!1),e.disabled&&!C.value&&A(!1)},{immediate:!0});const[ce,de]=KH(),Oe=function(He){var Fe;const tt=ce(),{which:me}=He;if(me===yr.ENTER&&(e.mode!=="combobox"&&He.preventDefault(),j.value||oe(!0)),de(!!N.value),me===yr.BACKSPACE&&!tt&&o.value&&!N.value&&e.displayValues.length){const et=[...e.displayValues];let Je=null;for(let Qe=et.length-1;Qe>=0;Qe-=1){const dt=et[Qe];if(!dt.disabled){et.splice(Qe,1),Je=dt;break}}Je&&e.onDisplayValuesChange(et,{type:"remove",values:[Je]})}for(var _e=arguments.length,qe=new Array(_e>1?_e-1:0),ht=1;ht<_e;ht++)qe[ht-1]=arguments[ht];j.value&&x.value&&x.value.onKeydown(He,...qe),(Fe=e.onKeydown)===null||Fe===void 0||Fe.call(e,He,...qe)},ze=function(He){for(var Fe=arguments.length,tt=new Array(Fe>1?Fe-1:0),me=1;me<Fe;me++)tt[me-1]=arguments[me];j.value&&x.value&&x.value.onKeyup(He,...tt),e.onKeyup&&e.onKeyup(He,...tt)},De=He=>{const Fe=e.displayValues.filter(tt=>tt!==He);e.onDisplayValuesChange(Fe,{type:"remove",values:[He]})},ct=vt(!1),Ke=function(){A(!0),e.disabled||(e.onFocus&&!ct.value&&e.onFocus(...arguments),e.showAction&&e.showAction.includes("focus")&&oe(!0)),ct.value=!0},gt=Vt(!1),Lt=function(){if(gt.value||(C.value=!0,A(!1,()=>{ct.value=!1,C.value=!1,oe(!1)}),e.disabled))return;const He=N.value;He&&(e.mode==="tags"?e.onSearch(He,{source:"submit"}):e.mode==="multiple"&&e.onSearch("",{source:"blur"})),e.onBlur&&e.onBlur(...arguments)},Nt=()=>{gt.value=!0},zt=()=>{gt.value=!1};un("VCSelectContainerEvent",{focus:Ke,blur:Lt});const Ft=[];Nr(()=>{Ft.forEach(He=>clearTimeout(He)),Ft.splice(0,Ft.length)}),hi(()=>{Ft.forEach(He=>clearTimeout(He)),Ft.splice(0,Ft.length)});const Be=function(He){var Fe,tt;const{target:me}=He,_e=(Fe=v.value)===null||Fe===void 0?void 0:Fe.getPopupElement();if(_e&&_e.contains(me)){const Je=setTimeout(()=>{var Qe;const dt=Ft.indexOf(Je);dt!==-1&&Ft.splice(dt,1),R(),!a.value&&!_e.contains(document.activeElement)&&((Qe=b.value)===null||Qe===void 0||Qe.focus())});Ft.push(Je)}for(var qe=arguments.length,ht=new Array(qe>1?qe-1:0),et=1;et<qe;et++)ht[et-1]=arguments[et];(tt=e.onMousedown)===null||tt===void 0||tt.call(e,He,...ht)},it=vt(null),je=()=>{};return Nr(()=>{Zt(Q,()=>{var He;if(Q.value){const Fe=Math.ceil((He=p.value)===null||He===void 0?void 0:He.offsetWidth);it.value!==Fe&&!Number.isNaN(Fe)&&(it.value=Fe)}},{immediate:!0,flush:"post"})}),wge([p,v],Q,oe),Tge(QH(ue(ue({},$D(e)),{open:j,triggerOpen:Q,showSearch:s,multiple:o,toggleOpen:oe}))),()=>{const He=ue(ue({},e),r),{prefixCls:Fe,id:tt,open:me,defaultOpen:_e,mode:qe,showSearch:ht,searchValue:et,onSearch:Je,allowClear:Qe,clearIcon:dt,showArrow:xt,inputIcon:yt,disabled:Ht,loading:$t,getInputElement:Gt,getPopupContainer:or,placement:vr,animation:Er,transitionName:mr,dropdownStyle:Wr,dropdownClassName:Yr,dropdownMatchSelectWidth:Nn,dropdownRender:rn,dropdownAlign:Zn,showAction:Ne,direction:ne,tokenSeparators:le,tagRender:pe,optionLabelRender:Ee,onPopupScroll:Re,onDropdownVisibleChange:Ye,onFocus:Te,onBlur:Xe,onKeyup:ut,onKeydown:ft,onMousedown:pt,onClear:Xt,omitDomProps:ar,getRawInputElement:xr,displayValues:yn,onDisplayValuesChange:zr,emptyOptions:Jr,activeDescendantId:hn,activeValue:It,OptionList:_n}=He,dn=Pge(He,["prefixCls","id","open","defaultOpen","mode","showSearch","searchValue","onSearch","allowClear","clearIcon","showArrow","inputIcon","disabled","loading","getInputElement","getPopupContainer","placement","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","showAction","direction","tokenSeparators","tagRender","optionLabelRender","onPopupScroll","onDropdownVisibleChange","onFocus","onBlur","onKeyup","onKeydown","onMousedown","onClear","omitDomProps","getRawInputElement","displayValues","onDisplayValuesChange","emptyOptions","activeDescendantId","activeValue","OptionList"]),ii=qe==="combobox"&&Gt&&Gt()||null,en=typeof xr=="function"&&xr(),Et=ue({},dn);let Qt;en&&(Qt=Fi=>{oe(Fi)}),Mge.forEach(Fi=>{delete Et[Fi]}),ar?.forEach(Fi=>{delete Et[Fi]});const ur=xt!==void 0?xt:$t||!o.value&&qe!=="combobox";let Ji;ur&&(Ji=ie(ep,{class:ir(`${Fe}-arrow`,{[`${Fe}-arrow-loading`]:$t}),customizeIcon:yt,customizeIconProps:{loading:$t,searchValue:N.value,open:j.value,focused:I.value,showSearch:s.value}},null));let hs;const xi=()=>{Xt?.(),zr([],{type:"clear",values:yn}),ye("",!1,!1)};!Ht&&Qe&&(yn.length||N.value)&&(hs=ie(ep,{class:`${Fe}-clear`,onMousedown:xi,customizeIcon:dt},{default:()=>[Ai("")]}));const gr=ie(_n,{ref:x},ue(ue({},h.customSlots),{option:i.option})),Va=ir(Fe,r.class,{[`${Fe}-focused`]:I.value,[`${Fe}-multiple`]:o.value,[`${Fe}-single`]:!o.value,[`${Fe}-allow-clear`]:Qe,[`${Fe}-show-arrow`]:ur,[`${Fe}-disabled`]:Ht,[`${Fe}-loading`]:$t,[`${Fe}-open`]:j.value,[`${Fe}-customize-input`]:ii,[`${Fe}-show-search`]:s.value}),qs=ie(Qme,{ref:v,disabled:Ht,prefixCls:Fe,visible:Q.value,popupElement:gr,containerWidth:it.value,animation:Er,transitionName:mr,dropdownStyle:Wr,dropdownClassName:Yr,direction:ne,dropdownMatchSelectWidth:Nn,dropdownRender:rn,dropdownAlign:Zn,placement:vr,getPopupContainer:or,empty:Jr,getTriggerDOMNode:()=>m.current,onPopupVisibleChange:Qt,onPopupMouseEnter:je,onPopupFocusin:Nt,onPopupFocusout:zt},{default:()=>en?Jh(en)&&ka(en,{ref:m},!1,!0):ie(xge,wt(wt({},e),{},{domRef:m,prefixCls:Fe,inputElement:ii,ref:b,id:tt,showSearch:s.value,mode:qe,activeDescendantId:hn,tagRender:pe,optionLabelRender:Ee,values:yn,open:j.value,onToggleOpen:oe,activeValue:It,searchValue:N.value,onSearch:ye,onSearchSubmit:be,onRemove:De,tokenWithEnter:he.value}),null)});let ds;return en?ds=qs:ds=ie("div",wt(wt({},Et),{},{class:Va,ref:p,onMousedown:Be,onKeydown:Oe,onKeyup:ze}),[I.value&&!j.value&&ie("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},[`${yn.map(Fi=>{let{label:fs,value:Dl}=Fi;return["number","string"].includes(typeof fs)?fs:Dl}).join(", ")}`]),qs,Ji,hs]),ds}}}),sT=(e,t)=>{let{height:r,offset:n,prefixCls:i,onInnerResize:o}=e,{slots:s}=t;var a;let h={},p={display:"flex",flexDirection:"column"};return n!==void 0&&(h={height:`${r}px`,position:"relative",overflow:"hidden"},p=ue(ue({},p),{transform:`translateY(${n}px)`,position:"absolute",left:0,right:0,top:0})),ie("div",{style:h},[ie(S0,{onResize:m=>{let{offsetHeight:v}=m;v&&o&&o()}},{default:()=>[ie("div",{style:p,class:ir({[`${i}-holder-inner`]:i})},[(a=s.default)===null||a===void 0?void 0:a.call(s)])]})])};sT.displayName="Filter";sT.inheritAttrs=!1;sT.props={prefixCls:String,height:Number,offset:Number,onInnerResize:Function};const rG=(e,t)=>{let{setRef:r}=e,{slots:n}=t;var i;const o=So((i=n.default)===null||i===void 0?void 0:i.call(n));return o&&o.length?ls(o[0],{ref:r}):o};rG.props={setRef:{type:Function,default:()=>{}}};const Dge=20;function pB(e){return"touches"in e?e.touches[0].pageY:e.pageY}const Lge=St({compatConfig:{MODE:3},name:"ScrollBar",inheritAttrs:!1,props:{prefixCls:String,scrollTop:Number,scrollHeight:Number,height:Number,count:Number,onScroll:{type:Function},onStartMove:{type:Function},onStopMove:{type:Function}},setup(){return{moveRaf:null,scrollbarRef:O0(),thumbRef:O0(),visibleTimeout:null,state:ki({dragging:!1,pageY:null,startTop:null,visible:!1})}},watch:{scrollTop:{handler(){this.delayHidden()},flush:"post"}},mounted(){var e,t;(e=this.scrollbarRef.current)===null||e===void 0||e.addEventListener("touchstart",this.onScrollbarTouchStart,da?{passive:!1}:!1),(t=this.thumbRef.current)===null||t===void 0||t.addEventListener("touchstart",this.onMouseDown,da?{passive:!1}:!1)},beforeUnmount(){this.removeEvents(),clearTimeout(this.visibleTimeout)},methods:{delayHidden(){clearTimeout(this.visibleTimeout),this.state.visible=!0,this.visibleTimeout=setTimeout(()=>{this.state.visible=!1},2e3)},onScrollbarTouchStart(e){e.preventDefault()},onContainerMouseDown(e){e.stopPropagation(),e.preventDefault()},patchEvents(){window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp),this.thumbRef.current.addEventListener("touchmove",this.onMouseMove,da?{passive:!1}:!1),this.thumbRef.current.addEventListener("touchend",this.onMouseUp)},removeEvents(){window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),this.scrollbarRef.current.removeEventListener("touchstart",this.onScrollbarTouchStart,da?{passive:!1}:!1),this.thumbRef.current&&(this.thumbRef.current.removeEventListener("touchstart",this.onMouseDown,da?{passive:!1}:!1),this.thumbRef.current.removeEventListener("touchmove",this.onMouseMove,da?{passive:!1}:!1),this.thumbRef.current.removeEventListener("touchend",this.onMouseUp)),Pn.cancel(this.moveRaf)},onMouseDown(e){const{onStartMove:t}=this.$props;ue(this.state,{dragging:!0,pageY:pB(e),startTop:this.getTop()}),t(),this.patchEvents(),e.stopPropagation(),e.preventDefault()},onMouseMove(e){const{dragging:t,pageY:r,startTop:n}=this.state,{onScroll:i}=this.$props;if(Pn.cancel(this.moveRaf),t){const o=pB(e)-r,s=n+o,a=this.getEnableScrollRange(),h=this.getEnableHeightRange(),p=h?s/h:0,m=Math.ceil(p*a);this.moveRaf=Pn(()=>{i(m)})}},onMouseUp(){const{onStopMove:e}=this.$props;this.state.dragging=!1,e(),this.removeEvents()},getSpinHeight(){const{height:e,scrollHeight:t}=this.$props;let r=e/t*100;return r=Math.max(r,Dge),r=Math.min(r,e/2),Math.floor(r)},getEnableScrollRange(){const{scrollHeight:e,height:t}=this.$props;return e-t||0},getEnableHeightRange(){const{height:e}=this.$props,t=this.getSpinHeight();return e-t||0},getTop(){const{scrollTop:e}=this.$props,t=this.getEnableScrollRange(),r=this.getEnableHeightRange();return e===0||t===0?0:e/t*r},showScroll(){const{height:e,scrollHeight:t}=this.$props;return t>e}},render(){const{dragging:e,visible:t}=this.state,{prefixCls:r}=this.$props,n=this.getSpinHeight()+"px",i=this.getTop()+"px",o=this.showScroll(),s=o&&t;return ie("div",{ref:this.scrollbarRef,class:ir(`${r}-scrollbar`,{[`${r}-scrollbar-show`]:o}),style:{width:"8px",top:0,bottom:0,right:0,position:"absolute",display:s?void 0:"none"},onMousedown:this.onContainerMouseDown,onMousemove:this.delayHidden},[ie("div",{ref:this.thumbRef,class:ir(`${r}-scrollbar-thumb`,{[`${r}-scrollbar-thumb-moving`]:e}),style:{width:"100%",height:n,top:i,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:"99px",cursor:"pointer",userSelect:"none"},onMousedown:this.onMouseDown},null)])}});function Rge(e,t,r,n){const i=new Map,o=new Map,s=Vt(Symbol("update"));Zt(e,()=>{s.value=Symbol("update")});let a;function h(){Pn.cancel(a)}function p(){h(),a=Pn(()=>{i.forEach((v,b)=>{if(v&&v.offsetParent){const{offsetHeight:x}=v;o.get(b)!==x&&(s.value=Symbol("update"),o.set(b,v.offsetHeight))}})})}function m(v,b){const x=t(v);i.get(x),b?(i.set(x,b.$el||b),p()):i.delete(x)}return _u(()=>{h()}),[m,p,o,s]}function Oge(e,t,r,n,i,o,s,a){let h;return p=>{if(p==null){a();return}Pn.cancel(h);const m=t.value,v=n.itemHeight;if(typeof p=="number")s(p);else if(p&&typeof p=="object"){let b;const{align:x}=p;"index"in p?{index:b}=p:b=m.findIndex(A=>i(A)===p.key);const{offset:C=0}=p,I=(A,R)=>{if(A<0||!e.value)return;const k=e.value.clientHeight;let $=!1,N=R;if(k){const H=R||x;let W=0,j=0,X=0;const K=Math.min(m.length,b);for(let he=0;he<=K;he+=1){const ye=i(m[he]);j=W;const be=r.get(ye);X=j+(be===void 0?v:be),W=X,he===b&&be===void 0&&($=!0)}const Q=e.value.scrollTop;let oe=null;switch(H){case"top":oe=j-C;break;case"bottom":oe=X-k+C;break;default:{const he=Q+k;j<Q?N="top":X>he&&(N="bottom")}}oe!==null&&oe!==Q&&s(oe)}h=Pn(()=>{$&&o(),I(A-1,N)},2)};I(5)}}}const kge=typeof navigator=="object"&&/Firefox/i.test(navigator.userAgent),nG=((e,t)=>{let r=!1,n=null;function i(){clearTimeout(n),r=!0,n=setTimeout(()=>{r=!1},50)}return function(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const a=o<0&&e.value||o>0&&t.value;return s&&a?(clearTimeout(n),r=!1):(!a||r)&&i(),!r&&a}});function $ge(e,t,r,n){let i=0,o=null,s=null,a=!1;const h=nG(t,r);function p(v){if(!e.value)return;Pn.cancel(o);const{deltaY:b}=v;i+=b,s=b,!h(b)&&(kge||v.preventDefault(),o=Pn(()=>{n(i*(a?10:1)),i=0}))}function m(v){e.value&&(a=v.detail===s)}return[p,m]}const zge=14/15;function Bge(e,t,r){let n=!1,i=0,o=null,s=null;const a=()=>{o&&(o.removeEventListener("touchmove",h),o.removeEventListener("touchend",p))},h=b=>{if(n){const x=Math.ceil(b.touches[0].pageY);let C=i-x;i=x,r(C)&&b.preventDefault(),clearInterval(s),s=setInterval(()=>{C*=zge,(!r(C,!0)||Math.abs(C)<=.1)&&clearInterval(s)},16)}},p=()=>{n=!1,a()},m=b=>{a(),b.touches.length===1&&!n&&(n=!0,i=Math.ceil(b.touches[0].pageY),o=b.target,o.addEventListener("touchmove",h,{passive:!1}),o.addEventListener("touchend",p))},v=()=>{};Nr(()=>{document.addEventListener("touchmove",v,{passive:!1}),Zt(e,b=>{t.value.removeEventListener("touchstart",m),a(),clearInterval(s),b&&t.value.addEventListener("touchstart",m,{passive:!1})},{immediate:!0})}),hi(()=>{document.removeEventListener("touchmove",v)})}var Fge=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Nge=[],Vge={overflowY:"auto",overflowAnchor:"none"};function jge(e,t,r,n,i,o){let{getKey:s}=o;return e.slice(t,r+1).map((a,h)=>{const p=t+h,m=i(a,p,{}),v=s(a);return ie(rG,{key:v,setRef:b=>n(a,b)},{default:()=>[m]})})}const Hge=St({compatConfig:{MODE:3},name:"List",inheritAttrs:!1,props:{prefixCls:String,data:at.array,height:Number,itemHeight:Number,fullHeight:{type:Boolean,default:void 0},itemKey:{type:[String,Number,Function],required:!0},component:{type:[String,Object]},virtual:{type:Boolean,default:void 0},children:Function,onScroll:Function,onMousedown:Function,onMouseenter:Function,onVisibleChange:Function},setup(e,t){let{expose:r}=t;const n=ve(()=>{const{height:De,itemHeight:ct,virtual:Ke}=e;return!!(Ke!==!1&&De&&ct)}),i=ve(()=>{const{height:De,itemHeight:ct,data:Ke}=e;return n.value&&Ke&&ct*Ke.length>De}),o=ki({scrollTop:0,scrollMoving:!1}),s=ve(()=>e.data||Nge),a=vt([]);Zt(s,()=>{a.value=Ur(s.value).slice()},{immediate:!0});const h=vt(De=>{});Zt(()=>e.itemKey,De=>{typeof De=="function"?h.value=De:h.value=ct=>ct?.[De]},{immediate:!0});const p=vt(),m=vt(),v=vt(),b=De=>h.value(De),x={getKey:b};function C(De){let ct;typeof De=="function"?ct=De(o.scrollTop):ct=De;const Ke=W(ct);p.value&&(p.value.scrollTop=Ke),o.scrollTop=Ke}const[I,A,R,k]=Rge(a,b),$=ki({scrollHeight:void 0,start:0,end:0,offset:void 0}),N=vt(0);Nr(()=>{_i(()=>{var De;N.value=((De=m.value)===null||De===void 0?void 0:De.offsetHeight)||0})}),Yh(()=>{_i(()=>{var De;N.value=((De=m.value)===null||De===void 0?void 0:De.offsetHeight)||0})}),Zt([n,a],()=>{n.value||ue($,{scrollHeight:void 0,start:0,end:a.value.length-1,offset:void 0})},{immediate:!0}),Zt([n,a,N,i],()=>{n.value&&!i.value&&ue($,{scrollHeight:N.value,start:0,end:a.value.length-1,offset:void 0}),p.value&&(o.scrollTop=p.value.scrollTop)},{immediate:!0}),Zt([i,n,()=>o.scrollTop,a,k,()=>e.height,N],()=>{if(!n.value||!i.value)return;let De=0,ct,Ke,gt;const Lt=a.value.length,Nt=a.value,zt=o.scrollTop,{itemHeight:Ft,height:Be}=e,it=zt+Be;for(let je=0;je<Lt;je+=1){const He=Nt[je],Fe=b(He);let tt=R.get(Fe);tt===void 0&&(tt=Ft);const me=De+tt;ct===void 0&&me>=zt&&(ct=je,Ke=De),gt===void 0&&me>it&&(gt=je),De=me}ct===void 0&&(ct=0,Ke=0,gt=Math.ceil(Be/Ft)),gt===void 0&&(gt=Lt-1),gt=Math.min(gt+1,Lt),ue($,{scrollHeight:De,start:ct,end:gt,offset:Ke})},{immediate:!0});const H=ve(()=>$.scrollHeight-e.height);function W(De){let ct=De;return Number.isNaN(H.value)||(ct=Math.min(ct,H.value)),ct=Math.max(ct,0),ct}const j=ve(()=>o.scrollTop<=0),X=ve(()=>o.scrollTop>=H.value),K=nG(j,X);function Q(De){C(De)}function oe(De){var ct;const{scrollTop:Ke}=De.currentTarget;Ke!==o.scrollTop&&C(Ke),(ct=e.onScroll)===null||ct===void 0||ct.call(e,De)}const[he,ye]=$ge(n,j,X,De=>{C(ct=>ct+De)});Bge(n,p,(De,ct)=>K(De,ct)?!1:(he({preventDefault(){},deltaY:De}),!0));function be(De){n.value&&De.preventDefault()}const ce=()=>{p.value&&(p.value.removeEventListener("wheel",he,da?{passive:!1}:!1),p.value.removeEventListener("DOMMouseScroll",ye),p.value.removeEventListener("MozMousePixelScroll",be))};Gn(()=>{_i(()=>{p.value&&(ce(),p.value.addEventListener("wheel",he,da?{passive:!1}:!1),p.value.addEventListener("DOMMouseScroll",ye),p.value.addEventListener("MozMousePixelScroll",be))})}),hi(()=>{ce()});const de=Oge(p,a,R,e,b,A,C,()=>{var De;(De=v.value)===null||De===void 0||De.delayHidden()});r({scrollTo:de});const Oe=ve(()=>{let De=null;return e.height&&(De=ue({[e.fullHeight?"height":"maxHeight"]:e.height+"px"},Vge),n.value&&(De.overflowY="hidden",o.scrollMoving&&(De.pointerEvents="none"))),De});return Zt([()=>$.start,()=>$.end,a],()=>{if(e.onVisibleChange){const De=a.value.slice($.start,$.end+1);e.onVisibleChange(De,a.value)}},{flush:"post"}),{state:o,mergedData:a,componentStyle:Oe,onFallbackScroll:oe,onScrollBar:Q,componentRef:p,useVirtual:n,calRes:$,collectHeight:A,setInstance:I,sharedConfig:x,scrollBarRef:v,fillerInnerRef:m,delayHideScrollBar:()=>{var De;(De=v.value)===null||De===void 0||De.delayHidden()}}},render(){const e=ue(ue({},this.$props),this.$attrs),{prefixCls:t="rc-virtual-list",height:r,itemHeight:n,fullHeight:i,data:o,itemKey:s,virtual:a,component:h="div",onScroll:p,children:m=this.$slots.default,style:v,class:b}=e,x=Fge(e,["prefixCls","height","itemHeight","fullHeight","data","itemKey","virtual","component","onScroll","children","style","class"]),C=ir(t,b),{scrollTop:I}=this.state,{scrollHeight:A,offset:R,start:k,end:$}=this.calRes,{componentStyle:N,onFallbackScroll:H,onScrollBar:W,useVirtual:j,collectHeight:X,sharedConfig:K,setInstance:Q,mergedData:oe,delayHideScrollBar:he}=this;return ie("div",wt({style:ue(ue({},v),{position:"relative"}),class:C},x),[ie(h,{class:`${t}-holder`,style:N,ref:"componentRef",onScroll:H,onMouseenter:he},{default:()=>[ie(sT,{prefixCls:t,height:A,offset:R,onInnerResize:X,ref:"fillerInnerRef"},{default:()=>jge(oe,k,$,Q,m,K)})]}),j&&ie(Lge,{ref:"scrollBarRef",prefixCls:t,scrollTop:I,height:r,scrollHeight:A,count:oe.length,onScroll:W,onStartMove:()=>{this.state.scrollMoving=!0},onStopMove:()=>{this.state.scrollMoving=!1}},null)])}});function Gge(e,t,r){const n=Vt(e());return Zt(t,(i,o)=>{r?r(i,o)&&(n.value=e()):n.value=e()}),n}function Uge(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}const iG=Symbol("SelectContextKey");function Wge(e){return un(iG,e)}function qge(){return Ir(iG,{})}var Zge=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function mB(e){return typeof e=="string"||typeof e=="number"}const Xge=St({compatConfig:{MODE:3},name:"OptionList",inheritAttrs:!1,setup(e,t){let{expose:r,slots:n}=t;const i=Cge(),o=qge(),s=ve(()=>`${i.prefixCls}-item`),a=Gge(()=>o.flattenOptions,[()=>i.open,()=>o.flattenOptions],H=>H[0]),h=O0(),p=H=>{H.preventDefault()},m=H=>{h.current&&h.current.scrollTo(typeof H=="number"?{index:H}:H)},v=function(H){let W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const j=a.value.length;for(let X=0;X<j;X+=1){const K=(H+X*W+j)%j,{group:Q,data:oe}=a.value[K];if(!Q&&!oe.disabled)return K}return-1},b=ki({activeIndex:v(0)}),x=function(H){let W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;b.activeIndex=H;const j={source:W?"keyboard":"mouse"},X=a.value[H];if(!X){o.onActiveValue(null,-1,j);return}o.onActiveValue(X.value,H,j)};Zt([()=>a.value.length,()=>i.searchValue],()=>{x(o.defaultActiveFirstOption!==!1?v(0):-1)},{immediate:!0});const C=H=>o.rawValues.has(H)&&i.mode!=="combobox";Zt([()=>i.open,()=>i.searchValue],()=>{if(!i.multiple&&i.open&&o.rawValues.size===1){const H=Array.from(o.rawValues)[0],W=Ur(a.value).findIndex(j=>{let{data:X}=j;return X[o.fieldNames.value]===H});W!==-1&&(x(W),_i(()=>{m(W)}))}i.open&&_i(()=>{var H;(H=h.current)===null||H===void 0||H.scrollTo(void 0)})},{immediate:!0,flush:"post"});const I=H=>{H!==void 0&&o.onSelect(H,{selected:!o.rawValues.has(H)}),i.multiple||i.toggleOpen(!1)},A=H=>typeof H.label=="function"?H.label():H.label;function R(H){const W=a.value[H];if(!W)return null;const j=W.data||{},{value:X}=j,{group:K}=W,Q=XL(j,!0),oe=A(W);return W?ie("div",wt(wt({"aria-label":typeof oe=="string"&&!K?oe:null},Q),{},{key:H,role:K?"presentation":"option",id:`${i.id}_list_${H}`,"aria-selected":C(X)}),[X]):null}return r({onKeydown:H=>{const{which:W,ctrlKey:j}=H;switch(W){case yr.N:case yr.P:case yr.UP:case yr.DOWN:{let X=0;if(W===yr.UP?X=-1:W===yr.DOWN?X=1:Uge()&&j&&(W===yr.N?X=1:W===yr.P&&(X=-1)),X!==0){const K=v(b.activeIndex+X,X);m(K),x(K,!0)}break}case yr.ENTER:{const X=a.value[b.activeIndex];X&&!X.data.disabled?I(X.value):I(void 0),i.open&&H.preventDefault();break}case yr.ESC:i.toggleOpen(!1),i.open&&H.stopPropagation()}},onKeyup:()=>{},scrollTo:H=>{m(H)}}),()=>{const{id:H,notFoundContent:W,onPopupScroll:j}=i,{menuItemSelectedIcon:X,fieldNames:K,virtual:Q,listHeight:oe,listItemHeight:he}=o,ye=n.option,{activeIndex:be}=b,ce=Object.keys(K).map(de=>K[de]);return a.value.length===0?ie("div",{role:"listbox",id:`${H}_list`,class:`${s.value}-empty`,onMousedown:p},[W]):ie(pr,null,[ie("div",{role:"listbox",id:`${H}_list`,style:{height:0,width:0,overflow:"hidden"}},[R(be-1),R(be),R(be+1)]),ie(Hge,{itemKey:"key",ref:h,data:a.value,height:oe,itemHeight:he,fullHeight:!1,onMousedown:p,onScroll:j,virtual:Q},{default:(de,Oe)=>{var ze;const{group:De,groupOption:ct,data:Ke,value:gt}=de,{key:Lt}=Ke,Nt=typeof de.label=="function"?de.label():de.label;if(De){const dt=(ze=Ke.title)!==null&&ze!==void 0?ze:mB(Nt)&&Nt;return ie("div",{class:ir(s.value,`${s.value}-group`),title:dt},[ye?ye(Ke):Nt!==void 0?Nt:Lt])}const{disabled:zt,title:Ft,children:Be,style:it,class:je,className:He}=Ke,Fe=Zge(Ke,["disabled","title","children","style","class","className"]),tt=Qh(Fe,ce),me=C(gt),_e=`${s.value}-option`,qe=ir(s.value,_e,je,He,{[`${_e}-grouped`]:ct,[`${_e}-active`]:be===Oe&&!zt,[`${_e}-disabled`]:zt,[`${_e}-selected`]:me}),ht=A(de),et=!X||typeof X=="function"||me,Je=typeof ht=="number"?ht:ht||gt;let Qe=mB(Je)?Je.toString():void 0;return Ft!==void 0&&(Qe=Ft),ie("div",wt(wt({},tt),{},{"aria-selected":me,class:qe,title:Qe,onMousemove:dt=>{Fe.onMousemove&&Fe.onMousemove(dt),!(be===Oe||zt)&&x(Oe)},onClick:dt=>{zt||I(gt),Fe.onClick&&Fe.onClick(dt)},style:it}),[ie("div",{class:`${_e}-content`},[ye?ye(Ke):Je]),Jh(X)||me,et&&ie(ep,{class:`${s.value}-option-state`,customizeIcon:X,customizeIconProps:{isSelected:me}},{default:()=>[me?"":null]})])}})])}}});var Kge=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function Yge(e){const t=e,{key:r,children:n}=t,i=t.props,{value:o,disabled:s}=i,a=Kge(i,["value","disabled"]),h=n?.default;return ue({key:r,value:o!==void 0?o:r,children:h,disabled:s||s===""},a)}function oG(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return So(e).map((n,i)=>{var o;if(!Jh(n)||!n.type)return null;const{type:{isSelectOptGroup:s},key:a,children:h,props:p}=n;if(t||!s)return Yge(n);const m=h&&h.default?h.default():void 0,v=p?.label||((o=h.label)===null||o===void 0?void 0:o.call(h))||a;return ue(ue({key:`__RC_SELECT_GRP__${a===null?i:String(a)}__`},p),{label:v,options:oG(m||[])})}).filter(n=>n)}function Jge(e,t,r){const n=vt(),i=vt(),o=vt(),s=vt([]);return Zt([e,t],()=>{e.value?s.value=Ur(e.value).slice():s.value=oG(t.value)},{immediate:!0,deep:!0}),Gn(()=>{const a=s.value,h=new Map,p=new Map,m=r.value;function v(b){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(let C=0;C<b.length;C+=1){const I=b[C];!I[m.options]||x?(h.set(I[m.value],I),p.set(I[m.label],I)):v(I[m.options],!0)}}v(a),n.value=a,i.value=h,o.value=p}),{options:n,valueOptions:i,labelOptions:o}}let gB=0;const Qge=Sl();function eve(){let e;return Qge?(e=gB,gB+=1):e="TEST_OR_SSR",e}function tve(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Vt("");const t=`rc_select_${eve()}`;return e.value||t}function aG(e){return Array.isArray(e)?e:e!==void 0?[e]:[]}function pM(e,t){return aG(e).join("").toUpperCase().includes(t)}const rve=((e,t,r,n,i)=>ve(()=>{const o=r.value,s=i?.value,a=n?.value;if(!o||a===!1)return e.value;const{options:h,label:p,value:m}=t.value,v=[],b=typeof a=="function",x=o.toUpperCase(),C=b?a:(A,R)=>s?pM(R[s],x):R[h]?pM(R[p!=="children"?p:"label"],x):pM(R[m],x),I=b?A=>HE(A):A=>A;return e.value.forEach(A=>{if(A[h]){if(C(o,I(A)))v.push(A);else{const k=A[h].filter($=>C(o,I($)));k.length&&v.push(ue(ue({},A),{[h]:k}))}return}C(o,I(A))&&v.push(A)}),v})),nve=((e,t)=>{const r=vt({values:new Map,options:new Map});return[ve(()=>{const{values:o,options:s}=r.value,a=e.value.map(m=>{var v;return m.label===void 0?ue(ue({},m),{label:(v=o.get(m.value))===null||v===void 0?void 0:v.label}):m}),h=new Map,p=new Map;return a.forEach(m=>{h.set(m.value,m),p.set(m.value,t.value.get(m.value)||s.get(m.value))}),r.value.values=h,r.value.options=p,a}),o=>t.value.get(o)||r.value.options.get(o)]});function kS(e,t){const{defaultValue:r,value:n=Vt()}=t||{};let i=typeof e=="function"?e():e;n.value!==void 0&&(i=rr(n)),r!==void 0&&(i=typeof r=="function"?r():r);const o=Vt(i),s=Vt(i);Gn(()=>{let h=n.value!==void 0?n.value:o.value;t.postState&&(h=t.postState(h)),s.value=h});function a(h){const p=s.value;o.value=h,Ur(s.value)!==h&&t.onChange&&t.onChange(h,p)}return Zt(n,()=>{o.value=n.value}),[s,a]}function ui(e){const t=typeof e=="function"?e():e,r=Vt(t);function n(i){r.value=i}return[r,n]}const ive=["inputValue"];function sG(){return ue(ue({},eG()),{prefixCls:String,id:String,backfill:{type:Boolean,default:void 0},fieldNames:Object,inputValue:String,searchValue:String,onSearch:Function,autoClearSearchValue:{type:Boolean,default:void 0},onSelect:Function,onDeselect:Function,filterOption:{type:[Boolean,Function],default:void 0},filterSort:Function,optionFilterProp:String,optionLabelProp:String,options:Array,defaultActiveFirstOption:{type:Boolean,default:void 0},virtual:{type:Boolean,default:void 0},listHeight:Number,listItemHeight:Number,menuItemSelectedIcon:at.any,mode:String,labelInValue:{type:Boolean,default:void 0},value:at.any,defaultValue:at.any,onChange:Function,children:Array})}function ove(e){return!e||typeof e!="object"}const ave=St({compatConfig:{MODE:3},name:"VcSelect",inheritAttrs:!1,props:Na(sG(),{prefixCls:"vc-select",autoClearSearchValue:!0,listHeight:200,listItemHeight:20,dropdownMatchSelectWidth:!0}),setup(e,t){let{expose:r,attrs:n,slots:i}=t;const o=tve(es(e,"id")),s=ve(()=>tG(e.mode)),a=ve(()=>!!(!e.options&&e.children)),h=ve(()=>e.filterOption===void 0&&e.mode==="combobox"?!1:e.filterOption),p=ve(()=>fH(e.fieldNames,a.value)),[m,v]=kS("",{value:ve(()=>e.searchValue!==void 0?e.searchValue:e.inputValue),postState:je=>je||""}),b=Jge(es(e,"options"),es(e,"children"),p),{valueOptions:x,labelOptions:C,options:I}=b,A=je=>aG(je).map(Fe=>{var tt,me;let _e,qe,ht,et;ove(Fe)?_e=Fe:(ht=Fe.key,qe=Fe.label,_e=(tt=Fe.value)!==null&&tt!==void 0?tt:ht);const Je=x.value.get(_e);return Je&&(qe===void 0&&(qe=Je?.[e.optionLabelProp||p.value.label]),ht===void 0&&(ht=(me=Je?.key)!==null&&me!==void 0?me:_e),et=Je?.disabled),{label:qe,value:_e,key:ht,disabled:et,option:Je}}),[R,k]=kS(e.defaultValue,{value:es(e,"value")}),$=ve(()=>{var je;const He=A(R.value);return e.mode==="combobox"&&!(!((je=He[0])===null||je===void 0)&&je.value)?[]:He}),[N,H]=nve($,x),W=ve(()=>{if(!e.mode&&N.value.length===1){const je=N.value[0];if(je.value===null&&(je.label===null||je.label===void 0))return[]}return N.value.map(je=>{var He;return ue(ue({},je),{label:(He=typeof je.label=="function"?je.label():je.label)!==null&&He!==void 0?He:je.value})})}),j=ve(()=>new Set(N.value.map(je=>je.value)));Gn(()=>{var je;if(e.mode==="combobox"){const He=(je=N.value[0])===null||je===void 0?void 0:je.value;He!=null&&v(String(He))}},{flush:"post"});const X=(je,He)=>{const Fe=He??je;return{[p.value.value]:je,[p.value.label]:Fe}},K=vt();Gn(()=>{if(e.mode!=="tags"){K.value=I.value;return}const je=I.value.slice(),He=Fe=>x.value.has(Fe);[...N.value].sort((Fe,tt)=>Fe.value<tt.value?-1:1).forEach(Fe=>{const tt=Fe.value;He(tt)||je.push(X(tt,Fe.label))}),K.value=je});const Q=rve(K,p,m,h,es(e,"optionFilterProp")),oe=ve(()=>e.mode!=="tags"||!m.value||Q.value.some(je=>je[e.optionFilterProp||"value"]===m.value)?Q.value:[X(m.value),...Q.value]),he=ve(()=>e.filterSort?[...oe.value].sort((je,He)=>e.filterSort(je,He)):oe.value),ye=ve(()=>mde(he.value,{fieldNames:p.value,childrenAsData:a.value})),be=je=>{const He=A(je);if(k(He),e.onChange&&(He.length!==N.value.length||He.some((Fe,tt)=>{var me;return((me=N.value[tt])===null||me===void 0?void 0:me.value)!==Fe?.value}))){const Fe=e.labelInValue?He.map(me=>ue(ue({},me),{originLabel:me.label,label:typeof me.label=="function"?me.label():me.label})):He.map(me=>me.value),tt=He.map(me=>HE(H(me.value)));e.onChange(s.value?Fe:Fe[0],s.value?tt:tt[0])}},[ce,de]=ui(null),[Oe,ze]=ui(0),De=ve(()=>e.defaultActiveFirstOption!==void 0?e.defaultActiveFirstOption:e.mode!=="combobox"),ct=function(je,He){let{source:Fe="keyboard"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};ze(He),e.backfill&&e.mode==="combobox"&&je!==null&&Fe==="keyboard"&&de(String(je))},Ke=(je,He)=>{const Fe=()=>{var tt;const me=H(je),_e=me?.[p.value.label];return[e.labelInValue?{label:typeof _e=="function"?_e():_e,originLabel:_e,value:je,key:(tt=me?.key)!==null&&tt!==void 0?tt:je}:je,HE(me)]};if(He&&e.onSelect){const[tt,me]=Fe();e.onSelect(tt,me)}else if(!He&&e.onDeselect){const[tt,me]=Fe();e.onDeselect(tt,me)}},gt=(je,He)=>{let Fe;const tt=s.value?He.selected:!0;tt?Fe=s.value?[...N.value,je]:[je]:Fe=N.value.filter(me=>me.value!==je),be(Fe),Ke(je,tt),e.mode==="combobox"?de(""):(!s.value||e.autoClearSearchValue)&&(v(""),de(""))},Lt=(je,He)=>{be(je),(He.type==="remove"||He.type==="clear")&&He.values.forEach(Fe=>{Ke(Fe.value,!1)})},Nt=(je,He)=>{var Fe;if(v(je),de(null),He.source==="submit"){const tt=(je||"").trim();if(tt){const me=Array.from(new Set([...j.value,tt]));be(me),Ke(tt,!0),v("")}return}He.source!=="blur"&&(e.mode==="combobox"&&be(je),(Fe=e.onSearch)===null||Fe===void 0||Fe.call(e,je))},zt=je=>{let He=je;e.mode!=="tags"&&(He=je.map(tt=>{const me=C.value.get(tt);return me?.value}).filter(tt=>tt!==void 0));const Fe=Array.from(new Set([...j.value,...He]));be(Fe),Fe.forEach(tt=>{Ke(tt,!0)})},Ft=ve(()=>e.virtual!==!1&&e.dropdownMatchSelectWidth!==!1);Wge(QH(ue(ue({},b),{flattenOptions:ye,onActiveValue:ct,defaultActiveFirstOption:De,onSelect:gt,menuItemSelectedIcon:es(e,"menuItemSelectedIcon"),rawValues:j,fieldNames:p,virtual:Ft,listHeight:es(e,"listHeight"),listItemHeight:es(e,"listItemHeight"),childrenAsData:a})));const Be=Vt();r({focus(){var je;(je=Be.value)===null||je===void 0||je.focus()},blur(){var je;(je=Be.value)===null||je===void 0||je.blur()},scrollTo(je){var He;(He=Be.value)===null||He===void 0||He.scrollTo(je)}});const it=ve(()=>Qh(e,["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"]));return()=>ie(Age,wt(wt(wt({},it.value),n),{},{id:o,prefixCls:e.prefixCls,ref:Be,omitDomProps:ive,mode:e.mode,displayValues:W.value,onDisplayValuesChange:Lt,searchValue:m.value,onSearch:Nt,onSearchSplit:zt,dropdownMatchSelectWidth:e.dropdownMatchSelectWidth,OptionList:Xge,emptyOptions:!ye.value.length,activeValue:ce.value,activeDescendantId:`${o}_list_${Oe.value}`}),i)}}),JL=()=>null;JL.isSelectOption=!0;JL.displayName="ASelectOption";const QL=()=>null;QL.isSelectOptGroup=!0;QL.displayName="ASelectOptGroup";var sve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},lve=Symbol("iconContext"),lG=function(){return Ir(lve,{prefixCls:Vt("anticon"),rootClassName:Vt(""),csp:Vt()})};function eR(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function uve(e,t){return e&&e.contains?e.contains(t):!1}var vB="data-vc-order",cve="vc-icon-key",JE=new Map;function uG(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):cve}function tR(e){if(e.attachTo)return e.attachTo;var t=document.querySelector("head");return t||document.body}function hve(e){return e==="queue"?"prependQueue":e?"prepend":"append"}function cG(e){return Array.from((JE.get(e)||e).children).filter(function(t){return t.tagName==="STYLE"})}function hG(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!eR())return null;var r=t.csp,n=t.prepend,i=document.createElement("style");i.setAttribute(vB,hve(n)),r&&r.nonce&&(i.nonce=r.nonce),i.innerHTML=e;var o=tR(t),s=o.firstChild;if(n){if(n==="queue"){var a=cG(o).filter(function(h){return["prepend","prependQueue"].includes(h.getAttribute(vB))});if(a.length)return o.insertBefore(i,a[a.length-1].nextSibling),i}o.insertBefore(i,s)}else o.appendChild(i);return i}function dve(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=tR(t);return cG(r).find(function(n){return n.getAttribute(uG(t))===e})}function fve(e,t){var r=JE.get(e);if(!r||!uve(document,r)){var n=hG("",t),i=n.parentNode;JE.set(e,i),e.removeChild(n)}}function pve(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=tR(r);fve(n,r);var i=dve(t,r);if(i)return r.csp&&r.csp.nonce&&i.nonce!==r.csp.nonce&&(i.nonce=r.csp.nonce),i.innerHTML!==e&&(i.innerHTML=e),i;var o=hG(e,r);return o.setAttribute(uG(r),t),o}function yB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){mve(e,i,r[i])})}return e}function mve(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _B(e){return typeof e=="object"&&typeof e.name=="string"&&typeof e.theme=="string"&&(typeof e.icon=="object"||typeof e.icon=="function")}function QE(e,t,r){return r?Wt(e.tag,yB({key:t},r,e.attrs),(e.children||[]).map(function(n,i){return QE(n,"".concat(t,"-").concat(e.tag,"-").concat(i))})):Wt(e.tag,yB({key:t},e.attrs),(e.children||[]).map(function(n,i){return QE(n,"".concat(t,"-").concat(e.tag,"-").concat(i))}))}function dG(e){return xc(e)[0]}function fG(e){return e?Array.isArray(e)?e:[e]:[]}var gve=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`;function pG(e){return e&&e.getRootNode&&e.getRootNode()}function vve(e){return eR()?pG(e)instanceof ShadowRoot:!1}function yve(e){return vve(e)?pG(e):null}var _ve=function(){var t=lG(),r=t.prefixCls,n=t.csp,i=Yi(),o=gve;r&&(o=o.replace(/anticon/g,r.value)),_i(function(){if(eR()){var s=i.vnode.el,a=yve(s);pve(o,"@ant-design-vue-icons",{prepend:!0,csp:n.value,attachTo:a})}})},bve=["icon","primaryColor","secondaryColor"];function xve(e,t){if(e==null)return{};var r=wve(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wve(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Ww(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Sve(e,i,r[i])})}return e}function Sve(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var q_=ki({primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1});function Tve(e){var t=e.primaryColor,r=e.secondaryColor;q_.primaryColor=t,q_.secondaryColor=r||dG(t),q_.calculated=!!r}function Cve(){return Ww({},q_)}var ed=function(t,r){var n=Ww({},t,r.attrs),i=n.icon,o=n.primaryColor,s=n.secondaryColor,a=xve(n,bve),h=q_;if(o&&(h={primaryColor:o,secondaryColor:s||dG(o)}),_B(i),!_B(i))return null;var p=i;return p&&typeof p.icon=="function"&&(p=Ww({},p,{icon:p.icon(h.primaryColor,h.secondaryColor)})),QE(p.icon,"svg-".concat(p.name),Ww({},a,{"data-icon":p.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"}))};ed.props={icon:Object,primaryColor:String,secondaryColor:String,focusable:String};ed.inheritAttrs=!1;ed.displayName="IconBase";ed.getTwoToneColors=Cve;ed.setTwoToneColors=Tve;function Pve(e,t){return Ave(e)||Eve(e,t)||Ive(e,t)||Mve()}function Mve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ive(e,t){if(e){if(typeof e=="string")return bB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bB(e,t)}}function bB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Eve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,s,a;try{for(r=r.call(e);!(i=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));i=!0);}catch(h){o=!0,a=h}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw a}}return n}}function Ave(e){if(Array.isArray(e))return e}function mG(e){var t=fG(e),r=Pve(t,2),n=r[0],i=r[1];return ed.setTwoToneColors({primaryColor:n,secondaryColor:i})}function Dve(){var e=ed.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}var Lve=St({name:"InsertStyles",setup:function(){return _ve(),function(){return null}}}),Rve=["class","icon","spin","rotate","tabindex","twoToneColor","onClick"];function Ove(e,t){return Bve(e)||zve(e,t)||$ve(e,t)||kve()}function kve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ve(e,t){if(e){if(typeof e=="string")return xB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xB(e,t)}}function xB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,s,a;try{for(r=r.call(e);!(i=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));i=!0);}catch(h){o=!0,a=h}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw a}}return n}}function Bve(e){if(Array.isArray(e))return e}function wB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){T_(e,i,r[i])})}return e}function T_(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fve(e,t){if(e==null)return{};var r=Nve(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Nve(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}mG(The.primary);var zi=function(t,r){var n,i=wB({},t,r.attrs),o=i.class,s=i.icon,a=i.spin,h=i.rotate,p=i.tabindex,m=i.twoToneColor,v=i.onClick,b=Fve(i,Rve),x=lG(),C=x.prefixCls,I=x.rootClassName,A=(n={},T_(n,I.value,!!I.value),T_(n,C.value,!0),T_(n,"".concat(C.value,"-").concat(s.name),!!s.name),T_(n,"".concat(C.value,"-spin"),!!a||s.name==="loading"),n),R=p;R===void 0&&v&&(R=-1);var k=h?{msTransform:"rotate(".concat(h,"deg)"),transform:"rotate(".concat(h,"deg)")}:void 0,$=fG(m),N=Ove($,2),H=N[0],W=N[1];return ie("span",wB({role:"img","aria-label":s.name},b,{onClick:v,class:[A,o],tabindex:R}),[ie(ed,{icon:s,primaryColor:H,secondaryColor:W,style:k},null),ie(Lve,null,null)])};zi.props={spin:Boolean,rotate:Number,icon:Object,twoToneColor:[String,Array]};zi.displayName="AntdIcon";zi.inheritAttrs=!1;zi.getTwoToneColor=Dve;zi.setTwoToneColor=mG;function SB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Vve(e,i,r[i])})}return e}function Vve(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rR=function(t,r){var n=SB({},t,r.attrs);return ie(zi,SB({},n,{icon:sve}),null)};rR.displayName="DownOutlined";rR.inheritAttrs=!1;var jve={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};function TB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Hve(e,i,r[i])})}return e}function Hve(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var wc=function(t,r){var n=TB({},t,r.attrs);return ie(zi,TB({},n,{icon:jve}),null)};wc.displayName="LoadingOutlined";wc.inheritAttrs=!1;var Gve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};function CB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Uve(e,i,r[i])})}return e}function Uve(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var nR=function(t,r){var n=CB({},t,r.attrs);return ie(zi,CB({},n,{icon:Gve}),null)};nR.displayName="CheckOutlined";nR.inheritAttrs=!1;var Wve={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};function PB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){qve(e,i,r[i])})}return e}function qve(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var td=function(t,r){var n=PB({},t,r.attrs);return ie(zi,PB({},n,{icon:Wve}),null)};td.displayName="CloseOutlined";td.inheritAttrs=!1;var Zve={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};function MB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Xve(e,i,r[i])})}return e}function Xve(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fp=function(t,r){var n=MB({},t,r.attrs);return ie(zi,MB({},n,{icon:Zve}),null)};fp.displayName="CloseCircleFilled";fp.inheritAttrs=!1;var Kve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};function IB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Yve(e,i,r[i])})}return e}function Yve(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var iR=function(t,r){var n=IB({},t,r.attrs);return ie(zi,IB({},n,{icon:Kve}),null)};iR.displayName="SearchOutlined";iR.inheritAttrs=!1;function Jve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{loading:r,multiple:n,prefixCls:i,hasFeedback:o,feedbackIcon:s,showArrow:a}=e,h=e.suffixIcon||t.suffixIcon&&t.suffixIcon(),p=e.clearIcon||t.clearIcon&&t.clearIcon(),m=e.menuItemSelectedIcon||t.menuItemSelectedIcon&&t.menuItemSelectedIcon(),v=e.removeIcon||t.removeIcon&&t.removeIcon(),b=p??ie(fp,null,null),x=R=>ie(pr,null,[a!==!1&&R,o&&s]);let C=null;if(h!==void 0)C=x(h);else if(r)C=x(ie(wc,{spin:!0},null));else{const R=`${i}-suffix`;C=k=>{let{open:$,showSearch:N}=k;return x($&&N?ie(iR,{class:R},null):ie(rR,{class:R},null))}}let I=null;m!==void 0?I=m:n?I=ie(nR,null,null):I=null;let A=null;return v!==void 0?A=v:A=ie(td,null,null),{clearIcon:b,suffixIcon:C,itemIcon:I,removeIcon:A}}function oR(e){const t=Symbol("contextKey");return{useProvide:(i,o)=>{const s=ki({});return un(t,s),Gn(()=>{ue(s,i,o||{})}),s},useInject:()=>Ir(t,e)||{}}}const EB=Symbol("ContextProps"),AB=Symbol("InternalContextProps"),DB={id:ve(()=>{}),onFieldBlur:()=>{},onFieldChange:()=>{},clearValidate:()=>{}},LB={addFormItemField:()=>{},removeFormItemField:()=>{}},gG=()=>{const e=Ir(AB,LB),t=Symbol("FormItemFieldKey"),r=Yi();return e.addFormItemField(t,r.type),hi(()=>{e.removeFormItemField(t)}),un(AB,LB),un(EB,DB),Ir(EB,DB)},Qve=oR({});function eye(e,t,r){return ir({[`${e}-status-success`]:t==="success",[`${e}-status-warning`]:t==="warning",[`${e}-status-error`]:t==="error",[`${e}-status-validating`]:t==="validating",[`${e}-has-feedback`]:r})}const tye=(e,t)=>t||e,rye=e=>{const{componentCls:t}=e;return{[t]:{display:"inline-flex","&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},nye=e=>{const{componentCls:t}=e;return{[t]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${t}-item`]:{"&:empty":{display:"none"}}}}},iye=zo("Space",e=>[nye(e),rye(e)]);var oye="[object Symbol]";function aR(e){return typeof e=="symbol"||Qf(e)&&cp(e)==oye}function aye(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var RB=mu?mu.prototype:void 0,OB=RB?RB.toString:void 0;function vG(e){if(typeof e=="string")return e;if(gu(e))return aye(e,vG)+"";if(aR(e))return OB?OB.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function sye(e){return e}function lye(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function uye(){}var cye=800,hye=16,dye=Date.now;function fye(e){var t=0,r=0;return function(){var n=dye(),i=hye-(n-r);if(r=n,i>0){if(++t>=cye)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function pye(e){return function(){return e}}var $S=(function(){try{var e=dp(Object,"defineProperty");return e({},"",{}),e}catch{}})(),mye=$S?function(e,t){return $S(e,"toString",{configurable:!0,enumerable:!1,value:pye(t),writable:!0})}:sye,gye=fye(mye);function vye(e,t,r,n){for(var i=e.length,o=r+-1;++o<i;)if(t(e[o],o,e))return o;return-1}function yye(e){return e!==e}function _ye(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}function bye(e,t,r){return t===t?_ye(e,t,r):vye(e,yye,r)}function xye(e,t){var r=e==null?0:e.length;return!!r&&bye(e,t,0)>-1}function wye(e,t,r){t=="__proto__"&&$S?$S(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Sye=Object.prototype,Tye=Sye.hasOwnProperty;function Cye(e,t,r){var n=e[t];(!(Tye.call(e,t)&&GL(n,r))||r===void 0&&!(t in e))&&wye(e,t,r)}var kB=Math.max;function Pye(e,t,r){return t=kB(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=kB(n.length-t,0),s=Array(o);++i<o;)s[i]=n[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=n[i];return a[t]=r(s),lye(e,this,a)}}var Mye=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Iye=/^\w*$/;function Eye(e,t){if(gu(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||aR(e)?!0:Iye.test(e)||!Mye.test(e)||t!=null&&e in Object(t)}var Aye="Expected a function";function sR(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Aye);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(sR.Cache||Dc),r}sR.Cache=Dc;var Dye=500;function Lye(e){var t=sR(e,function(n){return r.size===Dye&&r.clear(),n}),r=t.cache;return t}var Rye=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Oye=/\\(\\)?/g,kye=Lye(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Rye,function(r,n,i,o){t.push(i?o.replace(Oye,"$1"):n||r)}),t});function $ye(e){return e==null?"":vG(e)}function lT(e,t){return gu(e)?e:Eye(e,t)?[e]:kye($ye(e))}function lR(e){if(typeof e=="string"||aR(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function zye(e,t){t=lT(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[lR(t[r++])];return r&&r==n?e:void 0}var $B=mu?mu.isConcatSpreadable:void 0;function Bye(e){return gu(e)||oT(e)||!!($B&&e&&e[$B])}function Fye(e,t,r,n,i){var o=-1,s=e.length;for(r||(r=Bye),i||(i=[]);++o<s;){var a=e[o];r(a)?DH(i,a):i[i.length]=a}return i}function Nye(e){var t=e==null?0:e.length;return t?Fye(e):[]}function Vye(e){return gye(Pye(e,void 0,Nye),e+"")}var jye=$H(Object.getPrototypeOf,Object),Hye="[object Object]",Gye=Function.prototype,Uye=Object.prototype,yG=Gye.toString,Wye=Uye.hasOwnProperty,qye=yG.call(Object);function Zye(e){if(!Qf(e)||cp(e)!=Hye)return!1;var t=jye(e);if(t===null)return!0;var r=Wye.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&yG.call(r)==qye}function Xye(e,t){return e!=null&&t in Object(e)}function Kye(e,t,r){t=lT(t,e);for(var n=-1,i=t.length,o=!1;++n<i;){var s=lR(t[n]);if(!(o=e!=null&&r(e,s)))break;e=e[s]}return o||++n!=i?o:(i=e==null?0:e.length,!!i&&qL(i)&&WL(s,i)&&(gu(e)||oT(e)))}function Yye(e,t){return e!=null&&Kye(e,t,Xye)}var Jye="[object Map]",Qye="[object Set]",e_e=Object.prototype,t_e=e_e.hasOwnProperty;function _G(e){if(e==null)return!0;if(BH(e)&&(gu(e)||typeof e=="string"||typeof e.splice=="function"||OS(e)||ZL(e)||oT(e)))return!e.length;var t=oc(e);if(t==Jye||t==Qye)return!e.size;if(kH(e))return!zH(e).length;for(var r in e)if(t_e.call(e,r))return!1;return!0}function r_e(e,t,r,n){if(!RS(e))return e;t=lT(t,e);for(var i=-1,o=t.length,s=o-1,a=e;a!=null&&++i<o;){var h=lR(t[i]),p=r;if(h==="__proto__"||h==="constructor"||h==="prototype")return e;if(i!=s){var m=a[h];p=void 0,p===void 0&&(p=RS(m)?m:WL(t[i+1])?[]:{})}Cye(a,h,p),a=a[h]}return e}function n_e(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var s=t[n],a=zye(e,s);r(a,s)&&r_e(o,lT(s,e),a)}return o}function i_e(e,t){return n_e(e,t,function(r,n){return Yye(e,n)})}var bG=Vye(function(e,t){return e==null?{}:i_e(e,t)}),o_e=1/0,a_e=bg&&1/UL(new bg([,-0]))[1]==o_e?function(e){return new bg(e)}:uye,s_e=200;function l_e(e,t,r){var n=-1,i=xye,o=e.length,s=!0,a=[],h=a;if(o>=s_e){var p=a_e(e);if(p)return UL(p);s=!1,i=EH,h=new R0}else h=a;e:for(;++n<o;){var m=e[n],v=m;if(m=m!==0?m:0,s&&v===v){for(var b=h.length;b--;)if(h[b]===v)continue e;a.push(m)}else i(h,v,r)||(h!==a&&h.push(v),a.push(m))}return a}function mM(e){return e&&e.length?l_e(e):[]}const u_e=()=>({compactSize:String,compactDirection:at.oneOf(T0("horizontal","vertical")).def("horizontal"),isFirstItem:Xi(),isLastItem:Xi()}),uR=oR(null),xG=(e,t)=>{const r=uR.useInject(),n=ve(()=>{if(!r||_G(r))return"";const{compactDirection:i,isFirstItem:o,isLastItem:s}=r,a=i==="vertical"?"-vertical-":"-";return ir({[`${e.value}-compact${a}item`]:!0,[`${e.value}-compact${a}first-item`]:o,[`${e.value}-compact${a}last-item`]:s,[`${e.value}-compact${a}item-rtl`]:t.value==="rtl"})});return{compactSize:ve(()=>r?.compactSize),compactDirection:ve(()=>r?.compactDirection),compactItemClassnames:n}},c_e=()=>({prefixCls:String,size:{type:String},direction:at.oneOf(T0("horizontal","vertical")).def("horizontal"),align:at.oneOf(T0("start","end","center","baseline")),block:{type:Boolean,default:void 0}}),h_e=St({name:"CompactItem",props:u_e(),setup(e,t){let{slots:r}=t;return uR.useProvide(e),()=>{var n;return(n=r.default)===null||n===void 0?void 0:n.call(r)}}});c_e();const d_e=e=>({animationDuration:e,animationFillMode:"both"}),f_e=e=>({animationDuration:e,animationFillMode:"both"}),cR=function(e,t,r,n){const o=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${o}${e}-enter,
      ${o}${e}-appear
    `]:ue(ue({},d_e(n)),{animationPlayState:"paused"}),[`${o}${e}-leave`]:ue(ue({},f_e(n)),{animationPlayState:"paused"}),[`
      ${o}${e}-enter${e}-enter-active,
      ${o}${e}-appear${e}-appear-active
    `]:{animationName:t,animationPlayState:"running"},[`${o}${e}-leave${e}-leave-active`]:{animationName:r,animationPlayState:"running",pointerEvents:"none"}}},p_e=new Kr("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),m_e=new Kr("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),g_e=new Kr("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),v_e=new Kr("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),y_e=new Kr("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),__e=new Kr("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),b_e=new Kr("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),x_e=new Kr("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),w_e={"move-up":{inKeyframes:b_e,outKeyframes:x_e},"move-down":{inKeyframes:p_e,outKeyframes:m_e},"move-left":{inKeyframes:g_e,outKeyframes:v_e},"move-right":{inKeyframes:y_e,outKeyframes:__e}},zB=(e,t)=>{const{antCls:r}=e,n=`${r}-${t}`,{inKeyframes:i,outKeyframes:o}=w_e[t];return[cR(n,i,o,e.motionDurationMid),{[`
        ${n}-enter,
        ${n}-appear
      `]:{opacity:0,animationTimingFunction:e.motionEaseOutCirc},[`${n}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]},wG=new Kr("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),SG=new Kr("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),TG=new Kr("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),CG=new Kr("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),S_e=new Kr("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),T_e=new Kr("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),C_e=new Kr("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),P_e=new Kr("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),M_e={"slide-up":{inKeyframes:wG,outKeyframes:SG},"slide-down":{inKeyframes:TG,outKeyframes:CG},"slide-left":{inKeyframes:S_e,outKeyframes:T_e},"slide-right":{inKeyframes:C_e,outKeyframes:P_e}},Wg=(e,t)=>{const{antCls:r}=e,n=`${r}-${t}`,{inKeyframes:i,outKeyframes:o}=M_e[t];return[cR(n,i,o,e.motionDurationMid),{[`
      ${n}-enter,
      ${n}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:e.motionEaseOutQuint},[`${n}-leave`]:{animationTimingFunction:e.motionEaseInQuint}}]},I_e=new Kr("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),E_e=new Kr("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),BB=new Kr("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),FB=new Kr("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),A_e=new Kr("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),D_e=new Kr("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),L_e=new Kr("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),R_e=new Kr("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),O_e=new Kr("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),k_e=new Kr("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),$_e=new Kr("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),z_e=new Kr("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),B_e={zoom:{inKeyframes:I_e,outKeyframes:E_e},"zoom-big":{inKeyframes:BB,outKeyframes:FB},"zoom-big-fast":{inKeyframes:BB,outKeyframes:FB},"zoom-left":{inKeyframes:L_e,outKeyframes:R_e},"zoom-right":{inKeyframes:O_e,outKeyframes:k_e},"zoom-up":{inKeyframes:A_e,outKeyframes:D_e},"zoom-down":{inKeyframes:$_e,outKeyframes:z_e}},PG=(e,t)=>{const{antCls:r}=e,n=`${r}-${t}`,{inKeyframes:i,outKeyframes:o}=B_e[t];return[cR(n,i,o,t==="zoom-big-fast"?e.motionDurationFast:e.motionDurationMid),{[`
        ${n}-enter,
        ${n}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${n}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]},MG=e=>({[e.componentCls]:{[`${e.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}},[`${e.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}}}),NB=e=>{const{controlPaddingHorizontal:t}=e;return{position:"relative",display:"block",minHeight:e.controlHeight,padding:`${(e.controlHeight-e.fontSize*e.lineHeight)/2}px ${t}px`,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,boxSizing:"border-box"}},F_e=e=>{const{antCls:t,componentCls:r}=e,n=`${r}-item`;return[{[`${r}-dropdown`]:ue(ue({},_a(e)),{position:"absolute",top:-9999,zIndex:e.zIndexPopup,boxSizing:"border-box",padding:e.paddingXXS,overflow:"hidden",fontSize:e.fontSize,fontVariant:"initial",backgroundColor:e.colorBgElevated,borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,[`
            &${t}-slide-up-enter${t}-slide-up-enter-active${r}-dropdown-placement-bottomLeft,
            &${t}-slide-up-appear${t}-slide-up-appear-active${r}-dropdown-placement-bottomLeft
          `]:{animationName:wG},[`
            &${t}-slide-up-enter${t}-slide-up-enter-active${r}-dropdown-placement-topLeft,
            &${t}-slide-up-appear${t}-slide-up-appear-active${r}-dropdown-placement-topLeft
          `]:{animationName:TG},[`&${t}-slide-up-leave${t}-slide-up-leave-active${r}-dropdown-placement-bottomLeft`]:{animationName:SG},[`&${t}-slide-up-leave${t}-slide-up-leave-active${r}-dropdown-placement-topLeft`]:{animationName:CG},"&-hidden":{display:"none"},"&-empty":{color:e.colorTextDisabled},[`${n}-empty`]:ue(ue({},NB(e)),{color:e.colorTextDisabled}),[`${n}`]:ue(ue({},NB(e)),{cursor:"pointer",transition:`background ${e.motionDurationSlow} ease`,borderRadius:e.borderRadiusSM,"&-group":{color:e.colorTextDescription,fontSize:e.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":ue({flex:"auto"},Wh),"&-state":{flex:"none"},[`&-active:not(${n}-option-disabled)`]:{backgroundColor:e.controlItemBgHover},[`&-selected:not(${n}-option-disabled)`]:{color:e.colorText,fontWeight:e.fontWeightStrong,backgroundColor:e.controlItemBgActive,[`${n}-option-state`]:{color:e.colorPrimary}},"&-disabled":{[`&${n}-option-selected`]:{backgroundColor:e.colorBgContainerDisabled},color:e.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:e.controlPaddingHorizontal*2}}}),"&-rtl":{direction:"rtl"}})},Wg(e,"slide-up"),Wg(e,"slide-down"),zB(e,"move-up"),zB(e,"move-down")]},Sm=2;function IG(e){let{controlHeightSM:t,controlHeight:r,lineWidth:n}=e;const i=(r-t)/2-n,o=Math.ceil(i/2);return[i,o]}function gM(e,t){const{componentCls:r,iconCls:n}=e,i=`${r}-selection-overflow`,o=e.controlHeightSM,[s]=IG(e),a=t?`${r}-${t}`:"";return{[`${r}-multiple${a}`]:{fontSize:e.fontSize,[i]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"}},[`${r}-selector`]:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:`${s-Sm}px ${Sm*2}px`,borderRadius:e.borderRadius,[`${r}-show-search&`]:{cursor:"text"},[`${r}-disabled&`]:{background:e.colorBgContainerDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${Sm}px 0`,lineHeight:`${o}px`,content:'"\\a0"'}},[`
        &${r}-show-arrow ${r}-selector,
        &${r}-allow-clear ${r}-selector
      `]:{paddingInlineEnd:e.fontSizeIcon+e.controlPaddingHorizontal},[`${r}-selection-item`]:{position:"relative",display:"flex",flex:"none",boxSizing:"border-box",maxWidth:"100%",height:o,marginTop:Sm,marginBottom:Sm,lineHeight:`${o-e.lineWidth*2}px`,background:e.colorFillSecondary,border:`${e.lineWidth}px solid ${e.colorSplit}`,borderRadius:e.borderRadiusSM,cursor:"default",transition:`font-size ${e.motionDurationSlow}, line-height ${e.motionDurationSlow}, height ${e.motionDurationSlow}`,userSelect:"none",marginInlineEnd:Sm*2,paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS/2,[`${r}-disabled&`]:{color:e.colorTextDisabled,borderColor:e.colorBorder,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:e.paddingXS/2,overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":ue(ue({},_b()),{display:"inline-block",color:e.colorIcon,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${n}`]:{verticalAlign:"-0.2em"},"&:hover":{color:e.colorIconHover}})},[`${i}-item + ${i}-item`]:{[`${r}-selection-search`]:{marginInlineStart:0}},[`${r}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:e.inputPaddingHorizontalBase-s,"\n          &-input,\n          &-mirror\n        ":{height:o,fontFamily:e.fontFamily,lineHeight:`${o}px`,transition:`all ${e.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${r}-selection-placeholder `]:{position:"absolute",top:"50%",insetInlineStart:e.inputPaddingHorizontalBase,insetInlineEnd:e.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${e.motionDurationSlow}`}}}}function N_e(e){const{componentCls:t}=e,r=Un(e,{controlHeight:e.controlHeightSM,controlHeightSM:e.controlHeightXS,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS}),[,n]=IG(e);return[gM(e),gM(r,"sm"),{[`${t}-multiple${t}-sm`]:{[`${t}-selection-placeholder`]:{insetInlineStart:e.controlPaddingHorizontalSM-e.lineWidth,insetInlineEnd:"auto"},[`${t}-selection-search`]:{marginInlineStart:n}}},gM(Un(e,{fontSize:e.fontSizeLG,controlHeight:e.controlHeightLG,controlHeightSM:e.controlHeight,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius}),"lg")]}function vM(e,t){const{componentCls:r,inputPaddingHorizontalBase:n,borderRadius:i}=e,o=e.controlHeight-e.lineWidth*2,s=Math.ceil(e.fontSize*1.25),a=t?`${r}-${t}`:"";return{[`${r}-single${a}`]:{fontSize:e.fontSize,[`${r}-selector`]:ue(ue({},_a(e)),{display:"flex",borderRadius:i,[`${r}-selection-search`]:{position:"absolute",top:0,insetInlineStart:n,insetInlineEnd:n,bottom:0,"&-input":{width:"100%"}},[`
          ${r}-selection-item,
          ${r}-selection-placeholder
        `]:{padding:0,lineHeight:`${o}px`,transition:`all ${e.motionDurationSlow}`,"@supports (-moz-appearance: meterbar)":{lineHeight:`${o}px`}},[`${r}-selection-item`]:{position:"relative",userSelect:"none"},[`${r}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${r}-selection-item:after`,`${r}-selection-placeholder:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${r}-show-arrow ${r}-selection-item,
        &${r}-show-arrow ${r}-selection-placeholder
      `]:{paddingInlineEnd:s},[`&${r}-open ${r}-selection-item`]:{color:e.colorTextPlaceholder},[`&:not(${r}-customize-input)`]:{[`${r}-selector`]:{width:"100%",height:e.controlHeight,padding:`0 ${n}px`,[`${r}-selection-search-input`]:{height:o},"&:after":{lineHeight:`${o}px`}}},[`&${r}-customize-input`]:{[`${r}-selector`]:{"&:after":{display:"none"},[`${r}-selection-search`]:{position:"static",width:"100%"},[`${r}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${n}px`,"&:after":{display:"none"}}}}}}}function V_e(e){const{componentCls:t}=e,r=e.controlPaddingHorizontalSM-e.lineWidth;return[vM(e),vM(Un(e,{controlHeight:e.controlHeightSM,borderRadius:e.borderRadiusSM}),"sm"),{[`${t}-single${t}-sm`]:{[`&:not(${t}-customize-input)`]:{[`${t}-selection-search`]:{insetInlineStart:r,insetInlineEnd:r},[`${t}-selector`]:{padding:`0 ${r}px`},[`&${t}-show-arrow ${t}-selection-search`]:{insetInlineEnd:r+e.fontSize*1.5},[`
            &${t}-show-arrow ${t}-selection-item,
            &${t}-show-arrow ${t}-selection-placeholder
          `]:{paddingInlineEnd:e.fontSize*1.5}}}},vM(Un(e,{controlHeight:e.controlHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG}),"lg")]}function j_e(e,t,r){const{focusElCls:n,focus:i,borderElCls:o}=r,s=o?"> *":"",a=["hover",i?"focus":null,"active"].filter(Boolean).map(h=>`&:${h} ${s}`).join(",");return{[`&-item:not(${t}-last-item)`]:{marginInlineEnd:-e.lineWidth},"&-item":ue(ue({[a]:{zIndex:2}},n?{[`&${n}`]:{zIndex:2}}:{}),{[`&[disabled] ${s}`]:{zIndex:0}})}}function H_e(e,t,r){const{borderElCls:n}=r,i=n?`> ${n}`:"";return{[`&-item:not(${t}-first-item):not(${t}-last-item) ${i}`]:{borderRadius:0},[`&-item:not(${t}-last-item)${t}-first-item`]:{[`& ${i}, &${e}-sm ${i}, &${e}-lg ${i}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${t}-first-item)${t}-last-item`]:{[`& ${i}, &${e}-sm ${i}, &${e}-lg ${i}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function EG(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:r}=e,n=`${r}-compact`;return{[n]:ue(ue({},j_e(e,n,t)),H_e(r,n,t))}}const G_e=e=>{const{componentCls:t}=e;return{position:"relative",backgroundColor:e.colorBgContainer,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,input:{cursor:"pointer"},[`${t}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit"}},[`${t}-disabled&`]:{color:e.colorTextDisabled,background:e.colorBgContainerDisabled,cursor:"not-allowed",[`${t}-multiple&`]:{background:e.colorBgContainerDisabled},input:{cursor:"not-allowed"}}}},yM=function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{componentCls:n,borderHoverColor:i,outlineColor:o,antCls:s}=t,a=r?{[`${n}-selector`]:{borderColor:i}}:{};return{[e]:{[`&:not(${n}-disabled):not(${n}-customize-input):not(${s}-pagination-size-changer)`]:ue(ue({},a),{[`${n}-focused& ${n}-selector`]:{borderColor:i,boxShadow:`0 0 0 ${t.controlOutlineWidth}px ${o}`,borderInlineEndWidth:`${t.controlLineWidth}px !important`,outline:0},[`&:hover ${n}-selector`]:{borderColor:i,borderInlineEndWidth:`${t.controlLineWidth}px !important`}})}}},U_e=e=>{const{componentCls:t}=e;return{[`${t}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},W_e=e=>{const{componentCls:t,inputPaddingHorizontalBase:r,iconCls:n}=e;return{[t]:ue(ue({},_a(e)),{position:"relative",display:"inline-block",cursor:"pointer",[`&:not(${t}-customize-input) ${t}-selector`]:ue(ue({},G_e(e)),U_e(e)),[`${t}-selection-item`]:ue({flex:1,fontWeight:"normal"},Wh),[`${t}-selection-placeholder`]:ue(ue({},Wh),{flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"}),[`${t}-arrow`]:ue(ue({},_b()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,height:e.fontSizeIcon,marginTop:-e.fontSizeIcon/2,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",[n]:{verticalAlign:"top",transition:`transform ${e.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${t}-suffix)`]:{pointerEvents:"auto"}},[`${t}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${t}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,zIndex:1,display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,marginTop:-e.fontSizeIcon/2,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",background:e.colorBgContainer,cursor:"pointer",opacity:0,transition:`color ${e.motionDurationMid} ease, opacity ${e.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:e.colorTextTertiary}},"&:hover":{[`${t}-clear`]:{opacity:1}}}),[`${t}-has-feedback`]:{[`${t}-clear`]:{insetInlineEnd:r+e.fontSize+e.paddingXXS}}}},q_e=e=>{const{componentCls:t}=e;return[{[t]:{[`&-borderless ${t}-selector`]:{backgroundColor:"transparent !important",borderColor:"transparent !important",boxShadow:"none !important"},[`&${t}-in-form-item`]:{width:"100%"}}},W_e(e),V_e(e),N_e(e),F_e(e),{[`${t}-rtl`]:{direction:"rtl"}},yM(t,Un(e,{borderHoverColor:e.colorPrimaryHover,outlineColor:e.controlOutline})),yM(`${t}-status-error`,Un(e,{borderHoverColor:e.colorErrorHover,outlineColor:e.colorErrorOutline}),!0),yM(`${t}-status-warning`,Un(e,{borderHoverColor:e.colorWarningHover,outlineColor:e.colorWarningOutline}),!0),EG(e,{borderElCls:`${t}-selector`,focusElCls:`${t}-focused`})]},Z_e=zo("Select",(e,t)=>{let{rootPrefixCls:r}=t;const n=Un(e,{rootPrefixCls:r,inputPaddingHorizontalBase:e.paddingSM-1});return[q_e(n)]},e=>({zIndexPopup:e.zIndexPopupBase+50})),X_e=()=>ue(ue({},Qh(sG(),["inputIcon","mode","getInputElement","getRawInputElement","backfill"])),{value:Uh([Array,Object,String,Number]),defaultValue:Uh([Array,Object,String,Number]),notFoundContent:at.any,suffixIcon:at.any,itemIcon:at.any,size:ma(),mode:ma(),bordered:Xi(!0),transitionName:String,choiceTransitionName:ma(""),popupClassName:String,dropdownClassName:String,placement:ma(),status:ma(),"onUpdate:value":io()}),VB="SECRET_COMBOBOX_MODE_DO_NOT_USE",nu=St({compatConfig:{MODE:3},name:"ASelect",Option:JL,OptGroup:QL,inheritAttrs:!1,props:Na(X_e(),{listHeight:256,listItemHeight:24}),SECRET_COMBOBOX_MODE_DO_NOT_USE:VB,slots:Object,setup(e,t){let{attrs:r,emit:n,slots:i,expose:o}=t;const s=Vt(),a=gG(),h=Qve.useInject(),p=ve(()=>tye(h.status,e.status)),m=()=>{var Ke;(Ke=s.value)===null||Ke===void 0||Ke.focus()},v=()=>{var Ke;(Ke=s.value)===null||Ke===void 0||Ke.blur()},b=Ke=>{var gt;(gt=s.value)===null||gt===void 0||gt.scrollTo(Ke)},x=ve(()=>{const{mode:Ke}=e;if(Ke!=="combobox")return Ke===VB?"combobox":Ke}),{prefixCls:C,direction:I,renderEmpty:A,size:R,getPrefixCls:k,getPopupContainer:$,disabled:N,select:H}=qn("select",e),{compactSize:W,compactItemClassnames:j}=xG(C,I),X=ve(()=>W.value||R.value),K=yb(),Q=ve(()=>{var Ke;return(Ke=N.value)!==null&&Ke!==void 0?Ke:K.value}),[oe,he]=Z_e(C),ye=ve(()=>k()),be=ve(()=>e.placement!==void 0?e.placement:I.value==="rtl"?"bottomRight":"bottomLeft"),ce=ve(()=>jH(ye.value,Bme(be.value),e.transitionName)),de=ve(()=>ir({[`${C.value}-lg`]:X.value==="large",[`${C.value}-sm`]:X.value==="small",[`${C.value}-rtl`]:I.value==="rtl",[`${C.value}-borderless`]:!e.bordered,[`${C.value}-in-form-item`]:h.isFormItemInput},eye(C.value,p.value,h.hasFeedback),j.value,he.value)),Oe=function(){for(var Ke=arguments.length,gt=new Array(Ke),Lt=0;Lt<Ke;Lt++)gt[Lt]=arguments[Lt];n("update:value",gt[0]),n("change",...gt),a.onFieldChange()},ze=Ke=>{n("blur",Ke),a.onFieldBlur()};o({blur:v,focus:m,scrollTo:b});const De=ve(()=>x.value==="multiple"||x.value==="tags"),ct=ve(()=>e.showArrow!==void 0?e.showArrow:e.loading||!(De.value||x.value==="combobox"));return()=>{var Ke,gt,Lt,Nt;const{notFoundContent:zt,listHeight:Ft=256,listItemHeight:Be=24,popupClassName:it,dropdownClassName:je,virtual:He,dropdownMatchSelectWidth:Fe,id:tt=a.id.value,placeholder:me=(Ke=i.placeholder)===null||Ke===void 0?void 0:Ke.call(i),showArrow:_e}=e,{hasFeedback:qe,feedbackIcon:ht}=h;let et;zt!==void 0?et=zt:i.notFoundContent?et=i.notFoundContent():x.value==="combobox"?et=null:et=A?.("Select")||ie(kL,{componentName:"Select"},null);const{suffixIcon:Je,itemIcon:Qe,removeIcon:dt,clearIcon:xt}=Jve(ue(ue({},e),{multiple:De.value,prefixCls:C.value,hasFeedback:qe,feedbackIcon:ht,showArrow:ct.value}),i),yt=Qh(e,["prefixCls","suffixIcon","itemIcon","removeIcon","clearIcon","size","bordered","status"]),Ht=ir(it||je,{[`${C.value}-dropdown-${I.value}`]:I.value==="rtl"},he.value);return oe(ie(ave,wt(wt(wt({ref:s,virtual:He,dropdownMatchSelectWidth:Fe},yt),r),{},{showSearch:(gt=e.showSearch)!==null&&gt!==void 0?gt:(Lt=H?.value)===null||Lt===void 0?void 0:Lt.showSearch,placeholder:me,listHeight:Ft,listItemHeight:Be,mode:x.value,prefixCls:C.value,direction:I.value,inputIcon:Je,menuItemSelectedIcon:Qe,removeIcon:dt,clearIcon:xt,notFoundContent:et,class:[de.value,r.class],getPopupContainer:$?.value,dropdownClassName:Ht,onChange:Oe,onBlur:ze,id:tt,dropdownRender:yt.dropdownRender||i.dropdownRender,transitionName:ce.value,children:(Nt=i.default)===null||Nt===void 0?void 0:Nt.call(i),tagRender:e.tagRender||i.tagRender,optionLabelRender:i.optionLabel,maxTagPlaceholder:e.maxTagPlaceholder||i.maxTagPlaceholder,showArrow:qe||_e,disabled:Q.value}),{option:i.option}))}}});nu.install=function(e){return e.component(nu.name,nu),e.component(nu.Option.displayName,nu.Option),e.component(nu.OptGroup.displayName,nu.OptGroup),e};nu.Option;nu.OptGroup;var K_e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};function jB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Y_e(e,i,r[i])})}return e}function Y_e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var hR=function(t,r){var n=jB({},t,r.attrs);return ie(zi,jB({},n,{icon:K_e}),null)};hR.displayName="CheckCircleOutlined";hR.inheritAttrs=!1;var J_e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"};function HB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Q_e(e,i,r[i])})}return e}function Q_e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var dR=function(t,r){var n=HB({},t,r.attrs);return ie(zi,HB({},n,{icon:J_e}),null)};dR.displayName="ExclamationCircleOutlined";dR.inheritAttrs=!1;var e0e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};function GB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){t0e(e,i,r[i])})}return e}function t0e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fR=function(t,r){var n=GB({},t,r.attrs);return ie(zi,GB({},n,{icon:e0e}),null)};fR.displayName="InfoCircleOutlined";fR.inheritAttrs=!1;var r0e={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};function UB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){n0e(e,i,r[i])})}return e}function n0e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pR=function(t,r){var n=UB({},t,r.attrs);return ie(zi,UB({},n,{icon:r0e}),null)};pR.displayName="CloseCircleOutlined";pR.inheritAttrs=!1;var i0e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};function WB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){o0e(e,i,r[i])})}return e}function o0e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var lv=function(t,r){var n=WB({},t,r.attrs);return ie(zi,WB({},n,{icon:i0e}),null)};lv.displayName="CheckCircleFilled";lv.inheritAttrs=!1;var a0e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};function qB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){s0e(e,i,r[i])})}return e}function s0e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var uv=function(t,r){var n=qB({},t,r.attrs);return ie(zi,qB({},n,{icon:a0e}),null)};uv.displayName="ExclamationCircleFilled";uv.inheritAttrs=!1;var l0e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};function ZB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){u0e(e,i,r[i])})}return e}function u0e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var cv=function(t,r){var n=ZB({},t,r.attrs);return ie(zi,ZB({},n,{icon:l0e}),null)};cv.displayName="InfoCircleFilled";cv.inheritAttrs=!1;const Ts={adjustX:1,adjustY:1},Cs=[0,0],AG={left:{points:["cr","cl"],overflow:Ts,offset:[-4,0],targetOffset:Cs},right:{points:["cl","cr"],overflow:Ts,offset:[4,0],targetOffset:Cs},top:{points:["bc","tc"],overflow:Ts,offset:[0,-4],targetOffset:Cs},bottom:{points:["tc","bc"],overflow:Ts,offset:[0,4],targetOffset:Cs},topLeft:{points:["bl","tl"],overflow:Ts,offset:[0,-4],targetOffset:Cs},leftTop:{points:["tr","tl"],overflow:Ts,offset:[-4,0],targetOffset:Cs},topRight:{points:["br","tr"],overflow:Ts,offset:[0,-4],targetOffset:Cs},rightTop:{points:["tl","tr"],overflow:Ts,offset:[4,0],targetOffset:Cs},bottomRight:{points:["tr","br"],overflow:Ts,offset:[0,4],targetOffset:Cs},rightBottom:{points:["bl","br"],overflow:Ts,offset:[4,0],targetOffset:Cs},bottomLeft:{points:["tl","bl"],overflow:Ts,offset:[0,4],targetOffset:Cs},leftBottom:{points:["br","bl"],overflow:Ts,offset:[-4,0],targetOffset:Cs}},c0e={prefixCls:String,id:String,overlayInnerStyle:at.any},h0e=St({compatConfig:{MODE:3},name:"TooltipContent",props:c0e,setup(e,t){let{slots:r}=t;return()=>{var n;return ie("div",{class:`${e.prefixCls}-inner`,id:e.id,role:"tooltip",style:e.overlayInnerStyle},[(n=r.overlay)===null||n===void 0?void 0:n.call(r)])}}});var d0e=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function XB(){}const f0e=St({compatConfig:{MODE:3},name:"Tooltip",inheritAttrs:!1,props:{trigger:at.any.def(["hover"]),defaultVisible:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},placement:at.string.def("right"),transitionName:String,animation:at.any,afterVisibleChange:at.func.def(()=>{}),overlayStyle:{type:Object,default:void 0},overlayClassName:String,prefixCls:at.string.def("rc-tooltip"),mouseEnterDelay:at.number.def(.1),mouseLeaveDelay:at.number.def(.1),getPopupContainer:Function,destroyTooltipOnHide:{type:Boolean,default:!1},align:at.object.def(()=>({})),arrowContent:at.any.def(null),tipId:String,builtinPlacements:at.object,overlayInnerStyle:{type:Object,default:void 0},popupVisible:{type:Boolean,default:void 0},onVisibleChange:Function,onPopupAlign:Function,arrow:{type:Boolean,default:!0}},setup(e,t){let{slots:r,attrs:n,expose:i}=t;const o=vt(),s=()=>{const{prefixCls:m,tipId:v,overlayInnerStyle:b}=e;return[e.arrow?ie("div",{class:`${m}-arrow`,key:"arrow"},[pc(r,e,"arrowContent")]):null,ie(h0e,{key:"content",prefixCls:m,id:v,overlayInnerStyle:b},{overlay:r.overlay})]};i({getPopupDomNode:()=>o.value.getPopupDomNode(),triggerDOM:o,forcePopupAlign:()=>{var m;return(m=o.value)===null||m===void 0?void 0:m.forcePopupAlign()}});const h=vt(!1),p=vt(!1);return Gn(()=>{const{destroyTooltipOnHide:m}=e;if(typeof m=="boolean")h.value=m;else if(m&&typeof m=="object"){const{keepParent:v}=m;h.value=v===!0,p.value=v===!1}}),()=>{const{overlayClassName:m,trigger:v,mouseEnterDelay:b,mouseLeaveDelay:x,overlayStyle:C,prefixCls:I,afterVisibleChange:A,transitionName:R,animation:k,placement:$,align:N,destroyTooltipOnHide:H,defaultVisible:W}=e,j=d0e(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","afterVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible"]),X=ue({},j);e.visible!==void 0&&(X.popupVisible=e.visible);const K=ue(ue(ue({popupClassName:m,prefixCls:I,action:v,builtinPlacements:AG,popupPlacement:$,popupAlign:N,afterPopupVisibleChange:A,popupTransitionName:R,popupAnimation:k,defaultPopupVisible:W,destroyPopupOnHide:h.value,autoDestroy:p.value,mouseLeaveDelay:x,popupStyle:C,mouseEnterDelay:b},X),n),{onPopupVisibleChange:e.onVisibleChange||XB,onPopupAlign:e.onPopupAlign||XB,ref:o,arrow:!!e.arrow,popup:s()});return ie(aT,K,{default:r.default})}}}),p0e=(()=>({trigger:[String,Array],open:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},placement:String,color:String,transitionName:String,overlayStyle:ti(),overlayInnerStyle:ti(),overlayClassName:String,openClassName:String,prefixCls:String,mouseEnterDelay:Number,mouseLeaveDelay:Number,getPopupContainer:Function,arrowPointAtCenter:{type:Boolean,default:void 0},arrow:{type:[Boolean,Object],default:!0},autoAdjustOverflow:{type:[Boolean,Object],default:void 0},destroyTooltipOnHide:{type:Boolean,default:void 0},align:ti(),builtinPlacements:ti(),children:Array,onVisibleChange:Function,"onUpdate:visible":Function,onOpenChange:Function,"onUpdate:open":Function})),m0e={adjustX:1,adjustY:1},KB={adjustX:0,adjustY:0},g0e=[0,0];function YB(e){return typeof e=="boolean"?e?m0e:KB:ue(ue({},KB),e)}function v0e(e){const{arrowWidth:t=4,horizontalArrowShift:r=16,verticalArrowShift:n=8,autoAdjustOverflow:i,arrowPointAtCenter:o}=e,s={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(r+t),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(n+t)]},topRight:{points:["br","tc"],offset:[r+t,-4]},rightTop:{points:["tl","cr"],offset:[4,-(n+t)]},bottomRight:{points:["tr","bc"],offset:[r+t,4]},rightBottom:{points:["bl","cr"],offset:[4,n+t]},bottomLeft:{points:["tl","bc"],offset:[-(r+t),4]},leftBottom:{points:["br","cl"],offset:[-4,n+t]}};return Object.keys(s).forEach(a=>{s[a]=o?ue(ue({},s[a]),{overflow:YB(i),targetOffset:g0e}):ue(ue({},AG[a]),{overflow:YB(i)}),s[a].ignoreShake=!0}),s}function DG(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];for(let t=0,r=e.length;t<r;t++)if(e[t]!==void 0)return e[t]}const y0e=AS.map(e=>`${e}-inverse`),_0e=["success","processing","error","default","warning"];function LG(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[...y0e,...AS].includes(e):AS.includes(e)}function b0e(e){return _0e.includes(e)}function x0e(e,t){const r=LG(t),n=ir({[`${e}-${t}`]:t&&r}),i={},o={};return t&&!r&&(i.background=t,o["--antd-arrow-background-color"]=t),{className:n,overlayStyle:i,arrowStyle:o}}function zx(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return e.map(r=>`${t}${r}`).join(",")}const RG=8;function w0e(e){const t=RG,{sizePopupArrow:r,contentRadius:n,borderRadiusOuter:i}=e,o=r/2-Math.ceil(i*(Math.sqrt(2)-1)),s=(n>12?n+2:12)-o,a=t-o;return{dropdownArrowOffset:s,dropdownArrowOffsetVertical:a}}function S0e(e,t){const{componentCls:r,sizePopupArrow:n,marginXXS:i,borderRadiusXS:o,borderRadiusOuter:s,boxShadowPopoverArrow:a}=e,{colorBg:h,showArrowCls:p,contentRadius:m=e.borderRadiusLG}=t,{dropdownArrowOffsetVertical:v,dropdownArrowOffset:b}=w0e({sizePopupArrow:n,contentRadius:m,borderRadiusOuter:s}),x=n/2+i;return{[r]:{[`${r}-arrow`]:[ue(ue({position:"absolute",zIndex:1,display:"block"},khe(n,o,s,h,a)),{"&:before":{background:h}})],[[`&-placement-top ${r}-arrow`,`&-placement-topLeft ${r}-arrow`,`&-placement-topRight ${r}-arrow`].join(",")]:{bottom:0,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft ${r}-arrow`]:{left:{_skip_check_:!0,value:b}},[`&-placement-topRight ${r}-arrow`]:{right:{_skip_check_:!0,value:b}},[[`&-placement-bottom ${r}-arrow`,`&-placement-bottomLeft ${r}-arrow`,`&-placement-bottomRight ${r}-arrow`].join(",")]:{top:0,transform:"translateY(-100%)"},[`&-placement-bottom ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},[`&-placement-bottomLeft ${r}-arrow`]:{left:{_skip_check_:!0,value:b}},[`&-placement-bottomRight ${r}-arrow`]:{right:{_skip_check_:!0,value:b}},[[`&-placement-left ${r}-arrow`,`&-placement-leftTop ${r}-arrow`,`&-placement-leftBottom ${r}-arrow`].join(",")]:{right:{_skip_check_:!0,value:0},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop ${r}-arrow`]:{top:v},[`&-placement-leftBottom ${r}-arrow`]:{bottom:v},[[`&-placement-right ${r}-arrow`,`&-placement-rightTop ${r}-arrow`,`&-placement-rightBottom ${r}-arrow`].join(",")]:{left:{_skip_check_:!0,value:0},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop ${r}-arrow`]:{top:v},[`&-placement-rightBottom ${r}-arrow`]:{bottom:v},[zx(["&-placement-topLeft","&-placement-top","&-placement-topRight"].map(C=>C+=":not(&-arrow-hidden)"),p)]:{paddingBottom:x},[zx(["&-placement-bottomLeft","&-placement-bottom","&-placement-bottomRight"].map(C=>C+=":not(&-arrow-hidden)"),p)]:{paddingTop:x},[zx(["&-placement-leftTop","&-placement-left","&-placement-leftBottom"].map(C=>C+=":not(&-arrow-hidden)"),p)]:{paddingRight:{_skip_check_:!0,value:x}},[zx(["&-placement-rightTop","&-placement-right","&-placement-rightBottom"].map(C=>C+=":not(&-arrow-hidden)"),p)]:{paddingLeft:{_skip_check_:!0,value:x}}}}}const T0e=e=>{const{componentCls:t,tooltipMaxWidth:r,tooltipColor:n,tooltipBg:i,tooltipBorderRadius:o,zIndexPopup:s,controlHeight:a,boxShadowSecondary:h,paddingSM:p,paddingXS:m,tooltipRadiusOuter:v}=e;return[{[t]:ue(ue(ue(ue({},_a(e)),{position:"absolute",zIndex:s,display:"block","&":[{width:"max-content"},{width:"intrinsic"}],maxWidth:r,visibility:"visible","&-hidden":{display:"none"},"--antd-arrow-background-color":i,[`${t}-inner`]:{minWidth:a,minHeight:a,padding:`${p/2}px ${m}px`,color:n,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:i,borderRadius:o,boxShadow:h},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${t}-inner`]:{borderRadius:Math.min(o,RG)}},[`${t}-content`]:{position:"relative"}}),J7(e,(b,x)=>{let{darkColor:C}=x;return{[`&${t}-${b}`]:{[`${t}-inner`]:{backgroundColor:C},[`${t}-arrow`]:{"--antd-arrow-background-color":C}}}})),{"&-rtl":{direction:"rtl"}})},S0e(Un(e,{borderRadiusOuter:v}),{colorBg:"var(--antd-arrow-background-color)",showArrowCls:"",contentRadius:o}),{[`${t}-pure`]:{position:"relative",maxWidth:"none"}}]},C0e=((e,t)=>zo("Tooltip",n=>{if(t?.value===!1)return[];const{borderRadius:i,colorTextLightSolid:o,colorBgDefault:s,borderRadiusOuter:a}=n,h=Un(n,{tooltipMaxWidth:250,tooltipColor:o,tooltipBorderRadius:i,tooltipBg:s,tooltipRadiusOuter:a>4?4:a});return[T0e(h),PG(n,"zoom-big-fast")]},n=>{let{zIndexPopupBase:i,colorBgSpotlight:o}=n;return{zIndexPopup:i+70,colorBgDefault:o}})(e)),P0e=(e,t)=>{const r={},n=ue({},e);return t.forEach(i=>{e&&i in e&&(r[i]=e[i],delete n[i])}),{picked:r,omitted:n}},M0e=()=>ue(ue({},p0e()),{title:at.any}),I0e=St({compatConfig:{MODE:3},name:"ATooltip",inheritAttrs:!1,props:Na(M0e(),{trigger:"hover",align:{},placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0}),slots:Object,setup(e,t){let{slots:r,emit:n,attrs:i,expose:o}=t;const{prefixCls:s,getPopupContainer:a,direction:h,rootPrefixCls:p}=qn("tooltip",e),m=ve(()=>{var Q;return(Q=e.open)!==null&&Q!==void 0?Q:e.visible}),v=Vt(DG([e.open,e.visible])),b=Vt();let x;Zt(m,Q=>{Pn.cancel(x),x=Pn(()=>{v.value=!!Q})});const C=()=>{var Q;const oe=(Q=e.title)!==null&&Q!==void 0?Q:r.title;return!oe&&oe!==0},I=Q=>{const oe=C();m.value===void 0&&(v.value=oe?!1:Q),oe||(n("update:visible",Q),n("visibleChange",Q),n("update:open",Q),n("openChange",Q))};o({getPopupDomNode:()=>b.value.getPopupDomNode(),open:v,forcePopupAlign:()=>{var Q;return(Q=b.value)===null||Q===void 0?void 0:Q.forcePopupAlign()}});const R=ve(()=>{var Q;const{builtinPlacements:oe,autoAdjustOverflow:he,arrow:ye,arrowPointAtCenter:be}=e;let ce=be;return typeof ye=="object"&&(ce=(Q=ye.pointAtCenter)!==null&&Q!==void 0?Q:be),oe||v0e({arrowPointAtCenter:ce,autoAdjustOverflow:he})}),k=Q=>Q||Q==="",$=Q=>{const oe=Q.type;if(typeof oe=="object"&&Q.props&&((oe.__ANT_BUTTON===!0||oe==="button")&&k(Q.props.disabled)||oe.__ANT_SWITCH===!0&&(k(Q.props.disabled)||k(Q.props.loading))||oe.__ANT_RADIO===!0&&k(Q.props.disabled))){const{picked:he,omitted:ye}=P0e(ice(Q),["position","left","right","top","bottom","float","display","zIndex"]),be=ue(ue({display:"inline-block"},he),{cursor:"not-allowed",lineHeight:1,width:Q.props&&Q.props.block?"100%":void 0}),ce=ue(ue({},ye),{pointerEvents:"none"}),de=ka(Q,{style:ce},!0);return ie("span",{style:be,class:`${s.value}-disabled-compatible-wrapper`},[de])}return Q},N=()=>{var Q,oe;return(Q=e.title)!==null&&Q!==void 0?Q:(oe=r.title)===null||oe===void 0?void 0:oe.call(r)},H=(Q,oe)=>{const he=R.value,ye=Object.keys(he).find(be=>{var ce,de;return he[be].points[0]===((ce=oe.points)===null||ce===void 0?void 0:ce[0])&&he[be].points[1]===((de=oe.points)===null||de===void 0?void 0:de[1])});if(ye){const be=Q.getBoundingClientRect(),ce={top:"50%",left:"50%"};ye.indexOf("top")>=0||ye.indexOf("Bottom")>=0?ce.top=`${be.height-oe.offset[1]}px`:(ye.indexOf("Top")>=0||ye.indexOf("bottom")>=0)&&(ce.top=`${-oe.offset[1]}px`),ye.indexOf("left")>=0||ye.indexOf("Right")>=0?ce.left=`${be.width-oe.offset[0]}px`:(ye.indexOf("right")>=0||ye.indexOf("Left")>=0)&&(ce.left=`${-oe.offset[0]}px`),Q.style.transformOrigin=`${ce.left} ${ce.top}`}},W=ve(()=>x0e(s.value,e.color)),j=ve(()=>i["data-popover-inject"]),[X,K]=C0e(s,ve(()=>!j.value));return()=>{var Q,oe;const{openClassName:he,overlayClassName:ye,overlayStyle:be,overlayInnerStyle:ce}=e;let de=(oe=lp((Q=r.default)===null||Q===void 0?void 0:Q.call(r)))!==null&&oe!==void 0?oe:null;de=de.length===1?de[0]:de;let Oe=v.value;if(m.value===void 0&&C()&&(Oe=!1),!de)return null;const ze=$(Jh(de)&&!oce(de)?de:ie("span",null,[de])),De=ir({[he||`${s.value}-open`]:!0,[ze.props&&ze.props.class]:ze.props&&ze.props.class}),ct=ir(ye,{[`${s.value}-rtl`]:h.value==="rtl"},W.value.className,K.value),Ke=ue(ue({},W.value.overlayStyle),ce),gt=W.value.arrowStyle,Lt=ue(ue(ue({},i),e),{prefixCls:s.value,arrow:!!e.arrow,getPopupContainer:a?.value,builtinPlacements:R.value,visible:Oe,ref:b,overlayClassName:ct,overlayStyle:ue(ue({},gt),be),overlayInnerStyle:Ke,onVisibleChange:I,onPopupAlign:H,transitionName:jH(p.value,"zoom-big-fast",e.transitionName)});return X(ie(f0e,Lt,{default:()=>[v.value?ka(ze,{class:De}):ze],arrowContent:()=>ie("span",{class:`${s.value}-arrow-content`},null),overlay:N}))}}}),E0e=av(I0e),Tm={adjustX:1,adjustY:1},Cm=[0,0],A0e={topLeft:{points:["bl","tl"],overflow:Tm,offset:[0,-4],targetOffset:Cm},topCenter:{points:["bc","tc"],overflow:Tm,offset:[0,-4],targetOffset:Cm},topRight:{points:["br","tr"],overflow:Tm,offset:[0,-4],targetOffset:Cm},bottomLeft:{points:["tl","bl"],overflow:Tm,offset:[0,4],targetOffset:Cm},bottomCenter:{points:["tc","bc"],overflow:Tm,offset:[0,4],targetOffset:Cm},bottomRight:{points:["tr","br"],overflow:Tm,offset:[0,4],targetOffset:Cm}};var D0e=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const L0e=St({compatConfig:{MODE:3},props:{minOverlayWidthMatchTrigger:{type:Boolean,default:void 0},arrow:{type:Boolean,default:!1},prefixCls:at.string.def("rc-dropdown"),transitionName:String,overlayClassName:at.string.def(""),openClassName:String,animation:at.any,align:at.object,overlayStyle:{type:Object,default:void 0},placement:at.string.def("bottomLeft"),overlay:at.any,trigger:at.oneOfType([at.string,at.arrayOf(at.string)]).def("hover"),alignPoint:{type:Boolean,default:void 0},showAction:at.array,hideAction:at.array,getPopupContainer:Function,visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!1},mouseEnterDelay:at.number.def(.15),mouseLeaveDelay:at.number.def(.1)},emits:["visibleChange","overlayClick"],setup(e,t){let{slots:r,emit:n,expose:i}=t;const o=Vt(!!e.visible);Zt(()=>e.visible,x=>{x!==void 0&&(o.value=x)});const s=Vt();i({triggerRef:s});const a=x=>{e.visible===void 0&&(o.value=!1),n("overlayClick",x)},h=x=>{e.visible===void 0&&(o.value=x),n("visibleChange",x)},p=()=>{var x;const C=(x=r.overlay)===null||x===void 0?void 0:x.call(r),I={prefixCls:`${e.prefixCls}-menu`,onClick:a};return ie(pr,{key:b7},[e.arrow&&ie("div",{class:`${e.prefixCls}-arrow`},null),ka(C,I,!1)])},m=ve(()=>{const{minOverlayWidthMatchTrigger:x=!e.alignPoint}=e;return x}),v=()=>{var x;const C=(x=r.default)===null||x===void 0?void 0:x.call(r);return o.value&&C?ka(C[0],{class:e.openClassName||`${e.prefixCls}-open`},!1):C},b=ve(()=>!e.hideAction&&e.trigger.indexOf("contextmenu")!==-1?["click"]:e.hideAction);return()=>{const{prefixCls:x,arrow:C,showAction:I,overlayStyle:A,trigger:R,placement:k,align:$,getPopupContainer:N,transitionName:H,animation:W,overlayClassName:j}=e,X=D0e(e,["prefixCls","arrow","showAction","overlayStyle","trigger","placement","align","getPopupContainer","transitionName","animation","overlayClassName"]);return ie(aT,wt(wt({},X),{},{prefixCls:x,ref:s,popupClassName:ir(j,{[`${x}-show-arrow`]:C}),popupStyle:A,builtinPlacements:A0e,action:R,showAction:I,hideAction:b.value||[],popupPlacement:k,popupAlign:$,popupTransitionName:H,popupAnimation:W,popupVisible:o.value,stretch:m.value?"minWidth":"",onPopupVisibleChange:h,getPopupContainer:N}),{popup:p,default:v})}}}),R0e=e=>{const{componentCls:t,colorPrimary:r}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${r})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0}}}}},O0e=zo("Wave",e=>[R0e(e)]);function k0e(e){const t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return t&&t[1]&&t[2]&&t[3]?!(t[1]===t[2]&&t[2]===t[3]):!0}function _M(e){return e&&e!=="#fff"&&e!=="#ffffff"&&e!=="rgb(255, 255, 255)"&&e!=="rgba(255, 255, 255, 1)"&&k0e(e)&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&e!=="transparent"}function $0e(e){const{borderTopColor:t,borderColor:r,backgroundColor:n}=getComputedStyle(e);return _M(t)?t:_M(r)?r:_M(n)?n:null}function bM(e){return Number.isNaN(e)?0:e}const z0e=St({props:{target:ti(),className:String},setup(e){const t=vt(null),[r,n]=ui(null),[i,o]=ui([]),[s,a]=ui(0),[h,p]=ui(0),[m,v]=ui(0),[b,x]=ui(0),[C,I]=ui(!1);function A(){const{target:j}=e,X=getComputedStyle(j);n($0e(j));const K=X.position==="static",{borderLeftWidth:Q,borderTopWidth:oe}=X;a(K?j.offsetLeft:bM(-parseFloat(Q))),p(K?j.offsetTop:bM(-parseFloat(oe))),v(j.offsetWidth),x(j.offsetHeight);const{borderTopLeftRadius:he,borderTopRightRadius:ye,borderBottomLeftRadius:be,borderBottomRightRadius:ce}=X;o([he,ye,ce,be].map(de=>bM(parseFloat(de))))}let R,k,$;const N=()=>{clearTimeout($),Pn.cancel(k),R?.disconnect()},H=()=>{var j;const X=(j=t.value)===null||j===void 0?void 0:j.parentElement;X&&(y0(null,X),X.parentElement&&X.parentElement.removeChild(X))};Nr(()=>{N(),$=setTimeout(()=>{H()},5e3);const{target:j}=e;j&&(k=Pn(()=>{A(),I(!0)}),typeof ResizeObserver<"u"&&(R=new ResizeObserver(A),R.observe(j)))}),hi(()=>{N()});const W=j=>{j.propertyName==="opacity"&&H()};return()=>{if(!C.value)return null;const j={left:`${s.value}px`,top:`${h.value}px`,width:`${m.value}px`,height:`${b.value}px`,borderRadius:i.value.map(X=>`${X}px`).join(" ")};return r&&(j["--wave-color"]=r.value),ie(Fa,{appear:!0,name:"wave-motion",appearFromClass:"wave-motion-appear",appearActiveClass:"wave-motion-appear",appearToClass:"wave-motion-appear wave-motion-appear-active"},{default:()=>[ie("div",{ref:t,class:e.className,style:j,onTransitionend:W},null)]})}}});function B0e(e,t){const r=document.createElement("div");return r.style.position="absolute",r.style.left="0px",r.style.top="0px",e?.insertBefore(r,e?.firstChild),y0(ie(z0e,{target:e,className:t},null),r),()=>{y0(null,r),r.parentElement&&r.parentElement.removeChild(r)}}function F0e(e,t){const r=Yi();let n;function i(){var o;const s=Mh(r);n?.(),!(!((o=t?.value)===null||o===void 0)&&o.disabled||!s)&&(n=B0e(s,e.value))}return hi(()=>{n?.()}),i}const mR=St({compatConfig:{MODE:3},name:"Wave",props:{disabled:Boolean},setup(e,t){let{slots:r}=t;const n=Yi(),{prefixCls:i,wave:o}=qn("wave",e),[,s]=O0e(i),a=F0e(ve(()=>ir(i.value,s.value)),o);let h;const p=()=>{Mh(n).removeEventListener("click",h,!0)};return Nr(()=>{Zt(()=>e.disabled,()=>{p(),_i(()=>{const m=Mh(n);m?.removeEventListener("click",h,!0),!(!m||m.nodeType!==1||e.disabled)&&(h=v=>{v.target.tagName==="INPUT"||!CH(v.target)||!m.getAttribute||m.getAttribute("disabled")||m.disabled||m.className.includes("disabled")||m.className.includes("-leave")||a()},m.addEventListener("click",h,!0))})},{immediate:!0,flush:"post"})}),hi(()=>{p()}),()=>{var m;return(m=r.default)===null||m===void 0?void 0:m.call(r)[0]}}}),N0e=()=>({prefixCls:String,type:String,htmlType:{type:String,default:"button"},shape:{type:String},size:{type:String},loading:{type:[Boolean,Object],default:()=>!1},disabled:{type:Boolean,default:void 0},ghost:{type:Boolean,default:void 0},block:{type:Boolean,default:void 0},danger:{type:Boolean,default:void 0},icon:at.any,href:String,target:String,title:String,onClick:LE(),onMousedown:LE()}),JB=e=>{e&&(e.style.width="0px",e.style.opacity="0",e.style.transform="scale(0)")},QB=e=>{_i(()=>{e&&(e.style.width=`${e.scrollWidth}px`,e.style.opacity="1",e.style.transform="scale(1)")})},eF=e=>{e&&e.style&&(e.style.width=null,e.style.opacity=null,e.style.transform=null)},V0e=St({compatConfig:{MODE:3},name:"LoadingIcon",props:{prefixCls:String,loading:[Boolean,Object],existIcon:Boolean},setup(e){return()=>{const{existIcon:t,prefixCls:r,loading:n}=e;if(t)return ie("span",{class:`${r}-loading-icon`},[ie(wc,null,null)]);const i=!!n;return ie(Fa,{name:`${r}-loading-icon-motion`,onBeforeEnter:JB,onEnter:QB,onAfterEnter:eF,onBeforeLeave:QB,onLeave:o=>{setTimeout(()=>{JB(o)})},onAfterLeave:eF},{default:()=>[i?ie("span",{class:`${r}-loading-icon`},[ie(wc,null,null)]):null]})}}}),tF=(e,t)=>({[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}}),j0e=e=>{const{componentCls:t,fontSize:r,lineWidth:n,colorPrimaryHover:i,colorErrorHover:o}=e;return{[`${t}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:-n,[`&, & > ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover,\n          &:focus,\n          &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${t}-icon-only`]:{fontSize:r}},tF(`${t}-primary`,i),tF(`${t}-danger`,o)]}};function H0e(e,t){return{[`&-item:not(${t}-last-item)`]:{marginBottom:-e.lineWidth},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function G0e(e,t){return{[`&-item:not(${t}-first-item):not(${t}-last-item)`]:{borderRadius:0},[`&-item${t}-first-item:not(${t}-last-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${t}-last-item:not(${t}-first-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function U0e(e){const t=`${e.componentCls}-compact-vertical`;return{[t]:ue(ue({},H0e(e,t)),G0e(e.componentCls,t))}}const W0e=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:{outline:"none",position:"relative",display:"inline-block",fontWeight:400,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",backgroundColor:"transparent",border:`${e.lineWidth}px ${e.lineType} transparent`,cursor:"pointer",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",lineHeight:e.lineHeight,color:e.colorText,"> span":{display:"inline-block"},[`> ${r} + span, > span + ${r}`]:{marginInlineStart:e.marginXS},"> a":{color:"currentColor"},"&:not(:disabled)":ue({},eT(e)),[`&-icon-only${t}-compact-item`]:{flex:"none"},[`&-compact-item${t}-primary`]:{[`&:not([disabled]) + ${t}-compact-item${t}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-e.lineWidth,insetInlineStart:-e.lineWidth,display:"inline-block",width:e.lineWidth,height:`calc(100% + ${e.lineWidth*2}px)`,backgroundColor:e.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${t}-primary`]:{[`&:not([disabled]) + ${t}-compact-vertical-item${t}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-e.lineWidth,insetInlineStart:-e.lineWidth,display:"inline-block",width:`calc(100% + ${e.lineWidth*2}px)`,height:e.lineWidth,backgroundColor:e.colorPrimaryHover,content:'""'}}}}}}},Sc=(e,t)=>({"&:not(:disabled)":{"&:hover":e,"&:active":t}}),q0e=e=>({minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),Z0e=e=>({borderRadius:e.controlHeight,paddingInlineStart:e.controlHeight/2,paddingInlineEnd:e.controlHeight/2}),eA=e=>({cursor:"not-allowed",borderColor:e.colorBorder,color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,boxShadow:"none"}),zS=(e,t,r,n,i,o,s)=>({[`&${e}-background-ghost`]:ue(ue({color:t||void 0,backgroundColor:"transparent",borderColor:r||void 0,boxShadow:"none"},Sc(ue({backgroundColor:"transparent"},o),ue({backgroundColor:"transparent"},s))),{"&:disabled":{cursor:"not-allowed",color:n||void 0,borderColor:i||void 0}})}),gR=e=>({"&:disabled":ue({},eA(e))}),OG=e=>ue({},gR(e)),BS=e=>({"&:disabled":{cursor:"not-allowed",color:e.colorTextDisabled}}),kG=e=>ue(ue(ue(ue(ue({},OG(e)),{backgroundColor:e.colorBgContainer,borderColor:e.colorBorder,boxShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlTmpOutline}`}),Sc({color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),zS(e.componentCls,e.colorBgContainer,e.colorBgContainer,e.colorTextDisabled,e.colorBorder)),{[`&${e.componentCls}-dangerous`]:ue(ue(ue({color:e.colorError,borderColor:e.colorError},Sc({color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),zS(e.componentCls,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder)),gR(e))}),X0e=e=>ue(ue(ue(ue(ue({},OG(e)),{color:e.colorTextLightSolid,backgroundColor:e.colorPrimary,boxShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlOutline}`}),Sc({color:e.colorTextLightSolid,backgroundColor:e.colorPrimaryHover},{color:e.colorTextLightSolid,backgroundColor:e.colorPrimaryActive})),zS(e.componentCls,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),{[`&${e.componentCls}-dangerous`]:ue(ue(ue({backgroundColor:e.colorError,boxShadow:`0 ${e.controlOutlineWidth}px 0 ${e.colorErrorOutline}`},Sc({backgroundColor:e.colorErrorHover},{backgroundColor:e.colorErrorActive})),zS(e.componentCls,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),gR(e))}),K0e=e=>ue(ue({},kG(e)),{borderStyle:"dashed"}),Y0e=e=>ue(ue(ue({color:e.colorLink},Sc({color:e.colorLinkHover},{color:e.colorLinkActive})),BS(e)),{[`&${e.componentCls}-dangerous`]:ue(ue({color:e.colorError},Sc({color:e.colorErrorHover},{color:e.colorErrorActive})),BS(e))}),J0e=e=>ue(ue(ue({},Sc({color:e.colorText,backgroundColor:e.colorBgTextHover},{color:e.colorText,backgroundColor:e.colorBgTextActive})),BS(e)),{[`&${e.componentCls}-dangerous`]:ue(ue({color:e.colorError},BS(e)),Sc({color:e.colorErrorHover,backgroundColor:e.colorErrorBg},{color:e.colorErrorHover,backgroundColor:e.colorErrorBg}))}),Q0e=e=>ue(ue({},eA(e)),{[`&${e.componentCls}:hover`]:ue({},eA(e))}),ebe=e=>{const{componentCls:t}=e;return{[`${t}-default`]:kG(e),[`${t}-primary`]:X0e(e),[`${t}-dashed`]:K0e(e),[`${t}-link`]:Y0e(e),[`${t}-text`]:J0e(e),[`${t}-disabled`]:Q0e(e)}},vR=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:r,iconCls:n,controlHeight:i,fontSize:o,lineHeight:s,lineWidth:a,borderRadius:h,buttonPaddingHorizontal:p}=e,m=Math.max(0,(i-o*s)/2-a),v=p-a,b=`${r}-icon-only`;return[{[`${r}${t}`]:{fontSize:o,height:i,padding:`${m}px ${v}px`,borderRadius:h,[`&${b}`]:{width:i,paddingInlineStart:0,paddingInlineEnd:0,[`&${r}-round`]:{width:"auto"},"> span":{transform:"scale(1.143)"}},[`&${r}-loading`]:{opacity:e.opacityLoading,cursor:"default"},[`${r}-loading-icon`]:{transition:`width ${e.motionDurationSlow} ${e.motionEaseInOut}, opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`},[`&:not(${b}) ${r}-loading-icon > ${n}`]:{marginInlineEnd:e.marginXS}}},{[`${r}${r}-circle${t}`]:q0e(e)},{[`${r}${r}-round${t}`]:Z0e(e)}]},tbe=e=>vR(e),rbe=e=>{const t=Un(e,{controlHeight:e.controlHeightSM,padding:e.paddingXS,buttonPaddingHorizontal:8,borderRadius:e.borderRadiusSM});return vR(t,`${e.componentCls}-sm`)},nbe=e=>{const t=Un(e,{controlHeight:e.controlHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG});return vR(t,`${e.componentCls}-lg`)},ibe=e=>{const{componentCls:t}=e;return{[t]:{[`&${t}-block`]:{width:"100%"}}}},obe=zo("Button",e=>{const{controlTmpOutline:t,paddingContentHorizontal:r}=e,n=Un(e,{colorOutlineDefault:t,buttonPaddingHorizontal:r});return[W0e(n),rbe(n),tbe(n),nbe(n),ibe(n),ebe(n),j0e(n),EG(e,{focus:!1}),U0e(e)]}),abe=()=>({prefixCls:String,size:{type:String}}),$G=oR(),tA=St({compatConfig:{MODE:3},name:"AButtonGroup",props:abe(),setup(e,t){let{slots:r}=t;const{prefixCls:n,direction:i}=qn("btn-group",e),[,,o]=bb();$G.useProvide(ki({size:ve(()=>e.size)}));const s=ve(()=>{const{size:a}=e;let h="";switch(a){case"large":h="lg";break;case"small":h="sm";break;case"middle":case void 0:break;default:_l(!a,"Button.Group","Invalid prop `size`.")}return{[`${n.value}`]:!0,[`${n.value}-${h}`]:h,[`${n.value}-rtl`]:i.value==="rtl",[o.value]:!0}});return()=>{var a;return ie("div",{class:s.value},[So((a=r.default)===null||a===void 0?void 0:a.call(r))])}}}),rF=/^[\u4e00-\u9fa5]{2}$/,nF=rF.test.bind(rF);function Bx(e){return e==="text"||e==="link"}const Z_=St({compatConfig:{MODE:3},name:"AButton",inheritAttrs:!1,__ANT_BUTTON:!0,props:Na(N0e(),{type:"default"}),slots:Object,setup(e,t){let{slots:r,attrs:n,emit:i,expose:o}=t;const{prefixCls:s,autoInsertSpaceInButton:a,direction:h,size:p}=qn("btn",e),[m,v]=obe(s),b=$G.useInject(),x=yb(),C=ve(()=>{var ce;return(ce=e.disabled)!==null&&ce!==void 0?ce:x.value}),I=vt(null),A=vt(void 0);let R=!1;const k=vt(!1),$=vt(!1),N=ve(()=>a.value!==!1),{compactSize:H,compactItemClassnames:W}=xG(s,h),j=ve(()=>typeof e.loading=="object"&&e.loading.delay?e.loading.delay||!0:!!e.loading);Zt(j,ce=>{clearTimeout(A.value),typeof j.value=="number"?A.value=setTimeout(()=>{k.value=ce},j.value):k.value=ce},{immediate:!0});const X=ve(()=>{const{type:ce,shape:de="default",ghost:Oe,block:ze,danger:De}=e,ct=s.value,Ke={large:"lg",small:"sm",middle:void 0},gt=H.value||b?.size||p.value,Lt=gt&&Ke[gt]||"";return[W.value,{[v.value]:!0,[`${ct}`]:!0,[`${ct}-${de}`]:de!=="default"&&de,[`${ct}-${ce}`]:ce,[`${ct}-${Lt}`]:Lt,[`${ct}-loading`]:k.value,[`${ct}-background-ghost`]:Oe&&!Bx(ce),[`${ct}-two-chinese-chars`]:$.value&&N.value,[`${ct}-block`]:ze,[`${ct}-dangerous`]:!!De,[`${ct}-rtl`]:h.value==="rtl"}]}),K=()=>{const ce=I.value;if(!ce||a.value===!1)return;const de=ce.textContent;R&&nF(de)?$.value||($.value=!0):$.value&&($.value=!1)},Q=ce=>{if(k.value||C.value){ce.preventDefault();return}i("click",ce)},oe=ce=>{i("mousedown",ce)},he=(ce,de)=>{const Oe=de?" ":"";if(ce.type===dc){let ze=ce.children.trim();return nF(ze)&&(ze=ze.split("").join(Oe)),ie("span",null,[ze])}return ce};return Gn(()=>{_l(!(e.ghost&&Bx(e.type)),"Button","`link` or `text` button can't be a `ghost` button.")}),Nr(K),Yh(K),hi(()=>{A.value&&clearTimeout(A.value)}),o({focus:()=>{var ce;(ce=I.value)===null||ce===void 0||ce.focus()},blur:()=>{var ce;(ce=I.value)===null||ce===void 0||ce.blur()}}),()=>{var ce,de;const{icon:Oe=(ce=r.icon)===null||ce===void 0?void 0:ce.call(r)}=e,ze=So((de=r.default)===null||de===void 0?void 0:de.call(r));R=ze.length===1&&!Oe&&!Bx(e.type);const{type:De,htmlType:ct,href:Ke,title:gt,target:Lt}=e,Nt=k.value?"loading":Oe,zt=ue(ue({},n),{title:gt,disabled:C.value,class:[X.value,n.class,{[`${s.value}-icon-only`]:ze.length===0&&!!Nt}],onClick:Q,onMousedown:oe});C.value||delete zt.disabled;const Ft=Oe&&!k.value?Oe:ie(V0e,{existIcon:!!Oe,prefixCls:s.value,loading:!!k.value},null),Be=ze.map(je=>he(je,R&&N.value));if(Ke!==void 0)return m(ie("a",wt(wt({},zt),{},{href:Ke,target:Lt,ref:I}),[Ft,Be]));let it=ie("button",wt(wt({},zt),{},{ref:I,type:ct}),[Ft,Be]);if(!Bx(De)){const je=(function(){return it})();it=ie(mR,{ref:"wave",disabled:!!k.value},{default:()=>[je]})}return m(it)}}});Z_.Group=tA;Z_.install=function(e){return e.component(Z_.name,Z_),e.component(tA.name,tA),e};var sbe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};function iF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){lbe(e,i,r[i])})}return e}function lbe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var uT=function(t,r){var n=iF({},t,r.attrs);return ie(zi,iF({},n,{icon:sbe}),null)};uT.displayName="EllipsisOutlined";uT.inheritAttrs=!1;var ube={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};function oF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){cbe(e,i,r[i])})}return e}function cbe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var yR=function(t,r){var n=oF({},t,r.attrs);return ie(zi,oF({},n,{icon:ube}),null)};yR.displayName="RightOutlined";yR.inheritAttrs=!1;const zG=Symbol("OverrideContextKey"),BG=()=>Ir(zG,void 0),hbe=e=>{var t,r,n;const{prefixCls:i,mode:o,selectable:s,validator:a,onClick:h,expandIcon:p}=BG()||{};un(zG,{prefixCls:ve(()=>{var m,v;return(v=(m=e.prefixCls)===null||m===void 0?void 0:m.value)!==null&&v!==void 0?v:i?.value}),mode:ve(()=>{var m,v;return(v=(m=e.mode)===null||m===void 0?void 0:m.value)!==null&&v!==void 0?v:o?.value}),selectable:ve(()=>{var m,v;return(v=(m=e.selectable)===null||m===void 0?void 0:m.value)!==null&&v!==void 0?v:s?.value}),validator:(t=e.validator)!==null&&t!==void 0?t:a,onClick:(r=e.onClick)!==null&&r!==void 0?r:h,expandIcon:(n=e.expandIcon)!==null&&n!==void 0?n:p?.value})};function dbe(e,t,r,n){let i;if(i!==void 0)return!!i;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;const o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;const a=Object.prototype.hasOwnProperty.bind(t);for(let h=0;h<o.length;h++){const p=o[h];if(!a(p))return!1;const m=e[p],v=t[p];if(i=void 0,i===!1||i===void 0&&m!==v)return!1}return!0}function Zy(e,t){return dbe(Ur(e),Ur(t))}const FG=Symbol("menuContextKey"),NG=e=>{un(FG,e)},Lc=()=>Ir(FG),VG=Symbol("ForceRenderKey"),fbe=e=>{un(VG,e)},jG=()=>Ir(VG,!1),HG=Symbol("menuFirstLevelContextKey"),GG=e=>{un(HG,e)},pbe=()=>Ir(HG,!0),FS=St({compatConfig:{MODE:3},name:"MenuContextProvider",inheritAttrs:!1,props:{mode:{type:String,default:void 0},overflowDisabled:{type:Boolean,default:void 0}},setup(e,t){let{slots:r}=t;const n=Lc(),i=ue({},n);return e.mode!==void 0&&(i.mode=es(e,"mode")),e.overflowDisabled!==void 0&&(i.overflowDisabled=es(e,"overflowDisabled")),NG(i),()=>{var o;return(o=r.default)===null||o===void 0?void 0:o.call(r)}}}),mbe=Symbol("siderCollapsed"),Fx="$$__vc-menu-more__key",UG=Symbol("KeyPathContext"),_R=()=>Ir(UG,{parentEventKeys:ve(()=>[]),parentKeys:ve(()=>[]),parentInfo:{}}),gbe=(e,t,r)=>{const{parentEventKeys:n,parentKeys:i}=_R(),o=ve(()=>[...n.value,e]),s=ve(()=>[...i.value,t]);return un(UG,{parentEventKeys:o,parentKeys:s,parentInfo:r}),s},WG=Symbol("measure"),aF=St({compatConfig:{MODE:3},setup(e,t){let{slots:r}=t;return un(WG,!0),()=>{var n;return(n=r.default)===null||n===void 0?void 0:n.call(r)}}}),bR=()=>Ir(WG,!1);function qG(e){const{mode:t,rtl:r,inlineIndent:n}=Lc();return ve(()=>t.value!=="inline"?null:r.value?{paddingRight:`${e.value*n.value}px`}:{paddingLeft:`${e.value*n.value}px`})}let vbe=0;const ybe=()=>({id:String,role:String,disabled:Boolean,danger:Boolean,title:{type:[String,Boolean],default:void 0},icon:at.any,onMouseenter:Function,onMouseleave:Function,onClick:Function,onKeydown:Function,onFocus:Function,originItemValue:ti()}),qg=St({compatConfig:{MODE:3},name:"AMenuItem",inheritAttrs:!1,props:ybe(),slots:Object,setup(e,t){let{slots:r,emit:n,attrs:i}=t;const o=Yi(),s=bR(),a=typeof o.vnode.key=="symbol"?String(o.vnode.key):o.vnode.key;_l(typeof o.vnode.key!="symbol","MenuItem",`MenuItem \`:key="${String(a)}"\` not support Symbol type`);const h=`menu_item_${++vbe}_$$_${a}`,{parentEventKeys:p,parentKeys:m}=_R(),{prefixCls:v,activeKeys:b,disabled:x,changeActiveKeys:C,rtl:I,inlineCollapsed:A,siderCollapsed:R,onItemClick:k,selectedKeys:$,registerMenuInfo:N,unRegisterMenuInfo:H}=Lc(),W=pbe(),j=vt(!1),X=ve(()=>[...m.value,a]);N(h,{eventKey:h,key:a,parentEventKeys:p,parentKeys:m,isLeaf:!0}),hi(()=>{H(h)}),Zt(b,()=>{j.value=!!b.value.find(Ke=>Ke===a)},{immediate:!0});const Q=ve(()=>x.value||e.disabled),oe=ve(()=>$.value.includes(a)),he=ve(()=>{const Ke=`${v.value}-item`;return{[`${Ke}`]:!0,[`${Ke}-danger`]:e.danger,[`${Ke}-active`]:j.value,[`${Ke}-selected`]:oe.value,[`${Ke}-disabled`]:Q.value}}),ye=Ke=>({key:a,eventKey:h,keyPath:X.value,eventKeyPath:[...p.value,h],domEvent:Ke,item:ue(ue({},e),i)}),be=Ke=>{if(Q.value)return;const gt=ye(Ke);n("click",Ke),k(gt)},ce=Ke=>{Q.value||(C(X.value),n("mouseenter",Ke))},de=Ke=>{Q.value||(C([]),n("mouseleave",Ke))},Oe=Ke=>{if(n("keydown",Ke),Ke.which===yr.ENTER){const gt=ye(Ke);n("click",Ke),k(gt)}},ze=Ke=>{C(X.value),n("focus",Ke)},De=(Ke,gt)=>{const Lt=ie("span",{class:`${v.value}-title-content`},[gt]);return(!Ke||Jh(gt)&&gt.type==="span")&&gt&&A.value&&W&&typeof gt=="string"?ie("div",{class:`${v.value}-inline-collapsed-noicon`},[gt.charAt(0)]):Lt},ct=qG(ve(()=>X.value.length));return()=>{var Ke,gt,Lt,Nt,zt;if(s)return null;const Ft=(Ke=e.title)!==null&&Ke!==void 0?Ke:(gt=r.title)===null||gt===void 0?void 0:gt.call(r),Be=So((Lt=r.default)===null||Lt===void 0?void 0:Lt.call(r)),it=Be.length;let je=Ft;typeof Ft>"u"?je=W&&it?Be:"":Ft===!1&&(je="");const He={title:je};!R.value&&!A.value&&(He.title=null,He.open=!1);const Fe={};e.role==="option"&&(Fe["aria-selected"]=oe.value);const tt=(Nt=e.icon)!==null&&Nt!==void 0?Nt:(zt=r.icon)===null||zt===void 0?void 0:zt.call(r,e);return ie(E0e,wt(wt({},He),{},{placement:I.value?"left":"right",overlayClassName:`${v.value}-inline-collapsed-tooltip`}),{default:()=>[ie(mc.Item,wt(wt(wt({component:"li"},i),{},{id:e.id,style:ue(ue({},i.style||{}),ct.value),class:[he.value,{[`${i.class}`]:!!i.class,[`${v.value}-item-only-child`]:(tt?it+1:it)===1}],role:e.role||"menuitem",tabindex:e.disabled?null:-1,"data-menu-id":a,"aria-disabled":e.disabled},Fe),{},{onMouseenter:ce,onMouseleave:de,onClick:be,onKeydown:Oe,onFocus:ze,title:typeof Ft=="string"?Ft:void 0}),{default:()=>[ka(typeof tt=="function"?tt(e.originItemValue):tt,{class:`${v.value}-item-icon`},!1),De(tt,Be)]})]})}}}),Ah={adjustX:1,adjustY:1},_be={topLeft:{points:["bl","tl"],overflow:Ah,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Ah,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:Ah,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:Ah,offset:[4,0]}},bbe={topLeft:{points:["bl","tl"],overflow:Ah,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Ah,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:Ah,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:Ah,offset:[4,0]}},xbe={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"},sF=St({compatConfig:{MODE:3},name:"PopupTrigger",inheritAttrs:!1,props:{prefixCls:String,mode:String,visible:Boolean,popupClassName:String,popupOffset:Array,disabled:Boolean,onVisibleChange:Function},slots:Object,emits:["visibleChange"],setup(e,t){let{slots:r,emit:n}=t;const i=vt(!1),{getPopupContainer:o,rtl:s,subMenuOpenDelay:a,subMenuCloseDelay:h,builtinPlacements:p,triggerSubMenuAction:m,forceSubMenuRender:v,motion:b,defaultMotions:x,rootClassName:C}=Lc(),I=jG(),A=ve(()=>s.value?ue(ue({},bbe),p.value):ue(ue({},_be),p.value)),R=ve(()=>xbe[e.mode]),k=vt();Zt(()=>e.visible,H=>{Pn.cancel(k.value),k.value=Pn(()=>{i.value=H})},{immediate:!0}),hi(()=>{Pn.cancel(k.value)});const $=H=>{n("visibleChange",H)},N=ve(()=>{var H,W;const j=b.value||((H=x.value)===null||H===void 0?void 0:H[e.mode])||((W=x.value)===null||W===void 0?void 0:W.other),X=typeof j=="function"?j():j;return X?NH(X.name,{css:!0}):void 0});return()=>{const{prefixCls:H,popupClassName:W,mode:j,popupOffset:X,disabled:K}=e;return ie(aT,{prefixCls:H,popupClassName:ir(`${H}-popup`,{[`${H}-rtl`]:s.value},W,C.value),stretch:j==="horizontal"?"minWidth":null,getPopupContainer:o.value,builtinPlacements:A.value,popupPlacement:R.value,popupVisible:i.value,popupAlign:X&&{offset:X},action:K?[]:[m.value],mouseEnterDelay:a.value,mouseLeaveDelay:h.value,onPopupVisibleChange:$,forceRender:I||v.value,popupAnimation:N.value},{popup:r.popup,default:r.default})}}}),xR=(e,t)=>{let{slots:r,attrs:n}=t;var i;const{prefixCls:o,mode:s}=Lc();return ie("ul",wt(wt({},n),{},{class:ir(o.value,`${o.value}-sub`,`${o.value}-${s.value==="inline"?"inline":"vertical"}`),"data-menu-list":!0}),[(i=r.default)===null||i===void 0?void 0:i.call(r)])};xR.displayName="SubMenuList";const wbe=St({compatConfig:{MODE:3},name:"InlineSubMenuList",inheritAttrs:!1,props:{id:String,open:Boolean,keyPath:Array},setup(e,t){let{slots:r}=t;const n=ve(()=>"inline"),{motion:i,mode:o,defaultMotions:s}=Lc(),a=ve(()=>o.value===n.value),h=Vt(!a.value),p=ve(()=>a.value?e.open:!1);Zt(o,()=>{a.value&&(h.value=!1)},{flush:"post"});const m=ve(()=>{var v,b;const x=i.value||((v=s.value)===null||v===void 0?void 0:v[n.value])||((b=s.value)===null||b===void 0?void 0:b.other),C=typeof x=="function"?x():x;return ue(ue({},C),{appear:e.keyPath.length<=1})});return()=>{var v;return h.value?null:ie(FS,{mode:n.value},{default:()=>[ie(Fa,m.value,{default:()=>[Gh(ie(xR,{id:e.id},{default:()=>[(v=r.default)===null||v===void 0?void 0:v.call(r)]}),[[Zf,p.value]])]})]})}}});let lF=0;const Sbe=()=>({icon:at.any,title:at.any,disabled:Boolean,level:Number,popupClassName:String,popupOffset:Array,internalPopupClose:Boolean,eventKey:String,expandIcon:Function,theme:String,onMouseenter:Function,onMouseleave:Function,onTitleClick:Function,originItemValue:ti()}),Zg=St({compatConfig:{MODE:3},name:"ASubMenu",inheritAttrs:!1,props:Sbe(),slots:Object,setup(e,t){let{slots:r,attrs:n,emit:i}=t;var o,s;GG(!1);const a=bR(),h=Yi(),p=typeof h.vnode.key=="symbol"?String(h.vnode.key):h.vnode.key;_l(typeof h.vnode.key!="symbol","SubMenu",`SubMenu \`:key="${String(p)}"\` not support Symbol type`);const m=DE(p)?p:`sub_menu_${++lF}_$$_not_set_key`,v=(o=e.eventKey)!==null&&o!==void 0?o:DE(p)?`sub_menu_${++lF}_$$_${p}`:m,{parentEventKeys:b,parentInfo:x,parentKeys:C}=_R(),I=ve(()=>[...C.value,m]),A=vt([]),R={eventKey:v,key:m,parentEventKeys:b,childrenEventKeys:A,parentKeys:C};(s=x.childrenEventKeys)===null||s===void 0||s.value.push(v),hi(()=>{var Qe;x.childrenEventKeys&&(x.childrenEventKeys.value=(Qe=x.childrenEventKeys)===null||Qe===void 0?void 0:Qe.value.filter(dt=>dt!=v))}),gbe(v,m,R);const{prefixCls:k,activeKeys:$,disabled:N,changeActiveKeys:H,mode:W,inlineCollapsed:j,openKeys:X,overflowDisabled:K,onOpenChange:Q,registerMenuInfo:oe,unRegisterMenuInfo:he,selectedSubMenuKeys:ye,expandIcon:be,theme:ce}=Lc(),de=p!=null,Oe=!a&&(jG()||!de);fbe(Oe),(a&&de||!a&&!de||Oe)&&(oe(v,R),hi(()=>{he(v)}));const ze=ve(()=>`${k.value}-submenu`),De=ve(()=>N.value||e.disabled),ct=vt(),Ke=vt(),gt=ve(()=>X.value.includes(m)),Lt=ve(()=>!K.value&&gt.value),Nt=ve(()=>ye.value.includes(m)),zt=vt(!1);Zt($,()=>{zt.value=!!$.value.find(Qe=>Qe===m)},{immediate:!0});const Ft=Qe=>{De.value||(i("titleClick",Qe,m),W.value==="inline"&&Q(m,!gt.value))},Be=Qe=>{De.value||(H(I.value),i("mouseenter",Qe))},it=Qe=>{De.value||(H([]),i("mouseleave",Qe))},je=qG(ve(()=>I.value.length)),He=Qe=>{W.value!=="inline"&&Q(m,Qe)},Fe=()=>{H(I.value)},tt=v&&`${v}-popup`,me=ve(()=>ir(k.value,`${k.value}-${e.theme||ce.value}`,e.popupClassName)),_e=(Qe,dt)=>{if(!dt)return j.value&&!C.value.length&&Qe&&typeof Qe=="string"?ie("div",{class:`${k.value}-inline-collapsed-noicon`},[Qe.charAt(0)]):ie("span",{class:`${k.value}-title-content`},[Qe]);const xt=Jh(Qe)&&Qe.type==="span";return ie(pr,null,[ka(typeof dt=="function"?dt(e.originItemValue):dt,{class:`${k.value}-item-icon`},!1),xt?Qe:ie("span",{class:`${k.value}-title-content`},[Qe])])},qe=ve(()=>W.value!=="inline"&&I.value.length>1?"vertical":W.value),ht=ve(()=>W.value==="horizontal"?"vertical":W.value),et=ve(()=>qe.value==="horizontal"?"vertical":qe.value),Je=()=>{var Qe,dt;const xt=ze.value,yt=(Qe=e.icon)!==null&&Qe!==void 0?Qe:(dt=r.icon)===null||dt===void 0?void 0:dt.call(r,e),Ht=e.expandIcon||r.expandIcon||be.value,$t=_e(pc(r,e,"title"),yt);return ie("div",{style:je.value,class:`${xt}-title`,tabindex:De.value?null:-1,ref:ct,title:typeof $t=="string"?$t:null,"data-menu-id":m,"aria-expanded":Lt.value,"aria-haspopup":!0,"aria-controls":tt,"aria-disabled":De.value,onClick:Ft,onFocus:Fe},[$t,W.value!=="horizontal"&&Ht?Ht(ue(ue({},e),{isOpen:Lt.value})):ie("i",{class:`${xt}-arrow`},null)])};return()=>{var Qe;if(a)return de?(Qe=r.default)===null||Qe===void 0?void 0:Qe.call(r):null;const dt=ze.value;let xt=()=>null;if(!K.value&&W.value!=="inline"){const yt=W.value==="horizontal"?[0,8]:[10,0];xt=()=>ie(sF,{mode:qe.value,prefixCls:dt,visible:!e.internalPopupClose&&Lt.value,popupClassName:me.value,popupOffset:e.popupOffset||yt,disabled:De.value,onVisibleChange:He},{default:()=>[Je()],popup:()=>ie(FS,{mode:et.value},{default:()=>[ie(xR,{id:tt,ref:Ke},{default:r.default})]})})}else xt=()=>ie(sF,null,{default:Je});return ie(FS,{mode:ht.value},{default:()=>[ie(mc.Item,wt(wt({component:"li"},n),{},{role:"none",class:ir(dt,`${dt}-${W.value}`,n.class,{[`${dt}-open`]:Lt.value,[`${dt}-active`]:zt.value,[`${dt}-selected`]:Nt.value,[`${dt}-disabled`]:De.value}),onMouseenter:Be,onMouseleave:it,"data-submenu-id":m}),{default:()=>ie(pr,null,[xt(),!K.value&&ie(wbe,{id:tt,open:Lt.value,keyPath:I.value},{default:r.default})])})]})}}});function ZG(e,t){return e.classList?e.classList.contains(t):` ${e.className} `.indexOf(` ${t} `)>-1}function rA(e,t){e.classList?e.classList.add(t):ZG(e,t)||(e.className=`${e.className} ${t}`)}function nA(e,t){if(e.classList)e.classList.remove(t);else if(ZG(e,t)){const r=e.className;e.className=` ${r} `.replace(` ${t} `," ")}}const XG=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ant-motion-collapse",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return{name:e,appear:t,css:!0,onBeforeEnter:r=>{r.style.height="0px",r.style.opacity="0",rA(r,e)},onEnter:r=>{_i(()=>{r.style.height=`${r.scrollHeight}px`,r.style.opacity="1"})},onAfterEnter:r=>{r&&(nA(r,e),r.style.height=null,r.style.opacity=null)},onBeforeLeave:r=>{rA(r,e),r.style.height=`${r.offsetHeight}px`,r.style.opacity=null},onLeave:r=>{setTimeout(()=>{r.style.height="0px",r.style.opacity="0"})},onAfterLeave:r=>{r&&(nA(r,e),r.style&&(r.style.height=null,r.style.opacity=null))}}},Tbe=()=>({title:at.any,originItemValue:ti()}),NS=St({compatConfig:{MODE:3},name:"AMenuItemGroup",inheritAttrs:!1,props:Tbe(),slots:Object,setup(e,t){let{slots:r,attrs:n}=t;const{prefixCls:i}=Lc(),o=ve(()=>`${i.value}-item-group`),s=bR();return()=>{var a,h;return s?(a=r.default)===null||a===void 0?void 0:a.call(r):ie("li",wt(wt({},n),{},{onClick:p=>p.stopPropagation(),class:o.value}),[ie("div",{title:typeof e.title=="string"?e.title:void 0,class:`${o.value}-title`},[pc(r,e,"title")]),ie("ul",{class:`${o.value}-list`},[(h=r.default)===null||h===void 0?void 0:h.call(r)])])}}}),Cbe=()=>({prefixCls:String,dashed:Boolean}),VS=St({compatConfig:{MODE:3},name:"AMenuDivider",props:Cbe(),setup(e){const{prefixCls:t}=Lc(),r=ve(()=>({[`${t.value}-item-divider`]:!0,[`${t.value}-item-divider-dashed`]:!!e.dashed}));return()=>ie("li",{class:r.value},null)}});var Pbe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function iA(e,t,r){return(e||[]).map((n,i)=>{if(n&&typeof n=="object"){const o=n,{label:s,children:a,key:h,type:p}=o,m=Pbe(o,["label","children","key","type"]),v=h??`tmp-${i}`,b=r?r.parentKeys.slice():[],x=[],C={eventKey:v,key:v,parentEventKeys:Vt(b),parentKeys:Vt(b),childrenEventKeys:Vt(x),isLeaf:!1};if(a||p==="group"){if(p==="group"){const A=iA(a,t,r);return ie(NS,wt(wt({key:v},m),{},{title:s,originItemValue:n}),{default:()=>[A]})}t.set(v,C),r&&r.childrenEventKeys.push(v);const I=iA(a,t,{childrenEventKeys:x,parentKeys:[].concat(b,v)});return ie(Zg,wt(wt({key:v},m),{},{title:s,originItemValue:n}),{default:()=>[I]})}return p==="divider"?ie(VS,wt({key:v},m),null):(C.isLeaf=!0,t.set(v,C),ie(qg,wt(wt({key:v},m),{},{originItemValue:n}),{default:()=>[s]}))}return null}).filter(n=>n)}function Mbe(e){const t=vt([]),r=vt(!1),n=vt(new Map);return Zt(()=>e.items,()=>{const i=new Map;r.value=!1,e.items?(r.value=!0,t.value=iA(e.items,i)):t.value=void 0,n.value=i},{immediate:!0,deep:!0}),{itemsNodes:t,store:n,hasItmes:r}}const Ibe=e=>{const{componentCls:t,motionDurationSlow:r,menuHorizontalHeight:n,colorSplit:i,lineWidth:o,lineType:s,menuItemPaddingInline:a}=e;return{[`${t}-horizontal`]:{lineHeight:`${n}px`,border:0,borderBottom:`${o}px ${s} ${i}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${t}-item, ${t}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:a},[`> ${t}-item:hover,
        > ${t}-item-active,
        > ${t}-submenu ${t}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${t}-item, ${t}-submenu-title`]:{transition:[`border-color ${r}`,`background ${r}`].join(",")},[`${t}-submenu-arrow`]:{display:"none"}}}},Ebe=e=>{let{componentCls:t,menuArrowOffset:r}=e;return{[`${t}-rtl`]:{direction:"rtl"},[`${t}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${t}-rtl${t}-vertical,
    ${t}-submenu-rtl ${t}-vertical`]:{[`${t}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(-${r})`},"&::after":{transform:`rotate(45deg) translateY(${r})`}}}}},uF=e=>ue({},Q7(e)),cF=(e,t)=>{const{componentCls:r,colorItemText:n,colorItemTextSelected:i,colorGroupTitle:o,colorItemBg:s,colorSubItemBg:a,colorItemBgSelected:h,colorActiveBarHeight:p,colorActiveBarWidth:m,colorActiveBarBorderSize:v,motionDurationSlow:b,motionEaseInOut:x,motionEaseOut:C,menuItemPaddingInline:I,motionDurationMid:A,colorItemTextHover:R,lineType:k,colorSplit:$,colorItemTextDisabled:N,colorDangerItemText:H,colorDangerItemTextHover:W,colorDangerItemTextSelected:j,colorDangerItemBgActive:X,colorDangerItemBgSelected:K,colorItemBgHover:Q,menuSubMenuBg:oe,colorItemTextSelectedHorizontal:he,colorItemBgSelectedHorizontal:ye}=e;return{[`${r}-${t}`]:{color:n,background:s,[`&${r}-root:focus-visible`]:ue({},uF(e)),[`${r}-item-group-title`]:{color:o},[`${r}-submenu-selected`]:{[`> ${r}-submenu-title`]:{color:i}},[`${r}-item-disabled, ${r}-submenu-disabled`]:{color:`${N} !important`},[`${r}-item:hover, ${r}-submenu-title:hover`]:{[`&:not(${r}-item-selected):not(${r}-submenu-selected)`]:{color:R}},[`&:not(${r}-horizontal)`]:{[`${r}-item:not(${r}-item-selected)`]:{"&:hover":{backgroundColor:Q},"&:active":{backgroundColor:h}},[`${r}-submenu-title`]:{"&:hover":{backgroundColor:Q},"&:active":{backgroundColor:h}}},[`${r}-item-danger`]:{color:H,[`&${r}-item:hover`]:{[`&:not(${r}-item-selected):not(${r}-submenu-selected)`]:{color:W}},[`&${r}-item:active`]:{background:X}},[`${r}-item a`]:{"&, &:hover":{color:"inherit"}},[`${r}-item-selected`]:{color:i,[`&${r}-item-danger`]:{color:j},"a, a:hover":{color:"inherit"}},[`& ${r}-item-selected`]:{backgroundColor:h,[`&${r}-item-danger`]:{backgroundColor:K}},[`${r}-item, ${r}-submenu-title`]:{[`&:not(${r}-item-disabled):focus-visible`]:ue({},uF(e))},[`&${r}-submenu > ${r}`]:{backgroundColor:oe},[`&${r}-popup > ${r}`]:{backgroundColor:s},[`&${r}-horizontal`]:ue(ue({},t==="dark"?{borderBottom:0}:{}),{[`> ${r}-item, > ${r}-submenu`]:{top:v,marginTop:-v,marginBottom:0,borderRadius:0,"&::after":{position:"absolute",insetInline:I,bottom:0,borderBottom:`${p}px solid transparent`,transition:`border-color ${b} ${x}`,content:'""'},"&:hover, &-active, &-open":{"&::after":{borderBottomWidth:p,borderBottomColor:he}},"&-selected":{color:he,backgroundColor:ye,"&::after":{borderBottomWidth:p,borderBottomColor:he}}}}),[`&${r}-root`]:{[`&${r}-inline, &${r}-vertical`]:{borderInlineEnd:`${v}px ${k} ${$}`}},[`&${r}-inline`]:{[`${r}-sub${r}-inline`]:{background:a},[`${r}-item, ${r}-submenu-title`]:v&&m?{width:`calc(100% + ${v}px)`}:{},[`${r}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${m}px solid ${i}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${A} ${C}`,`opacity ${A} ${C}`].join(","),content:'""'},[`&${r}-item-danger`]:{"&::after":{borderInlineEndColor:j}}},[`${r}-selected, ${r}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${A} ${x}`,`opacity ${A} ${x}`].join(",")}}}}}},hF=e=>{const{componentCls:t,menuItemHeight:r,itemMarginInline:n,padding:i,menuArrowSize:o,marginXS:s,marginXXS:a}=e,h=i+o+s;return{[`${t}-item`]:{position:"relative"},[`${t}-item, ${t}-submenu-title`]:{height:r,lineHeight:`${r}px`,paddingInline:i,overflow:"hidden",textOverflow:"ellipsis",marginInline:n,marginBlock:a,width:`calc(100% - ${n*2}px)`},[`${t}-submenu`]:{paddingBottom:.02},[`> ${t}-item,
            > ${t}-submenu > ${t}-submenu-title`]:{height:r,lineHeight:`${r}px`},[`${t}-item-group-list ${t}-submenu-title,
            ${t}-submenu-title`]:{paddingInlineEnd:h}}},Abe=e=>{const{componentCls:t,iconCls:r,menuItemHeight:n,colorTextLightSolid:i,dropdownWidth:o,controlHeightLG:s,motionDurationMid:a,motionEaseOut:h,paddingXL:p,fontSizeSM:m,fontSizeLG:v,motionDurationSlow:b,paddingXS:x,boxShadowSecondary:C}=e,I={height:n,lineHeight:`${n}px`,listStylePosition:"inside",listStyleType:"disc"};return[{[t]:{"&-inline, &-vertical":ue({[`&${t}-root`]:{boxShadow:"none"}},hF(e))},[`${t}-submenu-popup`]:{[`${t}-vertical`]:ue(ue({},hF(e)),{boxShadow:C})}},{[`${t}-submenu-popup ${t}-vertical${t}-sub`]:{minWidth:o,maxHeight:`calc(100vh - ${s*2.5}px)`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${t}-inline`]:{width:"100%",[`&${t}-root`]:{[`${t}-item, ${t}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${b}`,`background ${b}`,`padding ${a} ${h}`].join(","),[`> ${t}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${t}-sub${t}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${t}-submenu > ${t}-submenu-title`]:I,[`& ${t}-item-group-title`]:{paddingInlineStart:p}},[`${t}-item`]:I}},{[`${t}-inline-collapsed`]:{width:n*2,[`&${t}-root`]:{[`${t}-item, ${t}-submenu ${t}-submenu-title`]:{[`> ${t}-inline-collapsed-noicon`]:{fontSize:v,textAlign:"center"}}},[`> ${t}-item,
          > ${t}-item-group > ${t}-item-group-list > ${t}-item,
          > ${t}-item-group > ${t}-item-group-list > ${t}-submenu > ${t}-submenu-title,
          > ${t}-submenu > ${t}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${m}px)`,textOverflow:"clip",[`
            ${t}-submenu-arrow,
            ${t}-submenu-expand-icon
          `]:{opacity:0},[`${t}-item-icon, ${r}`]:{margin:0,fontSize:v,lineHeight:`${n}px`,"+ span":{display:"inline-block",opacity:0}}},[`${t}-item-icon, ${r}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${t}-item-icon, ${r}`]:{display:"none"},"a, a:hover":{color:i}},[`${t}-item-group-title`]:ue(ue({},Wh),{paddingInline:x})}}]},dF=e=>{const{componentCls:t,fontSize:r,motionDurationSlow:n,motionDurationMid:i,motionEaseInOut:o,motionEaseOut:s,iconCls:a,controlHeightSM:h}=e;return{[`${t}-item, ${t}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${n}`,`background ${n}`,`padding ${n} ${o}`].join(","),[`${t}-item-icon, ${a}`]:{minWidth:r,fontSize:r,transition:[`font-size ${i} ${s}`,`margin ${n} ${o}`,`color ${n}`].join(","),"+ span":{marginInlineStart:h-r,opacity:1,transition:[`opacity ${n} ${o}`,`margin ${n}`,`color ${n}`].join(",")}},[`${t}-item-icon`]:ue({},_b()),[`&${t}-item-only-child`]:{[`> ${a}, > ${t}-item-icon`]:{marginInlineEnd:0}}},[`${t}-item-disabled, ${t}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important"},[`> ${t}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},fF=e=>{const{componentCls:t,motionDurationSlow:r,motionEaseInOut:n,borderRadius:i,menuArrowSize:o,menuArrowOffset:s}=e;return{[`${t}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:e.margin,width:o,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${r} ${n}, opacity ${r}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:o*.6,height:o*.15,backgroundColor:"currentcolor",borderRadius:i,transition:[`background ${r} ${n}`,`transform ${r} ${n}`,`top ${r} ${n}`,`color ${r} ${n}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(-${s})`},"&::after":{transform:`rotate(-45deg) translateY(${s})`}}}}},Dbe=e=>{const{antCls:t,componentCls:r,fontSize:n,motionDurationSlow:i,motionDurationMid:o,motionEaseInOut:s,lineHeight:a,paddingXS:h,padding:p,colorSplit:m,lineWidth:v,zIndexPopup:b,borderRadiusLG:x,radiusSubMenuItem:C,menuArrowSize:I,menuArrowOffset:A,lineType:R,menuPanelMaskInset:k}=e;return[{"":{[`${r}`]:ue(ue({},Hg()),{"&-hidden":{display:"none"}})},[`${r}-submenu-hidden`]:{display:"none"}},{[r]:ue(ue(ue(ue(ue(ue(ue({},_a(e)),Hg()),{marginBottom:0,paddingInlineStart:0,fontSize:n,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${i} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${r}-item`]:{flex:"none"}},[`${r}-item, ${r}-submenu, ${r}-submenu-title`]:{borderRadius:e.radiusItem},[`${r}-item-group-title`]:{padding:`${h}px ${p}px`,fontSize:n,lineHeight:a,transition:`all ${i}`},[`&-horizontal ${r}-submenu`]:{transition:[`border-color ${i} ${s}`,`background ${i} ${s}`].join(",")},[`${r}-submenu, ${r}-submenu-inline`]:{transition:[`border-color ${i} ${s}`,`background ${i} ${s}`,`padding ${o} ${s}`].join(",")},[`${r}-submenu ${r}-sub`]:{cursor:"initial",transition:[`background ${i} ${s}`,`padding ${i} ${s}`].join(",")},[`${r}-title-content`]:{transition:`color ${i}`},[`${r}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${r}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:m,borderStyle:R,borderWidth:0,borderTopWidth:v,marginBlock:v,padding:0,"&-dashed":{borderStyle:"dashed"}}}),dF(e)),{[`${r}-item-group`]:{[`${r}-item-group-list`]:{margin:0,padding:0,[`${r}-item, ${r}-submenu-title`]:{paddingInline:`${n*2}px ${p}px`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:b,background:"transparent",borderRadius:x,boxShadow:"none",transformOrigin:"0 0","&::before":{position:"absolute",inset:`${k}px 0 0`,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'}},"&-placement-rightTop::before":{top:0,insetInlineStart:k},[`> ${r}`]:ue(ue(ue({borderRadius:x},dF(e)),fF(e)),{[`${r}-item, ${r}-submenu > ${r}-submenu-title`]:{borderRadius:C},[`${r}-submenu-title::after`]:{transition:`transform ${i} ${s}`}})}}),fF(e)),{[`&-inline-collapsed ${r}-submenu-arrow,
        &-inline ${r}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${A})`},"&::after":{transform:`rotate(45deg) translateX(-${A})`}},[`${r}-submenu-open${r}-submenu-inline > ${r}-submenu-title > ${r}-submenu-arrow`]:{transform:`translateY(-${I*.2}px)`,"&::after":{transform:`rotate(-45deg) translateX(-${A})`},"&::before":{transform:`rotate(45deg) translateX(${A})`}}})},{[`${t}-layout-header`]:{[r]:{lineHeight:"inherit"}}}]},Lbe=((e,t)=>zo("Menu",(n,i)=>{let{overrideComponentToken:o}=i;if(t?.value===!1)return[];const{colorBgElevated:s,colorPrimary:a,colorError:h,colorErrorHover:p,colorTextLightSolid:m}=n,{controlHeightLG:v,fontSize:b}=n,x=b/7*5,C=Un(n,{menuItemHeight:v,menuItemPaddingInline:n.margin,menuArrowSize:x,menuHorizontalHeight:v*1.15,menuArrowOffset:`${x*.25}px`,menuPanelMaskInset:-7,menuSubMenuBg:s}),I=new Di(m).setAlpha(.65).toRgbString(),A=Un(C,{colorItemText:I,colorItemTextHover:m,colorGroupTitle:I,colorItemTextSelected:m,colorItemBg:"#001529",colorSubItemBg:"#000c17",colorItemBgActive:"transparent",colorItemBgSelected:a,colorActiveBarWidth:0,colorActiveBarHeight:0,colorActiveBarBorderSize:0,colorItemTextDisabled:new Di(m).setAlpha(.25).toRgbString(),colorDangerItemText:h,colorDangerItemTextHover:p,colorDangerItemTextSelected:m,colorDangerItemBgActive:h,colorDangerItemBgSelected:h,menuSubMenuBg:"#001529",colorItemTextSelectedHorizontal:m,colorItemBgSelectedHorizontal:a},ue({},o));return[Dbe(C),Ibe(C),Abe(C),cF(C,"light"),cF(A,"dark"),Ebe(C),MG(C),Wg(C,"slide-up"),Wg(C,"slide-down"),PG(C,"zoom-big")]},n=>{const{colorPrimary:i,colorError:o,colorTextDisabled:s,colorErrorBg:a,colorText:h,colorTextDescription:p,colorBgContainer:m,colorFillAlter:v,colorFillContent:b,lineWidth:x,lineWidthBold:C,controlItemBgActive:I,colorBgTextHover:A}=n;return{dropdownWidth:160,zIndexPopup:n.zIndexPopupBase+50,radiusItem:n.borderRadiusLG,radiusSubMenuItem:n.borderRadiusSM,colorItemText:h,colorItemTextHover:h,colorItemTextHoverHorizontal:i,colorGroupTitle:p,colorItemTextSelected:i,colorItemTextSelectedHorizontal:i,colorItemBg:m,colorItemBgHover:A,colorItemBgActive:b,colorSubItemBg:v,colorItemBgSelected:I,colorItemBgSelectedHorizontal:"transparent",colorActiveBarWidth:0,colorActiveBarHeight:C,colorActiveBarBorderSize:x,colorItemTextDisabled:s,colorDangerItemText:o,colorDangerItemTextHover:o,colorDangerItemTextSelected:o,colorDangerItemBgActive:a,colorDangerItemBgSelected:a,itemMarginInline:n.marginXXS}})(e)),Rbe=()=>({id:String,prefixCls:String,items:Array,disabled:Boolean,inlineCollapsed:Boolean,disabledOverflow:Boolean,forceSubMenuRender:Boolean,openKeys:Array,selectedKeys:Array,activeKey:String,selectable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},tabindex:{type:[Number,String]},motion:Object,role:String,theme:{type:String,default:"light"},mode:{type:String,default:"vertical"},inlineIndent:{type:Number,default:24},subMenuOpenDelay:{type:Number,default:0},subMenuCloseDelay:{type:Number,default:.1},builtinPlacements:{type:Object},triggerSubMenuAction:{type:String,default:"hover"},getPopupContainer:Function,expandIcon:Function,onOpenChange:Function,onSelect:Function,onDeselect:Function,onClick:[Function,Array],onFocus:Function,onBlur:Function,onMousedown:Function,"onUpdate:openKeys":Function,"onUpdate:selectedKeys":Function,"onUpdate:activeKey":Function}),pF=[],Bh=St({compatConfig:{MODE:3},name:"AMenu",inheritAttrs:!1,props:Rbe(),slots:Object,setup(e,t){let{slots:r,emit:n,attrs:i}=t;const{direction:o,getPrefixCls:s}=qn("menu",e),a=BG(),h=ve(()=>{var Be;return s("menu",e.prefixCls||((Be=a?.prefixCls)===null||Be===void 0?void 0:Be.value))}),[p,m]=Lbe(h,ve(()=>!a)),v=vt(new Map),b=Ir(mbe,Vt(void 0)),x=ve(()=>b.value!==void 0?b.value:e.inlineCollapsed),{itemsNodes:C}=Mbe(e),I=vt(!1);Nr(()=>{I.value=!0}),Gn(()=>{_l(!(e.inlineCollapsed===!0&&e.mode!=="inline"),"Menu","`inlineCollapsed` should only be used when `mode` is inline."),_l(!(b.value!==void 0&&e.inlineCollapsed===!0),"Menu","`inlineCollapsed` not control Menu under Sider. Should set `collapsed` on Sider instead.")});const A=Vt([]),R=Vt([]),k=Vt({});Zt(v,()=>{const Be={};for(const it of v.value.values())Be[it.key]=it;k.value=Be},{flush:"post"}),Gn(()=>{if(e.activeKey!==void 0){let Be=[];const it=e.activeKey?k.value[e.activeKey]:void 0;it&&e.activeKey!==void 0?Be=mM([].concat(rr(it.parentKeys),e.activeKey)):Be=[],Zy(A.value,Be)||(A.value=Be)}}),Zt(()=>e.selectedKeys,Be=>{Be&&(R.value=Be.slice())},{immediate:!0,deep:!0});const $=Vt([]);Zt([k,R],()=>{let Be=[];R.value.forEach(it=>{const je=k.value[it];je&&(Be=Be.concat(rr(je.parentKeys)))}),Be=mM(Be),Zy($.value,Be)||($.value=Be)},{immediate:!0});const N=Be=>{if(e.selectable){const{key:it}=Be,je=R.value.includes(it);let He;e.multiple?je?He=R.value.filter(tt=>tt!==it):He=[...R.value,it]:He=[it];const Fe=ue(ue({},Be),{selectedKeys:He});Zy(He,R.value)||(e.selectedKeys===void 0&&(R.value=He),n("update:selectedKeys",He),je&&e.multiple?n("deselect",Fe):n("select",Fe))}Q.value!=="inline"&&!e.multiple&&H.value.length&&ye(pF)},H=Vt([]);Zt(()=>e.openKeys,function(){let Be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:H.value;Zy(H.value,Be)||(H.value=Be.slice())},{immediate:!0,deep:!0});let W;const j=Be=>{clearTimeout(W),W=setTimeout(()=>{e.activeKey===void 0&&(A.value=Be),n("update:activeKey",Be[Be.length-1])})},X=ve(()=>!!e.disabled),K=ve(()=>o.value==="rtl"),Q=Vt("vertical"),oe=vt(!1);Gn(()=>{var Be;(e.mode==="inline"||e.mode==="vertical")&&x.value?(Q.value="vertical",oe.value=x.value):(Q.value=e.mode,oe.value=!1),!((Be=a?.mode)===null||Be===void 0)&&Be.value&&(Q.value=a.mode.value)});const he=ve(()=>Q.value==="inline"),ye=Be=>{H.value=Be,n("update:openKeys",Be),n("openChange",Be)},be=Vt(H.value),ce=vt(!1);Zt(H,()=>{he.value&&(be.value=H.value)},{immediate:!0}),Zt(he,()=>{if(!ce.value){ce.value=!0;return}he.value?H.value=be.value:ye(pF)},{immediate:!0});const de=ve(()=>({[`${h.value}`]:!0,[`${h.value}-root`]:!0,[`${h.value}-${Q.value}`]:!0,[`${h.value}-inline-collapsed`]:oe.value,[`${h.value}-rtl`]:K.value,[`${h.value}-${e.theme}`]:!0})),Oe=ve(()=>s()),ze=ve(()=>({horizontal:{name:`${Oe.value}-slide-up`},inline:XG(`${Oe.value}-motion-collapse`),other:{name:`${Oe.value}-zoom-big`}}));GG(!0);const De=function(){let Be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const it=[],je=v.value;return Be.forEach(He=>{const{key:Fe,childrenEventKeys:tt}=je.get(He);it.push(Fe,...De(rr(tt)))}),it},ct=Be=>{var it;n("click",Be),N(Be),(it=a?.onClick)===null||it===void 0||it.call(a)},Ke=(Be,it)=>{var je;const He=((je=k.value[Be])===null||je===void 0?void 0:je.childrenEventKeys)||[];let Fe=H.value.filter(tt=>tt!==Be);if(it)Fe.push(Be);else if(Q.value!=="inline"){const tt=De(rr(He));Fe=mM(Fe.filter(me=>!tt.includes(me)))}Zy(H,Fe)||ye(Fe)},gt=(Be,it)=>{v.value.set(Be,it),v.value=new Map(v.value)},Lt=Be=>{v.value.delete(Be),v.value=new Map(v.value)},Nt=Vt(0),zt=ve(()=>{var Be;return e.expandIcon||r.expandIcon||!((Be=a?.expandIcon)===null||Be===void 0)&&Be.value?it=>{let je=e.expandIcon||r.expandIcon;return je=typeof je=="function"?je(it):je,ka(je,{class:`${h.value}-submenu-expand-icon`},!1)}:null});NG({prefixCls:h,activeKeys:A,openKeys:H,selectedKeys:R,changeActiveKeys:j,disabled:X,rtl:K,mode:Q,inlineIndent:ve(()=>e.inlineIndent),subMenuCloseDelay:ve(()=>e.subMenuCloseDelay),subMenuOpenDelay:ve(()=>e.subMenuOpenDelay),builtinPlacements:ve(()=>e.builtinPlacements),triggerSubMenuAction:ve(()=>e.triggerSubMenuAction),getPopupContainer:ve(()=>e.getPopupContainer),inlineCollapsed:oe,theme:ve(()=>e.theme),siderCollapsed:b,defaultMotions:ve(()=>I.value?ze.value:null),motion:ve(()=>I.value?e.motion:null),overflowDisabled:vt(void 0),onOpenChange:Ke,onItemClick:ct,registerMenuInfo:gt,unRegisterMenuInfo:Lt,selectedSubMenuKeys:$,expandIcon:zt,forceSubMenuRender:ve(()=>e.forceSubMenuRender),rootClassName:m});const Ft=()=>{var Be;return C.value||So((Be=r.default)===null||Be===void 0?void 0:Be.call(r))};return()=>{var Be;const it=Ft(),je=Nt.value>=it.length-1||Q.value!=="horizontal"||e.disabledOverflow,He=tt=>Q.value!=="horizontal"||e.disabledOverflow?tt:tt.map((me,_e)=>ie(FS,{key:me.key,overflowDisabled:_e>Nt.value},{default:()=>me})),Fe=((Be=r.overflowedIndicator)===null||Be===void 0?void 0:Be.call(r))||ie(uT,null,null);return p(ie(mc,wt(wt({},i),{},{onMousedown:e.onMousedown,prefixCls:`${h.value}-overflow`,component:"ul",itemComponent:qg,class:[de.value,i.class,m.value],role:"menu",id:e.id,data:He(it),renderRawItem:tt=>tt,renderRawRest:tt=>{const me=tt.length,_e=me?it.slice(-me):null;return ie(pr,null,[ie(Zg,{eventKey:Fx,key:Fx,title:Fe,disabled:je,internalPopupClose:me===0},{default:()=>_e}),ie(aF,null,{default:()=>[ie(Zg,{eventKey:Fx,key:Fx,title:Fe,disabled:je,internalPopupClose:me===0},{default:()=>_e})]})])},maxCount:Q.value!=="horizontal"||e.disabledOverflow?mc.INVALIDATE:mc.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:tt=>{Nt.value=tt}}),{default:()=>[ie(BD,{to:"body"},{default:()=>[ie("div",{style:{display:"none"},"aria-hidden":!0},[ie(aF,null,{default:()=>[He(Ft())]})])]})]}))}}});Bh.install=function(e){return e.component(Bh.name,Bh),e.component(qg.name,qg),e.component(Zg.name,Zg),e.component(VS.name,VS),e.component(NS.name,NS),e};Bh.Item=qg;Bh.Divider=VS;Bh.SubMenu=Zg;Bh.ItemGroup=NS;function Obe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function kbe(e){const t=vt(),r=vt(!1);function n(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];r.value||(Pn.cancel(t.value),t.value=Pn(()=>{e(...o)}))}return hi(()=>{r.value=!0,Pn.cancel(t.value)}),n}function $be(e){const t=vt([]),r=vt(typeof e=="function"?e():e),n=kbe(()=>{let o=r.value;t.value.forEach(s=>{o=s(o)}),t.value=[],r.value=o});function i(o){t.value.push(o),n()}return[r,i]}const zbe=St({compatConfig:{MODE:3},name:"TabNode",props:{id:{type:String},prefixCls:{type:String},tab:{type:Object},active:{type:Boolean},closable:{type:Boolean},editable:{type:Object},onClick:{type:Function},onResize:{type:Function},renderWrapper:{type:Function},removeAriaLabel:{type:String},onFocus:{type:Function}},emits:["click","resize","remove","focus"],setup(e,t){let{expose:r,attrs:n}=t;const i=Vt();function o(h){var p;!((p=e.tab)===null||p===void 0)&&p.disabled||e.onClick(h)}r({domRef:i});function s(h){var p;h.preventDefault(),h.stopPropagation(),e.editable.onEdit("remove",{key:(p=e.tab)===null||p===void 0?void 0:p.key,event:h})}const a=ve(()=>{var h;return e.editable&&e.closable!==!1&&!(!((h=e.tab)===null||h===void 0)&&h.disabled)});return()=>{var h;const{prefixCls:p,id:m,active:v,tab:{key:b,tab:x,disabled:C,closeIcon:I},renderWrapper:A,removeAriaLabel:R,editable:k,onFocus:$}=e,N=`${p}-tab`,H=ie("div",{key:b,ref:i,class:ir(N,{[`${N}-with-remove`]:a.value,[`${N}-active`]:v,[`${N}-disabled`]:C}),style:n.style,onClick:o},[ie("div",{role:"tab","aria-selected":v,id:m&&`${m}-tab-${b}`,class:`${N}-btn`,"aria-controls":m&&`${m}-panel-${b}`,"aria-disabled":C,tabindex:C?null:0,onClick:W=>{W.stopPropagation(),o(W)},onKeydown:W=>{[yr.SPACE,yr.ENTER].includes(W.which)&&(W.preventDefault(),o(W))},onFocus:$},[typeof x=="function"?x():x]),a.value&&ie("button",{type:"button","aria-label":R||"remove",tabindex:0,class:`${N}-remove`,onClick:W=>{W.stopPropagation(),s(W)}},[I?.()||((h=k.removeIcon)===null||h===void 0?void 0:h.call(k))||""])]);return A?A(H):H}}}),mF={width:0,height:0,left:0,top:0};function Bbe(e,t){const r=Vt(new Map);return Gn(()=>{var n,i;const o=new Map,s=e.value,a=t.value.get((n=s[0])===null||n===void 0?void 0:n.key)||mF,h=a.left+a.width;for(let p=0;p<s.length;p+=1){const{key:m}=s[p];let v=t.value.get(m);v||(v=t.value.get((i=s[p-1])===null||i===void 0?void 0:i.key)||mF);const b=o.get(m)||ue({},v);b.right=h-b.left-b.width,o.set(m,b)}r.value=new Map(o)}),r}const KG=St({compatConfig:{MODE:3},name:"AddButton",inheritAttrs:!1,props:{prefixCls:String,editable:{type:Object},locale:{type:Object,default:void 0}},setup(e,t){let{expose:r,attrs:n}=t;const i=Vt();return r({domRef:i}),()=>{const{prefixCls:o,editable:s,locale:a}=e;return!s||s.showAdd===!1?null:ie("button",{ref:i,type:"button",class:`${o}-nav-add`,style:n.style,"aria-label":a?.addAriaLabel||"Add tab",onClick:h=>{s.onEdit("add",{event:h})}},[s.addIcon?s.addIcon():"+"])}}}),Fbe={prefixCls:{type:String},id:{type:String},tabs:{type:Object},rtl:{type:Boolean},tabBarGutter:{type:Number},activeKey:{type:[String,Number]},mobile:{type:Boolean},moreIcon:at.any,moreTransitionName:{type:String},editable:{type:Object},locale:{type:Object,default:void 0},removeAriaLabel:String,onTabClick:{type:Function},popupClassName:String,getPopupContainer:io()},Nbe=St({compatConfig:{MODE:3},name:"OperationNode",inheritAttrs:!1,props:Fbe,emits:["tabClick"],slots:Object,setup(e,t){let{attrs:r,slots:n}=t;const[i,o]=ui(!1),[s,a]=ui(null),h=x=>{const C=e.tabs.filter(R=>!R.disabled);let I=C.findIndex(R=>R.key===s.value)||0;const A=C.length;for(let R=0;R<A;R+=1){I=(I+x+A)%A;const k=C[I];if(!k.disabled){a(k.key);return}}},p=x=>{const{which:C}=x;if(!i.value){[yr.DOWN,yr.SPACE,yr.ENTER].includes(C)&&(o(!0),x.preventDefault());return}switch(C){case yr.UP:h(-1),x.preventDefault();break;case yr.DOWN:h(1),x.preventDefault();break;case yr.ESC:o(!1);break;case yr.SPACE:case yr.ENTER:s.value!==null&&e.onTabClick(s.value,x);break}},m=ve(()=>`${e.id}-more-popup`),v=ve(()=>s.value!==null?`${m.value}-${s.value}`:null),b=(x,C)=>{x.preventDefault(),x.stopPropagation(),e.editable.onEdit("remove",{key:C,event:x})};return Nr(()=>{Zt(s,()=>{const x=document.getElementById(v.value);x&&x.scrollIntoView&&x.scrollIntoView(!1)},{flush:"post",immediate:!0})}),Zt(i,()=>{i.value||a(null)}),hbe({}),()=>{var x;const{prefixCls:C,id:I,tabs:A,locale:R,mobile:k,moreIcon:$=((x=n.moreIcon)===null||x===void 0?void 0:x.call(n))||ie(uT,null,null),moreTransitionName:N,editable:H,tabBarGutter:W,rtl:j,onTabClick:X,popupClassName:K}=e;if(!A.length)return null;const Q=`${C}-dropdown`,oe=R?.dropdownAriaLabel,he={[j?"marginRight":"marginLeft"]:W};A.length||(he.visibility="hidden",he.order=1);const ye=ir({[`${Q}-rtl`]:j,[`${K}`]:!0}),be=k?null:ie(L0e,{prefixCls:Q,trigger:["hover"],visible:i.value,transitionName:N,onVisibleChange:o,overlayClassName:ye,mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:e.getPopupContainer},{overlay:()=>ie(Bh,{onClick:ce=>{let{key:de,domEvent:Oe}=ce;X(de,Oe),o(!1)},id:m.value,tabindex:-1,role:"listbox","aria-activedescendant":v.value,selectedKeys:[s.value],"aria-label":oe!==void 0?oe:"expanded dropdown"},{default:()=>[A.map(ce=>{var de,Oe;const ze=H&&ce.closable!==!1&&!ce.disabled;return ie(qg,{key:ce.key,id:`${m.value}-${ce.key}`,role:"option","aria-controls":I&&`${I}-panel-${ce.key}`,disabled:ce.disabled},{default:()=>[ie("span",null,[typeof ce.tab=="function"?ce.tab():ce.tab]),ze&&ie("button",{type:"button","aria-label":e.removeAriaLabel||"remove",tabindex:0,class:`${Q}-menu-item-remove`,onClick:De=>{De.stopPropagation(),b(De,ce.key)}},[((de=ce.closeIcon)===null||de===void 0?void 0:de.call(ce))||((Oe=H.removeIcon)===null||Oe===void 0?void 0:Oe.call(H))||""])]})})]}),default:()=>ie("button",{type:"button",class:`${C}-nav-more`,style:he,tabindex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":m.value,id:`${I}-more`,"aria-expanded":i.value,onKeydown:p},[$])});return ie("div",{class:ir(`${C}-nav-operations`,r.class),style:r.style},[be,ie(KG,{prefixCls:C,locale:R,editable:H},null)])}}}),YG=Symbol("tabsContextKey"),Vbe=e=>{un(YG,e)},JG=()=>Ir(YG,{tabs:Vt([]),prefixCls:Vt()}),jbe=.1,gF=.01,qw=20,vF=Math.pow(.995,qw);function Hbe(e,t){const[r,n]=ui(),[i,o]=ui(0),[s,a]=ui(0),[h,p]=ui(),m=Vt();function v(H){const{screenX:W,screenY:j}=H.touches[0];n({x:W,y:j}),clearInterval(m.value)}function b(H){if(!r.value)return;H.preventDefault();const{screenX:W,screenY:j}=H.touches[0],X=W-r.value.x,K=j-r.value.y;t(X,K),n({x:W,y:j});const Q=Date.now();a(Q-i.value),o(Q),p({x:X,y:K})}function x(){if(!r.value)return;const H=h.value;if(n(null),p(null),H){const W=H.x/s.value,j=H.y/s.value,X=Math.abs(W),K=Math.abs(j);if(Math.max(X,K)<jbe)return;let Q=W,oe=j;m.value=setInterval(()=>{if(Math.abs(Q)<gF&&Math.abs(oe)<gF){clearInterval(m.value);return}Q*=vF,oe*=vF,t(Q*qw,oe*qw)},qw)}}const C=Vt();function I(H){const{deltaX:W,deltaY:j}=H;let X=0;const K=Math.abs(W),Q=Math.abs(j);K===Q?X=C.value==="x"?W:j:K>Q?(X=W,C.value="x"):(X=j,C.value="y"),t(-X,-X)&&H.preventDefault()}const A=Vt({onTouchStart:v,onTouchMove:b,onTouchEnd:x,onWheel:I});function R(H){A.value.onTouchStart(H)}function k(H){A.value.onTouchMove(H)}function $(H){A.value.onTouchEnd(H)}function N(H){A.value.onWheel(H)}Nr(()=>{var H,W;document.addEventListener("touchmove",k,{passive:!1}),document.addEventListener("touchend",$,{passive:!1}),(H=e.value)===null||H===void 0||H.addEventListener("touchstart",R,{passive:!1}),(W=e.value)===null||W===void 0||W.addEventListener("wheel",N,{passive:!1})}),hi(()=>{document.removeEventListener("touchmove",k),document.removeEventListener("touchend",$)})}function yF(e,t){const r=Vt(e);function n(i){const o=typeof i=="function"?i(r.value):i;o!==r.value&&t(o,r.value),r.value=o}return[r,n]}const Gbe=()=>{const e=Vt(new Map),t=r=>n=>{e.value.set(r,n)};return Q9(()=>{e.value=new Map}),[t,e]},_F={width:0,height:0,left:0,top:0,right:0},Ube=()=>({id:{type:String},tabPosition:{type:String},activeKey:{type:[String,Number]},rtl:{type:Boolean},animated:ti(),editable:ti(),moreIcon:at.any,moreTransitionName:{type:String},mobile:{type:Boolean},tabBarGutter:{type:Number},renderTabBar:{type:Function},locale:ti(),popupClassName:String,getPopupContainer:io(),onTabClick:{type:Function},onTabScroll:{type:Function}}),Wbe=(e,t)=>{const{offsetWidth:r,offsetHeight:n,offsetTop:i,offsetLeft:o}=e,{width:s,height:a,x:h,y:p}=e.getBoundingClientRect();return Math.abs(s-r)<1?[s,a,h-t.x,p-t.y]:[r,n,o,i]},bF=St({compatConfig:{MODE:3},name:"TabNavList",inheritAttrs:!1,props:Ube(),slots:Object,emits:["tabClick","tabScroll"],setup(e,t){let{attrs:r,slots:n}=t;const{tabs:i,prefixCls:o}=JG(),s=vt(),a=vt(),h=vt(),p=vt(),[m,v]=Gbe(),b=ve(()=>e.tabPosition==="top"||e.tabPosition==="bottom"),[x,C]=yF(0,(Je,Qe)=>{b.value&&e.onTabScroll&&e.onTabScroll({direction:Je>Qe?"left":"right"})}),[I,A]=yF(0,(Je,Qe)=>{!b.value&&e.onTabScroll&&e.onTabScroll({direction:Je>Qe?"top":"bottom"})}),[R,k]=ui(0),[$,N]=ui(0),[H,W]=ui(null),[j,X]=ui(null),[K,Q]=ui(0),[oe,he]=ui(0),[ye,be]=$be(new Map),ce=Bbe(i,ye),de=ve(()=>`${o.value}-nav-operations-hidden`),Oe=vt(0),ze=vt(0);Gn(()=>{b.value?e.rtl?(Oe.value=0,ze.value=Math.max(0,R.value-H.value)):(Oe.value=Math.min(0,H.value-R.value),ze.value=0):(Oe.value=Math.min(0,j.value-$.value),ze.value=0)});const De=Je=>Je<Oe.value?Oe.value:Je>ze.value?ze.value:Je,ct=vt(),[Ke,gt]=ui(),Lt=()=>{gt(Date.now())},Nt=()=>{clearTimeout(ct.value)},zt=(Je,Qe)=>{Je(dt=>De(dt+Qe))};Hbe(s,(Je,Qe)=>{if(b.value){if(H.value>=R.value)return!1;zt(C,Je)}else{if(j.value>=$.value)return!1;zt(A,Qe)}return Nt(),Lt(),!0}),Zt(Ke,()=>{Nt(),Ke.value&&(ct.value=setTimeout(()=>{gt(0)},100))});const Ft=function(){let Je=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activeKey;const Qe=ce.value.get(Je)||{width:0,height:0,left:0,right:0,top:0};if(b.value){let dt=x.value;e.rtl?Qe.right<x.value?dt=Qe.right:Qe.right+Qe.width>x.value+H.value&&(dt=Qe.right+Qe.width-H.value):Qe.left<-x.value?dt=-Qe.left:Qe.left+Qe.width>-x.value+H.value&&(dt=-(Qe.left+Qe.width-H.value)),A(0),C(De(dt))}else{let dt=I.value;Qe.top<-I.value?dt=-Qe.top:Qe.top+Qe.height>-I.value+j.value&&(dt=-(Qe.top+Qe.height-j.value)),C(0),A(De(dt))}},Be=vt(0),it=vt(0);Gn(()=>{let Je,Qe,dt,xt,yt,Ht;const $t=ce.value;["top","bottom"].includes(e.tabPosition)?(Je="width",xt=H.value,yt=R.value,Ht=K.value,Qe=e.rtl?"right":"left",dt=Math.abs(x.value)):(Je="height",xt=j.value,yt=R.value,Ht=oe.value,Qe="top",dt=-I.value);let Gt=xt;yt+Ht>xt&&yt<xt&&(Gt=xt-Ht);const or=i.value;if(!or.length)return[Be.value,it.value]=[0,0];const vr=or.length;let Er=vr;for(let Wr=0;Wr<vr;Wr+=1){const Yr=$t.get(or[Wr].key)||_F;if(Yr[Qe]+Yr[Je]>dt+Gt){Er=Wr-1;break}}let mr=0;for(let Wr=vr-1;Wr>=0;Wr-=1)if(($t.get(or[Wr].key)||_F)[Qe]<dt){mr=Wr+1;break}return[Be.value,it.value]=[mr,Er]});const je=()=>{be(()=>{var Je;const Qe=new Map,dt=(Je=a.value)===null||Je===void 0?void 0:Je.getBoundingClientRect();return i.value.forEach(xt=>{let{key:yt}=xt;const Ht=v.value.get(yt),$t=Ht?.$el||Ht;if($t){const[Gt,or,vr,Er]=Wbe($t,dt);Qe.set(yt,{width:Gt,height:or,left:vr,top:Er})}}),Qe})};Zt(()=>i.value.map(Je=>Je.key).join("%%"),()=>{je()},{flush:"post"});const He=()=>{var Je,Qe,dt,xt,yt;const Ht=((Je=s.value)===null||Je===void 0?void 0:Je.offsetWidth)||0,$t=((Qe=s.value)===null||Qe===void 0?void 0:Qe.offsetHeight)||0,Gt=((dt=p.value)===null||dt===void 0?void 0:dt.$el)||{},or=Gt.offsetWidth||0,vr=Gt.offsetHeight||0;W(Ht),X($t),Q(or),he(vr);const Er=(((xt=a.value)===null||xt===void 0?void 0:xt.offsetWidth)||0)-or,mr=(((yt=a.value)===null||yt===void 0?void 0:yt.offsetHeight)||0)-vr;k(Er),N(mr),je()},Fe=ve(()=>[...i.value.slice(0,Be.value),...i.value.slice(it.value+1)]),[tt,me]=ui(),_e=ve(()=>ce.value.get(e.activeKey)),qe=vt(),ht=()=>{Pn.cancel(qe.value)};Zt([_e,b,()=>e.rtl],()=>{const Je={};_e.value&&(b.value?(e.rtl?Je.right=Hy(_e.value.right):Je.left=Hy(_e.value.left),Je.width=Hy(_e.value.width)):(Je.top=Hy(_e.value.top),Je.height=Hy(_e.value.height))),ht(),qe.value=Pn(()=>{me(Je)})}),Zt([()=>e.activeKey,_e,ce,b],()=>{Ft()},{flush:"post"}),Zt([()=>e.rtl,()=>e.tabBarGutter,()=>e.activeKey,()=>i.value],()=>{He()},{flush:"post"});const et=Je=>{let{position:Qe,prefixCls:dt,extra:xt}=Je;if(!xt)return null;const yt=xt?.({position:Qe});return yt?ie("div",{class:`${dt}-extra-content`},[yt]):null};return hi(()=>{Nt(),ht()}),()=>{const{id:Je,animated:Qe,activeKey:dt,rtl:xt,editable:yt,locale:Ht,tabPosition:$t,tabBarGutter:Gt,onTabClick:or}=e,{class:vr,style:Er}=r,mr=o.value,Wr=!!Fe.value.length,Yr=`${mr}-nav-wrap`;let Nn,rn,Zn,Ne;b.value?xt?(rn=x.value>0,Nn=x.value+H.value<R.value):(Nn=x.value<0,rn=-x.value+H.value<R.value):(Zn=I.value<0,Ne=-I.value+j.value<$.value);const ne={};$t==="top"||$t==="bottom"?ne[xt?"marginRight":"marginLeft"]=typeof Gt=="number"?`${Gt}px`:Gt:ne.marginTop=typeof Gt=="number"?`${Gt}px`:Gt;const le=i.value.map((pe,Ee)=>{const{key:Re}=pe;return ie(zbe,{id:Je,prefixCls:mr,key:Re,tab:pe,style:Ee===0?void 0:ne,closable:pe.closable,editable:yt,active:Re===dt,removeAriaLabel:Ht?.removeAriaLabel,ref:m(Re),onClick:Ye=>{or(Re,Ye)},onFocus:()=>{Ft(Re),Lt(),s.value&&(xt||(s.value.scrollLeft=0),s.value.scrollTop=0)}},n)});return ie("div",{role:"tablist",class:ir(`${mr}-nav`,vr),style:Er,onKeydown:()=>{Lt()}},[ie(et,{position:"left",prefixCls:mr,extra:n.leftExtra},null),ie(S0,{onResize:He},{default:()=>[ie("div",{class:ir(Yr,{[`${Yr}-ping-left`]:Nn,[`${Yr}-ping-right`]:rn,[`${Yr}-ping-top`]:Zn,[`${Yr}-ping-bottom`]:Ne}),ref:s},[ie(S0,{onResize:He},{default:()=>[ie("div",{ref:a,class:`${mr}-nav-list`,style:{transform:`translate(${x.value}px, ${I.value}px)`,transition:Ke.value?"none":void 0}},[le,ie(KG,{ref:p,prefixCls:mr,locale:Ht,editable:yt,style:ue(ue({},le.length===0?void 0:ne),{visibility:Wr?"hidden":null})},null),ie("div",{class:ir(`${mr}-ink-bar`,{[`${mr}-ink-bar-animated`]:Qe.inkBar}),style:tt.value},null)])]})])]}),ie(Nbe,wt(wt({},e),{},{removeAriaLabel:Ht?.removeAriaLabel,ref:h,prefixCls:mr,tabs:Fe.value,class:!Wr&&de.value}),bG(n,["moreIcon"])),ie(et,{position:"right",prefixCls:mr,extra:n.rightExtra},null),ie(et,{position:"right",prefixCls:mr,extra:n.tabBarExtraContent},null)])}}}),qbe=St({compatConfig:{MODE:3},name:"TabPanelList",inheritAttrs:!1,props:{activeKey:{type:[String,Number]},id:{type:String},rtl:{type:Boolean},animated:{type:Object,default:void 0},tabPosition:{type:String},destroyInactiveTabPane:{type:Boolean}},setup(e){const{tabs:t,prefixCls:r}=JG();return()=>{const{id:n,activeKey:i,animated:o,tabPosition:s,rtl:a,destroyInactiveTabPane:h}=e,p=o.tabPane,m=r.value,v=t.value.findIndex(b=>b.key===i);return ie("div",{class:`${m}-content-holder`},[ie("div",{class:[`${m}-content`,`${m}-content-${s}`,{[`${m}-content-animated`]:p}],style:v&&p?{[a?"marginRight":"marginLeft"]:`-${v}00%`}:null},[t.value.map(b=>ka(b.node,{key:b.key,prefixCls:m,tabKey:b.key,id:n,animated:p,active:b.key===i,destroyInactiveTabPane:h}))])])}}});var Zbe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};function xF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Xbe(e,i,r[i])})}return e}function Xbe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var wR=function(t,r){var n=xF({},t,r.attrs);return ie(zi,xF({},n,{icon:Zbe}),null)};wR.displayName="PlusOutlined";wR.inheritAttrs=!1;const Kbe=e=>{const{componentCls:t,motionDurationSlow:r}=e;return[{[t]:{[`${t}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${r}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${r}`}}}}},[Wg(e,"slide-up"),Wg(e,"slide-down")]]},Ybe=e=>{const{componentCls:t,tabsCardHorizontalPadding:r,tabsCardHeadBackground:n,tabsCardGutter:i,colorSplit:o}=e;return{[`${t}-card`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{margin:0,padding:r,background:n,border:`${e.lineWidth}px ${e.lineType} ${o}`,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`},[`${t}-tab-active`]:{color:e.colorPrimary,background:e.colorBgContainer},[`${t}-ink-bar`]:{visibility:"hidden"}},[`&${t}-top, &${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginLeft:{_skip_check_:!0,value:`${i}px`}}}},[`&${t}-top`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`},[`${t}-tab-active`]:{borderBottomColor:e.colorBgContainer}}},[`&${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px`},[`${t}-tab-active`]:{borderTopColor:e.colorBgContainer}}},[`&${t}-left, &${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginTop:`${i}px`}}},[`&${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${e.borderRadiusLG}px 0 0 ${e.borderRadiusLG}px`}},[`${t}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:e.colorBgContainer}}}},[`&${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px 0`}},[`${t}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:e.colorBgContainer}}}}}}},Jbe=e=>{const{componentCls:t,tabsHoverColor:r,dropdownEdgeChildVerticalPadding:n}=e;return{[`${t}-dropdown`]:ue(ue({},_a(e)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:e.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${t}-dropdown-menu`]:{maxHeight:e.tabsDropdownHeight,margin:0,padding:`${n}px 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:e.colorBgContainer,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,"&-item":ue(ue({},Wh),{display:"flex",alignItems:"center",minWidth:e.tabsDropdownWidth,margin:0,padding:`${e.paddingXXS}px ${e.paddingSM}px`,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:e.marginSM},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:r}},"&:hover":{background:e.controlItemBgHover},"&-disabled":{"&, &:hover":{color:e.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},Qbe=e=>{const{componentCls:t,margin:r,colorSplit:n}=e;return{[`${t}-top, ${t}-bottom`]:{flexDirection:"column",[`> ${t}-nav, > div > ${t}-nav`]:{margin:`0 0 ${r}px 0`,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${e.lineWidth}px ${e.lineType} ${n}`,content:"''"},[`${t}-ink-bar`]:{height:e.lineWidthBold,"&-animated":{transition:`width ${e.motionDurationSlow}, left ${e.motionDurationSlow},
            right ${e.motionDurationSlow}`}},[`${t}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:e.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowRight},[`&${t}-nav-wrap-ping-left::before`]:{opacity:1},[`&${t}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${t}-top`]:{[`> ${t}-nav,
        > div > ${t}-nav`]:{"&::before":{bottom:0},[`${t}-ink-bar`]:{bottom:0}}},[`${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,marginTop:`${r}px`,marginBottom:0,"&::before":{top:0},[`${t}-ink-bar`]:{top:0}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0}},[`${t}-left, ${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{flexDirection:"column",minWidth:e.controlHeight*1.25,[`${t}-tab`]:{padding:`${e.paddingXS}px ${e.paddingLG}px`,textAlign:"center"},[`${t}-tab + ${t}-tab`]:{margin:`${e.margin}px 0 0 0`},[`${t}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:e.controlHeight},"&::before":{top:0,boxShadow:e.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:e.boxShadowTabsOverflowBottom},[`&${t}-nav-wrap-ping-top::before`]:{opacity:1},[`&${t}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${t}-ink-bar`]:{width:e.lineWidthBold,"&-animated":{transition:`height ${e.motionDurationSlow}, top ${e.motionDurationSlow}`}},[`${t}-nav-list, ${t}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{marginLeft:{_skip_check_:!0,value:`-${e.lineWidth}px`},borderLeft:{_skip_check_:!0,value:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:e.paddingLG}}}},[`${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,[`${t}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:-e.lineWidth},borderRight:{_skip_check_:!0,value:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingRight:{_skip_check_:!0,value:e.paddingLG}}}}}},e1e=e=>{const{componentCls:t,padding:r}=e;return{[t]:{"&-small":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:`${e.paddingXS}px 0`,fontSize:e.fontSize}}},"&-large":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:`${r}px 0`,fontSize:e.fontSizeLG}}}},[`${t}-card`]:{[`&${t}-small`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:`${e.paddingXXS*1.5}px ${r}px`}},[`&${t}-bottom`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`0 0 ${e.borderRadius}px ${e.borderRadius}px`}},[`&${t}-top`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`${e.borderRadius}px ${e.borderRadius}px 0 0`}},[`&${t}-right`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${e.borderRadius}px ${e.borderRadius}px 0`}}},[`&${t}-left`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${e.borderRadius}px 0 0 ${e.borderRadius}px`}}}},[`&${t}-large`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:`${e.paddingXS}px ${r}px ${e.paddingXXS*1.5}px`}}}}}},t1e=e=>{const{componentCls:t,tabsActiveColor:r,tabsHoverColor:n,iconCls:i,tabsHorizontalGutter:o}=e,s=`${t}-tab`;return{[s]:{position:"relative",display:"inline-flex",alignItems:"center",padding:`${e.paddingSM}px 0`,fontSize:`${e.fontSize}px`,background:"transparent",border:0,outline:"none",cursor:"pointer","&-btn, &-remove":ue({"&:focus:not(:focus-visible), &:active":{color:r}},eT(e)),"&-btn":{outline:"none",transition:"all 0.3s"},"&-remove":{flex:"none",marginRight:{_skip_check_:!0,value:-e.marginXXS},marginLeft:{_skip_check_:!0,value:e.marginXS},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"&:hover":{color:e.colorTextHeading}},"&:hover":{color:n},[`&${s}-active ${s}-btn`]:{color:e.colorPrimary,textShadow:e.tabsActiveTextShadow},[`&${s}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${s}-disabled ${s}-btn, &${s}-disabled ${t}-remove`]:{"&:focus, &:active":{color:e.colorTextDisabled}},[`& ${s}-remove ${i}`]:{margin:0},[i]:{marginRight:{_skip_check_:!0,value:e.marginSM}}},[`${s} + ${s}`]:{margin:{_skip_check_:!0,value:`0 0 0 ${o}px`}}}},r1e=e=>{const{componentCls:t,tabsHorizontalGutter:r,iconCls:n,tabsCardGutter:i}=e;return{[`${t}-rtl`]:{direction:"rtl",[`${t}-nav`]:{[`${t}-tab`]:{margin:{_skip_check_:!0,value:`0 0 0 ${r}px`},[`${t}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[n]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:`${e.marginSM}px`}},[`${t}-tab-remove`]:{marginRight:{_skip_check_:!0,value:`${e.marginXS}px`},marginLeft:{_skip_check_:!0,value:`-${e.marginXXS}px`},[n]:{margin:0}}}},[`&${t}-left`]:{[`> ${t}-nav`]:{order:1},[`> ${t}-content-holder`]:{order:0}},[`&${t}-right`]:{[`> ${t}-nav`]:{order:0},[`> ${t}-content-holder`]:{order:1}},[`&${t}-card${t}-top, &${t}-card${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginRight:{_skip_check_:!0,value:`${i}px`},marginLeft:{_skip_check_:!0,value:0}}}}},[`${t}-dropdown-rtl`]:{direction:"rtl"},[`${t}-menu-item`]:{[`${t}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},n1e=e=>{const{componentCls:t,tabsCardHorizontalPadding:r,tabsCardHeight:n,tabsCardGutter:i,tabsHoverColor:o,tabsActiveColor:s,colorSplit:a}=e;return{[t]:ue(ue(ue(ue({},_a(e)),{display:"flex",[`> ${t}-nav, > div > ${t}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${t}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${e.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${t}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${e.motionDurationSlow}`},[`${t}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${t}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${t}-nav-more`]:{position:"relative",padding:r,background:"transparent",border:0,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:e.controlHeightLG/8,transform:"translateY(100%)",content:"''"}},[`${t}-nav-add`]:ue({minWidth:`${n}px`,marginLeft:{_skip_check_:!0,value:`${i}px`},padding:`0 ${e.paddingXS}px`,background:"transparent",border:`${e.lineWidth}px ${e.lineType} ${a}`,borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`,outline:"none",cursor:"pointer",color:e.colorText,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`,"&:hover":{color:o},"&:active, &:focus:not(:focus-visible)":{color:s}},eT(e))},[`${t}-extra-content`]:{flex:"none"},[`${t}-ink-bar`]:{position:"absolute",background:e.colorPrimary,pointerEvents:"none"}}),t1e(e)),{[`${t}-content`]:{position:"relative",display:"flex",width:"100%","&-animated":{transition:"margin 0.3s"}},[`${t}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${t}-tabpane`]:{outline:"none",flex:"none",width:"100%"}}),[`${t}-centered`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-nav-wrap`]:{[`&:not([class*='${t}-nav-wrap-ping'])`]:{justifyContent:"center"}}}}}},i1e=zo("Tabs",e=>{const t=e.controlHeightLG,r=Un(e,{tabsHoverColor:e.colorPrimaryHover,tabsActiveColor:e.colorPrimaryActive,tabsCardHorizontalPadding:`${(t-Math.round(e.fontSize*e.lineHeight))/2-e.lineWidth}px ${e.padding}px`,tabsCardHeight:t,tabsCardGutter:e.marginXXS/2,tabsHorizontalGutter:32,tabsCardHeadBackground:e.colorFillAlter,dropdownEdgeChildVerticalPadding:e.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120});return[e1e(r),r1e(r),Qbe(r),Jbe(r),Ybe(r),n1e(r),Kbe(r)]},e=>({zIndexPopup:e.zIndexPopupBase+50}));let wF=0;const QG=()=>({prefixCls:{type:String},id:{type:String},popupClassName:String,getPopupContainer:io(),activeKey:{type:[String,Number]},defaultActiveKey:{type:[String,Number]},direction:ma(),animated:Uh([Boolean,Object]),renderTabBar:io(),tabBarGutter:{type:Number},tabBarStyle:ti(),tabPosition:ma(),destroyInactiveTabPane:Xi(),hideAdd:Boolean,type:ma(),size:ma(),centered:Boolean,onEdit:io(),onChange:io(),onTabClick:io(),onTabScroll:io(),"onUpdate:activeKey":io(),locale:ti(),onPrevClick:io(),onNextClick:io(),tabBarExtraContent:at.any});function o1e(e){return e.map(t=>{if(Jh(t)){const r=ue({},t.props||{});for(const[b,x]of Object.entries(r))delete r[b],r[wL(b)]=x;const n=t.children||{},i=t.key!==void 0?t.key:void 0,{tab:o=n.tab,disabled:s,forceRender:a,closable:h,animated:p,active:m,destroyInactiveTabPane:v}=r;return ue(ue({key:i},r),{node:t,closeIcon:n.closeIcon,tab:o,disabled:s===""||s,forceRender:a===""||a,closable:h===""||h,animated:p===""||p,active:m===""||m,destroyInactiveTabPane:v===""||v})}return null}).filter(t=>t)}const a1e=St({compatConfig:{MODE:3},name:"InternalTabs",inheritAttrs:!1,props:ue(ue({},Na(QG(),{tabPosition:"top",animated:{inkBar:!0,tabPane:!1}})),{tabs:MS()}),slots:Object,setup(e,t){let{attrs:r,slots:n}=t;_l(e.onPrevClick===void 0&&e.onNextClick===void 0,"Tabs","`onPrevClick / @prevClick` and `onNextClick / @nextClick` has been removed. Please use `onTabScroll / @tabScroll` instead."),_l(e.tabBarExtraContent===void 0,"Tabs","`tabBarExtraContent` prop has been removed. Please use `rightExtra` slot instead."),_l(n.tabBarExtraContent===void 0,"Tabs","`tabBarExtraContent` slot is deprecated. Please use `rightExtra` slot instead.");const{prefixCls:i,direction:o,size:s,rootPrefixCls:a,getPopupContainer:h}=qn("tabs",e),[p,m]=i1e(i),v=ve(()=>o.value==="rtl"),b=ve(()=>{const{animated:j,tabPosition:X}=e;return j===!1||["left","right"].includes(X)?{inkBar:!1,tabPane:!1}:j===!0?{inkBar:!0,tabPane:!0}:ue({inkBar:!0,tabPane:!1},typeof j=="object"?j:{})}),[x,C]=ui(!1);Nr(()=>{C(JH())});const[I,A]=kS(()=>{var j;return(j=e.tabs[0])===null||j===void 0?void 0:j.key},{value:ve(()=>e.activeKey),defaultValue:e.defaultActiveKey}),[R,k]=ui(()=>e.tabs.findIndex(j=>j.key===I.value));Gn(()=>{var j;let X=e.tabs.findIndex(K=>K.key===I.value);X===-1&&(X=Math.max(0,Math.min(R.value,e.tabs.length-1)),A((j=e.tabs[X])===null||j===void 0?void 0:j.key)),k(X)});const[$,N]=kS(null,{value:ve(()=>e.id)}),H=ve(()=>x.value&&!["left","right"].includes(e.tabPosition)?"top":e.tabPosition);Nr(()=>{e.id||(N(`rc-tabs-${wF}`),wF+=1)});const W=(j,X)=>{var K,Q;(K=e.onTabClick)===null||K===void 0||K.call(e,j,X);const oe=j!==I.value;A(j),oe&&((Q=e.onChange)===null||Q===void 0||Q.call(e,j))};return Vbe({tabs:ve(()=>e.tabs),prefixCls:i}),()=>{const{id:j,type:X,tabBarGutter:K,tabBarStyle:Q,locale:oe,destroyInactiveTabPane:he,renderTabBar:ye=n.renderTabBar,onTabScroll:be,hideAdd:ce,centered:de}=e,Oe={id:$.value,activeKey:I.value,animated:b.value,tabPosition:H.value,rtl:v.value,mobile:x.value};let ze;X==="editable-card"&&(ze={onEdit:(gt,Lt)=>{let{key:Nt,event:zt}=Lt;var Ft;(Ft=e.onEdit)===null||Ft===void 0||Ft.call(e,gt==="add"?zt:Nt,gt)},removeIcon:()=>ie(td,null,null),addIcon:n.addIcon?n.addIcon:()=>ie(wR,null,null),showAdd:ce!==!0});let De;const ct=ue(ue({},Oe),{moreTransitionName:`${a.value}-slide-up`,editable:ze,locale:oe,tabBarGutter:K,onTabClick:W,onTabScroll:be,style:Q,getPopupContainer:h.value,popupClassName:ir(e.popupClassName,m.value)});ye?De=ye(ue(ue({},ct),{DefaultTabBar:bF})):De=ie(bF,ct,bG(n,["moreIcon","leftExtra","rightExtra","tabBarExtraContent"]));const Ke=i.value;return p(ie("div",wt(wt({},r),{},{id:j,class:ir(Ke,`${Ke}-${H.value}`,{[m.value]:!0,[`${Ke}-${s.value}`]:s.value,[`${Ke}-card`]:["card","editable-card"].includes(X),[`${Ke}-editable-card`]:X==="editable-card",[`${Ke}-centered`]:de,[`${Ke}-mobile`]:x.value,[`${Ke}-editable`]:X==="editable-card",[`${Ke}-rtl`]:v.value},r.class)}),[De,ie(qbe,wt(wt({destroyInactiveTabPane:he},Oe),{},{animated:b.value}),null)]))}}}),xg=St({compatConfig:{MODE:3},name:"ATabs",inheritAttrs:!1,props:Na(QG(),{tabPosition:"top",animated:{inkBar:!0,tabPane:!1}}),slots:Object,setup(e,t){let{attrs:r,slots:n,emit:i}=t;const o=s=>{i("update:activeKey",s),i("change",s)};return()=>{var s;const a=o1e(So((s=n.default)===null||s===void 0?void 0:s.call(n)));return ie(a1e,wt(wt(wt({},Qh(e,["onUpdate:activeKey"])),r),{},{onChange:o,tabs:a}),n)}}}),s1e=()=>({tab:at.any,disabled:{type:Boolean},forceRender:{type:Boolean},closable:{type:Boolean},animated:{type:Boolean},active:{type:Boolean},destroyInactiveTabPane:{type:Boolean},prefixCls:{type:String},tabKey:{type:[String,Number]},id:{type:String}}),oA=St({compatConfig:{MODE:3},name:"ATabPane",inheritAttrs:!1,__ANT_TAB_PANE:!0,props:s1e(),slots:Object,setup(e,t){let{attrs:r,slots:n}=t;const i=Vt(e.forceRender);Zt([()=>e.active,()=>e.destroyInactiveTabPane],()=>{e.active?i.value=!0:e.destroyInactiveTabPane&&(i.value=!1)},{immediate:!0});const o=ve(()=>e.active?{}:e.animated?{visibility:"hidden",height:0,overflowY:"hidden"}:{display:"none"});return()=>{var s;const{prefixCls:a,forceRender:h,id:p,active:m,tabKey:v}=e;return ie("div",{id:p&&`${p}-panel-${v}`,role:"tabpanel",tabindex:m?0:-1,"aria-labelledby":p&&`${p}-tab-${v}`,"aria-hidden":!m,style:[o.value,r.style],class:[`${a}-tabpane`,m&&`${a}-tabpane-active`,r.class]},[(m||i.value||h)&&((s=n.default)===null||s===void 0?void 0:s.call(n))])}}});xg.TabPane=oA;xg.install=function(e){return e.component(xg.name,xg),e.component(oA.name,oA),e};const l1e=e=>{const{antCls:t,componentCls:r,cardHeadHeight:n,cardPaddingBase:i,cardHeadTabsMarginBottom:o}=e;return ue(ue({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:n,marginBottom:-1,padding:`0 ${i}px`,color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,background:"transparent",borderBottom:`${e.lineWidth}px ${e.lineType} ${e.colorBorderSecondary}`,borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`},Hg()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":ue(ue({display:"inline-block",flex:1},Wh),{[`
          > ${r}-typography,
          > ${r}-typography-edit-content
        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${t}-tabs-top`]:{clear:"both",marginBottom:o,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,"&-bar":{borderBottom:`${e.lineWidth}px ${e.lineType} ${e.colorBorderSecondary}`}}})},u1e=e=>{const{cardPaddingBase:t,colorBorderSecondary:r,cardShadow:n,lineWidth:i}=e;return{width:"33.33%",padding:t,border:0,borderRadius:0,boxShadow:`
      ${i}px 0 0 0 ${r},
      0 ${i}px 0 0 ${r},
      ${i}px ${i}px 0 0 ${r},
      ${i}px 0 0 0 ${r} inset,
      0 ${i}px 0 0 ${r} inset;
    `,transition:`all ${e.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:n}}},c1e=e=>{const{componentCls:t,iconCls:r,cardActionsLiMargin:n,cardActionsIconSize:i,colorBorderSecondary:o}=e;return ue(ue({margin:0,padding:0,listStyle:"none",background:e.colorBgContainer,borderTop:`${e.lineWidth}px ${e.lineType} ${o}`,display:"flex",borderRadius:`0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px `},Hg()),{"& > li":{margin:n,color:e.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:e.cardActionsIconSize*2,fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer","&:hover":{color:e.colorPrimary,transition:`color ${e.motionDurationMid}`},[`a:not(${t}-btn), > ${r}`]:{display:"inline-block",width:"100%",color:e.colorTextDescription,lineHeight:`${e.fontSize*e.lineHeight}px`,transition:`color ${e.motionDurationMid}`,"&:hover":{color:e.colorPrimary}},[`> ${r}`]:{fontSize:i,lineHeight:`${i*e.lineHeight}px`}},"&:not(:last-child)":{borderInlineEnd:`${e.lineWidth}px ${e.lineType} ${o}`}}})},h1e=e=>ue(ue({margin:`-${e.marginXXS}px 0`,display:"flex"},Hg()),{"&-avatar":{paddingInlineEnd:e.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:e.marginXS}},"&-title":ue({color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG},Wh),"&-description":{color:e.colorTextDescription}}),d1e=e=>{const{componentCls:t,cardPaddingBase:r,colorFillAlter:n}=e;return{[`${t}-head`]:{padding:`0 ${r}px`,background:n,"&-title":{fontSize:e.fontSize}},[`${t}-body`]:{padding:`${e.padding}px ${r}px`}}},f1e=e=>{const{componentCls:t}=e;return{overflow:"hidden",[`${t}-body`]:{userSelect:"none"}}},p1e=e=>{const{componentCls:t,cardShadow:r,cardHeadPadding:n,colorBorderSecondary:i,boxShadow:o,cardPaddingBase:s}=e;return{[t]:ue(ue({},_a(e)),{position:"relative",background:e.colorBgContainer,borderRadius:e.borderRadiusLG,[`&:not(${t}-bordered)`]:{boxShadow:o},[`${t}-head`]:l1e(e),[`${t}-extra`]:{marginInlineStart:"auto",color:"",fontWeight:"normal",fontSize:e.fontSize},[`${t}-body`]:ue({padding:s,borderRadius:` 0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px`},Hg()),[`${t}-grid`]:u1e(e),[`${t}-cover`]:{"> *":{display:"block",width:"100%"},img:{borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`}},[`${t}-actions`]:c1e(e),[`${t}-meta`]:h1e(e)}),[`${t}-bordered`]:{border:`${e.lineWidth}px ${e.lineType} ${i}`,[`${t}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${t}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${e.motionDurationMid}, border-color ${e.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:r}},[`${t}-contain-grid`]:{[`${t}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${t}-loading) ${t}-body`]:{marginBlockStart:-e.lineWidth,marginInlineStart:-e.lineWidth,padding:0}},[`${t}-contain-tabs`]:{[`> ${t}-head`]:{[`${t}-head-title, ${t}-extra`]:{paddingTop:n}}},[`${t}-type-inner`]:d1e(e),[`${t}-loading`]:f1e(e),[`${t}-rtl`]:{direction:"rtl"}}},m1e=e=>{const{componentCls:t,cardPaddingSM:r,cardHeadHeightSM:n}=e;return{[`${t}-small`]:{[`> ${t}-head`]:{minHeight:n,padding:`0 ${r}px`,fontSize:e.fontSize,[`> ${t}-head-wrapper`]:{[`> ${t}-extra`]:{fontSize:e.fontSize}}},[`> ${t}-body`]:{padding:r}},[`${t}-small${t}-contain-tabs`]:{[`> ${t}-head`]:{[`${t}-head-title, ${t}-extra`]:{minHeight:n,paddingTop:0,display:"flex",alignItems:"center"}}}}},g1e=zo("Card",e=>{const t=Un(e,{cardShadow:e.boxShadowCard,cardHeadHeight:e.fontSizeLG*e.lineHeightLG+e.padding*2,cardHeadHeightSM:e.fontSize*e.lineHeight+e.paddingXS*2,cardHeadPadding:e.padding,cardPaddingBase:e.paddingLG,cardHeadTabsMarginBottom:-e.padding-e.lineWidth,cardActionsLiMargin:`${e.paddingSM}px 0`,cardActionsIconSize:e.fontSize,cardPaddingSM:12});return[p1e(t),m1e(t)]}),v1e=()=>({prefixCls:String,width:{type:[Number,String]}}),SR=St({compatConfig:{MODE:3},name:"SkeletonTitle",props:v1e(),setup(e){return()=>{const{prefixCls:t,width:r}=e,n=typeof r=="number"?`${r}px`:r;return ie("h3",{class:t,style:{width:n}},null)}}}),y1e=()=>({prefixCls:String,width:{type:[Number,String,Array]},rows:Number}),_1e=St({compatConfig:{MODE:3},name:"SkeletonParagraph",props:y1e(),setup(e){const t=r=>{const{width:n,rows:i=2}=e;if(Array.isArray(n))return n[r];if(i-1===r)return n};return()=>{const{prefixCls:r,rows:n}=e,i=[...Array(n)].map((o,s)=>{const a=t(s);return ie("li",{key:s,style:{width:typeof a=="number"?`${a}px`:a}},null)});return ie("ul",{class:r},[i])}}}),cT=()=>({prefixCls:String,size:[String,Number],shape:String,active:{type:Boolean,default:void 0}}),wb=e=>{const{prefixCls:t,size:r,shape:n}=e,i=ir({[`${t}-lg`]:r==="large",[`${t}-sm`]:r==="small"}),o=ir({[`${t}-circle`]:n==="circle",[`${t}-square`]:n==="square",[`${t}-round`]:n==="round"}),s=typeof r=="number"?{width:`${r}px`,height:`${r}px`,lineHeight:`${r}px`}:{};return ie("span",{class:ir(t,i,o),style:s},null)};wb.displayName="SkeletonElement";const b1e=new Kr("ant-skeleton-loading",{"0%":{transform:"translateX(-37.5%)"},"100%":{transform:"translateX(37.5%)"}}),hT=e=>({height:e,lineHeight:`${e}px`}),wg=e=>ue({width:e},hT(e)),x1e=e=>({position:"relative",zIndex:0,overflow:"hidden",background:"transparent","&::after":{position:"absolute",top:0,insetInlineEnd:"-150%",bottom:0,insetInlineStart:"-150%",background:e.skeletonLoadingBackground,animationName:b1e,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite",content:'""'}}),xM=e=>ue({width:e*5,minWidth:e*5},hT(e)),w1e=e=>{const{skeletonAvatarCls:t,color:r,controlHeight:n,controlHeightLG:i,controlHeightSM:o}=e;return{[`${t}`]:ue({display:"inline-block",verticalAlign:"top",background:r},wg(n)),[`${t}${t}-circle`]:{borderRadius:"50%"},[`${t}${t}-lg`]:ue({},wg(i)),[`${t}${t}-sm`]:ue({},wg(o))}},S1e=e=>{const{controlHeight:t,borderRadiusSM:r,skeletonInputCls:n,controlHeightLG:i,controlHeightSM:o,color:s}=e;return{[`${n}`]:ue({display:"inline-block",verticalAlign:"top",background:s,borderRadius:r},xM(t)),[`${n}-lg`]:ue({},xM(i)),[`${n}-sm`]:ue({},xM(o))}},SF=e=>ue({width:e},hT(e)),T1e=e=>{const{skeletonImageCls:t,imageSizeBase:r,color:n,borderRadiusSM:i}=e;return{[`${t}`]:ue(ue({display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",background:n,borderRadius:i},SF(r*2)),{[`${t}-path`]:{fill:"#bfbfbf"},[`${t}-svg`]:ue(ue({},SF(r)),{maxWidth:r*4,maxHeight:r*4}),[`${t}-svg${t}-svg-circle`]:{borderRadius:"50%"}}),[`${t}${t}-circle`]:{borderRadius:"50%"}}},wM=(e,t,r)=>{const{skeletonButtonCls:n}=e;return{[`${r}${n}-circle`]:{width:t,minWidth:t,borderRadius:"50%"},[`${r}${n}-round`]:{borderRadius:t}}},SM=e=>ue({width:e*2,minWidth:e*2},hT(e)),C1e=e=>{const{borderRadiusSM:t,skeletonButtonCls:r,controlHeight:n,controlHeightLG:i,controlHeightSM:o,color:s}=e;return ue(ue(ue(ue(ue({[`${r}`]:ue({display:"inline-block",verticalAlign:"top",background:s,borderRadius:t,width:n*2,minWidth:n*2},SM(n))},wM(e,n,r)),{[`${r}-lg`]:ue({},SM(i))}),wM(e,i,`${r}-lg`)),{[`${r}-sm`]:ue({},SM(o))}),wM(e,o,`${r}-sm`))},P1e=e=>{const{componentCls:t,skeletonAvatarCls:r,skeletonTitleCls:n,skeletonParagraphCls:i,skeletonButtonCls:o,skeletonInputCls:s,skeletonImageCls:a,controlHeight:h,controlHeightLG:p,controlHeightSM:m,color:v,padding:b,marginSM:x,borderRadius:C,skeletonTitleHeight:I,skeletonBlockRadius:A,skeletonParagraphLineHeight:R,controlHeightXS:k,skeletonParagraphMarginTop:$}=e;return{[`${t}`]:{display:"table",width:"100%",[`${t}-header`]:{display:"table-cell",paddingInlineEnd:b,verticalAlign:"top",[`${r}`]:ue({display:"inline-block",verticalAlign:"top",background:v},wg(h)),[`${r}-circle`]:{borderRadius:"50%"},[`${r}-lg`]:ue({},wg(p)),[`${r}-sm`]:ue({},wg(m))},[`${t}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[`${n}`]:{width:"100%",height:I,background:v,borderRadius:A,[`+ ${i}`]:{marginBlockStart:m}},[`${i}`]:{padding:0,"> li":{width:"100%",height:R,listStyle:"none",background:v,borderRadius:A,"+ li":{marginBlockStart:k}}},[`${i}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${t}-content`]:{[`${n}, ${i} > li`]:{borderRadius:C}}},[`${t}-with-avatar ${t}-content`]:{[`${n}`]:{marginBlockStart:x,[`+ ${i}`]:{marginBlockStart:$}}},[`${t}${t}-element`]:ue(ue(ue(ue({display:"inline-block",width:"auto"},C1e(e)),w1e(e)),S1e(e)),T1e(e)),[`${t}${t}-block`]:{width:"100%",[`${o}`]:{width:"100%"},[`${s}`]:{width:"100%"}},[`${t}${t}-active`]:{[`
        ${n},
        ${i} > li,
        ${r},
        ${o},
        ${s},
        ${a}
      `]:ue({},x1e(e))}}},Sb=zo("Skeleton",e=>{const{componentCls:t}=e,r=Un(e,{skeletonAvatarCls:`${t}-avatar`,skeletonTitleCls:`${t}-title`,skeletonParagraphCls:`${t}-paragraph`,skeletonButtonCls:`${t}-button`,skeletonInputCls:`${t}-input`,skeletonImageCls:`${t}-image`,imageSizeBase:e.controlHeight*1.5,skeletonTitleHeight:e.controlHeight/2,skeletonBlockRadius:e.borderRadiusSM,skeletonParagraphLineHeight:e.controlHeight/2,skeletonParagraphMarginTop:e.marginLG+e.marginXXS,borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${e.color} 25%, ${e.colorGradientEnd} 37%, ${e.color} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[P1e(r)]},e=>{const{colorFillContent:t,colorFill:r}=e;return{color:t,colorGradientEnd:r}}),M1e=()=>({active:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},prefixCls:String,avatar:{type:[Boolean,Object],default:void 0},title:{type:[Boolean,Object],default:void 0},paragraph:{type:[Boolean,Object],default:void 0},round:{type:Boolean,default:void 0}});function TM(e){return e&&typeof e=="object"?e:{}}function I1e(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function E1e(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}function A1e(e,t){const r={};return(!e||!t)&&(r.width="61%"),!e&&t?r.rows=3:r.rows=2,r}const Ia=St({compatConfig:{MODE:3},name:"ASkeleton",props:Na(M1e(),{avatar:!1,title:!0,paragraph:!0}),setup(e,t){let{slots:r}=t;const{prefixCls:n,direction:i}=qn("skeleton",e),[o,s]=Sb(n);return()=>{var a;const{loading:h,avatar:p,title:m,paragraph:v,active:b,round:x}=e,C=n.value;if(h||e.loading===void 0){const I=!!p||p==="",A=!!m||m==="",R=!!v||v==="";let k;if(I){const H=ue(ue({prefixCls:`${C}-avatar`},I1e(A,R)),TM(p));k=ie("div",{class:`${C}-header`},[ie(wb,H,null)])}let $;if(A||R){let H;if(A){const j=ue(ue({prefixCls:`${C}-title`},E1e(I,R)),TM(m));H=ie(SR,j,null)}let W;if(R){const j=ue(ue({prefixCls:`${C}-paragraph`},A1e(I,A)),TM(v));W=ie(_1e,j,null)}$=ie("div",{class:`${C}-content`},[H,W])}const N=ir(C,{[`${C}-with-avatar`]:I,[`${C}-active`]:b,[`${C}-rtl`]:i.value==="rtl",[`${C}-round`]:x,[s.value]:!0});return o(ie("div",{class:N},[k,$]))}return(a=r.default)===null||a===void 0?void 0:a.call(r)}}}),D1e=()=>ue(ue({},cT()),{size:String,block:Boolean}),eU=St({compatConfig:{MODE:3},name:"ASkeletonButton",props:Na(D1e(),{size:"default"}),setup(e){const{prefixCls:t}=qn("skeleton",e),[r,n]=Sb(t),i=ve(()=>ir(t.value,`${t.value}-element`,{[`${t.value}-active`]:e.active,[`${t.value}-block`]:e.block},n.value));return()=>r(ie("div",{class:i.value},[ie(wb,wt(wt({},e),{},{prefixCls:`${t.value}-button`}),null)]))}}),tU=St({compatConfig:{MODE:3},name:"ASkeletonInput",props:ue(ue({},Qh(cT(),["shape"])),{size:String,block:Boolean}),setup(e){const{prefixCls:t}=qn("skeleton",e),[r,n]=Sb(t),i=ve(()=>ir(t.value,`${t.value}-element`,{[`${t.value}-active`]:e.active,[`${t.value}-block`]:e.block},n.value));return()=>r(ie("div",{class:i.value},[ie(wb,wt(wt({},e),{},{prefixCls:`${t.value}-input`}),null)]))}}),L1e="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",rU=St({compatConfig:{MODE:3},name:"ASkeletonImage",props:Qh(cT(),["size","shape","active"]),setup(e){const{prefixCls:t}=qn("skeleton",e),[r,n]=Sb(t),i=ve(()=>ir(t.value,`${t.value}-element`,n.value));return()=>r(ie("div",{class:i.value},[ie("div",{class:`${t.value}-image`},[ie("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",class:`${t.value}-image-svg`},[ie("path",{d:L1e,class:`${t.value}-image-path`},null)])])]))}}),R1e=()=>ue(ue({},cT()),{shape:String}),nU=St({compatConfig:{MODE:3},name:"ASkeletonAvatar",props:Na(R1e(),{size:"default",shape:"circle"}),setup(e){const{prefixCls:t}=qn("skeleton",e),[r,n]=Sb(t),i=ve(()=>ir(t.value,`${t.value}-element`,{[`${t.value}-active`]:e.active},n.value));return()=>r(ie("div",{class:i.value},[ie(wb,wt(wt({},e),{},{prefixCls:`${t.value}-avatar`}),null)]))}});Ia.Button=eU;Ia.Avatar=nU;Ia.Input=tU;Ia.Image=rU;Ia.Title=SR;Ia.install=function(e){return e.component(Ia.name,Ia),e.component(Ia.Button.name,eU),e.component(Ia.Avatar.name,nU),e.component(Ia.Input.name,tU),e.component(Ia.Image.name,rU),e.component(Ia.Title.name,SR),e};const{TabPane:O1e}=xg,k1e=()=>({prefixCls:String,title:at.any,extra:at.any,bordered:{type:Boolean,default:!0},bodyStyle:{type:Object,default:void 0},headStyle:{type:Object,default:void 0},loading:{type:Boolean,default:!1},hoverable:{type:Boolean,default:!1},type:{type:String},size:{type:String},actions:at.any,tabList:{type:Array},tabBarExtraContent:at.any,activeTabKey:String,defaultActiveTabKey:String,cover:at.any,onTabChange:{type:Function}}),Vf=St({compatConfig:{MODE:3},name:"ACard",inheritAttrs:!1,props:k1e(),slots:Object,setup(e,t){let{slots:r,attrs:n}=t;const{prefixCls:i,direction:o,size:s}=qn("card",e),[a,h]=g1e(i),p=b=>b.map((C,I)=>ea(C)&&!Z2(C)||!ea(C)?ie("li",{style:{width:`${100/b.length}%`},key:`action-${I}`},[ie("span",null,[C])]):null),m=b=>{var x;(x=e.onTabChange)===null||x===void 0||x.call(e,b)},v=function(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],x;return b.forEach(C=>{C&&Zye(C.type)&&C.type.__ANT_CARD_GRID&&(x=!0)}),x};return()=>{var b,x,C,I,A,R;const{headStyle:k={},bodyStyle:$={},loading:N,bordered:H=!0,type:W,tabList:j,hoverable:X,activeTabKey:K,defaultActiveTabKey:Q,tabBarExtraContent:oe=Gy((b=r.tabBarExtraContent)===null||b===void 0?void 0:b.call(r)),title:he=Gy((x=r.title)===null||x===void 0?void 0:x.call(r)),extra:ye=Gy((C=r.extra)===null||C===void 0?void 0:C.call(r)),actions:be=Gy((I=r.actions)===null||I===void 0?void 0:I.call(r)),cover:ce=Gy((A=r.cover)===null||A===void 0?void 0:A.call(r))}=e,de=So((R=r.default)===null||R===void 0?void 0:R.call(r)),Oe=i.value,ze={[`${Oe}`]:!0,[h.value]:!0,[`${Oe}-loading`]:N,[`${Oe}-bordered`]:H,[`${Oe}-hoverable`]:!!X,[`${Oe}-contain-grid`]:v(de),[`${Oe}-contain-tabs`]:j&&j.length,[`${Oe}-${s.value}`]:s.value,[`${Oe}-type-${W}`]:!!W,[`${Oe}-rtl`]:o.value==="rtl"},De=ie(Ia,{loading:!0,active:!0,paragraph:{rows:4},title:!1},{default:()=>[de]}),ct=K!==void 0,Ke={size:"large",[ct?"activeKey":"defaultActiveKey"]:ct?K:Q,onChange:m,class:`${Oe}-head-tabs`};let gt;const Lt=j&&j.length?ie(xg,Ke,{default:()=>[j.map(Be=>{const{tab:it,slots:je}=Be,He=je?.tab;_l(!je,"Card","tabList slots is deprecated, Please use `customTab` instead.");let Fe=it!==void 0?it:r[He]?r[He](Be):null;return Fe=Qde(r,"customTab",Be,()=>[Fe]),ie(O1e,{tab:Fe,key:Be.key,disabled:Be.disabled},null)})],rightExtra:oe?()=>oe:null}):null;(he||ye||Lt)&&(gt=ie("div",{class:`${Oe}-head`,style:k},[ie("div",{class:`${Oe}-head-wrapper`},[he&&ie("div",{class:`${Oe}-head-title`},[he]),ye&&ie("div",{class:`${Oe}-extra`},[ye])]),Lt]));const Nt=ce?ie("div",{class:`${Oe}-cover`},[ce]):null,zt=ie("div",{class:`${Oe}-body`,style:$},[N?De:de]),Ft=be&&be.length?ie("ul",{class:`${Oe}-actions`},[p(be)]):null;return a(ie("div",wt(wt({ref:"cardContainerRef"},n),{},{class:[ze,n.class]}),[gt,Nt,de&&de.length?zt:null,Ft]))}}}),$1e=()=>({prefixCls:String,title:XP(),description:XP(),avatar:XP()}),aA=St({compatConfig:{MODE:3},name:"ACardMeta",props:$1e(),slots:Object,setup(e,t){let{slots:r}=t;const{prefixCls:n}=qn("card",e);return()=>{const i={[`${n.value}-meta`]:!0},o=pc(r,e,"avatar"),s=pc(r,e,"title"),a=pc(r,e,"description"),h=o?ie("div",{class:`${n.value}-meta-avatar`},[o]):null,p=s?ie("div",{class:`${n.value}-meta-title`},[s]):null,m=a?ie("div",{class:`${n.value}-meta-description`},[a]):null,v=p||m?ie("div",{class:`${n.value}-meta-detail`},[p,m]):null;return ie("div",{class:i},[h,v])}}}),z1e=()=>({prefixCls:String,hoverable:{type:Boolean,default:!0}}),sA=St({compatConfig:{MODE:3},name:"ACardGrid",__ANT_CARD_GRID:!0,props:z1e(),setup(e,t){let{slots:r}=t;const{prefixCls:n}=qn("card",e),i=ve(()=>({[`${n.value}-grid`]:!0,[`${n.value}-grid-hoverable`]:e.hoverable}));return()=>{var o;return ie("div",{class:i.value},[(o=r.default)===null||o===void 0?void 0:o.call(r)])}}});Vf.Meta=aA;Vf.Grid=sA;Vf.install=function(e){return e.component(Vf.name,Vf),e.component(aA.name,aA),e.component(sA.name,sA),e};const B1e=()=>({prefixCls:String,activeKey:Uh([Array,Number,String]),defaultActiveKey:Uh([Array,Number,String]),accordion:Xi(),destroyInactivePanel:Xi(),bordered:Xi(),expandIcon:io(),openAnimation:at.object,expandIconPosition:ma(),collapsible:ma(),ghost:Xi(),onChange:io(),"onUpdate:activeKey":io()}),iU=()=>({openAnimation:at.object,prefixCls:String,header:at.any,headerClass:String,showArrow:Xi(),isActive:Xi(),destroyInactivePanel:Xi(),disabled:Xi(),accordion:Xi(),forceRender:Xi(),expandIcon:io(),extra:at.any,panelKey:Uh(),collapsible:ma(),role:String,onItemClick:io()}),F1e=e=>{const{componentCls:t,collapseContentBg:r,padding:n,collapseContentPaddingHorizontal:i,collapseHeaderBg:o,collapseHeaderPadding:s,collapsePanelBorderRadius:a,lineWidth:h,lineType:p,colorBorder:m,colorText:v,colorTextHeading:b,colorTextDisabled:x,fontSize:C,lineHeight:I,marginSM:A,paddingSM:R,motionDurationSlow:k,fontSizeIcon:$}=e,N=`${h}px ${p} ${m}`;return{[t]:ue(ue({},_a(e)),{backgroundColor:o,border:N,borderBottom:0,borderRadius:`${a}px`,"&-rtl":{direction:"rtl"},[`& > ${t}-item`]:{borderBottom:N,"&:last-child":{[`
            &,
            & > ${t}-header`]:{borderRadius:`0 0 ${a}px ${a}px`}},[`> ${t}-header`]:{position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:s,color:b,lineHeight:I,cursor:"pointer",transition:`all ${k}, visibility 0s`,[`> ${t}-header-text`]:{flex:"auto"},"&:focus":{outline:"none"},[`${t}-expand-icon`]:{height:C*I,display:"flex",alignItems:"center",paddingInlineEnd:A},[`${t}-arrow`]:ue(ue({},_b()),{fontSize:$,svg:{transition:`transform ${k}`}}),[`${t}-header-text`]:{marginInlineEnd:"auto"}},[`${t}-header-collapsible-only`]:{cursor:"default",[`${t}-header-text`]:{flex:"none",cursor:"pointer"},[`${t}-expand-icon`]:{cursor:"pointer"}},[`${t}-icon-collapsible-only`]:{cursor:"default",[`${t}-expand-icon`]:{cursor:"pointer"}},[`&${t}-no-arrow`]:{[`> ${t}-header`]:{paddingInlineStart:R}}},[`${t}-content`]:{color:v,backgroundColor:r,borderTop:N,[`& > ${t}-content-box`]:{padding:`${n}px ${i}px`},"&-hidden":{display:"none"}},[`${t}-item:last-child`]:{[`> ${t}-content`]:{borderRadius:`0 0 ${a}px ${a}px`}},[`& ${t}-item-disabled > ${t}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:x,cursor:"not-allowed"}},[`&${t}-icon-position-end`]:{[`& > ${t}-item`]:{[`> ${t}-header`]:{[`${t}-expand-icon`]:{order:1,paddingInlineEnd:0,paddingInlineStart:A}}}}})}},N1e=e=>{const{componentCls:t}=e,r=`> ${t}-item > ${t}-header ${t}-arrow svg`;return{[`${t}-rtl`]:{[r]:{transform:"rotate(180deg)"}}}},V1e=e=>{const{componentCls:t,collapseHeaderBg:r,paddingXXS:n,colorBorder:i}=e;return{[`${t}-borderless`]:{backgroundColor:r,border:0,[`> ${t}-item`]:{borderBottom:`1px solid ${i}`},[`
        > ${t}-item:last-child,
        > ${t}-item:last-child ${t}-header
      `]:{borderRadius:0},[`> ${t}-item:last-child`]:{borderBottom:0},[`> ${t}-item > ${t}-content`]:{backgroundColor:"transparent",borderTop:0},[`> ${t}-item > ${t}-content > ${t}-content-box`]:{paddingTop:n}}}},j1e=e=>{const{componentCls:t,paddingSM:r}=e;return{[`${t}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${t}-item`]:{borderBottom:0,[`> ${t}-content`]:{backgroundColor:"transparent",border:0,[`> ${t}-content-box`]:{paddingBlock:r}}}}}},H1e=zo("Collapse",e=>{const t=Un(e,{collapseContentBg:e.colorBgContainer,collapseHeaderBg:e.colorFillAlter,collapseHeaderPadding:`${e.paddingSM}px ${e.padding}px`,collapsePanelBorderRadius:e.borderRadiusLG,collapseContentPaddingHorizontal:16});return[F1e(t),V1e(t),j1e(t),N1e(t),MG(t)]});function TF(e){let t=e;if(!Array.isArray(t)){const r=typeof t;t=r==="number"||r==="string"?[t]:[]}return t.map(r=>String(r))}const X_=St({compatConfig:{MODE:3},name:"ACollapse",inheritAttrs:!1,props:Na(B1e(),{accordion:!1,destroyInactivePanel:!1,bordered:!0,expandIconPosition:"start"}),slots:Object,setup(e,t){let{attrs:r,slots:n,emit:i}=t;const o=Vt(TF(DG([e.activeKey,e.defaultActiveKey])));Zt(()=>e.activeKey,()=>{o.value=TF(e.activeKey)},{deep:!0});const{prefixCls:s,direction:a,rootPrefixCls:h}=qn("collapse",e),[p,m]=H1e(s),v=ve(()=>{const{expandIconPosition:R}=e;return R!==void 0?R:a.value==="rtl"?"end":"start"}),b=R=>{const{expandIcon:k=n.expandIcon}=e,$=k?k(R):ie(yR,{rotate:R.isActive?90:void 0},null);return ie("div",{class:[`${s.value}-expand-icon`,m.value],onClick:()=>["header","icon"].includes(e.collapsible)&&C(R.panelKey)},[Jh(Array.isArray(k)?$[0]:$)?ka($,{class:`${s.value}-arrow`},!1):$])},x=R=>{e.activeKey===void 0&&(o.value=R);const k=e.accordion?R[0]:R;i("update:activeKey",k),i("change",k)},C=R=>{let k=o.value;if(e.accordion)k=k[0]===R?[]:[R];else{k=[...k];const $=k.indexOf(R);$>-1?k.splice($,1):k.push(R)}x(k)},I=(R,k)=>{var $,N,H;if(Z2(R))return;const W=o.value,{accordion:j,destroyInactivePanel:X,collapsible:K,openAnimation:Q}=e,oe=Q||XG(`${h.value}-motion-collapse`),he=String(($=R.key)!==null&&$!==void 0?$:k),{header:ye=(H=(N=R.children)===null||N===void 0?void 0:N.header)===null||H===void 0?void 0:H.call(N),headerClass:be,collapsible:ce,disabled:de}=R.props||{};let Oe=!1;j?Oe=W[0]===he:Oe=W.indexOf(he)>-1;let ze=ce??K;(de||de==="")&&(ze="disabled");const De={key:he,panelKey:he,header:ye,headerClass:be,isActive:Oe,prefixCls:s.value,destroyInactivePanel:X,openAnimation:oe,accordion:j,onItemClick:ze==="disabled"?null:C,expandIcon:b,collapsible:ze};return ka(R,De)},A=()=>{var R;return So((R=n.default)===null||R===void 0?void 0:R.call(n)).map(I)};return()=>{const{accordion:R,bordered:k,ghost:$}=e,N=ir(s.value,{[`${s.value}-borderless`]:!k,[`${s.value}-icon-position-${v.value}`]:!0,[`${s.value}-rtl`]:a.value==="rtl",[`${s.value}-ghost`]:!!$,[r.class]:!!r.class},m.value);return p(ie("div",wt(wt({class:N},Rue(r)),{},{style:r.style,role:R?"tablist":null}),[A()]))}}}),G1e=St({compatConfig:{MODE:3},name:"PanelContent",props:iU(),setup(e,t){let{slots:r}=t;const n=vt(!1);return Gn(()=>{(e.isActive||e.forceRender)&&(n.value=!0)}),()=>{var i;if(!n.value)return null;const{prefixCls:o,isActive:s,role:a}=e;return ie("div",{class:ir(`${o}-content`,{[`${o}-content-active`]:s,[`${o}-content-inactive`]:!s}),role:a},[ie("div",{class:`${o}-content-box`},[(i=r.default)===null||i===void 0?void 0:i.call(r)])])}}}),lA=St({compatConfig:{MODE:3},name:"ACollapsePanel",inheritAttrs:!1,props:Na(iU(),{showArrow:!0,isActive:!1,onItemClick(){},headerClass:"",forceRender:!1}),slots:Object,setup(e,t){let{slots:r,emit:n,attrs:i}=t;_l(e.disabled===void 0,"Collapse.Panel",'`disabled` is deprecated. Please use `collapsible="disabled"` instead.');const{prefixCls:o}=qn("collapse",e),s=()=>{n("itemClick",e.panelKey)},a=h=>{(h.key==="Enter"||h.keyCode===13||h.which===13)&&s()};return()=>{var h,p;const{header:m=(h=r.header)===null||h===void 0?void 0:h.call(r),headerClass:v,isActive:b,showArrow:x,destroyInactivePanel:C,accordion:I,forceRender:A,openAnimation:R,expandIcon:k=r.expandIcon,extra:$=(p=r.extra)===null||p===void 0?void 0:p.call(r),collapsible:N}=e,H=N==="disabled",W=o.value,j=ir(`${W}-header`,{[v]:v,[`${W}-header-collapsible-only`]:N==="header",[`${W}-icon-collapsible-only`]:N==="icon"}),X=ir({[`${W}-item`]:!0,[`${W}-item-active`]:b,[`${W}-item-disabled`]:H,[`${W}-no-arrow`]:!x,[`${i.class}`]:!!i.class});let K=ie("i",{class:"arrow"},null);x&&typeof k=="function"&&(K=k(e));const Q=Gh(ie(G1e,{prefixCls:W,isActive:b,forceRender:A,role:I?"tabpanel":null},{default:r.default}),[[Zf,b]]),oe=ue({appear:!1,css:!1},R);return ie("div",wt(wt({},i),{},{class:X}),[ie("div",{class:j,onClick:()=>!["header","icon"].includes(N)&&s(),role:I?"tab":"button",tabindex:H?-1:0,"aria-expanded":b,onKeypress:a},[x&&K,ie("span",{onClick:()=>N==="header"&&s(),class:`${W}-header-text`},[m]),$&&ie("div",{class:`${W}-extra`},[$])]),ie(Fa,oe,{default:()=>[!C||b?Q:null]})])}}});X_.Panel=lA;X_.install=function(e){return e.component(X_.name,X_),e.component(lA.name,lA),e};let CM=ue({},C0.Modal);function U1e(e){e?CM=ue(ue({},CM),e):CM=ue({},C0.Modal)}const uA="internalMark",Zw=St({compatConfig:{MODE:3},name:"ALocaleProvider",props:{locale:{type:Object},ANT_MARK__:String},setup(e,t){let{slots:r}=t;ML(e.ANT_MARK__===uA);const n=ki({antLocale:ue(ue({},e.locale),{exist:!0}),ANT_MARK__:uA});return un("localeData",n),Zt(()=>e.locale,i=>{U1e(i&&i.Modal),n.antLocale=ue(ue({},i),{exist:!0})},{immediate:!0}),()=>{var i;return(i=r.default)===null||i===void 0?void 0:i.call(r)}}});Zw.install=function(e){return e.component(Zw.name,Zw),e};const W1e=av(Zw),oU=St({name:"Notice",inheritAttrs:!1,props:["prefixCls","duration","updateMark","noticeKey","closeIcon","closable","props","onClick","onClose","holder","visible"],setup(e,t){let{attrs:r,slots:n}=t,i,o=!1;const s=ve(()=>e.duration===void 0?4.5:e.duration),a=()=>{s.value&&!o&&(i=setTimeout(()=>{p()},s.value*1e3))},h=()=>{i&&(clearTimeout(i),i=null)},p=v=>{v&&v.stopPropagation(),h();const{onClose:b,noticeKey:x}=e;b&&b(x)},m=()=>{h(),a()};return Nr(()=>{a()}),_u(()=>{o=!0,h()}),Zt([s,()=>e.updateMark,()=>e.visible],(v,b)=>{let[x,C,I]=v,[A,R,k]=b;(x!==A||C!==R||I!==k&&k)&&m()},{flush:"post"}),()=>{var v,b;const{prefixCls:x,closable:C,closeIcon:I=(v=n.closeIcon)===null||v===void 0?void 0:v.call(n),onClick:A,holder:R}=e,{class:k,style:$}=r,N=`${x}-notice`,H=Object.keys(r).reduce((j,X)=>((X.startsWith("data-")||X.startsWith("aria-")||X==="role")&&(j[X]=r[X]),j),{}),W=ie("div",wt({class:ir(N,k,{[`${N}-closable`]:C}),style:$,onMouseenter:h,onMouseleave:a,onClick:A},H),[ie("div",{class:`${N}-content`},[(b=n.default)===null||b===void 0?void 0:b.call(n)]),C?ie("a",{tabindex:0,onClick:p,class:`${N}-close`},[I||ie("span",{class:`${N}-close-x`},null)]):null]);return R?ie(BD,{to:R},{default:()=>W}):W}}});var q1e=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let CF=0;const Z1e=Date.now();function PF(){const e=CF;return CF+=1,`rcNotification_${Z1e}_${e}`}const jS=St({name:"Notification",inheritAttrs:!1,props:["prefixCls","transitionName","animation","maxCount","closeIcon","hashId"],setup(e,t){let{attrs:r,expose:n,slots:i}=t;const o=new Map,s=Vt([]),a=ve(()=>{const{prefixCls:m,animation:v="fade"}=e;let b=e.transitionName;return!b&&v&&(b=`${m}-${v}`),VH(b)}),h=(m,v)=>{const b=m.key||PF(),x=ue(ue({},m),{key:b}),{maxCount:C}=e,I=s.value.map(R=>R.notice.key).indexOf(b),A=s.value.concat();I!==-1?A.splice(I,1,{notice:x,holderCallback:v}):(C&&s.value.length>=C&&(x.key=A[0].notice.key,x.updateMark=PF(),x.userPassKey=b,A.shift()),A.push({notice:x,holderCallback:v})),s.value=A},p=m=>{s.value=Ur(s.value).filter(v=>{let{notice:{key:b,userPassKey:x}}=v;return(x||b)!==m})};return n({add:h,remove:p,notices:s}),()=>{var m;const{prefixCls:v,closeIcon:b=(m=i.closeIcon)===null||m===void 0?void 0:m.call(i,{prefixCls:v})}=e,x=s.value.map((I,A)=>{let{notice:R,holderCallback:k}=I;const $=A===s.value.length-1?R.updateMark:void 0,{key:N,userPassKey:H}=R,{content:W}=R,j=ue(ue(ue({prefixCls:v,closeIcon:typeof b=="function"?b({prefixCls:v}):b},R),R.props),{key:N,noticeKey:H||N,updateMark:$,onClose:X=>{var K;p(X),(K=R.onClose)===null||K===void 0||K.call(R)},onClick:R.onClick});return k?ie("div",{key:N,class:`${v}-hook-holder`,ref:X=>{typeof N>"u"||(X?(o.set(N,X),k(X,j)):o.delete(N))}},null):ie(oU,wt(wt({},j),{},{class:ir(j.class,e.hashId)}),{default:()=>[typeof W=="function"?W({prefixCls:v}):W]})}),C={[v]:1,[r.class]:!!r.class,[e.hashId]:!0};return ie("div",{class:C,style:r.style||{top:"65px",left:"50%"}},[ie(qD,wt({tag:"div"},a.value),{default:()=>[x]})])}}});jS.newInstance=function(t,r){const n=t||{},{name:i="notification",getContainer:o,appContext:s,prefixCls:a,rootPrefixCls:h,transitionName:p,hasTransitionName:m,useStyle:v}=n,b=q1e(n,["name","getContainer","appContext","prefixCls","rootPrefixCls","transitionName","hasTransitionName","useStyle"]),x=document.createElement("div");o?o().appendChild(x):document.body.appendChild(x);const I=ie(St({compatConfig:{MODE:3},name:"NotificationWrapper",setup(A,R){let{attrs:k}=R;const $=vt(),N=ve(()=>Zo.getPrefixCls(i,a)),[,H]=v(N);return Nr(()=>{r({notice(W){var j;(j=$.value)===null||j===void 0||j.add(W)},removeNotice(W){var j;(j=$.value)===null||j===void 0||j.remove(W)},destroy(){y0(null,x),x.parentNode&&x.parentNode.removeChild(x)},component:$})}),()=>{const W=Zo,j=W.getRootPrefixCls(h,N.value),X=m?p:`${N.value}-${p}`;return ie(gc,wt(wt({},W),{},{prefixCls:j}),{default:()=>[ie(jS,wt(wt({ref:$},k),{},{prefixCls:N.value,transitionName:X,hashId:H.value}),null)]})}}}),b);I.appContext=s||I.appContext,y0(I,x)};let MF=0;const X1e=Date.now();function IF(){const e=MF;return MF+=1,`rcNotification_${X1e}_${e}`}const K1e=St({name:"HookNotification",inheritAttrs:!1,props:["prefixCls","transitionName","animation","maxCount","closeIcon","hashId","remove","notices","getStyles","getClassName","onAllRemoved","getContainer"],setup(e,t){let{attrs:r,slots:n}=t;const i=new Map,o=ve(()=>e.notices),s=ve(()=>{let m=e.transitionName;if(!m&&e.animation)switch(typeof e.animation){case"string":m=e.animation;break;case"function":m=e.animation().name;break;case"object":m=e.animation.name;break;default:m=`${e.prefixCls}-fade`;break}return VH(m)}),a=m=>e.remove(m),h=Vt({});Zt(o,()=>{const m={};Object.keys(h.value).forEach(v=>{m[v]=[]}),e.notices.forEach(v=>{const{placement:b="topRight"}=v.notice;b&&(m[b]=m[b]||[],m[b].push(v))}),h.value=m});const p=ve(()=>Object.keys(h.value));return()=>{var m;const{prefixCls:v,closeIcon:b=(m=n.closeIcon)===null||m===void 0?void 0:m.call(n,{prefixCls:v})}=e,x=p.value.map(C=>{var I,A;const R=h.value[C],k=(I=e.getClassName)===null||I===void 0?void 0:I.call(e,C),$=(A=e.getStyles)===null||A===void 0?void 0:A.call(e,C),N=R.map((j,X)=>{let{notice:K,holderCallback:Q}=j;const oe=X===o.value.length-1?K.updateMark:void 0,{key:he,userPassKey:ye}=K,{content:be}=K,ce=ue(ue(ue({prefixCls:v,closeIcon:typeof b=="function"?b({prefixCls:v}):b},K),K.props),{key:he,noticeKey:ye||he,updateMark:oe,onClose:de=>{var Oe;a(de),(Oe=K.onClose)===null||Oe===void 0||Oe.call(K)},onClick:K.onClick});return Q?ie("div",{key:he,class:`${v}-hook-holder`,ref:de=>{typeof he>"u"||(de?(i.set(he,de),Q(de,ce)):i.delete(he))}},null):ie(oU,wt(wt({},ce),{},{class:ir(ce.class,e.hashId)}),{default:()=>[typeof be=="function"?be({prefixCls:v}):be]})}),H={[v]:1,[`${v}-${C}`]:1,[r.class]:!!r.class,[e.hashId]:!0,[k]:!!k};function W(){var j;R.length>0||(Reflect.deleteProperty(h.value,C),(j=e.onAllRemoved)===null||j===void 0||j.call(e))}return ie("div",{key:C,class:H,style:r.style||$||{top:"65px",left:"50%"}},[ie(qD,wt(wt({tag:"div"},s.value),{},{onAfterLeave:W}),{default:()=>[N]})])});return ie(UH,{getContainer:e.getContainer},{default:()=>[x]})}}});var Y1e=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const J1e=()=>document.body;let EF=0;function Q1e(){const e={};for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach(i=>{i&&Object.keys(i).forEach(o=>{const s=i[o];s!==void 0&&(e[o]=s)})}),e}function aU(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{getContainer:t=J1e,motion:r,prefixCls:n,maxCount:i,getClassName:o,getStyles:s,onAllRemoved:a}=e,h=Y1e(e,["getContainer","motion","prefixCls","maxCount","getClassName","getStyles","onAllRemoved"]),p=vt([]),m=vt(),v=(R,k)=>{const $=R.key||IF(),N=ue(ue({},R),{key:$}),H=p.value.map(j=>j.notice.key).indexOf($),W=p.value.concat();H!==-1?W.splice(H,1,{notice:N,holderCallback:k}):(i&&p.value.length>=i&&(N.key=W[0].notice.key,N.updateMark=IF(),N.userPassKey=$,W.shift()),W.push({notice:N,holderCallback:k})),p.value=W},b=R=>{p.value=p.value.filter(k=>{let{notice:{key:$,userPassKey:N}}=k;return(N||$)!==R})},x=()=>{p.value=[]},C=()=>ie(K1e,{ref:m,prefixCls:n,maxCount:i,notices:p.value,remove:b,getClassName:o,getStyles:s,animation:r,hashId:e.hashId,onAllRemoved:a,getContainer:t},null),I=vt([]),A={open:R=>{const k=Q1e(h,R);(k.key===null||k.key===void 0)&&(k.key=`vc-notification-${EF}`,EF+=1),I.value=[...I.value,{type:"open",config:k}]},close:R=>{I.value=[...I.value,{type:"close",key:R}]},destroy:()=>{I.value=[...I.value,{type:"destroy"}]}};return Zt(I,()=>{I.value.length&&(I.value.forEach(R=>{switch(R.type){case"open":v(R.config);break;case"close":b(R.key);break;case"destroy":x();break}}),I.value=[])}),[A,C]}const exe=e=>{const{componentCls:t,iconCls:r,boxShadowSecondary:n,colorBgElevated:i,colorSuccess:o,colorError:s,colorWarning:a,colorInfo:h,fontSizeLG:p,motionEaseInOutCirc:m,motionDurationSlow:v,marginXS:b,paddingXS:x,borderRadiusLG:C,zIndexPopup:I,messageNoticeContentPadding:A}=e,R=new Kr("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:x,transform:"translateY(0)",opacity:1}}),k=new Kr("MessageMoveOut",{"0%":{maxHeight:e.height,padding:x,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}});return[{[t]:ue(ue({},_a(e)),{position:"fixed",top:b,left:"50%",transform:"translateX(-50%)",width:"100%",pointerEvents:"none",zIndex:I,[`${t}-move-up`]:{animationFillMode:"forwards"},[`
        ${t}-move-up-appear,
        ${t}-move-up-enter
      `]:{animationName:R,animationDuration:v,animationPlayState:"paused",animationTimingFunction:m},[`
        ${t}-move-up-appear${t}-move-up-appear-active,
        ${t}-move-up-enter${t}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${t}-move-up-leave`]:{animationName:k,animationDuration:v,animationPlayState:"paused",animationTimingFunction:m},[`${t}-move-up-leave${t}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[`${t}-notice`]:{padding:x,textAlign:"center",[r]:{verticalAlign:"text-bottom",marginInlineEnd:b,fontSize:p},[`${t}-notice-content`]:{display:"inline-block",padding:A,background:i,borderRadius:C,boxShadow:n,pointerEvents:"all"},[`${t}-success ${r}`]:{color:o},[`${t}-error ${r}`]:{color:s},[`${t}-warning ${r}`]:{color:a},[`
        ${t}-info ${r},
        ${t}-loading ${r}`]:{color:h}}},{[`${t}-notice-pure-panel`]:{padding:0,textAlign:"start"}}]},sU=zo("Message",e=>{const t=Un(e,{messageNoticeContentPadding:`${(e.controlHeightLG-e.fontSize*e.lineHeight)/2}px ${e.paddingSM}px`});return[exe(t)]},e=>({height:150,zIndexPopup:e.zIndexPopupBase+10})),txe={info:ie(cv,null,null),success:ie(lv,null,null),error:ie(fp,null,null),warning:ie(uv,null,null),loading:ie(wc,null,null)},rxe=St({name:"PureContent",inheritAttrs:!1,props:["prefixCls","type","icon"],setup(e,t){let{slots:r}=t;return()=>{var n;return ie("div",{class:ir(`${e.prefixCls}-custom-content`,`${e.prefixCls}-${e.type}`)},[e.icon||txe[e.type],ie("span",null,[(n=r.default)===null||n===void 0?void 0:n.call(r)])])}}});var nxe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const ixe=8,oxe=3,axe=St({name:"Holder",inheritAttrs:!1,props:["top","prefixCls","getContainer","maxCount","duration","rtl","transitionName","onAllRemoved","animation","staticGetContainer"],setup(e,t){let{expose:r}=t;var n,i;const{getPrefixCls:o,getPopupContainer:s}=qn("message",e),a=ve(()=>o("message",e.prefixCls)),[,h]=sU(a),p=()=>{var I;const A=(I=e.top)!==null&&I!==void 0?I:ixe;return{left:"50%",transform:"translateX(-50%)",top:typeof A=="number"?`${A}px`:A}},m=()=>ir(h.value,e.rtl?`${a.value}-rtl`:""),v=()=>{var I;return BL({prefixCls:a.value,animation:(I=e.animation)!==null&&I!==void 0?I:"move-up",transitionName:e.transitionName})},b=ie("span",{class:`${a.value}-close-x`},[ie(td,{class:`${a.value}-close-icon`},null)]),[x,C]=aU({getStyles:p,prefixCls:a.value,getClassName:m,motion:v,closable:!1,closeIcon:b,duration:(n=e.duration)!==null&&n!==void 0?n:oxe,getContainer:(i=e.staticGetContainer)!==null&&i!==void 0?i:s.value,maxCount:e.maxCount,onAllRemoved:e.onAllRemoved});return r(ue(ue({},x),{prefixCls:a,hashId:h})),C}});let AF=0;function sxe(e){const t=vt(null),r=Symbol("messageHolderKey"),n=h=>{var p;(p=t.value)===null||p===void 0||p.close(h)},i=h=>{if(!t.value){const H=()=>{};return H.then=()=>{},H}const{open:p,prefixCls:m,hashId:v}=t.value,b=`${m}-notice`,{content:x,icon:C,type:I,key:A,class:R,onClose:k}=h,$=nxe(h,["content","icon","type","key","class","onClose"]);let N=A;return N==null&&(AF+=1,N=`antd-message-${AF}`),Oue(H=>(p(ue(ue({},$),{key:N,content:()=>ie(rxe,{prefixCls:m,type:I,icon:typeof C=="function"?C():C},{default:()=>[typeof x=="function"?x():x]}),placement:"top",class:ir(I&&`${b}-${I}`,v,R),onClose:()=>{k?.(),H()}})),()=>{n(N)}))},s={open:i,destroy:h=>{var p;h!==void 0?n(h):(p=t.value)===null||p===void 0||p.destroy()}};return["info","success","warning","error","loading"].forEach(h=>{const p=(m,v,b)=>{let x;m&&typeof m=="object"&&"content"in m?x=m:x={content:m};let C,I;typeof v=="function"?I=v:(C=v,I=b);const A=ue(ue({onClose:I,duration:C},x),{type:h});return i(A)};s[h]=p}),[s,()=>ie(axe,wt(wt({key:r},e),{},{ref:t}),null)]}function lxe(e){return sxe(e)}let lU=3,uU,ga,uxe=1,cU="",hU="move-up",dU=!1,fU=()=>document.body,pU,mU=!1;function cxe(){return uxe++}function hxe(e){e.top!==void 0&&(uU=e.top,ga=null),e.duration!==void 0&&(lU=e.duration),e.prefixCls!==void 0&&(cU=e.prefixCls),e.getContainer!==void 0&&(fU=e.getContainer,ga=null),e.transitionName!==void 0&&(hU=e.transitionName,ga=null,dU=!0),e.maxCount!==void 0&&(pU=e.maxCount,ga=null),e.rtl!==void 0&&(mU=e.rtl)}function dxe(e,t){if(ga){t(ga);return}jS.newInstance({appContext:e.appContext,prefixCls:e.prefixCls||cU,rootPrefixCls:e.rootPrefixCls,transitionName:hU,hasTransitionName:dU,style:{top:uU},getContainer:fU||e.getPopupContainer,maxCount:pU,name:"message",useStyle:sU},r=>{if(ga){t(ga);return}ga=r,t(r)})}const gU={info:cv,success:lv,error:fp,warning:uv,loading:wc},fxe=Object.keys(gU);function pxe(e){const t=e.duration!==void 0?e.duration:lU,r=e.key||cxe(),n=new Promise(o=>{const s=()=>(typeof e.onClose=="function"&&e.onClose(),o(!0));dxe(e,a=>{a.notice({key:r,duration:t,style:e.style||{},class:e.class,content:h=>{let{prefixCls:p}=h;const m=gU[e.type],v=m?ie(m,null,null):"",b=ir(`${p}-custom-content`,{[`${p}-${e.type}`]:e.type,[`${p}-rtl`]:mU===!0});return ie("div",{class:b},[typeof e.icon=="function"?e.icon():e.icon||v,ie("span",null,[typeof e.content=="function"?e.content():e.content])])},onClose:s,onClick:e.onClick})})}),i=()=>{ga&&ga.removeNotice(r)};return i.then=(o,s)=>n.then(o,s),i.promise=n,i}function mxe(e){return Object.prototype.toString.call(e)==="[object Object]"&&!!e.content}const k0={open:pxe,config:hxe,destroy(e){if(ga)if(e){const{removeNotice:t}=ga;t(e)}else{const{destroy:t}=ga;t(),ga=null}}};function gxe(e,t){e[t]=(r,n,i)=>mxe(r)?e.open(ue(ue({},r),{type:t})):(typeof n=="function"&&(i=n,n=void 0),e.open({content:r,duration:n,type:t,onClose:i}))}fxe.forEach(e=>gxe(k0,e));k0.warn=k0.warning;k0.useMessage=lxe;const vxe=e=>{const{componentCls:t,width:r,notificationMarginEdge:n}=e,i=new Kr("antNotificationTopFadeIn",{"0%":{marginTop:"-100%",opacity:0},"100%":{marginTop:0,opacity:1}}),o=new Kr("antNotificationBottomFadeIn",{"0%":{marginBottom:"-100%",opacity:0},"100%":{marginBottom:0,opacity:1}}),s=new Kr("antNotificationLeftFadeIn",{"0%":{right:{_skip_check_:!0,value:r},opacity:0},"100%":{right:{_skip_check_:!0,value:0},opacity:1}});return{[`&${t}-top, &${t}-bottom`]:{marginInline:0},[`&${t}-top`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:i}},[`&${t}-bottom`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:o}},[`&${t}-topLeft, &${t}-bottomLeft`]:{marginInlineEnd:0,marginInlineStart:n,[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:s}}}},yxe=e=>{const{iconCls:t,componentCls:r,boxShadowSecondary:n,fontSizeLG:i,notificationMarginBottom:o,borderRadiusLG:s,colorSuccess:a,colorInfo:h,colorWarning:p,colorError:m,colorTextHeading:v,notificationBg:b,notificationPadding:x,notificationMarginEdge:C,motionDurationMid:I,motionEaseInOut:A,fontSize:R,lineHeight:k,width:$,notificationIconSize:N}=e,H=`${r}-notice`,W=new Kr("antNotificationFadeIn",{"0%":{left:{_skip_check_:!0,value:$},opacity:0},"100%":{left:{_skip_check_:!0,value:0},opacity:1}}),j=new Kr("antNotificationFadeOut",{"0%":{maxHeight:e.animationMaxHeight,marginBottom:o,opacity:1},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[r]:ue(ue(ue(ue({},_a(e)),{position:"fixed",zIndex:e.zIndexPopup,marginInlineEnd:C,[`${r}-hook-holder`]:{position:"relative"},[`&${r}-top, &${r}-bottom`]:{[`${r}-notice`]:{marginInline:"auto auto"}},[`&${r}-topLeft, &${r}-bottomLeft`]:{[`${r}-notice`]:{marginInlineEnd:"auto",marginInlineStart:0}},[`${r}-fade-enter, ${r}-fade-appear`]:{animationDuration:e.motionDurationMid,animationTimingFunction:A,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${r}-fade-leave`]:{animationTimingFunction:A,animationFillMode:"both",animationDuration:I,animationPlayState:"paused"},[`${r}-fade-enter${r}-fade-enter-active, ${r}-fade-appear${r}-fade-appear-active`]:{animationName:W,animationPlayState:"running"},[`${r}-fade-leave${r}-fade-leave-active`]:{animationName:j,animationPlayState:"running"}}),vxe(e)),{"&-rtl":{direction:"rtl",[`${r}-notice-btn`]:{float:"left"}}})},{[H]:{position:"relative",width:$,maxWidth:`calc(100vw - ${C*2}px)`,marginBottom:o,marginInlineStart:"auto",padding:x,overflow:"hidden",lineHeight:k,wordWrap:"break-word",background:b,borderRadius:s,boxShadow:n,[`${r}-close-icon`]:{fontSize:R,cursor:"pointer"},[`${H}-message`]:{marginBottom:e.marginXS,color:v,fontSize:i,lineHeight:e.lineHeightLG},[`${H}-description`]:{fontSize:R},[`&${H}-closable ${H}-message`]:{paddingInlineEnd:e.paddingLG},[`${H}-with-icon ${H}-message`]:{marginBottom:e.marginXS,marginInlineStart:e.marginSM+N,fontSize:i},[`${H}-with-icon ${H}-description`]:{marginInlineStart:e.marginSM+N,fontSize:R},[`${H}-icon`]:{position:"absolute",fontSize:N,lineHeight:0,[`&-success${t}`]:{color:a},[`&-info${t}`]:{color:h},[`&-warning${t}`]:{color:p},[`&-error${t}`]:{color:m}},[`${H}-close`]:{position:"absolute",top:e.notificationPaddingVertical,insetInlineEnd:e.notificationPaddingHorizontal,color:e.colorIcon,outline:"none",width:e.notificationCloseButtonSize,height:e.notificationCloseButtonSize,borderRadius:e.borderRadiusSM,transition:`background-color ${e.motionDurationMid}, color ${e.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:e.colorIconHover,backgroundColor:e.wireframe?"transparent":e.colorFillContent}},[`${H}-btn`]:{float:"right",marginTop:e.marginSM}}},{[`${H}-pure-panel`]:{margin:0}}]},vU=zo("Notification",e=>{const t=e.paddingMD,r=e.paddingLG,n=Un(e,{notificationBg:e.colorBgElevated,notificationPaddingVertical:t,notificationPaddingHorizontal:r,notificationPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`,notificationMarginBottom:e.margin,notificationMarginEdge:e.marginLG,animationMaxHeight:150,notificationIconSize:e.fontSizeLG*e.lineHeightLG,notificationCloseButtonSize:e.controlHeightLG*.55});return[yxe(n)]},e=>({zIndexPopup:e.zIndexPopupBase+50,width:384}));function _xe(e,t){return t||ie("span",{class:`${e}-close-x`},[ie(td,{class:`${e}-close-icon`},null)])}ie(cv,null,null),ie(lv,null,null),ie(fp,null,null),ie(uv,null,null),ie(wc,null,null);const bxe={success:lv,info:cv,error:fp,warning:uv};function xxe(e){let{prefixCls:t,icon:r,type:n,message:i,description:o,btn:s}=e,a=null;if(r)a=ie("span",{class:`${t}-icon`},[tg(r)]);else if(n){const h=bxe[n];a=ie(h,{class:`${t}-icon ${t}-icon-${n}`},null)}return ie("div",{class:ir({[`${t}-with-icon`]:a}),role:"alert"},[a,ie("div",{class:`${t}-message`},[i]),ie("div",{class:`${t}-description`},[o]),s&&ie("div",{class:`${t}-btn`},[s])])}function yU(e,t,r){let n;switch(t=typeof t=="number"?`${t}px`:t,r=typeof r=="number"?`${r}px`:r,e){case"top":n={left:"50%",transform:"translateX(-50%)",right:"auto",top:t,bottom:"auto"};break;case"topLeft":n={left:0,top:t,bottom:"auto"};break;case"topRight":n={right:0,top:t,bottom:"auto"};break;case"bottom":n={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:r};break;case"bottomLeft":n={left:0,top:"auto",bottom:r};break;default:n={right:0,top:"auto",bottom:r};break}return n}function wxe(e){return{name:`${e}-fade`}}var Sxe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const DF=24,Txe=4.5,Cxe=St({name:"Holder",inheritAttrs:!1,props:["prefixCls","class","type","icon","content","onAllRemoved"],setup(e,t){let{expose:r}=t;const{getPrefixCls:n,getPopupContainer:i}=qn("notification",e),o=ve(()=>e.prefixCls||n("notification")),s=b=>{var x,C;return yU(b,(x=e.top)!==null&&x!==void 0?x:DF,(C=e.bottom)!==null&&C!==void 0?C:DF)},[,a]=vU(o),h=()=>ir(a.value,{[`${o.value}-rtl`]:e.rtl}),p=()=>wxe(o.value),[m,v]=aU({prefixCls:o.value,getStyles:s,getClassName:h,motion:p,closable:!0,closeIcon:_xe(o.value),duration:Txe,getContainer:()=>{var b,x;return((b=e.getPopupContainer)===null||b===void 0?void 0:b.call(e))||((x=i.value)===null||x===void 0?void 0:x.call(i))||document.body},maxCount:e.maxCount,hashId:a.value,onAllRemoved:e.onAllRemoved});return r(ue(ue({},m),{prefixCls:o.value,hashId:a})),v}});function Pxe(e){const t=vt(null),r=Symbol("notificationHolderKey"),n=a=>{if(!t.value)return;const{open:h,prefixCls:p,hashId:m}=t.value,v=`${p}-notice`,{message:b,description:x,icon:C,type:I,btn:A,class:R}=a,k=Sxe(a,["message","description","icon","type","btn","class"]);return h(ue(ue({placement:"topRight"},k),{content:()=>ie(xxe,{prefixCls:v,icon:typeof C=="function"?C():C,type:I,message:typeof b=="function"?b():b,description:typeof x=="function"?x():x,btn:typeof A=="function"?A():A},null),class:ir(I&&`${v}-${I}`,m,R)}))},o={open:n,destroy:a=>{var h,p;a!==void 0?(h=t.value)===null||h===void 0||h.close(a):(p=t.value)===null||p===void 0||p.destroy()}};return["success","info","warning","error"].forEach(a=>{o[a]=h=>n(ue(ue({},h),{type:a}))}),[o,()=>ie(Cxe,wt(wt({key:r},e),{},{ref:t}),null)]}function Mxe(e){return Pxe(e)}const Pf={};let _U=4.5,bU="24px",xU="24px",cA="",wU="topRight",SU=()=>document.body,TU=null,hA=!1,CU;function Ixe(e){const{duration:t,placement:r,bottom:n,top:i,getContainer:o,closeIcon:s,prefixCls:a}=e;a!==void 0&&(cA=a),t!==void 0&&(_U=t),r!==void 0&&(wU=r),n!==void 0&&(xU=typeof n=="number"?`${n}px`:n),i!==void 0&&(bU=typeof i=="number"?`${i}px`:i),o!==void 0&&(SU=o),s!==void 0&&(TU=s),e.rtl!==void 0&&(hA=e.rtl),e.maxCount!==void 0&&(CU=e.maxCount)}function Exe(e,t){let{prefixCls:r,placement:n=wU,getContainer:i=SU,top:o,bottom:s,closeIcon:a=TU,appContext:h}=e;const{getPrefixCls:p}=Vxe(),m=p("notification",r||cA),v=`${m}-${n}-${hA}`,b=Pf[v];if(b){Promise.resolve(b).then(C=>{t(C)});return}const x=ir(`${m}-${n}`,{[`${m}-rtl`]:hA===!0});jS.newInstance({name:"notification",prefixCls:r||cA,useStyle:vU,class:x,style:yU(n,o??bU,s??xU),appContext:h,getContainer:i,closeIcon:C=>{let{prefixCls:I}=C;return ie("span",{class:`${I}-close-x`},[tg(a,{},ie(td,{class:`${I}-close-icon`},null))])},maxCount:CU,hasTransitionName:!0},C=>{Pf[v]=C,t(C)})}const Axe={success:hR,info:fR,error:pR,warning:dR};function Dxe(e){const{icon:t,type:r,description:n,message:i,btn:o}=e,s=e.duration===void 0?_U:e.duration;Exe(e,a=>{a.notice({content:h=>{let{prefixCls:p}=h;const m=`${p}-notice`;let v=null;if(t)v=()=>ie("span",{class:`${m}-icon`},[tg(t)]);else if(r){const b=Axe[r];v=()=>ie(b,{class:`${m}-icon ${m}-icon-${r}`},null)}return ie("div",{class:v?`${m}-with-icon`:""},[v&&v(),ie("div",{class:`${m}-message`},[!n&&v?ie("span",{class:`${m}-message-single-line-auto-margin`},null):null,tg(i)]),ie("div",{class:`${m}-description`},[tg(n)]),o?ie("span",{class:`${m}-btn`},[tg(o)]):null])},duration:s,closable:!0,onClose:e.onClose,onClick:e.onClick,key:e.key,style:e.style||{},class:e.class})})}const Xg={open:Dxe,close(e){Object.keys(Pf).forEach(t=>Promise.resolve(Pf[t]).then(r=>{r.removeNotice(e)}))},config:Ixe,destroy(){Object.keys(Pf).forEach(e=>{Promise.resolve(Pf[e]).then(t=>{t.destroy()}),delete Pf[e]})}},Lxe=["success","info","warning","error"];Lxe.forEach(e=>{Xg[e]=t=>Xg.open(ue(ue({},t),{type:e}))});Xg.warn=Xg.warning;Xg.useNotification=Mxe;const Rxe=`-ant-${Date.now()}-${Math.random()}`;function Oxe(e,t){const r={},n=(s,a)=>{let h=s.clone();return h=a?.(h)||h,h.toRgbString()},i=(s,a)=>{const h=new Di(s),p=xc(h.toRgbString());r[`${a}-color`]=n(h),r[`${a}-color-disabled`]=p[1],r[`${a}-color-hover`]=p[4],r[`${a}-color-active`]=p[6],r[`${a}-color-outline`]=h.clone().setAlpha(.2).toRgbString(),r[`${a}-color-deprecated-bg`]=p[0],r[`${a}-color-deprecated-border`]=p[2]};if(t.primaryColor){i(t.primaryColor,"primary");const s=new Di(t.primaryColor),a=xc(s.toRgbString());a.forEach((p,m)=>{r[`primary-${m+1}`]=p}),r["primary-color-deprecated-l-35"]=n(s,p=>p.lighten(35)),r["primary-color-deprecated-l-20"]=n(s,p=>p.lighten(20)),r["primary-color-deprecated-t-20"]=n(s,p=>p.tint(20)),r["primary-color-deprecated-t-50"]=n(s,p=>p.tint(50)),r["primary-color-deprecated-f-12"]=n(s,p=>p.setAlpha(p.getAlpha()*.12));const h=new Di(a[0]);r["primary-color-active-deprecated-f-30"]=n(h,p=>p.setAlpha(p.getAlpha()*.3)),r["primary-color-active-deprecated-d-02"]=n(h,p=>p.darken(2))}return t.successColor&&i(t.successColor,"success"),t.warningColor&&i(t.warningColor,"warning"),t.errorColor&&i(t.errorColor,"error"),t.infoColor&&i(t.infoColor,"info"),`
  :root {
    ${Object.keys(r).map(s=>`--${e}-${s}: ${r[s]};`).join(`
`)}
  }
  `.trim()}function kxe(e,t){const r=Oxe(e,t);Sl()&&M0(r,`${Rxe}-dynamic-theme`)}const $xe=e=>{const[t,r]=bb();return zE(ve(()=>({theme:t.value,token:r.value,hashId:"",path:["ant-design-icons",e.value]})),()=>[{[`.${e.value}`]:ue(ue({},_b()),{[`.${e.value} .${e.value}-icon`]:{display:"block"}})}])};function zxe(e,t){const r=ve(()=>e?.value||{}),n=ve(()=>r.value.inherit===!1||!t?.value?LL:t.value);return ve(()=>{if(!e?.value)return t?.value;const o=ue({},n.value.components);return Object.keys(e.value.components||{}).forEach(s=>{o[s]=ue(ue({},o[s]),e.value.components[s])}),ue(ue(ue({},n.value),r.value),{token:ue(ue({},n.value.token),r.value.token),components:o})})}var Bxe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Fxe="ant";function Sg(){return Zo.prefixCls||Fxe}function PU(){return Zo.iconPrefixCls||TL}const TR=ki({}),Zo=ki({});Gn(()=>{ue(Zo,TR),Zo.prefixCls=Sg(),Zo.iconPrefixCls=PU(),Zo.getPrefixCls=(e,t)=>t||(e?`${Zo.prefixCls}-${e}`:Zo.prefixCls),Zo.getRootPrefixCls=()=>Zo.prefixCls?Zo.prefixCls:Sg()});let PM;const Nxe=e=>{PM&&PM(),PM=Gn(()=>{ue(TR,ki(e)),ue(Zo,ki(e))}),e.theme&&kxe(Sg(),e.theme)},Vxe=()=>({getPrefixCls:(e,t)=>t||(e?`${Sg()}-${e}`:Sg()),getIconPrefixCls:PU,getRootPrefixCls:()=>Zo.prefixCls?Zo.prefixCls:Sg()}),gc=St({compatConfig:{MODE:3},name:"AConfigProvider",inheritAttrs:!1,props:lce(),setup(e,t){let{slots:r}=t;const n=C7(),i=(ce,de)=>{const{prefixCls:Oe="ant"}=e;if(de)return de;const ze=Oe||n.getPrefixCls("");return ce?`${ze}-${ce}`:ze},o=ve(()=>e.iconPrefixCls||n.iconPrefixCls.value||TL),s=ve(()=>o.value!==n.iconPrefixCls.value),a=ve(()=>{var ce;return e.csp||((ce=n.csp)===null||ce===void 0?void 0:ce.value)}),h=$xe(o),p=zxe(ve(()=>e.theme),ve(()=>{var ce;return(ce=n.theme)===null||ce===void 0?void 0:ce.value})),m=ce=>(e.renderEmpty||r.renderEmpty||n.renderEmpty||qhe)(ce),v=ve(()=>{var ce,de;return(ce=e.autoInsertSpaceInButton)!==null&&ce!==void 0?ce:(de=n.autoInsertSpaceInButton)===null||de===void 0?void 0:de.value}),b=ve(()=>{var ce;return e.locale||((ce=n.locale)===null||ce===void 0?void 0:ce.value)});Zt(b,()=>{TR.locale=b.value},{immediate:!0});const x=ve(()=>{var ce;return e.direction||((ce=n.direction)===null||ce===void 0?void 0:ce.value)}),C=ve(()=>{var ce,de;return(ce=e.space)!==null&&ce!==void 0?ce:(de=n.space)===null||de===void 0?void 0:de.value}),I=ve(()=>{var ce,de;return(ce=e.virtual)!==null&&ce!==void 0?ce:(de=n.virtual)===null||de===void 0?void 0:de.value}),A=ve(()=>{var ce,de;return(ce=e.dropdownMatchSelectWidth)!==null&&ce!==void 0?ce:(de=n.dropdownMatchSelectWidth)===null||de===void 0?void 0:de.value}),R=ve(()=>{var ce;return e.getTargetContainer!==void 0?e.getTargetContainer:(ce=n.getTargetContainer)===null||ce===void 0?void 0:ce.value}),k=ve(()=>{var ce;return e.getPopupContainer!==void 0?e.getPopupContainer:(ce=n.getPopupContainer)===null||ce===void 0?void 0:ce.value}),$=ve(()=>{var ce;return e.pageHeader!==void 0?e.pageHeader:(ce=n.pageHeader)===null||ce===void 0?void 0:ce.value}),N=ve(()=>{var ce;return e.input!==void 0?e.input:(ce=n.input)===null||ce===void 0?void 0:ce.value}),H=ve(()=>{var ce;return e.pagination!==void 0?e.pagination:(ce=n.pagination)===null||ce===void 0?void 0:ce.value}),W=ve(()=>{var ce;return e.form!==void 0?e.form:(ce=n.form)===null||ce===void 0?void 0:ce.value}),j=ve(()=>{var ce;return e.select!==void 0?e.select:(ce=n.select)===null||ce===void 0?void 0:ce.value}),X=ve(()=>e.componentSize),K=ve(()=>e.componentDisabled),Q=ve(()=>{var ce,de;return(ce=e.wave)!==null&&ce!==void 0?ce:(de=n.wave)===null||de===void 0?void 0:de.value}),oe={csp:a,autoInsertSpaceInButton:v,locale:b,direction:x,space:C,virtual:I,dropdownMatchSelectWidth:A,getPrefixCls:i,iconPrefixCls:o,theme:ve(()=>{var ce,de;return(ce=p.value)!==null&&ce!==void 0?ce:(de=n.theme)===null||de===void 0?void 0:de.value}),renderEmpty:m,getTargetContainer:R,getPopupContainer:k,pageHeader:$,input:N,pagination:H,form:W,select:j,componentSize:X,componentDisabled:K,transformCellText:ve(()=>e.transformCellText),wave:Q},he=ve(()=>{const ce=p.value||{},{algorithm:de,token:Oe}=ce,ze=Bxe(ce,["algorithm","token"]),De=de&&(!Array.isArray(de)||de.length>0)?B7(de):void 0;return ue(ue({},ze),{theme:De,token:ue(ue({},Q2),Oe)})}),ye=ve(()=>{var ce,de;let Oe={};return b.value&&(Oe=((ce=b.value.Form)===null||ce===void 0?void 0:ce.defaultValidateMessages)||((de=C0.Form)===null||de===void 0?void 0:de.defaultValidateMessages)||{}),e.form&&e.form.validateMessages&&(Oe=ue(ue({},Oe),e.form.validateMessages)),Oe});uce(oe),sce({validateMessages:ye}),Zhe(X),cce(K);const be=ce=>{var de,Oe;let ze=s.value?h((de=r.default)===null||de===void 0?void 0:de.call(r)):(Oe=r.default)===null||Oe===void 0?void 0:Oe.call(r);if(e.theme){const De=(function(){return ze})();ze=ie(jhe,{value:he.value},{default:()=>[De]})}return ie(W1e,{locale:b.value||ce,ANT_MARK__:uA},{default:()=>[ze]})};return Gn(()=>{x.value&&(k0.config({rtl:x.value==="rtl"}),Xg.config({rtl:x.value==="rtl"}))}),()=>ie(I7,{children:(ce,de,Oe)=>be(Oe)},null)}});gc.config=Nxe;gc.install=function(e){e.component(gc.name,gc)};const Nx=(e,t,r)=>{const n=Aue(r);return{[`${e.componentCls}-${t}`]:{color:e[`color${r}`],background:e[`color${n}Bg`],borderColor:e[`color${n}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}},jxe=e=>J7(e,(t,r)=>{let{textColor:n,lightBorderColor:i,lightColor:o,darkColor:s}=r;return{[`${e.componentCls}-${t}`]:{color:n,background:o,borderColor:i,"&-inverse":{color:e.colorTextLightSolid,background:s,borderColor:s},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}}),Hxe=e=>{const{paddingXXS:t,lineWidth:r,tagPaddingHorizontal:n,componentCls:i}=e,o=n-r,s=t-r;return{[i]:ue(ue({},_a(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:o,fontSize:e.tagFontSize,lineHeight:`${e.tagLineHeight}px`,whiteSpace:"nowrap",background:e.tagDefaultBg,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",[`&${i}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.tagDefaultColor},[`${i}-close-icon`]:{marginInlineStart:s,color:e.colorTextDescription,fontSize:e.tagIconSize,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${i}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${i}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:o}}),[`${i}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},MU=zo("Tag",e=>{const{fontSize:t,lineHeight:r,lineWidth:n,fontSizeIcon:i}=e,o=Math.round(t*r),s=e.fontSizeSM,a=o-n*2,h=e.colorFillAlter,p=e.colorText,m=Un(e,{tagFontSize:s,tagLineHeight:a,tagDefaultBg:h,tagDefaultColor:p,tagIconSize:i-2*n,tagPaddingHorizontal:8,tagBorderlessBg:e.colorFillTertiary});return[Hxe(m),jxe(m),Nx(m,"success","Success"),Nx(m,"processing","Info"),Nx(m,"error","Error"),Nx(m,"warning","Warning")]}),Gxe=()=>({prefixCls:String,checked:{type:Boolean,default:void 0},onChange:{type:Function},onClick:{type:Function},"onUpdate:checked":Function}),dA=St({compatConfig:{MODE:3},name:"ACheckableTag",inheritAttrs:!1,props:Gxe(),setup(e,t){let{slots:r,emit:n,attrs:i}=t;const{prefixCls:o}=qn("tag",e),[s,a]=MU(o),h=m=>{const{checked:v}=e;n("update:checked",!v),n("change",!v),n("click",m)},p=ve(()=>ir(o.value,a.value,{[`${o.value}-checkable`]:!0,[`${o.value}-checkable-checked`]:e.checked}));return()=>{var m;return s(ie("span",wt(wt({},i),{},{class:[p.value,i.class],onClick:h}),[(m=r.default)===null||m===void 0?void 0:m.call(r)]))}}}),Uxe=()=>({prefixCls:String,color:{type:String},closable:{type:Boolean,default:!1},closeIcon:at.any,visible:{type:Boolean,default:void 0},onClose:{type:Function},onClick:LE(),"onUpdate:visible":Function,icon:at.any,bordered:{type:Boolean,default:!0}}),jf=St({compatConfig:{MODE:3},name:"ATag",inheritAttrs:!1,props:Uxe(),slots:Object,setup(e,t){let{slots:r,emit:n,attrs:i}=t;const{prefixCls:o,direction:s}=qn("tag",e),[a,h]=MU(o),p=vt(!0);Gn(()=>{e.visible!==void 0&&(p.value=e.visible)});const m=C=>{C.stopPropagation(),n("update:visible",!1),n("close",C),!C.defaultPrevented&&e.visible===void 0&&(p.value=!1)},v=ve(()=>LG(e.color)||b0e(e.color)),b=ve(()=>ir(o.value,h.value,{[`${o.value}-${e.color}`]:v.value,[`${o.value}-has-color`]:e.color&&!v.value,[`${o.value}-hidden`]:!p.value,[`${o.value}-rtl`]:s.value==="rtl",[`${o.value}-borderless`]:!e.bordered})),x=C=>{n("click",C)};return()=>{var C,I,A;const{icon:R=(C=r.icon)===null||C===void 0?void 0:C.call(r),color:k,closeIcon:$=(I=r.closeIcon)===null||I===void 0?void 0:I.call(r),closable:N=!1}=e,H=()=>N?$?ie("span",{class:`${o.value}-close-icon`,onClick:m},[$]):ie(td,{class:`${o.value}-close-icon`,onClick:m},null):null,W={backgroundColor:k&&!v.value?k:void 0},j=R||null,X=(A=r.default)===null||A===void 0?void 0:A.call(r),K=j?ie(pr,null,[j,ie("span",null,[X])]):X,Q=e.onClick!==void 0,oe=ie("span",wt(wt({},i),{},{onClick:x,class:[b.value,i.class],style:[W,i.style]}),[K,H()]);return a(Q?ie(mR,null,{default:()=>[oe]}):oe)}}});jf.CheckableTag=dA;jf.install=function(e){return e.component(jf.name,jf),e.component(dA.name,dA),e};function Wxe(e,t,r){var n=r||{},i=n.noTrailing,o=i===void 0?!1:i,s=n.noLeading,a=s===void 0?!1:s,h=n.debounceMode,p=h===void 0?void 0:h,m,v=!1,b=0;function x(){m&&clearTimeout(m)}function C(A){var R=A||{},k=R.upcomingOnly,$=k===void 0?!1:k;x(),v=!$}function I(){for(var A=arguments.length,R=new Array(A),k=0;k<A;k++)R[k]=arguments[k];var $=this,N=Date.now()-b;if(v)return;function H(){b=Date.now(),t.apply($,R)}function W(){m=void 0}!a&&p&&!m&&H(),x(),p===void 0&&N>e?a?(b=Date.now(),o||(m=setTimeout(p?W:H,e))):H():o!==!0&&(m=setTimeout(p?W:H,p===void 0?e-N:e))}return I.cancel=C,I}function qxe(e,t,r){var n={},i=n.atBegin,o=i===void 0?!1:i;return Wxe(e,t,{debounceMode:o!==!1})}const Zxe=new Kr("antSpinMove",{to:{opacity:1}}),Xxe=new Kr("antRotate",{to:{transform:"rotate(405deg)"}}),Kxe=e=>({[`${e.componentCls}`]:ue(ue({},_a(e)),{position:"absolute",display:"none",color:e.colorPrimary,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`,"&-spinning":{position:"static",display:"inline-block",opacity:1},"&-nested-loading":{position:"relative",[`> div > ${e.componentCls}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:e.contentHeight,[`${e.componentCls}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:-e.spinDotSize/2},[`${e.componentCls}-text`]:{position:"absolute",top:"50%",width:"100%",paddingTop:(e.spinDotSize-e.fontSize)/2+2,textShadow:`0 1px 2px ${e.colorBgContainer}`},[`&${e.componentCls}-show-text ${e.componentCls}-dot`]:{marginTop:-(e.spinDotSize/2)-10},"&-sm":{[`${e.componentCls}-dot`]:{margin:-e.spinDotSizeSM/2},[`${e.componentCls}-text`]:{paddingTop:(e.spinDotSizeSM-e.fontSize)/2+2},[`&${e.componentCls}-show-text ${e.componentCls}-dot`]:{marginTop:-(e.spinDotSizeSM/2)-10}},"&-lg":{[`${e.componentCls}-dot`]:{margin:-(e.spinDotSizeLG/2)},[`${e.componentCls}-text`]:{paddingTop:(e.spinDotSizeLG-e.fontSize)/2+2},[`&${e.componentCls}-show-text ${e.componentCls}-dot`]:{marginTop:-(e.spinDotSizeLG/2)-10}}},[`${e.componentCls}-container`]:{position:"relative",transition:`opacity ${e.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:e.colorBgContainer,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${e.componentCls}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:e.spinDotDefault},[`${e.componentCls}-dot`]:{position:"relative",display:"inline-block",fontSize:e.spinDotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:(e.spinDotSize-e.marginXXS/2)/2,height:(e.spinDotSize-e.marginXXS/2)/2,backgroundColor:e.colorPrimary,borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:Zxe,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:Xxe,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&-sm ${e.componentCls}-dot`]:{fontSize:e.spinDotSizeSM,i:{width:(e.spinDotSizeSM-e.marginXXS/2)/2,height:(e.spinDotSizeSM-e.marginXXS/2)/2}},[`&-lg ${e.componentCls}-dot`]:{fontSize:e.spinDotSizeLG,i:{width:(e.spinDotSizeLG-e.marginXXS)/2,height:(e.spinDotSizeLG-e.marginXXS)/2}},[`&${e.componentCls}-show-text ${e.componentCls}-text`]:{display:"block"}})}),Yxe=zo("Spin",e=>{const t=Un(e,{spinDotDefault:e.colorTextDescription,spinDotSize:e.controlHeightLG/2,spinDotSizeSM:e.controlHeightLG*.35,spinDotSizeLG:e.controlHeight});return[Kxe(t)]},{contentHeight:400});var Jxe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Qxe=()=>({prefixCls:String,spinning:{type:Boolean,default:void 0},size:String,wrapperClassName:String,tip:at.any,delay:Number,indicator:at.any});let Xw=null;function ewe(e,t){return!!e&&!!t&&!isNaN(Number(t))}function twe(e){const t=e.indicator;Xw=typeof t=="function"?t:()=>ie(t,null,null)}const Hf=St({compatConfig:{MODE:3},name:"ASpin",inheritAttrs:!1,props:Na(Qxe(),{size:"default",spinning:!0,wrapperClassName:""}),setup(e,t){let{attrs:r,slots:n}=t;const{prefixCls:i,size:o,direction:s}=qn("spin",e),[a,h]=Yxe(i),p=vt(e.spinning&&!ewe(e.spinning,e.delay));let m;return Zt([()=>e.spinning,()=>e.delay],()=>{m?.cancel(),m=qxe(e.delay,()=>{p.value=e.spinning}),m?.()},{immediate:!0,flush:"post"}),hi(()=>{m?.cancel()}),()=>{var v,b;const{class:x}=r,C=Jxe(r,["class"]),{tip:I=(v=n.tip)===null||v===void 0?void 0:v.call(n)}=e,A=(b=n.default)===null||b===void 0?void 0:b.call(n),R={[h.value]:!0,[i.value]:!0,[`${i.value}-sm`]:o.value==="small",[`${i.value}-lg`]:o.value==="large",[`${i.value}-spinning`]:p.value,[`${i.value}-show-text`]:!!I,[`${i.value}-rtl`]:s.value==="rtl",[x]:!!x};function k(N){const H=`${N}-dot`;let W=pc(n,e,"indicator");return W===null?null:(Array.isArray(W)&&(W=W.length===1?W[0]:W),ea(W)?ls(W,{class:H}):Xw&&ea(Xw())?ls(Xw(),{class:H}):ie("span",{class:`${H} ${N}-dot-spin`},[ie("i",{class:`${N}-dot-item`},null),ie("i",{class:`${N}-dot-item`},null),ie("i",{class:`${N}-dot-item`},null),ie("i",{class:`${N}-dot-item`},null)]))}const $=ie("div",wt(wt({},C),{},{class:R,"aria-live":"polite","aria-busy":p.value}),[k(i.value),I?ie("div",{class:`${i.value}-text`},[I]):null]);if(A&&lp(A).length){const N={[`${i.value}-container`]:!0,[`${i.value}-blur`]:p.value};return a(ie("div",{class:[`${i.value}-nested-loading`,e.wrapperClassName,h.value]},[p.value&&ie("div",{key:"loading"},[$]),ie("div",{class:N,key:"container"},[A])]))}return a($)}}});Hf.setDefaultIndicator=twe;Hf.install=function(e){return e.component(Hf.name,Hf),e};const rwe=e=>{const{componentCls:t}=e,r=`${t}-inner`;return{[t]:{[`&${t}-small`]:{minWidth:e.switchMinWidthSM,height:e.switchHeightSM,lineHeight:`${e.switchHeightSM}px`,[`${t}-inner`]:{paddingInlineStart:e.switchInnerMarginMaxSM,paddingInlineEnd:e.switchInnerMarginMinSM,[`${r}-checked`]:{marginInlineStart:`calc(-100% + ${e.switchPinSizeSM+e.switchPadding*2}px - ${e.switchInnerMarginMaxSM*2}px)`,marginInlineEnd:`calc(100% - ${e.switchPinSizeSM+e.switchPadding*2}px + ${e.switchInnerMarginMaxSM*2}px)`},[`${r}-unchecked`]:{marginTop:-e.switchHeightSM,marginInlineStart:0,marginInlineEnd:0}},[`${t}-handle`]:{width:e.switchPinSizeSM,height:e.switchPinSizeSM},[`${t}-loading-icon`]:{top:(e.switchPinSizeSM-e.switchLoadingIconSize)/2,fontSize:e.switchLoadingIconSize},[`&${t}-checked`]:{[`${t}-inner`]:{paddingInlineStart:e.switchInnerMarginMinSM,paddingInlineEnd:e.switchInnerMarginMaxSM,[`${r}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${r}-unchecked`]:{marginInlineStart:`calc(100% - ${e.switchPinSizeSM+e.switchPadding*2}px + ${e.switchInnerMarginMaxSM*2}px)`,marginInlineEnd:`calc(-100% + ${e.switchPinSizeSM+e.switchPadding*2}px - ${e.switchInnerMarginMaxSM*2}px)`}},[`${t}-handle`]:{insetInlineStart:`calc(100% - ${e.switchPinSizeSM+e.switchPadding}px)`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${r}`]:{[`${r}-unchecked`]:{marginInlineStart:e.marginXXS/2,marginInlineEnd:-e.marginXXS/2}},[`&${t}-checked ${r}`]:{[`${r}-checked`]:{marginInlineStart:-e.marginXXS/2,marginInlineEnd:e.marginXXS/2}}}}}}},nwe=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-loading-icon${e.iconCls}`]:{position:"relative",top:(e.switchPinSize-e.fontSize)/2,color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${t}-checked ${t}-loading-icon`]:{color:e.switchColor}}}},iwe=e=>{const{componentCls:t}=e,r=`${t}-handle`;return{[t]:{[r]:{position:"absolute",top:e.switchPadding,insetInlineStart:e.switchPadding,width:e.switchPinSize,height:e.switchPinSize,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:e.colorWhite,borderRadius:e.switchPinSize/2,boxShadow:e.switchHandleShadow,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${t}-checked ${r}`]:{insetInlineStart:`calc(100% - ${e.switchPinSize+e.switchPadding}px)`},[`&:not(${t}-disabled):active`]:{[`${r}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${t}-checked ${r}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},owe=e=>{const{componentCls:t}=e,r=`${t}-inner`;return{[t]:{[r]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:e.switchInnerMarginMax,paddingInlineEnd:e.switchInnerMarginMin,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${r}-checked, ${r}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none"},[`${r}-checked`]:{marginInlineStart:`calc(-100% + ${e.switchPinSize+e.switchPadding*2}px - ${e.switchInnerMarginMax*2}px)`,marginInlineEnd:`calc(100% - ${e.switchPinSize+e.switchPadding*2}px + ${e.switchInnerMarginMax*2}px)`},[`${r}-unchecked`]:{marginTop:-e.switchHeight,marginInlineStart:0,marginInlineEnd:0}},[`&${t}-checked ${r}`]:{paddingInlineStart:e.switchInnerMarginMin,paddingInlineEnd:e.switchInnerMarginMax,[`${r}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${r}-unchecked`]:{marginInlineStart:`calc(100% - ${e.switchPinSize+e.switchPadding*2}px + ${e.switchInnerMarginMax*2}px)`,marginInlineEnd:`calc(-100% + ${e.switchPinSize+e.switchPadding*2}px - ${e.switchInnerMarginMax*2}px)`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${r}`]:{[`${r}-unchecked`]:{marginInlineStart:e.switchPadding*2,marginInlineEnd:-e.switchPadding*2}},[`&${t}-checked ${r}`]:{[`${r}-checked`]:{marginInlineStart:-e.switchPadding*2,marginInlineEnd:e.switchPadding*2}}}}}},awe=e=>{const{componentCls:t}=e;return{[t]:ue(ue(ue(ue({},_a(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:e.switchMinWidth,height:e.switchHeight,lineHeight:`${e.switchHeight}px`,verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${t}-disabled)`]:{background:e.colorTextTertiary}}),eT(e)),{[`&${t}-checked`]:{background:e.switchColor,[`&:hover:not(${t}-disabled)`]:{background:e.colorPrimaryHover}},[`&${t}-loading, &${t}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${t}-rtl`]:{direction:"rtl"}})}},swe=zo("Switch",e=>{const t=e.fontSize*e.lineHeight,r=e.controlHeight/2,n=2,i=t-n*2,o=r-n*2,s=Un(e,{switchMinWidth:i*2+n*4,switchHeight:t,switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchInnerMarginMin:i/2,switchInnerMarginMax:i+n+n*2,switchPadding:n,switchPinSize:i,switchBg:e.colorBgContainer,switchMinWidthSM:o*2+n*2,switchHeightSM:r,switchInnerMarginMinSM:o/2,switchInnerMarginMaxSM:o+n+n*2,switchPinSizeSM:o,switchHandleShadow:`0 2px 4px 0 ${new Di("#00230b").setAlpha(.2).toRgbString()}`,switchLoadingIconSize:e.fontSizeIcon*.75,switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[awe(s),owe(s),iwe(s),nwe(s),rwe(s)]}),lwe=T0("small","default"),uwe=()=>({id:String,prefixCls:String,size:at.oneOf(lwe),disabled:{type:Boolean,default:void 0},checkedChildren:at.any,unCheckedChildren:at.any,tabindex:at.oneOfType([at.string,at.number]),autofocus:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},checked:at.oneOfType([at.string,at.number,at.looseBool]),checkedValue:at.oneOfType([at.string,at.number,at.looseBool]).def(!0),unCheckedValue:at.oneOfType([at.string,at.number,at.looseBool]).def(!1),onChange:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onMouseup:{type:Function},"onUpdate:checked":{type:Function},onBlur:Function,onFocus:Function}),cwe=St({compatConfig:{MODE:3},name:"ASwitch",__ANT_SWITCH:!0,inheritAttrs:!1,props:uwe(),slots:Object,setup(e,t){let{attrs:r,slots:n,expose:i,emit:o}=t;const s=gG(),a=yb(),h=ve(()=>{var K;return(K=e.disabled)!==null&&K!==void 0?K:a.value});VD(()=>{});const p=Vt(e.checked!==void 0?e.checked:r.defaultChecked),m=ve(()=>p.value===e.checkedValue);Zt(()=>e.checked,()=>{p.value=e.checked});const{prefixCls:v,direction:b,size:x}=qn("switch",e),[C,I]=swe(v),A=Vt(),R=()=>{var K;(K=A.value)===null||K===void 0||K.focus()};i({focus:R,blur:()=>{var K;(K=A.value)===null||K===void 0||K.blur()}}),Nr(()=>{_i(()=>{e.autofocus&&!h.value&&A.value.focus()})});const $=(K,Q)=>{h.value||(o("update:checked",K),o("change",K,Q),s.onFieldChange())},N=K=>{o("blur",K)},H=K=>{R();const Q=m.value?e.unCheckedValue:e.checkedValue;$(Q,K),o("click",Q,K)},W=K=>{K.keyCode===yr.LEFT?$(e.unCheckedValue,K):K.keyCode===yr.RIGHT&&$(e.checkedValue,K),o("keydown",K)},j=K=>{var Q;(Q=A.value)===null||Q===void 0||Q.blur(),o("mouseup",K)},X=ve(()=>({[`${v.value}-small`]:x.value==="small",[`${v.value}-loading`]:e.loading,[`${v.value}-checked`]:m.value,[`${v.value}-disabled`]:h.value,[v.value]:!0,[`${v.value}-rtl`]:b.value==="rtl",[I.value]:!0}));return()=>{var K;return C(ie(mR,null,{default:()=>[ie("button",wt(wt(wt({},Qh(e,["prefixCls","checkedChildren","unCheckedChildren","checked","autofocus","checkedValue","unCheckedValue","id","onChange","onUpdate:checked"])),r),{},{id:(K=e.id)!==null&&K!==void 0?K:s.id.value,onKeydown:W,onClick:H,onBlur:N,onMouseup:j,type:"button",role:"switch","aria-checked":p.value,disabled:h.value||e.loading,class:[r.class,X.value],ref:A}),[ie("div",{class:`${v.value}-handle`},[e.loading?ie(wc,{class:`${v.value}-loading-icon`},null):null]),ie("span",{class:`${v.value}-inner`},[ie("span",{class:`${v.value}-inner-checked`},[pc(n,e,"checkedChildren")]),ie("span",{class:`${v.value}-inner-unchecked`},[pc(n,e,"unCheckedChildren")])])])]}))}}}),hwe=av(cwe);function LF(e,t){return{[`${e}, ${e}:hover, ${e}:focus`]:{color:t.colorTextDisabled,cursor:"not-allowed"}}}function RF(e){return{backgroundColor:e.bgColorSelected,boxShadow:e.boxShadow}}const dwe=ue({overflow:"hidden"},Wh),fwe=e=>{const{componentCls:t}=e;return{[t]:ue(ue(ue(ue(ue({},_a(e)),{display:"inline-block",padding:e.segmentedContainerPadding,color:e.labelColor,backgroundColor:e.bgColor,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,[`${t}-group`]:{position:"relative",display:"flex",alignItems:"stretch",justifyItems:"flex-start",width:"100%"},[`&${t}-rtl`]:{direction:"rtl"},[`&${t}-block`]:{display:"flex"},[`&${t}-block ${t}-item`]:{flex:1,minWidth:0},[`${t}-item`]:{position:"relative",textAlign:"center",cursor:"pointer",transition:`color ${e.motionDurationMid} ${e.motionEaseInOut}`,borderRadius:e.borderRadiusSM,"&-selected":ue(ue({},RF(e)),{color:e.labelColorHover}),"&::after":{content:'""',position:"absolute",width:"100%",height:"100%",top:0,insetInlineStart:0,borderRadius:"inherit",transition:`background-color ${e.motionDurationMid}`,pointerEvents:"none"},[`&:hover:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:e.labelColorHover,"&::after":{backgroundColor:e.bgColorHover}},"&-label":ue({minHeight:e.controlHeight-e.segmentedContainerPadding*2,lineHeight:`${e.controlHeight-e.segmentedContainerPadding*2}px`,padding:`0 ${e.segmentedPaddingHorizontal}px`},dwe),"&-icon + *":{marginInlineStart:e.marginSM/2},"&-input":{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:0,opacity:0,pointerEvents:"none"}},[`${t}-thumb`]:ue(ue({},RF(e)),{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:"100%",padding:`${e.paddingXXS}px 0`,borderRadius:e.borderRadiusSM,[`& ~ ${t}-item:not(${t}-item-selected):not(${t}-item-disabled)::after`]:{backgroundColor:"transparent"}}),[`&${t}-lg`]:{borderRadius:e.borderRadiusLG,[`${t}-item-label`]:{minHeight:e.controlHeightLG-e.segmentedContainerPadding*2,lineHeight:`${e.controlHeightLG-e.segmentedContainerPadding*2}px`,padding:`0 ${e.segmentedPaddingHorizontal}px`,fontSize:e.fontSizeLG},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadius}},[`&${t}-sm`]:{borderRadius:e.borderRadiusSM,[`${t}-item-label`]:{minHeight:e.controlHeightSM-e.segmentedContainerPadding*2,lineHeight:`${e.controlHeightSM-e.segmentedContainerPadding*2}px`,padding:`0 ${e.segmentedPaddingHorizontalSM}px`},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadiusXS}}}),LF(`&-disabled ${t}-item`,e)),LF(`${t}-item-disabled`,e)),{[`${t}-thumb-motion-appear-active`]:{transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOut}, width ${e.motionDurationSlow} ${e.motionEaseInOut}`,willChange:"transform, width"}})}},pwe=zo("Segmented",e=>{const{lineWidthBold:t,lineWidth:r,colorTextLabel:n,colorText:i,colorFillSecondary:o,colorBgLayout:s,colorBgElevated:a}=e,h=Un(e,{segmentedPaddingHorizontal:e.controlPaddingHorizontal-r,segmentedPaddingHorizontalSM:e.controlPaddingHorizontalSM-r,segmentedContainerPadding:t,labelColor:n,labelColorHover:i,bgColor:s,bgColorHover:o,bgColorSelected:a});return[fwe(h)]}),OF=e=>e?{left:e.offsetLeft,right:e.parentElement.clientWidth-e.clientWidth-e.offsetLeft,width:e.clientWidth}:null,Pm=e=>e!==void 0?`${e}px`:void 0,mwe=St({props:{value:pl(),getValueIndex:pl(),prefixCls:pl(),motionName:pl(),onMotionStart:pl(),onMotionEnd:pl(),direction:pl(),containerRef:pl()},emits:["motionStart","motionEnd"],setup(e,t){let{emit:r}=t;const n=Vt(),i=C=>{var I;const A=e.getValueIndex(C),R=(I=e.containerRef.value)===null||I===void 0?void 0:I.querySelectorAll(`.${e.prefixCls}-item`)[A];return R?.offsetParent&&R},o=Vt(null),s=Vt(null);Zt(()=>e.value,(C,I)=>{const A=i(I),R=i(C),k=OF(A),$=OF(R);o.value=k,s.value=$,r(A&&R?"motionStart":"motionEnd")},{flush:"post"});const a=ve(()=>{var C,I;return e.direction==="rtl"?Pm(-((C=o.value)===null||C===void 0?void 0:C.right)):Pm((I=o.value)===null||I===void 0?void 0:I.left)}),h=ve(()=>{var C,I;return e.direction==="rtl"?Pm(-((C=s.value)===null||C===void 0?void 0:C.right)):Pm((I=s.value)===null||I===void 0?void 0:I.left)});let p;const m=C=>{clearTimeout(p),_i(()=>{C&&(C.style.transform="translateX(var(--thumb-start-left))",C.style.width="var(--thumb-start-width)")})},v=C=>{p=setTimeout(()=>{C&&(rA(C,`${e.motionName}-appear-active`),C.style.transform="translateX(var(--thumb-active-left))",C.style.width="var(--thumb-active-width)")})},b=C=>{o.value=null,s.value=null,C&&(C.style.transform=null,C.style.width=null,nA(C,`${e.motionName}-appear-active`)),r("motionEnd")},x=ve(()=>{var C,I;return{"--thumb-start-left":a.value,"--thumb-start-width":Pm((C=o.value)===null||C===void 0?void 0:C.width),"--thumb-active-left":h.value,"--thumb-active-width":Pm((I=s.value)===null||I===void 0?void 0:I.width)}});return hi(()=>{clearTimeout(p)}),()=>{const C={ref:n,style:x.value,class:[`${e.prefixCls}-thumb`]};return ie(Fa,{appear:!0,onBeforeEnter:m,onEnter:v,onAfterEnter:b},{default:()=>[!o.value||!s.value?null:ie("div",C,null)]})}}});function gwe(e){return e.map(t=>typeof t=="object"&&t!==null?t:{label:t?.toString(),title:t?.toString(),value:t})}const vwe=()=>({prefixCls:String,options:MS(),block:Xi(),disabled:Xi(),size:ma(),value:ue(ue({},Uh([String,Number])),{required:!0}),motionName:String,onChange:io(),"onUpdate:value":io()}),IU=(e,t)=>{let{slots:r,emit:n}=t;const{value:i,disabled:o,payload:s,title:a,prefixCls:h,label:p=r.label,checked:m,className:v}=e,b=x=>{o||n("change",x,i)};return ie("label",{class:ir({[`${h}-item-disabled`]:o},v)},[ie("input",{class:`${h}-item-input`,type:"radio",disabled:o,checked:m,onChange:b},null),ie("div",{class:`${h}-item-label`,title:typeof a=="string"?a:""},[typeof p=="function"?p({value:i,disabled:o,payload:s,title:a}):p??i])])};IU.inheritAttrs=!1;const ywe=St({name:"ASegmented",inheritAttrs:!1,props:Na(vwe(),{options:[],motionName:"thumb-motion"}),slots:Object,setup(e,t){let{emit:r,slots:n,attrs:i}=t;const{prefixCls:o,direction:s,size:a}=qn("segmented",e),[h,p]=pwe(o),m=vt(),v=vt(!1),b=ve(()=>gwe(e.options)),x=(C,I)=>{e.disabled||(r("update:value",I),r("change",I))};return()=>{const C=o.value;return h(ie("div",wt(wt({},i),{},{class:ir(C,{[p.value]:!0,[`${C}-block`]:e.block,[`${C}-disabled`]:e.disabled,[`${C}-lg`]:a.value=="large",[`${C}-sm`]:a.value=="small",[`${C}-rtl`]:s.value==="rtl"},i.class),ref:m}),[ie("div",{class:`${C}-group`},[ie(mwe,{containerRef:m,prefixCls:C,value:e.value,motionName:`${C}-${e.motionName}`,direction:s.value,getValueIndex:I=>b.value.findIndex(A=>A.value===I),onMotionStart:()=>{v.value=!0},onMotionEnd:()=>{v.value=!1}},null),b.value.map(I=>ie(IU,wt(wt({key:I.value,prefixCls:C,checked:I.value===e.value,onChange:x},I),{},{className:ir(I.className,`${C}-item`,{[`${C}-item-selected`]:I.value===e.value&&!v.value}),disabled:!!e.disabled||!!I.disabled}),n))])]))}}}),CR=av(ywe);var _we={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M816 768h-24V428c0-141.1-104.3-257.7-240-277.1V112c0-22.1-17.9-40-40-40s-40 17.9-40 40v38.9c-135.7 19.4-240 136-240 277.1v340h-24c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h216c0 61.8 50.2 112 112 112s112-50.2 112-112h216c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM512 888c-26.5 0-48-21.5-48-48h96c0 26.5-21.5 48-48 48zM304 768V428c0-55.6 21.6-107.8 60.9-147.1S456.4 220 512 220c55.6 0 107.8 21.6 147.1 60.9S720 372.4 720 428v340H304z"}}]},name:"bell",theme:"outlined"};function kF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){bwe(e,i,r[i])})}return e}function bwe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var PR=function(t,r){var n=kF({},t,r.attrs);return ie(zi,kF({},n,{icon:_we}),null)};PR.displayName="BellOutlined";PR.inheritAttrs=!1;const uh=(e,t)=>new Di(e).setAlpha(t).toRgbString(),Mm=(e,t)=>new Di(e).lighten(t).toHexString(),xwe=e=>{const t=xc(e,{theme:"dark"});return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[6],6:t[5],7:t[4],8:t[6],9:t[5],10:t[4]}},wwe=(e,t)=>{const r=e||"#000",n=t||"#fff";return{colorBgBase:r,colorTextBase:n,colorText:uh(n,.85),colorTextSecondary:uh(n,.65),colorTextTertiary:uh(n,.45),colorTextQuaternary:uh(n,.25),colorFill:uh(n,.18),colorFillSecondary:uh(n,.12),colorFillTertiary:uh(n,.08),colorFillQuaternary:uh(n,.04),colorBgElevated:Mm(r,12),colorBgContainer:Mm(r,8),colorBgLayout:Mm(r,0),colorBgSpotlight:Mm(r,26),colorBorder:Mm(r,26),colorBorderSecondary:Mm(r,19)}},Swe=(e,t)=>{const r=Object.keys(AL).map(i=>{const o=xc(e[i],{theme:"dark"});return new Array(10).fill(1).reduce((s,a,h)=>(s[`${i}-${h+1}`]=o[h],s),{})}).reduce((i,o)=>(i=ue(ue({},i),o),i),{}),n=t??DL(e);return ue(ue(ue({},n),r),Y7(e,{generateColorPalettes:xwe,generateNeutralColorPalettes:wwe}))},fA={defaultSeed:LL.token,defaultAlgorithm:DL,darkAlgorithm:Swe},Twe={name:"BusTable",components:{"a-config-provider":gc,"a-segmented":CR,"a-spin":Hf,"a-switch":hwe,"a-tag":jf},data(){return{config:null,currentDayType:"workday",dayOptions:[{label:`
Workdays`,value:"workday"},{label:`
Weekends & Holidays`,value:"holiday"}],scheduleGroups:[],loading:!1,now:new Date,timer:null,showUpcomingOnly:!0,defaultminuteOnRoad:20}},computed:{currentTimeStr(){const e=this.now.getHours().toString().padStart(2,"0"),t=this.now.getMinutes().toString().padStart(2,"0");return`${e}:${t}`},currentMinutes(){return this.now.getHours()*60+this.now.getMinutes()}},async mounted(){this.startClock(),await this.fetchConfig()},beforeUnmount(){this.timer&&clearInterval(this.timer)},methods:{startClock(){this.timer=setInterval(()=>{this.now=new Date,this.updateStatuses()},3e4)},async fetchConfig(){this.loading=!0;try{const e=await _r.get("/bus_config.json");this.config=e.data,await this.detectDayType(),await this.loadScheduleData()}catch(e){console.error("Failed to load bus config",e)}finally{this.loading=!1}},async detectDayType(){try{const e=new Date().getFullYear(),t=await _r.get(`/${e}.json`),r={};t.data&&t.data.days&&t.data.days.forEach(a=>{r[a.date]=a.isOffDay});const n=new Date,i=`${n.getFullYear()}-${(n.getMonth()+1).toString().padStart(2,"0")}-${n.getDate().toString().padStart(2,"0")}`,o=n.getDay()===0||n.getDay()===6;let s=r[i]!==void 0?r[i]:o;if(!s&&t.data.summer_winter_holidays)for(const a of t.data.summer_winter_holidays){const h=new Date(a.start),p=new Date(a.end);if(n>=h&&n<=p){s=!0;break}}this.currentDayType=s?"holiday":"workday"}catch(e){console.log("Holiday detection failed or config missing, defaulting to workday",e)}},async loadScheduleData(){if(!this.config)return;this.loading=!0;const e=this.config[this.currentDayType]||[],t=[];for(const r of e){const n=[];for(const i of r.routes){let o=[];if(i.sources){const s=i.sources.map(a=>_r.get(a.url).then(h=>({data:h.data,type:a.type})));try{(await Promise.all(s)).forEach(h=>{const p=h.data.times||[],m=h.data.minuteOnRoad;p.forEach(v=>{o.push({text:v,val:this.timeToMinutes(v),type:h.type||"bus",status:"future",duration:m})})})}catch(a){console.error(`Error loading sources for ${i.name}`,a)}}else if(i.timesUrl)try{const s=await _r.get(i.timesUrl),a=s.data.times||[],h=s.data.minuteOnRoad;a.forEach(p=>{o.push({text:p,val:this.timeToMinutes(p),type:"bus",status:"future",duration:h})})}catch(s){console.error(s)}o.sort((s,a)=>s.val-a.val),n.push({...i,times:o})}t.push({...r,routes:n})}this.scheduleGroups=t,this.updateStatuses(),this.loading=!1},timeToMinutes(e){if(!e)return 0;const[t,r]=e.split(":").map(Number);return t*60+r},updateStatuses(){const e=this.currentMinutes;this.scheduleGroups.forEach(t=>{t.routes.forEach(r=>{let n=!1;r.times.forEach(i=>{const o=i.duration||this.defaultminuteOnRoad;i.val<e-o?i.status="past":i.val<=e&&i.val>=e-o?i.status="en-route":n?i.status="future":(i.status="next",n=!0)})})})},getFilteredTimes(e){return this.showUpcomingOnly?e.filter(t=>t.status!=="past"):e}}},Cwe={id:"bus-table",class:"bus-container"},Pwe={style:{padding:"4px 0"}},Mwe={style:{"font-weight":"600"}},Iwe={style:{"font-size":"0.8em",opacity:"0.8"}},Ewe={class:"filter-bar"},Awe={class:"time-display flex-right"},Dwe={key:0,class:"schedule-list"},Lwe={class:"route-title-main"},Rwe={key:0,class:"group-title-text"},Owe={key:1,class:"route-name-text"},kwe={key:0,class:"route-desc"},$we={class:"route-desc-sub"},zwe={class:"route-times"},Bwe={key:1,class:"no-times"},Fwe={key:1,class:"empty-state"};function Nwe(e,t,r,n,i,o){const s=Cn("a-segmented"),a=Cn("a-switch"),h=Cn("a-spin"),p=Cn("a-config-provider");return Pt(),Bt("div",Cwe,[ie(p,{theme:{token:{colorPrimary:"#ED6C00"}}},{default:Lr(()=>[ie(s,{class:"day-segmented",value:i.currentDayType,"onUpdate:value":t[0]||(t[0]=m=>i.currentDayType=m),options:i.dayOptions,onChange:o.loadScheduleData,block:""},{label:Lr(({label:m,value:v})=>[Dt("div",Pwe,[Dt("div",Mwe,Cr(m.split(`
`)[0]),1),Dt("div",Iwe,Cr(m.split(`
`)[1]),1)])]),_:1},8,["value","options","onChange"]),t[3]||(t[3]=Dt("div",{class:"legend-bar"},[Dt("div",{class:"legend-item"},[Dt("span",{class:"dot bus"}),Ai("  Bus ")]),Dt("div",{class:"legend-item"},[Dt("span",{class:"dot shuttle"}),Ai("  EV Shuttle ")]),Dt("div",{class:"legend-item"},[Dt("span",{class:"tag next"},"07:20"),Ai("  Next ")]),Dt("div",{class:"legend-item"},[Dt("span",{class:"tag en-route"},"07:10"),Ai("  En-route ")])],-1)),Dt("div",Ewe,[ie(a,{size:"small",checked:i.showUpcomingOnly,"onUpdate:checked":t[1]||(t[1]=m=>i.showUpcomingOnly=m)},null,8,["checked"]),Dt("span",{class:"filter-label",onClick:t[2]||(t[2]=m=>i.showUpcomingOnly=!i.showUpcomingOnly)}," / Only show upcoming/running "),Dt("span",Awe,Cr(o.currentTimeStr),1)]),ie(h,{spinning:i.loading},{default:Lr(()=>[i.scheduleGroups.length>0?(Pt(),Bt("div",Dwe,[(Pt(!0),Bt(pr,null,Oo(i.scheduleGroups,m=>(Pt(),Bt("div",{key:m.id,class:"group-section"},[(Pt(!0),Bt(pr,null,Oo(m.routes,(v,b)=>(Pt(),Bt("div",{key:b,class:"route-row"},[Dt("div",{class:"route-info",style:ap({borderLeftColor:v.color||m.color||"#ccc"})},[Dt("div",Lwe,[b===0&&m.routes.length>1?(Pt(),Bt("span",Rwe,Cr(m.title.split(`
`)[0]),1)):(Pt(),Bt("span",Owe,Cr(v.name||m.title),1))]),v.description?(Pt(),Bt("div",kwe,[Ai(Cr(v.description.split(`
`)[0])+" ",1),Dt("div",$we,Cr(v.description.split(`
`)[1]),1)])):gn("",!0)],4),Dt("div",zwe,[v.times&&v.times.length?(Pt(!0),Bt(pr,{key:0},Oo(o.getFilteredTimes(v.times),(x,C)=>(Pt(),Bt("span",{key:C,class:Lo(["time-pill",[x.type,x.status]])},Cr(x.text),3))),128)):(Pt(),Bt("div",Bwe,"  No service "))])]))),128))]))),128))])):(Pt(),Bt("div",Fwe," No schedule data loaded. "))]),_:1},8,["spinning"]),t[4]||(t[4]=Dt("div",{class:"footer-note"},"  2025.11.24  Effective from 2025.11.24 ",-1))]),_:1})])}const Vwe=$i(Twe,[["render",Nwe],["__scopeId","data-v-cfd87de6"]]),jwe={},Hwe={id:"bustable"};function Gwe(e,t){return Pt(),Bt("div",Hwe,[...t[0]||(t[0]=[Dt("p",null,[Dt("b",null,"2025202577")],-1),Dt("img",{src:"https://mirrors.sustech.edu.cn/site/sustech-online/img/misc/bustimer_schedule_20250708.png",alt:"Bus Schedule 20250708",style:{width:"100%",height:"auto"}},null,-1)])])}const Uwe=$i(jwe,[["render",Gwe]]);function MR(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var pp=MR();function EU(e){pp=e}var K_={exec:()=>null};function cn(e,t=""){let r=typeof e=="string"?e:e.source,n={replace:(i,o)=>{let s=typeof o=="string"?o:o.source;return s=s.replace(va.caret,"$1"),r=r.replace(i,s),n},getRegex:()=>new RegExp(r,t)};return n}var Wwe=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),va={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},qwe=/^(?:[ \t]*(?:\n|$))+/,Zwe=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Xwe=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Tb=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Kwe=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,IR=/(?:[*+-]|\d{1,9}[.)])/,AU=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,DU=cn(AU).replace(/bull/g,IR).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Ywe=cn(AU).replace(/bull/g,IR).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),ER=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Jwe=/^[^\n]+/,AR=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,Qwe=cn(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",AR).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),eSe=cn(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,IR).getRegex(),dT="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",DR=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,tSe=cn("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",DR).replace("tag",dT).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),LU=cn(ER).replace("hr",Tb).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",dT).getRegex(),rSe=cn(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",LU).getRegex(),LR={blockquote:rSe,code:Zwe,def:Qwe,fences:Xwe,heading:Kwe,hr:Tb,html:tSe,lheading:DU,list:eSe,newline:qwe,paragraph:LU,table:K_,text:Jwe},$F=cn("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Tb).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",dT).getRegex(),nSe={...LR,lheading:Ywe,table:$F,paragraph:cn(ER).replace("hr",Tb).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",$F).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",dT).getRegex()},iSe={...LR,html:cn(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",DR).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:K_,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:cn(ER).replace("hr",Tb).replace("heading",` *#{1,6} *[^
]`).replace("lheading",DU).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},oSe=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,aSe=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,RU=/^( {2,}|\\)\n(?!\s*$)/,sSe=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,fT=/[\p{P}\p{S}]/u,RR=/[\s\p{P}\p{S}]/u,OU=/[^\s\p{P}\p{S}]/u,lSe=cn(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,RR).getRegex(),kU=/(?!~)[\p{P}\p{S}]/u,uSe=/(?!~)[\s\p{P}\p{S}]/u,cSe=/(?:[^\s\p{P}\p{S}]|~)/u,hSe=cn(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",Wwe?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),$U=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,dSe=cn($U,"u").replace(/punct/g,fT).getRegex(),fSe=cn($U,"u").replace(/punct/g,kU).getRegex(),zU="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",pSe=cn(zU,"gu").replace(/notPunctSpace/g,OU).replace(/punctSpace/g,RR).replace(/punct/g,fT).getRegex(),mSe=cn(zU,"gu").replace(/notPunctSpace/g,cSe).replace(/punctSpace/g,uSe).replace(/punct/g,kU).getRegex(),gSe=cn("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,OU).replace(/punctSpace/g,RR).replace(/punct/g,fT).getRegex(),vSe=cn(/\\(punct)/,"gu").replace(/punct/g,fT).getRegex(),ySe=cn(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),_Se=cn(DR).replace("(?:-->|$)","-->").getRegex(),bSe=cn("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",_Se).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),HS=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,xSe=cn(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",HS).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),BU=cn(/^!?\[(label)\]\[(ref)\]/).replace("label",HS).replace("ref",AR).getRegex(),FU=cn(/^!?\[(ref)\](?:\[\])?/).replace("ref",AR).getRegex(),wSe=cn("reflink|nolink(?!\\()","g").replace("reflink",BU).replace("nolink",FU).getRegex(),zF=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,OR={_backpedal:K_,anyPunctuation:vSe,autolink:ySe,blockSkip:hSe,br:RU,code:aSe,del:K_,emStrongLDelim:dSe,emStrongRDelimAst:pSe,emStrongRDelimUnd:gSe,escape:oSe,link:xSe,nolink:FU,punctuation:lSe,reflink:BU,reflinkSearch:wSe,tag:bSe,text:sSe,url:K_},SSe={...OR,link:cn(/^!?\[(label)\]\((.*?)\)/).replace("label",HS).getRegex(),reflink:cn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",HS).getRegex()},pA={...OR,emStrongRDelimAst:mSe,emStrongLDelim:fSe,url:cn(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",zF).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:cn(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",zF).getRegex()},TSe={...pA,br:cn(RU).replace("{2,}","*").getRegex(),text:cn(pA.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Vx={normal:LR,gfm:nSe,pedantic:iSe},Xy={normal:OR,gfm:pA,breaks:TSe,pedantic:SSe},CSe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},BF=e=>CSe[e];function Ql(e,t){if(t){if(va.escapeTest.test(e))return e.replace(va.escapeReplace,BF)}else if(va.escapeTestNoEncode.test(e))return e.replace(va.escapeReplaceNoEncode,BF);return e}function FF(e){try{e=encodeURI(e).replace(va.percentDecode,"%")}catch{return null}return e}function NF(e,t){let r=e.replace(va.findPipe,(o,s,a)=>{let h=!1,p=s;for(;--p>=0&&a[p]==="\\";)h=!h;return h?"|":" |"}),n=r.split(va.splitPipe),i=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(va.slashPipe,"|");return n}function Ky(e,t,r){let n=e.length;if(n===0)return"";let i=0;for(;i<n&&e.charAt(n-i-1)===t;)i++;return e.slice(0,n-i)}function PSe(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let n=0;n<e.length;n++)if(e[n]==="\\")n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return r>0?-2:-1}function VF(e,t,r,n,i){let o=t.href,s=t.title||null,a=e[1].replace(i.other.outputLinkReplace,"$1");n.state.inLink=!0;let h={type:e[0].charAt(0)==="!"?"image":"link",raw:r,href:o,title:s,text:a,tokens:n.inlineTokens(a)};return n.state.inLink=!1,h}function MSe(e,t,r){let n=e.match(r.other.indentCodeCompensation);if(n===null)return t;let i=n[1];return t.split(`
`).map(o=>{let s=o.match(r.other.beginningSpace);if(s===null)return o;let[a]=s;return a.length>=i.length?o.slice(i.length):o}).join(`
`)}var GS=class{options;rules;lexer;constructor(t){this.options=t||pp}space(t){let r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){let r=this.rules.block.code.exec(t);if(r){let n=r[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Ky(n,`
`)}}}fences(t){let r=this.rules.block.fences.exec(t);if(r){let n=r[0],i=MSe(n,r[3]||"",this.rules);return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:i}}}heading(t){let r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(this.rules.other.endingHash.test(n)){let i=Ky(n,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(n=i.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){let r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:Ky(r[0],`
`)}}blockquote(t){let r=this.rules.block.blockquote.exec(t);if(r){let n=Ky(r[0],`
`).split(`
`),i="",o="",s=[];for(;n.length>0;){let a=!1,h=[],p;for(p=0;p<n.length;p++)if(this.rules.other.blockquoteStart.test(n[p]))h.push(n[p]),a=!0;else if(!a)h.push(n[p]);else break;n=n.slice(p);let m=h.join(`
`),v=m.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${m}`:m,o=o?`${o}
${v}`:v;let b=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(v,s,!0),this.lexer.state.top=b,n.length===0)break;let x=s.at(-1);if(x?.type==="code")break;if(x?.type==="blockquote"){let C=x,I=C.raw+`
`+n.join(`
`),A=this.blockquote(I);s[s.length-1]=A,i=i.substring(0,i.length-C.raw.length)+A.raw,o=o.substring(0,o.length-C.text.length)+A.text;break}else if(x?.type==="list"){let C=x,I=C.raw+`
`+n.join(`
`),A=this.list(I);s[s.length-1]=A,i=i.substring(0,i.length-x.raw.length)+A.raw,o=o.substring(0,o.length-C.raw.length)+A.raw,n=I.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:s,text:o}}}list(t){let r=this.rules.block.list.exec(t);if(r){let n=r[1].trim(),i=n.length>1,o={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");let s=this.rules.other.listItemRegex(n),a=!1;for(;t;){let p=!1,m="",v="";if(!(r=s.exec(t))||this.rules.block.hr.test(t))break;m=r[0],t=t.substring(m.length);let b=r[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,k=>" ".repeat(3*k.length)),x=t.split(`
`,1)[0],C=!b.trim(),I=0;if(this.options.pedantic?(I=2,v=b.trimStart()):C?I=r[1].length+1:(I=r[2].search(this.rules.other.nonSpaceChar),I=I>4?1:I,v=b.slice(I),I+=r[1].length),C&&this.rules.other.blankLine.test(x)&&(m+=x+`
`,t=t.substring(x.length+1),p=!0),!p){let k=this.rules.other.nextBulletRegex(I),$=this.rules.other.hrRegex(I),N=this.rules.other.fencesBeginRegex(I),H=this.rules.other.headingBeginRegex(I),W=this.rules.other.htmlBeginRegex(I);for(;t;){let j=t.split(`
`,1)[0],X;if(x=j,this.options.pedantic?(x=x.replace(this.rules.other.listReplaceNesting,"  "),X=x):X=x.replace(this.rules.other.tabCharGlobal,"    "),N.test(x)||H.test(x)||W.test(x)||k.test(x)||$.test(x))break;if(X.search(this.rules.other.nonSpaceChar)>=I||!x.trim())v+=`
`+X.slice(I);else{if(C||b.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||N.test(b)||H.test(b)||$.test(b))break;v+=`
`+x}!C&&!x.trim()&&(C=!0),m+=j+`
`,t=t.substring(j.length+1),b=X.slice(I)}}o.loose||(a?o.loose=!0:this.rules.other.doubleBlankLine.test(m)&&(a=!0));let A=null,R;this.options.gfm&&(A=this.rules.other.listIsTask.exec(v),A&&(R=A[0]!=="[ ] ",v=v.replace(this.rules.other.listReplaceTask,""))),o.items.push({type:"list_item",raw:m,task:!!A,checked:R,loose:!1,text:v,tokens:[]}),o.raw+=m}let h=o.items.at(-1);if(h)h.raw=h.raw.trimEnd(),h.text=h.text.trimEnd();else return;o.raw=o.raw.trimEnd();for(let p=0;p<o.items.length;p++)if(this.lexer.state.top=!1,o.items[p].tokens=this.lexer.blockTokens(o.items[p].text,[]),!o.loose){let m=o.items[p].tokens.filter(b=>b.type==="space"),v=m.length>0&&m.some(b=>this.rules.other.anyLine.test(b.raw));o.loose=v}if(o.loose)for(let p=0;p<o.items.length;p++)o.items[p].loose=!0;return o}}html(t){let r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(t){let r=this.rules.block.def.exec(t);if(r){let n=r[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=r[2]?r[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:i,title:o}}}table(t){let r=this.rules.block.table.exec(t);if(!r||!this.rules.other.tableDelimiter.test(r[2]))return;let n=NF(r[1]),i=r[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=r[3]?.trim()?r[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:r[0],header:[],align:[],rows:[]};if(n.length===i.length){for(let a of i)this.rules.other.tableAlignRight.test(a)?s.align.push("right"):this.rules.other.tableAlignCenter.test(a)?s.align.push("center"):this.rules.other.tableAlignLeft.test(a)?s.align.push("left"):s.align.push(null);for(let a=0;a<n.length;a++)s.header.push({text:n[a],tokens:this.lexer.inline(n[a]),header:!0,align:s.align[a]});for(let a of o)s.rows.push(NF(a,s.header.length).map((h,p)=>({text:h,tokens:this.lexer.inline(h),header:!1,align:s.align[p]})));return s}}lheading(t){let r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){let r=this.rules.block.paragraph.exec(t);if(r){let n=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){let r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){let r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:r[1]}}tag(t){let r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&this.rules.other.startATag.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){let r=this.rules.inline.link.exec(t);if(r){let n=r[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let s=Ky(n.slice(0,-1),"\\");if((n.length-s.length)%2===0)return}else{let s=PSe(r[2],"()");if(s===-2)return;if(s>-1){let a=(r[0].indexOf("!")===0?5:4)+r[1].length+s;r[2]=r[2].substring(0,s),r[0]=r[0].substring(0,a).trim(),r[3]=""}}let i=r[2],o="";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(i);s&&(i=s[1],o=s[3])}else o=r[3]?r[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?i=i.slice(1):i=i.slice(1,-1)),VF(r,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer,this.rules)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let i=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),o=r[i.toLowerCase()];if(!o){let s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return VF(n,o,n[0],this.lexer,this.rules)}}emStrong(t,r,n=""){let i=this.rules.inline.emStrongLDelim.exec(t);if(!(!i||i[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(i[1]||i[2])||!n||this.rules.inline.punctuation.exec(n))){let o=[...i[0]].length-1,s,a,h=o,p=0,m=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(m.lastIndex=0,r=r.slice(-1*t.length+o);(i=m.exec(r))!=null;){if(s=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!s)continue;if(a=[...s].length,i[3]||i[4]){h+=a;continue}else if((i[5]||i[6])&&o%3&&!((o+a)%3)){p+=a;continue}if(h-=a,h>0)continue;a=Math.min(a,a+h+p);let v=[...i[0]][0].length,b=t.slice(0,o+i.index+v+a);if(Math.min(o,a)%2){let C=b.slice(1,-1);return{type:"em",raw:b,text:C,tokens:this.lexer.inlineTokens(C)}}let x=b.slice(2,-2);return{type:"strong",raw:b,text:x,tokens:this.lexer.inlineTokens(x)}}}}codespan(t){let r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(n),o=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return i&&o&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:r[0],text:n}}}br(t){let r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){let r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){let r=this.rules.inline.autolink.exec(t);if(r){let n,i;return r[2]==="@"?(n=r[1],i="mailto:"+n):(n=r[1],i=n),{type:"link",raw:r[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(t){let r;if(r=this.rules.inline.url.exec(t)){let n,i;if(r[2]==="@")n=r[0],i="mailto:"+n;else{let o;do o=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])?.[0]??"";while(o!==r[0]);n=r[0],r[1]==="www."?i="http://"+r[0]:i=r[0]}return{type:"link",raw:r[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(t){let r=this.rules.inline.text.exec(t);if(r){let n=this.lexer.state.inRawBlock;return{type:"text",raw:r[0],text:r[0],escaped:n}}}},ml=class mA{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||pp,this.options.tokenizer=this.options.tokenizer||new GS,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:va,block:Vx.normal,inline:Xy.normal};this.options.pedantic?(r.block=Vx.pedantic,r.inline=Xy.pedantic):this.options.gfm&&(r.block=Vx.gfm,this.options.breaks?r.inline=Xy.breaks:r.inline=Xy.gfm),this.tokenizer.rules=r}static get rules(){return{block:Vx,inline:Xy}}static lex(t,r){return new mA(r).lex(t)}static lexInline(t,r){return new mA(r).inlineTokens(t)}lex(t){t=t.replace(va.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,r=[],n=!1){for(this.options.pedantic&&(t=t.replace(va.tabCharGlobal,"    ").replace(va.spaceLine,""));t;){let i;if(this.options.extensions?.block?.some(s=>(i=s.call({lexer:this},t,r))?(t=t.substring(i.raw.length),r.push(i),!0):!1))continue;if(i=this.tokenizer.space(t)){t=t.substring(i.raw.length);let s=r.at(-1);i.raw.length===1&&s!==void 0?s.raw+=`
`:r.push(i);continue}if(i=this.tokenizer.code(t)){t=t.substring(i.raw.length);let s=r.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+i.raw,s.text+=`
`+i.text,this.inlineQueue.at(-1).src=s.text):r.push(i);continue}if(i=this.tokenizer.fences(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.heading(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.hr(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.blockquote(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.list(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.html(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.def(t)){t=t.substring(i.raw.length);let s=r.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+i.raw,s.text+=`
`+i.raw,this.inlineQueue.at(-1).src=s.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title},r.push(i));continue}if(i=this.tokenizer.table(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.lheading(t)){t=t.substring(i.raw.length),r.push(i);continue}let o=t;if(this.options.extensions?.startBlock){let s=1/0,a=t.slice(1),h;this.options.extensions.startBlock.forEach(p=>{h=p.call({lexer:this},a),typeof h=="number"&&h>=0&&(s=Math.min(s,h))}),s<1/0&&s>=0&&(o=t.substring(0,s+1))}if(this.state.top&&(i=this.tokenizer.paragraph(o))){let s=r.at(-1);n&&s?.type==="paragraph"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+i.raw,s.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):r.push(i),n=o.length!==t.length,t=t.substring(i.raw.length);continue}if(i=this.tokenizer.text(t)){t=t.substring(i.raw.length);let s=r.at(-1);s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+i.raw,s.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):r.push(i);continue}if(t){let s="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(s);break}else throw new Error(s)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let n=t,i=null;if(this.tokens.links){let h=Object.keys(this.tokens.links);if(h.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)h.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,i.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let o;for(;(i=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)o=i[2]?i[2].length:0,n=n.slice(0,i.index+o)+"["+"a".repeat(i[0].length-o-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=this.options.hooks?.emStrongMask?.call({lexer:this},n)??n;let s=!1,a="";for(;t;){s||(a=""),s=!1;let h;if(this.options.extensions?.inline?.some(m=>(h=m.call({lexer:this},t,r))?(t=t.substring(h.raw.length),r.push(h),!0):!1))continue;if(h=this.tokenizer.escape(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.tag(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.link(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(h.raw.length);let m=r.at(-1);h.type==="text"&&m?.type==="text"?(m.raw+=h.raw,m.text+=h.text):r.push(h);continue}if(h=this.tokenizer.emStrong(t,n,a)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.codespan(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.br(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.del(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.autolink(t)){t=t.substring(h.raw.length),r.push(h);continue}if(!this.state.inLink&&(h=this.tokenizer.url(t))){t=t.substring(h.raw.length),r.push(h);continue}let p=t;if(this.options.extensions?.startInline){let m=1/0,v=t.slice(1),b;this.options.extensions.startInline.forEach(x=>{b=x.call({lexer:this},v),typeof b=="number"&&b>=0&&(m=Math.min(m,b))}),m<1/0&&m>=0&&(p=t.substring(0,m+1))}if(h=this.tokenizer.inlineText(p)){t=t.substring(h.raw.length),h.raw.slice(-1)!=="_"&&(a=h.raw.slice(-1)),s=!0;let m=r.at(-1);m?.type==="text"?(m.raw+=h.raw,m.text+=h.text):r.push(h);continue}if(t){let m="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(m);break}else throw new Error(m)}}return r}},US=class{options;parser;constructor(t){this.options=t||pp}space(t){return""}code({text:t,lang:r,escaped:n}){let i=(r||"").match(va.notSpaceStart)?.[0],o=t.replace(va.endingNewline,"")+`
`;return i?'<pre><code class="language-'+Ql(i)+'">'+(n?o:Ql(o,!0))+`</code></pre>
`:"<pre><code>"+(n?o:Ql(o,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:r}){return`<h${r}>${this.parser.parseInline(t)}</h${r}>
`}hr(t){return`<hr>
`}list(t){let r=t.ordered,n=t.start,i="";for(let a=0;a<t.items.length;a++){let h=t.items[a];i+=this.listitem(h)}let o=r?"ol":"ul",s=r&&n!==1?' start="'+n+'"':"";return"<"+o+s+`>
`+i+"</"+o+`>
`}listitem(t){let r="";if(t.task){let n=this.checkbox({checked:!!t.checked});t.loose?t.tokens[0]?.type==="paragraph"?(t.tokens[0].text=n+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=n+" "+Ql(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):r+=n+" "}return r+=this.parser.parse(t.tokens,!!t.loose),`<li>${r}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let r="",n="";for(let o=0;o<t.header.length;o++)n+=this.tablecell(t.header[o]);r+=this.tablerow({text:n});let i="";for(let o=0;o<t.rows.length;o++){let s=t.rows[o];n="";for(let a=0;a<s.length;a++)n+=this.tablecell(s[a]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+i+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let r=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+r+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${Ql(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:r,tokens:n}){let i=this.parser.parseInline(n),o=FF(t);if(o===null)return i;t=o;let s='<a href="'+t+'"';return r&&(s+=' title="'+Ql(r)+'"'),s+=">"+i+"</a>",s}image({href:t,title:r,text:n,tokens:i}){i&&(n=this.parser.parseInline(i,this.parser.textRenderer));let o=FF(t);if(o===null)return Ql(n);t=o;let s=`<img src="${t}" alt="${n}"`;return r&&(s+=` title="${Ql(r)}"`),s+=">",s}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:Ql(t.text)}},kR=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},gl=class gA{options;renderer;textRenderer;constructor(t){this.options=t||pp,this.options.renderer=this.options.renderer||new US,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new kR}static parse(t,r){return new gA(r).parse(t)}static parseInline(t,r){return new gA(r).parseInline(t)}parse(t,r=!0){let n="";for(let i=0;i<t.length;i++){let o=t[i];if(this.options.extensions?.renderers?.[o.type]){let a=o,h=this.options.extensions.renderers[a.type].call({parser:this},a);if(h!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(a.type)){n+=h||"";continue}}let s=o;switch(s.type){case"space":{n+=this.renderer.space(s);continue}case"hr":{n+=this.renderer.hr(s);continue}case"heading":{n+=this.renderer.heading(s);continue}case"code":{n+=this.renderer.code(s);continue}case"table":{n+=this.renderer.table(s);continue}case"blockquote":{n+=this.renderer.blockquote(s);continue}case"list":{n+=this.renderer.list(s);continue}case"html":{n+=this.renderer.html(s);continue}case"def":{n+=this.renderer.def(s);continue}case"paragraph":{n+=this.renderer.paragraph(s);continue}case"text":{let a=s,h=this.renderer.text(a);for(;i+1<t.length&&t[i+1].type==="text";)a=t[++i],h+=`
`+this.renderer.text(a);r?n+=this.renderer.paragraph({type:"paragraph",raw:h,text:h,tokens:[{type:"text",raw:h,text:h,escaped:!0}]}):n+=h;continue}default:{let a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return n}parseInline(t,r=this.renderer){let n="";for(let i=0;i<t.length;i++){let o=t[i];if(this.options.extensions?.renderers?.[o.type]){let a=this.options.extensions.renderers[o.type].call({parser:this},o);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){n+=a||"";continue}}let s=o;switch(s.type){case"escape":{n+=r.text(s);break}case"html":{n+=r.html(s);break}case"link":{n+=r.link(s);break}case"image":{n+=r.image(s);break}case"strong":{n+=r.strong(s);break}case"em":{n+=r.em(s);break}case"codespan":{n+=r.codespan(s);break}case"br":{n+=r.br(s);break}case"del":{n+=r.del(s);break}case"text":{n+=r.text(s);break}default:{let a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return n}},C_=class{options;block;constructor(t){this.options=t||pp}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}emStrongMask(t){return t}provideLexer(){return this.block?ml.lex:ml.lexInline}provideParser(){return this.block?gl.parse:gl.parseInline}},ISe=class{defaults=MR();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=gl;Renderer=US;TextRenderer=kR;Lexer=ml;Tokenizer=GS;Hooks=C_;constructor(...t){this.use(...t)}walkTokens(t,r){let n=[];for(let i of t)switch(n=n.concat(r.call(this,i)),i.type){case"table":{let o=i;for(let s of o.header)n=n.concat(this.walkTokens(s.tokens,r));for(let s of o.rows)for(let a of s)n=n.concat(this.walkTokens(a.tokens,r));break}case"list":{let o=i;n=n.concat(this.walkTokens(o.items,r));break}default:{let o=i;this.defaults.extensions?.childTokens?.[o.type]?this.defaults.extensions.childTokens[o.type].forEach(s=>{let a=o[s].flat(1/0);n=n.concat(this.walkTokens(a,r))}):o.tokens&&(n=n.concat(this.walkTokens(o.tokens,r)))}}return n}use(...t){let r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{let i={...n};if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){let s=r.renderers[o.name];s?r.renderers[o.name]=function(...a){let h=o.renderer.apply(this,a);return h===!1&&(h=s.apply(this,a)),h}:r.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=r[o.level];s?s.unshift(o.tokenizer):r[o.level]=[o.tokenizer],o.start&&(o.level==="block"?r.startBlock?r.startBlock.push(o.start):r.startBlock=[o.start]:o.level==="inline"&&(r.startInline?r.startInline.push(o.start):r.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(r.childTokens[o.name]=o.childTokens)}),i.extensions=r),n.renderer){let o=this.defaults.renderer||new US(this.defaults);for(let s in n.renderer){if(!(s in o))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let a=s,h=n.renderer[a],p=o[a];o[a]=(...m)=>{let v=h.apply(o,m);return v===!1&&(v=p.apply(o,m)),v||""}}i.renderer=o}if(n.tokenizer){let o=this.defaults.tokenizer||new GS(this.defaults);for(let s in n.tokenizer){if(!(s in o))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let a=s,h=n.tokenizer[a],p=o[a];o[a]=(...m)=>{let v=h.apply(o,m);return v===!1&&(v=p.apply(o,m)),v}}i.tokenizer=o}if(n.hooks){let o=this.defaults.hooks||new C_;for(let s in n.hooks){if(!(s in o))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let a=s,h=n.hooks[a],p=o[a];C_.passThroughHooks.has(s)?o[a]=m=>{if(this.defaults.async&&C_.passThroughHooksRespectAsync.has(s))return(async()=>{let b=await h.call(o,m);return p.call(o,b)})();let v=h.call(o,m);return p.call(o,v)}:o[a]=(...m)=>{if(this.defaults.async)return(async()=>{let b=await h.apply(o,m);return b===!1&&(b=await p.apply(o,m)),b})();let v=h.apply(o,m);return v===!1&&(v=p.apply(o,m)),v}}i.hooks=o}if(n.walkTokens){let o=this.defaults.walkTokens,s=n.walkTokens;i.walkTokens=function(a){let h=[];return h.push(s.call(this,a)),o&&(h=h.concat(o.call(this,a))),h}}this.defaults={...this.defaults,...i}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,r){return ml.lex(t,r??this.defaults)}parser(t,r){return gl.parse(t,r??this.defaults)}parseMarkdown(t){return(r,n)=>{let i={...n},o={...this.defaults,...i},s=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&i.async===!1)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(o.hooks&&(o.hooks.options=o,o.hooks.block=t),o.async)return(async()=>{let a=o.hooks?await o.hooks.preprocess(r):r,h=await(o.hooks?await o.hooks.provideLexer():t?ml.lex:ml.lexInline)(a,o),p=o.hooks?await o.hooks.processAllTokens(h):h;o.walkTokens&&await Promise.all(this.walkTokens(p,o.walkTokens));let m=await(o.hooks?await o.hooks.provideParser():t?gl.parse:gl.parseInline)(p,o);return o.hooks?await o.hooks.postprocess(m):m})().catch(s);try{o.hooks&&(r=o.hooks.preprocess(r));let a=(o.hooks?o.hooks.provideLexer():t?ml.lex:ml.lexInline)(r,o);o.hooks&&(a=o.hooks.processAllTokens(a)),o.walkTokens&&this.walkTokens(a,o.walkTokens);let h=(o.hooks?o.hooks.provideParser():t?gl.parse:gl.parseInline)(a,o);return o.hooks&&(h=o.hooks.postprocess(h)),h}catch(a){return s(a)}}}onError(t,r){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let i="<p>An error occurred:</p><pre>"+Ql(n.message+"",!0)+"</pre>";return r?Promise.resolve(i):i}if(r)return Promise.reject(n);throw n}}},tp=new ISe;function Rn(e,t){return tp.parse(e,t)}Rn.options=Rn.setOptions=function(e){return tp.setOptions(e),Rn.defaults=tp.defaults,EU(Rn.defaults),Rn};Rn.getDefaults=MR;Rn.defaults=pp;Rn.use=function(...e){return tp.use(...e),Rn.defaults=tp.defaults,EU(Rn.defaults),Rn};Rn.walkTokens=function(e,t){return tp.walkTokens(e,t)};Rn.parseInline=tp.parseInline;Rn.Parser=gl;Rn.parser=gl.parse;Rn.Renderer=US;Rn.TextRenderer=kR;Rn.Lexer=ml;Rn.lexer=ml.lex;Rn.Tokenizer=GS;Rn.Hooks=C_;Rn.parse=Rn;Rn.options;Rn.setOptions;Rn.use;Rn.walkTokens;Rn.parseInline;gl.parse;ml.lex;const{darkAlgorithm:ESe}=fA,ASe={name:"BusAnnouncement",components:{"a-config-provider":gc,"a-card":Vf,"a-tag":jf,"a-spin":Hf,BellOutlined:PR},data(){return{loading:!0,announcement:null,error:null,appTheme:{}}},computed:{parsedContent(){return this.announcement&&this.announcement.content?Rn(this.announcement.content):""}},methods:{async fetchAnnouncement(){try{this.loading=!0;const e=await _r.get("https://bus.sustcra.com/api/announcement/notice/latest");e.data&&Object.keys(e.data).length>0?this.announcement=e.data:this.announcement=null}catch(e){console.error(":",e),this.error=e.message}finally{this.loading=!1}},updateTheme(){const e=document.documentElement.getAttribute("data-theme")==="dark";this.appTheme=e?{algorithm:ESe}:{}}},mounted(){this.fetchAnnouncement(),this.updateTheme(),this._themeObserver=new MutationObserver(()=>{this.updateTheme()}),this._themeObserver.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]})},beforeUnmount(){this._themeObserver&&(this._themeObserver.disconnect(),this._themeObserver=null)}},DSe={class:"bus-announcement-container"},LSe={key:0,class:"loading-spinner"},RSe={key:1},OSe=["innerHTML"];function kSe(e,t,r,n,i,o){const s=Cn("a-spin"),a=Cn("a-card"),h=Cn("BellOutlined"),p=Cn("a-tag"),m=Cn("a-config-provider");return Pt(),Bn(m,{theme:i.appTheme},{default:Lr(()=>[Dt("div",DSe,[i.loading?(Pt(),Bt("div",LSe,[ie(s,{tip:"..."})])):i.error?(Pt(),Bt("div",RSe,[ie(a,{title:"",size:"small"},{default:Lr(()=>[t[0]||(t[0]=Dt("p",null,"",-1)),Dt("p",null,": "+Cr(i.error),1)]),_:1})])):i.announcement?(Pt(),Bn(a,{key:2,bordered:!1,style:{"box-shadow":"0 2px 8px rgba(0, 0, 0, 0.09)"}},{title:Lr(()=>[ie(h,{style:{"margin-right":"8px"}}),t[1]||(t[1]=Ai("  ",-1))]),extra:Lr(()=>[ie(p,{color:"processing"},{default:Lr(()=>[t[2]||(t[2]=Ai("Updated at ",-1)),Dt("b",null,Cr(i.announcement.created_at.toString().substring(0,19)),1)]),_:1})]),default:Lr(()=>[Dt("div",{class:"announcement-content",innerHTML:o.parsedContent},null,8,OSe)]),_:1})):gn("",!0)])]),_:1},8,["theme"])}const $Se=$i(ASe,[["render",kSe],["__scopeId","data-v-ab6c35e1"]]),zSe={name:"BusEtaSelector",components:{"a-config-provider":gc,"a-select":nu,"a-card":Vf,"a-collapse":X_,"a-spin":Hf,"a-empty":Wm,"a-tag":jf},data(){return{apiBaseUrl:"https://bus.sustcra.com/api/v3",isLoadingRoutes:!1,isLoadingStations:!1,isLoadingEta:!1,isDarkMode:!1,routes:[],stations:[],etas:[],selectedRouteKey:void 0,selectedStationId:void 0,etaInterval:null}},computed:{antTheme(){return{algorithm:this.isDarkMode?fA.darkAlgorithm:fA.defaultAlgorithm}},routeOptions(){const e={0:"To  Joy Highland",1:"To  COE"};return this.routes.map(t=>({value:`${t.name}-${t.direction}`,label:`${t.name} (${e[t.direction]||""+t.direction})`}))},stationOptions(){return this.stations.map(e=>({value:e.properties.station_id,label:e.properties.name.replace(/\n/g," / ")}))},sortedEtas(){return this.etas.slice().sort((e,t)=>e.eta_minutes-t.eta_minutes)}},methods:{handleThemeChange(e){this.isDarkMode=e.matches},async fetchRoutes(){this.isLoadingRoutes=!0;try{const e=await _r.get(`${this.apiBaseUrl}/avail_route`);this.routes=e.data.routes||[]}catch(e){console.error(":",e)}finally{this.isLoadingRoutes=!1}},handleRouteChange(){this.selectedStationId=void 0,this.stations=[],this.etas=[],this.clearEtaInterval(),this.selectedRouteKey&&this.fetchStations()},async fetchStations(){this.isLoadingStations=!0;const[e,t]=this.selectedRouteKey.split("-");try{const r=await _r.get(`${this.apiBaseUrl}/${e}/${t}/stations`);this.stations=r.data.features||[]}catch(r){console.error(":",r)}finally{this.isLoadingStations=!1}},handleStationChange(){this.etas=[],this.clearEtaInterval(),this.selectedStationId&&(this.fetchEta(),this.etaInterval=setInterval(this.fetchEta,3e4))},async fetchEta(){if(!this.selectedRouteKey||!this.selectedStationId)return;this.isLoadingEta=!0;const[e,t]=this.selectedRouteKey.split("-");try{const r=await _r.get(`${this.apiBaseUrl}/${e}/${t}/${this.selectedStationId}`);this.etas=r.data||[]}catch(r){this.etas=[],console.error("ETA:",r)}finally{this.isLoadingEta=!1}},clearEtaInterval(){this.etaInterval&&(clearInterval(this.etaInterval),this.etaInterval=null)}},created(){if(this.fetchRoutes(),window.matchMedia){const e=window.matchMedia("(prefers-color-scheme: dark)");this.isDarkMode=e.matches,e.addEventListener("change",this.handleThemeChange)}},beforeUnmount(){this.clearEtaInterval(),window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",this.handleThemeChange)}},BSe={class:"controls-wrapper"},FSe={key:0,class:"eta-results"},NSe={key:0},VSe={key:1,class:"eta-list"},jSe={class:"eta-time"},HSe={class:"eta-minutes"},GSe={class:"eta-details"},USe={class:"eta-plate"},WSe={class:"eta-next-station"};function qSe(e,t,r,n,i,o){const s=Cn("a-select"),a=Cn("a-spin"),h=Cn("a-empty"),p=Cn("a-tag"),m=Cn("a-card"),v=Cn("a-config-provider");return Pt(),Bn(v,{theme:o.antTheme},{default:Lr(()=>[ie(m,{title:"ETA (Bus with realtime data only)",style:{width:"100%",maxWidth:"600px",margin:"2rem auto"}},{default:Lr(()=>[ie(a,{spinning:i.isLoadingRoutes,tip:"..."},{default:Lr(()=>[Dt("div",BSe,[ie(s,{value:i.selectedRouteKey,"onUpdate:value":t[0]||(t[0]=b=>i.selectedRouteKey=b),placeholder:" Choose Line",style:{width:"100%"},options:o.routeOptions,onChange:o.handleRouteChange,loading:i.isLoadingStations},null,8,["value","options","onChange","loading"]),ie(s,{value:i.selectedStationId,"onUpdate:value":t[1]||(t[1]=b=>i.selectedStationId=b),placeholder:" Choose Station",style:{width:"100%","margin-top":"16px"},disabled:!i.selectedRouteKey||i.isLoadingStations,options:o.stationOptions,onChange:o.handleStationChange,loading:i.isLoadingEta},null,8,["value","disabled","options","onChange","loading"])])]),_:1},8,["spinning"]),i.selectedStationId?(Pt(),Bt("div",FSe,[ie(a,{spinning:i.isLoadingEta,tip:"..."},{default:Lr(()=>[!i.etas.length&&!i.isLoadingEta?(Pt(),Bt("div",NSe,[ie(h,{description:""})])):(Pt(),Bt("div",VSe,[(Pt(!0),Bt(pr,null,Oo(o.sortedEtas,b=>(Pt(),Bt("div",{key:b.plate,class:"eta-item"},[Dt("div",jSe,[Dt("span",HSe,Cr(b.eta_minutes),1),t[2]||(t[2]=Dt("span",{class:"eta-unit"},"Min.",-1))]),Dt("div",GSe,[Dt("div",USe,[ie(p,{color:"blue"},{default:Lr(()=>[Ai(Cr(b.plate),1)]),_:2},1024)]),Dt("div",WSe," Next Sta. "+Cr(b.next_station),1)])]))),128))]))]),_:1},8,["spinning"])])):gn("",!0)]),_:1})]),_:1},8,["theme"])}const ZSe=$i(zSe,[["render",qSe],["__scopeId","data-v-7dc4e461"]]),XSe={name:"TabView",components:{ASegmented:CR},props:{isMapTabEnabled:{type:Boolean,default:!0}},setup(e){const t=Vt("bus-location"),r=Vt("bus-location"),n=Vt([{value:"bus-location",payload:{title:"",subTitle:"Bus Realtime Location"}},{value:"timetable",payload:{title:"",subTitle:"Timetable"}}]),i=s=>{r.value=s};let o=e.isMapTabEnabled;return{initSelect:t,currentSelect:r,tabOptions:n,switchTab:i,showMapChart:o}}},KSe={style:{padding:"4px 8px"}},YSe={class:"tab-container"},JSe={key:0},QSe={key:0,class:"bus-location-hint"},e2e={key:1};function t2e(e,t,r,n,i,o){const s=Cn("a-segmented"),a=Cn("RealtimeMapv2"),h=Cn("BusTable");return Pt(),Bt("div",null,[ie(s,{value:n.initSelect,"onUpdate:value":t[0]||(t[0]=p=>n.initSelect=p),options:n.tabOptions,onChange:n.switchTab},{label:Lr(({payload:p})=>[Dt("div",KSe,[Dt("div",null,Cr(p.title),1),Dt("div",null,Cr(p.subTitle),1)])]),_:1},8,["value","options","onChange"]),Dt("div",YSe,[n.currentSelect==="bus-location"?(Pt(),Bt("div",JSe,[n.showMapChart?(Pt(),Bt("div",QSe,[...t[1]||(t[1]=[Dt("b",null,"5",-1),Ai("Location refreshes automatically every 5 seconds.",-1),Dt("br",null,null,-1)])])):gn("",!0),n.showMapChart?(Pt(),Bn(a,{key:1})):gn("",!0)])):gn("",!0),n.currentSelect==="timetable"?(Pt(),Bt("div",e2e,[ie(h)])):gn("",!0)])])}const r2e=$i(XSe,[["render",t2e],["__scopeId","data-v-ab2a5c2a"]]);var Kw={exports:{}};/**
 * MapLibre GL JS
 * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v5.13.0/LICENSE.txt
 */var n2e=Kw.exports,jF;function i2e(){return jF||(jF=1,(function(e,t){(function(r,n){e.exports=n()})(n2e,(function(){var r={},n={};function i(s,a,h){if(n[s]=h,s==="index"){var p="var sharedModule = {}; ("+n.shared+")(sharedModule); ("+n.worker+")(sharedModule);",m={};return n.shared(m),n.index(r,m),typeof window<"u"&&r.setWorkerUrl(window.URL.createObjectURL(new Blob([p],{type:"text/javascript"}))),r}}i("shared",["exports"],(function(s){function a(d,l,c,g){return new(c||(c=Promise))((function(y,w){function T(B){try{O(g.next(B))}catch(V){w(V)}}function E(B){try{O(g.throw(B))}catch(V){w(V)}}function O(B){var V;B.done?y(B.value):(V=B.value,V instanceof c?V:new c((function(U){U(V)}))).then(T,E)}O((g=g.apply(d,l||[])).next())}))}function h(d,l){this.x=d,this.y=l}function p(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var m,v;typeof SuppressedError=="function"&&SuppressedError,h.prototype={clone(){return new h(this.x,this.y)},add(d){return this.clone()._add(d)},sub(d){return this.clone()._sub(d)},multByPoint(d){return this.clone()._multByPoint(d)},divByPoint(d){return this.clone()._divByPoint(d)},mult(d){return this.clone()._mult(d)},div(d){return this.clone()._div(d)},rotate(d){return this.clone()._rotate(d)},rotateAround(d,l){return this.clone()._rotateAround(d,l)},matMult(d){return this.clone()._matMult(d)},unit(){return this.clone()._unit()},perp(){return this.clone()._perp()},round(){return this.clone()._round()},mag(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals(d){return this.x===d.x&&this.y===d.y},dist(d){return Math.sqrt(this.distSqr(d))},distSqr(d){const l=d.x-this.x,c=d.y-this.y;return l*l+c*c},angle(){return Math.atan2(this.y,this.x)},angleTo(d){return Math.atan2(this.y-d.y,this.x-d.x)},angleWith(d){return this.angleWithSep(d.x,d.y)},angleWithSep(d,l){return Math.atan2(this.x*l-this.y*d,this.x*d+this.y*l)},_matMult(d){const l=d[2]*this.x+d[3]*this.y;return this.x=d[0]*this.x+d[1]*this.y,this.y=l,this},_add(d){return this.x+=d.x,this.y+=d.y,this},_sub(d){return this.x-=d.x,this.y-=d.y,this},_mult(d){return this.x*=d,this.y*=d,this},_div(d){return this.x/=d,this.y/=d,this},_multByPoint(d){return this.x*=d.x,this.y*=d.y,this},_divByPoint(d){return this.x/=d.x,this.y/=d.y,this},_unit(){return this._div(this.mag()),this},_perp(){const d=this.y;return this.y=this.x,this.x=-d,this},_rotate(d){const l=Math.cos(d),c=Math.sin(d),g=c*this.x+l*this.y;return this.x=l*this.x-c*this.y,this.y=g,this},_rotateAround(d,l){const c=Math.cos(d),g=Math.sin(d),y=l.y+g*(this.x-l.x)+c*(this.y-l.y);return this.x=l.x+c*(this.x-l.x)-g*(this.y-l.y),this.y=y,this},_round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},constructor:h},h.convert=function(d){if(d instanceof h)return d;if(Array.isArray(d))return new h(+d[0],+d[1]);if(d.x!==void 0&&d.y!==void 0)return new h(+d.x,+d.y);throw new Error("Expected [x, y] or {x, y} point format")};var b=(function(){if(v)return m;function d(l,c,g,y){this.cx=3*l,this.bx=3*(g-l)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*c,this.by=3*(y-c)-this.cy,this.ay=1-this.cy-this.by,this.p1x=l,this.p1y=c,this.p2x=g,this.p2y=y}return v=1,m=d,d.prototype={sampleCurveX:function(l){return((this.ax*l+this.bx)*l+this.cx)*l},sampleCurveY:function(l){return((this.ay*l+this.by)*l+this.cy)*l},sampleCurveDerivativeX:function(l){return(3*this.ax*l+2*this.bx)*l+this.cx},solveCurveX:function(l,c){if(c===void 0&&(c=1e-6),l<0)return 0;if(l>1)return 1;for(var g=l,y=0;y<8;y++){var w=this.sampleCurveX(g)-l;if(Math.abs(w)<c)return g;var T=this.sampleCurveDerivativeX(g);if(Math.abs(T)<1e-6)break;g-=w/T}var E=0,O=1;for(g=l,y=0;y<20&&(w=this.sampleCurveX(g),!(Math.abs(w-l)<c));y++)l>w?E=g:O=g,g=.5*(O-E)+E;return g},solve:function(l,c){return this.sampleCurveY(this.solveCurveX(l,c))}},m})(),x=p(b);let C,I;function A(){return C==null&&(C=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),C}function R(){if(I==null&&(I=!1,A())){const l=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(l){for(let g=0;g<25;g++){const y=4*g;l.fillStyle=`rgb(${y},${y+1},${y+2})`,l.fillRect(g%5,Math.floor(g/5),1,1)}const c=l.getImageData(0,0,5,5).data;for(let g=0;g<100;g++)if(g%4!=3&&c[g]!==g){I=!0;break}}}return I||!1}var k=1e-6,$=typeof Float32Array<"u"?Float32Array:Array;function N(){var d=new $(9);return $!=Float32Array&&(d[1]=0,d[2]=0,d[3]=0,d[5]=0,d[6]=0,d[7]=0),d[0]=1,d[4]=1,d[8]=1,d}function H(d){return d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=1,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=1,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,d}function W(){var d=new $(3);return $!=Float32Array&&(d[0]=0,d[1]=0,d[2]=0),d}function j(d){var l=d[0],c=d[1],g=d[2];return Math.sqrt(l*l+c*c+g*g)}function X(d,l,c){var g=new $(3);return g[0]=d,g[1]=l,g[2]=c,g}function K(d,l,c){return d[0]=l[0]+c[0],d[1]=l[1]+c[1],d[2]=l[2]+c[2],d}function Q(d,l,c){return d[0]=l[0]*c,d[1]=l[1]*c,d[2]=l[2]*c,d}function oe(d,l,c){var g=l[0],y=l[1],w=l[2],T=c[0],E=c[1],O=c[2];return d[0]=y*O-w*E,d[1]=w*T-g*O,d[2]=g*E-y*T,d}var he,ye=j;function be(d,l,c){var g=l[0],y=l[1],w=l[2],T=l[3];return d[0]=c[0]*g+c[4]*y+c[8]*w+c[12]*T,d[1]=c[1]*g+c[5]*y+c[9]*w+c[13]*T,d[2]=c[2]*g+c[6]*y+c[10]*w+c[14]*T,d[3]=c[3]*g+c[7]*y+c[11]*w+c[15]*T,d}function ce(){var d=new $(4);return $!=Float32Array&&(d[0]=0,d[1]=0,d[2]=0),d[3]=1,d}function de(d,l,c,g){var y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"zyx",w=Math.PI/360;l*=w,g*=w,c*=w;var T=Math.sin(l),E=Math.cos(l),O=Math.sin(c),B=Math.cos(c),V=Math.sin(g),U=Math.cos(g);switch(y){case"xyz":d[0]=T*B*U+E*O*V,d[1]=E*O*U-T*B*V,d[2]=E*B*V+T*O*U,d[3]=E*B*U-T*O*V;break;case"xzy":d[0]=T*B*U-E*O*V,d[1]=E*O*U-T*B*V,d[2]=E*B*V+T*O*U,d[3]=E*B*U+T*O*V;break;case"yxz":d[0]=T*B*U+E*O*V,d[1]=E*O*U-T*B*V,d[2]=E*B*V-T*O*U,d[3]=E*B*U+T*O*V;break;case"yzx":d[0]=T*B*U+E*O*V,d[1]=E*O*U+T*B*V,d[2]=E*B*V-T*O*U,d[3]=E*B*U-T*O*V;break;case"zxy":d[0]=T*B*U-E*O*V,d[1]=E*O*U+T*B*V,d[2]=E*B*V+T*O*U,d[3]=E*B*U-T*O*V;break;case"zyx":d[0]=T*B*U-E*O*V,d[1]=E*O*U+T*B*V,d[2]=E*B*V-T*O*U,d[3]=E*B*U+T*O*V;break;default:throw new Error("Unknown angle order "+y)}return d}function Oe(){var d=new $(2);return $!=Float32Array&&(d[0]=0,d[1]=0),d}function ze(d,l){var c=new $(2);return c[0]=d,c[1]=l,c}W(),he=new $(4),$!=Float32Array&&(he[0]=0,he[1]=0,he[2]=0,he[3]=0),W(),X(1,0,0),X(0,1,0),ce(),ce(),N(),Oe();const De=8192;function ct(d,l,c){return l*(De/(d.tileSize*Math.pow(2,c-d.tileID.overscaledZ)))}function Ke(d,l){return(d%l+l)%l}function gt(d,l,c){return d*(1-c)+l*c}function Lt(d){if(d<=0)return 0;if(d>=1)return 1;const l=d*d,c=l*d;return 4*(d<.5?c:3*(d-l)+c-.75)}function Nt(d,l,c,g){const y=new x(d,l,c,g);return w=>y.solve(w)}const zt=Nt(.25,.1,.25,1);function Ft(d,l,c){return Math.min(c,Math.max(l,d))}function Be(d,l,c){const g=c-l,y=((d-l)%g+g)%g+l;return y===l?c:y}function it(d,...l){for(const c of l)for(const g in c)d[g]=c[g];return d}let je=1;function He(d,l,c){const g={};for(const y in d)g[y]=l.call(this,d[y],y,d);return g}function Fe(d,l,c){const g={};for(const y in d)l.call(this,d[y],y,d)&&(g[y]=d[y]);return g}function tt(d){return Array.isArray(d)?d.map(tt):typeof d=="object"&&d?He(d,tt):d}const me={};function _e(d){me[d]||(typeof console<"u"&&console.warn(d),me[d]=!0)}function qe(d,l,c){return(c.y-d.y)*(l.x-d.x)>(l.y-d.y)*(c.x-d.x)}function ht(d){return typeof WorkerGlobalScope<"u"&&d!==void 0&&d instanceof WorkerGlobalScope}let et=null;function Je(d){return typeof ImageBitmap<"u"&&d instanceof ImageBitmap}const Qe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function dt(d,l,c,g,y){return a(this,void 0,void 0,(function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const w=new VideoFrame(d,{timestamp:0});try{const T=w?.format;if(!T||!T.startsWith("BGR")&&!T.startsWith("RGB"))throw new Error(`Unrecognized format ${T}`);const E=T.startsWith("BGR"),O=new Uint8ClampedArray(g*y*4);if(yield w.copyTo(O,(function(B,V,U,Z,Y){const J=4*Math.max(-V,0),re=(Math.max(0,U)-U)*Z*4+J,se=4*Z,ge=Math.max(0,V),Me=Math.max(0,U);return{rect:{x:ge,y:Me,width:Math.min(B.width,V+Z)-ge,height:Math.min(B.height,U+Y)-Me},layout:[{offset:re,stride:se}]}})(d,l,c,g,y)),E)for(let B=0;B<O.length;B+=4){const V=O[B];O[B]=O[B+2],O[B+2]=V}return O}finally{w.close()}}))}let xt,yt;function Ht(d,l,c,g){return d.addEventListener(l,c,g),{unsubscribe:()=>{d.removeEventListener(l,c,g)}}}function $t(d){return d*Math.PI/180}function Gt(d){return d/Math.PI*180}const or={touchstart:!0,touchmove:!0,touchmoveWindow:!0,touchend:!0,touchcancel:!0},vr={dblclick:!0,click:!0,mouseover:!0,mouseout:!0,mousedown:!0,mousemove:!0,mousemoveWindow:!0,mouseup:!0,mouseupWindow:!0,contextmenu:!0,wheel:!0},Er="AbortError";function mr(){return new Error(Er)}const Wr={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function Yr(d){return Wr.REGISTERED_PROTOCOLS[d.substring(0,d.indexOf("://"))]}const Nn="global-dispatcher";class rn extends Error{constructor(l,c,g,y){super(`AJAXError: ${c} (${l}): ${g}`),this.status=l,this.statusText=c,this.url=g,this.body=y}}const Zn=()=>ht(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,Ne=function(d,l){if(/:\/\//.test(d.url)&&!/^https?:|^file:/.test(d.url)){const g=Yr(d.url);if(g)return g(d,l);if(ht(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:d,targetMapId:Nn},l)}if(!(/^file:/.test(c=d.url)||/^file:/.test(Zn())&&!/^\w+:/.test(c))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return(function(g,y){return a(this,void 0,void 0,(function*(){const w=new Request(g.url,{method:g.method||"GET",body:g.body,credentials:g.credentials,headers:g.headers,cache:g.cache,referrer:Zn(),signal:y.signal});let T,E;g.type!=="json"||w.headers.has("Accept")||w.headers.set("Accept","application/json");try{T=yield fetch(w)}catch(B){throw new rn(0,B.message,g.url,new Blob)}if(!T.ok){const B=yield T.blob();throw new rn(T.status,T.statusText,g.url,B)}E=g.type==="arrayBuffer"||g.type==="image"?T.arrayBuffer():g.type==="json"?T.json():T.text();const O=yield E;if(y.signal.aborted)throw mr();return{data:O,cacheControl:T.headers.get("Cache-Control"),expires:T.headers.get("Expires")}}))})(d,l);if(ht(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:d,mustQueue:!0,targetMapId:Nn},l)}var c;return(function(g,y){return new Promise(((w,T)=>{var E;const O=new XMLHttpRequest;O.open(g.method||"GET",g.url,!0),g.type!=="arrayBuffer"&&g.type!=="image"||(O.responseType="arraybuffer");for(const B in g.headers)O.setRequestHeader(B,g.headers[B]);g.type==="json"&&(O.responseType="text",!((E=g.headers)===null||E===void 0)&&E.Accept||O.setRequestHeader("Accept","application/json")),O.withCredentials=g.credentials==="include",O.onerror=()=>{T(new Error(O.statusText))},O.onload=()=>{if(!y.signal.aborted)if((O.status>=200&&O.status<300||O.status===0)&&O.response!==null){let B=O.response;if(g.type==="json")try{B=JSON.parse(O.response)}catch(V){return void T(V)}w({data:B,cacheControl:O.getResponseHeader("Cache-Control"),expires:O.getResponseHeader("Expires")})}else{const B=new Blob([O.response],{type:O.getResponseHeader("Content-Type")});T(new rn(O.status,O.statusText,g.url,B))}},y.signal.addEventListener("abort",(()=>{O.abort(),T(mr())})),O.send(g.body)}))})(d,l)};function ne(d){if(!d||d.indexOf("://")<=0||d.indexOf("data:image/")===0||d.indexOf("blob:")===0)return!0;const l=new URL(d),c=window.location;return l.protocol===c.protocol&&l.host===c.host}function le(d,l,c){c[d]&&c[d].indexOf(l)!==-1||(c[d]=c[d]||[],c[d].push(l))}function pe(d,l,c){if(c&&c[d]){const g=c[d].indexOf(l);g!==-1&&c[d].splice(g,1)}}class Ee{constructor(l,c={}){it(this,c),this.type=l}}class Re extends Ee{constructor(l,c={}){super("error",it({error:l},c))}}class Ye{on(l,c){return this._listeners=this._listeners||{},le(l,c,this._listeners),{unsubscribe:()=>{this.off(l,c)}}}off(l,c){return pe(l,c,this._listeners),pe(l,c,this._oneTimeListeners),this}once(l,c){return c?(this._oneTimeListeners=this._oneTimeListeners||{},le(l,c,this._oneTimeListeners),this):new Promise((g=>this.once(l,g)))}fire(l,c){typeof l=="string"&&(l=new Ee(l,c||{}));const g=l.type;if(this.listens(g)){l.target=this;const y=this._listeners&&this._listeners[g]?this._listeners[g].slice():[];for(const E of y)E.call(this,l);const w=this._oneTimeListeners&&this._oneTimeListeners[g]?this._oneTimeListeners[g].slice():[];for(const E of w)pe(g,E,this._oneTimeListeners),E.call(this,l);const T=this._eventedParent;T&&(it(l,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),T.fire(l))}else l instanceof Re&&console.error(l.error);return this}listens(l){return this._listeners&&this._listeners[l]&&this._listeners[l].length>0||this._oneTimeListeners&&this._oneTimeListeners[l]&&this._oneTimeListeners[l].length>0||this._eventedParent&&this._eventedParent.listens(l)}setEventedParent(l,c){return this._eventedParent=l,this._eventedParentData=c,this}}var Te={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},"font-faces":{type:"array",value:"fontFaces"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},encoding:{type:"enum",values:{mvt:{},mlt:{}},default:"mvt"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},"color-relief":{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_color-relief","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_color-relief":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_color-relief","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},"paint_color-relief":{"color-relief-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"color-relief-color":{type:"color",transition:!1,expression:{interpolated:!0,parameters:["elevation"]},"property-type":"color-ramp"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const Xe=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function ut(d,l){const c={};for(const g in d)g!=="ref"&&(c[g]=d[g]);return Xe.forEach((g=>{g in l&&(c[g]=l[g])})),c}function ft(d,l){if(Array.isArray(d)){if(!Array.isArray(l)||d.length!==l.length)return!1;for(let c=0;c<d.length;c++)if(!ft(d[c],l[c]))return!1;return!0}if(typeof d=="object"&&d!==null&&l!==null){if(typeof l!="object"||Object.keys(d).length!==Object.keys(l).length)return!1;for(const c in d)if(!ft(d[c],l[c]))return!1;return!0}return d===l}function pt(d,l){d.push(l)}function Xt(d,l,c){pt(c,{command:"addSource",args:[d,l[d]]})}function ar(d,l,c){pt(l,{command:"removeSource",args:[d]}),c[d]=!0}function xr(d,l,c,g){ar(d,c,g),Xt(d,l,c)}function yn(d,l,c){let g;for(g in d[c])if(Object.prototype.hasOwnProperty.call(d[c],g)&&g!=="data"&&!ft(d[c][g],l[c][g]))return!1;for(g in l[c])if(Object.prototype.hasOwnProperty.call(l[c],g)&&g!=="data"&&!ft(d[c][g],l[c][g]))return!1;return!0}function zr(d,l,c,g,y,w){d=d||{},l=l||{};for(const T in d)Object.prototype.hasOwnProperty.call(d,T)&&(ft(d[T],l[T])||c.push({command:w,args:[g,T,l[T],y]}));for(const T in l)Object.prototype.hasOwnProperty.call(l,T)&&!Object.prototype.hasOwnProperty.call(d,T)&&(ft(d[T],l[T])||c.push({command:w,args:[g,T,l[T],y]}))}function Jr(d){return d.id}function hn(d,l){return d[l.id]=l,d}class It{constructor(l,c,g,y){this.message=(l?`${l}: `:"")+g,y&&(this.identifier=y),c!=null&&c.__line__&&(this.line=c.__line__)}}function _n(d,...l){for(const c of l)for(const g in c)d[g]=c[g];return d}class dn extends Error{constructor(l,c){super(c),this.message=c,this.key=l}}class ii{constructor(l,c=[]){this.parent=l,this.bindings={};for(const[g,y]of c)this.bindings[g]=y}concat(l){return new ii(this,l)}get(l){if(this.bindings[l])return this.bindings[l];if(this.parent)return this.parent.get(l);throw new Error(`${l} not found in scope.`)}has(l){return!!this.bindings[l]||!!this.parent&&this.parent.has(l)}}const en={kind:"null"},Et={kind:"number"},Qt={kind:"string"},ur={kind:"boolean"},Ji={kind:"color"},hs={kind:"projectionDefinition"},xi={kind:"object"},gr={kind:"value"},Va={kind:"collator"},qs={kind:"formatted"},ds={kind:"padding"},Fi={kind:"colorArray"},fs={kind:"numberArray"},Dl={kind:"resolvedImage"},kc={kind:"variableAnchorOffsetCollection"};function ra(d,l){return{kind:"array",itemType:d,N:l}}function In(d){if(d.kind==="array"){const l=In(d.itemType);return typeof d.N=="number"?`array<${l}, ${d.N}>`:d.itemType.kind==="value"?"array":`array<${l}>`}return d.kind}const eC=[en,Et,Qt,ur,Ji,hs,qs,xi,ra(gr),ds,fs,Fi,Dl,kc];function ps(d,l){if(l.kind==="error")return null;if(d.kind==="array"){if(l.kind==="array"&&(l.N===0&&l.itemType.kind==="value"||!ps(d.itemType,l.itemType))&&(typeof d.N!="number"||d.N===l.N))return null}else{if(d.kind===l.kind)return null;if(d.kind==="value"){for(const c of eC)if(!ps(c,l))return null}}return`Expected ${In(d)} but found ${In(l)} instead.`}function rd(d,l){return l.some((c=>c.kind===d.kind))}function Xn(d,l){return l.some((c=>c==="null"?d===null:c==="array"?Array.isArray(d):c==="object"?d&&!Array.isArray(d)&&typeof d=="object":c===typeof d))}function Ll(d,l){return d.kind==="array"&&l.kind==="array"?d.itemType.kind===l.itemType.kind&&typeof d.N=="number":d.kind===l.kind}const yv=.96422,$c=.82521,_v=4/29,zc=6/29,Rb=3*zc*zc,Ob=zc*zc*zc,tC=Math.PI/180,kb=180/Math.PI;function $b(d){return(d%=360)<0&&(d+=360),d}function zb([d,l,c,g]){let y,w;const T=xv((.2225045*(d=bv(d))+.7168786*(l=bv(l))+.0606169*(c=bv(c)))/1);d===l&&l===c?y=w=T:(y=xv((.4360747*d+.3850649*l+.1430804*c)/yv),w=xv((.0139322*d+.0971045*l+.7141733*c)/$c));const E=116*T-16;return[E<0?0:E,500*(y-T),200*(T-w),g]}function bv(d){return d<=.04045?d/12.92:Math.pow((d+.055)/1.055,2.4)}function xv(d){return d>Ob?Math.pow(d,1/3):d/Rb+_v}function Bb([d,l,c,g]){let y=(d+16)/116,w=isNaN(l)?y:y+l/500,T=isNaN(c)?y:y-c/200;return y=1*Sv(y),w=yv*Sv(w),T=$c*Sv(T),[wv(3.1338561*w-1.6168667*y-.4906146*T),wv(-.9787684*w+1.9161415*y+.033454*T),wv(.0719453*w-.2289914*y+1.4052427*T),g]}function wv(d){return(d=d<=.00304?12.92*d:1.055*Math.pow(d,1/2.4)-.055)<0?0:d>1?1:d}function Sv(d){return d>zc?d*d*d:Rb*(d-_v)}const Fb=Object.hasOwn||function(d,l){return Object.prototype.hasOwnProperty.call(d,l)};function Zs(d,l){return Fb(d,l)?d[l]:void 0}function vp(d){return parseInt(d.padEnd(2,d),16)/255}function Nb(d,l){return ms(l?d/100:d,0,1)}function ms(d,l,c){return Math.min(Math.max(l,d),c)}function Vb(d){return!d.some(Number.isNaN)}const rC={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function Rl(d,l,c){return d+c*(l-d)}function Tu(d,l,c){return d.map(((g,y)=>Rl(g,l[y],c)))}class Vr{constructor(l,c,g,y=1,w=!0){this.r=l,this.g=c,this.b=g,this.a=y,w||(this.r*=y,this.g*=y,this.b*=y,y||this.overwriteGetter("rgb",[l,c,g,y]))}static parse(l){if(l instanceof Vr)return l;if(typeof l!="string")return;const c=(function(g){if((g=g.toLowerCase().trim())==="transparent")return[0,0,0,0];const y=Zs(rC,g);if(y){const[T,E,O]=y;return[T/255,E/255,O/255,1]}if(g.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(g)){const T=g.length<6?1:2;let E=1;return[vp(g.slice(E,E+=T)),vp(g.slice(E,E+=T)),vp(g.slice(E,E+=T)),vp(g.slice(E,E+T)||"ff")]}if(g.startsWith("rgb")){const T=g.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(T){const[E,O,B,V,U,Z,Y,J,re,se,ge,Me]=T,xe=[V||" ",Y||" ",se].join("");if(xe==="  "||xe==="  /"||xe===",,"||xe===",,,"){const Ce=[B,Z,re].join(""),Ue=Ce==="%%%"?100:Ce===""?255:0;if(Ue){const We=[ms(+O/Ue,0,1),ms(+U/Ue,0,1),ms(+J/Ue,0,1),ge?Nb(+ge,Me):1];if(Vb(We))return We}}return}}const w=g.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(w){const[T,E,O,B,V,U,Z,Y,J]=w,re=[O||" ",V||" ",Z].join("");if(re==="  "||re==="  /"||re===",,"||re===",,,"){const se=[+E,ms(+B,0,100),ms(+U,0,100),Y?Nb(+Y,J):1];if(Vb(se))return(function([ge,Me,xe,Ce]){function Ue(We){const ot=(We+ge/30)%12,Ct=Me*Math.min(xe,1-xe);return xe-Ct*Math.max(-1,Math.min(ot-3,9-ot,1))}return ge=$b(ge),Me/=100,xe/=100,[Ue(0),Ue(8),Ue(4),Ce]})(se)}}})(l);return c?new Vr(...c,!1):void 0}get rgb(){const{r:l,g:c,b:g,a:y}=this,w=y||1/0;return this.overwriteGetter("rgb",[l/w,c/w,g/w,y])}get hcl(){return this.overwriteGetter("hcl",(function(l){const[c,g,y,w]=zb(l),T=Math.sqrt(g*g+y*y);return[Math.round(1e4*T)?$b(Math.atan2(y,g)*kb):NaN,T,c,w]})(this.rgb))}get lab(){return this.overwriteGetter("lab",zb(this.rgb))}overwriteGetter(l,c){return Object.defineProperty(this,l,{value:c}),c}toString(){const[l,c,g,y]=this.rgb;return`rgba(${[l,c,g].map((w=>Math.round(255*w))).join(",")},${y})`}static interpolate(l,c,g,y="rgb"){switch(y){case"rgb":{const[w,T,E,O]=Tu(l.rgb,c.rgb,g);return new Vr(w,T,E,O,!1)}case"hcl":{const[w,T,E,O]=l.hcl,[B,V,U,Z]=c.hcl;let Y,J;if(isNaN(w)||isNaN(B))isNaN(w)?isNaN(B)?Y=NaN:(Y=B,E!==1&&E!==0||(J=V)):(Y=w,U!==1&&U!==0||(J=T));else{let xe=B-w;B>w&&xe>180?xe-=360:B<w&&w-B>180&&(xe+=360),Y=w+g*xe}const[re,se,ge,Me]=(function([xe,Ce,Ue,We]){return xe=isNaN(xe)?0:xe*tC,Bb([Ue,Math.cos(xe)*Ce,Math.sin(xe)*Ce,We])})([Y,J??Rl(T,V,g),Rl(E,U,g),Rl(O,Z,g)]);return new Vr(re,se,ge,Me,!1)}case"lab":{const[w,T,E,O]=Bb(Tu(l.lab,c.lab,g));return new Vr(w,T,E,O,!1)}}}}Vr.black=new Vr(0,0,0,1),Vr.white=new Vr(1,1,1,1),Vr.transparent=new Vr(0,0,0,0),Vr.red=new Vr(1,0,0,1);class ba{constructor(l,c,g){this.sensitivity=l?c?"variant":"case":c?"accent":"base",this.locale=g,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(l,c){return this.collator.compare(l,c)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}const qr=["bottom","center","top"];class Ol{constructor(l,c,g,y,w,T){this.text=l,this.image=c,this.scale=g,this.fontStack=y,this.textColor=w,this.verticalAlign=T}}class wi{constructor(l){this.sections=l}static fromString(l){return new wi([new Ol(l,null,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some((l=>l.text.length!==0||l.image&&l.image.name.length!==0))}static factory(l){return l instanceof wi?l:wi.fromString(l)}toString(){return this.sections.length===0?"":this.sections.map((l=>l.text)).join("")}}class fo{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof fo)return l;if(typeof l=="number")return new fo([l,l,l,l]);if(Array.isArray(l)&&!(l.length<1||l.length>4)){for(const c of l)if(typeof c!="number")return;switch(l.length){case 1:l=[l[0],l[0],l[0],l[0]];break;case 2:l=[l[0],l[1],l[0],l[1]];break;case 3:l=[l[0],l[1],l[2],l[1]]}return new fo(l)}}toString(){return JSON.stringify(this.values)}static interpolate(l,c,g){return new fo(Tu(l.values,c.values,g))}}class po{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof po)return l;if(typeof l=="number")return new po([l]);if(Array.isArray(l)){for(const c of l)if(typeof c!="number")return;return new po(l)}}toString(){return JSON.stringify(this.values)}static interpolate(l,c,g){return new po(Tu(l.values,c.values,g))}}class Ni{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof Ni)return l;if(typeof l=="string"){const g=Vr.parse(l);return g?new Ni([g]):void 0}if(!Array.isArray(l))return;const c=[];for(const g of l){if(typeof g!="string")return;const y=Vr.parse(g);if(!y)return;c.push(y)}return new Ni(c)}toString(){return JSON.stringify(this.values)}static interpolate(l,c,g,y="rgb"){const w=[];if(l.values.length!=c.values.length)throw new Error(`colorArray: Arrays have mismatched length (${l.values.length} vs. ${c.values.length}), cannot interpolate.`);for(let T=0;T<l.values.length;T++)w.push(Vr.interpolate(l.values[T],c.values[T],g,y));return new Ni(w)}}class En extends Error{constructor(l){super(l),this.name="RuntimeError"}toJSON(){return this.message}}const yp=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class To{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof To)return l;if(Array.isArray(l)&&!(l.length<1)&&l.length%2==0){for(let c=0;c<l.length;c+=2){const g=l[c],y=l[c+1];if(typeof g!="string"||!yp.has(g)||!Array.isArray(y)||y.length!==2||typeof y[0]!="number"||typeof y[1]!="number")return}return new To(l)}}toString(){return JSON.stringify(this.values)}static interpolate(l,c,g){const y=l.values,w=c.values;if(y.length!==w.length)throw new En(`Cannot interpolate values of different length. from: ${l.toString()}, to: ${c.toString()}`);const T=[];for(let E=0;E<y.length;E+=2){if(y[E]!==w[E])throw new En(`Cannot interpolate values containing mismatched anchors. from[${E}]: ${y[E]}, to[${E}]: ${w[E]}`);T.push(y[E]);const[O,B]=y[E+1],[V,U]=w[E+1];T.push([Rl(O,V,g),Rl(B,U,g)])}return new To(T)}}class Bo{constructor(l){this.name=l.name,this.available=l.available}toString(){return this.name}static fromString(l){return l?new Bo({name:l,available:!1}):null}}class mo{constructor(l,c,g){this.from=l,this.to=c,this.transition=g}static interpolate(l,c,g){return new mo(l,c,g)}static parse(l){return l instanceof mo?l:Array.isArray(l)&&l.length===3&&typeof l[0]=="string"&&typeof l[1]=="string"&&typeof l[2]=="number"?new mo(l[0],l[1],l[2]):typeof l=="object"&&typeof l.from=="string"&&typeof l.to=="string"&&typeof l.transition=="number"?new mo(l.from,l.to,l.transition):typeof l=="string"?new mo(l,l,1):void 0}}function jb(d,l,c,g){return typeof d=="number"&&d>=0&&d<=255&&typeof l=="number"&&l>=0&&l<=255&&typeof c=="number"&&c>=0&&c<=255?g===void 0||typeof g=="number"&&g>=0&&g<=1?null:`Invalid rgba value [${[d,l,c,g].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof g=="number"?[d,l,c,g]:[d,l,c]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function kl(d){if(d===null||typeof d=="string"||typeof d=="boolean"||typeof d=="number"||d instanceof mo||d instanceof Vr||d instanceof ba||d instanceof wi||d instanceof fo||d instanceof po||d instanceof Ni||d instanceof To||d instanceof Bo)return!0;if(Array.isArray(d)){for(const l of d)if(!kl(l))return!1;return!0}if(typeof d=="object"){for(const l in d)if(!kl(d[l]))return!1;return!0}return!1}function On(d){if(d===null)return en;if(typeof d=="string")return Qt;if(typeof d=="boolean")return ur;if(typeof d=="number")return Et;if(d instanceof Vr)return Ji;if(d instanceof mo)return hs;if(d instanceof ba)return Va;if(d instanceof wi)return qs;if(d instanceof fo)return ds;if(d instanceof po)return fs;if(d instanceof Ni)return Fi;if(d instanceof To)return kc;if(d instanceof Bo)return Dl;if(Array.isArray(d)){const l=d.length;let c;for(const g of d){const y=On(g);if(c){if(c===y)continue;c=gr;break}c=y}return ra(c||gr,l)}return xi}function Bc(d){const l=typeof d;return d===null?"":l==="string"||l==="number"||l==="boolean"?String(d):d instanceof Vr||d instanceof mo||d instanceof wi||d instanceof fo||d instanceof po||d instanceof Ni||d instanceof To||d instanceof Bo?d.toString():JSON.stringify(d)}class $l{constructor(l,c){this.type=l,this.value=c}static parse(l,c){if(l.length!==2)return c.error(`'literal' expression requires exactly one argument, but found ${l.length-1} instead.`);if(!kl(l[1]))return c.error("invalid value");const g=l[1];let y=On(g);const w=c.expectedType;return y.kind!=="array"||y.N!==0||!w||w.kind!=="array"||typeof w.N=="number"&&w.N!==0||(y=w),new $l(y,g)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}const nd={string:Qt,number:Et,boolean:ur,object:xi};class Fo{constructor(l,c){this.type=l,this.args=c}static parse(l,c){if(l.length<2)return c.error("Expected at least one argument.");let g,y=1;const w=l[0];if(w==="array"){let E,O;if(l.length>2){const B=l[1];if(typeof B!="string"||!(B in nd)||B==="object")return c.error('The item type argument of "array" must be one of string, number, boolean',1);E=nd[B],y++}else E=gr;if(l.length>3){if(l[2]!==null&&(typeof l[2]!="number"||l[2]<0||l[2]!==Math.floor(l[2])))return c.error('The length argument to "array" must be a positive integer literal',2);O=l[2],y++}g=ra(E,O)}else{if(!nd[w])throw new Error(`Types doesn't contain name = ${w}`);g=nd[w]}const T=[];for(;y<l.length;y++){const E=c.parse(l[y],y,gr);if(!E)return null;T.push(E)}return new Fo(g,T)}evaluate(l){for(let c=0;c<this.args.length;c++){const g=this.args[c].evaluate(l);if(!ps(this.type,On(g)))return g;if(c===this.args.length-1)throw new En(`Expected value to be of type ${In(this.type)}, but found ${In(On(g))} instead.`)}throw new Error}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every((l=>l.outputDefined()))}}const kn={"to-boolean":ur,"to-color":Ji,"to-number":Et,"to-string":Qt};class gs{constructor(l,c){this.type=l,this.args=c}static parse(l,c){if(l.length<2)return c.error("Expected at least one argument.");const g=l[0];if(!kn[g])throw new Error(`Can't parse ${g} as it is not part of the known types`);if((g==="to-boolean"||g==="to-string")&&l.length!==2)return c.error("Expected one argument.");const y=kn[g],w=[];for(let T=1;T<l.length;T++){const E=c.parse(l[T],T,gr);if(!E)return null;w.push(E)}return new gs(y,w)}evaluate(l){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(l);case"color":{let c,g;for(const y of this.args){if(c=y.evaluate(l),g=null,c instanceof Vr)return c;if(typeof c=="string"){const w=l.parseColor(c);if(w)return w}else if(Array.isArray(c)&&(g=c.length<3||c.length>4?`Invalid rgba value ${JSON.stringify(c)}: expected an array containing either three or four numeric values.`:jb(c[0],c[1],c[2],c[3]),!g))return new Vr(c[0]/255,c[1]/255,c[2]/255,c[3])}throw new En(g||`Could not parse color from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"padding":{let c;for(const g of this.args){c=g.evaluate(l);const y=fo.parse(c);if(y)return y}throw new En(`Could not parse padding from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"numberArray":{let c;for(const g of this.args){c=g.evaluate(l);const y=po.parse(c);if(y)return y}throw new En(`Could not parse numberArray from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"colorArray":{let c;for(const g of this.args){c=g.evaluate(l);const y=Ni.parse(c);if(y)return y}throw new En(`Could not parse colorArray from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"variableAnchorOffsetCollection":{let c;for(const g of this.args){c=g.evaluate(l);const y=To.parse(c);if(y)return y}throw new En(`Could not parse variableAnchorOffsetCollection from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"number":{let c=null;for(const g of this.args){if(c=g.evaluate(l),c===null)return 0;const y=Number(c);if(!isNaN(y))return y}throw new En(`Could not convert ${JSON.stringify(c)} to number.`)}case"formatted":return wi.fromString(Bc(this.args[0].evaluate(l)));case"resolvedImage":return Bo.fromString(Bc(this.args[0].evaluate(l)));case"projectionDefinition":return this.args[0].evaluate(l);default:return Bc(this.args[0].evaluate(l))}}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every((l=>l.outputDefined()))}}const Qr=["Unknown","Point","LineString","Polygon"];class Dr{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Qr[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(l){let c=this._parseColorCache.get(l);return c||(c=Vr.parse(l),this._parseColorCache.set(l,c)),c}}class Fc{constructor(l,c,g=[],y,w=new ii,T=[]){this.registry=l,this.path=g,this.key=g.map((E=>`[${E}]`)).join(""),this.scope=w,this.errors=T,this.expectedType=y,this._isConstant=c}parse(l,c,g,y,w={}){return c?this.concat(c,g,y)._parse(l,w):this._parse(l,w)}_parse(l,c){function g(y,w,T){return T==="assert"?new Fo(w,[y]):T==="coerce"?new gs(w,[y]):y}if(l!==null&&typeof l!="string"&&typeof l!="boolean"&&typeof l!="number"||(l=["literal",l]),Array.isArray(l)){if(l.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const y=l[0];if(typeof y!="string")return this.error(`Expression name must be a string, but found ${typeof y} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const w=this.registry[y];if(w){let T=w.parse(l,this);if(!T)return null;if(this.expectedType){const E=this.expectedType,O=T.type;if(E.kind!=="string"&&E.kind!=="number"&&E.kind!=="boolean"&&E.kind!=="object"&&E.kind!=="array"||O.kind!=="value"){if(E.kind==="projectionDefinition"&&["string","array"].includes(O.kind)||["color","formatted","resolvedImage"].includes(E.kind)&&["value","string"].includes(O.kind)||["padding","numberArray"].includes(E.kind)&&["value","number","array"].includes(O.kind)||E.kind==="colorArray"&&["value","string","array"].includes(O.kind)||E.kind==="variableAnchorOffsetCollection"&&["value","array"].includes(O.kind))T=g(T,E,c.typeAnnotation||"coerce");else if(this.checkSubtype(E,O))return null}else T=g(T,E,c.typeAnnotation||"assert")}if(!(T instanceof $l)&&T.type.kind!=="resolvedImage"&&this._isConstant(T)){const E=new Dr;try{T=new $l(T.type,T.evaluate(E))}catch(O){return this.error(O.message),null}}return T}return this.error(`Unknown expression "${y}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(l===void 0?"'undefined' value invalid. Use null instead.":typeof l=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof l} instead.`)}concat(l,c,g){const y=typeof l=="number"?this.path.concat(l):this.path,w=g?this.scope.concat(g):this.scope;return new Fc(this.registry,this._isConstant,y,c||null,w,this.errors)}error(l,...c){const g=`${this.key}${c.map((y=>`[${y}]`)).join("")}`;this.errors.push(new dn(g,l))}checkSubtype(l,c){const g=ps(l,c);return g&&this.error(g),g}}class Zr{constructor(l,c){this.type=c.type,this.bindings=[].concat(l),this.result=c}evaluate(l){return this.result.evaluate(l)}eachChild(l){for(const c of this.bindings)l(c[1]);l(this.result)}static parse(l,c){if(l.length<4)return c.error(`Expected at least 3 arguments, but found ${l.length-1} instead.`);const g=[];for(let w=1;w<l.length-1;w+=2){const T=l[w];if(typeof T!="string")return c.error(`Expected string, but found ${typeof T} instead.`,w);if(/[^a-zA-Z0-9_]/.test(T))return c.error("Variable names must contain only alphanumeric characters or '_'.",w);const E=c.parse(l[w+1],w+1);if(!E)return null;g.push([T,E])}const y=c.parse(l[l.length-1],l.length-1,c.expectedType,g);return y?new Zr(g,y):null}outputDefined(){return this.result.outputDefined()}}class Nc{constructor(l,c){this.type=c.type,this.name=l,this.boundExpression=c}static parse(l,c){if(l.length!==2||typeof l[1]!="string")return c.error("'var' expression requires exactly one string literal argument.");const g=l[1];return c.scope.has(g)?new Nc(g,c.scope.get(g)):c.error(`Unknown variable "${g}". Make sure "${g}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(l){return this.boundExpression.evaluate(l)}eachChild(){}outputDefined(){return!1}}class ja{constructor(l,c,g){this.type=l,this.index=c,this.input=g}static parse(l,c){if(l.length!==3)return c.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const g=c.parse(l[1],1,Et),y=c.parse(l[2],2,ra(c.expectedType||gr));return g&&y?new ja(y.type.itemType,g,y):null}evaluate(l){const c=this.index.evaluate(l),g=this.input.evaluate(l);if(c<0)throw new En(`Array index out of bounds: ${c} < 0.`);if(c>=g.length)throw new En(`Array index out of bounds: ${c} > ${g.length-1}.`);if(c!==Math.floor(c))throw new En(`Array index must be an integer, but found ${c} instead.`);return g[c]}eachChild(l){l(this.index),l(this.input)}outputDefined(){return!1}}class id{constructor(l,c){this.type=ur,this.needle=l,this.haystack=c}static parse(l,c){if(l.length!==3)return c.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const g=c.parse(l[1],1,gr),y=c.parse(l[2],2,gr);return g&&y?rd(g.type,[ur,Qt,Et,en,gr])?new id(g,y):c.error(`Expected first argument to be of type boolean, string, number or null, but found ${In(g.type)} instead`):null}evaluate(l){const c=this.needle.evaluate(l),g=this.haystack.evaluate(l);if(!g)return!1;if(!Xn(c,["boolean","string","number","null"]))throw new En(`Expected first argument to be of type boolean, string, number or null, but found ${In(On(c))} instead.`);if(!Xn(g,["string","array"]))throw new En(`Expected second argument to be of type array or string, but found ${In(On(g))} instead.`);return g.indexOf(c)>=0}eachChild(l){l(this.needle),l(this.haystack)}outputDefined(){return!0}}class Cu{constructor(l,c,g){this.type=Et,this.needle=l,this.haystack=c,this.fromIndex=g}static parse(l,c){if(l.length<=2||l.length>=5)return c.error(`Expected 2 or 3 arguments, but found ${l.length-1} instead.`);const g=c.parse(l[1],1,gr),y=c.parse(l[2],2,gr);if(!g||!y)return null;if(!rd(g.type,[ur,Qt,Et,en,gr]))return c.error(`Expected first argument to be of type boolean, string, number or null, but found ${In(g.type)} instead`);if(l.length===4){const w=c.parse(l[3],3,Et);return w?new Cu(g,y,w):null}return new Cu(g,y)}evaluate(l){const c=this.needle.evaluate(l),g=this.haystack.evaluate(l);if(!Xn(c,["boolean","string","number","null"]))throw new En(`Expected first argument to be of type boolean, string, number or null, but found ${In(On(c))} instead.`);let y;if(this.fromIndex&&(y=this.fromIndex.evaluate(l)),Xn(g,["string"])){const w=g.indexOf(c,y);return w===-1?-1:[...g.slice(0,w)].length}if(Xn(g,["array"]))return g.indexOf(c,y);throw new En(`Expected second argument to be of type array or string, but found ${In(On(g))} instead.`)}eachChild(l){l(this.needle),l(this.haystack),this.fromIndex&&l(this.fromIndex)}outputDefined(){return!1}}class _p{constructor(l,c,g,y,w,T){this.inputType=l,this.type=c,this.input=g,this.cases=y,this.outputs=w,this.otherwise=T}static parse(l,c){if(l.length<5)return c.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if(l.length%2!=1)return c.error("Expected an even number of arguments.");let g,y;c.expectedType&&c.expectedType.kind!=="value"&&(y=c.expectedType);const w={},T=[];for(let B=2;B<l.length-1;B+=2){let V=l[B];const U=l[B+1];Array.isArray(V)||(V=[V]);const Z=c.concat(B);if(V.length===0)return Z.error("Expected at least one branch label.");for(const J of V){if(typeof J!="number"&&typeof J!="string")return Z.error("Branch labels must be numbers or strings.");if(typeof J=="number"&&Math.abs(J)>Number.MAX_SAFE_INTEGER)return Z.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof J=="number"&&Math.floor(J)!==J)return Z.error("Numeric branch labels must be integer values.");if(g){if(Z.checkSubtype(g,On(J)))return null}else g=On(J);if(w[String(J)]!==void 0)return Z.error("Branch labels must be unique.");w[String(J)]=T.length}const Y=c.parse(U,B,y);if(!Y)return null;y=y||Y.type,T.push(Y)}const E=c.parse(l[1],1,gr);if(!E)return null;const O=c.parse(l[l.length-1],l.length-1,y);return O?E.type.kind!=="value"&&c.concat(1).checkSubtype(g,E.type)?null:new _p(g,y,E,w,T,O):null}evaluate(l){const c=this.input.evaluate(l);return(On(c)===this.inputType&&this.outputs[this.cases[c]]||this.otherwise).evaluate(l)}eachChild(l){l(this.input),this.outputs.forEach(l),l(this.otherwise)}outputDefined(){return this.outputs.every((l=>l.outputDefined()))&&this.otherwise.outputDefined()}}class od{constructor(l,c,g){this.type=l,this.branches=c,this.otherwise=g}static parse(l,c){if(l.length<4)return c.error(`Expected at least 3 arguments, but found only ${l.length-1}.`);if(l.length%2!=0)return c.error("Expected an odd number of arguments.");let g;c.expectedType&&c.expectedType.kind!=="value"&&(g=c.expectedType);const y=[];for(let T=1;T<l.length-1;T+=2){const E=c.parse(l[T],T,ur);if(!E)return null;const O=c.parse(l[T+1],T+1,g);if(!O)return null;y.push([E,O]),g=g||O.type}const w=c.parse(l[l.length-1],l.length-1,g);if(!w)return null;if(!g)throw new Error("Can't infer output type");return new od(g,y,w)}evaluate(l){for(const[c,g]of this.branches)if(c.evaluate(l))return g.evaluate(l);return this.otherwise.evaluate(l)}eachChild(l){for(const[c,g]of this.branches)l(c),l(g);l(this.otherwise)}outputDefined(){return this.branches.every((([l,c])=>c.outputDefined()))&&this.otherwise.outputDefined()}}class ad{constructor(l,c,g,y){this.type=l,this.input=c,this.beginIndex=g,this.endIndex=y}static parse(l,c){if(l.length<=2||l.length>=5)return c.error(`Expected 2 or 3 arguments, but found ${l.length-1} instead.`);const g=c.parse(l[1],1,gr),y=c.parse(l[2],2,Et);if(!g||!y)return null;if(!rd(g.type,[ra(gr),Qt,gr]))return c.error(`Expected first argument to be of type array or string, but found ${In(g.type)} instead`);if(l.length===4){const w=c.parse(l[3],3,Et);return w?new ad(g.type,g,y,w):null}return new ad(g.type,g,y)}evaluate(l){const c=this.input.evaluate(l),g=this.beginIndex.evaluate(l);let y;if(this.endIndex&&(y=this.endIndex.evaluate(l)),Xn(c,["string"]))return[...c].slice(g,y).join("");if(Xn(c,["array"]))return c.slice(g,y);throw new En(`Expected first argument to be of type array or string, but found ${In(On(c))} instead.`)}eachChild(l){l(this.input),l(this.beginIndex),this.endIndex&&l(this.endIndex)}outputDefined(){return!1}}function bp(d,l){const c=d.length-1;let g,y,w=0,T=c,E=0;for(;w<=T;)if(E=Math.floor((w+T)/2),g=d[E],y=d[E+1],g<=l){if(E===c||l<y)return E;w=E+1}else{if(!(g>l))throw new En("Input is not a number.");T=E-1}return 0}class Vc{constructor(l,c,g){this.type=l,this.input=c,this.labels=[],this.outputs=[];for(const[y,w]of g)this.labels.push(y),this.outputs.push(w)}static parse(l,c){if(l.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return c.error("Expected an even number of arguments.");const g=c.parse(l[1],1,Et);if(!g)return null;const y=[];let w=null;c.expectedType&&c.expectedType.kind!=="value"&&(w=c.expectedType);for(let T=1;T<l.length;T+=2){const E=T===1?-1/0:l[T],O=l[T+1],B=T,V=T+1;if(typeof E!="number")return c.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',B);if(y.length&&y[y.length-1][0]>=E)return c.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',B);const U=c.parse(O,V,w);if(!U)return null;w=w||U.type,y.push([E,U])}return new Vc(w,g,y)}evaluate(l){const c=this.labels,g=this.outputs;if(c.length===1)return g[0].evaluate(l);const y=this.input.evaluate(l);if(y<=c[0])return g[0].evaluate(l);const w=c.length;return y>=c[w-1]?g[w-1].evaluate(l):g[bp(c,y)].evaluate(l)}eachChild(l){l(this.input);for(const c of this.outputs)l(c)}outputDefined(){return this.outputs.every((l=>l.outputDefined()))}}function Hb(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var vs,Qi,xp=(function(){if(Qi)return vs;function d(l,c,g,y){this.cx=3*l,this.bx=3*(g-l)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*c,this.by=3*(y-c)-this.cy,this.ay=1-this.cy-this.by,this.p1x=l,this.p1y=c,this.p2x=g,this.p2y=y}return Qi=1,vs=d,d.prototype={sampleCurveX:function(l){return((this.ax*l+this.bx)*l+this.cx)*l},sampleCurveY:function(l){return((this.ay*l+this.by)*l+this.cy)*l},sampleCurveDerivativeX:function(l){return(3*this.ax*l+2*this.bx)*l+this.cx},solveCurveX:function(l,c){if(c===void 0&&(c=1e-6),l<0)return 0;if(l>1)return 1;for(var g=l,y=0;y<8;y++){var w=this.sampleCurveX(g)-l;if(Math.abs(w)<c)return g;var T=this.sampleCurveDerivativeX(g);if(Math.abs(T)<1e-6)break;g-=w/T}var E=0,O=1;for(g=l,y=0;y<20&&(w=this.sampleCurveX(g),!(Math.abs(w-l)<c));y++)l>w?E=g:O=g,g=.5*(O-E)+E;return g},solve:function(l,c){return this.sampleCurveY(this.solveCurveX(l,c))}},vs})(),Gb=Hb(xp);class eo{constructor(l,c,g,y,w){this.type=l,this.operator=c,this.interpolation=g,this.input=y,this.labels=[],this.outputs=[];for(const[T,E]of w)this.labels.push(T),this.outputs.push(E)}static interpolationFactor(l,c,g,y){let w=0;if(l.name==="exponential")w=Si(c,l.base,g,y);else if(l.name==="linear")w=Si(c,1,g,y);else if(l.name==="cubic-bezier"){const T=l.controlPoints;w=new Gb(T[0],T[1],T[2],T[3]).solve(Si(c,1,g,y))}return w}static parse(l,c){let[g,y,w,...T]=l;if(!Array.isArray(y)||y.length===0)return c.error("Expected an interpolation type expression.",1);if(y[0]==="linear")y={name:"linear"};else if(y[0]==="exponential"){const B=y[1];if(typeof B!="number")return c.error("Exponential interpolation requires a numeric base.",1,1);y={name:"exponential",base:B}}else{if(y[0]!=="cubic-bezier")return c.error(`Unknown interpolation type ${String(y[0])}`,1,0);{const B=y.slice(1);if(B.length!==4||B.some((V=>typeof V!="number"||V<0||V>1)))return c.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);y={name:"cubic-bezier",controlPoints:B}}}if(l.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return c.error("Expected an even number of arguments.");if(w=c.parse(w,2,Et),!w)return null;const E=[];let O=null;g!=="interpolate-hcl"&&g!=="interpolate-lab"||c.expectedType==Fi?c.expectedType&&c.expectedType.kind!=="value"&&(O=c.expectedType):O=Ji;for(let B=0;B<T.length;B+=2){const V=T[B],U=T[B+1],Z=B+3,Y=B+4;if(typeof V!="number")return c.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Z);if(E.length&&E[E.length-1][0]>=V)return c.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Z);const J=c.parse(U,Y,O);if(!J)return null;O=O||J.type,E.push([V,J])}return Ll(O,Et)||Ll(O,hs)||Ll(O,Ji)||Ll(O,ds)||Ll(O,fs)||Ll(O,Fi)||Ll(O,kc)||Ll(O,ra(Et))?new eo(O,g,y,w,E):c.error(`Type ${In(O)} is not interpolatable.`)}evaluate(l){const c=this.labels,g=this.outputs;if(c.length===1)return g[0].evaluate(l);const y=this.input.evaluate(l);if(y<=c[0])return g[0].evaluate(l);const w=c.length;if(y>=c[w-1])return g[w-1].evaluate(l);const T=bp(c,y),E=eo.interpolationFactor(this.interpolation,y,c[T],c[T+1]),O=g[T].evaluate(l),B=g[T+1].evaluate(l);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return Rl(O,B,E);case"color":return Vr.interpolate(O,B,E);case"padding":return fo.interpolate(O,B,E);case"colorArray":return Ni.interpolate(O,B,E);case"numberArray":return po.interpolate(O,B,E);case"variableAnchorOffsetCollection":return To.interpolate(O,B,E);case"array":return Tu(O,B,E);case"projectionDefinition":return mo.interpolate(O,B,E)}case"interpolate-hcl":switch(this.type.kind){case"color":return Vr.interpolate(O,B,E,"hcl");case"colorArray":return Ni.interpolate(O,B,E,"hcl")}case"interpolate-lab":switch(this.type.kind){case"color":return Vr.interpolate(O,B,E,"lab");case"colorArray":return Ni.interpolate(O,B,E,"lab")}}}eachChild(l){l(this.input);for(const c of this.outputs)l(c)}outputDefined(){return this.outputs.every((l=>l.outputDefined()))}}function Si(d,l,c,g){const y=g-c,w=d-c;return y===0?0:l===1?w/y:(Math.pow(l,w)-1)/(Math.pow(l,y)-1)}const Ha={color:Vr.interpolate,number:Rl,padding:fo.interpolate,numberArray:po.interpolate,colorArray:Ni.interpolate,variableAnchorOffsetCollection:To.interpolate,array:Tu};class jc{constructor(l,c){this.type=l,this.args=c}static parse(l,c){if(l.length<2)return c.error("Expected at least one argument.");let g=null;const y=c.expectedType;y&&y.kind!=="value"&&(g=y);const w=[];for(const E of l.slice(1)){const O=c.parse(E,1+w.length,g,void 0,{typeAnnotation:"omit"});if(!O)return null;g=g||O.type,w.push(O)}if(!g)throw new Error("No output type");const T=y&&w.some((E=>ps(y,E.type)));return new jc(T?gr:g,w)}evaluate(l){let c,g=null,y=0;for(const w of this.args)if(y++,g=w.evaluate(l),g&&g instanceof Bo&&!g.available&&(c||(c=g.name),g=null,y===this.args.length&&(g=c)),g!==null)break;return g}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every((l=>l.outputDefined()))}}function Tv(d,l){return d==="=="||d==="!="?l.kind==="boolean"||l.kind==="string"||l.kind==="number"||l.kind==="null"||l.kind==="value":l.kind==="string"||l.kind==="number"||l.kind==="value"}function Ub(d,l,c,g){return g.compare(l,c)===0}function Ga(d,l,c){const g=d!=="=="&&d!=="!=";return class NU{constructor(w,T,E){this.type=ur,this.lhs=w,this.rhs=T,this.collator=E,this.hasUntypedArgument=w.type.kind==="value"||T.type.kind==="value"}static parse(w,T){if(w.length!==3&&w.length!==4)return T.error("Expected two or three arguments.");const E=w[0];let O=T.parse(w[1],1,gr);if(!O)return null;if(!Tv(E,O.type))return T.concat(1).error(`"${E}" comparisons are not supported for type '${In(O.type)}'.`);let B=T.parse(w[2],2,gr);if(!B)return null;if(!Tv(E,B.type))return T.concat(2).error(`"${E}" comparisons are not supported for type '${In(B.type)}'.`);if(O.type.kind!==B.type.kind&&O.type.kind!=="value"&&B.type.kind!=="value")return T.error(`Cannot compare types '${In(O.type)}' and '${In(B.type)}'.`);g&&(O.type.kind==="value"&&B.type.kind!=="value"?O=new Fo(B.type,[O]):O.type.kind!=="value"&&B.type.kind==="value"&&(B=new Fo(O.type,[B])));let V=null;if(w.length===4){if(O.type.kind!=="string"&&B.type.kind!=="string"&&O.type.kind!=="value"&&B.type.kind!=="value")return T.error("Cannot use collator to compare non-string types.");if(V=T.parse(w[3],3,Va),!V)return null}return new NU(O,B,V)}evaluate(w){const T=this.lhs.evaluate(w),E=this.rhs.evaluate(w);if(g&&this.hasUntypedArgument){const O=On(T),B=On(E);if(O.kind!==B.kind||O.kind!=="string"&&O.kind!=="number")throw new En(`Expected arguments for "${d}" to be (string, string) or (number, number), but found (${O.kind}, ${B.kind}) instead.`)}if(this.collator&&!g&&this.hasUntypedArgument){const O=On(T),B=On(E);if(O.kind!=="string"||B.kind!=="string")return l(w,T,E)}return this.collator?c(w,T,E,this.collator.evaluate(w)):l(w,T,E)}eachChild(w){w(this.lhs),w(this.rhs),this.collator&&w(this.collator)}outputDefined(){return!0}}}const wp=Ga("==",(function(d,l,c){return l===c}),Ub),Cv=Ga("!=",(function(d,l,c){return l!==c}),(function(d,l,c,g){return!Ub(0,l,c,g)})),nC=Ga("<",(function(d,l,c){return l<c}),(function(d,l,c,g){return g.compare(l,c)<0})),Wb=Ga(">",(function(d,l,c){return l>c}),(function(d,l,c,g){return g.compare(l,c)>0})),Sp=Ga("<=",(function(d,l,c){return l<=c}),(function(d,l,c,g){return g.compare(l,c)<=0})),Tp=Ga(">=",(function(d,l,c){return l>=c}),(function(d,l,c,g){return g.compare(l,c)>=0}));class No{constructor(l,c,g){this.type=Va,this.locale=g,this.caseSensitive=l,this.diacriticSensitive=c}static parse(l,c){if(l.length!==2)return c.error("Expected one argument.");const g=l[1];if(typeof g!="object"||Array.isArray(g))return c.error("Collator options argument must be an object.");const y=c.parse(g["case-sensitive"]!==void 0&&g["case-sensitive"],1,ur);if(!y)return null;const w=c.parse(g["diacritic-sensitive"]!==void 0&&g["diacritic-sensitive"],1,ur);if(!w)return null;let T=null;return g.locale&&(T=c.parse(g.locale,1,Qt),!T)?null:new No(y,w,T)}evaluate(l){return new ba(this.caseSensitive.evaluate(l),this.diacriticSensitive.evaluate(l),this.locale?this.locale.evaluate(l):null)}eachChild(l){l(this.caseSensitive),l(this.diacriticSensitive),this.locale&&l(this.locale)}outputDefined(){return!1}}class Cp{constructor(l,c,g,y,w){this.type=Qt,this.number=l,this.locale=c,this.currency=g,this.minFractionDigits=y,this.maxFractionDigits=w}static parse(l,c){if(l.length!==3)return c.error("Expected two arguments.");const g=c.parse(l[1],1,Et);if(!g)return null;const y=l[2];if(typeof y!="object"||Array.isArray(y))return c.error("NumberFormat options argument must be an object.");let w=null;if(y.locale&&(w=c.parse(y.locale,1,Qt),!w))return null;let T=null;if(y.currency&&(T=c.parse(y.currency,1,Qt),!T))return null;let E=null;if(y["min-fraction-digits"]&&(E=c.parse(y["min-fraction-digits"],1,Et),!E))return null;let O=null;return y["max-fraction-digits"]&&(O=c.parse(y["max-fraction-digits"],1,Et),!O)?null:new Cp(g,w,T,E,O)}evaluate(l){return new Intl.NumberFormat(this.locale?this.locale.evaluate(l):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(l):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(l):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(l):void 0}).format(this.number.evaluate(l))}eachChild(l){l(this.number),this.locale&&l(this.locale),this.currency&&l(this.currency),this.minFractionDigits&&l(this.minFractionDigits),this.maxFractionDigits&&l(this.maxFractionDigits)}outputDefined(){return!1}}class Pu{constructor(l){this.type=qs,this.sections=l}static parse(l,c){if(l.length<2)return c.error("Expected at least one argument.");const g=l[1];if(!Array.isArray(g)&&typeof g=="object")return c.error("First argument must be an image or text section.");const y=[];let w=!1;for(let T=1;T<=l.length-1;++T){const E=l[T];if(w&&typeof E=="object"&&!Array.isArray(E)){w=!1;let O=null;if(E["font-scale"]&&(O=c.parse(E["font-scale"],1,Et),!O))return null;let B=null;if(E["text-font"]&&(B=c.parse(E["text-font"],1,ra(Qt)),!B))return null;let V=null;if(E["text-color"]&&(V=c.parse(E["text-color"],1,Ji),!V))return null;let U=null;if(E["vertical-align"]){if(typeof E["vertical-align"]=="string"&&!qr.includes(E["vertical-align"]))return c.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${E["vertical-align"]}' instead.`);if(U=c.parse(E["vertical-align"],1,Qt),!U)return null}const Z=y[y.length-1];Z.scale=O,Z.font=B,Z.textColor=V,Z.verticalAlign=U}else{const O=c.parse(l[T],1,gr);if(!O)return null;const B=O.type.kind;if(B!=="string"&&B!=="value"&&B!=="null"&&B!=="resolvedImage")return c.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");w=!0,y.push({content:O,scale:null,font:null,textColor:null,verticalAlign:null})}}return new Pu(y)}evaluate(l){return new wi(this.sections.map((c=>{const g=c.content.evaluate(l);return On(g)===Dl?new Ol("",g,null,null,null,c.verticalAlign?c.verticalAlign.evaluate(l):null):new Ol(Bc(g),null,c.scale?c.scale.evaluate(l):null,c.font?c.font.evaluate(l).join(","):null,c.textColor?c.textColor.evaluate(l):null,c.verticalAlign?c.verticalAlign.evaluate(l):null)})))}eachChild(l){for(const c of this.sections)l(c.content),c.scale&&l(c.scale),c.font&&l(c.font),c.textColor&&l(c.textColor),c.verticalAlign&&l(c.verticalAlign)}outputDefined(){return!1}}class Pv{constructor(l){this.type=Dl,this.input=l}static parse(l,c){if(l.length!==2)return c.error("Expected two arguments.");const g=c.parse(l[1],1,Qt);return g?new Pv(g):c.error("No image name provided.")}evaluate(l){const c=this.input.evaluate(l),g=Bo.fromString(c);return g&&l.availableImages&&(g.available=l.availableImages.indexOf(c)>-1),g}eachChild(l){l(this.input)}outputDefined(){return!1}}class sd{constructor(l){this.type=Et,this.input=l}static parse(l,c){if(l.length!==2)return c.error(`Expected 1 argument, but found ${l.length-1} instead.`);const g=c.parse(l[1],1);return g?g.type.kind!=="array"&&g.type.kind!=="string"&&g.type.kind!=="value"?c.error(`Expected argument of type string or array, but found ${In(g.type)} instead.`):new sd(g):null}evaluate(l){const c=this.input.evaluate(l);if(typeof c=="string")return[...c].length;if(Array.isArray(c))return c.length;throw new En(`Expected value to be of type string or array, but found ${In(On(c))} instead.`)}eachChild(l){l(this.input)}outputDefined(){return!1}}const ys=8192;function iC(d,l){const c=(180+d[0])/360,g=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+d[1]*Math.PI/360)))/360,y=Math.pow(2,l.z);return[Math.round(c*y*ys),Math.round(g*y*ys)]}function Mv(d,l){const c=Math.pow(2,l.z);return[(y=(d[0]/ys+l.x)/c,360*y-180),(g=(d[1]/ys+l.y)/c,360/Math.PI*Math.atan(Math.exp((180-360*g)*Math.PI/180))-90)];var g,y}function ld(d,l){d[0]=Math.min(d[0],l[0]),d[1]=Math.min(d[1],l[1]),d[2]=Math.max(d[2],l[0]),d[3]=Math.max(d[3],l[1])}function zl(d,l){return!(d[0]<=l[0]||d[2]>=l[2]||d[1]<=l[1]||d[3]>=l[3])}function oC(d,l,c){const g=d[0]-l[0],y=d[1]-l[1],w=d[0]-c[0],T=d[1]-c[1];return g*T-w*y==0&&g*w<=0&&y*T<=0}function ud(d,l,c,g){return(y=[g[0]-c[0],g[1]-c[1]])[0]*(w=[l[0]-d[0],l[1]-d[1]])[1]-y[1]*w[0]!=0&&!(!Kb(d,l,c,g)||!Kb(c,g,d,l));var y,w}function qb(d,l,c){for(const g of c)for(let y=0;y<g.length-1;++y)if(ud(d,l,g[y],g[y+1]))return!0;return!1}function Hc(d,l,c=!1){let g=!1;for(const E of l)for(let O=0;O<E.length-1;O++){if(oC(d,E[O],E[O+1]))return c;(w=E[O])[1]>(y=d)[1]!=(T=E[O+1])[1]>y[1]&&y[0]<(T[0]-w[0])*(y[1]-w[1])/(T[1]-w[1])+w[0]&&(g=!g)}var y,w,T;return g}function Zb(d,l){for(const c of l)if(Hc(d,c))return!0;return!1}function Xb(d,l){for(const c of d)if(!Hc(c,l))return!1;for(let c=0;c<d.length-1;++c)if(qb(d[c],d[c+1],l))return!1;return!0}function aC(d,l){for(const c of l)if(Xb(d,c))return!0;return!1}function Kb(d,l,c,g){const y=g[0]-c[0],w=g[1]-c[1],T=(d[0]-c[0])*w-y*(d[1]-c[1]),E=(l[0]-c[0])*w-y*(l[1]-c[1]);return T>0&&E<0||T<0&&E>0}function Iv(d,l,c){const g=[];for(let y=0;y<d.length;y++){const w=[];for(let T=0;T<d[y].length;T++){const E=iC(d[y][T],c);ld(l,E),w.push(E)}g.push(w)}return g}function Yb(d,l,c){const g=[];for(let y=0;y<d.length;y++){const w=Iv(d[y],l,c);g.push(w)}return g}function Ev(d,l,c,g){if(d[0]<c[0]||d[0]>c[2]){const y=.5*g;let w=d[0]-c[0]>y?-g:c[0]-d[0]>y?g:0;w===0&&(w=d[0]-c[2]>y?-g:c[2]-d[0]>y?g:0),d[0]+=w}ld(l,d)}function Av(d,l,c,g){const y=Math.pow(2,g.z)*ys,w=[g.x*ys,g.y*ys],T=[];for(const E of d)for(const O of E){const B=[O.x+w[0],O.y+w[1]];Ev(B,l,c,y),T.push(B)}return T}function Dv(d,l,c,g){const y=Math.pow(2,g.z)*ys,w=[g.x*ys,g.y*ys],T=[];for(const O of d){const B=[];for(const V of O){const U=[V.x+w[0],V.y+w[1]];ld(l,U),B.push(U)}T.push(B)}if(l[2]-l[0]<=y/2){(E=l)[0]=E[1]=1/0,E[2]=E[3]=-1/0;for(const O of T)for(const B of O)Ev(B,l,c,y)}var E;return T}class Mu{constructor(l,c){this.type=ur,this.geojson=l,this.geometries=c}static parse(l,c){if(l.length!==2)return c.error(`'within' expression requires exactly one argument, but found ${l.length-1} instead.`);if(kl(l[1])){const g=l[1];if(g.type==="FeatureCollection"){const y=[];for(const w of g.features){const{type:T,coordinates:E}=w.geometry;T==="Polygon"&&y.push(E),T==="MultiPolygon"&&y.push(...E)}if(y.length)return new Mu(g,{type:"MultiPolygon",coordinates:y})}else if(g.type==="Feature"){const y=g.geometry.type;if(y==="Polygon"||y==="MultiPolygon")return new Mu(g,g.geometry)}else if(g.type==="Polygon"||g.type==="MultiPolygon")return new Mu(g,g)}return c.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return(function(c,g){const y=[1/0,1/0,-1/0,-1/0],w=[1/0,1/0,-1/0,-1/0],T=c.canonicalID();if(g.type==="Polygon"){const E=Iv(g.coordinates,w,T),O=Av(c.geometry(),y,w,T);if(!zl(y,w))return!1;for(const B of O)if(!Hc(B,E))return!1}if(g.type==="MultiPolygon"){const E=Yb(g.coordinates,w,T),O=Av(c.geometry(),y,w,T);if(!zl(y,w))return!1;for(const B of O)if(!Zb(B,E))return!1}return!0})(l,this.geometries);if(l.geometryType()==="LineString")return(function(c,g){const y=[1/0,1/0,-1/0,-1/0],w=[1/0,1/0,-1/0,-1/0],T=c.canonicalID();if(g.type==="Polygon"){const E=Iv(g.coordinates,w,T),O=Dv(c.geometry(),y,w,T);if(!zl(y,w))return!1;for(const B of O)if(!Xb(B,E))return!1}if(g.type==="MultiPolygon"){const E=Yb(g.coordinates,w,T),O=Dv(c.geometry(),y,w,T);if(!zl(y,w))return!1;for(const B of O)if(!aC(B,E))return!1}return!0})(l,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let Jb=class{constructor(d=[],l=(c,g)=>c<g?-1:c>g?1:0){if(this.data=d,this.length=this.data.length,this.compare=l,this.length>0)for(let c=(this.length>>1)-1;c>=0;c--)this._down(c)}push(d){this.data.push(d),this._up(this.length++)}pop(){if(this.length===0)return;const d=this.data[0],l=this.data.pop();return--this.length>0&&(this.data[0]=l,this._down(0)),d}peek(){return this.data[0]}_up(d){const{data:l,compare:c}=this,g=l[d];for(;d>0;){const y=d-1>>1,w=l[y];if(c(g,w)>=0)break;l[d]=w,d=y}l[d]=g}_down(d){const{data:l,compare:c}=this,g=this.length>>1,y=l[d];for(;d<g;){let w=1+(d<<1);const T=w+1;if(T<this.length&&c(l[T],l[w])<0&&(w=T),c(l[w],y)>=0)break;l[d]=l[w],d=w}l[d]=y}};function Qb(d,l,c=0,g=d.length-1,y=Pp){for(;g>c;){if(g-c>600){const O=g-c+1,B=l-c+1,V=Math.log(O),U=.5*Math.exp(2*V/3),Z=.5*Math.sqrt(V*U*(O-U)/O)*(B-O/2<0?-1:1);Qb(d,l,Math.max(c,Math.floor(l-B*U/O+Z)),Math.min(g,Math.floor(l+(O-B)*U/O+Z)),y)}const w=d[l];let T=c,E=g;for(cd(d,c,l),y(d[g],w)>0&&cd(d,c,g);T<E;){for(cd(d,T,E),T++,E--;y(d[T],w)<0;)T++;for(;y(d[E],w)>0;)E--}y(d[c],w)===0?cd(d,c,E):(E++,cd(d,E,g)),E<=l&&(c=E+1),l<=E&&(g=E-1)}}function cd(d,l,c){const g=d[l];d[l]=d[c],d[c]=g}function Pp(d,l){return d<l?-1:d>l?1:0}function hd(d,l){if(d.length<=1)return[d];const c=[];let g,y;for(const w of d){const T=lC(w);T!==0&&(w.area=Math.abs(T),y===void 0&&(y=T<0),y===T<0?(g&&c.push(g),g=[w]):g.push(w))}if(g&&c.push(g),l>1)for(let w=0;w<c.length;w++)c[w].length<=l||(Qb(c[w],l,1,c[w].length-1,sC),c[w]=c[w].slice(0,l));return c}function sC(d,l){return l.area-d.area}function lC(d){let l=0;for(let c,g,y=0,w=d.length,T=w-1;y<w;T=y++)c=d[y],g=d[T],l+=(g.x-c.x)*(c.y+g.y);return l}const e1=1/298.257223563,Mp=e1*(2-e1),Lv=Math.PI/180;class Rv{constructor(l){const c=6378.137*Lv*1e3,g=Math.cos(l*Lv),y=1/(1-Mp*(1-g*g)),w=Math.sqrt(y);this.kx=c*w*g,this.ky=c*w*y*(1-Mp)}distance(l,c){const g=this.wrap(l[0]-c[0])*this.kx,y=(l[1]-c[1])*this.ky;return Math.sqrt(g*g+y*y)}pointOnLine(l,c){let g,y,w,T,E=1/0;for(let O=0;O<l.length-1;O++){let B=l[O][0],V=l[O][1],U=this.wrap(l[O+1][0]-B)*this.kx,Z=(l[O+1][1]-V)*this.ky,Y=0;U===0&&Z===0||(Y=(this.wrap(c[0]-B)*this.kx*U+(c[1]-V)*this.ky*Z)/(U*U+Z*Z),Y>1?(B=l[O+1][0],V=l[O+1][1]):Y>0&&(B+=U/this.kx*Y,V+=Z/this.ky*Y)),U=this.wrap(c[0]-B)*this.kx,Z=(c[1]-V)*this.ky;const J=U*U+Z*Z;J<E&&(E=J,g=B,y=V,w=O,T=Y)}return{point:[g,y],index:w,t:Math.max(0,Math.min(1,T))}}wrap(l){for(;l<-180;)l+=360;for(;l>180;)l-=360;return l}}function t1(d,l){return l[0]-d[0]}function dd(d){return d[1]-d[0]+1}function _s(d,l){return d[1]>=d[0]&&d[1]<l}function Ov(d,l){if(d[0]>d[1])return[null,null];const c=dd(d);if(l){if(c===2)return[d,null];const y=Math.floor(c/2);return[[d[0],d[0]+y],[d[0]+y,d[1]]]}if(c===1)return[d,null];const g=Math.floor(c/2)-1;return[[d[0],d[0]+g],[d[0]+g+1,d[1]]]}function kv(d,l){if(!_s(l,d.length))return[1/0,1/0,-1/0,-1/0];const c=[1/0,1/0,-1/0,-1/0];for(let g=l[0];g<=l[1];++g)ld(c,d[g]);return c}function $v(d){const l=[1/0,1/0,-1/0,-1/0];for(const c of d)for(const g of c)ld(l,g);return l}function zv(d){return d[0]!==-1/0&&d[1]!==-1/0&&d[2]!==1/0&&d[3]!==1/0}function Bv(d,l,c){if(!zv(d)||!zv(l))return NaN;let g=0,y=0;return d[2]<l[0]&&(g=l[0]-d[2]),d[0]>l[2]&&(g=d[0]-l[2]),d[1]>l[3]&&(y=d[1]-l[3]),d[3]<l[1]&&(y=l[1]-d[3]),c.distance([0,0],[g,y])}function Iu(d,l,c){const g=c.pointOnLine(l,d);return c.distance(d,g.point)}function Fv(d,l,c,g,y){const w=Math.min(Iu(d,[c,g],y),Iu(l,[c,g],y)),T=Math.min(Iu(c,[d,l],y),Iu(g,[d,l],y));return Math.min(w,T)}function uC(d,l,c,g,y){if(!_s(l,d.length)||!_s(g,c.length))return 1/0;let w=1/0;for(let T=l[0];T<l[1];++T){const E=d[T],O=d[T+1];for(let B=g[0];B<g[1];++B){const V=c[B],U=c[B+1];if(ud(E,O,V,U))return 0;w=Math.min(w,Fv(E,O,V,U,y))}}return w}function tn(d,l,c,g,y){if(!_s(l,d.length)||!_s(g,c.length))return NaN;let w=1/0;for(let T=l[0];T<=l[1];++T)for(let E=g[0];E<=g[1];++E)if(w=Math.min(w,y.distance(d[T],c[E])),w===0)return w;return w}function cC(d,l,c){if(Hc(d,l,!0))return 0;let g=1/0;for(const y of l){const w=y[0],T=y[y.length-1];if(w!==T&&(g=Math.min(g,Iu(d,[T,w],c)),g===0))return g;const E=c.pointOnLine(y,d);if(g=Math.min(g,c.distance(d,E.point)),g===0)return g}return g}function hC(d,l,c,g){if(!_s(l,d.length))return NaN;for(let w=l[0];w<=l[1];++w)if(Hc(d[w],c,!0))return 0;let y=1/0;for(let w=l[0];w<l[1];++w){const T=d[w],E=d[w+1];for(const O of c)for(let B=0,V=O.length,U=V-1;B<V;U=B++){const Z=O[U],Y=O[B];if(ud(T,E,Z,Y))return 0;y=Math.min(y,Fv(T,E,Z,Y,g))}}return y}function r1(d,l){for(const c of d)for(const g of c)if(Hc(g,l,!0))return!0;return!1}function dC(d,l,c,g=1/0){const y=$v(d),w=$v(l);if(g!==1/0&&Bv(y,w,c)>=g)return g;if(zl(y,w)){if(r1(d,l))return 0}else if(r1(l,d))return 0;let T=1/0;for(const E of d)for(let O=0,B=E.length,V=B-1;O<B;V=O++){const U=E[V],Z=E[O];for(const Y of l)for(let J=0,re=Y.length,se=re-1;J<re;se=J++){const ge=Y[se],Me=Y[J];if(ud(U,Z,ge,Me))return 0;T=Math.min(T,Fv(U,Z,ge,Me,c))}}return T}function n1(d,l,c,g,y,w){if(!w)return;const T=Bv(kv(g,w),y,c);T<l&&d.push([T,w,[0,0]])}function Ip(d,l,c,g,y,w,T){if(!w||!T)return;const E=Bv(kv(g,w),kv(y,T),c);E<l&&d.push([E,w,T])}function Ep(d,l,c,g,y=1/0){let w=Math.min(g.distance(d[0],c[0][0]),y);if(w===0)return w;const T=new Jb([[0,[0,d.length-1],[0,0]]],t1),E=$v(c);for(;T.length>0;){const O=T.pop();if(O[0]>=w)continue;const B=O[1],V=l?50:100;if(dd(B)<=V){if(!_s(B,d.length))return NaN;if(l){const U=hC(d,B,c,g);if(isNaN(U)||U===0)return U;w=Math.min(w,U)}else for(let U=B[0];U<=B[1];++U){const Z=cC(d[U],c,g);if(w=Math.min(w,Z),w===0)return 0}}else{const U=Ov(B,l);n1(T,w,g,d,E,U[0]),n1(T,w,g,d,E,U[1])}}return w}function Ap(d,l,c,g,y,w=1/0){let T=Math.min(w,y.distance(d[0],c[0]));if(T===0)return T;const E=new Jb([[0,[0,d.length-1],[0,c.length-1]]],t1);for(;E.length>0;){const O=E.pop();if(O[0]>=T)continue;const B=O[1],V=O[2],U=l?50:100,Z=g?50:100;if(dd(B)<=U&&dd(V)<=Z){if(!_s(B,d.length)&&_s(V,c.length))return NaN;let Y;if(l&&g)Y=uC(d,B,c,V,y),T=Math.min(T,Y);else if(l&&!g){const J=d.slice(B[0],B[1]+1);for(let re=V[0];re<=V[1];++re)if(Y=Iu(c[re],J,y),T=Math.min(T,Y),T===0)return T}else if(!l&&g){const J=c.slice(V[0],V[1]+1);for(let re=B[0];re<=B[1];++re)if(Y=Iu(d[re],J,y),T=Math.min(T,Y),T===0)return T}else Y=tn(d,B,c,V,y),T=Math.min(T,Y)}else{const Y=Ov(B,l),J=Ov(V,g);Ip(E,T,y,d,c,Y[0],J[0]),Ip(E,T,y,d,c,Y[0],J[1]),Ip(E,T,y,d,c,Y[1],J[0]),Ip(E,T,y,d,c,Y[1],J[1])}}return T}function Nv(d){return d.type==="MultiPolygon"?d.coordinates.map((l=>({type:"Polygon",coordinates:l}))):d.type==="MultiLineString"?d.coordinates.map((l=>({type:"LineString",coordinates:l}))):d.type==="MultiPoint"?d.coordinates.map((l=>({type:"Point",coordinates:l}))):[d]}class Eu{constructor(l,c){this.type=Et,this.geojson=l,this.geometries=c}static parse(l,c){if(l.length!==2)return c.error(`'distance' expression requires exactly one argument, but found ${l.length-1} instead.`);if(kl(l[1])){const g=l[1];if(g.type==="FeatureCollection")return new Eu(g,g.features.map((y=>Nv(y.geometry))).flat());if(g.type==="Feature")return new Eu(g,Nv(g.geometry));if("type"in g&&"coordinates"in g)return new Eu(g,Nv(g))}return c.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return(function(c,g){const y=c.geometry(),w=y.flat().map((O=>Mv([O.x,O.y],c.canonical)));if(y.length===0)return NaN;const T=new Rv(w[0][1]);let E=1/0;for(const O of g){switch(O.type){case"Point":E=Math.min(E,Ap(w,!1,[O.coordinates],!1,T,E));break;case"LineString":E=Math.min(E,Ap(w,!1,O.coordinates,!0,T,E));break;case"Polygon":E=Math.min(E,Ep(w,!1,O.coordinates,T,E))}if(E===0)return E}return E})(l,this.geometries);if(l.geometryType()==="LineString")return(function(c,g){const y=c.geometry(),w=y.flat().map((O=>Mv([O.x,O.y],c.canonical)));if(y.length===0)return NaN;const T=new Rv(w[0][1]);let E=1/0;for(const O of g){switch(O.type){case"Point":E=Math.min(E,Ap(w,!0,[O.coordinates],!1,T,E));break;case"LineString":E=Math.min(E,Ap(w,!0,O.coordinates,!0,T,E));break;case"Polygon":E=Math.min(E,Ep(w,!0,O.coordinates,T,E))}if(E===0)return E}return E})(l,this.geometries);if(l.geometryType()==="Polygon")return(function(c,g){const y=c.geometry();if(y.length===0||y[0].length===0)return NaN;const w=hd(y,0).map((O=>O.map((B=>B.map((V=>Mv([V.x,V.y],c.canonical))))))),T=new Rv(w[0][0][0][1]);let E=1/0;for(const O of g)for(const B of w){switch(O.type){case"Point":E=Math.min(E,Ep([O.coordinates],!1,B,T,E));break;case"LineString":E=Math.min(E,Ep(O.coordinates,!0,B,T,E));break;case"Polygon":E=Math.min(E,dC(B,O.coordinates,T,E))}if(E===0)return E}return E})(l,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}class fd{constructor(l){this.type=gr,this.key=l}static parse(l,c){if(l.length!==2)return c.error(`Expected 1 argument, but found ${l.length-1} instead.`);const g=l[1];return g==null?c.error("Global state property must be defined."):typeof g!="string"?c.error(`Global state property must be string, but found ${typeof l[1]} instead.`):new fd(g)}evaluate(l){var c;const g=(c=l.globals)===null||c===void 0?void 0:c.globalState;return g&&Object.keys(g).length!==0?Zs(g,this.key):null}eachChild(){}outputDefined(){return!1}}const Gc={"==":wp,"!=":Cv,">":Wb,"<":nC,">=":Tp,"<=":Sp,array:Fo,at:ja,boolean:Fo,case:od,coalesce:jc,collator:No,format:Pu,image:Pv,in:id,"index-of":Cu,interpolate:eo,"interpolate-hcl":eo,"interpolate-lab":eo,length:sd,let:Zr,literal:$l,match:_p,number:Fo,"number-format":Cp,object:Fo,slice:ad,step:Vc,string:Fo,"to-boolean":gs,"to-color":gs,"to-number":gs,"to-string":gs,var:Nc,within:Mu,distance:Eu,"global-state":fd};class xa{constructor(l,c,g,y){this.name=l,this.type=c,this._evaluate=g,this.args=y}evaluate(l){return this._evaluate(l,this.args)}eachChild(l){this.args.forEach(l)}outputDefined(){return!1}static parse(l,c){const g=l[0],y=xa.definitions[g];if(!y)return c.error(`Unknown expression "${g}". If you wanted a literal array, use ["literal", [...]].`,0);const w=Array.isArray(y)?y[0]:y.type,T=Array.isArray(y)?[[y[1],y[2]]]:y.overloads,E=T.filter((([B])=>!Array.isArray(B)||B.length===l.length-1));let O=null;for(const[B,V]of E){O=new Fc(c.registry,Dp,c.path,null,c.scope);const U=[];let Z=!1;for(let Y=1;Y<l.length;Y++){const J=l[Y],re=Array.isArray(B)?B[Y-1]:B.type,se=O.parse(J,1+U.length,re);if(!se){Z=!0;break}U.push(se)}if(!Z)if(Array.isArray(B)&&B.length!==U.length)O.error(`Expected ${B.length} arguments, but found ${U.length} instead.`);else{for(let Y=0;Y<U.length;Y++){const J=Array.isArray(B)?B[Y]:B.type,re=U[Y];O.concat(Y+1).checkSubtype(J,re.type)}if(O.errors.length===0)return new xa(g,w,V,U)}}if(E.length===1)c.errors.push(...O.errors);else{const B=(E.length?E:T).map((([U])=>{return Z=U,Array.isArray(Z)?`(${Z.map(In).join(", ")})`:`(${In(Z.type)}...)`;var Z})).join(" | "),V=[];for(let U=1;U<l.length;U++){const Z=c.parse(l[U],1+V.length);if(!Z)return null;V.push(In(Z.type))}c.error(`Expected arguments of type ${B}, but found (${V.join(", ")}) instead.`)}return null}static register(l,c){xa.definitions=c;for(const g in c)l[g]=xa}}function i1(d,[l,c,g,y]){l=l.evaluate(d),c=c.evaluate(d),g=g.evaluate(d);const w=y?y.evaluate(d):1,T=jb(l,c,g,w);if(T)throw new En(T);return new Vr(l/255,c/255,g/255,w,!1)}function o1(d,l){return d in l}function Vv(d,l){const c=l[d];return c===void 0?null:c}function Au(d){return{type:d}}function Dp(d){if(d instanceof Nc)return Dp(d.boundExpression);if(d instanceof xa&&d.name==="error"||d instanceof No||d instanceof Mu||d instanceof Eu||d instanceof fd)return!1;const l=d instanceof gs||d instanceof Fo;let c=!0;return d.eachChild((g=>{c=l?c&&Dp(g):c&&g instanceof $l})),!!c&&Lp(d)&&Rp(d,["zoom","heatmap-density","elevation","line-progress","accumulated","is-supported-script"])}function Lp(d){if(d instanceof xa&&(d.name==="get"&&d.args.length===1||d.name==="feature-state"||d.name==="has"&&d.args.length===1||d.name==="properties"||d.name==="geometry-type"||d.name==="id"||/^filter-/.test(d.name))||d instanceof Mu||d instanceof Eu)return!1;let l=!0;return d.eachChild((c=>{l&&!Lp(c)&&(l=!1)})),l}function pd(d){if(d instanceof xa&&d.name==="feature-state")return!1;let l=!0;return d.eachChild((c=>{l&&!pd(c)&&(l=!1)})),l}function Rp(d,l){if(d instanceof xa&&l.indexOf(d.name)>=0)return!1;let c=!0;return d.eachChild((g=>{c&&!Rp(g,l)&&(c=!1)})),c}function a1(d){return{result:"success",value:d}}function Uc(d){return{result:"error",value:d}}function Wc(d){return d["property-type"]==="data-driven"||d["property-type"]==="cross-faded-data-driven"}function s1(d){return!!d.expression&&d.expression.parameters.indexOf("zoom")>-1}function jv(d){return!!d.expression&&d.expression.interpolated}function jr(d){return d instanceof Number?"number":d instanceof String?"string":d instanceof Boolean?"boolean":Array.isArray(d)?"array":d===null?"null":typeof d}function Op(d){return typeof d=="object"&&d!==null&&!Array.isArray(d)&&On(d)===xi}function fC(d){return d}function l1(d,l){const c=d.stops&&typeof d.stops[0][0]=="object",g=c||!(c||d.property!==void 0),y=d.type||(jv(l)?"exponential":"interval"),w=(function(V){switch(V.type){case"color":return Vr.parse;case"padding":return fo.parse;case"numberArray":return po.parse;case"colorArray":return Ni.parse;default:return null}})(l);if(w&&((d=_n({},d)).stops&&(d.stops=d.stops.map((V=>[V[0],w(V[1])]))),d.default=w(d.default?d.default:l.default)),d.colorSpace&&(T=d.colorSpace)!=="rgb"&&T!=="hcl"&&T!=="lab")throw new Error(`Unknown color space: "${d.colorSpace}"`);var T;const E=(function(V){switch(V){case"exponential":return u1;case"interval":return pC;case"categorical":return Hv;case"identity":return mC;default:throw new Error(`Unknown function type "${V}"`)}})(y);let O,B;if(y==="categorical"){O=Object.create(null);for(const V of d.stops)O[V[0]]=V[1];B=typeof d.stops[0][0]}if(c){const V={},U=[];for(let J=0;J<d.stops.length;J++){const re=d.stops[J],se=re[0].zoom;V[se]===void 0&&(V[se]={zoom:se,type:d.type,property:d.property,default:d.default,stops:[]},U.push(se)),V[se].stops.push([re[0].value,re[1]])}const Z=[];for(const J of U)Z.push([V[J].zoom,l1(V[J],l)]);const Y={name:"linear"};return{kind:"composite",interpolationType:Y,interpolationFactor:eo.interpolationFactor.bind(void 0,Y),zoomStops:Z.map((J=>J[0])),evaluate:({zoom:J},re)=>u1({stops:Z,base:d.base},l,J).evaluate(J,re)}}if(g){const V=y==="exponential"?{name:"exponential",base:d.base!==void 0?d.base:1}:null;return{kind:"camera",interpolationType:V,interpolationFactor:eo.interpolationFactor.bind(void 0,V),zoomStops:d.stops.map((U=>U[0])),evaluate:({zoom:U})=>E(d,l,U,O,B)}}return{kind:"source",evaluate(V,U){const Z=U&&U.properties?U.properties[d.property]:void 0;return Z===void 0?md(d.default,l.default):E(d,l,Z,O,B)}}}function md(d,l,c){return d!==void 0?d:l!==void 0?l:c!==void 0?c:void 0}function Hv(d,l,c,g,y){return md(typeof c===y?g[c]:void 0,d.default,l.default)}function pC(d,l,c){if(jr(c)!=="number")return md(d.default,l.default);const g=d.stops.length;if(g===1||c<=d.stops[0][0])return d.stops[0][1];if(c>=d.stops[g-1][0])return d.stops[g-1][1];const y=bp(d.stops.map((w=>w[0])),c);return d.stops[y][1]}function u1(d,l,c){const g=d.base!==void 0?d.base:1;if(jr(c)!=="number")return md(d.default,l.default);const y=d.stops.length;if(y===1||c<=d.stops[0][0])return d.stops[0][1];if(c>=d.stops[y-1][0])return d.stops[y-1][1];const w=bp(d.stops.map((V=>V[0])),c),T=(function(V,U,Z,Y){const J=Y-Z,re=V-Z;return J===0?0:U===1?re/J:(Math.pow(U,re)-1)/(Math.pow(U,J)-1)})(c,g,d.stops[w][0],d.stops[w+1][0]),E=d.stops[w][1],O=d.stops[w+1][1],B=Ha[l.type]||fC;return typeof E.evaluate=="function"?{evaluate(...V){const U=E.evaluate.apply(void 0,V),Z=O.evaluate.apply(void 0,V);if(U!==void 0&&Z!==void 0)return B(U,Z,T,d.colorSpace)}}:B(E,O,T,d.colorSpace)}function mC(d,l,c){switch(l.type){case"color":c=Vr.parse(c);break;case"formatted":c=wi.fromString(c.toString());break;case"resolvedImage":c=Bo.fromString(c.toString());break;case"padding":c=fo.parse(c);break;case"colorArray":c=Ni.parse(c);break;case"numberArray":c=po.parse(c);break;default:jr(c)===l.type||l.type==="enum"&&l.values[c]||(c=void 0)}return md(c,d.default,l.default)}xa.register(Gc,{error:[{kind:"error"},[Qt],(d,[l])=>{throw new En(l.evaluate(d))}],typeof:[Qt,[gr],(d,[l])=>In(On(l.evaluate(d)))],"to-rgba":[ra(Et,4),[Ji],(d,[l])=>{const[c,g,y,w]=l.evaluate(d).rgb;return[255*c,255*g,255*y,w]}],rgb:[Ji,[Et,Et,Et],i1],rgba:[Ji,[Et,Et,Et,Et],i1],has:{type:ur,overloads:[[[Qt],(d,[l])=>o1(l.evaluate(d),d.properties())],[[Qt,xi],(d,[l,c])=>o1(l.evaluate(d),c.evaluate(d))]]},get:{type:gr,overloads:[[[Qt],(d,[l])=>Vv(l.evaluate(d),d.properties())],[[Qt,xi],(d,[l,c])=>Vv(l.evaluate(d),c.evaluate(d))]]},"feature-state":[gr,[Qt],(d,[l])=>Vv(l.evaluate(d),d.featureState||{})],properties:[xi,[],d=>d.properties()],"geometry-type":[Qt,[],d=>d.geometryType()],id:[gr,[],d=>d.id()],zoom:[Et,[],d=>d.globals.zoom],"heatmap-density":[Et,[],d=>d.globals.heatmapDensity||0],elevation:[Et,[],d=>d.globals.elevation||0],"line-progress":[Et,[],d=>d.globals.lineProgress||0],accumulated:[gr,[],d=>d.globals.accumulated===void 0?null:d.globals.accumulated],"+":[Et,Au(Et),(d,l)=>{let c=0;for(const g of l)c+=g.evaluate(d);return c}],"*":[Et,Au(Et),(d,l)=>{let c=1;for(const g of l)c*=g.evaluate(d);return c}],"-":{type:Et,overloads:[[[Et,Et],(d,[l,c])=>l.evaluate(d)-c.evaluate(d)],[[Et],(d,[l])=>-l.evaluate(d)]]},"/":[Et,[Et,Et],(d,[l,c])=>l.evaluate(d)/c.evaluate(d)],"%":[Et,[Et,Et],(d,[l,c])=>l.evaluate(d)%c.evaluate(d)],ln2:[Et,[],()=>Math.LN2],pi:[Et,[],()=>Math.PI],e:[Et,[],()=>Math.E],"^":[Et,[Et,Et],(d,[l,c])=>Math.pow(l.evaluate(d),c.evaluate(d))],sqrt:[Et,[Et],(d,[l])=>Math.sqrt(l.evaluate(d))],log10:[Et,[Et],(d,[l])=>Math.log(l.evaluate(d))/Math.LN10],ln:[Et,[Et],(d,[l])=>Math.log(l.evaluate(d))],log2:[Et,[Et],(d,[l])=>Math.log(l.evaluate(d))/Math.LN2],sin:[Et,[Et],(d,[l])=>Math.sin(l.evaluate(d))],cos:[Et,[Et],(d,[l])=>Math.cos(l.evaluate(d))],tan:[Et,[Et],(d,[l])=>Math.tan(l.evaluate(d))],asin:[Et,[Et],(d,[l])=>Math.asin(l.evaluate(d))],acos:[Et,[Et],(d,[l])=>Math.acos(l.evaluate(d))],atan:[Et,[Et],(d,[l])=>Math.atan(l.evaluate(d))],min:[Et,Au(Et),(d,l)=>Math.min(...l.map((c=>c.evaluate(d))))],max:[Et,Au(Et),(d,l)=>Math.max(...l.map((c=>c.evaluate(d))))],abs:[Et,[Et],(d,[l])=>Math.abs(l.evaluate(d))],round:[Et,[Et],(d,[l])=>{const c=l.evaluate(d);return c<0?-Math.round(-c):Math.round(c)}],floor:[Et,[Et],(d,[l])=>Math.floor(l.evaluate(d))],ceil:[Et,[Et],(d,[l])=>Math.ceil(l.evaluate(d))],"filter-==":[ur,[Qt,gr],(d,[l,c])=>d.properties()[l.value]===c.value],"filter-id-==":[ur,[gr],(d,[l])=>d.id()===l.value],"filter-type-==":[ur,[Qt],(d,[l])=>d.geometryType()===l.value],"filter-<":[ur,[Qt,gr],(d,[l,c])=>{const g=d.properties()[l.value],y=c.value;return typeof g==typeof y&&g<y}],"filter-id-<":[ur,[gr],(d,[l])=>{const c=d.id(),g=l.value;return typeof c==typeof g&&c<g}],"filter->":[ur,[Qt,gr],(d,[l,c])=>{const g=d.properties()[l.value],y=c.value;return typeof g==typeof y&&g>y}],"filter-id->":[ur,[gr],(d,[l])=>{const c=d.id(),g=l.value;return typeof c==typeof g&&c>g}],"filter-<=":[ur,[Qt,gr],(d,[l,c])=>{const g=d.properties()[l.value],y=c.value;return typeof g==typeof y&&g<=y}],"filter-id-<=":[ur,[gr],(d,[l])=>{const c=d.id(),g=l.value;return typeof c==typeof g&&c<=g}],"filter->=":[ur,[Qt,gr],(d,[l,c])=>{const g=d.properties()[l.value],y=c.value;return typeof g==typeof y&&g>=y}],"filter-id->=":[ur,[gr],(d,[l])=>{const c=d.id(),g=l.value;return typeof c==typeof g&&c>=g}],"filter-has":[ur,[gr],(d,[l])=>l.value in d.properties()],"filter-has-id":[ur,[],d=>d.id()!==null&&d.id()!==void 0],"filter-type-in":[ur,[ra(Qt)],(d,[l])=>l.value.indexOf(d.geometryType())>=0],"filter-id-in":[ur,[ra(gr)],(d,[l])=>l.value.indexOf(d.id())>=0],"filter-in-small":[ur,[Qt,ra(gr)],(d,[l,c])=>c.value.indexOf(d.properties()[l.value])>=0],"filter-in-large":[ur,[Qt,ra(gr)],(d,[l,c])=>(function(g,y,w,T){for(;w<=T;){const E=w+T>>1;if(y[E]===g)return!0;y[E]>g?T=E-1:w=E+1}return!1})(d.properties()[l.value],c.value,0,c.value.length-1)],all:{type:ur,overloads:[[[ur,ur],(d,[l,c])=>l.evaluate(d)&&c.evaluate(d)],[Au(ur),(d,l)=>{for(const c of l)if(!c.evaluate(d))return!1;return!0}]]},any:{type:ur,overloads:[[[ur,ur],(d,[l,c])=>l.evaluate(d)||c.evaluate(d)],[Au(ur),(d,l)=>{for(const c of l)if(c.evaluate(d))return!0;return!1}]]},"!":[ur,[ur],(d,[l])=>!l.evaluate(d)],"is-supported-script":[ur,[Qt],(d,[l])=>{const c=d.globals&&d.globals.isSupportedScript;return!c||c(l.evaluate(d))}],upcase:[Qt,[Qt],(d,[l])=>l.evaluate(d).toUpperCase()],downcase:[Qt,[Qt],(d,[l])=>l.evaluate(d).toLowerCase()],concat:[Qt,Au(gr),(d,l)=>l.map((c=>Bc(c.evaluate(d)))).join("")],"resolved-locale":[Qt,[Va],(d,[l])=>l.evaluate(d).resolvedLocale()]});class kp{constructor(l,c,g){this.expression=l,this._warningHistory={},this._evaluator=new Dr,this._defaultValue=c?(function(y){if(y.type==="color"&&Op(y.default))return new Vr(0,0,0,0);switch(y.type){case"color":return Vr.parse(y.default)||null;case"padding":return fo.parse(y.default)||null;case"numberArray":return po.parse(y.default)||null;case"colorArray":return Ni.parse(y.default)||null;case"variableAnchorOffsetCollection":return To.parse(y.default)||null;case"projectionDefinition":return mo.parse(y.default)||null;default:return y.default===void 0?null:y.default}})(c):null,this._enumValues=c&&c.type==="enum"?c.values:null,this._globalState=g}evaluateWithoutErrorHandling(l,c,g,y,w,T){return this._globalState&&(l=qc(l,this._globalState)),this._evaluator.globals=l,this._evaluator.feature=c,this._evaluator.featureState=g,this._evaluator.canonical=y,this._evaluator.availableImages=w||null,this._evaluator.formattedSection=T,this.expression.evaluate(this._evaluator)}evaluate(l,c,g,y,w,T){this._globalState&&(l=qc(l,this._globalState)),this._evaluator.globals=l,this._evaluator.feature=c||null,this._evaluator.featureState=g||null,this._evaluator.canonical=y,this._evaluator.availableImages=w||null,this._evaluator.formattedSection=T||null;try{const E=this.expression.evaluate(this._evaluator);if(E==null||typeof E=="number"&&E!=E)return this._defaultValue;if(this._enumValues&&!(E in this._enumValues))throw new En(`Expected value to be one of ${Object.keys(this._enumValues).map((O=>JSON.stringify(O))).join(", ")}, but found ${JSON.stringify(E)} instead.`);return E}catch(E){return this._warningHistory[E.message]||(this._warningHistory[E.message]=!0,typeof console<"u"&&console.warn(E.message)),this._defaultValue}}}function $p(d){return Array.isArray(d)&&d.length>0&&typeof d[0]=="string"&&d[0]in Gc}function zp(d,l,c){const g=new Fc(Gc,Dp,[],l?(function(w){const T={color:Ji,string:Qt,number:Et,enum:Qt,boolean:ur,formatted:qs,padding:ds,numberArray:fs,colorArray:Fi,projectionDefinition:hs,resolvedImage:Dl,variableAnchorOffsetCollection:kc};return w.type==="array"?ra(T[w.value]||gr,w.length):T[w.type]})(l):void 0),y=g.parse(d,void 0,void 0,void 0,l&&l.type==="string"?{typeAnnotation:"coerce"}:void 0);return y?a1(new kp(y,l,c)):Uc(g.errors)}class Du{constructor(l,c,g){this.kind=l,this._styleExpression=c,this.isStateDependent=l!=="constant"&&!pd(c.expression),this.globalStateRefs=Vp(c.expression),this._globalState=g}evaluateWithoutErrorHandling(l,c,g,y,w,T){return this._globalState&&(l=qc(l,this._globalState)),this._styleExpression.evaluateWithoutErrorHandling(l,c,g,y,w,T)}evaluate(l,c,g,y,w,T){return this._globalState&&(l=qc(l,this._globalState)),this._styleExpression.evaluate(l,c,g,y,w,T)}}class Bp{constructor(l,c,g,y,w){this.kind=l,this.zoomStops=g,this._styleExpression=c,this.isStateDependent=l!=="camera"&&!pd(c.expression),this.globalStateRefs=Vp(c.expression),this.interpolationType=y,this._globalState=w}evaluateWithoutErrorHandling(l,c,g,y,w,T){return this._globalState&&(l=qc(l,this._globalState)),this._styleExpression.evaluateWithoutErrorHandling(l,c,g,y,w,T)}evaluate(l,c,g,y,w,T){return this._globalState&&(l=qc(l,this._globalState)),this._styleExpression.evaluate(l,c,g,y,w,T)}interpolationFactor(l,c,g){return this.interpolationType?eo.interpolationFactor(this.interpolationType,l,c,g):0}}function c1(d,l,c){const g=zp(d,l,c);if(g.result==="error")return g;const y=g.value.expression,w=Lp(y);if(!w&&!Wc(l))return Uc([new dn("","data expressions not supported")]);const T=Rp(y,["zoom"]);if(!T&&!s1(l))return Uc([new dn("","zoom expressions not supported")]);const E=Np(y);return E||T?E instanceof dn?Uc([E]):E instanceof eo&&!jv(l)?Uc([new dn("",'"interpolate" expressions cannot be used with this property')]):a1(E?new Bp(w?"camera":"composite",g.value,E.labels,E instanceof eo?E.interpolation:void 0,c):new Du(w?"constant":"source",g.value,c)):Uc([new dn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Fp{constructor(l,c){this._parameters=l,this._specification=c,_n(this,l1(this._parameters,this._specification))}static deserialize(l){return new Fp(l._parameters,l._specification)}static serialize(l){return{_parameters:l._parameters,_specification:l._specification}}}function Np(d){let l=null;if(d instanceof Zr)l=Np(d.result);else if(d instanceof jc){for(const c of d.args)if(l=Np(c),l)break}else(d instanceof Vc||d instanceof eo)&&d.input instanceof xa&&d.input.name==="zoom"&&(l=d);return l instanceof dn||d.eachChild((c=>{const g=Np(c);g instanceof dn?l=g:!l&&g?l=new dn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):l&&g&&l!==g&&(l=new dn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),l}function Vp(d,l=new Set){return d instanceof fd&&l.add(d.key),d.eachChild((c=>{Vp(c,l)})),l}function qc(d,l){const{zoom:c,heatmapDensity:g,elevation:y,lineProgress:w,isSupportedScript:T,accumulated:E}=d??{};return{zoom:c,heatmapDensity:g,elevation:y,lineProgress:w,isSupportedScript:T,accumulated:E,globalState:l}}function jp(d){if(d===!0||d===!1)return!0;if(!Array.isArray(d)||d.length===0)return!1;switch(d[0]){case"has":return d.length>=2&&d[1]!=="$id"&&d[1]!=="$type";case"in":return d.length>=3&&(typeof d[1]!="string"||Array.isArray(d[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return d.length!==3||Array.isArray(d[1])||Array.isArray(d[2]);case"any":case"all":for(const l of d.slice(1))if(!jp(l)&&typeof l!="boolean")return!1;return!0;default:return!0}}const h1={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function gd(d,l){if(d==null)return{filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set};jp(d)||(d=vd(d));const c=zp(d,h1,l);if(c.result==="error")throw new Error(c.value.map((g=>`${g.key}: ${g.message}`)).join(", "));return{filter:(g,y,w)=>c.value.evaluate(g,y,{},w),needGeometry:Gv(d),getGlobalStateRefs:()=>Vp(c.value.expression)}}function gC(d,l){return d<l?-1:d>l?1:0}function Gv(d){if(!Array.isArray(d))return!1;if(d[0]==="within"||d[0]==="distance")return!0;for(let l=1;l<d.length;l++)if(Gv(d[l]))return!0;return!1}function vd(d){if(!d)return!0;const l=d[0];return d.length<=1?l!=="any":l==="=="?Hp(d[1],d[2],"=="):l==="!="?Gp(Hp(d[1],d[2],"==")):l==="<"||l===">"||l==="<="||l===">="?Hp(d[1],d[2],l):l==="any"?(c=d.slice(1),["any"].concat(c.map(vd))):l==="all"?["all"].concat(d.slice(1).map(vd)):l==="none"?["all"].concat(d.slice(1).map(vd).map(Gp)):l==="in"?d1(d[1],d.slice(2)):l==="!in"?Gp(d1(d[1],d.slice(2))):l==="has"?f1(d[1]):l!=="!has"||Gp(f1(d[1]));var c}function Hp(d,l,c){switch(d){case"$type":return[`filter-type-${c}`,l];case"$id":return[`filter-id-${c}`,l];default:return[`filter-${c}`,d,l]}}function d1(d,l){if(l.length===0)return!1;switch(d){case"$type":return["filter-type-in",["literal",l]];case"$id":return["filter-id-in",["literal",l]];default:return l.length>200&&!l.some((c=>typeof c!=typeof l[0]))?["filter-in-large",d,["literal",l.sort(gC)]]:["filter-in-small",d,["literal",l]]}}function f1(d){switch(d){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",d]}}function Gp(d){return["!",d]}function Uv(d){const l=typeof d;if(l==="number"||l==="boolean"||l==="string"||d==null)return JSON.stringify(d);if(Array.isArray(d)){let y="[";for(const w of d)y+=`${Uv(w)},`;return`${y}]`}const c=Object.keys(d).sort();let g="{";for(let y=0;y<c.length;y++)g+=`${JSON.stringify(c[y])}:${Uv(d[c[y]])},`;return`${g}}`}function p1(d){let l="";for(const c of Xe)l+=`/${Uv(d[c])}`;return l}function Wv(d){const l=d.value;return l?[new It(d.key,l,"constants have been deprecated as of v8")]:[]}function Kn(d){return d instanceof Number||d instanceof String||d instanceof Boolean?d.valueOf():d}function Xs(d){if(Array.isArray(d))return d.map(Xs);if(d instanceof Object&&!(d instanceof Number||d instanceof String||d instanceof Boolean)){const l={};for(const c in d)l[c]=Xs(d[c]);return l}return Kn(d)}function Vo(d){const l=d.key,c=d.value,g=d.valueSpec||{},y=d.objectElementValidators||{},w=d.style,T=d.styleSpec,E=d.validateSpec;let O=[];const B=jr(c);if(B!=="object")return[new It(l,c,`object expected, ${B} found`)];for(const V in c){const U=V.split(".")[0],Z=Zs(g,U)||g["*"];let Y;if(Zs(y,U))Y=y[U];else if(Zs(g,U))Y=E;else if(y["*"])Y=y["*"];else{if(!g["*"]){O.push(new It(l,c[V],`unknown property "${V}"`));continue}Y=E}O=O.concat(Y({key:(l&&`${l}.`)+V,value:c[V],valueSpec:Z,style:w,styleSpec:T,object:c,objectKey:V,validateSpec:E},c))}for(const V in g)y[V]||g[V].required&&g[V].default===void 0&&c[V]===void 0&&O.push(new It(l,c,`missing required property "${V}"`));return O}function yd(d){const l=d.value,c=d.valueSpec,g=d.style,y=d.styleSpec,w=d.key,T=d.arrayElementValidator||d.validateSpec;if(jr(l)!=="array")return[new It(w,l,`array expected, ${jr(l)} found`)];if(c.length&&l.length!==c.length)return[new It(w,l,`array length ${c.length} expected, length ${l.length} found`)];if(c["min-length"]&&l.length<c["min-length"])return[new It(w,l,`array length at least ${c["min-length"]} expected, length ${l.length} found`)];let E={type:c.value,values:c.values};y.$version<7&&(E.function=c.function),jr(c.value)==="object"&&(E=c.value);let O=[];for(let B=0;B<l.length;B++)O=O.concat(T({array:l,arrayIndex:B,value:l[B],valueSpec:E,validateSpec:d.validateSpec,style:g,styleSpec:y,key:`${w}[${B}]`}));return O}function Lu(d){const l=d.key,c=d.value,g=d.valueSpec;let y=jr(c);return y==="number"&&c!=c&&(y="NaN"),y!=="number"?[new It(l,c,`number expected, ${y} found`)]:"minimum"in g&&c<g.minimum?[new It(l,c,`${c} is less than the minimum value ${g.minimum}`)]:"maximum"in g&&c>g.maximum?[new It(l,c,`${c} is greater than the maximum value ${g.maximum}`)]:[]}function m1(d){const l=d.valueSpec,c=Kn(d.value.type);let g,y,w,T={};const E=c!=="categorical"&&d.value.property===void 0,O=!E,B=jr(d.value.stops)==="array"&&jr(d.value.stops[0])==="array"&&jr(d.value.stops[0][0])==="object",V=Vo({key:d.key,value:d.value,valueSpec:d.styleSpec.function,validateSpec:d.validateSpec,style:d.style,styleSpec:d.styleSpec,objectElementValidators:{stops:function(Y){if(c==="identity")return[new It(Y.key,Y.value,'identity function may not have a "stops" property')];let J=[];const re=Y.value;return J=J.concat(yd({key:Y.key,value:re,valueSpec:Y.valueSpec,validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec,arrayElementValidator:U})),jr(re)==="array"&&re.length===0&&J.push(new It(Y.key,re,"array must have at least one stop")),J},default:function(Y){return Y.validateSpec({key:Y.key,value:Y.value,valueSpec:l,validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec})}}});return c==="identity"&&E&&V.push(new It(d.key,d.value,'missing required property "property"')),c==="identity"||d.value.stops||V.push(new It(d.key,d.value,'missing required property "stops"')),c==="exponential"&&d.valueSpec.expression&&!jv(d.valueSpec)&&V.push(new It(d.key,d.value,"exponential functions not supported")),d.styleSpec.$version>=8&&(O&&!Wc(d.valueSpec)?V.push(new It(d.key,d.value,"property functions not supported")):E&&!s1(d.valueSpec)&&V.push(new It(d.key,d.value,"zoom functions not supported"))),c!=="categorical"&&!B||d.value.property!==void 0||V.push(new It(d.key,d.value,'"property" property is required')),V;function U(Y){let J=[];const re=Y.value,se=Y.key;if(jr(re)!=="array")return[new It(se,re,`array expected, ${jr(re)} found`)];if(re.length!==2)return[new It(se,re,`array length 2 expected, length ${re.length} found`)];if(B){if(jr(re[0])!=="object")return[new It(se,re,`object expected, ${jr(re[0])} found`)];if(re[0].zoom===void 0)return[new It(se,re,"object stop key must have zoom")];if(re[0].value===void 0)return[new It(se,re,"object stop key must have value")];if(w&&w>Kn(re[0].zoom))return[new It(se,re[0].zoom,"stop zoom values must appear in ascending order")];Kn(re[0].zoom)!==w&&(w=Kn(re[0].zoom),y=void 0,T={}),J=J.concat(Vo({key:`${se}[0]`,value:re[0],valueSpec:{zoom:{}},validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec,objectElementValidators:{zoom:Lu,value:Z}}))}else J=J.concat(Z({key:`${se}[0]`,value:re[0],validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec},re));return $p(Xs(re[1]))?J.concat([new It(`${se}[1]`,re[1],"expressions are not allowed in function stops.")]):J.concat(Y.validateSpec({key:`${se}[1]`,value:re[1],valueSpec:l,validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec}))}function Z(Y,J){const re=jr(Y.value),se=Kn(Y.value),ge=Y.value!==null?Y.value:J;if(g){if(re!==g)return[new It(Y.key,ge,`${re} stop domain type must match previous stop domain type ${g}`)]}else g=re;if(re!=="number"&&re!=="string"&&re!=="boolean")return[new It(Y.key,ge,"stop domain value must be a number, string, or boolean")];if(re!=="number"&&c!=="categorical"){let Me=`number expected, ${re} found`;return Wc(l)&&c===void 0&&(Me+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new It(Y.key,ge,Me)]}return c!=="categorical"||re!=="number"||isFinite(se)&&Math.floor(se)===se?c!=="categorical"&&re==="number"&&y!==void 0&&se<y?[new It(Y.key,ge,"stop domain values must appear in ascending order")]:(y=se,c==="categorical"&&se in T?[new It(Y.key,ge,"stop domain values must be unique")]:(T[se]=!0,[])):[new It(Y.key,ge,`integer expected, found ${se}`)]}}function Zc(d){const l=(d.expressionContext==="property"?c1:zp)(Xs(d.value),d.valueSpec);if(l.result==="error")return l.value.map((g=>new It(`${d.key}${g.key}`,d.value,g.message)));const c=l.value.expression||l.value._styleExpression.expression;if(d.expressionContext==="property"&&d.propertyKey==="text-font"&&!c.outputDefined())return[new It(d.key,d.value,`Invalid data expression for "${d.propertyKey}". Output values must be contained as literals within the expression.`)];if(d.expressionContext==="property"&&d.propertyType==="layout"&&!pd(c))return[new It(d.key,d.value,'"feature-state" data expressions are not supported with layout properties.')];if(d.expressionContext==="filter"&&!pd(c))return[new It(d.key,d.value,'"feature-state" data expressions are not supported with filters.')];if(d.expressionContext&&d.expressionContext.indexOf("cluster")===0){if(!Rp(c,["zoom","feature-state"]))return[new It(d.key,d.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(d.expressionContext==="cluster-initial"&&!Lp(c))return[new It(d.key,d.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function qv(d){const l=d.key,c=d.value,g=jr(c);return g!=="string"?[new It(l,c,`color expected, ${g} found`)]:Vr.parse(String(c))?[]:[new It(l,c,`color expected, "${c}" found`)]}function _d(d){const l=d.key,c=d.value,g=d.valueSpec,y=[];return Array.isArray(g.values)?g.values.indexOf(Kn(c))===-1&&y.push(new It(l,c,`expected one of [${g.values.join(", ")}], ${JSON.stringify(c)} found`)):Object.keys(g.values).indexOf(Kn(c))===-1&&y.push(new It(l,c,`expected one of [${Object.keys(g.values).join(", ")}], ${JSON.stringify(c)} found`)),y}function Zv(d){return jp(Xs(d.value))?Zc(_n({},d,{expressionContext:"filter",valueSpec:{value:"boolean"}})):g1(d)}function g1(d){const l=d.value,c=d.key;if(jr(l)!=="array")return[new It(c,l,`array expected, ${jr(l)} found`)];const g=d.styleSpec;let y,w=[];if(l.length<1)return[new It(c,l,"filter array must have at least 1 element")];switch(w=w.concat(_d({key:`${c}[0]`,value:l[0],valueSpec:g.filter_operator,style:d.style,styleSpec:d.styleSpec})),Kn(l[0])){case"<":case"<=":case">":case">=":l.length>=2&&Kn(l[1])==="$type"&&w.push(new It(c,l,`"$type" cannot be use with operator "${l[0]}"`));case"==":case"!=":l.length!==3&&w.push(new It(c,l,`filter array for operator "${l[0]}" must have 3 elements`));case"in":case"!in":l.length>=2&&(y=jr(l[1]),y!=="string"&&w.push(new It(`${c}[1]`,l[1],`string expected, ${y} found`)));for(let T=2;T<l.length;T++)y=jr(l[T]),Kn(l[1])==="$type"?w=w.concat(_d({key:`${c}[${T}]`,value:l[T],valueSpec:g.geometry_type,style:d.style,styleSpec:d.styleSpec})):y!=="string"&&y!=="number"&&y!=="boolean"&&w.push(new It(`${c}[${T}]`,l[T],`string, number, or boolean expected, ${y} found`));break;case"any":case"all":case"none":for(let T=1;T<l.length;T++)w=w.concat(g1({key:`${c}[${T}]`,value:l[T],style:d.style,styleSpec:d.styleSpec}));break;case"has":case"!has":y=jr(l[1]),l.length!==2?w.push(new It(c,l,`filter array for "${l[0]}" operator must have 2 elements`)):y!=="string"&&w.push(new It(`${c}[1]`,l[1],`string expected, ${y} found`))}return w}function Xv(d,l){const c=d.key,g=d.validateSpec,y=d.style,w=d.styleSpec,T=d.value,E=d.objectKey,O=w[`${l}_${d.layerType}`];if(!O)return[];const B=E.match(/^(.*)-transition$/);if(l==="paint"&&B&&O[B[1]]&&O[B[1]].transition)return g({key:c,value:T,valueSpec:w.transition,style:y,styleSpec:w});const V=d.valueSpec||O[E];if(!V)return[new It(c,T,`unknown property "${E}"`)];let U;if(jr(T)==="string"&&Wc(V)&&!V.tokens&&(U=/^{([^}]+)}$/.exec(T)))return[new It(c,T,`"${E}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(U[1])} }\`.`)];const Z=[];return d.layerType==="symbol"&&E==="text-font"&&Op(Xs(T))&&Kn(T.type)==="identity"&&Z.push(new It(c,T,'"text-font" does not support identity functions')),Z.concat(g({key:d.key,value:T,valueSpec:V,style:y,styleSpec:w,expressionContext:"property",propertyType:l,propertyKey:E}))}function Kv(d){return Xv(d,"paint")}function bd(d){return Xv(d,"layout")}function v1(d){let l=[];const c=d.value,g=d.key,y=d.style,w=d.styleSpec;if(jr(c)!=="object")return[new It(g,c,`object expected, ${jr(c)} found`)];c.type||c.ref||l.push(new It(g,c,'either "type" or "ref" is required'));let T=Kn(c.type);const E=Kn(c.ref);if(c.id){const O=Kn(c.id);for(let B=0;B<d.arrayIndex;B++){const V=y.layers[B];Kn(V.id)===O&&l.push(new It(g,c.id,`duplicate layer id "${c.id}", previously used at line ${V.id.__line__}`))}}if("ref"in c){let O;["type","source","source-layer","filter","layout"].forEach((B=>{B in c&&l.push(new It(g,c[B],`"${B}" is prohibited for ref layers`))})),y.layers.forEach((B=>{Kn(B.id)===E&&(O=B)})),O?O.ref?l.push(new It(g,c.ref,"ref cannot reference another ref layer")):T=Kn(O.type):l.push(new It(g,c.ref,`ref layer "${E}" not found`))}else if(T!=="background")if(c.source){const O=y.sources&&y.sources[c.source],B=O&&Kn(O.type);O?B==="vector"&&T==="raster"?l.push(new It(g,c.source,`layer "${c.id}" requires a raster source`)):B!=="raster-dem"&&T==="hillshade"||B!=="raster-dem"&&T==="color-relief"?l.push(new It(g,c.source,`layer "${c.id}" requires a raster-dem source`)):B==="raster"&&T!=="raster"?l.push(new It(g,c.source,`layer "${c.id}" requires a vector source`)):B!=="vector"||c["source-layer"]?B==="raster-dem"&&T!=="hillshade"&&T!=="color-relief"?l.push(new It(g,c.source,"raster-dem source can only be used with layer type 'hillshade' or 'color-relief'.")):T!=="line"||!c.paint||!c.paint["line-gradient"]||B==="geojson"&&O.lineMetrics||l.push(new It(g,c,`layer "${c.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):l.push(new It(g,c,`layer "${c.id}" must specify a "source-layer"`)):l.push(new It(g,c.source,`source "${c.source}" not found`))}else l.push(new It(g,c,'missing required property "source"'));return l=l.concat(Vo({key:g,value:c,valueSpec:w.layer,style:d.style,styleSpec:d.styleSpec,validateSpec:d.validateSpec,objectElementValidators:{"*":()=>[],type:()=>d.validateSpec({key:`${g}.type`,value:c.type,valueSpec:w.layer.type,style:d.style,styleSpec:d.styleSpec,validateSpec:d.validateSpec,object:c,objectKey:"type"}),filter:Zv,layout:O=>Vo({layer:c,key:O.key,value:O.value,style:O.style,styleSpec:O.styleSpec,validateSpec:O.validateSpec,objectElementValidators:{"*":B=>bd(_n({layerType:T},B))}}),paint:O=>Vo({layer:c,key:O.key,value:O.value,style:O.style,styleSpec:O.styleSpec,validateSpec:O.validateSpec,objectElementValidators:{"*":B=>Kv(_n({layerType:T},B))}})}})),l}function Bl(d){const l=d.value,c=d.key,g=jr(l);return g!=="string"?[new It(c,l,`string expected, ${g} found`)]:[]}const Yv={promoteId:function({key:d,value:l}){if(jr(l)==="string")return Bl({key:d,value:l});{const c=[];for(const g in l)c.push(...Bl({key:`${d}.${g}`,value:l[g]}));return c}}};function y1(d){const l=d.value,c=d.key,g=d.styleSpec,y=d.style,w=d.validateSpec;if(!l.type)return[new It(c,l,'"type" is required')];const T=Kn(l.type);let E;switch(T){case"vector":case"raster":return E=Vo({key:c,value:l,valueSpec:g[`source_${T.replace("-","_")}`],style:d.style,styleSpec:g,objectElementValidators:Yv,validateSpec:w}),E;case"raster-dem":return E=(function(O){var B;const V=(B=O.sourceName)!==null&&B!==void 0?B:"",U=O.value,Z=O.styleSpec,Y=Z.source_raster_dem,J=O.style;let re=[];const se=jr(U);if(U===void 0)return re;if(se!=="object")return re.push(new It("source_raster_dem",U,`object expected, ${se} found`)),re;const ge=Kn(U.encoding)==="custom",Me=["redFactor","greenFactor","blueFactor","baseShift"],xe=O.value.encoding?`"${O.value.encoding}"`:"Default";for(const Ce in U)!ge&&Me.includes(Ce)?re.push(new It(Ce,U[Ce],`In "${V}": "${Ce}" is only valid when "encoding" is set to "custom". ${xe} encoding found`)):Y[Ce]?re=re.concat(O.validateSpec({key:Ce,value:U[Ce],valueSpec:Y[Ce],validateSpec:O.validateSpec,style:J,styleSpec:Z})):re.push(new It(Ce,U[Ce],`unknown property "${Ce}"`));return re})({sourceName:c,value:l,style:d.style,styleSpec:g,validateSpec:w}),E;case"geojson":if(E=Vo({key:c,value:l,valueSpec:g.source_geojson,style:y,styleSpec:g,validateSpec:w,objectElementValidators:Yv}),l.cluster)for(const O in l.clusterProperties){const[B,V]=l.clusterProperties[O],U=typeof B=="string"?[B,["accumulated"],["get",O]]:B;E.push(...Zc({key:`${c}.${O}.map`,value:V,expressionContext:"cluster-map"})),E.push(...Zc({key:`${c}.${O}.reduce`,value:U,expressionContext:"cluster-reduce"}))}return E;case"video":return Vo({key:c,value:l,valueSpec:g.source_video,style:y,validateSpec:w,styleSpec:g});case"image":return Vo({key:c,value:l,valueSpec:g.source_image,style:y,validateSpec:w,styleSpec:g});case"canvas":return[new It(c,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return _d({key:`${c}.type`,value:l.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function Jv(d){const l=d.value,c=d.styleSpec,g=c.light,y=d.style;let w=[];const T=jr(l);if(l===void 0)return w;if(T!=="object")return w=w.concat([new It("light",l,`object expected, ${T} found`)]),w;for(const E in l){const O=E.match(/^(.*)-transition$/);w=w.concat(O&&g[O[1]]&&g[O[1]].transition?d.validateSpec({key:E,value:l[E],valueSpec:c.transition,validateSpec:d.validateSpec,style:y,styleSpec:c}):g[E]?d.validateSpec({key:E,value:l[E],valueSpec:g[E],validateSpec:d.validateSpec,style:y,styleSpec:c}):[new It(E,l[E],`unknown property "${E}"`)])}return w}function Qv(d){const l=d.value,c=d.styleSpec,g=c.sky,y=d.style,w=jr(l);if(l===void 0)return[];if(w!=="object")return[new It("sky",l,`object expected, ${w} found`)];let T=[];for(const E in l)T=T.concat(g[E]?d.validateSpec({key:E,value:l[E],valueSpec:g[E],style:y,styleSpec:c}):[new It(E,l[E],`unknown property "${E}"`)]);return T}function Xc(d){const l=d.value,c=d.styleSpec,g=c.terrain,y=d.style;let w=[];const T=jr(l);if(l===void 0)return w;if(T!=="object")return w=w.concat([new It("terrain",l,`object expected, ${T} found`)]),w;for(const E in l)w=w.concat(g[E]?d.validateSpec({key:E,value:l[E],valueSpec:g[E],validateSpec:d.validateSpec,style:y,styleSpec:c}):[new It(E,l[E],`unknown property "${E}"`)]);return w}function _1(d){let l=[];const c=d.value,g=d.key;if(Array.isArray(c)){const y=[],w=[];for(const T in c)c[T].id&&y.includes(c[T].id)&&l.push(new It(g,c,`all the sprites' ids must be unique, but ${c[T].id} is duplicated`)),y.push(c[T].id),c[T].url&&w.includes(c[T].url)&&l.push(new It(g,c,`all the sprites' URLs must be unique, but ${c[T].url} is duplicated`)),w.push(c[T].url),l=l.concat(Vo({key:`${g}[${T}]`,value:c[T],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:d.validateSpec}));return l}return Bl({key:g,value:c})}function b1(d){return l=d.value,l&&l.constructor===Object?[]:[new It(d.key,d.value,`object expected, ${jr(d.value)} found`)];var l}const x1={"*":()=>[],array:yd,boolean:function(d){const l=d.value,c=d.key,g=jr(l);return g!=="boolean"?[new It(c,l,`boolean expected, ${g} found`)]:[]},number:Lu,color:qv,constants:Wv,enum:_d,filter:Zv,function:m1,layer:v1,object:Vo,source:y1,light:Jv,sky:Qv,terrain:Xc,projection:function(d){const l=d.value,c=d.styleSpec,g=c.projection,y=d.style,w=jr(l);if(l===void 0)return[];if(w!=="object")return[new It("projection",l,`object expected, ${w} found`)];let T=[];for(const E in l)T=T.concat(g[E]?d.validateSpec({key:E,value:l[E],valueSpec:g[E],style:y,styleSpec:c}):[new It(E,l[E],`unknown property "${E}"`)]);return T},projectionDefinition:function(d){const l=d.key;let c=d.value;c=c instanceof String?c.valueOf():c;const g=jr(c);return g!=="array"||(function(y){return Array.isArray(y)&&y.length===3&&typeof y[0]=="string"&&typeof y[1]=="string"&&typeof y[2]=="number"})(c)||(function(y){return!!["interpolate","step","literal"].includes(y[0])})(c)?["array","string"].includes(g)?[]:[new It(l,c,`projection expected, invalid type "${g}" found`)]:[new It(l,c,`projection expected, invalid array ${JSON.stringify(c)} found`)]},string:Bl,formatted:function(d){return Bl(d).length===0?[]:Zc(d)},resolvedImage:function(d){return Bl(d).length===0?[]:Zc(d)},padding:function(d){const l=d.key,c=d.value;if(jr(c)==="array"){if(c.length<1||c.length>4)return[new It(l,c,`padding requires 1 to 4 values; ${c.length} values found`)];const g={type:"number"};let y=[];for(let w=0;w<c.length;w++)y=y.concat(d.validateSpec({key:`${l}[${w}]`,value:c[w],validateSpec:d.validateSpec,valueSpec:g}));return y}return Lu({key:l,value:c,valueSpec:{}})},numberArray:function(d){const l=d.key,c=d.value;if(jr(c)==="array"){const g={type:"number"};if(c.length<1)return[new It(l,c,"array length at least 1 expected, length 0 found")];let y=[];for(let w=0;w<c.length;w++)y=y.concat(d.validateSpec({key:`${l}[${w}]`,value:c[w],validateSpec:d.validateSpec,valueSpec:g}));return y}return Lu({key:l,value:c,valueSpec:{}})},colorArray:function(d){const l=d.key,c=d.value;if(jr(c)==="array"){if(c.length<1)return[new It(l,c,"array length at least 1 expected, length 0 found")];let g=[];for(let y=0;y<c.length;y++)g=g.concat(qv({key:`${l}[${y}]`,value:c[y]}));return g}return qv({key:l,value:c})},variableAnchorOffsetCollection:function(d){const l=d.key,c=d.value,g=jr(c),y=d.styleSpec;if(g!=="array"||c.length<1||c.length%2!=0)return[new It(l,c,"variableAnchorOffsetCollection requires a non-empty array of even length")];let w=[];for(let T=0;T<c.length;T+=2)w=w.concat(_d({key:`${l}[${T}]`,value:c[T],valueSpec:y.layout_symbol["text-anchor"]})),w=w.concat(yd({key:`${l}[${T+1}]`,value:c[T+1],valueSpec:{length:2,value:"number"},validateSpec:d.validateSpec,style:d.style,styleSpec:y}));return w},sprite:_1,state:b1};function Up(d){const l=d.value,c=d.valueSpec,g=d.styleSpec;return d.validateSpec=Up,c.expression&&Op(Kn(l))?m1(d):c.expression&&$p(Xs(l))?Zc(d):c.type&&x1[c.type]?x1[c.type](d):Vo(_n({},d,{valueSpec:c.type?g[c.type]:c}))}function w1(d){const l=d.value,c=d.key,g=Bl(d);return g.length||(l.indexOf("{fontstack}")===-1&&g.push(new It(c,l,'"glyphs" url must include a "{fontstack}" token')),l.indexOf("{range}")===-1&&g.push(new It(c,l,'"glyphs" url must include a "{range}" token'))),g}function wa(d,l=Te){let c=[];return c=c.concat(Up({key:"",value:d,valueSpec:l.$root,styleSpec:l,style:d,validateSpec:Up,objectElementValidators:{glyphs:w1,"*":()=>[]}})),d.constants&&(c=c.concat(Wv({key:"constants",value:d.constants}))),Kc(c)}function Co(d){return function(l){return d(Object.assign({},l,{validateSpec:Up}))}}function Kc(d){return[].concat(d).sort(((l,c)=>l.line-c.line))}function oi(d){return function(...l){return Kc(d.apply(this,l))}}wa.source=oi(Co(y1)),wa.sprite=oi(Co(_1)),wa.glyphs=oi(Co(w1)),wa.light=oi(Co(Jv)),wa.sky=oi(Co(Qv)),wa.terrain=oi(Co(Xc)),wa.state=oi(Co(b1)),wa.layer=oi(Co(v1)),wa.filter=oi(Co(Zv)),wa.paintProperty=oi(Co(Kv)),wa.layoutProperty=oi(Co(bd));const xd=Te,Ru=wa,vC=Ru.light,yC=Ru.sky,wd=Ru.paintProperty,S1=Ru.layoutProperty;function Wp(d,l){let c=!1;if(l&&l.length)for(const g of l)d.fire(new Re(new Error(g.message))),c=!0;return c}class Sd{constructor(l,c,g){const y=this.cells=[];if(l instanceof ArrayBuffer){this.arrayBuffer=l;const T=new Int32Array(this.arrayBuffer);l=T[0],this.d=(c=T[1])+2*(g=T[2]);for(let O=0;O<this.d*this.d;O++){const B=T[3+O],V=T[3+O+1];y.push(B===V?null:T.subarray(B,V))}const E=T[3+y.length+1];this.keys=T.subarray(T[3+y.length],E),this.bboxes=T.subarray(E),this.insert=this._insertReadonly}else{this.d=c+2*g;for(let T=0;T<this.d*this.d;T++)y.push([]);this.keys=[],this.bboxes=[]}this.n=c,this.extent=l,this.padding=g,this.scale=c/l,this.uid=0;const w=g/c*l;this.min=-w,this.max=l+w}insert(l,c,g,y,w){this._forEachCell(c,g,y,w,this._insertCell,this.uid++,void 0,void 0),this.keys.push(l),this.bboxes.push(c),this.bboxes.push(g),this.bboxes.push(y),this.bboxes.push(w)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(l,c,g,y,w,T){this.cells[w].push(T)}query(l,c,g,y,w){const T=this.min,E=this.max;if(l<=T&&c<=T&&E<=g&&E<=y&&!w)return Array.prototype.slice.call(this.keys);{const O=[];return this._forEachCell(l,c,g,y,this._queryCell,O,{},w),O}}_queryCell(l,c,g,y,w,T,E,O){const B=this.cells[w];if(B!==null){const V=this.keys,U=this.bboxes;for(let Z=0;Z<B.length;Z++){const Y=B[Z];if(E[Y]===void 0){const J=4*Y;(O?O(U[J+0],U[J+1],U[J+2],U[J+3]):l<=U[J+2]&&c<=U[J+3]&&g>=U[J+0]&&y>=U[J+1])?(E[Y]=!0,T.push(V[Y])):E[Y]=!1}}}}_forEachCell(l,c,g,y,w,T,E,O){const B=this._convertToCellCoord(l),V=this._convertToCellCoord(c),U=this._convertToCellCoord(g),Z=this._convertToCellCoord(y);for(let Y=B;Y<=U;Y++)for(let J=V;J<=Z;J++){const re=this.d*J+Y;if((!O||O(this._convertFromCellCoord(Y),this._convertFromCellCoord(J),this._convertFromCellCoord(Y+1),this._convertFromCellCoord(J+1)))&&w.call(this,l,c,g,y,re,T,E,O))return}}_convertFromCellCoord(l){return(l-this.padding)/this.scale}_convertToCellCoord(l){return Math.max(0,Math.min(this.d-1,Math.floor(l*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const l=this.cells,c=3+this.cells.length+1+1;let g=0;for(let T=0;T<this.cells.length;T++)g+=this.cells[T].length;const y=new Int32Array(c+g+this.keys.length+this.bboxes.length);y[0]=this.extent,y[1]=this.n,y[2]=this.padding;let w=c;for(let T=0;T<l.length;T++){const E=l[T];y[3+T]=w,y.set(E,w),w+=E.length}return y[3+l.length]=w,y.set(this.keys,w),w+=this.keys.length,y[3+l.length+1]=w,y.set(this.bboxes,w),w+=this.bboxes.length,y.buffer}static serialize(l,c){const g=l.toArrayBuffer();return c&&c.push(g),{buffer:g}}static deserialize(l){return new Sd(l.buffer)}}const Ua={};function Yt(d,l,c={}){if(Ua[d])throw new Error(`${d} is already registered.`);Object.defineProperty(l,"_classRegistryKey",{value:d,writeable:!1}),Ua[d]={klass:l,omit:c.omit||[],shallow:c.shallow||[]}}Yt("Object",Object),Yt("Set",Set),Yt("TransferableGridIndex",Sd),Yt("Color",Vr),Yt("Error",Error),Yt("AJAXError",rn),Yt("ResolvedImage",Bo),Yt("StylePropertyFunction",Fp),Yt("StyleExpression",kp,{omit:["_evaluator"]}),Yt("ZoomDependentExpression",Bp),Yt("ZoomConstantExpression",Du),Yt("CompoundExpression",xa,{omit:["_evaluate"]});for(const d in Gc)Gc[d]._classRegistryKey||Yt(`Expression_${d}`,Gc[d]);function Yc(d){return d&&typeof ArrayBuffer<"u"&&(d instanceof ArrayBuffer||d.constructor&&d.constructor.name==="ArrayBuffer")}function ey(d){return d.$name||d.constructor._classRegistryKey}function T1(d){return!(function(l){if(l===null||typeof l!="object")return!1;const c=ey(l);return!(!c||c==="Object")})(d)&&(d==null||typeof d=="boolean"||typeof d=="number"||typeof d=="string"||d instanceof Boolean||d instanceof Number||d instanceof String||d instanceof Date||d instanceof RegExp||d instanceof Blob||d instanceof Error||Yc(d)||Je(d)||ArrayBuffer.isView(d)||d instanceof ImageData)}function Td(d,l){if(T1(d))return(Yc(d)||Je(d))&&l&&l.push(d),ArrayBuffer.isView(d)&&l&&l.push(d.buffer),d instanceof ImageData&&l&&l.push(d.data.buffer),d;if(Array.isArray(d)){const w=[];for(const T of d)w.push(Td(T,l));return w}if(typeof d!="object")throw new Error("can't serialize object of type "+typeof d);const c=ey(d);if(!c)throw new Error(`can't serialize object of unregistered class ${d.constructor.name}`);if(!Ua[c])throw new Error(`${c} is not registered.`);const{klass:g}=Ua[c],y=g.serialize?g.serialize(d,l):{};if(g.serialize){if(l&&y===l[l.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const w in d){if(!d.hasOwnProperty(w)||Ua[c].omit.indexOf(w)>=0)continue;const T=d[w];y[w]=Ua[c].shallow.indexOf(w)>=0?T:Td(T,l)}d instanceof Error&&(y.message=d.message)}if(y.$name)throw new Error("$name property is reserved for worker serialization logic.");return c!=="Object"&&(y.$name=c),y}function Ks(d){if(T1(d))return d;if(Array.isArray(d))return d.map(Ks);if(typeof d!="object")throw new Error("can't deserialize object of type "+typeof d);const l=ey(d)||"Object";if(!Ua[l])throw new Error(`can't deserialize unregistered class ${l}`);const{klass:c}=Ua[l];if(!c)throw new Error(`can't deserialize unregistered class ${l}`);if(c.deserialize)return c.deserialize(d);const g=Object.create(c.prototype);for(const y of Object.keys(d)){if(y==="$name")continue;const w=d[y];g[y]=Ua[l].shallow.indexOf(y)>=0?w:Ks(w)}return g}class ty{constructor(){this.first=!0}update(l,c){const g=Math.floor(l);return this.first?(this.first=!1,this.lastIntegerZoom=g,this.lastIntegerZoomTime=0,this.lastZoom=l,this.lastFloorZoom=g,!0):(this.lastFloorZoom>g?(this.lastIntegerZoom=g+1,this.lastIntegerZoomTime=c):this.lastFloorZoom<g&&(this.lastIntegerZoom=g,this.lastIntegerZoomTime=c),l!==this.lastZoom&&(this.lastZoom=l,this.lastFloorZoom=g,!0))}}function _C(d){return/[\u02EA\u02EB\u2E80-\u2FDF\u2FF0-\u303F\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FD-\u30FF\u3105-\u312F\u31A0-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uF900-\uFA6D\uFA70-\uFAD9\uFE10-\uFE1F\uFE30-\uFE4F\uFF00-\uFFEF]|\uD81B[\uDFE0-\uDFFF]|[\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFFF]|\uD82C[\uDC00-\uDEFB]|\uD83C[\uDE00-\uDEFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]/gim.test(String.fromCodePoint(d))}function Jc(d){return/[\u02EA\u02EB\u1100-\u11FF\u1400-\u167F\u18B0-\u18F5\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u3007\u3012\u3013\u3020-\u302F\u3031-\u303F\u3041-\u3096\u309D-\u30FB\u30FD-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFE10-\uFE1F\uFE30-\uFE48\uFE50-\uFE57\uFE5F-\uFE62\uFE67-\uFE6F\uFF00-\uFF07\uFF0A-\uFF0C\uFF0E-\uFF19\uFF1F-\uFF3A\uFF3C\uFF3E\uFF40-\uFF5A\uFFE0-\uFFE2\uFFE4-\uFFE7]|\uD802[\uDD80-\uDD9F]|\uD805[\uDD80-\uDDFF]|\uD806[\uDE00-\uDEBF]|\uD811[\uDC00-\uDE7F]|\uD81B[\uDFE0-\uDFE4\uDFF0-\uDFF6]|[\uD81C-\uD822\uD83D\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD30-\uDEFB]|\uD833[\uDEC0-\uDFCF]|\uD834[\uDC00-\uDDFF\uDEE0-\uDF7F]|\uD836[\uDC00-\uDEAF]|\uD83C[\uDC00-\uDE00\uDF00-\uDFFF]|\uD83E[\uDD00-\uDEFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]/gim.test(String.fromCodePoint(d))}function C1(d){return/\s/u.test(String.fromCodePoint(d))}function Cd(d){for(const l of d)if(Jc(l.codePointAt(0)))return!0;return!1}function qp(d){for(const l of d)if(!M1(l.codePointAt(0)))return!1;return!0}function ry(d){const l=d.map((c=>{try{return new RegExp(`\\p{sc=${c}}`,"u").source}catch{return null}})).filter((c=>c));return new RegExp(l.join("|"),"u")}const P1=ry(["Arab","Dupl","Mong","Ougr","Syrc"]);function M1(d){return!P1.test(String.fromCodePoint(d))}function ny(d){return!(Jc(d)||(l=d,/[\xA7\xA9\xAE\xB1\xBC-\xBE\xD7\xF7\u2016\u2020\u2021\u2030\u2031\u203B\u203C\u2042\u2047-\u2049\u2051\u2100-\u218F\u221E\u2234\u2235\u2300-\u2307\u230C-\u231F\u2324-\u2328\u232B\u237D-\u239A\u23BE-\u23CD\u23CF\u23D1-\u23DB\u23E2-\u2422\u2424-\u24FF\u25A0-\u2619\u2620-\u2767\u2776-\u2793\u2B12-\u2B2F\u2B50-\u2B59\u2BB8-\u2BEB\u3000-\u303F\u30A0-\u30FF\uE000-\uF8FF\uFE30-\uFE6F\uFF00-\uFFEF\uFFFC\uFFFD]|[\uDB80-\uDBFF][\uDC00-\uDFFF]/gim.test(String.fromCodePoint(l))));var l}const iy=ry(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function oy(d){return iy.test(String.fromCodePoint(d))}function bC(d,l){return!(!l&&oy(d)||/[\u0900-\u0DFF\u0F00-\u109F\u1780-\u17FF]/gim.test(String.fromCodePoint(d)))}function I1(d){for(const l of d)if(oy(l.codePointAt(0)))return!0;return!1}const Fl=new class{constructor(){this.TIMEOUT=5e3,this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null,this.loadScriptResolve=()=>{}}setState(d){this.pluginStatus=d.pluginStatus,this.pluginURL=d.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(d){if(Fl.isParsed())throw new Error("RTL text plugin already registered.");this.applyArabicShaping=d.applyArabicShaping,this.processBidirectionalText=d.processBidirectionalText,this.processStyledBidirectionalText=d.processStyledBidirectionalText,this.loadScriptResolve()}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getRTLTextPluginStatus(){return this.pluginStatus}syncState(d,l){return a(this,void 0,void 0,(function*(){if(this.isParsed())return this.getState();if(d.pluginStatus!=="loading")return this.setState(d),d;const c=d.pluginURL,g=new Promise((w=>{this.loadScriptResolve=w}));l(c);const y=new Promise((w=>setTimeout((()=>w()),this.TIMEOUT)));if(yield Promise.race([g,y]),this.isParsed()){const w={pluginStatus:"loaded",pluginURL:c};return this.setState(w),w}throw this.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${c}`)}))}};class fn{constructor(l,c){this.isSupportedScript=xC,this.zoom=l,c?(this.now=c.now||0,this.fadeDuration=c.fadeDuration||0,this.zoomHistory=c.zoomHistory||new ty,this.transition=c.transition||{}):(this.now=0,this.fadeDuration=0,this.zoomHistory=new ty,this.transition={})}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const l=this.zoom,c=l-Math.floor(l),g=this.crossFadingFactor();return l>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:c+(1-c)*g}:{fromScale:.5,toScale:1,t:1-(1-g)*c}}}function xC(d){return(function(l,c){for(const g of l)if(!bC(g.codePointAt(0),c))return!1;return!0})(d,Fl.getRTLTextPluginStatus()==="loaded")}const Pd="-transition";class Md{constructor(l,c,g){this.property=l,this.value=c,this.expression=(function(y,w,T){if(Op(y))return new Fp(y,w);if($p(y)){const E=c1(y,w,T);if(E.result==="error")throw new Error(E.value.map((O=>`${O.key}: ${O.message}`)).join(", "));return E.value}{let E=y;return w.type==="color"&&typeof y=="string"?E=Vr.parse(y):w.type!=="padding"||typeof y!="number"&&!Array.isArray(y)?w.type!=="numberArray"||typeof y!="number"&&!Array.isArray(y)?w.type!=="colorArray"||typeof y!="string"&&!Array.isArray(y)?w.type==="variableAnchorOffsetCollection"&&Array.isArray(y)?E=To.parse(y):w.type==="projectionDefinition"&&typeof y=="string"&&(E=mo.parse(y)):E=Ni.parse(y):E=po.parse(y):E=fo.parse(y),{globalStateRefs:new Set,_globalState:null,kind:"constant",evaluate:()=>E}}})(c===void 0?l.specification.default:c,l.specification,g)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}getGlobalStateRefs(){return this.expression.globalStateRefs||new Set}possiblyEvaluate(l,c,g){return this.property.possiblyEvaluate(this,l,c,g)}}class ay{constructor(l,c){this.property=l,this.value=new Md(l,void 0,c)}transitioned(l,c){return new sy(this.property,this.value,c,it({},l.transition,this.transition),l.now)}untransitioned(){return new sy(this.property,this.value,null,{},0)}}class E1{constructor(l,c){this._properties=l,this._values=Object.create(l.defaultTransitionablePropertyValues),this._globalState=c}getValue(l){return tt(this._values[l].value.value)}setValue(l,c){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new ay(this._values[l].property,this._globalState)),this._values[l].value=new Md(this._values[l].property,c===null?void 0:tt(c),this._globalState)}getTransition(l){return tt(this._values[l].transition)}setTransition(l,c){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new ay(this._values[l].property,this._globalState)),this._values[l].transition=tt(c)||void 0}serialize(){const l={};for(const c of Object.keys(this._values)){const g=this.getValue(c);g!==void 0&&(l[c]=g);const y=this.getTransition(c);y!==void 0&&(l[`${c}${Pd}`]=y)}return l}transitioned(l,c){const g=new ly(this._properties);for(const y of Object.keys(this._values))g._values[y]=this._values[y].transitioned(l,c._values[y]);return g}untransitioned(){const l=new ly(this._properties);for(const c of Object.keys(this._values))l._values[c]=this._values[c].untransitioned();return l}}class sy{constructor(l,c,g,y,w){this.property=l,this.value=c,this.begin=w+y.delay||0,this.end=this.begin+y.duration||0,l.specification.transition&&(y.delay||y.duration)&&(this.prior=g)}possiblyEvaluate(l,c,g){const y=l.now||0,w=this.value.possiblyEvaluate(l,c,g),T=this.prior;if(T){if(y>this.end)return this.prior=null,w;if(this.value.isDataDriven())return this.prior=null,w;if(y<this.begin)return T.possiblyEvaluate(l,c,g);{const E=(y-this.begin)/(this.end-this.begin);return this.property.interpolate(T.possiblyEvaluate(l,c,g),w,Lt(E))}}return w}}class ly{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitioningPropertyValues)}possiblyEvaluate(l,c,g){const y=new Ou(this._properties);for(const w of Object.keys(this._values))y._values[w]=this._values[w].possiblyEvaluate(l,c,g);return y}hasTransition(){for(const l of Object.keys(this._values))if(this._values[l].prior)return!0;return!1}}class A1{constructor(l,c){this._properties=l,this._values=Object.create(l.defaultPropertyValues),this._globalState=c}hasValue(l){return this._values[l].value!==void 0}getValue(l){return tt(this._values[l].value)}setValue(l,c){this._values[l]=new Md(this._values[l].property,c===null?void 0:tt(c),this._globalState)}serialize(){const l={};for(const c of Object.keys(this._values)){const g=this.getValue(c);g!==void 0&&(l[c]=g)}return l}possiblyEvaluate(l,c,g){const y=new Ou(this._properties);for(const w of Object.keys(this._values))y._values[w]=this._values[w].possiblyEvaluate(l,c,g);return y}}class Wa{constructor(l,c,g){this.property=l,this.value=c,this.parameters=g}isConstant(){return this.value.kind==="constant"}constantOr(l){return this.value.kind==="constant"?this.value.value:l}evaluate(l,c,g,y){return this.property.evaluate(this.value,this.parameters,l,c,g,y)}}class Ou{constructor(l){this._properties=l,this._values=Object.create(l.defaultPossiblyEvaluatedValues)}get(l){return this._values[l]}}class tr{constructor(l){this.specification=l}possiblyEvaluate(l,c){if(l.isDataDriven())throw new Error("Value should not be data driven");return l.expression.evaluate(c)}interpolate(l,c,g){const y=Ha[this.specification.type];return y?y(l,c,g):l}}class hr{constructor(l,c){this.specification=l,this.overrides=c}possiblyEvaluate(l,c,g,y){return new Wa(this,l.expression.kind==="constant"||l.expression.kind==="camera"?{kind:"constant",value:l.expression.evaluate(c,null,{},g,y)}:l.expression,c)}interpolate(l,c,g){if(l.value.kind!=="constant"||c.value.kind!=="constant")return l;if(l.value.value===void 0||c.value.value===void 0)return new Wa(this,{kind:"constant",value:void 0},l.parameters);const y=Ha[this.specification.type];if(y){const w=y(l.value.value,c.value.value,g);return new Wa(this,{kind:"constant",value:w},l.parameters)}return l}evaluate(l,c,g,y,w,T){return l.kind==="constant"?l.value:l.evaluate(c,g,y,w,T)}}class Id extends hr{possiblyEvaluate(l,c,g,y){if(l.value===void 0)return new Wa(this,{kind:"constant",value:void 0},c);if(l.expression.kind==="constant"){const w=l.expression.evaluate(c,null,{},g,y),T=l.property.specification.type==="resolvedImage"&&typeof w!="string"?w.name:w,E=this._calculate(T,T,T,c);return new Wa(this,{kind:"constant",value:E},c)}if(l.expression.kind==="camera"){const w=this._calculate(l.expression.evaluate({zoom:c.zoom-1}),l.expression.evaluate({zoom:c.zoom}),l.expression.evaluate({zoom:c.zoom+1}),c);return new Wa(this,{kind:"constant",value:w},c)}return new Wa(this,l.expression,c)}evaluate(l,c,g,y,w,T){if(l.kind==="source"){const E=l.evaluate(c,g,y,w,T);return this._calculate(E,E,E,c)}return l.kind==="composite"?this._calculate(l.evaluate({zoom:Math.floor(c.zoom)-1},g,y),l.evaluate({zoom:Math.floor(c.zoom)},g,y),l.evaluate({zoom:Math.floor(c.zoom)+1},g,y),c):l.value}_calculate(l,c,g,y){return y.zoom>y.zoomHistory.lastIntegerZoom?{from:l,to:c}:{from:g,to:c}}interpolate(l){return l}}class D1{constructor(l){this.specification=l}possiblyEvaluate(l,c,g,y){if(l.value!==void 0){if(l.expression.kind==="constant"){const w=l.expression.evaluate(c,null,{},g,y);return this._calculate(w,w,w,c)}return this._calculate(l.expression.evaluate(new fn(Math.floor(c.zoom-1),c)),l.expression.evaluate(new fn(Math.floor(c.zoom),c)),l.expression.evaluate(new fn(Math.floor(c.zoom+1),c)),c)}}_calculate(l,c,g,y){return y.zoom>y.zoomHistory.lastIntegerZoom?{from:l,to:c}:{from:g,to:c}}interpolate(l){return l}}class Ed{constructor(l){this.specification=l}possiblyEvaluate(l,c,g,y){return!!l.expression.evaluate(c,null,{},g,y)}interpolate(){return!1}}class go{constructor(l){this.properties=l,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const c in l){const g=l[c];g.specification.overridable&&this.overridableProperties.push(c);const y=this.defaultPropertyValues[c]=new Md(g,void 0,void 0),w=this.defaultTransitionablePropertyValues[c]=new ay(g,void 0);this.defaultTransitioningPropertyValues[c]=w.untransitioned(),this.defaultPossiblyEvaluatedValues[c]=y.possiblyEvaluate({})}}}Yt("DataDrivenProperty",hr),Yt("DataConstantProperty",tr),Yt("CrossFadedDataDrivenProperty",Id),Yt("CrossFadedProperty",D1),Yt("ColorRampProperty",Ed);class Sa extends Ye{constructor(l,c,g){if(super(),this.id=l.id,this.type=l.type,this._globalState=g,this._featureFilter={filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set},l.type!=="custom"&&(this.metadata=l.metadata,this.minzoom=l.minzoom,this.maxzoom=l.maxzoom,l.type!=="background"&&(this.source=l.source,this.sourceLayer=l["source-layer"],this.filter=l.filter,this._featureFilter=gd(l.filter,g)),c.layout&&(this._unevaluatedLayout=new A1(c.layout,g)),c.paint)){this._transitionablePaint=new E1(c.paint,g);for(const y in l.paint)this.setPaintProperty(y,l.paint[y],{validate:!1});for(const y in l.layout)this.setLayoutProperty(y,l.layout[y],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Ou(c.paint)}}setFilter(l){this.filter=l,this._featureFilter=gd(l,this._globalState)}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(l){return l==="visibility"?this.visibility:this._unevaluatedLayout.getValue(l)}getLayoutAffectingGlobalStateRefs(){const l=new Set;if(this._unevaluatedLayout)for(const c in this._unevaluatedLayout._values){const g=this._unevaluatedLayout._values[c];for(const y of g.getGlobalStateRefs())l.add(y)}for(const c of this._featureFilter.getGlobalStateRefs())l.add(c);return l}getPaintAffectingGlobalStateRefs(){var l;const c=new globalThis.Map;if(this._transitionablePaint)for(const g in this._transitionablePaint._values){const y=this._transitionablePaint._values[g].value;for(const w of y.getGlobalStateRefs()){const T=(l=c.get(w))!==null&&l!==void 0?l:[];T.push({name:g,value:y.value}),c.set(w,T)}}return c}setLayoutProperty(l,c,g={}){c!=null&&this._validate(S1,`layers.${this.id}.layout.${l}`,l,c,g)||(l!=="visibility"?this._unevaluatedLayout.setValue(l,c):this.visibility=c)}getPaintProperty(l){return l.endsWith(Pd)?this._transitionablePaint.getTransition(l.slice(0,-11)):this._transitionablePaint.getValue(l)}setPaintProperty(l,c,g={}){if(c!=null&&this._validate(wd,`layers.${this.id}.paint.${l}`,l,c,g))return!1;if(l.endsWith(Pd))return this._transitionablePaint.setTransition(l.slice(0,-11),c||void 0),!1;{const y=this._transitionablePaint._values[l],w=y.property.specification["property-type"]==="cross-faded-data-driven",T=y.value.isDataDriven(),E=y.value;this._transitionablePaint.setValue(l,c),this._handleSpecialPaintPropertyUpdate(l);const O=this._transitionablePaint._values[l].value;return O.isDataDriven()||T||w||this._handleOverridablePaintPropertyUpdate(l,E,O)}}_handleSpecialPaintPropertyUpdate(l){}_handleOverridablePaintPropertyUpdate(l,c,g){return!1}isHidden(l,c=!1){return!!(this.minzoom&&l<(c?Math.floor(this.minzoom):this.minzoom))||!!(this.maxzoom&&l>=this.maxzoom)||this.visibility==="none"}updateTransitions(l){this._transitioningPaint=this._transitionablePaint.transitioned(l,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(l,c){l.getCrossfadeParameters&&(this._crossfadeParameters=l.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(l,void 0,c)),this.paint=this._transitioningPaint.possiblyEvaluate(l,void 0,c)}serialize(){const l={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(l.layout=l.layout||{},l.layout.visibility=this.visibility),Fe(l,((c,g)=>!(c===void 0||g==="layout"&&!Object.keys(c).length||g==="paint"&&!Object.keys(c).length)))}_validate(l,c,g,y,w={}){return(!w||w.validate!==!1)&&Wp(this,l.call(Ru,{key:c,layerType:this.type,objectKey:g,value:y,styleSpec:Te,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const l in this.paint._values){const c=this.paint.get(l);if(c instanceof Wa&&Wc(c.property.specification)&&(c.value.kind==="source"||c.value.kind==="composite")&&c.value.isStateDependent)return!0}return!1}}let L1;var wC={get paint(){return L1=L1||new go({"raster-opacity":new tr(Te.paint_raster["raster-opacity"]),"raster-hue-rotate":new tr(Te.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new tr(Te.paint_raster["raster-brightness-min"]),"raster-brightness-max":new tr(Te.paint_raster["raster-brightness-max"]),"raster-saturation":new tr(Te.paint_raster["raster-saturation"]),"raster-contrast":new tr(Te.paint_raster["raster-contrast"]),"raster-resampling":new tr(Te.paint_raster["raster-resampling"]),"raster-fade-duration":new tr(Te.paint_raster["raster-fade-duration"])})}};class SC extends Sa{constructor(l,c){super(l,wC,c)}}const TC={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Ad{constructor(l,c){this._structArray=l,this._pos1=c*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class pn{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(l,c){return l._trim(),c&&(l.isTransferred=!0,c.push(l.arrayBuffer)),{length:l.length,arrayBuffer:l.arrayBuffer}}static deserialize(l){const c=Object.create(this.prototype);return c.arrayBuffer=l.arrayBuffer,c.length=l.length,c.capacity=l.arrayBuffer.byteLength/c.bytesPerElement,c._refreshViews(),c}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(l){this.reserve(l),this.length=l}reserve(l){if(l>this.capacity){this.capacity=Math.max(l,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const c=this.uint8;this._refreshViews(),c&&this.uint8.set(c)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function di(d,l=1){let c=0,g=0;return{members:d.map((y=>{const w=TC[y.type].BYTES_PER_ELEMENT,T=c=R1(c,Math.max(l,w)),E=y.components||1;return g=Math.max(g,w),c+=w*E,{name:y.name,type:y.type,components:E,offset:T}})),size:R1(c,Math.max(g,l)),alignment:l}}function R1(d,l){return Math.ceil(d/l)*l}class Dd extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,c){const g=this.length;return this.resize(g+1),this.emplace(g,l,c)}emplace(l,c,g){const y=2*l;return this.int16[y+0]=c,this.int16[y+1]=g,l}}Dd.prototype.bytesPerElement=4,Yt("StructArrayLayout2i4",Dd);class Ld extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,c,g){const y=this.length;return this.resize(y+1),this.emplace(y,l,c,g)}emplace(l,c,g,y){const w=3*l;return this.int16[w+0]=c,this.int16[w+1]=g,this.int16[w+2]=y,l}}Ld.prototype.bytesPerElement=6,Yt("StructArrayLayout3i6",Ld);class uy extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,c,g,y){const w=this.length;return this.resize(w+1),this.emplace(w,l,c,g,y)}emplace(l,c,g,y,w){const T=4*l;return this.int16[T+0]=c,this.int16[T+1]=g,this.int16[T+2]=y,this.int16[T+3]=w,l}}uy.prototype.bytesPerElement=8,Yt("StructArrayLayout4i8",uy);class cy extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,c,g,y,w,T){const E=this.length;return this.resize(E+1),this.emplace(E,l,c,g,y,w,T)}emplace(l,c,g,y,w,T,E){const O=6*l;return this.int16[O+0]=c,this.int16[O+1]=g,this.int16[O+2]=y,this.int16[O+3]=w,this.int16[O+4]=T,this.int16[O+5]=E,l}}cy.prototype.bytesPerElement=12,Yt("StructArrayLayout2i4i12",cy);class Ys extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,c,g,y,w,T){const E=this.length;return this.resize(E+1),this.emplace(E,l,c,g,y,w,T)}emplace(l,c,g,y,w,T,E){const O=4*l,B=8*l;return this.int16[O+0]=c,this.int16[O+1]=g,this.uint8[B+4]=y,this.uint8[B+5]=w,this.uint8[B+6]=T,this.uint8[B+7]=E,l}}Ys.prototype.bytesPerElement=8,Yt("StructArrayLayout2i4ub8",Ys);class Qc extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,c){const g=this.length;return this.resize(g+1),this.emplace(g,l,c)}emplace(l,c,g){const y=2*l;return this.float32[y+0]=c,this.float32[y+1]=g,l}}Qc.prototype.bytesPerElement=8,Yt("StructArrayLayout2f8",Qc);class Rd extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,c,g,y,w,T,E,O,B,V){const U=this.length;return this.resize(U+1),this.emplace(U,l,c,g,y,w,T,E,O,B,V)}emplace(l,c,g,y,w,T,E,O,B,V,U){const Z=10*l;return this.uint16[Z+0]=c,this.uint16[Z+1]=g,this.uint16[Z+2]=y,this.uint16[Z+3]=w,this.uint16[Z+4]=T,this.uint16[Z+5]=E,this.uint16[Z+6]=O,this.uint16[Z+7]=B,this.uint16[Z+8]=V,this.uint16[Z+9]=U,l}}Rd.prototype.bytesPerElement=20,Yt("StructArrayLayout10ui20",Rd);class Zp extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,c,g,y,w,T,E,O){const B=this.length;return this.resize(B+1),this.emplace(B,l,c,g,y,w,T,E,O)}emplace(l,c,g,y,w,T,E,O,B){const V=8*l;return this.uint16[V+0]=c,this.uint16[V+1]=g,this.uint16[V+2]=y,this.uint16[V+3]=w,this.uint16[V+4]=T,this.uint16[V+5]=E,this.uint16[V+6]=O,this.uint16[V+7]=B,l}}Zp.prototype.bytesPerElement=16,Yt("StructArrayLayout8ui16",Zp);class Od extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,c,g,y,w,T,E,O,B,V,U,Z){const Y=this.length;return this.resize(Y+1),this.emplace(Y,l,c,g,y,w,T,E,O,B,V,U,Z)}emplace(l,c,g,y,w,T,E,O,B,V,U,Z,Y){const J=12*l;return this.int16[J+0]=c,this.int16[J+1]=g,this.int16[J+2]=y,this.int16[J+3]=w,this.uint16[J+4]=T,this.uint16[J+5]=E,this.uint16[J+6]=O,this.uint16[J+7]=B,this.int16[J+8]=V,this.int16[J+9]=U,this.int16[J+10]=Z,this.int16[J+11]=Y,l}}Od.prototype.bytesPerElement=24,Yt("StructArrayLayout4i4ui4i24",Od);class hy extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,c,g){const y=this.length;return this.resize(y+1),this.emplace(y,l,c,g)}emplace(l,c,g,y){const w=3*l;return this.float32[w+0]=c,this.float32[w+1]=g,this.float32[w+2]=y,l}}hy.prototype.bytesPerElement=12,Yt("StructArrayLayout3f12",hy);class eh extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(l){const c=this.length;return this.resize(c+1),this.emplace(c,l)}emplace(l,c){return this.uint32[1*l+0]=c,l}}eh.prototype.bytesPerElement=4,Yt("StructArrayLayout1ul4",eh);class ku extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,c,g,y,w,T,E,O,B){const V=this.length;return this.resize(V+1),this.emplace(V,l,c,g,y,w,T,E,O,B)}emplace(l,c,g,y,w,T,E,O,B,V){const U=10*l,Z=5*l;return this.int16[U+0]=c,this.int16[U+1]=g,this.int16[U+2]=y,this.int16[U+3]=w,this.int16[U+4]=T,this.int16[U+5]=E,this.uint32[Z+3]=O,this.uint16[U+8]=B,this.uint16[U+9]=V,l}}ku.prototype.bytesPerElement=20,Yt("StructArrayLayout6i1ul2ui20",ku);class dy extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,c,g,y,w,T){const E=this.length;return this.resize(E+1),this.emplace(E,l,c,g,y,w,T)}emplace(l,c,g,y,w,T,E){const O=6*l;return this.int16[O+0]=c,this.int16[O+1]=g,this.int16[O+2]=y,this.int16[O+3]=w,this.int16[O+4]=T,this.int16[O+5]=E,l}}dy.prototype.bytesPerElement=12,Yt("StructArrayLayout2i2i2i12",dy);class Xp extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,c,g,y,w){const T=this.length;return this.resize(T+1),this.emplace(T,l,c,g,y,w)}emplace(l,c,g,y,w,T){const E=4*l,O=8*l;return this.float32[E+0]=c,this.float32[E+1]=g,this.float32[E+2]=y,this.int16[O+6]=w,this.int16[O+7]=T,l}}Xp.prototype.bytesPerElement=16,Yt("StructArrayLayout2f1f2i16",Xp);class $u extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,c,g,y,w,T){const E=this.length;return this.resize(E+1),this.emplace(E,l,c,g,y,w,T)}emplace(l,c,g,y,w,T,E){const O=16*l,B=4*l,V=8*l;return this.uint8[O+0]=c,this.uint8[O+1]=g,this.float32[B+1]=y,this.float32[B+2]=w,this.int16[V+6]=T,this.int16[V+7]=E,l}}$u.prototype.bytesPerElement=16,Yt("StructArrayLayout2ub2f2i16",$u);class Kp extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,c,g){const y=this.length;return this.resize(y+1),this.emplace(y,l,c,g)}emplace(l,c,g,y){const w=3*l;return this.uint16[w+0]=c,this.uint16[w+1]=g,this.uint16[w+2]=y,l}}Kp.prototype.bytesPerElement=6,Yt("StructArrayLayout3ui6",Kp);class fy extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,c,g,y,w,T,E,O,B,V,U,Z,Y,J,re,se,ge){const Me=this.length;return this.resize(Me+1),this.emplace(Me,l,c,g,y,w,T,E,O,B,V,U,Z,Y,J,re,se,ge)}emplace(l,c,g,y,w,T,E,O,B,V,U,Z,Y,J,re,se,ge,Me){const xe=24*l,Ce=12*l,Ue=48*l;return this.int16[xe+0]=c,this.int16[xe+1]=g,this.uint16[xe+2]=y,this.uint16[xe+3]=w,this.uint32[Ce+2]=T,this.uint32[Ce+3]=E,this.uint32[Ce+4]=O,this.uint16[xe+10]=B,this.uint16[xe+11]=V,this.uint16[xe+12]=U,this.float32[Ce+7]=Z,this.float32[Ce+8]=Y,this.uint8[Ue+36]=J,this.uint8[Ue+37]=re,this.uint8[Ue+38]=se,this.uint32[Ce+10]=ge,this.int16[xe+22]=Me,l}}fy.prototype.bytesPerElement=48,Yt("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",fy);class Yp extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,c,g,y,w,T,E,O,B,V,U,Z,Y,J,re,se,ge,Me,xe,Ce,Ue,We,ot,Ct,_t,Mt,jt,Rt){const Ot=this.length;return this.resize(Ot+1),this.emplace(Ot,l,c,g,y,w,T,E,O,B,V,U,Z,Y,J,re,se,ge,Me,xe,Ce,Ue,We,ot,Ct,_t,Mt,jt,Rt)}emplace(l,c,g,y,w,T,E,O,B,V,U,Z,Y,J,re,se,ge,Me,xe,Ce,Ue,We,ot,Ct,_t,Mt,jt,Rt,Ot){const bt=32*l,sr=16*l;return this.int16[bt+0]=c,this.int16[bt+1]=g,this.int16[bt+2]=y,this.int16[bt+3]=w,this.int16[bt+4]=T,this.int16[bt+5]=E,this.int16[bt+6]=O,this.int16[bt+7]=B,this.uint16[bt+8]=V,this.uint16[bt+9]=U,this.uint16[bt+10]=Z,this.uint16[bt+11]=Y,this.uint16[bt+12]=J,this.uint16[bt+13]=re,this.uint16[bt+14]=se,this.uint16[bt+15]=ge,this.uint16[bt+16]=Me,this.uint16[bt+17]=xe,this.uint16[bt+18]=Ce,this.uint16[bt+19]=Ue,this.uint16[bt+20]=We,this.uint16[bt+21]=ot,this.uint16[bt+22]=Ct,this.uint32[sr+12]=_t,this.float32[sr+13]=Mt,this.float32[sr+14]=jt,this.uint16[bt+30]=Rt,this.uint16[bt+31]=Ot,l}}Yp.prototype.bytesPerElement=64,Yt("StructArrayLayout8i15ui1ul2f2ui64",Yp);class Jp extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l){const c=this.length;return this.resize(c+1),this.emplace(c,l)}emplace(l,c){return this.float32[1*l+0]=c,l}}Jp.prototype.bytesPerElement=4,Yt("StructArrayLayout1f4",Jp);class P extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,c,g){const y=this.length;return this.resize(y+1),this.emplace(y,l,c,g)}emplace(l,c,g,y){const w=3*l;return this.uint16[6*l+0]=c,this.float32[w+1]=g,this.float32[w+2]=y,l}}P.prototype.bytesPerElement=12,Yt("StructArrayLayout1ui2f12",P);class u extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,c,g){const y=this.length;return this.resize(y+1),this.emplace(y,l,c,g)}emplace(l,c,g,y){const w=4*l;return this.uint32[2*l+0]=c,this.uint16[w+2]=g,this.uint16[w+3]=y,l}}u.prototype.bytesPerElement=8,Yt("StructArrayLayout1ul2ui8",u);class f extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,c){const g=this.length;return this.resize(g+1),this.emplace(g,l,c)}emplace(l,c,g){const y=2*l;return this.uint16[y+0]=c,this.uint16[y+1]=g,l}}f.prototype.bytesPerElement=4,Yt("StructArrayLayout2ui4",f);class _ extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l){const c=this.length;return this.resize(c+1),this.emplace(c,l)}emplace(l,c){return this.uint16[1*l+0]=c,l}}_.prototype.bytesPerElement=2,Yt("StructArrayLayout1ui2",_);class S extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,c,g,y){const w=this.length;return this.resize(w+1),this.emplace(w,l,c,g,y)}emplace(l,c,g,y,w){const T=4*l;return this.float32[T+0]=c,this.float32[T+1]=g,this.float32[T+2]=y,this.float32[T+3]=w,l}}S.prototype.bytesPerElement=16,Yt("StructArrayLayout4f16",S);class M extends Ad{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new h(this.anchorPointX,this.anchorPointY)}}M.prototype.size=20;class D extends ku{get(l){return new M(this,l)}}Yt("CollisionBoxArray",D);class z extends Ad{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(l){this._structArray.uint8[this._pos1+37]=l}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(l){this._structArray.uint8[this._pos1+38]=l}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(l){this._structArray.uint32[this._pos4+10]=l}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}z.prototype.size=48;class F extends fy{get(l){return new z(this,l)}}Yt("PlacedSymbolArray",F);class G extends Ad{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(l){this._structArray.uint32[this._pos4+12]=l}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}G.prototype.size=64;class q extends Yp{get(l){return new G(this,l)}}Yt("SymbolInstanceArray",q);class te extends Jp{getoffsetX(l){return this.float32[1*l+0]}}Yt("GlyphOffsetArray",te);class ee extends Ld{getx(l){return this.int16[3*l+0]}gety(l){return this.int16[3*l+1]}gettileUnitDistanceFromAnchor(l){return this.int16[3*l+2]}}Yt("SymbolLineVertexArray",ee);class ae extends Ad{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}ae.prototype.size=12;class fe extends P{get(l){return new ae(this,l)}}Yt("TextAnchorOffsetArray",fe);class we extends Ad{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}we.prototype.size=8;class Se extends u{get(l){return new we(this,l)}}Yt("FeatureIndexArray",Se);class Pe extends Dd{}class Ae extends Dd{}class ke extends Dd{}class Ie extends cy{}class $e extends Ys{}class Ge extends Qc{}class Le extends Rd{}class Ze extends Zp{}class lt extends Od{}class rt extends hy{}class nt extends eh{}class st extends dy{}class kt extends $u{}class At extends Kp{}class Tt extends f{}const er=di([{name:"a_pos",components:2,type:"Int16"}],4),{members:Tr}=er;class wr{constructor(l=[]){this._forceNewSegmentOnNextPrepare=!1,this.segments=l}prepareSegment(l,c,g,y){const w=this.segments[this.segments.length-1];return l>wr.MAX_VERTEX_ARRAY_LENGTH&&_e(`Max vertices per segment is ${wr.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${l}. Consider using the \`fillLargeMeshArrays\` function if you require meshes with more than ${wr.MAX_VERTEX_ARRAY_LENGTH} vertices.`),this._forceNewSegmentOnNextPrepare||!w||w.vertexLength+l>wr.MAX_VERTEX_ARRAY_LENGTH||w.sortKey!==y?this.createNewSegment(c,g,y):w}createNewSegment(l,c,g){const y={vertexOffset:l.length,primitiveOffset:c.length,vertexLength:0,primitiveLength:0,vaos:{}};return g!==void 0&&(y.sortKey=g),this._forceNewSegmentOnNextPrepare=!1,this.segments.push(y),y}getOrCreateLatestSegment(l,c,g){return this.prepareSegment(0,l,c,g)}forceNewSegmentOnNextPrepare(){this._forceNewSegmentOnNextPrepare=!0}get(){return this.segments}destroy(){for(const l of this.segments)for(const c in l.vaos)l.vaos[c].destroy()}static simpleSegment(l,c,g,y){return new wr([{vertexOffset:l,primitiveOffset:c,vertexLength:g,primitiveLength:y,vaos:{},sortKey:0}])}}function An(d,l){return 256*(d=Ft(Math.floor(d),0,255))+Ft(Math.floor(l),0,255)}wr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Yt("SegmentVector",wr);const Dn=di([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),Yn=di([{name:"a_dasharray_from",components:4,type:"Uint16"},{name:"a_dasharray_to",components:4,type:"Uint16"}]);var bn,Ti,Vn,gi={exports:{}},fi={exports:{}},vi={exports:{}},jo=(function(){if(Vn)return gi.exports;Vn=1;var d=(bn||(bn=1,fi.exports=function(c,g){var y,w,T,E,O,B,V,U;for(w=c.length-(y=3&c.length),T=g,O=3432918353,B=461845907,U=0;U<w;)V=255&c.charCodeAt(U)|(255&c.charCodeAt(++U))<<8|(255&c.charCodeAt(++U))<<16|(255&c.charCodeAt(++U))<<24,++U,T=27492+(65535&(E=5*(65535&(T=(T^=V=(65535&(V=(V=(65535&V)*O+(((V>>>16)*O&65535)<<16)&4294967295)<<15|V>>>17))*B+(((V>>>16)*B&65535)<<16)&4294967295)<<13|T>>>19))+((5*(T>>>16)&65535)<<16)&4294967295))+((58964+(E>>>16)&65535)<<16);switch(V=0,y){case 3:V^=(255&c.charCodeAt(U+2))<<16;case 2:V^=(255&c.charCodeAt(U+1))<<8;case 1:T^=V=(65535&(V=(V=(65535&(V^=255&c.charCodeAt(U)))*O+(((V>>>16)*O&65535)<<16)&4294967295)<<15|V>>>17))*B+(((V>>>16)*B&65535)<<16)&4294967295}return T^=c.length,T=2246822507*(65535&(T^=T>>>16))+((2246822507*(T>>>16)&65535)<<16)&4294967295,T=3266489909*(65535&(T^=T>>>13))+((3266489909*(T>>>16)&65535)<<16)&4294967295,(T^=T>>>16)>>>0}),fi.exports),l=(Ti||(Ti=1,vi.exports=function(c,g){for(var y,w=c.length,T=g^w,E=0;w>=4;)y=1540483477*(65535&(y=255&c.charCodeAt(E)|(255&c.charCodeAt(++E))<<8|(255&c.charCodeAt(++E))<<16|(255&c.charCodeAt(++E))<<24))+((1540483477*(y>>>16)&65535)<<16),T=1540483477*(65535&T)+((1540483477*(T>>>16)&65535)<<16)^(y=1540483477*(65535&(y^=y>>>24))+((1540483477*(y>>>16)&65535)<<16)),w-=4,++E;switch(w){case 3:T^=(255&c.charCodeAt(E+2))<<16;case 2:T^=(255&c.charCodeAt(E+1))<<8;case 1:T=1540483477*(65535&(T^=255&c.charCodeAt(E)))+((1540483477*(T>>>16)&65535)<<16)}return T=1540483477*(65535&(T^=T>>>13))+((1540483477*(T>>>16)&65535)<<16),(T^=T>>>15)>>>0}),vi.exports);return gi.exports=d,gi.exports.murmur3=d,gi.exports.murmur2=l,gi.exports})(),Js=p(jo);class bs{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(l,c,g,y){this.ids.push(Nl(l)),this.positions.push(c,g,y)}getPositions(l){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const c=Nl(l);let g=0,y=this.ids.length-1;for(;g<y;){const T=g+y>>1;this.ids[T]>=c?y=T:g=T+1}const w=[];for(;this.ids[g]===c;)w.push({index:this.positions[3*g],start:this.positions[3*g+1],end:this.positions[3*g+2]}),g++;return w}static serialize(l,c){const g=new Float64Array(l.ids),y=new Uint32Array(l.positions);return Vl(g,y,0,g.length-1),c&&c.push(g.buffer,y.buffer),{ids:g,positions:y}}static deserialize(l){const c=new bs;return c.ids=l.ids,c.positions=l.positions,c.indexed=!0,c}}function Nl(d){const l=+d;return!isNaN(l)&&l<=Number.MAX_SAFE_INTEGER?l:Js(String(d))}function Vl(d,l,c,g){for(;c<g;){const y=d[c+g>>1];let w=c-1,T=g+1;for(;;){do w++;while(d[w]<y);do T--;while(d[T]>y);if(w>=T)break;zu(d,w,T),zu(l,3*w,3*T),zu(l,3*w+1,3*T+1),zu(l,3*w+2,3*T+2)}T-c<g-T?(Vl(d,l,c,T),c=T+1):(Vl(d,l,T+1,g),g=T)}}function zu(d,l,c){const g=d[l];d[l]=d[c],d[c]=g}Yt("FeaturePositionMap",bs);class Ta{constructor(l,c){this.gl=l.gl,this.location=c}}class Qs extends Ta{constructor(l,c){super(l,c),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1f(this.location,l))}}class na extends Ta{constructor(l,c){super(l,c),this.current=[0,0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]&&l[3]===this.current[3]||(this.current=l,this.gl.uniform4f(this.location,l[0],l[1],l[2],l[3]))}}class el extends Ta{constructor(l,c){super(l,c),this.current=Vr.transparent}set(l){l.r===this.current.r&&l.g===this.current.g&&l.b===this.current.b&&l.a===this.current.a||(this.current=l,this.gl.uniform4f(this.location,l.r,l.g,l.b,l.a))}}const Bu=new Float32Array(16);function Fu(d){return[An(255*d.r,255*d.g),An(255*d.b,255*d.a)]}class ai{constructor(l,c,g){this.value=l,this.uniformNames=c.map((y=>`u_${y}`)),this.type=g}setUniform(l,c,g){l.set(g.constantOr(this.value))}getBinding(l,c,g){return this.type==="color"?new el(l,c):new Qs(l,c)}}class Jn{constructor(l,c){this.uniformNames=c.map((g=>`u_${g}`)),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(l,c){this.pixelRatioFrom=c.pixelRatio,this.pixelRatioTo=l.pixelRatio,this.patternFrom=c.tlbr,this.patternTo=l.tlbr}setConstantDashPositions(l,c){this.dashTo=[0,l.y,l.height,l.width],this.dashFrom=[0,c.y,c.height,c.width]}setUniform(l,c,g,y){let w=null;y==="u_pattern_to"?w=this.patternTo:y==="u_pattern_from"?w=this.patternFrom:y==="u_dasharray_to"?w=this.dashTo:y==="u_dasharray_from"?w=this.dashFrom:y==="u_pixel_ratio_to"?w=this.pixelRatioTo:y==="u_pixel_ratio_from"&&(w=this.pixelRatioFrom),w!==null&&l.set(w)}getBinding(l,c,g){return g.substr(0,9)==="u_pattern"||g.substr(0,12)==="u_dasharray_"?new na(l,c):new Qs(l,c)}}class Ci{constructor(l,c,g,y){this.expression=l,this.type=g,this.maxValue=0,this.paintVertexAttributes=c.map((w=>({name:`a_${w}`,type:"Float32",components:g==="color"?2:1,offset:0}))),this.paintVertexArray=new y}populatePaintArray(l,c,g){const y=this.paintVertexArray.length,w=this.expression.evaluate(new fn(0,g),c,{},g.canonical,[],g.formattedSection);this.paintVertexArray.resize(l),this._setPaintValue(y,l,w)}updatePaintArray(l,c,g,y,w){const T=this.expression.evaluate(new fn(0,w),g,y);this._setPaintValue(l,c,T)}_setPaintValue(l,c,g){if(this.type==="color"){const y=Fu(g);for(let w=l;w<c;w++)this.paintVertexArray.emplace(w,y[0],y[1])}else{for(let y=l;y<c;y++)this.paintVertexArray.emplace(y,g);this.maxValue=Math.max(this.maxValue,Math.abs(g))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class xn{constructor(l,c,g,y,w,T){this.expression=l,this.uniformNames=c.map((E=>`u_${E}_t`)),this.type=g,this.useIntegerZoom=y,this.zoom=w,this.maxValue=0,this.paintVertexAttributes=c.map((E=>({name:`a_${E}`,type:"Float32",components:g==="color"?4:2,offset:0}))),this.paintVertexArray=new T}populatePaintArray(l,c,g){const y=this.expression.evaluate(new fn(this.zoom,g),c,{},g.canonical,[],g.formattedSection),w=this.expression.evaluate(new fn(this.zoom+1,g),c,{},g.canonical,[],g.formattedSection),T=this.paintVertexArray.length;this.paintVertexArray.resize(l),this._setPaintValue(T,l,y,w)}updatePaintArray(l,c,g,y,w){const T=this.expression.evaluate(new fn(this.zoom,w),g,y),E=this.expression.evaluate(new fn(this.zoom+1,w),g,y);this._setPaintValue(l,c,T,E)}_setPaintValue(l,c,g,y){if(this.type==="color"){const w=Fu(g),T=Fu(y);for(let E=l;E<c;E++)this.paintVertexArray.emplace(E,w[0],w[1],T[0],T[1])}else{for(let w=l;w<c;w++)this.paintVertexArray.emplace(w,g,y);this.maxValue=Math.max(this.maxValue,Math.abs(g),Math.abs(y))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(l,c){const g=this.useIntegerZoom?Math.floor(c.zoom):c.zoom,y=Ft(this.expression.interpolationFactor(g,this.zoom,this.zoom+1),0,1);l.set(y)}getBinding(l,c,g){return new Qs(l,c)}}class jl{constructor(l,c,g,y,w,T){this.expression=l,this.type=c,this.useIntegerZoom=g,this.zoom=y,this.layerId=T,this.zoomInPaintVertexArray=new w,this.zoomOutPaintVertexArray=new w}populatePaintArray(l,c,g){const y=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(l),this.zoomOutPaintVertexArray.resize(l),this._setPaintValues(y,l,this.getPositionIds(c),g)}updatePaintArray(l,c,g,y,w){this._setPaintValues(l,c,this.getPositionIds(g),w)}_setPaintValues(l,c,g,y){const w=this.getPositions(y);if(!w||!g)return;const T=w[g.min],E=w[g.mid],O=w[g.max];if(T&&E&&O)for(let B=l;B<c;B++)this.emplace(this.zoomInPaintVertexArray,B,E,T),this.emplace(this.zoomOutPaintVertexArray,B,E,O)}upload(l){if(this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer){const c=this.getVertexAttributes();this.zoomInPaintVertexBuffer=l.createVertexBuffer(this.zoomInPaintVertexArray,c,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=l.createVertexBuffer(this.zoomOutPaintVertexArray,c,this.expression.isStateDependent)}}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class O1 extends jl{getPositions(l){return l.imagePositions}getPositionIds(l){return l.patterns&&l.patterns[this.layerId]}getVertexAttributes(){return Dn.members}emplace(l,c,g,y){l.emplace(c,g.tlbr[0],g.tlbr[1],g.tlbr[2],g.tlbr[3],y.tlbr[0],y.tlbr[1],y.tlbr[2],y.tlbr[3],g.pixelRatio,y.pixelRatio)}}class k1 extends jl{getPositions(l){return l.dashPositions}getPositionIds(l){return l.dashes&&l.dashes[this.layerId]}getVertexAttributes(){return Yn.members}emplace(l,c,g,y){l.emplace(c,0,g.y,g.height,g.width,0,y.y,y.height,y.width)}}class $1{constructor(l,c,g){this.binders={},this._buffers=[];const y=[];for(const w in l.paint._values){if(!g(w))continue;const T=l.paint.get(w);if(!(T instanceof Wa&&Wc(T.property.specification)))continue;const E=CC(w,l.type),O=T.value,B=T.property.specification.type,V=T.property.useIntegerZoom,U=T.property.specification["property-type"],Z=U==="cross-faded"||U==="cross-faded-data-driven";if(O.kind==="constant")this.binders[w]=Z?new Jn(O.value,E):new ai(O.value,E,B),y.push(`/u_${w}`);else if(O.kind==="source"||Z){const Y=Hl(w,B,"source");this.binders[w]=Z?w==="line-dasharray"?new k1(O,B,V,c,Y,l.id):new O1(O,B,V,c,Y,l.id):new Ci(O,E,B,Y),y.push(`/a_${w}`)}else{const Y=Hl(w,B,"composite");this.binders[w]=new xn(O,E,B,V,c,Y),y.push(`/z_${w}`)}}this.cacheKey=y.sort().join("")}getMaxValue(l){const c=this.binders[l];return c instanceof Ci||c instanceof xn?c.maxValue:0}populatePaintArrays(l,c,g){for(const y in this.binders){const w=this.binders[y];(w instanceof Ci||w instanceof xn||w instanceof jl)&&w.populatePaintArray(l,c,g)}}setConstantPatternPositions(l,c){for(const g in this.binders){const y=this.binders[g];y instanceof Jn&&y.setConstantPatternPositions(l,c)}}setConstantDashPositions(l,c){for(const g in this.binders){const y=this.binders[g];y instanceof Jn&&y.setConstantDashPositions(l,c)}}updatePaintArrays(l,c,g,y,w){let T=!1;for(const E in l){const O=c.getPositions(E);for(const B of O){const V=g.feature(B.index);for(const U in this.binders){const Z=this.binders[U];if((Z instanceof Ci||Z instanceof xn||Z instanceof jl)&&Z.expression.isStateDependent===!0){const Y=y.paint.get(U);Z.expression=Y.value,Z.updatePaintArray(B.start,B.end,V,l[E],w),T=!0}}}}return T}defines(){const l=[];for(const c in this.binders){const g=this.binders[c];(g instanceof ai||g instanceof Jn)&&l.push(...g.uniformNames.map((y=>`#define HAS_UNIFORM_${y}`)))}return l}getBinderAttributes(){const l=[];for(const c in this.binders){const g=this.binders[c];if(g instanceof Ci||g instanceof xn)for(let y=0;y<g.paintVertexAttributes.length;y++)l.push(g.paintVertexAttributes[y].name);else if(g instanceof jl){const y=g.getVertexAttributes();for(const w of y)l.push(w.name)}}return l}getBinderUniforms(){const l=[];for(const c in this.binders){const g=this.binders[c];if(g instanceof ai||g instanceof Jn||g instanceof xn)for(const y of g.uniformNames)l.push(y)}return l}getPaintVertexBuffers(){return this._buffers}getUniforms(l,c){const g=[];for(const y in this.binders){const w=this.binders[y];if(w instanceof ai||w instanceof Jn||w instanceof xn){for(const T of w.uniformNames)if(c[T]){const E=w.getBinding(l,c[T],T);g.push({name:T,property:y,binding:E})}}}return g}setUniforms(l,c,g,y){for(const{name:w,property:T,binding:E}of c)this.binders[T].setUniform(E,y,g.get(T),w)}updatePaintBuffers(l){this._buffers=[];for(const c in this.binders){const g=this.binders[c];if(l&&g instanceof jl){const y=l.fromScale===2?g.zoomInPaintVertexBuffer:g.zoomOutPaintVertexBuffer;y&&this._buffers.push(y)}else(g instanceof Ci||g instanceof xn)&&g.paintVertexBuffer&&this._buffers.push(g.paintVertexBuffer)}}upload(l){for(const c in this.binders){const g=this.binders[c];(g instanceof Ci||g instanceof xn||g instanceof jl)&&g.upload(l)}this.updatePaintBuffers()}destroy(){for(const l in this.binders){const c=this.binders[l];(c instanceof Ci||c instanceof xn||c instanceof jl)&&c.destroy()}}}class Nu{constructor(l,c,g=()=>!0){this.programConfigurations={};for(const y of l)this.programConfigurations[y.id]=new $1(y,c,g);this.needsUpload=!1,this._featureMap=new bs,this._bufferOffset=0}populatePaintArrays(l,c,g,y){for(const w in this.programConfigurations)this.programConfigurations[w].populatePaintArrays(l,c,y);c.id!==void 0&&this._featureMap.add(c.id,g,this._bufferOffset,l),this._bufferOffset=l,this.needsUpload=!0}updatePaintArrays(l,c,g,y){for(const w of g)this.needsUpload=this.programConfigurations[w.id].updatePaintArrays(l,this._featureMap,c,w,y)||this.needsUpload}get(l){return this.programConfigurations[l]}upload(l){if(this.needsUpload){for(const c in this.programConfigurations)this.programConfigurations[c].upload(l);this.needsUpload=!1}}destroy(){for(const l in this.programConfigurations)this.programConfigurations[l].destroy()}}function CC(d,l){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-dasharray":["dasharray_to","dasharray_from"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[d]||[d.replace(`${l}-`,"").replace(/-/g,"_")]}function Hl(d,l,c){const g={color:{source:Qc,composite:S},number:{source:Jp,composite:Qc}},y=(function(w){return{"line-pattern":{source:Le,composite:Le},"fill-pattern":{source:Le,composite:Le},"fill-extrusion-pattern":{source:Le,composite:Le},"line-dasharray":{source:Ze,composite:Ze}}[w]})(d);return y&&y[c]||g[l][c]}Yt("ConstantBinder",ai),Yt("CrossFadedConstantBinder",Jn),Yt("SourceExpressionBinder",Ci),Yt("CrossFadedPatternBinder",O1),Yt("CrossFadedDasharrayBinder",k1),Yt("CompositeExpressionBinder",xn),Yt("ProgramConfiguration",$1,{omit:["_buffers"]}),Yt("ProgramConfigurationSet",Nu);const Qp=Math.pow(2,14)-1,py=-Qp-1;function Gl(d){const l=De/d.extent,c=d.loadGeometry();for(let g=0;g<c.length;g++){const y=c[g];for(let w=0;w<y.length;w++){const T=y[w],E=Math.round(T.x*l),O=Math.round(T.y*l);T.x=Ft(E,py,Qp),T.y=Ft(O,py,Qp),(E<T.x||E>T.x+1||O<T.y||O>T.y+1)&&_e("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return c}function tl(d,l){return{type:d.type,id:d.id,properties:d.properties,geometry:l?Gl(d):[]}}const my=-32768;function gy(d,l,c,g,y){d.emplaceBack(my+8*l+g,my+8*c+y)}class PC{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map((c=>c.id)),this.index=l.index,this.hasDependencies=!1,this.layoutVertexArray=new Ae,this.indexArray=new At,this.segments=new wr,this.programConfigurations=new Nu(l.layers,l.zoom),this.stateDependentLayerIds=this.layers.filter((c=>c.isStateDependent())).map((c=>c.id))}populate(l,c,g){const y=this.layers[0],w=[];let T=null,E=!1,O=y.type==="heatmap";if(y.type==="circle"){const V=y;T=V.layout.get("circle-sort-key"),E=!T.isConstant(),O=O||V.paint.get("circle-pitch-alignment")==="map"}const B=O?c.subdivisionGranularity.circle:1;for(const{feature:V,id:U,index:Z,sourceLayerIndex:Y}of l){const J=this.layers[0]._featureFilter.needGeometry,re=tl(V,J);if(!this.layers[0]._featureFilter.filter(new fn(this.zoom),re,g))continue;const se=E?T.evaluate(re,{},g):void 0,ge={id:U,properties:V.properties,type:V.type,sourceLayerIndex:Y,index:Z,geometry:J?re.geometry:Gl(V),patterns:{},sortKey:se};w.push(ge)}E&&w.sort(((V,U)=>V.sortKey-U.sortKey));for(const V of w){const{geometry:U,index:Z,sourceLayerIndex:Y}=V,J=l[Z].feature;this.addFeature(V,U,Z,g,B),c.featureIndex.insert(J,U,Z,Y,this.index)}}update(l,c,g){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,c,this.stateDependentLayers,{imagePositions:g})}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,Tr),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(l,c,g,y,w=1){let T;switch(w){case 1:T=[0,7];break;case 3:T=[0,2,5,7];break;case 5:T=[0,1,3,4,6,7];break;case 7:T=[0,1,2,3,4,5,6,7];break;default:throw new Error(`Invalid circle bucket granularity: ${w}; valid values are 1, 3, 5, 7.`)}const E=T.length;for(const O of c)for(const B of O){const V=B.x,U=B.y;if(V<0||V>=De||U<0||U>=De)continue;const Z=this.segments.prepareSegment(E*E,this.layoutVertexArray,this.indexArray,l.sortKey),Y=Z.vertexLength;for(let J=0;J<E;J++)for(let re=0;re<E;re++)gy(this.layoutVertexArray,V,U,T[re],T[J]);for(let J=0;J<E-1;J++)for(let re=0;re<E-1;re++){const se=Y+J*E+re,ge=Y+(J+1)*E+re;this.indexArray.emplaceBack(se,ge+1,se+1),this.indexArray.emplaceBack(se,ge,ge+1)}Z.vertexLength+=E*E,Z.primitiveLength+=(E-1)*(E-1)*2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,g,{imagePositions:{},canonical:y})}}function sk(d,l){for(let c=0;c<d.length;c++)if(em(l,d[c]))return!0;for(let c=0;c<l.length;c++)if(em(d,l[c]))return!0;return!!MC(d,l)}function z1(d,l,c){return!!em(d,l)||!!IC(l,d,c)}function lk(d,l){if(d.length===1)return ck(l,d[0]);for(let c=0;c<l.length;c++){const g=l[c];for(let y=0;y<g.length;y++)if(em(d,g[y]))return!0}for(let c=0;c<d.length;c++)if(ck(l,d[c]))return!0;for(let c=0;c<l.length;c++)if(MC(d,l[c]))return!0;return!1}function _K(d,l,c){if(d.length>1){if(MC(d,l))return!0;for(let g=0;g<l.length;g++)if(IC(l[g],d,c))return!0}for(let g=0;g<d.length;g++)if(IC(d[g],l,c))return!0;return!1}function MC(d,l){if(d.length===0||l.length===0)return!1;for(let c=0;c<d.length-1;c++){const g=d[c],y=d[c+1];for(let w=0;w<l.length-1;w++)if(bK(g,y,l[w],l[w+1]))return!0}return!1}function bK(d,l,c,g){return qe(d,c,g)!==qe(l,c,g)&&qe(d,l,c)!==qe(d,l,g)}function IC(d,l,c){const g=c*c;if(l.length===1)return d.distSqr(l[0])<g;for(let y=1;y<l.length;y++)if(uk(d,l[y-1],l[y])<g)return!0;return!1}function uk(d,l,c){const g=l.distSqr(c);if(g===0)return d.distSqr(l);const y=((d.x-l.x)*(c.x-l.x)+(d.y-l.y)*(c.y-l.y))/g;return d.distSqr(y<0?l:y>1?c:c.sub(l)._mult(y)._add(l))}function ck(d,l){let c,g,y,w=!1;for(let T=0;T<d.length;T++){c=d[T];for(let E=0,O=c.length-1;E<c.length;O=E++)g=c[E],y=c[O],g.y>l.y!=y.y>l.y&&l.x<(y.x-g.x)*(l.y-g.y)/(y.y-g.y)+g.x&&(w=!w)}return w}function em(d,l){let c=!1;for(let g=0,y=d.length-1;g<d.length;y=g++){const w=d[g],T=d[y];w.y>l.y!=T.y>l.y&&l.x<(T.x-w.x)*(l.y-w.y)/(T.y-w.y)+w.x&&(c=!c)}return c}function xK(d,l,c){const g=c[0],y=c[2];if(d.x<g.x&&l.x<g.x||d.x>y.x&&l.x>y.x||d.y<g.y&&l.y<g.y||d.y>y.y&&l.y>y.y)return!1;const w=qe(d,l,c[0]);return w!==qe(d,l,c[1])||w!==qe(d,l,c[2])||w!==qe(d,l,c[3])}function tm(d,l,c){const g=l.paint.get(d).value;return g.kind==="constant"?g.value:c.programConfigurations.get(l.id).getMaxValue(d)}function B1(d){return Math.sqrt(d[0]*d[0]+d[1]*d[1])}function F1(d,l,c,g,y){if(!l[0]&&!l[1])return d;const w=h.convert(l)._mult(y);c==="viewport"&&w._rotate(-g);const T=[];for(let E=0;E<d.length;E++)T.push(d[E].sub(w));return T}function wK({queryGeometry:d,size:l},c){return z1(d,c,l)}function SK({queryGeometry:d,size:l,transform:c,unwrappedTileID:g,getElevation:y},w){return z1(d,w,l*(c.projectTileCoordinates(w.x,w.y,g,y).signedDistanceFromCamera/c.cameraToCenterDistance))}function TK({queryGeometry:d,size:l,transform:c,unwrappedTileID:g,getElevation:y},w){const T=c.projectTileCoordinates(w.x,w.y,g,y).signedDistanceFromCamera,E=l*(c.cameraToCenterDistance/T);return z1(d,EC(w,c,g,y),E)}function CK({queryGeometry:d,size:l,transform:c,unwrappedTileID:g,getElevation:y},w){return z1(d,EC(w,c,g,y),l)}function hk({queryGeometry:d,size:l,transform:c,unwrappedTileID:g,getElevation:y,pitchAlignment:w="map",pitchScale:T="map"},E){const O=w==="map"?T==="map"?wK:SK:T==="map"?TK:CK,B={queryGeometry:d,size:l,transform:c,unwrappedTileID:g,getElevation:y};for(const V of E)for(const U of V)if(O(B,U))return!0;return!1}function EC(d,l,c,g){const y=l.projectTileCoordinates(d.x,d.y,c,g).point;return new h((.5*y.x+.5)*l.width,(.5*-y.y+.5)*l.height)}let dk,fk;Yt("CircleBucket",PC,{omit:["layers"]});var PK={get paint(){return fk=fk||new go({"circle-radius":new hr(Te.paint_circle["circle-radius"]),"circle-color":new hr(Te.paint_circle["circle-color"]),"circle-blur":new hr(Te.paint_circle["circle-blur"]),"circle-opacity":new hr(Te.paint_circle["circle-opacity"]),"circle-translate":new tr(Te.paint_circle["circle-translate"]),"circle-translate-anchor":new tr(Te.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new tr(Te.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new tr(Te.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new hr(Te.paint_circle["circle-stroke-width"]),"circle-stroke-color":new hr(Te.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new hr(Te.paint_circle["circle-stroke-opacity"])})},get layout(){return dk=dk||new go({"circle-sort-key":new hr(Te.layout_circle["circle-sort-key"])})}};class MK extends Sa{constructor(l,c){super(l,PK,c)}createBucket(l){return new PC(l)}queryRadius(l){const c=l;return tm("circle-radius",this,c)+tm("circle-stroke-width",this,c)+B1(this.paint.get("circle-translate"))}queryIntersectsFeature({queryGeometry:l,feature:c,featureState:g,geometry:y,transform:w,pixelsToTileUnits:T,unwrappedTileID:E,getElevation:O}){const B=F1(l,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),-w.bearingInRadians,T),V=this.paint.get("circle-radius").evaluate(c,g)+this.paint.get("circle-stroke-width").evaluate(c,g),U=this.paint.get("circle-pitch-scale"),Z=this.paint.get("circle-pitch-alignment");let Y,J;return Z==="map"?(Y=B,J=V*T):(Y=(function(re,se,ge,Me){return re.map((xe=>EC(xe,se,ge,Me)))})(B,w,E,O),J=V),hk({queryGeometry:Y,size:J,transform:w,unwrappedTileID:E,getElevation:O,pitchAlignment:Z,pitchScale:U},y)}}class pk extends PC{}let mk;Yt("HeatmapBucket",pk,{omit:["layers"]});var IK={get paint(){return mk=mk||new go({"heatmap-radius":new hr(Te.paint_heatmap["heatmap-radius"]),"heatmap-weight":new hr(Te.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new tr(Te.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Ed(Te.paint_heatmap["heatmap-color"]),"heatmap-opacity":new tr(Te.paint_heatmap["heatmap-opacity"])})}};function AC(d,{width:l,height:c},g,y){if(y){if(y instanceof Uint8ClampedArray)y=new Uint8Array(y.buffer);else if(y.length!==l*c*g)throw new RangeError(`mismatched image size. expected: ${y.length} but got: ${l*c*g}`)}else y=new Uint8Array(l*c*g);return d.width=l,d.height=c,d.data=y,d}function gk(d,{width:l,height:c},g){if(l===d.width&&c===d.height)return;const y=AC({},{width:l,height:c},g);DC(d,y,{x:0,y:0},{x:0,y:0},{width:Math.min(d.width,l),height:Math.min(d.height,c)},g),d.width=l,d.height=c,d.data=y.data}function DC(d,l,c,g,y,w){if(y.width===0||y.height===0)return l;if(y.width>d.width||y.height>d.height||c.x>d.width-y.width||c.y>d.height-y.height)throw new RangeError("out of range source coordinates for image copy");if(y.width>l.width||y.height>l.height||g.x>l.width-y.width||g.y>l.height-y.height)throw new RangeError("out of range destination coordinates for image copy");const T=d.data,E=l.data;if(T===E)throw new Error("srcData equals dstData, so image is already copied");for(let O=0;O<y.height;O++){const B=((c.y+O)*d.width+c.x)*w,V=((g.y+O)*l.width+g.x)*w;for(let U=0;U<y.width*w;U++)E[V+U]=T[B+U]}return l}class vy{constructor(l,c){AC(this,l,1,c)}resize(l){gk(this,l,1)}clone(){return new vy({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,c,g,y,w){DC(l,c,g,y,w,1)}}class ia{constructor(l,c){AC(this,l,4,c)}resize(l){gk(this,l,4)}replace(l,c){c?this.data.set(l):this.data=l instanceof Uint8ClampedArray?new Uint8Array(l.buffer):l}clone(){return new ia({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,c,g,y,w){DC(l,c,g,y,w,4)}setPixel(l,c,g){const y=4*(l*this.width+c);this.data[y+0]=Math.round(255*g.r/g.a),this.data[y+1]=Math.round(255*g.g/g.a),this.data[y+2]=Math.round(255*g.b/g.a),this.data[y+3]=Math.round(255*g.a)}}function vk(d){const l={},c=d.resolution||256,g=d.clips?d.clips.length:1,y=d.image||new ia({width:c,height:g});if(Math.log(c)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${c}`);const w=(T,E,O)=>{l[d.evaluationKey]=O;const B=d.expression.evaluate(l);y.setPixel(T/4/c,E/4,B)};if(d.clips)for(let T=0,E=0;T<g;++T,E+=4*c)for(let O=0,B=0;O<c;O++,B+=4){const V=O/(c-1),{start:U,end:Z}=d.clips[T];w(E,B,U*(1-V)+Z*V)}else for(let T=0,E=0;T<c;T++,E+=4)w(0,E,T/(c-1));return y}Yt("AlphaImage",vy),Yt("RGBAImage",ia);const LC="big-fb";class EK extends Sa{createBucket(l){return new pk(l)}constructor(l,c){super(l,IK,c),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(l){l==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=vk({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(LC)&&this.heatmapFbos.delete(LC)}queryRadius(l){return tm("heatmap-radius",this,l)}queryIntersectsFeature({queryGeometry:l,feature:c,featureState:g,geometry:y,transform:w,pixelsToTileUnits:T,unwrappedTileID:E,getElevation:O}){return hk({queryGeometry:l,size:this.paint.get("heatmap-radius").evaluate(c,g)*T,transform:w,unwrappedTileID:E,getElevation:O},y)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let yk;var AK={get paint(){return yk=yk||new go({"hillshade-illumination-direction":new tr(Te.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-altitude":new tr(Te.paint_hillshade["hillshade-illumination-altitude"]),"hillshade-illumination-anchor":new tr(Te.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new tr(Te.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new tr(Te.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new tr(Te.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new tr(Te.paint_hillshade["hillshade-accent-color"]),"hillshade-method":new tr(Te.paint_hillshade["hillshade-method"])})}};class DK extends Sa{constructor(l,c){super(l,AK,c),this.recalculate({zoom:0,zoomHistory:{}},void 0)}getIlluminationProperties(){let l=this.paint.get("hillshade-illumination-direction").values,c=this.paint.get("hillshade-illumination-altitude").values,g=this.paint.get("hillshade-highlight-color").values,y=this.paint.get("hillshade-shadow-color").values;const w=Math.max(l.length,c.length,g.length,y.length);l=l.concat(Array(w-l.length).fill(l.at(-1))),c=c.concat(Array(w-c.length).fill(c.at(-1))),g=g.concat(Array(w-g.length).fill(g.at(-1))),y=y.concat(Array(w-y.length).fill(y.at(-1)));const T=c.map($t);return{directionRadians:l.map($t),altitudeRadians:T,shadowColor:y,highlightColor:g}}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}let _k;var LK={get paint(){return _k=_k||new go({"color-relief-opacity":new tr(Te["paint_color-relief"]["color-relief-opacity"]),"color-relief-color":new Ed(Te["paint_color-relief"]["color-relief-color"])})}};class RC{constructor(l,c,g,y){this.context=l,this.format=g,this.texture=l.gl.createTexture(),this.update(c,y)}update(l,c,g){const{width:y,height:w}=l,T=!(this.size&&this.size[0]===y&&this.size[1]===w||g),{context:E}=this,{gl:O}=E;if(this.useMipmap=!!(c&&c.useMipmap),O.bindTexture(O.TEXTURE_2D,this.texture),E.pixelStoreUnpackFlipY.set(!1),E.pixelStoreUnpack.set(1),E.pixelStoreUnpackPremultiplyAlpha.set(this.format===O.RGBA&&(!c||c.premultiply!==!1)),T)this.size=[y,w],l instanceof HTMLImageElement||l instanceof HTMLCanvasElement||l instanceof HTMLVideoElement||l instanceof ImageData||Je(l)?O.texImage2D(O.TEXTURE_2D,0,this.format,this.format,O.UNSIGNED_BYTE,l):O.texImage2D(O.TEXTURE_2D,0,this.format,y,w,0,this.format,O.UNSIGNED_BYTE,l.data);else{const{x:B,y:V}=g||{x:0,y:0};l instanceof HTMLImageElement||l instanceof HTMLCanvasElement||l instanceof HTMLVideoElement||l instanceof ImageData||Je(l)?O.texSubImage2D(O.TEXTURE_2D,0,B,V,O.RGBA,O.UNSIGNED_BYTE,l):O.texSubImage2D(O.TEXTURE_2D,0,B,V,y,w,O.RGBA,O.UNSIGNED_BYTE,l.data)}this.useMipmap&&this.isSizePowerOfTwo()&&O.generateMipmap(O.TEXTURE_2D),E.pixelStoreUnpackFlipY.setDefault(),E.pixelStoreUnpack.setDefault(),E.pixelStoreUnpackPremultiplyAlpha.setDefault()}bind(l,c,g){const{context:y}=this,{gl:w}=y;w.bindTexture(w.TEXTURE_2D,this.texture),g!==w.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(g=w.LINEAR),l!==this.filter&&(w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,l),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,g||l),this.filter=l),c!==this.wrap&&(w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_S,c),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_T,c),this.wrap=c)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:l}=this.context;l.deleteTexture(this.texture),this.texture=null}}class bk{constructor(l,c,g,y=1,w=1,T=1,E=0){if(this.uid=l,c.height!==c.width)throw new RangeError("DEM tiles must be square");if(g&&!["mapbox","terrarium","custom"].includes(g))return void _e(`"${g}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=c.height;const O=this.dim=c.height-2;switch(this.data=new Uint32Array(c.data.buffer),g){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=y,this.greenFactor=w,this.blueFactor=T,this.baseShift=E;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let B=0;B<O;B++)this.data[this._idx(-1,B)]=this.data[this._idx(0,B)],this.data[this._idx(O,B)]=this.data[this._idx(O-1,B)],this.data[this._idx(B,-1)]=this.data[this._idx(B,0)],this.data[this._idx(B,O)]=this.data[this._idx(B,O-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(O,-1)]=this.data[this._idx(O-1,0)],this.data[this._idx(-1,O)]=this.data[this._idx(0,O-1)],this.data[this._idx(O,O)]=this.data[this._idx(O-1,O-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let B=0;B<O;B++)for(let V=0;V<O;V++){const U=this.get(B,V);U>this.max&&(this.max=U),U<this.min&&(this.min=U)}}get(l,c){const g=new Uint8Array(this.data.buffer),y=4*this._idx(l,c);return this.unpack(g[y],g[y+1],g[y+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(l,c){if(l<-1||l>=this.dim+1||c<-1||c>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(c+1)*this.stride+(l+1)}unpack(l,c,g){return l*this.redFactor+c*this.greenFactor+g*this.blueFactor-this.baseShift}pack(l){return xk(l,this.getUnpackVector())}getPixels(){return new ia({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(l,c,g){if(this.dim!==l.dim)throw new Error("dem dimension mismatch");let y=c*this.dim,w=c*this.dim+this.dim,T=g*this.dim,E=g*this.dim+this.dim;switch(c){case-1:y=w-1;break;case 1:w=y+1}switch(g){case-1:T=E-1;break;case 1:E=T+1}const O=-c*this.dim,B=-g*this.dim;for(let V=T;V<E;V++)for(let U=y;U<w;U++)this.data[this._idx(U,V)]=l.data[this._idx(U+O,V+B)]}}function xk(d,l){const c=l[0],g=l[1],y=l[2],w=l[3],T=Math.min(c,g,y),E=Math.round((d+w)/T);return{r:Math.floor(E*T/c)%256,g:Math.floor(E*T/g)%256,b:Math.floor(E*T/y)%256}}Yt("DEMData",bk);class RK extends Sa{constructor(l,c){super(l,LK,c)}_createColorRamp(l){const c={elevationStops:[],colorStops:[]},g=this._transitionablePaint._values["color-relief-color"].value.expression;if(g instanceof Du&&g._styleExpression.expression instanceof eo){this.colorRampExpression=g;const T=g._styleExpression.expression;c.elevationStops=T.labels,c.colorStops=[];for(const E of c.elevationStops)c.colorStops.push(T.evaluate({globals:{elevation:E}}))}if(c.elevationStops.length<1&&(c.elevationStops=[0],c.colorStops=[Vr.transparent]),c.elevationStops.length<2&&(c.elevationStops.push(c.elevationStops[0]+1),c.colorStops.push(c.colorStops[0])),c.elevationStops.length<=l)return c;const y={elevationStops:[],colorStops:[]},w=(c.elevationStops.length-1)/(l-1);for(let T=0;T<c.elevationStops.length-.5;T+=w)y.elevationStops.push(c.elevationStops[Math.round(T)]),y.colorStops.push(c.colorStops[Math.round(T)]);return _e(`Too many colors in specification of ${this.id} color-relief layer, may not render properly. Max possible colors: ${l}, provided: ${c.elevationStops.length}`),y}_colorRampChanged(){return this.colorRampExpression!=this._transitionablePaint._values["color-relief-color"].value.expression}getColorRampTextures(l,c,g){if(this.colorRampTextures&&!this._colorRampChanged())return this.colorRampTextures;const y=this._createColorRamp(c),w=new ia({width:y.colorStops.length,height:1}),T=new ia({width:y.colorStops.length,height:1});for(let E=0;E<y.elevationStops.length;E++){const O=xk(y.elevationStops[E],g);T.setPixel(0,E,new Vr(O.r/255,O.g/255,O.b/255,1)),w.setPixel(0,E,y.colorStops[E])}return this.colorRampTextures={elevationTexture:new RC(l,T,l.gl.RGBA),colorTexture:new RC(l,w,l.gl.RGBA)},this.colorRampTextures}hasOffscreenPass(){return this.visibility!=="none"&&!!this.colorRampTextures}}const OK=di([{name:"a_pos",components:2,type:"Int16"}],4),{members:kK}=OK;function N1(d,l,c){const g=c.patternDependencies;let y=!1;for(const w of l){const T=w.paint.get(`${d}-pattern`);T.isConstant()||(y=!0);const E=T.constantOr(null);E&&(y=!0,g[E.to]=!0,g[E.from]=!0)}return y}function OC(d,l,c,g,y){const{zoom:w}=g,T=y.patternDependencies;for(const E of l){const O=E.paint.get(`${d}-pattern`).value;if(O.kind!=="constant"){let B=O.evaluate({zoom:w-1},c,{},y.availableImages),V=O.evaluate({zoom:w},c,{},y.availableImages),U=O.evaluate({zoom:w+1},c,{},y.availableImages);B=B&&B.name?B.name:B,V=V&&V.name?V.name:V,U=U&&U.name?U.name:U,T[B]=!0,T[V]=!0,T[U]=!0,c.patterns[E.id]={min:B,mid:V,max:U}}}return c}function wk(d,l,c,g,y){let w;if(y===(function(T,E,O,B){let V=0;for(let U=E,Z=O-B;U<O;U+=B)V+=(T[Z]-T[U])*(T[U+1]+T[Z+1]),Z=U;return V})(d,l,c,g)>0)for(let T=l;T<c;T+=g)w=Pk(T/g|0,d[T],d[T+1],w);else for(let T=c-g;T>=l;T-=g)w=Pk(T/g|0,d[T],d[T+1],w);return w&&rm(w,w.next)&&(xy(w),w=w.next),w}function kd(d,l){if(!d)return d;l||(l=d);let c,g=d;do if(c=!1,g.steiner||!rm(g,g.next)&&yi(g.prev,g,g.next)!==0)g=g.next;else{if(xy(g),g=l=g.prev,g===g.next)break;c=!0}while(c||g!==l);return l}function yy(d,l,c,g,y,w,T){if(!d)return;!T&&w&&(function(O,B,V,U){let Z=O;do Z.z===0&&(Z.z=kC(Z.x,Z.y,B,V,U)),Z.prevZ=Z.prev,Z.nextZ=Z.next,Z=Z.next;while(Z!==O);Z.prevZ.nextZ=null,Z.prevZ=null,(function(Y){let J,re=1;do{let se,ge=Y;Y=null;let Me=null;for(J=0;ge;){J++;let xe=ge,Ce=0;for(let We=0;We<re&&(Ce++,xe=xe.nextZ,xe);We++);let Ue=re;for(;Ce>0||Ue>0&&xe;)Ce!==0&&(Ue===0||!xe||ge.z<=xe.z)?(se=ge,ge=ge.nextZ,Ce--):(se=xe,xe=xe.nextZ,Ue--),Me?Me.nextZ=se:Y=se,se.prevZ=Me,Me=se;ge=xe}Me.nextZ=null,re*=2}while(J>1)})(Z)})(d,g,y,w);let E=d;for(;d.prev!==d.next;){const O=d.prev,B=d.next;if(w?zK(d,g,y,w):$K(d))l.push(O.i,d.i,B.i),xy(d),d=B.next,E=B.next;else if((d=B)===E){T?T===1?yy(d=BK(kd(d),l),l,c,g,y,w,2):T===2&&FK(d,l,c,g,y,w):yy(kd(d),l,c,g,y,w,1);break}}}function $K(d){const l=d.prev,c=d,g=d.next;if(yi(l,c,g)>=0)return!1;const y=l.x,w=c.x,T=g.x,E=l.y,O=c.y,B=g.y,V=Math.min(y,w,T),U=Math.min(E,O,B),Z=Math.max(y,w,T),Y=Math.max(E,O,B);let J=g.next;for(;J!==l;){if(J.x>=V&&J.x<=Z&&J.y>=U&&J.y<=Y&&_y(y,E,w,O,T,B,J.x,J.y)&&yi(J.prev,J,J.next)>=0)return!1;J=J.next}return!0}function zK(d,l,c,g){const y=d.prev,w=d,T=d.next;if(yi(y,w,T)>=0)return!1;const E=y.x,O=w.x,B=T.x,V=y.y,U=w.y,Z=T.y,Y=Math.min(E,O,B),J=Math.min(V,U,Z),re=Math.max(E,O,B),se=Math.max(V,U,Z),ge=kC(Y,J,l,c,g),Me=kC(re,se,l,c,g);let xe=d.prevZ,Ce=d.nextZ;for(;xe&&xe.z>=ge&&Ce&&Ce.z<=Me;){if(xe.x>=Y&&xe.x<=re&&xe.y>=J&&xe.y<=se&&xe!==y&&xe!==T&&_y(E,V,O,U,B,Z,xe.x,xe.y)&&yi(xe.prev,xe,xe.next)>=0||(xe=xe.prevZ,Ce.x>=Y&&Ce.x<=re&&Ce.y>=J&&Ce.y<=se&&Ce!==y&&Ce!==T&&_y(E,V,O,U,B,Z,Ce.x,Ce.y)&&yi(Ce.prev,Ce,Ce.next)>=0))return!1;Ce=Ce.nextZ}for(;xe&&xe.z>=ge;){if(xe.x>=Y&&xe.x<=re&&xe.y>=J&&xe.y<=se&&xe!==y&&xe!==T&&_y(E,V,O,U,B,Z,xe.x,xe.y)&&yi(xe.prev,xe,xe.next)>=0)return!1;xe=xe.prevZ}for(;Ce&&Ce.z<=Me;){if(Ce.x>=Y&&Ce.x<=re&&Ce.y>=J&&Ce.y<=se&&Ce!==y&&Ce!==T&&_y(E,V,O,U,B,Z,Ce.x,Ce.y)&&yi(Ce.prev,Ce,Ce.next)>=0)return!1;Ce=Ce.nextZ}return!0}function BK(d,l){let c=d;do{const g=c.prev,y=c.next.next;!rm(g,y)&&Tk(g,c,c.next,y)&&by(g,y)&&by(y,g)&&(l.push(g.i,c.i,y.i),xy(c),xy(c.next),c=d=y),c=c.next}while(c!==d);return kd(c)}function FK(d,l,c,g,y,w){let T=d;do{let E=T.next.next;for(;E!==T.prev;){if(T.i!==E.i&&GK(T,E)){let O=Ck(T,E);return T=kd(T,T.next),O=kd(O,O.next),yy(T,l,c,g,y,w,0),void yy(O,l,c,g,y,w,0)}E=E.next}T=T.next}while(T!==d)}function NK(d,l){let c=d.x-l.x;return c===0&&(c=d.y-l.y,c===0)&&(c=(d.next.y-d.y)/(d.next.x-d.x)-(l.next.y-l.y)/(l.next.x-l.x)),c}function VK(d,l){const c=(function(y,w){let T=w;const E=y.x,O=y.y;let B,V=-1/0;if(rm(y,T))return T;do{if(rm(y,T.next))return T.next;if(O<=T.y&&O>=T.next.y&&T.next.y!==T.y){const re=T.x+(O-T.y)*(T.next.x-T.x)/(T.next.y-T.y);if(re<=E&&re>V&&(V=re,B=T.x<T.next.x?T:T.next,re===E))return B}T=T.next}while(T!==w);if(!B)return null;const U=B,Z=B.x,Y=B.y;let J=1/0;T=B;do{if(E>=T.x&&T.x>=Z&&E!==T.x&&Sk(O<Y?E:V,O,Z,Y,O<Y?V:E,O,T.x,T.y)){const re=Math.abs(O-T.y)/(E-T.x);by(T,y)&&(re<J||re===J&&(T.x>B.x||T.x===B.x&&jK(B,T)))&&(B=T,J=re)}T=T.next}while(T!==U);return B})(d,l);if(!c)return l;const g=Ck(c,d);return kd(g,g.next),kd(c,c.next)}function jK(d,l){return yi(d.prev,d,l.prev)<0&&yi(l.next,d,d.next)<0}function kC(d,l,c,g,y){return(d=1431655765&((d=858993459&((d=252645135&((d=16711935&((d=(d-c)*y|0)|d<<8))|d<<4))|d<<2))|d<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-g)*y|0)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function HK(d){let l=d,c=d;do(l.x<c.x||l.x===c.x&&l.y<c.y)&&(c=l),l=l.next;while(l!==d);return c}function Sk(d,l,c,g,y,w,T,E){return(y-T)*(l-E)>=(d-T)*(w-E)&&(d-T)*(g-E)>=(c-T)*(l-E)&&(c-T)*(w-E)>=(y-T)*(g-E)}function _y(d,l,c,g,y,w,T,E){return!(d===T&&l===E)&&Sk(d,l,c,g,y,w,T,E)}function GK(d,l){return d.next.i!==l.i&&d.prev.i!==l.i&&!(function(c,g){let y=c;do{if(y.i!==c.i&&y.next.i!==c.i&&y.i!==g.i&&y.next.i!==g.i&&Tk(y,y.next,c,g))return!0;y=y.next}while(y!==c);return!1})(d,l)&&(by(d,l)&&by(l,d)&&(function(c,g){let y=c,w=!1;const T=(c.x+g.x)/2,E=(c.y+g.y)/2;do y.y>E!=y.next.y>E&&y.next.y!==y.y&&T<(y.next.x-y.x)*(E-y.y)/(y.next.y-y.y)+y.x&&(w=!w),y=y.next;while(y!==c);return w})(d,l)&&(yi(d.prev,d,l.prev)||yi(d,l.prev,l))||rm(d,l)&&yi(d.prev,d,d.next)>0&&yi(l.prev,l,l.next)>0)}function yi(d,l,c){return(l.y-d.y)*(c.x-l.x)-(l.x-d.x)*(c.y-l.y)}function rm(d,l){return d.x===l.x&&d.y===l.y}function Tk(d,l,c,g){const y=j1(yi(d,l,c)),w=j1(yi(d,l,g)),T=j1(yi(c,g,d)),E=j1(yi(c,g,l));return y!==w&&T!==E||!(y!==0||!V1(d,c,l))||!(w!==0||!V1(d,g,l))||!(T!==0||!V1(c,d,g))||!(E!==0||!V1(c,l,g))}function V1(d,l,c){return l.x<=Math.max(d.x,c.x)&&l.x>=Math.min(d.x,c.x)&&l.y<=Math.max(d.y,c.y)&&l.y>=Math.min(d.y,c.y)}function j1(d){return d>0?1:d<0?-1:0}function by(d,l){return yi(d.prev,d,d.next)<0?yi(d,l,d.next)>=0&&yi(d,d.prev,l)>=0:yi(d,l,d.prev)<0||yi(d,d.next,l)<0}function Ck(d,l){const c=$C(d.i,d.x,d.y),g=$C(l.i,l.x,l.y),y=d.next,w=l.prev;return d.next=l,l.prev=d,c.next=y,y.prev=c,g.next=c,c.prev=g,w.next=g,g.prev=w,g}function Pk(d,l,c,g){const y=$C(d,l,c);return g?(y.next=g.next,y.prev=g,g.next.prev=y,g.next=y):(y.prev=y,y.next=y),y}function xy(d){d.next.prev=d.prev,d.prev.next=d.next,d.prevZ&&(d.prevZ.nextZ=d.nextZ),d.nextZ&&(d.nextZ.prevZ=d.prevZ)}function $C(d,l,c){return{i:d,x:l,y:c,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class nm{constructor(l,c){if(c>l)throw new Error("Min granularity must not be greater than base granularity.");this._baseZoomGranularity=l,this._minGranularity=c}getGranularityForZoomLevel(l){return Math.max(Math.floor(this._baseZoomGranularity/(1<<l)),this._minGranularity,1)}}class H1{constructor(l){this.fill=l.fill,this.line=l.line,this.tile=l.tile,this.stencil=l.stencil,this.circle=l.circle}}H1.noSubdivision=new H1({fill:new nm(0,0),line:new nm(0,0),tile:new nm(0,0),stencil:new nm(0,0),circle:1}),Yt("SubdivisionGranularityExpression",nm),Yt("SubdivisionGranularitySetting",H1);const im=-32768,wy=32767;class UK{constructor(l,c){this._vertexBuffer=[],this._vertexDictionary=new Map,this._used=!1,this._granularity=l,this._granularityCellSize=De/l,this._canonical=c}_getKey(l,c){return(l+=32768)<<16|c+32768}_vertexToIndex(l,c){if(l<-32768||c<-32768||l>32767||c>32767)throw new Error("Vertex coordinates are out of signed 16 bit integer range.");const g=0|Math.round(l),y=0|Math.round(c),w=this._getKey(g,y);if(this._vertexDictionary.has(w))return this._vertexDictionary.get(w);const T=this._vertexBuffer.length/2;return this._vertexDictionary.set(w,T),this._vertexBuffer.push(g,y),T}_subdivideTrianglesScanline(l){if(this._granularity<2)return(function(y,w){const T=[];for(let E=0;E<w.length;E+=3){const O=w[E],B=w[E+1],V=w[E+2],U=y[2*O],Z=y[2*O+1];(y[2*B]-U)*(y[2*V+1]-Z)-(y[2*B+1]-Z)*(y[2*V]-U)>0?(T.push(O),T.push(V),T.push(B)):(T.push(O),T.push(B),T.push(V))}return T})(this._vertexBuffer,l);const c=[],g=l.length;for(let y=0;y<g;y+=3){const w=[l[y+0],l[y+1],l[y+2]],T=[this._vertexBuffer[2*l[y+0]+0],this._vertexBuffer[2*l[y+0]+1],this._vertexBuffer[2*l[y+1]+0],this._vertexBuffer[2*l[y+1]+1],this._vertexBuffer[2*l[y+2]+0],this._vertexBuffer[2*l[y+2]+1]];let E=1/0,O=1/0,B=-1/0,V=-1/0;for(let re=0;re<3;re++){const se=T[2*re],ge=T[2*re+1];E=Math.min(E,se),B=Math.max(B,se),O=Math.min(O,ge),V=Math.max(V,ge)}if(E===B||O===V)continue;const U=Math.floor(E/this._granularityCellSize),Z=Math.ceil(B/this._granularityCellSize),Y=Math.floor(O/this._granularityCellSize),J=Math.ceil(V/this._granularityCellSize);if(U!==Z||Y!==J)for(let re=Y;re<J;re++){const se=this._scanlineGenerateVertexRingForCellRow(re,T,w);WK(this._vertexBuffer,se,c)}else c.push(...w)}return c}_scanlineGenerateVertexRingForCellRow(l,c,g){const y=l*this._granularityCellSize,w=y+this._granularityCellSize,T=[];for(let E=0;E<3;E++){const O=c[2*E],B=c[2*E+1],V=c[2*(E+1)%6],U=c[(2*(E+1)+1)%6],Z=c[2*(E+2)%6],Y=c[(2*(E+2)+1)%6],J=V-O,re=U-B,se=J===0,ge=re===0,Me=(y-B)/re,xe=(w-B)/re,Ce=Math.min(Me,xe),Ue=Math.max(Me,xe);if(!ge&&(Ce>=1||Ue<=0)||ge&&(B<y||B>w)){U>=y&&U<=w&&T.push(g[(E+1)%3]);continue}!ge&&Ce>0&&T.push(this._vertexToIndex(O+J*Ce,B+re*Ce));const We=O+J*Math.max(Ce,0),ot=O+J*Math.min(Ue,1);se||this._generateIntraEdgeVertices(T,O,B,V,U,We,ot),!ge&&Ue<1&&T.push(this._vertexToIndex(O+J*Ue,B+re*Ue)),(ge||U>=y&&U<=w)&&T.push(g[(E+1)%3]),!ge&&(U<=y||U>=w)&&this._generateInterEdgeVertices(T,O,B,V,U,Z,Y,ot,y,w)}return T}_generateIntraEdgeVertices(l,c,g,y,w,T,E){const O=y-c,B=w-g,V=B===0,U=V?Math.min(c,y):Math.min(T,E),Z=V?Math.max(c,y):Math.max(T,E),Y=Math.floor(U/this._granularityCellSize)+1,J=Math.ceil(Z/this._granularityCellSize)-1;if(V?c<y:T<E)for(let re=Y;re<=J;re++){const se=re*this._granularityCellSize;l.push(this._vertexToIndex(se,g+B*(se-c)/O))}else for(let re=J;re>=Y;re--){const se=re*this._granularityCellSize;l.push(this._vertexToIndex(se,g+B*(se-c)/O))}}_generateInterEdgeVertices(l,c,g,y,w,T,E,O,B,V){const U=w-g,Z=T-y,Y=E-w,J=(B-w)/Y,re=(V-w)/Y,se=Math.min(J,re),ge=Math.max(J,re),Me=y+Z*se;let xe=Math.floor(Math.min(Me,O)/this._granularityCellSize)+1,Ce=Math.ceil(Math.max(Me,O)/this._granularityCellSize)-1,Ue=O<Me;const We=Y===0;if(We&&(E===B||E===V))return;if(We||se>=1||ge<=0){const Ct=g-E,_t=T+(c-T)*Math.min((B-E)/Ct,(V-E)/Ct);xe=Math.floor(Math.min(_t,O)/this._granularityCellSize)+1,Ce=Math.ceil(Math.max(_t,O)/this._granularityCellSize)-1,Ue=O<_t}const ot=U>0?V:B;if(Ue)for(let Ct=xe;Ct<=Ce;Ct++)l.push(this._vertexToIndex(Ct*this._granularityCellSize,ot));else for(let Ct=Ce;Ct>=xe;Ct--)l.push(this._vertexToIndex(Ct*this._granularityCellSize,ot))}_generateOutline(l){const c=[];for(const g of l){const y=$d(g,this._granularity,!0),w=this._pointArrayToIndices(y),T=[];for(let E=1;E<w.length;E++)T.push(w[E-1]),T.push(w[E]);c.push(T)}return c}_handlePoles(l){let c=!1,g=!1;this._canonical&&(this._canonical.y===0&&(c=!0),this._canonical.y===(1<<this._canonical.z)-1&&(g=!0)),(c||g)&&this._fillPoles(l,c,g)}_ensureNoPoleVertices(){const l=this._vertexBuffer;for(let c=0;c<l.length;c+=2){const g=l[c+1];g===im&&(l[c+1]=-32767),g===wy&&(l[c+1]=32766)}}_generatePoleQuad(l,c,g,y,w,T){y>w!=(T===im)?(l.push(c),l.push(g),l.push(this._vertexToIndex(y,T)),l.push(g),l.push(this._vertexToIndex(w,T)),l.push(this._vertexToIndex(y,T))):(l.push(g),l.push(c),l.push(this._vertexToIndex(y,T)),l.push(this._vertexToIndex(w,T)),l.push(g),l.push(this._vertexToIndex(y,T)))}_fillPoles(l,c,g){const y=this._vertexBuffer,w=De,T=l.length;for(let E=2;E<T;E+=3){const O=l[E-2],B=l[E-1],V=l[E],U=y[2*O],Z=y[2*O+1],Y=y[2*B],J=y[2*B+1],re=y[2*V],se=y[2*V+1];c&&(Z===0&&J===0&&this._generatePoleQuad(l,O,B,U,Y,im),J===0&&se===0&&this._generatePoleQuad(l,B,V,Y,re,im),se===0&&Z===0&&this._generatePoleQuad(l,V,O,re,U,im)),g&&(Z===w&&J===w&&this._generatePoleQuad(l,O,B,U,Y,wy),J===w&&se===w&&this._generatePoleQuad(l,B,V,Y,re,wy),se===w&&Z===w&&this._generatePoleQuad(l,V,O,re,U,wy))}}_initializeVertices(l){for(let c=0;c<l.length;c+=2)this._vertexToIndex(l[c],l[c+1])}subdividePolygonInternal(l,c){if(this._used)throw new Error("Subdivision: multiple use not allowed.");this._used=!0;const{flattened:g,holeIndices:y}=(function(E){const O=[],B=[];for(const V of E)if(V.length!==0){V!==E[0]&&O.push(B.length/2);for(let U=0;U<V.length;U++)B.push(V[U].x),B.push(V[U].y)}return{flattened:B,holeIndices:O}})(l);let w;this._initializeVertices(g);try{const E=(function(B,V,U=2){const Z=V&&V.length,Y=Z?V[0]*U:B.length;let J=wk(B,0,Y,U,!0);const re=[];if(!J||J.next===J.prev)return re;let se,ge,Me;if(Z&&(J=(function(xe,Ce,Ue,We){const ot=[];for(let Ct=0,_t=Ce.length;Ct<_t;Ct++){const Mt=wk(xe,Ce[Ct]*We,Ct<_t-1?Ce[Ct+1]*We:xe.length,We,!1);Mt===Mt.next&&(Mt.steiner=!0),ot.push(HK(Mt))}ot.sort(NK);for(let Ct=0;Ct<ot.length;Ct++)Ue=VK(ot[Ct],Ue);return Ue})(B,V,J,U)),B.length>80*U){se=B[0],ge=B[1];let xe=se,Ce=ge;for(let Ue=U;Ue<Y;Ue+=U){const We=B[Ue],ot=B[Ue+1];We<se&&(se=We),ot<ge&&(ge=ot),We>xe&&(xe=We),ot>Ce&&(Ce=ot)}Me=Math.max(xe-se,Ce-ge),Me=Me!==0?32767/Me:0}return yy(J,re,U,se,ge,Me,0),re})(g,y),O=this._convertIndices(g,E);w=this._subdivideTrianglesScanline(O)}catch(E){console.error(E)}let T=[];return c&&(T=this._generateOutline(l)),this._ensureNoPoleVertices(),this._handlePoles(w),{verticesFlattened:this._vertexBuffer,indicesTriangles:w,indicesLineList:T}}_convertIndices(l,c){const g=[];for(let y=0;y<c.length;y++)g.push(this._vertexToIndex(l[2*c[y]],l[2*c[y]+1]));return g}_pointArrayToIndices(l){const c=[];for(let g=0;g<l.length;g++){const y=l[g];c.push(this._vertexToIndex(y.x,y.y))}return c}}function Mk(d,l,c,g=!0){return new UK(c,l).subdividePolygonInternal(d,g)}function $d(d,l,c=!1){if(!d||d.length<1)return[];if(d.length<2)return[];const g=d[0],y=d[d.length-1],w=c&&(g.x!==y.x||g.y!==y.y);if(l<2)return w?[...d,d[0]]:[...d];const T=Math.floor(De/l),E=[];E.push(new h(d[0].x,d[0].y));const O=d.length,B=w?O:O-1;for(let V=0;V<B;V++){const U=d[V],Z=V<O-1?d[V+1]:d[0],Y=U.x,J=U.y,re=Z.x,se=Z.y,ge=Y!==re,Me=J!==se;if(!ge&&!Me)continue;const xe=re-Y,Ce=se-J,Ue=Math.abs(xe),We=Math.abs(Ce);let ot=Y,Ct=J;for(;;){const Mt=xe>0?(Math.floor(ot/T)+1)*T:(Math.ceil(ot/T)-1)*T,jt=Ce>0?(Math.floor(Ct/T)+1)*T:(Math.ceil(Ct/T)-1)*T,Rt=Math.abs(ot-Mt),Ot=Math.abs(Ct-jt),bt=Math.abs(ot-re),sr=Math.abs(Ct-se),lr=ge?Rt/Ue:Number.POSITIVE_INFINITY,dr=Me?Ot/We:Number.POSITIVE_INFINITY;if((bt<=Rt||!ge)&&(sr<=Ot||!Me))break;if(lr<dr&&ge||!Me){ot=Mt,Ct+=Ce*lr;const Jt=new h(ot,Math.round(Ct));E[E.length-1].x===Jt.x&&E[E.length-1].y===Jt.y||E.push(Jt)}else{ot+=xe*dr,Ct=jt;const Jt=new h(Math.round(ot),Ct);E[E.length-1].x===Jt.x&&E[E.length-1].y===Jt.y||E.push(Jt)}}const _t=new h(re,se);E[E.length-1].x===_t.x&&E[E.length-1].y===_t.y||E.push(_t)}return E}function WK(d,l,c){if(l.length===0)throw new Error("Subdivision vertex ring is empty.");let g=0,y=d[2*l[0]];for(let O=1;O<l.length;O++){const B=d[2*l[O]];B<y&&(y=B,g=O)}const w=l.length;let T=g,E=(T+1)%w;for(;;){const O=T-1>=0?T-1:w-1,B=(E+1)%w,V=d[2*l[O]],U=d[2*l[B]],Z=d[2*l[T]],Y=d[2*l[T]+1],J=d[2*l[E]+1];let re=!1;if(V<U)re=!0;else if(V>U)re=!1;else{const se=J-Y,ge=-(d[2*l[E]]-Z),Me=Y<J?1:-1;((V-Z)*se+(d[2*l[O]+1]-Y)*ge)*Me>((U-Z)*se+(d[2*l[B]+1]-Y)*ge)*Me&&(re=!0)}if(re){const se=l[O],ge=l[T],Me=l[E];se!==ge&&se!==Me&&ge!==Me&&c.push(Me,ge,se),T--,T<0&&(T=w-1)}else{const se=l[B],ge=l[T],Me=l[E];se!==ge&&se!==Me&&ge!==Me&&c.push(Me,ge,se),E++,E>=w&&(E=0)}if(O===B)break}}function Ik(d,l,c,g,y,w,T,E,O){const B=y.length/2,V=T&&E&&O;if(B<wr.MAX_VERTEX_ARRAY_LENGTH){const U=l.prepareSegment(B,c,g),Z=U.vertexLength;for(let re=0;re<w.length;re+=3)g.emplaceBack(Z+w[re],Z+w[re+1],Z+w[re+2]);let Y,J;U.vertexLength+=B,U.primitiveLength+=w.length/3,V&&(J=T.prepareSegment(B,c,E),Y=J.vertexLength,J.vertexLength+=B);for(let re=0;re<y.length;re+=2)d(y[re],y[re+1]);if(V)for(let re=0;re<O.length;re++){const se=O[re];for(let ge=1;ge<se.length;ge+=2)E.emplaceBack(Y+se[ge-1],Y+se[ge]);J.primitiveLength+=se.length/2}}else(function(U,Z,Y,J,re,se){const ge=[];for(let We=0;We<J.length/2;We++)ge.push(-1);const Me={count:0};let xe=0,Ce=U.getOrCreateLatestSegment(Z,Y),Ue=Ce.vertexLength;for(let We=2;We<re.length;We+=3){const ot=re[We-2],Ct=re[We-1],_t=re[We];let Mt=ge[ot]<xe,jt=ge[Ct]<xe,Rt=ge[_t]<xe;Ce.vertexLength+((Mt?1:0)+(jt?1:0)+(Rt?1:0))>wr.MAX_VERTEX_ARRAY_LENGTH&&(Ce=U.createNewSegment(Z,Y),xe=Me.count,Mt=!0,jt=!0,Rt=!0,Ue=0);const Ot=Sy(ge,J,se,Me,ot,Mt,Ce),bt=Sy(ge,J,se,Me,Ct,jt,Ce),sr=Sy(ge,J,se,Me,_t,Rt,Ce);Y.emplaceBack(Ue+Ot-xe,Ue+bt-xe,Ue+sr-xe),Ce.primitiveLength++}})(l,c,g,y,w,d),V&&(function(U,Z,Y,J,re,se){const ge=[];for(let We=0;We<J.length/2;We++)ge.push(-1);const Me={count:0};let xe=0,Ce=U.getOrCreateLatestSegment(Z,Y),Ue=Ce.vertexLength;for(let We=0;We<re.length;We++){const ot=re[We];for(let Ct=1;Ct<re[We].length;Ct+=2){const _t=ot[Ct-1],Mt=ot[Ct];let jt=ge[_t]<xe,Rt=ge[Mt]<xe;Ce.vertexLength+((jt?1:0)+(Rt?1:0))>wr.MAX_VERTEX_ARRAY_LENGTH&&(Ce=U.createNewSegment(Z,Y),xe=Me.count,jt=!0,Rt=!0,Ue=0);const Ot=Sy(ge,J,se,Me,_t,jt,Ce),bt=Sy(ge,J,se,Me,Mt,Rt,Ce);Y.emplaceBack(Ue+Ot-xe,Ue+bt-xe),Ce.primitiveLength++}}})(T,c,E,y,O,d),l.forceNewSegmentOnNextPrepare(),T?.forceNewSegmentOnNextPrepare()}function Sy(d,l,c,g,y,w,T){if(w){const E=g.count;return c(l[2*y],l[2*y+1]),d[y]=g.count,g.count++,T.vertexLength++,E}return d[y]}class zC{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map((c=>c.id)),this.index=l.index,this.hasDependencies=!1,this.patternFeatures=[],this.layoutVertexArray=new ke,this.indexArray=new At,this.indexArray2=new Tt,this.programConfigurations=new Nu(l.layers,l.zoom),this.segments=new wr,this.segments2=new wr,this.stateDependentLayerIds=this.layers.filter((c=>c.isStateDependent())).map((c=>c.id))}populate(l,c,g){this.hasDependencies=N1("fill",this.layers,c);const y=this.layers[0].layout.get("fill-sort-key"),w=!y.isConstant(),T=[];for(const{feature:E,id:O,index:B,sourceLayerIndex:V}of l){const U=this.layers[0]._featureFilter.needGeometry,Z=tl(E,U);if(!this.layers[0]._featureFilter.filter(new fn(this.zoom),Z,g))continue;const Y=w?y.evaluate(Z,{},g,c.availableImages):void 0,J={id:O,properties:E.properties,type:E.type,sourceLayerIndex:V,index:B,geometry:U?Z.geometry:Gl(E),patterns:{},sortKey:Y};T.push(J)}w&&T.sort(((E,O)=>E.sortKey-O.sortKey));for(const E of T){const{geometry:O,index:B,sourceLayerIndex:V}=E;if(this.hasDependencies){const U=OC("fill",this.layers,E,{zoom:this.zoom},c);this.patternFeatures.push(U)}else this.addFeature(E,O,B,g,{},c.subdivisionGranularity);c.featureIndex.insert(l[B].feature,O,B,V,this.index)}}update(l,c,g){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,c,this.stateDependentLayers,{imagePositions:g})}addFeatures(l,c,g){for(const y of this.patternFeatures)this.addFeature(y,y.geometry,y.index,c,g,l.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,kK),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.indexBuffer2=l.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(l,c,g,y,w,T){for(const E of hd(c,500)){const O=Mk(E,y,T.fill.getGranularityForZoomLevel(y.z)),B=this.layoutVertexArray;Ik(((V,U)=>{B.emplaceBack(V,U)}),this.segments,this.layoutVertexArray,this.indexArray,O.verticesFlattened,O.indicesTriangles,this.segments2,this.indexArray2,O.indicesLineList)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,g,{imagePositions:w,canonical:y})}}let Ek,Ak;Yt("FillBucket",zC,{omit:["layers","patternFeatures"]});var qK={get paint(){return Ak=Ak||new go({"fill-antialias":new tr(Te.paint_fill["fill-antialias"]),"fill-opacity":new hr(Te.paint_fill["fill-opacity"]),"fill-color":new hr(Te.paint_fill["fill-color"]),"fill-outline-color":new hr(Te.paint_fill["fill-outline-color"]),"fill-translate":new tr(Te.paint_fill["fill-translate"]),"fill-translate-anchor":new tr(Te.paint_fill["fill-translate-anchor"]),"fill-pattern":new Id(Te.paint_fill["fill-pattern"])})},get layout(){return Ek=Ek||new go({"fill-sort-key":new hr(Te.layout_fill["fill-sort-key"])})}};class ZK extends Sa{constructor(l,c){super(l,qK,c)}recalculate(l,c){super.recalculate(l,c);const g=this.paint._values["fill-outline-color"];g.value.kind==="constant"&&g.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(l){return new zC(l)}queryRadius(){return B1(this.paint.get("fill-translate"))}queryIntersectsFeature({queryGeometry:l,geometry:c,transform:g,pixelsToTileUnits:y}){return lk(F1(l,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),-g.bearingInRadians,y),c)}isTileClipped(){return!0}}const XK=di([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),KK=di([{name:"a_centroid",components:2,type:"Int16"}],4),{members:YK}=XK;class om{constructor(l,c,g,y,w){this.properties={},this.extent=g,this.type=0,this.id=void 0,this._pbf=l,this._geometry=-1,this._keys=y,this._values=w,l.readFields(JK,this,c)}loadGeometry(){const l=this._pbf;l.pos=this._geometry;const c=l.readVarint()+l.pos,g=[];let y,w=1,T=0,E=0,O=0;for(;l.pos<c;){if(T<=0){const B=l.readVarint();w=7&B,T=B>>3}if(T--,w===1||w===2)E+=l.readSVarint(),O+=l.readSVarint(),w===1&&(y&&g.push(y),y=[]),y&&y.push(new h(E,O));else{if(w!==7)throw new Error(`unknown command ${w}`);y&&y.push(y[0].clone())}}return y&&g.push(y),g}bbox(){const l=this._pbf;l.pos=this._geometry;const c=l.readVarint()+l.pos;let g=1,y=0,w=0,T=0,E=1/0,O=-1/0,B=1/0,V=-1/0;for(;l.pos<c;){if(y<=0){const U=l.readVarint();g=7&U,y=U>>3}if(y--,g===1||g===2)w+=l.readSVarint(),T+=l.readSVarint(),w<E&&(E=w),w>O&&(O=w),T<B&&(B=T),T>V&&(V=T);else if(g!==7)throw new Error(`unknown command ${g}`)}return[E,B,O,V]}toGeoJSON(l,c,g){const y=this.extent*Math.pow(2,g),w=this.extent*l,T=this.extent*c,E=this.loadGeometry();function O(Z){return[360*(Z.x+w)/y-180,360/Math.PI*Math.atan(Math.exp((1-2*(Z.y+T)/y)*Math.PI))-90]}function B(Z){return Z.map(O)}let V;if(this.type===1){const Z=[];for(const J of E)Z.push(J[0]);const Y=B(Z);V=Z.length===1?{type:"Point",coordinates:Y[0]}:{type:"MultiPoint",coordinates:Y}}else if(this.type===2){const Z=E.map(B);V=Z.length===1?{type:"LineString",coordinates:Z[0]}:{type:"MultiLineString",coordinates:Z}}else{if(this.type!==3)throw new Error("unknown feature type");{const Z=(function(J){const re=J.length;if(re<=1)return[J];const se=[];let ge,Me;for(let xe=0;xe<re;xe++){const Ce=QK(J[xe]);Ce!==0&&(Me===void 0&&(Me=Ce<0),Me===Ce<0?(ge&&se.push(ge),ge=[J[xe]]):ge&&ge.push(J[xe]))}return ge&&se.push(ge),se})(E),Y=[];for(const J of Z)Y.push(J.map(B));V=Y.length===1?{type:"Polygon",coordinates:Y[0]}:{type:"MultiPolygon",coordinates:Y}}}const U={type:"Feature",geometry:V,properties:this.properties};return this.id!=null&&(U.id=this.id),U}}function JK(d,l,c){d===1?l.id=c.readVarint():d===2?(function(g,y){const w=g.readVarint()+g.pos;for(;g.pos<w;){const T=y._keys[g.readVarint()],E=y._values[g.readVarint()];y.properties[T]=E}})(c,l):d===3?l.type=c.readVarint():d===4&&(l._geometry=c.pos)}function QK(d){let l=0;for(let c,g,y=0,w=d.length,T=w-1;y<w;T=y++)c=d[y],g=d[T],l+=(g.x-c.x)*(c.y+g.y);return l}om.types=["Unknown","Point","LineString","Polygon"];class Dk{constructor(l,c){this.version=1,this.name="",this.extent=4096,this.length=0,this._pbf=l,this._keys=[],this._values=[],this._features=[],l.readFields(eY,this,c),this.length=this._features.length}feature(l){if(l<0||l>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[l];const c=this._pbf.readVarint()+this._pbf.pos;return new om(this._pbf,c,this.extent,this._keys,this._values)}}function eY(d,l,c){d===15?l.version=c.readVarint():d===1?l.name=c.readString():d===5?l.extent=c.readVarint():d===2?l._features.push(c.pos):d===3?l._keys.push(c.readString()):d===4&&l._values.push((function(g){let y=null;const w=g.readVarint()+g.pos;for(;g.pos<w;){const T=g.readVarint()>>3;y=T===1?g.readString():T===2?g.readFloat():T===3?g.readDouble():T===4?g.readVarint64():T===5?g.readVarint():T===6?g.readSVarint():T===7?g.readBoolean():null}if(y==null)throw new Error("unknown feature value");return y})(c))}class Lk{constructor(l,c){this.layers=l.readFields(tY,{},c)}}function tY(d,l,c){if(d===3){const g=new Dk(c,c.readVarint()+c.pos);g.length&&(l[g.name]=g)}}const BC=Math.pow(2,13);function Ty(d,l,c,g,y,w,T,E){d.emplaceBack(l,c,2*Math.floor(g*BC)+T,y*BC*2,w*BC*2,Math.round(E))}class FC{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map((c=>c.id)),this.index=l.index,this.hasDependencies=!1,this.layoutVertexArray=new Ie,this.centroidVertexArray=new Pe,this.indexArray=new At,this.programConfigurations=new Nu(l.layers,l.zoom),this.segments=new wr,this.stateDependentLayerIds=this.layers.filter((c=>c.isStateDependent())).map((c=>c.id))}populate(l,c,g){this.features=[],this.hasDependencies=N1("fill-extrusion",this.layers,c);for(const{feature:y,id:w,index:T,sourceLayerIndex:E}of l){const O=this.layers[0]._featureFilter.needGeometry,B=tl(y,O);if(!this.layers[0]._featureFilter.filter(new fn(this.zoom),B,g))continue;const V={id:w,sourceLayerIndex:E,index:T,geometry:O?B.geometry:Gl(y),properties:y.properties,type:y.type,patterns:{}};this.hasDependencies?this.features.push(OC("fill-extrusion",this.layers,V,{zoom:this.zoom},c)):this.addFeature(V,V.geometry,T,g,{},c.subdivisionGranularity),c.featureIndex.insert(y,V.geometry,T,E,this.index,!0)}}addFeatures(l,c,g){for(const y of this.features){const{geometry:w}=y;this.addFeature(y,w,y.index,c,g,l.subdivisionGranularity)}}update(l,c,g){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,c,this.stateDependentLayers,{imagePositions:g})}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,YK),this.centroidVertexBuffer=l.createVertexBuffer(this.centroidVertexArray,KK.members,!0),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(l,c,g,y,w,T){for(const E of hd(c,500)){const O={x:0,y:0,sampleCount:0},B=this.layoutVertexArray.length;this.processPolygon(O,y,l,E,T);const V=this.layoutVertexArray.length-B,U=Math.floor(O.x/O.sampleCount),Z=Math.floor(O.y/O.sampleCount);for(let Y=0;Y<V;Y++)this.centroidVertexArray.emplaceBack(U,Z)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,g,{imagePositions:w,canonical:y})}processPolygon(l,c,g,y,w){if(y.length<1||Rk(y[0]))return;for(const U of y)U.length!==0&&rY(l,U);const T={segment:this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)},E=w.fill.getGranularityForZoomLevel(c.z),O=om.types[g.type]==="Polygon";for(const U of y){if(U.length===0||Rk(U))continue;const Z=$d(U,E,O);this._generateSideFaces(Z,T)}if(!O)return;const B=Mk(y,c,E,!1),V=this.layoutVertexArray;Ik(((U,Z)=>{Ty(V,U,Z,0,0,1,1,0)}),this.segments,this.layoutVertexArray,this.indexArray,B.verticesFlattened,B.indicesTriangles)}_generateSideFaces(l,c){let g=0;for(let y=1;y<l.length;y++){const w=l[y],T=l[y-1];if(nY(w,T))continue;c.segment.vertexLength+4>wr.MAX_VERTEX_ARRAY_LENGTH&&(c.segment=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const E=w.sub(T)._perp()._unit(),O=T.dist(w);g+O>32768&&(g=0),Ty(this.layoutVertexArray,w.x,w.y,E.x,E.y,0,0,g),Ty(this.layoutVertexArray,w.x,w.y,E.x,E.y,0,1,g),g+=O,Ty(this.layoutVertexArray,T.x,T.y,E.x,E.y,0,0,g),Ty(this.layoutVertexArray,T.x,T.y,E.x,E.y,0,1,g);const B=c.segment.vertexLength;this.indexArray.emplaceBack(B,B+2,B+1),this.indexArray.emplaceBack(B+1,B+2,B+3),c.segment.vertexLength+=4,c.segment.primitiveLength+=2}}}function rY(d,l){for(let c=0;c<l.length;c++){const g=l[c];c===l.length-1&&l[0].x===g.x&&l[0].y===g.y||(d.x+=g.x,d.y+=g.y,d.sampleCount++)}}function nY(d,l){return d.x===l.x&&(d.x<0||d.x>De)||d.y===l.y&&(d.y<0||d.y>De)}function Rk(d){return d.every((l=>l.x<0))||d.every((l=>l.x>De))||d.every((l=>l.y<0))||d.every((l=>l.y>De))}let Ok;Yt("FillExtrusionBucket",FC,{omit:["layers","features"]});var iY={get paint(){return Ok=Ok||new go({"fill-extrusion-opacity":new tr(Te["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new hr(Te["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new tr(Te["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new tr(Te["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Id(Te["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new hr(Te["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new hr(Te["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new tr(Te["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class oY extends Sa{constructor(l,c){super(l,iY,c)}createBucket(l){return new FC(l)}queryRadius(){return B1(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature({queryGeometry:l,feature:c,featureState:g,geometry:y,transform:w,pixelsToTileUnits:T,pixelPosMatrix:E}){const O=F1(l,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),-w.bearingInRadians,T),B=this.paint.get("fill-extrusion-height").evaluate(c,g),V=this.paint.get("fill-extrusion-base").evaluate(c,g),U=(function(Y,J){const re=[];for(const se of Y){const ge=[se.x,se.y,0,1];be(ge,ge,J),re.push(new h(ge[0]/ge[3],ge[1]/ge[3]))}return re})(O,E),Z=(function(Y,J,re,se){const ge=[],Me=[],xe=se[8]*J,Ce=se[9]*J,Ue=se[10]*J,We=se[11]*J,ot=se[8]*re,Ct=se[9]*re,_t=se[10]*re,Mt=se[11]*re;for(const jt of Y){const Rt=[],Ot=[];for(const bt of jt){const sr=bt.x,lr=bt.y,dr=se[0]*sr+se[4]*lr+se[12],Jt=se[1]*sr+se[5]*lr+se[13],Br=se[2]*sr+se[6]*lr+se[14],jn=se[3]*sr+se[7]*lr+se[15],Pi=Br+Ue,_o=jn+We,xs=dr+ot,Ho=Jt+Ct,to=Br+_t,bo=jn+Mt,pi=new h((dr+xe)/_o,(Jt+Ce)/_o);pi.z=Pi/_o,Rt.push(pi);const ro=new h(xs/bo,Ho/bo);ro.z=to/bo,Ot.push(ro)}ge.push(Rt),Me.push(Ot)}return[ge,Me]})(y,V,B,E);return(function(Y,J,re){let se=1/0;lk(re,J)&&(se=kk(re,J[0]));for(let ge=0;ge<J.length;ge++){const Me=J[ge],xe=Y[ge];for(let Ce=0;Ce<Me.length-1;Ce++){const Ue=Me[Ce],We=[Ue,Me[Ce+1],xe[Ce+1],xe[Ce],Ue];sk(re,We)&&(se=Math.min(se,kk(re,We)))}}return se!==1/0&&se})(Z[0],Z[1],U)}}function Cy(d,l){return d.x*l.x+d.y*l.y}function kk(d,l){if(d.length===1){let c=0;const g=l[c++];let y;for(;!y||g.equals(y);)if(y=l[c++],!y)return 1/0;for(;c<l.length;c++){const w=l[c],T=d[0],E=y.sub(g),O=w.sub(g),B=T.sub(g),V=Cy(E,E),U=Cy(E,O),Z=Cy(O,O),Y=Cy(B,E),J=Cy(B,O),re=V*Z-U*U,se=(Z*Y-U*J)/re,ge=(V*J-U*Y)/re,Me=g.z*(1-se-ge)+y.z*se+w.z*ge;if(isFinite(Me))return Me}return 1/0}{let c=1/0;for(const g of l)c=Math.min(c,g.z);return c}}const aY=di([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:sY}=aY,lY=di([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:uY}=lY,cY=Math.cos(Math.PI/180*37.5),$k=Math.pow(2,14)/.5;class NC{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map((c=>c.id)),this.index=l.index,this.hasDependencies=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((c=>{this.gradients[c.id]={}})),this.layoutVertexArray=new $e,this.layoutVertexArray2=new Ge,this.indexArray=new At,this.programConfigurations=new Nu(l.layers,l.zoom),this.segments=new wr,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((c=>c.isStateDependent())).map((c=>c.id))}populate(l,c,g){this.hasDependencies=N1("line",this.layers,c)||this.hasLineDasharray(this.layers);const y=this.layers[0].layout.get("line-sort-key"),w=!y.isConstant(),T=[];for(const{feature:E,id:O,index:B,sourceLayerIndex:V}of l){const U=this.layers[0]._featureFilter.needGeometry,Z=tl(E,U);if(!this.layers[0]._featureFilter.filter(new fn(this.zoom),Z,g))continue;const Y=w?y.evaluate(Z,{},g):void 0,J={id:O,properties:E.properties,type:E.type,sourceLayerIndex:V,index:B,geometry:U?Z.geometry:Gl(E),patterns:{},dashes:{},sortKey:Y};T.push(J)}w&&T.sort(((E,O)=>E.sortKey-O.sortKey));for(const E of T){const{geometry:O,index:B,sourceLayerIndex:V}=E;this.hasDependencies?(N1("line",this.layers,c)?OC("line",this.layers,E,{zoom:this.zoom},c):this.hasLineDasharray(this.layers)&&this.addLineDashDependencies(this.layers,E,this.zoom,c),this.patternFeatures.push(E)):this.addFeature(E,O,B,g,{},{},c.subdivisionGranularity),c.featureIndex.insert(l[B].feature,O,B,V,this.index)}}update(l,c,g,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,c,this.stateDependentLayers,{imagePositions:g,dashPositions:y})}addFeatures(l,c,g,y){for(const w of this.patternFeatures)this.addFeature(w,w.geometry,w.index,c,g,y,l.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=l.createVertexBuffer(this.layoutVertexArray2,uY)),this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,sY),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(l){if(l.properties&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_end"))return{start:+l.properties.mapbox_clip_start,end:+l.properties.mapbox_clip_end}}addFeature(l,c,g,y,w,T,E){const O=this.layers[0].layout,B=O.get("line-join").evaluate(l,{}),V=O.get("line-cap"),U=O.get("line-miter-limit"),Z=O.get("line-round-limit");this.lineClips=this.lineFeatureClips(l);for(const Y of c)this.addLine(Y,l,B,V,U,Z,y,E);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,g,{imagePositions:w,dashPositions:T,canonical:y})}addLine(l,c,g,y,w,T,E,O){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,l=$d(l,E?O.line.getGranularityForZoomLevel(E.z):1),this.lineClips){this.lineClipsArray.push(this.lineClips);for(let xe=0;xe<l.length-1;xe++)this.totalDistance+=l[xe].dist(l[xe+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const B=om.types[c.type]==="Polygon";let V=l.length;for(;V>=2&&l[V-1].equals(l[V-2]);)V--;let U=0;for(;U<V-1&&l[U].equals(l[U+1]);)U++;if(V<(B?3:2))return;g==="bevel"&&(w=1.05);const Z=this.overscaling<=16?122880/(512*this.overscaling):0,Y=this.segments.prepareSegment(10*V,this.layoutVertexArray,this.indexArray);let J,re,se,ge,Me;this.e1=this.e2=-1,B&&(J=l[V-2],Me=l[U].sub(J)._unit()._perp());for(let xe=U;xe<V;xe++){if(se=xe===V-1?B?l[U+1]:void 0:l[xe+1],se&&l[xe].equals(se))continue;Me&&(ge=Me),J&&(re=J),J=l[xe],Me=se?se.sub(J)._unit()._perp():ge,ge=ge||Me;let Ce=ge.add(Me);Ce.x===0&&Ce.y===0||Ce._unit();const Ue=ge.x*Me.x+ge.y*Me.y,We=Ce.x*Me.x+Ce.y*Me.y,ot=We!==0?1/We:1/0,Ct=2*Math.sqrt(2-2*We),_t=We<cY&&re&&se,Mt=ge.x*Me.y-ge.y*Me.x>0;if(_t&&xe>U){const Ot=J.dist(re);if(Ot>2*Z){const bt=J.sub(J.sub(re)._mult(Z/Ot)._round());this.updateDistance(re,bt),this.addCurrentVertex(bt,ge,0,0,Y),re=bt}}const jt=re&&se;let Rt=jt?g:B?"butt":y;if(jt&&Rt==="round"&&(ot<T?Rt="miter":ot<=2&&(Rt="fakeround")),Rt==="miter"&&ot>w&&(Rt="bevel"),Rt==="bevel"&&(ot>2&&(Rt="flipbevel"),ot<w&&(Rt="miter")),re&&this.updateDistance(re,J),Rt==="miter")Ce._mult(ot),this.addCurrentVertex(J,Ce,0,0,Y);else if(Rt==="flipbevel"){if(ot>100)Ce=Me.mult(-1);else{const Ot=ot*ge.add(Me).mag()/ge.sub(Me).mag();Ce._perp()._mult(Ot*(Mt?-1:1))}this.addCurrentVertex(J,Ce,0,0,Y),this.addCurrentVertex(J,Ce.mult(-1),0,0,Y)}else if(Rt==="bevel"||Rt==="fakeround"){const Ot=-Math.sqrt(ot*ot-1),bt=Mt?Ot:0,sr=Mt?0:Ot;if(re&&this.addCurrentVertex(J,ge,bt,sr,Y),Rt==="fakeround"){const lr=Math.round(180*Ct/Math.PI/20);for(let dr=1;dr<lr;dr++){let Jt=dr/lr;if(Jt!==.5){const jn=Jt-.5;Jt+=Jt*jn*(Jt-1)*((1.0904+Ue*(Ue*(3.55645-1.43519*Ue)-3.2452))*jn*jn+(.848013+Ue*(.215638*Ue-1.06021)))}const Br=Me.sub(ge)._mult(Jt)._add(ge)._unit()._mult(Mt?-1:1);this.addHalfVertex(J,Br.x,Br.y,!1,Mt,0,Y)}}se&&this.addCurrentVertex(J,Me,-bt,-sr,Y)}else if(Rt==="butt")this.addCurrentVertex(J,Ce,0,0,Y);else if(Rt==="square"){const Ot=re?1:-1;this.addCurrentVertex(J,Ce,Ot,Ot,Y)}else Rt==="round"&&(re&&(this.addCurrentVertex(J,ge,0,0,Y),this.addCurrentVertex(J,ge,1,1,Y,!0)),se&&(this.addCurrentVertex(J,Me,-1,-1,Y,!0),this.addCurrentVertex(J,Me,0,0,Y)));if(_t&&xe<V-1){const Ot=J.dist(se);if(Ot>2*Z){const bt=J.add(se.sub(J)._mult(Z/Ot)._round());this.updateDistance(J,bt),this.addCurrentVertex(bt,Me,0,0,Y),J=bt}}}}addCurrentVertex(l,c,g,y,w,T=!1){const E=c.y*y-c.x,O=-c.y-c.x*y;this.addHalfVertex(l,c.x+c.y*g,c.y-c.x*g,T,!1,g,w),this.addHalfVertex(l,E,O,T,!0,-y,w),this.distance>$k/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(l,c,g,y,w,T))}addHalfVertex({x:l,y:c},g,y,w,T,E,O){const B=.5*(this.lineClips?this.scaledDistance*($k-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((l<<1)+(w?1:0),(c<<1)+(T?1:0),Math.round(63*g)+128,Math.round(63*y)+128,1+(E===0?0:E<0?-1:1)|(63&B)<<2,B>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const V=O.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,V,this.e2),O.primitiveLength++),T?this.e2=V:this.e1=V}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(l,c){this.distance+=l.dist(c),this.updateScaledDistance()}hasLineDasharray(l){for(const c of l){const g=c.paint.get("line-dasharray");if(g&&!g.isConstant())return!0}return!1}addLineDashDependencies(l,c,g,y){for(const w of l){const T=w.paint.get("line-dasharray");if(!T||T.value.kind==="constant")continue;const E=w.layout.get("line-cap")==="round",O={dasharray:T.value.evaluate({zoom:g-1},c,{}),round:E},B={dasharray:T.value.evaluate({zoom:g},c,{}),round:E},V={dasharray:T.value.evaluate({zoom:g+1},c,{}),round:E},U=`${O.dasharray.join(",")},${O.round}`,Z=`${B.dasharray.join(",")},${B.round}`,Y=`${V.dasharray.join(",")},${V.round}`;y.dashDependencies[U]=O,y.dashDependencies[Z]=B,y.dashDependencies[Y]=V,c.dashes[w.id]={min:U,mid:Z,max:Y}}}}let zk,Bk;Yt("LineBucket",NC,{omit:["layers","patternFeatures"]});var Fk={get paint(){return Bk=Bk||new go({"line-opacity":new hr(Te.paint_line["line-opacity"]),"line-color":new hr(Te.paint_line["line-color"]),"line-translate":new tr(Te.paint_line["line-translate"]),"line-translate-anchor":new tr(Te.paint_line["line-translate-anchor"]),"line-width":new hr(Te.paint_line["line-width"]),"line-gap-width":new hr(Te.paint_line["line-gap-width"]),"line-offset":new hr(Te.paint_line["line-offset"]),"line-blur":new hr(Te.paint_line["line-blur"]),"line-dasharray":new Id(Te.paint_line["line-dasharray"]),"line-pattern":new Id(Te.paint_line["line-pattern"]),"line-gradient":new Ed(Te.paint_line["line-gradient"])})},get layout(){return zk=zk||new go({"line-cap":new tr(Te.layout_line["line-cap"]),"line-join":new hr(Te.layout_line["line-join"]),"line-miter-limit":new tr(Te.layout_line["line-miter-limit"]),"line-round-limit":new tr(Te.layout_line["line-round-limit"]),"line-sort-key":new hr(Te.layout_line["line-sort-key"])})}};class hY extends hr{possiblyEvaluate(l,c){return c=new fn(Math.floor(c.zoom),{now:c.now,fadeDuration:c.fadeDuration,zoomHistory:c.zoomHistory,transition:c.transition}),super.possiblyEvaluate(l,c)}evaluate(l,c,g,y){return c=it({},c,{zoom:Math.floor(c.zoom)}),super.evaluate(l,c,g,y)}}let G1;class dY extends Sa{constructor(l,c){super(l,Fk,c),this.gradientVersion=0,G1||(G1=new hY(Fk.paint.properties["line-width"].specification),G1.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(l){if(l==="line-gradient"){const c=this.gradientExpression();this.stepInterpolant=!!(function(g){return g._styleExpression!==void 0})(c)&&c._styleExpression.expression instanceof Vc,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(l,c){super.recalculate(l,c),this.paint._values["line-floorwidth"]=G1.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,l)}createBucket(l){return new NC(l)}queryRadius(l){const c=l,g=Nk(tm("line-width",this,c),tm("line-gap-width",this,c)),y=tm("line-offset",this,c);return g/2+Math.abs(y)+B1(this.paint.get("line-translate"))}queryIntersectsFeature({queryGeometry:l,feature:c,featureState:g,geometry:y,transform:w,pixelsToTileUnits:T}){const E=F1(l,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),-w.bearingInRadians,T),O=T/2*Nk(this.paint.get("line-width").evaluate(c,g),this.paint.get("line-gap-width").evaluate(c,g)),B=this.paint.get("line-offset").evaluate(c,g);return B&&(y=(function(V,U){const Z=[];for(let Y=0;Y<V.length;Y++){const J=V[Y],re=[];for(let se=0;se<J.length;se++){const ge=J[se-1],Me=J[se],xe=J[se+1],Ce=se===0?new h(0,0):Me.sub(ge)._unit()._perp(),Ue=se===J.length-1?new h(0,0):xe.sub(Me)._unit()._perp(),We=Ce._add(Ue)._unit(),ot=We.x*Ue.x+We.y*Ue.y;ot!==0&&We._mult(1/ot),re.push(We._mult(U)._add(Me))}Z.push(re)}return Z})(y,B*T)),(function(V,U,Z){for(let Y=0;Y<U.length;Y++){const J=U[Y];if(V.length>=3){for(let re=0;re<J.length;re++)if(em(V,J[re]))return!0}if(_K(V,J,Z))return!0}return!1})(E,y,O)}isTileClipped(){return!0}}function Nk(d,l){return l>0?l+2*d:d}const fY=di([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),pY=di([{name:"a_projected_pos",components:3,type:"Float32"}],4);di([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const mY=di([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);di([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Vk=di([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),gY=di([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function vY(d,l,c){return d.sections.forEach((g=>{g.text=(function(y,w,T){const E=w.layout.get("text-transform").evaluate(T,{});return E==="uppercase"?y=y.toLocaleUpperCase():E==="lowercase"&&(y=y.toLocaleLowerCase()),Fl.applyArabicShaping&&(y=Fl.applyArabicShaping(y)),y})(g.text,l,c)})),d}di([{name:"triangle",components:3,type:"Uint16"}]),di([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),di([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),di([{type:"Float32",name:"offsetX"}]),di([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),di([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);var Gi=24;const Py={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},yY={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},_Y={40:!0};function jk(d,l,c,g,y,w){if("fontStack"in l){const T=c[l.fontStack],E=T&&T[d];return E?E.metrics.advance*l.scale+y:0}{const T=g[l.imageName];return T?T.displaySize[0]*l.scale*Gi/w+y:0}}function Hk(d,l,c,g){const y=Math.pow(d-l,2);return g?d<l?y/2:2*y:y+Math.abs(c)*c}function bY(d,l,c){let g=0;return d===10&&(g-=1e4),c&&(g+=150),d!==40&&d!==65288||(g+=50),l!==41&&l!==65289||(g+=50),g}function Gk(d,l,c,g,y,w){let T=null,E=Hk(l,c,y,w);for(const O of g){const B=Hk(l-O.x,c,y,w)+O.badness;B<=E&&(T=O,E=B)}return{index:d,x:l,priorBreak:T,badness:E}}function Uk(d){return d?Uk(d.priorBreak).concat(d.index):[]}class am{constructor(l="",c=[],g=[]){this.text=l,this.sections=c,this.sectionIndex=g,this.imageSectionID=null}static fromFeature(l,c){const g=new am;for(let y=0;y<l.sections.length;y++){const w=l.sections[y];w.image?g.addImageSection(w):g.addTextSection(w,c)}return g}length(){return[...this.text].length}getSection(l){return this.sections[this.sectionIndex[l]]}getSectionIndex(l){return this.sectionIndex[l]}verticalizePunctuation(){this.text=(function(l){let c="",g={premature:!0,value:void 0};const y=l[Symbol.iterator]();let w=y.next();const T=l[Symbol.iterator]();T.next();let E=T.next();for(;!w.done;)c+=!E.done&&ny(E.value.codePointAt(0))&&!Py[E.value]||!g.premature&&ny(g.value.codePointAt(0))&&!Py[g.value]||!Py[w.value]?w.value:Py[w.value],g={value:w.value,premature:!1},w=y.next(),E=T.next();return c})(this.text)}hasZeroWidthSpaces(){return this.text.includes("")}trim(){const l=this.text.match(/^\s*/),c=l?l[0].length:0,g=this.text.match(/\S\s*$/),y=g?g[0].length-1:0;this.text=this.text.substring(c,this.text.length-y),this.sectionIndex=this.sectionIndex.slice(c,this.sectionIndex.length-y)}substring(l,c){const g=[...this.text].slice(l,c).join(""),y=this.sectionIndex.slice(l,c);return new am(g,this.sections,y)}toCodeUnitIndex(l){return[...this.text].slice(0,l).join("").length}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce(((l,c)=>Math.max(l,this.sections[c].scale)),0)}getMaxImageSize(l){let c=0,g=0;for(let y=0;y<this.length();y++){const w=this.getSection(y);if("imageName"in w){const T=l[w.imageName];if(!T)continue;const E=T.displaySize;c=Math.max(c,E[0]),g=Math.max(g,E[1])}}return{maxImageWidth:c,maxImageHeight:g}}addTextSection(l,c){this.text+=l.text,this.sections.push({scale:l.scale||1,verticalAlign:l.verticalAlign||"bottom",fontStack:l.fontStack||c});const g=this.sections.length-1;this.sectionIndex.push(...[...l.text].map((()=>g)))}addImageSection(l){const c=l.image?l.image.name:"";if(c.length===0)return void _e("Can't add FormattedSection with an empty image.");const g=this.getNextImageSectionCharCode();g?(this.text+=String.fromCharCode(g),this.sections.push({scale:1,verticalAlign:l.verticalAlign||"bottom",imageName:c}),this.sectionIndex.push(this.sections.length-1)):_e("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}determineLineBreaks(l,c,g,y,w){const T=[],E=this.determineAverageLineWidth(l,c,g,y,w),O=this.hasZeroWidthSpaces();let B=0,V=0;const U=this.text[Symbol.iterator]();let Z=U.next();const Y=this.text[Symbol.iterator]();Y.next();let J=Y.next();const re=this.text[Symbol.iterator]();re.next(),re.next();let se=re.next();for(;!Z.done;){const ge=this.getSection(V),Me=Z.value.codePointAt(0);if(C1(Me)||(B+=jk(Me,ge,g,y,l,w)),!J.done){const xe=_C(Me),Ce=J.value.codePointAt(0);(yY[Me]||xe||"imageName"in ge||!se.done&&_Y[Ce])&&T.push(Gk(V+1,B,E,T,bY(Me,Ce,xe&&O),!1))}V++,Z=U.next(),J=Y.next(),se=re.next()}return Uk(Gk(this.length(),B,E,T,0,!0))}determineAverageLineWidth(l,c,g,y,w){let T=0,E=0;for(const O of this.text){const B=this.getSection(E);T+=jk(O.codePointAt(0),B,g,y,l,w),E++}return T/Math.max(1,Math.ceil(T/c))}}const VC=4294967296,Wk=1/VC,qk=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");class jC{constructor(l=new Uint8Array(16)){this.buf=ArrayBuffer.isView(l)?l:new Uint8Array(l),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(l,c,g=this.length){for(;this.pos<g;){const y=this.readVarint(),w=y>>3,T=this.pos;this.type=7&y,l(w,c,this),this.pos===T&&this.skip(y)}return c}readMessage(l,c){return this.readFields(l,c,this.readVarint()+this.pos)}readFixed32(){const l=this.dataView.getUint32(this.pos,!0);return this.pos+=4,l}readSFixed32(){const l=this.dataView.getInt32(this.pos,!0);return this.pos+=4,l}readFixed64(){const l=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*VC;return this.pos+=8,l}readSFixed64(){const l=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*VC;return this.pos+=8,l}readFloat(){const l=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,l}readDouble(){const l=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,l}readVarint(l){const c=this.buf;let g,y;return y=c[this.pos++],g=127&y,y<128?g:(y=c[this.pos++],g|=(127&y)<<7,y<128?g:(y=c[this.pos++],g|=(127&y)<<14,y<128?g:(y=c[this.pos++],g|=(127&y)<<21,y<128?g:(y=c[this.pos],g|=(15&y)<<28,(function(w,T,E){const O=E.buf;let B,V;if(V=O[E.pos++],B=(112&V)>>4,V<128||(V=O[E.pos++],B|=(127&V)<<3,V<128)||(V=O[E.pos++],B|=(127&V)<<10,V<128)||(V=O[E.pos++],B|=(127&V)<<17,V<128)||(V=O[E.pos++],B|=(127&V)<<24,V<128)||(V=O[E.pos++],B|=(1&V)<<31,V<128))return sm(w,B,T);throw new Error("Expected varint not more than 10 bytes")})(g,l,this)))))}readVarint64(){return this.readVarint(!0)}readSVarint(){const l=this.readVarint();return l%2==1?(l+1)/-2:l/2}readBoolean(){return!!this.readVarint()}readString(){const l=this.readVarint()+this.pos,c=this.pos;return this.pos=l,l-c>=12&&qk?qk.decode(this.buf.subarray(c,l)):(function(g,y,w){let T="",E=y;for(;E<w;){const O=g[E];let B,V,U,Z=null,Y=O>239?4:O>223?3:O>191?2:1;if(E+Y>w)break;Y===1?O<128&&(Z=O):Y===2?(B=g[E+1],(192&B)==128&&(Z=(31&O)<<6|63&B,Z<=127&&(Z=null))):Y===3?(B=g[E+1],V=g[E+2],(192&B)==128&&(192&V)==128&&(Z=(15&O)<<12|(63&B)<<6|63&V,(Z<=2047||Z>=55296&&Z<=57343)&&(Z=null))):Y===4&&(B=g[E+1],V=g[E+2],U=g[E+3],(192&B)==128&&(192&V)==128&&(192&U)==128&&(Z=(15&O)<<18|(63&B)<<12|(63&V)<<6|63&U,(Z<=65535||Z>=1114112)&&(Z=null))),Z===null?(Z=65533,Y=1):Z>65535&&(Z-=65536,T+=String.fromCharCode(Z>>>10&1023|55296),Z=56320|1023&Z),T+=String.fromCharCode(Z),E+=Y}return T})(this.buf,c,l)}readBytes(){const l=this.readVarint()+this.pos,c=this.buf.subarray(this.pos,l);return this.pos=l,c}readPackedVarint(l=[],c){const g=this.readPackedEnd();for(;this.pos<g;)l.push(this.readVarint(c));return l}readPackedSVarint(l=[]){const c=this.readPackedEnd();for(;this.pos<c;)l.push(this.readSVarint());return l}readPackedBoolean(l=[]){const c=this.readPackedEnd();for(;this.pos<c;)l.push(this.readBoolean());return l}readPackedFloat(l=[]){const c=this.readPackedEnd();for(;this.pos<c;)l.push(this.readFloat());return l}readPackedDouble(l=[]){const c=this.readPackedEnd();for(;this.pos<c;)l.push(this.readDouble());return l}readPackedFixed32(l=[]){const c=this.readPackedEnd();for(;this.pos<c;)l.push(this.readFixed32());return l}readPackedSFixed32(l=[]){const c=this.readPackedEnd();for(;this.pos<c;)l.push(this.readSFixed32());return l}readPackedFixed64(l=[]){const c=this.readPackedEnd();for(;this.pos<c;)l.push(this.readFixed64());return l}readPackedSFixed64(l=[]){const c=this.readPackedEnd();for(;this.pos<c;)l.push(this.readSFixed64());return l}readPackedEnd(){return this.type===2?this.readVarint()+this.pos:this.pos+1}skip(l){const c=7&l;if(c===0)for(;this.buf[this.pos++]>127;);else if(c===2)this.pos=this.readVarint()+this.pos;else if(c===5)this.pos+=4;else{if(c!==1)throw new Error(`Unimplemented type: ${c}`);this.pos+=8}}writeTag(l,c){this.writeVarint(l<<3|c)}realloc(l){let c=this.length||16;for(;c<this.pos+l;)c*=2;if(c!==this.length){const g=new Uint8Array(c);g.set(this.buf),this.buf=g,this.dataView=new DataView(g.buffer),this.length=c}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(l){this.realloc(4),this.dataView.setInt32(this.pos,l,!0),this.pos+=4}writeSFixed32(l){this.realloc(4),this.dataView.setInt32(this.pos,l,!0),this.pos+=4}writeFixed64(l){this.realloc(8),this.dataView.setInt32(this.pos,-1&l,!0),this.dataView.setInt32(this.pos+4,Math.floor(l*Wk),!0),this.pos+=8}writeSFixed64(l){this.realloc(8),this.dataView.setInt32(this.pos,-1&l,!0),this.dataView.setInt32(this.pos+4,Math.floor(l*Wk),!0),this.pos+=8}writeVarint(l){(l=+l||0)>268435455||l<0?(function(c,g){let y,w;if(c>=0?(y=c%4294967296|0,w=c/4294967296|0):(y=~(-c%4294967296),w=~(-c/4294967296),4294967295^y?y=y+1|0:(y=0,w=w+1|0)),c>=18446744073709552e3||c<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");g.realloc(10),(function(T,E,O){O.buf[O.pos++]=127&T|128,T>>>=7,O.buf[O.pos++]=127&T|128,T>>>=7,O.buf[O.pos++]=127&T|128,T>>>=7,O.buf[O.pos++]=127&T|128,O.buf[O.pos]=127&(T>>>=7)})(y,0,g),(function(T,E){const O=(7&T)<<4;E.buf[E.pos++]|=O|((T>>>=3)?128:0),T&&(E.buf[E.pos++]=127&T|((T>>>=7)?128:0),T&&(E.buf[E.pos++]=127&T|((T>>>=7)?128:0),T&&(E.buf[E.pos++]=127&T|((T>>>=7)?128:0),T&&(E.buf[E.pos++]=127&T|((T>>>=7)?128:0),T&&(E.buf[E.pos++]=127&T)))))})(w,g)})(l,this):(this.realloc(4),this.buf[this.pos++]=127&l|(l>127?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(l>127?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(l>127?128:0),l<=127||(this.buf[this.pos++]=l>>>7&127))))}writeSVarint(l){this.writeVarint(l<0?2*-l-1:2*l)}writeBoolean(l){this.writeVarint(+l)}writeString(l){l=String(l),this.realloc(4*l.length),this.pos++;const c=this.pos;this.pos=(function(y,w,T){for(let E,O,B=0;B<w.length;B++){if(E=w.charCodeAt(B),E>55295&&E<57344){if(!O){E>56319||B+1===w.length?(y[T++]=239,y[T++]=191,y[T++]=189):O=E;continue}if(E<56320){y[T++]=239,y[T++]=191,y[T++]=189,O=E;continue}E=O-55296<<10|E-56320|65536,O=null}else O&&(y[T++]=239,y[T++]=191,y[T++]=189,O=null);E<128?y[T++]=E:(E<2048?y[T++]=E>>6|192:(E<65536?y[T++]=E>>12|224:(y[T++]=E>>18|240,y[T++]=E>>12&63|128),y[T++]=E>>6&63|128),y[T++]=63&E|128)}return T})(this.buf,l,this.pos);const g=this.pos-c;g>=128&&Zk(c,g,this),this.pos=c-1,this.writeVarint(g),this.pos+=g}writeFloat(l){this.realloc(4),this.dataView.setFloat32(this.pos,l,!0),this.pos+=4}writeDouble(l){this.realloc(8),this.dataView.setFloat64(this.pos,l,!0),this.pos+=8}writeBytes(l){const c=l.length;this.writeVarint(c),this.realloc(c);for(let g=0;g<c;g++)this.buf[this.pos++]=l[g]}writeRawMessage(l,c){this.pos++;const g=this.pos;l(c,this);const y=this.pos-g;y>=128&&Zk(g,y,this),this.pos=g-1,this.writeVarint(y),this.pos+=y}writeMessage(l,c,g){this.writeTag(l,2),this.writeRawMessage(c,g)}writePackedVarint(l,c){c.length&&this.writeMessage(l,xY,c)}writePackedSVarint(l,c){c.length&&this.writeMessage(l,wY,c)}writePackedBoolean(l,c){c.length&&this.writeMessage(l,CY,c)}writePackedFloat(l,c){c.length&&this.writeMessage(l,SY,c)}writePackedDouble(l,c){c.length&&this.writeMessage(l,TY,c)}writePackedFixed32(l,c){c.length&&this.writeMessage(l,PY,c)}writePackedSFixed32(l,c){c.length&&this.writeMessage(l,MY,c)}writePackedFixed64(l,c){c.length&&this.writeMessage(l,IY,c)}writePackedSFixed64(l,c){c.length&&this.writeMessage(l,EY,c)}writeBytesField(l,c){this.writeTag(l,2),this.writeBytes(c)}writeFixed32Field(l,c){this.writeTag(l,5),this.writeFixed32(c)}writeSFixed32Field(l,c){this.writeTag(l,5),this.writeSFixed32(c)}writeFixed64Field(l,c){this.writeTag(l,1),this.writeFixed64(c)}writeSFixed64Field(l,c){this.writeTag(l,1),this.writeSFixed64(c)}writeVarintField(l,c){this.writeTag(l,0),this.writeVarint(c)}writeSVarintField(l,c){this.writeTag(l,0),this.writeSVarint(c)}writeStringField(l,c){this.writeTag(l,2),this.writeString(c)}writeFloatField(l,c){this.writeTag(l,5),this.writeFloat(c)}writeDoubleField(l,c){this.writeTag(l,1),this.writeDouble(c)}writeBooleanField(l,c){this.writeVarintField(l,+c)}}function sm(d,l,c){return c?4294967296*l+(d>>>0):4294967296*(l>>>0)+(d>>>0)}function Zk(d,l,c){const g=l<=16383?1:l<=2097151?2:l<=268435455?3:Math.floor(Math.log(l)/(7*Math.LN2));c.realloc(g);for(let y=c.pos-1;y>=d;y--)c.buf[y+g]=c.buf[y]}function xY(d,l){for(let c=0;c<d.length;c++)l.writeVarint(d[c])}function wY(d,l){for(let c=0;c<d.length;c++)l.writeSVarint(d[c])}function SY(d,l){for(let c=0;c<d.length;c++)l.writeFloat(d[c])}function TY(d,l){for(let c=0;c<d.length;c++)l.writeDouble(d[c])}function CY(d,l){for(let c=0;c<d.length;c++)l.writeBoolean(d[c])}function PY(d,l){for(let c=0;c<d.length;c++)l.writeFixed32(d[c])}function MY(d,l){for(let c=0;c<d.length;c++)l.writeSFixed32(d[c])}function IY(d,l){for(let c=0;c<d.length;c++)l.writeFixed64(d[c])}function EY(d,l){for(let c=0;c<d.length;c++)l.writeSFixed64(d[c])}function AY(d,l,c){d===1&&c.readMessage(DY,l)}function DY(d,l,c){if(d===3){const{id:g,bitmap:y,width:w,height:T,left:E,top:O,advance:B}=c.readMessage(LY,{});l.push({id:g,bitmap:new vy({width:w+6,height:T+6},y),metrics:{width:w,height:T,left:E,top:O,advance:B}})}}function LY(d,l,c){d===1?l.id=c.readVarint():d===2?l.bitmap=c.readBytes():d===3?l.width=c.readVarint():d===4?l.height=c.readVarint():d===5?l.left=c.readSVarint():d===6?l.top=c.readSVarint():d===7&&(l.advance=c.readVarint())}function Xk(d){let l=0,c=0;for(const T of d)l+=T.w*T.h,c=Math.max(c,T.w);d.sort(((T,E)=>E.h-T.h));const g=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(l/.95)),c),h:1/0}];let y=0,w=0;for(const T of d)for(let E=g.length-1;E>=0;E--){const O=g[E];if(!(T.w>O.w||T.h>O.h)){if(T.x=O.x,T.y=O.y,w=Math.max(w,T.y+T.h),y=Math.max(y,T.x+T.w),T.w===O.w&&T.h===O.h){const B=g.pop();B&&E<g.length&&(g[E]=B)}else T.h===O.h?(O.x+=T.w,O.w-=T.w):T.w===O.w?(O.y+=T.h,O.h-=T.h):(g.push({x:O.x+T.w,y:O.y,w:O.w-T.w,h:T.h}),O.y+=T.h,O.h-=T.h);break}}return{w:y,h:w,fill:l/(y*w)||0}}class HC{constructor(l,{pixelRatio:c,version:g,stretchX:y,stretchY:w,content:T,textFitWidth:E,textFitHeight:O}){this.paddedRect=l,this.pixelRatio=c,this.stretchX=y,this.stretchY=w,this.content=T,this.version=g,this.textFitWidth=E,this.textFitHeight=O}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Kk{constructor(l,c){const g={},y={};this.haveRenderCallbacks=[];const w=[];this.addImages(l,g,w),this.addImages(c,y,w);const{w:T,h:E}=Xk(w),O=new ia({width:T||1,height:E||1});for(const B in l){const V=l[B],U=g[B].paddedRect;ia.copy(V.data,O,{x:0,y:0},{x:U.x+1,y:U.y+1},V.data)}for(const B in c){const V=c[B],U=y[B].paddedRect,Z=U.x+1,Y=U.y+1,J=V.data.width,re=V.data.height;ia.copy(V.data,O,{x:0,y:0},{x:Z,y:Y},V.data),ia.copy(V.data,O,{x:0,y:re-1},{x:Z,y:Y-1},{width:J,height:1}),ia.copy(V.data,O,{x:0,y:0},{x:Z,y:Y+re},{width:J,height:1}),ia.copy(V.data,O,{x:J-1,y:0},{x:Z-1,y:Y},{width:1,height:re}),ia.copy(V.data,O,{x:0,y:0},{x:Z+J,y:Y},{width:1,height:re})}this.image=O,this.iconPositions=g,this.patternPositions=y}addImages(l,c,g){for(const y in l){const w=l[y],T={x:0,y:0,w:w.data.width+2,h:w.data.height+2};g.push(T),c[y]=new HC(T,w),w.hasRenderCallback&&this.haveRenderCallbacks.push(y)}}patchUpdatedImages(l,c){l.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const g in l.updatedImages)this.patchUpdatedImage(this.iconPositions[g],l.getImage(g),c),this.patchUpdatedImage(this.patternPositions[g],l.getImage(g),c)}patchUpdatedImage(l,c,g){if(!l||!c||l.version===c.version)return;l.version=c.version;const[y,w]=l.tl;g.update(c.data,void 0,{x:y,y:w})}}var th;function U1(d,l,c,g,y,w,T,E,O,B,V,U,Z,Y,J){const re=am.fromFeature(d,y);let se;U===s.ay.vertical&&re.verticalizePunctuation();let ge=re.determineLineBreaks(B,w,l,g,Y);const{processBidirectionalText:Me,processStyledBidirectionalText:xe}=Fl;if(Me&&re.sections.length===1){se=[],ge=ge.map((ot=>re.toCodeUnitIndex(ot)));const We=Me(re.toString(),ge);for(const ot of We){const Ct=[...ot].map((()=>0));se.push(new am(ot,re.sections,Ct))}}else if(xe){se=[],ge=ge.map((_t=>re.toCodeUnitIndex(_t)));let We=0;const ot=[];for(const _t of re.text)ot.push(...Array(_t.length).fill(re.sectionIndex[We])),We++;const Ct=xe(re.text,ot,ge);for(const _t of Ct){const Mt=[];let jt="";for(const Rt of _t[0])Mt.push(_t[1][jt.length]),jt+=Rt;se.push(new am(_t[0],re.sections,Mt))}}else se=(function(We,ot){const Ct=[];let _t=0;for(const Mt of ot)Ct.push(We.substring(_t,Mt)),_t=Mt;return _t<We.length()&&Ct.push(We.substring(_t,We.length())),Ct})(re,ge);const Ce=[],Ue={positionedLines:Ce,text:re.toString(),top:V[1],bottom:V[1],left:V[0],right:V[0],writingMode:U,iconsInText:!1,verticalizable:!1};return(function(We,ot,Ct,_t,Mt,jt,Rt,Ot,bt,sr,lr,dr){let Jt=0,Br=0,jn=0,Pi=0;const _o=Ot==="right"?1:Ot==="left"?0:.5,xs=Gi/dr;let Ho=0;for(const pi of Mt){pi.trim();const ro=pi.getMaxScale(),Mo={positionedGlyphs:[],lineOffset:0};We.positionedLines[Ho]=Mo;const Io=Mo.positionedGlyphs;let oa=0;if(!pi.length()){Br+=jt,++Ho;continue}const xo=RY(_t,pi,xs);let aa=0;for(const qi of pi.text){const Qn=pi.getSection(aa),Mi=qi.codePointAt(0),si=OY(bt,lr,Mi),Zi={glyph:Mi,imageName:null,x:Jt,y:Br+-17,vertical:si,scale:1,fontStack:"",sectionIndex:pi.getSectionIndex(aa),metrics:null,rect:null};let Hu;if("fontStack"in Qn){if(Hu=kY(Qn,Mi,si,xo,ot,Ct),!Hu)continue;Zi.fontStack=Qn.fontStack}else{if(We.iconsInText=!0,Qn.scale*=xs,Hu=$Y(Qn,si,ro,xo,_t),!Hu)continue;oa=Math.max(oa,Hu.imageOffset),Zi.imageName=Qn.imageName}const{rect:il,metrics:zy,baselineOffset:ah}=Hu;Zi.y+=ah,Zi.scale=Qn.scale,Zi.metrics=zy,Zi.rect=il,Io.push(Zi),si?(We.verticalizable=!0,Jt+=("imageName"in Qn?zy.advance:Gi)*Qn.scale+sr):Jt+=zy.advance*Qn.scale+sr,aa++}Io.length!==0&&(jn=Math.max(Jt-sr,jn),zY(Io,0,Io.length-1,_o)),Jt=0,Mo.lineOffset=Math.max(oa,(ro-1)*Gi);const ws=jt*ro+oa;Br+=ws,Pi=Math.max(ws,Pi),++Ho}const{horizontalAlign:to,verticalAlign:bo}=GC(Rt);(function(pi,ro,Mo,Io,oa,xo,aa,ws,qi){const Qn=(ro-Mo)*oa;let Mi=0;Mi=xo!==aa?-ws*Io- -17:-Io*qi*aa+.5*aa;for(const si of pi)for(const Zi of si.positionedGlyphs)Zi.x+=Qn,Zi.y+=Mi})(We.positionedLines,_o,to,bo,jn,Pi,jt,Br,Mt.length),We.top+=-bo*Br,We.bottom=We.top+Br,We.left+=-to*jn,We.right=We.left+jn})(Ue,l,c,g,se,T,E,O,U,B,Z,J),!(function(We){for(const ot of We)if(ot.positionedGlyphs.length!==0)return!1;return!0})(Ce)&&Ue}function GC(d){let l=.5,c=.5;switch(d){case"right":case"top-right":case"bottom-right":l=1;break;case"left":case"top-left":case"bottom-left":l=0}switch(d){case"bottom":case"bottom-right":case"bottom-left":c=1;break;case"top":case"top-right":case"top-left":c=0}return{horizontalAlign:l,verticalAlign:c}}function RY(d,l,c){const g=l.getMaxScale()*Gi,{maxImageWidth:y,maxImageHeight:w}=l.getMaxImageSize(d),T=Math.max(g,w*c);return{verticalLineContentWidth:Math.max(g,y*c),horizontalLineContentHeight:T}}function Yk(d){switch(d){case"top":return 0;case"center":return .5;default:return 1}}function OY(d,l,c){return!(d===s.ay.horizontal||!l&&!Jc(c)||l&&(C1(c)||(g=c,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(g)))));var g}function kY(d,l,c,g,y,w){const T=w[d.fontStack],E=(function(B,V,U,Z){if(B&&B.rect)return B;const Y=V[U.fontStack],J=Y&&Y[Z];return J?{rect:null,metrics:J.metrics}:null})(T&&T[l],y,d,l);if(E===null)return null;let O;if(c)O=g.verticalLineContentWidth-d.scale*Gi;else{const B=Yk(d.verticalAlign);O=(g.horizontalLineContentHeight-d.scale*Gi)*B}return{rect:E.rect,metrics:E.metrics,baselineOffset:O}}function $Y(d,l,c,g,y){const w=y[d.imageName];if(!w)return null;const T=w.paddedRect,E=w.displaySize,O={width:E[0],height:E[1],left:1,top:-3,advance:l?E[1]:E[0]};let B;if(l)B=g.verticalLineContentWidth-E[1]*d.scale;else{const V=Yk(d.verticalAlign);B=(g.horizontalLineContentHeight-E[1]*d.scale)*V}return{rect:T,metrics:O,baselineOffset:B,imageOffset:(l?E[0]:E[1])*d.scale-Gi*c}}function zY(d,l,c,g){if(g===0)return;const y=d[c],w=(d[c].x+y.metrics.advance*y.scale)*g;for(let T=l;T<=c;T++)d[T].x-=w}function BY(d,l,c){const{horizontalAlign:g,verticalAlign:y}=GC(c),w=l[0]-d.displaySize[0]*g,T=l[1]-d.displaySize[1]*y;return{image:d,top:T,bottom:T+d.displaySize[1],left:w,right:w+d.displaySize[0]}}function Jk(d){var l,c;let g=d.left,y=d.top,w=d.right-g,T=d.bottom-y;const E=(l=d.image.textFitWidth)!==null&&l!==void 0?l:"stretchOrShrink",O=(c=d.image.textFitHeight)!==null&&c!==void 0?c:"stretchOrShrink",B=(d.image.content[2]-d.image.content[0])/(d.image.content[3]-d.image.content[1]);if(O==="proportional"){if(E==="stretchOnly"&&w/T<B||E==="proportional"){const V=Math.ceil(T*B);g*=V/w,w=V}}else if(E==="proportional"&&O==="stretchOnly"&&B!==0&&w/T>B){const V=Math.ceil(w/B);y*=V/T,T=V}return{x1:g,y1:y,x2:g+w,y2:y+T}}function Qk(d,l,c,g,y,w){const T=d.image;let E;if(T.content){const se=T.content,ge=T.pixelRatio||1;E=[se[0]/ge,se[1]/ge,T.displaySize[0]-se[2]/ge,T.displaySize[1]-se[3]/ge]}const O=l.left*w,B=l.right*w;let V,U,Z,Y;c==="width"||c==="both"?(Y=y[0]+O-g[3],U=y[0]+B+g[1]):(Y=y[0]+(O+B-T.displaySize[0])/2,U=Y+T.displaySize[0]);const J=l.top*w,re=l.bottom*w;return c==="height"||c==="both"?(V=y[1]+J-g[0],Z=y[1]+re+g[2]):(V=y[1]+(J+re-T.displaySize[1])/2,Z=V+T.displaySize[1]),{image:T,top:V,right:U,bottom:Z,left:Y,collisionPadding:E}}Yt("ImagePosition",HC),Yt("ImageAtlas",Kk),s.ay=void 0,(th=s.ay||(s.ay={}))[th.none=0]="none",th[th.horizontal=1]="horizontal",th[th.vertical=2]="vertical",th[th.horizontalOnly=3]="horizontalOnly";const Vu=128,rh=32640;function e$(d,l){const{expression:c}=l;if(c.kind==="constant")return{kind:"constant",layoutSize:c.evaluate(new fn(d+1))};if(c.kind==="source")return{kind:"source"};{const{zoomStops:g,interpolationType:y}=c;let w=0;for(;w<g.length&&g[w]<=d;)w++;w=Math.max(0,w-1);let T=w;for(;T<g.length&&g[T]<d+1;)T++;T=Math.min(g.length-1,T);const E=g[w],O=g[T];return c.kind==="composite"?{kind:"composite",minZoom:E,maxZoom:O,interpolationType:y}:{kind:"camera",minZoom:E,maxZoom:O,minSize:c.evaluate(new fn(E)),maxSize:c.evaluate(new fn(O)),interpolationType:y}}}function UC(d,l,c){let g="never";const y=d.get(l);return y?g=y:d.get(c)&&(g="always"),g}const FY=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function W1(d,l,c,g,y,w,T,E,O,B,V,U,Z){const Y=E?Math.min(rh,Math.round(E[0])):0,J=E?Math.min(rh,Math.round(E[1])):0;d.emplaceBack(l,c,Math.round(32*g),Math.round(32*y),w,T,(Y<<1)+(O?1:0),J,16*B,16*V,256*U,256*Z)}function WC(d,l,c){d.emplaceBack(l.x,l.y,c),d.emplaceBack(l.x,l.y,c),d.emplaceBack(l.x,l.y,c),d.emplaceBack(l.x,l.y,c)}function NY(d){for(const l of d.sections)if(I1(l.text))return!0;return!1}class qC{constructor(l){this.layoutVertexArray=new lt,this.indexArray=new At,this.programConfigurations=l,this.segments=new wr,this.dynamicLayoutVertexArray=new rt,this.opacityVertexArray=new nt,this.hasVisibleVertices=!1,this.placedSymbolArray=new F}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(l,c,g,y){this.isEmpty()||(g&&(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,fY.members),this.indexBuffer=l.createIndexBuffer(this.indexArray,c),this.dynamicLayoutVertexBuffer=l.createVertexBuffer(this.dynamicLayoutVertexArray,pY.members,!0),this.opacityVertexBuffer=l.createVertexBuffer(this.opacityVertexArray,FY,!0),this.opacityVertexBuffer.itemSize=1),(g||y)&&this.programConfigurations.upload(l))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Yt("SymbolBuffers",qC);class ZC{constructor(l,c,g){this.layoutVertexArray=new l,this.layoutAttributes=c,this.indexArray=new g,this.segments=new wr,this.collisionVertexArray=new kt}upload(l){this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=l.createVertexBuffer(this.collisionVertexArray,mY.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Yt("CollisionBuffers",ZC);class lm{constructor(l){this.collisionBoxArray=l.collisionBoxArray,this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map((T=>T.id)),this.index=l.index,this.pixelRatio=l.pixelRatio,this.sourceLayerIndex=l.sourceLayerIndex,this.hasDependencies=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[];const c=this.layers[0]._unevaluatedLayout._values;this.textSizeData=e$(this.zoom,c["text-size"]),this.iconSizeData=e$(this.zoom,c["icon-size"]);const g=this.layers[0].layout,y=g.get("symbol-sort-key"),w=g.get("symbol-z-order");this.canOverlap=UC(g,"text-overlap","text-allow-overlap")!=="never"||UC(g,"icon-overlap","icon-allow-overlap")!=="never"||g.get("text-ignore-placement")||g.get("icon-ignore-placement"),this.sortFeaturesByKey=w!=="viewport-y"&&!y.isConstant(),this.sortFeaturesByY=(w==="viewport-y"||w==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,g.get("symbol-placement")==="point"&&(this.writingModes=g.get("text-writing-mode").map((T=>s.ay[T]))),this.stateDependentLayerIds=this.layers.filter((T=>T.isStateDependent())).map((T=>T.id)),this.sourceID=l.sourceID}createArrays(){this.text=new qC(new Nu(this.layers,this.zoom,(l=>/^text/.test(l)))),this.icon=new qC(new Nu(this.layers,this.zoom,(l=>/^icon/.test(l)))),this.glyphOffsetArray=new te,this.lineVertexArray=new ee,this.symbolInstances=new q,this.textAnchorOffsets=new fe}calculateGlyphDependencies(l,c,g,y,w){for(const T of l)if(c[T.codePointAt(0)]=!0,(g||y)&&w){const E=Py[T];E&&(c[E.codePointAt(0)]=!0)}}populate(l,c,g){const y=this.layers[0],w=y.layout,T=w.get("text-font"),E=w.get("text-field"),O=w.get("icon-image"),B=(E.value.kind!=="constant"||E.value.value instanceof wi&&!E.value.value.isEmpty()||E.value.value.toString().length>0)&&(T.value.kind!=="constant"||T.value.value.length>0),V=O.value.kind!=="constant"||!!O.value.value||Object.keys(O.parameters).length>0,U=w.get("symbol-sort-key");if(this.features=[],!B&&!V)return;const Z=c.iconDependencies,Y=c.glyphDependencies,J=c.availableImages,re=new fn(this.zoom);for(const{feature:se,id:ge,index:Me,sourceLayerIndex:xe}of l){const Ce=y._featureFilter.needGeometry,Ue=tl(se,Ce);if(!y._featureFilter.filter(re,Ue,g))continue;let We,ot;if(Ce||(Ue.geometry=Gl(se)),B){const _t=y.getValueAndResolveTokens("text-field",Ue,g,J),Mt=wi.factory(_t),jt=this.hasRTLText=this.hasRTLText||NY(Mt);(!jt||Fl.getRTLTextPluginStatus()==="unavailable"||jt&&Fl.isParsed())&&(We=vY(Mt,y,Ue))}if(V){const _t=y.getValueAndResolveTokens("icon-image",Ue,g,J);ot=_t instanceof Bo?_t:Bo.fromString(_t)}if(!We&&!ot)continue;const Ct=this.sortFeaturesByKey?U.evaluate(Ue,{},g):void 0;if(this.features.push({id:ge,text:We,icon:ot,index:Me,sourceLayerIndex:xe,geometry:Ue.geometry,properties:se.properties,type:om.types[se.type],sortKey:Ct}),ot&&(Z[ot.name]=!0),We){const _t=T.evaluate(Ue,{},g).join(","),Mt=w.get("text-rotation-alignment")!=="viewport"&&w.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(s.ay.vertical)>=0;for(const jt of We.sections)if(jt.image)Z[jt.image.name]=!0;else{const Rt=Cd(We.toString()),Ot=jt.fontStack||_t,bt=Y[Ot]=Y[Ot]||{};this.calculateGlyphDependencies(jt.text,bt,Mt,this.allowVerticalPlacement,Rt)}}}w.get("symbol-placement")==="line"&&(this.features=(function(se){const ge={},Me={},xe=[];let Ce=0;function Ue(_t){xe.push(se[_t]),Ce++}function We(_t,Mt,jt){const Rt=Me[_t];return delete Me[_t],Me[Mt]=Rt,xe[Rt].geometry[0].pop(),xe[Rt].geometry[0]=xe[Rt].geometry[0].concat(jt[0]),Rt}function ot(_t,Mt,jt){const Rt=ge[Mt];return delete ge[Mt],ge[_t]=Rt,xe[Rt].geometry[0].shift(),xe[Rt].geometry[0]=jt[0].concat(xe[Rt].geometry[0]),Rt}function Ct(_t,Mt,jt){const Rt=jt?Mt[0][Mt[0].length-1]:Mt[0][0];return`${_t}:${Rt.x}:${Rt.y}`}for(let _t=0;_t<se.length;_t++){const Mt=se[_t],jt=Mt.geometry,Rt=Mt.text?Mt.text.toString():null;if(!Rt){Ue(_t);continue}const Ot=Ct(Rt,jt),bt=Ct(Rt,jt,!0);if(Ot in Me&&bt in ge&&Me[Ot]!==ge[bt]){const sr=ot(Ot,bt,jt),lr=We(Ot,bt,xe[sr].geometry);delete ge[Ot],delete Me[bt],Me[Ct(Rt,xe[lr].geometry,!0)]=lr,xe[sr].geometry=null}else Ot in Me?We(Ot,bt,jt):bt in ge?ot(Ot,bt,jt):(Ue(_t),ge[Ot]=Ce-1,Me[bt]=Ce-1)}return xe.filter((_t=>_t.geometry))})(this.features)),this.sortFeaturesByKey&&this.features.sort(((se,ge)=>se.sortKey-ge.sortKey))}update(l,c,g){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(l,c,this.layers,{imagePositions:g}),this.icon.programConfigurations.updatePaintArrays(l,c,this.layers,{imagePositions:g}))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(l){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(l),this.iconCollisionBox.upload(l)),this.text.upload(l,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(l,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(l,c){const g=this.lineVertexArray.length;if(l.segment!==void 0){let y=l.dist(c[l.segment+1]),w=l.dist(c[l.segment]);const T={};for(let E=l.segment+1;E<c.length;E++)T[E]={x:c[E].x,y:c[E].y,tileUnitDistanceFromAnchor:y},E<c.length-1&&(y+=c[E+1].dist(c[E]));for(let E=l.segment||0;E>=0;E--)T[E]={x:c[E].x,y:c[E].y,tileUnitDistanceFromAnchor:w},E>0&&(w+=c[E-1].dist(c[E]));for(let E=0;E<c.length;E++){const O=T[E];this.lineVertexArray.emplaceBack(O.x,O.y,O.tileUnitDistanceFromAnchor)}}return{lineStartIndex:g,lineLength:this.lineVertexArray.length-g}}addSymbols(l,c,g,y,w,T,E,O,B,V,U,Z){const Y=l.indexArray,J=l.layoutVertexArray,re=l.segments.prepareSegment(4*c.length,J,Y,this.canOverlap?T.sortKey:void 0),se=this.glyphOffsetArray.length,ge=re.vertexLength,Me=this.allowVerticalPlacement&&E===s.ay.vertical?Math.PI/2:0,xe=T.text&&T.text.sections;for(let Ce=0;Ce<c.length;Ce++){const{tl:Ue,tr:We,bl:ot,br:Ct,tex:_t,pixelOffsetTL:Mt,pixelOffsetBR:jt,minFontScaleX:Rt,minFontScaleY:Ot,glyphOffset:bt,isSDF:sr,sectionIndex:lr}=c[Ce],dr=re.vertexLength,Jt=bt[1];W1(J,O.x,O.y,Ue.x,Jt+Ue.y,_t.x,_t.y,g,sr,Mt.x,Mt.y,Rt,Ot),W1(J,O.x,O.y,We.x,Jt+We.y,_t.x+_t.w,_t.y,g,sr,jt.x,Mt.y,Rt,Ot),W1(J,O.x,O.y,ot.x,Jt+ot.y,_t.x,_t.y+_t.h,g,sr,Mt.x,jt.y,Rt,Ot),W1(J,O.x,O.y,Ct.x,Jt+Ct.y,_t.x+_t.w,_t.y+_t.h,g,sr,jt.x,jt.y,Rt,Ot),WC(l.dynamicLayoutVertexArray,O,Me),Y.emplaceBack(dr,dr+2,dr+1),Y.emplaceBack(dr+1,dr+2,dr+3),re.vertexLength+=4,re.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(bt[0]),Ce!==c.length-1&&lr===c[Ce+1].sectionIndex||l.programConfigurations.populatePaintArrays(J.length,T,T.index,{imagePositions:{},canonical:Z,formattedSection:xe&&xe[lr]})}l.placedSymbolArray.emplaceBack(O.x,O.y,se,this.glyphOffsetArray.length-se,ge,B,V,O.segment,g?g[0]:0,g?g[1]:0,y[0],y[1],E,0,!1,0,U)}_addCollisionDebugVertex(l,c,g,y,w,T){return c.emplaceBack(0,0),l.emplaceBack(g.x,g.y,y,w,Math.round(T.x),Math.round(T.y))}addCollisionDebugVertices(l,c,g,y,w,T,E){const O=w.segments.prepareSegment(4,w.layoutVertexArray,w.indexArray),B=O.vertexLength,V=w.layoutVertexArray,U=w.collisionVertexArray,Z=E.anchorX,Y=E.anchorY;this._addCollisionDebugVertex(V,U,T,Z,Y,new h(l,c)),this._addCollisionDebugVertex(V,U,T,Z,Y,new h(g,c)),this._addCollisionDebugVertex(V,U,T,Z,Y,new h(g,y)),this._addCollisionDebugVertex(V,U,T,Z,Y,new h(l,y)),O.vertexLength+=4;const J=w.indexArray;J.emplaceBack(B,B+1),J.emplaceBack(B+1,B+2),J.emplaceBack(B+2,B+3),J.emplaceBack(B+3,B),O.primitiveLength+=4}addDebugCollisionBoxes(l,c,g,y){for(let w=l;w<c;w++){const T=this.collisionBoxArray.get(w);this.addCollisionDebugVertices(T.x1,T.y1,T.x2,T.y2,y?this.textCollisionBox:this.iconCollisionBox,T.anchorPoint,g)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new ZC(st,Vk.members,Tt),this.iconCollisionBox=new ZC(st,Vk.members,Tt);for(let l=0;l<this.symbolInstances.length;l++){const c=this.symbolInstances.get(l);this.addDebugCollisionBoxes(c.textBoxStartIndex,c.textBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.verticalTextBoxStartIndex,c.verticalTextBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.iconBoxStartIndex,c.iconBoxEndIndex,c,!1),this.addDebugCollisionBoxes(c.verticalIconBoxStartIndex,c.verticalIconBoxEndIndex,c,!1)}}_deserializeCollisionBoxesForSymbol(l,c,g,y,w,T,E,O,B){const V={};for(let U=c;U<g;U++){const Z=l.get(U);V.textBox={x1:Z.x1,y1:Z.y1,x2:Z.x2,y2:Z.y2,anchorPointX:Z.anchorPointX,anchorPointY:Z.anchorPointY},V.textFeatureIndex=Z.featureIndex;break}for(let U=y;U<w;U++){const Z=l.get(U);V.verticalTextBox={x1:Z.x1,y1:Z.y1,x2:Z.x2,y2:Z.y2,anchorPointX:Z.anchorPointX,anchorPointY:Z.anchorPointY},V.verticalTextFeatureIndex=Z.featureIndex;break}for(let U=T;U<E;U++){const Z=l.get(U);V.iconBox={x1:Z.x1,y1:Z.y1,x2:Z.x2,y2:Z.y2,anchorPointX:Z.anchorPointX,anchorPointY:Z.anchorPointY},V.iconFeatureIndex=Z.featureIndex;break}for(let U=O;U<B;U++){const Z=l.get(U);V.verticalIconBox={x1:Z.x1,y1:Z.y1,x2:Z.x2,y2:Z.y2,anchorPointX:Z.anchorPointX,anchorPointY:Z.anchorPointY},V.verticalIconFeatureIndex=Z.featureIndex;break}return V}deserializeCollisionBoxes(l){this.collisionArrays=[];for(let c=0;c<this.symbolInstances.length;c++){const g=this.symbolInstances.get(c);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(l,g.textBoxStartIndex,g.textBoxEndIndex,g.verticalTextBoxStartIndex,g.verticalTextBoxEndIndex,g.iconBoxStartIndex,g.iconBoxEndIndex,g.verticalIconBoxStartIndex,g.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(l,c){const g=l.placedSymbolArray.get(c),y=g.vertexStartIndex+4*g.numGlyphs;for(let w=g.vertexStartIndex;w<y;w+=4)l.indexArray.emplaceBack(w,w+2,w+1),l.indexArray.emplaceBack(w+1,w+2,w+3)}getSortedSymbolIndexes(l){if(this.sortedAngle===l&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const c=Math.sin(l),g=Math.cos(l),y=[],w=[],T=[];for(let E=0;E<this.symbolInstances.length;++E){T.push(E);const O=this.symbolInstances.get(E);y.push(0|Math.round(c*O.anchorX+g*O.anchorY)),w.push(O.featureIndex)}return T.sort(((E,O)=>y[E]-y[O]||w[O]-w[E])),T}addToSortKeyRanges(l,c){const g=this.sortKeyRanges[this.sortKeyRanges.length-1];g&&g.sortKey===c?g.symbolInstanceEnd=l+1:this.sortKeyRanges.push({sortKey:c,symbolInstanceStart:l,symbolInstanceEnd:l+1})}sortFeatures(l){if(this.sortFeaturesByY&&this.sortedAngle!==l&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(l),this.sortedAngle=l,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const c of this.symbolInstanceIndexes){const g=this.symbolInstances.get(c);this.featureSortOrder.push(g.featureIndex),[g.rightJustifiedTextSymbolIndex,g.centerJustifiedTextSymbolIndex,g.leftJustifiedTextSymbolIndex].forEach(((y,w,T)=>{y>=0&&T.indexOf(y)===w&&this.addIndicesForPlacedSymbol(this.text,y)})),g.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,g.verticalPlacedTextSymbolIndex),g.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,g.placedIconSymbolIndex),g.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,g.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let t$,r$;Yt("SymbolBucket",lm,{omit:["layers","collisionBoxArray","features","compareText"]}),lm.MAX_GLYPHS=65535,lm.addDynamicAttributes=WC;var XC={get paint(){return r$=r$||new go({"icon-opacity":new hr(Te.paint_symbol["icon-opacity"]),"icon-color":new hr(Te.paint_symbol["icon-color"]),"icon-halo-color":new hr(Te.paint_symbol["icon-halo-color"]),"icon-halo-width":new hr(Te.paint_symbol["icon-halo-width"]),"icon-halo-blur":new hr(Te.paint_symbol["icon-halo-blur"]),"icon-translate":new tr(Te.paint_symbol["icon-translate"]),"icon-translate-anchor":new tr(Te.paint_symbol["icon-translate-anchor"]),"text-opacity":new hr(Te.paint_symbol["text-opacity"]),"text-color":new hr(Te.paint_symbol["text-color"],{runtimeType:Ji,getOverride:d=>d.textColor,hasOverride:d=>!!d.textColor}),"text-halo-color":new hr(Te.paint_symbol["text-halo-color"]),"text-halo-width":new hr(Te.paint_symbol["text-halo-width"]),"text-halo-blur":new hr(Te.paint_symbol["text-halo-blur"]),"text-translate":new tr(Te.paint_symbol["text-translate"]),"text-translate-anchor":new tr(Te.paint_symbol["text-translate-anchor"])})},get layout(){return t$=t$||new go({"symbol-placement":new tr(Te.layout_symbol["symbol-placement"]),"symbol-spacing":new tr(Te.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new tr(Te.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new hr(Te.layout_symbol["symbol-sort-key"]),"symbol-z-order":new tr(Te.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new tr(Te.layout_symbol["icon-allow-overlap"]),"icon-overlap":new tr(Te.layout_symbol["icon-overlap"]),"icon-ignore-placement":new tr(Te.layout_symbol["icon-ignore-placement"]),"icon-optional":new tr(Te.layout_symbol["icon-optional"]),"icon-rotation-alignment":new tr(Te.layout_symbol["icon-rotation-alignment"]),"icon-size":new hr(Te.layout_symbol["icon-size"]),"icon-text-fit":new tr(Te.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new tr(Te.layout_symbol["icon-text-fit-padding"]),"icon-image":new hr(Te.layout_symbol["icon-image"]),"icon-rotate":new hr(Te.layout_symbol["icon-rotate"]),"icon-padding":new hr(Te.layout_symbol["icon-padding"]),"icon-keep-upright":new tr(Te.layout_symbol["icon-keep-upright"]),"icon-offset":new hr(Te.layout_symbol["icon-offset"]),"icon-anchor":new hr(Te.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new tr(Te.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new tr(Te.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new tr(Te.layout_symbol["text-rotation-alignment"]),"text-field":new hr(Te.layout_symbol["text-field"]),"text-font":new hr(Te.layout_symbol["text-font"]),"text-size":new hr(Te.layout_symbol["text-size"]),"text-max-width":new hr(Te.layout_symbol["text-max-width"]),"text-line-height":new tr(Te.layout_symbol["text-line-height"]),"text-letter-spacing":new hr(Te.layout_symbol["text-letter-spacing"]),"text-justify":new hr(Te.layout_symbol["text-justify"]),"text-radial-offset":new hr(Te.layout_symbol["text-radial-offset"]),"text-variable-anchor":new tr(Te.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new hr(Te.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new hr(Te.layout_symbol["text-anchor"]),"text-max-angle":new tr(Te.layout_symbol["text-max-angle"]),"text-writing-mode":new tr(Te.layout_symbol["text-writing-mode"]),"text-rotate":new hr(Te.layout_symbol["text-rotate"]),"text-padding":new tr(Te.layout_symbol["text-padding"]),"text-keep-upright":new tr(Te.layout_symbol["text-keep-upright"]),"text-transform":new hr(Te.layout_symbol["text-transform"]),"text-offset":new hr(Te.layout_symbol["text-offset"]),"text-allow-overlap":new tr(Te.layout_symbol["text-allow-overlap"]),"text-overlap":new tr(Te.layout_symbol["text-overlap"]),"text-ignore-placement":new tr(Te.layout_symbol["text-ignore-placement"]),"text-optional":new tr(Te.layout_symbol["text-optional"])})}};class n${constructor(l){if(l.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=l.property.overrides?l.property.overrides.runtimeType:en,this.defaultValue=l}evaluate(l){if(l.formattedSection){const c=this.defaultValue.property.overrides;if(c&&c.hasOverride(l.formattedSection))return c.getOverride(l.formattedSection)}return l.feature&&l.featureState?this.defaultValue.evaluate(l.feature,l.featureState):this.defaultValue.property.specification.default}eachChild(l){this.defaultValue.isConstant()||l(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Yt("FormatSectionOverride",n$,{omit:["defaultValue"]});class q1 extends Sa{constructor(l,c){super(l,XC,c)}recalculate(l,c){if(super.recalculate(l,c),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const g=this.layout.get("text-writing-mode");if(g){const y=[];for(const w of g)y.indexOf(w)<0&&y.push(w);this.layout._values["text-writing-mode"]=y}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(l,c,g,y){const w=this.layout.get(l).evaluate(c,{},g,y),T=this._unevaluatedLayout._values[l];return T.isDataDriven()||$p(T.value)||!w?w:(function(E,O){return O.replace(/{([^{}]+)}/g,((B,V)=>E&&V in E?String(E[V]):""))})(c.properties,w)}createBucket(l){return new lm(l)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const l of XC.paint.overridableProperties){if(!q1.hasPaintOverride(this.layout,l))continue;const c=this.paint.get(l),g=new n$(c),y=new kp(g,c.property.specification);let w=null;w=c.value.kind==="constant"||c.value.kind==="source"?new Du("source",y):new Bp("composite",y,c.value.zoomStops),this.paint._values[l]=new Wa(c.property,w,c.parameters)}}_handleOverridablePaintPropertyUpdate(l,c,g){return!(!this.layout||c.isDataDriven()||g.isDataDriven())&&q1.hasPaintOverride(this.layout,l)}static hasPaintOverride(l,c){const g=l.get("text-field"),y=XC.paint.properties[c];let w=!1;const T=E=>{for(const O of E)if(y.overrides&&y.overrides.hasOverride(O))return void(w=!0)};if(g.value.kind==="constant"&&g.value.value instanceof wi)T(g.value.value.sections);else if(g.value.kind==="source"||g.value.kind==="composite"){const E=B=>{w||(B instanceof $l&&On(B.value)===qs?T(B.value.sections):B instanceof Pu?T(B.sections):B.eachChild(E))},O=g.value;O._styleExpression&&E(O._styleExpression.expression)}return w}}let i$;var VY={get paint(){return i$=i$||new go({"background-color":new tr(Te.paint_background["background-color"]),"background-pattern":new D1(Te.paint_background["background-pattern"]),"background-opacity":new tr(Te.paint_background["background-opacity"])})}};class jY extends Sa{constructor(l,c){super(l,VY,c)}}class HY extends Sa{constructor(l,c){super(l,{},c),this.onAdd=g=>{this.implementation.onAdd&&this.implementation.onAdd(g,g.painter.context.gl)},this.onRemove=g=>{this.implementation.onRemove&&this.implementation.onRemove(g,g.painter.context.gl)},this.implementation=l}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class GY{constructor(l){this._methodToThrottle=l,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((()=>{this._triggered=!1,this._methodToThrottle()}),0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const UY={once:!0},KC=63710088e-1;class nh{constructor(l,c){if(isNaN(l)||isNaN(c))throw new Error(`Invalid LngLat object: (${l}, ${c})`);if(this.lng=+l,this.lat=+c,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new nh(Be(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(l){const c=Math.PI/180,g=this.lat*c,y=l.lat*c,w=Math.sin(g)*Math.sin(y)+Math.cos(g)*Math.cos(y)*Math.cos((l.lng-this.lng)*c);return KC*Math.acos(Math.min(w,1))}static convert(l){if(l instanceof nh)return l;if(Array.isArray(l)&&(l.length===2||l.length===3))return new nh(Number(l[0]),Number(l[1]));if(!Array.isArray(l)&&typeof l=="object"&&l!==null)return new nh(Number("lng"in l?l.lng:l.lon),Number(l.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const o$=2*Math.PI*KC;function a$(d){return o$*Math.cos(d*Math.PI/180)}function s$(d){return(180+d)/360}function l$(d){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+d*Math.PI/360)))/360}function u$(d,l){return d/a$(l)}function c$(d){return 360*d-180}function Z1(d){return 360/Math.PI*Math.atan(Math.exp((180-360*d)*Math.PI/180))-90}function h$(d,l){return d*a$(Z1(l))}class My{constructor(l,c,g=0){this.x=+l,this.y=+c,this.z=+g}static fromLngLat(l,c=0){const g=nh.convert(l);return new My(s$(g.lng),l$(g.lat),u$(c,g.lat))}toLngLat(){return new nh(c$(this.x),Z1(this.y))}toAltitude(){return h$(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/o$*(l=Z1(this.y),1/Math.cos(l*Math.PI/180));var l}}function d$(d,l,c){var g=2*Math.PI*6378137/256/Math.pow(2,c);return[d*g-2*Math.PI*6378137/2,l*g-2*Math.PI*6378137/2]}class YC{constructor(l,c,g){if(!(function(y,w,T){return!(y<0||y>25||T<0||T>=Math.pow(2,y)||w<0||w>=Math.pow(2,y))})(l,c,g))throw new Error(`x=${c}, y=${g}, z=${l} outside of bounds. 0<=x<${Math.pow(2,l)}, 0<=y<${Math.pow(2,l)} 0<=z<=25 `);this.z=l,this.x=c,this.y=g,this.key=um(0,l,l,c,g)}equals(l){return this.z===l.z&&this.x===l.x&&this.y===l.y}url(l,c,g){const y=(T=this.y,E=this.z,O=d$(256*(w=this.x),256*(T=Math.pow(2,E)-T-1),E),B=d$(256*(w+1),256*(T+1),E),O[0]+","+O[1]+","+B[0]+","+B[1]);var w,T,E,O,B;const V=(function(U,Z,Y){let J,re="";for(let se=U;se>0;se--)J=1<<se-1,re+=(Z&J?1:0)+(Y&J?2:0);return re})(this.z,this.x,this.y);return l[(this.x+this.y)%l.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(g==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,c>1?"@2x":"").replace(/{quadkey}/g,V).replace(/{bbox-epsg-3857}/g,y)}isChildOf(l){const c=this.z-l.z;return c>0&&l.x===this.x>>c&&l.y===this.y>>c}getTilePoint(l){const c=Math.pow(2,this.z);return new h((l.x*c-this.x)*De,(l.y*c-this.y)*De)}toString(){return`${this.z}/${this.x}/${this.y}`}}class f${constructor(l,c){this.wrap=l,this.canonical=c,this.key=um(l,c.z,c.z,c.x,c.y)}}class qa{constructor(l,c,g,y,w){if(this.terrainRttPosMatrix32f=null,l<g)throw new Error(`overscaledZ should be >= z; overscaledZ = ${l}; z = ${g}`);this.overscaledZ=l,this.wrap=c,this.canonical=new YC(g,+y,+w),this.key=um(c,l,g,y,w)}clone(){return new qa(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(l){return this.overscaledZ===l.overscaledZ&&this.wrap===l.wrap&&this.canonical.equals(l.canonical)}scaledTo(l){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const c=this.canonical.z-l;return l>this.canonical.z?new qa(l,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new qa(l,this.wrap,l,this.canonical.x>>c,this.canonical.y>>c)}isOverscaled(){return this.overscaledZ>this.canonical.z}calculateScaledKey(l,c){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const g=this.canonical.z-l;return l>this.canonical.z?um(this.wrap*+c,l,this.canonical.z,this.canonical.x,this.canonical.y):um(this.wrap*+c,l,l,this.canonical.x>>g,this.canonical.y>>g)}isChildOf(l){if(l.wrap!==this.wrap||this.overscaledZ-l.overscaledZ<=0)return!1;if(l.overscaledZ===0)return this.overscaledZ>0;const c=this.canonical.z-l.canonical.z;return!(c<0)&&l.canonical.x===this.canonical.x>>c&&l.canonical.y===this.canonical.y>>c}children(l){if(this.overscaledZ>=l)return[new qa(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const c=this.canonical.z+1,g=2*this.canonical.x,y=2*this.canonical.y;return[new qa(c,this.wrap,c,g,y),new qa(c,this.wrap,c,g+1,y),new qa(c,this.wrap,c,g,y+1),new qa(c,this.wrap,c,g+1,y+1)]}isLessThan(l){return this.wrap<l.wrap||!(this.wrap>l.wrap)&&(this.overscaledZ<l.overscaledZ||!(this.overscaledZ>l.overscaledZ)&&(this.canonical.x<l.canonical.x||!(this.canonical.x>l.canonical.x)&&this.canonical.y<l.canonical.y))}wrapped(){return new qa(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(l){return new qa(this.overscaledZ,l,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new f$(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(l){return this.canonical.getTilePoint(new My(l.x-this.wrap,l.y))}}function um(d,l,c,g,y){(d*=2)<0&&(d=-1*d-1);const w=1<<c;return(w*w*d+w*y+g).toString(36)+c.toString(36)+l.toString(36)}function Iy(d,l){return l?d.properties[l]:d.id}function WY(d,l){const c={id:d.id};if(l.removeAllProperties&&(delete d.removeProperties,delete d.addOrUpdateProperties,delete l.removeProperties),l.removeProperties)for(const g of l.removeProperties){const y=d.addOrUpdateProperties.findIndex((w=>w.key===g));y>-1&&d.addOrUpdateProperties.splice(y,1)}return(d.removeAllProperties||l.removeAllProperties)&&(c.removeAllProperties=!0),(d.removeProperties||l.removeProperties)&&(c.removeProperties=[...d.removeProperties||[],...l.removeProperties||[]]),(d.addOrUpdateProperties||l.addOrUpdateProperties)&&(c.addOrUpdateProperties=[...d.addOrUpdateProperties||[],...l.addOrUpdateProperties||[]]),(d.newGeometry||l.newGeometry)&&(c.newGeometry=l.newGeometry||d.newGeometry),c}function p$(d){var l,c;if(!d)return{};const g={};return g.removeAll=d.removeAll,g.remove=new Set(d.remove||[]),g.add=new Map((l=d.add)===null||l===void 0?void 0:l.map((y=>[y.id,y]))),g.update=new Map((c=d.update)===null||c===void 0?void 0:c.map((y=>[y.id,y]))),g}Yt("CanonicalTileID",YC),Yt("OverscaledTileID",qa,{omit:["terrainRttPosMatrix32f"]});class m${constructor(l){this._stringToNumber={},this._numberToString=[];for(let c=0;c<l.length;c++){const g=l[c];this._stringToNumber[g]=c,this._numberToString[c]=g}}encode(l){return this._stringToNumber[l]}decode(l){if(l>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${l} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[l]}}class g${constructor(l,c,g,y,w){this.type="Feature",this._vectorTileFeature=l,l._z=c,l._x=g,l._y=y,this.properties=l.properties,this.id=w}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(l){this._geometry=l}toJSON(){const l={geometry:this.geometry};for(const c in this)c!=="_geometry"&&c!=="_vectorTileFeature"&&(l[c]=this[c]);return l}}class cm{_name;dataBuffer;nullabilityBuffer;_size;constructor(l,c,g){this._name=l,this.dataBuffer=c,typeof g=="number"?this._size=g:(this.nullabilityBuffer=g,this._size=g.size())}getValue(l){return this.nullabilityBuffer&&!this.nullabilityBuffer.get(l)?null:this.getValueFromBuffer(l)}has(l){return this.nullabilityBuffer&&this.nullabilityBuffer.get(l)||!this.nullabilityBuffer}get name(){return this._name}get size(){return this._size}}class X1 extends cm{}class JC extends X1{getValueFromBuffer(l){return this.dataBuffer[l]}}class QC extends X1{getValueFromBuffer(l){return this.dataBuffer[l]}}class v$ extends cm{delta;constructor(l,c,g,y){super(l,c,y),this.delta=g}}class eP extends v${constructor(l,c,g,y){super(l,Int32Array.of(c),g,y)}getValueFromBuffer(l){return this.dataBuffer[0]+l*this.delta}}class tP extends cm{constructor(l,c,g){super(l,Int32Array.of(c),g)}getValueFromBuffer(l){return this.dataBuffer[0]}}class qY{_name;_geometryVector;_idVector;_propertyVectors;_extent;propertyVectorsMap;constructor(l,c,g,y,w=4096){this._name=l,this._geometryVector=c,this._idVector=g,this._propertyVectors=y,this._extent=w}get name(){return this._name}get idVector(){return this._idVector}get geometryVector(){return this._geometryVector}get propertyVectors(){return this._propertyVectors}getPropertyVector(l){return this.propertyVectorsMap||(this.propertyVectorsMap=new Map(this._propertyVectors.map((c=>[c.name,c])))),this.propertyVectorsMap.get(l)}*[Symbol.iterator](){const l=this.geometryVector[Symbol.iterator]();let c=0;for(;c<this.numFeatures;){let g;this.idVector&&(g=this.containsMaxSaveIntegerValues(this.idVector)?Number(this.idVector.getValue(c)):this.idVector.getValue(c));const y=l?.next().value,w={};for(const T of this.propertyVectors){if(!T)continue;const E=T.name,O=T.getValue(c);O!==null&&(w[E]=O)}c++,yield{id:g,geometry:y,properties:w}}}get numFeatures(){return this.geometryVector.numGeometries}get extent(){return this._extent}getFeatures(){const l=[],c=this.geometryVector.getGeometries();for(let g=0;g<this.numFeatures;g++){let y;this.idVector&&(y=this.containsMaxSaveIntegerValues(this.idVector)?Number(this.idVector.getValue(g)):this.idVector.getValue(g));const w={coordinates:c[g],type:this.geometryVector.geometryType(g)},T={};for(const E of this.propertyVectors){if(!E)continue;const O=E.name,B=E.getValue(g);B!==null&&(T[O]=B)}l.push({id:y,geometry:w,properties:T})}return l}containsMaxSaveIntegerValues(l){return l instanceof JC||l instanceof tP&&l instanceof eP||l instanceof QC}}class ZY{value;constructor(l){this.value=l}get(){return this.value}set(l){this.value=l}increment(){return this.value++}add(l){this.value+=l}}var vo,Hr,ju,rl,zd,Ca,Ui,Wi,y$,Za;(function(d){d.PRESENT="PRESENT",d.DATA="DATA",d.OFFSET="OFFSET",d.LENGTH="LENGTH"})(vo||(vo={}));class rP{_dictionaryType;_offsetType;_lengthType;constructor(l,c,g){this._dictionaryType=l,this._offsetType=c,this._lengthType=g}get dictionaryType(){return this._dictionaryType}get offsetType(){return this._offsetType}get lengthType(){return this._lengthType}}function Vi(d,l,c){const g=new Int32Array(c);let y=0,w=l.get();for(let T=0;T<g.length;T++){let E=d[w++],O=127&E;E<128||(E=d[w++],O|=(127&E)<<7,E<128||(E=d[w++],O|=(127&E)<<14,E<128||(E=d[w++],O|=(127&E)<<21,E<128||(E=d[w++],O|=(15&E)<<28)))),g[y++]=O}return l.set(w),g}function K1(d,l,c){const g=new BigInt64Array(c);for(let y=0;y<g.length;y++)g[y]=KY(d,l);return g}function XY(d,l){let c,g;return g=d[l.get()],l.increment(),c=127&g,g<128?c:(g=d[l.get()],l.increment(),c|=(127&g)<<7,g<128?c:(g=d[l.get()],l.increment(),c|=(127&g)<<14,g<128?c:(g=d[l.get()],l.increment(),c|=(127&g)<<21,g<128?c:(g=d[l.get()],c|=(15&g)<<28,(function(y,w,T){let E,O;if(O=w[T.get()],T.increment(),E=(112&O)>>4,O<128||(O=w[T.get()],T.increment(),E|=(127&O)<<3,O<128)||(O=w[T.get()],T.increment(),E|=(127&O)<<10,O<128)||(O=w[T.get()],T.increment(),E|=(127&O)<<17,O<128)||(O=w[T.get()],T.increment(),E|=(127&O)<<24,O<128)||(O=w[T.get()],T.increment(),E|=(1&O)<<31,O<128))return 4294967296*E+(y>>>0);throw new Error("Expected varint not more than 10 bytes")})(c,d,l)))))}function _$(d,l,c,g){throw new Error("FastPFor is not implemented yet.")}function Bd(d){return d>>>1^-(1&d)}function hm(d){return d>>1n^-(1n&d)}function KY(d,l){let c=0n,g=0,y=l.get();for(;y<d.length;){const w=d[y++];if(c|=BigInt(127&w)<<BigInt(g),!(128&w))break;if(g+=7,g>=64)throw new Error("Varint too long")}return l.set(y),c}function b$(d,l,c){const g=new Int32Array(c);let y=0;for(let w=0;w<l;w++){const T=d[w];g.fill(d[w+l],y,y+T),y+=T}return g}function x$(d,l,c){const g=new BigInt64Array(c);let y=0;for(let w=0;w<l;w++){const T=Number(d[w]);g.fill(d[w+l],y,y+T),y+=T}return g}function w$(d,l,c){const g=new Float64Array(c);let y=0;for(let w=0;w<l;w++){const T=d[w];g.fill(d[w+l],y,y+T),y+=T}return g}function nP(d){const l=d.length/4*4;let c=1;if(l>=4)for(let g=d[0];c<l-4;c+=4)g=d[c]+=g,g=d[c+1]+=g,g=d[c+2]+=g,g=d[c+3]+=g;for(;c!=d.length;)d[c]+=d[c-1],++c}function S$(d){d[0]=d[0]>>>1^-(1&d[0]),d[1]=d[1]>>>1^-(1&d[1]);const l=d.length/4*4;let c=2;if(l>=4)for(;c<l-4;c+=4){const g=d[c],y=d[c+1],w=d[c+2],T=d[c+3];d[c]=(g>>>1^-(1&g))+d[c-2],d[c+1]=(y>>>1^-(1&y))+d[c-1],d[c+2]=(w>>>1^-(1&w))+d[c],d[c+3]=(T>>>1^-(1&T))+d[c+1]}for(;c!=d.length;c+=2)d[c]=(d[c]>>>1^-(1&d[c]))+d[c-2],d[c+1]=(d[c+1]>>>1^-(1&d[c+1]))+d[c-1]}function ih(d,l,c){return Math.min(c,Math.max(l,d))}(function(d){d.NONE="NONE",d.DELTA="DELTA",d.COMPONENTWISE_DELTA="COMPONENTWISE_DELTA",d.RLE="RLE",d.MORTON="MORTON",d.PDE="PDE"})(Hr||(Hr={})),(function(d){d.NONE="NONE",d.FAST_PFOR="FAST_PFOR",d.VARINT="VARINT",d.ALP="ALP"})(ju||(ju={})),(function(d){d.NONE="NONE",d.SINGLE="SINGLE",d.SHARED="SHARED",d.VERTEX="VERTEX",d.MORTON="MORTON",d.FSST="FSST"})(rl||(rl={})),(function(d){d.VERTEX="VERTEX",d.INDEX="INDEX",d.STRING="STRING",d.KEY="KEY"})(zd||(zd={})),(function(d){d.VAR_BINARY="VAR_BINARY",d.GEOMETRIES="GEOMETRIES",d.PARTS="PARTS",d.RINGS="RINGS",d.TRIANGLES="TRIANGLES",d.SYMBOL="SYMBOL",d.DICTIONARY="DICTIONARY"})(Ca||(Ca={}));class Fd{_physicalStreamType;_logicalStreamType;_logicalLevelTechnique1;_logicalLevelTechnique2;_physicalLevelTechnique;_numValues;_byteLength;constructor(l,c,g,y,w,T,E){this._physicalStreamType=l,this._logicalStreamType=c,this._logicalLevelTechnique1=g,this._logicalLevelTechnique2=y,this._physicalLevelTechnique=w,this._numValues=T,this._byteLength=E}static decode(l,c){const g=l[c.get()],y=Object.values(vo)[g>>4];let w=null;switch(y){case vo.DATA:w=new rP(Object.values(rl)[15&g]);break;case vo.OFFSET:w=new rP(null,Object.values(zd)[15&g]);break;case vo.LENGTH:w=new rP(null,null,Object.values(Ca)[15&g])}c.increment();const T=l[c.get()],E=Object.values(Hr)[T>>5],O=Object.values(Hr)[T>>2&7],B=Object.values(ju)[3&T];c.increment();const V=Vi(l,c,2);return new Fd(y,w,E,O,B,V[0],V[1])}get physicalStreamType(){return this._physicalStreamType}get logicalStreamType(){return this._logicalStreamType}get logicalLevelTechnique1(){return this._logicalLevelTechnique1}get logicalLevelTechnique2(){return this._logicalLevelTechnique2}get physicalLevelTechnique(){return this._physicalLevelTechnique}get numValues(){return this._numValues}get byteLength(){return this._byteLength}getDecompressedCount(){return this._numValues}}class Y1 extends Fd{num_bits;coordinate_shift;constructor(l,c,g,y,w,T,E,O,B){super(l,c,g,y,w,T,E),this.num_bits=O,this.coordinate_shift=B}static decode(l,c){const g=Fd.decode(l,c),y=Vi(l,c,2);return new Y1(g.physicalStreamType,g.logicalStreamType,g.logicalLevelTechnique1,g.logicalLevelTechnique2,g.physicalLevelTechnique,g.numValues,g.byteLength,y[0],y[1])}static decodePartial(l,c,g){const y=Vi(c,g,2);return new Y1(l.physicalStreamType,l.logicalStreamType,l.logicalLevelTechnique1,l.logicalLevelTechnique2,l.physicalLevelTechnique,l.numValues,l.byteLength,y[0],y[1])}numBits(){return this.num_bits}coordinateShift(){return this.coordinate_shift}}class Ey extends Fd{_runs;_numRleValues;constructor(l,c,g,y,w,T,E,O,B){super(l,c,g,y,w,T,E),this._runs=O,this._numRleValues=B}static decode(l,c){const g=Fd.decode(l,c),y=Vi(l,c,2);return new Ey(g.physicalStreamType,g.logicalStreamType,g.logicalLevelTechnique1,g.logicalLevelTechnique2,g.physicalLevelTechnique,g.numValues,g.byteLength,y[0],y[1])}static decodePartial(l,c,g){const y=Vi(c,g,2);return new Ey(l.physicalStreamType,l.logicalStreamType,l.logicalLevelTechnique1,l.logicalLevelTechnique2,l.physicalLevelTechnique,l.numValues,l.byteLength,y[0],y[1])}get runs(){return this._runs}get numRleValues(){return this._numRleValues}getDecompressedCount(){return this._numRleValues}}class Po{static decode(l,c){const g=Fd.decode(l,c);return g.logicalLevelTechnique1===Hr.MORTON?Y1.decodePartial(g,l,c):Hr.RLE!==g.logicalLevelTechnique1&&Hr.RLE!==g.logicalLevelTechnique2||ju.NONE===g.physicalLevelTechnique?g:Ey.decodePartial(g,l,c)}}(function(d){d[d.FLAT=0]="FLAT",d[d.CONST=1]="CONST",d[d.SEQUENCE=2]="SEQUENCE",d[d.DICTIONARY=3]="DICTIONARY",d[d.FSST_DICTIONARY=4]="FSST_DICTIONARY"})(Ui||(Ui={}));class nl{values;_size;constructor(l,c){this.values=l,this._size=c}get(l){const c=Math.floor(l/8);return(this.values[c]>>l%8&1)==1}set(l,c){const g=Math.floor(l/8);this.values[g]=this.values[g]|(c?1:0)<<l%8}getInt(l){const c=Math.floor(l/8);return this.values[c]>>l%8&1}size(){return this._size}getBuffer(){return this.values}}class Pr{constructor(){}static decodeIntStream(l,c,g,y,w){const T=Pr.decodePhysicalLevelTechnique(l,c,g);return this.decodeIntBuffer(T,g,y,w)}static decodeLengthStreamToOffsetBuffer(l,c,g){const y=Pr.decodePhysicalLevelTechnique(l,c,g);return this.decodeLengthToOffsetBuffer(y,g)}static decodePhysicalLevelTechnique(l,c,g){const y=g.physicalLevelTechnique;if(y===ju.FAST_PFOR)return _$();if(y===ju.VARINT)return Vi(l,c,g.numValues);if(y===ju.NONE){const w=c.get();c.add(g.byteLength);const T=l.subarray(w,c.get());return new Int32Array(T)}throw new Error("Specified physicalLevelTechnique is not supported (yet).")}static decodeConstIntStream(l,c,g,y){const w=Pr.decodePhysicalLevelTechnique(l,c,g);if(w.length===1){const T=w[0];return y?Bd(T):T}return y?(function(T){return Bd(T[1])})(w):(function(T){return T[1]})(w)}static decodeSequenceIntStream(l,c,g){return(function(y){if(y.length==2){const w=Bd(y[1]);return[w,w]}return[Bd(y[2]),Bd(y[3])]})(Pr.decodePhysicalLevelTechnique(l,c,g))}static decodeSequenceLongStream(l,c,g){return(function(y){if(y.length==2){const w=hm(y[1]);return[w,w]}return[hm(y[2]),hm(y[3])]})(K1(l,c,g.numValues))}static decodeLongStream(l,c,g,y){const w=K1(l,c,g.numValues);return this.decodeLongBuffer(w,g,y)}static decodeLongFloat64Stream(l,c,g,y){const w=(function(T,E,O){const B=new Float64Array(E);for(let V=0;V<E;V++)B[V]=XY(T,O);return B})(l,g.numValues,c);return this.decodeFloat64Buffer(w,g,y)}static decodeConstLongStream(l,c,g,y){const w=K1(l,c,g.numValues);if(w.length===1){const T=w[0];return y?hm(T):T}return y?(function(T){return hm(T[1])})(w):(function(T){return T[1]})(w)}static decodeIntBuffer(l,c,g,y){switch(c.logicalLevelTechnique1){case Hr.DELTA:return c.logicalLevelTechnique2===Hr.RLE?(function(w,T,E){const O=new Int32Array(E);let B=0,V=0;for(let U=0;U<T;U++){const Z=w[U],Y=Bd(w[U+T]);for(let J=0;J<Z;J++)V+=Y,O[B++]=V}return O})(l,c.runs,c.numRleValues):((function(w){w[0]=w[0]>>>1^-(1&w[0]);const T=w.length/4*4;let E=1;if(T>=4)for(;E<T-4;E+=4){const O=w[E],B=w[E+1],V=w[E+2],U=w[E+3];w[E]=(O>>>1^-(1&O))+w[E-1],w[E+1]=(B>>>1^-(1&B))+w[E],w[E+2]=(V>>>1^-(1&V))+w[E+1],w[E+3]=(U>>>1^-(1&U))+w[E+2]}for(;E!=w.length;++E)w[E]=(w[E]>>>1^-(1&w[E]))+w[E-1]})(l),l);case Hr.RLE:return(function(w,T,E){return E?(function(O,B,V){const U=new Int32Array(V);let Z=0;for(let Y=0;Y<B;Y++){const J=O[Y];let re=O[Y+B];re=re>>>1^-(1&re),U.fill(re,Z,Z+J),Z+=J}return U})(w,T.runs,T.numRleValues):b$(w,T.runs,T.numRleValues)})(l,c,g);case Hr.MORTON:return nP(l),l;case Hr.COMPONENTWISE_DELTA:return y?((function(w,T,E,O){let B=w[0]>>>1^-(1&w[0]),V=w[1]>>>1^-(1&w[1]);w[0]=ih(Math.round(B*T),E,O),w[1]=ih(Math.round(V*T),E,O);const U=w.length/16;let Z=2;if(U>=4)for(;Z<U-4;Z+=4){const Y=w[Z],J=w[Z+1],re=(Y>>>1^-(1&Y))+B,se=(J>>>1^-(1&J))+V;w[Z]=ih(Math.round(re*T),E,O),w[Z+1]=ih(Math.round(se*T),E,O);const ge=w[Z+2],Me=w[Z+3];B=(ge>>>1^-(1&ge))+re,V=(Me>>>1^-(1&Me))+se,w[Z+2]=ih(Math.round(B*T),E,O),w[Z+3]=ih(Math.round(V*T),E,O)}for(;Z!=w.length;Z+=2)B+=w[Z]>>>1^-(1&w[Z]),V+=w[Z+1]>>>1^-(1&w[Z+1]),w[Z]=ih(Math.round(B*T),E,O),w[Z+1]=ih(Math.round(V*T),E,O)})(l,y.scale,y.min,y.max),l):(S$(l),l);case Hr.NONE:return g&&(function(w){for(let T=0;T<w.length;T++){const E=w[T];w[T]=E>>>1^-(1&E)}})(l),l;default:throw new Error(`The specified Logical level technique is not supported: ${c.logicalLevelTechnique1}`)}}static decodeLongBuffer(l,c,g){switch(c.logicalLevelTechnique1){case Hr.DELTA:return c.logicalLevelTechnique2===Hr.RLE?(function(y,w,T){const E=new BigInt64Array(T);let O=0,B=0n;for(let V=0;V<w;V++){const U=Number(y[V]),Z=hm(y[V+w]);for(let Y=0;Y<U;Y++)B+=Z,E[O++]=B}return E})(l,c.runs,c.numRleValues):((function(y){y[0]=y[0]>>1n^-(1n&y[0]);const w=y.length/4*4;let T=1;if(w>=4)for(;T<w-4;T+=4){const E=y[T],O=y[T+1],B=y[T+2],V=y[T+3];y[T]=(E>>1n^-(1n&E))+y[T-1],y[T+1]=(O>>1n^-(1n&O))+y[T],y[T+2]=(B>>1n^-(1n&B))+y[T+1],y[T+3]=(V>>1n^-(1n&V))+y[T+2]}for(;T!=y.length;++T)y[T]=(y[T]>>1n^-(1n&y[T]))+y[T-1]})(l),l);case Hr.RLE:return(function(y,w,T){return T?(function(E,O,B){const V=new BigInt64Array(B);let U=0;for(let Z=0;Z<O;Z++){const Y=Number(E[Z]);let J=E[Z+O];J=J>>1n^-(1n&J),V.fill(J,U,U+Y),U+=Y}return V})(y,w.runs,w.numRleValues):x$(y,w.runs,w.numRleValues)})(l,c,g);case Hr.NONE:return g&&(function(y){for(let w=0;w<y.length;w++){const T=y[w];y[w]=T>>1n^-(1n&T)}})(l),l;default:throw new Error(`The specified Logical level technique is not supported: ${c.logicalLevelTechnique1}`)}}static decodeFloat64Buffer(l,c,g){switch(c.logicalLevelTechnique1){case Hr.DELTA:return c.logicalLevelTechnique2===Hr.RLE&&(l=w$(l,c.runs,c.numRleValues)),(function(y){y[0]=y[0]%2==1?(y[0]+1)/-2:y[0]/2;const w=y.length/4*4;let T=1;if(w>=4)for(;T<w-4;T+=4){const E=y[T],O=y[T+1],B=y[T+2],V=y[T+3];y[T]=(E%2==1?(E+1)/-2:E/2)+y[T-1],y[T+1]=(O%2==1?(O+1)/-2:O/2)+y[T],y[T+2]=(B%2==1?(B+1)/-2:B/2)+y[T+1],y[T+3]=(V%2==1?(V+1)/-2:V/2)+y[T+2]}for(;T!=y.length;++T)y[T]=(y[T]%2==1?(y[T]+1)/-2:y[T]/2)+y[T-1]})(l),l;case Hr.RLE:return(function(y,w,T){return T?(function(E,O,B){const V=new Float64Array(B);let U=0;for(let Z=0;Z<O;Z++){const Y=E[Z];let J=E[Z+O];J=J%2==1?(J+1)/-2:J/2,V.fill(J,U,U+Y),U+=Y}return V})(y,w.runs,w.numRleValues):w$(y,w.runs,w.numRleValues)})(l,c,g);case Hr.NONE:return g&&(function(y){for(let w=0;w<y.length;w++){const T=y[w];y[w]=T%2==1?(T+1)/-2:T/2}})(l),l;default:throw new Error(`The specified Logical level technique is not supported: ${c.logicalLevelTechnique1}`)}}static decodeLengthToOffsetBuffer(l,c){if(c.logicalLevelTechnique1===Hr.DELTA&&c.logicalLevelTechnique2===Hr.NONE)return(function(g){const y=new Int32Array(g.length+1);y[0]=0,y[1]=Bd(g[0]);let w=y[1],T=2;for(;T!=y.length;++T){const E=g[T-1];w+=E>>>1^-(1&E),y[T]=y[T-1]+w}return y})(l);if(c.logicalLevelTechnique1===Hr.RLE&&c.logicalLevelTechnique2===Hr.NONE)return(function(g,y,w){const T=new Int32Array(w+1);T[0]=0;let E=1,O=T[0];for(let B=0;B<y;B++){const V=g[B],U=g[B+y];for(let Z=E;Z<E+V;Z++)T[Z]=U+O,O=T[Z];E+=V}return T})(l,c.runs,c.numRleValues);if(c.logicalLevelTechnique1===Hr.NONE&&c.logicalLevelTechnique2===Hr.NONE){(function(y){let w=0;for(let T=0;T<y.length;T++)y[T]+=w,w=y[T]})(l);const g=new Int32Array(c.numValues+1);return g[0]=0,g.set(l,1),g}if(c.logicalLevelTechnique1===Hr.DELTA&&c.logicalLevelTechnique2===Hr.RLE){const g=(function(y,w,T){const E=new Int32Array(T+1);E[0]=0;let O=1,B=E[0];for(let V=0;V<w;V++){const U=y[V];let Z=y[V+w];Z=Z>>>1^-(1&Z);for(let Y=O;Y<O+U;Y++)E[Y]=Z+B,B=E[Y];O+=U}return E})(l,c.runs,c.numRleValues);return nP(g),g}throw new Error("Only delta encoding is supported for transforming length to offset streams yet.")}static decodeNullableIntStream(l,c,g,y,w){const T=g.physicalLevelTechnique===ju.FAST_PFOR?_$():Vi(l,c,g.numValues);return this.decodeNullableIntBuffer(T,g,y,w)}static decodeNullableLongStream(l,c,g,y,w){const T=K1(l,c,g.numValues);return this.decodeNullableLongBuffer(T,g,y,w)}static decodeNullableIntBuffer(l,c,g,y){switch(c.logicalLevelTechnique1){case Hr.DELTA:return c.logicalLevelTechnique2===Hr.RLE&&(l=b$(l,c.runs,c.numRleValues)),(function(w,T){const E=new Int32Array(w.size());let O=0;w.get(0)?(E[0]=w.get(0)?T[0]>>>1^-(1&T[0]):0,O=1):E[0]=0;let B=1;for(;B!=E.length;++B)E[B]=w.get(B)?E[B-1]+(T[O]>>>1^-(1&T[O++])):E[B-1];return E})(y,l);case Hr.RLE:return(function(w,T,E,O){const B=T;return E?(function(V,U,Z){const Y=new Int32Array(V.size());let J=0;for(let re=0;re<Z;re++){const se=U[re];let ge=U[re+Z];ge=ge>>>1^-(1&ge);for(let Me=J;Me<J+se;Me++)V.get(Me)?Y[Me]=ge:(Y[Me]=0,J++);J+=se}return Y})(O,w,B.runs):(function(V,U,Z){const Y=new Int32Array(V.size());let J=0;for(let re=0;re<Z;re++){const se=U[re],ge=U[re+Z];for(let Me=J;Me<J+se;Me++)V.get(Me)?Y[Me]=ge:(Y[Me]=0,J++);J+=se}return Y})(O,w,B.runs)})(l,c,g,y);case Hr.MORTON:return nP(l),l;case Hr.COMPONENTWISE_DELTA:return S$(l),l;case Hr.NONE:return l=g?(function(w,T){const E=new Int32Array(w.size());let O=0,B=0;for(;B!=E.length;++B)if(w.get(B)){const V=T[O++];E[B]=V>>>1^-(1&V)}else E[B]=0;return E})(y,l):(function(w,T){const E=new Int32Array(w.size());let O=0,B=0;for(;B!=E.length;++B)E[B]=w.get(B)?T[O++]:0;return E})(y,l),l;default:throw new Error("The specified Logical level technique is not supported")}}static decodeNullableLongBuffer(l,c,g,y){switch(c.logicalLevelTechnique1){case Hr.DELTA:return c.logicalLevelTechnique2===Hr.RLE&&(l=x$(l,c.runs,c.numRleValues)),(function(w,T){const E=new BigInt64Array(w.size());let O=0;w.get(0)?(E[0]=w.get(0)?T[0]>>1n^-(1n&T[0]):0n,O=1):E[0]=0n;let B=1;for(;B!=E.length;++B)E[B]=w.get(B)?E[B-1]+(T[O]>>1n^-(1n&T[O++])):E[B-1];return E})(y,l);case Hr.RLE:return(function(w,T,E,O){const B=T;return E?(function(V,U,Z){const Y=new BigInt64Array(V.size());let J=0;for(let re=0;re<Z;re++){const se=Number(U[re]);let ge=U[re+Z];ge=ge>>1n^-(1n&ge);for(let Me=J;Me<J+se;Me++)V.get(Me)?Y[Me]=ge:(Y[Me]=0n,J++);J+=se}return Y})(O,w,B.runs):(function(V,U,Z){const Y=new BigInt64Array(V.size());let J=0;for(let re=0;re<Z;re++){const se=Number(U[re]),ge=U[re+Z];for(let Me=J;Me<J+se;Me++)V.get(Me)?Y[Me]=ge:(Y[Me]=0n,J++);J+=se}return Y})(O,w,B.runs)})(l,c,g,y);case Hr.NONE:return l=g?(function(w,T){const E=new BigInt64Array(w.size());let O=0,B=0;for(;B!=E.length;++B)if(w.get(B)){const V=T[O++];E[B]=V>>1n^-(1n&V)}else E[B]=0n;return E})(y,l):(function(w,T){const E=new BigInt64Array(w.size());let O=0,B=0;for(;B!=E.length;++B)E[B]=w.get(B)?T[O++]:0n;return E})(y,l),l;default:throw new Error("The specified Logical level technique is not supported")}}static getVectorType(l,c,g,y){const w=l.logicalLevelTechnique1;if(w===Hr.RLE)return l.runs===1?Ui.CONST:Ui.FLAT;const T=c instanceof nl?c.size():c;if(w===Hr.DELTA&&l.logicalLevelTechnique2===Hr.RLE){const E=l.runs,O=2;if(l.numRleValues!==T)return Ui.FLAT;if(E===1)return Ui.SEQUENCE;if(E===2){const B=y.get();let V;if(l.physicalLevelTechnique===ju.VARINT)V=Vi(g,y,4);else{const U=y.get();V=new Int32Array(g.buffer,g.byteOffset+U,4)}if(y.set(B),V[2]===O&&V[3]===O)return Ui.SEQUENCE}}return l.numValues===1?Ui.CONST:Ui.FLAT}}class T$ extends X1{getValueFromBuffer(l){return this.dataBuffer[l]}}class C$ extends v${constructor(l,c,g,y){super(l,BigInt64Array.of(c),g,y)}getValueFromBuffer(l){return this.dataBuffer[0]+BigInt(l)*this.delta}}class dm{_geometryOffsets;_partOffsets;_ringOffsets;constructor(l,c,g){this._geometryOffsets=l,this._partOffsets=c,this._ringOffsets=g}get geometryOffsets(){return this._geometryOffsets}get partOffsets(){return this._partOffsets}get ringOffsets(){return this._ringOffsets}}class YY{tileExtent;_numBits;_coordinateShift;minBound;maxBound;constructor(l,c){this._coordinateShift=l<0?Math.abs(l):0,this.tileExtent=c+this._coordinateShift,this._numBits=Math.ceil(Math.log2(this.tileExtent)),this.minBound=l,this.maxBound=c}validateCoordinates(l){if(l.x<this.minBound||l.y<this.minBound||l.x>this.maxBound||l.y>this.maxBound)throw new Error("The specified tile buffer size is currently not supported.")}numBits(){return this._numBits}coordinateShift(){return this._coordinateShift}}class fm extends YY{encode(l){this.validateCoordinates(l);const c=l.x+this._coordinateShift,g=l.y+this._coordinateShift;let y=0;for(let w=0;w<this._numBits;w++)y|=(c&1<<w)<<w|(g&1<<w)<<w+1;return y}decode(l){return{x:this.decodeMorton(l)-this._coordinateShift,y:this.decodeMorton(l>>1)-this._coordinateShift}}decodeMorton(l){let c=0;for(let g=0;g<this._numBits;g++)c|=(l&1<<2*g)>>g;return c}static decode(l,c,g){return{x:fm.decodeMorton(l,c)-g,y:fm.decodeMorton(l>>1,c)-g}}static decodeMorton(l,c){let g=0;for(let y=0;y<c;y++)g|=(l&1<<2*y)>>y;return g}}(function(d){d[d.POINT=0]="POINT",d[d.LINESTRING=1]="LINESTRING",d[d.POLYGON=2]="POLYGON",d[d.MULTIPOINT=3]="MULTIPOINT",d[d.MULTILINESTRING=4]="MULTILINESTRING",d[d.MULTIPOLYGON=5]="MULTIPOLYGON"})(Wi||(Wi={})),(function(d){d[d.POINT=0]="POINT",d[d.LINESTRING=1]="LINESTRING",d[d.POLYGON=2]="POLYGON"})(y$||(y$={})),(function(d){d[d.MORTON=0]="MORTON",d[d.VEC_2=1]="VEC_2",d[d.VEC_3=2]="VEC_3"})(Za||(Za={}));class JY{createPoint(l){return[[l]]}createMultiPoint(l){return l.map((c=>[c]))}createLineString(l){return[l]}createMultiLineString(l){return l}createPolygon(l,c){return[l,...c]}createMultiPolygon(l){return l.flat()}}function P$(d){const l=new Array(d.numGeometries);let c=1,g=1,y=1,w=0;const T=new JY;let E=0,O=0;const B=d.mortonSettings,V=d.topologyVector,U=V.geometryOffsets,Z=V.partOffsets,Y=V.ringOffsets,J=d.vertexOffsets,re=d.containsPolygonGeometry(),se=d.vertexBuffer;for(let ge=0;ge<d.numGeometries;ge++){const Me=d.geometryType(ge);if(Me===Wi.POINT){if(J&&J.length!==0)if(d.vertexBufferType===Za.VEC_2){const xe=2*J[O++],Ce=new h(se[xe],se[xe+1]);l[w++]=T.createPoint(Ce)}else{const xe=J[O++],Ce=fm.decode(se[xe],B.numBits,B.coordinateShift),Ue=new h(Ce.x,Ce.y);l[w++]=T.createPoint(Ue)}else{const xe=new h(se[E++],se[E++]);l[w++]=T.createPoint(xe)}U&&y++,Z&&c++,Y&&g++}else if(Me===Wi.MULTIPOINT){const xe=U[y]-U[y-1];y++;const Ce=new Array(xe);if(J&&J.length!==0){for(let Ue=0;Ue<xe;Ue++){const We=2*J[O++];Ce[Ue]=new h(se[We],se[We+1])}l[w++]=T.createMultiPoint(Ce)}else{for(let Ue=0;Ue<xe;Ue++){const We=se[E++],ot=se[E++];Ce[Ue]=new h(We,ot)}l[w++]=T.createMultiPoint(Ce)}}else if(Me===Wi.LINESTRING){let xe,Ce=0;re?(Ce=Y[g]-Y[g-1],g++):Ce=Z[c]-Z[c-1],c++,J&&J.length!==0?(xe=d.vertexBufferType===Za.VEC_2?oP(se,J,O,Ce,!1):aP(se,J,O,Ce,!1,B),O+=Ce):(xe=iP(se,E,Ce,!1),E+=2*Ce),l[w++]=T.createLineString(xe),U&&y++}else if(Me===Wi.POLYGON){const xe=Z[c]-Z[c-1];c++;const Ce=new Array(xe-1);let Ue=Y[g]-Y[g-1];if(g++,J&&J.length!==0){const We=d.vertexBufferType===Za.VEC_2?Q1(se,J,O,Ue):ex(se,J,O,Ue,0,B);O+=Ue;for(let ot=0;ot<Ce.length;ot++)Ue=Y[g]-Y[g-1],g++,Ce[ot]=d.vertexBufferType===Za.VEC_2?Q1(se,J,O,Ue):ex(se,J,O,Ue,0,B),O+=Ue;l[w++]=T.createPolygon(We,Ce)}else{const We=J1(se,E,Ue);E+=2*Ue;for(let ot=0;ot<Ce.length;ot++)Ue=Y[g]-Y[g-1],g++,Ce[ot]=J1(se,E,Ue),E+=2*Ue;l[w++]=T.createPolygon(We,Ce)}U&&y++}else if(Me===Wi.MULTILINESTRING){const xe=U[y]-U[y-1];y++;const Ce=new Array(xe);if(J&&J.length!==0){for(let Ue=0;Ue<xe;Ue++){let We=0;re?(We=Y[g]-Y[g-1],g++):We=Z[c]-Z[c-1],c++;const ot=d.vertexBufferType===Za.VEC_2?oP(se,J,O,We,!1):aP(se,J,O,We,!1,B);Ce[Ue]=ot,O+=We}l[w++]=T.createMultiLineString(Ce)}else{for(let Ue=0;Ue<xe;Ue++){let We=0;re?(We=Y[g]-Y[g-1],g++):We=Z[c]-Z[c-1],c++,Ce[Ue]=iP(se,E,We,!1),E+=2*We}l[w++]=T.createMultiLineString(Ce)}}else{if(Me!==Wi.MULTIPOLYGON)throw new Error("The specified geometry type is currently not supported.");{const xe=U[y]-U[y-1];y++;const Ce=new Array(xe);let Ue=0;if(J&&J.length!==0){for(let We=0;We<xe;We++){const ot=Z[c]-Z[c-1];c++;const Ct=new Array(ot-1);Ue=Y[g]-Y[g-1],g++;const _t=d.vertexBufferType===Za.VEC_2?Q1(se,J,O,Ue):ex(se,J,O,Ue,0,B);O+=Ue;for(let Mt=0;Mt<Ct.length;Mt++)Ue=Y[g]-Y[g-1],g++,Ct[Mt]=d.vertexBufferType===Za.VEC_2?Q1(se,J,O,Ue):ex(se,J,O,Ue,0,B),O+=Ue;Ce[We]=T.createPolygon(_t,Ct)}l[w++]=T.createMultiPolygon(Ce)}else{for(let We=0;We<xe;We++){const ot=Z[c]-Z[c-1];c++;const Ct=new Array(ot-1);Ue=Y[g]-Y[g-1],g++;const _t=J1(se,E,Ue);E+=2*Ue;for(let Mt=0;Mt<Ct.length;Mt++){const jt=Y[g]-Y[g-1];g++,Ct[Mt]=J1(se,E,jt),E+=2*jt}Ce[We]=T.createPolygon(_t,Ct)}l[w++]=T.createMultiPolygon(Ce)}}}}return l}function J1(d,l,c){return iP(d,l,c,!0)}function Q1(d,l,c,g){return oP(d,l,c,g,!0)}function ex(d,l,c,g,y,w){return aP(d,l,c,g,!0,w)}function iP(d,l,c,g){const y=new Array(g?c+1:c);for(let w=0;w<2*c;w+=2)y[w/2]=new h(d[l+w],d[l+w+1]);return g&&(y[y.length-1]=y[0]),y}function oP(d,l,c,g,y){const w=new Array(y?g+1:g);for(let T=0;T<2*g;T+=2){const E=2*l[c+T/2];w[T/2]=new h(d[E],d[E+1])}return y&&(w[w.length-1]=w[0]),w}function aP(d,l,c,g,y,w){const T=new Array(y?g+1:g);for(let E=0;E<g;E++){const O=fm.decode(d[l[c+E]],w.numBits,w.coordinateShift);T[E]=new h(O.x,O.y)}return y&&(T[T.length-1]=T[0]),T}class M${_vertexBufferType;_topologyVector;_vertexOffsets;_vertexBuffer;_mortonSettings;constructor(l,c,g,y,w){this._vertexBufferType=l,this._topologyVector=c,this._vertexOffsets=g,this._vertexBuffer=y,this._mortonSettings=w}get vertexBufferType(){return this._vertexBufferType}get topologyVector(){return this._topologyVector}get vertexOffsets(){return this._vertexOffsets}get vertexBuffer(){return this._vertexBuffer}*[Symbol.iterator](){const l=P$(this);let c=0;for(;c<this.numGeometries;)yield{coordinates:l[c],type:this.geometryType(c)},c++}getSimpleEncodedVertex(l){const c=this.vertexOffsets?2*this.vertexOffsets[l]:2*l;return[this.vertexBuffer[c],this.vertexBuffer[c+1]]}getVertex(l){if(this.vertexOffsets&&this.mortonSettings){const g=fm.decode(this.vertexBuffer[this.vertexOffsets[l]],this.mortonSettings.numBits,this.mortonSettings.coordinateShift);return[g.x,g.y]}const c=this.vertexOffsets?2*this.vertexOffsets[l]:2*l;return[this.vertexBuffer[c],this.vertexBuffer[c+1]]}getGeometries(){return P$(this)}get mortonSettings(){return this._mortonSettings}}class Ay extends M${_numGeometries;_geometryType;constructor(l,c,g,y,w,T,E){super(g,y,w,T,E),this._numGeometries=l,this._geometryType=c}static createMortonEncoded(l,c,g,y,w,T){return new Ay(l,c,Za.MORTON,g,y,w,T)}static create(l,c,g,y,w){return new Ay(l,c,Za.VEC_2,g,y,w)}geometryType(l){return this._geometryType}get numGeometries(){return this._numGeometries}containsPolygonGeometry(){return this._geometryType===Wi.POLYGON||this._geometryType===Wi.MULTIPOLYGON}containsSingleGeometryType(){return!0}}class Dy extends M${_geometryTypes;constructor(l,c,g,y,w,T){super(l,g,y,w,T),this._geometryTypes=c}static createMortonEncoded(l,c,g,y,w){return new Dy(Za.MORTON,l,c,g,y,w)}static create(l,c,g,y){return new Dy(Za.VEC_2,l,c,g,y)}geometryType(l){return this._geometryTypes[l]}get numGeometries(){return this._geometryTypes.length}containsPolygonGeometry(){for(let l=0;l<this.numGeometries;l++)if(this.geometryType(l)===Wi.POLYGON||this.geometryType(l)===Wi.MULTIPOLYGON)return!0;return!1}containsSingleGeometryType(){return!1}}class I${_triangleOffsets;_indexBuffer;_vertexBuffer;_topologyVector;constructor(l,c,g,y){this._triangleOffsets=l,this._indexBuffer=c,this._vertexBuffer=g,this._topologyVector=y}get triangleOffsets(){return this._triangleOffsets}get indexBuffer(){return this._indexBuffer}get vertexBuffer(){return this._vertexBuffer}get topologyVector(){return this._topologyVector}getGeometries(){if(!this._topologyVector)throw new Error("Cannot convert GpuVector to coordinates without topology information");const l=new Array(this.numGeometries),c=this._topologyVector,g=c.partOffsets,y=c.ringOffsets,w=c.geometryOffsets;let T=0,E=1,O=1,B=1;for(let V=0;V<this.numGeometries;V++)switch(this.geometryType(V)){case Wi.POLYGON:{const U=g[E]-g[E-1];E++;const Z=[];for(let Y=0;Y<U;Y++){const J=y[O]-y[O-1];O++;const re=[];for(let se=0;se<J;se++){const ge=this._vertexBuffer[T++],Me=this._vertexBuffer[T++];re.push(new h(ge,Me))}re.length>0&&re.push(re[0]),Z.push(re)}l[V]=Z,w&&B++}break;case Wi.MULTIPOLYGON:{const U=w[B]-w[B-1];B++;const Z=[];for(let Y=0;Y<U;Y++){const J=g[E]-g[E-1];E++;for(let re=0;re<J;re++){const se=y[O]-y[O-1];O++;const ge=[];for(let Me=0;Me<se;Me++){const xe=this._vertexBuffer[T++],Ce=this._vertexBuffer[T++];ge.push(new h(xe,Ce))}ge.length>0&&ge.push(ge[0]),Z.push(ge)}}l[V]=Z}}return l}[Symbol.iterator](){return null}}class tx extends I${_numGeometries;_geometryType;constructor(l,c,g,y,w,T){super(g,y,w,T),this._numGeometries=l,this._geometryType=c}static create(l,c,g,y,w,T){return new tx(l,c,g,y,w,T)}geometryType(l){return this._geometryType}get numGeometries(){return this._numGeometries}containsSingleGeometryType(){return!0}}class rx extends I${_geometryTypes;constructor(l,c,g,y,w){super(c,g,y,w),this._geometryTypes=l}static create(l,c,g,y,w){return new rx(l,c,g,y,w)}geometryType(l){return this._geometryTypes[l]}get numGeometries(){return this._geometryTypes.length}containsSingleGeometryType(){return!1}}function QY(d,l,c,g,y){const w=Po.decode(d,c);let T=null,E=null,O=null,B=null,V=null,U=null,Z=null,Y=null;if(Pr.getVectorType(w,g,d,c)===Ui.CONST){const re=Pr.decodeConstIntStream(d,c,w,!1);for(let se=0;se<l-1;se++){const ge=Po.decode(d,c);switch(ge.physicalStreamType){case vo.LENGTH:switch(ge.logicalStreamType.lengthType){case Ca.GEOMETRIES:T=Pr.decodeLengthStreamToOffsetBuffer(d,c,ge);break;case Ca.PARTS:E=Pr.decodeLengthStreamToOffsetBuffer(d,c,ge);break;case Ca.RINGS:O=Pr.decodeLengthStreamToOffsetBuffer(d,c,ge);break;case Ca.TRIANGLES:Z=Pr.decodeLengthStreamToOffsetBuffer(d,c,ge)}break;case vo.OFFSET:switch(ge.logicalStreamType.offsetType){case zd.VERTEX:B=Pr.decodeIntStream(d,c,ge,!1);break;case zd.INDEX:Y=Pr.decodeIntStream(d,c,ge,!1)}break;case vo.DATA:if(rl.VERTEX===ge.logicalStreamType.dictionaryType)V=Pr.decodeIntStream(d,c,ge,!0,y);else{const Me=ge;U={numBits:Me.numBits(),coordinateShift:Me.coordinateShift()},V=Pr.decodeIntStream(d,c,ge,!1,y)}}}if(Y!==null){if(T!=null||E!=null){const se=new dm(T,E,O);return tx.create(g,re,Z,Y,V,se)}return tx.create(g,re,Z,Y,V)}return U===null?Ay.create(g,re,new dm(T,E,O),B,V):Ay.createMortonEncoded(g,re,new dm(T,E,O),B,V,U)}const J=Pr.decodeIntStream(d,c,w,!1);for(let re=0;re<l-1;re++){const se=Po.decode(d,c);switch(se.physicalStreamType){case vo.LENGTH:switch(se.logicalStreamType.lengthType){case Ca.GEOMETRIES:T=Pr.decodeIntStream(d,c,se,!1);break;case Ca.PARTS:E=Pr.decodeIntStream(d,c,se,!1);break;case Ca.RINGS:O=Pr.decodeIntStream(d,c,se,!1);break;case Ca.TRIANGLES:Z=Pr.decodeLengthStreamToOffsetBuffer(d,c,se)}break;case vo.OFFSET:switch(se.logicalStreamType.offsetType){case zd.VERTEX:B=Pr.decodeIntStream(d,c,se,!1);break;case zd.INDEX:Y=Pr.decodeIntStream(d,c,se,!1)}break;case vo.DATA:if(rl.VERTEX===se.logicalStreamType.dictionaryType)V=Pr.decodeIntStream(d,c,se,!0,y);else{const ge=se;U={numBits:ge.numBits(),coordinateShift:ge.coordinateShift()},V=Pr.decodeIntStream(d,c,se,!1,y)}}}return Y!==null&&E===null?rx.create(J,Z,Y,V):(T!==null?(T=sP(J,T,2),E!==null&&O!==null?(E=E$(J,T,E,!1),O=(function(re,se,ge,Me){const xe=new Int32Array(ge[ge.length-1]+1);let Ce=0;xe[0]=Ce;let Ue=1,We=1,ot=0;for(let Ct=0;Ct<re.length;Ct++){const _t=re[Ct],Mt=se[Ct+1]-se[Ct];if(_t!==0&&_t!==3)for(let jt=0;jt<Mt;jt++){const Rt=ge[Ue]-ge[Ue-1];Ue++;for(let Ot=0;Ot<Rt;Ot++)Ce=xe[We++]=Ce+Me[ot++]}else for(let jt=0;jt<Mt;jt++)xe[We++]=++Ce,Ue++}return xe})(J,T,E,O)):E!==null&&(E=(function(re,se,ge){const Me=new Int32Array(se[se.length-1]+1);let xe=0;Me[0]=xe;let Ce=1,Ue=0;for(let We=0;We<re.length;We++){const ot=re[We],Ct=se[We+1]-se[We];if(ot===4||ot===1)for(let _t=0;_t<Ct;_t++)xe=Me[Ce++]=xe+ge[Ue++];else for(let _t=0;_t<Ct;_t++)Me[Ce++]=++xe}return Me})(J,T,E))):E!==null&&O!==null?(E=sP(J,E,1),O=E$(J,E,O,!0)):E!==null&&(E=sP(J,E,0)),Y!==null?rx.create(J,Z,Y,V,new dm(T,E,O)):U===null?Dy.create(J,new dm(T,E,O),B,V):Dy.createMortonEncoded(J,new dm(T,E,O),B,V,U))}function sP(d,l,c){const g=new Int32Array(d.length+1);let y=0;g[0]=y;let w=0;for(let T=0;T<d.length;T++)y=g[T+1]=y+(d[T]>c?l[w++]:1);return g}function E$(d,l,c,g){const y=new Int32Array(l[l.length-1]+1);let w=0;y[0]=w;let T=1,E=0;for(let O=0;O<d.length;O++){const B=d[O],V=l[O+1]-l[O];if(B===5||B===2||g&&(B===4||B===1))for(let U=0;U<V;U++)w=y[T++]=w+c[E++];else for(let U=0;U<V;U++)y[T++]=++w}return y}class eJ extends cm{dataVector;constructor(l,c,g){super(l,c.getBuffer(),g),this.dataVector=c}getValueFromBuffer(l){return this.dataVector.get(l)}}class tJ extends X1{getValueFromBuffer(l){return this.dataBuffer[l]}}class A$ extends cm{constructor(l,c,g){super(l,BigInt64Array.of(c),g)}getValueFromBuffer(l){return this.dataBuffer[0]}}function rJ(d,l,c){for(let g=0;g<d;g++){const y=Po.decode(l,c);c.add(y.byteLength)}}function Ly(d,l,c){return D$(d,Math.ceil(l/8),c)}function D$(d,l,c){const g=new Uint8Array(l);let y=0;for(;y<l;){const w=d[c.increment()];if(w<=127){const T=w+3,E=d[c.increment()],O=y+T;g.fill(E,y,O),y=O}else{const T=256-w;for(let E=0;E<T;E++)g[y++]=d[c.increment()]}}return g}const nJ=new TextDecoder;function lP(d,l,c){return c-l>=12?nJ.decode(d.subarray(l,c)):(function(g,y,w){let T="",E=y;for(;E<w;){const O=g[E];let B,V,U,Z=null,Y=O>239?4:O>223?3:O>191?2:1;if(E+Y>w)break;Y===1?O<128&&(Z=O):Y===2?(B=g[E+1],(192&B)==128&&(Z=(31&O)<<6|63&B,Z<=127&&(Z=null))):Y===3?(B=g[E+1],V=g[E+2],(192&B)==128&&(192&V)==128&&(Z=(15&O)<<12|(63&B)<<6|63&V,(Z<=2047||Z>=55296&&Z<=57343)&&(Z=null))):Y===4&&(B=g[E+1],V=g[E+2],U=g[E+3],(192&B)==128&&(192&V)==128&&(192&U)==128&&(Z=(15&O)<<18|(63&B)<<12|(63&V)<<6|63&U,(Z<=65535||Z>=1114112)&&(Z=null))),Z===null?(Z=65533,Y=1):Z>65535&&(Z-=65536,T+=String.fromCharCode(Z>>>10&1023|55296),Z=56320|1023&Z),T+=String.fromCharCode(Z),E+=Y}return T})(d,l,c)}class uP extends cm{offsetBuffer;constructor(l,c,g,y){super(l,g,y),this.offsetBuffer=c}}class L$ extends uP{textEncoder;constructor(l,c,g,y){super(l,c,g,y??c.length-1),this.textEncoder=new TextEncoder}getValueFromBuffer(l){return lP(this.dataBuffer,this.offsetBuffer[l],this.offsetBuffer[l+1])}}class pm extends uP{indexBuffer;textEncoder;constructor(l,c,g,y,w){super(l,g,y,w??c.length),this.indexBuffer=c,this.indexBuffer=c,this.textEncoder=new TextEncoder}getValueFromBuffer(l){const c=this.indexBuffer[l];return lP(this.dataBuffer,this.offsetBuffer[c],this.offsetBuffer[c+1])}}class R$ extends uP{indexBuffer;symbolOffsetBuffer;symbolTableBuffer;textEncoder;symbolLengthBuffer;lengthBuffer;decodedDictionary;constructor(l,c,g,y,w,T,E){super(l,g,y,E),this.indexBuffer=c,this.symbolOffsetBuffer=w,this.symbolTableBuffer=T,this.textEncoder=new TextEncoder}getValueFromBuffer(l){this.decodedDictionary==null&&(this.symbolLengthBuffer==null&&(this.symbolLengthBuffer=this.offsetToLengthBuffer(this.symbolOffsetBuffer),this.lengthBuffer=this.offsetToLengthBuffer(this.offsetBuffer)),this.decodedDictionary=(function(g,y,w){const T=[],E=new Array(y.length).fill(0);for(let O=1;O<y.length;O++)E[O]=E[O-1]+y[O-1];for(let O=0;O<w.length;O++)if(w[O]===255)T.push(w[++O]);else{const B=y[w[O]],V=E[w[O]];for(let U=0;U<B;U++)T.push(g[V+U])}return new Uint8Array(T)})(this.symbolTableBuffer,this.symbolLengthBuffer,this.dataBuffer));const c=this.indexBuffer[l];return lP(this.decodedDictionary,this.offsetBuffer[c],this.offsetBuffer[c+1])}offsetToLengthBuffer(l){const c=new Uint32Array(l.length-1);let g=l[0];for(let y=1;y<l.length;y++){const w=l[y];c[y-1]=w-g,g=w}return c}}class Ry{static ROOT_COLUMN_NAME="default";static NESTED_COLUMN_SEPARATOR=":";constructor(){}static decode(l,c,g,y,w){let T=null,E=null,O=null,B=null,V=null,U=null,Z=null,Y=null;for(let J=0;J<y;J++){const re=Po.decode(c,g);if(re.byteLength!==0)switch(re.physicalStreamType){case vo.PRESENT:{const se=Ly(c,re.numValues,g);U=new nl(se,re.numValues);break}case vo.OFFSET:E=w!=null||U!=null?Pr.decodeNullableIntStream(c,g,re,!1,w??U):Pr.decodeIntStream(c,g,re,!1);break;case vo.LENGTH:{const se=Pr.decodeLengthStreamToOffsetBuffer(c,g,re);Ca.DICTIONARY===re.logicalStreamType.lengthType?T=se:Ca.SYMBOL===re.logicalStreamType.lengthType?B=se:Z=se;break}case vo.DATA:{const se=c.subarray(g.get(),g.get()+re.byteLength);g.add(re.byteLength);const ge=re.logicalStreamType.dictionaryType;rl.FSST===ge?V=se:rl.SINGLE===ge||rl.SHARED===ge?O=se:rl.NONE===ge&&(Y=se);break}}}return this.decodeFsstDictionaryVector(l,V,E,T,O,B,w??U)??this.decodeDictionaryVector(l,O,E,T,w??U)??this.decodePlainStringVector(l,Z,Y,E,w??U)}static decodeFsstDictionaryVector(l,c,g,y,w,T,E){return c?new R$(l,g,y,w,T,c,E):null}static decodeDictionaryVector(l,c,g,y,w){return c?w?new pm(l,g,y,c,w):new pm(l,g,y,c):null}static decodePlainStringVector(l,c,g,y,w){if(!c||!g)return null;if(y)return w?new pm(l,y,c,g,w):new pm(l,y,c,g);if(w&&w.size()!==c.length-1){const T=new Int32Array(w.size());let E=0;for(let O=0;O<w.size();O++)T[O]=w.get(O)?E++:0;return new pm(l,T,c,g,w)}return w?new L$(l,c,g,w):new L$(l,c,g)}static decodeSharedDictionary(l,c,g,y,w){let T=null,E=null,O=null,B=null,V=!1;for(;!V;){const J=Po.decode(l,c);switch(J.physicalStreamType){case vo.LENGTH:Ca.DICTIONARY===J.logicalStreamType.lengthType?T=Pr.decodeLengthStreamToOffsetBuffer(l,c,J):O=Pr.decodeLengthStreamToOffsetBuffer(l,c,J);break;case vo.DATA:rl.SINGLE===J.logicalStreamType.dictionaryType||rl.SHARED===J.logicalStreamType.dictionaryType?(E=l.subarray(c.get(),c.get()+J.byteLength),V=!0):B=l.subarray(c.get(),c.get()+J.byteLength),c.add(J.byteLength)}}const U=g.complexType.children,Z=[];let Y=0;for(const J of U){const re=Vi(l,c,1)[0];if(re==0)continue;const se=`${g.name}${J.name===Ry.ROOT_COLUMN_NAME?"":Ry.NESTED_COLUMN_SEPARATOR+J.name}`;if(w&&!w.has(se)){rJ(re,l,c);continue}if(re!==2||J.type!=="scalarField"||J.scalarField.physicalType!==9)throw new Error("Currently only optional string fields are implemented for a struct.");const ge=Po.decode(l,c),Me=Ly(l,ge.numValues,c),xe=Po.decode(l,c),Ce=(xe instanceof Ey?xe.numRleValues:xe.numValues)!==y?Pr.decodeNullableIntStream(l,c,xe,!1,new nl(Me,ge.numValues)):Pr.decodeIntStream(l,c,xe,!1);Z[Y++]=B?new R$(se,Ce,T,E,O,B,new nl(Me,ge.numValues)):new pm(se,Ce,T,E,new nl(Me,ge.numValues))}return Z}}function iJ(d,l,c,g,y,w){return c.type==="scalarType"?(function(T,E,O,B,V,U){let Z=null,Y=0;if(T===0)return null;if(U.nullable){const re=Po.decode(E,O);Y=re.numValues;const se=O.get(),ge=Ly(E,Y,O);O.set(se+re.byteLength),Z=new nl(ge,re.numValues)}const J=Z??B;switch(V.physicalType){case 4:case 3:return(function(re,se,ge,Me,xe){const Ce=Po.decode(re,se),Ue=Pr.getVectorType(Ce,xe,re,se),We=Me.physicalType===3;if(Ue===Ui.FLAT){const ot=Oy(xe)?Pr.decodeNullableIntStream(re,se,Ce,We,xe):Pr.decodeIntStream(re,se,Ce,We);return new JC(ge.name,ot,xe)}if(Ue===Ui.SEQUENCE){const ot=Pr.decodeSequenceIntStream(re,se,Ce);return new eP(ge.name,ot[0],ot[1],Ce.numRleValues)}{const ot=Pr.decodeConstIntStream(re,se,Ce,We);return new tP(ge.name,ot,xe)}})(E,O,U,V,J);case 9:return Ry.decode(U.name,E,O,U.nullable?T-1:T,Z);case 0:return(function(re,se,ge,Me,xe){const Ce=Po.decode(re,se),Ue=Ce.numValues,We=se.get(),ot=Oy(xe)?(function(_t,Mt,jt,Rt){const Ot=D$(_t,Math.ceil(Mt/8),jt),bt=new nl(Ot,Mt),sr=Rt.size(),lr=new nl(new Uint8Array(sr),sr);let dr=0;for(let Jt=0;Jt<Rt.size();Jt++){const Br=!!Rt.get(Jt)&&bt.get(dr++);lr.set(Jt,Br)}return lr.getBuffer()})(re,Ue,se,xe):Ly(re,Ue,se);se.set(We+Ce.byteLength);const Ct=new nl(ot,Ue);return new eJ(ge.name,Ct,xe)})(E,O,U,0,J);case 6:case 5:return(function(re,se,ge,Me,xe){const Ce=Po.decode(re,se),Ue=Pr.getVectorType(Ce,Me,re,se),We=xe.physicalType===5;if(Ue===Ui.FLAT){const ot=Oy(Me)?Pr.decodeNullableLongStream(re,se,Ce,We,Me):Pr.decodeLongStream(re,se,Ce,We);return new T$(ge.name,ot,Me)}if(Ue===Ui.SEQUENCE){const ot=Pr.decodeSequenceLongStream(re,se,Ce);return new C$(ge.name,ot[0],ot[1],Ce.numRleValues)}{const ot=Pr.decodeConstLongStream(re,se,Ce,We);return new A$(ge.name,ot,Me)}})(E,O,U,J,V);case 7:return(function(re,se,ge,Me){const xe=Po.decode(re,se),Ce=Oy(Me)?(function(Ue,We,ot,Ct){const _t=We.get(),Mt=_t+Ct*Float32Array.BYTES_PER_ELEMENT,jt=new Uint8Array(Ue.subarray(_t,Mt)).buffer,Rt=new Float32Array(jt);We.set(Mt);const Ot=ot.size(),bt=new Float32Array(Ot);let sr=0;for(let lr=0;lr<Ot;lr++)bt[lr]=ot.get(lr)?Rt[sr++]:0;return bt})(re,se,Me,xe.numValues):(function(Ue,We,ot){const Ct=We.get(),_t=Ct+ot*Float32Array.BYTES_PER_ELEMENT,Mt=new Uint8Array(Ue.subarray(Ct,_t)).buffer,jt=new Float32Array(Mt);return We.set(_t),jt})(re,se,xe.numValues);return new tJ(ge.name,Ce,Me)})(E,O,U,J);case 8:return(function(re,se,ge,Me){const xe=Po.decode(re,se),Ce=Oy(Me)?(function(Ue,We,ot,Ct){const _t=We.get(),Mt=_t+Ct*Float64Array.BYTES_PER_ELEMENT,jt=new Uint8Array(Ue.subarray(_t,Mt)).buffer,Rt=new Float64Array(jt);We.set(Mt);const Ot=ot.size(),bt=new Float64Array(Ot);let sr=0;for(let lr=0;lr<Ot;lr++)bt[lr]=ot.get(lr)?Rt[sr++]:0;return bt})(re,se,Me,xe.numValues):(function(Ue,We,ot){const Ct=We.get(),_t=Ct+ot*Float64Array.BYTES_PER_ELEMENT,Mt=new Uint8Array(Ue.subarray(Ct,_t)).buffer,jt=new Float64Array(Mt);return We.set(_t),jt})(re,se,xe.numValues);return new QC(ge.name,Ce,Me)})(E,O,U,J);default:throw new Error(`The specified data type for the field is currently not supported: ${V}`)}})(g,d,l,y,c.scalarType,c):g!=1?null:Ry.decodeSharedDictionary(d,l,c,y,w)}function Oy(d){return d instanceof nl}class nx{static decodeColumnType(l){switch(l){case 0:case 1:case 2:case 3:{const c={};c.nullable=!!(1&l),c.columnScope=0;const g={};return g.physicalType=l>1?6:4,g.type="physicalType",c.scalarType=g,c.type="scalarType",c}case 4:{const c={nullable:!1,columnScope:0},g={type:"physicalType",physicalType:0};return c.type="complexType",c.complexType=g,c}case 30:{const c={nullable:!1,columnScope:0},g={type:"physicalType",physicalType:1};return c.type="complexType",c.complexType=g,c}default:return this.mapScalarType(l)}}static columnTypeHasName(l){return l>=10}static columnTypeHasChildren(l){return l===30}static hasStreamCount(l){if(l.name==="id")return!1;if(l.type==="scalarType"){const c=l.scalarType;if(c.type==="physicalType")switch(c.physicalType){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:default:return!1;case 9:return!0}else if(c.type==="logicalType")return!1}else if(l.type==="complexType"){const c=l.complexType;if(c.type==="physicalType")switch(c.physicalType){case 0:case 1:return!0;default:return!1}}return console.warn("Unexpected column type in hasStreamCount",l),!1}static mapScalarType(l){let c=null;switch(l){case 10:case 11:c=0;break;case 12:case 13:c=1;break;case 14:case 15:c=2;break;case 16:case 17:c=3;break;case 18:case 19:c=4;break;case 20:case 21:c=5;break;case 22:case 23:c=6;break;case 24:case 25:c=7;break;case 26:case 27:c=8;break;case 28:case 29:c=9;break;default:return null}const g={};g.nullable=!!(1&l),g.columnScope=0;const y={type:"physicalType"};return y.physicalType=c,g.type="scalarType",g.scalarType=y,g}}const oJ=new TextDecoder;function O$(d,l){const c=Vi(d,l,1)[0];if(c===0)return"";const g=l.get(),y=d.subarray(g,g+c);return l.add(c),oJ.decode(y)}function k$(d,l){const c=Vi(d,l,1)[0]>>>0,g=!!(4&c),y=!!(2&c),w=Vi(d,l,1)[0]>>>0,T={};if(1&c&&(T.nullable=!0),y){const E={};if(g?(E.type="logicalType",E.logicalType=w):(E.type="physicalType",E.physicalType=w),8&c){const O=Vi(d,l,1)[0]>>>0;E.children=new Array(O);for(let B=0;B<O;B++)E.children[B]=k$(d,l)}T.type="complexField",T.complexField=E}else{const E={};g?(E.type="logicalType",E.logicalType=w):(E.type="physicalType",E.physicalType=w),T.type="scalarField",T.scalarField=E}return T}function aJ(d,l){const c=Vi(d,l,1)[0]>>>0,g=nx.decodeColumnType(c);if(!g)throw new Error(`Unsupported column type code: ${c}`);if(nx.columnTypeHasName(c)?g.name=O$(d,l):c>=0&&c<=3?g.name="id":c===4&&(g.name="geometry"),nx.columnTypeHasChildren(c)){const y=Vi(d,l,1)[0]>>>0,w=g.complexType;w.children=new Array(y);for(let T=0;T<y;T++)w.children[T]=k$(d,l)}return g}function sJ(d,l){const c={featureTables:[]},g={};g.name=O$(d,l);const y=Vi(d,l,1)[0]>>>0,w=Vi(d,l,1)[0]>>>0;g.columns=new Array(w);for(let T=0;T<w;T++)g.columns[T]=aJ(d,l);return c.featureTables.push(g),[c,y]}function lJ(d,l,c,g,y,w,T=!1){const E=l.scalarType.physicalType,O=Pr.getVectorType(y,w,d,c);if(E===4)switch(O){case Ui.FLAT:{const B=Pr.decodeIntStream(d,c,y,!1);return new JC(g,B,w)}case Ui.SEQUENCE:{const B=Pr.decodeSequenceIntStream(d,c,y);return new eP(g,B[0],B[1],y.numRleValues)}case Ui.CONST:{const B=Pr.decodeConstIntStream(d,c,y,!1);return new tP(g,B,w)}}else switch(O){case Ui.FLAT:{if(T){const V=Pr.decodeLongFloat64Stream(d,c,y,!1);return new QC(g,V,w)}const B=Pr.decodeLongStream(d,c,y,!1);return new T$(g,B,w)}case Ui.SEQUENCE:{const B=Pr.decodeSequenceLongStream(d,c,y);return new C$(g,B[0],B[1],y.numRleValues)}case Ui.CONST:{const B=Pr.decodeConstLongStream(d,c,y,!1);return new A$(g,B,w)}}throw new Error("Vector type not supported for id column.")}class uJ{constructor(l,c){var g;switch(this._featureData=l,this.properties=this._featureData.properties||{},(g=this._featureData.geometry)===null||g===void 0?void 0:g.type){case Wi.POINT:case Wi.MULTIPOINT:this.type=1;break;case Wi.LINESTRING:case Wi.MULTILINESTRING:this.type=2;break;case Wi.POLYGON:case Wi.MULTIPOLYGON:this.type=3;break;default:this.type=0}this.extent=c,this.id=Number(this._featureData.id)}projectPoint(l,c,g,y){return[360*(l.x+c)/y-180,360/Math.PI*Math.atan(Math.exp((1-2*(l.y+g)/y)*Math.PI))-90]}projectLine(l,c,g,y){return l.map((w=>this.projectPoint(w,c,g,y)))}toGeoJSON(l,c,g){const y=this.extent*Math.pow(2,g),w=this.extent*l,T=this.extent*c,E=this.loadGeometry();let O;switch(this.type){case 1:{const V=[];for(const Z of E)V.push(Z[0]);const U=this.projectLine(V,w,T,y);O=V.length===1?{type:"Point",coordinates:U[0]}:{type:"MultiPoint",coordinates:U};break}case 2:{const V=E.map((U=>this.projectLine(U,w,T,y)));O=V.length===1?{type:"LineString",coordinates:V[0]}:{type:"MultiLineString",coordinates:V};break}case 3:{const V=hd(E),U=[];for(const Z of V)U.push(Z.map((Y=>this.projectLine(Y,w,T,y))));O=U.length===1?{type:"Polygon",coordinates:U[0]}:{type:"MultiPolygon",coordinates:U};break}default:throw new Error(`unknown feature type: ${this.type}`)}const B={type:"Feature",geometry:O,properties:this.properties};return this.id!=null&&(B.id=this.id),B}loadGeometry(){const l=[];for(const c of this._featureData.geometry.coordinates){const g=[];for(const y of c)g.push(new h(y.x,y.y));l.push(g)}return l}bbox(){return[0,0,0,0]}}class cJ{constructor(l){this.features=[],this.featureTable=l,this.name=l.name,this.extent=l.extent,this.version=2,this.features=l.getFeatures(),this.length=this.features.length}feature(l){return new uJ(this.features[l],this.extent)}}class $${constructor(l){this.layers={};const c=(function(g,y,w=!0){const T=new ZY(0),E=[];for(;T.get()<g.length;){const O=Vi(g,T,1)[0]>>>0,B=T.get()+O;if(B>g.length)throw new Error(`Block overruns tile: ${B} > ${g.length}`);if(Vi(g,T,1)[0]>>>0!=1){T.set(B);continue}const V=sJ(g,T),U=V[1],Z=V[0].featureTables[0];let Y=null,J=null;const re=[];let se=0;for(const Me of Z.columns){const xe=Me.name;if(xe==="id"){let Ce=null;if(Me.nullable){const We=Po.decode(g,T),ot=T.get(),Ct=Ly(g,We.numValues,T);T.set(ot+We.byteLength),Ce=new nl(Ct,We.numValues)}const Ue=Po.decode(g,T);se=Ue.getDecompressedCount(),Y=lJ(g,Me,T,xe,Ue,Ce??se,w)}else if(xe==="geometry"){const Ce=Vi(g,T,1)[0];if(se===0){const Ue=T.get();se=Po.decode(g,T).getDecompressedCount(),T.set(Ue)}J=QY(g,Ce,T,se,y)}else{const Ce=nx.hasStreamCount(Me)?Vi(g,T,1)[0]:1;if(Ce===0&&Me.type==="scalarType")continue;const Ue=iJ(g,T,Me,Ce,se,void 0);Ue&&(Array.isArray(Ue)?re.push(...Ue):re.push(Ue))}}const ge=new qY(Z.name,J,Y,re,U);E.push(ge),T.set(B)}return E})(new Uint8Array(l));this.layers=c.reduce(((g,y)=>Object.assign(Object.assign({},g),{[y.name]:new cJ(y)})),{})}}class Nd{constructor(){this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0}extend(l){return this.minX=Math.min(this.minX,l.x),this.minY=Math.min(this.minY,l.y),this.maxX=Math.max(this.maxX,l.x),this.maxY=Math.max(this.maxY,l.y),this}expandBy(l){return this.minX-=l,this.minY-=l,this.maxX+=l,this.maxY+=l,(this.minX>this.maxX||this.minY>this.maxY)&&(this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0),this}shrinkBy(l){return this.expandBy(-l)}map(l){const c=new Nd;return c.extend(l(new h(this.minX,this.minY))),c.extend(l(new h(this.maxX,this.minY))),c.extend(l(new h(this.minX,this.maxY))),c.extend(l(new h(this.maxX,this.maxY))),c}static fromPoints(l){const c=new Nd;for(const g of l)c.extend(g);return c}contains(l){return l.x>=this.minX&&l.x<=this.maxX&&l.y>=this.minY&&l.y<=this.maxY}empty(){return this.minX>this.maxX}width(){return this.maxX-this.minX}height(){return this.maxY-this.minY}covers(l){return!this.empty()&&!l.empty()&&l.minX>=this.minX&&l.maxX<=this.maxX&&l.minY>=this.minY&&l.maxY<=this.maxY}intersects(l){return!this.empty()&&!l.empty()&&l.minX<=this.maxX&&l.maxX>=this.minX&&l.minY<=this.maxY&&l.maxY>=this.minY}}const cP="_geojsonTileLayer";class z${constructor(l,c){this.tileID=l,this.x=l.canonical.x,this.y=l.canonical.y,this.z=l.canonical.z,this.grid=new Sd(De,16,0),this.grid3D=new Sd(De,16,0),this.featureIndexArray=new Se,this.promoteId=c}insert(l,c,g,y,w,T){const E=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(g,y,w);const O=T?this.grid3D:this.grid;for(let B=0;B<c.length;B++){const V=c[B],U=[1/0,1/0,-1/0,-1/0];for(let Z=0;Z<V.length;Z++){const Y=V[Z];U[0]=Math.min(U[0],Y.x),U[1]=Math.min(U[1],Y.y),U[2]=Math.max(U[2],Y.x),U[3]=Math.max(U[3],Y.y)}U[0]<De&&U[1]<De&&U[2]>=0&&U[3]>=0&&O.insert(E,U[0],U[1],U[2],U[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=this.encoding!=="mlt"?new Lk(new jC(this.rawTileData)).layers:new $$(this.rawTileData).layers,this.sourceLayerCoder=new m$(this.vtLayers?Object.keys(this.vtLayers).sort():[cP])),this.vtLayers}query(l,c,g,y){this.loadVTLayers();const w=l.params,T=De/l.tileSize/l.scale,E=gd(w.filter,w.globalState),O=l.queryGeometry,B=l.queryPadding*T,V=Nd.fromPoints(O),U=this.grid.query(V.minX-B,V.minY-B,V.maxX+B,V.maxY+B),Z=Nd.fromPoints(l.cameraQueryGeometry).expandBy(B),Y=this.grid3D.query(Z.minX,Z.minY,Z.maxX,Z.maxY,((se,ge,Me,xe)=>(function(Ce,Ue,We,ot,Ct){for(const Mt of Ce)if(Ue<=Mt.x&&We<=Mt.y&&ot>=Mt.x&&Ct>=Mt.y)return!0;const _t=[new h(Ue,We),new h(Ue,Ct),new h(ot,Ct),new h(ot,We)];if(Ce.length>2){for(const Mt of _t)if(em(Ce,Mt))return!0}for(let Mt=0;Mt<Ce.length-1;Mt++)if(xK(Ce[Mt],Ce[Mt+1],_t))return!0;return!1})(l.cameraQueryGeometry,se-B,ge-B,Me+B,xe+B)));for(const se of Y)U.push(se);U.sort(hJ);const J={};let re;for(let se=0;se<U.length;se++){const ge=U[se];if(ge===re)continue;re=ge;const Me=this.featureIndexArray.get(ge);let xe=null;this.loadMatchingFeature(J,Me.bucketIndex,Me.sourceLayerIndex,Me.featureIndex,E,w.layers,w.availableImages,c,g,y,((Ce,Ue,We)=>(xe||(xe=Gl(Ce)),Ue.queryIntersectsFeature({queryGeometry:O,feature:Ce,featureState:We,geometry:xe,zoom:this.z,transform:l.transform,pixelsToTileUnits:T,pixelPosMatrix:l.pixelPosMatrix,unwrappedTileID:this.tileID.toUnwrapped(),getElevation:l.getElevation}))))}return J}loadMatchingFeature(l,c,g,y,w,T,E,O,B,V,U){const Z=this.bucketLayerIDs[c];if(T&&!Z.some((se=>T.has(se))))return;const Y=this.sourceLayerCoder.decode(g),J=this.vtLayers[Y].feature(y);if(w.needGeometry){const se=tl(J,!0);if(!w.filter(new fn(this.tileID.overscaledZ),se,this.tileID.canonical))return}else if(!w.filter(new fn(this.tileID.overscaledZ),J))return;const re=this.getId(J,Y);for(let se=0;se<Z.length;se++){const ge=Z[se];if(T&&!T.has(ge))continue;const Me=O[ge];if(!Me)continue;let xe={};re&&V&&(xe=V.getState(Me.sourceLayer||cP,re));const Ce=it({},B[ge]);Ce.paint=B$(Ce.paint,Me.paint,J,xe,E),Ce.layout=B$(Ce.layout,Me.layout,J,xe,E);const Ue=!U||U(J,Me,xe);if(!Ue)continue;const We=new g$(J,this.z,this.x,this.y,re);We.layer=Ce;let ot=l[ge];ot===void 0&&(ot=l[ge]=[]),ot.push({featureIndex:y,feature:We,intersectionZ:Ue})}}lookupSymbolFeatures(l,c,g,y,w,T,E,O){const B={};this.loadVTLayers();const V=gd(w.filterSpec,w.globalState);for(const U of l)this.loadMatchingFeature(B,g,y,U,V,T,E,O,c);return B}hasLayer(l){for(const c of this.bucketLayerIDs)for(const g of c)if(l===g)return!0;return!1}getId(l,c){var g;let y=l.id;return this.promoteId&&(y=l.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[c]],typeof y=="boolean"&&(y=Number(y)),y===void 0&&(!((g=l.properties)===null||g===void 0)&&g.cluster)&&this.promoteId&&(y=Number(l.properties.cluster_id))),y}}function B$(d,l,c,g,y){return He(d,((w,T)=>{const E=l instanceof Ou?l.get(T):null;return E&&E.evaluate?E.evaluate(c,g,y):E}))}function hJ(d,l){return l-d}function F$(d,l,c,g,y){const w=[];for(let T=0;T<d.length;T++){const E=d[T];let O;for(let B=0;B<E.length-1;B++){let V=E[B],U=E[B+1];V.x<l&&U.x<l||(V.x<l?V=new h(l,V.y+(l-V.x)/(U.x-V.x)*(U.y-V.y))._round():U.x<l&&(U=new h(l,V.y+(l-V.x)/(U.x-V.x)*(U.y-V.y))._round()),V.y<c&&U.y<c||(V.y<c?V=new h(V.x+(c-V.y)/(U.y-V.y)*(U.x-V.x),c)._round():U.y<c&&(U=new h(V.x+(c-V.y)/(U.y-V.y)*(U.x-V.x),c)._round()),V.x>=g&&U.x>=g||(V.x>=g?V=new h(g,V.y+(g-V.x)/(U.x-V.x)*(U.y-V.y))._round():U.x>=g&&(U=new h(g,V.y+(g-V.x)/(U.x-V.x)*(U.y-V.y))._round()),V.y>=y&&U.y>=y||(V.y>=y?V=new h(V.x+(y-V.y)/(U.y-V.y)*(U.x-V.x),y)._round():U.y>=y&&(U=new h(V.x+(y-V.y)/(U.y-V.y)*(U.x-V.x),y)._round()),O&&V.equals(O[O.length-1])||(O=[V],w.push(O)),O.push(U)))))}}return w}function N$(d,l,c,g,y){switch(l){case 1:return(function(w,T,E,O){const B=[];for(const V of w)for(const U of V){const Z=O===0?U.x:U.y;Z>=T&&Z<=E&&B.push([U])}return B})(d,c,g,y);case 2:return V$(d,c,g,y,!1);case 3:return V$(d,c,g,y,!0)}return[]}function dJ(d,l,c,g,y){const w=g===0?fJ:pJ;let T=[];const E=[];for(let V=0;V<d.length-1;V++){const U=d[V],Z=d[V+1],Y=g===0?U.x:U.y,J=g===0?Z.x:Z.y;let re=!1;Y<l?J>l&&T.push(w(U,Z,l)):Y>c?J<c&&T.push(w(U,Z,c)):T.push(U),J<l&&Y>=l&&(T.push(w(U,Z,l)),re=!0),J>c&&Y<=c&&(T.push(w(U,Z,c)),re=!0),!y&&re&&(E.push(T),T=[])}const O=d.length-1,B=g===0?d[O].x:d[O].y;return B>=l&&B<=c&&T.push(d[O]),y&&T.length>0&&!T[0].equals(T[T.length-1])&&T.push(new h(T[0].x,T[0].y)),T.length>0&&E.push(T),E}function V$(d,l,c,g,y){const w=[];for(const T of d){const E=dJ(T,l,c,g,y);E.length>0&&w.push(...E)}return w}function fJ(d,l,c){return new h(c,d.y+(c-d.x)/(l.x-d.x)*(l.y-d.y))}function pJ(d,l,c){return new h(d.x+(c-d.y)/(l.y-d.y)*(l.x-d.x),c)}Yt("FeatureIndex",z$,{omit:["rawTileData","sourceLayerCoder"]});class oh extends h{constructor(l,c,g,y){super(l,c),this.angle=g,y!==void 0&&(this.segment=y)}clone(){return new oh(this.x,this.y,this.angle,this.segment)}}function j$(d,l,c,g,y){if(l.segment===void 0||c===0)return!0;let w=l,T=l.segment+1,E=0;for(;E>-c/2;){if(T--,T<0)return!1;E-=d[T].dist(w),w=d[T]}E+=d[T].dist(d[T+1]),T++;const O=[];let B=0;for(;E<c/2;){const V=d[T],U=d[T+1];if(!U)return!1;let Z=d[T-1].angleTo(V)-V.angleTo(U);for(Z=Math.abs((Z+3*Math.PI)%(2*Math.PI)-Math.PI),O.push({distance:E,angleDelta:Z}),B+=Z;E-O[0].distance>g;)B-=O.shift().angleDelta;if(B>y)return!1;T++,E+=V.dist(U)}return!0}function H$(d){let l=0;for(let c=0;c<d.length-1;c++)l+=d[c].dist(d[c+1]);return l}function G$(d,l,c){return d?.6*l*c:0}function U$(d,l){return Math.max(d?d.right-d.left:0,l?l.right-l.left:0)}function mJ(d,l,c,g,y,w){const T=G$(c,y,w),E=U$(c,g)*w;let O=0;const B=H$(d)/2;for(let V=0;V<d.length-1;V++){const U=d[V],Z=d[V+1],Y=U.dist(Z);if(O+Y>B){const J=(B-O)/Y,re=Ha.number(U.x,Z.x,J),se=Ha.number(U.y,Z.y,J),ge=new oh(re,se,Z.angleTo(U),V);return ge._round(),!T||j$(d,ge,E,T,l)?ge:void 0}O+=Y}}function gJ(d,l,c,g,y,w,T,E,O){const B=G$(g,w,T),V=U$(g,y),U=V*T,Z=d[0].x===0||d[0].x===O||d[0].y===0||d[0].y===O;return l-U<l/4&&(l=U+l/4),W$(d,Z?l/2*E%l:(V/2+2*w)*T*E%l,l,B,c,U,Z,!1,O)}function W$(d,l,c,g,y,w,T,E,O){const B=w/2,V=H$(d);let U=0,Z=l-c,Y=[];for(let J=0;J<d.length-1;J++){const re=d[J],se=d[J+1],ge=re.dist(se),Me=se.angleTo(re);for(;Z+c<U+ge;){Z+=c;const xe=(Z-U)/ge,Ce=Ha.number(re.x,se.x,xe),Ue=Ha.number(re.y,se.y,xe);if(Ce>=0&&Ce<O&&Ue>=0&&Ue<O&&Z-B>=0&&Z+B<=V){const We=new oh(Ce,Ue,Me,J);We._round(),g&&!j$(d,We,w,g,y)||Y.push(We)}}U+=ge}return E||Y.length||T||(Y=W$(d,U/2,c,g,y,w,T,!0,O)),Y}function q$(d,l,c,g){const y=[],w=d.image,T=w.pixelRatio,E=w.paddedRect.w-2,O=w.paddedRect.h-2;let B={x1:d.left,y1:d.top,x2:d.right,y2:d.bottom};const V=w.stretchX||[[0,E]],U=w.stretchY||[[0,O]],Z=(bt,sr)=>bt+sr[1]-sr[0],Y=V.reduce(Z,0),J=U.reduce(Z,0),re=E-Y,se=O-J;let ge=0,Me=Y,xe=0,Ce=J,Ue=0,We=re,ot=0,Ct=se;if(w.content&&g){const bt=w.content,sr=bt[2]-bt[0],lr=bt[3]-bt[1];(w.textFitWidth||w.textFitHeight)&&(B=Jk(d)),ge=ix(V,0,bt[0]),xe=ix(U,0,bt[1]),Me=ix(V,bt[0],bt[2]),Ce=ix(U,bt[1],bt[3]),Ue=bt[0]-ge,ot=bt[1]-xe,We=sr-Me,Ct=lr-Ce}const _t=B.x1,Mt=B.y1,jt=B.x2-_t,Rt=B.y2-Mt,Ot=(bt,sr,lr,dr)=>{const Jt=ox(bt.stretch-ge,Me,jt,_t),Br=ax(bt.fixed-Ue,We,bt.stretch,Y),jn=ox(sr.stretch-xe,Ce,Rt,Mt),Pi=ax(sr.fixed-ot,Ct,sr.stretch,J),_o=ox(lr.stretch-ge,Me,jt,_t),xs=ax(lr.fixed-Ue,We,lr.stretch,Y),Ho=ox(dr.stretch-xe,Ce,Rt,Mt),to=ax(dr.fixed-ot,Ct,dr.stretch,J),bo=new h(Jt,jn),pi=new h(_o,jn),ro=new h(_o,Ho),Mo=new h(Jt,Ho),Io=new h(Br/T,Pi/T),oa=new h(xs/T,to/T),xo=l*Math.PI/180;if(xo){const qi=Math.sin(xo),Qn=Math.cos(xo),Mi=[Qn,-qi,qi,Qn];bo._matMult(Mi),pi._matMult(Mi),Mo._matMult(Mi),ro._matMult(Mi)}const aa=bt.stretch+bt.fixed,ws=sr.stretch+sr.fixed;return{tl:bo,tr:pi,bl:Mo,br:ro,tex:{x:w.paddedRect.x+1+aa,y:w.paddedRect.y+1+ws,w:lr.stretch+lr.fixed-aa,h:dr.stretch+dr.fixed-ws},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Io,pixelOffsetBR:oa,minFontScaleX:We/T/jt,minFontScaleY:Ct/T/Rt,isSDF:c}};if(g&&(w.stretchX||w.stretchY)){const bt=Z$(V,re,Y),sr=Z$(U,se,J);for(let lr=0;lr<bt.length-1;lr++){const dr=bt[lr],Jt=bt[lr+1];for(let Br=0;Br<sr.length-1;Br++)y.push(Ot(dr,sr[Br],Jt,sr[Br+1]))}}else y.push(Ot({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:E+1},{fixed:0,stretch:O+1}));return y}function ix(d,l,c){let g=0;for(const y of d)g+=Math.max(l,Math.min(c,y[1]))-Math.max(l,Math.min(c,y[0]));return g}function Z$(d,l,c){const g=[{fixed:-1,stretch:0}];for(const[y,w]of d){const T=g[g.length-1];g.push({fixed:y-T.stretch,stretch:T.stretch}),g.push({fixed:y-T.stretch,stretch:T.stretch+(w-y)})}return g.push({fixed:l+1,stretch:c}),g}function ox(d,l,c,g){return d/l*c+g}function ax(d,l,c,g){return d-l*c/g}Yt("Anchor",oh);class sx{constructor(l,c,g,y,w,T,E,O,B,V){var U;if(this.boxStartIndex=l.length,B){let Z=T.top,Y=T.bottom;const J=T.collisionPadding;J&&(Z-=J[1],Y+=J[3]);let re=Y-Z;re>0&&(re=Math.max(10,re),this.circleDiameter=re)}else{const Z=!((U=T.image)===null||U===void 0)&&U.content&&(T.image.textFitWidth||T.image.textFitHeight)?Jk(T):{x1:T.left,y1:T.top,x2:T.right,y2:T.bottom};Z.y1=Z.y1*E-O[0],Z.y2=Z.y2*E+O[2],Z.x1=Z.x1*E-O[3],Z.x2=Z.x2*E+O[1];const Y=T.collisionPadding;if(Y&&(Z.x1-=Y[0]*E,Z.y1-=Y[1]*E,Z.x2+=Y[2]*E,Z.y2+=Y[3]*E),V){const J=new h(Z.x1,Z.y1),re=new h(Z.x2,Z.y1),se=new h(Z.x1,Z.y2),ge=new h(Z.x2,Z.y2),Me=V*Math.PI/180;J._rotate(Me),re._rotate(Me),se._rotate(Me),ge._rotate(Me),Z.x1=Math.min(J.x,re.x,se.x,ge.x),Z.x2=Math.max(J.x,re.x,se.x,ge.x),Z.y1=Math.min(J.y,re.y,se.y,ge.y),Z.y2=Math.max(J.y,re.y,se.y,ge.y)}l.emplaceBack(c.x,c.y,Z.x1,Z.y1,Z.x2,Z.y2,g,y,w)}this.boxEndIndex=l.length}}class vJ{constructor(l=[],c=(g,y)=>g<y?-1:g>y?1:0){if(this.data=l,this.length=this.data.length,this.compare=c,this.length>0)for(let g=(this.length>>1)-1;g>=0;g--)this._down(g)}push(l){this.data.push(l),this._up(this.length++)}pop(){if(this.length===0)return;const l=this.data[0],c=this.data.pop();return--this.length>0&&(this.data[0]=c,this._down(0)),l}peek(){return this.data[0]}_up(l){const{data:c,compare:g}=this,y=c[l];for(;l>0;){const w=l-1>>1,T=c[w];if(g(y,T)>=0)break;c[l]=T,l=w}c[l]=y}_down(l){const{data:c,compare:g}=this,y=this.length>>1,w=c[l];for(;l<y;){let T=1+(l<<1);const E=T+1;if(E<this.length&&g(c[E],c[T])<0&&(T=E),g(c[T],w)>=0)break;c[l]=c[T],l=T}c[l]=w}}function yJ(d,l=1,c=!1){const g=Nd.fromPoints(d[0]),y=Math.min(g.width(),g.height());let w=y/2;const T=new vJ([],_J),{minX:E,minY:O,maxX:B,maxY:V}=g;if(y===0)return new h(E,O);for(let Y=E;Y<B;Y+=y)for(let J=O;J<V;J+=y)T.push(new mm(Y+w,J+w,w,d));let U=(function(Y){let J=0,re=0,se=0;const ge=Y[0];for(let Me=0,xe=ge.length,Ce=xe-1;Me<xe;Ce=Me++){const Ue=ge[Me],We=ge[Ce],ot=Ue.x*We.y-We.x*Ue.y;re+=(Ue.x+We.x)*ot,se+=(Ue.y+We.y)*ot,J+=3*ot}return new mm(re/J,se/J,0,Y)})(d),Z=T.length;for(;T.length;){const Y=T.pop();(Y.d>U.d||!U.d)&&(U=Y,c&&console.log("found best %d after %d probes",Math.round(1e4*Y.d)/1e4,Z)),Y.max-U.d<=l||(w=Y.h/2,T.push(new mm(Y.p.x-w,Y.p.y-w,w,d)),T.push(new mm(Y.p.x+w,Y.p.y-w,w,d)),T.push(new mm(Y.p.x-w,Y.p.y+w,w,d)),T.push(new mm(Y.p.x+w,Y.p.y+w,w,d)),Z+=4)}return c&&(console.log(`num probes: ${Z}`),console.log(`best distance: ${U.d}`)),U.p}function _J(d,l){return l.max-d.max}function mm(d,l,c,g){this.p=new h(d,l),this.h=c,this.d=(function(y,w){let T=!1,E=1/0;for(let O=0;O<w.length;O++){const B=w[O];for(let V=0,U=B.length,Z=U-1;V<U;Z=V++){const Y=B[V],J=B[Z];Y.y>y.y!=J.y>y.y&&y.x<(J.x-Y.x)*(y.y-Y.y)/(J.y-Y.y)+Y.x&&(T=!T),E=Math.min(E,uk(y,Y,J))}}return(T?1:-1)*Math.sqrt(E)})(this.p,g),this.max=this.d+this.h*Math.SQRT2}var yo;s.aO=void 0,(yo=s.aO||(s.aO={}))[yo.center=1]="center",yo[yo.left=2]="left",yo[yo.right=3]="right",yo[yo.top=4]="top",yo[yo.bottom=5]="bottom",yo[yo["top-left"]=6]="top-left",yo[yo["top-right"]=7]="top-right",yo[yo["bottom-left"]=8]="bottom-left",yo[yo["bottom-right"]=9]="bottom-right";const hP=Number.POSITIVE_INFINITY;function X$(d,l){return l[1]!==hP?(function(c,g,y){let w=0,T=0;switch(g=Math.abs(g),y=Math.abs(y),c){case"top-right":case"top-left":case"top":T=y-7;break;case"bottom-right":case"bottom-left":case"bottom":T=7-y}switch(c){case"top-right":case"bottom-right":case"right":w=-g;break;case"top-left":case"bottom-left":case"left":w=g}return[w,T]})(d,l[0],l[1]):(function(c,g){let y=0,w=0;g<0&&(g=0);const T=g/Math.SQRT2;switch(c){case"top-right":case"top-left":w=T-7;break;case"bottom-right":case"bottom-left":w=7-T;break;case"bottom":w=7-g;break;case"top":w=g-7}switch(c){case"top-right":case"bottom-right":y=-T;break;case"top-left":case"bottom-left":y=T;break;case"left":y=g;break;case"right":y=-g}return[y,w]})(d,l[0])}function K$(d,l,c){var g;const y=d.layout,w=(g=y.get("text-variable-anchor-offset"))===null||g===void 0?void 0:g.evaluate(l,{},c);if(w){const E=w.values,O=[];for(let B=0;B<E.length;B+=2){const V=O[B]=E[B],U=E[B+1].map((Z=>Z*Gi));V.startsWith("top")?U[1]-=7:V.startsWith("bottom")&&(U[1]+=7),O[B+1]=U}return new To(O)}const T=y.get("text-variable-anchor");if(T){let E;E=d._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[y.get("text-radial-offset").evaluate(l,{},c)*Gi,hP]:y.get("text-offset").evaluate(l,{},c).map((B=>B*Gi));const O=[];for(const B of T)O.push(B,X$(B,E));return new To(O)}return null}function dP(d){switch(d){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function bJ(d,l,c,g,y,w,T,E,O,B,V,U){let Z=w.textMaxSize.evaluate(l,{});Z===void 0&&(Z=T);const Y=d.layers[0].layout,J=Y.get("icon-offset").evaluate(l,{},V),re=J$(c.horizontal),se=T/24,ge=d.tilePixelRatio*se,Me=d.tilePixelRatio*Z/24,xe=d.tilePixelRatio*E,Ce=d.tilePixelRatio*Y.get("symbol-spacing"),Ue=Y.get("text-padding")*d.tilePixelRatio,We=(function(lr,dr,Jt,Br=1){const jn=lr.get("icon-padding").evaluate(dr,{},Jt),Pi=jn&&jn.values;return[Pi[0]*Br,Pi[1]*Br,Pi[2]*Br,Pi[3]*Br]})(Y,l,V,d.tilePixelRatio),ot=Y.get("text-max-angle")/180*Math.PI,Ct=Y.get("text-rotation-alignment")!=="viewport"&&Y.get("symbol-placement")!=="point",_t=Y.get("icon-rotation-alignment")==="map"&&Y.get("symbol-placement")!=="point",Mt=Y.get("symbol-placement"),jt=Ce/2,Rt=Y.get("icon-text-fit");let Ot;g&&Rt!=="none"&&(d.allowVerticalPlacement&&c.vertical&&(Ot=Qk(g,c.vertical,Rt,Y.get("icon-text-fit-padding"),J,se)),re&&(g=Qk(g,re,Rt,Y.get("icon-text-fit-padding"),J,se)));const bt=V?U.line.getGranularityForZoomLevel(V.z):1,sr=(lr,dr)=>{dr.x<0||dr.x>=De||dr.y<0||dr.y>=De||(function(Jt,Br,jn,Pi,_o,xs,Ho,to,bo,pi,ro,Mo,Io,oa,xo,aa,ws,qi,Qn,Mi,si,Zi,Hu,il,zy){const ah=Jt.addToLineVertexArray(Br,jn);let Vd,gm,vm,ym,r3=0,n3=0,i3=0,o3=0,bP=-1,xP=-1;const Gu={};let a3=Js("");if(Jt.allowVerticalPlacement&&Pi.vertical){const Eo=to.layout.get("text-rotate").evaluate(si,{},il)+90;vm=new sx(bo,Br,pi,ro,Mo,Pi.vertical,Io,oa,xo,Eo),Ho&&(ym=new sx(bo,Br,pi,ro,Mo,Ho,ws,qi,xo,Eo))}if(_o){const Eo=to.layout.get("icon-rotate").evaluate(si,{}),Xa=to.layout.get("icon-text-fit")!=="none",jd=q$(_o,Eo,Hu,Xa),al=Ho?q$(Ho,Eo,Hu,Xa):void 0;gm=new sx(bo,Br,pi,ro,Mo,_o,ws,qi,!1,Eo),r3=4*jd.length;const Hd=Jt.iconSizeData;let Ul=null;Hd.kind==="source"?(Ul=[Vu*to.layout.get("icon-size").evaluate(si,{})],Ul[0]>rh&&_e(`${Jt.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):Hd.kind==="composite"&&(Ul=[Vu*Zi.compositeIconSizes[0].evaluate(si,{},il),Vu*Zi.compositeIconSizes[1].evaluate(si,{},il)],(Ul[0]>rh||Ul[1]>rh)&&_e(`${Jt.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),Jt.addSymbols(Jt.icon,jd,Ul,Mi,Qn,si,s.ay.none,Br,ah.lineStartIndex,ah.lineLength,-1,il),bP=Jt.icon.placedSymbolArray.length-1,al&&(n3=4*al.length,Jt.addSymbols(Jt.icon,al,Ul,Mi,Qn,si,s.ay.vertical,Br,ah.lineStartIndex,ah.lineLength,-1,il),xP=Jt.icon.placedSymbolArray.length-1)}const s3=Object.keys(Pi.horizontal);for(const Eo of s3){const Xa=Pi.horizontal[Eo];if(!Vd){a3=Js(Xa.text);const al=to.layout.get("text-rotate").evaluate(si,{},il);Vd=new sx(bo,Br,pi,ro,Mo,Xa,Io,oa,xo,al)}const jd=Xa.positionedLines.length===1;if(i3+=Y$(Jt,Br,Xa,xs,to,xo,si,aa,ah,Pi.vertical?s.ay.horizontal:s.ay.horizontalOnly,jd?s3:[Eo],Gu,bP,Zi,il),jd)break}Pi.vertical&&(o3+=Y$(Jt,Br,Pi.vertical,xs,to,xo,si,aa,ah,s.ay.vertical,["vertical"],Gu,xP,Zi,il));const SJ=Vd?Vd.boxStartIndex:Jt.collisionBoxArray.length,TJ=Vd?Vd.boxEndIndex:Jt.collisionBoxArray.length,CJ=vm?vm.boxStartIndex:Jt.collisionBoxArray.length,PJ=vm?vm.boxEndIndex:Jt.collisionBoxArray.length,MJ=gm?gm.boxStartIndex:Jt.collisionBoxArray.length,IJ=gm?gm.boxEndIndex:Jt.collisionBoxArray.length,EJ=ym?ym.boxStartIndex:Jt.collisionBoxArray.length,AJ=ym?ym.boxEndIndex:Jt.collisionBoxArray.length;let ol=-1;const ux=(Eo,Xa)=>Eo&&Eo.circleDiameter?Math.max(Eo.circleDiameter,Xa):Xa;ol=ux(Vd,ol),ol=ux(vm,ol),ol=ux(gm,ol),ol=ux(ym,ol);const l3=ol>-1?1:0;l3&&(ol*=zy/Gi),Jt.glyphOffsetArray.length>=lm.MAX_GLYPHS&&_e("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),si.sortKey!==void 0&&Jt.addToSortKeyRanges(Jt.symbolInstances.length,si.sortKey);const DJ=K$(to,si,il),[LJ,RJ]=(function(Eo,Xa){const jd=Eo.length,al=Xa?.values;if(al?.length>0)for(let Hd=0;Hd<al.length;Hd+=2){const Ul=al[Hd+1];Eo.emplaceBack(s.aO[al[Hd]],Ul[0],Ul[1])}return[jd,Eo.length]})(Jt.textAnchorOffsets,DJ);Jt.symbolInstances.emplaceBack(Br.x,Br.y,Gu.right>=0?Gu.right:-1,Gu.center>=0?Gu.center:-1,Gu.left>=0?Gu.left:-1,Gu.vertical||-1,bP,xP,a3,SJ,TJ,CJ,PJ,MJ,IJ,EJ,AJ,pi,i3,o3,r3,n3,l3,0,Io,ol,LJ,RJ)})(d,dr,lr,c,g,y,Ot,d.layers[0],d.collisionBoxArray,l.index,l.sourceLayerIndex,d.index,ge,[Ue,Ue,Ue,Ue],Ct,O,xe,We,_t,J,l,w,B,V,T)};if(Mt==="line")for(const lr of F$(l.geometry,0,0,De,De)){const dr=$d(lr,bt),Jt=gJ(dr,Ce,ot,c.vertical||re,g,24,Me,d.overscaling,De);for(const Br of Jt)re&&xJ(d,re.text,jt,Br)||sr(dr,Br)}else if(Mt==="line-center"){for(const lr of l.geometry)if(lr.length>1){const dr=$d(lr,bt),Jt=mJ(dr,ot,c.vertical||re,g,24,Me);Jt&&sr(dr,Jt)}}else if(l.type==="Polygon")for(const lr of hd(l.geometry,0)){const dr=yJ(lr,16);sr($d(lr[0],bt,!0),new oh(dr.x,dr.y,0))}else if(l.type==="LineString")for(const lr of l.geometry){const dr=$d(lr,bt);sr(dr,new oh(dr[0].x,dr[0].y,0))}else if(l.type==="Point")for(const lr of l.geometry)for(const dr of lr)sr([dr],new oh(dr.x,dr.y,0))}function Y$(d,l,c,g,y,w,T,E,O,B,V,U,Z,Y,J){const re=(function(Me,xe,Ce,Ue,We,ot,Ct,_t){const Mt=Ue.layout.get("text-rotate").evaluate(ot,{})*Math.PI/180,jt=[];for(const Rt of xe.positionedLines)for(const Ot of Rt.positionedGlyphs){if(!Ot.rect)continue;const bt=Ot.rect||{};let sr=4,lr=!0,dr=1,Jt=0;const Br=(We||_t)&&Ot.vertical,jn=Ot.metrics.advance*Ot.scale/2;if(_t&&xe.verticalizable&&(Jt=Rt.lineOffset/2-(Ot.imageName?-(Gi-Ot.metrics.width*Ot.scale)/2:(Ot.scale-1)*Gi)),Ot.imageName){const qi=Ct[Ot.imageName];lr=qi.sdf,dr=qi.pixelRatio,sr=1/dr}const Pi=We?[Ot.x+jn,Ot.y]:[0,0];let _o=We?[0,0]:[Ot.x+jn+Ce[0],Ot.y+Ce[1]-Jt],xs=[0,0];Br&&(xs=_o,_o=[0,0]);const Ho=Ot.metrics.isDoubleResolution?2:1,to=(Ot.metrics.left-sr)*Ot.scale-jn+_o[0],bo=(-Ot.metrics.top-sr)*Ot.scale+_o[1],pi=to+bt.w/Ho*Ot.scale/dr,ro=bo+bt.h/Ho*Ot.scale/dr,Mo=new h(to,bo),Io=new h(pi,bo),oa=new h(to,ro),xo=new h(pi,ro);if(Br){const qi=new h(-jn,jn- -17),Qn=-Math.PI/2,Mi=12-jn,si=new h(22-Mi,-(Ot.imageName?Mi:0)),Zi=new h(...xs);Mo._rotateAround(Qn,qi)._add(si)._add(Zi),Io._rotateAround(Qn,qi)._add(si)._add(Zi),oa._rotateAround(Qn,qi)._add(si)._add(Zi),xo._rotateAround(Qn,qi)._add(si)._add(Zi)}if(Mt){const qi=Math.sin(Mt),Qn=Math.cos(Mt),Mi=[Qn,-qi,qi,Qn];Mo._matMult(Mi),Io._matMult(Mi),oa._matMult(Mi),xo._matMult(Mi)}const aa=new h(0,0),ws=new h(0,0);jt.push({tl:Mo,tr:Io,bl:oa,br:xo,tex:bt,writingMode:xe.writingMode,glyphOffset:Pi,sectionIndex:Ot.sectionIndex,isSDF:lr,pixelOffsetTL:aa,pixelOffsetBR:ws,minFontScaleX:0,minFontScaleY:0})}return jt})(0,c,E,y,w,T,g,d.allowVerticalPlacement),se=d.textSizeData;let ge=null;se.kind==="source"?(ge=[Vu*y.layout.get("text-size").evaluate(T,{})],ge[0]>rh&&_e(`${d.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):se.kind==="composite"&&(ge=[Vu*Y.compositeTextSizes[0].evaluate(T,{},J),Vu*Y.compositeTextSizes[1].evaluate(T,{},J)],(ge[0]>rh||ge[1]>rh)&&_e(`${d.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),d.addSymbols(d.text,re,ge,E,w,T,B,l,O.lineStartIndex,O.lineLength,Z,J);for(const Me of V)U[Me]=d.text.placedSymbolArray.length-1;return 4*re.length}function J$(d){for(const l in d)return d[l];return null}function xJ(d,l,c,g){const y=d.compareText;if(l in y){const w=y[l];for(let T=w.length-1;T>=0;T--)if(g.dist(w[T])<c)return!0}else y[l]=[];return y[l].push(g),!1}const Q$=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class fP{static from(l){if(!(l instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[c,g]=new Uint8Array(l,0,2);if(c!==219)throw new Error("Data does not appear to be in a KDBush format.");const y=g>>4;if(y!==1)throw new Error(`Got v${y} data when expected v1.`);const w=Q$[15&g];if(!w)throw new Error("Unrecognized array type.");const[T]=new Uint16Array(l,2,1),[E]=new Uint32Array(l,4,1);return new fP(E,T,w,l)}constructor(l,c=64,g=Float64Array,y){if(isNaN(l)||l<0)throw new Error(`Unpexpected numItems value: ${l}.`);this.numItems=+l,this.nodeSize=Math.min(Math.max(+c,2),65535),this.ArrayType=g,this.IndexArrayType=l<65536?Uint16Array:Uint32Array;const w=Q$.indexOf(this.ArrayType),T=2*l*this.ArrayType.BYTES_PER_ELEMENT,E=l*this.IndexArrayType.BYTES_PER_ELEMENT,O=(8-E%8)%8;if(w<0)throw new Error(`Unexpected typed array class: ${g}.`);y&&y instanceof ArrayBuffer?(this.data=y,this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+E+O,2*l),this._pos=2*l,this._finished=!0):(this.data=new ArrayBuffer(8+T+E+O),this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+E+O,2*l),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+w]),new Uint16Array(this.data,2,1)[0]=c,new Uint32Array(this.data,4,1)[0]=l)}add(l,c){const g=this._pos>>1;return this.ids[g]=g,this.coords[this._pos++]=l,this.coords[this._pos++]=c,g}finish(){const l=this._pos>>1;if(l!==this.numItems)throw new Error(`Added ${l} items when expected ${this.numItems}.`);return pP(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(l,c,g,y){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:w,coords:T,nodeSize:E}=this,O=[0,w.length-1,0],B=[];for(;O.length;){const V=O.pop()||0,U=O.pop()||0,Z=O.pop()||0;if(U-Z<=E){for(let se=Z;se<=U;se++){const ge=T[2*se],Me=T[2*se+1];ge>=l&&ge<=g&&Me>=c&&Me<=y&&B.push(w[se])}continue}const Y=Z+U>>1,J=T[2*Y],re=T[2*Y+1];J>=l&&J<=g&&re>=c&&re<=y&&B.push(w[Y]),(V===0?l<=J:c<=re)&&(O.push(Z),O.push(Y-1),O.push(1-V)),(V===0?g>=J:y>=re)&&(O.push(Y+1),O.push(U),O.push(1-V))}return B}within(l,c,g){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:y,coords:w,nodeSize:T}=this,E=[0,y.length-1,0],O=[],B=g*g;for(;E.length;){const V=E.pop()||0,U=E.pop()||0,Z=E.pop()||0;if(U-Z<=T){for(let se=Z;se<=U;se++)t3(w[2*se],w[2*se+1],l,c)<=B&&O.push(y[se]);continue}const Y=Z+U>>1,J=w[2*Y],re=w[2*Y+1];t3(J,re,l,c)<=B&&O.push(y[Y]),(V===0?l-g<=J:c-g<=re)&&(E.push(Z),E.push(Y-1),E.push(1-V)),(V===0?l+g>=J:c+g>=re)&&(E.push(Y+1),E.push(U),E.push(1-V))}return O}}function pP(d,l,c,g,y,w){if(y-g<=c)return;const T=g+y>>1;e3(d,l,T,g,y,w),pP(d,l,c,g,T-1,1-w),pP(d,l,c,T+1,y,1-w)}function e3(d,l,c,g,y,w){for(;y>g;){if(y-g>600){const B=y-g+1,V=c-g+1,U=Math.log(B),Z=.5*Math.exp(2*U/3),Y=.5*Math.sqrt(U*Z*(B-Z)/B)*(V-B/2<0?-1:1);e3(d,l,c,Math.max(g,Math.floor(c-V*Z/B+Y)),Math.min(y,Math.floor(c+(B-V)*Z/B+Y)),w)}const T=l[2*c+w];let E=g,O=y;for(ky(d,l,g,c),l[2*y+w]>T&&ky(d,l,g,y);E<O;){for(ky(d,l,E,O),E++,O--;l[2*E+w]<T;)E++;for(;l[2*O+w]>T;)O--}l[2*g+w]===T?ky(d,l,g,O):(O++,ky(d,l,O,y)),O<=c&&(g=O+1),c<=O&&(y=O-1)}}function ky(d,l,c,g){mP(d,c,g),mP(l,2*c,2*g),mP(l,2*c+1,2*g+1)}function mP(d,l,c){const g=d[l];d[l]=d[c],d[c]=g}function t3(d,l,c,g){const y=d-c,w=l-g;return y*y+w*w}var gP;s.cG=void 0,(gP=s.cG||(s.cG={})).create="create",gP.load="load",gP.fullLoad="fullLoad";let lx=null,$y=[];const vP=1e3/60,yP="loadTime",_P="fullLoadTime",wJ={mark(d){performance.mark(d)},frame(d){const l=d;lx!=null&&$y.push(l-lx),lx=l},clearMetrics(){lx=null,$y=[],performance.clearMeasures(yP),performance.clearMeasures(_P);for(const d in s.cG)performance.clearMarks(s.cG[d])},getPerformanceMetrics(){performance.measure(yP,s.cG.create,s.cG.load),performance.measure(_P,s.cG.create,s.cG.fullLoad);const d=performance.getEntriesByName(yP)[0].duration,l=performance.getEntriesByName(_P)[0].duration,c=$y.length,g=1/($y.reduce(((w,T)=>w+T),0)/c/1e3),y=$y.filter((w=>w>vP)).reduce(((w,T)=>w+(T-vP)/vP),0);return{loadTime:d,fullLoadTime:l,fps:g,percentDroppedFrames:y/(c+y)*100,totalFrames:c}}};s.$=R,s.A=$,s.B=Wp,s.C=Ru,s.D=tr,s.E=Ye,s.F=function([d,l,c]){return l+=90,l*=Math.PI/180,c*=Math.PI/180,{x:d*Math.cos(l)*Math.sin(c),y:d*Math.sin(l)*Math.sin(c),z:d*Math.cos(c)}},s.G=Ha,s.H=fn,s.I=HC,s.J=yC,s.K=function(d){if(et==null){const l=d.navigator?d.navigator.userAgent:null;et=!!d.safari||!(!l||!(/\b(iPad|iPhone|iPod)\b/.test(l)||l.match("Safari")&&!l.match("Chrome")))}return et},s.L=class{constructor(d,l){this.target=d,this.mapId=l,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new GY((()=>this.process())),this.subscription=Ht(this.target,"message",(c=>this.receive(c)),!1),this.globalScope=ht(self)?d:window}registerMessageHandler(d,l){this.messageHandlers[d]=l}unregisterMessageHandler(d){delete this.messageHandlers[d]}sendAsync(d,l){return new Promise(((c,g)=>{const y=Math.round(1e18*Math.random()).toString(36).substring(0,10),w=l?Ht(l.signal,"abort",(()=>{w?.unsubscribe(),delete this.resolveRejects[y];const O={id:y,type:"<cancel>",origin:location.origin,targetMapId:d.targetMapId,sourceMapId:this.mapId};this.target.postMessage(O)}),UY):null;this.resolveRejects[y]={resolve:O=>{w?.unsubscribe(),c(O)},reject:O=>{w?.unsubscribe(),g(O)}};const T=[],E=Object.assign(Object.assign({},d),{id:y,sourceMapId:this.mapId,origin:location.origin,data:Td(d.data,T)});this.target.postMessage(E,{transfer:T})}))}receive(d){const l=d.data,c=l.id;if(!(l.origin!=="file://"&&location.origin!=="file://"&&l.origin!=="resource://android"&&location.origin!=="resource://android"&&l.origin!==location.origin||l.targetMapId&&this.mapId!==l.targetMapId)){if(l.type==="<cancel>"){delete this.tasks[c];const g=this.abortControllers[c];return delete this.abortControllers[c],void(g&&g.abort())}if(ht(self)||l.mustQueue)return this.tasks[c]=l,this.taskQueue.push(c),void this.invoker.trigger();this.processTask(c,l)}}process(){if(this.taskQueue.length===0)return;const d=this.taskQueue.shift(),l=this.tasks[d];delete this.tasks[d],this.taskQueue.length>0&&this.invoker.trigger(),l&&this.processTask(d,l)}processTask(d,l){return a(this,void 0,void 0,(function*(){if(l.type==="<response>"){const y=this.resolveRejects[d];return delete this.resolveRejects[d],y?void(l.error?y.reject(Ks(l.error)):y.resolve(Ks(l.data))):void 0}if(!this.messageHandlers[l.type])return void this.completeTask(d,new Error(`Could not find a registered handler for ${l.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const c=Ks(l.data),g=new AbortController;this.abortControllers[d]=g;try{const y=yield this.messageHandlers[l.type](l.sourceMapId,c,g);this.completeTask(d,null,y)}catch(y){this.completeTask(d,y)}}))}completeTask(d,l,c){const g=[];delete this.abortControllers[d];const y={id:d,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:l?Td(l):null,data:Td(c,g)};this.target.postMessage(y,{transfer:g})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},s.M=Nn,s.N=function(){var d=new $(16);return $!=Float32Array&&(d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[11]=0,d[12]=0,d[13]=0,d[14]=0),d[0]=1,d[5]=1,d[10]=1,d[15]=1,d},s.O=function(d,l,c){var g,y,w,T,E,O,B,V,U,Z,Y,J,re=c[0],se=c[1],ge=c[2];return l===d?(d[12]=l[0]*re+l[4]*se+l[8]*ge+l[12],d[13]=l[1]*re+l[5]*se+l[9]*ge+l[13],d[14]=l[2]*re+l[6]*se+l[10]*ge+l[14],d[15]=l[3]*re+l[7]*se+l[11]*ge+l[15]):(y=l[1],w=l[2],T=l[3],E=l[4],O=l[5],B=l[6],V=l[7],U=l[8],Z=l[9],Y=l[10],J=l[11],d[0]=g=l[0],d[1]=y,d[2]=w,d[3]=T,d[4]=E,d[5]=O,d[6]=B,d[7]=V,d[8]=U,d[9]=Z,d[10]=Y,d[11]=J,d[12]=g*re+E*se+U*ge+l[12],d[13]=y*re+O*se+Z*ge+l[13],d[14]=w*re+B*se+Y*ge+l[14],d[15]=T*re+V*se+J*ge+l[15]),d},s.P=h,s.Q=function(d,l,c){var g=c[0],y=c[1],w=c[2];return d[0]=l[0]*g,d[1]=l[1]*g,d[2]=l[2]*g,d[3]=l[3]*g,d[4]=l[4]*y,d[5]=l[5]*y,d[6]=l[6]*y,d[7]=l[7]*y,d[8]=l[8]*w,d[9]=l[9]*w,d[10]=l[10]*w,d[11]=l[11]*w,d[12]=l[12],d[13]=l[13],d[14]=l[14],d[15]=l[15],d},s.R=ia,s.S=function(d,l,c){var g=l[0],y=l[1],w=l[2],T=l[3],E=l[4],O=l[5],B=l[6],V=l[7],U=l[8],Z=l[9],Y=l[10],J=l[11],re=l[12],se=l[13],ge=l[14],Me=l[15],xe=c[0],Ce=c[1],Ue=c[2],We=c[3];return d[0]=xe*g+Ce*E+Ue*U+We*re,d[1]=xe*y+Ce*O+Ue*Z+We*se,d[2]=xe*w+Ce*B+Ue*Y+We*ge,d[3]=xe*T+Ce*V+Ue*J+We*Me,d[4]=(xe=c[4])*g+(Ce=c[5])*E+(Ue=c[6])*U+(We=c[7])*re,d[5]=xe*y+Ce*O+Ue*Z+We*se,d[6]=xe*w+Ce*B+Ue*Y+We*ge,d[7]=xe*T+Ce*V+Ue*J+We*Me,d[8]=(xe=c[8])*g+(Ce=c[9])*E+(Ue=c[10])*U+(We=c[11])*re,d[9]=xe*y+Ce*O+Ue*Z+We*se,d[10]=xe*w+Ce*B+Ue*Y+We*ge,d[11]=xe*T+Ce*V+Ue*J+We*Me,d[12]=(xe=c[12])*g+(Ce=c[13])*E+(Ue=c[14])*U+(We=c[15])*re,d[13]=xe*y+Ce*O+Ue*Z+We*se,d[14]=xe*w+Ce*B+Ue*Y+We*ge,d[15]=xe*T+Ce*V+Ue*J+We*Me,d},s.T=RC,s.U=function(d,l){const c={};for(let g=0;g<l.length;g++){const y=l[g];y in d&&(c[y]=d[y])}return c},s.V=nh,s.W=Be,s.X=l$,s.Y=s$,s.Z=A,s._=a,s.a=Wr,s.a$=K,s.a0=dt,s.a1=qa,s.a2=c$,s.a3=Z1,s.a4=De,s.a5=function(d,l,c){if(!d)return l||{};if(!l)return d||{};const g=p$(d),y=p$(l);(function(T,E){E.removeAll&&(T.add.clear(),T.update.clear(),T.remove.clear(),E.remove.clear());for(const O of E.remove)T.add.delete(O),T.update.delete(O);for(const[O,B]of E.update){const V=T.update.get(O);V&&(E.update.set(O,WY(V,B)),T.update.delete(O))}})(g,y);const w={};if((g.removeAll||y.removeAll)&&(w.removeAll=!0),w.remove=new Set([...g.remove,...y.remove]),w.add=new Map([...g.add,...y.add]),w.update=new Map([...g.update,...y.update]),w.remove.size&&w.add.size)for(const T of w.add.keys())w.remove.delete(T);return(function(T){const E={};return T.removeAll&&(E.removeAll=T.removeAll),T.remove&&(E.remove=Array.from(T.remove)),T.add&&(E.add=Array.from(T.add.values())),T.update&&(E.update=Array.from(T.update.values())),E})(w)},s.a6=function(d,l){if(d==null)return!0;if(d.type==="Feature")return Iy(d,l)!=null;if(d.type==="FeatureCollection"){const c=new Set;for(const g of d.features){const y=Iy(g,l);if(y==null||c.has(y))return!1;c.add(y)}return!0}return!1},s.a7=function(d,l){const c=new Map;if(d!=null)if(d.type==="Feature")c.set(Iy(d,l),d);else for(const g of d.features)c.set(Iy(g,l),g);return c},s.a8=function(d,l,c){var g,y;if(l.removeAll)d.clear();else if(l.remove)for(const w of l.remove)d.delete(w);if(l.add)for(const w of l.add){const T=Iy(w,c);T!=null&&d.set(T,w)}if(l.update)for(const w of l.update){let T=d.get(w.id);if(!T)continue;const E=!!w.newGeometry,O=w.removeAllProperties||((g=w.removeProperties)===null||g===void 0?void 0:g.length)>0||((y=w.addOrUpdateProperties)===null||y===void 0?void 0:y.length)>0;if((E||O)&&(T=Object.assign({},T),d.set(w.id,T),E&&(T.geometry=w.newGeometry),O)){if(T.properties=w.removeAllProperties?{}:Object.assign({},T.properties||{}),w.removeProperties)for(const B of w.removeProperties)delete T.properties[B];if(w.addOrUpdateProperties)for(const{key:B,value:V}of w.addOrUpdateProperties)T.properties[B]=V}}},s.a9=cP,s.aA=function(d,l){var c=l[0],g=l[1],y=l[2],w=l[3],T=l[4],E=l[5],O=l[6],B=l[7],V=l[8],U=l[9],Z=l[10],Y=l[11],J=l[12],re=l[13],se=l[14],ge=l[15],Me=c*E-g*T,xe=c*O-y*T,Ce=c*B-w*T,Ue=g*O-y*E,We=g*B-w*E,ot=y*B-w*O,Ct=V*re-U*J,_t=V*se-Z*J,Mt=V*ge-Y*J,jt=U*se-Z*re,Rt=U*ge-Y*re,Ot=Z*ge-Y*se,bt=Me*Ot-xe*Rt+Ce*jt+Ue*Mt-We*_t+ot*Ct;return bt?(d[0]=(E*Ot-O*Rt+B*jt)*(bt=1/bt),d[1]=(y*Rt-g*Ot-w*jt)*bt,d[2]=(re*ot-se*We+ge*Ue)*bt,d[3]=(Z*We-U*ot-Y*Ue)*bt,d[4]=(O*Mt-T*Ot-B*_t)*bt,d[5]=(c*Ot-y*Mt+w*_t)*bt,d[6]=(se*Ce-J*ot-ge*xe)*bt,d[7]=(V*ot-Z*Ce+Y*xe)*bt,d[8]=(T*Rt-E*Mt+B*Ct)*bt,d[9]=(g*Mt-c*Rt-w*Ct)*bt,d[10]=(J*We-re*Ce+ge*Me)*bt,d[11]=(U*Ce-V*We-Y*Me)*bt,d[12]=(E*_t-T*jt-O*Ct)*bt,d[13]=(c*jt-g*_t+y*Ct)*bt,d[14]=(re*xe-J*Ue-se*Me)*bt,d[15]=(V*Ue-U*xe+Z*Me)*bt,d):null},s.aB=Oe,s.aC=function(d){var l=d[0],c=d[1];return Math.sqrt(l*l+c*c)},s.aD=function(d){return d[0]=0,d[1]=0,d},s.aE=function(d,l,c){return d[0]=l[0]*c,d[1]=l[1]*c,d},s.aF=WC,s.aG=be,s.aH=function(d,l,c,g){const y=l.y-d.y,w=l.x-d.x,T=g.y-c.y,E=g.x-c.x,O=T*w-E*y;if(O===0)return null;const B=(E*(d.y-c.y)-T*(d.x-c.x))/O;return new h(d.x+B*w,d.y+B*y)},s.aI=F$,s.aJ=sk,s.aK=function(d){let l=1/0,c=1/0,g=-1/0,y=-1/0;for(const w of d)l=Math.min(l,w.x),c=Math.min(c,w.y),g=Math.max(g,w.x),y=Math.max(y,w.y);return[l,c,g,y]},s.aL=Gi,s.aM=ct,s.aN=function(d,l,c,g,y=!1){if(!c[0]&&!c[1])return[0,0];const w=y?g==="map"?-d.bearingInRadians:0:g==="viewport"?d.bearingInRadians:0;if(w){const T=Math.sin(w),E=Math.cos(w);c=[c[0]*E-c[1]*T,c[0]*T+c[1]*E]}return[y?c[0]:ct(l,c[0],d.zoom),y?c[1]:ct(l,c[1],d.zoom)]},s.aP=UC,s.aQ=dP,s.aR=GC,s.aS=fP,s.aT=di,s.aU=H1,s.aV=Pe,s.aW=wr,s.aX=At,s.aY=Gt,s.aZ=h$,s.a_=Q,s.aa=My,s.ab=Nd,s.ac=25,s.ad=YC,s.ae=d=>{const l=window.document.createElement("video");return l.muted=!0,new Promise((c=>{l.onloadstart=()=>{c(l)};for(const g of d){const y=window.document.createElement("source");ne(g)||(l.crossOrigin="Anonymous"),y.src=g,l.appendChild(y)}}))},s.af=It,s.ag=function(){return je++},s.ah=D,s.ai=lm,s.aj=gd,s.ak=tl,s.al=g$,s.am=function(d){const l={};if(d.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,((c,g,y,w)=>{const T=y||w;return l[g]=!T||T.toLowerCase(),""})),l["max-age"]){const c=parseInt(l["max-age"],10);isNaN(c)?delete l["max-age"]:l["max-age"]=c}return l},s.an=Ft,s.ao=85.051129,s.ap=$t,s.aq=function(d){return Math.pow(2,d)},s.ar=H,s.as=u$,s.at=function(d){return Math.log(d)/Math.LN2},s.au=function(d){var l=d[0],c=d[1];return l*l+c*c},s.av=class{constructor(d,l){this.max=d,this.onRemove=l,this.reset()}reset(){for(const d in this.data)for(const l of this.data[d])l.timeout&&clearTimeout(l.timeout),this.onRemove(l.value);return this.data={},this.order=[],this}add(d,l,c){const g=d.wrapped().key;this.data[g]===void 0&&(this.data[g]=[]);const y={value:l,timeout:void 0};if(c!==void 0&&(y.timeout=setTimeout((()=>{this.remove(d,y)}),c)),this.data[g].push(y),this.order.push(g),this.order.length>this.max){const w=this._getAndRemoveByKey(this.order[0]);w&&this.onRemove(w)}return this}has(d){return d.wrapped().key in this.data}getAndRemove(d){return this.has(d)?this._getAndRemoveByKey(d.wrapped().key):null}_getAndRemoveByKey(d){const l=this.data[d].shift();return l.timeout&&clearTimeout(l.timeout),this.data[d].length===0&&delete this.data[d],this.order.splice(this.order.indexOf(d),1),l.value}getByKey(d){const l=this.data[d];return l?l[0].value:null}get(d){return this.has(d)?this.data[d.wrapped().key][0].value:null}remove(d,l){if(!this.has(d))return this;const c=d.wrapped().key,g=l===void 0?0:this.data[c].indexOf(l),y=this.data[c][g];return this.data[c].splice(g,1),y.timeout&&clearTimeout(y.timeout),this.data[c].length===0&&delete this.data[c],this.onRemove(y.value),this.order.splice(this.order.indexOf(c),1),this}setMaxSize(d){for(this.max=d;this.order.length>this.max;){const l=this._getAndRemoveByKey(this.order[0]);l&&this.onRemove(l)}return this}filter(d){const l=[];for(const c in this.data)for(const g of this.data[c])d(g.value)||l.push(g);for(const c of l)this.remove(c.value.tileID,c)}},s.aw=function(d){if(!d.length)return new Set;const l=Math.max(...d.map((O=>O.canonical.z)));let c=1/0,g=-1/0,y=1/0,w=-1/0;const T=[];for(const O of d){const{x:B,y:V,z:U}=O.canonical,Z=Math.pow(2,l-U),Y=B*Z,J=V*Z;T.push({id:O,x:Y,y:J}),Y<c&&(c=Y),Y>g&&(g=Y),J<y&&(y=J),J>w&&(w=J)}const E=new Set;for(const O of T)O.x!==c&&O.x!==g&&O.y!==y&&O.y!==w||E.add(O.id);return E},s.ax=function(d,l){let c=0,g=0;if(d.kind==="constant")g=d.layoutSize;else if(d.kind!=="source"){const{interpolationType:y,minZoom:w,maxZoom:T}=d,E=y?Ft(eo.interpolationFactor(y,l,w,T),0,1):0;d.kind==="camera"?g=Ha.number(d.minSize,d.maxSize,E):c=E}return{uSizeT:c,uSize:g}},s.az=function(d,{uSize:l,uSizeT:c},{lowerSize:g,upperSize:y}){return d.kind==="source"?g/Vu:d.kind==="composite"?Ha.number(g/Vu,y/Vu,c):l},s.b=Je,s.b$=class extends Ta{constructor(d,l){super(d,l),this.current=Bu}set(d){if(d[12]!==this.current[12]||d[0]!==this.current[0])return this.current=d,void this.gl.uniformMatrix4fv(this.location,!1,d);for(let l=1;l<16;l++)if(d[l]!==this.current[l]){this.current=d,this.gl.uniformMatrix4fv(this.location,!1,d);break}}},s.b0=function(d){var l=new $(3);return l[0]=d[0],l[1]=d[1],l[2]=d[2],l},s.b1=function(d,l,c){return d[0]=l[0]-c[0],d[1]=l[1]-c[1],d[2]=l[2]-c[2],d},s.b2=function(d,l){var c=l[0],g=l[1],y=l[2],w=c*c+g*g+y*y;return w>0&&(w=1/Math.sqrt(w)),d[0]=l[0]*w,d[1]=l[1]*w,d[2]=l[2]*w,d},s.b3=oe,s.b4=function(d,l){return d[0]*l[0]+d[1]*l[1]+d[2]*l[2]},s.b5=function(d,l,c){return d[0]=l[0]*c[0],d[1]=l[1]*c[1],d[2]=l[2]*c[2],d[3]=l[3]*c[3],d},s.b6=j,s.b7=function(d,l,c){const g=l[0]*c[0]+l[1]*c[1]+l[2]*c[2];return g===0?null:(-(d[0]*c[0]+d[1]*c[1]+d[2]*c[2])-c[3])/g},s.b8=ye,s.b9=function(d,l,c){return d[0]=l[0]*c,d[1]=l[1]*c,d[2]=l[2]*c,d[3]=l[3]*c,d},s.bA=de,s.bB=function(d,l,c){var g=c[0],y=c[1],w=c[2],T=c[3],E=l[0],O=l[1],B=l[2],V=y*B-w*O,U=w*E-g*B,Z=g*O-y*E;return d[0]=E+T*(V+=V)+y*(Z+=Z)-w*(U+=U),d[1]=O+T*U+w*V-g*Z,d[2]=B+T*Z+g*U-y*V,d},s.bC=function(d,l,c){const g=(y=[d[0],d[1],d[2],l[0],l[1],l[2],c[0],c[1],c[2]])[0]*((V=y[8])*(T=y[4])-(E=y[5])*(B=y[7]))+y[1]*(-V*(w=y[3])+E*(O=y[6]))+y[2]*(B*w-T*O);var y,w,T,E,O,B,V;if(g===0)return null;const U=oe([],[l[0],l[1],l[2]],[c[0],c[1],c[2]]),Z=oe([],[c[0],c[1],c[2]],[d[0],d[1],d[2]]),Y=oe([],[d[0],d[1],d[2]],[l[0],l[1],l[2]]),J=Q([],U,-d[3]);return K(J,J,Q([],Z,-l[3])),K(J,J,Q([],Y,-c[3])),Q(J,J,1/g),J},s.bD=KC,s.bE=function(){return new Float64Array(4)},s.bF=function(d,l,c,g){var y=[],w=[];return y[0]=l[0]-c[0],y[1]=l[1]-c[1],y[2]=l[2]-c[2],w[0]=y[0]*Math.cos(g)-y[1]*Math.sin(g),w[1]=y[0]*Math.sin(g)+y[1]*Math.cos(g),w[2]=y[2],d[0]=w[0]+c[0],d[1]=w[1]+c[1],d[2]=w[2]+c[2],d},s.bG=function(d,l,c,g){var y=[],w=[];return y[0]=l[0]-c[0],y[1]=l[1]-c[1],y[2]=l[2]-c[2],w[0]=y[0],w[1]=y[1]*Math.cos(g)-y[2]*Math.sin(g),w[2]=y[1]*Math.sin(g)+y[2]*Math.cos(g),d[0]=w[0]+c[0],d[1]=w[1]+c[1],d[2]=w[2]+c[2],d},s.bH=function(d,l,c,g){var y=[],w=[];return y[0]=l[0]-c[0],y[1]=l[1]-c[1],y[2]=l[2]-c[2],w[0]=y[2]*Math.sin(g)+y[0]*Math.cos(g),w[1]=y[1],w[2]=y[2]*Math.cos(g)-y[0]*Math.sin(g),d[0]=w[0]+c[0],d[1]=w[1]+c[1],d[2]=w[2]+c[2],d},s.bI=function(d,l,c){var g=Math.sin(c),y=Math.cos(c),w=l[0],T=l[1],E=l[2],O=l[3],B=l[8],V=l[9],U=l[10],Z=l[11];return l!==d&&(d[4]=l[4],d[5]=l[5],d[6]=l[6],d[7]=l[7],d[12]=l[12],d[13]=l[13],d[14]=l[14],d[15]=l[15]),d[0]=w*y-B*g,d[1]=T*y-V*g,d[2]=E*y-U*g,d[3]=O*y-Z*g,d[8]=w*g+B*y,d[9]=T*g+V*y,d[10]=E*g+U*y,d[11]=O*g+Z*y,d},s.bJ=function(d,l){const c=Ke(d,360),g=Ke(l,360),y=g-c,w=g>c?y-360:y+360;return Math.abs(y)<Math.abs(w)?y:w},s.bK=function(d){return d[0]=0,d[1]=0,d[2]=0,d},s.bL=function(d,l,c,g){const y=Math.sqrt(d*d+l*l),w=Math.sqrt(c*c+g*g);d/=y,l/=y,c/=w,g/=w;const T=Math.acos(d*c+l*g);return-l*c+d*g>0?T:-T},s.bM=function(d,l){const c=Ke(d,2*Math.PI),g=Ke(l,2*Math.PI);return Math.min(Math.abs(c-g),Math.abs(c-g+2*Math.PI),Math.abs(c-g-2*Math.PI))},s.bN=function(){const d={},l=Te.$version;for(const c in Te.$root){const g=Te.$root[c];if(g.required){let y=null;y=c==="version"?l:g.type==="array"?[]:{},y!=null&&(d[c]=y)}}return d},s.bO=Zn,s.bP=ty,s.bQ=function d(l,c){if(Array.isArray(l)){if(!Array.isArray(c)||l.length!==c.length)return!1;for(let g=0;g<l.length;g++)if(!d(l[g],c[g]))return!1;return!0}if(typeof l=="object"&&l!==null&&c!==null){if(typeof c!="object"||Object.keys(l).length!==Object.keys(c).length)return!1;for(const g in l)if(!d(l[g],c[g]))return!1;return!0}return l===c},s.bR=function(d){d=d.slice();const l=Object.create(null);for(let c=0;c<d.length;c++)l[d[c].id]=d[c];for(let c=0;c<d.length;c++)"ref"in d[c]&&(d[c]=ut(d[c],l[d[c].ref]));return d},s.bS=function(d,l){if(d.type==="custom")return new HY(d,l);switch(d.type){case"background":return new jY(d,l);case"circle":return new MK(d,l);case"color-relief":return new RK(d,l);case"fill":return new ZK(d,l);case"fill-extrusion":return new oY(d,l);case"heatmap":return new EK(d,l);case"hillshade":return new DK(d,l);case"line":return new dY(d,l);case"raster":return new SC(d,l);case"symbol":return new q1(d,l)}},s.bT=d=>d.type==="raster",s.bU=tt,s.bV=function(d,l){if(!d)return[{command:"setStyle",args:[l]}];let c=[];try{if(!ft(d.version,l.version))return[{command:"setStyle",args:[l]}];ft(d.center,l.center)||c.push({command:"setCenter",args:[l.center]}),ft(d.state,l.state)||c.push({command:"setGlobalState",args:[l.state]}),ft(d.centerAltitude,l.centerAltitude)||c.push({command:"setCenterAltitude",args:[l.centerAltitude]}),ft(d.zoom,l.zoom)||c.push({command:"setZoom",args:[l.zoom]}),ft(d.bearing,l.bearing)||c.push({command:"setBearing",args:[l.bearing]}),ft(d.pitch,l.pitch)||c.push({command:"setPitch",args:[l.pitch]}),ft(d.roll,l.roll)||c.push({command:"setRoll",args:[l.roll]}),ft(d.sprite,l.sprite)||c.push({command:"setSprite",args:[l.sprite]}),ft(d.glyphs,l.glyphs)||c.push({command:"setGlyphs",args:[l.glyphs]}),ft(d.transition,l.transition)||c.push({command:"setTransition",args:[l.transition]}),ft(d.light,l.light)||c.push({command:"setLight",args:[l.light]}),ft(d.terrain,l.terrain)||c.push({command:"setTerrain",args:[l.terrain]}),ft(d.sky,l.sky)||c.push({command:"setSky",args:[l.sky]}),ft(d.projection,l.projection)||c.push({command:"setProjection",args:[l.projection]});const g={},y=[];(function(T,E,O,B){let V;for(V in E=E||{},T=T||{})Object.prototype.hasOwnProperty.call(T,V)&&(Object.prototype.hasOwnProperty.call(E,V)||ar(V,O,B));for(V in E)Object.prototype.hasOwnProperty.call(E,V)&&(Object.prototype.hasOwnProperty.call(T,V)?ft(T[V],E[V])||(T[V].type==="geojson"&&E[V].type==="geojson"&&yn(T,E,V)?pt(O,{command:"setGeoJSONSourceData",args:[V,E[V].data]}):xr(V,E,O,B)):Xt(V,E,O))})(d.sources,l.sources,y,g);const w=[];d.layers&&d.layers.forEach((T=>{"source"in T&&g[T.source]?c.push({command:"removeLayer",args:[T.id]}):w.push(T)})),c=c.concat(y),(function(T,E,O){E=E||[];const B=(T=T||[]).map(Jr),V=E.map(Jr),U=T.reduce(hn,{}),Z=E.reduce(hn,{}),Y=B.slice(),J=Object.create(null);let re,se,ge,Me,xe;for(let Ce=0,Ue=0;Ce<B.length;Ce++)re=B[Ce],Object.prototype.hasOwnProperty.call(Z,re)?Ue++:(pt(O,{command:"removeLayer",args:[re]}),Y.splice(Y.indexOf(re,Ue),1));for(let Ce=0,Ue=0;Ce<V.length;Ce++)re=V[V.length-1-Ce],Y[Y.length-1-Ce]!==re&&(Object.prototype.hasOwnProperty.call(U,re)?(pt(O,{command:"removeLayer",args:[re]}),Y.splice(Y.lastIndexOf(re,Y.length-Ue),1)):Ue++,Me=Y[Y.length-Ce],pt(O,{command:"addLayer",args:[Z[re],Me]}),Y.splice(Y.length-Ce,0,re),J[re]=!0);for(let Ce=0;Ce<V.length;Ce++)if(re=V[Ce],se=U[re],ge=Z[re],!J[re]&&!ft(se,ge))if(ft(se.source,ge.source)&&ft(se["source-layer"],ge["source-layer"])&&ft(se.type,ge.type)){for(xe in zr(se.layout,ge.layout,O,re,null,"setLayoutProperty"),zr(se.paint,ge.paint,O,re,null,"setPaintProperty"),ft(se.filter,ge.filter)||pt(O,{command:"setFilter",args:[re,ge.filter]}),ft(se.minzoom,ge.minzoom)&&ft(se.maxzoom,ge.maxzoom)||pt(O,{command:"setLayerZoomRange",args:[re,ge.minzoom,ge.maxzoom]}),se)Object.prototype.hasOwnProperty.call(se,xe)&&xe!=="layout"&&xe!=="paint"&&xe!=="filter"&&xe!=="metadata"&&xe!=="minzoom"&&xe!=="maxzoom"&&(xe.indexOf("paint.")===0?zr(se[xe],ge[xe],O,re,xe.slice(6),"setPaintProperty"):ft(se[xe],ge[xe])||pt(O,{command:"setLayerProperty",args:[re,xe,ge[xe]]}));for(xe in ge)Object.prototype.hasOwnProperty.call(ge,xe)&&!Object.prototype.hasOwnProperty.call(se,xe)&&xe!=="layout"&&xe!=="paint"&&xe!=="filter"&&xe!=="metadata"&&xe!=="minzoom"&&xe!=="maxzoom"&&(xe.indexOf("paint.")===0?zr(se[xe],ge[xe],O,re,xe.slice(6),"setPaintProperty"):ft(se[xe],ge[xe])||pt(O,{command:"setLayerProperty",args:[re,xe,ge[xe]]}))}else pt(O,{command:"removeLayer",args:[re]}),Me=Y[Y.lastIndexOf(re)+1],pt(O,{command:"addLayer",args:[ge,Me]})})(w,l.layers,c)}catch(g){console.warn("Unable to compute style diff:",g),c=[{command:"setStyle",args:[l]}]}return c},s.bW=function(d){const l=[],c=d.id;return c===void 0&&l.push({message:`layers.${c}: missing required property "id"`}),d.render===void 0&&l.push({message:`layers.${c}: missing required method "render"`}),d.renderingMode&&d.renderingMode!=="2d"&&d.renderingMode!=="3d"&&l.push({message:`layers.${c}: property "renderingMode" must be either "2d" or "3d"`}),l},s.bX=He,s.bY=Fe,s.bZ=class extends Ta{constructor(d,l){super(d,l),this.current=0}set(d){this.current!==d&&(this.current=d,this.gl.uniform1i(this.location,d))}},s.b_=el,s.ba=function(d,l){return d[0]*l[0]+d[1]*l[1]+d[2]*l[2]+d[3]},s.bb=f$,s.bc=um,s.bd=function(d,l,c,g,y){var w=1/Math.tan(l/2);if(d[0]=w/c,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=w,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[11]=-1,d[12]=0,d[13]=0,d[15]=0,y!=null&&y!==1/0){var T=1/(g-y);d[10]=(y+g)*T,d[14]=2*y*g*T}else d[10]=-1,d[14]=-2*g;return d},s.be=function(d){var l=new $(16);return l[0]=d[0],l[1]=d[1],l[2]=d[2],l[3]=d[3],l[4]=d[4],l[5]=d[5],l[6]=d[6],l[7]=d[7],l[8]=d[8],l[9]=d[9],l[10]=d[10],l[11]=d[11],l[12]=d[12],l[13]=d[13],l[14]=d[14],l[15]=d[15],l},s.bf=function(d,l,c){var g=Math.sin(c),y=Math.cos(c),w=l[0],T=l[1],E=l[2],O=l[3],B=l[4],V=l[5],U=l[6],Z=l[7];return l!==d&&(d[8]=l[8],d[9]=l[9],d[10]=l[10],d[11]=l[11],d[12]=l[12],d[13]=l[13],d[14]=l[14],d[15]=l[15]),d[0]=w*y+B*g,d[1]=T*y+V*g,d[2]=E*y+U*g,d[3]=O*y+Z*g,d[4]=B*y-w*g,d[5]=V*y-T*g,d[6]=U*y-E*g,d[7]=Z*y-O*g,d},s.bg=function(d,l,c){var g=Math.sin(c),y=Math.cos(c),w=l[4],T=l[5],E=l[6],O=l[7],B=l[8],V=l[9],U=l[10],Z=l[11];return l!==d&&(d[0]=l[0],d[1]=l[1],d[2]=l[2],d[3]=l[3],d[12]=l[12],d[13]=l[13],d[14]=l[14],d[15]=l[15]),d[4]=w*y+B*g,d[5]=T*y+V*g,d[6]=E*y+U*g,d[7]=O*y+Z*g,d[8]=B*y-w*g,d[9]=V*y-T*g,d[10]=U*y-E*g,d[11]=Z*y-O*g,d},s.bh=function(){const d=new Float32Array(16);return H(d),d},s.bi=function(){const d=new Float64Array(16);return H(d),d},s.bj=function(){return new Float64Array(16)},s.bk=function(d,l,c){const g=new Float64Array(4);return de(g,d,l-90,c),g},s.bl=function(d,l,c,g){var y,w,T,E,O,B=l[0],V=l[1],U=l[2],Z=l[3],Y=c[0],J=c[1],re=c[2],se=c[3];return(w=B*Y+V*J+U*re+Z*se)<0&&(w=-w,Y=-Y,J=-J,re=-re,se=-se),1-w>k?(y=Math.acos(w),T=Math.sin(y),E=Math.sin((1-g)*y)/T,O=Math.sin(g*y)/T):(E=1-g,O=g),d[0]=E*B+O*Y,d[1]=E*V+O*J,d[2]=E*U+O*re,d[3]=E*Z+O*se,d},s.bm=function(d){const l=new Float64Array(9);var c,g,y,w,T,E,O,B,V,U,Z,Y,J,re,se,ge,Me,xe;U=(y=(g=d)[0])*(O=y+y),Z=(w=g[1])*O,J=(T=g[2])*O,re=T*(B=w+w),ge=(E=g[3])*O,Me=E*B,xe=E*(V=T+T),(c=l)[0]=1-(Y=w*B)-(se=T*V),c[3]=Z-xe,c[6]=J+Me,c[1]=Z+xe,c[4]=1-U-se,c[7]=re-ge,c[2]=J-Me,c[5]=re+ge,c[8]=1-U-Y;const Ce=Gt(-Math.asin(Ft(l[2],-1,1)));let Ue,We;return Math.hypot(l[5],l[8])<.001?(Ue=0,We=-Gt(Math.atan2(l[3],l[4]))):(Ue=Gt(l[5]===0&&l[8]===0?0:Math.atan2(l[5],l[8])),We=Gt(l[1]===0&&l[0]===0?0:Math.atan2(l[1],l[0]))),{roll:Ue,pitch:Ce+90,bearing:We}},s.bn=function(d,l){return d.roll==l.roll&&d.pitch==l.pitch&&d.bearing==l.bearing},s.bo=Vr,s.bp=Qs,s.bq=im,s.br=wy,s.bs=nm,s.bt=gt,s.bu=Lt,s.bv=mo,s.bw=function(d,l,c,g,y){return gt(g,y,Ft((d-l)/(c-l),0,1))},s.bx=Ke,s.by=function(){return new Float64Array(3)},s.bz=function(d,l,c,g){return d[0]=l[0]+c[0]*g,d[1]=l[1]+c[1]*g,d[2]=l[2]+c[2]*g,d},s.c=mr,s.c$=class{constructor(d){this._marks={start:[d.url,"start"].join("#"),end:[d.url,"end"].join("#"),measure:d.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let d=performance.getEntriesByName(this._marks.measure);return d.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),d=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),d}},s.c0=na,s.c1=class extends Ta{constructor(d,l){super(d,l),this.current=[0,0,0]}set(d){d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]||(this.current=d,this.gl.uniform3f(this.location,d[0],d[1],d[2]))}},s.c2=class extends Ta{constructor(d,l){super(d,l),this.current=[0,0]}set(d){d[0]===this.current[0]&&d[1]===this.current[1]||(this.current=d,this.gl.uniform2f(this.location,d[0],d[1]))}},s.c3=N,s.c4=function(d,l){var c=Math.sin(l),g=Math.cos(l);return d[0]=g,d[1]=c,d[2]=0,d[3]=-c,d[4]=g,d[5]=0,d[6]=0,d[7]=0,d[8]=1,d},s.c5=function(d,l,c){var g=l[0],y=l[1],w=l[2];return d[0]=g*c[0]+y*c[3]+w*c[6],d[1]=g*c[1]+y*c[4]+w*c[7],d[2]=g*c[2]+y*c[5]+w*c[8],d},s.c6=function(d,l,c,g,y,w,T){var E=1/(l-c),O=1/(g-y),B=1/(w-T);return d[0]=-2*E,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=-2*O,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=2*B,d[11]=0,d[12]=(l+c)*E,d[13]=(y+g)*O,d[14]=(T+w)*B,d[15]=1,d},s.c7=class extends Ta{constructor(d,l){super(d,l),this.current=new Array}set(d){if(d!=this.current){this.current=d;const l=new Float32Array(4*d.length);for(let c=0;c<d.length;c++)l[4*c]=d[c].r,l[4*c+1]=d[c].g,l[4*c+2]=d[c].b,l[4*c+3]=d[c].a;this.gl.uniform4fv(this.location,l)}}},s.c8=class extends Ta{constructor(d,l){super(d,l),this.current=new Array}set(d){if(d!=this.current){this.current=d;const l=new Float32Array(d);this.gl.uniform1fv(this.location,l)}}},s.c9=class extends Xp{},s.cA=function(d){return or[d]||vr[d]},s.cB=function(d,l,c){var g=l[0],y=l[1];return d[0]=c[0]*g+c[4]*y+c[12],d[1]=c[1]*g+c[5]*y+c[13],d},s.cC=function(d,l){const{x:c,y:g}=My.fromLngLat(l);return!(d<0||d>25||g<0||g>=1||c<0||c>=1)},s.cD=function(d,l){return d[0]=l[0],d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=l[1],d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=l[2],d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,d},s.cE=class extends Ld{},s.cF=wJ,s.cH=function(d){return d.message===Er},s.cI=rn,s.cJ=function(d,l){Wr.REGISTERED_PROTOCOLS[d]=l},s.cK=function(d){delete Wr.REGISTERED_PROTOCOLS[d]},s.cL=function(d,l){const c={};for(let y=0;y<d.length;y++){const w=l&&l[d[y].id]||p1(d[y]);l&&(l[d[y].id]=w);let T=c[w];T||(T=c[w]=[]),T.push(d[y])}const g=[];for(const y in c)g.push(c[y]);return g},s.cM=Yt,s.cN=m$,s.cO=z$,s.cP=Kk,s.cQ=function(d){d.bucket.createArrays(),d.bucket.tilePixelRatio=De/(512*d.bucket.overscaling),d.bucket.compareText={},d.bucket.iconsNeedLinear=!1;const l=d.bucket.layers[0],c=l.layout,g=l._unevaluatedLayout._values,y={layoutIconSize:g["icon-size"].possiblyEvaluate(new fn(d.bucket.zoom+1),d.canonical),layoutTextSize:g["text-size"].possiblyEvaluate(new fn(d.bucket.zoom+1),d.canonical),textMaxSize:g["text-size"].possiblyEvaluate(new fn(18))};if(d.bucket.textSizeData.kind==="composite"){const{minZoom:B,maxZoom:V}=d.bucket.textSizeData;y.compositeTextSizes=[g["text-size"].possiblyEvaluate(new fn(B),d.canonical),g["text-size"].possiblyEvaluate(new fn(V),d.canonical)]}if(d.bucket.iconSizeData.kind==="composite"){const{minZoom:B,maxZoom:V}=d.bucket.iconSizeData;y.compositeIconSizes=[g["icon-size"].possiblyEvaluate(new fn(B),d.canonical),g["icon-size"].possiblyEvaluate(new fn(V),d.canonical)]}const w=c.get("text-line-height")*Gi,T=c.get("text-rotation-alignment")!=="viewport"&&c.get("symbol-placement")!=="point",E=c.get("text-keep-upright"),O=c.get("text-size");for(const B of d.bucket.features){const V=c.get("text-font").evaluate(B,{},d.canonical).join(","),U=O.evaluate(B,{},d.canonical),Z=y.layoutTextSize.evaluate(B,{},d.canonical),Y=y.layoutIconSize.evaluate(B,{},d.canonical),J={horizontal:{},vertical:void 0},re=B.text;let se,ge=[0,0];if(re){const Ce=re.toString(),Ue=c.get("text-letter-spacing").evaluate(B,{},d.canonical)*Gi,We=qp(Ce)?Ue:0,ot=c.get("text-anchor").evaluate(B,{},d.canonical),Ct=K$(l,B,d.canonical);if(!Ct){const Rt=c.get("text-radial-offset").evaluate(B,{},d.canonical);ge=Rt?X$(ot,[Rt*Gi,hP]):c.get("text-offset").evaluate(B,{},d.canonical).map((Ot=>Ot*Gi))}let _t=T?"center":c.get("text-justify").evaluate(B,{},d.canonical);const Mt=c.get("symbol-placement")==="point"?c.get("text-max-width").evaluate(B,{},d.canonical)*Gi:1/0,jt=()=>{d.bucket.allowVerticalPlacement&&Cd(Ce)&&(J.vertical=U1(re,d.glyphMap,d.glyphPositions,d.imagePositions,V,Mt,w,ot,"left",We,ge,s.ay.vertical,!0,Z,U))};if(!T&&Ct){const Rt=new Set;if(_t==="auto")for(let bt=0;bt<Ct.values.length;bt+=2)Rt.add(dP(Ct.values[bt]));else Rt.add(_t);let Ot=!1;for(const bt of Rt)if(!J.horizontal[bt])if(Ot)J.horizontal[bt]=J.horizontal[0];else{const sr=U1(re,d.glyphMap,d.glyphPositions,d.imagePositions,V,Mt,w,"center",bt,We,ge,s.ay.horizontal,!1,Z,U);sr&&(J.horizontal[bt]=sr,Ot=sr.positionedLines.length===1)}jt()}else{_t==="auto"&&(_t=dP(ot));const Rt=U1(re,d.glyphMap,d.glyphPositions,d.imagePositions,V,Mt,w,ot,_t,We,ge,s.ay.horizontal,!1,Z,U);Rt&&(J.horizontal[_t]=Rt),jt(),Cd(Ce)&&T&&E&&(J.vertical=U1(re,d.glyphMap,d.glyphPositions,d.imagePositions,V,Mt,w,ot,_t,We,ge,s.ay.vertical,!1,Z,U))}}let Me=!1;if(B.icon&&B.icon.name){const Ce=d.imageMap[B.icon.name];Ce&&(se=BY(d.imagePositions[B.icon.name],c.get("icon-offset").evaluate(B,{},d.canonical),c.get("icon-anchor").evaluate(B,{},d.canonical)),Me=!!Ce.sdf,d.bucket.sdfIcons===void 0?d.bucket.sdfIcons=Me:d.bucket.sdfIcons!==Me&&_e("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ce.pixelRatio!==d.bucket.pixelRatio||c.get("icon-rotate").constantOr(1)!==0)&&(d.bucket.iconsNeedLinear=!0))}const xe=J$(J.horizontal)||J.vertical;d.bucket.iconsInText=!!xe&&xe.iconsInText,(xe||se)&&bJ(d.bucket,B,J,se,d.imageMap,y,Z,Y,ge,Me,d.canonical,d.subdivisionGranularity)}d.showCollisionBoxes&&d.bucket.generateCollisionDebugBuffers()},s.cR=zC,s.cS=FC,s.cT=NC,s.cU=Dk,s.cV=jC,s.cW=om,s.cX=function(d,l,c,g,y,w){let T=N$(d,l,c,y,0);return T=N$(T,l,g,w,1),T},s.cY=class{constructor(d){this.maxEntries=d,this.map=new Map}get(d){const l=this.map.get(d);return l!==void 0&&(this.map.delete(d),this.map.set(d,l)),l}set(d,l){if(this.map.has(d))this.map.delete(d);else if(this.map.size>=this.maxEntries){const c=this.map.keys().next().value;this.map.delete(c)}this.map.set(d,l)}clear(){this.map.clear()}},s.cZ=Lk,s.c_=$$,s.ca=gY,s.cb=class extends Kp{},s.cc=LC,s.cd=function(d){return d<=1?1:Math.pow(2,Math.ceil(Math.log(d)/Math.LN2))},s.ce=vk,s.cf=function(d,l,c){var g=l[0],y=l[1],w=l[2],T=c[3]*g+c[7]*y+c[11]*w+c[15];return d[0]=(c[0]*g+c[4]*y+c[8]*w+c[12])/(T=T||1),d[1]=(c[1]*g+c[5]*y+c[9]*w+c[13])/T,d[2]=(c[2]*g+c[6]*y+c[10]*w+c[14])/T,d},s.cg=class extends uy{},s.ch=class extends _{},s.ci=function(d,l){return d[0]===l[0]&&d[1]===l[1]&&d[2]===l[2]&&d[3]===l[3]&&d[4]===l[4]&&d[5]===l[5]&&d[6]===l[6]&&d[7]===l[7]&&d[8]===l[8]&&d[9]===l[9]&&d[10]===l[10]&&d[11]===l[11]&&d[12]===l[12]&&d[13]===l[13]&&d[14]===l[14]&&d[15]===l[15]},s.cj=function(d,l){var c=d[0],g=d[1],y=d[2],w=d[3],T=d[4],E=d[5],O=d[6],B=d[7],V=d[8],U=d[9],Z=d[10],Y=d[11],J=d[12],re=d[13],se=d[14],ge=d[15],Me=l[0],xe=l[1],Ce=l[2],Ue=l[3],We=l[4],ot=l[5],Ct=l[6],_t=l[7],Mt=l[8],jt=l[9],Rt=l[10],Ot=l[11],bt=l[12],sr=l[13],lr=l[14],dr=l[15];return Math.abs(c-Me)<=k*Math.max(1,Math.abs(c),Math.abs(Me))&&Math.abs(g-xe)<=k*Math.max(1,Math.abs(g),Math.abs(xe))&&Math.abs(y-Ce)<=k*Math.max(1,Math.abs(y),Math.abs(Ce))&&Math.abs(w-Ue)<=k*Math.max(1,Math.abs(w),Math.abs(Ue))&&Math.abs(T-We)<=k*Math.max(1,Math.abs(T),Math.abs(We))&&Math.abs(E-ot)<=k*Math.max(1,Math.abs(E),Math.abs(ot))&&Math.abs(O-Ct)<=k*Math.max(1,Math.abs(O),Math.abs(Ct))&&Math.abs(B-_t)<=k*Math.max(1,Math.abs(B),Math.abs(_t))&&Math.abs(V-Mt)<=k*Math.max(1,Math.abs(V),Math.abs(Mt))&&Math.abs(U-jt)<=k*Math.max(1,Math.abs(U),Math.abs(jt))&&Math.abs(Z-Rt)<=k*Math.max(1,Math.abs(Z),Math.abs(Rt))&&Math.abs(Y-Ot)<=k*Math.max(1,Math.abs(Y),Math.abs(Ot))&&Math.abs(J-bt)<=k*Math.max(1,Math.abs(J),Math.abs(bt))&&Math.abs(re-sr)<=k*Math.max(1,Math.abs(re),Math.abs(sr))&&Math.abs(se-lr)<=k*Math.max(1,Math.abs(se),Math.abs(lr))&&Math.abs(ge-dr)<=k*Math.max(1,Math.abs(ge),Math.abs(dr))},s.ck=function(d,l){return d[0]=l[0],d[1]=l[1],d[2]=l[2],d[3]=l[3],d[4]=l[4],d[5]=l[5],d[6]=l[6],d[7]=l[7],d[8]=l[8],d[9]=l[9],d[10]=l[10],d[11]=l[11],d[12]=l[12],d[13]=l[13],d[14]=l[14],d[15]=l[15],d},s.cl=d=>d.type==="symbol",s.cm=d=>d.type==="circle",s.cn=d=>d.type==="heatmap",s.co=d=>d.type==="line",s.cp=d=>d.type==="fill",s.cq=d=>d.type==="fill-extrusion",s.cr=d=>d.type==="hillshade",s.cs=d=>d.type==="color-relief",s.ct=d=>d.type==="background",s.cu=d=>d.type==="custom",s.cv=Nt,s.cw=function(d,l,c){const g=ze(l.x-c.x,l.y-c.y),y=ze(d.x-c.x,d.y-c.y);var w,T;return Gt(Math.atan2(g[0]*y[1]-g[1]*y[0],(w=g)[0]*(T=y)[0]+w[1]*T[1]))},s.cx=zt,s.cy=function(d,l){return vr[l]&&(d instanceof MouseEvent||d instanceof WheelEvent)},s.cz=function(d,l){return or[l]&&"touches"in d},s.d=ne,s.d0=function(d,l,c,g,y){return a(this,void 0,void 0,(function*(){if(R())try{return yield dt(d,l,c,g,y)}catch{}return(function(w,T,E,O,B){const V=w.width,U=w.height;xt&&yt||(xt=new OffscreenCanvas(V,U),yt=xt.getContext("2d",{willReadFrequently:!0})),xt.width=V,xt.height=U,yt.drawImage(w,0,0,V,U);const Z=yt.getImageData(T,E,O,B);return yt.clearRect(0,0,V,U),Z.data})(d,l,c,g,y)}))},s.d1=bk,s.d2=p,s.d3=zp,s.d4=Fl,s.e=it,s.f=d=>a(void 0,void 0,void 0,(function*(){if(d.byteLength===0)return createImageBitmap(new ImageData(1,1));const l=new Blob([new Uint8Array(d)],{type:"image/png"});try{return createImageBitmap(l)}catch(c){throw new Error(`Could not load image because of ${c.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}})),s.g=Yr,s.h=d=>new Promise(((l,c)=>{const g=new Image;g.onload=()=>{l(g),URL.revokeObjectURL(g.src),g.onload=null,window.requestAnimationFrame((()=>{g.src=Qe}))},g.onerror=()=>c(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const y=new Blob([new Uint8Array(d)],{type:"image/png"});g.src=d.byteLength?URL.createObjectURL(y):Qe})),s.i=ht,s.j=(d,l)=>Ne(it(d,{type:"json"}),l),s.k=Re,s.l=Ee,s.m=Ne,s.n=(d,l)=>Ne(it(d,{type:"arrayBuffer"}),l),s.o=function(d){return new jC(d).readFields(AY,[])},s.p=Xk,s.q=function(d){return/[\u02EA\u02EB\u1100-\u11FF\u2E80-\u2FDF\u3000-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFE10-\uFE1F\uFE30-\uFE4F\uFF00-\uFFEF]|\uD81B[\uDFE0-\uDFFF]|[\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFFF]|\uD82C[\uDC00-\uDEFB]|\uD83C[\uDE00-\uDEFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]/gim.test(String.fromCodePoint(d))},s.r=vy,s.s=Ht,s.t=go,s.u=Te,s.v=xd,s.w=_e,s.x=E1,s.y=vC,s.z=Pd})),i("worker",["./shared"],(function(s){class a{constructor(ne,le){this.keyCache={},ne&&this.replace(ne,le)}replace(ne,le){this._layerConfigs={},this._layers={},this.update(ne,[],le)}update(ne,le,pe){for(const Re of ne){this._layerConfigs[Re.id]=Re;const Ye=this._layers[Re.id]=s.bS(Re,pe);Ye._featureFilter=s.aj(Ye.filter,pe),this.keyCache[Re.id]&&delete this.keyCache[Re.id]}for(const Re of le)delete this.keyCache[Re],delete this._layerConfigs[Re],delete this._layers[Re];this.familiesBySource={};const Ee=s.cL(Object.values(this._layerConfigs),this.keyCache);for(const Re of Ee){const Ye=Re.map((Xt=>this._layers[Xt.id])),Te=Ye[0];if(Te.visibility==="none")continue;const Xe=Te.source||"";let ut=this.familiesBySource[Xe];ut||(ut=this.familiesBySource[Xe]={});const ft=Te.sourceLayer||s.a9;let pt=ut[ft];pt||(pt=ut[ft]=[]),pt.push(Ye)}}}class h{constructor(ne){const le={},pe=[];for(const Te in ne){const Xe=ne[Te],ut=le[Te]={};for(const ft in Xe){const pt=Xe[+ft];if(!pt||pt.bitmap.width===0||pt.bitmap.height===0)continue;const Xt={x:0,y:0,w:pt.bitmap.width+2,h:pt.bitmap.height+2};pe.push(Xt),ut[ft]={rect:Xt,metrics:pt.metrics}}}const{w:Ee,h:Re}=s.p(pe),Ye=new s.r({width:Ee||1,height:Re||1});for(const Te in ne){const Xe=ne[Te];for(const ut in Xe){const ft=Xe[+ut];if(!ft||ft.bitmap.width===0||ft.bitmap.height===0)continue;const pt=le[Te][ut].rect;s.r.copy(ft.bitmap,Ye,{x:0,y:0},{x:pt.x+1,y:pt.y+1},ft.bitmap)}}this.image=Ye,this.positions=le}}s.cM("GlyphAtlas",h);class p{constructor(ne){this.tileID=new s.a1(ne.tileID.overscaledZ,ne.tileID.wrap,ne.tileID.canonical.z,ne.tileID.canonical.x,ne.tileID.canonical.y),this.uid=ne.uid,this.zoom=ne.zoom,this.pixelRatio=ne.pixelRatio,this.tileSize=ne.tileSize,this.source=ne.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ne.showCollisionBoxes,this.collectResourceTiming=!!ne.collectResourceTiming,this.returnDependencies=!!ne.returnDependencies,this.promoteId=ne.promoteId,this.inFlightDependencies=[]}parse(ne,le,pe,Ee,Re){return s._(this,void 0,void 0,(function*(){this.status="parsing",this.data=ne,this.collisionBoxArray=new s.ah;const Ye=new s.cN(Object.keys(ne.layers).sort()),Te=new s.cO(this.tileID,this.promoteId);Te.bucketLayerIDs=[];const Xe={},ut={featureIndex:Te,iconDependencies:{},patternDependencies:{},glyphDependencies:{},dashDependencies:{},availableImages:pe,subdivisionGranularity:Re},ft=le.familiesBySource[this.source];for(const Qt in ft){const ur=ne.layers[Qt];if(!ur)continue;ur.version===1&&s.w(`Vector tile source "${this.source}" layer "${Qt}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Ji=Ye.encode(Qt),hs=[];for(let xi=0;xi<ur.length;xi++){const gr=ur.feature(xi),Va=Te.getId(gr,Qt);hs.push({feature:gr,id:Va,index:xi,sourceLayerIndex:Ji})}for(const xi of ft[Qt]){const gr=xi[0];gr.source!==this.source&&s.w(`layer.source = ${gr.source} does not equal this.source = ${this.source}`),gr.isHidden(this.zoom,!0)||(m(xi,this.zoom,pe),(Xe[gr.id]=gr.createBucket({index:Te.bucketLayerIDs.length,layers:xi,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Ji,sourceID:this.source})).populate(hs,ut,this.tileID.canonical),Te.bucketLayerIDs.push(xi.map((Va=>Va.id))))}}const pt=s.bX(ut.glyphDependencies,(Qt=>Object.keys(Qt).map(Number)));this.inFlightDependencies.forEach((Qt=>Qt?.abort())),this.inFlightDependencies=[];let Xt=Promise.resolve({});if(Object.keys(pt).length){const Qt=new AbortController;this.inFlightDependencies.push(Qt),Xt=Ee.sendAsync({type:"GG",data:{stacks:pt,source:this.source,tileID:this.tileID,type:"glyphs"}},Qt)}const ar=Object.keys(ut.iconDependencies);let xr=Promise.resolve({});if(ar.length){const Qt=new AbortController;this.inFlightDependencies.push(Qt),xr=Ee.sendAsync({type:"GI",data:{icons:ar,source:this.source,tileID:this.tileID,type:"icons"}},Qt)}const yn=Object.keys(ut.patternDependencies);let zr=Promise.resolve({});if(yn.length){const Qt=new AbortController;this.inFlightDependencies.push(Qt),zr=Ee.sendAsync({type:"GI",data:{icons:yn,source:this.source,tileID:this.tileID,type:"patterns"}},Qt)}const Jr=ut.dashDependencies;let hn=Promise.resolve({});if(Object.keys(Jr).length){const Qt=new AbortController;this.inFlightDependencies.push(Qt),hn=Ee.sendAsync({type:"GDA",data:{dashes:Jr}},Qt)}const[It,_n,dn,ii]=yield Promise.all([Xt,xr,zr,hn]),en=new h(It),Et=new s.cP(_n,dn);for(const Qt in Xe){const ur=Xe[Qt];ur instanceof s.ai?(m(ur.layers,this.zoom,pe),s.cQ({bucket:ur,glyphMap:It,glyphPositions:en.positions,imageMap:_n,imagePositions:Et.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical,subdivisionGranularity:ut.subdivisionGranularity})):ur.hasDependencies&&(ur instanceof s.cR||ur instanceof s.cS||ur instanceof s.cT)&&(m(ur.layers,this.zoom,pe),ur.addFeatures(ut,this.tileID.canonical,Et.patternPositions,ii))}return this.status="done",{buckets:Object.values(Xe).filter((Qt=>!Qt.isEmpty())),featureIndex:Te,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:en.image,imageAtlas:Et,dashPositions:ii,glyphMap:this.returnDependencies?It:null,iconMap:this.returnDependencies?_n:null,glyphPositions:this.returnDependencies?en.positions:null}}))}}function m(Ne,ne,le){const pe=new s.H(ne);for(const Ee of Ne)Ee.recalculate(pe,le)}class v extends s.cW{constructor(ne,le){super(new s.cV,0,le,[],[]),this.feature=ne,this.type=ne.type,this.properties=ne.tags?ne.tags:{},"id"in ne&&(typeof ne.id=="string"?this.id=parseInt(ne.id,10):typeof ne.id!="number"||isNaN(ne.id)||(this.id=ne.id))}loadGeometry(){const ne=[],le=this.feature.type===1?[this.feature.geometry]:this.feature.geometry;for(const pe of le){const Ee=[];for(const Re of pe)Ee.push(new s.P(Re[0],Re[1]));ne.push(Ee)}return ne}}class b extends s.cU{constructor(ne,le){super(new s.cV),this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.version=le?le.version:1,this.extent=le?le.extent:4096,this.length=ne.length,this.features=ne}feature(ne){return new v(this.features[ne],this.extent)}}function x(Ne,ne){ne.writeVarintField(15,Ne.version||1),ne.writeStringField(1,Ne.name||""),ne.writeVarintField(5,Ne.extent||4096);const le={keys:[],values:[],keycache:{},valuecache:{}};for(let Re=0;Re<Ne.length;Re++)le.feature=Ne.feature(Re),ne.writeMessage(2,C,le);const pe=le.keys;for(const Re of pe)ne.writeStringField(3,Re);const Ee=le.values;for(const Re of Ee)ne.writeMessage(4,$,Re)}function C(Ne,ne){if(!Ne.feature)return;const le=Ne.feature;le.id!==void 0&&ne.writeVarintField(1,le.id),ne.writeMessage(2,I,Ne),ne.writeVarintField(3,le.type),ne.writeMessage(4,k,le)}function I(Ne,ne){for(const le in Ne.feature?.properties){let pe=Ne.feature.properties[le],Ee=Ne.keycache[le];if(pe===null)continue;Ee===void 0&&(Ne.keys.push(le),Ee=Ne.keys.length-1,Ne.keycache[le]=Ee),ne.writeVarint(Ee),typeof pe!="string"&&typeof pe!="boolean"&&typeof pe!="number"&&(pe=JSON.stringify(pe));const Re=typeof pe+":"+pe;let Ye=Ne.valuecache[Re];Ye===void 0&&(Ne.values.push(pe),Ye=Ne.values.length-1,Ne.valuecache[Re]=Ye),ne.writeVarint(Ye)}}function A(Ne,ne){return(ne<<3)+(7&Ne)}function R(Ne){return Ne<<1^Ne>>31}function k(Ne,ne){const le=Ne.loadGeometry(),pe=Ne.type;let Ee=0,Re=0;for(const Ye of le){let Te=1;pe===1&&(Te=Ye.length),ne.writeVarint(A(1,Te));const Xe=pe===3?Ye.length-1:Ye.length;for(let ut=0;ut<Xe;ut++){ut===1&&pe!==1&&ne.writeVarint(A(2,Xe-1));const ft=Ye[ut].x-Ee,pt=Ye[ut].y-Re;ne.writeVarint(R(ft)),ne.writeVarint(R(pt)),Ee+=ft,Re+=pt}Ne.type===3&&ne.writeVarint(A(7,1))}}function $(Ne,ne){const le=typeof Ne;le==="string"?ne.writeStringField(1,Ne):le==="boolean"?ne.writeBooleanField(7,Ne):le==="number"&&(Ne%1!=0?ne.writeDoubleField(3,Ne):Ne<0?ne.writeSVarintField(6,Ne):ne.writeVarintField(5,Ne))}class N extends s.cW{constructor(ne,le,pe,Ee,Re){super(new s.cV,0,Re,[],[]),this.type=ne,this.properties=pe||{},this.extent=Re,this.pointsArray=le,this.id=Ee}loadGeometry(){return this.pointsArray.map((ne=>ne.map((le=>new s.P(le.x,le.y)))))}}class H extends s.cU{constructor(ne,le,pe){super(new s.cV),this.version=2,this._myFeatures=ne,this.name=le,this.length=ne.length,this.extent=pe}feature(ne){return this._myFeatures[ne]}}class W{constructor(){this.layers={}}addLayer(ne){this.layers[ne.name]=ne}}function j(Ne){let ne=(function(le){const pe=new s.cV;return(function(Ee,Re){for(const Ye in Ee.layers)Re.writeMessage(3,x,Ee.layers[Ye])})(le,pe),pe.finish()})(Ne);return ne.byteOffset===0&&ne.byteLength===ne.buffer.byteLength||(ne=new Uint8Array(ne)),{vectorTile:Ne,rawData:ne.buffer}}function X(Ne,ne,le){const{extent:pe}=Ne,Ee=Math.pow(2,le.z-ne.z),Re=(le.x-ne.x*Ee)*pe,Ye=(le.y-ne.y*Ee)*pe,Te=[];for(let Xe=0;Xe<Ne.length;Xe++){const ut=Ne.feature(Xe);let ft=ut.loadGeometry();for(const Xt of ft)for(const ar of Xt)ar.x=ar.x*Ee-Re,ar.y=ar.y*Ee-Ye;const pt=128;ft=s.cX(ft,ut.type,-pt,-pt,pe+pt,pe+pt),ft.length!==0&&Te.push(new N(ut.type,ft,ut.properties,ut.id,pe))}return new H(Te,Ne.name,pe)}class K{constructor(ne,le,pe){this.actor=ne,this.layerIndex=le,this.availableImages=pe,this.fetching={},this.loading={},this.loaded={},this.overzoomedTileResultCache=new s.cY(1e3)}loadVectorTile(ne,le){return s._(this,void 0,void 0,(function*(){const pe=yield s.n(ne.request,le);try{return{vectorTile:ne.encoding!=="mlt"?new s.cZ(new s.cV(pe.data)):new s.c_(pe.data),rawData:pe.data,cacheControl:pe.cacheControl,expires:pe.expires}}catch(Ee){const Re=new Uint8Array(pe.data);let Ye=`Unable to parse the tile at ${ne.request.url}, `;throw Ye+=Re[0]===31&&Re[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${Ee.message}`,new Error(Ye)}}))}loadTile(ne){return s._(this,void 0,void 0,(function*(){const{uid:le,overzoomParameters:pe}=ne;pe&&(ne.request=pe.overzoomRequest);const Ee=!!(ne&&ne.request&&ne.request.collectResourceTiming)&&new s.c$(ne.request),Re=new p(ne);this.loading[le]=Re;const Ye=new AbortController;Re.abort=Ye;try{const Te=yield this.loadVectorTile(ne,Ye);if(delete this.loading[le],!Te)return null;if(pe){const Xt=this._getOverzoomTile(ne,Te.vectorTile);Te.rawData=Xt.rawData,Te.vectorTile=Xt.vectorTile}const Xe=Te.rawData,ut={};Te.expires&&(ut.expires=Te.expires),Te.cacheControl&&(ut.cacheControl=Te.cacheControl);const ft={};if(Ee){const Xt=Ee.finish();Xt&&(ft.resourceTiming=JSON.parse(JSON.stringify(Xt)))}Re.vectorTile=Te.vectorTile;const pt=Re.parse(Te.vectorTile,this.layerIndex,this.availableImages,this.actor,ne.subdivisionGranularity);this.loaded[le]=Re,this.fetching[le]={rawTileData:Xe,cacheControl:ut,resourceTiming:ft};try{const Xt=yield pt;return s.e({rawTileData:Xe.slice(0),encoding:ne.encoding},Xt,ut,ft)}finally{delete this.fetching[le]}}catch(Te){throw delete this.loading[le],Re.status="done",this.loaded[le]=Re,Te}}))}_getOverzoomTile(ne,le){const{tileID:pe,source:Ee,overzoomParameters:Re}=ne,{maxZoomTileID:Ye}=Re,Te=`${Ye.key}_${pe.key}`,Xe=this.overzoomedTileResultCache.get(Te);if(Xe)return Xe;const ut=new W,ft=this.layerIndex.familiesBySource[Ee];for(const Xt in ft){const ar=le.layers[Xt];if(!ar)continue;const xr=X(ar,Ye,pe.canonical);xr.length>0&&ut.addLayer(xr)}const pt=j(ut);return this.overzoomedTileResultCache.set(Te,pt),pt}reloadTile(ne){return s._(this,void 0,void 0,(function*(){const le=ne.uid;if(!this.loaded||!this.loaded[le])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const pe=this.loaded[le];if(pe.showCollisionBoxes=ne.showCollisionBoxes,pe.status==="parsing"){const Ee=yield pe.parse(pe.vectorTile,this.layerIndex,this.availableImages,this.actor,ne.subdivisionGranularity);let Re;if(this.fetching[le]){const{rawTileData:Ye,cacheControl:Te,resourceTiming:Xe}=this.fetching[le];delete this.fetching[le],Re=s.e({rawTileData:Ye.slice(0),encoding:ne.encoding},Ee,Te,Xe)}else Re=Ee;return Re}if(pe.status==="done"&&pe.vectorTile)return pe.parse(pe.vectorTile,this.layerIndex,this.availableImages,this.actor,ne.subdivisionGranularity)}))}abortTile(ne){return s._(this,void 0,void 0,(function*(){const le=this.loading,pe=ne.uid;le&&le[pe]&&le[pe].abort&&(le[pe].abort.abort(),delete le[pe])}))}removeTile(ne){return s._(this,void 0,void 0,(function*(){this.loaded&&this.loaded[ne.uid]&&delete this.loaded[ne.uid]}))}}class Q{constructor(){this.loaded={}}loadTile(ne){return s._(this,void 0,void 0,(function*(){const{uid:le,encoding:pe,rawImageData:Ee,redFactor:Re,greenFactor:Ye,blueFactor:Te,baseShift:Xe}=ne,ut=Ee.width+2,ft=Ee.height+2,pt=s.b(Ee)?new s.R({width:ut,height:ft},yield s.d0(Ee,-1,-1,ut,ft)):Ee,Xt=new s.d1(le,pt,pe,Re,Ye,Te,Xe);return this.loaded=this.loaded||{},this.loaded[le]=Xt,Xt}))}removeTile(ne){const le=this.loaded,pe=ne.uid;le&&le[pe]&&delete le[pe]}}var oe,he,ye=(function(){if(he)return oe;function Ne(le,pe){if(le.length!==0){ne(le[0],pe);for(var Ee=1;Ee<le.length;Ee++)ne(le[Ee],!pe)}}function ne(le,pe){for(var Ee=0,Re=0,Ye=0,Te=le.length,Xe=Te-1;Ye<Te;Xe=Ye++){var ut=(le[Ye][0]-le[Xe][0])*(le[Xe][1]+le[Ye][1]),ft=Ee+ut;Re+=Math.abs(Ee)>=Math.abs(ut)?Ee-ft+ut:ut-ft+Ee,Ee=ft}Ee+Re>=0!=!!pe&&le.reverse()}return he=1,oe=function le(pe,Ee){var Re,Ye=pe&&pe.type;if(Ye==="FeatureCollection")for(Re=0;Re<pe.features.length;Re++)le(pe.features[Re],Ee);else if(Ye==="GeometryCollection")for(Re=0;Re<pe.geometries.length;Re++)le(pe.geometries[Re],Ee);else if(Ye==="Feature")le(pe.geometry,Ee);else if(Ye==="Polygon")Ne(pe.coordinates,Ee);else if(Ye==="MultiPolygon")for(Re=0;Re<pe.coordinates.length;Re++)Ne(pe.coordinates[Re],Ee);return pe}})(),be=s.d2(ye);const ce={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Ne=>Ne},de=Math.fround||(Oe=new Float32Array(1),Ne=>(Oe[0]=+Ne,Oe[0]));var Oe;class ze{constructor(ne){this.options=Object.assign(Object.create(ce),ne),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(ne){const{log:le,minZoom:pe,maxZoom:Ee}=this.options;le&&console.time("total time");const Re=`prepare ${ne.length} points`;le&&console.time(Re),this.points=ne;const Ye=[];for(let Xe=0;Xe<ne.length;Xe++){const ut=ne[Xe];if(!ut.geometry)continue;const[ft,pt]=ut.geometry.coordinates,Xt=de(Ke(ft)),ar=de(gt(pt));Ye.push(Xt,ar,1/0,Xe,-1,1),this.options.reduce&&Ye.push(0)}let Te=this.trees[Ee+1]=this._createTree(Ye);le&&console.timeEnd(Re);for(let Xe=Ee;Xe>=pe;Xe--){const ut=+Date.now();Te=this.trees[Xe]=this._createTree(this._cluster(Te,Xe)),le&&console.log("z%d: %d clusters in %dms",Xe,Te.numItems,+Date.now()-ut)}return le&&console.timeEnd("total time"),this}getClusters(ne,le){let pe=((ne[0]+180)%360+360)%360-180;const Ee=Math.max(-90,Math.min(90,ne[1]));let Re=ne[2]===180?180:((ne[2]+180)%360+360)%360-180;const Ye=Math.max(-90,Math.min(90,ne[3]));if(ne[2]-ne[0]>=360)pe=-180,Re=180;else if(pe>Re){const pt=this.getClusters([pe,Ee,180,Ye],le),Xt=this.getClusters([-180,Ee,Re,Ye],le);return pt.concat(Xt)}const Te=this.trees[this._limitZoom(le)],Xe=Te.range(Ke(pe),gt(Ye),Ke(Re),gt(Ee)),ut=Te.data,ft=[];for(const pt of Xe){const Xt=this.stride*pt;ft.push(ut[Xt+5]>1?De(ut,Xt,this.clusterProps):this.points[ut[Xt+3]])}return ft}getChildren(ne){const le=this._getOriginId(ne),pe=this._getOriginZoom(ne),Ee="No cluster with the specified id.",Re=this.trees[pe];if(!Re)throw new Error(Ee);const Ye=Re.data;if(le*this.stride>=Ye.length)throw new Error(Ee);const Te=this.options.radius/(this.options.extent*Math.pow(2,pe-1)),Xe=Re.within(Ye[le*this.stride],Ye[le*this.stride+1],Te),ut=[];for(const ft of Xe){const pt=ft*this.stride;Ye[pt+4]===ne&&ut.push(Ye[pt+5]>1?De(Ye,pt,this.clusterProps):this.points[Ye[pt+3]])}if(ut.length===0)throw new Error(Ee);return ut}getLeaves(ne,le,pe){const Ee=[];return this._appendLeaves(Ee,ne,le=le||10,pe=pe||0,0),Ee}getTile(ne,le,pe){const Ee=this.trees[this._limitZoom(ne)],Re=Math.pow(2,ne),{extent:Ye,radius:Te}=this.options,Xe=Te/Ye,ut=(pe-Xe)/Re,ft=(pe+1+Xe)/Re,pt={features:[]};return this._addTileFeatures(Ee.range((le-Xe)/Re,ut,(le+1+Xe)/Re,ft),Ee.data,le,pe,Re,pt),le===0&&this._addTileFeatures(Ee.range(1-Xe/Re,ut,1,ft),Ee.data,Re,pe,Re,pt),le===Re-1&&this._addTileFeatures(Ee.range(0,ut,Xe/Re,ft),Ee.data,-1,pe,Re,pt),pt.features.length?pt:null}getClusterExpansionZoom(ne){let le=this._getOriginZoom(ne)-1;for(;le<=this.options.maxZoom;){const pe=this.getChildren(ne);if(le++,pe.length!==1)break;ne=pe[0].properties.cluster_id}return le}_appendLeaves(ne,le,pe,Ee,Re){const Ye=this.getChildren(le);for(const Te of Ye){const Xe=Te.properties;if(Xe&&Xe.cluster?Re+Xe.point_count<=Ee?Re+=Xe.point_count:Re=this._appendLeaves(ne,Xe.cluster_id,pe,Ee,Re):Re<Ee?Re++:ne.push(Te),ne.length===pe)break}return Re}_createTree(ne){const le=new s.aS(ne.length/this.stride|0,this.options.nodeSize,Float32Array);for(let pe=0;pe<ne.length;pe+=this.stride)le.add(ne[pe],ne[pe+1]);return le.finish(),le.data=ne,le}_addTileFeatures(ne,le,pe,Ee,Re,Ye){for(const Te of ne){const Xe=Te*this.stride,ut=le[Xe+5]>1;let ft,pt,Xt;if(ut)ft=ct(le,Xe,this.clusterProps),pt=le[Xe],Xt=le[Xe+1];else{const yn=this.points[le[Xe+3]];ft=yn.properties;const[zr,Jr]=yn.geometry.coordinates;pt=Ke(zr),Xt=gt(Jr)}const ar={type:1,geometry:[[Math.round(this.options.extent*(pt*Re-pe)),Math.round(this.options.extent*(Xt*Re-Ee))]],tags:ft};let xr;xr=ut||this.options.generateId?le[Xe+3]:this.points[le[Xe+3]].id,xr!==void 0&&(ar.id=xr),Ye.features.push(ar)}}_limitZoom(ne){return Math.max(this.options.minZoom,Math.min(Math.floor(+ne),this.options.maxZoom+1))}_cluster(ne,le){const{radius:pe,extent:Ee,reduce:Re,minPoints:Ye}=this.options,Te=pe/(Ee*Math.pow(2,le)),Xe=ne.data,ut=[],ft=this.stride;for(let pt=0;pt<Xe.length;pt+=ft){if(Xe[pt+2]<=le)continue;Xe[pt+2]=le;const Xt=Xe[pt],ar=Xe[pt+1],xr=ne.within(Xe[pt],Xe[pt+1],Te),yn=Xe[pt+5];let zr=yn;for(const Jr of xr){const hn=Jr*ft;Xe[hn+2]>le&&(zr+=Xe[hn+5])}if(zr>yn&&zr>=Ye){let Jr,hn=Xt*yn,It=ar*yn,_n=-1;const dn=(pt/ft<<5)+(le+1)+this.points.length;for(const ii of xr){const en=ii*ft;if(Xe[en+2]<=le)continue;Xe[en+2]=le;const Et=Xe[en+5];hn+=Xe[en]*Et,It+=Xe[en+1]*Et,Xe[en+4]=dn,Re&&(Jr||(Jr=this._map(Xe,pt,!0),_n=this.clusterProps.length,this.clusterProps.push(Jr)),Re(Jr,this._map(Xe,en)))}Xe[pt+4]=dn,ut.push(hn/zr,It/zr,1/0,dn,-1,zr),Re&&ut.push(_n)}else{for(let Jr=0;Jr<ft;Jr++)ut.push(Xe[pt+Jr]);if(zr>1)for(const Jr of xr){const hn=Jr*ft;if(!(Xe[hn+2]<=le)){Xe[hn+2]=le;for(let It=0;It<ft;It++)ut.push(Xe[hn+It])}}}}return ut}_getOriginId(ne){return ne-this.points.length>>5}_getOriginZoom(ne){return(ne-this.points.length)%32}_map(ne,le,pe){if(ne[le+5]>1){const Ye=this.clusterProps[ne[le+6]];return pe?Object.assign({},Ye):Ye}const Ee=this.points[ne[le+3]].properties,Re=this.options.map(Ee);return pe&&Re===Ee?Object.assign({},Re):Re}}function De(Ne,ne,le){return{type:"Feature",id:Ne[ne+3],properties:ct(Ne,ne,le),geometry:{type:"Point",coordinates:[(pe=Ne[ne],360*(pe-.5)),Lt(Ne[ne+1])]}};var pe}function ct(Ne,ne,le){const pe=Ne[ne+5],Ee=pe>=1e4?`${Math.round(pe/1e3)}k`:pe>=1e3?Math.round(pe/100)/10+"k":pe,Re=Ne[ne+6],Ye=Re===-1?{}:Object.assign({},le[Re]);return Object.assign(Ye,{cluster:!0,cluster_id:Ne[ne+3],point_count:pe,point_count_abbreviated:Ee})}function Ke(Ne){return Ne/360+.5}function gt(Ne){const ne=Math.sin(Ne*Math.PI/180),le=.5-.25*Math.log((1+ne)/(1-ne))/Math.PI;return le<0?0:le>1?1:le}function Lt(Ne){const ne=(180-360*Ne)*Math.PI/180;return 360*Math.atan(Math.exp(ne))/Math.PI-90}function Nt(Ne,ne,le,pe){let Ee=pe;const Re=ne+(le-ne>>1);let Ye,Te=le-ne;const Xe=Ne[ne],ut=Ne[ne+1],ft=Ne[le],pt=Ne[le+1];for(let Xt=ne+3;Xt<le;Xt+=3){const ar=zt(Ne[Xt],Ne[Xt+1],Xe,ut,ft,pt);if(ar>Ee)Ye=Xt,Ee=ar;else if(ar===Ee){const xr=Math.abs(Xt-Re);xr<Te&&(Ye=Xt,Te=xr)}}Ee>pe&&(Ye-ne>3&&Nt(Ne,ne,Ye,pe),Ne[Ye+2]=Ee,le-Ye>3&&Nt(Ne,Ye,le,pe))}function zt(Ne,ne,le,pe,Ee,Re){let Ye=Ee-le,Te=Re-pe;if(Ye!==0||Te!==0){const Xe=((Ne-le)*Ye+(ne-pe)*Te)/(Ye*Ye+Te*Te);Xe>1?(le=Ee,pe=Re):Xe>0&&(le+=Ye*Xe,pe+=Te*Xe)}return Ye=Ne-le,Te=ne-pe,Ye*Ye+Te*Te}function Ft(Ne,ne,le,pe){const Ee={id:Ne??null,type:ne,geometry:le,tags:pe,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(ne==="Point"||ne==="MultiPoint"||ne==="LineString")Be(Ee,le);else if(ne==="Polygon")Be(Ee,le[0]);else if(ne==="MultiLineString")for(const Re of le)Be(Ee,Re);else if(ne==="MultiPolygon")for(const Re of le)Be(Ee,Re[0]);return Ee}function Be(Ne,ne){for(let le=0;le<ne.length;le+=3)Ne.minX=Math.min(Ne.minX,ne[le]),Ne.minY=Math.min(Ne.minY,ne[le+1]),Ne.maxX=Math.max(Ne.maxX,ne[le]),Ne.maxY=Math.max(Ne.maxY,ne[le+1])}function it(Ne,ne,le,pe){if(!ne.geometry)return;const Ee=ne.geometry.coordinates;if(Ee&&Ee.length===0)return;const Re=ne.geometry.type,Ye=Math.pow(le.tolerance/((1<<le.maxZoom)*le.extent),2);let Te=[],Xe=ne.id;if(le.promoteId?Xe=ne.properties[le.promoteId]:le.generateId&&(Xe=pe||0),Re==="Point")je(Ee,Te);else if(Re==="MultiPoint")for(const ut of Ee)je(ut,Te);else if(Re==="LineString")He(Ee,Te,Ye,!1);else if(Re==="MultiLineString"){if(le.lineMetrics){for(const ut of Ee)Te=[],He(ut,Te,Ye,!1),Ne.push(Ft(Xe,"LineString",Te,ne.properties));return}Fe(Ee,Te,Ye,!1)}else if(Re==="Polygon")Fe(Ee,Te,Ye,!0);else{if(Re!=="MultiPolygon"){if(Re==="GeometryCollection"){for(const ut of ne.geometry.geometries)it(Ne,{id:Xe,geometry:ut,properties:ne.properties},le,pe);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const ut of Ee){const ft=[];Fe(ut,ft,Ye,!0),Te.push(ft)}}Ne.push(Ft(Xe,Re,Te,ne.properties))}function je(Ne,ne){ne.push(tt(Ne[0]),me(Ne[1]),0)}function He(Ne,ne,le,pe){let Ee,Re,Ye=0;for(let Xe=0;Xe<Ne.length;Xe++){const ut=tt(Ne[Xe][0]),ft=me(Ne[Xe][1]);ne.push(ut,ft,0),Xe>0&&(Ye+=pe?(Ee*ft-ut*Re)/2:Math.sqrt(Math.pow(ut-Ee,2)+Math.pow(ft-Re,2))),Ee=ut,Re=ft}const Te=ne.length-3;ne[2]=1,Nt(ne,0,Te,le),ne[Te+2]=1,ne.size=Math.abs(Ye),ne.start=0,ne.end=ne.size}function Fe(Ne,ne,le,pe){for(let Ee=0;Ee<Ne.length;Ee++){const Re=[];He(Ne[Ee],Re,le,pe),ne.push(Re)}}function tt(Ne){return Ne/360+.5}function me(Ne){const ne=Math.sin(Ne*Math.PI/180),le=.5-.25*Math.log((1+ne)/(1-ne))/Math.PI;return le<0?0:le>1?1:le}function _e(Ne,ne,le,pe,Ee,Re,Ye,Te){if(pe/=ne,Re>=(le/=ne)&&Ye<pe)return Ne;if(Ye<le||Re>=pe)return null;const Xe=[];for(const ut of Ne){const ft=ut.geometry;let pt=ut.type;const Xt=Ee===0?ut.minX:ut.minY,ar=Ee===0?ut.maxX:ut.maxY;if(Xt>=le&&ar<pe){Xe.push(ut);continue}if(ar<le||Xt>=pe)continue;let xr=[];if(pt==="Point"||pt==="MultiPoint")qe(ft,xr,le,pe,Ee);else if(pt==="LineString")ht(ft,xr,le,pe,Ee,!1,Te.lineMetrics);else if(pt==="MultiLineString")Je(ft,xr,le,pe,Ee,!1);else if(pt==="Polygon")Je(ft,xr,le,pe,Ee,!0);else if(pt==="MultiPolygon")for(const yn of ft){const zr=[];Je(yn,zr,le,pe,Ee,!0),zr.length&&xr.push(zr)}if(xr.length){if(Te.lineMetrics&&pt==="LineString"){for(const yn of xr)Xe.push(Ft(ut.id,pt,yn,ut.tags));continue}pt!=="LineString"&&pt!=="MultiLineString"||(xr.length===1?(pt="LineString",xr=xr[0]):pt="MultiLineString"),pt!=="Point"&&pt!=="MultiPoint"||(pt=xr.length===3?"Point":"MultiPoint"),Xe.push(Ft(ut.id,pt,xr,ut.tags))}}return Xe.length?Xe:null}function qe(Ne,ne,le,pe,Ee){for(let Re=0;Re<Ne.length;Re+=3){const Ye=Ne[Re+Ee];Ye>=le&&Ye<=pe&&Qe(ne,Ne[Re],Ne[Re+1],Ne[Re+2])}}function ht(Ne,ne,le,pe,Ee,Re,Ye){let Te=et(Ne);const Xe=Ee===0?dt:xt;let ut,ft,pt=Ne.start;for(let zr=0;zr<Ne.length-3;zr+=3){const Jr=Ne[zr],hn=Ne[zr+1],It=Ne[zr+2],_n=Ne[zr+3],dn=Ne[zr+4],ii=Ee===0?Jr:hn,en=Ee===0?_n:dn;let Et=!1;Ye&&(ut=Math.sqrt(Math.pow(Jr-_n,2)+Math.pow(hn-dn,2))),ii<le?en>le&&(ft=Xe(Te,Jr,hn,_n,dn,le),Ye&&(Te.start=pt+ut*ft)):ii>pe?en<pe&&(ft=Xe(Te,Jr,hn,_n,dn,pe),Ye&&(Te.start=pt+ut*ft)):Qe(Te,Jr,hn,It),en<le&&ii>=le&&(ft=Xe(Te,Jr,hn,_n,dn,le),Et=!0),en>pe&&ii<=pe&&(ft=Xe(Te,Jr,hn,_n,dn,pe),Et=!0),!Re&&Et&&(Ye&&(Te.end=pt+ut*ft),ne.push(Te),Te=et(Ne)),Ye&&(pt+=ut)}let Xt=Ne.length-3;const ar=Ne[Xt],xr=Ne[Xt+1],yn=Ee===0?ar:xr;yn>=le&&yn<=pe&&Qe(Te,ar,xr,Ne[Xt+2]),Xt=Te.length-3,Re&&Xt>=3&&(Te[Xt]!==Te[0]||Te[Xt+1]!==Te[1])&&Qe(Te,Te[0],Te[1],Te[2]),Te.length&&ne.push(Te)}function et(Ne){const ne=[];return ne.size=Ne.size,ne.start=Ne.start,ne.end=Ne.end,ne}function Je(Ne,ne,le,pe,Ee,Re){for(const Ye of Ne)ht(Ye,ne,le,pe,Ee,Re,!1)}function Qe(Ne,ne,le,pe){Ne.push(ne,le,pe)}function dt(Ne,ne,le,pe,Ee,Re){const Ye=(Re-ne)/(pe-ne);return Qe(Ne,Re,le+(Ee-le)*Ye,1),Ye}function xt(Ne,ne,le,pe,Ee,Re){const Ye=(Re-le)/(Ee-le);return Qe(Ne,ne+(pe-ne)*Ye,Re,1),Ye}function yt(Ne,ne){const le=[];for(let pe=0;pe<Ne.length;pe++){const Ee=Ne[pe],Re=Ee.type;let Ye;if(Re==="Point"||Re==="MultiPoint"||Re==="LineString")Ye=Ht(Ee.geometry,ne);else if(Re==="MultiLineString"||Re==="Polygon"){Ye=[];for(const Te of Ee.geometry)Ye.push(Ht(Te,ne))}else if(Re==="MultiPolygon"){Ye=[];for(const Te of Ee.geometry){const Xe=[];for(const ut of Te)Xe.push(Ht(ut,ne));Ye.push(Xe)}}le.push(Ft(Ee.id,Re,Ye,Ee.tags))}return le}function Ht(Ne,ne){const le=[];le.size=Ne.size,Ne.start!==void 0&&(le.start=Ne.start,le.end=Ne.end);for(let pe=0;pe<Ne.length;pe+=3)le.push(Ne[pe]+ne,Ne[pe+1],Ne[pe+2]);return le}function $t(Ne,ne){if(Ne.transformed)return Ne;const le=1<<Ne.z,pe=Ne.x,Ee=Ne.y;for(const Re of Ne.features){const Ye=Re.geometry,Te=Re.type;if(Re.geometry=[],Te===1)for(let Xe=0;Xe<Ye.length;Xe+=2)Re.geometry.push(Gt(Ye[Xe],Ye[Xe+1],ne,le,pe,Ee));else for(let Xe=0;Xe<Ye.length;Xe++){const ut=[];for(let ft=0;ft<Ye[Xe].length;ft+=2)ut.push(Gt(Ye[Xe][ft],Ye[Xe][ft+1],ne,le,pe,Ee));Re.geometry.push(ut)}}return Ne.transformed=!0,Ne}function Gt(Ne,ne,le,pe,Ee,Re){return[Math.round(le*(Ne*pe-Ee)),Math.round(le*(ne*pe-Re))]}function or(Ne,ne,le,pe,Ee){const Re=ne===Ee.maxZoom?0:Ee.tolerance/((1<<ne)*Ee.extent),Ye={features:[],numPoints:0,numSimplified:0,numFeatures:Ne.length,source:null,x:le,y:pe,z:ne,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const Te of Ne)vr(Ye,Te,Re,Ee);return Ye}function vr(Ne,ne,le,pe){const Ee=ne.geometry,Re=ne.type,Ye=[];if(Ne.minX=Math.min(Ne.minX,ne.minX),Ne.minY=Math.min(Ne.minY,ne.minY),Ne.maxX=Math.max(Ne.maxX,ne.maxX),Ne.maxY=Math.max(Ne.maxY,ne.maxY),Re==="Point"||Re==="MultiPoint")for(let Te=0;Te<Ee.length;Te+=3)Ye.push(Ee[Te],Ee[Te+1]),Ne.numPoints++,Ne.numSimplified++;else if(Re==="LineString")Er(Ye,Ee,Ne,le,!1,!1);else if(Re==="MultiLineString"||Re==="Polygon")for(let Te=0;Te<Ee.length;Te++)Er(Ye,Ee[Te],Ne,le,Re==="Polygon",Te===0);else if(Re==="MultiPolygon")for(let Te=0;Te<Ee.length;Te++){const Xe=Ee[Te];for(let ut=0;ut<Xe.length;ut++)Er(Ye,Xe[ut],Ne,le,!0,ut===0)}if(Ye.length){let Te=ne.tags||null;if(Re==="LineString"&&pe.lineMetrics){Te={};for(const ut in ne.tags)Te[ut]=ne.tags[ut];Te.mapbox_clip_start=Ee.start/Ee.size,Te.mapbox_clip_end=Ee.end/Ee.size}const Xe={geometry:Ye,type:Re==="Polygon"||Re==="MultiPolygon"?3:Re==="LineString"||Re==="MultiLineString"?2:1,tags:Te};ne.id!==null&&(Xe.id=ne.id),Ne.features.push(Xe)}}function Er(Ne,ne,le,pe,Ee,Re){const Ye=pe*pe;if(pe>0&&ne.size<(Ee?Ye:pe))return void(le.numPoints+=ne.length/3);const Te=[];for(let Xe=0;Xe<ne.length;Xe+=3)(pe===0||ne[Xe+2]>Ye)&&(le.numSimplified++,Te.push(ne[Xe],ne[Xe+1])),le.numPoints++;Ee&&(function(Xe,ut){let ft=0;for(let pt=0,Xt=Xe.length,ar=Xt-2;pt<Xt;ar=pt,pt+=2)ft+=(Xe[pt]-Xe[ar])*(Xe[pt+1]+Xe[ar+1]);if(ft>0===ut)for(let pt=0,Xt=Xe.length;pt<Xt/2;pt+=2){const ar=Xe[pt],xr=Xe[pt+1];Xe[pt]=Xe[Xt-2-pt],Xe[pt+1]=Xe[Xt-1-pt],Xe[Xt-2-pt]=ar,Xe[Xt-1-pt]=xr}})(Te,Re),Ne.push(Te)}const mr={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class Wr{constructor(ne,le){const pe=(le=this.options=(function(Re,Ye){for(const Te in Ye)Re[Te]=Ye[Te];return Re})(Object.create(mr),le)).debug;if(pe&&console.time("preprocess data"),le.maxZoom<0||le.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(le.promoteId&&le.generateId)throw new Error("promoteId and generateId cannot be used together.");let Ee=(function(Re,Ye){const Te=[];if(Re.type==="FeatureCollection")for(let Xe=0;Xe<Re.features.length;Xe++)it(Te,Re.features[Xe],Ye,Xe);else it(Te,Re.type==="Feature"?Re:{geometry:Re},Ye);return Te})(ne,le);this.tiles={},this.tileCoords=[],pe&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",le.indexMaxZoom,le.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Ee=(function(Re,Ye){const Te=Ye.buffer/Ye.extent;let Xe=Re;const ut=_e(Re,1,-1-Te,Te,0,-1,2,Ye),ft=_e(Re,1,1-Te,2+Te,0,-1,2,Ye);return(ut||ft)&&(Xe=_e(Re,1,-Te,1+Te,0,-1,2,Ye)||[],ut&&(Xe=yt(ut,1).concat(Xe)),ft&&(Xe=Xe.concat(yt(ft,-1)))),Xe})(Ee,le),Ee.length&&this.splitTile(Ee,0,0,0),pe&&(Ee.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(ne,le,pe,Ee,Re,Ye,Te){const Xe=[ne,le,pe,Ee],ut=this.options,ft=ut.debug;for(;Xe.length;){Ee=Xe.pop(),pe=Xe.pop(),le=Xe.pop(),ne=Xe.pop();const pt=1<<le,Xt=Yr(le,pe,Ee);let ar=this.tiles[Xt];if(!ar&&(ft>1&&console.time("creation"),ar=this.tiles[Xt]=or(ne,le,pe,Ee,ut),this.tileCoords.push({z:le,x:pe,y:Ee}),ft)){ft>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",le,pe,Ee,ar.numFeatures,ar.numPoints,ar.numSimplified),console.timeEnd("creation"));const Et=`z${le}`;this.stats[Et]=(this.stats[Et]||0)+1,this.total++}if(ar.source=ne,Re==null){if(le===ut.indexMaxZoom||ar.numPoints<=ut.indexMaxPoints)continue}else{if(le===ut.maxZoom||le===Re)continue;if(Re!=null){const Et=Re-le;if(pe!==Ye>>Et||Ee!==Te>>Et)continue}}if(ar.source=null,ne.length===0)continue;ft>1&&console.time("clipping");const xr=.5*ut.buffer/ut.extent,yn=.5-xr,zr=.5+xr,Jr=1+xr;let hn=null,It=null,_n=null,dn=null,ii=_e(ne,pt,pe-xr,pe+zr,0,ar.minX,ar.maxX,ut),en=_e(ne,pt,pe+yn,pe+Jr,0,ar.minX,ar.maxX,ut);ne=null,ii&&(hn=_e(ii,pt,Ee-xr,Ee+zr,1,ar.minY,ar.maxY,ut),It=_e(ii,pt,Ee+yn,Ee+Jr,1,ar.minY,ar.maxY,ut),ii=null),en&&(_n=_e(en,pt,Ee-xr,Ee+zr,1,ar.minY,ar.maxY,ut),dn=_e(en,pt,Ee+yn,Ee+Jr,1,ar.minY,ar.maxY,ut),en=null),ft>1&&console.timeEnd("clipping"),Xe.push(hn||[],le+1,2*pe,2*Ee),Xe.push(It||[],le+1,2*pe,2*Ee+1),Xe.push(_n||[],le+1,2*pe+1,2*Ee),Xe.push(dn||[],le+1,2*pe+1,2*Ee+1)}}getTile(ne,le,pe){ne=+ne,le=+le,pe=+pe;const Ee=this.options,{extent:Re,debug:Ye}=Ee;if(ne<0||ne>24)return null;const Te=1<<ne,Xe=Yr(ne,le=le+Te&Te-1,pe);if(this.tiles[Xe])return $t(this.tiles[Xe],Re);Ye>1&&console.log("drilling down to z%d-%d-%d",ne,le,pe);let ut,ft=ne,pt=le,Xt=pe;for(;!ut&&ft>0;)ft--,pt>>=1,Xt>>=1,ut=this.tiles[Yr(ft,pt,Xt)];return ut&&ut.source?(Ye>1&&(console.log("found parent tile z%d-%d-%d",ft,pt,Xt),console.time("drilling down")),this.splitTile(ut.source,ft,pt,Xt,ne,le,pe),Ye>1&&console.timeEnd("drilling down"),this.tiles[Xe]?$t(this.tiles[Xe],Re):null):null}}function Yr(Ne,ne,le){return 32*((1<<Ne)*le+ne)+Ne}class Nn extends K{constructor(ne,le,pe,Ee=rn){super(ne,le,pe),this._dataUpdateable=new Map,this._createGeoJSONIndex=Ee}loadVectorTile(ne,le){return s._(this,void 0,void 0,(function*(){const pe=ne.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const Ee=this._geoJSONIndex.getTile(pe.z,pe.x,pe.y);return Ee?j(new b(Ee.features,{version:2,extent:s.a4})):null}))}loadData(ne){return s._(this,void 0,void 0,(function*(){var le;(le=this._pendingRequest)===null||le===void 0||le.abort();const pe=this._startPerformance(ne);this._pendingRequest=new AbortController;try{(!this._pendingData||ne.request||ne.data||ne.dataDiff)&&(this._pendingData=this.loadAndProcessGeoJSON(ne,this._pendingRequest));const Ee=yield this._pendingData;this._geoJSONIndex=this._createGeoJSONIndex(Ee,ne),this.loaded={};const Re=ne.dataDiff&&s.a6(Ee)?{applyDiff:!0}:{data:Ee};return this._finishPerformance(pe,ne,Re),Re}catch(Ee){if(delete this._pendingRequest,s.cH(Ee))return{abandoned:!0};throw Ee}}))}_startPerformance(ne){var le;if(!((le=ne?.request)===null||le===void 0)&&le.collectResourceTiming)return new s.c$(ne.request)}_finishPerformance(ne,le,pe){if(!ne)return;const Ee=ne.finish();Ee&&(pe.resourceTiming={},pe.resourceTiming[le.source]=JSON.parse(JSON.stringify(Ee)))}getData(){return s._(this,void 0,void 0,(function*(){return this._pendingData}))}reloadTile(ne){const le=this.loaded;return le&&le[ne.uid]?super.reloadTile(ne):this.loadTile(ne)}loadAndProcessGeoJSON(ne,le){return s._(this,void 0,void 0,(function*(){let pe;if(ne.request?pe=yield this.loadGeoJSONFromUrl(ne.request,ne.promoteId,le):ne.data?pe=this._loadGeoJSONFromObject(ne.data,ne.promoteId):ne.dataDiff&&(pe=this._loadGeoJSONFromDiff(ne.dataDiff,ne.promoteId,ne.source)),delete this._pendingRequest,typeof pe!="object")throw new Error(`Input data given to '${ne.source}' is not a valid GeoJSON object.`);return be(pe,!0),ne.filter&&(pe=this._filterGeoJSON(pe,ne.filter)),pe}))}loadGeoJSONFromUrl(ne,le,pe){return s._(this,void 0,void 0,(function*(){const Ee=yield s.j(ne,pe);return this._dataUpdateable=s.a6(Ee.data,le)?s.a7(Ee.data,le):void 0,Ee.data}))}_loadGeoJSONFromObject(ne,le){return this._dataUpdateable=s.a6(ne,le)?s.a7(ne,le):void 0,ne}_loadGeoJSONFromDiff(ne,le,pe){if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${pe}`);s.a8(this._dataUpdateable,ne,le);const Ee=Array.from(this._dataUpdateable.values());return this._toFeatureCollection(Ee)}_filterGeoJSON(ne,le){const pe=s.d3(le,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(pe.result==="error")throw new Error(pe.value.map((Re=>`${Re.key}: ${Re.message}`)).join(", "));const Ee=ne.features.filter((Re=>pe.value.evaluate({zoom:0},Re)));return this._toFeatureCollection(Ee)}_toFeatureCollection(ne){return{type:"FeatureCollection",features:ne}}removeSource(ne){return s._(this,void 0,void 0,(function*(){this._pendingRequest&&this._pendingRequest.abort()}))}getClusterExpansionZoom(ne){return this._geoJSONIndex.getClusterExpansionZoom(ne.clusterId)}getClusterChildren(ne){return this._geoJSONIndex.getChildren(ne.clusterId)}getClusterLeaves(ne){return this._geoJSONIndex.getLeaves(ne.clusterId,ne.limit,ne.offset)}}function rn(Ne,ne){return ne.cluster?new ze((function({superclusterOptions:le,clusterProperties:pe}){if(!pe||!le)return le;const Ee={},Re={},Ye={accumulated:null,zoom:0},Te={properties:null},Xe=Object.keys(pe);for(const ut of Xe){const[ft,pt]=pe[ut],Xt=s.d3(pt),ar=s.d3(typeof ft=="string"?[ft,["accumulated"],["get",ut]]:ft);Ee[ut]=Xt.value,Re[ut]=ar.value}return le.map=ut=>{Te.properties=ut;const ft={};for(const pt of Xe)ft[pt]=Ee[pt].evaluate(Ye,Te);return ft},le.reduce=(ut,ft)=>{Te.properties=ft;for(const pt of Xe)Ye.accumulated=ut[pt],ut[pt]=Re[pt].evaluate(Ye,Te)},le})(ne)).load(Ne.features):(function(le,pe){return new Wr(le,pe)})(Ne,ne.geojsonVtOptions)}class Zn{constructor(ne){this.self=ne,this.actor=new s.L(ne),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.globalStates=new Map,this.self.registerWorkerSource=(le,pe)=>{if(this.externalWorkerSourceTypes[le])throw new Error(`Worker source with name "${le}" already registered.`);this.externalWorkerSourceTypes[le]=pe},this.self.addProtocol=s.cJ,this.self.removeProtocol=s.cK,this.self.registerRTLTextPlugin=le=>{s.d4.setMethods(le)},this.actor.registerMessageHandler("LDT",((le,pe)=>this._getDEMWorkerSource(le,pe.source).loadTile(pe))),this.actor.registerMessageHandler("RDT",((le,pe)=>s._(this,void 0,void 0,(function*(){this._getDEMWorkerSource(le,pe.source).removeTile(pe)})))),this.actor.registerMessageHandler("GCEZ",((le,pe)=>s._(this,void 0,void 0,(function*(){return this._getWorkerSource(le,pe.type,pe.source).getClusterExpansionZoom(pe)})))),this.actor.registerMessageHandler("GCC",((le,pe)=>s._(this,void 0,void 0,(function*(){return this._getWorkerSource(le,pe.type,pe.source).getClusterChildren(pe)})))),this.actor.registerMessageHandler("GCL",((le,pe)=>s._(this,void 0,void 0,(function*(){return this._getWorkerSource(le,pe.type,pe.source).getClusterLeaves(pe)})))),this.actor.registerMessageHandler("LD",((le,pe)=>this._getWorkerSource(le,pe.type,pe.source).loadData(pe))),this.actor.registerMessageHandler("GD",((le,pe)=>this._getWorkerSource(le,pe.type,pe.source).getData())),this.actor.registerMessageHandler("LT",((le,pe)=>this._getWorkerSource(le,pe.type,pe.source).loadTile(pe))),this.actor.registerMessageHandler("RT",((le,pe)=>this._getWorkerSource(le,pe.type,pe.source).reloadTile(pe))),this.actor.registerMessageHandler("AT",((le,pe)=>this._getWorkerSource(le,pe.type,pe.source).abortTile(pe))),this.actor.registerMessageHandler("RMT",((le,pe)=>this._getWorkerSource(le,pe.type,pe.source).removeTile(pe))),this.actor.registerMessageHandler("RS",((le,pe)=>s._(this,void 0,void 0,(function*(){if(!this.workerSources[le]||!this.workerSources[le][pe.type]||!this.workerSources[le][pe.type][pe.source])return;const Ee=this.workerSources[le][pe.type][pe.source];delete this.workerSources[le][pe.type][pe.source],Ee.removeSource!==void 0&&Ee.removeSource(pe)})))),this.actor.registerMessageHandler("RM",(le=>s._(this,void 0,void 0,(function*(){delete this.layerIndexes[le],delete this.availableImages[le],delete this.workerSources[le],delete this.demWorkerSources[le],this.globalStates.delete(le)})))),this.actor.registerMessageHandler("SR",((le,pe)=>s._(this,void 0,void 0,(function*(){this.referrer=pe})))),this.actor.registerMessageHandler("SRPS",((le,pe)=>this._syncRTLPluginState(le,pe))),this.actor.registerMessageHandler("IS",((le,pe)=>s._(this,void 0,void 0,(function*(){this.self.importScripts(pe)})))),this.actor.registerMessageHandler("SI",((le,pe)=>this._setImages(le,pe))),this.actor.registerMessageHandler("UL",((le,pe)=>s._(this,void 0,void 0,(function*(){this._getLayerIndex(le).update(pe.layers,pe.removedIds,this._getGlobalState(le))})))),this.actor.registerMessageHandler("UGS",((le,pe)=>s._(this,void 0,void 0,(function*(){const Ee=this._getGlobalState(le);for(const Re in pe)Ee[Re]=pe[Re]})))),this.actor.registerMessageHandler("SL",((le,pe)=>s._(this,void 0,void 0,(function*(){this._getLayerIndex(le).replace(pe,this._getGlobalState(le))}))))}_getGlobalState(ne){let le=this.globalStates.get(ne);return le||(le={},this.globalStates.set(ne,le)),le}_setImages(ne,le){return s._(this,void 0,void 0,(function*(){this.availableImages[ne]=le;for(const pe in this.workerSources[ne]){const Ee=this.workerSources[ne][pe];for(const Re in Ee)Ee[Re].availableImages=le}}))}_syncRTLPluginState(ne,le){return s._(this,void 0,void 0,(function*(){return yield s.d4.syncState(le,this.self.importScripts)}))}_getAvailableImages(ne){let le=this.availableImages[ne];return le||(le=[]),le}_getLayerIndex(ne){let le=this.layerIndexes[ne];return le||(le=this.layerIndexes[ne]=new a),le}_getWorkerSource(ne,le,pe){if(this.workerSources[ne]||(this.workerSources[ne]={}),this.workerSources[ne][le]||(this.workerSources[ne][le]={}),!this.workerSources[ne][le][pe]){const Ee={sendAsync:(Re,Ye)=>(Re.targetMapId=ne,this.actor.sendAsync(Re,Ye))};switch(le){case"vector":this.workerSources[ne][le][pe]=new K(Ee,this._getLayerIndex(ne),this._getAvailableImages(ne));break;case"geojson":this.workerSources[ne][le][pe]=new Nn(Ee,this._getLayerIndex(ne),this._getAvailableImages(ne));break;default:this.workerSources[ne][le][pe]=new this.externalWorkerSourceTypes[le](Ee,this._getLayerIndex(ne),this._getAvailableImages(ne))}}return this.workerSources[ne][le][pe]}_getDEMWorkerSource(ne,le){return this.demWorkerSources[ne]||(this.demWorkerSources[ne]={}),this.demWorkerSources[ne][le]||(this.demWorkerSources[ne][le]=new Q),this.demWorkerSources[ne][le]}}return s.i(self)&&(self.worker=new Zn(self)),Zn})),i("index",["exports","./shared"],(function(s,a){var h="5.13.0";function p(){var P=new a.A(4);return a.A!=Float32Array&&(P[1]=0,P[2]=0),P[0]=1,P[3]=1,P}let m,v,b;const x={frame(P,u,f){const _=requestAnimationFrame((M=>{S(),u(M)})),{unsubscribe:S}=a.s(P.signal,"abort",(()=>{S(),cancelAnimationFrame(_),f(a.c())}),!1)},frameAsync(P){return new Promise(((u,f)=>{this.frame(P,u,f)}))},getImageData(P,u=0){return this.getImageCanvasContext(P).getImageData(-u,-u,P.width+2*u,P.height+2*u)},getImageCanvasContext(P){const u=window.document.createElement("canvas"),f=u.getContext("2d",{willReadFrequently:!0});if(!f)throw new Error("failed to create canvas 2d context");return u.width=P.width,u.height=P.height,f.drawImage(P,0,0,P.width,P.height),f},resolveURL:P=>(m||(m=document.createElement("a")),m.href=P,m.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return b!==void 0?b:!!matchMedia&&(v==null&&(v=matchMedia("(prefers-reduced-motion: reduce)")),v.matches)},set prefersReducedMotion(P){b=P}},C=new class{constructor(){this._realTime=typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),this._frozenAt=null}getCurrentTime(){return this._frozenAt!==null?this._frozenAt:this._realTime()}setNow(P){this._frozenAt=P}restoreNow(){this._frozenAt=null}isFrozen(){return this._frozenAt!==null}};function I(){return C.getCurrentTime()}class A{static testProp(u){if(!A.docStyle)return u[0];for(let f=0;f<u.length;f++)if(u[f]in A.docStyle)return u[f];return u[0]}static create(u,f,_){const S=window.document.createElement(u);return f!==void 0&&(S.className=f),_&&_.appendChild(S),S}static createNS(u,f){return window.document.createElementNS(u,f)}static disableDrag(){A.docStyle&&A.selectProp&&(A.userSelect=A.docStyle[A.selectProp],A.docStyle[A.selectProp]="none")}static enableDrag(){A.docStyle&&A.selectProp&&(A.docStyle[A.selectProp]=A.userSelect)}static setTransform(u,f){u.style[A.transformProp]=f}static addEventListener(u,f,_,S={}){u.addEventListener(f,_,"passive"in S?S:S.capture)}static removeEventListener(u,f,_,S={}){u.removeEventListener(f,_,"passive"in S?S:S.capture)}static suppressClickInternal(u){u.preventDefault(),u.stopPropagation(),window.removeEventListener("click",A.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",A.suppressClickInternal,!0),window.setTimeout((()=>{window.removeEventListener("click",A.suppressClickInternal,!0)}),0)}static getScale(u){const f=u.getBoundingClientRect();return{x:f.width/u.offsetWidth||1,y:f.height/u.offsetHeight||1,boundingClientRect:f}}static getPoint(u,f,_){const S=f.boundingClientRect;return new a.P((_.clientX-S.left)/f.x-u.clientLeft,(_.clientY-S.top)/f.y-u.clientTop)}static mousePos(u,f){const _=A.getScale(u);return A.getPoint(u,_,f)}static touchPos(u,f){const _=[],S=A.getScale(u);for(let M=0;M<f.length;M++)_.push(A.getPoint(u,S,f[M]));return _}static mouseButton(u){return u.button}static remove(u){u.parentNode&&u.parentNode.removeChild(u)}static sanitize(u){const f=new DOMParser().parseFromString(u,"text/html").body||document.createElement("body"),_=f.querySelectorAll("script");for(const S of _)S.remove();return A.clean(f),f.innerHTML}static isPossiblyDangerous(u,f){const _=f.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href"].includes(u)||!_.includes("javascript:")&&!_.includes("data:"))||!!u.startsWith("on")||void 0}static clean(u){const f=u.children;for(const _ of f)A.removeAttributes(_),A.clean(_)}static removeAttributes(u){for(const{name:f,value:_}of u.attributes)A.isPossiblyDangerous(f,_)&&u.removeAttribute(f)}}A.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,A.selectProp=A.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),A.transformProp=A.testProp(["transform","WebkitTransform"]);const R={supported:!1,testSupport:function(P){!N&&$&&(H?W(P):k=P)}};let k,$,N=!1,H=!1;function W(P){const u=P.createTexture();P.bindTexture(P.TEXTURE_2D,u);try{if(P.texImage2D(P.TEXTURE_2D,0,P.RGBA,P.RGBA,P.UNSIGNED_BYTE,$),P.isContextLost())return;R.supported=!0}catch{}P.deleteTexture(u),N=!0}var j;typeof document<"u"&&($=document.createElement("img"),$.onload=()=>{k&&W(k),k=null,H=!0},$.onerror=()=>{N=!0,k=null},$.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),(function(P){let u,f,_,S;P.resetRequestQueue=()=>{u=[],f=0,_=0,S={}},P.addThrottleControl=F=>{const G=_++;return S[G]=F,G},P.removeThrottleControl=F=>{delete S[F],D()},P.getImage=(F,G,q=!0)=>new Promise(((te,ee)=>{R.supported&&(F.headers||(F.headers={}),F.headers.accept="image/webp,*/*"),a.e(F,{type:"image"}),u.push({abortController:G,requestParameters:F,supportImageRefresh:q,state:"queued",onError:ae=>{ee(ae)},onSuccess:ae=>{te(ae)}}),D()}));const M=F=>a._(this,void 0,void 0,(function*(){F.state="running";const{requestParameters:G,supportImageRefresh:q,onError:te,onSuccess:ee,abortController:ae}=F,fe=q===!1&&!a.i(self)&&!a.g(G.url)&&(!G.headers||Object.keys(G.headers).reduce(((Pe,Ae)=>Pe&&Ae==="accept"),!0));f++;const we=fe?z(G,ae):a.m(G,ae);try{const Pe=yield we;delete F.abortController,F.state="completed",Pe.data instanceof HTMLImageElement||a.b(Pe.data)?ee(Pe):Pe.data&&ee({data:yield(Se=Pe.data,typeof createImageBitmap=="function"?a.f(Se):a.h(Se)),cacheControl:Pe.cacheControl,expires:Pe.expires})}catch(Pe){delete F.abortController,te(Pe)}finally{f--,D()}var Se})),D=()=>{const F=(()=>{for(const G of Object.keys(S))if(S[G]())return!0;return!1})()?a.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:a.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let G=f;G<F&&u.length>0;G++){const q=u.shift();q.abortController.signal.aborted?G--:M(q)}},z=(F,G)=>new Promise(((q,te)=>{const ee=new Image,ae=F.url,fe=F.credentials;fe&&fe==="include"?ee.crossOrigin="use-credentials":(fe&&fe==="same-origin"||!a.d(ae))&&(ee.crossOrigin="anonymous"),G.signal.addEventListener("abort",(()=>{ee.src="",te(a.c())})),ee.fetchPriority="high",ee.onload=()=>{ee.onerror=ee.onload=null,q({data:ee})},ee.onerror=()=>{ee.onerror=ee.onload=null,G.signal.aborted||te(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},ee.src=ae}))})(j||(j={})),j.resetRequestQueue();class X{constructor(u){this._transformRequestFn=u??null}transformRequest(u,f){return this._transformRequestFn&&this._transformRequestFn(u,f)||{url:u}}setTransformRequest(u){this._transformRequestFn=u}}function K(P){const u=[];if(typeof P=="string")u.push({id:"default",url:P});else if(P&&P.length>0){const f=[];for(const{id:_,url:S}of P){const M=`${_}${S}`;f.indexOf(M)===-1&&(f.push(M),u.push({id:_,url:S}))}}return u}function Q(P,u,f){try{const _=new URL(P);return _.pathname+=`${u}${f}`,_.toString()}catch{throw new Error(`Invalid sprite URL "${P}", must be absolute. Modify style specification directly or use TransformStyleFunction to correct the issue dynamically`)}}function oe(P){const{userImage:u}=P;return!!(u&&u.render&&u.render())&&(P.data.replace(new Uint8Array(u.data.buffer)),!0)}class he extends a.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.R({width:1,height:1}),this.dirty=!0}destroy(){this.atlasTexture&&(this.atlasTexture.destroy(),this.atlasTexture=null);for(const u of Object.keys(this.images))this.removeImage(u);this.patterns={},this.atlasImage=new a.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(u){if(this.loaded!==u&&(this.loaded=u,u)){for(const{ids:f,promiseResolve:_}of this.requestors)_(this._getImagesForIds(f));this.requestors=[]}}getImage(u){const f=this.images[u];if(f&&!f.data&&f.spriteData){const _=f.spriteData;f.data=new a.R({width:_.width,height:_.height},_.context.getImageData(_.x,_.y,_.width,_.height).data),f.spriteData=null}return f}addImage(u,f){if(this.images[u])throw new Error(`Image id ${u} already exist, use updateImage instead`);this._validate(u,f)&&(this.images[u]=f)}_validate(u,f){let _=!0;const S=f.data||f.spriteData;return this._validateStretch(f.stretchX,S&&S.width)||(this.fire(new a.k(new Error(`Image "${u}" has invalid "stretchX" value`))),_=!1),this._validateStretch(f.stretchY,S&&S.height)||(this.fire(new a.k(new Error(`Image "${u}" has invalid "stretchY" value`))),_=!1),this._validateContent(f.content,f)||(this.fire(new a.k(new Error(`Image "${u}" has invalid "content" value`))),_=!1),_}_validateStretch(u,f){if(!u)return!0;let _=0;for(const S of u){if(S[0]<_||S[1]<S[0]||f<S[1])return!1;_=S[1]}return!0}_validateContent(u,f){if(!u)return!0;if(u.length!==4)return!1;const _=f.spriteData,S=_&&_.width||f.data.width,M=_&&_.height||f.data.height;return!(u[0]<0||S<u[0]||u[1]<0||M<u[1]||u[2]<0||S<u[2]||u[3]<0||M<u[3]||u[2]<u[0]||u[3]<u[1])}updateImage(u,f,_=!0){const S=this.getImage(u);if(_&&(S.data.width!==f.data.width||S.data.height!==f.data.height))throw new Error(`size mismatch between old image (${S.data.width}x${S.data.height}) and new image (${f.data.width}x${f.data.height}).`);f.version=S.version+1,this.images[u]=f,this.updatedImages[u]=!0}removeImage(u){const f=this.images[u];delete this.images[u],delete this.patterns[u],f.userImage&&f.userImage.onRemove&&f.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(u){return new Promise(((f,_)=>{let S=!0;if(!this.isLoaded())for(const M of u)this.images[M]||(S=!1);this.isLoaded()||S?f(this._getImagesForIds(u)):this.requestors.push({ids:u,promiseResolve:f})}))}_getImagesForIds(u){const f={};for(const _ of u){let S=this.getImage(_);S||(this.fire(new a.l("styleimagemissing",{id:_})),S=this.getImage(_)),S?f[_]={data:S.data.clone(),pixelRatio:S.pixelRatio,sdf:S.sdf,version:S.version,stretchX:S.stretchX,stretchY:S.stretchY,content:S.content,textFitWidth:S.textFitWidth,textFitHeight:S.textFitHeight,hasRenderCallback:!!(S.userImage&&S.userImage.render)}:a.w(`Image "${_}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return f}getPixelSize(){const{width:u,height:f}=this.atlasImage;return{width:u,height:f}}getPattern(u){const f=this.patterns[u],_=this.getImage(u);if(!_)return null;if(f&&f.position.version===_.version)return f.position;if(f)f.position.version=_.version;else{const S={w:_.data.width+2,h:_.data.height+2,x:0,y:0},M=new a.I(S,_);this.patterns[u]={bin:S,position:M}}return this._updatePatternAtlas(),this.patterns[u].position}bind(u){const f=u.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.T(u,this.atlasImage,f.RGBA),this.atlasTexture.bind(f.LINEAR,f.CLAMP_TO_EDGE)}_updatePatternAtlas(){const u=[];for(const M in this.patterns)u.push(this.patterns[M].bin);const{w:f,h:_}=a.p(u),S=this.atlasImage;S.resize({width:f||1,height:_||1});for(const M in this.patterns){const{bin:D}=this.patterns[M],z=D.x+1,F=D.y+1,G=this.getImage(M).data,q=G.width,te=G.height;a.R.copy(G,S,{x:0,y:0},{x:z,y:F},{width:q,height:te}),a.R.copy(G,S,{x:0,y:te-1},{x:z,y:F-1},{width:q,height:1}),a.R.copy(G,S,{x:0,y:0},{x:z,y:F+te},{width:q,height:1}),a.R.copy(G,S,{x:q-1,y:0},{x:z-1,y:F},{width:1,height:te}),a.R.copy(G,S,{x:0,y:0},{x:z+q,y:F},{width:1,height:te})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(u){for(const f of u){if(this.callbackDispatchedThisFrame[f])continue;this.callbackDispatchedThisFrame[f]=!0;const _=this.getImage(f);_||a.w(`Image with ID: "${f}" was not found`),oe(_)&&this.updateImage(f,_)}}cloneImages(){const u={};for(const f in this.images){const _=this.images[f];u[f]=Object.assign(Object.assign({},_),{data:_.data?_.data.clone():null})}return u}}const ye=1e20;function be(P,u,f,_,S,M,D,z,F){for(let G=u;G<u+_;G++)ce(P,f*M+G,M,S,D,z,F);for(let G=f;G<f+S;G++)ce(P,G*M+u,1,_,D,z,F)}function ce(P,u,f,_,S,M,D){M[0]=0,D[0]=-ye,D[1]=ye,S[0]=P[u];for(let z=1,F=0,G=0;z<_;z++){S[z]=P[u+z*f];const q=z*z;do{const te=M[F];G=(S[z]-S[te]+q-te*te)/(z-te)/2}while(G<=D[F]&&--F>-1);F++,M[F]=z,D[F]=G,D[F+1]=ye}for(let z=0,F=0;z<_;z++){for(;D[F+1]<z;)F++;const G=M[F],q=z-G;P[u+z*f]=S[G]+q*q}}const de=a.v.layout_symbol["text-font"].default.join(",");class Oe{constructor(u,f,_){this.requestManager=u,this.localIdeographFontFamily=f,this.entries={},this.lang=_}setURL(u){this.url=u}getGlyphs(u){return a._(this,void 0,void 0,(function*(){const f=[];for(const M in u)for(const D of u[M])f.push(this._getAndCacheGlyphsPromise(M,D));const _=yield Promise.all(f),S={};for(const{stack:M,id:D,glyph:z}of _)S[M]||(S[M]={}),S[M][D]=z&&{id:z.id,bitmap:z.bitmap.clone(),metrics:z.metrics};return S}))}_getAndCacheGlyphsPromise(u,f){return a._(this,void 0,void 0,(function*(){let _=this.entries[u];_||(_=this.entries[u]={glyphs:{},requests:{},ranges:{}});let S=_.glyphs[f];return S!==void 0?{stack:u,id:f,glyph:S}:!this.url||this._charUsesLocalIdeographFontFamily(f)?(S=_.glyphs[f]=this._drawGlyph(_,u,f),{stack:u,id:f,glyph:S}):yield this._downloadAndCacheRangePromise(u,f)}))}_downloadAndCacheRangePromise(u,f){return a._(this,void 0,void 0,(function*(){const _=this.entries[u],S=Math.floor(f/256);if(_.ranges[S])return{stack:u,id:f,glyph:null};if(!_.requests[S]){const M=Oe.loadGlyphRange(u,S,this.url,this.requestManager);_.requests[S]=M}try{const M=yield _.requests[S];for(const D in M)_.glyphs[+D]=M[+D];return _.ranges[S]=!0,{stack:u,id:f,glyph:M[f]||null}}catch(M){const D=_.glyphs[f]=this._drawGlyph(_,u,f);return this._warnOnMissingGlyphRange(D,S,f,M),{stack:u,id:f,glyph:D}}}))}_warnOnMissingGlyphRange(u,f,_,S){const M=256*f,D=M+255,z=_.toString(16).padStart(4,"0").toUpperCase();a.w(`Unable to load glyph range ${f}, ${M}-${D}. Rendering codepoint U+${z} locally instead. ${S}`)}_charUsesLocalIdeographFontFamily(u){return!!this.localIdeographFontFamily&&a.q(u)}_drawGlyph(u,f,_){const S=f===de&&this.localIdeographFontFamily!==""&&this._charUsesLocalIdeographFontFamily(_),M=S?"ideographTinySDF":"tinySDF";u[M]||(u[M]=this._createTinySDF(S?this.localIdeographFontFamily:f));const D=u[M].draw(String.fromCodePoint(_));return{id:_,bitmap:new a.r({width:D.width||60,height:D.height||60},D.data),metrics:{width:D.glyphWidth/2||24,height:D.glyphHeight/2||24,left:D.glyphLeft/2+.5||0,top:D.glyphTop/2-27.5||-8,advance:D.glyphAdvance/2||24,isDoubleResolution:!0}}}_createTinySDF(u){const f=u?u.split(","):[];f.push("sans-serif");const _=f.map((S=>/[-\w]+/.test(S)?S:`'${CSS.escape(S)}'`)).join(",");return new Oe.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:_,fontWeight:this._fontWeight(f[0]),fontStyle:this._fontStyle(f[0]),lang:this.lang})}_fontStyle(u){return/italic/i.test(u)?"italic":/oblique/i.test(u)?"oblique":"normal"}_fontWeight(u){const f={thin:100,hairline:100,"extra light":200,"ultra light":200,light:300,normal:400,regular:400,medium:500,semibold:600,demibold:600,bold:700,"extra bold":800,"ultra bold":800,black:900,heavy:900,"extra black":950,"ultra black":950};let _;for(const[S,M]of Object.entries(f))new RegExp(`\\b${S}\\b`,"i").test(u)&&(_=`${M}`);return _}destroy(){for(const u in this.entries){const f=this.entries[u];f.tinySDF&&(f.tinySDF=null),f.ideographTinySDF&&(f.ideographTinySDF=null),f.glyphs={},f.requests={},f.ranges={}}this.entries={}}}Oe.loadGlyphRange=function(P,u,f,_){return a._(this,void 0,void 0,(function*(){const S=256*u,M=S+255,D=_.transformRequest(f.replace("{fontstack}",P).replace("{range}",`${S}-${M}`),"Glyphs"),z=yield a.n(D,new AbortController);if(!z||!z.data)throw new Error(`Could not load glyph range. range: ${u}, ${S}-${M}`);const F={};for(const G of a.o(z.data))F[G.id]=G;return F}))},Oe.TinySDF=class{constructor({fontSize:P=24,buffer:u=3,radius:f=8,cutoff:_=.25,fontFamily:S="sans-serif",fontWeight:M="normal",fontStyle:D="normal",lang:z=null}={}){this.buffer=u,this.cutoff=_,this.radius=f,this.lang=z;const F=this.size=P+4*u,G=this._createCanvas(F),q=this.ctx=G.getContext("2d",{willReadFrequently:!0});q.font=`${D} ${M} ${P}px ${S}`,q.textBaseline="alphabetic",q.textAlign="left",q.fillStyle="black",this.gridOuter=new Float64Array(F*F),this.gridInner=new Float64Array(F*F),this.f=new Float64Array(F),this.z=new Float64Array(F+1),this.v=new Uint16Array(F)}_createCanvas(P){const u=document.createElement("canvas");return u.width=u.height=P,u}draw(P){const{width:u,actualBoundingBoxAscent:f,actualBoundingBoxDescent:_,actualBoundingBoxLeft:S,actualBoundingBoxRight:M}=this.ctx.measureText(P),D=Math.ceil(f),z=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(M-S))),F=Math.min(this.size-this.buffer,D+Math.ceil(_)),G=z+2*this.buffer,q=F+2*this.buffer,te=Math.max(G*q,0),ee=new Uint8ClampedArray(te),ae={data:ee,width:G,height:q,glyphWidth:z,glyphHeight:F,glyphTop:D,glyphLeft:0,glyphAdvance:u};if(z===0||F===0)return ae;const{ctx:fe,buffer:we,gridInner:Se,gridOuter:Pe}=this;this.lang&&(fe.lang=this.lang),fe.clearRect(we,we,z,F),fe.fillText(P,we,we+D);const Ae=fe.getImageData(we,we,z,F);Pe.fill(ye,0,te),Se.fill(0,0,te);for(let ke=0;ke<F;ke++)for(let Ie=0;Ie<z;Ie++){const $e=Ae.data[4*(ke*z+Ie)+3]/255;if($e===0)continue;const Ge=(ke+we)*G+Ie+we;if($e===1)Pe[Ge]=0,Se[Ge]=ye;else{const Le=.5-$e;Pe[Ge]=Le>0?Le*Le:0,Se[Ge]=Le<0?Le*Le:0}}be(Pe,0,0,G,q,G,this.f,this.v,this.z),be(Se,we,we,z,F,G,this.f,this.v,this.z);for(let ke=0;ke<te;ke++){const Ie=Math.sqrt(Pe[ke])-Math.sqrt(Se[ke]);ee[ke]=Math.round(255-255*(Ie/this.radius+this.cutoff))}return ae}};class ze{constructor(){this.specification=a.u.light.position}possiblyEvaluate(u,f){return a.F(u.expression.evaluate(f))}interpolate(u,f,_){return{x:a.G.number(u.x,f.x,_),y:a.G.number(u.y,f.y,_),z:a.G.number(u.z,f.z,_)}}}let De;class ct extends a.E{constructor(u){super(),De=De||new a.t({anchor:new a.D(a.u.light.anchor),position:new ze,color:new a.D(a.u.light.color),intensity:new a.D(a.u.light.intensity)}),this._transitionable=new a.x(De,void 0),this.setLight(u),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(u,f={}){if(!this._validate(a.y,u,f))for(const _ in u){const S=u[_];_.endsWith(a.z)?this._transitionable.setTransition(_.slice(0,-a.z.length),S):this._transitionable.setValue(_,S)}}updateTransitions(u){this._transitioning=this._transitionable.transitioned(u,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(u){this.properties=this._transitioning.possiblyEvaluate(u)}_validate(u,f,_){return(!_||_.validate!==!1)&&a.B(this,u.call(a.C,{value:f,style:{glyphs:!0,sprite:!0},styleSpec:a.u}))}}const Ke=new a.t({"sky-color":new a.D(a.u.sky["sky-color"]),"horizon-color":new a.D(a.u.sky["horizon-color"]),"fog-color":new a.D(a.u.sky["fog-color"]),"fog-ground-blend":new a.D(a.u.sky["fog-ground-blend"]),"horizon-fog-blend":new a.D(a.u.sky["horizon-fog-blend"]),"sky-horizon-blend":new a.D(a.u.sky["sky-horizon-blend"]),"atmosphere-blend":new a.D(a.u.sky["atmosphere-blend"])});class gt extends a.E{constructor(u){super(),this._transitionable=new a.x(Ke,void 0),this.setSky(u),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new a.H(0))}setSky(u,f={}){if(!this._validate(a.J,u,f)){u||(u={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(const _ in u){const S=u[_];_.endsWith(a.z)?this._transitionable.setTransition(_.slice(0,-a.z.length),S):this._transitionable.setValue(_,S)}}}getSky(){return this._transitionable.serialize()}updateTransitions(u){this._transitioning=this._transitionable.transitioned(u,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(u){this.properties=this._transitioning.possiblyEvaluate(u)}_validate(u,f,_={}){return _?.validate!==!1&&a.B(this,u.call(a.C,a.e({value:f,style:{glyphs:!0,sprite:!0},styleSpec:a.u})))}calculateFogBlendOpacity(u){return u<60?0:u<70?(u-60)/10:1}}class Lt{constructor(u,f){this.width=u,this.height=f,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(u,f){const _=u.join(",")+String(f);return this.dashEntry[_]||(this.dashEntry[_]=this.addDash(u,f)),this.dashEntry[_]}getDashRanges(u,f,_){const S=[];let M=u.length%2==1?-u[u.length-1]*_:0,D=u[0]*_,z=!0;S.push({left:M,right:D,isDash:z,zeroLength:u[0]===0});let F=u[0];for(let G=1;G<u.length;G++){z=!z;const q=u[G];M=F*_,F+=q,D=F*_,S.push({left:M,right:D,isDash:z,zeroLength:q===0})}return S}addRoundDash(u,f,_){const S=f/2;for(let M=-_;M<=_;M++){const D=this.width*(this.nextRow+_+M);let z=0,F=u[z];for(let G=0;G<this.width;G++){G/F.right>1&&(F=u[++z]);const q=Math.abs(G-F.left),te=Math.abs(G-F.right),ee=Math.min(q,te);let ae;const fe=M/_*(S+1);if(F.isDash){const we=S-Math.abs(fe);ae=Math.sqrt(ee*ee+we*we)}else ae=S-Math.sqrt(ee*ee+fe*fe);this.data[D+G]=Math.max(0,Math.min(255,ae+128))}}}addRegularDash(u){for(let z=u.length-1;z>=0;--z){const F=u[z],G=u[z+1];F.zeroLength?u.splice(z,1):G&&G.isDash===F.isDash&&(G.left=F.left,u.splice(z,1))}const f=u[0],_=u[u.length-1];f.isDash===_.isDash&&(f.left=_.left-this.width,_.right=f.right+this.width);const S=this.width*this.nextRow;let M=0,D=u[M];for(let z=0;z<this.width;z++){z/D.right>1&&(D=u[++M]);const F=Math.abs(z-D.left),G=Math.abs(z-D.right),q=Math.min(F,G);this.data[S+z]=Math.max(0,Math.min(255,(D.isDash?q:-q)+128))}}addDash(u,f){const _=f?7:0,S=2*_+1;if(this.nextRow+S>this.height)return a.w("LineAtlas out of space"),null;let M=0;for(let z=0;z<u.length;z++)M+=u[z];if(M!==0){const z=this.width/M,F=this.getDashRanges(u,this.width,z);f?this.addRoundDash(F,z,_):this.addRegularDash(F)}const D={y:this.nextRow+_,height:2*_,width:M};return this.nextRow+=S,this.dirty=!0,D}bind(u){const f=u.gl;this.texture?(f.bindTexture(f.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,f.texSubImage2D(f.TEXTURE_2D,0,0,0,this.width,this.height,f.ALPHA,f.UNSIGNED_BYTE,this.data))):(this.texture=f.createTexture(),f.bindTexture(f.TEXTURE_2D,this.texture),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.LINEAR),f.texImage2D(f.TEXTURE_2D,0,f.ALPHA,this.width,this.height,0,f.ALPHA,f.UNSIGNED_BYTE,this.data))}}const Nt="maplibre_preloaded_worker_pool";class zt{constructor(){this.active={}}acquire(u){if(!this.workers)for(this.workers=[];this.workers.length<zt.workerCount;)this.workers.push(new Worker(a.a.WORKER_URL));return this.active[u]=!0,this.workers.slice()}release(u){delete this.active[u],this.numActive()===0&&(this.workers.forEach((f=>{f.terminate()})),this.workers=null)}isPreloaded(){return!!this.active[Nt]}numActive(){return Object.keys(this.active).length}}const Ft=Math.floor(x.hardwareConcurrency/2);let Be,it;function je(){return Be||(Be=new zt),Be}zt.workerCount=a.K(globalThis)?Math.max(Math.min(Ft,3),1):1;class He{constructor(u,f){this.workerPool=u,this.actors=[],this.currentActor=0,this.id=f;const _=this.workerPool.acquire(f);for(let S=0;S<_.length;S++){const M=new a.L(_[S],f);M.name=`Worker ${S}`,this.actors.push(M)}if(!this.actors.length)throw new Error("No actors found")}broadcast(u,f){const _=[];for(const S of this.actors)_.push(S.sendAsync({type:u,data:f}));return Promise.all(_)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(u=!0){this.actors.forEach((f=>{f.remove()})),this.actors=[],u&&this.workerPool.release(this.id)}registerMessageHandler(u,f){for(const _ of this.actors)_.registerMessageHandler(u,f)}unregisterMessageHandler(u){for(const f of this.actors)f.unregisterMessageHandler(u)}}function Fe(){return it||(it=new He(je(),a.M),it.registerMessageHandler("GR",((P,u,f)=>a.m(u,f)))),it}function tt(P,u){const f=a.N();return a.O(f,f,[1,1,0]),a.Q(f,f,[.5*P.width,.5*P.height,1]),P.calculatePosMatrix?a.S(f,f,P.calculatePosMatrix(u.toUnwrapped())):f}function me(P,u,f,_,S,M,D){var z;const F=(function(ee,ae,fe){if(ee)for(const we of ee){const Se=ae[we];if(Se&&Se.source===fe&&Se.type==="fill-extrusion")return!0}else for(const we in ae){const Se=ae[we];if(Se.source===fe&&Se.type==="fill-extrusion")return!0}return!1})((z=S?.layers)!==null&&z!==void 0?z:null,u,P.id),G=M.maxPitchScaleFactor(),q=P.tilesIn(_,G,F);q.sort(_e);const te=[];for(const ee of q)te.push({wrappedTileID:ee.tileID.wrapped().key,queryResults:ee.tile.queryRenderedFeatures(u,f,P.getState(),ee.queryGeometry,ee.cameraQueryGeometry,ee.scale,S,M,G,tt(M,ee.tileID),D?(ae,fe)=>D(ee.tileID,ae,fe):void 0)});return(function(ee,ae){for(const fe in ee)for(const we of ee[fe])qe(we,ae);return ee})((function(ee){const ae={},fe={};for(const we of ee){const Se=we.queryResults,Pe=we.wrappedTileID,Ae=fe[Pe]=fe[Pe]||{};for(const ke in Se){const Ie=Se[ke],$e=Ae[ke]=Ae[ke]||{},Ge=ae[ke]=ae[ke]||[];for(const Le of Ie)$e[Le.featureIndex]||($e[Le.featureIndex]=!0,Ge.push(Le))}}return ae})(te),P)}function _e(P,u){const f=P.tileID,_=u.tileID;return f.overscaledZ-_.overscaledZ||f.canonical.y-_.canonical.y||f.wrap-_.wrap||f.canonical.x-_.canonical.x}function qe(P,u){const f=P.feature,_=u.getFeatureState(f.layer["source-layer"],f.id);f.source=f.layer.source,f.layer["source-layer"]&&(f.sourceLayer=f.layer["source-layer"]),f.state=_}function ht(P,u,f){return a._(this,void 0,void 0,(function*(){let _=P;if(P.url?_=(yield a.j(u.transformRequest(P.url,"Source"),f)).data:yield x.frameAsync(f),!_)return null;const S=a.U(a.e(_,P),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in _&&_.vector_layers&&(S.vectorLayerIds=_.vector_layers.map((M=>M.id))),S}))}class et{constructor(u,f){u&&(f?this.setSouthWest(u).setNorthEast(f):Array.isArray(u)&&(u.length===4?this.setSouthWest([u[0],u[1]]).setNorthEast([u[2],u[3]]):this.setSouthWest(u[0]).setNorthEast(u[1])))}setNorthEast(u){return this._ne=u instanceof a.V?new a.V(u.lng,u.lat):a.V.convert(u),this}setSouthWest(u){return this._sw=u instanceof a.V?new a.V(u.lng,u.lat):a.V.convert(u),this}extend(u){const f=this._sw,_=this._ne;let S,M;if(u instanceof a.V)S=u,M=u;else{if(!(u instanceof et))return Array.isArray(u)?u.length===4||u.every(Array.isArray)?this.extend(et.convert(u)):this.extend(a.V.convert(u)):u&&("lng"in u||"lon"in u)&&"lat"in u?this.extend(a.V.convert(u)):this;if(S=u._sw,M=u._ne,!S||!M)return this}return f||_?(f.lng=Math.min(S.lng,f.lng),f.lat=Math.min(S.lat,f.lat),_.lng=Math.max(M.lng,_.lng),_.lat=Math.max(M.lat,_.lat)):(this._sw=new a.V(S.lng,S.lat),this._ne=new a.V(M.lng,M.lat)),this}getCenter(){return new a.V((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new a.V(this.getWest(),this.getNorth())}getSouthEast(){return new a.V(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(u){const{lng:f,lat:_}=a.V.convert(u);let S=this._sw.lng<=f&&f<=this._ne.lng;return this._sw.lng>this._ne.lng&&(S=this._sw.lng>=f&&f>=this._ne.lng),this._sw.lat<=_&&_<=this._ne.lat&&S}intersects(u){if((u=et.convert(u)).getNorth()<this.getSouth()||u.getSouth()>this.getNorth())return!1;const f=a.W(this.getWest(),-180,180),_=a.W(this.getEast(),-180,180),S=a.W(u.getWest(),-180,180),M=a.W(u.getEast(),-180,180),D=f>_,z=S>M;return!(!D||!z)||(D?M>=f||S<=_:z?_>=S||f<=M:!(S>_||M<f))}static convert(u){return u instanceof et?u:u&&new et(u)}static fromLngLat(u,f=0){const _=360*f/40075017,S=_/Math.cos(Math.PI/180*u.lat);return new et(new a.V(u.lng-S,u.lat-_),new a.V(u.lng+S,u.lat+_))}adjustAntiMeridian(){const u=new a.V(this._sw.lng,this._sw.lat),f=new a.V(this._ne.lng,this._ne.lat);return new et(u,u.lng>f.lng?new a.V(f.lng+360,f.lat):f)}}class Je{constructor(u,f,_){this.bounds=et.convert(this.validateBounds(u)),this.minzoom=f||0,this.maxzoom=_||24}validateBounds(u){return Array.isArray(u)&&u.length===4?[Math.max(-180,u[0]),Math.max(-90,u[1]),Math.min(180,u[2]),Math.min(90,u[3])]:[-180,-90,180,90]}contains(u){const f=Math.pow(2,u.z),_=Math.floor(a.Y(this.bounds.getWest())*f),S=Math.floor(a.X(this.bounds.getNorth())*f),M=Math.ceil(a.Y(this.bounds.getEast())*f),D=Math.ceil(a.X(this.bounds.getSouth())*f);return u.x>=_&&u.x<M&&u.y>=S&&u.y<D}}class Qe extends a.E{constructor(u,f,_,S){if(super(),this.id=u,this.dispatcher=_,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.e(this,a.U(f,["url","scheme","tileSize","promoteId","encoding"])),this._options=a.e({type:"vector"},f),this._collectResourceTiming=f.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(S)}load(){return a._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new a.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const u=yield ht(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.tileManagers[this.id].clearTiles(),u&&(a.e(this,u),u.bounds&&(this.tileBounds=new Je(u.bounds,this.minzoom,this.maxzoom)),this.fire(new a.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.l("data",{dataType:"source",sourceDataType:"content"})))}catch(u){this._tileJSONRequest=null,this._loaded=!0,this.fire(new a.k(u))}}))}loaded(){return this._loaded}hasTile(u){return!this.tileBounds||this.tileBounds.contains(u.canonical)}onAdd(u){this.map=u,this.load()}setSourceProperty(u){this._tileJSONRequest&&this._tileJSONRequest.abort(),u(),this.load()}setTiles(u){return this.setSourceProperty((()=>{this._options.tiles=u})),this}setUrl(u){return this.setSourceProperty((()=>{this.url=u,this._options.url=u})),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return a.e({},this._options)}loadTile(u){return a._(this,void 0,void 0,(function*(){const f=u.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),_={request:this.map._requestManager.transformRequest(f,"Tile"),uid:u.uid,tileID:u.tileID,zoom:u.tileID.overscaledZ,tileSize:this.tileSize*u.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity,encoding:this.encoding,overzoomParameters:this._getOverzoomParameters(u)};_.request.collectResourceTiming=this._collectResourceTiming;let S="RT";if(u.actor&&u.state!=="expired"){if(u.state==="loading")return new Promise(((M,D)=>{u.reloadPromise={resolve:M,reject:D}}))}else u.actor=this.dispatcher.getActor(),S="LT";u.abortController=new AbortController;try{const M=yield u.actor.sendAsync({type:S,data:_},u.abortController);if(delete u.abortController,u.aborted)return;this._afterTileLoadWorkerResponse(u,M)}catch(M){if(delete u.abortController,u.aborted)return;if(M&&M.status!==404)throw M;this._afterTileLoadWorkerResponse(u,null)}}))}_getOverzoomParameters(u){if(u.tileID.canonical.z<=this.maxzoom||this.map._zoomLevelsToOverscale===void 0)return;const f=u.tileID.scaledTo(this.maxzoom).canonical,_=f.url(this.tiles,this.map.getPixelRatio(),this.scheme);return{maxZoomTileID:f,overzoomRequest:this.map._requestManager.transformRequest(_,"Tile")}}_afterTileLoadWorkerResponse(u,f){if(f&&f.resourceTiming&&(u.resourceTiming=f.resourceTiming),f&&this.map._refreshExpiredTiles&&u.setExpiryData(f),u.loadVectorData(f,this.map.painter),u.reloadPromise){const _=u.reloadPromise;u.reloadPromise=null,this.loadTile(u).then(_.resolve).catch(_.reject)}}abortTile(u){return a._(this,void 0,void 0,(function*(){u.abortController&&(u.abortController.abort(),delete u.abortController),u.actor&&(yield u.actor.sendAsync({type:"AT",data:{uid:u.uid,type:this.type,source:this.id}}))}))}unloadTile(u){return a._(this,void 0,void 0,(function*(){u.unloadVectorData(),u.actor&&(yield u.actor.sendAsync({type:"RMT",data:{uid:u.uid,type:this.type,source:this.id}}))}))}hasTransition(){return!1}}class dt extends a.E{constructor(u,f,_,S){super(),this.id=u,this.dispatcher=_,this.setEventedParent(S),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.e({type:"raster"},f),a.e(this,a.U(f,["url","scheme","tileSize"]))}load(){return a._(this,arguments,void 0,(function*(u=!1){this._loaded=!1,this.fire(new a.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const f=yield ht(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,f&&(a.e(this,f),f.bounds&&(this.tileBounds=new Je(f.bounds,this.minzoom,this.maxzoom)),this.fire(new a.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.l("data",{dataType:"source",sourceDataType:"content",sourceDataChanged:u})))}catch(f){this._tileJSONRequest=null,this._loaded=!0,this.fire(new a.k(f))}}))}loaded(){return this._loaded}onAdd(u){this.map=u,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(u){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),u(),this.load(!0)}setTiles(u){return this.setSourceProperty((()=>{this._options.tiles=u})),this}setUrl(u){return this.setSourceProperty((()=>{this.url=u,this._options.url=u})),this}serialize(){return a.e({},this._options)}hasTile(u){return!this.tileBounds||this.tileBounds.contains(u.canonical)}loadTile(u){return a._(this,void 0,void 0,(function*(){const f=u.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);u.abortController=new AbortController;try{const _=yield j.getImage(this.map._requestManager.transformRequest(f,"Tile"),u.abortController,this.map._refreshExpiredTiles);if(delete u.abortController,u.aborted)return void(u.state="unloaded");if(_&&_.data){this.map._refreshExpiredTiles&&(_.cacheControl||_.expires)&&u.setExpiryData({cacheControl:_.cacheControl,expires:_.expires});const S=this.map.painter.context,M=S.gl,D=_.data;u.texture=this.map.painter.getTileTexture(D.width),u.texture?u.texture.update(D,{useMipmap:!0}):(u.texture=new a.T(S,D,M.RGBA,{useMipmap:!0}),u.texture.bind(M.LINEAR,M.CLAMP_TO_EDGE,M.LINEAR_MIPMAP_NEAREST)),u.state="loaded"}}catch(_){if(delete u.abortController,u.aborted)u.state="unloaded";else if(_)throw u.state="errored",_}}))}abortTile(u){return a._(this,void 0,void 0,(function*(){u.abortController&&(u.abortController.abort(),delete u.abortController)}))}unloadTile(u){return a._(this,void 0,void 0,(function*(){u.texture&&this.map.painter.saveTileTexture(u.texture)}))}hasTransition(){return!1}}class xt extends dt{constructor(u,f,_,S){super(u,f,_,S),this.type="raster-dem",this.maxzoom=22,this._options=a.e({type:"raster-dem"},f),this.encoding=f.encoding||"mapbox",this.redFactor=f.redFactor,this.greenFactor=f.greenFactor,this.blueFactor=f.blueFactor,this.baseShift=f.baseShift}loadTile(u){return a._(this,void 0,void 0,(function*(){const f=u.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),_=this.map._requestManager.transformRequest(f,"Tile");u.neighboringTiles=this._getNeighboringTiles(u.tileID),u.abortController=new AbortController;try{const S=yield j.getImage(_,u.abortController,this.map._refreshExpiredTiles);if(delete u.abortController,u.aborted)return void(u.state="unloaded");if(S&&S.data){const M=S.data;this.map._refreshExpiredTiles&&(S.cacheControl||S.expires)&&u.setExpiryData({cacheControl:S.cacheControl,expires:S.expires});const D=a.b(M)&&a.Z()?M:yield this.readImageNow(M),z={type:this.type,uid:u.uid,source:this.id,rawImageData:D,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!u.actor||u.state==="expired"){u.actor=this.dispatcher.getActor();const F=yield u.actor.sendAsync({type:"LDT",data:z});u.dem=F,u.needsHillshadePrepare=!0,u.needsTerrainPrepare=!0,u.state="loaded"}}}catch(S){if(delete u.abortController,u.aborted)u.state="unloaded";else if(S)throw u.state="errored",S}}))}readImageNow(u){return a._(this,void 0,void 0,(function*(){if(typeof VideoFrame<"u"&&a.$()){const f=u.width+2,_=u.height+2;try{return new a.R({width:f,height:_},yield a.a0(u,-1,-1,f,_))}catch{}}return x.getImageData(u,1)}))}_getNeighboringTiles(u){const f=u.canonical,_=Math.pow(2,f.z),S=(f.x-1+_)%_,M=f.x===0?u.wrap-1:u.wrap,D=(f.x+1+_)%_,z=f.x+1===_?u.wrap+1:u.wrap,F={};return F[new a.a1(u.overscaledZ,M,f.z,S,f.y).key]={backfilled:!1},F[new a.a1(u.overscaledZ,z,f.z,D,f.y).key]={backfilled:!1},f.y>0&&(F[new a.a1(u.overscaledZ,M,f.z,S,f.y-1).key]={backfilled:!1},F[new a.a1(u.overscaledZ,u.wrap,f.z,f.x,f.y-1).key]={backfilled:!1},F[new a.a1(u.overscaledZ,z,f.z,D,f.y-1).key]={backfilled:!1}),f.y+1<_&&(F[new a.a1(u.overscaledZ,M,f.z,S,f.y+1).key]={backfilled:!1},F[new a.a1(u.overscaledZ,u.wrap,f.z,f.x,f.y+1).key]={backfilled:!1},F[new a.a1(u.overscaledZ,z,f.z,D,f.y+1).key]={backfilled:!1}),F}unloadTile(u){return a._(this,void 0,void 0,(function*(){u.demTexture&&this.map.painter.saveTileTexture(u.demTexture),u.fbo&&(u.fbo.destroy(),delete u.fbo),u.dem&&delete u.dem,delete u.neighboringTiles,u.state="unloaded",u.actor&&(yield u.actor.sendAsync({type:"RDT",data:{type:this.type,uid:u.uid,source:this.id}}))}))}}function yt(P){return P.type==="GeometryCollection"?P.geometries.map((u=>u.coordinates)).flat(1/0):P.coordinates.flat(1/0)}function Ht(P){const u=new et;let f;switch(P.type){case"FeatureCollection":f=P.features.map((_=>yt(_.geometry))).flat(1/0);break;case"Feature":f=yt(P.geometry);break;default:f=yt(P)}if(f.length==0)return u;for(let _=0;_<f.length-1;_+=2)u.extend([f[_],f[_+1]]);return u}class $t extends a.E{constructor(u,f,_,S){super(),this.id=u,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._isUpdatingWorker=!1,this._pendingWorkerUpdate={data:f.data},this.actor=_.getActor(),this.setEventedParent(S),this._data=typeof f.data=="string"?{url:f.data}:{geojson:f.data},this._options=a.e({},f),this._collectResourceTiming=f.collectResourceTiming,f.maxzoom!==void 0&&(this.maxzoom=f.maxzoom),f.type&&(this.type=f.type),f.attribution&&(this.attribution=f.attribution),this.promoteId=f.promoteId,f.clusterMaxZoom!==void 0&&this.maxzoom<=f.clusterMaxZoom&&a.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${f.clusterMaxZoom}".`),this.workerOptions=a.e({source:this.id,cluster:f.cluster||!1,geojsonVtOptions:{buffer:this._pixelsToTileUnits(f.buffer!==void 0?f.buffer:128),tolerance:this._pixelsToTileUnits(f.tolerance!==void 0?f.tolerance:.375),extent:a.a4,maxZoom:this.maxzoom,lineMetrics:f.lineMetrics||!1,generateId:f.generateId||!1},superclusterOptions:{maxZoom:this._getClusterMaxZoom(f.clusterMaxZoom),minPoints:Math.max(2,f.clusterMinPoints||2),extent:a.a4,radius:this._pixelsToTileUnits(f.clusterRadius||50),log:!1,generateId:f.generateId||!1},clusterProperties:f.clusterProperties,filter:f.filter},f.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}_hasPendingWorkerUpdate(){return this._pendingWorkerUpdate.data!==void 0||this._pendingWorkerUpdate.diff!==void 0||this._pendingWorkerUpdate.optionsChanged}_pixelsToTileUnits(u){return u*(a.a4/this.tileSize)}_getClusterMaxZoom(u){const f=u?Math.round(u):this.maxzoom-1;return Number.isInteger(u)||u===void 0||a.w(`Integer expected for option 'clusterMaxZoom': provided value "${u}" rounded to "${f}"`),f}load(){return a._(this,void 0,void 0,(function*(){yield this._updateWorkerData()}))}onAdd(u){this.map=u,this.load()}setData(u,f){this._data=typeof u=="string"?{url:u}:{geojson:u},this._pendingWorkerUpdate={data:u};const _=this._updateWorkerData();return f?_:this}updateData(u,f){this._pendingWorkerUpdate.diff=a.a5(this._pendingWorkerUpdate.diff,u);const _=this._updateWorkerData();return f?_:this}getData(){return a._(this,void 0,void 0,(function*(){const u=a.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:u})}))}getBounds(){return a._(this,void 0,void 0,(function*(){return Ht(yield this.getData())}))}setClusterOptions(u){return this.workerOptions.cluster=u.cluster,u.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=this._pixelsToTileUnits(u.clusterRadius)),u.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=this._getClusterMaxZoom(u.clusterMaxZoom)),this._pendingWorkerUpdate.optionsChanged=!0,this._updateWorkerData(),this}getClusterExpansionZoom(u){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:u,source:this.id}})}getClusterChildren(u){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:u,source:this.id}})}getClusterLeaves(u,f,_){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:u,limit:f,offset:_}})}_updateWorkerData(){return a._(this,void 0,void 0,(function*(){if(this._isUpdatingWorker)return;if(!this._hasPendingWorkerUpdate())return void a.w(`No pending worker updates for GeoJSONSource ${this.id}.`);const{data:u,diff:f}=this._pendingWorkerUpdate,_=a.e({type:this.type},this.workerOptions);u?(typeof u=="string"?(_.request=this.map._requestManager.transformRequest(x.resolveURL(u),"Source"),_.request.collectResourceTiming=this._collectResourceTiming):_.data=u,this._pendingWorkerUpdate.data=void 0):f&&(_.dataDiff=f,this._pendingWorkerUpdate.diff=void 0),this._pendingWorkerUpdate.optionsChanged=void 0,this._isUpdatingWorker=!0,this.fire(new a.l("dataloading",{dataType:"source"}));try{const S=yield this.actor.sendAsync({type:"LD",data:_});if(this._isUpdatingWorker=!1,this._removed||S.abandoned)return void this.fire(new a.l("dataabort",{dataType:"source"}));S.applyDiff?this._applyDiff(f):this._data={geojson:S.data};let M=null;S.resourceTiming&&S.resourceTiming[this.id]&&(M=S.resourceTiming[this.id].slice(0));const D={dataType:"source"};this._collectResourceTiming&&M&&M.length>0&&a.e(D,{resourceTiming:M}),this.fire(new a.l("data",Object.assign(Object.assign({},D),{sourceDataType:"metadata"}))),this.fire(new a.l("data",Object.assign(Object.assign({},D),{sourceDataType:"content",shouldReloadTileOptions:this._getShouldReloadTileOptions(f)})))}catch(S){if(this._isUpdatingWorker=!1,this._removed)return void this.fire(new a.l("dataabort",{dataType:"source"}));this.fire(new a.k(S))}finally{this._hasPendingWorkerUpdate()&&this._updateWorkerData()}}))}_applyDiff(u){const f=typeof this.promoteId=="string"?this.promoteId:void 0;this._data.url||this._data.updateable||!a.a6(this._data.geojson,f)||(this._data={updateable:a.a7(this._data.geojson,f)}),u&&this._data.updateable?a.a8(this._data.updateable,u,f):a.w("Cannot apply GeoJSONSource#updateData due to internal error")}_getShouldReloadTileOptions(u){if(this._options.cluster||!u||u.removeAll)return;const{add:f=[],update:_=[],remove:S=[]}=u||{},M=new Set([..._.map((D=>D.id)),...S]);for(const D of M.values())if(typeof D!="number"&&this.promoteId==null)return void a.w(`GeoJSONSource "${this.id}": updateData is slower when using string GeoJSON feature IDs (e.g. "${D}"). Consider using promoteId or numeric IDs for better performance.`);return{nextBounds:[..._.map((D=>D.newGeometry)),...f.map((D=>D.geometry))].filter(Boolean).map((D=>Ht(D))),prevIds:M}}shouldReloadTile(u,{nextBounds:f,prevIds:_}){if(!u.latestFeatureIndex)return u.state!=="unloaded";const S=u.latestFeatureIndex.loadVTLayers();for(let F=0;F<u.latestFeatureIndex.featureIndexArray.length;F++){const G=u.latestFeatureIndex.featureIndexArray.get(F),q=S[a.a9].feature(G.featureIndex),te=u.latestFeatureIndex.getId(q,a.a9);if(_.has(te))return!0}const{buffer:M,extent:D}=this.workerOptions.geojsonVtOptions,z=(function({x:F,y:G,z:q},te=0){const ee=a.a2((F-te)/Math.pow(2,q)),ae=a.a3((G+1+te)/Math.pow(2,q)),fe=a.a2((F+1+te)/Math.pow(2,q)),we=a.a3((G-te)/Math.pow(2,q));return new et([ee,ae],[fe,we])})(u.tileID.canonical,M/D);for(const F of f)if(z.intersects(F))return!0;return!1}loaded(){return!this._isUpdatingWorker&&!this._hasPendingWorkerUpdate()}loadTile(u){return a._(this,void 0,void 0,(function*(){const f=u.actor?"RT":"LT";u.actor=this.actor;const _={type:this.type,uid:u.uid,tileID:u.tileID,zoom:u.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};u.abortController=new AbortController;const S=yield this.actor.sendAsync({type:f,data:_},u.abortController);delete u.abortController,u.unloadVectorData(),u.aborted||u.loadVectorData(S,this.map.painter,f==="RT")}))}abortTile(u){return a._(this,void 0,void 0,(function*(){u.abortController&&(u.abortController.abort(),delete u.abortController),u.aborted=!0}))}unloadTile(u){return a._(this,void 0,void 0,(function*(){u.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:u.uid,type:this.type,source:this.id}})}))}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return a.e({},this._options,{type:this.type,data:this._data.updateable?{type:"FeatureCollection",features:Array.from(this._data.updateable.values())}:this._data.url||this._data.geojson})}hasTransition(){return!1}}class Gt extends a.E{constructor(u,f,_,S){super(),this.flippedWindingOrder=!1,this.id=u,this.dispatcher=_,this.coordinates=f.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(S),this.options=f}load(u){return a._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new a.l("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const f=yield j.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,f&&f.data&&(this.image=f.data,u&&(this.coordinates=u),this._finishLoading())}catch(f){this._request=null,this._loaded=!0,this.fire(new a.k(f))}}))}loaded(){return this._loaded}updateImage(u){return u.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=u.url,this.load(u.coordinates).finally((()=>{this.texture=null})),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.l("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(u){this.map=u,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(u){this.coordinates=u;const f=u.map(a.aa.fromLngLat);var _;return this.tileID=(function(S){const M=a.ab.fromPoints(S),D=M.width(),z=M.height(),F=Math.max(D,z),G=Math.max(0,Math.floor(-Math.log(F)/Math.LN2)),q=Math.pow(2,G);return new a.ad(G,Math.floor((M.minX+M.maxX)/2*q),Math.floor((M.minY+M.maxY)/2*q))})(f),this.terrainTileRanges=this._getOverlappingTileRanges(f),this.minzoom=this.maxzoom=this.tileID.z,this.tileCoords=f.map((S=>this.tileID.getTilePoint(S)._round())),this.flippedWindingOrder=((_=this.tileCoords)[1].x-_[0].x)*(_[2].y-_[0].y)-(_[1].y-_[0].y)*(_[2].x-_[0].x)<0,this.fire(new a.l("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const u=this.map.painter.context,f=u.gl;this.texture||(this.texture=new a.T(u,this.image,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE));let _=!1;for(const S in this.tiles){const M=this.tiles[S];M.state!=="loaded"&&(M.state="loaded",M.texture=this.texture,_=!0)}_&&this.fire(new a.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(u){return a._(this,void 0,void 0,(function*(){this.tileID&&this.tileID.equals(u.tileID.canonical)?(this.tiles[String(u.tileID.wrap)]=u,u.buckets={}):u.state="errored"}))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}_getOverlappingTileRanges(u){const{minX:f,minY:_,maxX:S,maxY:M}=a.ab.fromPoints(u),D={};for(let z=0;z<=a.ac;z++){const F=Math.pow(2,z),G=Math.floor(f*F),q=Math.floor(_*F),te=Math.floor(S*F),ee=Math.floor(M*F);D[z]={minTileX:G,minTileY:q,maxTileX:te,maxTileY:ee}}return D}}class or extends Gt{constructor(u,f,_,S){super(u,f,_,S),this.roundZoom=!0,this.type="video",this.options=f}load(){return a._(this,void 0,void 0,(function*(){this._loaded=!1;const u=this.options;this.urls=[];for(const f of u.urls)this.urls.push(this.map._requestManager.transformRequest(f,"Source").url);try{const f=yield a.ae(this.urls);if(this._loaded=!0,!f)return;this.video=f,this.video.loop=!0,this.video.addEventListener("playing",(()=>{this.map.triggerRepaint()})),this.map&&this.video.play(),this._finishLoading()}catch(f){this.fire(new a.k(f))}}))}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(u){if(this.video){const f=this.video.seekable;u<f.start(0)||u>f.end(0)?this.fire(new a.k(new a.af(`sources.${this.id}`,null,`Playback for this video can be set only between the ${f.start(0)} and ${f.end(0)}-second mark.`))):this.video.currentTime=u}}getVideo(){return this.video}onAdd(u){this.map||(this.map=u,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const u=this.map.painter.context,f=u.gl;this.texture?this.video.paused||(this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE),f.texSubImage2D(f.TEXTURE_2D,0,0,0,f.RGBA,f.UNSIGNED_BYTE,this.video)):(this.texture=new a.T(u,this.video,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE));let _=!1;for(const S in this.tiles){const M=this.tiles[S];M.state!=="loaded"&&(M.state="loaded",M.texture=this.texture,_=!0)}_&&this.fire(new a.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class vr extends Gt{constructor(u,f,_,S){super(u,f,_,S),f.coordinates?Array.isArray(f.coordinates)&&f.coordinates.length===4&&!f.coordinates.some((M=>!Array.isArray(M)||M.length!==2||M.some((D=>typeof D!="number"))))||this.fire(new a.k(new a.af(`sources.${u}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.k(new a.af(`sources.${u}`,null,'missing required property "coordinates"'))),f.animate&&typeof f.animate!="boolean"&&this.fire(new a.k(new a.af(`sources.${u}`,null,'optional "animate" property must be a boolean value'))),f.canvas?typeof f.canvas=="string"||f.canvas instanceof HTMLCanvasElement||this.fire(new a.k(new a.af(`sources.${u}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.k(new a.af(`sources.${u}`,null,'missing required property "canvas"'))),this.options=f,this.animate=f.animate===void 0||f.animate}load(){return a._(this,void 0,void 0,(function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.k(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}))}getCanvas(){return this.canvas}onAdd(u){this.map=u,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let u=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,u=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,u=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const f=this.map.painter.context,_=f.gl;this.texture?(u||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.T(f,this.canvas,_.RGBA,{premultiply:!0});let S=!1;for(const M in this.tiles){const D=this.tiles[M];D.state!=="loaded"&&(D.state="loaded",D.texture=this.texture,S=!0)}S&&this.fire(new a.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",animate:this.animate,canvas:this.options.canvas,coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const u of[this.canvas.width,this.canvas.height])if(isNaN(u)||u<=0)return!0;return!1}}const Er={},mr=P=>{switch(P){case"geojson":return $t;case"image":return Gt;case"raster":return dt;case"raster-dem":return xt;case"vector":return Qe;case"video":return or;case"canvas":return vr}return Er[P]},Wr="RTLPluginLoaded";class Yr extends a.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=Fe()}_syncState(u){return this.status=u,this.dispatcher.broadcast("SRPS",{pluginStatus:u,pluginURL:this.url}).catch((f=>{throw this.status="error",f}))}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(u){return a._(this,arguments,void 0,(function*(f,_=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=x.resolveURL(f),!this.url)throw new Error(`requested url ${f} is invalid`);if(this.status==="unavailable"){if(!_)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()}))}_requestImport(){return a._(this,void 0,void 0,(function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new a.l(Wr))}))}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let Nn=null;function rn(){return Nn||(Nn=new Yr),Nn}var Zn,Ne;(function(P){P[P.Base=0]="Base",P[P.Parent=1]="Parent"})(Zn||(Zn={})),(function(P){P[P.Departing=0]="Departing",P[P.Incoming=1]="Incoming"})(Ne||(Ne={}));class ne{constructor(u,f){this.timeAdded=0,this.fadeEndTime=0,this.fadeOpacity=1,this.tileID=u,this.uid=a.ag(),this.uses=0,this.tileSize=f,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}isRenderable(u){return this.hasData()&&(!this.fadeEndTime||this.fadeOpacity>0)&&(u||!this.holdingForSymbolFade())}setCrossFadeLogic({fadingRole:u,fadingDirection:f,fadingParentID:_,fadeEndTime:S}){this.resetFadeLogic(),this.fadingRole=u,this.fadingDirection=f,this.fadingParentID=_,this.fadeEndTime=S}setSelfFadeLogic(u){this.resetFadeLogic(),this.selfFading=!0,this.fadeEndTime=u}resetFadeLogic(){this.fadingRole=null,this.fadingDirection=null,this.fadingParentID=null,this.selfFading=!1,this.timeAdded=I(),this.fadeEndTime=0,this.fadeOpacity=1}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(u){this.demTexture&&u.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(u,f,_){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",u){u.featureIndex&&(this.latestFeatureIndex=u.featureIndex,u.rawTileData?(this.latestRawTileData=u.rawTileData,this.latestFeatureIndex.rawTileData=u.rawTileData,this.latestFeatureIndex.encoding=u.encoding):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData,this.latestFeatureIndex.encoding=this.latestEncoding)),this.collisionBoxArray=u.collisionBoxArray,this.buckets=(function(S,M){const D={};if(!M)return D;for(const z of S){const F=z.layerIds.map((G=>M.getLayer(G))).filter(Boolean);if(F.length!==0){z.layers=F,z.stateDependentLayerIds&&(z.stateDependentLayers=z.stateDependentLayerIds.map((G=>F.filter((q=>q.id===G))[0])));for(const G of F)D[G.id]=z}}return D})(u.buckets,f?.style),this.hasSymbolBuckets=!1;for(const S in this.buckets){const M=this.buckets[S];if(M instanceof a.ai){if(this.hasSymbolBuckets=!0,!_)break;M.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const S in this.buckets){const M=this.buckets[S];if(M instanceof a.ai&&M.hasRTLText){this.hasRTLText=!0,rn().lazyLoad();break}}this.queryPadding=0;for(const S in this.buckets){const M=this.buckets[S];this.queryPadding=Math.max(this.queryPadding,f.style.getLayer(S).queryRadius(M))}u.imageAtlas&&(this.imageAtlas=u.imageAtlas),u.glyphAtlasImage&&(this.glyphAtlasImage=u.glyphAtlasImage),this.dashPositions=u.dashPositions}else this.collisionBoxArray=new a.ah}unloadVectorData(){for(const u in this.buckets)this.buckets[u].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.dashPositions&&(this.dashPositions=null),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(u){return this.buckets[u.id]}upload(u){for(const _ in this.buckets){const S=this.buckets[_];S.uploadPending()&&S.upload(u)}const f=u.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new a.T(u,this.imageAtlas.image,f.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new a.T(u,this.glyphAtlasImage,f.ALPHA),this.glyphAtlasImage=null)}prepare(u){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(u,this.imageAtlasTexture)}queryRenderedFeatures(u,f,_,S,M,D,z,F,G,q,te){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:S,cameraQueryGeometry:M,scale:D,tileSize:this.tileSize,pixelPosMatrix:q,transform:F,params:z,queryPadding:this.queryPadding*G,getElevation:te},u,f,_):{}}querySourceFeatures(u,f){const _=this.latestFeatureIndex;if(!_||!_.rawTileData)return;const S=_.loadVTLayers(),M=f&&f.sourceLayer?f.sourceLayer:"",D=S[a.a9]||S[M];if(!D)return;const z=a.aj(f?.filter,f?.globalState),{z:F,x:G,y:q}=this.tileID.canonical,te={z:F,x:G,y:q};for(let ee=0;ee<D.length;ee++){const ae=D.feature(ee);if(z.needGeometry){const Se=a.ak(ae,!0);if(!z.filter(new a.H(this.tileID.overscaledZ),Se,this.tileID.canonical))continue}else if(!z.filter(new a.H(this.tileID.overscaledZ),ae))continue;const fe=_.getId(ae,M),we=new a.al(ae,F,G,q,fe);we.tile=te,u.push(we)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(u){const f=this.expirationTime;if(u.cacheControl){const _=a.am(u.cacheControl);_["max-age"]&&(this.expirationTime=Date.now()+1e3*_["max-age"])}else u.expires&&(this.expirationTime=new Date(u.expires).getTime());if(this.expirationTime){const _=Date.now();let S=!1;if(this.expirationTime>_)S=!1;else if(f)if(this.expirationTime<f)S=!0;else{const M=this.expirationTime-f;M?this.expirationTime=_+Math.max(M,3e4):S=!0}else S=!0;S?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(u,f){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(u).length===0)return;const _=this.latestFeatureIndex.loadVTLayers();for(const S in this.buckets){if(!f.style.hasLayer(S))continue;const M=this.buckets[S],D=M.layers[0].sourceLayer||a.a9,z=_[D],F=u[D];if(!z||!F||Object.keys(F).length===0)continue;M.update(F,z,this.imageAtlas&&this.imageAtlas.patternPositions||{},this.dashPositions||{});const G=f&&f.style&&f.style.getLayer(S);G&&(this.queryPadding=Math.max(this.queryPadding,G.queryRadius(M)))}}holdingForSymbolFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<I()}clearSymbolFadeHold(){this.symbolFadeHoldUntil=void 0}setSymbolHoldDuration(u){this.symbolFadeHoldUntil=I()+u}setDependencies(u,f){const _={};for(const S of f)_[S]=!0;this.dependencies[u]=_}hasDependency(u,f){for(const _ of u){const S=this.dependencies[_];if(S){for(const M of f)if(S[M])return!0}}return!1}}class le{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(u,f,_){const S=String(f);if(this.stateChanges[u]=this.stateChanges[u]||{},this.stateChanges[u][S]=this.stateChanges[u][S]||{},a.e(this.stateChanges[u][S],_),this.deletedStates[u]===null){this.deletedStates[u]={};for(const M in this.state[u])M!==S&&(this.deletedStates[u][M]=null)}else if(this.deletedStates[u]&&this.deletedStates[u][S]===null){this.deletedStates[u][S]={};for(const M in this.state[u][S])_[M]||(this.deletedStates[u][S][M]=null)}else for(const M in _)this.deletedStates[u]&&this.deletedStates[u][S]&&this.deletedStates[u][S][M]===null&&delete this.deletedStates[u][S][M]}removeFeatureState(u,f,_){if(this.deletedStates[u]===null)return;const S=String(f);if(this.deletedStates[u]=this.deletedStates[u]||{},_&&f!==void 0)this.deletedStates[u][S]!==null&&(this.deletedStates[u][S]=this.deletedStates[u][S]||{},this.deletedStates[u][S][_]=null);else if(f!==void 0)if(this.stateChanges[u]&&this.stateChanges[u][S])for(_ in this.deletedStates[u][S]={},this.stateChanges[u][S])this.deletedStates[u][S][_]=null;else this.deletedStates[u][S]=null;else this.deletedStates[u]=null}getState(u,f){const _=String(f),S=a.e({},(this.state[u]||{})[_],(this.stateChanges[u]||{})[_]);if(this.deletedStates[u]===null)return{};if(this.deletedStates[u]){const M=this.deletedStates[u][f];if(M===null)return{};for(const D in M)delete S[D]}return S}initializeTileState(u,f){u.setFeatureState(this.state,f)}coalesceChanges(u,f){const _={};for(const S in this.stateChanges){this.state[S]=this.state[S]||{};const M={};for(const D in this.stateChanges[S])this.state[S][D]||(this.state[S][D]={}),a.e(this.state[S][D],this.stateChanges[S][D]),M[D]=this.state[S][D];_[S]=M}for(const S in this.deletedStates){this.state[S]=this.state[S]||{};const M={};if(this.deletedStates[S]===null)for(const D in this.state[S])M[D]={},this.state[S][D]={};else for(const D in this.deletedStates[S]){if(this.deletedStates[S][D]===null)this.state[S][D]={};else for(const z of Object.keys(this.deletedStates[S][D]))delete this.state[S][D][z];M[D]=this.state[S][D]}_[S]=_[S]||{},a.e(_[S],M)}if(this.stateChanges={},this.deletedStates={},Object.keys(_).length!==0)for(const S in u)u[S].setFeatureState(_,f)}}const pe=89.25;function Ee(P,u){const f=a.an(u.lat,-a.ao,a.ao);return new a.P(a.Y(u.lng)*P,a.X(f)*P)}function Re(P,u){return new a.aa(u.x/P,u.y/P).toLngLat()}function Ye(P){return P.cameraToCenterDistance*Math.min(.85*Math.tan(a.ap(90-P.pitch)),Math.tan(a.ap(pe-P.pitch)))}function Te(P,u){const f=P.canonical,_=u/a.aq(f.z),S=f.x+Math.pow(2,f.z)*P.wrap,M=a.ar(new Float64Array(16));return a.O(M,M,[S*_,f.y*_,0]),a.Q(M,M,[_/a.a4,_/a.a4,1]),M}function Xe(P,u,f,_,S){const M=a.aa.fromLngLat(P,u),D=S*a.as(1,P.lat),z=D*Math.cos(a.ap(f)),F=Math.sqrt(D*D-z*z),G=F*Math.sin(a.ap(-_)),q=F*Math.cos(a.ap(-_));return new a.aa(M.x+G,M.y+q,M.z+z)}function ut(P,u,f){const _=u.intersectsFrustum(P);if(!f||_===0)return _;const S=u.intersectsPlane(f);return S===0?0:_===2&&S===2?2:1}function ft(P,u,f){let _=0;const S=(f-u)/10;for(let M=0;M<10;M++)_+=S*Math.pow(Math.cos(u+(M+.5)/10*(f-u)),P);return _}function pt(P,u){return function(f,_,S,M,D){const z=2*((P-1)/a.at(Math.cos(a.ap(pe-D))/Math.cos(a.ap(pe)))-1),F=Math.acos(S/M),G=2*ft(z-1,0,a.ap(D/2)),q=Math.min(a.ap(pe),F+a.ap(D/2)),te=ft(z-1,Math.min(q,F-a.ap(D/2)),q),ee=Math.atan(_/S),ae=Math.hypot(_,S);let fe=f;return fe+=a.at(M/ae/Math.max(.5,Math.cos(a.ap(D/2)))),fe+=z*a.at(Math.cos(ee))/2,fe-=a.at(Math.max(1,te/G/u))/2,fe}}const Xt=pt(9.314,3);function ar(P,u){const f=(u.roundZoom?Math.round:Math.floor)(P.zoom+a.at(P.tileSize/u.tileSize));return Math.max(0,f)}function xr(P,u){const f=P.getCameraFrustum(),_=P.getClippingPlane(),S=P.screenPointToMercatorCoordinate(P.getCameraPoint()),M=a.aa.fromLngLat(P.center,P.elevation);S.z=M.z+Math.cos(P.pitchInRadians)*P.cameraToCenterDistance/P.worldSize;const D=P.getCoveringTilesDetailsProvider(),z=D.allowVariableZoom(P,u),F=ar(P,u),G=u.minzoom||0,q=u.maxzoom!==void 0?u.maxzoom:P.maxZoom,te=Math.min(Math.max(0,F),q),ee=Math.pow(2,te),ae=[ee*S.x,ee*S.y,0],fe=[ee*M.x,ee*M.y,0],we=Math.hypot(M.x-S.x,M.y-S.y),Se=Math.abs(M.z-S.z),Pe=Math.hypot(we,Se),Ae=$e=>({zoom:0,x:0,y:0,wrap:$e,fullyVisible:!1}),ke=[],Ie=[];if(P.renderWorldCopies&&D.allowWorldCopies())for(let $e=1;$e<=3;$e++)ke.push(Ae(-$e)),ke.push(Ae($e));for(ke.push(Ae(0));ke.length>0;){const $e=ke.pop(),Ge=$e.x,Le=$e.y;let Ze=$e.fullyVisible;const lt={x:Ge,y:Le,z:$e.zoom},rt=D.getTileBoundingVolume(lt,$e.wrap,P.elevation,u);if(!Ze){const At=ut(f,rt,_);if(At===0)continue;Ze=At===2}const nt=D.distanceToTile2d(S.x,S.y,lt,rt);let st=F;z&&(st=(u.calculateTileZoom||Xt)(P.zoom+a.at(P.tileSize/u.tileSize),nt,Se,Pe,P.fov)),st=(u.roundZoom?Math.round:Math.floor)(st),st=Math.max(0,st);const kt=Math.min(st,q);if($e.wrap=D.getWrap(M,lt,$e.wrap),$e.zoom>=kt){if($e.zoom<G)continue;const At=te-$e.zoom,Tt=ae[0]-.5-(Ge<<At),er=ae[1]-.5-(Le<<At),Tr=u.reparseOverscaled?Math.max($e.zoom,st):$e.zoom;Ie.push({tileID:new a.a1($e.zoom===q?Tr:$e.zoom,$e.wrap,$e.zoom,Ge,Le),distanceSq:a.au([fe[0]-.5-Ge,fe[1]-.5-Le]),tileDistanceToCamera:Math.sqrt(Tt*Tt+er*er)})}else for(let At=0;At<4;At++)ke.push({zoom:$e.zoom+1,x:(Ge<<1)+At%2,y:(Le<<1)+(At>>1),wrap:$e.wrap,fullyVisible:Ze})}return Ie.sort((($e,Ge)=>$e.distanceSq-Ge.distanceSq)).map(($e=>$e.tileID))}const yn=a.ab.fromPoints([new a.P(0,0),new a.P(a.a4,a.a4)]);class zr extends a.E{constructor(u,f,_){super(),this.id=u,this.dispatcher=_,this.on("data",(S=>this._dataHandler(S))),this.on("dataloading",(()=>{this._sourceErrored=!1})),this.on("error",(()=>{this._sourceErrored=this._source.loaded()})),this._source=((S,M,D,z)=>{const F=new(mr(M.type))(S,M,D,z);if(F.id!==S)throw new Error(`Expected Source id to be ${S} instead of ${F.id}`);return F})(u,f,_,this),this._tiles={},this._cache=new a.av(0,(S=>this._unloadTile(S))),this._timers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._rasterFadeDuration=0,this._maxFadingAncestorLevels=5,this._state=new le,this._didEmitContent=!1,this._updated=!1}onAdd(u){this.map=u,this._maxTileCacheSize=u?u._maxTileCacheSize:null,this._maxTileCacheZoomLevels=u?u._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(u)}onRemove(u){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(u)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const u in this._tiles){const f=this._tiles[u];if(f.state!=="loaded"&&f.state!=="errored")return!1}return!0}getSource(){return this._source}getState(){return this._state}pause(){this._paused=!0}resume(){if(!this._paused)return;const u=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,u&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(u,f,_){return a._(this,void 0,void 0,(function*(){try{yield this._source.loadTile(u),this._tileLoaded(u,f,_)}catch(S){u.state="errored",S.status!==404?this._source.fire(new a.k(S,{tile:u})):this.update(this.transform,this.terrain)}}))}_unloadTile(u){this._source.unloadTile&&this._source.unloadTile(u)}_abortTile(u){this._source.abortTile&&this._source.abortTile(u),this._source.fire(new a.l("dataabort",{tile:u,coord:u.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(u){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const f in this._tiles){const _=this._tiles[f];_.upload(u),_.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map((u=>u.tileID)).sort(Jr).map((u=>u.key))}getRenderableIds(u){const f=[];for(const _ in this._tiles)this._isIdRenderable(_,u)&&f.push(this._tiles[_]);return u?f.sort(((_,S)=>{const M=_.tileID,D=S.tileID,z=new a.P(M.canonical.x,M.canonical.y)._rotate(-this.transform.bearingInRadians),F=new a.P(D.canonical.x,D.canonical.y)._rotate(-this.transform.bearingInRadians);return M.overscaledZ-D.overscaledZ||F.y-z.y||F.x-z.x})).map((_=>_.tileID.key)):f.map((_=>_.tileID)).sort(Jr).map((_=>_.key))}hasRenderableParent(u){const f=u.overscaledZ-1;if(f>=this._source.minzoom){const _=this.getLoadedTile(u.scaledTo(f));if(_)return this._isIdRenderable(_.tileID.key)}return!1}_isIdRenderable(u,f=!1){var _;return(_=this._tiles[u])===null||_===void 0?void 0:_.isRenderable(f)}reload(u,f=void 0){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const _ in this._tiles)f&&this._source.shouldReloadTile&&!this._source.shouldReloadTile(this._tiles[_],f)||(u?this._reloadTile(_,"expired"):this._tiles[_].state!=="errored"&&this._reloadTile(_,"reloading"))}}_reloadTile(u,f){return a._(this,void 0,void 0,(function*(){const _=this._tiles[u];_&&(_.state!=="loading"&&(_.state=f),yield this._loadTile(_,u,f))}))}_tileLoaded(u,f,_){u.timeAdded=I(),u.selfFading&&(u.fadeEndTime=u.timeAdded+this._rasterFadeDuration),_==="expired"&&(u.refreshedUponExpiration=!0),this._setTileReloadTimer(f,u),this.getSource().type==="raster-dem"&&u.dem&&this._backfillDEM(u),this._state.initializeTileState(u,this.map?this.map.painter:null),u.aborted||this._source.fire(new a.l("data",{dataType:"source",tile:u,coord:u.tileID}))}_backfillDEM(u){const f=this.getRenderableIds();for(let S=0;S<f.length;S++){const M=f[S];if(u.neighboringTiles&&u.neighboringTiles[M]){const D=this.getTileByID(M);_(u,D),_(D,u)}}function _(S,M){S.needsHillshadePrepare=!0,S.needsTerrainPrepare=!0;let D=M.tileID.canonical.x-S.tileID.canonical.x;const z=M.tileID.canonical.y-S.tileID.canonical.y,F=Math.pow(2,S.tileID.canonical.z),G=M.tileID.key;D===0&&z===0||Math.abs(z)>1||(Math.abs(D)>1&&(Math.abs(D+F)===1?D+=F:Math.abs(D-F)===1&&(D-=F)),M.dem&&S.dem&&(S.dem.backfillBorder(M.dem,D,z),S.neighboringTiles&&S.neighboringTiles[G]&&(S.neighboringTiles[G].backfilled=!0)))}}getTile(u){return this.getTileByID(u.key)}getTileByID(u){return this._tiles[u]}_retainLoadedChildren(u,f){const _=this._getLoadedDescendents(f),S=new Set;for(const M of f){const D=_[M.key];if(!D?.length){S.add(M);continue}const z=M.overscaledZ+zr.maxOverzooming,F=D.filter((te=>te.tileID.overscaledZ<=z));if(!F.length){S.add(M);continue}const G=Math.min(...F.map((te=>te.tileID.overscaledZ))),q=F.filter((te=>te.tileID.overscaledZ===G)).map((te=>te.tileID));for(const te of q)u[te.key]=te;this._areDescendentsComplete(q,G,M.overscaledZ)||S.add(M)}return S}_getLoadedDescendents(u){var f;const _={};for(const S in this._tiles){const M=this._tiles[S];if(M.hasData())for(const D of u)M.tileID.isChildOf(D)&&(_[f=D.key]||(_[f]=[])).push(M)}return _}_areDescendentsComplete(u,f,_){return u.length===1&&u[0].isOverscaled()?u[0].overscaledZ===f:Math.pow(4,f-_)===u.length}getLoadedTile(u){const f=this._tiles[u.key];return f?.hasData()?f:null}updateCacheSize(u){const f=Math.ceil(u.width/this._source.tileSize)+1,_=Math.ceil(u.height/this._source.tileSize)+1,S=Math.floor(f*_*(this._maxTileCacheZoomLevels===null?a.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),M=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,S):S;this._cache.setMaxSize(M)}handleWrapJump(u){const f=Math.round((u-(this._prevLng===void 0?u:this._prevLng))/360);if(this._prevLng=u,f){const _={};for(const S in this._tiles){const M=this._tiles[S];M.tileID=M.tileID.unwrapTo(M.tileID.wrap+f),_[M.tileID.key]=M}this._tiles=_,this._resetTileReloadTimers()}}update(u,f){if(!this._sourceLoaded||this._paused)return;let _;this.transform=u,this.terrain=f,this.updateCacheSize(u),this.handleWrapJump(this.transform.center.lng),this.used||this.usedForTerrain?this._source.tileID?_=u.getVisibleUnwrappedCoordinates(this._source.tileID).map((F=>new a.a1(F.canonical.z,F.wrap,F.canonical.z,F.canonical.x,F.canonical.y))):(_=xr(u,{tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.type==="vector"&&this.map._zoomLevelsToOverscale!==void 0?u.maxZoom-this.map._zoomLevelsToOverscale:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:f,calculateTileZoom:this._source.calculateTileZoom}),this._source.hasTile&&(_=_.filter((F=>this._source.hasTile(F))))):_=[],this.usedForTerrain&&(_=this._addTerrainIdealTiles(_));const S=_.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,S&&this.fire(new a.l("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const M=ar(u,this._source),D=this._updateRetainedTiles(_,M),z=hn(this._source.type);z&&this._rasterFadeDuration>0&&!f&&this._updateFadingTiles(_,D),z?this._cleanUpRasterTiles(D):this._cleanUpVectorTiles(D)}_cleanUpRasterTiles(u){for(const f in this._tiles)u[f]||this._removeTile(f)}_cleanUpVectorTiles(u){for(const f in this._tiles){const _=this._tiles[f];u[f]?_.clearSymbolFadeHold():_.hasSymbolBuckets?_.holdingForSymbolFade()?_.symbolFadeFinished()&&this._removeTile(f):_.setSymbolHoldDuration(this.map._fadeDuration):this._removeTile(f)}}_addTerrainIdealTiles(u){const f=[];for(const _ of u)if(_.canonical.z>this._source.minzoom){const S=_.scaledTo(_.canonical.z-1);f.push(S);const M=_.scaledTo(Math.max(this._source.minzoom,Math.min(_.canonical.z,5)));f.push(M)}return u.concat(f)}releaseSymbolFadeTiles(){for(const u in this._tiles)this._tiles[u].holdingForSymbolFade()&&this._removeTile(u)}_updateRetainedTiles(u,f){var _;const S=new Set;for(const G of u)this._addTile(G).hasData()||S.add(G);const M=u.reduce(((G,q)=>(G[q.key]=q,G)),{}),D=this._retainLoadedChildren(M,S),z={},F=Math.max(f-zr.maxUnderzooming,this._source.minzoom);for(const G of D){let q=this._tiles[G.key],te=q?.wasRequested();for(let ee=G.overscaledZ-1;ee>=F;--ee){const ae=G.scaledTo(ee);if(z[ae.key])break;if(z[ae.key]=!0,q=this.getTile(ae),!q&&te&&(q=this._addTile(ae)),q){const fe=q.hasData();if((fe||!(!((_=this.map)===null||_===void 0)&&_.cancelPendingTileRequestsWhileZooming)||te)&&(M[ae.key]=ae),te=q.wasRequested(),fe)break}}}return M}_updateFadingTiles(u,f){const _=I(),S=a.aw(u);for(const M of u){const D=this._tiles[M.key];D.fadingDirection!==Ne.Departing&&D.fadeOpacity!==0||D.resetFadeLogic(),this._updateFadingAncestor(D,f,_)||this._updateFadingDescendents(D,f,_)||this._updateFadingEdge(D,S,_)||D.resetFadeLogic()}}_updateFadingAncestor(u,f,_){if(!u.hasData())return!1;const{tileID:S,fadingRole:M,fadingDirection:D,fadingParentID:z}=u;if(M===Zn.Base&&D===Ne.Incoming&&z)return f[z.key]=z,!0;const F=Math.max(S.overscaledZ-this._maxFadingAncestorLevels,this._source.minzoom);for(let G=S.overscaledZ-1;G>=F;G--){const q=S.scaledTo(G),te=this.getLoadedTile(q);if(te)return u.setCrossFadeLogic({fadingRole:Zn.Base,fadingDirection:Ne.Incoming,fadingParentID:te.tileID,fadeEndTime:_+this._rasterFadeDuration}),te.setCrossFadeLogic({fadingRole:Zn.Parent,fadingDirection:Ne.Departing,fadeEndTime:_+this._rasterFadeDuration}),f[q.key]=q,!0}return!1}_updateFadingDescendents(u,f,_){if(!u.hasData())return!1;const S=u.tileID.children(this._source.maxzoom);let M=this._updateFadingChildren(u,S,f,_);if(M)return!0;for(const D of S){const z=D.children(this._source.maxzoom);this._updateFadingChildren(u,z,f,_)&&(M=!0)}return M}_updateFadingChildren(u,f,_,S){if(f[0].overscaledZ>=this._source.maxzoom)return!1;let M=!1;for(const D of f){const z=this.getLoadedTile(D);if(!z)continue;const{fadingRole:F,fadingDirection:G,fadingParentID:q}=z;F===Zn.Base&&G===Ne.Departing&&q||(z.setCrossFadeLogic({fadingRole:Zn.Base,fadingDirection:Ne.Departing,fadingParentID:u.tileID,fadeEndTime:S+this._rasterFadeDuration}),u.setCrossFadeLogic({fadingRole:Zn.Parent,fadingDirection:Ne.Incoming,fadeEndTime:S+this._rasterFadeDuration})),_[D.key]=D,M=!0}return M}_updateFadingEdge(u,f,_){const S=u.tileID;return!!u.selfFading||!u.hasData()&&!!f.has(S)&&(u.setSelfFadeLogic(_+this._rasterFadeDuration),!0)}_addTile(u){let f=this._tiles[u.key];if(f)return f;f=this._cache.getAndRemove(u),f&&(f.resetFadeLogic(),this._setTileReloadTimer(u.key,f),f.tileID=u,this._state.initializeTileState(f,this.map?this.map.painter:null));const _=f;return f||(f=new ne(u,this._source.tileSize*u.overscaleFactor()),this._loadTile(f,u.key,f.state)),f.uses++,this._tiles[u.key]=f,_||this._source.fire(new a.l("dataloading",{tile:f,coord:f.tileID,dataType:"source"})),f}_setTileReloadTimer(u,f){this._clearTileReloadTimer(u);const _=f.getExpiryTimeout();_&&(this._timers[u]=setTimeout((()=>{this._reloadTile(u,"expired"),delete this._timers[u]}),_))}_clearTileReloadTimer(u){const f=this._timers[u];f&&(clearTimeout(f),delete this._timers[u])}_resetTileReloadTimers(){for(const u in this._timers)clearTimeout(this._timers[u]),delete this._timers[u];for(const u in this._tiles)this._setTileReloadTimer(u,this._tiles[u])}refreshTiles(u){for(const f in this._tiles)(this._isIdRenderable(f)||this._tiles[f].state=="errored")&&u.some((_=>_.equals(this._tiles[f].tileID.canonical)))&&this._reloadTile(f,"expired")}_removeTile(u){const f=this._tiles[u];f&&(f.uses--,delete this._tiles[u],this._clearTileReloadTimer(u),f.uses>0||(f.hasData()&&f.state!=="reloading"?this._cache.add(f.tileID,f,f.getExpiryTimeout()):(f.aborted=!0,this._abortTile(f),this._unloadTile(f))))}_dataHandler(u){u.dataType==="source"&&(u.sourceDataType!=="metadata"?u.sourceDataType==="content"&&this._sourceLoaded&&!this._paused&&(this.reload(u.sourceDataChanged,u.shouldReloadTileOptions),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0):this._sourceLoaded=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const u in this._tiles)this._removeTile(u);this._cache.reset()}tilesIn(u,f,_){const S=[],M=this.transform;if(!M)return S;const D=M.getCoveringTilesDetailsProvider().allowWorldCopies(),z=_?M.getCameraQueryGeometry(u):u,F=ae=>M.screenPointToMercatorCoordinate(ae,this.terrain),G=this.transformBbox(u,F,!D),q=this.transformBbox(z,F,!D),te=this.getIds(),ee=a.ab.fromPoints(q);for(let ae=0;ae<te.length;ae++){const fe=this._tiles[te[ae]];if(fe.holdingForSymbolFade())continue;const we=D?[fe.tileID]:[fe.tileID.unwrapTo(-1),fe.tileID.unwrapTo(0)],Se=Math.pow(2,M.zoom-fe.tileID.overscaledZ),Pe=f*fe.queryPadding*a.a4/fe.tileSize/Se;for(const Ae of we){const ke=ee.map((Ie=>Ae.getTilePoint(new a.aa(Ie.x,Ie.y))));if(ke.expandBy(Pe),ke.intersects(yn)){const Ie=G.map((Ge=>Ae.getTilePoint(Ge))),$e=q.map((Ge=>Ae.getTilePoint(Ge)));S.push({tile:fe,tileID:D?Ae:Ae.unwrapTo(0),queryGeometry:Ie,cameraQueryGeometry:$e,scale:Se})}}}return S}transformBbox(u,f,_){let S=u.map(f);if(_){const M=a.ab.fromPoints(u);M.shrinkBy(.001*Math.min(M.width(),M.height()));const D=M.map(f);a.ab.fromPoints(S).covers(D)||(S=S.map((z=>z.x>.5?new a.aa(z.x-1,z.y,z.z):z)))}return S}getVisibleCoordinates(u){const f=this.getRenderableIds(u).map((_=>this._tiles[_].tileID));return this.transform&&this.transform.populateCache(f),f}hasTransition(){if(this._source.hasTransition())return!0;if(hn(this._source.type)&&this._rasterFadeDuration>0){const u=I();for(const f in this._tiles)if(this._tiles[f].fadeEndTime>=u)return!0}return!1}setRasterFadeDuration(u){this._rasterFadeDuration=u}setFeatureState(u,f,_){this._state.updateState(u=u||a.a9,f,_)}removeFeatureState(u,f,_){this._state.removeFeatureState(u=u||a.a9,f,_)}getFeatureState(u,f){return this._state.getState(u=u||a.a9,f)}setDependencies(u,f,_){const S=this._tiles[u];S&&S.setDependencies(f,_)}reloadTilesForDependencies(u,f){for(const _ in this._tiles)this._tiles[_].hasDependency(u,f)&&this._reloadTile(_,"reloading");this._cache.filter((_=>!_.hasDependency(u,f)))}}function Jr(P,u){const f=Math.abs(2*P.wrap)-+(P.wrap<0),_=Math.abs(2*u.wrap)-+(u.wrap<0);return P.overscaledZ-u.overscaledZ||_-f||u.canonical.y-P.canonical.y||u.canonical.x-P.canonical.x}function hn(P){return P==="raster"||P==="image"||P==="video"}zr.maxUnderzooming=10,zr.maxOverzooming=3;class It{constructor(u,f){this.reset(u,f)}reset(u,f){this.points=u||[],this._distances=[0];for(let _=1;_<this.points.length;_++)this._distances[_]=this._distances[_-1]+this.points[_].dist(this.points[_-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(f||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(u){if(this.points.length===1)return this.points[0];u=a.an(u,0,1);let f=1,_=this._distances[f];const S=u*this.paddedLength+this.padding;for(;_<S&&f<this._distances.length;)_=this._distances[++f];const M=f-1,D=this._distances[M],z=_-D,F=z>0?(S-D)/z:0;return this.points[M].mult(1-F).add(this.points[f].mult(F))}}function _n(P,u){let f=!0;return P==="always"||P!=="never"&&u!=="never"||(f=!1),f}class dn{constructor(u,f,_){const S=this.boxCells=[],M=this.circleCells=[];this.xCellCount=Math.ceil(u/_),this.yCellCount=Math.ceil(f/_);for(let D=0;D<this.xCellCount*this.yCellCount;D++)S.push([]),M.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=u,this.height=f,this.xScale=this.xCellCount/u,this.yScale=this.yCellCount/f,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(u,f,_,S,M){this._forEachCell(f,_,S,M,this._insertBoxCell,this.boxUid++),this.boxKeys.push(u),this.bboxes.push(f),this.bboxes.push(_),this.bboxes.push(S),this.bboxes.push(M)}insertCircle(u,f,_,S){this._forEachCell(f-S,_-S,f+S,_+S,this._insertCircleCell,this.circleUid++),this.circleKeys.push(u),this.circles.push(f),this.circles.push(_),this.circles.push(S)}_insertBoxCell(u,f,_,S,M,D){this.boxCells[M].push(D)}_insertCircleCell(u,f,_,S,M,D){this.circleCells[M].push(D)}_query(u,f,_,S,M,D,z){if(_<0||u>this.width||S<0||f>this.height)return[];const F=[];if(u<=0&&f<=0&&this.width<=_&&this.height<=S){if(M)return[{key:null,x1:u,y1:f,x2:_,y2:S}];for(let G=0;G<this.boxKeys.length;G++)F.push({key:this.boxKeys[G],x1:this.bboxes[4*G],y1:this.bboxes[4*G+1],x2:this.bboxes[4*G+2],y2:this.bboxes[4*G+3]});for(let G=0;G<this.circleKeys.length;G++){const q=this.circles[3*G],te=this.circles[3*G+1],ee=this.circles[3*G+2];F.push({key:this.circleKeys[G],x1:q-ee,y1:te-ee,x2:q+ee,y2:te+ee})}}else this._forEachCell(u,f,_,S,this._queryCell,F,{hitTest:M,overlapMode:D,seenUids:{box:{},circle:{}}},z);return F}query(u,f,_,S){return this._query(u,f,_,S,!1,null)}hitTest(u,f,_,S,M,D){return this._query(u,f,_,S,!0,M,D).length>0}hitTestCircle(u,f,_,S,M){const D=u-_,z=u+_,F=f-_,G=f+_;if(z<0||D>this.width||G<0||F>this.height)return!1;const q=[];return this._forEachCell(D,F,z,G,this._queryCellCircle,q,{hitTest:!0,overlapMode:S,circle:{x:u,y:f,radius:_},seenUids:{box:{},circle:{}}},M),q.length>0}_queryCell(u,f,_,S,M,D,z,F){const{seenUids:G,hitTest:q,overlapMode:te}=z,ee=this.boxCells[M];if(ee!==null){const fe=this.bboxes;for(const we of ee)if(!G.box[we]){G.box[we]=!0;const Se=4*we,Pe=this.boxKeys[we];if(u<=fe[Se+2]&&f<=fe[Se+3]&&_>=fe[Se+0]&&S>=fe[Se+1]&&(!F||F(Pe))&&(!q||!_n(te,Pe.overlapMode))&&(D.push({key:Pe,x1:fe[Se],y1:fe[Se+1],x2:fe[Se+2],y2:fe[Se+3]}),q))return!0}}const ae=this.circleCells[M];if(ae!==null){const fe=this.circles;for(const we of ae)if(!G.circle[we]){G.circle[we]=!0;const Se=3*we,Pe=this.circleKeys[we];if(this._circleAndRectCollide(fe[Se],fe[Se+1],fe[Se+2],u,f,_,S)&&(!F||F(Pe))&&(!q||!_n(te,Pe.overlapMode))){const Ae=fe[Se],ke=fe[Se+1],Ie=fe[Se+2];if(D.push({key:Pe,x1:Ae-Ie,y1:ke-Ie,x2:Ae+Ie,y2:ke+Ie}),q)return!0}}}return!1}_queryCellCircle(u,f,_,S,M,D,z,F){const{circle:G,seenUids:q,overlapMode:te}=z,ee=this.boxCells[M];if(ee!==null){const fe=this.bboxes;for(const we of ee)if(!q.box[we]){q.box[we]=!0;const Se=4*we,Pe=this.boxKeys[we];if(this._circleAndRectCollide(G.x,G.y,G.radius,fe[Se+0],fe[Se+1],fe[Se+2],fe[Se+3])&&(!F||F(Pe))&&!_n(te,Pe.overlapMode))return D.push(!0),!0}}const ae=this.circleCells[M];if(ae!==null){const fe=this.circles;for(const we of ae)if(!q.circle[we]){q.circle[we]=!0;const Se=3*we,Pe=this.circleKeys[we];if(this._circlesCollide(fe[Se],fe[Se+1],fe[Se+2],G.x,G.y,G.radius)&&(!F||F(Pe))&&!_n(te,Pe.overlapMode))return D.push(!0),!0}}}_forEachCell(u,f,_,S,M,D,z,F){const G=this._convertToXCellCoord(u),q=this._convertToYCellCoord(f),te=this._convertToXCellCoord(_),ee=this._convertToYCellCoord(S);for(let ae=G;ae<=te;ae++)for(let fe=q;fe<=ee;fe++)if(M.call(this,u,f,_,S,this.xCellCount*fe+ae,D,z,F))return}_convertToXCellCoord(u){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(u*this.xScale)))}_convertToYCellCoord(u){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(u*this.yScale)))}_circlesCollide(u,f,_,S,M,D){const z=S-u,F=M-f,G=_+D;return G*G>z*z+F*F}_circleAndRectCollide(u,f,_,S,M,D,z){const F=(D-S)/2,G=Math.abs(u-(S+F));if(G>F+_)return!1;const q=(z-M)/2,te=Math.abs(f-(M+q));if(te>q+_)return!1;if(G<=F||te<=q)return!0;const ee=G-F,ae=te-q;return ee*ee+ae*ae<=_*_}}function ii(P,u,f){const _=a.N();if(!P){const{vecSouth:te,vecEast:ee}=Et(u),ae=p();ae[0]=ee[0],ae[1]=ee[1],ae[2]=te[0],ae[3]=te[1],S=ae,(q=(D=(M=ae)[0])*(G=M[3])-(F=M[2])*(z=M[1]))&&(S[0]=G*(q=1/q),S[1]=-z*q,S[2]=-F*q,S[3]=D*q),_[0]=ae[0],_[1]=ae[1],_[4]=ae[2],_[5]=ae[3]}var S,M,D,z,F,G,q;return a.Q(_,_,[1/f,1/f,1]),_}function en(P,u,f,_){if(P){const S=a.N();if(!u){const{vecSouth:M,vecEast:D}=Et(f);S[0]=D[0],S[1]=D[1],S[4]=M[0],S[5]=M[1]}return a.Q(S,S,[_,_,1]),S}return f.pixelsToClipSpaceMatrix}function Et(P){const u=Math.cos(P.rollInRadians),f=Math.sin(P.rollInRadians),_=Math.cos(P.pitchInRadians),S=Math.cos(P.bearingInRadians),M=Math.sin(P.bearingInRadians),D=a.aB();D[0]=-S*_*f-M*u,D[1]=-M*_*f+S*u;const z=a.aC(D);z<1e-9?a.aD(D):a.aE(D,D,1/z);const F=a.aB();F[0]=S*_*u-M*f,F[1]=M*_*u+S*f;const G=a.aC(F);return G<1e-9?a.aD(F):a.aE(F,F,1/G),{vecEast:F,vecSouth:D}}function Qt(P,u,f,_){let S;_?(S=[P,u,_(P,u),1],a.aG(S,S,f)):(S=[P,u,0,1],rd(S,S,f));const M=S[3];return{point:new a.P(S[0]/M,S[1]/M),signedDistanceFromCamera:M,isOccluded:!1}}function ur(P,u){return .5+P/u*.5}function Ji(P,u){return P.x>=-u[0]&&P.x<=u[0]&&P.y>=-u[1]&&P.y<=u[1]}function hs(P,u,f,_,S,M,D,z,F,G,q,te,ee){const ae=f?P.textSizeData:P.iconSizeData,fe=a.ax(ae,u.transform.zoom),we=[256/u.width*2+1,256/u.height*2+1],Se=f?P.text.dynamicLayoutVertexArray:P.icon.dynamicLayoutVertexArray;Se.clear();const Pe=P.lineVertexArray,Ae=f?P.text.placedSymbolArray:P.icon.placedSymbolArray,ke=u.transform.width/u.transform.height;let Ie=!1;for(let $e=0;$e<Ae.length;$e++){const Ge=Ae.get($e);if(Ge.hidden||Ge.writingMode===a.ay.vertical&&!Ie){ps(Ge.numGlyphs,Se);continue}Ie=!1;const Le=new a.P(Ge.anchorX,Ge.anchorY),Ze={getElevation:ee,pitchedLabelPlaneMatrix:_,lineVertexArray:Pe,pitchWithMap:M,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:u.transform,tileAnchorPoint:Le,unwrappedTileID:F,width:G,height:q,translation:te},lt=Dl(Ge.anchorX,Ge.anchorY,Ze);if(!Ji(lt.point,we)){ps(Ge.numGlyphs,Se);continue}const rt=ur(u.transform.cameraToCenterDistance,lt.signedDistanceFromCamera),nt=a.az(ae,fe,Ge),st=M?nt*u.transform.getPitchedTextCorrection(Ge.anchorX,Ge.anchorY,F)/rt:nt*rt,kt=Va({projectionContext:Ze,pitchedLabelPlaneMatrixInverse:S,symbol:Ge,fontSize:st,flip:!1,keepUpright:D,glyphOffsetArray:P.glyphOffsetArray,dynamicLayoutVertexArray:Se,aspectRatio:ke,rotateToLine:z});Ie=kt.useVertical,(kt.notEnoughRoom||Ie||kt.needsFlipping&&Va({projectionContext:Ze,pitchedLabelPlaneMatrixInverse:S,symbol:Ge,fontSize:st,flip:!0,keepUpright:D,glyphOffsetArray:P.glyphOffsetArray,dynamicLayoutVertexArray:Se,aspectRatio:ke,rotateToLine:z}).notEnoughRoom)&&ps(Ge.numGlyphs,Se)}f?P.text.dynamicLayoutVertexBuffer.updateData(Se):P.icon.dynamicLayoutVertexBuffer.updateData(Se)}function xi(P,u,f,_,S,M,D,z){const F=M.glyphStartIndex+M.numGlyphs,G=M.lineStartIndex,q=M.lineStartIndex+M.lineLength,te=u.getoffsetX(M.glyphStartIndex),ee=u.getoffsetX(F-1),ae=In(P*te,f,_,S,M.segment,G,q,z,D);if(!ae)return null;const fe=In(P*ee,f,_,S,M.segment,G,q,z,D);return fe?z.projectionCache.anyProjectionOccluded?null:{first:ae,last:fe}:null}function gr(P,u,f,_){return P===a.ay.horizontal&&Math.abs(f.y-u.y)>Math.abs(f.x-u.x)*_?{useVertical:!0}:(P===a.ay.vertical?u.y<f.y:u.x>f.x)?{needsFlipping:!0}:null}function Va(P){const{projectionContext:u,pitchedLabelPlaneMatrixInverse:f,symbol:_,fontSize:S,flip:M,keepUpright:D,glyphOffsetArray:z,dynamicLayoutVertexArray:F,aspectRatio:G,rotateToLine:q}=P,te=S/24,ee=_.lineOffsetX*te,ae=_.lineOffsetY*te;let fe;if(_.numGlyphs>1){const we=_.glyphStartIndex+_.numGlyphs,Se=_.lineStartIndex,Pe=_.lineStartIndex+_.lineLength,Ae=xi(te,z,ee,ae,M,_,q,u);if(!Ae)return{notEnoughRoom:!0};const ke=fs(Ae.first.point.x,Ae.first.point.y,u,f),Ie=fs(Ae.last.point.x,Ae.last.point.y,u,f);if(D&&!M){const $e=gr(_.writingMode,ke,Ie,G);if($e)return $e}fe=[Ae.first];for(let $e=_.glyphStartIndex+1;$e<we-1;$e++){const Ge=In(te*z.getoffsetX($e),ee,ae,M,_.segment,Se,Pe,u,q);if(!Ge)return{notEnoughRoom:!0};fe.push(Ge)}fe.push(Ae.last)}else{if(D&&!M){const Se=Fi(u.tileAnchorPoint.x,u.tileAnchorPoint.y,u).point,Pe=_.lineStartIndex+_.segment+1,Ae=new a.P(u.lineVertexArray.getx(Pe),u.lineVertexArray.gety(Pe)),ke=Fi(Ae.x,Ae.y,u),Ie=ke.signedDistanceFromCamera>0?ke.point:qs(u.tileAnchorPoint,Ae,Se,1,u),$e=fs(Se.x,Se.y,u,f),Ge=fs(Ie.x,Ie.y,u,f),Le=gr(_.writingMode,$e,Ge,G);if(Le)return Le}const we=In(te*z.getoffsetX(_.glyphStartIndex),ee,ae,M,_.segment,_.lineStartIndex,_.lineStartIndex+_.lineLength,u,q);if(!we||u.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};fe=[we]}for(const we of fe)a.aF(F,we.point,we.angle);return{}}function qs(P,u,f,_,S){const M=P.add(P.sub(u)._unit()),D=Fi(M.x,M.y,S).point,z=f.sub(D);return f.add(z._mult(_/z.mag()))}function ds(P,u,f){const _=u.projectionCache;if(_.projections[P])return _.projections[P];const S=new a.P(u.lineVertexArray.getx(P),u.lineVertexArray.gety(P)),M=Fi(S.x,S.y,u);if(M.signedDistanceFromCamera>0)return _.projections[P]=M.point,_.anyProjectionOccluded=_.anyProjectionOccluded||M.isOccluded,M.point;const D=P-f.direction;return qs(f.distanceFromAnchor===0?u.tileAnchorPoint:new a.P(u.lineVertexArray.getx(D),u.lineVertexArray.gety(D)),S,f.previousVertex,f.absOffsetX-f.distanceFromAnchor+1,u)}function Fi(P,u,f){const _=P+f.translation[0],S=u+f.translation[1];let M;return f.pitchWithMap?(M=Qt(_,S,f.pitchedLabelPlaneMatrix,f.getElevation),M.isOccluded=!1):(M=f.transform.projectTileCoordinates(_,S,f.unwrappedTileID,f.getElevation),M.point.x=(.5*M.point.x+.5)*f.width,M.point.y=(.5*-M.point.y+.5)*f.height),M}function fs(P,u,f,_){if(f.pitchWithMap){const S=[P,u,0,1];return a.aG(S,S,_),f.transform.projectTileCoordinates(S[0]/S[3],S[1]/S[3],f.unwrappedTileID,f.getElevation).point}return{x:P/f.width*2-1,y:1-u/f.height*2}}function Dl(P,u,f){return f.transform.projectTileCoordinates(P,u,f.unwrappedTileID,f.getElevation)}function kc(P,u,f){return P._unit()._perp()._mult(u*f)}function ra(P,u,f,_,S,M,D,z,F){if(z.projectionCache.offsets[P])return z.projectionCache.offsets[P];const G=f.add(u);if(P+F.direction<_||P+F.direction>=S)return z.projectionCache.offsets[P]=G,G;const q=ds(P+F.direction,z,F),te=kc(q.sub(f),D,F.direction),ee=f.add(te),ae=q.add(te);return z.projectionCache.offsets[P]=a.aH(M,G,ee,ae)||G,z.projectionCache.offsets[P]}function In(P,u,f,_,S,M,D,z,F){const G=_?P-u:P+u;let q=G>0?1:-1,te=0;_&&(q*=-1,te=Math.PI),q<0&&(te+=Math.PI);let ee,ae=q>0?M+S:M+S+1;z.projectionCache.cachedAnchorPoint?ee=z.projectionCache.cachedAnchorPoint:(ee=Fi(z.tileAnchorPoint.x,z.tileAnchorPoint.y,z).point,z.projectionCache.cachedAnchorPoint=ee);let fe,we,Se=ee,Pe=ee,Ae=0,ke=0;const Ie=Math.abs(G),$e=[];let Ge;for(;Ae+ke<=Ie;){if(ae+=q,ae<M||ae>=D)return null;Ae+=ke,Pe=Se,we=fe;const lt={absOffsetX:Ie,direction:q,distanceFromAnchor:Ae,previousVertex:Pe};if(Se=ds(ae,z,lt),f===0)$e.push(Pe),Ge=Se.sub(Pe);else{let rt;const nt=Se.sub(Pe);rt=nt.mag()===0?kc(ds(ae+q,z,lt).sub(Se),f,q):kc(nt,f,q),we||(we=Pe.add(rt)),fe=ra(ae,rt,Se,M,D,we,f,z,lt),$e.push(we),Ge=fe.sub(we)}ke=Ge.mag()}const Le=Ge._mult((Ie-Ae)/ke)._add(we||Pe),Ze=te+Math.atan2(Se.y-Pe.y,Se.x-Pe.x);return $e.push(Le),{point:Le,angle:F?Ze:0,path:$e}}const eC=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ps(P,u){for(let f=0;f<P;f++){const _=u.length;u.resize(_+4),u.float32.set(eC,3*_)}}function rd(P,u,f){const _=u[0],S=u[1];return P[0]=f[0]*_+f[4]*S+f[12],P[1]=f[1]*_+f[5]*S+f[13],P[3]=f[3]*_+f[7]*S+f[15],P}const Xn=100;class Ll{constructor(u,f=new dn(u.width+200,u.height+200,25),_=new dn(u.width+200,u.height+200,25)){this.transform=u,this.grid=f,this.ignoredGrid=_,this.pitchFactor=Math.cos(u.pitch*Math.PI/180)*u.cameraToCenterDistance,this.screenRightBoundary=u.width+Xn,this.screenBottomBoundary=u.height+Xn,this.gridRightBoundary=u.width+200,this.gridBottomBoundary=u.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(u,f,_,S,M,D,z,F,G,q,te,ee){const ae=this.projectAndGetPerspectiveRatio(u.anchorPointX+F[0],u.anchorPointY+F[1],M,q,ee),fe=_*ae.perspectiveRatio;let we;if(D||z)we=this._projectCollisionBox(u,fe,S,M,D,z,F,ae,q,te,ee);else{const Ge=ae.x+(te?te.x*fe:0),Le=ae.y+(te?te.y*fe:0);we={allPointsOccluded:!1,box:[Ge+u.x1*fe,Le+u.y1*fe,Ge+u.x2*fe,Le+u.y2*fe]}}const[Se,Pe,Ae,ke]=we.box,Ie=D?we.allPointsOccluded:ae.isOccluded;let $e=Ie;return $e||($e=ae.perspectiveRatio<this.perspectiveRatioCutoff),$e||($e=!this.isInsideGrid(Se,Pe,Ae,ke)),$e||f!=="always"&&this.grid.hitTest(Se,Pe,Ae,ke,f,G)?{box:[Se,Pe,Ae,ke],placeable:!1,offscreen:!1,occluded:Ie}:{box:[Se,Pe,Ae,ke],placeable:!0,offscreen:this.isOffscreen(Se,Pe,Ae,ke),occluded:Ie}}placeCollisionCircles(u,f,_,S,M,D,z,F,G,q,te,ee,ae,fe){const we=[],Se=new a.P(f.anchorX,f.anchorY),Pe=this.getPerspectiveRatio(Se.x,Se.y,D,fe),Ae=(G?M*this.transform.getPitchedTextCorrection(f.anchorX,f.anchorY,D)/Pe:M*Pe)/a.aL,ke={getElevation:fe,pitchedLabelPlaneMatrix:z,lineVertexArray:_,pitchWithMap:G,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:this.transform,tileAnchorPoint:Se,unwrappedTileID:D,width:this.transform.width,height:this.transform.height,translation:ae},Ie=xi(Ae,S,f.lineOffsetX*Ae,f.lineOffsetY*Ae,!1,f,!1,ke);let $e=!1,Ge=!1,Le=!0;if(Ie){const Ze=.5*te*Pe+ee,lt=new a.P(-100,-100),rt=new a.P(this.screenRightBoundary,this.screenBottomBoundary),nt=new It,st=Ie.first,kt=Ie.last;let At=[];for(let Tr=st.path.length-1;Tr>=1;Tr--)At.push(st.path[Tr]);for(let Tr=1;Tr<kt.path.length;Tr++)At.push(kt.path[Tr]);const Tt=2.5*Ze;if(G){const Tr=this.projectPathToScreenSpace(At,ke);At=Tr.some((wr=>wr.signedDistanceFromCamera<=0))?[]:Tr.map((wr=>wr.point))}let er=[];if(At.length>0){const Tr=At[0].clone(),wr=At[0].clone();for(let An=1;An<At.length;An++)Tr.x=Math.min(Tr.x,At[An].x),Tr.y=Math.min(Tr.y,At[An].y),wr.x=Math.max(wr.x,At[An].x),wr.y=Math.max(wr.y,At[An].y);er=Tr.x>=lt.x&&wr.x<=rt.x&&Tr.y>=lt.y&&wr.y<=rt.y?[At]:wr.x<lt.x||Tr.x>rt.x||wr.y<lt.y||Tr.y>rt.y?[]:a.aI([At],lt.x,lt.y,rt.x,rt.y)}for(const Tr of er){nt.reset(Tr,.25*Ze);let wr=0;wr=nt.length<=.5*Ze?1:Math.ceil(nt.paddedLength/Tt)+1;for(let An=0;An<wr;An++){const Dn=An/Math.max(wr-1,1),Yn=nt.lerp(Dn),bn=Yn.x+Xn,Ti=Yn.y+Xn;we.push(bn,Ti,Ze,0);const Vn=bn-Ze,gi=Ti-Ze,fi=bn+Ze,vi=Ti+Ze;if(Le=Le&&this.isOffscreen(Vn,gi,fi,vi),Ge=Ge||this.isInsideGrid(Vn,gi,fi,vi),u!=="always"&&this.grid.hitTestCircle(bn,Ti,Ze,u,q)&&($e=!0,!F))return{circles:[],offscreen:!1,collisionDetected:$e}}}}return{circles:!F&&$e||!Ge||Pe<this.perspectiveRatioCutoff?[]:we,offscreen:Le,collisionDetected:$e}}projectPathToScreenSpace(u,f){const _=(function(S,M){const D=a.N();return a.aA(D,M.pitchedLabelPlaneMatrix),S.map((z=>{const F=Qt(z.x,z.y,D,M.getElevation),G=M.transform.projectTileCoordinates(F.point.x,F.point.y,M.unwrappedTileID,M.getElevation);return G.point.x=(.5*G.point.x+.5)*M.width,G.point.y=(.5*-G.point.y+.5)*M.height,G}))})(u,f);return(function(S){let M=0,D=0,z=0,F=0;for(let G=0;G<S.length;G++)S[G].isOccluded?(z=G+1,F=0):(F++,F>D&&(D=F,M=z));return S.slice(M,M+D)})(_)}queryRenderedSymbols(u){if(u.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const f=[],_=new a.ab;for(const te of u){const ee=new a.P(te.x+Xn,te.y+Xn);_.extend(ee),f.push(ee)}const{minX:S,minY:M,maxX:D,maxY:z}=_,F=this.grid.query(S,M,D,z).concat(this.ignoredGrid.query(S,M,D,z)),G={},q={};for(const te of F){const ee=te.key;if(G[ee.bucketInstanceId]===void 0&&(G[ee.bucketInstanceId]={}),G[ee.bucketInstanceId][ee.featureIndex])continue;const ae=[new a.P(te.x1,te.y1),new a.P(te.x2,te.y1),new a.P(te.x2,te.y2),new a.P(te.x1,te.y2)];a.aJ(f,ae)&&(G[ee.bucketInstanceId][ee.featureIndex]=!0,q[ee.bucketInstanceId]===void 0&&(q[ee.bucketInstanceId]=[]),q[ee.bucketInstanceId].push(ee.featureIndex))}return q}insertCollisionBox(u,f,_,S,M,D){(_?this.ignoredGrid:this.grid).insert({bucketInstanceId:S,featureIndex:M,collisionGroupID:D,overlapMode:f},u[0],u[1],u[2],u[3])}insertCollisionCircles(u,f,_,S,M,D){const z=_?this.ignoredGrid:this.grid,F={bucketInstanceId:S,featureIndex:M,collisionGroupID:D,overlapMode:f};for(let G=0;G<u.length;G+=4)z.insertCircle(F,u[G],u[G+1],u[G+2])}projectAndGetPerspectiveRatio(u,f,_,S,M){if(M){let D;S?(D=[u,f,S(u,f),1],a.aG(D,D,M)):(D=[u,f,0,1],rd(D,D,M));const z=D[3];return{x:(D[0]/z+1)/2*this.transform.width+Xn,y:(-D[1]/z+1)/2*this.transform.height+Xn,perspectiveRatio:.5+this.transform.cameraToCenterDistance/z*.5,isOccluded:!1,signedDistanceFromCamera:z}}{const D=this.transform.projectTileCoordinates(u,f,_,S);return{x:(D.point.x+1)/2*this.transform.width+Xn,y:(1-D.point.y)/2*this.transform.height+Xn,perspectiveRatio:.5+this.transform.cameraToCenterDistance/D.signedDistanceFromCamera*.5,isOccluded:D.isOccluded,signedDistanceFromCamera:D.signedDistanceFromCamera}}}getPerspectiveRatio(u,f,_,S){const M=this.transform.projectTileCoordinates(u,f,_,S);return .5+this.transform.cameraToCenterDistance/M.signedDistanceFromCamera*.5}isOffscreen(u,f,_,S){return _<Xn||u>=this.screenRightBoundary||S<Xn||f>this.screenBottomBoundary}isInsideGrid(u,f,_,S){return _>=0&&u<this.gridRightBoundary&&S>=0&&f<this.gridBottomBoundary}getViewportMatrix(){const u=a.ar([]);return a.O(u,u,[-100,-100,0]),u}_projectCollisionBox(u,f,_,S,M,D,z,F,G,q,te){let ee=1,ae=0,fe=0,we=1;const Se=u.anchorPointX+z[0],Pe=u.anchorPointY+z[1];if(D&&!M){const At=this.projectAndGetPerspectiveRatio(Se+1,Pe,S,G,te),Tt=At.x-F.x,er=Math.atan((At.y-F.y)/Tt)+(Tt<0?Math.PI:0),Tr=Math.sin(er),wr=Math.cos(er);ee=wr,ae=Tr,fe=-Tr,we=wr}else if(!D&&M){const At=Et(this.transform);ee=At.vecEast[0],ae=At.vecEast[1],fe=At.vecSouth[0],we=At.vecSouth[1]}let Ae=F.x,ke=F.y,Ie=f;M&&(Ae=Se,ke=Pe,Ie=Math.pow(2,-(this.transform.zoom-_.overscaledZ)),Ie*=this.transform.getPitchedTextCorrection(Se,Pe,S),q||(Ie*=a.an(.5+F.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))),q&&(Ae+=ee*q.x*Ie+fe*q.y*Ie,ke+=ae*q.x*Ie+we*q.y*Ie);const $e=u.x1*Ie,Ge=u.x2*Ie,Le=($e+Ge)/2,Ze=u.y1*Ie,lt=u.y2*Ie,rt=(Ze+lt)/2,nt=[{offsetX:$e,offsetY:Ze},{offsetX:Le,offsetY:Ze},{offsetX:Ge,offsetY:Ze},{offsetX:Ge,offsetY:rt},{offsetX:Ge,offsetY:lt},{offsetX:Le,offsetY:lt},{offsetX:$e,offsetY:lt},{offsetX:$e,offsetY:rt}];let st=[];for(const{offsetX:At,offsetY:Tt}of nt)st.push(new a.P(Ae+ee*At+fe*Tt,ke+ae*At+we*Tt));let kt=!1;if(M){const At=st.map((Tt=>this.projectAndGetPerspectiveRatio(Tt.x,Tt.y,S,G,te)));kt=At.some((Tt=>!Tt.isOccluded)),st=At.map((Tt=>new a.P(Tt.x,Tt.y)))}else kt=!0;return{box:a.aK(st),allPointsOccluded:!kt}}}class yv{constructor(u,f,_,S){this.opacity=u?Math.max(0,Math.min(1,u.opacity+(u.placed?f:-f))):S&&_?1:0,this.placed=_}isHidden(){return this.opacity===0&&!this.placed}}class $c{constructor(u,f,_,S,M){this.text=new yv(u?u.text:null,f,_,M),this.icon=new yv(u?u.icon:null,f,S,M)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class _v{constructor(u,f,_){this.text=u,this.icon=f,this.skipFade=_}}class zc{constructor(u,f,_,S,M){this.bucketInstanceId=u,this.featureIndex=f,this.sourceLayerIndex=_,this.bucketIndex=S,this.tileID=M}}class Rb{constructor(u){this.crossSourceCollisions=u,this.maxGroupID=0,this.collisionGroups={}}get(u){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[u]){const f=++this.maxGroupID;this.collisionGroups[u]={ID:f,predicate:_=>_.collisionGroupID===f}}return this.collisionGroups[u]}}function Ob(P,u,f,_,S){const{horizontalAlign:M,verticalAlign:D}=a.aR(P);return new a.P(-(M-.5)*u+_[0]*S,-(D-.5)*f+_[1]*S)}class tC{constructor(u,f,_,S,M){this.transform=u.clone(),this.terrain=f,this.collisionIndex=new Ll(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=_,this.retainedQueryData={},this.collisionGroups=new Rb(S),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=M,M&&(M.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(u){const f=this.terrain;return f?(_,S)=>f.getElevation(u,_,S):null}getBucketParts(u,f,_,S){const M=_.getBucket(f),D=_.latestFeatureIndex;if(!M||!D||f.id!==M.layerIds[0])return;const z=_.collisionBoxArray,F=M.layers[0].layout,G=M.layers[0].paint,q=Math.pow(2,this.transform.zoom-_.tileID.overscaledZ),te=_.tileSize/a.a4,ee=_.tileID.toUnwrapped(),ae=F.get("text-rotation-alignment")==="map",fe=a.aM(_,1,this.transform.zoom),we=a.aN(this.collisionIndex.transform,_,G.get("text-translate"),G.get("text-translate-anchor")),Se=a.aN(this.collisionIndex.transform,_,G.get("icon-translate"),G.get("icon-translate-anchor")),Pe=ii(ae,this.transform,fe);this.retainedQueryData[M.bucketInstanceId]=new zc(M.bucketInstanceId,D,M.sourceLayerIndex,M.index,_.tileID);const Ae={bucket:M,layout:F,translationText:we,translationIcon:Se,unwrappedTileID:ee,pitchedLabelPlaneMatrix:Pe,scale:q,textPixelRatio:te,holdingForFade:_.holdingForSymbolFade(),collisionBoxArray:z,partiallyEvaluatedTextSize:a.ax(M.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(M.sourceID)};if(S)for(const ke of M.sortKeyRanges){const{sortKey:Ie,symbolInstanceStart:$e,symbolInstanceEnd:Ge}=ke;u.push({sortKey:Ie,symbolInstanceStart:$e,symbolInstanceEnd:Ge,parameters:Ae})}else u.push({symbolInstanceStart:0,symbolInstanceEnd:M.symbolInstances.length,parameters:Ae})}attemptAnchorPlacement(u,f,_,S,M,D,z,F,G,q,te,ee,ae,fe,we,Se,Pe,Ae,ke,Ie){const $e=a.aO[u.textAnchor],Ge=[u.textOffset0,u.textOffset1],Le=Ob($e,_,S,Ge,M),Ze=this.collisionIndex.placeCollisionBox(f,ee,F,G,q,z,D,Se,te.predicate,ke,Le,Ie);if((!Ae||this.collisionIndex.placeCollisionBox(Ae,ee,F,G,q,z,D,Pe,te.predicate,ke,Le,Ie).placeable)&&Ze.placeable){let lt;if(this.prevPlacement&&this.prevPlacement.variableOffsets[ae.crossTileID]&&this.prevPlacement.placements[ae.crossTileID]&&this.prevPlacement.placements[ae.crossTileID].text&&(lt=this.prevPlacement.variableOffsets[ae.crossTileID].anchor),ae.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[ae.crossTileID]={textOffset:Ge,width:_,height:S,anchor:$e,textBoxScale:M,prevAnchor:lt},this.markUsedJustification(fe,$e,ae,we),fe.allowVerticalPlacement&&(this.markUsedOrientation(fe,we,ae),this.placedOrientations[ae.crossTileID]=we),{shift:Le,placedGlyphBoxes:Ze}}}placeLayerBucketPart(u,f,_){const{bucket:S,layout:M,translationText:D,translationIcon:z,unwrappedTileID:F,pitchedLabelPlaneMatrix:G,textPixelRatio:q,holdingForFade:te,collisionBoxArray:ee,partiallyEvaluatedTextSize:ae,collisionGroup:fe}=u.parameters,we=M.get("text-optional"),Se=M.get("icon-optional"),Pe=a.aP(M,"text-overlap","text-allow-overlap"),Ae=Pe==="always",ke=a.aP(M,"icon-overlap","icon-allow-overlap"),Ie=ke==="always",$e=M.get("text-rotation-alignment")==="map",Ge=M.get("text-pitch-alignment")==="map",Le=M.get("icon-text-fit")!=="none",Ze=M.get("symbol-z-order")==="viewport-y",lt=Ae&&(Ie||!S.hasIconData()||Se),rt=Ie&&(Ae||!S.hasTextData()||we);!S.collisionArrays&&ee&&S.deserializeCollisionBoxes(ee);const nt=this.retainedQueryData[S.bucketInstanceId].tileID,st=this._getTerrainElevationFunc(nt),kt=this.transform.getFastPathSimpleProjectionMatrix(nt),At=(Tt,er,Tr)=>{var wr,An;if(f[Tt.crossTileID])return;if(te)return void(this.placements[Tt.crossTileID]=new _v(!1,!1,!1));let Dn=!1,Yn=!1,bn=!0,Ti=null,Vn={box:null,placeable:!1,offscreen:null,occluded:!1},gi={placeable:!1},fi=null,vi=null,jo=null,Js=0,bs=0,Nl=0;er.textFeatureIndex?Js=er.textFeatureIndex:Tt.useRuntimeCollisionCircles&&(Js=Tt.featureIndex),er.verticalTextFeatureIndex&&(bs=er.verticalTextFeatureIndex);const Vl=er.textBox;if(Vl){const na=ai=>{let Jn=a.ay.horizontal;if(S.allowVerticalPlacement&&!ai&&this.prevPlacement){const Ci=this.prevPlacement.placedOrientations[Tt.crossTileID];Ci&&(this.placedOrientations[Tt.crossTileID]=Ci,Jn=Ci,this.markUsedOrientation(S,Jn,Tt))}return Jn},el=(ai,Jn)=>{if(S.allowVerticalPlacement&&Tt.numVerticalGlyphVertices>0&&er.verticalTextBox){for(const Ci of S.writingModes)if(Ci===a.ay.vertical?(Vn=Jn(),gi=Vn):Vn=ai(),Vn&&Vn.placeable)break}else Vn=ai()},Bu=Tt.textAnchorOffsetStartIndex,Fu=Tt.textAnchorOffsetEndIndex;if(Fu===Bu){const ai=(Jn,Ci)=>{const xn=this.collisionIndex.placeCollisionBox(Jn,Pe,q,nt,F,Ge,$e,D,fe.predicate,st,void 0,kt);return xn&&xn.placeable&&(this.markUsedOrientation(S,Ci,Tt),this.placedOrientations[Tt.crossTileID]=Ci),xn};el((()=>ai(Vl,a.ay.horizontal)),(()=>{const Jn=er.verticalTextBox;return S.allowVerticalPlacement&&Tt.numVerticalGlyphVertices>0&&Jn?ai(Jn,a.ay.vertical):{box:null,offscreen:null}})),na(Vn&&Vn.placeable)}else{let ai=a.aO[(An=(wr=this.prevPlacement)===null||wr===void 0?void 0:wr.variableOffsets[Tt.crossTileID])===null||An===void 0?void 0:An.anchor];const Jn=(xn,jl,O1)=>{const k1=xn.x2-xn.x1,$1=xn.y2-xn.y1,Nu=Tt.textBoxScale,CC=Le&&ke==="never"?jl:null;let Hl=null,Qp=Pe==="never"?1:2,py="never";ai&&Qp++;for(let Gl=0;Gl<Qp;Gl++){for(let tl=Bu;tl<Fu;tl++){const my=S.textAnchorOffsets.get(tl);if(ai&&my.textAnchor!==ai)continue;const gy=this.attemptAnchorPlacement(my,xn,k1,$1,Nu,$e,Ge,q,nt,F,fe,py,Tt,S,O1,D,z,CC,st);if(gy&&(Hl=gy.placedGlyphBoxes,Hl&&Hl.placeable))return Dn=!0,Ti=gy.shift,Hl}ai?ai=null:py=Pe}return _&&!Hl&&(Hl={box:this.collisionIndex.placeCollisionBox(Vl,"always",q,nt,F,Ge,$e,D,fe.predicate,st,void 0,kt).box,offscreen:!1,placeable:!1,occluded:!1}),Hl};el((()=>Jn(Vl,er.iconBox,a.ay.horizontal)),(()=>{const xn=er.verticalTextBox;return S.allowVerticalPlacement&&(!Vn||!Vn.placeable)&&Tt.numVerticalGlyphVertices>0&&xn?Jn(xn,er.verticalIconBox,a.ay.vertical):{box:null,occluded:!0,offscreen:null}})),Vn&&(Dn=Vn.placeable,bn=Vn.offscreen);const Ci=na(Vn&&Vn.placeable);if(!Dn&&this.prevPlacement){const xn=this.prevPlacement.variableOffsets[Tt.crossTileID];xn&&(this.variableOffsets[Tt.crossTileID]=xn,this.markUsedJustification(S,xn.anchor,Tt,Ci))}}}if(fi=Vn,Dn=fi&&fi.placeable,bn=fi&&fi.offscreen,Tt.useRuntimeCollisionCircles&&Tt.centerJustifiedTextSymbolIndex>=0){const na=S.text.placedSymbolArray.get(Tt.centerJustifiedTextSymbolIndex),el=a.az(S.textSizeData,ae,na),Bu=M.get("text-padding");vi=this.collisionIndex.placeCollisionCircles(Pe,na,S.lineVertexArray,S.glyphOffsetArray,el,F,G,_,Ge,fe.predicate,Tt.collisionCircleDiameter,Bu,D,st),vi.circles.length&&vi.collisionDetected&&!_&&a.w("Collisions detected, but collision boxes are not shown"),Dn=Ae||vi.circles.length>0&&!vi.collisionDetected,bn=bn&&vi.offscreen}if(er.iconFeatureIndex&&(Nl=er.iconFeatureIndex),er.iconBox){const na=el=>this.collisionIndex.placeCollisionBox(el,ke,q,nt,F,Ge,$e,z,fe.predicate,st,Le&&Ti?Ti:void 0,kt);gi&&gi.placeable&&er.verticalIconBox?(jo=na(er.verticalIconBox),Yn=jo.placeable):(jo=na(er.iconBox),Yn=jo.placeable),bn=bn&&jo.offscreen}const zu=we||Tt.numHorizontalGlyphVertices===0&&Tt.numVerticalGlyphVertices===0,Ta=Se||Tt.numIconVertices===0;zu||Ta?Ta?zu||(Yn=Yn&&Dn):Dn=Yn&&Dn:Yn=Dn=Yn&&Dn;const Qs=Yn&&jo.placeable;if(Dn&&fi.placeable&&this.collisionIndex.insertCollisionBox(fi.box,Pe,M.get("text-ignore-placement"),S.bucketInstanceId,gi&&gi.placeable&&bs?bs:Js,fe.ID),Qs&&this.collisionIndex.insertCollisionBox(jo.box,ke,M.get("icon-ignore-placement"),S.bucketInstanceId,Nl,fe.ID),vi&&Dn&&this.collisionIndex.insertCollisionCircles(vi.circles,Pe,M.get("text-ignore-placement"),S.bucketInstanceId,Js,fe.ID),_&&this.storeCollisionData(S.bucketInstanceId,Tr,er,fi,jo,vi),Tt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(S.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[Tt.crossTileID]=new _v((Dn||lt)&&!fi?.occluded,(Yn||rt)&&!jo?.occluded,bn||S.justReloaded),f[Tt.crossTileID]=!0};if(Ze){if(u.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const Tt=S.getSortedSymbolIndexes(-this.transform.bearingInRadians);for(let er=Tt.length-1;er>=0;--er){const Tr=Tt[er];At(S.symbolInstances.get(Tr),S.collisionArrays[Tr],Tr)}}else for(let Tt=u.symbolInstanceStart;Tt<u.symbolInstanceEnd;Tt++)At(S.symbolInstances.get(Tt),S.collisionArrays[Tt],Tt);S.justReloaded=!1}storeCollisionData(u,f,_,S,M,D){if(_.textBox||_.iconBox){let z,F;this.collisionBoxArrays.has(u)?z=this.collisionBoxArrays.get(u):(z=new Map,this.collisionBoxArrays.set(u,z)),z.has(f)?F=z.get(f):(F={text:null,icon:null},z.set(f,F)),_.textBox&&(F.text=S.box),_.iconBox&&(F.icon=M.box)}if(D){let z=this.collisionCircleArrays[u];z===void 0&&(z=this.collisionCircleArrays[u]=[]);for(let F=0;F<D.circles.length;F+=4)z.push(D.circles[F+0]-Xn),z.push(D.circles[F+1]-Xn),z.push(D.circles[F+2]),z.push(D.collisionDetected?1:0)}}markUsedJustification(u,f,_,S){let M;M=S===a.ay.vertical?_.verticalPlacedTextSymbolIndex:{left:_.leftJustifiedTextSymbolIndex,center:_.centerJustifiedTextSymbolIndex,right:_.rightJustifiedTextSymbolIndex}[a.aQ(f)];const D=[_.leftJustifiedTextSymbolIndex,_.centerJustifiedTextSymbolIndex,_.rightJustifiedTextSymbolIndex,_.verticalPlacedTextSymbolIndex];for(const z of D)z>=0&&(u.text.placedSymbolArray.get(z).crossTileID=M>=0&&z!==M?0:_.crossTileID)}markUsedOrientation(u,f,_){const S=f===a.ay.horizontal||f===a.ay.horizontalOnly?f:0,M=f===a.ay.vertical?f:0,D=[_.leftJustifiedTextSymbolIndex,_.centerJustifiedTextSymbolIndex,_.rightJustifiedTextSymbolIndex];for(const z of D)u.text.placedSymbolArray.get(z).placedOrientation=S;_.verticalPlacedTextSymbolIndex&&(u.text.placedSymbolArray.get(_.verticalPlacedTextSymbolIndex).placedOrientation=M)}commit(u){this.commitTime=u,this.zoomAtLastRecencyCheck=this.transform.zoom;const f=this.prevPlacement;let _=!1;this.prevZoomAdjustment=f?f.zoomAdjustment(this.transform.zoom):0;const S=f?f.symbolFadeChange(u):1,M=f?f.opacities:{},D=f?f.variableOffsets:{},z=f?f.placedOrientations:{};for(const F in this.placements){const G=this.placements[F],q=M[F];q?(this.opacities[F]=new $c(q,S,G.text,G.icon),_=_||G.text!==q.text.placed||G.icon!==q.icon.placed):(this.opacities[F]=new $c(null,S,G.text,G.icon,G.skipFade),_=_||G.text||G.icon)}for(const F in M){const G=M[F];if(!this.opacities[F]){const q=new $c(G,S,!1,!1);q.isHidden()||(this.opacities[F]=q,_=_||G.text.placed||G.icon.placed)}}for(const F in D)this.variableOffsets[F]||!this.opacities[F]||this.opacities[F].isHidden()||(this.variableOffsets[F]=D[F]);for(const F in z)this.placedOrientations[F]||!this.opacities[F]||this.opacities[F].isHidden()||(this.placedOrientations[F]=z[F]);if(f&&f.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");_?this.lastPlacementChangeTime=u:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=f?f.lastPlacementChangeTime:u)}updateLayerOpacities(u,f){const _={};for(const S of f){const M=S.getBucket(u);M&&S.latestFeatureIndex&&u.id===M.layerIds[0]&&this.updateBucketOpacities(M,S.tileID,_,S.collisionBoxArray)}}updateBucketOpacities(u,f,_,S){u.hasTextData()&&(u.text.opacityVertexArray.clear(),u.text.hasVisibleVertices=!1),u.hasIconData()&&(u.icon.opacityVertexArray.clear(),u.icon.hasVisibleVertices=!1),u.hasIconCollisionBoxData()&&u.iconCollisionBox.collisionVertexArray.clear(),u.hasTextCollisionBoxData()&&u.textCollisionBox.collisionVertexArray.clear();const M=u.layers[0],D=M.layout,z=new $c(null,0,!1,!1,!0),F=D.get("text-allow-overlap"),G=D.get("icon-allow-overlap"),q=M._unevaluatedLayout.hasValue("text-variable-anchor")||M._unevaluatedLayout.hasValue("text-variable-anchor-offset"),te=D.get("text-rotation-alignment")==="map",ee=D.get("text-pitch-alignment")==="map",ae=D.get("icon-text-fit")!=="none",fe=new $c(null,0,F&&(G||!u.hasIconData()||D.get("icon-optional")),G&&(F||!u.hasTextData()||D.get("text-optional")),!0);!u.collisionArrays&&S&&(u.hasIconCollisionBoxData()||u.hasTextCollisionBoxData())&&u.deserializeCollisionBoxes(S);const we=(Pe,Ae,ke)=>{for(let Ie=0;Ie<Ae/4;Ie++)Pe.opacityVertexArray.emplaceBack(ke);Pe.hasVisibleVertices=Pe.hasVisibleVertices||ke!==Zs},Se=this.collisionBoxArrays.get(u.bucketInstanceId);for(let Pe=0;Pe<u.symbolInstances.length;Pe++){const Ae=u.symbolInstances.get(Pe),{numHorizontalGlyphVertices:ke,numVerticalGlyphVertices:Ie,crossTileID:$e}=Ae;let Ge=this.opacities[$e];_[$e]?Ge=z:Ge||(Ge=fe,this.opacities[$e]=Ge),_[$e]=!0;const Le=Ae.numIconVertices>0,Ze=this.placedOrientations[Ae.crossTileID],lt=Ze===a.ay.vertical,rt=Ze===a.ay.horizontal||Ze===a.ay.horizontalOnly;if(ke>0||Ie>0){const st=Fb(Ge.text);we(u.text,ke,lt?Zs:st),we(u.text,Ie,rt?Zs:st);const kt=Ge.text.isHidden();[Ae.rightJustifiedTextSymbolIndex,Ae.centerJustifiedTextSymbolIndex,Ae.leftJustifiedTextSymbolIndex].forEach((er=>{er>=0&&(u.text.placedSymbolArray.get(er).hidden=kt||lt?1:0)})),Ae.verticalPlacedTextSymbolIndex>=0&&(u.text.placedSymbolArray.get(Ae.verticalPlacedTextSymbolIndex).hidden=kt||rt?1:0);const At=this.variableOffsets[Ae.crossTileID];At&&this.markUsedJustification(u,At.anchor,Ae,Ze);const Tt=this.placedOrientations[Ae.crossTileID];Tt&&(this.markUsedJustification(u,"left",Ae,Tt),this.markUsedOrientation(u,Tt,Ae))}if(Le){const st=Fb(Ge.icon),kt=!(ae&&Ae.verticalPlacedIconSymbolIndex&&lt);Ae.placedIconSymbolIndex>=0&&(we(u.icon,Ae.numIconVertices,kt?st:Zs),u.icon.placedSymbolArray.get(Ae.placedIconSymbolIndex).hidden=Ge.icon.isHidden()),Ae.verticalPlacedIconSymbolIndex>=0&&(we(u.icon,Ae.numVerticalIconVertices,kt?Zs:st),u.icon.placedSymbolArray.get(Ae.verticalPlacedIconSymbolIndex).hidden=Ge.icon.isHidden())}const nt=Se&&Se.has(Pe)?Se.get(Pe):{text:null,icon:null};if(u.hasIconCollisionBoxData()||u.hasTextCollisionBoxData()){const st=u.collisionArrays[Pe];if(st){let kt=new a.P(0,0);if(st.textBox||st.verticalTextBox){let At=!0;if(q){const Tt=this.variableOffsets[$e];Tt?(kt=Ob(Tt.anchor,Tt.width,Tt.height,Tt.textOffset,Tt.textBoxScale),te&&kt._rotate(ee?-this.transform.bearingInRadians:this.transform.bearingInRadians)):At=!1}if(st.textBox||st.verticalTextBox){let Tt;st.textBox&&(Tt=lt),st.verticalTextBox&&(Tt=rt),kb(u.textCollisionBox.collisionVertexArray,Ge.text.placed,!At||Tt,nt.text,kt.x,kt.y)}}if(st.iconBox||st.verticalIconBox){const At=!!(!rt&&st.verticalIconBox);let Tt;st.iconBox&&(Tt=At),st.verticalIconBox&&(Tt=!At),kb(u.iconCollisionBox.collisionVertexArray,Ge.icon.placed,Tt,nt.icon,ae?kt.x:0,ae?kt.y:0)}}}}if(u.sortFeatures(-this.transform.bearingInRadians),this.retainedQueryData[u.bucketInstanceId]&&(this.retainedQueryData[u.bucketInstanceId].featureSortOrder=u.featureSortOrder),u.hasTextData()&&u.text.opacityVertexBuffer&&u.text.opacityVertexBuffer.updateData(u.text.opacityVertexArray),u.hasIconData()&&u.icon.opacityVertexBuffer&&u.icon.opacityVertexBuffer.updateData(u.icon.opacityVertexArray),u.hasIconCollisionBoxData()&&u.iconCollisionBox.collisionVertexBuffer&&u.iconCollisionBox.collisionVertexBuffer.updateData(u.iconCollisionBox.collisionVertexArray),u.hasTextCollisionBoxData()&&u.textCollisionBox.collisionVertexBuffer&&u.textCollisionBox.collisionVertexBuffer.updateData(u.textCollisionBox.collisionVertexArray),u.text.opacityVertexArray.length!==u.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${u.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${u.text.layoutVertexArray.length}) / 4`);if(u.icon.opacityVertexArray.length!==u.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${u.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${u.icon.layoutVertexArray.length}) / 4`);u.bucketInstanceId in this.collisionCircleArrays&&(u.collisionCircleArray=this.collisionCircleArrays[u.bucketInstanceId],delete this.collisionCircleArrays[u.bucketInstanceId])}symbolFadeChange(u){return this.fadeDuration===0?1:(u-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(u){return Math.max(0,(this.transform.zoom-u)/1.5)}hasTransitions(u){return this.stale||u-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(u,f){const _=this.zoomAtLastRecencyCheck===f?1-this.zoomAdjustment(f):1;return this.zoomAtLastRecencyCheck=f,this.commitTime+this.fadeDuration*_>u}setStale(){this.stale=!0}}function kb(P,u,f,_,S,M){_&&_.length!==0||(_=[0,0,0,0]);const D=_[0]-Xn,z=_[1]-Xn,F=_[2]-Xn,G=_[3]-Xn;P.emplaceBack(u?1:0,f?1:0,S||0,M||0,D,z),P.emplaceBack(u?1:0,f?1:0,S||0,M||0,F,z),P.emplaceBack(u?1:0,f?1:0,S||0,M||0,F,G),P.emplaceBack(u?1:0,f?1:0,S||0,M||0,D,G)}const $b=Math.pow(2,25),zb=Math.pow(2,24),bv=Math.pow(2,17),xv=Math.pow(2,16),Bb=Math.pow(2,9),wv=Math.pow(2,8),Sv=Math.pow(2,1);function Fb(P){if(P.opacity===0&&!P.placed)return 0;if(P.opacity===1&&P.placed)return 4294967295;const u=P.placed?1:0,f=Math.floor(127*P.opacity);return f*$b+u*zb+f*bv+u*xv+f*Bb+u*wv+f*Sv+u}const Zs=0;class vp{constructor(u){this._sortAcrossTiles=u.layout.get("symbol-z-order")!=="viewport-y"&&!u.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(u,f,_,S,M){const D=this._bucketParts;for(;this._currentTileIndex<u.length;)if(f.getBucketParts(D,S,u[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,M())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,D.sort(((z,F)=>z.sortKey-F.sortKey)));this._currentPartIndex<D.length;)if(f.placeLayerBucketPart(D[this._currentPartIndex],this._seenCrossTileIDs,_),this._currentPartIndex++,M())return!0;return!1}}class Nb{constructor(u,f,_,S,M,D,z,F){this.placement=new tC(u,f,D,z,F),this._currentPlacementIndex=_.length-1,this._forceFullPlacement=S,this._showCollisionBoxes=M,this._done=!1}isDone(){return this._done}continuePlacement(u,f,_){const S=I(),M=()=>!this._forceFullPlacement&&I()-S>2;for(;this._currentPlacementIndex>=0;){const D=f[u[this._currentPlacementIndex]],z=this.placement.collisionIndex.transform.zoom;if(D.type==="symbol"&&(!D.minzoom||D.minzoom<=z)&&(!D.maxzoom||D.maxzoom>z)){if(this._inProgressLayer||(this._inProgressLayer=new vp(D)),this._inProgressLayer.continuePlacement(_[D.source],this.placement,this._showCollisionBoxes,D,M))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(u){return this.placement.commit(u),this.placement}}const ms=512/a.a4/2;class Vb{constructor(u,f,_){this.tileID=u,this.bucketInstanceId=_,this._symbolsByKey={};const S=new Map;for(let M=0;M<f.length;M++){const D=f.get(M),z=D.key,F=S.get(z);F?F.push(D):S.set(z,[D])}for(const[M,D]of S){const z={positions:D.map((F=>({x:Math.floor(F.anchorX*ms),y:Math.floor(F.anchorY*ms)}))),crossTileIDs:D.map((F=>F.crossTileID))};if(z.positions.length>128){const F=new a.aS(z.positions.length,16,Uint16Array);for(const{x:G,y:q}of z.positions)F.add(G,q);F.finish(),delete z.positions,z.index=F}this._symbolsByKey[M]=z}}getScaledCoordinates(u,f){const{x:_,y:S,z:M}=this.tileID.canonical,{x:D,y:z,z:F}=f.canonical,G=ms/Math.pow(2,F-M),q=(z*a.a4+u.anchorY)*G,te=S*a.a4*ms;return{x:Math.floor((D*a.a4+u.anchorX)*G-_*a.a4*ms),y:Math.floor(q-te)}}findMatches(u,f,_){const S=this.tileID.canonical.z<f.canonical.z?1:Math.pow(2,this.tileID.canonical.z-f.canonical.z);for(let M=0;M<u.length;M++){const D=u.get(M);if(D.crossTileID)continue;const z=this._symbolsByKey[D.key];if(!z)continue;const F=this.getScaledCoordinates(D,f);if(z.index){const G=z.index.range(F.x-S,F.y-S,F.x+S,F.y+S).sort();for(const q of G){const te=z.crossTileIDs[q];if(!_[te]){_[te]=!0,D.crossTileID=te;break}}}else if(z.positions)for(let G=0;G<z.positions.length;G++){const q=z.positions[G],te=z.crossTileIDs[G];if(Math.abs(q.x-F.x)<=S&&Math.abs(q.y-F.y)<=S&&!_[te]){_[te]=!0,D.crossTileID=te;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map((({crossTileIDs:u})=>u))}}class rC{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Rl{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(u){const f=Math.round((u-this.lng)/360);if(f!==0)for(const _ in this.indexes){const S=this.indexes[_],M={};for(const D in S){const z=S[D];z.tileID=z.tileID.unwrapTo(z.tileID.wrap+f),M[z.tileID.key]=z}this.indexes[_]=M}this.lng=u}addBucket(u,f,_){if(this.indexes[u.overscaledZ]&&this.indexes[u.overscaledZ][u.key]){if(this.indexes[u.overscaledZ][u.key].bucketInstanceId===f.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(u.overscaledZ,this.indexes[u.overscaledZ][u.key])}for(let M=0;M<f.symbolInstances.length;M++)f.symbolInstances.get(M).crossTileID=0;this.usedCrossTileIDs[u.overscaledZ]||(this.usedCrossTileIDs[u.overscaledZ]={});const S=this.usedCrossTileIDs[u.overscaledZ];for(const M in this.indexes){const D=this.indexes[M];if(Number(M)>u.overscaledZ)for(const z in D){const F=D[z];F.tileID.isChildOf(u)&&F.findMatches(f.symbolInstances,u,S)}else{const z=D[u.scaledTo(Number(M)).key];z&&z.findMatches(f.symbolInstances,u,S)}}for(let M=0;M<f.symbolInstances.length;M++){const D=f.symbolInstances.get(M);D.crossTileID||(D.crossTileID=_.generate(),S[D.crossTileID]=!0)}return this.indexes[u.overscaledZ]===void 0&&(this.indexes[u.overscaledZ]={}),this.indexes[u.overscaledZ][u.key]=new Vb(u,f.symbolInstances,f.bucketInstanceId),!0}removeBucketCrossTileIDs(u,f){for(const _ of f.getCrossTileIDsLists())for(const S of _)delete this.usedCrossTileIDs[u][S]}removeStaleBuckets(u){let f=!1;for(const _ in this.indexes){const S=this.indexes[_];for(const M in S)u[S[M].bucketInstanceId]||(this.removeBucketCrossTileIDs(_,S[M]),delete S[M],f=!0)}return f}}class Tu{constructor(){this.layerIndexes={},this.crossTileIDs=new rC,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(u,f,_){let S=this.layerIndexes[u.id];S===void 0&&(S=this.layerIndexes[u.id]=new Rl);let M=!1;const D={};S.handleWrapJump(_);for(const z of f){const F=z.getBucket(u);F&&u.id===F.layerIds[0]&&(F.bucketInstanceId||(F.bucketInstanceId=++this.maxBucketInstanceId),S.addBucket(z.tileID,F,this.crossTileIDs)&&(M=!0),D[F.bucketInstanceId]=!0)}return S.removeStaleBuckets(D)&&(M=!0),M}pruneUnusedLayers(u){const f={};u.forEach((_=>{f[_]=!0}));for(const _ in this.layerIndexes)f[_]||delete this.layerIndexes[_]}}var Vr="void main() {fragColor=vec4(1.0);}";const ba={prelude:qr(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
out highp vec4 fragColor;`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}mat3 rotationMatrixFromAxisAngle(vec3 u,float angle) {float c=cos(angle);float s=sin(angle);float c2=1.0-c;return mat3(u.x*u.x*c2+      c,u.x*u.y*c2-u.z*s,u.x*u.z*c2+u.y*s,u.y*u.x*c2+u.z*s,u.y*u.y*c2+    c,u.y*u.z*c2-u.x*s,u.z*u.x*c2-u.y*s,u.z*u.y*c2+u.x*s,u.z*u.z*c2+    c
);}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
#ifdef GLOBE
if ((pos.y <-32767.5) || (pos.y > 32766.5)) {return 0.0;}
#endif
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}const float PI=3.141592653589793;uniform mat4 u_projection_matrix;`),projectionMercator:qr("","float projectLineThickness(float tileY) {return 1.0;}float projectCircleRadius(float tileY) {return 1.0;}vec4 projectTile(vec2 p) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);return result;}vec4 projectTile(vec2 p,vec2 rawPos) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);if (rawPos.y <-32767.5 || rawPos.y > 32766.5) {result.z=-10000000.0;}return result;}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_projection_matrix*vec4(posInTile,elevation,1.0);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {return projectTileWithElevation(posInTile,elevation);}"),projectionGlobe:qr("",`#define GLOBE_RADIUS 6371008.8
uniform highp vec4 u_projection_tile_mercator_coords;uniform highp vec4 u_projection_clipping_plane;uniform highp float u_projection_transition;uniform mat4 u_projection_fallback_matrix;vec3 globeRotateVector(vec3 vec,vec2 angles) {vec3 axisRight=vec3(vec.z,0.0,-vec.x);vec3 axisUp=cross(axisRight,vec);axisRight=normalize(axisRight);axisUp=normalize(axisUp);vec2 t=tan(angles);return normalize(vec+axisRight*t.x+axisUp*t.y);}mat3 globeGetRotationMatrix(vec3 spherePos) {vec3 axisRight=vec3(spherePos.z,0.0,-spherePos.x);vec3 axisDown=cross(axisRight,spherePos);axisRight=normalize(axisRight);axisDown=normalize(axisDown);return mat3(axisRight,axisDown,spherePos
);}float circumferenceRatioAtTileY(float tileY) {float mercator_pos_y=u_projection_tile_mercator_coords.y+u_projection_tile_mercator_coords.w*tileY;float spherical_y=2.0*atan(exp(PI-(mercator_pos_y*PI*2.0)))-PI*0.5;return cos(spherical_y);}float projectLineThickness(float tileY) {float thickness=1.0/circumferenceRatioAtTileY(tileY); 
if (u_projection_transition < 0.999) {return mix(1.0,thickness,u_projection_transition);} else {return thickness;}}vec3 projectToSphere(vec2 translatedPos,vec2 rawPos) {vec2 mercator_pos=u_projection_tile_mercator_coords.xy+u_projection_tile_mercator_coords.zw*translatedPos;vec2 spherical;spherical.x=mercator_pos.x*PI*2.0+PI;spherical.y=2.0*atan(exp(PI-(mercator_pos.y*PI*2.0)))-PI*0.5;float len=cos(spherical.y);vec3 pos=vec3(sin(spherical.x)*len,sin(spherical.y),cos(spherical.x)*len
);if (rawPos.y <-32767.5) {pos=vec3(0.0,1.0,0.0);}if (rawPos.y > 32766.5) {pos=vec3(0.0,-1.0,0.0);}return pos;}vec3 projectToSphere(vec2 posInTile) {return projectToSphere(posInTile,vec2(0.0,0.0));}float globeComputeClippingZ(vec3 spherePos) {return (1.0-(dot(spherePos,u_projection_clipping_plane.xyz)+u_projection_clipping_plane.w));}vec4 interpolateProjection(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);globePosition.z=globeComputeClippingZ(elevatedPos)*globePosition.w;if (u_projection_transition > 0.999) {return globePosition;}vec4 flatPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);const float z_globeness_threshold=0.2;vec4 result=globePosition;result.z=mix(0.0,globePosition.z,clamp((u_projection_transition-z_globeness_threshold)/(1.0-z_globeness_threshold),0.0,1.0));result.xyw=mix(flatPosition.xyw,globePosition.xyw,u_projection_transition);if ((posInTile.y <-32767.5) || (posInTile.y > 32766.5)) {result=globePosition;const float poles_hidden_anim_percentage=0.02;result.z=mix(globePosition.z,100.0,pow(max((1.0-u_projection_transition)/poles_hidden_anim_percentage,0.0),8.0));}return result;}vec4 interpolateProjectionFor3D(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);if (u_projection_transition > 0.999) {return globePosition;}vec4 fallbackPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);return mix(fallbackPosition,globePosition,u_projection_transition);}vec4 projectTile(vec2 posInTile) {return interpolateProjection(posInTile,projectToSphere(posInTile),0.0);}vec4 projectTile(vec2 posInTile,vec2 rawPos) {return interpolateProjection(posInTile,projectToSphere(posInTile,rawPos),0.0);}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return interpolateProjection(posInTile,projectToSphere(posInTile),elevation);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {vec3 spherePos=projectToSphere(posInTile,posInTile);return interpolateProjectionFor3D(posInTile,spherePos,elevation);}`),background:qr(`uniform vec4 u_color;uniform float u_opacity;void main() {fragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),backgroundPattern:qr(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;void main() {gl_Position=projectTile(a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:qr(`in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));fragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);const float epsilon=0.5/255.0;if (fragColor.r < epsilon && fragColor.g < epsilon && fragColor.b < epsilon && fragColor.a < epsilon) {discard;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_globe_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;uniform vec2 u_translate;in vec2 a_pos;out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 pos_raw=a_pos+32768.0;vec2 extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);vec2 circle_center=floor(pos_raw/8.0)+u_translate;float ele=get_elevation(circle_center);v_visibility=calculate_visibility(projectTileWithElevation(circle_center,ele));if (u_pitch_with_map) {
#ifdef GLOBE
vec3 center_vector=projectToSphere(circle_center);
#endif
float angle_scale=u_globe_extrude_scale;vec2 corner_position=circle_center;if (u_scale_with_map) {angle_scale*=(radius+stroke_width);corner_position+=extrude*u_extrude_scale*(radius+stroke_width);} else {
#ifdef GLOBE
vec4 projected_center=interpolateProjection(circle_center,center_vector,ele);
#else
vec4 projected_center=projectTileWithElevation(circle_center,ele);
#endif
corner_position+=extrude*u_extrude_scale*(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);angle_scale*=(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);}
#ifdef GLOBE
vec2 angles=extrude*angle_scale;vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(corner_position,corner_vector,ele);
#else
gl_Position=projectTileWithElevation(corner_position,ele);
#endif
} else {gl_Position=projectTileWithElevation(circle_center,ele);if (gl_Position.z/gl_Position.w > 1.0) {gl_Position.xy=vec2(10000.0);}if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:qr(Vr,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),heatmap:qr(`uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);fragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;uniform highp float u_globe_extrude_scale;in vec2 a_pos;out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 pos_raw=a_pos+32768.0;vec2 unscaled_extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 circle_center=floor(pos_raw/8.0);
#ifdef GLOBE
vec2 angles=v_extrude*radius*u_globe_extrude_scale;vec3 center_vector=projectToSphere(circle_center);vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(circle_center+extrude,corner_vector,0.0);
#else
gl_Position=projectTileFor3D(circle_center+extrude,get_elevation(circle_center));
#endif
}`),heatmapTexture:qr(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));fragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:qr("in float v_placed;in float v_notUsed;void main() {float alpha=0.5;fragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {fragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {fragColor*=.1;}}","in vec2 a_anchor_pos;in vec2 a_placed;in vec2 a_box_real;uniform vec2 u_pixel_extrude_scale;out float v_placed;out float v_notUsed;void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:qr("in float v_radius;in vec2 v_extrude;in float v_collision;void main() {float alpha=0.5;float stroke_radius=0.9;float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);fragColor=color*alpha*opacity_t;}","in vec2 a_pos;in float a_radius;in vec2 a_flags;uniform vec2 u_viewport_size;out float v_radius;out vec2 v_extrude;out float v_collision;void main() {float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_collision=collision;gl_Position=vec4((a_pos/u_viewport_size*2.0-1.0)*vec2(1.0,-1.0),0.0,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),colorRelief:qr(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;uniform vec4 u_unpack;uniform sampler2D u_elevation_stops;uniform sampler2D u_color_stops;uniform int u_color_ramp_size;uniform float u_opacity;in vec2 v_pos;float getElevation(vec2 coord) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}float getElevationStop(int stop) {float x=(float(stop)+0.5)/float(u_color_ramp_size);vec4 data=texture(u_elevation_stops,vec2(x,0))*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {float el=getElevation(v_pos);int r=(u_color_ramp_size-1);int l=0;float el_l=getElevationStop(l);float el_r=getElevationStop(r);while(r-l > 1){int m=(r+l)/2;float el_m=getElevationStop(m);if(el < el_m){r=m;el_r=el_m;}else
{l=m;el_l=el_m;}}float x=(float(l)+(el-el_l)/(el_r-el_l)+0.5)/float(u_color_ramp_size);fragColor=u_opacity*texture(u_color_stops,vec2(x,0));
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_dimension;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_pos/8192.0)*scale+epsilon;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),debug:qr("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);fragColor=mix(u_color,overlay_color,overlay_color.a);}","in vec2 a_pos;out vec2 v_uv;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=projectTileWithElevation(a_pos*u_overlay_scale,get_elevation(a_pos));}"),depth:qr(Vr,`in vec2 a_pos;void main() {
#ifdef GLOBE
gl_Position=projectTileFor3D(a_pos,0.0);
#else
gl_Position=u_projection_matrix*vec4(a_pos,0.0,1.0);
#endif
}`),fill:qr(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
fragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_fill_translate;in vec2 a_pos;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);}`),fillOutline:qr(`in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=outline_color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillOutlinePattern:qr(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;in vec2 v_pos_a;in vec2 v_pos_b;in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillPattern:qr(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:qr(`in vec4 v_color;void main() {fragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
out vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;vec3 normalForLighting=normal/16384.0;float directional=clamp(dot(normalForLighting,u_lightpos),0.0,1.0);
#ifdef GLOBE
mat3 rotMatrix=globeGetRotationMatrix(spherePos);normalForLighting=rotMatrix*normalForLighting;directional=mix(directional,clamp(dot(normalForLighting,u_lightpos_globe),0.0,1.0),u_projection_transition);
#endif
directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:qr(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;in vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);fragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
#ifdef GLOBE
out vec3 v_sphere_pos;
#endif
out vec2 v_pos_a;out vec2 v_pos_b;out vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,elevation*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:qr(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {vec2 epsilon=1.0/u_dimension;float tileSize=u_dimension.x-2.0;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))*tileSize/pow(2.0,exaggeration+(28.2562-u_zoom));fragColor=clamp(vec4(deriv.x/8.0+0.5,deriv.y/8.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:qr(`uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform float u_exaggeration;uniform vec4 u_accent;uniform int u_method;uniform float u_altitudes[NUM_ILLUMINATION_SOURCES];uniform float u_azimuths[NUM_ILLUMINATION_SOURCES];uniform vec4 u_shadows[NUM_ILLUMINATION_SOURCES];uniform vec4 u_highlights[NUM_ILLUMINATION_SOURCES];
#define PI 3.141592653589793
#define STANDARD 0
#define COMBINED 1
#define IGOR 2
#define MULTIDIRECTIONAL 3
#define BASIC 4
float get_aspect(vec2 deriv){return deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);}void igor_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float aspect=get_aspect(deriv);float azimuth=u_azimuths[0]+PI;float slope_stength=atan(length(deriv))*2.0/PI;float aspect_strength=1.0-abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);float shadow_strength=slope_stength*aspect_strength;float highlight_strength=slope_stength*(1.0-aspect_strength);fragColor=u_shadows[0]*shadow_strength+u_highlights[0]*highlight_strength;}void standard_hillshade(vec2 deriv){float azimuth=u_azimuths[0]+PI;float slope=atan(0.625*length(deriv));float aspect=get_aspect(deriv);float intensity=u_exaggeration;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadows[0],u_highlights[0],shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);fragColor=accent_color*(1.0-shade_color.a)+shade_color;}void basic_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor=u_highlights[0]*(2.0*shade-1.0);}else
{fragColor=u_shadows[0]*(1.0-2.0*shade);}}void multidirectional_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;fragColor=vec4(0,0,0,0);for(int i=0; i < NUM_ILLUMINATION_SOURCES; i++){float cos_alt=cos(u_altitudes[i]);float sin_alt=sin(u_altitudes[i]);float cos_az=-cos(u_azimuths[i]);float sin_az=-sin(u_azimuths[i]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor+=u_highlights[i]*(2.0*shade-1.0)/float(NUM_ILLUMINATION_SOURCES);}else
{fragColor+=u_shadows[i]*(1.0-2.0*shade)/float(NUM_ILLUMINATION_SOURCES);}}}void combined_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=acos((sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv)));cang=clamp(cang,0.0,PI/2.0);float shade=cang*atan(length(deriv))*4.0/PI/PI;float highlight=(PI/2.0-cang)*atan(length(deriv))*4.0/PI/PI;fragColor=u_shadows[0]*shade+u_highlights[0]*highlight;}void main() {vec4 pixel=texture(u_image,v_pos);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));vec2 deriv=((pixel.rg*8.0)-4.0)/scaleFactor;if (u_method==BASIC) {basic_hillshade(deriv);} else if (u_method==COMBINED) {combined_hillshade(deriv);} else if (u_method==IGOR) {igor_hillshade(deriv);} else if (u_method==MULTIDIRECTIONAL) {multidirectional_hillshade(deriv);} else if (u_method==STANDARD) {standard_hillshade(deriv);} else {standard_hillshade(deriv);}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);v_pos=a_pos/8192.0;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),line:qr(`uniform lowp float u_device_pixel_ratio;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp float v_linesofar;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:qr(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:qr(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture(u_image,pos_a),texture(u_image,pos_b),u_fade);fragColor=color*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:qr(`uniform lowp float u_device_pixel_ratio;uniform lowp float u_lineatlas_width;uniform sampler2D u_image;uniform float u_mix;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define mediump vec4 dasharray_from
#pragma mapbox: define mediump vec4 dasharray_to
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 dasharray_from
#pragma mapbox: initialize mediump vec4 dasharray_to
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture(u_image,v_tex_a).a;float sdfdist_b=texture(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfgamma=(u_lineatlas_width/256.0/u_device_pixel_ratio)/min(dasharray_from.w,dasharray_to.w);alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_tileratio;uniform float u_crossfade_from;uniform float u_crossfade_to;uniform float u_lineatlas_height;out vec2 v_normal;out vec2 v_width2;out vec2 v_tex_a;out vec2 v_tex_b;out float v_gamma_scale;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define mediump vec4 dasharray_from
#pragma mapbox: define mediump vec4 dasharray_to
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 dasharray_from
#pragma mapbox: initialize mediump vec4 dasharray_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
float u_patternscale_a_x=u_tileratio/dasharray_from.w/u_crossfade_from;float u_patternscale_a_y=-dasharray_from.z/2.0/u_lineatlas_height;float u_patternscale_b_x=u_tileratio/dasharray_to.w/u_crossfade_to;float u_patternscale_b_y=-dasharray_to.z/2.0/u_lineatlas_height;v_tex_a=vec2(a_linesofar*u_patternscale_a_x/floorwidth,normal.y*u_patternscale_a_y+(float(dasharray_from.y)+0.5)/u_lineatlas_height);v_tex_b=vec2(a_linesofar*u_patternscale_b_x/floorwidth,normal.y*u_patternscale_b_y+(float(dasharray_to.y)+0.5)/u_lineatlas_height);v_width2=vec2(outset,inset);}`),lineGradientSDF:qr(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform sampler2D u_image_dash;uniform float u_mix;uniform lowp float u_lineatlas_width;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define mediump vec4 dasharray_from
#pragma mapbox: define mediump vec4 dasharray_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 dasharray_from
#pragma mapbox: initialize mediump vec4 dasharray_to
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);float sdfdist_a=texture(u_image_dash,v_tex_a).a;float sdfdist_b=texture(u_image_dash,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfgamma=(u_lineatlas_width/256.0)/min(dasharray_from.w,dasharray_to.w);float dash_alpha=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*dash_alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;uniform float u_tileratio;uniform float u_crossfade_from;uniform float u_crossfade_to;uniform float u_lineatlas_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;out vec2 v_tex_a;out vec2 v_tex_b;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define mediump vec4 dasharray_from
#pragma mapbox: define mediump vec4 dasharray_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 dasharray_from
#pragma mapbox: initialize mediump vec4 dasharray_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;float texel_height=1.0/u_image_height;float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
float u_patternscale_a_x=u_tileratio/dasharray_from.w/u_crossfade_from;float u_patternscale_a_y=-dasharray_from.z/2.0/u_lineatlas_height;float u_patternscale_b_x=u_tileratio/dasharray_to.w/u_crossfade_to;float u_patternscale_b_y=-dasharray_to.z/2.0/u_lineatlas_height;v_tex_a=vec2(a_linesofar*u_patternscale_a_x/floorwidth,normal.y*u_patternscale_a_y+(float(dasharray_from.y)+0.5)/u_lineatlas_height);v_tex_b=vec2(a_linesofar*u_patternscale_b_x/floorwidth,normal.y*u_patternscale_b_y+(float(dasharray_to.y)+0.5)/u_lineatlas_height);v_width2=vec2(outset,inset);}`),raster:qr(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;in vec2 v_pos0;in vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture(u_image0,v_pos0);vec4 color1=texture(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);fragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;uniform vec4 u_coords_top;uniform vec4 u_coords_bottom;in vec2 a_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {vec2 fractionalPos=a_pos/8192.0;vec2 position=mix(mix(u_coords_top.xy,u_coords_top.zw,fractionalPos.x),mix(u_coords_bottom.xy,u_coords_bottom.zw,fractionalPos.x),fractionalPos.y);gl_Position=projectTile(position,position);v_pos0=((fractionalPos-0.5)/u_buffer_scale)+0.5;
#ifdef GLOBE
if (a_pos.y <-32767.5) {v_pos0.y=0.0;}if (a_pos.y > 32766.5) {v_pos0.y=1.0;}
#endif
v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),symbolIcon:qr(`uniform sampler2D u_texture;in vec2 v_tex;in float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;fragColor=texture(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_tex;out float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:qr(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;in vec2 v_data0;in vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_data0;out vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:qr(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;in vec4 v_data0;in vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;fragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec4 v_data0;out vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:qr("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;uniform bool u_is_globe_mode;in vec2 v_texture_pos;in float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture(u_texture,vec2(v_texture_pos.x,1.0-v_texture_pos.y));if (!u_is_globe_mode && v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);fragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {fragColor=surface_color;}}","in vec3 a_pos3d;uniform mat4 u_fog_matrix;uniform float u_ele_delta;out vec2 v_texture_pos;out float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:qr("in float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {fragColor=pack(v_depth);}","in vec3 a_pos3d;uniform float u_ele_delta;out float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:qr("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;in vec2 v_texture_pos;void main() {vec4 rgba=texture(u_texture,v_texture_pos);fragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","in vec3 a_pos3d;uniform float u_ele_delta;out vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);}"),projectionErrorMeasurement:qr("in vec4 v_output_error_encoded;void main() {fragColor=v_output_error_encoded;}","in vec2 a_pos;uniform highp float u_input;uniform highp float u_output_expected;out vec4 v_output_error_encoded;void main() {float real_output=2.0*atan(exp(PI-(u_input*PI*2.0)))-PI*0.5;float error=real_output-u_output_expected;float abs_error=abs(error)*128.0;v_output_error_encoded.x=min(floor(abs_error*256.0),255.0)/255.0;abs_error-=v_output_error_encoded.x;v_output_error_encoded.y=min(floor(abs_error*65536.0),255.0)/255.0;abs_error-=v_output_error_encoded.x/255.0;v_output_error_encoded.z=min(floor(abs_error*16777216.0),255.0)/255.0;v_output_error_encoded.w=error >=0.0 ? 1.0 : 0.0;gl_Position=vec4(a_pos,0.0,1.0);}"),atmosphere:qr(`in vec3 view_direction;uniform vec3 u_sun_pos;uniform vec3 u_globe_position;uniform float u_globe_radius;uniform float u_atmosphere_blend;/**Shader use from https:*Made some change to adapt to MapLibre Globe geometry*/const float PI=3.141592653589793;const int iSteps=5;const int jSteps=3;/*radius of the planet*/const float EARTH_RADIUS=6371e3;/*radius of the atmosphere*/const float ATMOS_RADIUS=6471e3;vec2 rsi(vec3 r0,vec3 rd,float sr) {float a=dot(rd,rd);float b=2.0*dot(rd,r0);float c=dot(r0,r0)-(sr*sr);float d=(b*b)-4.0*a*c;if (d < 0.0) return vec2(1e5,-1e5);return vec2((-b-sqrt(d))/(2.0*a),(-b+sqrt(d))/(2.0*a));}vec4 atmosphere(vec3 r,vec3 r0,vec3 pSun,float iSun,float rPlanet,float rAtmos,vec3 kRlh,float kMie,float shRlh,float shMie,float g) {pSun=normalize(pSun);r=normalize(r);vec2 p=rsi(r0,r,rAtmos);if (p.x > p.y) {return vec4(0.0,0.0,0.0,1.0);}if (p.x < 0.0) {p.x=0.0;}vec3 pos=r0+r*p.x;vec2 p2=rsi(r0,r,rPlanet);if (p2.x <=p2.y && p2.x > 0.0) {p.y=min(p.y,p2.x);}float iStepSize=(p.y-p.x)/float(iSteps);float iTime=p.x+iStepSize*0.5;vec3 totalRlh=vec3(0,0,0);vec3 totalMie=vec3(0,0,0);float iOdRlh=0.0;float iOdMie=0.0;float mu=dot(r,pSun);float mumu=mu*mu;float gg=g*g;float pRlh=3.0/(16.0*PI)*(1.0+mumu);float pMie=3.0/(8.0*PI)*((1.0-gg)*(mumu+1.0))/(pow(1.0+gg-2.0*mu*g,1.5)*(2.0+gg));for (int i=0; i < iSteps; i++) {vec3 iPos=r0+r*iTime;float iHeight=length(iPos)-rPlanet;float odStepRlh=exp(-iHeight/shRlh)*iStepSize;float odStepMie=exp(-iHeight/shMie)*iStepSize;iOdRlh+=odStepRlh;iOdMie+=odStepMie;float jStepSize=rsi(iPos,pSun,rAtmos).y/float(jSteps);float jTime=jStepSize*0.5;float jOdRlh=0.0;float jOdMie=0.0;for (int j=0; j < jSteps; j++) {vec3 jPos=iPos+pSun*jTime;float jHeight=length(jPos)-rPlanet;jOdRlh+=exp(-jHeight/shRlh)*jStepSize;jOdMie+=exp(-jHeight/shMie)*jStepSize;jTime+=jStepSize;}vec3 attn=exp(-(kMie*(iOdMie+jOdMie)+kRlh*(iOdRlh+jOdRlh)));totalRlh+=odStepRlh*attn;totalMie+=odStepMie*attn;iTime+=iStepSize;}float opacity=exp(-(length(kRlh)*length(totalRlh)+kMie*length(totalMie)));vec3 color=iSun*(pRlh*kRlh*totalRlh+pMie*kMie*totalMie);return vec4(color,opacity);}void main() {vec3 scale_camera_pos=-u_globe_position*EARTH_RADIUS/u_globe_radius;vec4 color=atmosphere(normalize(view_direction),scale_camera_pos,u_sun_pos,22.0,EARTH_RADIUS,ATMOS_RADIUS,vec3(5.5e-6,13.0e-6,22.4e-6),21e-6,8e3,1.2e3,0.758
);color.rgb=1.0-exp(-1.0*color.rgb);color=pow(color,vec4(1.0/2.2));fragColor=vec4(color.rgb,1.0-color.a)*u_atmosphere_blend;}`,"in vec2 a_pos;uniform mat4 u_inv_proj_matrix;out vec3 view_direction;void main() {view_direction=(u_inv_proj_matrix*vec4(a_pos,0.0,1.0)).xyz;gl_Position=vec4(a_pos,0.0,1.0);}"),sky:qr("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform vec2 u_horizon;uniform vec2 u_horizon_normal;uniform float u_sky_horizon_blend;uniform float u_sky_blend;void main() {float x=gl_FragCoord.x;float y=gl_FragCoord.y;float blend=(y-u_horizon.y)*u_horizon_normal.y+(x-u_horizon.x)*u_horizon_normal.x;if (blend > 0.0) {if (blend < u_sky_horizon_blend) {fragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {fragColor=u_sky_color;}}fragColor=mix(fragColor,vec4(vec3(0.0),0.0),u_sky_blend);}","in vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function qr(P,u){const f=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,_=u.match(/in ([\w]+) ([\w]+)/g),S=P.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),M=u.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),D=M?M.concat(S):S,z={};return{fragmentSource:P=P.replace(f,((F,G,q,te,ee)=>(z[ee]=!0,G==="define"?`
#ifndef HAS_UNIFORM_u_${ee}
in ${q} ${te} ${ee};
#else
uniform ${q} ${te} u_${ee};
#endif
`:`
#ifdef HAS_UNIFORM_u_${ee}
    ${q} ${te} ${ee} = u_${ee};
#endif
`))),vertexSource:u=u.replace(f,((F,G,q,te,ee)=>{const ae=te==="float"?"vec2":"vec4",fe=ee.match(/color/)?"color":ae;return z[ee]?G==="define"?`
#ifndef HAS_UNIFORM_u_${ee}
uniform lowp float u_${ee}_t;
in ${q} ${ae} a_${ee};
out ${q} ${te} ${ee};
#else
uniform ${q} ${te} u_${ee};
#endif
`:fe==="vec4"?`
#ifndef HAS_UNIFORM_u_${ee}
    ${ee} = a_${ee};
#else
    ${q} ${te} ${ee} = u_${ee};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ee}
    ${ee} = unpack_mix_${fe}(a_${ee}, u_${ee}_t);
#else
    ${q} ${te} ${ee} = u_${ee};
#endif
`:G==="define"?`
#ifndef HAS_UNIFORM_u_${ee}
uniform lowp float u_${ee}_t;
in ${q} ${ae} a_${ee};
#else
uniform ${q} ${te} u_${ee};
#endif
`:fe==="vec4"?`
#ifndef HAS_UNIFORM_u_${ee}
    ${q} ${te} ${ee} = a_${ee};
#else
    ${q} ${te} ${ee} = u_${ee};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ee}
    ${q} ${te} ${ee} = unpack_mix_${fe}(a_${ee}, u_${ee}_t);
#else
    ${q} ${te} ${ee} = u_${ee};
#endif
`})),staticAttributes:_,staticUniforms:D}}class Ol{constructor(u,f,_){this.vertexBuffer=u,this.indexBuffer=f,this.segments=_}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}var wi=a.aT([{name:"a_pos",type:"Int16",components:2}]);const fo="#define PROJECTION_MERCATOR",po="mercator";class Ni{constructor(){this._cachedMesh=null}get name(){return"mercator"}get useSubdivision(){return!1}get shaderVariantName(){return po}get shaderDefine(){return fo}get shaderPreludeCode(){return ba.projectionMercator}get vertexShaderPreludeCode(){return ba.projectionMercator.vertexSource}get subdivisionGranularity(){return a.aU.noSubdivision}get useGlobeControls(){return!1}get transitionState(){return 0}get latitudeErrorCorrectionRadians(){return 0}destroy(){}updateGPUdependent(u){}getMeshFromTileID(u,f,_,S,M){if(this._cachedMesh)return this._cachedMesh;const D=new a.aV;D.emplaceBack(0,0),D.emplaceBack(a.a4,0),D.emplaceBack(0,a.a4),D.emplaceBack(a.a4,a.a4);const z=u.createVertexBuffer(D,wi.members),F=a.aW.simpleSegment(0,0,4,2),G=new a.aX;G.emplaceBack(1,0,2),G.emplaceBack(1,2,3);const q=u.createIndexBuffer(G);return this._cachedMesh=new Ol(z,q,F),this._cachedMesh}recalculate(){}hasTransition(){return!1}setErrorQueryLatitudeDegrees(u){}}class En{constructor(u=0,f=0,_=0,S=0){if(isNaN(u)||u<0||isNaN(f)||f<0||isNaN(_)||_<0||isNaN(S)||S<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=u,this.bottom=f,this.left=_,this.right=S}interpolate(u,f,_){return f.top!=null&&u.top!=null&&(this.top=a.G.number(u.top,f.top,_)),f.bottom!=null&&u.bottom!=null&&(this.bottom=a.G.number(u.bottom,f.bottom,_)),f.left!=null&&u.left!=null&&(this.left=a.G.number(u.left,f.left,_)),f.right!=null&&u.right!=null&&(this.right=a.G.number(u.right,f.right,_)),this}getCenter(u,f){const _=a.an((this.left+u-this.right)/2,0,u),S=a.an((this.top+f-this.bottom)/2,0,f);return new a.P(_,S)}equals(u){return this.top===u.top&&this.bottom===u.bottom&&this.left===u.left&&this.right===u.right}clone(){return new En(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function yp(P,u){if(!P.renderWorldCopies||P.lngRange)return;const f=u.lng-P.center.lng;u.lng+=f>180?-360:f<-180?360:0}function To(P){return Math.max(0,Math.floor(P))}class Bo{constructor(u,f){var _;this.applyConstrain=(S,M)=>this._constrainOverride!==null?this._constrainOverride(S,M):this._callbacks.defaultConstrain(S,M),this._callbacks=u,this._tileSize=512,this._renderWorldCopies=f?.renderWorldCopies===void 0||!!f?.renderWorldCopies,this._minZoom=f?.minZoom||0,this._maxZoom=f?.maxZoom||22,this._minPitch=f?.minPitch==null?0:f?.minPitch,this._maxPitch=f?.maxPitch==null?60:f?.maxPitch,this._constrainOverride=(_=f?.constrainOverride)!==null&&_!==void 0?_:null,this.setMaxBounds(),this._width=0,this._height=0,this._center=new a.V(0,0),this._elevation=0,this._zoom=0,this._tileZoom=To(this._zoom),this._scale=a.aq(this._zoom),this._bearingInRadians=0,this._fovInRadians=.6435011087932844,this._pitchInRadians=0,this._rollInRadians=0,this._unmodified=!0,this._edgeInsets=new En,this._minElevationForCurrentTile=0,this._autoCalculateNearFarZ=!0}apply(u,f,_){this._constrainOverride=u.constrainOverride,this._latRange=u.latRange,this._lngRange=u.lngRange,this._width=u.width,this._height=u.height,this._center=u.center,this._elevation=u.elevation,this._minElevationForCurrentTile=u.minElevationForCurrentTile,this._zoom=u.zoom,this._tileZoom=To(this._zoom),this._scale=a.aq(this._zoom),this._bearingInRadians=u.bearingInRadians,this._fovInRadians=u.fovInRadians,this._pitchInRadians=u.pitchInRadians,this._rollInRadians=u.rollInRadians,this._unmodified=u.unmodified,this._edgeInsets=new En(u.padding.top,u.padding.bottom,u.padding.left,u.padding.right),this._minZoom=u.minZoom,this._maxZoom=u.maxZoom,this._minPitch=u.minPitch,this._maxPitch=u.maxPitch,this._renderWorldCopies=u.renderWorldCopies,this._cameraToCenterDistance=u.cameraToCenterDistance,this._nearZ=u.nearZ,this._farZ=u.farZ,this._autoCalculateNearFarZ=!_&&u.autoCalculateNearFarZ,f&&this.constrainInternal(),this._calcMatrices()}get pixelsToClipSpaceMatrix(){return this._pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._clipSpaceToPixelsMatrix}get minElevationForCurrentTile(){return this._minElevationForCurrentTile}setMinElevationForCurrentTile(u){this._minElevationForCurrentTile=u}get tileSize(){return this._tileSize}get tileZoom(){return this._tileZoom}get scale(){return this._scale}get width(){return this._width}get height(){return this._height}get bearingInRadians(){return this._bearingInRadians}get lngRange(){return this._lngRange}get latRange(){return this._latRange}get pixelsToGLUnits(){return this._pixelsToGLUnits}get minZoom(){return this._minZoom}setMinZoom(u){this._minZoom!==u&&(this._minZoom=u,this.setZoom(this.applyConstrain(this._center,this.zoom).zoom))}get maxZoom(){return this._maxZoom}setMaxZoom(u){this._maxZoom!==u&&(this._maxZoom=u,this.setZoom(this.applyConstrain(this._center,this.zoom).zoom))}get minPitch(){return this._minPitch}setMinPitch(u){this._minPitch!==u&&(this._minPitch=u,this.setPitch(Math.max(this.pitch,u)))}get maxPitch(){return this._maxPitch}setMaxPitch(u){this._maxPitch!==u&&(this._maxPitch=u,this.setPitch(Math.min(this.pitch,u)))}get renderWorldCopies(){return this._renderWorldCopies}setRenderWorldCopies(u){u===void 0?u=!0:u===null&&(u=!1),this._renderWorldCopies=u}get constrainOverride(){return this._constrainOverride}setConstrainOverride(u){u===void 0&&(u=null),this._constrainOverride!==u&&(this._constrainOverride=u,this.constrainInternal(),this._calcMatrices())}get worldSize(){return this._tileSize*this._scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.P(this._width,this._height)}get bearing(){return this._bearingInRadians/Math.PI*180}setBearing(u){const f=a.W(u,-180,180)*Math.PI/180;var _,S,M,D,z,F,G,q,te;this._bearingInRadians!==f&&(this._unmodified=!1,this._bearingInRadians=f,this._calcMatrices(),this._rotationMatrix=p(),_=this._rotationMatrix,M=-this._bearingInRadians,D=(S=this._rotationMatrix)[0],z=S[1],F=S[2],G=S[3],q=Math.sin(M),te=Math.cos(M),_[0]=D*te+F*q,_[1]=z*te+G*q,_[2]=D*-q+F*te,_[3]=z*-q+G*te)}get rotationMatrix(){return this._rotationMatrix}get pitchInRadians(){return this._pitchInRadians}get pitch(){return this._pitchInRadians/Math.PI*180}setPitch(u){const f=a.an(u,this.minPitch,this.maxPitch)/180*Math.PI;this._pitchInRadians!==f&&(this._unmodified=!1,this._pitchInRadians=f,this._calcMatrices())}get rollInRadians(){return this._rollInRadians}get roll(){return this._rollInRadians/Math.PI*180}setRoll(u){const f=u/180*Math.PI;this._rollInRadians!==f&&(this._unmodified=!1,this._rollInRadians=f,this._calcMatrices())}get fovInRadians(){return this._fovInRadians}get fov(){return a.aY(this._fovInRadians)}setFov(u){u=a.an(u,.1,150),this.fov!==u&&(this._unmodified=!1,this._fovInRadians=a.ap(u),this._calcMatrices())}get zoom(){return this._zoom}setZoom(u){const f=this.applyConstrain(this._center,u).zoom;this._zoom!==f&&(this._unmodified=!1,this._zoom=f,this._tileZoom=Math.max(0,Math.floor(f)),this._scale=a.aq(f),this.constrainInternal(),this._calcMatrices())}get center(){return this._center}setCenter(u){u.lat===this._center.lat&&u.lng===this._center.lng||(this._unmodified=!1,this._center=u,this.constrainInternal(),this._calcMatrices())}get elevation(){return this._elevation}setElevation(u){u!==this._elevation&&(this._elevation=u,this.constrainInternal(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}setPadding(u){this._edgeInsets.equals(u)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,u,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this._width,this._height)}get pixelsPerMeter(){return this._pixelPerMeter}get unmodified(){return this._unmodified}get cameraToCenterDistance(){return this._cameraToCenterDistance}get nearZ(){return this._nearZ}get farZ(){return this._farZ}get autoCalculateNearFarZ(){return this._autoCalculateNearFarZ}overrideNearFarZ(u,f){this._autoCalculateNearFarZ=!1,this._nearZ=u,this._farZ=f,this._calcMatrices()}clearNearFarZOverride(){this._autoCalculateNearFarZ=!0,this._calcMatrices()}isPaddingEqual(u){return this._edgeInsets.equals(u)}interpolatePadding(u,f,_){this._unmodified=!1,this._edgeInsets.interpolate(u,f,_),this.constrainInternal(),this._calcMatrices()}resize(u,f,_=!0){this._width=u,this._height=f,_&&this.constrainInternal(),this._calcMatrices()}getMaxBounds(){return this._latRange&&this._latRange.length===2&&this._lngRange&&this._lngRange.length===2?new et([this._lngRange[0],this._latRange[0]],[this._lngRange[1],this._latRange[1]]):null}setMaxBounds(u){u?(this._lngRange=[u.getWest(),u.getEast()],this._latRange=[u.getSouth(),u.getNorth()],this.constrainInternal()):(this._lngRange=null,this._latRange=[-a.ao,a.ao])}getCameraQueryGeometry(u,f){if(f.length===1)return[f[0],u];{const{minX:_,minY:S,maxX:M,maxY:D}=a.ab.fromPoints(f).extend(u);return[new a.P(_,S),new a.P(M,S),new a.P(M,D),new a.P(_,D),new a.P(_,S)]}}constrainInternal(){if(!this.center||!this._width||!this._height||this._constraining)return;this._constraining=!0;const u=this._unmodified,{center:f,zoom:_}=this.applyConstrain(this.center,this.zoom);this.setCenter(f),this.setZoom(_),this._unmodified=u,this._constraining=!1}_calcMatrices(){if(this._width&&this._height){this._pixelsToGLUnits=[2/this._width,-2/this._height];let u=a.ar(new Float64Array(16));a.Q(u,u,[this._width/2,-this._height/2,1]),a.O(u,u,[1,-1,0]),this._clipSpaceToPixelsMatrix=u,u=a.ar(new Float64Array(16)),a.Q(u,u,[1,-1,1]),a.O(u,u,[-1,-1,0]),a.Q(u,u,[2/this._width,2/this._height,1]),this._pixelsToClipSpaceMatrix=u,this._cameraToCenterDistance=.5/Math.tan(this.fovInRadians/2)*this._height}this._callbacks.calcMatrices()}calculateCenterFromCameraLngLatAlt(u,f,_,S){const M=_!==void 0?_:this.bearing,D=S=S!==void 0?S:this.pitch,z=a.aa.fromLngLat(u,f),F=-Math.cos(a.ap(D)),G=Math.sin(a.ap(D)),q=G*Math.sin(a.ap(M)),te=-G*Math.cos(a.ap(M));let ee=this.elevation;const ae=f-ee;let fe;F*ae>=0||Math.abs(F)<.1?(fe=1e4,ee=f+fe*F):fe=-ae/F;let we,Se,Pe=a.aZ(1,z.y),Ae=0;do{if(Ae+=1,Ae>10)break;Se=fe/Pe,we=new a.aa(z.x+q*Se,z.y+te*Se),Pe=1/we.meterInMercatorCoordinateUnits()}while(Math.abs(fe-Se*Pe)>1e-12);return{center:we.toLngLat(),elevation:ee,zoom:a.at(this.height/2/Math.tan(this.fovInRadians/2)/Se/this.tileSize)}}recalculateZoomAndCenter(u){if(this.elevation-u==0)return;const f=a.as(1,this.center.lat)*this.worldSize,_=this.cameraToCenterDistance/f,S=a.aa.fromLngLat(this.center,this.elevation),M=Xe(this.center,this.elevation,this.pitch,this.bearing,_);this._elevation=u;const D=this.calculateCenterFromCameraLngLatAlt(M.toLngLat(),a.aZ(M.z,S.y),this.bearing,this.pitch);this._elevation=D.elevation,this._center=D.center,this.setZoom(D.zoom)}getCameraPoint(){const u=Math.tan(this.pitchInRadians)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.P(u*Math.sin(this.rollInRadians),u*Math.cos(this.rollInRadians)))}getCameraAltitude(){return Math.cos(this.pitchInRadians)*this._cameraToCenterDistance/this._pixelPerMeter+this.elevation}getCameraLngLat(){const u=a.as(1,this.center.lat)*this.worldSize;return Xe(this.center,this.elevation,this.pitch,this.bearing,this.cameraToCenterDistance/u).toLngLat()}getMercatorTileCoordinates(u){if(!u)return[0,0,1,1];const f=u.canonical.z>=0?1<<u.canonical.z:Math.pow(2,u.canonical.z);return[u.canonical.x/f,u.canonical.y/f,1/f/a.a4,1/f/a.a4]}}class mo{constructor(u,f){this.min=u,this.max=f,this.center=a.a_([],a.a$([],this.min,this.max),.5)}quadrant(u){const f=[u%2==0,u<2],_=a.b0(this.min),S=a.b0(this.max);for(let M=0;M<f.length;M++)_[M]=f[M]?this.min[M]:this.center[M],S[M]=f[M]?this.center[M]:this.max[M];return S[2]=this.max[2],new mo(_,S)}distanceX(u){return Math.max(Math.min(this.max[0],u[0]),this.min[0])-u[0]}distanceY(u){return Math.max(Math.min(this.max[1],u[1]),this.min[1])-u[1]}intersectsFrustum(u){let f=!0;for(let _=0;_<u.planes.length;_++){const S=this.intersectsPlane(u.planes[_]);if(S===0)return 0;S===1&&(f=!1)}return f?2:u.aabb.min[0]>this.max[0]||u.aabb.min[1]>this.max[1]||u.aabb.min[2]>this.max[2]||u.aabb.max[0]<this.min[0]||u.aabb.max[1]<this.min[1]||u.aabb.max[2]<this.min[2]?0:1}intersectsPlane(u){let f=u[3],_=u[3];for(let S=0;S<3;S++)u[S]>0?(f+=u[S]*this.min[S],_+=u[S]*this.max[S]):(_+=u[S]*this.min[S],f+=u[S]*this.max[S]);return f>=0?2:_<0?0:1}}class jb{distanceToTile2d(u,f,_,S){const M=S.distanceX([u,f]),D=S.distanceY([u,f]);return Math.hypot(M,D)}getWrap(u,f,_){return _}getTileBoundingVolume(u,f,_,S){var M,D;let z=0,F=0;if(S?.terrain){const q=new a.a1(u.z,f,u.z,u.x,u.y),te=S.terrain.getMinMaxElevation(q);z=(M=te.minElevation)!==null&&M!==void 0?M:Math.min(0,_),F=(D=te.maxElevation)!==null&&D!==void 0?D:Math.max(0,_)}const G=1<<u.z;return new mo([f+u.x/G,u.y/G,z],[f+(u.x+1)/G,(u.y+1)/G,F])}allowVariableZoom(u,f){const _=u.fov*(Math.abs(Math.cos(u.rollInRadians))*u.height+Math.abs(Math.sin(u.rollInRadians))*u.width)/u.height,S=a.an(78.5-_/2,0,60);return!!f.terrain||u.pitch>S}allowWorldCopies(){return!0}prepareNextFrame(){}}class kl{constructor(u,f,_){this.points=u,this.planes=f,this.aabb=_}static fromInvProjectionMatrix(u,f=1,_=0,S,M){const D=M?[[6,5,4],[0,1,2],[0,3,7],[2,1,5],[3,2,6],[0,4,5]]:[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],z=Math.pow(2,_),F=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((ee=>(function(ae,fe,we,Se){const Pe=a.aG([],ae,fe),Ae=1/Pe[3]/we*Se;return a.b5(Pe,Pe,[Ae,Ae,1/Pe[3],Ae])})(ee,u,f,z)));S&&(function(ee,ae,fe,we){const Se=we?4:0,Pe=we?0:4;let Ae=0;const ke=[],Ie=[];for(let Le=0;Le<4;Le++){const Ze=a.b1([],ee[Le+Pe],ee[Le+Se]),lt=a.b6(Ze);a.a_(Ze,Ze,1/lt),ke.push(lt),Ie.push(Ze)}for(let Le=0;Le<4;Le++){const Ze=a.b7(ee[Le+Se],Ie[Le],fe);Ae=Ze!==null&&Ze>=0?Math.max(Ae,Ze):Math.max(Ae,ke[Le])}const $e=(function(Le,Ze){const lt=a.b1([],Le[Ze[0]],Le[Ze[1]]),rt=a.b1([],Le[Ze[2]],Le[Ze[1]]),nt=[0,0,0,0];return a.b2(nt,a.b3([],lt,rt)),nt[3]=-a.b4(nt,Le[Ze[0]]),nt})(ee,ae),Ge=(function(Le,Ze){const lt=a.b8(Le),rt=a.b9([],Le,1/lt),nt=a.b1([],Ze,a.a_([],rt,a.b4(Ze,rt))),st=a.b8(nt);if(st>0){const kt=Math.sqrt(1-rt[3]*rt[3]),At=a.a_([],rt,-rt[3]),Tt=a.a$([],At,a.a_([],nt,kt/st));return a.ba(Ze,Tt)}return null})(fe,$e);if(Ge!==null){const Le=Ge/a.b4(Ie[0],$e);Ae=Math.min(Ae,Le)}for(let Le=0;Le<4;Le++){const Ze=Math.min(Ae,ke[Le]);ee[Le+Pe]=[ee[Le+Se][0]+Ie[Le][0]*Ze,ee[Le+Se][1]+Ie[Le][1]*Ze,ee[Le+Se][2]+Ie[Le][2]*Ze,1]}})(F,D[0],S,M);const G=D.map((ee=>{const ae=a.b1([],F[ee[0]],F[ee[1]]),fe=a.b1([],F[ee[2]],F[ee[1]]),we=a.b2([],a.b3([],ae,fe)),Se=-a.b4(we,F[ee[1]]);return we.concat(Se)})),q=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],te=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];for(const ee of F)for(let ae=0;ae<3;ae++)q[ae]=Math.min(q[ae],ee[ae]),te[ae]=Math.max(te[ae],ee[ae]);return new kl(F,G,new mo(q,te))}}class On{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(u){this._helper.setMinZoom(u)}setMaxZoom(u){this._helper.setMaxZoom(u)}setMinPitch(u){this._helper.setMinPitch(u)}setMaxPitch(u){this._helper.setMaxPitch(u)}setRenderWorldCopies(u){this._helper.setRenderWorldCopies(u)}setBearing(u){this._helper.setBearing(u)}setPitch(u){this._helper.setPitch(u)}setRoll(u){this._helper.setRoll(u)}setFov(u){this._helper.setFov(u)}setZoom(u){this._helper.setZoom(u)}setCenter(u){this._helper.setCenter(u)}setElevation(u){this._helper.setElevation(u)}setMinElevationForCurrentTile(u){this._helper.setMinElevationForCurrentTile(u)}setPadding(u){this._helper.setPadding(u)}interpolatePadding(u,f,_){return this._helper.interpolatePadding(u,f,_)}isPaddingEqual(u){return this._helper.isPaddingEqual(u)}resize(u,f,_=!0){this._helper.resize(u,f,_)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(u){this._helper.setMaxBounds(u)}setConstrainOverride(u){this._helper.setConstrainOverride(u)}overrideNearFarZ(u,f){this._helper.overrideNearFarZ(u,f)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(u){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),u)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get constrainOverride(){return this._helper.constrainOverride}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(u,f){}constructor(u){this._posMatrixCache=new Map,this._alignedPosMatrixCache=new Map,this._fogMatrixCacheF32=new Map,this.defaultConstrain=(f,_)=>{_=a.an(+_,this.minZoom,this.maxZoom);const S={center:new a.V(f.lng,f.lat),zoom:_};let M=this._helper._lngRange;if(!this._helper._renderWorldCopies&&M===null){const Ie=179.9999999999;M=[-Ie,Ie]}const D=this.tileSize*a.aq(S.zoom);let z=0,F=D,G=0,q=D,te=0,ee=0;const{x:ae,y:fe}=this.size;if(this._helper._latRange){const Ie=this._helper._latRange;z=a.X(Ie[1])*D,F=a.X(Ie[0])*D,F-z<fe&&(te=fe/(F-z))}M&&(G=a.W(a.Y(M[0])*D,0,D),q=a.W(a.Y(M[1])*D,0,D),q<G&&(q+=D),q-G<ae&&(ee=ae/(q-G)));const{x:we,y:Se}=Ee(D,f);let Pe,Ae;const ke=Math.max(ee||0,te||0);if(ke){const Ie=new a.P(ee?(q+G)/2:we,te?(F+z)/2:Se);return S.center=Re(D,Ie).wrap(),S.zoom+=a.at(ke),S}if(this._helper._latRange){const Ie=fe/2;Se-Ie<z&&(Ae=z+Ie),Se+Ie>F&&(Ae=F-Ie)}if(M){const Ie=(G+q)/2;let $e=we;this._helper._renderWorldCopies&&($e=a.W(we,Ie-D/2,Ie+D/2));const Ge=ae/2;$e-Ge<G&&(Pe=G+Ge),$e+Ge>q&&(Pe=q-Ge)}if(Pe!==void 0||Ae!==void 0){const Ie=new a.P(Pe??we,Ae??Se);S.center=Re(D,Ie).wrap()}return S},this.applyConstrain=(f,_)=>this._helper.applyConstrain(f,_),this._helper=new Bo({calcMatrices:()=>{this._calcMatrices()},defaultConstrain:(f,_)=>this.defaultConstrain(f,_)},u),this._coveringTilesDetailsProvider=new jb}clone(){const u=new On;return u.apply(this),u}apply(u,f,_){this._helper.apply(u,f,_)}get cameraPosition(){return this._cameraPosition}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._viewProjMatrix}get inverseProjectionMatrix(){return this._invProjMatrix}get mercatorMatrix(){return this._mercatorMatrix}getVisibleUnwrappedCoordinates(u){const f=[new a.bb(0,u)];if(this._helper._renderWorldCopies){const _=this.screenPointToMercatorCoordinate(new a.P(0,0)),S=this.screenPointToMercatorCoordinate(new a.P(this._helper._width,0)),M=this.screenPointToMercatorCoordinate(new a.P(this._helper._width,this._helper._height)),D=this.screenPointToMercatorCoordinate(new a.P(0,this._helper._height)),z=Math.floor(Math.min(_.x,S.x,M.x,D.x)),F=Math.floor(Math.max(_.x,S.x,M.x,D.x)),G=1;for(let q=z-G;q<=F+G;q++)q!==0&&f.push(new a.bb(q,u))}return f}getCameraFrustum(){return kl.fromInvProjectionMatrix(this._invViewProjMatrix,this.worldSize)}getClippingPlane(){return null}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(u){const f=this.screenPointToLocation(this.centerPoint,u),_=u?u.getElevationForLngLatZoom(f,this._helper._tileZoom):0;this._helper.recalculateZoomAndCenter(_)}setLocationAtPoint(u,f){const _=a.as(this.elevation,this.center.lat),S=this.screenPointToMercatorCoordinateAtZ(f,_),M=this.screenPointToMercatorCoordinateAtZ(this.centerPoint,_),D=a.aa.fromLngLat(u),z=new a.aa(D.x-(S.x-M.x),D.y-(S.y-M.y));this.setCenter(z?.toLngLat()),this._helper._renderWorldCopies&&this.setCenter(this.center.wrap())}locationToScreenPoint(u,f){return f?this.coordinatePoint(a.aa.fromLngLat(u),f.getElevationForLngLatZoom(u,this._helper._tileZoom),this._pixelMatrix3D):this.coordinatePoint(a.aa.fromLngLat(u))}screenPointToLocation(u,f){var _;return(_=this.screenPointToMercatorCoordinate(u,f))===null||_===void 0?void 0:_.toLngLat()}screenPointToMercatorCoordinate(u,f){if(f){const _=f.pointCoordinate(u);if(_!=null)return _}return this.screenPointToMercatorCoordinateAtZ(u)}screenPointToMercatorCoordinateAtZ(u,f){const _=f||0,S=[u.x,u.y,0,1],M=[u.x,u.y,1,1];a.aG(S,S,this._pixelMatrixInverse),a.aG(M,M,this._pixelMatrixInverse);const D=S[3],z=M[3],F=S[1]/D,G=M[1]/z,q=S[2]/D,te=M[2]/z,ee=q===te?0:(_-q)/(te-q);return new a.aa(a.G.number(S[0]/D,M[0]/z,ee)/this.worldSize,a.G.number(F,G,ee)/this.worldSize,_)}coordinatePoint(u,f=0,_=this._pixelMatrix){const S=[u.x*this.worldSize,u.y*this.worldSize,f,1];return a.aG(S,S,_),new a.P(S[0]/S[3],S[1]/S[3])}getBounds(){const u=Math.max(0,this._helper._height/2-Ye(this));return new et().extend(this.screenPointToLocation(new a.P(0,u))).extend(this.screenPointToLocation(new a.P(this._helper._width,u))).extend(this.screenPointToLocation(new a.P(this._helper._width,this._helper._height))).extend(this.screenPointToLocation(new a.P(0,this._helper._height)))}isPointOnMapSurface(u,f){return f?f.pointCoordinate(u)!=null:u.y>this.height/2-Ye(this)}calculatePosMatrix(u,f=!1,_){var S;const M=(S=u.key)!==null&&S!==void 0?S:a.bc(u.wrap,u.canonical.z,u.canonical.z,u.canonical.x,u.canonical.y),D=f?this._alignedPosMatrixCache:this._posMatrixCache;if(D.has(M)){const G=D.get(M);return _?G.f32:G.f64}const z=Te(u,this.worldSize);a.S(z,f?this._alignedProjMatrix:this._viewProjMatrix,z);const F={f64:z,f32:new Float32Array(z)};return D.set(M,F),_?F.f32:F.f64}calculateFogMatrix(u){const f=u.key,_=this._fogMatrixCacheF32;if(_.has(f))return _.get(f);const S=Te(u,this.worldSize);return a.S(S,this._fogMatrix,S),_.set(f,new Float32Array(S)),_.get(f)}calculateCenterFromCameraLngLatAlt(u,f,_,S){return this._helper.calculateCenterFromCameraLngLatAlt(u,f,_,S)}_calculateNearFarZIfNeeded(u,f,_){if(!this._helper.autoCalculateNearFarZ)return;const S=Math.min(this.elevation,this.minElevationForCurrentTile,this.getCameraAltitude()-100),M=u-S*this._helper._pixelPerMeter/Math.cos(f),D=S<0?M:u,z=Math.PI/2+this.pitchInRadians,F=a.ap(this.fov)*(Math.abs(Math.cos(a.ap(this.roll)))*this.height+Math.abs(Math.sin(a.ap(this.roll)))*this.width)/this.height*(.5+_.y/this.height),G=Math.sin(F)*D/Math.sin(a.an(Math.PI-z-F,.01,Math.PI-.01)),q=Ye(this),te=Math.atan(q/this._helper.cameraToCenterDistance),ee=a.ap(.75),ae=te>ee?2*te*(.5+_.y/(2*q)):ee,fe=Math.sin(ae)*D/Math.sin(a.an(Math.PI-z-ae,.01,Math.PI-.01)),we=Math.min(G,fe);this._helper._farZ=1.01*(Math.cos(Math.PI/2-f)*we+D),this._helper._nearZ=this._helper._height/50}_calcMatrices(){if(!this._helper._height)return;const u=this.centerOffset,f=Ee(this.worldSize,this.center),_=f.x,S=f.y;this._helper._pixelPerMeter=a.as(1,this.center.lat)*this.worldSize;const M=a.ap(Math.min(this.pitch,pe)),D=Math.max(this._helper.cameraToCenterDistance/2,this._helper.cameraToCenterDistance+this._helper._elevation*this._helper._pixelPerMeter/Math.cos(M));let z;this._calculateNearFarZIfNeeded(D,M,u),z=new Float64Array(16),a.bd(z,this.fovInRadians,this._helper._width/this._helper._height,this._helper._nearZ,this._helper._farZ),this._invProjMatrix=new Float64Array(16),a.aA(this._invProjMatrix,z),z[8]=2*-u.x/this._helper._width,z[9]=2*u.y/this._helper._height,this._projectionMatrix=a.be(z),a.Q(z,z,[1,-1,1]),a.O(z,z,[0,0,-this._helper.cameraToCenterDistance]),a.bf(z,z,-this.rollInRadians),a.bg(z,z,this.pitchInRadians),a.bf(z,z,-this.bearingInRadians),a.O(z,z,[-_,-S,0]),this._mercatorMatrix=a.Q([],z,[this.worldSize,this.worldSize,this.worldSize]),a.Q(z,z,[1,1,this._helper._pixelPerMeter]),this._pixelMatrix=a.S(new Float64Array(16),this.clipSpaceToPixelsMatrix,z),a.O(z,z,[0,0,-this.elevation]),this._viewProjMatrix=z,this._invViewProjMatrix=a.aA([],z);const F=[0,0,-1,1];a.aG(F,F,this._invViewProjMatrix),this._cameraPosition=[F[0]/F[3],F[1]/F[3],F[2]/F[3]],this._fogMatrix=new Float64Array(16),a.bd(this._fogMatrix,this.fovInRadians,this.width/this.height,D,this._helper._farZ),this._fogMatrix[8]=2*-u.x/this.width,this._fogMatrix[9]=2*u.y/this.height,a.Q(this._fogMatrix,this._fogMatrix,[1,-1,1]),a.O(this._fogMatrix,this._fogMatrix,[0,0,-this.cameraToCenterDistance]),a.bf(this._fogMatrix,this._fogMatrix,-this.rollInRadians),a.bg(this._fogMatrix,this._fogMatrix,this.pitchInRadians),a.bf(this._fogMatrix,this._fogMatrix,-this.bearingInRadians),a.O(this._fogMatrix,this._fogMatrix,[-_,-S,0]),a.Q(this._fogMatrix,this._fogMatrix,[1,1,this._helper._pixelPerMeter]),a.O(this._fogMatrix,this._fogMatrix,[0,0,-this.elevation]),this._pixelMatrix3D=a.S(new Float64Array(16),this.clipSpaceToPixelsMatrix,z);const G=this._helper._width%2/2,q=this._helper._height%2/2,te=Math.cos(this.bearingInRadians),ee=Math.sin(-this.bearingInRadians),ae=_-Math.round(_)+te*G+ee*q,fe=S-Math.round(S)+te*q+ee*G,we=new Float64Array(z);if(a.O(we,we,[ae>.5?ae-1:ae,fe>.5?fe-1:fe,0]),this._alignedProjMatrix=we,z=a.aA(new Float64Array(16),this._pixelMatrix),!z)throw new Error("failed to invert matrix");this._pixelMatrixInverse=z,this._clearMatrixCaches()}_clearMatrixCaches(){this._posMatrixCache.clear(),this._alignedPosMatrixCache.clear(),this._fogMatrixCacheF32.clear()}maxPitchScaleFactor(){if(!this._pixelMatrixInverse)return 1;const u=this.screenPointToMercatorCoordinate(new a.P(0,0)),f=[u.x*this.worldSize,u.y*this.worldSize,0,1];return a.aG(f,f,this._pixelMatrix)[3]/this._helper.cameraToCenterDistance}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){const u=a.as(1,this.center.lat)*this.worldSize;return Xe(this.center,this.elevation,this.pitch,this.bearing,this._helper.cameraToCenterDistance/u).toLngLat()}lngLatToCameraDepth(u,f){const _=a.aa.fromLngLat(u),S=[_.x*this.worldSize,_.y*this.worldSize,f,1];return a.aG(S,S,this._viewProjMatrix),S[2]/S[3]}getProjectionData(u){const{overscaledTileID:f,aligned:_,applyTerrainMatrix:S}=u,M=this._helper.getMercatorTileCoordinates(f),D=f?this.calculatePosMatrix(f,_,!0):null;let z;return z=f&&f.terrainRttPosMatrix32f&&S?f.terrainRttPosMatrix32f:D||a.bh(),{mainMatrix:z,tileMercatorCoords:M,clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:z}}isLocationOccluded(u){return!1}getPixelScale(){return 1}getCircleRadiusCorrection(){return 1}getPitchedTextCorrection(u,f,_){return 1}transformLightDirection(u){return a.b0(u)}getRayDirectionFromPixel(u){throw new Error("Not implemented.")}projectTileCoordinates(u,f,_,S){const M=this.calculatePosMatrix(_);let D;S?(D=[u,f,S(u,f),1],a.aG(D,D,M)):(D=[u,f,0,1],rd(D,D,M));const z=D[3];return{point:new a.P(D[0]/z,D[1]/z),signedDistanceFromCamera:z,isOccluded:!1}}populateCache(u){for(const f of u)this.calculatePosMatrix(f)}getMatrixForModel(u,f){const _=a.aa.fromLngLat(u,f),S=_.meterInMercatorCoordinateUnits(),M=a.bi();return a.O(M,M,[_.x,_.y,_.z]),a.bf(M,M,Math.PI),a.bg(M,M,Math.PI/2),a.Q(M,M,[-S,S,S]),M}getProjectionDataForCustomLayer(u=!0){const f=new a.a1(0,0,0,0,0),_=this.getProjectionData({overscaledTileID:f,applyGlobeMatrix:u}),S=Te(f,this.worldSize);a.S(S,this._viewProjMatrix,S),_.tileMercatorCoords=[0,0,1,1];const M=[a.a4,a.a4,this.worldSize/this._helper.pixelsPerMeter],D=a.bj();return a.Q(D,S,M),_.fallbackMatrix=D,_.mainMatrix=D,_}getFastPathSimpleProjectionMatrix(u){return this.calculatePosMatrix(u)}}function Bc(){a.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}function $l(P){if(P.useSlerp)if(P.k<1){const u=a.bk(P.startEulerAngles.roll,P.startEulerAngles.pitch,P.startEulerAngles.bearing),f=a.bk(P.endEulerAngles.roll,P.endEulerAngles.pitch,P.endEulerAngles.bearing),_=new Float64Array(4);a.bl(_,u,f,P.k);const S=a.bm(_);P.tr.setRoll(S.roll),P.tr.setPitch(S.pitch),P.tr.setBearing(S.bearing)}else P.tr.setRoll(P.endEulerAngles.roll),P.tr.setPitch(P.endEulerAngles.pitch),P.tr.setBearing(P.endEulerAngles.bearing);else P.tr.setRoll(a.G.number(P.startEulerAngles.roll,P.endEulerAngles.roll,P.k)),P.tr.setPitch(a.G.number(P.startEulerAngles.pitch,P.endEulerAngles.pitch,P.k)),P.tr.setBearing(a.G.number(P.startEulerAngles.bearing,P.endEulerAngles.bearing,P.k))}function nd(P,u,f,_,S){const M=S.padding,D=Ee(S.worldSize,f.getNorthWest()),z=Ee(S.worldSize,f.getNorthEast()),F=Ee(S.worldSize,f.getSouthEast()),G=Ee(S.worldSize,f.getSouthWest()),q=a.ap(-_),te=D.rotate(q),ee=z.rotate(q),ae=F.rotate(q),fe=G.rotate(q),we=new a.P(Math.max(te.x,ee.x,fe.x,ae.x),Math.max(te.y,ee.y,fe.y,ae.y)),Se=new a.P(Math.min(te.x,ee.x,fe.x,ae.x),Math.min(te.y,ee.y,fe.y,ae.y)),Pe=we.sub(Se),Ae=(S.width-(M.left+M.right+u.left+u.right))/Pe.x,ke=(S.height-(M.top+M.bottom+u.top+u.bottom))/Pe.y;if(ke<0||Ae<0)return void Bc();const Ie=Math.min(a.at(S.scale*Math.min(Ae,ke)),P.maxZoom),$e=a.P.convert(P.offset),Ge=new a.P((u.left-u.right)/2,(u.top-u.bottom)/2).rotate(a.ap(_)),Le=$e.add(Ge).mult(S.scale/a.aq(Ie));return{center:Re(S.worldSize,D.add(F).div(2).sub(Le)),zoom:Ie,bearing:_}}class Fo{get useGlobeControls(){return!1}handlePanInertia(u,f){const _=u.mag(),S=Math.abs(Ye(f));return{easingOffset:u.mult(Math.min(.75*S/_,1)),easingCenter:f.center}}handleMapControlsRollPitchBearingZoom(u,f){u.bearingDelta&&f.setBearing(f.bearing+u.bearingDelta),u.pitchDelta&&f.setPitch(f.pitch+u.pitchDelta),u.rollDelta&&f.setRoll(f.roll+u.rollDelta),u.zoomDelta&&f.setZoom(f.zoom+u.zoomDelta)}handleMapControlsPan(u,f,_){u.around.distSqr(f.centerPoint)<.01||f.setLocationAtPoint(_,u.around)}cameraForBoxAndBearing(u,f,_,S,M){return nd(u,f,_,S,M)}handleJumpToCenterZoom(u,f){u.zoom!==(f.zoom!==void 0?+f.zoom:u.zoom)&&u.setZoom(+f.zoom),f.center!==void 0&&u.setCenter(a.V.convert(f.center))}handleEaseTo(u,f){const _=u.zoom,S=u.padding,M={roll:u.roll,pitch:u.pitch,bearing:u.bearing},D={roll:f.roll===void 0?u.roll:f.roll,pitch:f.pitch===void 0?u.pitch:f.pitch,bearing:f.bearing===void 0?u.bearing:f.bearing},z=f.zoom!==void 0,F=!u.isPaddingEqual(f.padding);let G=!1;const q=z?+f.zoom:u.zoom;let te=u.centerPoint.add(f.offsetAsPoint);const ee=u.screenPointToLocation(te),{center:ae,zoom:fe}=u.applyConstrain(a.V.convert(f.center||ee),q??_);yp(u,ae);const we=Ee(u.worldSize,ee),Se=Ee(u.worldSize,ae).sub(we),Pe=a.aq(fe-_);return G=fe!==_,{easeFunc:Ae=>{if(G&&u.setZoom(a.G.number(_,fe,Ae)),a.bn(M,D)||$l({startEulerAngles:M,endEulerAngles:D,tr:u,k:Ae,useSlerp:M.roll!=D.roll}),F&&(u.interpolatePadding(S,f.padding,Ae),te=u.centerPoint.add(f.offsetAsPoint)),f.around)u.setLocationAtPoint(f.around,f.aroundPoint);else{const ke=a.aq(u.zoom-_),Ie=fe>_?Math.min(2,Pe):Math.max(.5,Pe),$e=Math.pow(Ie,1-Ae),Ge=Re(u.worldSize,we.add(Se.mult(Ae*$e)).mult(ke));u.setLocationAtPoint(u.renderWorldCopies?Ge.wrap():Ge,te)}},isZooming:G,elevationCenter:ae}}handleFlyTo(u,f){const _=f.zoom!==void 0,S=u.zoom,M=u.applyConstrain(a.V.convert(f.center||f.locationAtOffset),_?+f.zoom:S),D=M.center,z=M.zoom;yp(u,D);const F=Ee(u.worldSize,f.locationAtOffset),G=Ee(u.worldSize,D).sub(F),q=G.mag(),te=a.aq(z-S);let ee;if(f.minZoom!==void 0){const ae=Math.min(+f.minZoom,S,z),fe=u.applyConstrain(D,ae).zoom;ee=a.aq(fe-S)}return{easeFunc:(ae,fe,we,Se)=>{u.setZoom(ae===1?z:S+a.at(fe));const Pe=ae===1?D:Re(u.worldSize,F.add(G.mult(we)).mult(fe));u.setLocationAtPoint(u.renderWorldCopies?Pe.wrap():Pe,Se)},scaleOfZoom:te,targetCenter:D,scaleOfMinZoom:ee,pixelPathLength:q}}}class kn{constructor(u,f,_){this.blendFunction=u,this.blendColor=f,this.mask=_}}kn.Replace=[1,0],kn.disabled=new kn(kn.Replace,a.bo.transparent,[!1,!1,!1,!1]),kn.unblended=new kn(kn.Replace,a.bo.transparent,[!0,!0,!0,!0]),kn.alphaBlended=new kn([1,771],a.bo.transparent,[!0,!0,!0,!0]);const gs=2305;class Qr{constructor(u,f,_){this.enable=u,this.mode=f,this.frontFace=_}}Qr.disabled=new Qr(!1,1029,gs),Qr.backCCW=new Qr(!0,1029,gs),Qr.frontCCW=new Qr(!0,1028,gs);class Dr{constructor(u,f,_){this.func=u,this.mask=f,this.range=_}}Dr.ReadOnly=!1,Dr.ReadWrite=!0,Dr.disabled=new Dr(519,Dr.ReadOnly,[0,1]);const Fc=7680;class Zr{constructor(u,f,_,S,M,D){this.test=u,this.ref=f,this.mask=_,this.fail=S,this.depthFail=M,this.pass=D}}Zr.disabled=new Zr({func:519,mask:0},0,0,Fc,Fc,Fc);const Nc=new WeakMap;function ja(P){var u;if(Nc.has(P))return Nc.get(P);{const f=(u=P.getParameter(P.VERSION))===null||u===void 0?void 0:u.startsWith("WebGL 2.0");return Nc.set(P,f),f}}class id{get awaitingQuery(){return!!this._readbackQueue}constructor(u){this._readbackWaitFrames=4,this._measureWaitFrames=6,this._texWidth=1,this._texHeight=1,this._measuredError=0,this._updateCount=0,this._lastReadbackFrame=-1e3,this._readbackQueue=null,this._cachedRenderContext=u;const f=u.context,_=f.gl;this._texFormat=_.RGBA,this._texType=_.UNSIGNED_BYTE;const S=new a.aV;S.emplaceBack(-1,-1),S.emplaceBack(2,-1),S.emplaceBack(-1,2);const M=new a.aX;M.emplaceBack(0,1,2),this._fullscreenTriangle=new Ol(f.createVertexBuffer(S,wi.members),f.createIndexBuffer(M),a.aW.simpleSegment(0,0,S.length,M.length)),this._resultBuffer=new Uint8Array(4),f.activeTexture.set(_.TEXTURE1);const D=_.createTexture();_.bindTexture(_.TEXTURE_2D,D),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,_.NEAREST),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,_.NEAREST),_.texImage2D(_.TEXTURE_2D,0,this._texFormat,this._texWidth,this._texHeight,0,this._texFormat,this._texType,null),this._fbo=f.createFramebuffer(this._texWidth,this._texHeight,!1,!1),this._fbo.colorAttachment.set(D),ja(_)&&(this._pbo=_.createBuffer(),_.bindBuffer(_.PIXEL_PACK_BUFFER,this._pbo),_.bufferData(_.PIXEL_PACK_BUFFER,4,_.STREAM_READ),_.bindBuffer(_.PIXEL_PACK_BUFFER,null))}destroy(){const u=this._cachedRenderContext.context.gl;this._fullscreenTriangle.destroy(),this._fbo.destroy(),u.deleteBuffer(this._pbo),this._fullscreenTriangle=null,this._fbo=null,this._pbo=null,this._resultBuffer=null}updateErrorLoop(u,f){const _=this._updateCount;return this._readbackQueue?_>=this._readbackQueue.frameNumberIssued+this._readbackWaitFrames&&this._tryReadback():_>=this._lastReadbackFrame+this._measureWaitFrames&&this._renderErrorTexture(u,f),this._updateCount++,this._measuredError}_bindFramebuffer(){const u=this._cachedRenderContext.context,f=u.gl;u.activeTexture.set(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,this._fbo.colorAttachment.get()),u.bindFramebuffer.set(this._fbo.framebuffer)}_renderErrorTexture(u,f){const _=this._cachedRenderContext.context,S=_.gl;if(this._bindFramebuffer(),_.viewport.set([0,0,this._texWidth,this._texHeight]),_.clear({color:a.bo.transparent}),this._cachedRenderContext.useProgram("projectionErrorMeasurement").draw(_,S.TRIANGLES,Dr.disabled,Zr.disabled,kn.unblended,Qr.disabled,((M,D)=>({u_input:M,u_output_expected:D}))(u,f),null,null,"$clipping",this._fullscreenTriangle.vertexBuffer,this._fullscreenTriangle.indexBuffer,this._fullscreenTriangle.segments),this._pbo&&ja(S)){S.bindBuffer(S.PIXEL_PACK_BUFFER,this._pbo),S.readBuffer(S.COLOR_ATTACHMENT0),S.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,0),S.bindBuffer(S.PIXEL_PACK_BUFFER,null);const M=S.fenceSync(S.SYNC_GPU_COMMANDS_COMPLETE,0);S.flush(),this._readbackQueue={frameNumberIssued:this._updateCount,sync:M}}else this._readbackQueue={frameNumberIssued:this._updateCount,sync:null}}_tryReadback(){const u=this._cachedRenderContext.context.gl;if(this._pbo&&this._readbackQueue&&ja(u)){const f=u.clientWaitSync(this._readbackQueue.sync,0,0);if(f===u.WAIT_FAILED)return a.w("WebGL2 clientWaitSync failed."),this._readbackQueue=null,void(this._lastReadbackFrame=this._updateCount);if(f===u.TIMEOUT_EXPIRED)return;u.bindBuffer(u.PIXEL_PACK_BUFFER,this._pbo),u.getBufferSubData(u.PIXEL_PACK_BUFFER,0,this._resultBuffer,0,4),u.bindBuffer(u.PIXEL_PACK_BUFFER,null)}else this._bindFramebuffer(),u.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,this._resultBuffer);this._readbackQueue=null,this._measuredError=id._parseRGBA8float(this._resultBuffer),this._lastReadbackFrame=this._updateCount}static _parseRGBA8float(u){let f=0;return f+=u[0]/256,f+=u[1]/65536,f+=u[2]/16777216,u[3]<127&&(f=-f),f/128}}const Cu=a.a4/128;function _p(P,u){const f=P.granularity!==void 0?Math.max(P.granularity,1):1,_=f+(P.generateBorders?2:0),S=f+(P.extendToNorthPole||P.generateBorders?1:0)+(P.extendToSouthPole||P.generateBorders?1:0),M=_+1,D=S+1,z=P.generateBorders?-1:0,F=P.generateBorders||P.extendToNorthPole?-1:0,G=f+(P.generateBorders?1:0),q=f+(P.generateBorders||P.extendToSouthPole?1:0),te=M*D,ee=_*S*6,ae=M*D>65536;if(ae&&u==="16bit")throw new Error("Granularity is too large and meshes would not fit inside 16 bit vertex indices.");const fe=ae||u==="32bit",we=new Int16Array(2*te);let Se=0;for(let ke=F;ke<=q;ke++)for(let Ie=z;Ie<=G;Ie++){let $e=Ie/f*a.a4;Ie===-1&&($e=-Cu),Ie===f+1&&($e=a.a4+Cu);let Ge=ke/f*a.a4;ke===-1&&(Ge=P.extendToNorthPole?a.bq:-Cu),ke===f+1&&(Ge=P.extendToSouthPole?a.br:a.a4+Cu),we[Se++]=$e,we[Se++]=Ge}const Pe=fe?new Uint32Array(ee):new Uint16Array(ee);let Ae=0;for(let ke=0;ke<S;ke++)for(let Ie=0;Ie<_;Ie++){const $e=Ie+1+ke*M,Ge=Ie+(ke+1)*M,Le=Ie+1+(ke+1)*M;Pe[Ae++]=Ie+ke*M,Pe[Ae++]=Ge,Pe[Ae++]=$e,Pe[Ae++]=$e,Pe[Ae++]=Ge,Pe[Ae++]=Le}return{vertices:we.buffer.slice(0),indices:Pe.buffer.slice(0),uses32bitIndices:fe}}const od=new a.aU({fill:new a.bs(128,2),line:new a.bs(512,0),tile:new a.bs(128,32),stencil:new a.bs(128,1),circle:3});class ad{constructor(){this._tileMeshCache={},this._errorCorrectionUsable=0,this._errorMeasurementLastValue=0,this._errorCorrectionPreviousValue=0,this._errorMeasurementLastChangeTime=-1e3}get name(){return"vertical-perspective"}get transitionState(){return 1}get useSubdivision(){return!0}get shaderVariantName(){return"globe"}get shaderDefine(){return"#define GLOBE"}get shaderPreludeCode(){return ba.projectionGlobe}get vertexShaderPreludeCode(){return ba.projectionMercator.vertexSource}get subdivisionGranularity(){return od}get useGlobeControls(){return!0}get latitudeErrorCorrectionRadians(){return this._errorCorrectionUsable}destroy(){this._errorMeasurement&&this._errorMeasurement.destroy()}updateGPUdependent(u){this._errorMeasurement||(this._errorMeasurement=new id(u));const f=a.X(this._errorQueryLatitudeDegrees),_=2*Math.atan(Math.exp(Math.PI-f*Math.PI*2))-.5*Math.PI,S=this._errorMeasurement.updateErrorLoop(f,_),M=I();S!==this._errorMeasurementLastValue&&(this._errorCorrectionPreviousValue=this._errorCorrectionUsable,this._errorMeasurementLastValue=S,this._errorMeasurementLastChangeTime=M);const D=Math.min(Math.max((M-this._errorMeasurementLastChangeTime)/1e3/.5,0),1);this._errorCorrectionUsable=a.bt(this._errorCorrectionPreviousValue,-this._errorMeasurementLastValue,a.bu(D))}_getMeshKey(u){return`${u.granularity.toString(36)}_${u.generateBorders?"b":""}${u.extendToNorthPole?"n":""}${u.extendToSouthPole?"s":""}`}getMeshFromTileID(u,f,_,S,M){const D=(M==="stencil"?od.stencil:od.tile).getGranularityForZoomLevel(f.z);return this._getMesh(u,{granularity:D,generateBorders:_,extendToNorthPole:f.y===0&&S,extendToSouthPole:f.y===(1<<f.z)-1&&S})}_getMesh(u,f){const _=this._getMeshKey(f);if(_ in this._tileMeshCache)return this._tileMeshCache[_];const S=(function(M,D){const z=_p(D,"16bit"),F=a.aV.deserialize({arrayBuffer:z.vertices,length:z.vertices.byteLength/2/2}),G=a.aX.deserialize({arrayBuffer:z.indices,length:z.indices.byteLength/2/3});return new Ol(M.createVertexBuffer(F,wi.members),M.createIndexBuffer(G),a.aW.simpleSegment(0,0,F.length,G.length))})(u,f);return this._tileMeshCache[_]=S,S}recalculate(u){}hasTransition(){const u=I();let f=!1;return f=f||(u-this._errorMeasurementLastChangeTime)/1e3<.7,f=f||this._errorMeasurement&&this._errorMeasurement.awaitingQuery,f}setErrorQueryLatitudeDegrees(u){this._errorQueryLatitudeDegrees=u}}const bp=new a.t({type:new a.D(a.u.projection.type)});class Vc extends a.E{constructor(u){super(),this._transitionable=new a.x(bp,void 0),this.setProjection(u),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new a.H(0)),this._mercatorProjection=new Ni,this._verticalPerspectiveProjection=new ad}get transitionState(){const u=this.properties.get("type");if(typeof u=="string"&&u==="mercator")return 0;if(typeof u=="string"&&u==="vertical-perspective")return 1;if(u instanceof a.bv){if(u.from==="vertical-perspective"&&u.to==="mercator")return 1-u.transition;if(u.from==="mercator"&&u.to==="vertical-perspective")return u.transition}return 1}get useGlobeRendering(){return this.transitionState>0}get latitudeErrorCorrectionRadians(){return this._verticalPerspectiveProjection.latitudeErrorCorrectionRadians}get currentProjection(){return this.useGlobeRendering?this._verticalPerspectiveProjection:this._mercatorProjection}get name(){return"globe"}get useSubdivision(){return this.currentProjection.useSubdivision}get shaderVariantName(){return this.currentProjection.shaderVariantName}get shaderDefine(){return this.currentProjection.shaderDefine}get shaderPreludeCode(){return this.currentProjection.shaderPreludeCode}get vertexShaderPreludeCode(){return this.currentProjection.vertexShaderPreludeCode}get subdivisionGranularity(){return this.currentProjection.subdivisionGranularity}get useGlobeControls(){return this.transitionState>0}destroy(){this._mercatorProjection.destroy(),this._verticalPerspectiveProjection.destroy()}updateGPUdependent(u){this._mercatorProjection.updateGPUdependent(u),this._verticalPerspectiveProjection.updateGPUdependent(u)}getMeshFromTileID(u,f,_,S,M){return this.currentProjection.getMeshFromTileID(u,f,_,S,M)}setProjection(u){this._transitionable.setValue("type",u?.type||"mercator")}updateTransitions(u){this._transitioning=this._transitionable.transitioned(u,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()||this.currentProjection.hasTransition()}recalculate(u){this.properties=this._transitioning.possiblyEvaluate(u)}setErrorQueryLatitudeDegrees(u){this._verticalPerspectiveProjection.setErrorQueryLatitudeDegrees(u),this._mercatorProjection.setErrorQueryLatitudeDegrees(u)}}function Hb(P){const u=xp(P.worldSize,P.center.lat);return 2*Math.PI*u}function vs(P,u,f,_,S){const M=1/(1<<S),D=u/a.a4*M+_*M,z=a.bx((P/a.a4*M+f*M)*Math.PI*2+Math.PI,2*Math.PI),F=2*Math.atan(Math.exp(Math.PI-D*Math.PI*2))-.5*Math.PI,G=Math.cos(F),q=new Float64Array(3);return q[0]=Math.sin(z)*G,q[1]=Math.sin(F),q[2]=Math.cos(z)*G,q}function Qi(P){return(function(u,f){const _=Math.cos(f),S=new Float64Array(3);return S[0]=Math.sin(u)*_,S[1]=Math.sin(f),S[2]=Math.cos(u)*_,S})(P.lng*Math.PI/180,P.lat*Math.PI/180)}function xp(P,u){return P/(2*Math.PI)/Math.cos(u*Math.PI/180)}function Gb(P){const u=Math.asin(P[1])/Math.PI*180,f=Math.sqrt(P[0]*P[0]+P[2]*P[2]);if(f>1e-6){const _=P[0]/f,S=Math.acos(P[2]/f),M=(_>0?S:-S)/Math.PI*180;return new a.V(a.W(M,-180,180),u)}return new a.V(0,u)}function eo(P){return Math.cos(P*Math.PI/180)}function Si(P,u){const f=eo(P),_=eo(u);return a.at(_/f)}function Ha(P,u){const f=P.rotate(u.bearingInRadians),_=u.zoom+Si(u.center.lat,0),S=a.bt(1/eo(u.center.lat),1/eo(Math.min(Math.abs(u.center.lat),60)),a.bw(_,7,3,0,1)),M=360/Hb({worldSize:u.worldSize,center:{lat:u.center.lat}});return new a.V(u.center.lng-f.x*M*S,a.an(u.center.lat+f.y*M,-a.ao,a.ao))}function jc(P){const u=.5*P,f=Math.sin(u),_=Math.cos(u);return Math.log(f+_)-Math.log(_-f)}function Tv(P,u,f,_){const S=P.lat+f*_;if(Math.abs(f)>1){const M=(Math.sign(P.lat+f)!==Math.sign(P.lat)?-Math.abs(P.lat):Math.abs(P.lat))*Math.PI/180,D=Math.abs(P.lat+f)*Math.PI/180,z=jc(M+_*(D-M)),F=jc(M),G=jc(D);return new a.V(P.lng+u*((z-F)/(G-F)),S)}return new a.V(P.lng+u*_,S)}class Ub{constructor(u){this._cachePrevious=new Map,this._cache=new Map,this._hadAnyChanges=!1,this._boundingVolumeFactory=u}swapBuffers(){if(!this._hadAnyChanges)return;const u=this._cachePrevious;this._cachePrevious=this._cache,this._cache=u,this._cache.clear(),this._hadAnyChanges=!1}getTileBoundingVolume(u,f,_,S){const M=`${u.z}_${u.x}_${u.y}_${S?.terrain?"t":""}`,D=this._cache.get(M);if(D)return D;const z=this._cachePrevious.get(M);if(z)return this._cache.set(M,z),z;const F=this._boundingVolumeFactory(u,f,_,S);return this._cache.set(M,F),this._hadAnyChanges=!0,F}}class Ga{constructor(u,f,_,S){this.min=_,this.max=S,this.points=u,this.planes=f}static fromAabb(u,f){const _=[];for(let S=0;S<8;S++)_.push([1&~S?u[0]:f[0],(S>>1&1)==1?f[1]:u[1],(S>>2&1)==1?f[2]:u[2]]);return new Ga(_,[[-1,0,0,f[0]],[1,0,0,-u[0]],[0,-1,0,f[1]],[0,1,0,-u[1]],[0,0,-1,f[2]],[0,0,1,-u[2]]],u,f)}static fromCenterSizeAngles(u,f,_){const S=a.bA([],_[0],_[1],_[2]),M=a.bB([],[f[0],0,0],S),D=a.bB([],[0,f[1],0],S),z=a.bB([],[0,0,f[2]],S),F=[...u],G=[...u];for(let te=0;te<8;te++)for(let ee=0;ee<3;ee++){const ae=u[ee]+M[ee]*(1&~te?-1:1)+D[ee]*((te>>1&1)==1?1:-1)+z[ee]*((te>>2&1)==1?1:-1);F[ee]=Math.min(F[ee],ae),G[ee]=Math.max(G[ee],ae)}const q=[];for(let te=0;te<8;te++){const ee=[...u];a.a$(ee,ee,a.a_([],M,1&~te?-1:1)),a.a$(ee,ee,a.a_([],D,(te>>1&1)==1?1:-1)),a.a$(ee,ee,a.a_([],z,(te>>2&1)==1?1:-1)),q.push(ee)}return new Ga(q,[[...M,-a.b4(M,q[0])],[...D,-a.b4(D,q[0])],[...z,-a.b4(z,q[0])],[-M[0],-M[1],-M[2],-a.b4(M,q[7])],[-D[0],-D[1],-D[2],-a.b4(D,q[7])],[-z[0],-z[1],-z[2],-a.b4(z,q[7])]],F,G)}intersectsFrustum(u){let f=!0;const _=this.points.length,S=this.planes.length,M=u.planes.length,D=u.points.length;for(let z=0;z<M;z++){const F=u.planes[z];let G=0;for(let q=0;q<_;q++){const te=this.points[q];F[0]*te[0]+F[1]*te[1]+F[2]*te[2]+F[3]>=0&&G++}if(G===0)return 0;G<_&&(f=!1)}if(f)return 2;for(let z=0;z<S;z++){const F=this.planes[z];let G=0;for(let q=0;q<D;q++){const te=u.points[q];F[0]*te[0]+F[1]*te[1]+F[2]*te[2]+F[3]>=0&&G++}if(G===0)return 0}return 1}intersectsPlane(u){const f=this.points.length;let _=0;for(let S=0;S<f;S++){const M=this.points[S];u[0]*M[0]+u[1]*M[1]+u[2]*M[2]+u[3]>=0&&_++}return _===f?2:_===0?0:1}}function wp(P,u,f){const _=P-u;return _<0?-_:Math.max(0,_-f)}function Cv(P,u,f,_,S){const M=P-f;let D;return D=M<0?Math.min(-M,1+M-S):M>1?Math.min(Math.max(M-S,0),1-M):0,Math.max(D,wp(u,_,S))}class nC{constructor(){this._boundingVolumeCache=new Ub(this._computeTileBoundingVolume)}prepareNextFrame(){this._boundingVolumeCache.swapBuffers()}distanceToTile2d(u,f,_,S){const M=1<<_.z,D=1/M,z=_.x/M,F=_.y/M;let G=2;return G=Math.min(G,Cv(u,f,z,F,D)),G=Math.min(G,Cv(u,f,z+.5,-F-D,D)),G=Math.min(G,Cv(u,f,z+.5,2-F-D,D)),G}getWrap(u,f,_){const S=1<<f.z,M=1/S,D=f.x/S,z=wp(u.x,D,M),F=wp(u.x,D-1,M),G=wp(u.x,D+1,M),q=Math.min(z,F,G);return q===G?1:q===F?-1:0}allowVariableZoom(u,f){return ar(u,f)>4}allowWorldCopies(){return!1}getTileBoundingVolume(u,f,_,S){return this._boundingVolumeCache.getTileBoundingVolume(u,f,_,S)}_computeTileBoundingVolume(u,f,_,S){var M,D;let z=0,F=0;if(S?.terrain){const G=new a.a1(u.z,f,u.z,u.x,u.y),q=S.terrain.getMinMaxElevation(G);z=(M=q.minElevation)!==null&&M!==void 0?M:Math.min(0,_),F=(D=q.maxElevation)!==null&&D!==void 0?D:Math.max(0,_)}if(z/=a.bD,F/=a.bD,z+=1,F+=1,u.z<=0)return Ga.fromAabb([-F,-F,-F],[F,F,F]);if(u.z===1)return Ga.fromAabb([u.x===0?-F:0,u.y===0?0:-F,-F],[u.x===0?0:F,u.y===0?F:0,F]);{const G=[vs(0,0,u.x,u.y,u.z),vs(a.a4,0,u.x,u.y,u.z),vs(a.a4,a.a4,u.x,u.y,u.z),vs(0,a.a4,u.x,u.y,u.z)],q=[];for(const nt of G)q.push(a.a_([],nt,F));if(F!==z)for(const nt of G)q.push(a.a_([],nt,z));u.y===0&&q.push([0,1,0]),u.y===(1<<u.z)-1&&q.push([0,-1,0]);const te=[1,1,1],ee=[-1,-1,-1];for(const nt of q)for(let st=0;st<3;st++)te[st]=Math.min(te[st],nt[st]),ee[st]=Math.max(ee[st],nt[st]);const ae=vs(a.a4/2,a.a4/2,u.x,u.y,u.z),fe=a.b3([],[0,1,0],ae);a.b2(fe,fe);const we=a.b3([],ae,fe);a.b2(we,we);const Se=a.b3([],G[2],G[1]);a.b2(Se,Se);const Pe=a.b3([],G[0],G[3]);a.b2(Pe,Pe),q.push(a.a_([],ae,F)),u.y>=(1<<u.z)/2&&q.push(a.a_([],vs(a.a4/2,0,u.x,u.y,u.z),F)),u.y<(1<<u.z)/2&&q.push(a.a_([],vs(a.a4/2,a.a4,u.x,u.y,u.z),F));const Ae=Wb(ae,q),ke=Wb(we,q),Ie=[-ae[0],-ae[1],-ae[2],Ae.max],$e=[ae[0],ae[1],ae[2],-Ae.min],Ge=[-we[0],-we[1],-we[2],ke.max],Le=[we[0],we[1],we[2],-ke.min],Ze=[...Se,0],lt=[...Pe,0],rt=[];return u.y===0?rt.push(a.bC(lt,Ze,Ie),a.bC(lt,Ze,$e)):rt.push(a.bC(Ge,Ze,Ie),a.bC(Ge,Ze,$e),a.bC(Ge,lt,Ie),a.bC(Ge,lt,$e)),u.y===(1<<u.z)-1?rt.push(a.bC(lt,Ze,Ie),a.bC(lt,Ze,$e)):rt.push(a.bC(Le,Ze,Ie),a.bC(Le,Ze,$e),a.bC(Le,lt,Ie),a.bC(Le,lt,$e)),new Ga(rt,[Ie,$e,Ge,Le,Ze,lt],te,ee)}}}function Wb(P,u){let f=1/0,_=-1/0;for(const S of u){const M=a.b4(P,S);f=Math.min(f,M),_=Math.max(_,M)}return{min:f,max:_}}class Sp{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(u){this._helper.setMinZoom(u)}setMaxZoom(u){this._helper.setMaxZoom(u)}setMinPitch(u){this._helper.setMinPitch(u)}setMaxPitch(u){this._helper.setMaxPitch(u)}setRenderWorldCopies(u){this._helper.setRenderWorldCopies(u)}setBearing(u){this._helper.setBearing(u)}setPitch(u){this._helper.setPitch(u)}setRoll(u){this._helper.setRoll(u)}setFov(u){this._helper.setFov(u)}setZoom(u){this._helper.setZoom(u)}setCenter(u){this._helper.setCenter(u)}setElevation(u){this._helper.setElevation(u)}setMinElevationForCurrentTile(u){this._helper.setMinElevationForCurrentTile(u)}setPadding(u){this._helper.setPadding(u)}interpolatePadding(u,f,_){return this._helper.interpolatePadding(u,f,_)}isPaddingEqual(u){return this._helper.isPaddingEqual(u)}resize(u,f){this._helper.resize(u,f)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(u){this._helper.setMaxBounds(u)}setConstrainOverride(u){this._helper.setConstrainOverride(u)}overrideNearFarZ(u,f){this._helper.overrideNearFarZ(u,f)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(u){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),u)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get constrainOverride(){return this._helper.constrainOverride}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(u){}constructor(u){this._cachedClippingPlane=a.bE(),this._projectionMatrix=a.bi(),this._globeViewProjMatrix32f=a.bh(),this._globeViewProjMatrixNoCorrection=a.bi(),this._globeViewProjMatrixNoCorrectionInverted=a.bi(),this._globeProjMatrixInverted=a.bi(),this._cameraPosition=a.by(),this._globeLatitudeErrorCorrectionRadians=0,this.defaultConstrain=(f,_)=>{const S=a.an(f.lat,-a.ao,a.ao),M=a.an(+_,this.minZoom+Si(0,S),this.maxZoom);return{center:new a.V(f.lng,S),zoom:M}},this.applyConstrain=(f,_)=>this._helper.applyConstrain(f,_),this._helper=new Bo({calcMatrices:()=>{this._calcMatrices()},defaultConstrain:(f,_)=>this.defaultConstrain(f,_)},u),this._coveringTilesDetailsProvider=new nC}clone(){const u=new Sp;return u.apply(this),u}apply(u,f){this._globeLatitudeErrorCorrectionRadians=f||0,this._helper.apply(u)}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._globeViewProjMatrixNoCorrection}get inverseProjectionMatrix(){return this._globeProjMatrixInverted}get cameraPosition(){const u=a.by();return u[0]=this._cameraPosition[0],u[1]=this._cameraPosition[1],u[2]=this._cameraPosition[2],u}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}getProjectionData(u){const{overscaledTileID:f,applyGlobeMatrix:_}=u,S=this._helper.getMercatorTileCoordinates(f);return{mainMatrix:this._globeViewProjMatrix32f,tileMercatorCoords:S,clippingPlane:this._cachedClippingPlane,projectionTransition:_?1:0,fallbackMatrix:this._globeViewProjMatrix32f}}_computeClippingPlane(u){const f=this.pitchInRadians,_=this.cameraToCenterDistance/u,S=Math.sin(f)*_,M=Math.cos(f)*_+1,D=1/Math.sqrt(S*S+M*M)*1;let z=-S,F=M;const G=Math.sqrt(z*z+F*F);z/=G,F/=G;const q=[0,z,F];a.bF(q,q,[0,0,0],-this.bearingInRadians),a.bG(q,q,[0,0,0],-1*this.center.lat*Math.PI/180),a.bH(q,q,[0,0,0],this.center.lng*Math.PI/180);const te=1/a.b6(q);return a.a_(q,q,te),[...q,-D*te]}isLocationOccluded(u){return!this.isSurfacePointVisible(Qi(u))}transformLightDirection(u){const f=this._helper._center.lng*Math.PI/180,_=this._helper._center.lat*Math.PI/180,S=Math.cos(_),M=[Math.sin(f)*S,Math.sin(_),Math.cos(f)*S],D=[M[2],0,-M[0]],z=[0,0,0];a.b3(z,D,M),a.b2(D,D),a.b2(z,z);const F=[0,0,0];return a.b2(F,[D[0]*u[0]+z[0]*u[1]+M[0]*u[2],D[1]*u[0]+z[1]*u[1]+M[1]*u[2],D[2]*u[0]+z[2]*u[1]+M[2]*u[2]]),F}getPixelScale(){return 1/Math.cos(this._helper._center.lat*Math.PI/180)}getCircleRadiusCorrection(){return Math.cos(this._helper._center.lat*Math.PI/180)}getPitchedTextCorrection(u,f,_){const S=(function(z,F,G){const q=1/(1<<G.z);return new a.aa(z/a.a4*q+G.x*q,F/a.a4*q+G.y*q)})(u,f,_.canonical),M=(D=S.y,[a.bx(S.x*Math.PI*2+Math.PI,2*Math.PI),2*Math.atan(Math.exp(Math.PI-D*Math.PI*2))-.5*Math.PI]);var D;return this.getCircleRadiusCorrection()/Math.cos(M[1])}projectTileCoordinates(u,f,_,S){const M=_.canonical,D=vs(u,f,M.x,M.y,M.z),z=1+(S?S(u,f):0)/a.bD,F=[D[0]*z,D[1]*z,D[2]*z,1];a.aG(F,F,this._globeViewProjMatrixNoCorrection);const G=this._cachedClippingPlane,q=G[0]*D[0]+G[1]*D[1]+G[2]*D[2]+G[3]<0;return{point:new a.P(F[0]/F[3],F[1]/F[3]),signedDistanceFromCamera:F[3],isOccluded:q}}_calcMatrices(){if(!this._helper._width||!this._helper._height)return;const u=xp(this.worldSize,this.center.lat),f=a.bj(),_=a.bj();this._helper.autoCalculateNearFarZ&&(this._helper._nearZ=.5,this._helper._farZ=this.cameraToCenterDistance+2*u),a.bd(f,this.fovInRadians,this.width/this.height,this._helper._nearZ,this._helper._farZ);const S=this.centerOffset;f[8]=2*-S.x/this._helper._width,f[9]=2*S.y/this._helper._height,this._projectionMatrix=a.be(f),this._globeProjMatrixInverted=a.bj(),a.aA(this._globeProjMatrixInverted,f),a.O(f,f,[0,0,-this.cameraToCenterDistance]),a.bf(f,f,this.rollInRadians),a.bg(f,f,-this.pitchInRadians),a.bf(f,f,this.bearingInRadians),a.O(f,f,[0,0,-u]);const M=a.by();M[0]=u,M[1]=u,M[2]=u,a.bg(_,f,this.center.lat*Math.PI/180),a.bI(_,_,-this.center.lng*Math.PI/180),a.Q(_,_,M),this._globeViewProjMatrixNoCorrection=_,a.bg(f,f,this.center.lat*Math.PI/180-this._globeLatitudeErrorCorrectionRadians),a.bI(f,f,-this.center.lng*Math.PI/180),a.Q(f,f,M),this._globeViewProjMatrix32f=new Float32Array(f),this._globeViewProjMatrixNoCorrectionInverted=a.bj(),a.aA(this._globeViewProjMatrixNoCorrectionInverted,_);const D=a.by();this._cameraPosition=a.by(),this._cameraPosition[2]=this.cameraToCenterDistance/u,a.bF(this._cameraPosition,this._cameraPosition,D,-this.rollInRadians),a.bG(this._cameraPosition,this._cameraPosition,D,this.pitchInRadians),a.bF(this._cameraPosition,this._cameraPosition,D,-this.bearingInRadians),a.a$(this._cameraPosition,this._cameraPosition,[0,0,1]),a.bG(this._cameraPosition,this._cameraPosition,D,-this.center.lat*Math.PI/180),a.bH(this._cameraPosition,this._cameraPosition,D,this.center.lng*Math.PI/180),this._cachedClippingPlane=this._computeClippingPlane(u);const z=a.be(this._globeViewProjMatrixNoCorrectionInverted);a.Q(z,z,[1,1,-1]),this._cachedFrustum=kl.fromInvProjectionMatrix(z,1,0,this._cachedClippingPlane,!0)}calculateFogMatrix(u){a.w("calculateFogMatrix is not supported on globe projection.");const f=a.bj();return a.ar(f),f}getVisibleUnwrappedCoordinates(u){return[new a.bb(0,u)]}getCameraFrustum(){return this._cachedFrustum}getClippingPlane(){return this._cachedClippingPlane}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(u){u&&a.w("terrain is not fully supported on vertical perspective projection."),this._helper.recalculateZoomAndCenter(0)}maxPitchScaleFactor(){return 1}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(u,f){if(!this._globeViewProjMatrixNoCorrection)return 1;const _=Qi(u);a.a_(_,_,1+f/a.bD);const S=a.bE();return a.aG(S,[_[0],_[1],_[2],1],this._globeViewProjMatrixNoCorrection),S[2]/S[3]}populateCache(u){}getBounds(){const u=.5*this.width,f=.5*this.height,_=[new a.P(0,0),new a.P(u,0),new a.P(this.width,0),new a.P(this.width,f),new a.P(this.width,this.height),new a.P(u,this.height),new a.P(0,this.height),new a.P(0,f)],S=[];for(const te of _)S.push(this.unprojectScreenPoint(te));let M=0,D=0,z=0,F=0;const G=this.center;for(const te of S){const ee=a.bJ(G.lng,te.lng),ae=a.bJ(G.lat,te.lat);ee<D&&(D=ee),ee>M&&(M=ee),ae<F&&(F=ae),ae>z&&(z=ae)}const q=[G.lng+D,G.lat+F,G.lng+M,G.lat+z];return this.isSurfacePointOnScreen([0,1,0])&&(q[3]=90,q[0]=-180,q[2]=180),this.isSurfacePointOnScreen([0,-1,0])&&(q[1]=-90,q[0]=-180,q[2]=180),new et(q)}calculateCenterFromCameraLngLatAlt(u,f,_,S){return this._helper.calculateCenterFromCameraLngLatAlt(u,f,_,S)}setLocationAtPoint(u,f){const _=Qi(this.unprojectScreenPoint(f)),S=Qi(u),M=a.by();a.bK(M);const D=a.by();a.bH(D,_,M,-this.center.lng*Math.PI/180),a.bG(D,D,M,this.center.lat*Math.PI/180);const z=S[0]*S[0]+S[2]*S[2],F=D[0]*D[0];if(z<F)return;const G=Math.sqrt(z-F),q=-G,te=a.bL(S[0],S[2],D[0],G),ee=a.bL(S[0],S[2],D[0],q),ae=a.by();a.bH(ae,S,M,-te);const fe=a.bL(ae[1],ae[2],D[1],D[2]),we=a.by();a.bH(we,S,M,-ee);const Se=a.bL(we[1],we[2],D[1],D[2]),Pe=.5*Math.PI,Ae=fe>=-Pe&&fe<=Pe,ke=Se>=-Pe&&Se<=Pe;let Ie,$e;if(Ae&&ke){const lt=this.center.lng*Math.PI/180,rt=this.center.lat*Math.PI/180;a.bM(te,lt)+a.bM(fe,rt)<a.bM(ee,lt)+a.bM(Se,rt)?(Ie=te,$e=fe):(Ie=ee,$e=Se)}else if(Ae)Ie=te,$e=fe;else{if(!ke)return;Ie=ee,$e=Se}const Ge=Ie/Math.PI*180,Le=$e/Math.PI*180,Ze=this.center.lat;this.setCenter(new a.V(Ge,a.an(Le,-90,90))),this.setZoom(this.zoom+Si(Ze,this.center.lat))}locationToScreenPoint(u,f){const _=Qi(u);if(f){const S=f.getElevationForLngLatZoom(u,this._helper._tileZoom);a.a_(_,_,1+S/a.bD)}return this._projectSurfacePointToScreen(_)}_projectSurfacePointToScreen(u){const f=a.bE();return a.aG(f,[...u,1],this._globeViewProjMatrixNoCorrection),f[0]/=f[3],f[1]/=f[3],new a.P((.5*f[0]+.5)*this.width,(.5*-f[1]+.5)*this.height)}screenPointToMercatorCoordinate(u,f){if(f){const _=f.pointCoordinate(u);if(_)return _}return a.aa.fromLngLat(this.unprojectScreenPoint(u))}screenPointToLocation(u,f){var _;return(_=this.screenPointToMercatorCoordinate(u,f))===null||_===void 0?void 0:_.toLngLat()}isPointOnMapSurface(u,f){const _=this._cameraPosition,S=this.getRayDirectionFromPixel(u);return!!this.rayPlanetIntersection(_,S)}getRayDirectionFromPixel(u){const f=a.bE();f[0]=u.x/this.width*2-1,f[1]=-1*(u.y/this.height*2-1),f[2]=1,f[3]=1,a.aG(f,f,this._globeViewProjMatrixNoCorrectionInverted),f[0]/=f[3],f[1]/=f[3],f[2]/=f[3];const _=a.by();_[0]=f[0]-this._cameraPosition[0],_[1]=f[1]-this._cameraPosition[1],_[2]=f[2]-this._cameraPosition[2];const S=a.by();return a.b2(S,_),S}isSurfacePointVisible(u){const f=this._cachedClippingPlane;return f[0]*u[0]+f[1]*u[1]+f[2]*u[2]+f[3]>=0}isSurfacePointOnScreen(u){if(!this.isSurfacePointVisible(u))return!1;const f=a.bE();return a.aG(f,[...u,1],this._globeViewProjMatrixNoCorrection),f[0]/=f[3],f[1]/=f[3],f[2]/=f[3],f[0]>-1&&f[0]<1&&f[1]>-1&&f[1]<1&&f[2]>-1&&f[2]<1}rayPlanetIntersection(u,f){const _=a.b4(u,f),S=a.by(),M=a.by();a.a_(M,f,_),a.b1(S,u,M);const D=1-a.b4(S,S);if(D<0)return null;const z=a.b4(u,u)-1,F=-_+(_<0?1:-1)*Math.sqrt(D),G=z/F,q=F;return{tMin:Math.min(G,q),tMax:Math.max(G,q)}}unprojectScreenPoint(u){const f=this._cameraPosition,_=this.getRayDirectionFromPixel(u),S=this.rayPlanetIntersection(f,_);if(S){const q=a.by();a.a$(q,f,[_[0]*S.tMin,_[1]*S.tMin,_[2]*S.tMin]);const te=a.by();return a.b2(te,q),Gb(te)}const M=this._cachedClippingPlane,D=M[0]*_[0]+M[1]*_[1]+M[2]*_[2],z=-a.ba(M,f)/D,F=a.by();if(z>0)a.a$(F,f,[_[0]*z,_[1]*z,_[2]*z]);else{const q=a.by();a.a$(q,f,[2*_[0],2*_[1],2*_[2]]);const te=a.ba(this._cachedClippingPlane,q);a.b1(F,q,[this._cachedClippingPlane[0]*te,this._cachedClippingPlane[1]*te,this._cachedClippingPlane[2]*te])}const G=(function(q){const te=a.by();return te[0]=q[0]*-q[3],te[1]=q[1]*-q[3],te[2]=q[2]*-q[3],{center:te,radius:Math.sqrt(1-q[3]*q[3])}})(M);return Gb((function(q,te,ee){const ae=a.by();a.b1(ae,ee,q);const fe=a.by();return a.bz(fe,q,ae,te/a.b8(ae)),fe})(G.center,G.radius,F))}getMatrixForModel(u,f){const _=a.V.convert(u),S=1/a.bD,M=a.bi();return a.bI(M,M,_.lng/180*Math.PI),a.bg(M,M,-_.lat/180*Math.PI),a.O(M,M,[0,0,1+f/a.bD]),a.bg(M,M,.5*Math.PI),a.Q(M,M,[S,S,S]),M}getProjectionDataForCustomLayer(u=!0){const f=this.getProjectionData({overscaledTileID:new a.a1(0,0,0,0,0),applyGlobeMatrix:u});return f.tileMercatorCoords=[0,0,1,1],f}getFastPathSimpleProjectionMatrix(u){}}class Tp{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(u){this._helper.setMinZoom(u)}setMaxZoom(u){this._helper.setMaxZoom(u)}setMinPitch(u){this._helper.setMinPitch(u)}setMaxPitch(u){this._helper.setMaxPitch(u)}setRenderWorldCopies(u){this._helper.setRenderWorldCopies(u)}setBearing(u){this._helper.setBearing(u)}setPitch(u){this._helper.setPitch(u)}setRoll(u){this._helper.setRoll(u)}setFov(u){this._helper.setFov(u)}setZoom(u){this._helper.setZoom(u)}setCenter(u){this._helper.setCenter(u)}setElevation(u){this._helper.setElevation(u)}setMinElevationForCurrentTile(u){this._helper.setMinElevationForCurrentTile(u)}setPadding(u){this._helper.setPadding(u)}interpolatePadding(u,f,_){return this._helper.interpolatePadding(u,f,_)}isPaddingEqual(u){return this._helper.isPaddingEqual(u)}resize(u,f,_=!0){this._helper.resize(u,f,_)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(u){this._helper.setMaxBounds(u)}setConstrainOverride(u){this._helper.setConstrainOverride(u)}overrideNearFarZ(u,f){this._helper.overrideNearFarZ(u,f)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(u){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),u)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get constrainOverride(){return this._helper.constrainOverride}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}get isGlobeRendering(){return this._globeness>0}setTransitionState(u,f){this._globeness=u,this._globeLatitudeErrorCorrectionRadians=f,this._calcMatrices(),this._verticalPerspectiveTransform.getCoveringTilesDetailsProvider().prepareNextFrame(),this._mercatorTransform.getCoveringTilesDetailsProvider().prepareNextFrame()}get currentTransform(){return this.isGlobeRendering?this._verticalPerspectiveTransform:this._mercatorTransform}constructor(u){this._globeLatitudeErrorCorrectionRadians=0,this._globeness=1,this.defaultConstrain=(f,_)=>this.currentTransform.defaultConstrain(f,_),this.applyConstrain=(f,_)=>this._helper.applyConstrain(f,_),this._helper=new Bo({calcMatrices:()=>{this._calcMatrices()},defaultConstrain:(f,_)=>this.defaultConstrain(f,_)},u),this._globeness=1,this._mercatorTransform=new On,this._verticalPerspectiveTransform=new Sp}clone(){const u=new Tp;return u._globeness=this._globeness,u._globeLatitudeErrorCorrectionRadians=this._globeLatitudeErrorCorrectionRadians,u.apply(this),u}apply(u){this._helper.apply(u),this._mercatorTransform.apply(this),this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians)}get projectionMatrix(){return this.currentTransform.projectionMatrix}get modelViewProjectionMatrix(){return this.currentTransform.modelViewProjectionMatrix}get inverseProjectionMatrix(){return this.currentTransform.inverseProjectionMatrix}get cameraPosition(){return this.currentTransform.cameraPosition}getProjectionData(u){const f=this._mercatorTransform.getProjectionData(u),_=this._verticalPerspectiveTransform.getProjectionData(u);return{mainMatrix:this.isGlobeRendering?_.mainMatrix:f.mainMatrix,clippingPlane:_.clippingPlane,tileMercatorCoords:_.tileMercatorCoords,projectionTransition:u.applyGlobeMatrix?this._globeness:0,fallbackMatrix:f.fallbackMatrix}}isLocationOccluded(u){return this.currentTransform.isLocationOccluded(u)}transformLightDirection(u){return this.currentTransform.transformLightDirection(u)}getPixelScale(){return a.bt(this._mercatorTransform.getPixelScale(),this._verticalPerspectiveTransform.getPixelScale(),this._globeness)}getCircleRadiusCorrection(){return a.bt(this._mercatorTransform.getCircleRadiusCorrection(),this._verticalPerspectiveTransform.getCircleRadiusCorrection(),this._globeness)}getPitchedTextCorrection(u,f,_){const S=this._mercatorTransform.getPitchedTextCorrection(u,f,_),M=this._verticalPerspectiveTransform.getPitchedTextCorrection(u,f,_);return a.bt(S,M,this._globeness)}projectTileCoordinates(u,f,_,S){return this.currentTransform.projectTileCoordinates(u,f,_,S)}_calcMatrices(){this._helper._width&&this._helper._height&&(this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians),this._helper._nearZ=this._verticalPerspectiveTransform.nearZ,this._helper._farZ=this._verticalPerspectiveTransform.farZ,this._mercatorTransform.apply(this,!0,this.isGlobeRendering),this._helper._nearZ=this._mercatorTransform.nearZ,this._helper._farZ=this._mercatorTransform.farZ)}calculateFogMatrix(u){return this.currentTransform.calculateFogMatrix(u)}getVisibleUnwrappedCoordinates(u){return this.currentTransform.getVisibleUnwrappedCoordinates(u)}getCameraFrustum(){return this.currentTransform.getCameraFrustum()}getClippingPlane(){return this.currentTransform.getClippingPlane()}getCoveringTilesDetailsProvider(){return this.currentTransform.getCoveringTilesDetailsProvider()}recalculateZoomAndCenter(u){this._mercatorTransform.recalculateZoomAndCenter(u),this._verticalPerspectiveTransform.recalculateZoomAndCenter(u)}maxPitchScaleFactor(){return this._mercatorTransform.maxPitchScaleFactor()}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(u,f){return this.currentTransform.lngLatToCameraDepth(u,f)}populateCache(u){this._mercatorTransform.populateCache(u),this._verticalPerspectiveTransform.populateCache(u)}getBounds(){return this.currentTransform.getBounds()}calculateCenterFromCameraLngLatAlt(u,f,_,S){return this._helper.calculateCenterFromCameraLngLatAlt(u,f,_,S)}setLocationAtPoint(u,f){if(!this.isGlobeRendering)return this._mercatorTransform.setLocationAtPoint(u,f),void this.apply(this._mercatorTransform);this._verticalPerspectiveTransform.setLocationAtPoint(u,f),this.apply(this._verticalPerspectiveTransform)}locationToScreenPoint(u,f){return this.currentTransform.locationToScreenPoint(u,f)}screenPointToMercatorCoordinate(u,f){return this.currentTransform.screenPointToMercatorCoordinate(u,f)}screenPointToLocation(u,f){return this.currentTransform.screenPointToLocation(u,f)}isPointOnMapSurface(u,f){return this.currentTransform.isPointOnMapSurface(u,f)}getRayDirectionFromPixel(u){return this._verticalPerspectiveTransform.getRayDirectionFromPixel(u)}getMatrixForModel(u,f){return this.currentTransform.getMatrixForModel(u,f)}getProjectionDataForCustomLayer(u=!0){const f=this._mercatorTransform.getProjectionDataForCustomLayer(u);if(!this.isGlobeRendering)return f;const _=this._verticalPerspectiveTransform.getProjectionDataForCustomLayer(u);return _.fallbackMatrix=f.mainMatrix,_}getFastPathSimpleProjectionMatrix(u){return this.currentTransform.getFastPathSimpleProjectionMatrix(u)}}class No{get useGlobeControls(){return!0}handlePanInertia(u,f){const _=Ha(u,f);return Math.abs(_.lng-f.center.lng)>180&&(_.lng=f.center.lng+179.5*Math.sign(_.lng-f.center.lng)),{easingCenter:_,easingOffset:new a.P(0,0)}}handleMapControlsRollPitchBearingZoom(u,f){const _=u.around,S=f.screenPointToLocation(_);u.bearingDelta&&f.setBearing(f.bearing+u.bearingDelta),u.pitchDelta&&f.setPitch(f.pitch+u.pitchDelta),u.rollDelta&&f.setRoll(f.roll+u.rollDelta);const M=f.zoom;u.zoomDelta&&f.setZoom(f.zoom+u.zoomDelta);const D=f.zoom-M;if(D===0)return;const z=a.bJ(f.center.lng,S.lng),F=z/(Math.abs(z/180)+1),G=a.bJ(f.center.lat,S.lat),q=f.getRayDirectionFromPixel(_),te=f.cameraPosition,ee=-1*a.b4(te,q),ae=a.by();a.a$(ae,te,[q[0]*ee,q[1]*ee,q[2]*ee]);const fe=a.b6(ae)-1,we=Math.exp(.5*-Math.max(fe-.3,0)),Se=xp(f.worldSize,f.center.lat)/Math.min(f.width,f.height),Pe=a.bw(Se,.9,.5,1,.25),Ae=(1-a.aq(-D))*Math.min(we,Pe),ke=f.center.lat,Ie=f.zoom,$e=new a.V(f.center.lng+F*Ae,a.an(f.center.lat+G*Ae,-a.ao,a.ao));f.setLocationAtPoint(S,_);const Ge=f.center,Le=a.bw(Math.abs(z),45,85,0,1),Ze=a.bw(Se,.75,.35,0,1),lt=Math.pow(Math.max(Le,Ze),.25),rt=a.bJ(Ge.lng,$e.lng),nt=a.bJ(Ge.lat,$e.lat);f.setCenter(new a.V(Ge.lng+rt*lt,Ge.lat+nt*lt).wrap()),f.setZoom(Ie+Si(ke,f.center.lat))}handleMapControlsPan(u,f,_){if(!u.panDelta)return;const S=f.center.lat,M=f.zoom;f.setCenter(Ha(u.panDelta,f).wrap()),f.setZoom(M+Si(S,f.center.lat))}cameraForBoxAndBearing(u,f,_,S,M){const D=nd(u,f,_,S,M),z=f.left/M.width*2-1,F=(M.width-f.right)/M.width*2-1,G=f.top/M.height*-2+1,q=(M.height-f.bottom)/M.height*-2+1,te=a.bJ(_.getWest(),_.getEast())<0,ee=te?_.getEast():_.getWest(),ae=te?_.getWest():_.getEast(),fe=Math.max(_.getNorth(),_.getSouth()),we=Math.min(_.getNorth(),_.getSouth()),Se=ee+.5*a.bJ(ee,ae),Pe=fe+.5*a.bJ(fe,we),Ae=M.clone();Ae.setCenter(D.center),Ae.setBearing(D.bearing),Ae.setPitch(0),Ae.setRoll(0),Ae.setZoom(D.zoom);const ke=Ae.modelViewProjectionMatrix,Ie=[Qi(_.getNorthWest()),Qi(_.getNorthEast()),Qi(_.getSouthWest()),Qi(_.getSouthEast()),Qi(new a.V(ae,Pe)),Qi(new a.V(ee,Pe)),Qi(new a.V(Se,fe)),Qi(new a.V(Se,we))],$e=Qi(D.center);let Ge=Number.POSITIVE_INFINITY;for(const Le of Ie)z<0&&(Ge=No.getLesserNonNegativeNonNull(Ge,No.solveVectorScale(Le,$e,ke,"x",z))),F>0&&(Ge=No.getLesserNonNegativeNonNull(Ge,No.solveVectorScale(Le,$e,ke,"x",F))),G>0&&(Ge=No.getLesserNonNegativeNonNull(Ge,No.solveVectorScale(Le,$e,ke,"y",G))),q<0&&(Ge=No.getLesserNonNegativeNonNull(Ge,No.solveVectorScale(Le,$e,ke,"y",q)));if(Number.isFinite(Ge)&&Ge!==0)return D.zoom=Ae.zoom+a.at(Ge),D;Bc()}handleJumpToCenterZoom(u,f){const _=u.center.lat,S=u.applyConstrain(f.center?a.V.convert(f.center):u.center,u.zoom).center;u.setCenter(S.wrap());const M=f.zoom!==void 0?+f.zoom:u.zoom+Si(_,S.lat);u.zoom!==M&&u.setZoom(M)}handleEaseTo(u,f){const _=u.zoom,S=u.center,M=u.padding,D={roll:u.roll,pitch:u.pitch,bearing:u.bearing},z={roll:f.roll===void 0?u.roll:f.roll,pitch:f.pitch===void 0?u.pitch:f.pitch,bearing:f.bearing===void 0?u.bearing:f.bearing},F=f.zoom!==void 0,G=!u.isPaddingEqual(f.padding);let q=!1;const te=f.center?a.V.convert(f.center):S,ee=u.applyConstrain(te,_).center;yp(u,ee);const ae=u.clone();ae.setCenter(ee),ae.setZoom(F?+f.zoom:_+Si(S.lat,te.lat)),ae.setBearing(f.bearing);const fe=new a.P(a.an(u.centerPoint.x+f.offsetAsPoint.x,0,u.width),a.an(u.centerPoint.y+f.offsetAsPoint.y,0,u.height));ae.setLocationAtPoint(ee,fe);const we=(f.offset&&f.offsetAsPoint.mag())>0?ae.center:ee,Se=F?+f.zoom:_+Si(S.lat,we.lat),Pe=_+Si(S.lat,0),Ae=Se+Si(we.lat,0),ke=a.bJ(S.lng,we.lng),Ie=a.bJ(S.lat,we.lat),$e=a.aq(Ae-Pe);return q=Se!==_,{easeFunc:Ge=>{if(a.bn(D,z)||$l({startEulerAngles:D,endEulerAngles:z,tr:u,k:Ge,useSlerp:D.roll!=z.roll}),G&&u.interpolatePadding(M,f.padding,Ge),f.around)a.w("Easing around a point is not supported under globe projection."),u.setLocationAtPoint(f.around,f.aroundPoint);else{const Le=Ae>Pe?Math.min(2,$e):Math.max(.5,$e),Ze=Math.pow(Le,1-Ge),lt=Tv(S,ke,Ie,Ge*Ze);u.setCenter(lt.wrap())}if(q){const Le=a.G.number(Pe,Ae,Ge)+Si(0,u.center.lat);u.setZoom(Le)}},isZooming:q,elevationCenter:we}}handleFlyTo(u,f){const _=f.zoom!==void 0,S=u.center,M=u.zoom,D=u.padding,z=!u.isPaddingEqual(f.padding),F=u.applyConstrain(a.V.convert(f.center||f.locationAtOffset),M).center,G=_?+f.zoom:u.zoom+Si(u.center.lat,F.lat),q=u.clone();q.setCenter(F),q.setZoom(G),q.setBearing(f.bearing);const te=new a.P(a.an(u.centerPoint.x+f.offsetAsPoint.x,0,u.width),a.an(u.centerPoint.y+f.offsetAsPoint.y,0,u.height));q.setLocationAtPoint(F,te);const ee=q.center;yp(u,ee);const ae=(function(Ie,$e,Ge){const Le=Qi($e),Ze=Qi(Ge),lt=a.b4(Le,Ze),rt=Math.acos(lt),nt=Hb(Ie);return rt/(2*Math.PI)*nt})(u,S,ee),fe=M+Si(S.lat,0),we=G+Si(ee.lat,0),Se=a.aq(we-fe);let Pe;if(typeof f.minZoom=="number"){const Ie=+f.minZoom+Si(ee.lat,0),$e=Math.min(Ie,fe,we)+Si(0,ee.lat),Ge=u.applyConstrain(ee,$e).zoom+Si(ee.lat,0);Pe=a.aq(Ge-fe)}const Ae=a.bJ(S.lng,ee.lng),ke=a.bJ(S.lat,ee.lat);return{easeFunc:(Ie,$e,Ge,Le)=>{const Ze=Tv(S,Ae,ke,Ge);z&&u.interpolatePadding(D,f.padding,Ie);const lt=Ie===1?ee:Ze;u.setCenter(lt.wrap());const rt=fe+a.at($e);u.setZoom(Ie===1?G:rt+Si(0,lt.lat))},scaleOfZoom:Se,targetCenter:ee,scaleOfMinZoom:Pe,pixelPathLength:ae}}static solveVectorScale(u,f,_,S,M){const D=S==="x"?[_[0],_[4],_[8],_[12]]:[_[1],_[5],_[9],_[13]],z=[_[3],_[7],_[11],_[15]],F=u[0]*D[0]+u[1]*D[1]+u[2]*D[2],G=u[0]*z[0]+u[1]*z[1]+u[2]*z[2],q=f[0]*D[0]+f[1]*D[1]+f[2]*D[2],te=f[0]*z[0]+f[1]*z[1]+f[2]*z[2];return q+M*G===F+M*te||z[3]*(F-q)+D[3]*(te-G)+F*te==q*G?null:(q+D[3]-M*te-M*z[3])/(q-F-M*te+M*G)}static getLesserNonNegativeNonNull(u,f){return f!==null&&f>=0&&f<u?f:u}}class Cp{constructor(u){this._globe=u,this._mercatorCameraHelper=new Fo,this._verticalPerspectiveCameraHelper=new No}get useGlobeControls(){return this._globe.useGlobeRendering}get currentHelper(){return this.useGlobeControls?this._verticalPerspectiveCameraHelper:this._mercatorCameraHelper}handlePanInertia(u,f){return this.currentHelper.handlePanInertia(u,f)}handleMapControlsRollPitchBearingZoom(u,f){return this.currentHelper.handleMapControlsRollPitchBearingZoom(u,f)}handleMapControlsPan(u,f,_){this.currentHelper.handleMapControlsPan(u,f,_)}cameraForBoxAndBearing(u,f,_,S,M){return this.currentHelper.cameraForBoxAndBearing(u,f,_,S,M)}handleJumpToCenterZoom(u,f){this.currentHelper.handleJumpToCenterZoom(u,f)}handleEaseTo(u,f){return this.currentHelper.handleEaseTo(u,f)}handleFlyTo(u,f){return this.currentHelper.handleFlyTo(u,f)}}const Pu=(P,u)=>a.B(P,u&&u.filter((f=>f.identifier!=="source.canvas"))),Pv=a.bN();class sd extends a.E{constructor(u,f={}){var _,S;super(),this._rtlPluginLoaded=()=>{for(const D in this.tileManagers){const z=this.tileManagers[D].getSource().type;z!=="vector"&&z!=="geojson"||this.tileManagers[D].reload()}},this.map=u,this.dispatcher=new He(je(),u._getMapId()),this.dispatcher.registerMessageHandler("GG",((D,z)=>this.getGlyphs(D,z))),this.dispatcher.registerMessageHandler("GI",((D,z)=>this.getImages(D,z))),this.dispatcher.registerMessageHandler("GDA",((D,z)=>this.getDashes(D,z))),this.imageManager=new he,this.imageManager.setEventedParent(this);const M=((_=u._container)===null||_===void 0?void 0:_.lang)||typeof document<"u"&&((S=document.documentElement)===null||S===void 0?void 0:S.lang)||void 0;this.glyphManager=new Oe(u._requestManager,f.localIdeographFontFamily,M),this.lineAtlas=new Lt(256,512),this.crossTileSymbolIndex=new Tu,this._setInitialValues(),this._resetUpdates(),this.dispatcher.broadcast("SR",a.bO()),rn().on(Wr,this._rtlPluginLoaded),this.on("data",(D=>{if(D.dataType!=="source"||D.sourceDataType!=="metadata")return;const z=this.tileManagers[D.sourceId];if(!z)return;const F=z.getSource();if(F&&F.vectorLayerIds)for(const G in this._layers){const q=this._layers[G];q.source===F.id&&this._validateLayer(q)}}))}_setInitialValues(){var u;this._spritesImagesIds={},this._layers={},this._order=[],this.tileManagers={},this.zoomHistory=new a.bP,this._availableImages=[],this._globalState={},this._serializedLayers={},this.stylesheet=null,this.light=null,this.sky=null,this.projection&&(this.projection.destroy(),delete this.projection),this._loaded=!1,this._changed=!1,this._updatedLayers={},this._updatedSources={},this._changedImages={},this._glyphsDidChange=!1,this._updatedPaintProps={},this._layerOrderChanged=!1,this.crossTileSymbolIndex=new(((u=this.crossTileSymbolIndex)===null||u===void 0?void 0:u.constructor)||Object),this.pauseablePlacement=void 0,this.placement=void 0,this.z=0}setGlobalStateProperty(u,f){var _,S,M;this._checkLoaded();const D=f===null?(M=(S=(_=this.stylesheet.state)===null||_===void 0?void 0:_[u])===null||S===void 0?void 0:S.default)!==null&&M!==void 0?M:null:f;if(a.bQ(D,this._globalState[u]))return this;this._globalState[u]=D,this._applyGlobalStateChanges([u])}getGlobalState(){return this._globalState}setGlobalState(u){this._checkLoaded();const f=[];for(const _ in u)!a.bQ(this._globalState[_],u[_].default)&&(f.push(_),this._globalState[_]=u[_].default);this._applyGlobalStateChanges(f)}_applyGlobalStateChanges(u){if(u.length===0)return;const f=new Set,_={};for(const S of u){_[S]=this._globalState[S];for(const M in this._layers){const D=this._layers[M],z=D.getLayoutAffectingGlobalStateRefs(),F=D.getPaintAffectingGlobalStateRefs();if(z.has(S)&&f.add(D.source),F.has(S))for(const{name:G,value:q}of F.get(S))this._updatePaintProperty(D,G,q)}}this.dispatcher.broadcast("UGS",_);for(const S in this.tileManagers)f.has(S)&&(this._reloadSource(S),this._changed=!0)}loadURL(u,f={},_){this.fire(new a.l("dataloading",{dataType:"style"})),f.validate=typeof f.validate!="boolean"||f.validate;const S=this.map._requestManager.transformRequest(u,"Style");this._loadStyleRequest=new AbortController;const M=this._loadStyleRequest;a.j(S,this._loadStyleRequest).then((D=>{this._loadStyleRequest=null,this._load(D.data,f,_)})).catch((D=>{this._loadStyleRequest=null,D&&!M.signal.aborted&&this.fire(new a.k(D))}))}loadJSON(u,f={},_){this.fire(new a.l("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,x.frameAsync(this._frameRequest).then((()=>{this._frameRequest=null,f.validate=f.validate!==!1,this._load(u,f,_)})).catch((()=>{}))}loadEmpty(){this.fire(new a.l("dataloading",{dataType:"style"})),this._load(Pv,{validate:!1})}_load(u,f,_){var S,M;let D=f.transformStyle?f.transformStyle(_,u):u;if(!f.validate||!Pu(this,a.C(D))){D=Object.assign({},D),this._loaded=!0,this.stylesheet=D;for(const z in D.sources)this.addSource(z,D.sources[z],{validate:!1});D.sprite?this._loadSprite(D.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(D.glyphs),this._createLayers(),this.light=new ct(this.stylesheet.light),this._setProjectionInternal(((S=this.stylesheet.projection)===null||S===void 0?void 0:S.type)||"mercator"),this.sky=new gt(this.stylesheet.sky),this.map.setTerrain((M=this.stylesheet.terrain)!==null&&M!==void 0?M:null),this.fire(new a.l("data",{dataType:"style"})),this.fire(new a.l("style.load"))}}_createLayers(){var u,f,_;const S=a.bR(this.stylesheet.layers);this.setGlobalState((u=this.stylesheet.state)!==null&&u!==void 0?u:null),this.dispatcher.broadcast("SL",S),this._order=S.map((M=>M.id)),this._layers={},this._serializedLayers=null;for(const M of S){const D=a.bS(M,this._globalState);if(D.setEventedParent(this,{layer:{id:M.id}}),this._layers[M.id]=D,a.bT(D)&&this.tileManagers[D.source]){const z=(_=(f=M.paint)===null||f===void 0?void 0:f["raster-fade-duration"])!==null&&_!==void 0?_:D.paint.get("raster-fade-duration");this.tileManagers[D.source].setRasterFadeDuration(z)}}}_loadSprite(u,f=!1,_=void 0){let S;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,(function(M,D,z,F){return a._(this,void 0,void 0,(function*(){const G=K(M),q=z>1?"@2x":"",te={},ee={};for(const{id:ae,url:fe}of G){const we=D.transformRequest(Q(fe,q,".json"),"SpriteJSON");te[ae]=a.j(we,F);const Se=D.transformRequest(Q(fe,q,".png"),"SpriteImage");ee[ae]=j.getImage(Se,F)}return yield Promise.all([...Object.values(te),...Object.values(ee)]),(function(ae,fe){return a._(this,void 0,void 0,(function*(){const we={};for(const Se in ae){we[Se]={};const Pe=x.getImageCanvasContext((yield fe[Se]).data),Ae=(yield ae[Se]).data;for(const ke in Ae){const{width:Ie,height:$e,x:Ge,y:Le,sdf:Ze,pixelRatio:lt,stretchX:rt,stretchY:nt,content:st,textFitWidth:kt,textFitHeight:At}=Ae[ke];we[Se][ke]={data:null,pixelRatio:lt,sdf:Ze,stretchX:rt,stretchY:nt,content:st,textFitWidth:kt,textFitHeight:At,spriteData:{width:Ie,height:$e,x:Ge,y:Le,context:Pe}}}}return we}))})(te,ee)}))})(u,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then((M=>{if(this._spriteRequest=null,M)for(const D in M){this._spritesImagesIds[D]=[];const z=this._spritesImagesIds[D]?this._spritesImagesIds[D].filter((F=>!(F in M))):[];for(const F of z)this.imageManager.removeImage(F),this._changedImages[F]=!0;for(const F in M[D]){const G=D==="default"?F:`${D}:${F}`;this._spritesImagesIds[D].push(G),G in this.imageManager.images?this.imageManager.updateImage(G,M[D][F],!1):this.imageManager.addImage(G,M[D][F]),f&&(this._changedImages[G]=!0)}}})).catch((M=>{this._spriteRequest=null,S=M,this.fire(new a.k(S))})).finally((()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),f&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.l("data",{dataType:"style"})),_&&_(S)}))}_unloadSprite(){for(const u of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(u),this._changedImages[u]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.l("data",{dataType:"style"}))}_validateLayer(u){const f=this.tileManagers[u.source];if(!f)return;const _=u.sourceLayer;if(!_)return;const S=f.getSource();(S.type==="geojson"||S.vectorLayerIds&&S.vectorLayerIds.indexOf(_)===-1)&&this.fire(new a.k(new Error(`Source layer "${_}" does not exist on source "${S.id}" as specified by style layer "${u.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const u in this.tileManagers)if(!this.tileManagers[u].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(u,f=!1){const _=this._serializedAllLayers();if(!u||u.length===0)return Object.values(f?a.bU(_):_);const S=[];for(const M of u)if(_[M]){const D=f?a.bU(_[M]):_[M];S.push(D)}return S}_serializedAllLayers(){let u=this._serializedLayers;if(u)return u;u=this._serializedLayers={};const f=Object.keys(this._layers);for(const _ of f){const S=this._layers[_];S.type!=="custom"&&(u[_]=S.serialize())}return u}hasTransitions(){var u,f,_;if(!((u=this.light)===null||u===void 0)&&u.hasTransition()||!((f=this.sky)===null||f===void 0)&&f.hasTransition()||!((_=this.projection)===null||_===void 0)&&_.hasTransition())return!0;for(const S in this.tileManagers)if(this.tileManagers[S].hasTransition())return!0;for(const S in this._layers)if(this._layers[S].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(u){if(!this._loaded)return;const f=this._changed;if(f){const S=Object.keys(this._updatedLayers),M=Object.keys(this._removedLayers);(S.length||M.length)&&this._updateWorkerLayers(S,M);for(const D in this._updatedSources){const z=this._updatedSources[D];if(z==="reload")this._reloadSource(D);else{if(z!=="clear")throw new Error(`Invalid action ${z}`);this._clearSource(D)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const D in this._updatedPaintProps)this._layers[D].updateTransitions(u);this.light.updateTransitions(u),this.sky.updateTransitions(u),this._resetUpdates()}const _={};for(const S in this.tileManagers){const M=this.tileManagers[S];_[S]=M.used,M.used=!1}for(const S of this._order){const M=this._layers[S];M.recalculate(u,this._availableImages),!M.isHidden(u.zoom)&&M.source&&(this.tileManagers[M.source].used=!0)}for(const S in _){const M=this.tileManagers[S];!!_[S]!=!!M.used&&M.fire(new a.l("data",{sourceDataType:"visibility",dataType:"source",sourceId:S}))}this.light.recalculate(u),this.sky.recalculate(u),this.projection.recalculate(u),this.z=u.zoom,f&&this.fire(new a.l("data",{dataType:"style"}))}_updateTilesForChangedImages(){const u=Object.keys(this._changedImages);if(u.length){for(const f in this.tileManagers)this.tileManagers[f].reloadTilesForDependencies(["icons","patterns"],u);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const u in this.tileManagers)this.tileManagers[u].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(u,f){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(u,!1),removedIds:f})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(u,f={}){var _;this._checkLoaded();const S=this.serialize();if(u=f.transformStyle?f.transformStyle(S,u):u,((_=f.validate)===null||_===void 0||_)&&Pu(this,a.C(u)))return!1;(u=a.bU(u)).layers=a.bR(u.layers);const M=a.bV(S,u),D=this._getOperationsToPerform(M);if(D.unimplemented.length>0)throw new Error(`Unimplemented: ${D.unimplemented.join(", ")}.`);if(D.operations.length===0)return!1;for(const z of D.operations)z();return this.stylesheet=u,this._serializedLayers=null,!0}_getOperationsToPerform(u){const f=[],_=[];for(const S of u)switch(S.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":case"setRoll":continue;case"addLayer":f.push((()=>this.addLayer.apply(this,S.args)));break;case"removeLayer":f.push((()=>this.removeLayer.apply(this,S.args)));break;case"setPaintProperty":f.push((()=>this.setPaintProperty.apply(this,S.args)));break;case"setLayoutProperty":f.push((()=>this.setLayoutProperty.apply(this,S.args)));break;case"setFilter":f.push((()=>this.setFilter.apply(this,S.args)));break;case"addSource":f.push((()=>this.addSource.apply(this,S.args)));break;case"removeSource":f.push((()=>this.removeSource.apply(this,S.args)));break;case"setLayerZoomRange":f.push((()=>this.setLayerZoomRange.apply(this,S.args)));break;case"setLight":f.push((()=>this.setLight.apply(this,S.args)));break;case"setGeoJSONSourceData":f.push((()=>this.setGeoJSONSourceData.apply(this,S.args)));break;case"setGlyphs":f.push((()=>this.setGlyphs.apply(this,S.args)));break;case"setSprite":f.push((()=>this.setSprite.apply(this,S.args)));break;case"setTerrain":f.push((()=>this.map.setTerrain.apply(this,S.args)));break;case"setSky":f.push((()=>this.setSky.apply(this,S.args)));break;case"setProjection":this.setProjection.apply(this,S.args);break;case"setGlobalState":f.push((()=>this.setGlobalState.apply(this,S.args)));break;case"setTransition":f.push((()=>{}));break;default:_.push(S.command)}return{operations:f,unimplemented:_}}addImage(u,f){if(this.getImage(u))return this.fire(new a.k(new Error(`An image named "${u}" already exists.`)));this.imageManager.addImage(u,f),this._afterImageUpdated(u)}updateImage(u,f){this.imageManager.updateImage(u,f)}getImage(u){return this.imageManager.getImage(u)}removeImage(u){if(!this.getImage(u))return this.fire(new a.k(new Error(`An image named "${u}" does not exist.`)));this.imageManager.removeImage(u),this._afterImageUpdated(u)}_afterImageUpdated(u){this._availableImages=this.imageManager.listImages(),this._changedImages[u]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.l("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(u,f,_={}){if(this._checkLoaded(),this.tileManagers[u]!==void 0)throw new Error(`Source "${u}" already exists.`);if(!f.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(f).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(f.type)>=0&&this._validate(a.C.source,`sources.${u}`,f,null,_))return;this.map&&this.map._collectResourceTiming&&(f.collectResourceTiming=!0);const S=this.tileManagers[u]=new zr(u,f,this.dispatcher);S.style=this,S.setEventedParent(this,(()=>({isSourceLoaded:S.loaded(),source:S.serialize(),sourceId:u}))),S.onAdd(this.map),this._changed=!0}removeSource(u){if(this._checkLoaded(),this.tileManagers[u]===void 0)throw new Error("There is no source with this ID");for(const _ in this._layers)if(this._layers[_].source===u)return this.fire(new a.k(new Error(`Source "${u}" cannot be removed while layer "${_}" is using it.`)));const f=this.tileManagers[u];delete this.tileManagers[u],delete this._updatedSources[u],f.fire(new a.l("data",{sourceDataType:"metadata",dataType:"source",sourceId:u})),f.setEventedParent(null),f.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(u,f){if(this._checkLoaded(),this.tileManagers[u]===void 0)throw new Error(`There is no source with this ID=${u}`);const _=this.tileManagers[u].getSource();if(_.type!=="geojson")throw new Error(`geojsonSource.type is ${_.type}, which is !== 'geojson`);_.setData(f),this._changed=!0}getSource(u){return this.tileManagers[u]&&this.tileManagers[u].getSource()}addLayer(u,f,_={}){this._checkLoaded();const S=u.id;if(this.getLayer(S))return void this.fire(new a.k(new Error(`Layer "${S}" already exists on this map.`)));let M;if(u.type==="custom"){if(Pu(this,a.bW(u)))return;M=a.bS(u,this._globalState)}else{if("source"in u&&typeof u.source=="object"&&(this.addSource(S,u.source),u=a.bU(u),u=a.e(u,{source:S})),this._validate(a.C.layer,`layers.${S}`,u,{arrayIndex:-1},_))return;M=a.bS(u,this._globalState),this._validateLayer(M),M.setEventedParent(this,{layer:{id:S}})}const D=f?this._order.indexOf(f):this._order.length;if(f&&D===-1)this.fire(new a.k(new Error(`Cannot add layer "${S}" before non-existing layer "${f}".`)));else{if(this._order.splice(D,0,S),this._layerOrderChanged=!0,this._layers[S]=M,this._removedLayers[S]&&M.source&&M.type!=="custom"){const z=this._removedLayers[S];delete this._removedLayers[S],z.type!==M.type?this._updatedSources[M.source]="clear":(this._updatedSources[M.source]="reload",this.tileManagers[M.source].pause())}this._updateLayer(M),M.onAdd&&M.onAdd(this.map)}}moveLayer(u,f){if(this._checkLoaded(),this._changed=!0,!this._layers[u])return void this.fire(new a.k(new Error(`The layer '${u}' does not exist in the map's style and cannot be moved.`)));if(u===f)return;const _=this._order.indexOf(u);this._order.splice(_,1);const S=f?this._order.indexOf(f):this._order.length;f&&S===-1?this.fire(new a.k(new Error(`Cannot move layer "${u}" before non-existing layer "${f}".`))):(this._order.splice(S,0,u),this._layerOrderChanged=!0)}removeLayer(u){this._checkLoaded();const f=this._layers[u];if(!f)return void this.fire(new a.k(new Error(`Cannot remove non-existing layer "${u}".`)));f.setEventedParent(null);const _=this._order.indexOf(u);this._order.splice(_,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[u]=f,delete this._layers[u],this._serializedLayers&&delete this._serializedLayers[u],delete this._updatedLayers[u],delete this._updatedPaintProps[u],f.onRemove&&f.onRemove(this.map)}getLayer(u){return this._layers[u]}getLayersOrder(){return[...this._order]}hasLayer(u){return u in this._layers}setLayerZoomRange(u,f,_){this._checkLoaded();const S=this.getLayer(u);S?S.minzoom===f&&S.maxzoom===_||(f!=null&&(S.minzoom=f),_!=null&&(S.maxzoom=_),this._updateLayer(S)):this.fire(new a.k(new Error(`Cannot set the zoom range of non-existing layer "${u}".`)))}setFilter(u,f,_={}){this._checkLoaded();const S=this.getLayer(u);if(S){if(!a.bQ(S.filter,f))return f==null?(S.setFilter(void 0),void this._updateLayer(S)):void(this._validate(a.C.filter,`layers.${S.id}.filter`,f,null,_)||(S.setFilter(a.bU(f)),this._updateLayer(S)))}else this.fire(new a.k(new Error(`Cannot filter non-existing layer "${u}".`)))}getFilter(u){return a.bU(this.getLayer(u).filter)}setLayoutProperty(u,f,_,S={}){this._checkLoaded();const M=this.getLayer(u);M?a.bQ(M.getLayoutProperty(f),_)||(M.setLayoutProperty(f,_,S),this._updateLayer(M)):this.fire(new a.k(new Error(`Cannot style non-existing layer "${u}".`)))}getLayoutProperty(u,f){const _=this.getLayer(u);if(_)return _.getLayoutProperty(f);this.fire(new a.k(new Error(`Cannot get style of non-existing layer "${u}".`)))}setPaintProperty(u,f,_,S={}){this._checkLoaded();const M=this.getLayer(u);M?a.bQ(M.getPaintProperty(f),_)||this._updatePaintProperty(M,f,_,S):this.fire(new a.k(new Error(`Cannot style non-existing layer "${u}".`)))}_updatePaintProperty(u,f,_,S={}){u.setPaintProperty(f,_,S)&&this._updateLayer(u),a.bT(u)&&f==="raster-fade-duration"&&this.tileManagers[u.source].setRasterFadeDuration(_),this._changed=!0,this._updatedPaintProps[u.id]=!0,this._serializedLayers=null}getPaintProperty(u,f){return this.getLayer(u).getPaintProperty(f)}setFeatureState(u,f){this._checkLoaded();const _=u.source,S=u.sourceLayer,M=this.tileManagers[_];if(M===void 0)return void this.fire(new a.k(new Error(`The source '${_}' does not exist in the map's style.`)));const D=M.getSource().type;D==="geojson"&&S?this.fire(new a.k(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):D!=="vector"||S?(u.id===void 0&&this.fire(new a.k(new Error("The feature id parameter must be provided."))),M.setFeatureState(S,u.id,f)):this.fire(new a.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(u,f){this._checkLoaded();const _=u.source,S=this.tileManagers[_];if(S===void 0)return void this.fire(new a.k(new Error(`The source '${_}' does not exist in the map's style.`)));const M=S.getSource().type,D=M==="vector"?u.sourceLayer:void 0;M!=="vector"||D?f&&typeof u.id!="string"&&typeof u.id!="number"?this.fire(new a.k(new Error("A feature id is required to remove its specific state property."))):S.removeFeatureState(D,u.id,f):this.fire(new a.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(u){this._checkLoaded();const f=u.source,_=u.sourceLayer,S=this.tileManagers[f];if(S!==void 0)return S.getSource().type!=="vector"||_?(u.id===void 0&&this.fire(new a.k(new Error("The feature id parameter must be provided."))),S.getFeatureState(_,u.id)):void this.fire(new a.k(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new a.k(new Error(`The source '${f}' does not exist in the map's style.`)))}getTransition(){return a.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const u=a.bX(this.tileManagers,(M=>M.serialize())),f=this._serializeByIds(this._order,!0),_=this.map.getTerrain()||void 0,S=this.stylesheet;return a.bY({version:S.version,name:S.name,metadata:S.metadata,light:S.light,sky:S.sky,center:S.center,zoom:S.zoom,bearing:S.bearing,pitch:S.pitch,sprite:S.sprite,glyphs:S.glyphs,transition:S.transition,projection:S.projection,sources:u,layers:f,terrain:_},(M=>M!==void 0))}_updateLayer(u){this._updatedLayers[u.id]=!0,u.source&&!this._updatedSources[u.source]&&this.tileManagers[u.source].getSource().type!=="raster"&&(this._updatedSources[u.source]="reload",this.tileManagers[u.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(u){const f=D=>this._layers[D].type==="fill-extrusion",_={},S=[];for(let D=this._order.length-1;D>=0;D--){const z=this._order[D];if(f(z)){_[z]=D;for(const F of u){const G=F[z];if(G)for(const q of G)S.push(q)}}}S.sort(((D,z)=>z.intersectionZ-D.intersectionZ));const M=[];for(let D=this._order.length-1;D>=0;D--){const z=this._order[D];if(f(z))for(let F=S.length-1;F>=0;F--){const G=S[F].feature;if(_[G.layer.id]<D)break;M.push(G),S.pop()}else for(const F of u){const G=F[z];if(G)for(const q of G)M.push(q.feature)}}return M}queryRenderedFeatures(u,f,_){f&&f.filter&&this._validate(a.C.filter,"queryRenderedFeatures.filter",f.filter,null,f);const S={};if(f&&f.layers){if(!(Array.isArray(f.layers)||f.layers instanceof Set))return this.fire(new a.k(new Error("parameters.layers must be an Array or a Set of strings"))),[];for(const G of f.layers){const q=this._layers[G];if(!q)return this.fire(new a.k(new Error(`The layer '${G}' does not exist in the map's style and cannot be queried for features.`))),[];S[q.source]=!0}}const M=[];f.availableImages=this._availableImages;const D=this._serializedAllLayers(),z=f.layers instanceof Set?f.layers:Array.isArray(f.layers)?new Set(f.layers):null,F=Object.assign(Object.assign({},f),{layers:z,globalState:this._globalState});for(const G in this.tileManagers)f.layers&&!S[G]||M.push(me(this.tileManagers[G],this._layers,D,u,F,_,this.map.terrain?(q,te,ee)=>this.map.terrain.getElevation(q,te,ee):void 0));return this.placement&&M.push((function(G,q,te,ee,ae,fe,we){const Se={},Pe=fe.queryRenderedSymbols(ee),Ae=[];for(const ke of Object.keys(Pe).map(Number))Ae.push(we[ke]);Ae.sort(_e);for(const ke of Ae){const Ie=ke.featureIndex.lookupSymbolFeatures(Pe[ke.bucketInstanceId],q,ke.bucketIndex,ke.sourceLayerIndex,{filterSpec:ae.filter,globalState:ae.globalState},ae.layers,ae.availableImages,G);for(const $e in Ie){const Ge=Se[$e]=Se[$e]||[],Le=Ie[$e];Le.sort(((Ze,lt)=>{const rt=ke.featureSortOrder;if(rt){const nt=rt.indexOf(Ze.featureIndex);return rt.indexOf(lt.featureIndex)-nt}return lt.featureIndex-Ze.featureIndex}));for(const Ze of Le)Ge.push(Ze)}}return(function(ke,Ie,$e){for(const Ge in ke)for(const Le of ke[Ge])qe(Le,$e[Ie[Ge].source]);return ke})(Se,G,te)})(this._layers,D,this.tileManagers,u,F,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(M)}querySourceFeatures(u,f){f?.filter&&this._validate(a.C.filter,"querySourceFeatures.filter",f.filter,null,f);const _=this.tileManagers[u];return _?(function(S,M){const D=S.getRenderableIds().map((G=>S.getTileByID(G))),z=[],F={};for(let G=0;G<D.length;G++){const q=D[G],te=q.tileID.canonical.key;F[te]||(F[te]=!0,q.querySourceFeatures(z,M))}return z})(_,f?Object.assign(Object.assign({},f),{globalState:this._globalState}):{globalState:this._globalState}):[]}getLight(){return this.light.getLight()}setLight(u,f={}){this._checkLoaded();const _=this.light.getLight();let S=!1;for(const D in u)if(!a.bQ(u[D],_[D])){S=!0;break}if(!S)return;const M={now:I(),transition:a.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(u,f),this.light.updateTransitions(M)}getProjection(){var u;return(u=this.stylesheet)===null||u===void 0?void 0:u.projection}setProjection(u){if(this._checkLoaded(),this.projection){if(this.projection.name===u.type)return;this.projection.destroy(),delete this.projection}this.stylesheet.projection=u,this._setProjectionInternal(u.type)}getSky(){var u;return(u=this.stylesheet)===null||u===void 0?void 0:u.sky}setSky(u,f={}){this._checkLoaded();const _=this.getSky();let S=!1;if(!u&&!_)return;if(u&&!_)S=!0;else if(!u&&_)S=!0;else for(const D in u)if(!a.bQ(u[D],_[D])){S=!0;break}if(!S)return;const M={now:I(),transition:a.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=u,this.sky.setSky(u,f),this.sky.updateTransitions(M)}_setProjectionInternal(u){const f=(function(_,S){const M={constrainOverride:S};if(Array.isArray(_)){const D=new Vc({type:_});return{projection:D,transform:new Tp(M),cameraHelper:new Cp(D)}}switch(_){case"mercator":return{projection:new Ni,transform:new On(M),cameraHelper:new Fo};case"globe":{const D=new Vc({type:["interpolate",["linear"],["zoom"],11,"vertical-perspective",12,"mercator"]});return{projection:D,transform:new Tp(M),cameraHelper:new Cp(D)}}case"vertical-perspective":return{projection:new ad,transform:new Sp(M),cameraHelper:new No};default:return a.w(`Unknown projection name: ${_}. Falling back to mercator projection.`),{projection:new Ni,transform:new On(M),cameraHelper:new Fo}}})(u,this.map.transformConstrain);this.projection=f.projection,this.map.migrateProjection(f.transform,f.cameraHelper);for(const _ in this.tileManagers)this.tileManagers[_].reload()}_validate(u,f,_,S,M={}){return(!M||M.validate!==!1)&&Pu(this,u.call(a.C,a.e({key:f,style:this.serialize(),value:_,styleSpec:a.u},S)))}_remove(u=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),rn().off(Wr,this._rtlPluginLoaded);for(const f in this._layers)this._layers[f].setEventedParent(null);for(const f in this.tileManagers){const _=this.tileManagers[f];_.setEventedParent(null),_.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),u&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(u)}_clearSource(u){this.tileManagers[u].clearTiles()}_reloadSource(u){this.tileManagers[u].resume(),this.tileManagers[u].reload()}_updateSources(u){for(const f in this.tileManagers)this.tileManagers[f].update(u,this.map.terrain)}_generateCollisionBoxes(){for(const u in this.tileManagers)this._reloadSource(u)}_updatePlacement(u,f,_,S,M=!1){let D=!1,z=!1;const F={};for(const G of this._order){const q=this._layers[G];if(q.type!=="symbol")continue;if(!F[q.source]){const ee=this.tileManagers[q.source];F[q.source]=ee.getRenderableIds(!0).map((ae=>ee.getTileByID(ae))).sort(((ae,fe)=>fe.tileID.overscaledZ-ae.tileID.overscaledZ||(ae.tileID.isLessThan(fe.tileID)?-1:1)))}const te=this.crossTileSymbolIndex.addLayer(q,F[q.source],u.center.lng);D=D||te}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((M=M||this._layerOrderChanged||_===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(I(),u.zoom))&&(this.pauseablePlacement=new Nb(u,this.map.terrain,this._order,M,f,_,S,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,F),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(I()),z=!0),D&&this.pauseablePlacement.placement.setStale()),z||D)for(const G of this._order){const q=this._layers[G];q.type==="symbol"&&this.placement.updateLayerOpacities(q,F[q.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(I())}_releaseSymbolFadeTiles(){for(const u in this.tileManagers)this.tileManagers[u].releaseSymbolFadeTiles()}getImages(u,f){return a._(this,void 0,void 0,(function*(){const _=yield this.imageManager.getImages(f.icons);this._updateTilesForChangedImages();const S=this.tileManagers[f.source];return S&&S.setDependencies(f.tileID.key,f.type,f.icons),_}))}getGlyphs(u,f){return a._(this,void 0,void 0,(function*(){const _=yield this.glyphManager.getGlyphs(f.stacks),S=this.tileManagers[f.source];return S&&S.setDependencies(f.tileID.key,f.type,[""]),_}))}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(u,f={}){this._checkLoaded(),u&&this._validate(a.C.glyphs,"glyphs",u,null,f)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=u,this.glyphManager.entries={},this.glyphManager.setURL(u))}getDashes(u,f){return a._(this,void 0,void 0,(function*(){const _={};for(const[S,M]of Object.entries(f.dashes))_[S]=this.lineAtlas.getDash(M.dasharray,M.round);return _}))}addSprite(u,f,_={},S){this._checkLoaded();const M=[{id:u,url:f}],D=[...K(this.stylesheet.sprite),...M];this._validate(a.C.sprite,"sprite",D,null,_)||(this.stylesheet.sprite=D,this._loadSprite(M,!0,S))}removeSprite(u){this._checkLoaded();const f=K(this.stylesheet.sprite);if(f.find((_=>_.id===u))){if(this._spritesImagesIds[u])for(const _ of this._spritesImagesIds[u])this.imageManager.removeImage(_),this._changedImages[_]=!0;f.splice(f.findIndex((_=>_.id===u)),1),this.stylesheet.sprite=f.length>0?f:void 0,delete this._spritesImagesIds[u],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.l("data",{dataType:"style"}))}else this.fire(new a.k(new Error(`Sprite "${u}" doesn't exists on this map.`)))}getSprite(){return K(this.stylesheet.sprite)}setSprite(u,f={},_){this._checkLoaded(),u&&this._validate(a.C.sprite,"sprite",u,null,f)||(this.stylesheet.sprite=u,u?this._loadSprite(u,!0,_):(this._unloadSprite(),_&&_(null)))}destroy(){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null);for(const u in this.tileManagers){const f=this.tileManagers[u];if(f.setEventedParent(null),f._tiles){for(const _ in f._tiles)f._tiles[_].unloadVectorData();f._tiles={}}f._cache.reset(),f.onRemove(this.map)}this.tileManagers={},this.imageManager&&(this.imageManager.setEventedParent(null),this.imageManager.destroy(),this._availableImages=[],this._spritesImagesIds={}),this.glyphManager&&this.glyphManager.destroy();for(const u in this._layers){const f=this._layers[u];f.setEventedParent(null),f.onRemove&&f.onRemove(this.map)}this._setInitialValues(),this.setEventedParent(null),this.dispatcher.unregisterMessageHandler("GG"),this.dispatcher.unregisterMessageHandler("GI"),this.dispatcher.unregisterMessageHandler("GDA"),this.dispatcher.remove(!0),this._listeners={},this._oneTimeListeners={}}}var ys=a.aT([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class iC{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(u,f,_,S,M,D,z,F,G){this.context=u;let q=this.boundPaintVertexBuffers.length!==S.length;for(let te=0;!q&&te<S.length;te++)this.boundPaintVertexBuffers[te]!==S[te]&&(q=!0);!this.vao||this.boundProgram!==f||this.boundLayoutVertexBuffer!==_||q||this.boundIndexBuffer!==M||this.boundVertexOffset!==D||this.boundDynamicVertexBuffer!==z||this.boundDynamicVertexBuffer2!==F||this.boundDynamicVertexBuffer3!==G?this.freshBind(f,_,S,M,D,z,F,G):(u.bindVertexArray.set(this.vao),z&&z.bind(),M&&M.dynamicDraw&&M.bind(),F&&F.bind(),G&&G.bind())}freshBind(u,f,_,S,M,D,z,F){const G=u.numAttributes,q=this.context,te=q.gl;this.vao&&this.destroy(),this.vao=q.createVertexArray(),q.bindVertexArray.set(this.vao),this.boundProgram=u,this.boundLayoutVertexBuffer=f,this.boundPaintVertexBuffers=_,this.boundIndexBuffer=S,this.boundVertexOffset=M,this.boundDynamicVertexBuffer=D,this.boundDynamicVertexBuffer2=z,this.boundDynamicVertexBuffer3=F,f.enableAttributes(te,u);for(const ee of _)ee.enableAttributes(te,u);D&&D.enableAttributes(te,u),z&&z.enableAttributes(te,u),F&&F.enableAttributes(te,u),f.bind(),f.setVertexAttribPointers(te,u,M);for(const ee of _)ee.bind(),ee.setVertexAttribPointers(te,u,M);D&&(D.bind(),D.setVertexAttribPointers(te,u,M)),S&&S.bind(),z&&(z.bind(),z.setVertexAttribPointers(te,u,M)),F&&(F.bind(),F.setVertexAttribPointers(te,u,M)),q.currentNumAttributes=G}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}const Mv=(P,u,f,_,S)=>({u_texture:0,u_ele_delta:P,u_fog_matrix:u,u_fog_color:f?f.properties.get("fog-color"):a.bo.white,u_fog_ground_blend:f?f.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:S?0:f?f.calculateFogBlendOpacity(_):0,u_horizon_color:f?f.properties.get("horizon-color"):a.bo.white,u_horizon_fog_blend:f?f.properties.get("horizon-fog-blend"):1,u_is_globe_mode:S?1:0}),ld={mainMatrix:"u_projection_matrix",tileMercatorCoords:"u_projection_tile_mercator_coords",clippingPlane:"u_projection_clipping_plane",projectionTransition:"u_projection_transition",fallbackMatrix:"u_projection_fallback_matrix"};function zl(P){const u=[];for(let f=0;f<P.length;f++){if(P[f]===null)continue;const _=P[f].split(" ");u.push(_.pop())}return u}class oC{constructor(u,f,_,S,M,D,z,F,G=[]){const q=u.gl;this.program=q.createProgram();const te=zl(f.staticAttributes),ee=_?_.getBinderAttributes():[],ae=te.concat(ee),fe=ba.prelude.staticUniforms?zl(ba.prelude.staticUniforms):[],we=z.staticUniforms?zl(z.staticUniforms):[],Se=f.staticUniforms?zl(f.staticUniforms):[],Pe=_?_.getBinderUniforms():[],Ae=fe.concat(we).concat(Se).concat(Pe),ke=[];for(const rt of Ae)ke.indexOf(rt)<0&&ke.push(rt);const Ie=_?_.defines():[];ja(q)&&Ie.unshift("#version 300 es"),M&&Ie.push("#define OVERDRAW_INSPECTOR;"),D&&Ie.push("#define TERRAIN3D;"),F&&Ie.push(F),G&&Ie.push(...G);let $e=Ie.concat(ba.prelude.fragmentSource,z.fragmentSource,f.fragmentSource).join(`
`),Ge=Ie.concat(ba.prelude.vertexSource,z.vertexSource,f.vertexSource).join(`
`);ja(q)||($e=(function(rt){return rt.replace(/\bin\s/g,"varying ").replace("out highp vec4 fragColor;","").replace(/fragColor/g,"gl_FragColor").replace(/texture\(/g,"texture2D(")})($e),Ge=(function(rt){return rt.replace(/\bin\s/g,"attribute ").replace(/\bout\s/g,"varying ").replace(/texture\(/g,"texture2D(")})(Ge));const Le=q.createShader(q.FRAGMENT_SHADER);if(q.isContextLost())return void(this.failedToCreate=!0);if(q.shaderSource(Le,$e),q.compileShader(Le),!q.getShaderParameter(Le,q.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${q.getShaderInfoLog(Le)}`);q.attachShader(this.program,Le);const Ze=q.createShader(q.VERTEX_SHADER);if(q.isContextLost())return void(this.failedToCreate=!0);if(q.shaderSource(Ze,Ge),q.compileShader(Ze),!q.getShaderParameter(Ze,q.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${q.getShaderInfoLog(Ze)}`);q.attachShader(this.program,Ze),this.attributes={};const lt={};this.numAttributes=ae.length;for(let rt=0;rt<this.numAttributes;rt++)ae[rt]&&(q.bindAttribLocation(this.program,rt,ae[rt]),this.attributes[ae[rt]]=rt);if(q.linkProgram(this.program),!q.getProgramParameter(this.program,q.LINK_STATUS))throw new Error(`Program failed to link: ${q.getProgramInfoLog(this.program)}`);q.deleteShader(Ze),q.deleteShader(Le);for(let rt=0;rt<ke.length;rt++){const nt=ke[rt];if(nt&&!lt[nt]){const st=q.getUniformLocation(this.program,nt);st&&(lt[nt]=st)}}this.fixedUniforms=S(u,lt),this.terrainUniforms=((rt,nt)=>({u_depth:new a.bZ(rt,nt.u_depth),u_terrain:new a.bZ(rt,nt.u_terrain),u_terrain_dim:new a.bp(rt,nt.u_terrain_dim),u_terrain_matrix:new a.b$(rt,nt.u_terrain_matrix),u_terrain_unpack:new a.c0(rt,nt.u_terrain_unpack),u_terrain_exaggeration:new a.bp(rt,nt.u_terrain_exaggeration)}))(u,lt),this.projectionUniforms=((rt,nt)=>({u_projection_matrix:new a.b$(rt,nt.u_projection_matrix),u_projection_tile_mercator_coords:new a.c0(rt,nt.u_projection_tile_mercator_coords),u_projection_clipping_plane:new a.c0(rt,nt.u_projection_clipping_plane),u_projection_transition:new a.bp(rt,nt.u_projection_transition),u_projection_fallback_matrix:new a.b$(rt,nt.u_projection_fallback_matrix)}))(u,lt),this.binderUniforms=_?_.getUniforms(u,lt):[]}draw(u,f,_,S,M,D,z,F,G,q,te,ee,ae,fe,we,Se,Pe,Ae,ke){const Ie=u.gl;if(this.failedToCreate)return;if(u.program.set(this.program),u.setDepthMode(_),u.setStencilMode(S),u.setColorMode(M),u.setCullFace(D),F){u.activeTexture.set(Ie.TEXTURE2),Ie.bindTexture(Ie.TEXTURE_2D,F.depthTexture),u.activeTexture.set(Ie.TEXTURE3),Ie.bindTexture(Ie.TEXTURE_2D,F.texture);for(const Ge in this.terrainUniforms)this.terrainUniforms[Ge].set(F[Ge])}if(G)for(const Ge in G)this.projectionUniforms[ld[Ge]].set(G[Ge]);if(z)for(const Ge in this.fixedUniforms)this.fixedUniforms[Ge].set(z[Ge]);Se&&Se.setUniforms(u,this.binderUniforms,fe,{zoom:we});let $e=0;switch(f){case Ie.LINES:$e=2;break;case Ie.TRIANGLES:$e=3;break;case Ie.LINE_STRIP:$e=1}for(const Ge of ae.get()){const Le=Ge.vaos||(Ge.vaos={});(Le[q]||(Le[q]=new iC)).bind(u,this,te,Se?Se.getPaintVertexBuffers():[],ee,Ge.vertexOffset,Pe,Ae,ke),Ie.drawElements(f,Ge.primitiveLength*$e,Ie.UNSIGNED_SHORT,Ge.primitiveOffset*$e*2)}}}function ud(P,u,f){const _=1/a.aM(f,1,u.transform.tileZoom),S=Math.pow(2,f.tileID.overscaledZ),M=f.tileSize*Math.pow(2,u.transform.tileZoom)/S,D=M*(f.tileID.canonical.x+f.tileID.wrap*S),z=M*f.tileID.canonical.y;return{u_image:0,u_texsize:f.imageAtlasTexture.size,u_scale:[_,P.fromScale,P.toScale],u_fade:P.t,u_pixel_coord_upper:[D>>16,z>>16],u_pixel_coord_lower:[65535&D,65535&z]}}const qb=(P,u,f,_)=>{const S=P.style.light,M=S.properties.get("position"),D=[M.x,M.y,M.z],z=a.c3();S.properties.get("anchor")==="viewport"&&a.c4(z,P.transform.bearingInRadians),a.c5(D,D,z);const F=P.transform.transformLightDirection(D),G=S.properties.get("color");return{u_lightpos:D,u_lightpos_globe:F,u_lightintensity:S.properties.get("intensity"),u_lightcolor:[G.r,G.g,G.b],u_vertical_gradient:+u,u_opacity:f,u_fill_translate:_}},Hc=(P,u,f,_,S,M,D)=>a.e(qb(P,u,f,_),ud(M,P,D),{u_height_factor:-Math.pow(2,S.overscaledZ)/D.tileSize/8}),Zb=(P,u,f,_)=>a.e(ud(u,P,f),{u_fill_translate:_}),Xb=(P,u)=>({u_world:P,u_fill_translate:u}),aC=(P,u,f,_,S)=>a.e(Zb(P,u,f,S),{u_world:_}),Kb=(P,u,f,_,S)=>{const M=P.transform;let D,z,F=0;if(f.paint.get("circle-pitch-alignment")==="map"){const G=a.aM(u,1,M.zoom);D=!0,z=[G,G],F=G/(a.a4*Math.pow(2,u.tileID.overscaledZ))*2*Math.PI*S}else D=!1,z=M.pixelsToGLUnits;return{u_camera_to_center_distance:M.cameraToCenterDistance,u_scale_with_map:+(f.paint.get("circle-pitch-scale")==="map"),u_pitch_with_map:+D,u_device_pixel_ratio:P.pixelRatio,u_extrude_scale:z,u_globe_extrude_scale:F,u_translate:_}},Iv=P=>({u_pixel_extrude_scale:[1/P.width,1/P.height]}),Yb=P=>({u_viewport_size:[P.width,P.height]}),Ev=(P,u=1)=>({u_color:P,u_overlay:0,u_overlay_scale:u}),Av=(P,u,f,_)=>{const S=a.aM(P,1,u)/(a.a4*Math.pow(2,P.tileID.overscaledZ))*2*Math.PI*_;return{u_extrude_scale:a.aM(P,1,u),u_intensity:f,u_globe_extrude_scale:S}},Dv=(P,u,f,_)=>{const S=a.N();a.c6(S,0,P.width,P.height,0,0,1);const M=P.context.gl;return{u_matrix:S,u_world:[M.drawingBufferWidth,M.drawingBufferHeight],u_image:f,u_color_ramp:_,u_opacity:u.paint.get("heatmap-opacity")}},Mu=(P,u,f)=>{const _=f.paint.get("hillshade-accent-color");let S;switch(f.paint.get("hillshade-method")){case"basic":S=4;break;case"combined":S=1;break;case"igor":S=2;break;case"multidirectional":S=3;break;default:S=0}const M=f.getIlluminationProperties();for(let D=0;D<M.directionRadians.length;D++)f.paint.get("hillshade-illumination-anchor")==="viewport"&&(M.directionRadians[D]+=P.transform.bearingInRadians);return{u_image:0,u_latrange:Qb(0,u.tileID),u_exaggeration:f.paint.get("hillshade-exaggeration"),u_altitudes:M.altitudeRadians,u_azimuths:M.directionRadians,u_accent:_,u_method:S,u_highlights:M.highlightColor,u_shadows:M.shadowColor}},Jb=(P,u)=>{const f=u.stride,_=a.N();return a.c6(_,0,a.a4,-a.a4,0,0,1),a.O(_,_,[0,-a.a4,0]),{u_matrix:_,u_image:1,u_dimension:[f,f],u_zoom:P.overscaledZ,u_unpack:u.getUnpackVector()}};function Qb(P,u){const f=Math.pow(2,u.canonical.z),_=u.canonical.y;return[new a.aa(0,_/f).toLngLat().lat,new a.aa(0,(_+1)/f).toLngLat().lat]}const cd=(P,u,f=0)=>({u_image:0,u_unpack:u.getUnpackVector(),u_dimension:[u.stride,u.stride],u_elevation_stops:1,u_color_stops:4,u_color_ramp_size:f,u_opacity:P.paint.get("color-relief-opacity")}),Pp=(P,u,f,_)=>{const S=P.transform;return{u_translation:Lv(P,u,f),u_ratio:_/a.aM(u,1,S.zoom),u_device_pixel_ratio:P.pixelRatio,u_units_to_pixels:[1/S.pixelsToGLUnits[0],1/S.pixelsToGLUnits[1]]}},hd=(P,u,f,_,S)=>a.e(Pp(P,u,f,_),{u_image:0,u_image_height:S}),sC=(P,u,f,_,S)=>{const M=P.transform,D=Mp(u,M);return{u_translation:Lv(P,u,f),u_texsize:u.imageAtlasTexture.size,u_ratio:_/a.aM(u,1,M.zoom),u_device_pixel_ratio:P.pixelRatio,u_image:0,u_scale:[D,S.fromScale,S.toScale],u_fade:S.t,u_units_to_pixels:[1/M.pixelsToGLUnits[0],1/M.pixelsToGLUnits[1]]}},lC=(P,u,f,_,S)=>{const M=Mp(u,P.transform);return a.e(Pp(P,u,f,_),{u_tileratio:M,u_crossfade_from:S.fromScale,u_crossfade_to:S.toScale,u_image:0,u_mix:S.t,u_lineatlas_width:P.lineAtlas.width,u_lineatlas_height:P.lineAtlas.height})},e1=(P,u,f,_,S,M)=>{const D=Mp(u,P.transform);return a.e(Pp(P,u,f,_),{u_image:0,u_image_height:M,u_tileratio:D,u_crossfade_from:S.fromScale,u_crossfade_to:S.toScale,u_image_dash:1,u_mix:S.t,u_lineatlas_width:P.lineAtlas.width,u_lineatlas_height:P.lineAtlas.height})};function Mp(P,u){return 1/a.aM(P,1,u.tileZoom)}function Lv(P,u,f){return a.aN(P.transform,u,f.paint.get("line-translate"),f.paint.get("line-translate-anchor"))}const Rv=(P,u,f,_,S)=>{return{u_tl_parent:P,u_scale_parent:u,u_buffer_scale:1,u_fade_t:f.mix,u_opacity:f.opacity*_.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:_.paint.get("raster-brightness-min"),u_brightness_high:_.paint.get("raster-brightness-max"),u_saturation_factor:(D=_.paint.get("raster-saturation"),D>0?1-1/(1.001-D):-D),u_contrast_factor:(M=_.paint.get("raster-contrast"),M>0?1/(1-M):1+M),u_spin_weights:t1(_.paint.get("raster-hue-rotate")),u_coords_top:[S[0].x,S[0].y,S[1].x,S[1].y],u_coords_bottom:[S[3].x,S[3].y,S[2].x,S[2].y]};var M,D};function t1(P){P*=Math.PI/180;const u=Math.sin(P),f=Math.cos(P);return[(2*f+1)/3,(-Math.sqrt(3)*u-f+1)/3,(Math.sqrt(3)*u-f+1)/3]}const dd=(P,u,f,_,S,M,D,z,F,G,q,te,ee)=>{const ae=D.transform;return{u_is_size_zoom_constant:+(P==="constant"||P==="source"),u_is_size_feature_constant:+(P==="constant"||P==="camera"),u_size_t:u?u.uSizeT:0,u_size:u?u.uSize:0,u_camera_to_center_distance:ae.cameraToCenterDistance,u_pitch:ae.pitch/360*2*Math.PI,u_rotate_symbol:+f,u_aspect_ratio:ae.width/ae.height,u_fade_change:D.options.fadeDuration?D.symbolFadeChange:1,u_label_plane_matrix:z,u_coord_matrix:F,u_is_text:+q,u_pitch_with_map:+_,u_is_along_line:S,u_is_variable_anchor:M,u_texsize:te,u_texture:0,u_translation:G,u_pitched_scale:ee}},_s=(P,u,f,_,S,M,D,z,F,G,q,te,ee,ae)=>{const fe=D.transform;return a.e(dd(P,u,f,_,S,M,D,z,F,G,q,te,ae),{u_gamma_scale:_?Math.cos(fe.pitch*Math.PI/180)*fe.cameraToCenterDistance:1,u_device_pixel_ratio:D.pixelRatio,u_is_halo:1})},Ov=(P,u,f,_,S,M,D,z,F,G,q,te,ee)=>a.e(_s(P,u,f,_,S,M,D,z,F,G,!0,q,0,ee),{u_texsize_icon:te,u_texture_icon:1}),kv=(P,u)=>({u_opacity:P,u_color:u}),$v=(P,u,f,_,S)=>a.e((function(M,D,z,F){const G=z.imageManager.getPattern(M.from.toString()),q=z.imageManager.getPattern(M.to.toString()),{width:te,height:ee}=z.imageManager.getPixelSize(),ae=Math.pow(2,F.tileID.overscaledZ),fe=F.tileSize*Math.pow(2,z.transform.tileZoom)/ae,we=fe*(F.tileID.canonical.x+F.tileID.wrap*ae),Se=fe*F.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:G.tl,u_pattern_br_a:G.br,u_pattern_tl_b:q.tl,u_pattern_br_b:q.br,u_texsize:[te,ee],u_mix:D.t,u_pattern_size_a:G.displaySize,u_pattern_size_b:q.displaySize,u_scale_a:D.fromScale,u_scale_b:D.toScale,u_tile_units_to_pixels:1/a.aM(F,1,z.transform.tileZoom),u_pixel_coord_upper:[we>>16,Se>>16],u_pixel_coord_lower:[65535&we,65535&Se]}})(f,S,u,_),{u_opacity:P}),zv=(P,u)=>{},Bv={fillExtrusion:(P,u)=>({u_lightpos:new a.c1(P,u.u_lightpos),u_lightpos_globe:new a.c1(P,u.u_lightpos_globe),u_lightintensity:new a.bp(P,u.u_lightintensity),u_lightcolor:new a.c1(P,u.u_lightcolor),u_vertical_gradient:new a.bp(P,u.u_vertical_gradient),u_opacity:new a.bp(P,u.u_opacity),u_fill_translate:new a.c2(P,u.u_fill_translate)}),fillExtrusionPattern:(P,u)=>({u_lightpos:new a.c1(P,u.u_lightpos),u_lightpos_globe:new a.c1(P,u.u_lightpos_globe),u_lightintensity:new a.bp(P,u.u_lightintensity),u_lightcolor:new a.c1(P,u.u_lightcolor),u_vertical_gradient:new a.bp(P,u.u_vertical_gradient),u_height_factor:new a.bp(P,u.u_height_factor),u_opacity:new a.bp(P,u.u_opacity),u_fill_translate:new a.c2(P,u.u_fill_translate),u_image:new a.bZ(P,u.u_image),u_texsize:new a.c2(P,u.u_texsize),u_pixel_coord_upper:new a.c2(P,u.u_pixel_coord_upper),u_pixel_coord_lower:new a.c2(P,u.u_pixel_coord_lower),u_scale:new a.c1(P,u.u_scale),u_fade:new a.bp(P,u.u_fade)}),fill:(P,u)=>({u_fill_translate:new a.c2(P,u.u_fill_translate)}),fillPattern:(P,u)=>({u_image:new a.bZ(P,u.u_image),u_texsize:new a.c2(P,u.u_texsize),u_pixel_coord_upper:new a.c2(P,u.u_pixel_coord_upper),u_pixel_coord_lower:new a.c2(P,u.u_pixel_coord_lower),u_scale:new a.c1(P,u.u_scale),u_fade:new a.bp(P,u.u_fade),u_fill_translate:new a.c2(P,u.u_fill_translate)}),fillOutline:(P,u)=>({u_world:new a.c2(P,u.u_world),u_fill_translate:new a.c2(P,u.u_fill_translate)}),fillOutlinePattern:(P,u)=>({u_world:new a.c2(P,u.u_world),u_image:new a.bZ(P,u.u_image),u_texsize:new a.c2(P,u.u_texsize),u_pixel_coord_upper:new a.c2(P,u.u_pixel_coord_upper),u_pixel_coord_lower:new a.c2(P,u.u_pixel_coord_lower),u_scale:new a.c1(P,u.u_scale),u_fade:new a.bp(P,u.u_fade),u_fill_translate:new a.c2(P,u.u_fill_translate)}),circle:(P,u)=>({u_camera_to_center_distance:new a.bp(P,u.u_camera_to_center_distance),u_scale_with_map:new a.bZ(P,u.u_scale_with_map),u_pitch_with_map:new a.bZ(P,u.u_pitch_with_map),u_extrude_scale:new a.c2(P,u.u_extrude_scale),u_device_pixel_ratio:new a.bp(P,u.u_device_pixel_ratio),u_globe_extrude_scale:new a.bp(P,u.u_globe_extrude_scale),u_translate:new a.c2(P,u.u_translate)}),collisionBox:(P,u)=>({u_pixel_extrude_scale:new a.c2(P,u.u_pixel_extrude_scale)}),collisionCircle:(P,u)=>({u_viewport_size:new a.c2(P,u.u_viewport_size)}),debug:(P,u)=>({u_color:new a.b_(P,u.u_color),u_overlay:new a.bZ(P,u.u_overlay),u_overlay_scale:new a.bp(P,u.u_overlay_scale)}),depth:zv,clippingMask:zv,heatmap:(P,u)=>({u_extrude_scale:new a.bp(P,u.u_extrude_scale),u_intensity:new a.bp(P,u.u_intensity),u_globe_extrude_scale:new a.bp(P,u.u_globe_extrude_scale)}),heatmapTexture:(P,u)=>({u_matrix:new a.b$(P,u.u_matrix),u_world:new a.c2(P,u.u_world),u_image:new a.bZ(P,u.u_image),u_color_ramp:new a.bZ(P,u.u_color_ramp),u_opacity:new a.bp(P,u.u_opacity)}),hillshade:(P,u)=>({u_image:new a.bZ(P,u.u_image),u_latrange:new a.c2(P,u.u_latrange),u_exaggeration:new a.bp(P,u.u_exaggeration),u_altitudes:new a.c8(P,u.u_altitudes),u_azimuths:new a.c8(P,u.u_azimuths),u_accent:new a.b_(P,u.u_accent),u_method:new a.bZ(P,u.u_method),u_shadows:new a.c7(P,u.u_shadows),u_highlights:new a.c7(P,u.u_highlights)}),hillshadePrepare:(P,u)=>({u_matrix:new a.b$(P,u.u_matrix),u_image:new a.bZ(P,u.u_image),u_dimension:new a.c2(P,u.u_dimension),u_zoom:new a.bp(P,u.u_zoom),u_unpack:new a.c0(P,u.u_unpack)}),colorRelief:(P,u)=>({u_image:new a.bZ(P,u.u_image),u_unpack:new a.c0(P,u.u_unpack),u_dimension:new a.c2(P,u.u_dimension),u_elevation_stops:new a.bZ(P,u.u_elevation_stops),u_color_stops:new a.bZ(P,u.u_color_stops),u_color_ramp_size:new a.bZ(P,u.u_color_ramp_size),u_opacity:new a.bp(P,u.u_opacity)}),line:(P,u)=>({u_translation:new a.c2(P,u.u_translation),u_ratio:new a.bp(P,u.u_ratio),u_device_pixel_ratio:new a.bp(P,u.u_device_pixel_ratio),u_units_to_pixels:new a.c2(P,u.u_units_to_pixels)}),lineGradient:(P,u)=>({u_translation:new a.c2(P,u.u_translation),u_ratio:new a.bp(P,u.u_ratio),u_device_pixel_ratio:new a.bp(P,u.u_device_pixel_ratio),u_units_to_pixels:new a.c2(P,u.u_units_to_pixels),u_image:new a.bZ(P,u.u_image),u_image_height:new a.bp(P,u.u_image_height)}),linePattern:(P,u)=>({u_translation:new a.c2(P,u.u_translation),u_texsize:new a.c2(P,u.u_texsize),u_ratio:new a.bp(P,u.u_ratio),u_device_pixel_ratio:new a.bp(P,u.u_device_pixel_ratio),u_image:new a.bZ(P,u.u_image),u_units_to_pixels:new a.c2(P,u.u_units_to_pixels),u_scale:new a.c1(P,u.u_scale),u_fade:new a.bp(P,u.u_fade)}),lineSDF:(P,u)=>({u_translation:new a.c2(P,u.u_translation),u_ratio:new a.bp(P,u.u_ratio),u_device_pixel_ratio:new a.bp(P,u.u_device_pixel_ratio),u_units_to_pixels:new a.c2(P,u.u_units_to_pixels),u_image:new a.bZ(P,u.u_image),u_mix:new a.bp(P,u.u_mix),u_tileratio:new a.bp(P,u.u_tileratio),u_crossfade_from:new a.bp(P,u.u_crossfade_from),u_crossfade_to:new a.bp(P,u.u_crossfade_to),u_lineatlas_width:new a.bp(P,u.u_lineatlas_width),u_lineatlas_height:new a.bp(P,u.u_lineatlas_height)}),lineGradientSDF:(P,u)=>({u_translation:new a.c2(P,u.u_translation),u_ratio:new a.bp(P,u.u_ratio),u_device_pixel_ratio:new a.bp(P,u.u_device_pixel_ratio),u_units_to_pixels:new a.c2(P,u.u_units_to_pixels),u_image:new a.bZ(P,u.u_image),u_image_height:new a.bp(P,u.u_image_height),u_tileratio:new a.bp(P,u.u_tileratio),u_crossfade_from:new a.bp(P,u.u_crossfade_from),u_crossfade_to:new a.bp(P,u.u_crossfade_to),u_image_dash:new a.bZ(P,u.u_image_dash),u_mix:new a.bp(P,u.u_mix),u_lineatlas_width:new a.bp(P,u.u_lineatlas_width),u_lineatlas_height:new a.bp(P,u.u_lineatlas_height)}),raster:(P,u)=>({u_tl_parent:new a.c2(P,u.u_tl_parent),u_scale_parent:new a.bp(P,u.u_scale_parent),u_buffer_scale:new a.bp(P,u.u_buffer_scale),u_fade_t:new a.bp(P,u.u_fade_t),u_opacity:new a.bp(P,u.u_opacity),u_image0:new a.bZ(P,u.u_image0),u_image1:new a.bZ(P,u.u_image1),u_brightness_low:new a.bp(P,u.u_brightness_low),u_brightness_high:new a.bp(P,u.u_brightness_high),u_saturation_factor:new a.bp(P,u.u_saturation_factor),u_contrast_factor:new a.bp(P,u.u_contrast_factor),u_spin_weights:new a.c1(P,u.u_spin_weights),u_coords_top:new a.c0(P,u.u_coords_top),u_coords_bottom:new a.c0(P,u.u_coords_bottom)}),symbolIcon:(P,u)=>({u_is_size_zoom_constant:new a.bZ(P,u.u_is_size_zoom_constant),u_is_size_feature_constant:new a.bZ(P,u.u_is_size_feature_constant),u_size_t:new a.bp(P,u.u_size_t),u_size:new a.bp(P,u.u_size),u_camera_to_center_distance:new a.bp(P,u.u_camera_to_center_distance),u_pitch:new a.bp(P,u.u_pitch),u_rotate_symbol:new a.bZ(P,u.u_rotate_symbol),u_aspect_ratio:new a.bp(P,u.u_aspect_ratio),u_fade_change:new a.bp(P,u.u_fade_change),u_label_plane_matrix:new a.b$(P,u.u_label_plane_matrix),u_coord_matrix:new a.b$(P,u.u_coord_matrix),u_is_text:new a.bZ(P,u.u_is_text),u_pitch_with_map:new a.bZ(P,u.u_pitch_with_map),u_is_along_line:new a.bZ(P,u.u_is_along_line),u_is_variable_anchor:new a.bZ(P,u.u_is_variable_anchor),u_texsize:new a.c2(P,u.u_texsize),u_texture:new a.bZ(P,u.u_texture),u_translation:new a.c2(P,u.u_translation),u_pitched_scale:new a.bp(P,u.u_pitched_scale)}),symbolSDF:(P,u)=>({u_is_size_zoom_constant:new a.bZ(P,u.u_is_size_zoom_constant),u_is_size_feature_constant:new a.bZ(P,u.u_is_size_feature_constant),u_size_t:new a.bp(P,u.u_size_t),u_size:new a.bp(P,u.u_size),u_camera_to_center_distance:new a.bp(P,u.u_camera_to_center_distance),u_pitch:new a.bp(P,u.u_pitch),u_rotate_symbol:new a.bZ(P,u.u_rotate_symbol),u_aspect_ratio:new a.bp(P,u.u_aspect_ratio),u_fade_change:new a.bp(P,u.u_fade_change),u_label_plane_matrix:new a.b$(P,u.u_label_plane_matrix),u_coord_matrix:new a.b$(P,u.u_coord_matrix),u_is_text:new a.bZ(P,u.u_is_text),u_pitch_with_map:new a.bZ(P,u.u_pitch_with_map),u_is_along_line:new a.bZ(P,u.u_is_along_line),u_is_variable_anchor:new a.bZ(P,u.u_is_variable_anchor),u_texsize:new a.c2(P,u.u_texsize),u_texture:new a.bZ(P,u.u_texture),u_gamma_scale:new a.bp(P,u.u_gamma_scale),u_device_pixel_ratio:new a.bp(P,u.u_device_pixel_ratio),u_is_halo:new a.bZ(P,u.u_is_halo),u_translation:new a.c2(P,u.u_translation),u_pitched_scale:new a.bp(P,u.u_pitched_scale)}),symbolTextAndIcon:(P,u)=>({u_is_size_zoom_constant:new a.bZ(P,u.u_is_size_zoom_constant),u_is_size_feature_constant:new a.bZ(P,u.u_is_size_feature_constant),u_size_t:new a.bp(P,u.u_size_t),u_size:new a.bp(P,u.u_size),u_camera_to_center_distance:new a.bp(P,u.u_camera_to_center_distance),u_pitch:new a.bp(P,u.u_pitch),u_rotate_symbol:new a.bZ(P,u.u_rotate_symbol),u_aspect_ratio:new a.bp(P,u.u_aspect_ratio),u_fade_change:new a.bp(P,u.u_fade_change),u_label_plane_matrix:new a.b$(P,u.u_label_plane_matrix),u_coord_matrix:new a.b$(P,u.u_coord_matrix),u_is_text:new a.bZ(P,u.u_is_text),u_pitch_with_map:new a.bZ(P,u.u_pitch_with_map),u_is_along_line:new a.bZ(P,u.u_is_along_line),u_is_variable_anchor:new a.bZ(P,u.u_is_variable_anchor),u_texsize:new a.c2(P,u.u_texsize),u_texsize_icon:new a.c2(P,u.u_texsize_icon),u_texture:new a.bZ(P,u.u_texture),u_texture_icon:new a.bZ(P,u.u_texture_icon),u_gamma_scale:new a.bp(P,u.u_gamma_scale),u_device_pixel_ratio:new a.bp(P,u.u_device_pixel_ratio),u_is_halo:new a.bZ(P,u.u_is_halo),u_translation:new a.c2(P,u.u_translation),u_pitched_scale:new a.bp(P,u.u_pitched_scale)}),background:(P,u)=>({u_opacity:new a.bp(P,u.u_opacity),u_color:new a.b_(P,u.u_color)}),backgroundPattern:(P,u)=>({u_opacity:new a.bp(P,u.u_opacity),u_image:new a.bZ(P,u.u_image),u_pattern_tl_a:new a.c2(P,u.u_pattern_tl_a),u_pattern_br_a:new a.c2(P,u.u_pattern_br_a),u_pattern_tl_b:new a.c2(P,u.u_pattern_tl_b),u_pattern_br_b:new a.c2(P,u.u_pattern_br_b),u_texsize:new a.c2(P,u.u_texsize),u_mix:new a.bp(P,u.u_mix),u_pattern_size_a:new a.c2(P,u.u_pattern_size_a),u_pattern_size_b:new a.c2(P,u.u_pattern_size_b),u_scale_a:new a.bp(P,u.u_scale_a),u_scale_b:new a.bp(P,u.u_scale_b),u_pixel_coord_upper:new a.c2(P,u.u_pixel_coord_upper),u_pixel_coord_lower:new a.c2(P,u.u_pixel_coord_lower),u_tile_units_to_pixels:new a.bp(P,u.u_tile_units_to_pixels)}),terrain:(P,u)=>({u_texture:new a.bZ(P,u.u_texture),u_ele_delta:new a.bp(P,u.u_ele_delta),u_fog_matrix:new a.b$(P,u.u_fog_matrix),u_fog_color:new a.b_(P,u.u_fog_color),u_fog_ground_blend:new a.bp(P,u.u_fog_ground_blend),u_fog_ground_blend_opacity:new a.bp(P,u.u_fog_ground_blend_opacity),u_horizon_color:new a.b_(P,u.u_horizon_color),u_horizon_fog_blend:new a.bp(P,u.u_horizon_fog_blend),u_is_globe_mode:new a.bp(P,u.u_is_globe_mode)}),terrainDepth:(P,u)=>({u_ele_delta:new a.bp(P,u.u_ele_delta)}),terrainCoords:(P,u)=>({u_texture:new a.bZ(P,u.u_texture),u_terrain_coords_id:new a.bp(P,u.u_terrain_coords_id),u_ele_delta:new a.bp(P,u.u_ele_delta)}),projectionErrorMeasurement:(P,u)=>({u_input:new a.bp(P,u.u_input),u_output_expected:new a.bp(P,u.u_output_expected)}),atmosphere:(P,u)=>({u_sun_pos:new a.c1(P,u.u_sun_pos),u_atmosphere_blend:new a.bp(P,u.u_atmosphere_blend),u_globe_position:new a.c1(P,u.u_globe_position),u_globe_radius:new a.bp(P,u.u_globe_radius),u_inv_proj_matrix:new a.b$(P,u.u_inv_proj_matrix)}),sky:(P,u)=>({u_sky_color:new a.b_(P,u.u_sky_color),u_horizon_color:new a.b_(P,u.u_horizon_color),u_horizon:new a.c2(P,u.u_horizon),u_horizon_normal:new a.c2(P,u.u_horizon_normal),u_sky_horizon_blend:new a.bp(P,u.u_sky_horizon_blend),u_sky_blend:new a.bp(P,u.u_sky_blend)})};class Iu{constructor(u,f,_){this.context=u;const S=u.gl;this.buffer=S.createBuffer(),this.dynamicDraw=!!_,this.context.unbindVAO(),u.bindElementBuffer.set(this.buffer),S.bufferData(S.ELEMENT_ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?S.DYNAMIC_DRAW:S.STATIC_DRAW),this.dynamicDraw||delete f.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(u){const f=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),f.bufferSubData(f.ELEMENT_ARRAY_BUFFER,0,u.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Fv={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class uC{constructor(u,f,_,S){this.length=f.length,this.attributes=_,this.itemSize=f.bytesPerElement,this.dynamicDraw=S,this.context=u;const M=u.gl;this.buffer=M.createBuffer(),u.bindVertexBuffer.set(this.buffer),M.bufferData(M.ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?M.DYNAMIC_DRAW:M.STATIC_DRAW),this.dynamicDraw||delete f.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(u){if(u.length!==this.length)throw new Error(`Length of new data is ${u.length}, which doesn't match current length of ${this.length}`);const f=this.context.gl;this.bind(),f.bufferSubData(f.ARRAY_BUFFER,0,u.arrayBuffer)}enableAttributes(u,f){for(let _=0;_<this.attributes.length;_++){const S=f.attributes[this.attributes[_].name];S!==void 0&&u.enableVertexAttribArray(S)}}setVertexAttribPointers(u,f,_){for(let S=0;S<this.attributes.length;S++){const M=this.attributes[S],D=f.attributes[M.name];D!==void 0&&u.vertexAttribPointer(D,M.components,u[Fv[M.type]],!1,this.itemSize,M.offset+this.itemSize*(_||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class tn{constructor(u){this.gl=u.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(u){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class cC extends tn{getDefault(){return a.bo.transparent}set(u){const f=this.current;(u.r!==f.r||u.g!==f.g||u.b!==f.b||u.a!==f.a||this.dirty)&&(this.gl.clearColor(u.r,u.g,u.b,u.a),this.current=u,this.dirty=!1)}}class hC extends tn{getDefault(){return 1}set(u){(u!==this.current||this.dirty)&&(this.gl.clearDepth(u),this.current=u,this.dirty=!1)}}class r1 extends tn{getDefault(){return 0}set(u){(u!==this.current||this.dirty)&&(this.gl.clearStencil(u),this.current=u,this.dirty=!1)}}class dC extends tn{getDefault(){return[!0,!0,!0,!0]}set(u){const f=this.current;(u[0]!==f[0]||u[1]!==f[1]||u[2]!==f[2]||u[3]!==f[3]||this.dirty)&&(this.gl.colorMask(u[0],u[1],u[2],u[3]),this.current=u,this.dirty=!1)}}class n1 extends tn{getDefault(){return!0}set(u){(u!==this.current||this.dirty)&&(this.gl.depthMask(u),this.current=u,this.dirty=!1)}}class Ip extends tn{getDefault(){return 255}set(u){(u!==this.current||this.dirty)&&(this.gl.stencilMask(u),this.current=u,this.dirty=!1)}}class Ep extends tn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(u){const f=this.current;(u.func!==f.func||u.ref!==f.ref||u.mask!==f.mask||this.dirty)&&(this.gl.stencilFunc(u.func,u.ref,u.mask),this.current=u,this.dirty=!1)}}class Ap extends tn{getDefault(){const u=this.gl;return[u.KEEP,u.KEEP,u.KEEP]}set(u){const f=this.current;(u[0]!==f[0]||u[1]!==f[1]||u[2]!==f[2]||this.dirty)&&(this.gl.stencilOp(u[0],u[1],u[2]),this.current=u,this.dirty=!1)}}class Nv extends tn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const f=this.gl;u?f.enable(f.STENCIL_TEST):f.disable(f.STENCIL_TEST),this.current=u,this.dirty=!1}}class Eu extends tn{getDefault(){return[0,1]}set(u){const f=this.current;(u[0]!==f[0]||u[1]!==f[1]||this.dirty)&&(this.gl.depthRange(u[0],u[1]),this.current=u,this.dirty=!1)}}class fd extends tn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const f=this.gl;u?f.enable(f.DEPTH_TEST):f.disable(f.DEPTH_TEST),this.current=u,this.dirty=!1}}class Gc extends tn{getDefault(){return this.gl.LESS}set(u){(u!==this.current||this.dirty)&&(this.gl.depthFunc(u),this.current=u,this.dirty=!1)}}class xa extends tn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const f=this.gl;u?f.enable(f.BLEND):f.disable(f.BLEND),this.current=u,this.dirty=!1}}class i1 extends tn{getDefault(){const u=this.gl;return[u.ONE,u.ZERO]}set(u){const f=this.current;(u[0]!==f[0]||u[1]!==f[1]||this.dirty)&&(this.gl.blendFunc(u[0],u[1]),this.current=u,this.dirty=!1)}}class o1 extends tn{getDefault(){return a.bo.transparent}set(u){const f=this.current;(u.r!==f.r||u.g!==f.g||u.b!==f.b||u.a!==f.a||this.dirty)&&(this.gl.blendColor(u.r,u.g,u.b,u.a),this.current=u,this.dirty=!1)}}class Vv extends tn{getDefault(){return this.gl.FUNC_ADD}set(u){(u!==this.current||this.dirty)&&(this.gl.blendEquation(u),this.current=u,this.dirty=!1)}}class Au extends tn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const f=this.gl;u?f.enable(f.CULL_FACE):f.disable(f.CULL_FACE),this.current=u,this.dirty=!1}}class Dp extends tn{getDefault(){return this.gl.BACK}set(u){(u!==this.current||this.dirty)&&(this.gl.cullFace(u),this.current=u,this.dirty=!1)}}class Lp extends tn{getDefault(){return this.gl.CCW}set(u){(u!==this.current||this.dirty)&&(this.gl.frontFace(u),this.current=u,this.dirty=!1)}}class pd extends tn{getDefault(){return null}set(u){(u!==this.current||this.dirty)&&(this.gl.useProgram(u),this.current=u,this.dirty=!1)}}class Rp extends tn{getDefault(){return this.gl.TEXTURE0}set(u){(u!==this.current||this.dirty)&&(this.gl.activeTexture(u),this.current=u,this.dirty=!1)}}class a1 extends tn{getDefault(){const u=this.gl;return[0,0,u.drawingBufferWidth,u.drawingBufferHeight]}set(u){const f=this.current;(u[0]!==f[0]||u[1]!==f[1]||u[2]!==f[2]||u[3]!==f[3]||this.dirty)&&(this.gl.viewport(u[0],u[1],u[2],u[3]),this.current=u,this.dirty=!1)}}class Uc extends tn{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const f=this.gl;f.bindFramebuffer(f.FRAMEBUFFER,u),this.current=u,this.dirty=!1}}class Wc extends tn{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const f=this.gl;f.bindRenderbuffer(f.RENDERBUFFER,u),this.current=u,this.dirty=!1}}class s1 extends tn{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const f=this.gl;f.bindTexture(f.TEXTURE_2D,u),this.current=u,this.dirty=!1}}class jv extends tn{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const f=this.gl;f.bindBuffer(f.ARRAY_BUFFER,u),this.current=u,this.dirty=!1}}class jr extends tn{getDefault(){return null}set(u){const f=this.gl;f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,u),this.current=u,this.dirty=!1}}class Op extends tn{getDefault(){return null}set(u){var f;if(u===this.current&&!this.dirty)return;const _=this.gl;ja(_)?_.bindVertexArray(u):(f=_.getExtension("OES_vertex_array_object"))===null||f===void 0||f.bindVertexArrayOES(u),this.current=u,this.dirty=!1}}class fC extends tn{getDefault(){return 4}set(u){if(u===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_ALIGNMENT,u),this.current=u,this.dirty=!1}}class l1 extends tn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,u),this.current=u,this.dirty=!1}}class md extends tn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,u),this.current=u,this.dirty=!1}}class Hv extends tn{constructor(u,f){super(u),this.context=u,this.parent=f}getDefault(){return null}}class pC extends Hv{setDirty(){this.dirty=!0}set(u){if(u===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,u,0),this.current=u,this.dirty=!1}}class u1 extends Hv{set(u){if(u===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,u),this.current=u,this.dirty=!1}}class mC extends Hv{set(u){if(u===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,u),this.current=u,this.dirty=!1}}const kp="Framebuffer is not complete";class $p{constructor(u,f,_,S,M){this.context=u,this.width=f,this.height=_;const D=u.gl,z=this.framebuffer=D.createFramebuffer();if(this.colorAttachment=new pC(u,z),S)this.depthAttachment=M?new mC(u,z):new u1(u,z);else if(M)throw new Error("Stencil cannot be set without depth");if(D.checkFramebufferStatus(D.FRAMEBUFFER)!==D.FRAMEBUFFER_COMPLETE)throw new Error(kp)}destroy(){const u=this.context.gl,f=this.colorAttachment.get();if(f&&u.deleteTexture(f),this.depthAttachment){const _=this.depthAttachment.get();_&&u.deleteRenderbuffer(_)}u.deleteFramebuffer(this.framebuffer)}}class zp{constructor(u){var f,_;if(this.gl=u,this.clearColor=new cC(this),this.clearDepth=new hC(this),this.clearStencil=new r1(this),this.colorMask=new dC(this),this.depthMask=new n1(this),this.stencilMask=new Ip(this),this.stencilFunc=new Ep(this),this.stencilOp=new Ap(this),this.stencilTest=new Nv(this),this.depthRange=new Eu(this),this.depthTest=new fd(this),this.depthFunc=new Gc(this),this.blend=new xa(this),this.blendFunc=new i1(this),this.blendColor=new o1(this),this.blendEquation=new Vv(this),this.cullFace=new Au(this),this.cullFaceSide=new Dp(this),this.frontFace=new Lp(this),this.program=new pd(this),this.activeTexture=new Rp(this),this.viewport=new a1(this),this.bindFramebuffer=new Uc(this),this.bindRenderbuffer=new Wc(this),this.bindTexture=new s1(this),this.bindVertexBuffer=new jv(this),this.bindElementBuffer=new jr(this),this.bindVertexArray=new Op(this),this.pixelStoreUnpack=new fC(this),this.pixelStoreUnpackPremultiplyAlpha=new l1(this),this.pixelStoreUnpackFlipY=new md(this),this.extTextureFilterAnisotropic=u.getExtension("EXT_texture_filter_anisotropic")||u.getExtension("MOZ_EXT_texture_filter_anisotropic")||u.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=u.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=u.getParameter(u.MAX_TEXTURE_SIZE),ja(u)){this.HALF_FLOAT=u.HALF_FLOAT;const S=u.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(f=u.RGBA16F)!==null&&f!==void 0?f:S?.RGBA16F_EXT,this.RGB16F=(_=u.RGB16F)!==null&&_!==void 0?_:S?.RGB16F_EXT,u.getExtension("EXT_color_buffer_float")}else{u.getExtension("EXT_color_buffer_half_float"),u.getExtension("OES_texture_half_float_linear");const S=u.getExtension("OES_texture_half_float");this.HALF_FLOAT=S?.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(u,f){return new Iu(this,u,f)}createVertexBuffer(u,f,_){return new uC(this,u,f,_)}createRenderbuffer(u,f,_){const S=this.gl,M=S.createRenderbuffer();return this.bindRenderbuffer.set(M),S.renderbufferStorage(S.RENDERBUFFER,u,f,_),this.bindRenderbuffer.set(null),M}createFramebuffer(u,f,_,S){return new $p(this,u,f,_,S)}clear({color:u,depth:f,stencil:_}){const S=this.gl;let M=0;u&&(M|=S.COLOR_BUFFER_BIT,this.clearColor.set(u),this.colorMask.set([!0,!0,!0,!0])),f!==void 0&&(M|=S.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(f),this.depthMask.set(!0)),_!==void 0&&(M|=S.STENCIL_BUFFER_BIT,this.clearStencil.set(_),this.stencilMask.set(255)),S.clear(M)}setCullFace(u){u.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(u.mode),this.frontFace.set(u.frontFace))}setDepthMode(u){u.func!==this.gl.ALWAYS||u.mask?(this.depthTest.set(!0),this.depthFunc.set(u.func),this.depthMask.set(u.mask),this.depthRange.set(u.range)):this.depthTest.set(!1)}setStencilMode(u){u.test.func!==this.gl.ALWAYS||u.mask?(this.stencilTest.set(!0),this.stencilMask.set(u.mask),this.stencilOp.set([u.fail,u.depthFail,u.pass]),this.stencilFunc.set({func:u.test.func,ref:u.ref,mask:u.test.mask})):this.stencilTest.set(!1)}setColorMode(u){a.bQ(u.blendFunction,kn.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(u.blendFunction),this.blendColor.set(u.blendColor)),this.colorMask.set(u.mask)}createVertexArray(){var u;return ja(this.gl)?this.gl.createVertexArray():(u=this.gl.getExtension("OES_vertex_array_object"))===null||u===void 0?void 0:u.createVertexArrayOES()}deleteVertexArray(u){var f;return ja(this.gl)?this.gl.deleteVertexArray(u):(f=this.gl.getExtension("OES_vertex_array_object"))===null||f===void 0?void 0:f.deleteVertexArrayOES(u)}unbindVAO(){this.bindVertexArray.set(null)}}let Du;function Bp(P,u,f,_,S){const M=P.context,D=P.transform,z=M.gl,F=P.useProgram("collisionBox"),G=[];let q=0,te=0;for(let Pe=0;Pe<_.length;Pe++){const Ae=_[Pe],ke=u.getTile(Ae).getBucket(f);if(!ke)continue;const Ie=S?ke.textCollisionBox:ke.iconCollisionBox,$e=ke.collisionCircleArray;$e.length>0&&(G.push({circleArray:$e,circleOffset:te,coord:Ae}),q+=$e.length/4,te=q),Ie&&F.draw(M,z.LINES,Dr.disabled,Zr.disabled,P.colorModeForRenderPass(),Qr.disabled,Iv(P.transform),P.style.map.terrain&&P.style.map.terrain.getTerrainData(Ae),D.getProjectionData({overscaledTileID:Ae,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),f.id,Ie.layoutVertexBuffer,Ie.indexBuffer,Ie.segments,null,P.transform.zoom,null,null,Ie.collisionVertexBuffer)}if(!S||!G.length)return;const ee=P.useProgram("collisionCircle"),ae=new a.c9;ae.resize(4*q),ae._trim();let fe=0;for(const Pe of G)for(let Ae=0;Ae<Pe.circleArray.length/4;Ae++){const ke=4*Ae,Ie=Pe.circleArray[ke+0],$e=Pe.circleArray[ke+1],Ge=Pe.circleArray[ke+2],Le=Pe.circleArray[ke+3];ae.emplace(fe++,Ie,$e,Ge,Le,0),ae.emplace(fe++,Ie,$e,Ge,Le,1),ae.emplace(fe++,Ie,$e,Ge,Le,2),ae.emplace(fe++,Ie,$e,Ge,Le,3)}(!Du||Du.length<2*q)&&(Du=(function(Pe){const Ae=2*Pe,ke=new a.cb;ke.resize(Ae),ke._trim();for(let Ie=0;Ie<Ae;Ie++){const $e=6*Ie;ke.uint16[$e+0]=4*Ie+0,ke.uint16[$e+1]=4*Ie+1,ke.uint16[$e+2]=4*Ie+2,ke.uint16[$e+3]=4*Ie+2,ke.uint16[$e+4]=4*Ie+3,ke.uint16[$e+5]=4*Ie+0}return ke})(q));const we=M.createIndexBuffer(Du,!0),Se=M.createVertexBuffer(ae,a.ca.members,!0);for(const Pe of G){const Ae=Yb(P.transform);ee.draw(M,z.TRIANGLES,Dr.disabled,Zr.disabled,P.colorModeForRenderPass(),Qr.disabled,Ae,P.style.map.terrain&&P.style.map.terrain.getTerrainData(Pe.coord),null,f.id,Se,we,a.aW.simpleSegment(0,2*Pe.circleOffset,Pe.circleArray.length,Pe.circleArray.length/2),null,P.transform.zoom,null,null,null)}Se.destroy(),we.destroy()}const c1=a.ar(new Float32Array(16));function Fp(P,u,f,_,S,M){const{horizontalAlign:D,verticalAlign:z}=a.aR(P);return new a.P((-(D-.5)*u/S+_[0])*M,(-(z-.5)*f/S+_[1])*M)}function Np(P,u,f,_,S,M){const D=u.tileAnchorPoint.add(new a.P(u.translation[0],u.translation[1]));if(u.pitchWithMap){let z=_.mult(M);f||(z=z.rotate(-S));const F=D.add(z);return Qt(F.x,F.y,u.pitchedLabelPlaneMatrix,u.getElevation).point}if(f){const z=Fi(u.tileAnchorPoint.x+1,u.tileAnchorPoint.y,u).point.sub(P),F=Math.atan(z.y/z.x)+(z.x<0?Math.PI:0);return P.add(_.rotate(F))}return P.add(_)}function Vp(P,u,f,_,S,M,D,z,F,G,q,te){const ee=P.text.placedSymbolArray,ae=P.text.dynamicLayoutVertexArray,fe=P.icon.dynamicLayoutVertexArray,we={};ae.clear();for(let Se=0;Se<ee.length;Se++){const Pe=ee.get(Se),Ae=Pe.hidden||!Pe.crossTileID||P.allowVerticalPlacement&&!Pe.placedOrientation?null:_[Pe.crossTileID];if(Ae){const ke=new a.P(Pe.anchorX,Pe.anchorY),Ie={getElevation:te,width:S.width,height:S.height,pitchedLabelPlaneMatrix:M,pitchWithMap:f,transform:S,tileAnchorPoint:ke,translation:G,unwrappedTileID:q},$e=f?Dl(ke.x,ke.y,Ie):Fi(ke.x,ke.y,Ie),Ge=ur(S.cameraToCenterDistance,$e.signedDistanceFromCamera);let Le=a.az(P.textSizeData,z,Pe)*Ge/a.aL;f&&(Le*=P.tilePixelRatio/D);const{width:Ze,height:lt,anchor:rt,textOffset:nt,textBoxScale:st}=Ae,kt=Fp(rt,Ze,lt,nt,st,Le),At=S.getPitchedTextCorrection(ke.x+G[0],ke.y+G[1],q),Tt=Np($e.point,Ie,u,kt,-S.bearingInRadians,At),er=P.allowVerticalPlacement&&Pe.placedOrientation===a.ay.vertical?Math.PI/2:0;for(let Tr=0;Tr<Pe.numGlyphs;Tr++)a.aF(ae,Tt,er);F&&Pe.associatedIconIndex>=0&&(we[Pe.associatedIconIndex]={shiftedAnchor:Tt,angle:er})}else ps(Pe.numGlyphs,ae)}if(F){fe.clear();const Se=P.icon.placedSymbolArray;for(let Pe=0;Pe<Se.length;Pe++){const Ae=Se.get(Pe);if(Ae.hidden)ps(Ae.numGlyphs,fe);else{const ke=we[Pe];if(ke)for(let Ie=0;Ie<Ae.numGlyphs;Ie++)a.aF(fe,ke.shiftedAnchor,ke.angle);else ps(Ae.numGlyphs,fe)}}P.icon.dynamicLayoutVertexBuffer.updateData(fe)}P.text.dynamicLayoutVertexBuffer.updateData(ae)}function qc(P,u,f){return f.iconsInText&&u?"symbolTextAndIcon":P?"symbolSDF":"symbolIcon"}function jp(P,u,f,_,S,M,D,z,F,G,q,te,ee){const ae=P.context,fe=ae.gl,we=P.transform,Se=z==="map",Pe=F==="map",Ae=z!=="viewport"&&f.layout.get("symbol-placement")!=="point",ke=Se&&!Pe&&!Ae,Ie=!f.layout.get("symbol-sort-key").isConstant();let $e=!1;const Ge=P.getDepthModeForSublayer(0,Dr.ReadOnly),Le=f._unevaluatedLayout.hasValue("text-variable-anchor")||f._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Ze=[],lt=we.getCircleRadiusCorrection();for(const rt of _){const nt=u.getTile(rt),st=nt.getBucket(f);if(!st)continue;const kt=S?st.text:st.icon;if(!kt||!kt.segments.get().length||!kt.hasVisibleVertices)continue;const At=kt.programConfigurations.get(f.id),Tt=S||st.sdfIcons,er=S?st.textSizeData:st.iconSizeData,Tr=Pe||we.pitch!==0,wr=P.useProgram(qc(Tt,S,st),At),An=a.ax(er,we.zoom),Dn=P.style.map.terrain&&P.style.map.terrain.getTerrainData(rt);let Yn,bn,Ti,Vn,gi=[0,0],fi=null;if(S)bn=nt.glyphAtlasTexture,Ti=fe.LINEAR,Yn=nt.glyphAtlasTexture.size,st.iconsInText&&(gi=nt.imageAtlasTexture.size,fi=nt.imageAtlasTexture,Vn=Tr||P.options.rotating||P.options.zooming||er.kind==="composite"||er.kind==="camera"?fe.LINEAR:fe.NEAREST);else{const ai=f.layout.get("icon-size").constantOr(0)!==1||st.iconsNeedLinear;bn=nt.imageAtlasTexture,Ti=Tt||P.options.rotating||P.options.zooming||ai||Tr?fe.LINEAR:fe.NEAREST,Yn=nt.imageAtlasTexture.size}const vi=a.aM(nt,1,P.transform.zoom),jo=ii(Se,P.transform,vi),Js=a.N();a.aA(Js,jo);const bs=en(Pe,Se,P.transform,vi),Nl=a.aN(we,nt,M,D),Vl=we.getProjectionData({overscaledTileID:rt,applyGlobeMatrix:!ee,applyTerrainMatrix:!0}),zu=Le&&st.hasTextData(),Ta=f.layout.get("icon-text-fit")!=="none"&&zu&&st.hasIconData();if(Ae){const ai=P.style.map.terrain?(Ci,xn)=>P.style.map.terrain.getElevation(rt,Ci,xn):null,Jn=f.layout.get("text-rotation-alignment")==="map";hs(st,P,S,jo,Js,Pe,G,Jn,rt.toUnwrapped(),we.width,we.height,Nl,ai)}const Qs=S&&Le||Ta,na=Ae||Qs?c1:Pe?jo:P.transform.clipSpaceToPixelsMatrix,el=Tt&&f.paint.get(S?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Bu;Bu=Tt?st.iconsInText?Ov(er.kind,An,ke,Pe,Ae,Qs,P,na,bs,Nl,Yn,gi,lt):_s(er.kind,An,ke,Pe,Ae,Qs,P,na,bs,Nl,S,Yn,0,lt):dd(er.kind,An,ke,Pe,Ae,Qs,P,na,bs,Nl,S,Yn,lt);const Fu={program:wr,buffers:kt,uniformValues:Bu,projectionData:Vl,atlasTexture:bn,atlasTextureIcon:fi,atlasInterpolation:Ti,atlasInterpolationIcon:Vn,isSDF:Tt,hasHalo:el};if(Ie&&st.canOverlap){$e=!0;const ai=kt.segments.get();for(const Jn of ai)Ze.push({segments:new a.aW([Jn]),sortKey:Jn.sortKey,state:Fu,terrainData:Dn})}else Ze.push({segments:kt.segments,sortKey:0,state:Fu,terrainData:Dn})}$e&&Ze.sort(((rt,nt)=>rt.sortKey-nt.sortKey));for(const rt of Ze){const nt=rt.state;if(ae.activeTexture.set(fe.TEXTURE0),nt.atlasTexture.bind(nt.atlasInterpolation,fe.CLAMP_TO_EDGE),nt.atlasTextureIcon&&(ae.activeTexture.set(fe.TEXTURE1),nt.atlasTextureIcon&&nt.atlasTextureIcon.bind(nt.atlasInterpolationIcon,fe.CLAMP_TO_EDGE)),nt.isSDF){const st=nt.uniformValues;nt.hasHalo&&(st.u_is_halo=1,h1(nt.buffers,rt.segments,f,P,nt.program,Ge,q,te,st,nt.projectionData,rt.terrainData)),st.u_is_halo=0}h1(nt.buffers,rt.segments,f,P,nt.program,Ge,q,te,nt.uniformValues,nt.projectionData,rt.terrainData)}}function h1(P,u,f,_,S,M,D,z,F,G,q){const te=_.context;S.draw(te,te.gl.TRIANGLES,M,D,z,Qr.backCCW,F,q,G,f.id,P.layoutVertexBuffer,P.indexBuffer,u,f.paint,_.transform.zoom,P.programConfigurations.get(f.id),P.dynamicLayoutVertexBuffer,P.opacityVertexBuffer)}function gd(P,u,f,_,S){const M=P.context,D=M.gl,z=Zr.disabled,F=new kn([D.ONE,D.ONE],a.bo.transparent,[!0,!0,!0,!0]),G=u.getBucket(f);if(!G)return;const q=_.key;let te=f.heatmapFbos.get(q);te||(te=Gv(M,u.tileSize,u.tileSize),f.heatmapFbos.set(q,te)),M.bindFramebuffer.set(te.framebuffer),M.viewport.set([0,0,u.tileSize,u.tileSize]),M.clear({color:a.bo.transparent});const ee=G.programConfigurations.get(f.id),ae=P.useProgram("heatmap",ee,!S),fe=P.transform.getProjectionData({overscaledTileID:u.tileID,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),we=P.style.map.terrain.getTerrainData(_);ae.draw(M,D.TRIANGLES,Dr.disabled,z,F,Qr.disabled,Av(u,P.transform.zoom,f.paint.get("heatmap-intensity"),1),we,fe,f.id,G.layoutVertexBuffer,G.indexBuffer,G.segments,f.paint,P.transform.zoom,ee)}function gC(P,u,f,_,S){const M=P.context,D=M.gl,z=P.transform;M.setColorMode(P.colorModeForRenderPass());const F=vd(M,u),G=f.key,q=u.heatmapFbos.get(G);if(!q)return;M.activeTexture.set(D.TEXTURE0),D.bindTexture(D.TEXTURE_2D,q.colorAttachment.get()),M.activeTexture.set(D.TEXTURE1),F.bind(D.LINEAR,D.CLAMP_TO_EDGE);const te=z.getProjectionData({overscaledTileID:f,applyTerrainMatrix:S,applyGlobeMatrix:!_});P.useProgram("heatmapTexture").draw(M,D.TRIANGLES,Dr.disabled,Zr.disabled,P.colorModeForRenderPass(),Qr.disabled,Dv(P,u,0,1),null,te,u.id,P.rasterBoundsBuffer,P.quadTriangleIndexBuffer,P.rasterBoundsSegments,u.paint,z.zoom),q.destroy(),u.heatmapFbos.delete(G)}function Gv(P,u,f){var _,S;const M=P.gl,D=M.createTexture();M.bindTexture(M.TEXTURE_2D,D),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_S,M.CLAMP_TO_EDGE),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_T,M.CLAMP_TO_EDGE),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,M.LINEAR),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MAG_FILTER,M.LINEAR);const z=(_=P.HALF_FLOAT)!==null&&_!==void 0?_:M.UNSIGNED_BYTE,F=(S=P.RGBA16F)!==null&&S!==void 0?S:M.RGBA;M.texImage2D(M.TEXTURE_2D,0,F,u,f,0,M.RGBA,z,null);const G=P.createFramebuffer(u,f,!1,!1);return G.colorAttachment.set(D),G}function vd(P,u){return u.colorRampTexture||(u.colorRampTexture=new a.T(P,u.colorRamp,P.gl.RGBA)),u.colorRampTexture}function Hp(P,u,f,_,S,M,D,z){let F=256;if(S.stepInterpolant){const G=u.getSource().maxzoom,q=D.canonical.z===G?Math.ceil(1<<P.transform.maxZoom-D.canonical.z):1;F=a.an(a.cd(M.maxLineLength/a.a4*1024*q),256,f.maxTextureSize)}return z.gradient=a.ce({expression:S.gradientExpression(),evaluationKey:"lineProgress",resolution:F,image:z.gradient||void 0,clips:M.lineClipsArray}),z.texture?z.texture.update(z.gradient):z.texture=new a.T(f,z.gradient,_.RGBA),z.version=S.gradientVersion,z.texture}function d1(P,u,f,_,S){P.activeTexture.set(u.TEXTURE0),f.imageAtlasTexture.bind(u.LINEAR,u.CLAMP_TO_EDGE),_.updatePaintBuffers(S)}function f1(P,u,f,_,S,M){(S||P.lineAtlas.dirty)&&(u.activeTexture.set(f.TEXTURE0),P.lineAtlas.bind(u)),_.updatePaintBuffers(M)}function Gp(P,u,f,_,S,M,D){const z=M.gradients[S.id];let F=z.texture;S.gradientVersion!==z.version&&(F=Hp(P,u,f,_,S,M,D,z)),f.activeTexture.set(_.TEXTURE0),F.bind(S.stepInterpolant?_.NEAREST:_.LINEAR,_.CLAMP_TO_EDGE)}function Uv(P,u,f,_,S,M,D,z,F){const G=M.gradients[S.id];let q=G.texture;S.gradientVersion!==G.version&&(q=Hp(P,u,f,_,S,M,D,G)),f.activeTexture.set(_.TEXTURE0),q.bind(S.stepInterpolant?_.NEAREST:_.LINEAR,_.CLAMP_TO_EDGE),f.activeTexture.set(_.TEXTURE1),P.lineAtlas.bind(f),z.updatePaintBuffers(F)}function p1(P,u,f,_,S){if(!f||!_||!_.imageAtlas)return;const M=_.imageAtlas.patternPositions;let D=M[f.to.toString()],z=M[f.from.toString()];if(!D&&z&&(D=z),!z&&D&&(z=D),!D||!z){const F=S.getPaintProperty(u);D=M[F],z=M[F]}D&&z&&P.setConstantPatternPositions(D,z)}function Wv(P,u,f,_,S,M,D,z){const F=P.context.gl,G="fill-pattern",q=f.paint.get(G),te=q&&q.constantOr(1),ee=f.getCrossfadeParameters();let ae,fe,we,Se,Pe;const Ae=P.transform,ke=f.paint.get("fill-translate"),Ie=f.paint.get("fill-translate-anchor");D?(fe=te&&!f.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ae=F.LINES):(fe=te?"fillPattern":"fill",ae=F.TRIANGLES);const $e=q.constantOr(null);for(const Ge of _){const Le=u.getTile(Ge);if(te&&!Le.patternsLoaded())continue;const Ze=Le.getBucket(f);if(!Ze)continue;const lt=Ze.programConfigurations.get(f.id),rt=P.useProgram(fe,lt),nt=P.style.map.terrain&&P.style.map.terrain.getTerrainData(Ge);te&&(P.context.activeTexture.set(F.TEXTURE0),Le.imageAtlasTexture.bind(F.LINEAR,F.CLAMP_TO_EDGE),lt.updatePaintBuffers(ee)),p1(lt,G,$e,Le,f);const st=Ae.getProjectionData({overscaledTileID:Ge,applyGlobeMatrix:!z,applyTerrainMatrix:!0}),kt=a.aN(Ae,Le,ke,Ie);if(D){Se=Ze.indexBuffer2,Pe=Ze.segments2;const Tt=[F.drawingBufferWidth,F.drawingBufferHeight];we=fe==="fillOutlinePattern"&&te?aC(P,ee,Le,Tt,kt):Xb(Tt,kt)}else Se=Ze.indexBuffer,Pe=Ze.segments,we=te?Zb(P,ee,Le,kt):{u_fill_translate:kt};const At=P.stencilModeForClipping(Ge);rt.draw(P.context,ae,S,At,M,Qr.backCCW,we,nt,st,f.id,Ze.layoutVertexBuffer,Se,Pe,f.paint,P.transform.zoom,lt)}}function Kn(P,u,f,_,S,M,D,z){const F=P.context,G=F.gl,q="fill-extrusion-pattern",te=f.paint.get(q),ee=te.constantOr(1),ae=f.getCrossfadeParameters(),fe=f.paint.get("fill-extrusion-opacity"),we=te.constantOr(null),Se=P.transform;for(const Pe of _){const Ae=u.getTile(Pe),ke=Ae.getBucket(f);if(!ke)continue;const Ie=P.style.map.terrain&&P.style.map.terrain.getTerrainData(Pe),$e=ke.programConfigurations.get(f.id),Ge=P.useProgram(ee?"fillExtrusionPattern":"fillExtrusion",$e);ee&&(P.context.activeTexture.set(G.TEXTURE0),Ae.imageAtlasTexture.bind(G.LINEAR,G.CLAMP_TO_EDGE),$e.updatePaintBuffers(ae));const Le=Se.getProjectionData({overscaledTileID:Pe,applyGlobeMatrix:!z,applyTerrainMatrix:!0});p1($e,q,we,Ae,f);const Ze=a.aN(Se,Ae,f.paint.get("fill-extrusion-translate"),f.paint.get("fill-extrusion-translate-anchor")),lt=f.paint.get("fill-extrusion-vertical-gradient"),rt=ee?Hc(P,lt,fe,Ze,Pe,ae,Ae):qb(P,lt,fe,Ze);Ge.draw(F,F.gl.TRIANGLES,S,M,D,Qr.backCCW,rt,Ie,Le,f.id,ke.layoutVertexBuffer,ke.indexBuffer,ke.segments,f.paint,P.transform.zoom,$e,P.style.map.terrain&&ke.centroidVertexBuffer)}}function Xs(P,u,f,_,S,M,D,z,F){var G;const q=P.style.projection,te=P.context,ee=P.transform,ae=te.gl,fe=[`#define NUM_ILLUMINATION_SOURCES ${f.paint.get("hillshade-highlight-color").values.length}`],we=P.useProgram("hillshade",null,!1,fe),Se=!P.options.moving;for(const Pe of _){const Ae=u.getTile(Pe),ke=Ae.fbo;if(!ke)continue;const Ie=q.getMeshFromTileID(te,Pe.canonical,z,!0,"raster"),$e=(G=P.style.map.terrain)===null||G===void 0?void 0:G.getTerrainData(Pe);te.activeTexture.set(ae.TEXTURE0),ae.bindTexture(ae.TEXTURE_2D,ke.colorAttachment.get());const Ge=ee.getProjectionData({overscaledTileID:Pe,aligned:Se,applyGlobeMatrix:!F,applyTerrainMatrix:!0});we.draw(te,ae.TRIANGLES,M,S[Pe.overscaledZ],D,Qr.backCCW,Mu(P,Ae,f),$e,Ge,f.id,Ie.vertexBuffer,Ie.indexBuffer,Ie.segments)}}function Vo(P,u,f,_,S,M,D,z,F){var G;const q=P.style.projection,te=P.context,ee=P.transform,ae=te.gl,fe=P.useProgram("colorRelief"),we=!P.options.moving;let Se=!0,Pe=0;for(const Ae of _){const ke=u.getTile(Ae),Ie=ke.dem;if(Se){const rt=ae.getParameter(ae.MAX_TEXTURE_SIZE),{elevationTexture:nt,colorTexture:st}=f.getColorRampTextures(te,rt,Ie.getUnpackVector());te.activeTexture.set(ae.TEXTURE1),nt.bind(ae.NEAREST,ae.CLAMP_TO_EDGE),te.activeTexture.set(ae.TEXTURE4),st.bind(ae.LINEAR,ae.CLAMP_TO_EDGE),Se=!1,Pe=nt.size[0]}if(!Ie||!Ie.data)continue;const $e=Ie.stride,Ge=Ie.getPixels();if(te.activeTexture.set(ae.TEXTURE0),te.pixelStoreUnpackPremultiplyAlpha.set(!1),ke.demTexture=ke.demTexture||P.getTileTexture($e),ke.demTexture){const rt=ke.demTexture;rt.update(Ge,{premultiply:!1}),rt.bind(ae.LINEAR,ae.CLAMP_TO_EDGE)}else ke.demTexture=new a.T(te,Ge,ae.RGBA,{premultiply:!1}),ke.demTexture.bind(ae.LINEAR,ae.CLAMP_TO_EDGE);const Le=q.getMeshFromTileID(te,Ae.canonical,z,!0,"raster"),Ze=(G=P.style.map.terrain)===null||G===void 0?void 0:G.getTerrainData(Ae),lt=ee.getProjectionData({overscaledTileID:Ae,aligned:we,applyGlobeMatrix:!F,applyTerrainMatrix:!0});fe.draw(te,ae.TRIANGLES,M,S[Ae.overscaledZ],D,Qr.backCCW,cd(f,ke.dem,Pe),Ze,lt,f.id,Le.vertexBuffer,Le.indexBuffer,Le.segments)}}const yd=[new a.P(0,0),new a.P(a.a4,0),new a.P(a.a4,a.a4),new a.P(0,a.a4)];function Lu(P,u,f,_,S,M,D,z,F=!1,G=!1){const q=_[_.length-1].overscaledZ,te=P.context,ee=te.gl,ae=P.useProgram("raster"),fe=P.transform,we=P.style.projection,Se=P.colorModeForRenderPass(),Pe=!P.options.moving,Ae=f.paint.get("raster-opacity"),ke=f.paint.get("raster-resampling"),Ie=f.paint.get("raster-fade-duration"),$e=!!P.style.map.terrain;for(const Ge of _){const Le=P.getDepthModeForSublayer(Ge.overscaledZ-q,Ae===1?Dr.ReadWrite:Dr.ReadOnly,ee.LESS),Ze=u.getTile(Ge),lt=ke==="nearest"?ee.NEAREST:ee.LINEAR;te.activeTexture.set(ee.TEXTURE0),Ze.texture.bind(lt,ee.CLAMP_TO_EDGE,ee.LINEAR_MIPMAP_NEAREST),te.activeTexture.set(ee.TEXTURE1);const{parentTile:rt,parentScaleBy:nt,parentTopLeft:st,fadeValues:kt}=m1(Ze,u,Ie,$e);Ze.fadeOpacity=kt.tileOpacity,rt?(rt.fadeOpacity=kt.parentTileOpacity,rt.texture.bind(lt,ee.CLAMP_TO_EDGE,ee.LINEAR_MIPMAP_NEAREST)):Ze.texture.bind(lt,ee.CLAMP_TO_EDGE,ee.LINEAR_MIPMAP_NEAREST),Ze.texture.useMipmap&&te.extTextureFilterAnisotropic&&P.transform.pitch>20&&ee.texParameterf(ee.TEXTURE_2D,te.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,te.extTextureFilterAnisotropicMax);const At=P.style.map.terrain&&P.style.map.terrain.getTerrainData(Ge),Tt=fe.getProjectionData({overscaledTileID:Ge,aligned:Pe,applyGlobeMatrix:!G,applyTerrainMatrix:!0}),er=Rv(st,nt,kt.fadeMix,f,z),Tr=we.getMeshFromTileID(te,Ge.canonical,M,D,"raster");ae.draw(te,ee.TRIANGLES,Le,S?S[Ge.overscaledZ]:Zr.disabled,Se,F?Qr.frontCCW:Qr.backCCW,er,At,Tt,f.id,Tr.vertexBuffer,Tr.indexBuffer,Tr.segments)}}function m1(P,u,f,_){const S={parentTile:null,parentScaleBy:1,parentTopLeft:[0,0],fadeValues:{tileOpacity:1,parentTileOpacity:1,fadeMix:{opacity:1,mix:0}}};if(f===0||_)return S;if(P.fadingParentID){const M=u.getLoadedTile(P.fadingParentID);if(!M)return S;const D=Math.pow(2,M.tileID.overscaledZ-P.tileID.overscaledZ),z=[P.tileID.canonical.x*D%1,P.tileID.canonical.y*D%1],F=(function(G,q,te){const ee=I(),ae=(ee-q.timeAdded)/te,fe=G.fadingDirection===Ne.Incoming,we=a.an((ee-G.timeAdded)/te,0,1),Se=a.an(1-ae,0,1),Pe=fe?we:Se;return{tileOpacity:Pe,parentTileOpacity:fe?Se:we,fadeMix:{opacity:1,mix:1-Pe}}})(P,M,f);return{parentTile:M,parentScaleBy:D,parentTopLeft:z,fadeValues:F}}if(P.selfFading){const M=(function(D,z){const F=(I()-D.timeAdded)/z,G=a.an(F,0,1);return{tileOpacity:G,fadeMix:{opacity:G,mix:0}}})(P,f);return{parentTile:null,parentScaleBy:1,parentTopLeft:[0,0],fadeValues:M}}return S}const Zc=new a.bo(1,0,0,1),qv=new a.bo(0,1,0,1),_d=new a.bo(0,0,1,1),Zv=new a.bo(1,0,1,1),g1=new a.bo(0,1,1,1);function Xv(P,u,f,_){bd(P,0,u+f/2,P.transform.width,f,_)}function Kv(P,u,f,_){bd(P,u-f/2,0,f,P.transform.height,_)}function bd(P,u,f,_,S,M){const D=P.context,z=D.gl;z.enable(z.SCISSOR_TEST),z.scissor(u*P.pixelRatio,f*P.pixelRatio,_*P.pixelRatio,S*P.pixelRatio),D.clear({color:M}),z.disable(z.SCISSOR_TEST)}function v1(P,u,f){const _=P.context,S=_.gl,M=P.useProgram("debug"),D=Dr.disabled,z=Zr.disabled,F=P.colorModeForRenderPass(),G="$debug",q=P.style.map.terrain&&P.style.map.terrain.getTerrainData(f);_.activeTexture.set(S.TEXTURE0);const te=u.getTileByID(f.key).latestRawTileData,ee=Math.floor((te&&te.byteLength||0)/1024),ae=u.getTile(f).tileSize,fe=512/Math.min(ae,512)*(f.overscaledZ/P.transform.zoom)*.5;let we=f.canonical.toString();f.overscaledZ!==f.canonical.z&&(we+=` => ${f.overscaledZ}`),(function(Pe,Ae){Pe.initDebugOverlayCanvas();const ke=Pe.debugOverlayCanvas,Ie=Pe.context.gl,$e=Pe.debugOverlayCanvas.getContext("2d");$e.clearRect(0,0,ke.width,ke.height),$e.shadowColor="white",$e.shadowBlur=2,$e.lineWidth=1.5,$e.strokeStyle="white",$e.textBaseline="top",$e.font="bold 36px Open Sans, sans-serif",$e.fillText(Ae,5,5),$e.strokeText(Ae,5,5),Pe.debugOverlayTexture.update(ke),Pe.debugOverlayTexture.bind(Ie.LINEAR,Ie.CLAMP_TO_EDGE)})(P,`${we} ${ee}kB`);const Se=P.transform.getProjectionData({overscaledTileID:f,applyGlobeMatrix:!0,applyTerrainMatrix:!0});M.draw(_,S.TRIANGLES,D,z,kn.alphaBlended,Qr.disabled,Ev(a.bo.transparent,fe),null,Se,G,P.debugBuffer,P.quadTriangleIndexBuffer,P.debugSegments),M.draw(_,S.LINE_STRIP,D,z,F,Qr.disabled,Ev(a.bo.red),q,Se,G,P.debugBuffer,P.tileBorderIndexBuffer,P.debugSegments)}function Bl(P,u,f,_){const{isRenderingGlobe:S}=_,M=P.context,D=M.gl,z=P.transform,F=P.colorModeForRenderPass(),G=P.getDepthModeFor3D(),q=P.useProgram("terrain");M.bindFramebuffer.set(null),M.viewport.set([0,0,P.width,P.height]);for(const te of f){const ee=u.getTerrainMesh(te.tileID),ae=P.renderToTexture.getTexture(te),fe=u.getTerrainData(te.tileID);M.activeTexture.set(D.TEXTURE0),D.bindTexture(D.TEXTURE_2D,ae.texture);const we=u.getMeshFrameDelta(z.zoom),Se=z.calculateFogMatrix(te.tileID.toUnwrapped()),Pe=Mv(we,Se,P.style.sky,z.pitch,S),Ae=z.getProjectionData({overscaledTileID:te.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});q.draw(M,D.TRIANGLES,G,Zr.disabled,F,Qr.backCCW,Pe,fe,Ae,"terrain",ee.vertexBuffer,ee.indexBuffer,ee.segments)}}function Yv(P,u){if(!u.mesh){const f=new a.aV;f.emplaceBack(-1,-1),f.emplaceBack(1,-1),f.emplaceBack(1,1),f.emplaceBack(-1,1);const _=new a.aX;_.emplaceBack(0,1,2),_.emplaceBack(0,2,3),u.mesh=new Ol(P.createVertexBuffer(f,wi.members),P.createIndexBuffer(_),a.aW.simpleSegment(0,0,f.length,_.length))}return u.mesh}class y1{constructor(u,f){this.context=new zp(u),this.transform=f,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:a.ar(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=zr.maxOverzooming+zr.maxUnderzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Tu}resize(u,f,_){if(this.width=Math.floor(u*_),this.height=Math.floor(f*_),this.pixelRatio=_,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const S of this.style._order)this.style._layers[S].resize()}setup(){const u=this.context,f=new a.aV;f.emplaceBack(0,0),f.emplaceBack(a.a4,0),f.emplaceBack(0,a.a4),f.emplaceBack(a.a4,a.a4),this.tileExtentBuffer=u.createVertexBuffer(f,wi.members),this.tileExtentSegments=a.aW.simpleSegment(0,0,4,2);const _=new a.aV;_.emplaceBack(0,0),_.emplaceBack(a.a4,0),_.emplaceBack(0,a.a4),_.emplaceBack(a.a4,a.a4),this.debugBuffer=u.createVertexBuffer(_,wi.members),this.debugSegments=a.aW.simpleSegment(0,0,4,5);const S=new a.cg;S.emplaceBack(0,0,0,0),S.emplaceBack(a.a4,0,a.a4,0),S.emplaceBack(0,a.a4,0,a.a4),S.emplaceBack(a.a4,a.a4,a.a4,a.a4),this.rasterBoundsBuffer=u.createVertexBuffer(S,ys.members),this.rasterBoundsSegments=a.aW.simpleSegment(0,0,4,2);const M=new a.aV;M.emplaceBack(0,0),M.emplaceBack(a.a4,0),M.emplaceBack(0,a.a4),M.emplaceBack(a.a4,a.a4),this.rasterBoundsBufferPosOnly=u.createVertexBuffer(M,wi.members),this.rasterBoundsSegmentsPosOnly=a.aW.simpleSegment(0,0,4,5);const D=new a.aV;D.emplaceBack(0,0),D.emplaceBack(1,0),D.emplaceBack(0,1),D.emplaceBack(1,1),this.viewportBuffer=u.createVertexBuffer(D,wi.members),this.viewportSegments=a.aW.simpleSegment(0,0,4,2);const z=new a.ch;z.emplaceBack(0),z.emplaceBack(1),z.emplaceBack(3),z.emplaceBack(2),z.emplaceBack(0),this.tileBorderIndexBuffer=u.createIndexBuffer(z);const F=new a.aX;F.emplaceBack(1,0,2),F.emplaceBack(1,2,3),this.quadTriangleIndexBuffer=u.createIndexBuffer(F);const G=this.context.gl;this.stencilClearMode=new Zr({func:G.ALWAYS,mask:0},0,255,G.ZERO,G.ZERO,G.ZERO),this.tileExtentMesh=new Ol(this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}clearStencil(){const u=this.context,f=u.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const _=a.N();a.c6(_,0,this.width,this.height,0,0,1),a.Q(_,_,[f.drawingBufferWidth,f.drawingBufferHeight,0]);const S={mainMatrix:_,tileMercatorCoords:[0,0,1,1],clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:_};this.useProgram("clippingMask",null,!0).draw(u,f.TRIANGLES,Dr.disabled,this.stencilClearMode,kn.disabled,Qr.disabled,null,null,S,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(u,f,_){if(this.currentStencilSource===u.source||!u.isTileClipped()||!f||!f.length)return;this.currentStencilSource=u.source,this.nextStencilID+f.length>256&&this.clearStencil();const S=this.context;S.setColorMode(kn.disabled),S.setDepthMode(Dr.disabled);const M={};for(const D of f)M[D.key]=this.nextStencilID++;this._renderTileMasks(M,f,_,!0),this._renderTileMasks(M,f,_,!1),this._tileClippingMaskIDs=M}_renderTileMasks(u,f,_,S){const M=this.context,D=M.gl,z=this.style.projection,F=this.transform,G=this.useProgram("clippingMask");for(const q of f){const te=u[q.key],ee=this.style.map.terrain&&this.style.map.terrain.getTerrainData(q),ae=z.getMeshFromTileID(this.context,q.canonical,S,!0,"stencil"),fe=F.getProjectionData({overscaledTileID:q,applyGlobeMatrix:!_,applyTerrainMatrix:!0});G.draw(M,D.TRIANGLES,Dr.disabled,new Zr({func:D.ALWAYS,mask:0},te,255,D.KEEP,D.KEEP,D.REPLACE),kn.disabled,_?Qr.disabled:Qr.backCCW,null,ee,fe,"$clipping",ae.vertexBuffer,ae.indexBuffer,ae.segments)}}_renderTilesDepthBuffer(){const u=this.context,f=u.gl,_=this.style.projection,S=this.transform,M=this.useProgram("depth"),D=this.getDepthModeFor3D(),z=xr(S,{tileSize:S.tileSize});for(const F of z){const G=this.style.map.terrain&&this.style.map.terrain.getTerrainData(F),q=_.getMeshFromTileID(this.context,F.canonical,!0,!0,"raster"),te=S.getProjectionData({overscaledTileID:F,applyGlobeMatrix:!0,applyTerrainMatrix:!0});M.draw(u,f.TRIANGLES,D,Zr.disabled,kn.disabled,Qr.backCCW,null,G,te,"$clipping",q.vertexBuffer,q.indexBuffer,q.segments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const u=this.nextStencilID++,f=this.context.gl;return new Zr({func:f.NOTEQUAL,mask:255},u,255,f.KEEP,f.KEEP,f.REPLACE)}stencilModeForClipping(u){const f=this.context.gl;return new Zr({func:f.EQUAL,mask:255},this._tileClippingMaskIDs[u.key],0,f.KEEP,f.KEEP,f.REPLACE)}getStencilConfigForOverlapAndUpdateStencilID(u){const f=this.context.gl,_=u.sort(((D,z)=>z.overscaledZ-D.overscaledZ)),S=_[_.length-1].overscaledZ,M=_[0].overscaledZ-S+1;if(M>1){this.currentStencilSource=void 0,this.nextStencilID+M>256&&this.clearStencil();const D={};for(let z=0;z<M;z++)D[z+S]=new Zr({func:f.GEQUAL,mask:255},z+this.nextStencilID,255,f.KEEP,f.KEEP,f.REPLACE);return this.nextStencilID+=M,[D,_]}return[{[S]:Zr.disabled},_]}stencilConfigForOverlapTwoPass(u){const f=this.context.gl,_=u.sort(((D,z)=>z.overscaledZ-D.overscaledZ)),S=_[_.length-1].overscaledZ,M=_[0].overscaledZ-S+1;if(this.clearStencil(),M>1){const D={},z={};for(let F=0;F<M;F++)D[F+S]=new Zr({func:f.GREATER,mask:255},M+1+F,255,f.KEEP,f.KEEP,f.REPLACE),z[F+S]=new Zr({func:f.GREATER,mask:255},1+F,255,f.KEEP,f.KEEP,f.REPLACE);return this.nextStencilID=2*M+1,[D,z,_]}return this.nextStencilID=3,[{[S]:new Zr({func:f.GREATER,mask:255},2,255,f.KEEP,f.KEEP,f.REPLACE)},{[S]:new Zr({func:f.GREATER,mask:255},1,255,f.KEEP,f.KEEP,f.REPLACE)},_]}colorModeForRenderPass(){const u=this.context.gl;return this._showOverdrawInspector?new kn([u.CONSTANT_COLOR,u.ONE],new a.bo(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?kn.unblended:kn.alphaBlended}getDepthModeForSublayer(u,f,_){if(!this.opaquePassEnabledForLayer())return Dr.disabled;const S=1-((1+this.currentLayer)*this.numSublayers+u)*this.depthEpsilon;return new Dr(_||this.context.gl.LEQUAL,f,[S,S])}getDepthModeFor3D(){return new Dr(this.context.gl.LEQUAL,Dr.ReadWrite,this.depthRangeFor3D)}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(u,f){var _,S;this.style=u,this.options=f,this.lineAtlas=u.lineAtlas,this.imageManager=u.imageManager,this.glyphManager=u.glyphManager,this.symbolFadeChange=u.placement.symbolFadeChange(I()),this.imageManager.beginFrame();const M=this.style._order,D=this.style.tileManagers,z={},F={},G={},q={isRenderingToTexture:!1,isRenderingGlobe:((_=u.projection)===null||_===void 0?void 0:_.transitionState)>0};for(const ee in D){const ae=D[ee];ae.used&&ae.prepare(this.context),z[ee]=ae.getVisibleCoordinates(!1),F[ee]=z[ee].slice().reverse(),G[ee]=ae.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let ee=0;ee<M.length;ee++)if(this.style._layers[M[ee]].is3D()){this.opaquePassCutoff=ee;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const ee of M){const ae=this.style._layers[ee];if(!ae.hasOffscreenPass()||ae.isHidden(this.transform.zoom))continue;const fe=F[ae.source];(ae.type==="custom"||fe.length)&&this.renderLayer(this,D[ae.source],ae,fe,q)}if((S=this.style.projection)===null||S===void 0||S.updateGPUdependent({context:this.context,useProgram:ee=>this.useProgram(ee)}),this.context.viewport.set([0,0,this.width,this.height]),this.context.bindFramebuffer.set(null),this.context.clear({color:f.showOverdrawInspector?a.bo.black:a.bo.transparent,depth:1}),this.clearStencil(),this.style.sky&&(function(ee,ae){const fe=ee.context,we=fe.gl,Se=((Ge,Le,Ze)=>{const lt=Math.cos(Le.rollInRadians),rt=Math.sin(Le.rollInRadians),nt=Ye(Le),st=Le.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}).projectionTransition;return{u_sky_color:Ge.properties.get("sky-color"),u_horizon_color:Ge.properties.get("horizon-color"),u_horizon:[(Le.width/2-nt*rt)*Ze,(Le.height/2+nt*lt)*Ze],u_horizon_normal:[-rt,lt],u_sky_horizon_blend:Ge.properties.get("sky-horizon-blend")*Le.height/2*Ze,u_sky_blend:st}})(ae,ee.style.map.transform,ee.pixelRatio),Pe=new Dr(we.LEQUAL,Dr.ReadWrite,[0,1]),Ae=Zr.disabled,ke=ee.colorModeForRenderPass(),Ie=ee.useProgram("sky"),$e=Yv(fe,ae);Ie.draw(fe,we.TRIANGLES,Pe,Ae,ke,Qr.disabled,Se,null,void 0,"sky",$e.vertexBuffer,$e.indexBuffer,$e.segments)})(this,this.style.sky),this._showOverdrawInspector=f.showOverdrawInspector,this.depthRangeFor3D=[0,1-(u._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=M.length-1;this.currentLayer>=0;this.currentLayer--){const ee=this.style._layers[M[this.currentLayer]],ae=D[ee.source],fe=z[ee.source];this._renderTileClippingMasks(ee,fe,!1),this.renderLayer(this,ae,ee,fe,q)}this.renderPass="translucent";let te=!1;for(this.currentLayer=0;this.currentLayer<M.length;this.currentLayer++){const ee=this.style._layers[M[this.currentLayer]],ae=D[ee.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(ee,q))continue;this.opaquePassEnabledForLayer()||te||(te=!0,q.isRenderingGlobe&&!this.style.map.terrain&&this._renderTilesDepthBuffer());const fe=(ee.type==="symbol"?G:F)[ee.source];this._renderTileClippingMasks(ee,z[ee.source],!!this.renderToTexture),this.renderLayer(this,ae,ee,fe,q)}if(q.isRenderingGlobe&&(function(ee,ae,fe){const we=ee.context,Se=we.gl,Pe=ee.useProgram("atmosphere"),Ae=new Dr(Se.LEQUAL,Dr.ReadOnly,[0,1]),ke=ee.transform,Ie=(function(st,kt){const At=st.properties.get("position"),Tt=[-At.x,-At.y,-At.z],er=a.ar(new Float64Array(16));return st.properties.get("anchor")==="map"&&(a.bf(er,er,kt.rollInRadians),a.bg(er,er,-kt.pitchInRadians),a.bf(er,er,kt.bearingInRadians),a.bg(er,er,kt.center.lat*Math.PI/180),a.bI(er,er,-kt.center.lng*Math.PI/180)),a.cf(Tt,Tt,er),Tt})(fe,ee.transform),$e=ke.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),Ge=ae.properties.get("atmosphere-blend")*$e.projectionTransition;if(Ge===0)return;const Le=xp(ke.worldSize,ke.center.lat),Ze=ke.inverseProjectionMatrix,lt=new Float64Array(4);lt[3]=1,a.aG(lt,lt,ke.modelViewProjectionMatrix),lt[0]/=lt[3],lt[1]/=lt[3],lt[2]/=lt[3],lt[3]=1,a.aG(lt,lt,Ze),lt[0]/=lt[3],lt[1]/=lt[3],lt[2]/=lt[3],lt[3]=1;const rt=((st,kt,At,Tt,er)=>({u_sun_pos:st,u_atmosphere_blend:kt,u_globe_position:At,u_globe_radius:Tt,u_inv_proj_matrix:er}))(Ie,Ge,[lt[0],lt[1],lt[2]],Le,Ze),nt=Yv(we,ae);Pe.draw(we,Se.TRIANGLES,Ae,Zr.disabled,kn.alphaBlended,Qr.disabled,rt,null,null,"atmosphere",nt.vertexBuffer,nt.indexBuffer,nt.segments)})(this,this.style.sky,this.style.light),this.options.showTileBoundaries){const ee=(function(ae,fe){let we=null;const Se=Object.values(ae._layers).flatMap((Ie=>Ie.source&&!Ie.isHidden(fe)?[ae.tileManagers[Ie.source]]:[])),Pe=Se.filter((Ie=>Ie.getSource().type==="vector")),Ae=Se.filter((Ie=>Ie.getSource().type!=="vector")),ke=Ie=>{(!we||we.getSource().maxzoom<Ie.getSource().maxzoom)&&(we=Ie)};return Pe.forEach((Ie=>ke(Ie))),we||Ae.forEach((Ie=>ke(Ie))),we})(this.style,this.transform.zoom);ee&&(function(ae,fe,we){for(let Se=0;Se<we.length;Se++)v1(ae,fe,we[Se])})(this,ee,ee.getVisibleCoordinates())}this.options.showPadding&&(function(ee){const ae=ee.transform.padding;Xv(ee,ee.transform.height-(ae.top||0),3,Zc),Xv(ee,ae.bottom||0,3,qv),Kv(ee,ae.left||0,3,_d),Kv(ee,ee.transform.width-(ae.right||0),3,Zv);const fe=ee.transform.centerPoint;(function(we,Se,Pe,Ae){bd(we,Se-1,Pe-10,2,20,Ae),bd(we,Se-10,Pe-1,20,2,Ae)})(ee,fe.x,ee.transform.height-fe.y,g1)})(this),this.context.setDefault()}maybeDrawDepthAndCoords(u){if(!this.style||!this.style.map||!this.style.map.terrain)return;const f=this.terrainFacilitator.matrix,_=this.transform.modelViewProjectionMatrix;let S=this.terrainFacilitator.dirty;S||(S=u?!a.ci(f,_):!a.cj(f,_)),S||(S=this.style.map.terrain.tileManager.anyTilesAfterTime(this.terrainFacilitator.renderTime)),S&&(a.ck(f,_),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,(function(M,D){const z=M.context,F=z.gl,G=M.transform,q=kn.unblended,te=new Dr(F.LEQUAL,Dr.ReadWrite,[0,1]),ee=D.tileManager.getRenderableTiles(),ae=M.useProgram("terrainDepth");z.bindFramebuffer.set(D.getFramebuffer("depth").framebuffer),z.viewport.set([0,0,M.width/devicePixelRatio,M.height/devicePixelRatio]),z.clear({color:a.bo.transparent,depth:1});for(const fe of ee){const we=D.getTerrainMesh(fe.tileID),Se=D.getTerrainData(fe.tileID),Pe=G.getProjectionData({overscaledTileID:fe.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0}),Ae={u_ele_delta:D.getMeshFrameDelta(G.zoom)};ae.draw(z,F.TRIANGLES,te,Zr.disabled,q,Qr.backCCW,Ae,Se,Pe,"terrain",we.vertexBuffer,we.indexBuffer,we.segments)}z.bindFramebuffer.set(null),z.viewport.set([0,0,M.width,M.height])})(this,this.style.map.terrain),(function(M,D){const z=M.context,F=z.gl,G=M.transform,q=kn.unblended,te=new Dr(F.LEQUAL,Dr.ReadWrite,[0,1]),ee=D.getCoordsTexture(),ae=D.tileManager.getRenderableTiles(),fe=M.useProgram("terrainCoords");z.bindFramebuffer.set(D.getFramebuffer("coords").framebuffer),z.viewport.set([0,0,M.width/devicePixelRatio,M.height/devicePixelRatio]),z.clear({color:a.bo.transparent,depth:1}),D.coordsIndex=[];for(const we of ae){const Se=D.getTerrainMesh(we.tileID),Pe=D.getTerrainData(we.tileID);z.activeTexture.set(F.TEXTURE0),F.bindTexture(F.TEXTURE_2D,ee.texture);const Ae={u_terrain_coords_id:(255-D.coordsIndex.length)/255,u_texture:0,u_ele_delta:D.getMeshFrameDelta(G.zoom)},ke=G.getProjectionData({overscaledTileID:we.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});fe.draw(z,F.TRIANGLES,te,Zr.disabled,q,Qr.backCCW,Ae,Pe,ke,"terrain",Se.vertexBuffer,Se.indexBuffer,Se.segments),D.coordsIndex.push(we.tileID.key)}z.bindFramebuffer.set(null),z.viewport.set([0,0,M.width,M.height])})(this,this.style.map.terrain))}renderLayer(u,f,_,S,M){_.isHidden(this.transform.zoom)||(_.type==="background"||_.type==="custom"||(S||[]).length)&&(this.id=_.id,a.cl(_)?(function(D,z,F,G,q,te){if(D.renderPass!=="translucent")return;const{isRenderingToTexture:ee}=te,ae=Zr.disabled,fe=D.colorModeForRenderPass();(F._unevaluatedLayout.hasValue("text-variable-anchor")||F._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&(function(we,Se,Pe,Ae,ke,Ie,$e,Ge,Le){const Ze=Se.transform,lt=Se.style.map.terrain,rt=ke==="map",nt=Ie==="map";for(const st of we){const kt=Ae.getTile(st),At=kt.getBucket(Pe);if(!At||!At.text||!At.text.segments.get().length)continue;const Tt=a.ax(At.textSizeData,Ze.zoom),er=a.aM(kt,1,Se.transform.zoom),Tr=ii(rt,Se.transform,er),wr=Pe.layout.get("icon-text-fit")!=="none"&&At.hasIconData();if(Tt){const An=Math.pow(2,Ze.zoom-kt.tileID.overscaledZ),Dn=lt?(Yn,bn)=>lt.getElevation(st,Yn,bn):null;Vp(At,rt,nt,Le,Ze,Tr,An,Tt,wr,a.aN(Ze,kt,$e,Ge),st.toUnwrapped(),Dn)}}})(G,D,F,z,F.layout.get("text-rotation-alignment"),F.layout.get("text-pitch-alignment"),F.paint.get("text-translate"),F.paint.get("text-translate-anchor"),q),F.paint.get("icon-opacity").constantOr(1)!==0&&jp(D,z,F,G,!1,F.paint.get("icon-translate"),F.paint.get("icon-translate-anchor"),F.layout.get("icon-rotation-alignment"),F.layout.get("icon-pitch-alignment"),F.layout.get("icon-keep-upright"),ae,fe,ee),F.paint.get("text-opacity").constantOr(1)!==0&&jp(D,z,F,G,!0,F.paint.get("text-translate"),F.paint.get("text-translate-anchor"),F.layout.get("text-rotation-alignment"),F.layout.get("text-pitch-alignment"),F.layout.get("text-keep-upright"),ae,fe,ee),z.map.showCollisionBoxes&&(Bp(D,z,F,G,!0),Bp(D,z,F,G,!1))})(u,f,_,S,this.style.placement.variableOffsets,M):a.cm(_)?(function(D,z,F,G,q){if(D.renderPass!=="translucent")return;const{isRenderingToTexture:te}=q,ee=F.paint.get("circle-opacity"),ae=F.paint.get("circle-stroke-width"),fe=F.paint.get("circle-stroke-opacity"),we=!F.layout.get("circle-sort-key").isConstant();if(ee.constantOr(1)===0&&(ae.constantOr(1)===0||fe.constantOr(1)===0))return;const Se=D.context,Pe=Se.gl,Ae=D.transform,ke=D.getDepthModeForSublayer(0,Dr.ReadOnly),Ie=Zr.disabled,$e=D.colorModeForRenderPass(),Ge=[],Le=Ae.getCircleRadiusCorrection();for(let Ze=0;Ze<G.length;Ze++){const lt=G[Ze],rt=z.getTile(lt),nt=rt.getBucket(F);if(!nt)continue;const st=F.paint.get("circle-translate"),kt=F.paint.get("circle-translate-anchor"),At=a.aN(Ae,rt,st,kt),Tt=nt.programConfigurations.get(F.id),er=D.useProgram("circle",Tt),Tr=nt.layoutVertexBuffer,wr=nt.indexBuffer,An=D.style.map.terrain&&D.style.map.terrain.getTerrainData(lt),Dn={programConfiguration:Tt,program:er,layoutVertexBuffer:Tr,indexBuffer:wr,uniformValues:Kb(D,rt,F,At,Le),terrainData:An,projectionData:Ae.getProjectionData({overscaledTileID:lt,applyGlobeMatrix:!te,applyTerrainMatrix:!0})};if(we){const Yn=nt.segments.get();for(const bn of Yn)Ge.push({segments:new a.aW([bn]),sortKey:bn.sortKey,state:Dn})}else Ge.push({segments:nt.segments,sortKey:0,state:Dn})}we&&Ge.sort(((Ze,lt)=>Ze.sortKey-lt.sortKey));for(const Ze of Ge){const{programConfiguration:lt,program:rt,layoutVertexBuffer:nt,indexBuffer:st,uniformValues:kt,terrainData:At,projectionData:Tt}=Ze.state;rt.draw(Se,Pe.TRIANGLES,ke,Ie,$e,Qr.backCCW,kt,At,Tt,F.id,nt,st,Ze.segments,F.paint,D.transform.zoom,lt)}})(u,f,_,S,M):a.cn(_)?(function(D,z,F,G,q){if(F.paint.get("heatmap-opacity")===0)return;const te=D.context,{isRenderingToTexture:ee,isRenderingGlobe:ae}=q;if(D.style.map.terrain){for(const fe of G){const we=z.getTile(fe);z.hasRenderableParent(fe)||(D.renderPass==="offscreen"?gd(D,we,F,fe,ae):D.renderPass==="translucent"&&gC(D,F,fe,ee,ae))}te.viewport.set([0,0,D.width,D.height])}else D.renderPass==="offscreen"?(function(fe,we,Se,Pe){const Ae=fe.context,ke=Ae.gl,Ie=fe.transform,$e=Zr.disabled,Ge=new kn([ke.ONE,ke.ONE],a.bo.transparent,[!0,!0,!0,!0]);(function(Le,Ze,lt){const rt=Le.gl;Le.activeTexture.set(rt.TEXTURE1),Le.viewport.set([0,0,Ze.width/4,Ze.height/4]);let nt=lt.heatmapFbos.get(a.cc);nt?(rt.bindTexture(rt.TEXTURE_2D,nt.colorAttachment.get()),Le.bindFramebuffer.set(nt.framebuffer)):(nt=Gv(Le,Ze.width/4,Ze.height/4),lt.heatmapFbos.set(a.cc,nt))})(Ae,fe,Se),Ae.clear({color:a.bo.transparent});for(let Le=0;Le<Pe.length;Le++){const Ze=Pe[Le];if(we.hasRenderableParent(Ze))continue;const lt=we.getTile(Ze),rt=lt.getBucket(Se);if(!rt)continue;const nt=rt.programConfigurations.get(Se.id),st=fe.useProgram("heatmap",nt),kt=Ie.getProjectionData({overscaledTileID:Ze,applyGlobeMatrix:!0,applyTerrainMatrix:!1}),At=Ie.getCircleRadiusCorrection();st.draw(Ae,ke.TRIANGLES,Dr.disabled,$e,Ge,Qr.backCCW,Av(lt,Ie.zoom,Se.paint.get("heatmap-intensity"),At),null,kt,Se.id,rt.layoutVertexBuffer,rt.indexBuffer,rt.segments,Se.paint,Ie.zoom,nt)}Ae.viewport.set([0,0,fe.width,fe.height])})(D,z,F,G):D.renderPass==="translucent"&&(function(fe,we){const Se=fe.context,Pe=Se.gl;Se.setColorMode(fe.colorModeForRenderPass());const Ae=we.heatmapFbos.get(a.cc);Ae&&(Se.activeTexture.set(Pe.TEXTURE0),Pe.bindTexture(Pe.TEXTURE_2D,Ae.colorAttachment.get()),Se.activeTexture.set(Pe.TEXTURE1),vd(Se,we).bind(Pe.LINEAR,Pe.CLAMP_TO_EDGE),fe.useProgram("heatmapTexture").draw(Se,Pe.TRIANGLES,Dr.disabled,Zr.disabled,fe.colorModeForRenderPass(),Qr.disabled,Dv(fe,we,0,1),null,null,we.id,fe.viewportBuffer,fe.quadTriangleIndexBuffer,fe.viewportSegments,we.paint,fe.transform.zoom))})(D,F)})(u,f,_,S,M):a.co(_)?(function(D,z,F,G,q){if(D.renderPass!=="translucent")return;const{isRenderingToTexture:te}=q,ee=F.paint.get("line-opacity"),ae=F.paint.get("line-width");if(ee.constantOr(1)===0||ae.constantOr(1)===0)return;const fe=D.getDepthModeForSublayer(0,Dr.ReadOnly),we=D.colorModeForRenderPass(),Se=F.paint.get("line-dasharray"),Pe=Se.constantOr(1),Ae=F.paint.get("line-pattern"),ke=Ae.constantOr(1),Ie=F.paint.get("line-gradient"),$e=F.getCrossfadeParameters();let Ge;Ge=ke?"linePattern":Pe&&Ie?"lineGradientSDF":Pe?"lineSDF":Ie?"lineGradient":"line";const Le=D.context,Ze=Le.gl,lt=D.transform;let rt=!0;for(const nt of G){const st=z.getTile(nt);if(ke&&!st.patternsLoaded())continue;const kt=st.getBucket(F);if(!kt)continue;const At=kt.programConfigurations.get(F.id),Tt=D.context.program.get(),er=D.useProgram(Ge,At),Tr=rt||er.program!==Tt,wr=D.style.map.terrain&&D.style.map.terrain.getTerrainData(nt),An=Ae.constantOr(null),Dn=Se&&Se.constantOr(null);if(An&&st.imageAtlas){const gi=st.imageAtlas,fi=gi.patternPositions[An.to.toString()],vi=gi.patternPositions[An.from.toString()];fi&&vi&&At.setConstantPatternPositions(fi,vi)}else if(Dn){const gi=F.layout.get("line-cap")==="round",fi=D.lineAtlas.getDash(Dn.to,gi),vi=D.lineAtlas.getDash(Dn.from,gi);At.setConstantDashPositions(fi,vi)}const Yn=lt.getProjectionData({overscaledTileID:nt,applyGlobeMatrix:!te,applyTerrainMatrix:!0}),bn=lt.getPixelScale();let Ti;ke?(Ti=sC(D,st,F,bn,$e),d1(Le,Ze,st,At,$e)):Pe&&Ie?(Ti=e1(D,st,F,bn,$e,kt.lineClipsArray.length),Uv(D,z,Le,Ze,F,kt,nt,At,$e)):Pe?(Ti=lC(D,st,F,bn,$e),f1(D,Le,Ze,At,Tr,$e)):Ie?(Ti=hd(D,st,F,bn,kt.lineClipsArray.length),Gp(D,z,Le,Ze,F,kt,nt)):Ti=Pp(D,st,F,bn);const Vn=D.stencilModeForClipping(nt);er.draw(Le,Ze.TRIANGLES,fe,Vn,we,Qr.disabled,Ti,wr,Yn,F.id,kt.layoutVertexBuffer,kt.indexBuffer,kt.segments,F.paint,D.transform.zoom,At,kt.layoutVertexBuffer2),rt=!1}})(u,f,_,S,M):a.cp(_)?(function(D,z,F,G,q){const te=F.paint.get("fill-color"),ee=F.paint.get("fill-opacity");if(ee.constantOr(1)===0)return;const{isRenderingToTexture:ae}=q,fe=D.colorModeForRenderPass(),we=F.paint.get("fill-pattern"),Se=D.opaquePassEnabledForLayer()&&!we.constantOr(1)&&te.constantOr(a.bo.transparent).a===1&&ee.constantOr(0)===1?"opaque":"translucent";if(D.renderPass===Se){const Pe=D.getDepthModeForSublayer(1,D.renderPass==="opaque"?Dr.ReadWrite:Dr.ReadOnly);Wv(D,z,F,G,Pe,fe,!1,ae)}if(D.renderPass==="translucent"&&F.paint.get("fill-antialias")){const Pe=D.getDepthModeForSublayer(F.getPaintProperty("fill-outline-color")?2:0,Dr.ReadOnly);Wv(D,z,F,G,Pe,fe,!0,ae)}})(u,f,_,S,M):a.cq(_)?(function(D,z,F,G,q){const te=F.paint.get("fill-extrusion-opacity");if(te===0)return;const{isRenderingToTexture:ee}=q;if(D.renderPass==="translucent"){const ae=new Dr(D.context.gl.LEQUAL,Dr.ReadWrite,D.depthRangeFor3D);if(te!==1||F.paint.get("fill-extrusion-pattern").constantOr(1))Kn(D,z,F,G,ae,Zr.disabled,kn.disabled,ee),Kn(D,z,F,G,ae,D.stencilModeFor3D(),D.colorModeForRenderPass(),ee);else{const fe=D.colorModeForRenderPass();Kn(D,z,F,G,ae,Zr.disabled,fe,ee)}}})(u,f,_,S,M):a.cr(_)?(function(D,z,F,G,q){if(D.renderPass!=="offscreen"&&D.renderPass!=="translucent")return;const{isRenderingToTexture:te}=q,ee=D.context,ae=D.style.projection.useSubdivision,fe=D.getDepthModeForSublayer(0,Dr.ReadOnly),we=D.colorModeForRenderPass();if(D.renderPass==="offscreen")(function(Se,Pe,Ae,ke,Ie,$e,Ge){const Le=Se.context,Ze=Le.gl;for(const lt of Ae){const rt=Pe.getTile(lt),nt=rt.dem;if(!nt||!nt.data||!rt.needsHillshadePrepare)continue;const st=nt.dim,kt=nt.stride,At=nt.getPixels();if(Le.activeTexture.set(Ze.TEXTURE1),Le.pixelStoreUnpackPremultiplyAlpha.set(!1),rt.demTexture=rt.demTexture||Se.getTileTexture(kt),rt.demTexture){const er=rt.demTexture;er.update(At,{premultiply:!1}),er.bind(Ze.NEAREST,Ze.CLAMP_TO_EDGE)}else rt.demTexture=new a.T(Le,At,Ze.RGBA,{premultiply:!1}),rt.demTexture.bind(Ze.NEAREST,Ze.CLAMP_TO_EDGE);Le.activeTexture.set(Ze.TEXTURE0);let Tt=rt.fbo;if(!Tt){const er=new a.T(Le,{width:st,height:st,data:null},Ze.RGBA);er.bind(Ze.LINEAR,Ze.CLAMP_TO_EDGE),Tt=rt.fbo=Le.createFramebuffer(st,st,!0,!1),Tt.colorAttachment.set(er.texture)}Le.bindFramebuffer.set(Tt.framebuffer),Le.viewport.set([0,0,st,st]),Se.useProgram("hillshadePrepare").draw(Le,Ze.TRIANGLES,Ie,$e,Ge,Qr.disabled,Jb(rt.tileID,nt),null,null,ke.id,Se.rasterBoundsBuffer,Se.quadTriangleIndexBuffer,Se.rasterBoundsSegments),rt.needsHillshadePrepare=!1}})(D,z,G,F,fe,Zr.disabled,we),ee.viewport.set([0,0,D.width,D.height]);else if(D.renderPass==="translucent")if(ae){const[Se,Pe,Ae]=D.stencilConfigForOverlapTwoPass(G);Xs(D,z,F,Ae,Se,fe,we,!1,te),Xs(D,z,F,Ae,Pe,fe,we,!0,te)}else{const[Se,Pe]=D.getStencilConfigForOverlapAndUpdateStencilID(G);Xs(D,z,F,Pe,Se,fe,we,!1,te)}})(u,f,_,S,M):a.cs(_)?(function(D,z,F,G,q){if(D.renderPass!=="translucent"||!G.length)return;const{isRenderingToTexture:te}=q,ee=D.style.projection.useSubdivision,ae=D.getDepthModeForSublayer(0,Dr.ReadOnly),fe=D.colorModeForRenderPass();if(ee){const[we,Se,Pe]=D.stencilConfigForOverlapTwoPass(G);Vo(D,z,F,Pe,we,ae,fe,!1,te),Vo(D,z,F,Pe,Se,ae,fe,!0,te)}else{const[we,Se]=D.getStencilConfigForOverlapAndUpdateStencilID(G);Vo(D,z,F,Se,we,ae,fe,!1,te)}})(u,f,_,S,M):a.bT(_)?(function(D,z,F,G,q){if(D.renderPass!=="translucent"||F.paint.get("raster-opacity")===0||!G.length)return;const{isRenderingToTexture:te}=q,ee=z.getSource(),ae=D.style.projection.useSubdivision;if(ee instanceof Gt)Lu(D,z,F,G,null,!1,!1,ee.tileCoords,ee.flippedWindingOrder,te);else if(ae){const[fe,we,Se]=D.stencilConfigForOverlapTwoPass(G);Lu(D,z,F,Se,fe,!1,!0,yd,!1,te),Lu(D,z,F,Se,we,!0,!0,yd,!1,te)}else{const[fe,we]=D.getStencilConfigForOverlapAndUpdateStencilID(G);Lu(D,z,F,we,fe,!1,!0,yd,!1,te)}})(u,f,_,S,M):a.ct(_)?(function(D,z,F,G,q){const te=F.paint.get("background-color"),ee=F.paint.get("background-opacity");if(ee===0)return;const{isRenderingToTexture:ae}=q,fe=D.context,we=fe.gl,Se=D.style.projection,Pe=D.transform,Ae=Pe.tileSize,ke=F.paint.get("background-pattern");if(D.isPatternMissing(ke))return;const Ie=!ke&&te.a===1&&ee===1&&D.opaquePassEnabledForLayer()?"opaque":"translucent";if(D.renderPass!==Ie)return;const $e=Zr.disabled,Ge=D.getDepthModeForSublayer(0,Ie==="opaque"?Dr.ReadWrite:Dr.ReadOnly),Le=D.colorModeForRenderPass(),Ze=D.useProgram(ke?"backgroundPattern":"background"),lt=G||xr(Pe,{tileSize:Ae,terrain:D.style.map.terrain});ke&&(fe.activeTexture.set(we.TEXTURE0),D.imageManager.bind(D.context));const rt=F.getCrossfadeParameters();for(const nt of lt){const st=Pe.getProjectionData({overscaledTileID:nt,applyGlobeMatrix:!ae,applyTerrainMatrix:!0}),kt=ke?$v(ee,D,ke,{tileID:nt,tileSize:Ae},rt):kv(ee,te),At=D.style.map.terrain&&D.style.map.terrain.getTerrainData(nt),Tt=Se.getMeshFromTileID(fe,nt.canonical,!1,!0,"raster");Ze.draw(fe,we.TRIANGLES,Ge,$e,Le,Qr.backCCW,kt,At,st,F.id,Tt.vertexBuffer,Tt.indexBuffer,Tt.segments)}})(u,0,_,S,M):a.cu(_)&&(function(D,z,F,G){const{isRenderingGlobe:q}=G,te=D.context,ee=F.implementation,ae=D.style.projection,fe=D.transform,we=fe.getProjectionDataForCustomLayer(q),Se={farZ:fe.farZ,nearZ:fe.nearZ,fov:fe.fov*Math.PI/180,modelViewProjectionMatrix:fe.modelViewProjectionMatrix,projectionMatrix:fe.projectionMatrix,shaderData:{variantName:ae.shaderVariantName,vertexShaderPrelude:`const float PI = 3.141592653589793;
uniform mat4 u_projection_matrix;
${ae.shaderPreludeCode.vertexSource}`,define:ae.shaderDefine},defaultProjectionData:we},Pe=ee.renderingMode?ee.renderingMode:"2d";if(D.renderPass==="offscreen"){const Ae=ee.prerender;Ae&&(D.setCustomLayerDefaults(),te.setColorMode(D.colorModeForRenderPass()),Ae.call(ee,te.gl,Se),te.setDirty(),D.setBaseState())}else if(D.renderPass==="translucent"){D.setCustomLayerDefaults(),te.setColorMode(D.colorModeForRenderPass()),te.setStencilMode(Zr.disabled);const Ae=Pe==="3d"?D.getDepthModeFor3D():D.getDepthModeForSublayer(0,Dr.ReadOnly);te.setDepthMode(Ae),ee.render(te.gl,Se),te.setDirty(),D.setBaseState(),te.bindFramebuffer.set(null)}})(u,0,_,M))}saveTileTexture(u){const f=this._tileTextures[u.size[0]];f?f.push(u):this._tileTextures[u.size[0]]=[u]}getTileTexture(u){const f=this._tileTextures[u];return f&&f.length>0?f.pop():null}isPatternMissing(u){if(!u)return!1;if(!u.from||!u.to)return!0;const f=this.imageManager.getPattern(u.from.toString()),_=this.imageManager.getPattern(u.to.toString());return!f||!_}useProgram(u,f,_=!1,S=[]){this.cache=this.cache||{};const M=!!this.style.map.terrain,D=this.style.projection,z=_?ba.projectionMercator:D.shaderPreludeCode,F=_?fo:D.shaderDefine,G=u+(f?f.cacheKey:"")+`/${_?po:D.shaderVariantName}`+(this._showOverdrawInspector?"/overdraw":"")+(M?"/terrain":"")+(S?`/${S.join("/")}`:"");return this.cache[G]||(this.cache[G]=new oC(this.context,ba[u],f,Bv[u],this._showOverdrawInspector,M,z,F,S)),this.cache[G]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const u=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(u.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new a.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){var u,f;if(this._tileTextures){for(const _ in this._tileTextures){const S=this._tileTextures[_];if(S)for(const M of S)M.destroy()}this._tileTextures={}}if(this.tileExtentBuffer&&this.tileExtentBuffer.destroy(),this.debugBuffer&&this.debugBuffer.destroy(),this.rasterBoundsBuffer&&this.rasterBoundsBuffer.destroy(),this.rasterBoundsBufferPosOnly&&this.rasterBoundsBufferPosOnly.destroy(),this.viewportBuffer&&this.viewportBuffer.destroy(),this.tileBorderIndexBuffer&&this.tileBorderIndexBuffer.destroy(),this.quadTriangleIndexBuffer&&this.quadTriangleIndexBuffer.destroy(),this.tileExtentMesh&&((u=this.tileExtentMesh.vertexBuffer)===null||u===void 0||u.destroy()),this.tileExtentMesh&&((f=this.tileExtentMesh.indexBuffer)===null||f===void 0||f.destroy()),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.cache){for(const _ in this.cache){const S=this.cache[_];S&&S.program&&this.context.gl.deleteProgram(S.program)}this.cache={}}this.context&&this.context.setDefault()}overLimit(){const{drawingBufferWidth:u,drawingBufferHeight:f}=this.context.gl;return this.width!==u||this.height!==f}}function Jv(P,u){let f,_=!1,S=null,M=null;const D=()=>{S=null,_&&(P.apply(M,f),S=setTimeout(D,u),_=!1)};return(...z)=>(_=!0,M=this,f=z,S||D(),S)}class Qv{constructor(u){this._getCurrentHash=()=>{const f=window.location.hash.replace("#","");if(this._hashName){let _;return f.split("&").map((S=>S.split("="))).forEach((S=>{S[0]===this._hashName&&(_=S)})),(_&&_[1]||"").split("/")}return f.split("/")},this._onHashChange=()=>{const f=this._getCurrentHash();if(!this._isValidHash(f))return!1;const _=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(f[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+f[2],+f[1]],zoom:+f[0],bearing:_,pitch:+(f[4]||0)}),!0},this._updateHashUnthrottled=()=>{const f=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,f)},this._removeHash=()=>{const f=this._getCurrentHash();if(f.length===0)return;const _=f.join("/");let S=_;S.split("&").length>0&&(S=S.split("&")[0]),this._hashName&&(S=`${this._hashName}=${_}`);let M=window.location.hash.replace(S,"");M.startsWith("#&")?M=M.slice(0,1)+M.slice(2):M==="#"&&(M="");let D=window.location.href.replace(/(#.+)?$/,M);D=D.replace("&&","&"),window.history.replaceState(window.history.state,null,D)},this._updateHash=Jv(this._updateHashUnthrottled,300),this._hashName=u&&encodeURIComponent(u)}addTo(u){return this._map=u,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(u){const f=this._map.getCenter(),_=Math.round(100*this._map.getZoom())/100,S=Math.ceil((_*Math.LN2+Math.log(512/360/.5))/Math.LN10),M=Math.pow(10,S),D=Math.round(f.lng*M)/M,z=Math.round(f.lat*M)/M,F=this._map.getBearing(),G=this._map.getPitch();let q="";if(q+=u?`/${D}/${z}/${_}`:`${_}/${z}/${D}`,(F||G)&&(q+="/"+Math.round(10*F)/10),G&&(q+=`/${Math.round(G)}`),this._hashName){const te=this._hashName;let ee=!1;const ae=window.location.hash.slice(1).split("&").map((fe=>{const we=fe.split("=")[0];return we===te?(ee=!0,`${we}=${q}`):fe})).filter((fe=>fe));return ee||ae.push(`${te}=${q}`),`#${ae.join("&")}`}return`#${q}`}_isValidHash(u){if(u.length<3||u.some(isNaN))return!1;try{new a.V(+u[2],+u[1])}catch{return!1}const f=+u[0],_=+(u[3]||0),S=+(u[4]||0);return f>=this._map.getMinZoom()&&f<=this._map.getMaxZoom()&&_>=-180&&_<=180&&S>=this._map.getMinPitch()&&S<=this._map.getMaxPitch()}}const Xc={linearity:.3,easing:a.cv(0,0,.3,1)},_1=a.e({deceleration:2500,maxSpeed:1400},Xc),b1=a.e({deceleration:20,maxSpeed:1400},Xc),x1=a.e({deceleration:1e3,maxSpeed:360},Xc),Up=a.e({deceleration:1e3,maxSpeed:90},Xc),w1=a.e({deceleration:1e3,maxSpeed:360},Xc);class wa{constructor(u){this._map=u,this.clear()}clear(){this._inertiaBuffer=[]}record(u){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:I(),settings:u})}_drainInertiaBuffer(){const u=this._inertiaBuffer,f=I();for(;u.length>0&&f-u[0].time>160;)u.shift()}_onMoveEnd(u){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const f={zoom:0,bearing:0,pitch:0,roll:0,pan:new a.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:M}of this._inertiaBuffer)f.zoom+=M.zoomDelta||0,f.bearing+=M.bearingDelta||0,f.pitch+=M.pitchDelta||0,f.roll+=M.rollDelta||0,M.panDelta&&f.pan._add(M.panDelta),M.around&&(f.around=M.around),M.pinchAround&&(f.pinchAround=M.pinchAround);const _=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,S={};if(f.pan.mag()){const M=Kc(f.pan.mag(),_,a.e({},_1,u||{})),D=f.pan.mult(M.amount/f.pan.mag()),z=this._map.cameraHelper.handlePanInertia(D,this._map.transform);S.center=z.easingCenter,S.offset=z.easingOffset,Co(S,M)}if(f.zoom){const M=Kc(f.zoom,_,b1);S.zoom=this._map.transform.zoom+M.amount,Co(S,M)}if(f.bearing){const M=Kc(f.bearing,_,x1);S.bearing=this._map.transform.bearing+a.an(M.amount,-179,179),Co(S,M)}if(f.pitch){const M=Kc(f.pitch,_,Up);S.pitch=this._map.transform.pitch+M.amount,Co(S,M)}if(f.roll){const M=Kc(f.roll,_,w1);S.roll=this._map.transform.roll+a.an(M.amount,-179,179),Co(S,M)}if(S.zoom||S.bearing){const M=f.pinchAround===void 0?f.around:f.pinchAround;S.around=M?this._map.unproject(M):this._map.getCenter()}return this.clear(),a.e(S,{noMoveStart:!0})}}function Co(P,u){(!P.duration||P.duration<u.duration)&&(P.duration=u.duration,P.easing=u.easing)}function Kc(P,u,f){const{maxSpeed:_,linearity:S,deceleration:M}=f,D=a.an(P*S/(u/1e3),-_,_),z=Math.abs(D)/(M*S);return{easing:f.easing,duration:1e3*z,amount:D*(z/2)}}class oi extends a.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(u,f,_,S={}){_=_ instanceof MouseEvent?_:new MouseEvent(u,_);const M=A.mousePos(f.getCanvas(),_),D=f.unproject(M);super(u,a.e({point:M,lngLat:D,originalEvent:_},S)),this._defaultPrevented=!1,this.target=f}}class xd extends a.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(u,f,_){const S=u==="touchend"?_.changedTouches:_.touches,M=A.touchPos(f.getCanvasContainer(),S),D=M.map((F=>f.unproject(F))),z=M.reduce(((F,G,q,te)=>F.add(G.div(te.length))),new a.P(0,0));super(u,{points:M,point:z,lngLats:D,lngLat:f.unproject(z),originalEvent:_}),this._defaultPrevented=!1}}class Ru extends a.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(u,f,_){super(u,{originalEvent:_}),this._defaultPrevented=!1}}class vC{constructor(u,f){this._map=u,this._clickTolerance=f.clickTolerance}reset(){delete this._mousedownPos}wheel(u){return this._firePreventable(new Ru(u.type,this._map,u))}mousedown(u,f){return this._mousedownPos=f,this._firePreventable(new oi(u.type,this._map,u))}mouseup(u){this._map.fire(new oi(u.type,this._map,u))}click(u,f){this._mousedownPos&&this._mousedownPos.dist(f)>=this._clickTolerance||this._map.fire(new oi(u.type,this._map,u))}dblclick(u){return this._firePreventable(new oi(u.type,this._map,u))}mouseover(u){this._map.fire(new oi(u.type,this._map,u))}mouseout(u){this._map.fire(new oi(u.type,this._map,u))}touchstart(u){return this._firePreventable(new xd(u.type,this._map,u))}touchmove(u){this._map.fire(new xd(u.type,this._map,u))}touchend(u){this._map.fire(new xd(u.type,this._map,u))}touchcancel(u){this._map.fire(new xd(u.type,this._map,u))}_firePreventable(u){if(this._map.fire(u),u.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class yC{constructor(u){this._map=u}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(u){this._map.fire(new oi(u.type,this._map,u))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new oi("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(u){this._delayContextMenu?this._contextMenuEvent=u:this._ignoreContextMenu||this._map.fire(new oi(u.type,this._map,u)),this._map.listens("contextmenu")&&u.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class wd{constructor(u){this._map=u}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(u){return this.transform.screenPointToLocation(a.P.convert(u),this._map.terrain)}}class S1{constructor(u,f){this._map=u,this._tr=new wd(u),this._el=u.getCanvasContainer(),this._container=u.getContainer(),this._clickTolerance=f.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(u,f){this.isEnabled()&&u.shiftKey&&u.button===0&&(A.disableDrag(),this._startPos=this._lastPos=f,this._active=!0)}mousemoveWindow(u,f){if(!this._active)return;const _=f;if(this._lastPos.equals(_)||!this._box&&_.dist(this._startPos)<this._clickTolerance)return;const S=this._startPos;this._lastPos=_,this._box||(this._box=A.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",u));const M=Math.min(S.x,_.x),D=Math.max(S.x,_.x),z=Math.min(S.y,_.y),F=Math.max(S.y,_.y);A.setTransform(this._box,`translate(${M}px,${z}px)`),this._box.style.width=D-M+"px",this._box.style.height=F-z+"px"}mouseupWindow(u,f){if(!this._active||u.button!==0)return;const _=this._startPos,S=f;if(this.reset(),A.suppressClick(),_.x!==S.x||_.y!==S.y)return this._map.fire(new a.l("boxzoomend",{originalEvent:u})),{cameraAnimation:M=>M.fitScreenCoordinates(_,S,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",u)}keydown(u){this._active&&u.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",u))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(A.remove(this._box),this._box=null),A.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(u,f){return this._map.fire(new a.l(u,{originalEvent:f}))}}function Wp(P,u){if(P.length!==u.length)throw new Error(`The number of touches and points are not equal - touches ${P.length}, points ${u.length}`);const f={};for(let _=0;_<P.length;_++)f[P[_].identifier]=u[_];return f}class Sd{constructor(u){this.reset(),this.numTouches=u.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(u,f,_){(this.centroid||_.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=u.timeStamp),_.length===this.numTouches&&(this.centroid=(function(S){const M=new a.P(0,0);for(const D of S)M._add(D);return M.div(S.length)})(f),this.touches=Wp(_,f)))}touchmove(u,f,_){if(this.aborted||!this.centroid)return;const S=Wp(_,f);for(const M in this.touches){const D=S[M];(!D||D.dist(this.touches[M])>30)&&(this.aborted=!0)}}touchend(u,f,_){if((!this.centroid||u.timeStamp-this.startTime>500)&&(this.aborted=!0),_.length===0){const S=!this.aborted&&this.centroid;if(this.reset(),S)return S}}}class Ua{constructor(u){this.singleTap=new Sd(u),this.numTaps=u.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(u,f,_){this.singleTap.touchstart(u,f,_)}touchmove(u,f,_){this.singleTap.touchmove(u,f,_)}touchend(u,f,_){const S=this.singleTap.touchend(u,f,_);if(S){const M=u.timeStamp-this.lastTime<500,D=!this.lastTap||this.lastTap.dist(S)<30;if(M&&D||this.reset(),this.count++,this.lastTime=u.timeStamp,this.lastTap=S,this.count===this.numTaps)return this.reset(),S}}}class Yt{constructor(u){this._tr=new wd(u),this._zoomIn=new Ua({numTouches:1,numTaps:2}),this._zoomOut=new Ua({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(u,f,_){this._zoomIn.touchstart(u,f,_),this._zoomOut.touchstart(u,f,_)}touchmove(u,f,_){this._zoomIn.touchmove(u,f,_),this._zoomOut.touchmove(u,f,_)}touchend(u,f,_){const S=this._zoomIn.touchend(u,f,_),M=this._zoomOut.touchend(u,f,_),D=this._tr;return S?(this._active=!0,u.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:z=>z.easeTo({duration:300,zoom:D.zoom+1,around:D.unproject(S)},{originalEvent:u})}):M?(this._active=!0,u.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:z=>z.easeTo({duration:300,zoom:D.zoom-1,around:D.unproject(M)},{originalEvent:u})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Yc{constructor(u){this._enabled=!!u.enable,this._moveStateManager=u.moveStateManager,this._clickTolerance=u.clickTolerance||1,this._moveFunction=u.move,this._activateOnStart=!!u.activateOnStart,u.assignEvents(this),this.reset()}reset(u){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(u)}_move(...u){const f=this._moveFunction(...u);if(f.bearingDelta||f.pitchDelta||f.rollDelta||f.around||f.panDelta)return this._active=!0,f}dragStart(u,f){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(u)&&(this._moveStateManager.startMove(u),this._lastPoint=Array.isArray(f)?f[0]:f,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(u,f){if(!this.isEnabled())return;const _=this._lastPoint;if(!_)return;if(u.preventDefault(),!this._moveStateManager.isValidMoveEvent(u))return void this.reset(u);const S=Array.isArray(f)?f[0]:f;return!this._moved&&S.dist(_)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=S,this._move(_,S))}dragEnd(u){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(u)&&(this._moved&&A.suppressClick(),this.reset(u))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const ey=0,T1=2,Td={[ey]:1,[T1]:2};class Ks{constructor(u){this._correctEvent=u.checkCorrectEvent}startMove(u){const f=A.mouseButton(u);this._eventButton=f}endMove(u){delete this._eventButton}isValidStartEvent(u){return this._correctEvent(u)}isValidMoveEvent(u){return!(function(f,_){const S=Td[_];return f.buttons===void 0||(f.buttons&S)!==S})(u,this._eventButton)}isValidEndEvent(u){return A.mouseButton(u)===this._eventButton}}class ty{constructor(){this._firstTouch=void 0}_isOneFingerTouch(u){return u.targetTouches.length===1}_isSameTouchEvent(u){return u.targetTouches[0].identifier===this._firstTouch}startMove(u){this._firstTouch=u.targetTouches[0].identifier}endMove(u){delete this._firstTouch}isValidStartEvent(u){return this._isOneFingerTouch(u)}isValidMoveEvent(u){return this._isOneFingerTouch(u)&&this._isSameTouchEvent(u)}isValidEndEvent(u){return this._isOneFingerTouch(u)&&this._isSameTouchEvent(u)}}class _C{constructor(u=new Ks({checkCorrectEvent:()=>!0}),f=new ty){this.mouseMoveStateManager=u,this.oneFingerTouchMoveStateManager=f}_executeRelevantHandler(u,f,_){return u instanceof MouseEvent?f(u):typeof TouchEvent<"u"&&u instanceof TouchEvent?_(u):void 0}startMove(u){this._executeRelevantHandler(u,(f=>this.mouseMoveStateManager.startMove(f)),(f=>this.oneFingerTouchMoveStateManager.startMove(f)))}endMove(u){this._executeRelevantHandler(u,(f=>this.mouseMoveStateManager.endMove(f)),(f=>this.oneFingerTouchMoveStateManager.endMove(f)))}isValidStartEvent(u){return this._executeRelevantHandler(u,(f=>this.mouseMoveStateManager.isValidStartEvent(f)),(f=>this.oneFingerTouchMoveStateManager.isValidStartEvent(f)))}isValidMoveEvent(u){return this._executeRelevantHandler(u,(f=>this.mouseMoveStateManager.isValidMoveEvent(f)),(f=>this.oneFingerTouchMoveStateManager.isValidMoveEvent(f)))}isValidEndEvent(u){return this._executeRelevantHandler(u,(f=>this.mouseMoveStateManager.isValidEndEvent(f)),(f=>this.oneFingerTouchMoveStateManager.isValidEndEvent(f)))}}const Jc=P=>{P.mousedown=P.dragStart,P.mousemoveWindow=P.dragMove,P.mouseup=P.dragEnd,P.contextmenu=u=>{u.preventDefault()}};class C1{constructor(u,f){this._clickTolerance=u.clickTolerance||1,this._map=f,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new a.P(0,0)}_shouldBePrevented(u){return u<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(u,f,_){return this._calculateTransform(u,f,_)}touchmove(u,f,_){if(this._active){if(!this._shouldBePrevented(_.length))return u.preventDefault(),this._calculateTransform(u,f,_);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",u)}}touchend(u,f,_){this._calculateTransform(u,f,_),this._active&&this._shouldBePrevented(_.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(u,f,_){_.length>0&&(this._active=!0);const S=Wp(_,f),M=new a.P(0,0),D=new a.P(0,0);let z=0;for(const G in S){const q=S[G],te=this._touches[G];te&&(M._add(q),D._add(q.sub(te)),z++,S[G]=q)}if(this._touches=S,this._shouldBePrevented(z)||!D.mag())return;const F=D.div(z);return this._sum._add(F),this._sum.mag()<this._clickTolerance?void 0:{around:M.div(z),panDelta:F}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Cd{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(u,f,_){this._firstTwoTouches||_.length<2||(this._firstTwoTouches=[_[0].identifier,_[1].identifier],this._start([f[0],f[1]]))}touchmove(u,f,_){if(!this._firstTwoTouches)return;u.preventDefault();const[S,M]=this._firstTwoTouches,D=qp(_,f,S),z=qp(_,f,M);if(!D||!z)return;const F=this._aroundCenter?null:D.add(z).div(2);return this._move([D,z],F,u)}touchend(u,f,_){if(!this._firstTwoTouches)return;const[S,M]=this._firstTwoTouches,D=qp(_,f,S),z=qp(_,f,M);D&&z||(this._active&&A.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(u){this._enabled=!0,this._aroundCenter=!!u&&u.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function qp(P,u,f){for(let _=0;_<P.length;_++)if(P[_].identifier===f)return u[_]}function ry(P,u){return Math.log(P/u)/Math.LN2}class P1 extends Cd{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(u){this._startDistance=this._distance=u[0].dist(u[1])}_move(u,f){const _=this._distance;if(this._distance=u[0].dist(u[1]),this._active||!(Math.abs(ry(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:ry(this._distance,_),pinchAround:f}}}function M1(P,u){return 180*P.angleWith(u)/Math.PI}class ny extends Cd{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(u){this._startVector=this._vector=u[0].sub(u[1]),this._minDiameter=u[0].dist(u[1])}_move(u,f,_){const S=this._vector;if(this._vector=u[0].sub(u[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:M1(this._vector,S),pinchAround:f}}_isBelowThreshold(u){this._minDiameter=Math.min(this._minDiameter,u.mag());const f=25/(Math.PI*this._minDiameter)*360,_=M1(u,this._startVector);return Math.abs(_)<f}}function iy(P){return Math.abs(P.y)>Math.abs(P.x)}class oy extends Cd{constructor(u){super(),this._currentTouchCount=0,this._map=u}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(u,f,_){super.touchstart(u,f,_),this._currentTouchCount=_.length}_start(u){this._lastPoints=u,iy(u[0].sub(u[1]))&&(this._valid=!1)}_move(u,f,_){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const S=u[0].sub(this._lastPoints[0]),M=u[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(S,M,_.timeStamp),this._valid?(this._lastPoints=u,this._active=!0,{pitchDelta:(S.y+M.y)/2*-.5}):void 0}gestureBeginsVertically(u,f,_){if(this._valid!==void 0)return this._valid;const S=u.mag()>=2,M=f.mag()>=2;if(!S&&!M)return;if(!S||!M)return this._firstMove===void 0&&(this._firstMove=_),_-this._firstMove<100&&void 0;const D=u.y>0==f.y>0;return iy(u)&&iy(f)&&D}}const bC={panStep:100,bearingStep:15,pitchStep:10};class I1{constructor(u){this._tr=new wd(u);const f=bC;this._panStep=f.panStep,this._bearingStep=f.bearingStep,this._pitchStep=f.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(u){if(u.altKey||u.ctrlKey||u.metaKey)return;let f=0,_=0,S=0,M=0,D=0;switch(u.keyCode){case 61:case 107:case 171:case 187:f=1;break;case 189:case 109:case 173:f=-1;break;case 37:u.shiftKey?_=-1:(u.preventDefault(),M=-1);break;case 39:u.shiftKey?_=1:(u.preventDefault(),M=1);break;case 38:u.shiftKey?S=1:(u.preventDefault(),D=-1);break;case 40:u.shiftKey?S=-1:(u.preventDefault(),D=1);break;default:return}return this._rotationDisabled&&(_=0,S=0),{cameraAnimation:z=>{const F=this._tr;z.easeTo({duration:300,easeId:"keyboardHandler",easing:Fl,zoom:f?Math.round(F.zoom)+f*(u.shiftKey?2:1):F.zoom,bearing:F.bearing+_*this._bearingStep,pitch:F.pitch+S*this._pitchStep,offset:[-M*this._panStep,-D*this._panStep],center:F.center},{originalEvent:u})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Fl(P){return P*(2-P)}const fn=4.000244140625,xC=1/450;class Pd{constructor(u,f){this._onTimeout=_=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(_)},this._map=u,this._tr=new wd(u),this._triggerRenderFrame=f,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=xC}setZoomRate(u){this._defaultZoomRate=u}setWheelZoomRate(u){this._wheelZoomRate=u}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(u){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!u&&u.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(u){return!!this._map.cooperativeGestures.isEnabled()&&!(u.ctrlKey||this._map.cooperativeGestures.isBypassed(u))}wheel(u){if(!this.isEnabled())return;if(this._shouldBePrevented(u))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",u);let f=u.deltaMode===WheelEvent.DOM_DELTA_LINE?40*u.deltaY:u.deltaY;const _=I(),S=_-(this._lastWheelEventTime||0);this._lastWheelEventTime=_,f!==0&&f%fn==0?this._type="wheel":f!==0&&Math.abs(f)<4?this._type="trackpad":S>400?(this._type=null,this._lastValue=f,this._timeout=setTimeout(this._onTimeout,40,u)):this._type||(this._type=Math.abs(S*f)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,f+=this._lastValue)),u.shiftKey&&f&&(f/=4),this._type&&(this._lastWheelEvent=u,this._delta-=f,this._active||this._start(u)),u.preventDefault()}_start(u){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const f=A.mousePos(this._map.getCanvas(),u),_=this._tr;this._aroundPoint=this._aroundCenter?_.transform.locationToScreenPoint(a.V.convert(_.center)):f,this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const u=this._tr.transform;if(typeof this._lastExpectedZoom=="number"){const z=u.zoom-this._lastExpectedZoom;typeof this._startZoom=="number"&&(this._startZoom+=z),typeof this._targetZoom=="number"&&(this._targetZoom+=z)}if(this._delta!==0){const z=this._type==="wheel"&&Math.abs(this._delta)>fn?this._wheelZoomRate:this._defaultZoomRate;let F=2/(1+Math.exp(-Math.abs(this._delta*z)));this._delta<0&&F!==0&&(F=1/F);const G=typeof this._targetZoom!="number"?u.scale:a.aq(this._targetZoom);this._targetZoom=u.applyConstrain(u.getCameraLngLat(),a.at(G*F)).zoom,this._type==="wheel"&&(this._startZoom=u.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const f=typeof this._targetZoom!="number"?u.zoom:this._targetZoom,_=this._startZoom,S=this._easing;let M,D=!1;if(this._type==="wheel"&&_&&S){const z=I()-this._lastWheelEventTime,F=Math.min((z+5)/200,1),G=S(F);M=a.G.number(_,f,G),F<1?this._frameId||(this._frameId=!0):D=!0}else M=f,D=!0;return this._active=!0,D&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._lastExpectedZoom,delete this._finishTimeout}),200)),this._lastExpectedZoom=M,{noInertia:!0,needsRenderFrame:!D,zoomDelta:M-u.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(u){let f=a.cx;if(this._prevEase){const _=this._prevEase,S=(I()-_.start)/_.duration,M=_.easing(S+.01)-_.easing(S),D=.27/Math.sqrt(M*M+1e-4)*.01,z=Math.sqrt(.0729-D*D);f=a.cv(D,z,.25,1)}return this._prevEase={start:I(),duration:u,easing:f},f}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,delete this._lastExpectedZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Md{constructor(u,f){this._clickZoom=u,this._tapZoom=f}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class ay{constructor(u){this._tr=new wd(u),this.reset()}reset(){this._active=!1}dblclick(u,f){return u.preventDefault(),{cameraAnimation:_=>{_.easeTo({duration:300,zoom:this._tr.zoom+(u.shiftKey?-1:1),around:this._tr.unproject(f)},{originalEvent:u})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class E1{constructor(){this._tap=new Ua({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(u,f,_){if(!this._swipePoint)if(this._tapTime){const S=f[0],M=u.timeStamp-this._tapTime<500,D=this._tapPoint.dist(S)<30;M&&D?_.length>0&&(this._swipePoint=S,this._swipeTouch=_[0].identifier):this.reset()}else this._tap.touchstart(u,f,_)}touchmove(u,f,_){if(this._tapTime){if(this._swipePoint){if(_[0].identifier!==this._swipeTouch)return;const S=f[0],M=S.y-this._swipePoint.y;return this._swipePoint=S,u.preventDefault(),this._active=!0,{zoomDelta:M/128}}}else this._tap.touchmove(u,f,_)}touchend(u,f,_){if(this._tapTime)this._swipePoint&&_.length===0&&this.reset();else{const S=this._tap.touchend(u,f,_);S&&(this._tapTime=u.timeStamp,this._tapPoint=S)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class sy{constructor(u,f,_){this._el=u,this._mousePan=f,this._touchPan=_}enable(u){this._inertiaOptions=u||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class ly{constructor(u,f,_,S){this._pitchWithRotate=u.pitchWithRotate,this._rollEnabled=u.rollEnabled,this._mouseRotate=f,this._mousePitch=_,this._mouseRoll=S}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable(),this._rollEnabled&&this._mouseRoll.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable(),this._mouseRoll.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())&&(!this._rollEnabled||this._mouseRoll.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()||this._mouseRoll.isActive()}}class A1{constructor(u,f,_,S){this._el=u,this._touchZoom=f,this._touchRotate=_,this._tapDragZoom=S,this._rotationDisabled=!1,this._enabled=!0}enable(u){this._touchZoom.enable(u),this._rotationDisabled||this._touchRotate.enable(u),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class Wa{constructor(u,f){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=u,this._options=f,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const u=this._map.getCanvasContainer();u.classList.add("maplibregl-cooperative-gestures"),this._container=A.create("div","maplibregl-cooperative-gesture-screen",u);let f=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(f=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const _=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),S=document.createElement("div");S.className="maplibregl-desktop-message",S.textContent=f,this._container.appendChild(S);const M=document.createElement("div");M.className="maplibregl-mobile-message",M.textContent=_,this._container.appendChild(M),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(A.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(u){return u[this._bypassKey]}notifyGestureBlocked(u,f){this._enabled&&(this._map.fire(new a.l("cooperativegestureprevented",{gestureType:u,originalEvent:f})),this._container.classList.add("maplibregl-show"),setTimeout((()=>{this._container.classList.remove("maplibregl-show")}),100))}}const Ou=P=>P.zoom||P.drag||P.roll||P.pitch||P.rotate;class tr extends a.l{}function hr(P){return P.panDelta&&P.panDelta.mag()||P.zoomDelta||P.bearingDelta||P.pitchDelta||P.rollDelta}class Id{constructor(u,f){this.handleWindowEvent=S=>{this.handleEvent(S,`${S.type}Window`)},this.handleEvent=(S,M)=>{if(S.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const D=S.type==="renderFrame"?void 0:S,z={needsRenderFrame:!1},F={},G={};for(const{handlerName:ee,handler:ae,allowed:fe}of this._handlers){if(!ae.isEnabled())continue;let we;if(this._blockedByActive(G,fe,ee))ae.reset();else if(ae[M||S.type]){if(a.cy(S,M||S.type)){const Se=A.mousePos(this._map.getCanvas(),S);we=ae[M||S.type](S,Se)}else if(a.cz(S,M||S.type)){const Se=this._getMapTouches(S.touches),Pe=A.touchPos(this._map.getCanvas(),Se);we=ae[M||S.type](S,Pe,Se)}else a.cA(M||S.type)||(we=ae[M||S.type](S));this.mergeHandlerResult(z,F,we,ee,D),we&&we.needsRenderFrame&&this._triggerRenderFrame()}(we||ae.isActive())&&(G[ee]=ae)}const q={};for(const ee in this._previousActiveHandlers)G[ee]||(q[ee]=D);this._previousActiveHandlers=G,(Object.keys(q).length||hr(z))&&(this._changes.push([z,F,q]),this._triggerRenderFrame()),(Object.keys(G).length||hr(z))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:te}=z;te&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],te(this._map))},this._map=u,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new wa(u),this._bearingSnap=f.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(f);const _=this._el;this._listeners=[[_,"touchstart",{passive:!0}],[_,"touchmove",{passive:!1}],[_,"touchend",void 0],[_,"touchcancel",void 0],[_,"mousedown",void 0],[_,"mousemove",void 0],[_,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[_,"mouseover",void 0],[_,"mouseout",void 0],[_,"dblclick",void 0],[_,"click",void 0],[_,"keydown",{capture:!1}],[_,"keyup",void 0],[_,"wheel",{passive:!1}],[_,"contextmenu",void 0],[window,"blur",void 0]];for(const[S,M,D]of this._listeners)A.addEventListener(S,M,S===document?this.handleWindowEvent:this.handleEvent,D)}destroy(){for(const[u,f,_]of this._listeners)A.removeEventListener(u,f,u===document?this.handleWindowEvent:this.handleEvent,_)}_addDefaultHandlers(u){const f=this._map,_=f.getCanvasContainer();this._add("mapEvent",new vC(f,u));const S=f.boxZoom=new S1(f,u);this._add("boxZoom",S),u.interactive&&u.boxZoom&&S.enable();const M=f.cooperativeGestures=new Wa(f,u.cooperativeGestures);this._add("cooperativeGestures",M),u.cooperativeGestures&&M.enable();const D=new Yt(f),z=new ay(f);f.doubleClickZoom=new Md(z,D),this._add("tapZoom",D),this._add("clickZoom",z),u.interactive&&u.doubleClickZoom&&f.doubleClickZoom.enable();const F=new E1;this._add("tapDragZoom",F);const G=f.touchPitch=new oy(f);this._add("touchPitch",G),u.interactive&&u.touchPitch&&f.touchPitch.enable(u.touchPitch);const q=()=>f.project(f.getCenter()),te=(function({enable:Ie,clickTolerance:$e,aroundCenter:Ge=!0,minPixelCenterThreshold:Le=100,rotateDegreesPerPixelMoved:Ze=.8},lt){const rt=new Ks({checkCorrectEvent:nt=>A.mouseButton(nt)===0&&nt.ctrlKey||A.mouseButton(nt)===2&&!nt.ctrlKey});return new Yc({clickTolerance:$e,move:(nt,st)=>{const kt=lt();if(Ge&&Math.abs(kt.y-nt.y)>Le)return{bearingDelta:a.cw(new a.P(nt.x,st.y),st,kt)};let At=(st.x-nt.x)*Ze;return Ge&&st.y<kt.y&&(At=-At),{bearingDelta:At}},moveStateManager:rt,enable:Ie,assignEvents:Jc})})(u,q),ee=(function({enable:Ie,clickTolerance:$e,pitchDegreesPerPixelMoved:Ge=-.5}){const Le=new Ks({checkCorrectEvent:Ze=>A.mouseButton(Ze)===0&&Ze.ctrlKey||A.mouseButton(Ze)===2});return new Yc({clickTolerance:$e,move:(Ze,lt)=>({pitchDelta:(lt.y-Ze.y)*Ge}),moveStateManager:Le,enable:Ie,assignEvents:Jc})})(u),ae=(function({enable:Ie,clickTolerance:$e,rollDegreesPerPixelMoved:Ge=.3},Le){const Ze=new Ks({checkCorrectEvent:lt=>A.mouseButton(lt)===2&&lt.ctrlKey});return new Yc({clickTolerance:$e,move:(lt,rt)=>{const nt=Le();let st=(rt.x-lt.x)*Ge;return rt.y<nt.y&&(st=-st),{rollDelta:st}},moveStateManager:Ze,enable:Ie,assignEvents:Jc})})(u,q);f.dragRotate=new ly(u,te,ee,ae),this._add("mouseRotate",te,["mousePitch"]),this._add("mousePitch",ee,["mouseRotate","mouseRoll"]),this._add("mouseRoll",ae,["mousePitch"]),u.interactive&&u.dragRotate&&f.dragRotate.enable();const fe=(function({enable:Ie,clickTolerance:$e}){const Ge=new Ks({checkCorrectEvent:Le=>A.mouseButton(Le)===0&&!Le.ctrlKey});return new Yc({clickTolerance:$e,move:(Le,Ze)=>({around:Ze,panDelta:Ze.sub(Le)}),activateOnStart:!0,moveStateManager:Ge,enable:Ie,assignEvents:Jc})})(u),we=new C1(u,f);f.dragPan=new sy(_,fe,we),this._add("mousePan",fe),this._add("touchPan",we,["touchZoom","touchRotate"]),u.interactive&&u.dragPan&&f.dragPan.enable(u.dragPan);const Se=new ny,Pe=new P1;f.touchZoomRotate=new A1(_,Pe,Se,F),this._add("touchRotate",Se,["touchPan","touchZoom"]),this._add("touchZoom",Pe,["touchPan","touchRotate"]),u.interactive&&u.touchZoomRotate&&f.touchZoomRotate.enable(u.touchZoomRotate),this._add("blockableMapEvent",new yC(f));const Ae=f.scrollZoom=new Pd(f,(()=>this._triggerRenderFrame()));this._add("scrollZoom",Ae,["mousePan"]),u.interactive&&u.scrollZoom&&f.scrollZoom.enable(u.scrollZoom);const ke=f.keyboard=new I1(f);this._add("keyboard",ke),u.interactive&&u.keyboard&&f.keyboard.enable()}_add(u,f,_){this._handlers.push({handlerName:u,handler:f,allowed:_}),this._handlersById[u]=f}stop(u){if(!this._updatingCamera){for(const{handler:f}of this._handlers)f.reset();this._inertia.clear(),this._fireEvents({},{},u),this._changes=[]}}isActive(){for(const{handler:u}of this._handlers)if(u.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Ou(this._eventsInProgress)||this.isZooming()}_blockedByActive(u,f,_){for(const S in u)if(S!==_&&(!f||f.indexOf(S)<0))return!0;return!1}_getMapTouches(u){const f=[];for(const _ of u)this._el.contains(_.target)&&f.push(_);return f}mergeHandlerResult(u,f,_,S,M){if(!_)return;a.e(u,_);const D={handlerName:S,originalEvent:_.originalEvent||M};_.zoomDelta!==void 0&&(f.zoom=D),_.panDelta!==void 0&&(f.drag=D),_.rollDelta!==void 0&&(f.roll=D),_.pitchDelta!==void 0&&(f.pitch=D),_.bearingDelta!==void 0&&(f.rotate=D)}_applyChanges(){const u={},f={},_={};for(const[S,M,D]of this._changes)S.panDelta&&(u.panDelta=(u.panDelta||new a.P(0,0))._add(S.panDelta)),S.zoomDelta&&(u.zoomDelta=(u.zoomDelta||0)+S.zoomDelta),S.bearingDelta&&(u.bearingDelta=(u.bearingDelta||0)+S.bearingDelta),S.pitchDelta&&(u.pitchDelta=(u.pitchDelta||0)+S.pitchDelta),S.rollDelta&&(u.rollDelta=(u.rollDelta||0)+S.rollDelta),S.around!==void 0&&(u.around=S.around),S.pinchAround!==void 0&&(u.pinchAround=S.pinchAround),S.noInertia&&(u.noInertia=S.noInertia),a.e(f,M),a.e(_,D);this._updateMapTransform(u,f,_),this._changes=[]}_updateMapTransform(u,f,_){const S=this._map,M=S._getTransformForUpdate(),D=S.terrain;if(!(hr(u)||D&&this._terrainMovement))return this._fireEvents(f,_,!0);S._stop(!0);let{panDelta:z,zoomDelta:F,bearingDelta:G,pitchDelta:q,rollDelta:te,around:ee,pinchAround:ae}=u;ae!==void 0&&(ee=ae),ee=ee||S.transform.centerPoint,D&&!M.isPointOnMapSurface(ee)&&(ee=M.centerPoint);const fe={panDelta:z,zoomDelta:F,rollDelta:te,pitchDelta:q,bearingDelta:G,around:ee};this._map.cameraHelper.useGlobeControls&&!M.isPointOnMapSurface(ee)&&(ee=M.centerPoint);const we=ee.distSqr(M.centerPoint)<.01?M.center:M.screenPointToLocation(z?ee.sub(z):ee);this._handleMapControls({terrain:D,tr:M,deltasForHelper:fe,preZoomAroundLoc:we,combinedEventsInProgress:f,panDelta:z}),S._applyUpdatedTransform(M),this._map._update(),u.noInertia||this._inertia.record(u),this._fireEvents(f,_,!0)}_handleMapControls({terrain:u,tr:f,deltasForHelper:_,preZoomAroundLoc:S,combinedEventsInProgress:M,panDelta:D}){const z=this._map.cameraHelper;if(z.handleMapControlsRollPitchBearingZoom(_,f),u)return z.useGlobeControls?(this._terrainMovement||!M.drag&&!M.zoom||(this._terrainMovement=!0,this._map._elevationFreeze=!0),void z.handleMapControlsPan(_,f,S)):this._terrainMovement||!M.drag&&!M.zoom?void(M.drag&&this._terrainMovement&&D?f.setCenter(f.screenPointToLocation(f.centerPoint.sub(D))):z.handleMapControlsPan(_,f,S)):(this._terrainMovement=!0,this._map._elevationFreeze=!0,void z.handleMapControlsPan(_,f,S));z.handleMapControlsPan(_,f,S)}_fireEvents(u,f,_){const S=Ou(this._eventsInProgress),M=Ou(u),D={};for(const te in u){const{originalEvent:ee}=u[te];this._eventsInProgress[te]||(D[`${te}start`]=ee),this._eventsInProgress[te]=u[te]}!S&&M&&this._fireEvent("movestart",M.originalEvent);for(const te in D)this._fireEvent(te,D[te]);M&&this._fireEvent("move",M.originalEvent);for(const te in u){const{originalEvent:ee}=u[te];this._fireEvent(te,ee)}const z={};let F;for(const te in this._eventsInProgress){const{handlerName:ee,originalEvent:ae}=this._eventsInProgress[te];this._handlersById[ee].isActive()||(delete this._eventsInProgress[te],F=f[ee]||ae,z[`${te}end`]=F)}for(const te in z)this._fireEvent(te,z[te]);const G=Ou(this._eventsInProgress),q=(S||M)&&!G;if(q&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;const te=this._map._getTransformForUpdate();this._map.getCenterClampedToGround()&&te.recalculateZoomAndCenter(this._map.terrain),this._map._applyUpdatedTransform(te)}if(_&&q){this._updatingCamera=!0;const te=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),ee=ae=>ae!==0&&-this._bearingSnap<ae&&ae<this._bearingSnap;!te||!te.essential&&x.prefersReducedMotion?(this._map.fire(new a.l("moveend",{originalEvent:F})),ee(this._map.getBearing())&&this._map.resetNorth()):(ee(te.bearing||this._map.getBearing())&&(te.bearing=0),te.freezeElevation=!0,this._map.easeTo(te,{originalEvent:F})),this._updatingCamera=!1}}_fireEvent(u,f){this._map.fire(new a.l(u,f?{originalEvent:f}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((u=>{delete this._frameId,this.handleEvent(new tr("renderFrame",{timeStamp:u})),this._applyChanges()}))}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class D1 extends a.E{constructor(u,f,_){super(),this._renderFrameCallback=()=>{const S=Math.min((I()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(S)),S<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=u,this._bearingSnap=_.bearingSnap,this.cameraHelper=f,this.on("moveend",(()=>{delete this._requestedCameraState}))}migrateProjection(u,f){u.apply(this.transform),this.transform=u,this.cameraHelper=f}getCenter(){return new a.V(this.transform.center.lng,this.transform.center.lat)}setCenter(u,f){return this.jumpTo({center:u},f)}getCenterElevation(){return this.transform.elevation}setCenterElevation(u,f){return this.jumpTo({elevation:u},f),this}getCenterClampedToGround(){return this._centerClampedToGround}setCenterClampedToGround(u){this._centerClampedToGround=u}panBy(u,f,_){return u=a.P.convert(u).mult(-1),this.panTo(this.transform.center,a.e({offset:u},f),_)}panTo(u,f,_){return this.easeTo(a.e({center:u},f),_)}getZoom(){return this.transform.zoom}setZoom(u,f){return this.jumpTo({zoom:u},f),this}zoomTo(u,f,_){return this.easeTo(a.e({zoom:u},f),_)}zoomIn(u,f){return this.zoomTo(this.getZoom()+1,u,f),this}zoomOut(u,f){return this.zoomTo(this.getZoom()-1,u,f),this}getVerticalFieldOfView(){return this.transform.fov}setVerticalFieldOfView(u,f){return u!=this.transform.fov&&(this.transform.setFov(u),this.fire(new a.l("movestart",f)).fire(new a.l("move",f)).fire(new a.l("moveend",f))),this}getBearing(){return this.transform.bearing}setBearing(u,f){return this.jumpTo({bearing:u},f),this}getPadding(){return this.transform.padding}setPadding(u,f){return this.jumpTo({padding:u},f),this}rotateTo(u,f,_){return this.easeTo(a.e({bearing:u},f),_)}resetNorth(u,f){return this.rotateTo(0,a.e({duration:1e3},u),f),this}resetNorthPitch(u,f){return this.easeTo(a.e({bearing:0,pitch:0,roll:0,duration:1e3},u),f),this}snapToNorth(u,f){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(u,f):this}getPitch(){return this.transform.pitch}setPitch(u,f){return this.jumpTo({pitch:u},f),this}getRoll(){return this.transform.roll}setRoll(u,f){return this.jumpTo({roll:u},f),this}cameraForBounds(u,f){u=et.convert(u).adjustAntiMeridian();const _=f&&f.bearing||0;return this._cameraForBoxAndBearing(u.getNorthWest(),u.getSouthEast(),_,f)}_cameraForBoxAndBearing(u,f,_,S){const M={top:0,bottom:0,right:0,left:0};if(typeof(S=a.e({padding:M,offset:[0,0],maxZoom:this.transform.maxZoom},S)).padding=="number"){const G=S.padding;S.padding={top:G,bottom:G,right:G,left:G}}const D=a.e(M,S.padding);S.padding=D;const z=this.transform,F=new et(u,f);return this.cameraHelper.cameraForBoxAndBearing(S,D,F,_,z)}fitBounds(u,f,_){return this._fitInternal(this.cameraForBounds(u,f),f,_)}fitScreenCoordinates(u,f,_,S,M){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.screenPointToLocation(a.P.convert(u)),this.transform.screenPointToLocation(a.P.convert(f)),_,S),S,M)}_fitInternal(u,f,_){return u?(delete(f=a.e(u,f)).padding,f.linear?this.easeTo(f,_):this.flyTo(f,_)):this}jumpTo(u,f){this.stop();const _=this._getTransformForUpdate();let S=!1,M=!1,D=!1;const z=_.zoom;this.cameraHelper.handleJumpToCenterZoom(_,u);const F=_.zoom!==z;return"elevation"in u&&_.elevation!==+u.elevation&&_.setElevation(+u.elevation),"bearing"in u&&_.bearing!==+u.bearing&&(S=!0,_.setBearing(+u.bearing)),"pitch"in u&&_.pitch!==+u.pitch&&(M=!0,_.setPitch(+u.pitch)),"roll"in u&&_.roll!==+u.roll&&(D=!0,_.setRoll(+u.roll)),u.padding==null||_.isPaddingEqual(u.padding)||_.setPadding(u.padding),this._applyUpdatedTransform(_),this.fire(new a.l("movestart",f)).fire(new a.l("move",f)),F&&this.fire(new a.l("zoomstart",f)).fire(new a.l("zoom",f)).fire(new a.l("zoomend",f)),S&&this.fire(new a.l("rotatestart",f)).fire(new a.l("rotate",f)).fire(new a.l("rotateend",f)),M&&this.fire(new a.l("pitchstart",f)).fire(new a.l("pitch",f)).fire(new a.l("pitchend",f)),D&&this.fire(new a.l("rollstart",f)).fire(new a.l("roll",f)).fire(new a.l("rollend",f)),this.fire(new a.l("moveend",f))}calculateCameraOptionsFromTo(u,f,_,S=0){const M=a.aa.fromLngLat(u,f),D=a.aa.fromLngLat(_,S),z=D.x-M.x,F=D.y-M.y,G=D.z-M.z,q=Math.hypot(z,F,G);if(q===0)throw new Error("Can't calculate camera options with same From and To");const te=Math.hypot(z,F),ee=a.at(this.transform.cameraToCenterDistance/q/this.transform.tileSize),ae=180*Math.atan2(z,-F)/Math.PI;let fe=180*Math.acos(te/q)/Math.PI;return fe=G<0?90-fe:90+fe,{center:D.toLngLat(),elevation:S,zoom:ee,pitch:fe,bearing:ae}}calculateCameraOptionsFromCameraLngLatAltRotation(u,f,_,S,M){const D=this.transform.calculateCenterFromCameraLngLatAlt(u,f,_,S);return{center:D.center,elevation:D.elevation,zoom:D.zoom,bearing:_,pitch:S,roll:M}}easeTo(u,f){this._stop(!1,u.easeId),((u=a.e({offset:[0,0],duration:500,easing:a.cx},u)).animate===!1||!u.essential&&x.prefersReducedMotion)&&(u.duration=0);const _=this._getTransformForUpdate(),S=this.getBearing(),M=_.pitch,D=_.roll,z="bearing"in u?this._normalizeBearing(u.bearing,S):S,F="pitch"in u?+u.pitch:M,G="roll"in u?this._normalizeBearing(u.roll,D):D,q="padding"in u?u.padding:_.padding,te=a.P.convert(u.offset);let ee,ae;u.around&&(ee=a.V.convert(u.around),ae=_.locationToScreenPoint(ee));const fe={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching,rolling:this._rolling},we=this.cameraHelper.handleEaseTo(_,{bearing:z,pitch:F,roll:G,padding:q,around:ee,aroundPoint:ae,offsetAsPoint:te,offset:u.offset,zoom:u.zoom,center:u.center});return this._rotating=this._rotating||S!==z,this._pitching=this._pitching||F!==M,this._rolling=this._rolling||G!==D,this._padding=!_.isPaddingEqual(q),this._zooming=this._zooming||we.isZooming,this._easeId=u.easeId,this._prepareEase(f,u.noMoveStart,fe),this.terrain&&this._prepareElevation(we.elevationCenter),this._ease((Se=>{we.easeFunc(Se),this.terrain&&!u.freezeElevation&&this._updateElevation(Se),this._applyUpdatedTransform(_),this._fireMoveEvents(f)}),(Se=>{this.terrain&&u.freezeElevation&&this._finalizeElevation(),this._afterEase(f,Se)}),u),this}_prepareEase(u,f,_={}){this._moving=!0,f||_.moving||this.fire(new a.l("movestart",u)),this._zooming&&!_.zooming&&this.fire(new a.l("zoomstart",u)),this._rotating&&!_.rotating&&this.fire(new a.l("rotatestart",u)),this._pitching&&!_.pitching&&this.fire(new a.l("pitchstart",u)),this._rolling&&!_.rolling&&this.fire(new a.l("rollstart",u))}_prepareElevation(u){this._elevationCenter=u,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(u,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(u){this._elevationStart!==void 0&&this._elevationCenter!==void 0||this._prepareElevation(this.transform.center),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom));const f=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(u<1&&f!==this._elevationTarget){const _=this._elevationTarget-this._elevationStart;this._elevationStart+=u*(_-(f-(_*u+this._elevationStart))/(1-u)),this._elevationTarget=f}this.transform.setElevation(a.G.number(this._elevationStart,this._elevationTarget,u))}_finalizeElevation(){this._elevationFreeze=!1,this.getCenterClampedToGround()&&this.transform.recalculateZoomAndCenter(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(u){if(!this.terrain&&u.elevation>=0&&u.pitch<=90)return{};const f=u.getCameraLngLat(),_=u.getCameraAltitude(),S=this.terrain?this.terrain.getElevationForLngLatZoom(f,u.zoom):0;if(_<S){const M=this.calculateCameraOptionsFromTo(f,S,u.center,u.elevation);return{pitch:M.pitch,zoom:M.zoom}}return{}}_applyUpdatedTransform(u){const f=[];if(f.push((S=>this._elevateCameraIfInsideTerrain(S))),this.transformCameraUpdate&&f.push((S=>this.transformCameraUpdate(S))),!f.length)return;const _=u.clone();for(const S of f){const M=_.clone(),{center:D,zoom:z,roll:F,pitch:G,bearing:q,elevation:te}=S(M);D&&M.setCenter(D),te!==void 0&&M.setElevation(te),z!==void 0&&M.setZoom(z),F!==void 0&&M.setRoll(F),G!==void 0&&M.setPitch(G),q!==void 0&&M.setBearing(q),_.apply(M)}this.transform.apply(_)}_fireMoveEvents(u){this.fire(new a.l("move",u)),this._zooming&&this.fire(new a.l("zoom",u)),this._rotating&&this.fire(new a.l("rotate",u)),this._pitching&&this.fire(new a.l("pitch",u)),this._rolling&&this.fire(new a.l("roll",u))}_afterEase(u,f){if(this._easeId&&f&&this._easeId===f)return;delete this._easeId;const _=this._zooming,S=this._rotating,M=this._pitching,D=this._rolling;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._rolling=!1,this._padding=!1,_&&this.fire(new a.l("zoomend",u)),S&&this.fire(new a.l("rotateend",u)),M&&this.fire(new a.l("pitchend",u)),D&&this.fire(new a.l("rollend",u)),this.fire(new a.l("moveend",u))}flyTo(u,f){if(!u.essential&&x.prefersReducedMotion){const st=a.U(u,["center","zoom","bearing","pitch","roll","elevation","padding"]);return this.jumpTo(st,f)}this.stop(),u=a.e({offset:[0,0],speed:1.2,curve:1.42,easing:a.cx},u);const _=this._getTransformForUpdate(),S=_.bearing,M=_.pitch,D=_.roll,z=_.padding,F="bearing"in u?this._normalizeBearing(u.bearing,S):S,G="pitch"in u?+u.pitch:M,q="roll"in u?this._normalizeBearing(u.roll,D):D,te="padding"in u?u.padding:_.padding,ee=a.P.convert(u.offset);let ae=_.centerPoint.add(ee);const fe=_.screenPointToLocation(ae),we=this.cameraHelper.handleFlyTo(_,{bearing:F,pitch:G,roll:q,padding:te,locationAtOffset:fe,offsetAsPoint:ee,center:u.center,minZoom:u.minZoom,zoom:u.zoom});let Se=u.curve;const Pe=Math.max(_.width,_.height),Ae=Pe/we.scaleOfZoom,ke=we.pixelPathLength;typeof we.scaleOfMinZoom=="number"&&(Se=Math.sqrt(Pe/we.scaleOfMinZoom/ke*2));const Ie=Se*Se;function $e(st){const kt=(Ae*Ae-Pe*Pe+(st?-1:1)*Ie*Ie*ke*ke)/(2*(st?Ae:Pe)*Ie*ke);return Math.log(Math.sqrt(kt*kt+1)-kt)}function Ge(st){return(Math.exp(st)-Math.exp(-st))/2}function Le(st){return(Math.exp(st)+Math.exp(-st))/2}const Ze=$e(!1);let lt=function(st){return Le(Ze)/Le(Ze+Se*st)},rt=function(st){return Pe*((Le(Ze)*(Ge(kt=Ze+Se*st)/Le(kt))-Ge(Ze))/Ie)/ke;var kt},nt=($e(!0)-Ze)/Se;if(Math.abs(ke)<2e-6||!isFinite(nt)){if(Math.abs(Pe-Ae)<1e-6)return this.easeTo(u,f);const st=Ae<Pe?-1:1;nt=Math.abs(Math.log(Ae/Pe))/Se,rt=()=>0,lt=kt=>Math.exp(st*Se*kt)}return u.duration="duration"in u?+u.duration:1e3*nt/("screenSpeed"in u?+u.screenSpeed/Se:+u.speed),u.maxDuration&&u.duration>u.maxDuration&&(u.duration=0),this._zooming=!0,this._rotating=S!==F,this._pitching=G!==M,this._rolling=q!==D,this._padding=!_.isPaddingEqual(te),this._prepareEase(f,!1),this.terrain&&this._prepareElevation(we.targetCenter),this._ease((st=>{const kt=st*nt,At=1/lt(kt),Tt=rt(kt);this._rotating&&_.setBearing(a.G.number(S,F,st)),this._pitching&&_.setPitch(a.G.number(M,G,st)),this._rolling&&_.setRoll(a.G.number(D,q,st)),this._padding&&(_.interpolatePadding(z,te,st),ae=_.centerPoint.add(ee)),we.easeFunc(st,At,Tt,ae),this.terrain&&!u.freezeElevation&&this._updateElevation(st),this._applyUpdatedTransform(_),this._fireMoveEvents(f)}),(()=>{this.terrain&&u.freezeElevation&&this._finalizeElevation(),this._afterEase(f)}),u),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(u,f){var _;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const S=this._onEaseEnd;delete this._onEaseEnd,S.call(this,f)}return u||(_=this.handlers)===null||_===void 0||_.stop(!1),this}_ease(u,f,_){_.animate===!1||_.duration===0?(u(1),f()):(this._easeStart=I(),this._easeOptions=_,this._onEaseFrame=u,this._onEaseEnd=f,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(u,f){u=a.W(u,-180,180);const _=Math.abs(u-f);return Math.abs(u-360-f)<_&&(u-=360),Math.abs(u+360-f)<_&&(u+=360),u}queryTerrainElevation(u){return this.terrain?this.terrain.getElevationForLngLatZoom(a.V.convert(u),this.transform.tileZoom):null}}const Ed={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class go{constructor(u=Ed){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=f=>{!f||f.sourceDataType!=="metadata"&&f.sourceDataType!=="visibility"&&f.dataType!=="style"&&f.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=u}getDefaultPosition(){return"bottom-right"}onAdd(u){return this._map=u,this._compact=this.options.compact,this._container=A.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=A.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=A.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){A.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(u,f){const _=this._map._getUIString(`AttributionControl.${f}`);u.title=_,u.setAttribute("aria-label",_)}_updateAttributions(){if(!this._map.style)return;let u=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?u=u.concat(this.options.customAttribution.map((S=>typeof S!="string"?"":S))):typeof this.options.customAttribution=="string"&&u.push(this.options.customAttribution)),this._map.style.stylesheet){const S=this._map.style.stylesheet;this.styleOwner=S.owner,this.styleId=S.id}const f=this._map.style.tileManagers;for(const S in f){const M=f[S];if(M.used||M.usedForTerrain){const D=M.getSource();D.attribution&&u.indexOf(D.attribution)<0&&u.push(D.attribution)}}u=u.filter((S=>String(S).trim())),u.sort(((S,M)=>S.length-M.length)),u=u.filter(((S,M)=>{for(let D=M+1;D<u.length;D++)if(u[D].indexOf(S)>=0)return!1;return!0}));const _=u.join(" | ");_!==this._attribHTML&&(this._attribHTML=_,u.length?(this._innerContainer.innerHTML=A.sanitize(_),this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class Sa{constructor(u={}){this._updateCompact=()=>{const f=this._container.children;if(f.length){const _=f[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&_.classList.add("maplibregl-compact"):_.classList.remove("maplibregl-compact")}},this.options=u}getDefaultPosition(){return"bottom-left"}onAdd(u){this._map=u,this._compact=this.options&&this.options.compact,this._container=A.create("div","maplibregl-ctrl");const f=A.create("a","maplibregl-ctrl-logo");return f.target="_blank",f.rel="noopener nofollow",f.href="https://maplibre.org/",f.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),f.setAttribute("rel","noopener nofollow"),this._container.appendChild(f),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){A.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class L1{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(u){const f=++this._id;return this._queue.push({callback:u,id:f,cancelled:!1}),f}remove(u){const f=this._currentlyRunning,_=f?this._queue.concat(f):this._queue;for(const S of _)if(S.id===u)return void(S.cancelled=!0)}run(u=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const f=this._currentlyRunning=this._queue;this._queue=[];for(const _ of f)if(!_.cancelled&&(_.callback(u),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var wC=a.aT([{name:"a_pos3d",type:"Int16",components:3}]);class SC extends a.E{constructor(u){super(),this._lastTilesetChange=I(),this.tileManager=u,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.deltaZoom=1,this.tileSize=u._source.tileSize*2**this.deltaZoom,u.usedForTerrain=!0,u.tileSize=this.tileSize}destruct(){this.tileManager.usedForTerrain=!1,this.tileManager.tileSize=null}getSource(){return this.tileManager._source}update(u,f){this.tileManager.update(u,f),this._renderableTilesKeys=[];const _={};for(const S of xr(u,{tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:f,calculateTileZoom:this.tileManager._source.calculateTileZoom}))_[S.key]=!0,this._renderableTilesKeys.push(S.key),this._tiles[S.key]||(S.terrainRttPosMatrix32f=new Float64Array(16),a.c6(S.terrainRttPosMatrix32f,0,a.a4,a.a4,0,0,1),this._tiles[S.key]=new ne(S,this.tileSize),this._lastTilesetChange=I());for(const S in this._tiles)_[S]||delete this._tiles[S]}freeRtt(u){for(const f in this._tiles){const _=this._tiles[f];(!u||_.tileID.equals(u)||_.tileID.isChildOf(u)||u.isChildOf(_.tileID))&&(_.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map((u=>this.getTileByID(u)))}getTileByID(u){return this._tiles[u]}getTerrainCoords(u,f){return f?this._getTerrainCoordsForTileRanges(u,f):this._getTerrainCoordsForRegularTile(u)}_getTerrainCoordsForRegularTile(u){const f={};for(const _ of this._renderableTilesKeys){const S=this._tiles[_].tileID,M=u.clone(),D=a.bj();if(S.canonical.equals(u.canonical))a.c6(D,0,a.a4,a.a4,0,0,1);else if(S.canonical.isChildOf(u.canonical)){const z=S.canonical.z-u.canonical.z,F=S.canonical.x-(S.canonical.x>>z<<z),G=S.canonical.y-(S.canonical.y>>z<<z),q=a.a4>>z;a.c6(D,0,q,q,0,0,1),a.O(D,D,[-F*q,-G*q,0])}else{if(!u.canonical.isChildOf(S.canonical))continue;{const z=u.canonical.z-S.canonical.z,F=u.canonical.x-(u.canonical.x>>z<<z),G=u.canonical.y-(u.canonical.y>>z<<z),q=a.a4>>z;a.c6(D,0,a.a4,a.a4,0,0,1),a.O(D,D,[F*q,G*q,0]),a.Q(D,D,[1/2**z,1/2**z,0])}}M.terrainRttPosMatrix32f=new Float32Array(D),f[_]=M}return f}_getTerrainCoordsForTileRanges(u,f){const _={};for(const S of this._renderableTilesKeys){const M=this._tiles[S].tileID;if(!this._isWithinTileRanges(M,f))continue;const D=u.clone(),z=a.bj();if(M.canonical.z===u.canonical.z){const F=u.canonical.x-M.canonical.x,G=u.canonical.y-M.canonical.y;a.c6(z,0,a.a4,a.a4,0,0,1),a.O(z,z,[F*a.a4,G*a.a4,0])}else if(M.canonical.z>u.canonical.z){const F=M.canonical.z-u.canonical.z,G=M.canonical.x-(M.canonical.x>>F<<F),q=M.canonical.y-(M.canonical.y>>F<<F),te=u.canonical.x-(M.canonical.x>>F),ee=u.canonical.y-(M.canonical.y>>F),ae=a.a4>>F;a.c6(z,0,ae,ae,0,0,1),a.O(z,z,[-G*ae+te*a.a4,-q*ae+ee*a.a4,0])}else{const F=u.canonical.z-M.canonical.z,G=u.canonical.x-(u.canonical.x>>F<<F),q=u.canonical.y-(u.canonical.y>>F<<F),te=(u.canonical.x>>F)-M.canonical.x,ee=(u.canonical.y>>F)-M.canonical.y,ae=a.a4<<F;a.c6(z,0,ae,ae,0,0,1),a.O(z,z,[G*a.a4+te*ae,q*a.a4+ee*ae,0])}D.terrainRttPosMatrix32f=new Float32Array(z),_[S]=D}return _}getSourceTile(u,f){const _=this.tileManager._source;let S=u.overscaledZ-this.deltaZoom;if(S>_.maxzoom&&(S=_.maxzoom),S<_.minzoom)return null;this._sourceTileCache[u.key]||(this._sourceTileCache[u.key]=u.scaledTo(S).key);let M=this.tileManager.getTileByID(this._sourceTileCache[u.key]);if((!M||!M.dem)&&f)for(;S>=_.minzoom&&(!M||!M.dem);)M=this.tileManager.getTileByID(u.scaledTo(S--).key);return M}anyTilesAfterTime(u=Date.now()){return this._lastTilesetChange>=u}_isWithinTileRanges(u,f){return f[u.canonical.z]&&u.canonical.x>=f[u.canonical.z].minTileX&&u.canonical.x<=f[u.canonical.z].maxTileX&&u.canonical.y>=f[u.canonical.z].minTileY&&u.canonical.y<=f[u.canonical.z].maxTileY}}class TC{constructor(u,f,_){this._meshCache={},this.painter=u,this.tileManager=new SC(f),this.options=_,this.exaggeration=typeof _.exaggeration=="number"?_.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(u,f,_,S=a.a4){var M;if(!(f>=0&&f<S&&_>=0&&_<S))return 0;const D=this.getTerrainData(u),z=(M=D.tile)===null||M===void 0?void 0:M.dem;if(!z)return 0;const F=a.cB([],[f/S*a.a4,_/S*a.a4],D.u_terrain_matrix),G=[F[0]*z.dim,F[1]*z.dim],q=Math.floor(G[0]),te=Math.floor(G[1]),ee=G[0]-q,ae=G[1]-te;return z.get(q,te)*(1-ee)*(1-ae)+z.get(q+1,te)*ee*(1-ae)+z.get(q,te+1)*(1-ee)*ae+z.get(q+1,te+1)*ee*ae}getElevationForLngLatZoom(u,f){if(!a.cC(f,u.wrap()))return 0;const{tileID:_,mercatorX:S,mercatorY:M}=this._getOverscaledTileIDFromLngLatZoom(u,f);return this.getElevation(_,S%a.a4,M%a.a4,a.a4)}getElevation(u,f,_,S=a.a4){return this.getDEMElevation(u,f,_,S)*this.exaggeration}getTerrainData(u){if(!this._emptyDemTexture){const S=this.painter.context,M=new a.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new a.T(S,M,S.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new a.T(S,new a.R({width:1,height:1}),S.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(S.gl.NEAREST,S.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=a.ar([])}const f=this.tileManager.getSourceTile(u,!0);if(f&&f.dem&&(!f.demTexture||f.needsTerrainPrepare)){const S=this.painter.context;f.demTexture=this.painter.getTileTexture(f.dem.stride),f.demTexture?f.demTexture.update(f.dem.getPixels(),{premultiply:!1}):f.demTexture=new a.T(S,f.dem.getPixels(),S.gl.RGBA,{premultiply:!1}),f.demTexture.bind(S.gl.NEAREST,S.gl.CLAMP_TO_EDGE),f.needsTerrainPrepare=!1}const _=f&&f+f.tileID.key+u.key;if(_&&!this._demMatrixCache[_]){const S=this.tileManager.getSource().maxzoom;let M=u.canonical.z-f.tileID.canonical.z;u.overscaledZ>u.canonical.z&&(u.canonical.z>=S?M=u.canonical.z-S:a.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const D=u.canonical.x-(u.canonical.x>>M<<M),z=u.canonical.y-(u.canonical.y>>M<<M),F=a.cD(new Float64Array(16),[1/(a.a4<<M),1/(a.a4<<M),0]);a.O(F,F,[D*a.a4,z*a.a4,0]),this._demMatrixCache[u.key]={matrix:F,coord:u}}return{u_depth:2,u_terrain:3,u_terrain_dim:f&&f.dem&&f.dem.dim||1,u_terrain_matrix:_?this._demMatrixCache[u.key].matrix:this._emptyDemMatrix,u_terrain_unpack:f&&f.dem&&f.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(f&&f.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:f}}getFramebuffer(u){const f=this.painter,_=f.width/devicePixelRatio,S=f.height/devicePixelRatio;return!this._fbo||this._fbo.width===_&&this._fbo.height===S||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new a.T(f.context,{width:_,height:S,data:null},f.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(f.context.gl.NEAREST,f.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new a.T(f.context,{width:_,height:S,data:null},f.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(f.context.gl.NEAREST,f.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=f.context.createFramebuffer(_,S,!0,!1),this._fbo.depthAttachment.set(f.context.createRenderbuffer(f.context.gl.DEPTH_COMPONENT16,_,S))),this._fbo.colorAttachment.set(u==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const u=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const f=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let M=0,D=0;M<this._coordsTextureSize;M++)for(let z=0;z<this._coordsTextureSize;z++,D+=4)f[D+0]=255&z,f[D+1]=255&M,f[D+2]=z>>8<<4|M>>8,f[D+3]=0;const _=new a.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(f.buffer)),S=new a.T(u,_,u.gl.RGBA,{premultiply:!1});return S.bind(u.gl.NEAREST,u.gl.CLAMP_TO_EDGE),this._coordsTexture=S,S}pointCoordinate(u){this.painter.maybeDrawDepthAndCoords(!0);const f=new Uint8Array(4),_=this.painter.context,S=_.gl,M=Math.round(u.x*this.painter.pixelRatio/devicePixelRatio),D=Math.round(u.y*this.painter.pixelRatio/devicePixelRatio),z=Math.round(this.painter.height/devicePixelRatio);_.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),S.readPixels(M,z-D-1,1,1,S.RGBA,S.UNSIGNED_BYTE,f),_.bindFramebuffer.set(null);const F=f[0]+(f[2]>>4<<8),G=f[1]+((15&f[2])<<8),q=this.coordsIndex[255-f[3]],te=q&&this.tileManager.getTileByID(q);if(!te)return null;const ee=this._coordsTextureSize,ae=(1<<te.tileID.canonical.z)*ee;return new a.aa((te.tileID.canonical.x*ee+F)/ae+te.tileID.wrap,(te.tileID.canonical.y*ee+G)/ae,this.getElevation(te.tileID,F,G,ee))}depthAtPoint(u){const f=new Uint8Array(4),_=this.painter.context,S=_.gl;return _.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),S.readPixels(u.x,this.painter.height/devicePixelRatio-u.y-1,1,1,S.RGBA,S.UNSIGNED_BYTE,f),_.bindFramebuffer.set(null),(f[0]/16777216+f[1]/65536+f[2]/256+f[3])/256}getTerrainMesh(u){var f;const _=((f=this.painter.style.projection)===null||f===void 0?void 0:f.transitionState)>0,S=_&&u.canonical.y===0,M=_&&u.canonical.y===(1<<u.canonical.z)-1,D=`m_${S?"n":""}_${M?"s":""}`;if(this._meshCache[D])return this._meshCache[D];const z=this.painter.context,F=new a.cE,G=new a.aX,q=this.meshSize,te=a.a4/q,ee=q*q;for(let Le=0;Le<=q;Le++)for(let Ze=0;Ze<=q;Ze++)F.emplaceBack(Ze*te,Le*te,0);for(let Le=0;Le<ee;Le+=q+1)for(let Ze=0;Ze<q;Ze++)G.emplaceBack(Ze+Le,q+Ze+Le+1,q+Ze+Le+2),G.emplaceBack(Ze+Le,q+Ze+Le+2,Ze+Le+1);const ae=F.length,fe=ae+(q+1),we=(q+1)*q,Se=S?a.bq:0,Pe=S?0:1,Ae=M?a.br:a.a4,ke=M?0:1;for(let Le=0;Le<=q;Le++)F.emplaceBack(Le*te,Se,Pe);for(let Le=0;Le<=q;Le++)F.emplaceBack(Le*te,Ae,ke);for(let Le=0;Le<q;Le++)G.emplaceBack(we+Le,fe+Le,fe+Le+1),G.emplaceBack(we+Le,fe+Le+1,we+Le+1),G.emplaceBack(0+Le,ae+Le+1,ae+Le),G.emplaceBack(0+Le,0+Le+1,ae+Le+1);const Ie=F.length,$e=Ie+2*(q+1);for(const Le of[0,1])for(let Ze=0;Ze<=q;Ze++)for(const lt of[0,1])F.emplaceBack(Le*a.a4,Ze*te,lt);for(let Le=0;Le<2*q;Le+=2)G.emplaceBack(Ie+Le,Ie+Le+1,Ie+Le+3),G.emplaceBack(Ie+Le,Ie+Le+3,Ie+Le+2),G.emplaceBack($e+Le,$e+Le+3,$e+Le+1),G.emplaceBack($e+Le,$e+Le+2,$e+Le+3);const Ge=new Ol(z.createVertexBuffer(F,wC.members),z.createIndexBuffer(G),a.aW.simpleSegment(0,0,F.length,G.length));return this._meshCache[D]=Ge,Ge}getMeshFrameDelta(u){return 2*Math.PI*a.bD/Math.pow(2,Math.max(u,0))/5}getMinTileElevationForLngLatZoom(u,f){var _;const{tileID:S}=this._getOverscaledTileIDFromLngLatZoom(u,f);return(_=this.getMinMaxElevation(S).minElevation)!==null&&_!==void 0?_:0}getMinMaxElevation(u){const f=this.getTerrainData(u).tile,_={minElevation:null,maxElevation:null};return f&&f.dem&&(_.minElevation=f.dem.min*this.exaggeration,_.maxElevation=f.dem.max*this.exaggeration),_}_getOverscaledTileIDFromLngLatZoom(u,f){const _=a.aa.fromLngLat(u.wrap()),S=(1<<f)*a.a4,M=_.x*S,D=_.y*S,z=Math.floor(M/a.a4),F=Math.floor(D/a.a4);return{tileID:new a.a1(f,0,f,z,F),mercatorX:M,mercatorY:D}}}class Ad{constructor(u,f,_){this._context=u,this._size=f,this._tileSize=_,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const u of this._objects)u.texture.destroy(),u.fbo.destroy()}_createObject(u){const f=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),_=new a.T(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return _.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),this._context.extTextureFilterAnisotropic&&this._context.gl.texParameterf(this._context.gl.TEXTURE_2D,this._context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._context.extTextureFilterAnisotropicMax),f.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),f.colorAttachment.set(_.texture),{id:u,fbo:f,texture:_,stamp:-1,inUse:!1}}getObjectForId(u){return this._objects[u]}useObject(u){u.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter((f=>u.id!==f)),this._recentlyUsed.push(u.id)}stampObject(u){u.stamp=++this._stamp}getOrCreateFreeObject(){for(const f of this._recentlyUsed)if(!this._objects[f].inUse)return this._objects[f];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const u=this._createObject(this._objects.length);return this._objects.push(u),u}freeObject(u){u.inUse=!1}freeAllObjects(){for(const u of this._objects)this.freeObject(u)}isFull(){return!(this._objects.length<this._size)&&this._objects.some((u=>!u.inUse))===!1}}const pn={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0,"color-relief":!0};class di{constructor(u,f){this.painter=u,this.terrain=f,this.pool=new Ad(u.context,30,f.tileManager.tileSize*f.qualityFactor)}destruct(){this.pool.destruct()}getTexture(u){return this.pool.getObjectForId(u.rtt[this._stacks.length-1].id).texture}prepareForRender(u,f){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.tileManager.getRenderableTiles(),this._renderableLayerIds=u._order.filter((_=>!u._layers[_].isHidden(f))),this._coordsAscending={};for(const _ in u.tileManagers){this._coordsAscending[_]={};const S=u.tileManagers[_].getVisibleCoordinates(),M=u.tileManagers[_].getSource(),D=M instanceof Gt?M.terrainTileRanges:null;for(const z of S){const F=this.terrain.tileManager.getTerrainCoords(z,D);for(const G in F)this._coordsAscending[_][G]||(this._coordsAscending[_][G]=[]),this._coordsAscending[_][G].push(F[G])}}this._coordsAscendingStr={};for(const _ of u._order){const S=u._layers[_],M=S.source;if(pn[S.type]&&!this._coordsAscendingStr[M]){this._coordsAscendingStr[M]={};for(const D in this._coordsAscending[M])this._coordsAscendingStr[M][D]=this._coordsAscending[M][D].map((z=>z.key)).sort().join()}}for(const _ of this._renderableTiles)for(const S in this._coordsAscendingStr){const M=this._coordsAscendingStr[S][_.tileID.key];M&&M!==_.rttCoords[S]&&(_.rtt=[])}}renderLayer(u,f){if(u.isHidden(this.painter.transform.zoom))return!1;const _=Object.assign(Object.assign({},f),{isRenderingToTexture:!0}),S=u.type,M=this.painter,D=this._renderableLayerIds[this._renderableLayerIds.length-1]===u.id;if(pn[S]&&(this._prevType&&pn[this._prevType]||this._stacks.push([]),this._prevType=S,this._stacks[this._stacks.length-1].push(u.id),!D))return!0;if(pn[this._prevType]||pn[S]&&D){this._prevType=S;const z=this._stacks.length-1,F=this._stacks[z]||[];for(const G of this._renderableTiles){if(this.pool.isFull()&&(Bl(this.painter,this.terrain,this._rttTiles,_),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(G),G.rtt[z]){const te=this.pool.getObjectForId(G.rtt[z].id);if(te.stamp===G.rtt[z].stamp){this.pool.useObject(te);continue}}const q=this.pool.getOrCreateFreeObject();this.pool.useObject(q),this.pool.stampObject(q),G.rtt[z]={id:q.id,stamp:q.stamp},M.context.bindFramebuffer.set(q.fbo.framebuffer),M.context.clear({color:a.bo.transparent,stencil:0}),M.currentStencilSource=void 0;for(let te=0;te<F.length;te++){const ee=M.style._layers[F[te]],ae=ee.source?this._coordsAscending[ee.source][G.tileID.key]:[G.tileID];M.context.viewport.set([0,0,q.fbo.width,q.fbo.height]),M._renderTileClippingMasks(ee,ae,!0),M.renderLayer(M,M.style.tileManagers[ee.source],ee,ae,_),ee.source&&(G.rttCoords[ee.source]=this._coordsAscendingStr[ee.source][G.tileID.key])}}return Bl(this.painter,this.terrain,this._rttTiles,_),this._rttTiles=[],this.pool.freeAllObjects(),pn[S]}return!1}}const R1={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","GlobeControl.Enable":"Enable globe","GlobeControl.Disable":"Disable globe","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use  + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},Dd=h,Ld={hash:!1,interactive:!0,bearingSnap:7,attributionControl:Ed,maplibreLogo:!1,refreshExpiredTiles:!0,canvasContextAttributes:{antialias:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,desynchronized:!1,contextType:void 0},scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],elevation:0,zoom:0,bearing:0,pitch:0,roll:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:a.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,transformConstrain:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,rollEnabled:!1,reduceMotion:void 0,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0,centerClampedToGround:!0,experimentalZoomLevelsToOverscale:void 0},uy={showCompass:!0,showZoom:!0,visualizePitch:!1,visualizeRoll:!0};class cy{constructor(u,f,_=!1){this.mousedown=M=>{this.startMove(M,A.mousePos(this.element,M)),A.addEventListener(window,"mousemove",this.mousemove),A.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=M=>{this.move(M,A.mousePos(this.element,M))},this.mouseup=M=>{this._rotatePitchHandler.dragEnd(M),this.offTemp()},this.touchstart=M=>{M.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=A.touchPos(this.element,M.targetTouches)[0],this.startMove(M,this._startPos),A.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),A.addEventListener(window,"touchend",this.touchend))},this.touchmove=M=>{M.targetTouches.length!==1?this.reset():(this._lastPos=A.touchPos(this.element,M.targetTouches)[0],this.move(M,this._lastPos))},this.touchend=M=>{M.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this._rotatePitchHandler.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10,this.element=f;const S=new _C;this._rotatePitchHandler=new Yc({clickTolerance:3,move:(M,D)=>{const z=f.getBoundingClientRect(),F=new a.P((z.bottom-z.top)/2,(z.right-z.left)/2);return{bearingDelta:a.cw(new a.P(M.x,D.y),D,F),pitchDelta:_?-.5*(D.y-M.y):void 0}},moveStateManager:S,enable:!0,assignEvents:()=>{}}),this.map=u,A.addEventListener(f,"mousedown",this.mousedown),A.addEventListener(f,"touchstart",this.touchstart,{passive:!1}),A.addEventListener(f,"touchcancel",this.reset)}startMove(u,f){this._rotatePitchHandler.dragStart(u,f),A.disableDrag()}move(u,f){const _=this.map,{bearingDelta:S,pitchDelta:M}=this._rotatePitchHandler.dragMove(u,f)||{};S&&_.setBearing(_.getBearing()+S),M&&_.setPitch(_.getPitch()+M)}off(){const u=this.element;A.removeEventListener(u,"mousedown",this.mousedown),A.removeEventListener(u,"touchstart",this.touchstart,{passive:!1}),A.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),A.removeEventListener(window,"touchend",this.touchend),A.removeEventListener(u,"touchcancel",this.reset),this.offTemp()}offTemp(){A.enableDrag(),A.removeEventListener(window,"mousemove",this.mousemove),A.removeEventListener(window,"mouseup",this.mouseup),A.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),A.removeEventListener(window,"touchend",this.touchend)}}let Ys;function Qc(P,u,f,_=!1){if(_||!f.getCoveringTilesDetailsProvider().allowWorldCopies())return P?.wrap();const S=new a.V(P.lng,P.lat);if(P=new a.V(P.lng,P.lat),u){const M=new a.V(P.lng-360,P.lat),D=new a.V(P.lng+360,P.lat),z=f.locationToScreenPoint(P).distSqr(u);f.locationToScreenPoint(M).distSqr(u)<z?P=M:f.locationToScreenPoint(D).distSqr(u)<z&&(P=D)}for(;Math.abs(P.lng-f.center.lng)>180;){const M=f.locationToScreenPoint(P);if(M.x>=0&&M.y>=0&&M.x<=f.width&&M.y<=f.height)break;P.lng>f.center.lng?P.lng-=360:P.lng+=360}return P.lng!==S.lng&&f.isPointOnMapSurface(f.locationToScreenPoint(P))?P:S}const Rd={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Zp(P,u,f){const _=P.classList;for(const S in Rd)_.remove(`maplibregl-${f}-anchor-${S}`);_.add(`maplibregl-${f}-anchor-${u}`)}class Od extends a.E{constructor(u){if(super(),this._onKeyPress=f=>{const _=f.code,S=f.charCode||f.keyCode;_!=="Space"&&_!=="Enter"&&S!==32&&S!==13||this.togglePopup()},this._onMapClick=f=>{const _=f.originalEvent.target,S=this._element;this._popup&&(_===S||S.contains(_))&&this.togglePopup()},this._update=f=>{if(!this._map)return;const _=this._map.loaded()&&!this._map.isMoving();(f?.type==="terrain"||f?.type==="render"&&!_)&&this._map.once("render",this._update),this._lngLat=Qc(this._lngLat,this._flatPos,this._map.transform),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationToScreenPoint(this._lngLat)._add(this._offset));let S="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?S=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(S=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let M="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?M="rotateX(0deg)":this._pitchAlignment==="map"&&(M=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||f&&f.type!=="moveend"||(this._pos=this._pos.round()),A.setTransform(this._element,`${Rd[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${M} ${S}`),x.frameAsync(new AbortController).then((()=>{this._updateOpacity(f&&f.type==="moveend")})).catch((()=>{}))},this._onMove=f=>{if(!this._isDragging){const _=this._clickTolerance||this._map._clickTolerance;this._isDragging=f.point.dist(this._pointerdownPos)>=_}this._isDragging&&(this._pos=f.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.l("dragstart"))),this.fire(new a.l("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.l("dragend")),this._state="inactive"},this._addDragHandler=f=>{this._element.contains(f.originalEvent.target)&&(f.preventDefault(),this._positionDelta=f.point.sub(this._pos).add(this._offset),this._pointerdownPos=f.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=u&&u.anchor||"center",this._color=u&&u.color||"#3FB1CE",this._scale=u&&u.scale||1,this._draggable=u&&u.draggable||!1,this._clickTolerance=u&&u.clickTolerance||0,this._subpixelPositioning=u&&u.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=u&&u.rotation||0,this._rotationAlignment=u&&u.rotationAlignment||"auto",this._pitchAlignment=u&&u.pitchAlignment&&u.pitchAlignment!=="auto"?u.pitchAlignment:this._rotationAlignment,this.setOpacity(u?.opacity,u?.opacityWhenCovered),u&&u.element)this._element=u.element,this._offset=a.P.convert(u&&u.offset||[0,0]);else{this._defaultMarker=!0,this._element=A.create("div");const f=A.createNS("http://www.w3.org/2000/svg","svg"),_=41,S=27;f.setAttributeNS(null,"display","block"),f.setAttributeNS(null,"height",`${_}px`),f.setAttributeNS(null,"width",`${S}px`),f.setAttributeNS(null,"viewBox",`0 0 ${S} ${_}`);const M=A.createNS("http://www.w3.org/2000/svg","g");M.setAttributeNS(null,"stroke","none"),M.setAttributeNS(null,"stroke-width","1"),M.setAttributeNS(null,"fill","none"),M.setAttributeNS(null,"fill-rule","evenodd");const D=A.createNS("http://www.w3.org/2000/svg","g");D.setAttributeNS(null,"fill-rule","nonzero");const z=A.createNS("http://www.w3.org/2000/svg","g");z.setAttributeNS(null,"transform","translate(3.0, 29.0)"),z.setAttributeNS(null,"fill","#000000");const F=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const Pe of F){const Ae=A.createNS("http://www.w3.org/2000/svg","ellipse");Ae.setAttributeNS(null,"opacity","0.04"),Ae.setAttributeNS(null,"cx","10.5"),Ae.setAttributeNS(null,"cy","5.80029008"),Ae.setAttributeNS(null,"rx",Pe.rx),Ae.setAttributeNS(null,"ry",Pe.ry),z.appendChild(Ae)}const G=A.createNS("http://www.w3.org/2000/svg","g");G.setAttributeNS(null,"fill",this._color);const q=A.createNS("http://www.w3.org/2000/svg","path");q.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),G.appendChild(q);const te=A.createNS("http://www.w3.org/2000/svg","g");te.setAttributeNS(null,"opacity","0.25"),te.setAttributeNS(null,"fill","#000000");const ee=A.createNS("http://www.w3.org/2000/svg","path");ee.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),te.appendChild(ee);const ae=A.createNS("http://www.w3.org/2000/svg","g");ae.setAttributeNS(null,"transform","translate(6.0, 7.0)"),ae.setAttributeNS(null,"fill","#FFFFFF");const fe=A.createNS("http://www.w3.org/2000/svg","g");fe.setAttributeNS(null,"transform","translate(8.0, 8.0)");const we=A.createNS("http://www.w3.org/2000/svg","circle");we.setAttributeNS(null,"fill","#000000"),we.setAttributeNS(null,"opacity","0.25"),we.setAttributeNS(null,"cx","5.5"),we.setAttributeNS(null,"cy","5.5"),we.setAttributeNS(null,"r","5.4999962");const Se=A.createNS("http://www.w3.org/2000/svg","circle");Se.setAttributeNS(null,"fill","#FFFFFF"),Se.setAttributeNS(null,"cx","5.5"),Se.setAttributeNS(null,"cy","5.5"),Se.setAttributeNS(null,"r","5.4999962"),fe.appendChild(we),fe.appendChild(Se),D.appendChild(z),D.appendChild(G),D.appendChild(te),D.appendChild(ae),D.appendChild(fe),f.appendChild(D),f.setAttributeNS(null,"height",_*this._scale+"px"),f.setAttributeNS(null,"width",S*this._scale+"px"),this._element.appendChild(f),this._offset=a.P.convert(u&&u.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",(f=>{f.preventDefault()})),this._element.addEventListener("mousedown",(f=>{f.preventDefault()})),Zp(this._element,this._anchor,"marker"),u&&u.className)for(const f of u.className.split(" "))this._element.classList.add(f);this._popup=null}addTo(u){return this.remove(),this._map=u,this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label",u._getUIString("Marker.Title")),this._element.hasAttribute("role")||this._element.setAttribute("role","button"),u.getCanvasContainer().appendChild(this._element),u.on("move",this._update),u.on("moveend",this._update),u.on("terrain",this._update),u.on("projectiontransition",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("projectiontransition",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),A.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(u){return this._lngLat=a.V.convert(u),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(u){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),u){if(!("offset"in u.options)){const S=Math.abs(13.5)/Math.SQRT2;u.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[S,-1*(38.1-13.5+S)],"bottom-right":[-S,-1*(38.1-13.5+S)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=u,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(u){return this._subpixelPositioning=u,this}getPopup(){return this._popup}togglePopup(){const u=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:u?(u.isOpen()?u.remove():(u.setLngLat(this._lngLat),u.addTo(this._map)),this):this}_updateOpacity(u=!1){var f,_;const S=(f=this._map)===null||f===void 0?void 0:f.terrain,M=this._map.transform.isLocationOccluded(this._lngLat);if(!S||M){const ae=M?this._opacityWhenCovered:this._opacity;return void(this._element.style.opacity!==ae&&(this._element.style.opacity=ae))}if(u)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout((()=>{this._opacityTimeout=null}),100)}const D=this._map,z=D.terrain.depthAtPoint(this._pos),F=D.terrain.getElevationForLngLatZoom(this._lngLat,D.transform.tileZoom);if(D.transform.lngLatToCameraDepth(this._lngLat,F)-z<.006)return void(this._element.style.opacity=this._opacity);const G=-this._offset.y/D.transform.pixelsPerMeter,q=Math.sin(D.getPitch()*Math.PI/180)*G,te=D.terrain.depthAtPoint(new a.P(this._pos.x,this._pos.y-this._offset.y)),ee=D.transform.lngLatToCameraDepth(this._lngLat,F+q)-te>.006;!((_=this._popup)===null||_===void 0)&&_.isOpen()&&ee&&this._popup.remove(),this._element.style.opacity=ee?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(u){return this._offset=a.P.convert(u),this._update(),this}addClassName(u){this._element.classList.add(u)}removeClassName(u){this._element.classList.remove(u)}toggleClassName(u){return this._element.classList.toggle(u)}setDraggable(u){return this._draggable=!!u,this._map&&(u?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(u){return this._rotation=u||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(u){return this._rotationAlignment=u||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(u){return this._pitchAlignment=u&&u!=="auto"?u:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(u,f){return(this._opacity===void 0||u===void 0&&f===void 0)&&(this._opacity="1",this._opacityWhenCovered="0.2"),u!==void 0&&(this._opacity=u),f!==void 0&&(this._opacityWhenCovered=f),this._map&&this._updateOpacity(!0),this}}const hy={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let eh=0,ku=!1;const dy={maxWidth:100,unit:"metric"};function Xp(P,u,f){const _=f&&f.maxWidth||100,S=P._container.clientHeight/2,M=P._container.clientWidth/2,D=P.unproject([M-_/2,S]),z=P.unproject([M+_/2,S]),F=Math.round(P.project(z).x-P.project(D).x),G=Math.min(_,F,P._container.clientWidth),q=D.distanceTo(z);if(f&&f.unit==="imperial"){const te=3.2808*q;te>5280?$u(u,G,te/5280,P._getUIString("ScaleControl.Miles")):$u(u,G,te,P._getUIString("ScaleControl.Feet"))}else f&&f.unit==="nautical"?$u(u,G,q/1852,P._getUIString("ScaleControl.NauticalMiles")):q>=1e3?$u(u,G,q/1e3,P._getUIString("ScaleControl.Kilometers")):$u(u,G,q,P._getUIString("ScaleControl.Meters"))}function $u(P,u,f,_){const S=(function(M){const D=Math.pow(10,`${Math.floor(M)}`.length-1);let z=M/D;return z=z>=10?10:z>=5?5:z>=3?3:z>=2?2:z>=1?1:(function(F){const G=Math.pow(10,Math.ceil(-Math.log(F)/Math.LN10));return Math.round(F*G)/G})(z),D*z})(f);P.style.width=u*(S/f)+"px",P.innerHTML=`${S}&nbsp;${_}`}const Kp={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1,locationOccludedOpacity:void 0},fy=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Yp(P){if(P){if(typeof P=="number"){const u=Math.round(Math.abs(P)/Math.SQRT2);return{center:new a.P(0,0),top:new a.P(0,P),"top-left":new a.P(u,u),"top-right":new a.P(-u,u),bottom:new a.P(0,-P),"bottom-left":new a.P(u,-u),"bottom-right":new a.P(-u,-u),left:new a.P(P,0),right:new a.P(-P,0)}}if(P instanceof a.P||Array.isArray(P)){const u=a.P.convert(P);return{center:u,top:u,"top-left":u,"top-right":u,bottom:u,"bottom-left":u,"bottom-right":u,left:u,right:u}}return{center:a.P.convert(P.center||[0,0]),top:a.P.convert(P.top||[0,0]),"top-left":a.P.convert(P["top-left"]||[0,0]),"top-right":a.P.convert(P["top-right"]||[0,0]),bottom:a.P.convert(P.bottom||[0,0]),"bottom-left":a.P.convert(P["bottom-left"]||[0,0]),"bottom-right":a.P.convert(P["bottom-right"]||[0,0]),left:a.P.convert(P.left||[0,0]),right:a.P.convert(P.right||[0,0])}}return Yp(new a.P(0,0))}const Jp=h;s.AJAXError=a.cI,s.Event=a.l,s.Evented=a.E,s.LngLat=a.V,s.MercatorCoordinate=a.aa,s.Point=a.P,s.addProtocol=a.cJ,s.config=a.a,s.removeProtocol=a.cK,s.AttributionControl=go,s.BoxZoomHandler=S1,s.CanvasSource=vr,s.CooperativeGesturesHandler=Wa,s.DoubleClickZoomHandler=Md,s.DragPanHandler=sy,s.DragRotateHandler=ly,s.EdgeInsets=En,s.FullscreenControl=class extends a.E{constructor(P={}){super(),this._onFullscreenChange=()=>{var u;let f=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((u=f?.shadowRoot)===null||u===void 0)&&u.fullscreenElement;)f=f.shadowRoot.fullscreenElement;f===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,P&&P.container&&(P.container instanceof HTMLElement?this._container=P.container:a.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(P){return this._map=P,this._container||(this._container=this._map.getContainer()),this._controlContainer=A.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){A.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const P=this._fullscreenButton=A.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);A.create("span","maplibregl-ctrl-icon",P).setAttribute("aria-hidden","true"),P.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const P=this._getTitle();this._fullscreenButton.setAttribute("aria-label",P),this._fullscreenButton.title=P}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new a.l("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new a.l("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},s.GeoJSONSource=$t,s.GeolocateControl=class extends a.E{constructor(P){super(),this._onSuccess=u=>{if(this._map){if(this._isOutOfMapMaxBounds(u))return this._setErrorState(),this.fire(new a.l("outofmaxbounds",u)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=u,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(u),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(u),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new a.l("geolocate",u)),this._finish()}},this._updateCamera=u=>{const f=new a.V(u.coords.longitude,u.coords.latitude),_=u.coords.accuracy,S=this._map.getBearing(),M=a.e({bearing:S},this.options.fitBoundsOptions),D=et.fromLngLat(f,_);this._map.fitBounds(D,M,{geolocateSource:!0})},this._updateMarker=u=>{if(u){const f=new a.V(u.coords.longitude,u.coords.latitude);this._accuracyCircleMarker.setLngLat(f).addTo(this._map),this._userLocationDotMarker.setLngLat(f).addTo(this._map),this._accuracy=u.coords.accuracy,this._updateCircleRadiusIfNeeded()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onUpdate=()=>{this._updateCircleRadiusIfNeeded()},this._onError=u=>{if(this._map){if(u.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const f=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(u.code===3&&ku)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new a.l("error",u)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",(u=>u.preventDefault())),this._geolocateButton=A.create("button","maplibregl-ctrl-geolocate",this._container),A.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=u=>{if(this._map){if(u===!1){a.w("Geolocation support is not available so the GeolocateControl will be disabled.");const f=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f)}else{const f=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=A.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Od({element:this._dotElement}),this._circleElement=A.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Od({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onUpdate),this._map.on("move",this._onUpdate),this._map.on("rotate",this._onUpdate),this._map.on("pitch",this._onUpdate)),this._geolocateButton.addEventListener("click",(()=>this.trigger())),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(f=>{const _=f?.[0]instanceof ResizeObserverEntry;f.geolocateSource||this._watchState!=="ACTIVE_LOCK"||_||this._map.isZooming()||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new a.l("trackuserlocationend")),this.fire(new a.l("userlocationlostfocus")))}))}},this.options=a.e({},hy,P)}onAdd(P){return this._map=P,this._container=A.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),(function(){return a._(this,arguments,void 0,(function*(u=!1){if(Ys!==void 0&&!u)return Ys;if(window.navigator.permissions===void 0)return Ys=!!window.navigator.geolocation,Ys;try{Ys=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{Ys=!!window.navigator.geolocation}return Ys}))})().then((u=>this._finishSetupUI(u))),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),A.remove(this._container),this._map.off("zoom",this._onUpdate),this._map.off("move",this._onUpdate),this._map.off("rotate",this._onUpdate),this._map.off("pitch",this._onUpdate),this._map=void 0,eh=0,ku=!1}_isOutOfMapMaxBounds(P){const u=this._map.getMaxBounds(),f=P.coords;return u&&(f.longitude<u.getWest()||f.longitude>u.getEast()||f.latitude<u.getSouth()||f.latitude>u.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":case"BACKGROUND_ERROR":case"OFF":case void 0:break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadiusIfNeeded(){const P=this._userLocationDotMarker.getLngLat();if(!(this.options.showUserLocation&&this.options.showAccuracyCircle&&this._accuracy&&P))return;const u=this._map.project(P),f=this._map.unproject([u.x+100,u.y]),_=P.distanceTo(f)/100,S=2*this._accuracy/_;this._circleElement.style.width=`${S.toFixed(2)}px`,this._circleElement.style.height=`${S.toFixed(2)}px`}trigger(){if(!this._setup)return a.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.l("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":eh--,ku=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new a.l("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.l("trackuserlocationstart")),this.fire(new a.l("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let P;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),eh++,eh>1?(P={maximumAge:6e5,timeout:0},ku=!0):(P=this.options.positionOptions,ku=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,P)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},s.GlobeControl=class{constructor(){this._toggleProjection=()=>{var P;const u=(P=this._map.getProjection())===null||P===void 0?void 0:P.type;this._map.setProjection(u!=="mercator"&&u?{type:"mercator"}:{type:"globe"}),this._updateGlobeIcon()},this._updateGlobeIcon=()=>{var P;this._globeButton.classList.remove("maplibregl-ctrl-globe"),this._globeButton.classList.remove("maplibregl-ctrl-globe-enabled"),((P=this._map.getProjection())===null||P===void 0?void 0:P.type)==="globe"?(this._globeButton.classList.add("maplibregl-ctrl-globe-enabled"),this._globeButton.title=this._map._getUIString("GlobeControl.Disable")):(this._globeButton.classList.add("maplibregl-ctrl-globe"),this._globeButton.title=this._map._getUIString("GlobeControl.Enable"))}}onAdd(P){return this._map=P,this._container=A.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._globeButton=A.create("button","maplibregl-ctrl-globe",this._container),A.create("span","maplibregl-ctrl-icon",this._globeButton).setAttribute("aria-hidden","true"),this._globeButton.type="button",this._globeButton.addEventListener("click",this._toggleProjection),this._updateGlobeIcon(),this._map.on("styledata",this._updateGlobeIcon),this._container}onRemove(){A.remove(this._container),this._map.off("styledata",this._updateGlobeIcon),this._globeButton.removeEventListener("click",this._toggleProjection),this._map=void 0}},s.Hash=Qv,s.ImageSource=Gt,s.KeyboardHandler=I1,s.LngLatBounds=et,s.LogoControl=Sa,s.Map=class extends D1{constructor(P){var u,f;a.cF.mark(a.cG.create);const _=Object.assign(Object.assign(Object.assign({},Ld),P),{canvasContextAttributes:Object.assign(Object.assign({},Ld.canvasContextAttributes),P.canvasContextAttributes)});if(_.minZoom!=null&&_.maxZoom!=null&&_.minZoom>_.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(_.minPitch!=null&&_.maxPitch!=null&&_.minPitch>_.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(_.minPitch!=null&&_.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(_.maxPitch!=null&&_.maxPitch>180)throw new Error("maxPitch must be less than or equal to 180");const S=new On,M=new Fo;if(_.minZoom!==void 0&&S.setMinZoom(_.minZoom),_.maxZoom!==void 0&&S.setMaxZoom(_.maxZoom),_.minPitch!==void 0&&S.setMinPitch(_.minPitch),_.maxPitch!==void 0&&S.setMaxPitch(_.maxPitch),_.renderWorldCopies!==void 0&&S.setRenderWorldCopies(_.renderWorldCopies),_.transformConstrain!==null&&S.setConstrainOverride(_.transformConstrain),super(S,M,{bearingSnap:_.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new L1,this._controls=[],this._mapId=a.ag(),this._lostContextStyle={style:null,images:null},this._contextLost=z=>{z.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.painter.destroy();for(const F of Object.values(this.style._layers))if(F.type==="custom"&&console.warn(`Custom layer with id '${F.id}' cannot be restored after WebGL context loss. You will need to re-add it manually after context restoration.`),F._listeners)for(const[G]of Object.entries(F._listeners))console.warn(`Custom layer with id '${F.id}' had event listeners for event '${G}' which cannot be restored after WebGL context loss. You will need to re-add them manually after context restoration.`);this._lostContextStyle=this._getStyleAndImages(),this.style.destroy(),this.style=null,this.fire(new a.l("webglcontextlost",{originalEvent:z}))},this._contextRestored=z=>{this._lostContextStyle.style&&this.setStyle(this._lostContextStyle.style,{diff:!1}),this._lostContextStyle.images&&(this.style.imageManager.images=this._lostContextStyle.images),this._setupPainter(),this.resize(),this._update(),this.fire(new a.l("webglcontextrestored",{originalEvent:z}))},this._onMapScroll=z=>{if(z.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=_.interactive,this._maxTileCacheSize=_.maxTileCacheSize,this._maxTileCacheZoomLevels=_.maxTileCacheZoomLevels,this._canvasContextAttributes=Object.assign({},_.canvasContextAttributes),this._trackResize=_.trackResize===!0,this._bearingSnap=_.bearingSnap,this._centerClampedToGround=_.centerClampedToGround,this._refreshExpiredTiles=_.refreshExpiredTiles===!0,this._fadeDuration=_.fadeDuration,this._crossSourceCollisions=_.crossSourceCollisions===!0,this._collectResourceTiming=_.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},R1),_.locale),this._clickTolerance=_.clickTolerance,this._overridePixelRatio=_.pixelRatio,this._maxCanvasSize=_.maxCanvasSize,this._zoomLevelsToOverscale=_.experimentalZoomLevelsToOverscale,this.transformCameraUpdate=_.transformCameraUpdate,this.transformConstrain=_.transformConstrain,this.cancelPendingTileRequestsWhileZooming=_.cancelPendingTileRequestsWhileZooming===!0,_.reduceMotion!==void 0&&(x.prefersReducedMotion=_.reduceMotion),this._imageQueueHandle=j.addThrottleControl((()=>this.isMoving())),this._requestManager=new X(_.transformRequest),typeof _.container=="string"){if(this._container=document.getElementById(_.container),!this._container)throw new Error(`Container '${_.container}' not found.`)}else{if(!(_.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=_.container}if(_.maxBounds&&this.setMaxBounds(_.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",(()=>this._update(!1))),this.on("moveend",(()=>this._update(!1))),this.on("zoom",(()=>this._update(!0))),this.on("terrain",(()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)})),this.once("idle",(()=>{this._idleTriggered=!0})),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let z=!1;const F=Jv((G=>{this._trackResize&&!this._removed&&(this.resize(G),this.redraw())}),50);this._resizeObserver=new ResizeObserver((G=>{z?F(G):z=!0})),this._resizeObserver.observe(this._container)}this.handlers=new Id(this,_),this._hash=_.hash&&new Qv(typeof _.hash=="string"&&_.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:_.center,elevation:_.elevation,zoom:_.zoom,bearing:_.bearing,pitch:_.pitch,roll:_.roll}),_.bounds&&(this.resize(),this.fitBounds(_.bounds,a.e({},_.fitBoundsOptions,{duration:0}))));const D=typeof _.style=="string"||((f=(u=_.style)===null||u===void 0?void 0:u.projection)===null||f===void 0?void 0:f.type)!=="globe";this.resize(null,D),this._localIdeographFontFamily=_.localIdeographFontFamily,this._validateStyle=_.validateStyle,_.style&&this.setStyle(_.style,{localIdeographFontFamily:_.localIdeographFontFamily}),_.attributionControl&&this.addControl(new go(typeof _.attributionControl=="boolean"?void 0:_.attributionControl)),_.maplibreLogo&&this.addControl(new Sa,_.logoPosition),this.on("style.load",(()=>{if(D||this._resizeTransform(),this.transform.unmodified){const z=a.U(this.style.stylesheet,["center","zoom","bearing","pitch","roll"]);this.jumpTo(z)}})),this.on("data",(z=>{this._update(z.dataType==="style"),this.fire(new a.l(`${z.dataType}data`,z))})),this.on("dataloading",(z=>{this.fire(new a.l(`${z.dataType}dataloading`,z))})),this.on("dataabort",(z=>{this.fire(new a.l("sourcedataabort",z))}))}_getMapId(){return this._mapId}setGlobalStateProperty(P,u){return this.style.setGlobalStateProperty(P,u),this._update(!0)}getGlobalState(){return this.style.getGlobalState()}addControl(P,u){if(u===void 0&&(u=P.getDefaultPosition?P.getDefaultPosition():"top-right"),!P||!P.onAdd)return this.fire(new a.k(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const f=P.onAdd(this);this._controls.push(P);const _=this._controlPositions[u];return u.indexOf("bottom")!==-1?_.insertBefore(f,_.firstChild):_.appendChild(f),this}removeControl(P){if(!P||!P.onRemove)return this.fire(new a.k(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const u=this._controls.indexOf(P);return u>-1&&this._controls.splice(u,1),P.onRemove(this),this}hasControl(P){return this._controls.indexOf(P)>-1}coveringTiles(P){return xr(this.transform,P)}calculateCameraOptionsFromTo(P,u,f,_){return _==null&&this.terrain&&(_=this.terrain.getElevationForLngLatZoom(f,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(P,u,f,_)}resize(P,u=!0){const[f,_]=this._containerDimensions(),S=this._getClampedPixelRatio(f,_);if(this._resizeCanvas(f,_,S),this.painter.resize(f,_,S),this.painter.overLimit()){const D=this.painter.context.gl;this._maxCanvasSize=[D.drawingBufferWidth,D.drawingBufferHeight];const z=this._getClampedPixelRatio(f,_);this._resizeCanvas(f,_,z),this.painter.resize(f,_,z)}this._resizeTransform(u);const M=!this._moving;return M&&(this.stop(),this.fire(new a.l("movestart",P)).fire(new a.l("move",P))),this.fire(new a.l("resize",P)),M&&this.fire(new a.l("moveend",P)),this}_resizeTransform(P=!0){var u;const[f,_]=this._containerDimensions();this.transform.resize(f,_,P),(u=this._requestedCameraState)===null||u===void 0||u.resize(f,_,P)}_getClampedPixelRatio(P,u){const{0:f,1:_}=this._maxCanvasSize,S=this.getPixelRatio(),M=P*S,D=u*S;return Math.min(M>f?f/M:1,D>_?_/D:1)*S}getPixelRatio(){var P;return(P=this._overridePixelRatio)!==null&&P!==void 0?P:devicePixelRatio}setPixelRatio(P){this._overridePixelRatio=P,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(P){return this.transform.setMaxBounds(et.convert(P)),this._update()}setMinZoom(P){if((P=P??-2)>=-2&&P<=this.transform.maxZoom)return this.transform.setMinZoom(P),this._update(),this.getZoom()<P&&this.setZoom(P),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(P){if((P=P??22)>=this.transform.minZoom)return this.transform.setMaxZoom(P),this._update(),this.getZoom()>P&&this.setZoom(P),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(P){if((P=P??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(P>=0&&P<=this.transform.maxPitch)return this.transform.setMinPitch(P),this._update(),this.getPitch()<P&&this.setPitch(P),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(P){if((P=P??60)>180)throw new Error("maxPitch must be less than or equal to 180");if(P>=this.transform.minPitch)return this.transform.setMaxPitch(P),this._update(),this.getPitch()>P&&this.setPitch(P),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(P){return this.transform.setRenderWorldCopies(P),this._update()}setTransformConstrain(P){return this.transform.setConstrainOverride(P),this._update()}project(P){return this.transform.locationToScreenPoint(a.V.convert(P),this.style&&this.terrain)}unproject(P){return this.transform.screenPointToLocation(a.P.convert(P),this.terrain)}isMoving(){var P;return this._moving||((P=this.handlers)===null||P===void 0?void 0:P.isMoving())}isZooming(){var P;return this._zooming||((P=this.handlers)===null||P===void 0?void 0:P.isZooming())}isRotating(){var P;return this._rotating||((P=this.handlers)===null||P===void 0?void 0:P.isRotating())}_createDelegatedListener(P,u,f){if(P==="mouseenter"||P==="mouseover"){let _=!1;return{layers:u,listener:f,delegates:{mousemove:M=>{const D=u.filter((F=>this.getLayer(F))),z=D.length!==0?this.queryRenderedFeatures(M.point,{layers:D}):[];z.length?_||(_=!0,f.call(this,new oi(P,this,M.originalEvent,{features:z}))):_=!1},mouseout:()=>{_=!1}}}}if(P==="mouseleave"||P==="mouseout"){let _=!1;return{layers:u,listener:f,delegates:{mousemove:D=>{const z=u.filter((F=>this.getLayer(F)));(z.length!==0?this.queryRenderedFeatures(D.point,{layers:z}):[]).length?_=!0:_&&(_=!1,f.call(this,new oi(P,this,D.originalEvent)))},mouseout:D=>{_&&(_=!1,f.call(this,new oi(P,this,D.originalEvent)))}}}}{const _=S=>{const M=u.filter((z=>this.getLayer(z))),D=M.length!==0?this.queryRenderedFeatures(S.point,{layers:M}):[];D.length&&(S.features=D,f.call(this,S),delete S.features)};return{layers:u,listener:f,delegates:{[P]:_}}}}_saveDelegatedListener(P,u){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[P]=this._delegatedListeners[P]||[],this._delegatedListeners[P].push(u)}_removeDelegatedListener(P,u,f){if(!this._delegatedListeners||!this._delegatedListeners[P])return;const _=this._delegatedListeners[P];for(let S=0;S<_.length;S++){const M=_[S];if(M.listener===f&&M.layers.length===u.length&&M.layers.every((D=>u.includes(D)))){for(const D in M.delegates)this.off(D,M.delegates[D]);return void _.splice(S,1)}}}on(P,u,f){if(f===void 0)return super.on(P,u);const _=typeof u=="string"?[u]:u,S=this._createDelegatedListener(P,_,f);this._saveDelegatedListener(P,S);for(const M in S.delegates)this.on(M,S.delegates[M]);return{unsubscribe:()=>{this._removeDelegatedListener(P,_,f)}}}once(P,u,f){if(f===void 0)return super.once(P,u);const _=typeof u=="string"?[u]:u,S=this._createDelegatedListener(P,_,f);for(const M in S.delegates){const D=S.delegates[M];S.delegates[M]=(...z)=>{this._removeDelegatedListener(P,_,f),D(...z)}}this._saveDelegatedListener(P,S);for(const M in S.delegates)this.once(M,S.delegates[M]);return this}off(P,u,f){return f===void 0?super.off(P,u):(this._removeDelegatedListener(P,typeof u=="string"?[u]:u,f),this)}queryRenderedFeatures(P,u){if(!this.style)return[];let f;const _=P instanceof a.P||Array.isArray(P),S=_?P:[[0,0],[this.transform.width,this.transform.height]];if(u=u||(_?{}:P)||{},S instanceof a.P||typeof S[0]=="number")f=[a.P.convert(S)];else{const M=a.P.convert(S[0]),D=a.P.convert(S[1]);f=[M,new a.P(D.x,M.y),D,new a.P(M.x,D.y),M]}return this.style.queryRenderedFeatures(f,u,this.transform)}querySourceFeatures(P,u){return this.style.querySourceFeatures(P,u)}setStyle(P,u){return(u=a.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},u)).diff!==!1&&u.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&P?(this._diffStyle(P,u),this):(this._localIdeographFontFamily=u.localIdeographFontFamily,this._updateStyle(P,u))}setTransformRequest(P){return this._requestManager.setTransformRequest(P),this}_getUIString(P){const u=this._locale[P];if(u==null)throw new Error(`Missing UI string '${P}'`);return u}_updateStyle(P,u){var f,_;if(u.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",(()=>this._updateStyle(P,u)));const S=this.style&&u.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!P)),P?(this.style=new sd(this,u||{}),this.style.setEventedParent(this,{style:this.style}),typeof P=="string"?this.style.loadURL(P,u,S):this.style.loadJSON(P,u,S),this):((_=(f=this.style)===null||f===void 0?void 0:f.projection)===null||_===void 0||_.destroy(),delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new sd(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(P,u){if(typeof P=="string"){const f=this._requestManager.transformRequest(P,"Style");a.j(f,new AbortController).then((_=>{this._updateDiff(_.data,u)})).catch((_=>{_&&this.fire(new a.k(_))}))}else typeof P=="object"&&this._updateDiff(P,u)}_updateDiff(P,u){try{this.style.setState(P,u)&&this._update(!0)}catch(f){a.w(`Unable to perform style diff: ${f.message||f.error||f}.  Rebuilding the style from scratch.`),this._updateStyle(P,u)}}getStyle(){if(this.style)return this.style.serialize()}_getStyleAndImages(){return this.style?{style:this.style.serialize(),images:this.style.imageManager.cloneImages()}:{style:null,images:{}}}isStyleLoaded(){return this.style?this.style.loaded():a.w("There is no style added to the map.")}addSource(P,u){return this._lazyInitEmptyStyle(),this.style.addSource(P,u),this._update(!0)}isSourceLoaded(P){const u=this.style&&this.style.tileManagers[P];if(u!==void 0)return u.loaded();this.fire(new a.k(new Error(`There is no tile manager with ID '${P}'`)))}setTerrain(P){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),P){const u=this.style.tileManagers[P.source];if(!u)throw new Error(`cannot load terrain, because there exists no source with ID: ${P.source}`);this.terrain===null&&u.reload();for(const f in this.style._layers){const _=this.style._layers[f];_.type==="hillshade"&&_.source===P.source&&a.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality."),_.type==="color-relief"&&_.source===P.source&&a.w("You are using the same source for a color-relief layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new TC(this.painter,u,P),this.painter.renderToTexture=new di(this.painter,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._terrainDataCallback=f=>{var _;f.dataType==="style"?this.terrain.tileManager.freeRtt():f.dataType==="source"&&f.tile&&(f.sourceId!==P.source||this._elevationFreeze||(this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))),((_=f.source)===null||_===void 0?void 0:_.type)==="image"?this.terrain.tileManager.freeRtt():this.terrain.tileManager.freeRtt(f.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.tileManager.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0);return this.fire(new a.l("terrain",{terrain:P})),this}getTerrain(){var P,u;return(u=(P=this.terrain)===null||P===void 0?void 0:P.options)!==null&&u!==void 0?u:null}areTilesLoaded(){const P=this.style&&this.style.tileManagers;for(const u in P){const f=P[u]._tiles;for(const _ in f){const S=f[_];if(S.state!=="loaded"&&S.state!=="errored")return!1}}return!0}removeSource(P){return this.style.removeSource(P),this._update(!0)}getSource(P){return this.style.getSource(P)}setSourceTileLodParams(P,u,f){if(f){const _=this.getSource(f);if(!_)throw new Error(`There is no source with ID "${f}", cannot set LOD parameters`);_.calculateTileZoom=pt(Math.max(1,P),Math.max(1,u))}else for(const _ in this.style.tileManagers)this.style.tileManagers[_].getSource().calculateTileZoom=pt(Math.max(1,P),Math.max(1,u));return this._update(!0),this}refreshTiles(P,u){const f=this.style.tileManagers[P];if(!f)throw new Error(`There is no tile manager with ID "${P}", cannot refresh tile`);u===void 0?f.reload(!0):f.refreshTiles(u.map((_=>new a.ad(_.z,_.x,_.y))))}addImage(P,u,f={}){const{pixelRatio:_=1,sdf:S=!1,stretchX:M,stretchY:D,content:z,textFitWidth:F,textFitHeight:G}=f;if(this._lazyInitEmptyStyle(),!(u instanceof HTMLImageElement||a.b(u))){if(u.width===void 0||u.height===void 0)return this.fire(new a.k(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:q,height:te,data:ee}=u,ae=u;return this.style.addImage(P,{data:new a.R({width:q,height:te},new Uint8Array(ee)),pixelRatio:_,stretchX:M,stretchY:D,content:z,textFitWidth:F,textFitHeight:G,sdf:S,version:0,userImage:ae}),ae.onAdd&&ae.onAdd(this,P),this}}{const{width:q,height:te,data:ee}=x.getImageData(u);this.style.addImage(P,{data:new a.R({width:q,height:te},ee),pixelRatio:_,stretchX:M,stretchY:D,content:z,textFitWidth:F,textFitHeight:G,sdf:S,version:0})}}updateImage(P,u){const f=this.style.getImage(P);if(!f)return this.fire(new a.k(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const _=u instanceof HTMLImageElement||a.b(u)?x.getImageData(u):u,{width:S,height:M,data:D}=_;if(S===void 0||M===void 0)return this.fire(new a.k(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(S!==f.data.width||M!==f.data.height)return this.fire(new a.k(new Error("The width and height of the updated image must be that same as the previous version of the image")));const z=!(u instanceof HTMLImageElement||a.b(u));return f.data.replace(D,z),this.style.updateImage(P,f),this}getImage(P){return this.style.getImage(P)}hasImage(P){return P?!!this.style.getImage(P):(this.fire(new a.k(new Error("Missing required image id"))),!1)}removeImage(P){this.style.removeImage(P)}loadImage(P){return j.getImage(this._requestManager.transformRequest(P,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(P,u){return this._lazyInitEmptyStyle(),this.style.addLayer(P,u),this._update(!0)}moveLayer(P,u){return this.style.moveLayer(P,u),this._update(!0)}removeLayer(P){return this.style.removeLayer(P),this._update(!0)}getLayer(P){return this.style.getLayer(P)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(P,u,f){return this.style.setLayerZoomRange(P,u,f),this._update(!0)}setFilter(P,u,f={}){return this.style.setFilter(P,u,f),this._update(!0)}getFilter(P){return this.style.getFilter(P)}setPaintProperty(P,u,f,_={}){return this.style.setPaintProperty(P,u,f,_),this._update(!0)}getPaintProperty(P,u){return this.style.getPaintProperty(P,u)}setLayoutProperty(P,u,f,_={}){return this.style.setLayoutProperty(P,u,f,_),this._update(!0)}getLayoutProperty(P,u){return this.style.getLayoutProperty(P,u)}setGlyphs(P,u={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(P,u),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(P,u,f={}){return this._lazyInitEmptyStyle(),this.style.addSprite(P,u,f,(_=>{_||this._update(!0)})),this}removeSprite(P){return this._lazyInitEmptyStyle(),this.style.removeSprite(P),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(P,u={}){return this._lazyInitEmptyStyle(),this.style.setSprite(P,u,(f=>{f||this._update(!0)})),this}setLight(P,u={}){return this._lazyInitEmptyStyle(),this.style.setLight(P,u),this._update(!0)}getLight(){return this.style.getLight()}setSky(P,u={}){return this._lazyInitEmptyStyle(),this.style.setSky(P,u),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(P,u){return this.style.setFeatureState(P,u),this._update()}removeFeatureState(P,u){return this.style.removeFeatureState(P,u),this._update()}getFeatureState(P){return this.style.getFeatureState(P)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let P=0,u=0;return this._container&&(P=this._container.clientWidth||400,u=this._container.clientHeight||300),[P,u]}_setupContainer(){const P=this._container;P.classList.add("maplibregl-map");const u=this._canvasContainer=A.create("div","maplibregl-canvas-container",P);this._interactive&&u.classList.add("maplibregl-interactive"),this._canvas=A.create("canvas","maplibregl-canvas",u),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const f=this._containerDimensions(),_=this._getClampedPixelRatio(f[0],f[1]);this._resizeCanvas(f[0],f[1],_);const S=this._controlContainer=A.create("div","maplibregl-control-container",P),M=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((D=>{M[D]=A.create("div",`maplibregl-ctrl-${D} `,S)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(P,u,f){this._canvas.width=Math.floor(f*P),this._canvas.height=Math.floor(f*u),this._canvas.style.width=`${P}px`,this._canvas.style.height=`${u}px`}_setupPainter(){const P=Object.assign(Object.assign({},this._canvasContextAttributes),{alpha:!0,depth:!0,stencil:!0,premultipliedAlpha:!0});let u=null;this._canvas.addEventListener("webglcontextcreationerror",(_=>{u={requestedAttributes:P},_&&(u.statusMessage=_.statusMessage,u.type=_.type)}),{once:!0});let f=null;if(f=this._canvasContextAttributes.contextType?this._canvas.getContext(this._canvasContextAttributes.contextType,P):this._canvas.getContext("webgl2",P)||this._canvas.getContext("webgl",P),!f){const _="Failed to initialize WebGL";throw u?(u.message=_,new Error(JSON.stringify(u))):new Error(_)}this.painter=new y1(f,this.transform),R.testSupport(f)}migrateProjection(P,u){super.migrateProjection(P,u),this.painter.transform=P,this.fire(new a.l("projectiontransition",{newProjection:this.style.projection.name}))}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(P){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||P,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(P){return this._update(),this._renderTaskQueue.add(P)}_cancelRenderFrame(P){this._renderTaskQueue.remove(P)}_render(P){var u,f,_,S,M;const D=this._idleTriggered?this._fadeDuration:0,z=((u=this.style.projection)===null||u===void 0?void 0:u.transitionState)>0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(P),this._removed)return;let F=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const te=this.transform.zoom,ee=I();this.style.zoomHistory.update(te,ee);const ae=new a.H(te,{now:ee,fadeDuration:D,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),fe=ae.crossFadingFactor();fe===1&&fe===this._crossFadingFactor||(F=!0,this._crossFadingFactor=fe),this.style.update(ae)}const G=((f=this.style.projection)===null||f===void 0?void 0:f.transitionState)>0!==z;(_=this.style.projection)===null||_===void 0||_.setErrorQueryLatitudeDegrees(this.transform.center.lat),this.transform.setTransitionState((S=this.style.projection)===null||S===void 0?void 0:S.transitionState,(M=this.style.projection)===null||M===void 0?void 0:M.latitudeErrorCorrectionRadians),this.style&&(this._sourcesDirty||G)&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.tileManager.update(this.transform,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),!this._elevationFreeze&&this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0)),this._placementDirty=this.style&&this.style._updatePlacement(this.transform,this.showCollisionBoxes,D,this._crossSourceCollisions,G),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:D,showPadding:this.showPadding}),this.fire(new a.l("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,a.cF.mark(a.cG.load),this.fire(new a.l("load"))),this.style&&(this.style.hasTransitions()||F)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const q=this._sourcesDirty||this._styleDirty||this._placementDirty;return q||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.l("idle")),!this._loaded||this._fullyLoaded||q||(this._fullyLoaded=!0,a.cF.mark(a.cG.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var P;this._hash&&this._hash.remove();for(const f of this._controls)f.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),j.removeThrottleControl(this._imageQueueHandle),(P=this._resizeObserver)===null||P===void 0||P.disconnect();const u=this.painter.context.gl.getExtension("WEBGL_lose_context");u?.loseContext&&u.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),A.remove(this._canvasContainer),A.remove(this._controlContainer),this._container.removeEventListener("scroll",this._onMapScroll,!1),this._container.classList.remove("maplibregl-map"),a.cF.clearMetrics(),this._removed=!0,this.fire(new a.l("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,x.frame(this._frameRequest,(P=>{a.cF.frame(P),this._frameRequest=null;try{this._render(P)}catch(u){if(!a.cH(u)&&!(function(f){return f.message===kp})(u))throw u}}),(()=>{})))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(P){this._showTileBoundaries!==P&&(this._showTileBoundaries=P,this._update())}get showPadding(){return!!this._showPadding}set showPadding(P){this._showPadding!==P&&(this._showPadding=P,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(P){this._showCollisionBoxes!==P&&(this._showCollisionBoxes=P,P?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(P){this._showOverdrawInspector!==P&&(this._showOverdrawInspector=P,this._update())}get repaint(){return!!this._repaint}set repaint(P){this._repaint!==P&&(this._repaint=P,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(P){this._vertices=P,this._update()}get version(){return Dd}getCameraTargetElevation(){return this.transform.elevation}getProjection(){return this.style.getProjection()}setProjection(P){return this._lazyInitEmptyStyle(),this.style.setProjection(P),this._update(!0)}},s.MapMouseEvent=oi,s.MapTouchEvent=xd,s.MapWheelEvent=Ru,s.Marker=Od,s.NavigationControl=class{constructor(P){this._updateZoomButtons=()=>{const u=this._map.getZoom(),f=u===this._map.getMaxZoom(),_=u===this._map.getMinZoom();this._zoomInButton.disabled=f,this._zoomOutButton.disabled=_,this._zoomInButton.setAttribute("aria-disabled",f.toString()),this._zoomOutButton.setAttribute("aria-disabled",_.toString())},this._rotateCompassArrow=()=>{this._compassIcon.style.transform=this.options.visualizePitch&&this.options.visualizeRoll?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateZ(${-this._map.transform.roll}deg) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizeRoll?`rotate(${-this._map.transform.bearing-this._map.transform.roll}deg)`:`rotate(${-this._map.transform.bearing}deg)`},this._setButtonTitle=(u,f)=>{const _=this._map._getUIString(`NavigationControl.${f}`);u.title=_,u.setAttribute("aria-label",_)},this.options=a.e({},uy,P),this._container=A.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",(u=>u.preventDefault())),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",(u=>this._map.zoomIn({},{originalEvent:u}))),A.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",(u=>this._map.zoomOut({},{originalEvent:u}))),A.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",(u=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:u}):this._map.resetNorth({},{originalEvent:u})})),this._compassIcon=A.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(P){return this._map=P,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.on("roll",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new cy(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){A.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.off("roll",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(P,u){const f=A.create("button",P,this._container);return f.type="button",f.addEventListener("click",u),f}},s.Popup=class extends a.E{constructor(P){super(),this._updateOpacity=()=>{this.options.locationOccludedOpacity!==void 0&&(this._container.style.opacity=this._map.transform.isLocationOccluded(this.getLngLat())?`${this.options.locationOccludedOpacity}`:"")},this.remove=()=>(this._content&&A.remove(this._content),this._container&&(A.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new a.l("close"))),this),this._onMouseUp=u=>{this._update(u.point)},this._onMouseMove=u=>{this._update(u.point)},this._onDrag=u=>{this._update(u.point)},this._update=u=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=A.create("div","maplibregl-popup",this._map.getContainer()),this._tip=A.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const D of this.options.className.split(" "))this._container.classList.add(D);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=Qc(this._lngLat,this._flatPos,this._map.transform,this._trackPointer),this._trackPointer&&!u)return;const f=this._flatPos=this._pos=this._trackPointer&&u?u:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&u?u:this._map.transform.locationToScreenPoint(this._lngLat));let _=this.options.anchor;const S=Yp(this.options.offset);if(!_){const D=this._container.offsetWidth,z=this._container.offsetHeight;let F;F=f.y+S.bottom.y<z?["top"]:f.y>this._map.transform.height-z?["bottom"]:[],f.x<D/2?F.push("left"):f.x>this._map.transform.width-D/2&&F.push("right"),_=F.length===0?"bottom":F.join("-")}let M=f.add(S[_]);this.options.subpixelPositioning||(M=M.round()),A.setTransform(this._container,`${Rd[_]} translate(${M.x}px,${M.y}px)`),Zp(this._container,_,"popup"),this._updateOpacity()},this._onClose=()=>{this.remove()},this.options=a.e(Object.create(Kp),P)}addTo(P){return this._map&&this.remove(),this._map=P,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new a.l("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(P){return this._lngLat=a.V.convert(P),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(P){return this.setDOMContent(document.createTextNode(P))}setHTML(P){const u=document.createDocumentFragment(),f=document.createElement("body");let _;for(f.innerHTML=P;_=f.firstChild,_;)u.appendChild(_);return this.setDOMContent(u)}getMaxWidth(){var P;return(P=this._container)===null||P===void 0?void 0:P.style.maxWidth}setMaxWidth(P){return this.options.maxWidth=P,this._update(),this}setDOMContent(P){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=A.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(P),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(P){return this._container&&this._container.classList.add(P),this}removeClassName(P){return this._container&&this._container.classList.remove(P),this}setOffset(P){return this.options.offset=P,this._update(),this}toggleClassName(P){if(this._container)return this._container.classList.toggle(P)}setSubpixelPositioning(P){this.options.subpixelPositioning=P}_createCloseButton(){this.options.closeButton&&(this._closeButton=A.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const P=this._container.querySelector(fy);P&&P.focus()}},s.RasterDEMTileSource=xt,s.RasterTileSource=dt,s.ScaleControl=class{constructor(P){this._onMove=()=>{Xp(this._map,this._container,this.options)},this.setUnit=u=>{this.options.unit=u,Xp(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},dy),P)}getDefaultPosition(){return"bottom-left"}onAdd(P){return this._map=P,this._container=A.create("div","maplibregl-ctrl maplibregl-ctrl-scale",P.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){A.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},s.ScrollZoomHandler=Pd,s.Style=sd,s.TerrainControl=class{constructor(P){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=P}onAdd(P){return this._map=P,this._container=A.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=A.create("button","maplibregl-ctrl-terrain",this._container),A.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){A.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},s.TwoFingersTouchPitchHandler=oy,s.TwoFingersTouchRotateHandler=ny,s.TwoFingersTouchZoomHandler=P1,s.TwoFingersTouchZoomRotateHandler=A1,s.VectorTileSource=Qe,s.VideoSource=or,s.addSourceType=(P,u)=>a._(void 0,void 0,void 0,(function*(){if(mr(P))throw new Error(`A source type called "${P}" already exists.`);((f,_)=>{Er[f]=_})(P,u)})),s.clearPrewarmedResources=function(){const P=Be;P&&(P.isPreloaded()&&P.numActive()===1?(P.release(Nt),Be=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},s.createTileMesh=_p,s.getMaxParallelImageRequests=function(){return a.a.MAX_PARALLEL_IMAGE_REQUESTS},s.getRTLTextPluginStatus=function(){return rn().getRTLTextPluginStatus()},s.getVersion=function(){return Jp},s.getWorkerCount=function(){return zt.workerCount},s.getWorkerUrl=function(){return a.a.WORKER_URL},s.importScriptInWorkers=function(P){return Fe().broadcast("IS",P)},s.isTimeFrozen=function(){return C.isFrozen()},s.now=I,s.prewarm=function(){je().acquire(Nt)},s.restoreNow=function(){C.restoreNow()},s.setMaxParallelImageRequests=function(P){a.a.MAX_PARALLEL_IMAGE_REQUESTS=P},s.setNow=function(P){C.setNow(P)},s.setRTLTextPlugin=function(P,u){return rn().setRTLTextPlugin(P,u)},s.setWorkerCount=function(P){zt.workerCount=P},s.setWorkerUrl=function(P){a.a.WORKER_URL=P}}));var o=r;return o}))})(Kw)),Kw.exports}var o2e=i2e();const oo=Obe(o2e);var Ya=63710088e-1,a2e={centimeters:Ya*100,centimetres:Ya*100,degrees:360/(2*Math.PI),feet:Ya*3.28084,inches:Ya*39.37,kilometers:Ya/1e3,kilometres:Ya/1e3,meters:Ya,metres:Ya,miles:Ya/1609.344,millimeters:Ya*1e3,millimetres:Ya*1e3,nauticalmiles:Ya/1852,radians:1,yards:Ya*1.0936};function WS(e,t,r={}){const n={type:"Feature"};return(r.id===0||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function su(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!HF(e[0])||!HF(e[1]))throw new Error("coordinates must contain numbers");return WS({type:"Point",coordinates:e},t,r)}function s2e(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return WS({type:"LineString",coordinates:e},t,r)}function l2e(e,t="kilometers"){const r=a2e[t];if(!r)throw new Error(t+" units is invalid");return e*r}function vA(e){return e%(2*Math.PI)*180/Math.PI}function uc(e){return e%360*Math.PI/180}function HF(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function cc(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return[...e.geometry.coordinates];if(e.type==="Point")return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function u2e(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Y_(e,t,r={}){var n=cc(e),i=cc(t),o=uc(i[1]-n[1]),s=uc(i[0]-n[0]),a=uc(n[1]),h=uc(i[1]),p=Math.pow(Math.sin(o/2),2)+Math.pow(Math.sin(s/2),2)*Math.cos(a)*Math.cos(h);return l2e(2*Math.atan2(Math.sqrt(p),Math.sqrt(1-p)),r.units)}function VU(e,t,r={}){let n;return r.final?n=GF(cc(t),cc(e)):n=GF(cc(e),cc(t)),n>180?-(360-n):n}function GF(e,t){const r=uc(e[1]),n=uc(t[1]);let i=uc(t[0]-e[0]);i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI);const o=Math.log(Math.tan(n/2+Math.PI/4)/Math.tan(r/2+Math.PI/4)),s=Math.atan2(i,o);return(vA(s)+360)%360}function jU(e,t,r){if(e!==null)for(var n,i,o,s,a,h,p,m=0,v=0,b,x=e.type,C=x==="FeatureCollection",I=x==="Feature",A=C?e.features.length:1,R=0;R<A;R++){p=C?e.features[R].geometry:I?e.geometry:e,b=p?p.type==="GeometryCollection":!1,a=b?p.geometries.length:1;for(var k=0;k<a;k++){var $=0,N=0;if(s=b?p.geometries[k]:p,s!==null){h=s.coordinates;var H=s.type;switch(m=0,H){case null:break;case"Point":if(t(h,v,R,$,N)===!1)return!1;v++,$++;break;case"LineString":case"MultiPoint":for(n=0;n<h.length;n++){if(t(h[n],v,R,$,N)===!1)return!1;v++,H==="MultiPoint"&&$++}H==="LineString"&&$++;break;case"Polygon":case"MultiLineString":for(n=0;n<h.length;n++){for(i=0;i<h[n].length-m;i++){if(t(h[n][i],v,R,$,N)===!1)return!1;v++}H==="MultiLineString"&&$++,H==="Polygon"&&N++}H==="Polygon"&&$++;break;case"MultiPolygon":for(n=0;n<h.length;n++){for(N=0,i=0;i<h[n].length;i++){for(o=0;o<h[n][i].length-m;o++){if(t(h[n][i][o],v,R,$,N)===!1)return!1;v++}N++}$++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(jU(s.geometries[n],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function c2e(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var r=0;r<e.features.length&&t(e.features[r],r)!==!1;r++);}function h2e(e,t){var r,n,i,o,s,a,h,p,m,v,b=0,x=e.type==="FeatureCollection",C=e.type==="Feature",I=x?e.features.length:1;for(r=0;r<I;r++){for(a=x?e.features[r].geometry:C?e.geometry:e,p=x?e.features[r].properties:C?e.properties:{},m=x?e.features[r].bbox:C?e.bbox:void 0,v=x?e.features[r].id:C?e.id:void 0,h=a?a.type==="GeometryCollection":!1,s=h?a.geometries.length:1,i=0;i<s;i++){if(o=h?a.geometries[i]:a,o===null){if(t(null,b,p,m,v)===!1)return!1;continue}switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(o,b,p,m,v)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<o.geometries.length;n++)if(t(o.geometries[n],b,p,m,v)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}b++}}function HU(e,t){h2e(e,function(r,n,i,o,s){var a=r===null?null:r.type;switch(a){case null:case"Point":case"LineString":case"Polygon":return t(WS(r,i,{bbox:o,id:s}),n,0)===!1?!1:void 0}var h;switch(a){case"MultiPoint":h="Point";break;case"MultiLineString":h="LineString";break;case"MultiPolygon":h="Polygon";break}for(var p=0;p<r.coordinates.length;p++){var m=r.coordinates[p],v={type:h,coordinates:m};if(t(WS(v,i),n,p)===!1)return!1}})}function d2e(e,t){HU(e,function(r,n,i){var o=0;if(r.geometry){var s=r.geometry.type;if(!(s==="Point"||s==="MultiPoint")){var a,h=0,p=0,m=0;if(jU(r,function(v,b,x,C,I){if(a===void 0||n>h||C>p||I>m){a=v,h=n,p=C,m=I,o=0;return}var A=s2e([a,v],r.properties);if(t(A,n,i,I,o)===!1)return!1;o++,a=v})===!1)return!1}}})}function f2e(e,t,r){var n=r,i=!1;return d2e(e,function(o,s,a,h,p){i===!1&&r===void 0?n=o:n=t(n,o,s,a,h,p),i=!0}),n}var p2e=Object.defineProperty,m2e=Object.defineProperties,g2e=Object.getOwnPropertyDescriptors,UF=Object.getOwnPropertySymbols,v2e=Object.prototype.hasOwnProperty,y2e=Object.prototype.propertyIsEnumerable,WF=(e,t,r)=>t in e?p2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,qF=(e,t)=>{for(var r in t||(t={}))v2e.call(t,r)&&WF(e,r,t[r]);if(UF)for(var r of UF(t))y2e.call(t,r)&&WF(e,r,t[r]);return e},ZF=(e,t)=>m2e(e,g2e(t));function Ku(e,t,r={}){if(!e||!t)throw new Error("lines and pt are required arguments");const n=cc(t);let i=su([1/0,1/0],{dist:1/0,index:-1,multiFeatureIndex:-1,location:-1}),o=0;return HU(e,function(s,a,h){const p=u2e(s);for(let m=0;m<p.length-1;m++){const v=su(p[m]),b=cc(v),x=su(p[m+1]),C=cc(x),I=Y_(v,x,r);let A,R;C[0]===n[0]&&C[1]===n[1]?[A,R]=[C,!0]:b[0]===n[0]&&b[1]===n[1]?[A,R]=[b,!1]:[A,R]=x2e(b,C,n);const k=su(A,{dist:Y_(t,A,r),multiFeatureIndex:h,location:o+Y_(v,A,r)});k.properties.dist<i.properties.dist&&(i=ZF(qF({},k),{properties:ZF(qF({},k.properties),{index:R?m+1:m})})),o+=I}}),i}function Xd(e,t){const[r,n,i]=e,[o,s,a]=t;return r*o+n*s+i*a}function Yy(e,t){const[r,n,i]=e,[o,s,a]=t;return[n*a-i*s,i*o-r*a,r*s-n*o]}function _2e(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2))}function XF(e){const t=_2e(e);return[e[0]/t,e[1]/t,e[2]/t]}function MM(e){const t=uc(e[1]),r=uc(e[0]);return[Math.cos(t)*Math.cos(r),Math.cos(t)*Math.sin(r),Math.sin(t)]}function b2e(e){const[t,r,n]=e,i=Math.min(Math.max(n,-1),1),o=vA(Math.asin(i));return[vA(Math.atan2(r,t)),o]}function x2e(e,t,r){const n=MM(e),i=MM(t),o=MM(r),s=Yy(n,i);if(s[0]===0&&s[1]===0&&s[2]===0)return Xd(n,i)>0?[[...t],!0]:[[...r],!1];const a=Yy(s,o);if(a[0]===0&&a[1]===0&&a[2]===0)return[[...t],!0];const h=Yy(a,s),p=XF(h),m=[-p[0],-p[1],-p[2]],v=Xd(o,p)>Xd(o,m)?p:m,b=XF(s),x=Xd(Yy(n,v),b),C=Xd(Yy(v,i),b);return x>=0&&C>=0?[b2e(v),!1]:Xd(n,o)>Xd(i,o)?[[...e],!1]:[[...t],!0]}function w2e(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return GU(e);case"FeatureCollection":return S2e(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return $R(e);default:throw new Error("unknown GeoJSON type")}}function GU(e){const t={type:"Feature"};return Object.keys(e).forEach(r=>{switch(r){case"type":case"properties":case"geometry":return;default:t[r]=e[r]}}),t.properties=UU(e.properties),e.geometry==null?t.geometry=null:t.geometry=$R(e.geometry),t}function UU(e){const t={};return e&&Object.keys(e).forEach(r=>{const n=e[r];typeof n=="object"?n===null?t[r]=null:Array.isArray(n)?t[r]=n.map(i=>i):t[r]=UU(n):t[r]=n}),t}function S2e(e){const t={type:"FeatureCollection"};return Object.keys(e).forEach(r=>{switch(r){case"type":case"features":return;default:t[r]=e[r]}}),t.features=e.features.map(r=>GU(r)),t}function $R(e){const t={type:e.type};return e.bbox&&(t.bbox=e.bbox),e.type==="GeometryCollection"?(t.geometries=e.geometries.map(r=>$R(r)),t):(t.coordinates=WU(e.coordinates),t)}function WU(e){const t=e;return typeof t[0]!="object"?t.slice():t.map(r=>WU(r))}function Yu(e,t={}){return f2e(e,(r,n)=>{const i=n.geometry.coordinates;return r+Y_(i[0],i[1],t)},0)}var T2e=Object.defineProperty,C2e=Object.defineProperties,P2e=Object.getOwnPropertyDescriptors,KF=Object.getOwnPropertySymbols,M2e=Object.prototype.hasOwnProperty,I2e=Object.prototype.propertyIsEnumerable,YF=(e,t,r)=>t in e?T2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,JF=(e,t)=>{for(var r in t||(t={}))M2e.call(t,r)&&YF(e,r,t[r]);if(KF)for(var r of KF(t))I2e.call(t,r)&&YF(e,r,t[r]);return e},QF=(e,t)=>C2e(e,P2e(t));function e4(e,t,r={}){if(!e)throw new Error("targetPoint is required");if(!t)throw new Error("points is required");let n=1/0,i=0;c2e(t,(s,a)=>{const h=Y_(e,s,r);h<n&&(i=a,n=h)});const o=w2e(t.features[i]);return QF(JF({},o),{properties:QF(JF({},o.properties),{featureIndex:i,distanceToPoint:n})})}var E2e=Object.defineProperty,J_=Math.pow,Fn=(e,t)=>E2e(e,"name",{value:t,configurable:!0}),wo=(e,t,r)=>new Promise((n,i)=>{var o=h=>{try{a(r.next(h))}catch(p){i(p)}},s=h=>{try{a(r.throw(h))}catch(p){i(p)}},a=h=>h.done?n(h.value):Promise.resolve(h.value).then(o,s);a((r=r.apply(e,t)).next())});Fn((e,t)=>{let r=!1,n="",i=L.GridLayer.extend({createTile:Fn((o,s)=>{let a=document.createElement("img"),h=new AbortController,p=h.signal;return a.cancel=()=>{h.abort()},r||(e.getHeader().then(m=>{m.tileType===1?console.error("Error: archive contains MVT vector tiles, but leafletRasterLayer is for displaying raster tiles. See https://github.com/protomaps/PMTiles/tree/main/js for details."):m.tileType===2?n="image/png":m.tileType===3?n="image/jpeg":m.tileType===4?n="image/webp":m.tileType===5&&(n="image/avif")}),r=!0),e.getZxy(o.z,o.x,o.y,p).then(m=>{if(m){let v=new Blob([m.data],{type:n}),b=window.URL.createObjectURL(v);a.src=b,a.cancel=void 0,s(void 0,a)}}).catch(m=>{if(m.name!=="AbortError")throw m}),a},"createTile"),_removeTile:Fn(function(o){let s=this._tiles[o];s&&(s.el.cancel&&s.el.cancel(),s.el.width=0,s.el.height=0,s.el.deleted=!0,L.DomUtil.remove(s.el),delete this._tiles[o],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(o)}))},"_removeTile")});return new i(t)},"leafletRasterLayer");var A2e=Fn(e=>(t,r)=>{if(r instanceof AbortController)return e(t,r);let n=new AbortController;return e(t,n).then(i=>r(void 0,i.data,i.cacheControl||"",i.expires||""),i=>r(i)).catch(i=>r(i)),{cancel:Fn(()=>n.abort(),"cancel")}},"v3compat"),qU=class{constructor(t){this.tilev4=Fn((r,n)=>wo(this,null,function*(){if(r.type==="json"){let x=r.url.substr(10),C=this.tiles.get(x);if(C||(C=new t4(x),this.tiles.set(x,C)),this.metadata)return{data:yield C.getTileJson(r.url)};let I=yield C.getHeader();return(I.minLon>=I.maxLon||I.minLat>=I.maxLat)&&console.error(`Bounds of PMTiles archive ${I.minLon},${I.minLat},${I.maxLon},${I.maxLat} are not valid.`),{data:{tiles:[`${r.url}/{z}/{x}/{y}`],minzoom:I.minZoom,maxzoom:I.maxZoom,bounds:[I.minLon,I.minLat,I.maxLon,I.maxLat]}}}let i=new RegExp(/pmtiles:\/\/(.+)\/(\d+)\/(\d+)\/(\d+)/),o=r.url.match(i);if(!o)throw new Error("Invalid PMTiles protocol URL");let s=o[1],a=this.tiles.get(s);a||(a=new t4(s),this.tiles.set(s,a));let h=o[2],p=o[3],m=o[4],v=yield a.getHeader(),b=yield a?.getZxy(+h,+p,+m,n.signal);if(b)return{data:new Uint8Array(b.data),cacheControl:b.cacheControl,expires:b.expires};if(v.tileType===1){if(this.errorOnMissingTile)throw new Error("Tile not found.");return{data:new Uint8Array}}return{data:null}}),"tilev4"),this.tile=A2e(this.tilev4),this.tiles=new Map,this.metadata=t?.metadata||!1,this.errorOnMissingTile=t?.errorOnMissingTile||!1}add(t){this.tiles.set(t.source.getKey(),t)}get(t){return this.tiles.get(t)}};Fn(qU,"Protocol");var ZU=qU;function XU(e,t){return(t>>>0)*4294967296+(e>>>0)}Fn(XU,"toNum");function KU(e,t){let r=t.buf,n=r[t.pos++],i=(n&112)>>4;if(n<128||(n=r[t.pos++],i|=(n&127)<<3,n<128)||(n=r[t.pos++],i|=(n&127)<<10,n<128)||(n=r[t.pos++],i|=(n&127)<<17,n<128)||(n=r[t.pos++],i|=(n&127)<<24,n<128)||(n=r[t.pos++],i|=(n&1)<<31,n<128))return XU(e,i);throw new Error("Expected varint not more than 10 bytes")}Fn(KU,"readVarintRemainder");function qm(e){let t=e.buf,r=t[e.pos++],n=r&127;return r<128||(r=t[e.pos++],n|=(r&127)<<7,r<128)||(r=t[e.pos++],n|=(r&127)<<14,r<128)||(r=t[e.pos++],n|=(r&127)<<21,r<128)?n:(r=t[e.pos],n|=(r&15)<<28,KU(n,e))}Fn(qm,"readVarint");function zR(e,t,r,n){if(n===0){r===1&&(t[0]=e-1-t[0],t[1]=e-1-t[1]);let i=t[0];t[0]=t[1],t[1]=i}}Fn(zR,"rotate");function YU(e,t){let r=J_(2,e),n=t,i=t,o=t,s=[0,0],a=1;for(;a<r;)n=1&o/2,i=1&(o^n),zR(a,s,n,i),s[0]+=a*n,s[1]+=a*i,o=o/4,a*=2;return[e,s[0],s[1]]}Fn(YU,"idOnLevel");var D2e=[0,1,5,21,85,341,1365,5461,21845,87381,349525,1398101,5592405,22369621,89478485,357913941,1431655765,5726623061,22906492245,91625968981,366503875925,1466015503701,5864062014805,23456248059221,93824992236885,375299968947541,0x5555555555555];function JU(e,t,r){if(e>26)throw new Error("Tile zoom level exceeds max safe number limit (26)");if(t>J_(2,e)-1||r>J_(2,e)-1)throw new Error("tile x/y outside zoom level bounds");let n=D2e[e],i=J_(2,e),o=0,s=0,a=0,h=[t,r],p=i/2;for(;p>0;)o=(h[0]&p)>0?1:0,s=(h[1]&p)>0?1:0,a+=p*p*(3*o^s),zR(p,h,o,s),p=p/2;return n+a}Fn(JU,"zxyToTileId");function L2e(e){let t=0;for(let r=0;r<27;r++){let n=(1<<r)*(1<<r);if(t+n>e)return YU(r,e-t);t+=n}throw new Error("Tile zoom level exceeds max safe number limit (26)")}Fn(L2e,"tileIdToZxy");var R2e=(e=>(e[e.Unknown=0]="Unknown",e[e.None=1]="None",e[e.Gzip=2]="Gzip",e[e.Brotli=3]="Brotli",e[e.Zstd=4]="Zstd",e))(R2e||{});function pT(e,t){return wo(this,null,function*(){if(t===1||t===0)return e;if(t===2){if(typeof globalThis.DecompressionStream>"u")return iie(new Uint8Array(e));let r=new Response(e).body;if(!r)throw new Error("Failed to read response stream");let n=r.pipeThrough(new globalThis.DecompressionStream("gzip"));return new Response(n).arrayBuffer()}throw new Error("Compression method not supported")})}Fn(pT,"defaultDecompress");var O2e=(e=>(e[e.Unknown=0]="Unknown",e[e.Mvt=1]="Mvt",e[e.Png=2]="Png",e[e.Jpeg=3]="Jpeg",e[e.Webp=4]="Webp",e[e.Avif=5]="Avif",e))(O2e||{});function QU(e){return e===1?".mvt":e===2?".png":e===3?".jpg":e===4?".webp":e===5?".avif":""}Fn(QU,"tileTypeExt");var k2e=127;function eW(e,t){let r=0,n=e.length-1;for(;r<=n;){let i=n+r>>1,o=t-e[i].tileId;if(o>0)r=i+1;else if(o<0)n=i-1;else return e[i]}return n>=0&&(e[n].runLength===0||t-e[n].tileId<e[n].runLength)?e[n]:null}Fn(eW,"findTile");var $2e=class{constructor(t){this.file=t}getKey(){return this.file.name}getBytes(t,r){return wo(this,null,function*(){return{data:yield this.file.slice(t,t+r).arrayBuffer()}})}};Fn($2e,"FileSource");var tW=class{constructor(t,r=new Headers){this.url=t,this.customHeaders=r,this.mustReload=!1;let n="";"navigator"in globalThis&&(n=globalThis.navigator.userAgent||"");let i=n.indexOf("Windows")>-1,o=/Chrome|Chromium|Edg|OPR|Brave/.test(n);this.chromeWindowsNoCache=!1,i&&o&&(this.chromeWindowsNoCache=!0)}getKey(){return this.url}setHeaders(t){this.customHeaders=t}getBytes(t,r,n,i){return wo(this,null,function*(){let o,s;n?s=n:(o=new AbortController,s=o.signal);let a=new Headers(this.customHeaders);a.set("range",`bytes=${t}-${t+r-1}`);let h;this.mustReload?h="reload":this.chromeWindowsNoCache&&(h="no-store");let p=yield fetch(this.url,{signal:s,cache:h,headers:a});if(t===0&&p.status===416){let b=p.headers.get("Content-Range");if(!b||!b.startsWith("bytes */"))throw new Error("Missing content-length on 416 response");let x=+b.substr(8);p=yield fetch(this.url,{signal:s,cache:"reload",headers:{range:`bytes=0-${x-1}`}})}let m=p.headers.get("Etag");if(m!=null&&m.startsWith("W/")&&(m=null),p.status===416||i&&m&&m!==i)throw this.mustReload=!0,new yA(`Server returned non-matching ETag ${i} after one retry. Check browser extensions and servers for issues that may affect correct ETag headers.`);if(p.status>=300)throw new Error(`Bad response code: ${p.status}`);let v=p.headers.get("Content-Length");if(p.status===200&&(!v||+v>r))throw o&&o.abort(),new Error("Server returned no content-length header or content-length exceeding request. Check that your storage backend supports HTTP Byte Serving.");return{data:yield p.arrayBuffer(),etag:m||void 0,cacheControl:p.headers.get("Cache-Control")||void 0,expires:p.headers.get("Expires")||void 0}})}};Fn(tW,"FetchSource");var z2e=tW;function Is(e,t){let r=e.getUint32(t+4,!0),n=e.getUint32(t+0,!0);return r*J_(2,32)+n}Fn(Is,"getUint64");function rW(e,t){let r=new DataView(e),n=r.getUint8(7);if(n>3)throw new Error(`Archive is spec version ${n} but this library supports up to spec version 3`);return{specVersion:n,rootDirectoryOffset:Is(r,8),rootDirectoryLength:Is(r,16),jsonMetadataOffset:Is(r,24),jsonMetadataLength:Is(r,32),leafDirectoryOffset:Is(r,40),leafDirectoryLength:Is(r,48),tileDataOffset:Is(r,56),tileDataLength:Is(r,64),numAddressedTiles:Is(r,72),numTileEntries:Is(r,80),numTileContents:Is(r,88),clustered:r.getUint8(96)===1,internalCompression:r.getUint8(97),tileCompression:r.getUint8(98),tileType:r.getUint8(99),minZoom:r.getUint8(100),maxZoom:r.getUint8(101),minLon:r.getInt32(102,!0)/1e7,minLat:r.getInt32(106,!0)/1e7,maxLon:r.getInt32(110,!0)/1e7,maxLat:r.getInt32(114,!0)/1e7,centerZoom:r.getUint8(118),centerLon:r.getInt32(119,!0)/1e7,centerLat:r.getInt32(123,!0)/1e7,etag:t}}Fn(rW,"bytesToHeader");function BR(e){let t={buf:new Uint8Array(e),pos:0},r=qm(t),n=[],i=0;for(let o=0;o<r;o++){let s=qm(t);n.push({tileId:i+s,offset:0,length:0,runLength:1}),i+=s}for(let o=0;o<r;o++)n[o].runLength=qm(t);for(let o=0;o<r;o++)n[o].length=qm(t);for(let o=0;o<r;o++){let s=qm(t);s===0&&o>0?n[o].offset=n[o-1].offset+n[o-1].length:n[o].offset=s-1}return n}Fn(BR,"deserializeIndex");var nW=class extends Error{};Fn(nW,"EtagMismatch");var yA=nW;function FR(e,t){return wo(this,null,function*(){let r=yield e.getBytes(0,16384);if(new DataView(r.data).getUint16(0,!0)!==19792)throw new Error("Wrong magic number for PMTiles archive");let n=r.data.slice(0,k2e),i=rW(n,r.etag),o=r.data.slice(i.rootDirectoryOffset,i.rootDirectoryOffset+i.rootDirectoryLength),s=`${e.getKey()}|${i.etag||""}|${i.rootDirectoryOffset}|${i.rootDirectoryLength}`,a=BR(yield t(o,i.internalCompression));return[i,[s,a.length,a]]})}Fn(FR,"getHeaderAndRoot");function NR(e,t,r,n,i){return wo(this,null,function*(){let o=yield e.getBytes(r,n,void 0,i.etag),s=yield t(o.data,i.internalCompression),a=BR(s);if(a.length===0)throw new Error("Empty directory is invalid");return a})}Fn(NR,"getDirectory");var B2e=class{constructor(t=100,r=!0,n=pT){this.cache=new Map,this.maxCacheEntries=t,this.counter=1,this.decompress=n}getHeader(t){return wo(this,null,function*(){let r=t.getKey(),n=this.cache.get(r);if(n)return n.lastUsed=this.counter++,n.data;let i=yield FR(t,this.decompress);return i[1]&&this.cache.set(i[1][0],{lastUsed:this.counter++,data:i[1][2]}),this.cache.set(r,{lastUsed:this.counter++,data:i[0]}),this.prune(),i[0]})}getDirectory(t,r,n,i){return wo(this,null,function*(){let o=`${t.getKey()}|${i.etag||""}|${r}|${n}`,s=this.cache.get(o);if(s)return s.lastUsed=this.counter++,s.data;let a=yield NR(t,this.decompress,r,n,i);return this.cache.set(o,{lastUsed:this.counter++,data:a}),this.prune(),a})}prune(){if(this.cache.size>this.maxCacheEntries){let t=1/0,r;this.cache.forEach((n,i)=>{n.lastUsed<t&&(t=n.lastUsed,r=i)}),r&&this.cache.delete(r)}}invalidate(t){return wo(this,null,function*(){this.cache.delete(t.getKey())})}};Fn(B2e,"ResolvedValueCache");var iW=class{constructor(t=100,r=!0,n=pT){this.cache=new Map,this.invalidations=new Map,this.maxCacheEntries=t,this.counter=1,this.decompress=n}getHeader(t){return wo(this,null,function*(){let r=t.getKey(),n=this.cache.get(r);if(n)return n.lastUsed=this.counter++,yield n.data;let i=new Promise((o,s)=>{FR(t,this.decompress).then(a=>{a[1]&&this.cache.set(a[1][0],{lastUsed:this.counter++,data:Promise.resolve(a[1][2])}),o(a[0]),this.prune()}).catch(a=>{s(a)})});return this.cache.set(r,{lastUsed:this.counter++,data:i}),i})}getDirectory(t,r,n,i){return wo(this,null,function*(){let o=`${t.getKey()}|${i.etag||""}|${r}|${n}`,s=this.cache.get(o);if(s)return s.lastUsed=this.counter++,yield s.data;let a=new Promise((h,p)=>{NR(t,this.decompress,r,n,i).then(m=>{h(m),this.prune()}).catch(m=>{p(m)})});return this.cache.set(o,{lastUsed:this.counter++,data:a}),a})}prune(){if(this.cache.size>=this.maxCacheEntries){let t=1/0,r;this.cache.forEach((n,i)=>{n.lastUsed<t&&(t=n.lastUsed,r=i)}),r&&this.cache.delete(r)}}invalidate(t){return wo(this,null,function*(){let r=t.getKey();if(this.invalidations.get(r))return yield this.invalidations.get(r);this.cache.delete(t.getKey());let n=new Promise((i,o)=>{this.getHeader(t).then(s=>{i(),this.invalidations.delete(r)}).catch(s=>{o(s)})});this.invalidations.set(r,n)})}};Fn(iW,"SharedPromiseCache");var F2e=iW,oW=class{constructor(t,r,n){typeof t=="string"?this.source=new z2e(t):this.source=t,n?this.decompress=n:this.decompress=pT,r?this.cache=r:this.cache=new F2e}getHeader(){return wo(this,null,function*(){return yield this.cache.getHeader(this.source)})}getZxyAttempt(t,r,n,i){return wo(this,null,function*(){let o=JU(t,r,n),s=yield this.cache.getHeader(this.source);if(t<s.minZoom||t>s.maxZoom)return;let a=s.rootDirectoryOffset,h=s.rootDirectoryLength;for(let p=0;p<=3;p++){let m=yield this.cache.getDirectory(this.source,a,h,s),v=eW(m,o);if(v){if(v.runLength>0){let b=yield this.source.getBytes(s.tileDataOffset+v.offset,v.length,i,s.etag);return{data:yield this.decompress(b.data,s.tileCompression),cacheControl:b.cacheControl,expires:b.expires}}a=s.leafDirectoryOffset+v.offset,h=v.length}else return}throw new Error("Maximum directory depth exceeded")})}getZxy(t,r,n,i){return wo(this,null,function*(){try{return yield this.getZxyAttempt(t,r,n,i)}catch(o){if(o instanceof yA)return this.cache.invalidate(this.source),yield this.getZxyAttempt(t,r,n,i);throw o}})}getMetadataAttempt(){return wo(this,null,function*(){let t=yield this.cache.getHeader(this.source),r=yield this.source.getBytes(t.jsonMetadataOffset,t.jsonMetadataLength,void 0,t.etag),n=yield this.decompress(r.data,t.internalCompression),i=new TextDecoder("utf-8");return JSON.parse(i.decode(n))})}getMetadata(){return wo(this,null,function*(){try{return yield this.getMetadataAttempt()}catch(t){if(t instanceof yA)return this.cache.invalidate(this.source),yield this.getMetadataAttempt();throw t}})}getTileJson(t){return wo(this,null,function*(){let r=yield this.getHeader(),n=yield this.getMetadata(),i=QU(r.tileType);return{tilejson:"3.0.0",scheme:"xyz",tiles:[`${t}/{z}/{x}/{y}${i}`],vector_layers:n.vector_layers,attribution:n.attribution,description:n.description,name:n.name,version:n.version,bounds:[r.minLon,r.minLat,r.maxLon,r.maxLat],center:[r.centerLon,r.centerLat,r.centerZoom],minzoom:r.minZoom,maxzoom:r.maxZoom}})}};Fn(oW,"PMTiles");var t4=oW;const N2e={name:"MyMap",data:()=>({map_style_url:"https://bus.sustcra.com/static/protomaps/pmtiles-style/pmtiles-light.json",map_text_colour:"#000000",bus_location_data_api:[],bus_location_data_display:[],geojson_line_1:[[113.99739584160139,22.610765716856296],[113.99773288526481,22.610577804306548],[113.99824514560808,22.609808813574297],[113.99899240486543,22.608186143427105],[113.99899684055141,22.608138484311375],[113.99876376465981,22.606584405046835],[113.9987454049567,22.606539955896604],[113.9983737643716,22.606046923598996],[113.99771305207776,22.60586005946536],[113.996462081496,22.60628164325351],[113.99540699384544,22.60655007340282],[113.99537457846512,22.606374521317747],[113.99533345805837,22.60631869878032],[113.99491868014185,22.60615102642152],[113.99446803578164,22.605922922486105],[113.993628105381,22.605432281601264],[113.99361283376653,22.605399929510398],[113.99427914343141,22.604297776694622],[113.99455101208882,22.604066349285663],[113.99481121659123,22.60381079129223],[113.99549648383878,22.60304833084697],[113.99570726599393,22.60298417975627],[113.99623267681147,22.60298349183956],[113.99686127008054,22.603078201644227],[113.9977201426685,22.603401409146592],[113.99788215074415,22.603408536156227],[113.99794417914393,22.60338145776082],[113.9980463074806,22.603268395934986],[113.99816665521513,22.602614977726315],[113.99835030416712,22.60216721735362],[113.99856193554633,22.601842951121434],[113.99881928525701,22.6015215956419],[113.9988344317295,22.601194082723367],[113.99895072783376,22.600790214181995],[113.9990602569799,22.600602634774226],[113.99921879840926,22.600476730796977],[113.99919877407567,22.60043325336671],[113.99802751236375,22.600038565633355],[113.99775839514615,22.599792681543633],[113.99730187808832,22.598960946075003],[113.99590977592047,22.5977773063799],[113.99576459924215,22.59751983095157],[113.99543299558397,22.59717440812865],[113.9951938686417,22.5966914370548],[113.99501583215859,22.59639577584673],[113.99463229185628,22.596104860560743],[113.99420385593578,22.595969591352997],[113.99378584507669,22.595967937443213],[113.99320018866534,22.59621976224022],[113.99265363550316,22.596738860232236],[113.99200633643709,22.59716671060916],[113.99157366427197,22.5971462468509],[113.99088482201618,22.596941863390235],[113.99038484213679,22.596998494112995],[113.99032102143205,22.597043977909916],[113.99019829041364,22.59753578294312],[113.99030286538937,22.59863964935582],[113.99048378356784,22.59907317753902],[113.99052006299269,22.59911721823263],[113.99075599101839,22.599276010611053],[113.99126127611241,22.599535900836155],[113.9917686585336,22.6000105337692],[113.99191211157755,22.60053218120178],[113.99183362959826,22.601016496848214],[113.99144872111891,22.60153952301182],[113.99077751816642,22.602118998056795],[113.99043902651476,22.60239072790739],[113.99010219314502,22.60332391993846]],geojson_line_2:[[113.9973489079054,22.61067741494136],[113.9976555155949,22.61051444868976],[113.9981618912118,22.60975341767644],[113.9988979465801,22.60815331611633],[113.9986648706885,22.60659923685179],[113.9983207115444,22.60613169032316],[113.9977156537446,22.60596002561628],[113.9964905851169,22.6063775771138],[113.9953277666447,22.60667341560261],[113.995278497141,22.60640224097063],[113.9934784038899,22.60548092977822],[113.99386414857948,22.604784676421257],[113.99419945106074,22.60426804504929],[113.99385306765333,22.603677155592816],[113.99298710913483,22.60350336409337],[113.99279885728298,22.603280910653833],[113.99233952276445,22.60296808489611],[113.99204584987558,22.60262745159568],[113.9915262747645,22.601612498395962],[113.9917196221943,22.601431625928],[113.9919172423369,22.60102266627295],[113.9920105698998,22.6005318195689],[113.9918969233072,22.59993661748595],[113.9914596783045,22.59960492109923]],gate_geojson:{},stations_geojson:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[113.9902,22.60336]},properties:{name:" COE"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.99153,22.599643]},properties:{name:" Research Building"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.990399,22.597132]},properties:{name:" Gate7"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.992403,22.597011]},properties:{name:" Administration Building"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.9944,22.59618]},properties:{name:"1 Gate1 (DN)"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.99381,22.59604]},properties:{name:"1 Gate1 (UP)"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.99585,22.59788]},properties:{name:"2 Gate2"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.99878,22.60041]},properties:{name:"3 Gate3"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.998329,22.601975]},properties:{name:" Guest Houses"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.997811,22.603325]},properties:{name:" Faculty Cafeteria"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.995981,22.60293]},properties:{name:" C.Health.Center"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.993824,22.604854]},properties:{name:" Stu. Dormitories"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.995238,22.606518]},properties:{name:" Lychee Hill"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.996732,22.606278]},properties:{name:" Chuang Yuan"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.998372,22.606102]},properties:{name:" Hui Yuan"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.997473,22.610667]},properties:{name:" Joy Highland"}}]},bus_marker_arr:[],map:[],time_difference:0,timer:{}}),async created(){const e=await _r.get("https://bus.sustcra.com/geojson/sustech_bldg.json");this.bldg_geojson=e.data;const t=await _r.get("https://bus.sustcra.com/geojson/sustech_gate.json");this.gate_geojson=t.data,console.log("Fetch geojson of sustech complete")},methods:{async fetch_bus(){const e=await _r.get("https://bus.sustcra.com/api/v2/monitor_osm/");this.bus_location_data_api=e.data;const t=new Date;console.log("bus location data fetched at "+parseInt(t.getTime()/1e3)),typeof this.bus_location_data_api[0].time_mt<"u"&&(this.time_difference=parseInt(t.getTime()/1e3-this.bus_location_data_api[0].time_mt),console.log("The clock drift is "+this.time_difference+" seconds")),this.update_location()},calculateBusAngle(e,t,r,n){const i=su([t,e]),o=su([n,r]);return VU(i,o)},findNearestPointOnSegment(e,t,r){const n=e[0]-t[0],i=e[1]-t[1],o=r[0]-t[0],s=r[1]-t[1],a=n*o+i*s,h=o*o+s*s,p=h!==0?a/h:-1;let m,v;return p<0?(m=t[0],v=t[1]):p>1?(m=r[0],v=r[1]):(m=t[0]+p*o,v=t[1]+p*s),[m,v]},findNearestSegment(e,t){let r=t[0],n=t[1],i=Number.MAX_VALUE;for(let o=0;o<t.length-1;o++){const s=t[o],a=t[o+1],h=this.findNearestPointOnSegment(e,s,a),p=this.calculateDistance(e,h);p<i&&(i=p,r=s,n=a)}return[r,n]},calculateDistance(e,t){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))},update_location(){this.bus_marker_arr.forEach(e=>e.remove()),this.bus_marker_arr=[];for(let e=0;e<this.bus_location_data_api.length;e++){const t=this.bus_location_data_api[e];if(new Date().getTime()/1e3-t.time_mt<150){const r=[t.lng,t.lat];let n=0;const i=t.route_code.slice(-1)==="1";t.route_geojson=i?this.geojson_line_1:this.geojson_line_2;const o=this.findNearestSegment(r,t.route_geojson);n=this.calculateBusAngle(o[0][1],o[0][0],o[1][1],o[1][0]),n=parseInt(t.route_dir)===1?n:n-180;const s=document.createElement("div");s.className="marker",s.style.backgroundImage="url(https://bus.sustcra.com/bus-top-view.png)",s.style.width="30px",s.style.height="30px",s.style.backgroundSize="cover",s.style.cursor="pointer";const a=new oo.Marker({element:s}).setLngLat(r).setPopup(this.createPopup(t)).setRotation(parseInt(n)).addTo(this.map);this.bus_marker_arr.push(a)}}},createPopup(e){let t;const r=e.route_code.slice(-1);r==="1"?t=parseInt(e.route_dir)===0?" Joy Highland":" COE":r==="2"?t=parseInt(e.route_dir)===0?" Joy Highland":" Research BLDG.":t="";const n=e.route_code.slice(-1)==="1"?"#f7911d":"#29abe2",i=`
      <div style="margin-top: 0; font-size: 14px; margin: 0; color: #333; font-weight: bold;">
        B${e.id.slice(2)}
      </div>
      <p style="font-size: 12px; margin: 0px 0; color: #666;">
        ${e.speed} km/h
      </p>
      <p style="margin: 0px 0; line-height: 1.4;">
        <span style="display: inline-block; background-color: ${n}; color: white; padding: 2px 6px; border-radius: 3px; font-weight: bold;">Line ${e.route_code.slice(-1)} </span>
      </p>
      <p style="font-size: 12px; margin: 0px 0; color: #666;">
        To: <b>${t}</b>
      </p>
      <p style="font-size: 12px; margin: 0px 0; color: #666;">
        : <b style="color: #333;">${e.next_station_string}</b>
      </p>
  `;return new oo.Popup({offset:20}).setHTML(i)},async refresh(){await this.fetch_bus()}},async mounted(){const e={lng:113.99373,lat:22.60308,zoom:14},t={bus_location_data:this.bus_location_data,geojson_line_1:this.geojson_line_1,geojson_line_2:this.geojson_line_2};let r=new ZU;oo.addProtocol("pmtiles",r.tile);const n=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches,await n&&(console.log("dark mode enabled."),this.map_text_colour="#FFFFFF",this.map_style_url="https://bus.sustcra.com/static/protomaps/pmtiles-style/pmtiles-dark.json"),this.map=new oo.Map({container:this.$refs.myMap,style:this.map_style_url,center:[e.lng,e.lat],zoom:e.zoom});var i=new oo.NavigationControl;this.map.addControl(i,"top-left"),this.map.addControl(new oo.FullscreenControl,"top-left");class o{onAdd(m){this._map=m,this._container=document.createElement("div"),this._container.className="maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group";const v=this._createButton("interaction-lock");return this._container.appendChild(v),v.click(),this._container}onRemove(){this._container.parentNode.removeChild(this._container),this._map=void 0}_createButton(m){const v=window.document.createElement("button");return v.className=m,v.isInteractionEnabled=!0,v.addEventListener("click",b=>{v.isInteractionEnabled=!v.isInteractionEnabled,v.isInteractionEnabled?(this._map.dragPan.enable(),this._map.boxZoom.enable(),this._map.doubleClickZoom.enable(),this._map.touchZoomRotate.enable(),this._map.scrollZoom.enable(),v.innerHTML='<span class="maplibregl-ctrl-icon mapboxgl-ctrl-icon map-interaction-allow" aria-hidden="true"></span>'):(this._map.dragPan.disable(),this._map.boxZoom.disable(),this._map.doubleClickZoom.disable(),this._map.touchZoomRotate.disable(),this._map.scrollZoom.disable(),v.innerHTML='<span class="maplibregl-ctrl-icon mapboxgl-ctrl-icon map-interaction-lock" aria-hidden="true"></span>'),b.preventDefault(),b.stopPropagation()},!1),v}}const s=new o;this.map.addControl(s,"top-left");class a{onAdd(m){this.map=m,this.container=document.createElement("div"),this.container.className="maplibregl-ctrl maplibregl-ctrl-group",this.container.style.marginLeft="10px",this.container.style.marginBottom="10px";const v=document.createElement("button");return v.className="maplibregl-ctrl-icon",v.innerHTML="",v.onclick=()=>{this.map.getLayoutProperty("raster-layer","visibility")==="visible"?this.map.setLayoutProperty("raster-layer","visibility","none"):this.map.setLayoutProperty("raster-layer","visibility","visible")},this.container.appendChild(v),this.container}onRemove(){this.container.parentNode.removeChild(this.container),this.map=void 0}}const h=new a;this.map.addControl(new oo.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,showUserHeading:!0}),"top-right"),this.map.addControl(h,"top-right"),this.map.on("load",()=>{this.map.addSource("raster-tiles",{type:"raster",tiles:["https://google-proxy.zuzuche.com/vt/?lyrs=s&x={x}&y={y}&z={z}"],tileSize:256}),this.map.addLayer({id:"raster-layer",type:"raster",source:"raster-tiles",layout:{visibility:"none"},minzoom:0,maxzoom:22}),this.map.addSource("line1",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:t.geojson_line_1}}}),this.map.addSource("line2",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:t.geojson_line_2}}}),this.map.addLayer({id:"line1",type:"line",source:"line1",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#f7911d","line-width":3}}),this.map.addLayer({id:"line2",type:"line",source:"line2",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#29abe2","line-width":3}});function p(m){return fetch(m).then(v=>v.blob()).then(v=>new Promise((b,x)=>{const C=new Image,I=URL.createObjectURL(v);C.onload=()=>{URL.revokeObjectURL(I),b(C)},C.onerror=()=>{URL.revokeObjectURL(I),x(new Error("Could not load image"))},C.src=I}))}Promise.all([p("https://bus.sustcra.com/station_icon.png"),p("https://bus.sustcra.com/bldg_icon.png"),p("https://bus.sustcra.com/gate_icon.png")]).then(m=>{this.map.addImage("bus-station",m[0]),this.map.addImage("bldg-icon",m[1]),this.map.addImage("gate-icon",m[2]),this.map.addSource("stations",{type:"geojson",data:this.stations_geojson}),this.map.addSource("bldgs",{type:"geojson",data:this.bldg_geojson}),this.map.addSource("gates",{type:"geojson",data:this.gate_geojson}),this.map.addLayer({id:"bus-station",type:"symbol",source:"stations",layout:{"icon-size":.075,"icon-image":"bus-station","text-field":["get","name"],"text-size":10,"text-offset":[0,1.25],"text-anchor":"top"},paint:{"text-color":this.map_text_colour},filter:["==","$type","Point"]}),this.map.addLayer({id:"bldgs",type:"symbol",source:"bldgs",layout:{"icon-size":.02,"icon-image":"bldg-icon","text-field":["get","name"],"text-size":9,"text-offset":[0,.3],"text-anchor":"top"},paint:{"text-color":this.map_text_colour},filter:["==","$type","Point"]}),this.map.addLayer({id:"gates",type:"symbol",source:"gates",layout:{"icon-size":.05,"icon-image":"gate-icon","text-field":["get","name"],"text-size":10,"text-offset":[0,.6],"text-anchor":"top"},paint:{"text-color":this.map_text_colour},filter:["==","$type","Point"]})}).catch(m=>{console.error("Error loading images:",m)})}),await this.fetch_bus(),this.timer=setInterval(()=>{this.refresh()},5e3)},async unmounted(){clearInterval(this.timer)}},V2e={class:"map-container",ref:"myMap"};function j2e(e,t,r,n,i,o){return Pt(),Bt(pr,null,[Dt("div",V2e,null,512),Dt("span",null,"Time drift: "+Cr(e.time_difference)+" sec.",1)],64)}const H2e=$i(N2e,[["render",j2e],["__scopeId","data-v-ca2d30a8"]]),G2e={name:"BusMap",data(){return{apiBaseUrl_RealTimeData:"https://bus.sustcra.com/api/v2",apiBaseUrl:"https://bus.sustcra.com/api/v3",map:null,activePopup:null,mapStyleLight:"https://bus.sustcra.com/static/protomaps/pmtiles-style/pmtiles-light.json",mapStyleDark:"https://bus.sustcra.com/static/protomaps/pmtiles-style/pmtiles-dark.json",mapTextColor:"#000000",mapTextHaloColor:"#FFFFFF",routeConfig:{NKDH1:{name:"L1",directions:{0:"CW",1:""},icon:"https://bus.sustcra.com/static/icon/bus-icon-NKDH1.png",color:"#4ca963"},NKDH2:{name:"L2",directions:{0:"CCW",1:""},icon:"https://bus.sustcra.com/static/icon/bus-icon-NKDH2.png",color:"#db7490"},SEV:{name:"",directions:{"-1":""},icon:"https://bus.sustcra.com/static/icon/bus-icon-SEV.png",color:"#7030a1"}},geojson_NKDH1:[],busLocations:[],sevLocations:[],busMarkers:{},busAnimations:{},unifiedStationsLookup:{},allStationsGeoJSON:{type:"FeatureCollection",features:[]},bldgGeoJSON:{},gateGeoJSON:{},timeDrift:0,busUpdateTimer:null,themeChangeHandler:null}},methods:{initializeMap(e){const t=new ZU;oo.addProtocol("pmtiles",t.tile),this.map=new oo.Map({container:this.$refs.mapContainer,style:e,center:[113.99373,22.60308],zoom:14.5,minZoom:13}),this.setupMapControls()},setupMapControls(){this.map.addControl(new oo.NavigationControl,"top-left"),this.map.addControl(new oo.FullscreenControl,"top-left"),this.map.addControl(new oo.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,showUserHeading:!0}),"top-right")},async loadMapData(){await Promise.all([this.loadAllStationData(),this.loadBuildingAndGateData(),this.loadGeoJSONLines()]),this.loadMapIconsAndLayers()},async loadAllStationData(){console.log("Fetching all station data...");try{const t=(await _r.get(`${this.apiBaseUrl}/avail_route`)).data.routes,r=t.map(i=>_r.get(`${this.apiBaseUrl}/${i.name}/${i.direction}/stations`));(await Promise.all(r)).forEach((i,o)=>{const s=t[o];(i.data.features||[]).forEach(h=>{const m=h.geometry.coordinates.join(","),v=h.properties.name.replace(/\n/g," ");this.unifiedStationsLookup[m]||(this.unifiedStationsLookup[m]={name:v,routes:[]}),this.unifiedStationsLookup[m].routes.push({route_code:s.name,direction:s.direction,station_id:h.properties.station_id}),this.allStationsGeoJSON.features.some(b=>b.geometry.coordinates.join(",")===m)||(h.properties.coordKey=m,h.properties.name=v,this.allStationsGeoJSON.features.push(h))})}),console.log("Unified station database created.")}catch(e){console.error("Failed to load station data:",e)}},async loadBuildingAndGateData(){try{const[e,t]=await Promise.all([_r.get("https://bus.sustcra.com/geojson/sustech_bldg.json"),_r.get("https://bus.sustcra.com/geojson/sustech_gate.json")]);this.bldgGeoJSON=e.data,this.gateGeoJSON=t.data}catch(e){console.error("Failed to fetch building or gate geojson:",e)}},async loadMapIconsAndLayers(){const e=t=>this.map.loadImage(t);try{const[t,r,n]=await Promise.all([e("https://bus.sustcra.com/station_icon.png"),e("https://bus.sustcra.com/bldg_icon.png"),e("https://bus.sustcra.com/gate_icon.png")]);this.map.addImage("bus-station-icon",t.data),this.map.addImage("bldg-icon",r.data),this.map.addImage("gate-icon",n.data),this.setupMapLayers()}catch(t){console.error("Error loading map icons:",t)}},async loadGeoJSONLines(){try{const[e]=await Promise.all([_r.get("https://bus.sustcra.com/static/lines/NKDH1_clockwise.json")]);this.geojson_NKDH1=e.data}catch(e){console.error("Failed to fetch GeoJSON lines:",e)}},setupMapLayers(){this.addRouteLayer("line1",this.geojson_NKDH1,"#747474"),console.log("NKDH1 route layer added."),this.map.getSource("stations-source")||this.map.addSource("stations-source",{type:"geojson",data:this.allStationsGeoJSON}),this.map.addLayer({id:"stations-dots",type:"circle",source:"stations-source",maxzoom:16.5,paint:{"circle-radius":4,"circle-color":"#1fa252","circle-stroke-width":1.5,"circle-stroke-color":"#ffffff"}}),this.map.addLayer({id:"stations-icons",type:"symbol",source:"stations-source",minzoom:16.5,layout:{"icon-image":"bus-station-icon","icon-size":.075,"icon-anchor":"bottom","icon-offset":[0,0],"text-field":["get","name"],"text-size":12,"text-offset":[0,1.25],"text-anchor":"top"},paint:{"text-color":"#333","text-halo-color":"#fff","text-halo-width":2}}),this.addSymbolLayer("buildings",this.bldgGeoJSON,"bldg-icon",.02,[0,.3],11),this.addSymbolLayer("gates",this.gateGeoJSON,"gate-icon",.05,[0,.6])},startBusTracking(){this.fetchBusLocations(),this.busUpdateTimer=setInterval(this.fetchBusLocations,8e3)},calculateBusAngle(e,t,r,n){const i=su([t,e]),o=su([n,r]);return VU(i,o)},findNearestPointOnSegment(e,t,r){const n=e[0]-t[0],i=e[1]-t[1],o=r[0]-t[0],s=r[1]-t[1],a=n*o+i*s,h=o*o+s*s,p=h!==0?a/h:-1;let m,v;return p<0?(m=t[0],v=t[1]):p>1?(m=r[0],v=r[1]):(m=t[0]+p*o,v=t[1]+p*s),[m,v]},findNearestSegment(e,t){let r=t[0],n=t[1],i=Number.MAX_VALUE;for(let o=0;o<t.length-1;o++){const s=t[o],a=t[o+1],h=this.findNearestPointOnSegment(e,s,a),p=this.calculateDistance(e,h);p<i&&(i=p,r=s,n=a)}return[r,n]},calculateDistance(e,t){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))},async fetchBusLocations(){try{const e=await _r.get("https://bus.sustcra.com/api/v2/monitor_osm/"),t=await _r.get("https://bus.sustcra.com/api/v2/monitor_sev_osm/");this.busLocations=e.data,this.sevLocations=t.data,this.busLocations=this.busLocations.concat(this.sevLocations);const r=Date.now()/1e3;this.busLocations.length>0&&this.busLocations[0].time_mt&&(this.timeDrift=Math.round(r-this.busLocations[0].time_mt)),this.updateBusMarkers()}catch(e){console.error("Failed to fetch bus locations:",e)}},createBusMarker(e){const t=document.createElement("div");t.className="bus-marker";const r=this.routeConfig[e.route_code],n=r?r.icon:"https://bus.sustcra.com/bus-icon-view.png";t.style.backgroundImage=`url('${n}')`;const i=new oo.Marker({element:t,anchor:"center"}).setLngLat([e.lng,e.lat]).setPopup(this.createBusInfoPopup(e)).setRotation(e.heading||0).addTo(this.map);this.busMarkers[e.id]=i},animateBusMarker(e,t){const r=this.busMarkers[e];this.busAnimations[e]&&cancelAnimationFrame(this.busAnimations[e]);const n=r.getPopup(),i=this.getBusPopupHTML(t);n.setHTML(i);const o=r.getLngLat(),s=o.lng,a=o.lat,h=t.lng,p=t.lat;if(Math.abs(s-h)<1e-6&&Math.abs(a-p)<1e-6)return;const m=1e3,v=performance.now();r.setRotation(t.heading||0);const b=x=>{const C=x-v,I=Math.min(C/m,1),A=s+(h-s)*I,R=a+(p-a)*I;r.setLngLat([A,R]),I<1?this.busAnimations[e]=requestAnimationFrame(b):delete this.busAnimations[e]};this.busAnimations[e]=requestAnimationFrame(b)},updateBusMarkers(){const e=Date.now()/1e3,t=new Set;this.busLocations.forEach(r=>{e-r.time_mt>120||(t.add(r.id),this.busMarkers[r.id]?this.animateBusMarker(r.id,r):this.createBusMarker(r))}),Object.keys(this.busMarkers).forEach(r=>{t.has(r)||(this.busMarkers[r].remove(),delete this.busMarkers[r],this.busAnimations[r]&&(cancelAnimationFrame(this.busAnimations[r]),delete this.busAnimations[r]))})},setupMapListeners(){this.map.on("mouseenter","stations-layer",()=>this.map.getCanvas().style.cursor="pointer"),this.map.on("mouseleave","stations-layer",()=>this.map.getCanvas().style.cursor="")},async onStationClick(e){if(e.features.length===0)return;const t=e.features[0],r=t.properties.coordKey,n=this.unifiedStationsLookup[r],i=t.geometry.coordinates.slice();if(!n)return;this.activePopup&&this.activePopup.remove();const o=document.createElement("div");o.innerHTML=`
        <div class="popup-header">${n.name}</div>
        <div class="popup-body">...</div>
      `,this.activePopup=new oo.Popup({offset:25,closeButton:!0}).setLngLat(i).setDOMContent(o).addTo(this.map);const s=await this.fetchEtasForStation(n),a=o.querySelector(".popup-body");a.innerHTML=this.createEtaListHtml(s)},async fetchEtasForStation(e){const t=e.routes.map(r=>_r.get(`${this.apiBaseUrl}/${r.route_code}/${r.direction}/${r.station_id}`));try{return(await Promise.all(t)).map(n=>n.data).flat().sort((n,i)=>n.eta_minutes-i.eta_minutes)}catch(r){return console.error("Failed to fetch ETAs:",r),[]}},addRouteLayer(e,t,r){this.map.addSource(e,{type:"geojson",data:t}),this.map.addLayer({id:e+"-layer",type:"line",source:e,layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":r,"line-width":3}})},addSymbolLayer(e,t,r,n,i,o=10){this.map.addSource(e,{type:"geojson",data:t}),this.map.addLayer({id:e+"-layer",type:"symbol",source:e,layout:{"icon-image":r,"icon-size":n,"icon-allow-overlap":!0,"text-field":["get","name"],"text-size":o,"text-offset":i,"text-anchor":"top"},paint:{"text-color":this.mapTextColor,"text-halo-color":this.mapTextHaloColor,"text-halo-width":1}})},getBusPopupHTML(e){const t=this.routeConfig[e.route_code]||{},r=t.name||e.route_code,n=t.directions?.[e.route_dir]??"",i=t.color??"#cccccc";return`
      <div class="bus-popup">
        <div class="plate">${e.id.slice(2)} (${e.speed} km/h)</div>
        <div><span class="line-tag" style="background-color:${i}">${r}</span> To: <strong>${n}</strong></div>
        <div>Next: <strong>${e.next_station_string}</strong></div>
      </div>
    `},createBusInfoPopup(e){return new oo.Popup({offset:20}).setHTML(this.getBusPopupHTML(e))},createEtaListHtml(e){return e.length===0?'<div class="eta-item"></div>':e.map(t=>{const r=t.route_key.split("_")[0].slice(-1);return`
                <div class="eta-item">
                    <span class="line-tag" style="background-color:${r==="1"?"#f7911d":"#29abe2"};">L${r}</span>
                    <span class="plate-tag terminal-station">
                      ${t.terminal_station_name}
                    </span>
<!--                    <span class="plate-tag">${t.plate.slice(2)}</span>-->
<!--                    <span> <strong>${t.next_station}</strong></span>-->
                    <span class="eta-time">${t.eta_minutes} Min.</span>
                </div>
            `}).join("")},setupThemeListener(){const e=window.matchMedia("(prefers-color-scheme: dark)");e.matches?(this.mapTextColor="#FFFFFF",this.mapTextHaloColor="#000000"):(this.mapTextColor="#000000",this.mapTextHaloColor="#FFFFFF"),this.themeChangeHandler=t=>{console.log(`Theme changed to ${t.matches?"Dark":"Light"}. Map will reload.`),window.location.reload()},e.addEventListener("change",this.themeChangeHandler)}},async mounted(){this.setupThemeListener();const e=this.mapTextColor==="#FFFFFF"?this.mapStyleDark:this.mapStyleLight;this.initializeMap(e),this.map.on("load",async()=>{console.log("Map loaded."),await this.loadMapData(),this.setupMapListeners(),this.startBusTracking()})},unmounted(){clearInterval(this.busUpdateTimer),Object.values(this.busAnimations).forEach(e=>cancelAnimationFrame(e)),this.themeChangeHandler&&window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",this.themeChangeHandler),this.map&&this.map.remove()}},U2e={class:"map-wrapper"},W2e={class:"map-container",ref:"mapContainer"},q2e={key:0,class:"time-drift-display"};function Z2e(e,t,r,n,i,o){return Pt(),Bt("div",U2e,[Dt("div",W2e,null,512),i.timeDrift?(Pt(),Bt("span",q2e,"Time Drift: "+Cr(i.timeDrift)+"s",1)):gn("",!0)])}const X2e=$i(G2e,[["render",Z2e]]),K2e={name:"MyMap",data:()=>({map_style_url:"https://mirrors.sustech.edu.cn/osm-tile/styles/osm-bright/style.json",map_text_colour:"#000000",bus_location_data_api:[],bus_location_data_display:[],bus_plate_hash:{298:{plate:"BDF298"},363:{plate:"BDF363"},8040:{plate:"BDF040"},8147:{plate:"BDF147"},8267:{plate:"BDF267"},8330:{plate:"BDF330"},8335:{plate:"BDF335"},8338:{plate:"BDF338"},8345:{plate:"BDF345"},8365:{plate:"BDF365"},8371:{plate:"BDF371"},8411:{plate:"BDF411"},8421:{plate:"BDF421"},8430:{plate:"BDF430"},8447:{plate:"BDE447"},8458:{plate:"BDF458"},8470:{plate:"BDF470"},8471:{plate:"BDF471"},18447:{plate:"BDF447"}},geojson_line_1:[[113.99739584160139,22.610765716856296],[113.99773288526481,22.610577804306548],[113.99824514560808,22.609808813574297],[113.99899240486543,22.608186143427105],[113.99899684055141,22.608138484311375],[113.99876376465981,22.606584405046835],[113.9987454049567,22.606539955896604],[113.9983737643716,22.606046923598996],[113.99771305207776,22.60586005946536],[113.996462081496,22.60628164325351],[113.99540699384544,22.60655007340282],[113.99537457846512,22.606374521317747],[113.99533345805837,22.60631869878032],[113.99491868014185,22.60615102642152],[113.99446803578164,22.605922922486105],[113.993628105381,22.605432281601264],[113.99361283376653,22.605399929510398],[113.99427914343141,22.604297776694622],[113.99455101208882,22.604066349285663],[113.99481121659123,22.60381079129223],[113.99549648383878,22.60304833084697],[113.99570726599393,22.60298417975627],[113.99623267681147,22.60298349183956],[113.99686127008054,22.603078201644227],[113.9977201426685,22.603401409146592],[113.99788215074415,22.603408536156227],[113.99794417914393,22.60338145776082],[113.9980463074806,22.603268395934986],[113.99816665521513,22.602614977726315],[113.99835030416712,22.60216721735362],[113.99856193554633,22.601842951121434],[113.99881928525701,22.6015215956419],[113.9988344317295,22.601194082723367],[113.99895072783376,22.600790214181995],[113.9990602569799,22.600602634774226],[113.99921879840926,22.600476730796977],[113.99919877407567,22.60043325336671],[113.99802751236375,22.600038565633355],[113.99775839514615,22.599792681543633],[113.99730187808832,22.598960946075003],[113.99590977592047,22.5977773063799],[113.99576459924215,22.59751983095157],[113.99543299558397,22.59717440812865],[113.9951938686417,22.5966914370548],[113.99501583215859,22.59639577584673],[113.99463229185628,22.596104860560743],[113.99420385593578,22.595969591352997],[113.99378584507669,22.595967937443213],[113.99320018866534,22.59621976224022],[113.99265363550316,22.596738860232236],[113.99200633643709,22.59716671060916],[113.99157366427197,22.5971462468509],[113.99088482201618,22.596941863390235],[113.99038484213679,22.596998494112995],[113.99032102143205,22.597043977909916],[113.99019829041364,22.59753578294312],[113.99030286538937,22.59863964935582],[113.99048378356784,22.59907317753902],[113.99052006299269,22.59911721823263],[113.99075599101839,22.599276010611053],[113.99126127611241,22.599535900836155],[113.9917686585336,22.6000105337692],[113.99191211157755,22.60053218120178],[113.99183362959826,22.601016496848214],[113.99144872111891,22.60153952301182],[113.99077751816642,22.602118998056795],[113.99043902651476,22.60239072790739],[113.99010219314502,22.60332391993846]],geojson_line_2:[[113.9973489079054,22.61067741494136],[113.9976555155949,22.61051444868976],[113.9981618912118,22.60975341767644],[113.9988979465801,22.60815331611633],[113.9986648706885,22.60659923685179],[113.9983207115444,22.60613169032316],[113.9977156537446,22.60596002561628],[113.9964905851169,22.6063775771138],[113.9953277666447,22.60667341560261],[113.995278497141,22.60640224097063],[113.9934784038899,22.60548092977822],[113.99386414857948,22.604784676421257],[113.99419945106074,22.60426804504929],[113.99385306765333,22.603677155592816],[113.99298710913483,22.60350336409337],[113.99279885728298,22.603280910653833],[113.99233952276445,22.60296808489611],[113.99204584987558,22.60262745159568],[113.9915262747645,22.601612498395962],[113.9917196221943,22.601431625928],[113.9919172423369,22.60102266627295],[113.9920105698998,22.6005318195689],[113.9918969233072,22.59993661748595],[113.9914596783045,22.59960492109923]],gate_geojson:{},stations_geojson:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[113.9902,22.60336]},properties:{name:" COE"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.99153,22.599643]},properties:{name:" Research Building"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.990399,22.597132]},properties:{name:" Gate7"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.992403,22.597011]},properties:{name:" Administration Building"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.9944,22.59618]},properties:{name:"1 Gate1 (DN)"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.99381,22.59604]},properties:{name:"1 Gate1 (UP)"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.99585,22.59788]},properties:{name:"2 Gate2"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.99878,22.60041]},properties:{name:"3 Gate3"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.998329,22.601975]},properties:{name:" Guest Houses"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.997811,22.603325]},properties:{name:" Faculty Cafeteria"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.995981,22.60293]},properties:{name:" C.Health.Center"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.993824,22.604854]},properties:{name:" Stu. Dormitories"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.995238,22.606518]},properties:{name:" Lychee Hill"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.996732,22.606278]},properties:{name:" Chuang Yuan"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.998372,22.606102]},properties:{name:" Hui Yuan"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.997473,22.610667]},properties:{name:" Joy Highland"}}]},bus_marker_arr:[],map:[],time_difference:0,timer:{}}),async created(){const e=await _r.get("https://bus.sustcra.com/geojson/sustech_bldg.json");this.bldg_geojson=e.data;const t=await _r.get("https://bus.sustcra.com/geojson/sustech_gate.json");this.gate_geojson=t.data,console.log("Fetch geojson of sustech complete")},methods:{},async mounted(){const e={lng:113.99373,lat:22.60308,zoom:14},t={bus_location_data:this.bus_location_data,geojson_line_1:this.geojson_line_1,geojson_line_2:this.geojson_line_2},r=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches,await r&&(console.log("dark mode enabled."),this.map_text_colour="#FFFFFF",this.map_style_url="https://mirrors.sustech.edu.cn/osm-tile/styles/osm-blue/style.json"),this.map=new oo.Map({container:this.$refs.myMap,style:this.map_style_url,center:[e.lng,e.lat],zoom:e.zoom});var n=new oo.NavigationControl;this.map.addControl(n,"top-left"),this.map.addControl(new oo.FullscreenControl,"top-left");class i{onAdd(p){this._map=p,this._container=document.createElement("div"),this._container.className="maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group";const m=this._createButton("interaction-lock");return this._container.appendChild(m),m.click(),this._container}onRemove(){this._container.parentNode.removeChild(this._container),this._map=void 0}_createButton(p){const m=window.document.createElement("button");return m.className=p,m.isInteractionEnabled=!0,m.addEventListener("click",v=>{m.isInteractionEnabled=!m.isInteractionEnabled,m.isInteractionEnabled?(this._map.dragPan.enable(),this._map.boxZoom.enable(),this._map.doubleClickZoom.enable(),this._map.touchZoomRotate.enable(),this._map.scrollZoom.enable(),m.innerHTML='<span class="maplibregl-ctrl-icon mapboxgl-ctrl-icon map-interaction-allow" aria-hidden="true"></span>'):(this._map.dragPan.disable(),this._map.boxZoom.disable(),this._map.doubleClickZoom.disable(),this._map.touchZoomRotate.disable(),this._map.scrollZoom.disable(),m.innerHTML='<span class="maplibregl-ctrl-icon mapboxgl-ctrl-icon map-interaction-lock" aria-hidden="true"></span>'),v.preventDefault(),v.stopPropagation()},!1),m}}const o=new i;this.map.addControl(o,"top-left");class s{onAdd(p){this.map=p,this.container=document.createElement("div"),this.container.className="maplibregl-ctrl maplibregl-ctrl-group",this.container.style.marginLeft="10px",this.container.style.marginBottom="10px";const m=document.createElement("button");return m.className="maplibregl-ctrl-icon",m.innerHTML="",m.onclick=()=>{this.map.getLayoutProperty("raster-layer","visibility")==="visible"?this.map.setLayoutProperty("raster-layer","visibility","none"):this.map.setLayoutProperty("raster-layer","visibility","visible")},this.container.appendChild(m),this.container}onRemove(){this.container.parentNode.removeChild(this.container),this.map=void 0}}const a=new s;this.map.addControl(new oo.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,showUserHeading:!0}),"top-right"),this.map.addControl(a,"top-right"),this.map.on("load",()=>{this.map.addSource("raster-tiles",{type:"raster",tiles:["https://google-proxy.zuzuche.com/vt/?lyrs=s&x={x}&y={y}&z={z}"],tileSize:256}),this.map.addLayer({id:"raster-layer",type:"raster",source:"raster-tiles",layout:{visibility:"none"},minzoom:0,maxzoom:22}),this.map.addSource("line1",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:t.geojson_line_1}}}),this.map.addSource("line2",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:t.geojson_line_2}}}),this.map.addLayer({id:"line1",type:"line",source:"line1",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#f7911d","line-width":3}}),this.map.addLayer({id:"line2",type:"line",source:"line2",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#29abe2","line-width":3}});function h(p){return fetch(p).then(m=>m.blob()).then(m=>new Promise((v,b)=>{const x=new Image,C=URL.createObjectURL(m);x.onload=()=>{URL.revokeObjectURL(C),v(x)},x.onerror=()=>{URL.revokeObjectURL(C),b(new Error("Could not load image"))},x.src=C}))}Promise.all([h("https://bus.sustcra.com/station_icon.png"),h("https://bus.sustcra.com/bldg_icon.png"),h("https://bus.sustcra.com/gate_icon.png")]).then(p=>{this.map.addImage("bus-station",p[0]),this.map.addImage("bldg-icon",p[1]),this.map.addImage("gate-icon",p[2]),this.map.addSource("stations",{type:"geojson",data:this.stations_geojson}),this.map.addSource("bldgs",{type:"geojson",data:this.bldg_geojson}),this.map.addSource("gates",{type:"geojson",data:this.gate_geojson}),this.map.addLayer({id:"bus-station",type:"symbol",source:"stations",layout:{"icon-size":.075,"icon-image":"bus-station","text-field":["get","name"],"text-size":10,"text-offset":[0,1.25],"text-anchor":"top"},paint:{"text-color":this.map_text_colour},filter:["==","$type","Point"]}),this.map.addLayer({id:"bldgs",type:"symbol",source:"bldgs",layout:{"icon-size":.02,"icon-image":"bldg-icon","text-field":["get","name"],"text-size":9,"text-offset":[0,.3],"text-anchor":"top"},paint:{"text-color":this.map_text_colour},filter:["==","$type","Point"]}),this.map.addLayer({id:"gates",type:"symbol",source:"gates",layout:{"icon-size":.05,"icon-image":"gate-icon","text-field":["get","name"],"text-size":10,"text-offset":[0,.6],"text-anchor":"top"},paint:{"text-color":this.map_text_colour},filter:["==","$type","Point"]})}).catch(p=>{console.error("Error loading images:",p)})})},async unmounted(){}},Y2e={class:"map-container",ref:"myMap"};function J2e(e,t,r,n,i,o){return Pt(),Bt("div",Y2e,null,512)}const Q2e=$i(K2e,[["render",J2e],["__scopeId","data-v-bcc91394"]]),eTe={name:"weather-span",data:()=>({text:""}),mounted(){this.load_weather()},methods:{load_weather(){_r.get("https://api.sustech.online/weather").then(e=>{this.text=e.data.msg})}}},tTe={id:"weather-container"},rTe={id:"weather"};function nTe(e,t,r,n,i,o){return Pt(),Bt("div",tTe,[Dt("span",rTe,Cr(e.text),1)])}const iTe=$i(eTe,[["render",nTe]]);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _A=function(e,t){return _A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},_A(e,t)};function qt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");_A(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var oTe=(function(){function e(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return e})(),aTe=(function(){function e(){this.browser=new oTe,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return e})(),Rr=new aTe;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Rr.wxa=!0,Rr.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Rr.worker=!0:!Rr.hasGlobalWindow||"Deno"in window?(Rr.node=!0,Rr.svgSupported=!0):sTe(navigator.userAgent,Rr);function sTe(e,t){var r=t.browser,n=e.match(/Firefox\/([\d.]+)/),i=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),o=e.match(/Edge?\/([\d.]+)/),s=/micromessenger/i.test(e);n&&(r.firefox=!0,r.version=n[1]),i&&(r.ie=!0,r.version=i[1]),o&&(r.edge=!0,r.version=o[1],r.newEdge=+o[1].split(".")[0]>18),s&&(r.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!r.ie&&!r.edge,t.pointerEventsSupported="onpointerdown"in window&&(r.edge||r.ie&&+r.version>=11),t.domSupported=typeof document<"u";var a=document.documentElement.style;t.transform3dSupported=(r.ie&&"transition"in a||r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in a)&&!("OTransition"in a),t.transformSupported=t.transform3dSupported||r.ie&&+r.version>=9}var VR=12,aW="sans-serif",qh=VR+"px "+aW,lTe=20,uTe=100,cTe="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function hTe(e){var t={};if(typeof JSON>"u")return t;for(var r=0;r<e.length;r++){var n=String.fromCharCode(r+32),i=(e.charCodeAt(r)-lTe)/uTe;t[n]=i}return t}var dTe=hTe(cTe),hv={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:(function(){var e,t;return function(r,n){if(!e){var i=hv.createCanvas();e=i&&i.getContext("2d")}if(e)return t!==n&&(t=e.font=n||qh),e.measureText(r);r=r||"",n=n||qh;var o=/((?:\d+)?\.?\d*)px/.exec(n),s=o&&+o[1]||VR,a=0;if(n.indexOf("mono")>=0)a=s*r.length;else for(var h=0;h<r.length;h++){var p=dTe[r[h]];a+=p==null?s:p*s}return{width:a}}})(),loadImage:function(e,t,r){var n=new Image;return n.onload=t,n.onerror=r,n.src=e,n}},sW=dv(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(e,t){return e["[object "+t+"]"]=!0,e},{}),lW=dv(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(e,t){return e["[object "+t+"Array]"]=!0,e},{}),Cb=Object.prototype.toString,mT=Array.prototype,fTe=mT.forEach,pTe=mT.filter,jR=mT.slice,mTe=mT.map,r4=(function(){}).constructor,jx=r4?r4.prototype:null,HR="__proto__",gTe=2311;function uW(){return gTe++}function GR(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];typeof console<"u"&&console.error.apply(console,e)}function Xr(e){if(e==null||typeof e!="object")return e;var t=e,r=Cb.call(e);if(r==="[object Array]"){if(!Q_(e)){t=[];for(var n=0,i=e.length;n<i;n++)t[n]=Xr(e[n])}}else if(lW[r]){if(!Q_(e)){var o=e.constructor;if(o.from)t=o.from(e);else{t=new o(e.length);for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}}}else if(!sW[r]&&!Q_(e)&&!$0(e)){t={};for(var s in e)e.hasOwnProperty(s)&&s!==HR&&(t[s]=Xr(e[s]))}return t}function an(e,t,r){if(!Sr(t)||!Sr(e))return r?Xr(t):e;for(var n in t)if(t.hasOwnProperty(n)&&n!==HR){var i=e[n],o=t[n];Sr(o)&&Sr(i)&&!nr(o)&&!nr(i)&&!$0(o)&&!$0(i)&&!n4(o)&&!n4(i)&&!Q_(o)&&!Q_(i)?an(i,o,r):(r||!(n in e))&&(e[n]=Xr(t[n]))}return e}function vTe(e,t){for(var r=e[0],n=1,i=e.length;n<i;n++)r=an(r,e[n],t);return r}function Kt(e,t){if(Object.assign)Object.assign(e,t);else for(var r in t)t.hasOwnProperty(r)&&r!==HR&&(e[r]=t[r]);return e}function Mn(e,t,r){for(var n=on(t),i=0,o=n.length;i<o;i++){var s=n[i];e[s]==null&&(e[s]=t[s])}return e}function sn(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r}return-1}function yTe(e,t){var r=e.prototype;function n(){}n.prototype=t.prototype,e.prototype=new n;for(var i in r)r.hasOwnProperty(i)&&(e.prototype[i]=r[i]);e.prototype.constructor=e,e.superClass=t}function Il(e,t,r){if(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(t),i=0;i<n.length;i++){var o=n[i];o!=="constructor"&&e[o]==null&&(e[o]=t[o])}else Mn(e,t)}function $a(e){return!e||typeof e=="string"?!1:typeof e.length=="number"}function Ve(e,t,r){if(e&&t)if(e.forEach&&e.forEach===fTe)e.forEach(t,r);else if(e.length===+e.length)for(var n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e);else for(var o in e)e.hasOwnProperty(o)&&t.call(r,e[o],o,e)}function fr(e,t,r){if(!e)return[];if(!t)return UR(e);if(e.map&&e.map===mTe)return e.map(t,r);for(var n=[],i=0,o=e.length;i<o;i++)n.push(t.call(r,e[i],i,e));return n}function dv(e,t,r,n){if(e&&t){for(var i=0,o=e.length;i<o;i++)r=t.call(n,r,e[i],i,e);return r}}function ao(e,t,r){if(!e)return[];if(!t)return UR(e);if(e.filter&&e.filter===pTe)return e.filter(t,r);for(var n=[],i=0,o=e.length;i<o;i++)t.call(r,e[i],i,e)&&n.push(e[i]);return n}function on(e){if(!e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}function _Te(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return function(){return e.apply(t,r.concat(jR.call(arguments)))}}var kr=jx&&br(jx.bind)?jx.call.bind(jx.bind):_Te;function ri(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return function(){return e.apply(this,t.concat(jR.call(arguments)))}}function nr(e){return Array.isArray?Array.isArray(e):Cb.call(e)==="[object Array]"}function br(e){return typeof e=="function"}function cr(e){return typeof e=="string"}function bA(e){return Cb.call(e)==="[object String]"}function ni(e){return typeof e=="number"}function Sr(e){var t=typeof e;return t==="function"||!!e&&t==="object"}function n4(e){return!!sW[Cb.call(e)]}function za(e){return!!lW[Cb.call(e)]}function $0(e){return typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.ownerDocument=="object"}function gT(e){return e.colorStops!=null}function bTe(e){return e.image!=null}function qS(e){return e!==e}function Kg(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,n=e.length;r<n;r++)if(e[r]!=null)return e[r]}function $r(e,t){return e??t}function Yw(e,t,r){return e??t??r}function UR(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return jR.apply(e,t)}function cW(e){if(typeof e=="number")return[e,e,e,e];var t=e.length;return t===2?[e[0],e[1],e[0],e[1]]:t===3?[e[0],e[1],e[2],e[1]]:e}function Tl(e,t){if(!e)throw new Error(t)}function lu(e){return e==null?null:typeof e.trim=="function"?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var hW="__ec_primitive__";function xA(e){e[hW]=!0}function Q_(e){return e[hW]}var xTe=(function(){function e(){this.data={}}return e.prototype.delete=function(t){var r=this.has(t);return r&&delete this.data[t],r},e.prototype.has=function(t){return this.data.hasOwnProperty(t)},e.prototype.get=function(t){return this.data[t]},e.prototype.set=function(t,r){return this.data[t]=r,this},e.prototype.keys=function(){return on(this.data)},e.prototype.forEach=function(t){var r=this.data;for(var n in r)r.hasOwnProperty(n)&&t(r[n],n)},e})(),dW=typeof Map=="function";function wTe(){return dW?new Map:new xTe}var STe=(function(){function e(t){var r=nr(t);this.data=wTe();var n=this;t instanceof e?t.each(i):t&&Ve(t,i);function i(o,s){r?n.set(o,s):n.set(s,o)}}return e.prototype.hasKey=function(t){return this.data.has(t)},e.prototype.get=function(t){return this.data.get(t)},e.prototype.set=function(t,r){return this.data.set(t,r),r},e.prototype.each=function(t,r){this.data.forEach(function(n,i){t.call(r,n,i)})},e.prototype.keys=function(){var t=this.data.keys();return dW?Array.from(t):t},e.prototype.removeKey=function(t){this.data.delete(t)},e})();function Ar(e){return new STe(e)}function wA(e,t){for(var r=new e.constructor(e.length+t.length),n=0;n<e.length;n++)r[n]=e[n];for(var i=e.length,n=0;n<t.length;n++)r[n+i]=t[n];return r}function vT(e,t){var r;if(Object.create)r=Object.create(e);else{var n=function(){};n.prototype=e,r=new n}return t&&Kt(r,t),r}function fW(e){var t=e.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function rp(e,t){return e.hasOwnProperty(t)}function Qo(){}var Jw=180/Math.PI;function fv(e,t){return e==null&&(e=0),t==null&&(t=0),[e,t]}function TTe(e){return[e[0],e[1]]}function i4(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function pW(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function CTe(e){return Math.sqrt(PTe(e))}function PTe(e){return e[0]*e[0]+e[1]*e[1]}function IM(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function WR(e,t){var r=CTe(t);return r===0?(e[0]=0,e[1]=0):(e[0]=t[0]/r,e[1]=t[1]/r),e}function SA(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var ng=SA;function MTe(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var Tg=MTe;function Vs(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e}function ig(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function og(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}var Im=(function(){function e(t,r){this.target=t,this.topTarget=r&&r.topTarget}return e})(),ITe=(function(){function e(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return e.prototype._dragStart=function(t){for(var r=t.target;r&&!r.draggable;)r=r.parent||r.__hostTarget;r&&(this._draggingTarget=r,r.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new Im(r,t),"dragstart",t.event))},e.prototype._drag=function(t){var r=this._draggingTarget;if(r){var n=t.offsetX,i=t.offsetY,o=n-this._x,s=i-this._y;this._x=n,this._y=i,r.drift(o,s,t),this.handler.dispatchToElement(new Im(r,t),"drag",t.event);var a=this.handler.findHover(n,i,r).target,h=this._dropTarget;this._dropTarget=a,r!==a&&(h&&a!==h&&this.handler.dispatchToElement(new Im(h,t),"dragleave",t.event),a&&a!==h&&this.handler.dispatchToElement(new Im(a,t),"dragenter",t.event))}},e.prototype._dragEnd=function(t){var r=this._draggingTarget;r&&(r.dragging=!1),this.handler.dispatchToElement(new Im(r,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new Im(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},e})(),El=(function(){function e(t){t&&(this._$eventProcessor=t)}return e.prototype.on=function(t,r,n,i){this._$handlers||(this._$handlers={});var o=this._$handlers;if(typeof r=="function"&&(i=n,n=r,r=null),!n||!t)return this;var s=this._$eventProcessor;r!=null&&s&&s.normalizeQuery&&(r=s.normalizeQuery(r)),o[t]||(o[t]=[]);for(var a=0;a<o[t].length;a++)if(o[t][a].h===n)return this;var h={h:n,query:r,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},p=o[t].length-1,m=o[t][p];return m&&m.callAtLast?o[t].splice(p,0,h):o[t].push(h),this},e.prototype.isSilent=function(t){var r=this._$handlers;return!r||!r[t]||!r[t].length},e.prototype.off=function(t,r){var n=this._$handlers;if(!n)return this;if(!t)return this._$handlers={},this;if(r){if(n[t]){for(var i=[],o=0,s=n[t].length;o<s;o++)n[t][o].h!==r&&i.push(n[t][o]);n[t]=i}n[t]&&n[t].length===0&&delete n[t]}else delete n[t];return this},e.prototype.trigger=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],o=this._$eventProcessor;if(i)for(var s=r.length,a=i.length,h=0;h<a;h++){var p=i[h];if(!(o&&o.filter&&p.query!=null&&!o.filter(t,p.query)))switch(s){case 0:p.h.call(p.ctx);break;case 1:p.h.call(p.ctx,r[0]);break;case 2:p.h.call(p.ctx,r[0],r[1]);break;default:p.h.apply(p.ctx,r);break}}return o&&o.afterTrigger&&o.afterTrigger(t),this},e.prototype.triggerWithContext=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],o=this._$eventProcessor;if(i)for(var s=r.length,a=r[s-1],h=i.length,p=0;p<h;p++){var m=i[p];if(!(o&&o.filter&&m.query!=null&&!o.filter(t,m.query)))switch(s){case 0:m.h.call(a);break;case 1:m.h.call(a,r[0]);break;case 2:m.h.call(a,r[0],r[1]);break;default:m.h.apply(a,r.slice(1,s-1));break}}return o&&o.afterTrigger&&o.afterTrigger(t),this},e})(),ETe=Math.log(2);function TA(e,t,r,n,i,o){var s=n+"-"+i,a=e.length;if(o.hasOwnProperty(s))return o[s];if(t===1){var h=Math.round(Math.log((1<<a)-1&~i)/ETe);return e[r][h]}for(var p=n|1<<r,m=r+1;n&1<<m;)m++;for(var v=0,b=0,x=0;b<a;b++){var C=1<<b;C&i||(v+=(x%2?-1:1)*e[r][b]*TA(e,t-1,m,p,i|C,o),x++)}return o[s]=v,v}function o4(e,t){var r=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],n={},i=TA(r,8,0,0,0,n);if(i!==0){for(var o=[],s=0;s<8;s++)for(var a=0;a<8;a++)o[a]==null&&(o[a]=0),o[a]+=((s+a)%2?-1:1)*TA(r,7,s===0?1:0,1<<s,1<<a,n)/i*t[s];return function(h,p,m){var v=p*o[6]+m*o[7]+1;h[0]=(p*o[0]+m*o[1]+o[2])/v,h[1]=(p*o[3]+m*o[4]+o[5])/v}}}var a4="___zrEVENTSAVED",EM=[];function ATe(e,t,r,n,i){return CA(EM,t,n,i,!0)&&CA(e,r,EM[0],EM[1])}function CA(e,t,r,n,i){if(t.getBoundingClientRect&&Rr.domSupported&&!mW(t)){var o=t[a4]||(t[a4]={}),s=DTe(t,o),a=LTe(s,o,i);if(a)return a(e,r,n),!0}return!1}function DTe(e,t){var r=t.markers;if(r)return r;r=t.markers=[];for(var n=["left","right"],i=["top","bottom"],o=0;o<4;o++){var s=document.createElement("div"),a=s.style,h=o%2,p=(o>>1)%2;a.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[h]+":0",i[p]+":0",n[1-h]+":auto",i[1-p]+":auto",""].join("!important;"),e.appendChild(s),r.push(s)}return r}function LTe(e,t,r){for(var n=r?"invTrans":"trans",i=t[n],o=t.srcCoords,s=[],a=[],h=!0,p=0;p<4;p++){var m=e[p].getBoundingClientRect(),v=2*p,b=m.left,x=m.top;s.push(b,x),h=h&&o&&b===o[v]&&x===o[v+1],a.push(e[p].offsetLeft,e[p].offsetTop)}return h&&i?i:(t.srcCoords=s,t[n]=r?o4(a,s):o4(s,a))}function mW(e){return e.nodeName.toUpperCase()==="CANVAS"}var RTe=/([&<>"'])/g,OTe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function fa(e){return e==null?"":(e+"").replace(RTe,function(t,r){return OTe[r]})}var kTe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,AM=[],$Te=Rr.browser.firefox&&+Rr.browser.version.split(".")[0]<39;function PA(e,t,r,n){return r=r||{},n?s4(e,t,r):$Te&&t.layerX!=null&&t.layerX!==t.offsetX?(r.zrX=t.layerX,r.zrY=t.layerY):t.offsetX!=null?(r.zrX=t.offsetX,r.zrY=t.offsetY):s4(e,t,r),r}function s4(e,t,r){if(Rr.domSupported&&e.getBoundingClientRect){var n=t.clientX,i=t.clientY;if(mW(e)){var o=e.getBoundingClientRect();r.zrX=n-o.left,r.zrY=i-o.top;return}else if(CA(AM,e,n,i)){r.zrX=AM[0],r.zrY=AM[1];return}}r.zrX=r.zrY=0}function qR(e){return e||window.event}function Ds(e,t,r){if(t=qR(t),t.zrX!=null)return t;var n=t.type,i=n&&n.indexOf("touch")>=0;if(i){var s=n!=="touchend"?t.targetTouches[0]:t.changedTouches[0];s&&PA(e,s,t,r)}else{PA(e,t,t,r);var o=zTe(t);t.zrDelta=o?o/120:-(t.detail||0)/3}var a=t.button;return t.which==null&&a!==void 0&&kTe.test(t.type)&&(t.which=a&1?1:a&2?3:a&4?2:0),t}function zTe(e){var t=e.wheelDelta;if(t)return t;var r=e.deltaX,n=e.deltaY;if(r==null||n==null)return t;var i=Math.abs(n!==0?n:r),o=n>0?-1:n<0?1:r>0?-1:1;return 3*i*o}function BTe(e,t,r,n){e.addEventListener(t,r,n)}function FTe(e,t,r,n){e.removeEventListener(t,r,n)}var Yg=function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0};function l4(e){return e.which===2||e.which===3}var NTe=(function(){function e(){this._track=[]}return e.prototype.recognize=function(t,r,n){return this._doTrack(t,r,n),this._recognize(t)},e.prototype.clear=function(){return this._track.length=0,this},e.prototype._doTrack=function(t,r,n){var i=t.touches;if(i){for(var o={points:[],touches:[],target:r,event:t},s=0,a=i.length;s<a;s++){var h=i[s],p=PA(n,h,{});o.points.push([p.zrX,p.zrY]),o.touches.push(h)}this._track.push(o)}},e.prototype._recognize=function(t){for(var r in DM)if(DM.hasOwnProperty(r)){var n=DM[r](this._track,t);if(n)return n}},e})();function u4(e){var t=e[1][0]-e[0][0],r=e[1][1]-e[0][1];return Math.sqrt(t*t+r*r)}function VTe(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var DM={pinch:function(e,t){var r=e.length;if(r){var n=(e[r-1]||{}).points,i=(e[r-2]||{}).points||n;if(i&&i.length>1&&n&&n.length>1){var o=u4(n)/u4(i);!isFinite(o)&&(o=1),t.pinchScale=o;var s=VTe(n);return t.pinchX=s[0],t.pinchY=s[1],{type:"pinch",target:e[0].target,event:t}}}}};function Cg(){return[1,0,0,1,0,0]}function ZR(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function jTe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Pg(e,t,r){var n=t[0]*r[0]+t[2]*r[1],i=t[1]*r[0]+t[3]*r[1],o=t[0]*r[2]+t[2]*r[3],s=t[1]*r[2]+t[3]*r[3],a=t[0]*r[4]+t[2]*r[5]+t[4],h=t[1]*r[4]+t[3]*r[5]+t[5];return e[0]=n,e[1]=i,e[2]=o,e[3]=s,e[4]=a,e[5]=h,e}function MA(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+r[0],e[5]=t[5]+r[1],e}function XR(e,t,r,n){n===void 0&&(n=[0,0]);var i=t[0],o=t[2],s=t[4],a=t[1],h=t[3],p=t[5],m=Math.sin(r),v=Math.cos(r);return e[0]=i*v+a*m,e[1]=-i*m+a*v,e[2]=o*v+h*m,e[3]=-o*m+v*h,e[4]=v*(s-n[0])+m*(p-n[1])+n[0],e[5]=v*(p-n[1])-m*(s-n[0])+n[1],e}function HTe(e,t,r){var n=r[0],i=r[1];return e[0]=t[0]*n,e[1]=t[1]*i,e[2]=t[2]*n,e[3]=t[3]*i,e[4]=t[4]*n,e[5]=t[5]*i,e}function KR(e,t){var r=t[0],n=t[2],i=t[4],o=t[1],s=t[3],a=t[5],h=r*s-o*n;return h?(h=1/h,e[0]=s*h,e[1]=-o*h,e[2]=-n*h,e[3]=r*h,e[4]=(n*a-s*i)*h,e[5]=(o*i-r*a)*h,e):null}var $n=(function(){function e(t,r){this.x=t||0,this.y=r||0}return e.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.set=function(t,r){return this.x=t,this.y=r,this},e.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},e.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},e.prototype.scale=function(t){this.x*=t,this.y*=t},e.prototype.scaleAndAdd=function(t,r){this.x+=t.x*r,this.y+=t.y*r},e.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},e.prototype.dot=function(t){return this.x*t.x+this.y*t.y},e.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},e.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},e.prototype.distance=function(t){var r=this.x-t.x,n=this.y-t.y;return Math.sqrt(r*r+n*n)},e.prototype.distanceSquare=function(t){var r=this.x-t.x,n=this.y-t.y;return r*r+n*n},e.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},e.prototype.transform=function(t){if(t){var r=this.x,n=this.y;return this.x=t[0]*r+t[2]*n+t[4],this.y=t[1]*r+t[3]*n+t[5],this}},e.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},e.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},e.set=function(t,r,n){t.x=r,t.y=n},e.copy=function(t,r){t.x=r.x,t.y=r.y},e.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},e.lenSquare=function(t){return t.x*t.x+t.y*t.y},e.dot=function(t,r){return t.x*r.x+t.y*r.y},e.add=function(t,r,n){t.x=r.x+n.x,t.y=r.y+n.y},e.sub=function(t,r,n){t.x=r.x-n.x,t.y=r.y-n.y},e.scale=function(t,r,n){t.x=r.x*n,t.y=r.y*n},e.scaleAndAdd=function(t,r,n,i){t.x=r.x+n.x*i,t.y=r.y+n.y*i},e.lerp=function(t,r,n,i){var o=1-i;t.x=o*r.x+i*n.x,t.y=o*r.y+i*n.y},e})(),Hx=Math.min,Gx=Math.max,Kd=new $n,Yd=new $n,Jd=new $n,Qd=new $n,Jy=new $n,Qy=new $n,ln=(function(){function e(t,r,n,i){n<0&&(t=t+n,n=-n),i<0&&(r=r+i,i=-i),this.x=t,this.y=r,this.width=n,this.height=i}return e.prototype.union=function(t){var r=Hx(t.x,this.x),n=Hx(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=Gx(t.x+t.width,this.x+this.width)-r:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=Gx(t.y+t.height,this.y+this.height)-n:this.height=t.height,this.x=r,this.y=n},e.prototype.applyTransform=function(t){e.applyTransform(this,this,t)},e.prototype.calculateTransform=function(t){var r=this,n=t.width/r.width,i=t.height/r.height,o=Cg();return MA(o,o,[-r.x,-r.y]),HTe(o,o,[n,i]),MA(o,o,[t.x,t.y]),o},e.prototype.intersect=function(t,r){if(!t)return!1;t instanceof e||(t=e.create(t));var n=this,i=n.x,o=n.x+n.width,s=n.y,a=n.y+n.height,h=t.x,p=t.x+t.width,m=t.y,v=t.y+t.height,b=!(o<h||p<i||a<m||v<s);if(r){var x=1/0,C=0,I=Math.abs(o-h),A=Math.abs(p-i),R=Math.abs(a-m),k=Math.abs(v-s),$=Math.min(I,A),N=Math.min(R,k);o<h||p<i?$>C&&(C=$,I<A?$n.set(Qy,-I,0):$n.set(Qy,A,0)):$<x&&(x=$,I<A?$n.set(Jy,I,0):$n.set(Jy,-A,0)),a<m||v<s?N>C&&(C=N,R<k?$n.set(Qy,0,-R):$n.set(Qy,0,k)):$<x&&(x=$,R<k?$n.set(Jy,0,R):$n.set(Jy,0,-k))}return r&&$n.copy(r,b?Jy:Qy),b},e.prototype.contain=function(t,r){var n=this;return t>=n.x&&t<=n.x+n.width&&r>=n.y&&r<=n.y+n.height},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(t){e.copy(this,t)},e.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},e.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.isZero=function(){return this.width===0||this.height===0},e.create=function(t){return new e(t.x,t.y,t.width,t.height)},e.copy=function(t,r){t.x=r.x,t.y=r.y,t.width=r.width,t.height=r.height},e.applyTransform=function(t,r,n){if(!n){t!==r&&e.copy(t,r);return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var i=n[0],o=n[3],s=n[4],a=n[5];t.x=r.x*i+s,t.y=r.y*o+a,t.width=r.width*i,t.height=r.height*o,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}Kd.x=Jd.x=r.x,Kd.y=Qd.y=r.y,Yd.x=Qd.x=r.x+r.width,Yd.y=Jd.y=r.y+r.height,Kd.transform(n),Qd.transform(n),Yd.transform(n),Jd.transform(n),t.x=Hx(Kd.x,Yd.x,Jd.x,Qd.x),t.y=Hx(Kd.y,Yd.y,Jd.y,Qd.y);var h=Gx(Kd.x,Yd.x,Jd.x,Qd.x),p=Gx(Kd.y,Yd.y,Jd.y,Qd.y);t.width=h-t.x,t.height=p-t.y},e})(),gW="silent";function GTe(e,t,r){return{type:e,event:r,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:UTe}}function UTe(){Yg(this.event)}var WTe=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.handler=null,r}return t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t})(El),e_=(function(){function e(t,r){this.x=t,this.y=r}return e})(),qTe=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],LM=new ln(0,0,0,0),vW=(function(e){qt(t,e);function t(r,n,i,o,s){var a=e.call(this)||this;return a._hovered=new e_(0,0),a.storage=r,a.painter=n,a.painterRoot=o,a._pointerSize=s,i=i||new WTe,a.proxy=null,a.setHandlerProxy(i),a._draggingMgr=new ITe(a),a}return t.prototype.setHandlerProxy=function(r){this.proxy&&this.proxy.dispose(),r&&(Ve(qTe,function(n){r.on&&r.on(n,this[n],this)},this),r.handler=this),this.proxy=r},t.prototype.mousemove=function(r){var n=r.zrX,i=r.zrY,o=yW(this,n,i),s=this._hovered,a=s.target;a&&!a.__zr&&(s=this.findHover(s.x,s.y),a=s.target);var h=this._hovered=o?new e_(n,i):this.findHover(n,i),p=h.target,m=this.proxy;m.setCursor&&m.setCursor(p?p.cursor:"default"),a&&p!==a&&this.dispatchToElement(s,"mouseout",r),this.dispatchToElement(h,"mousemove",r),p&&p!==a&&this.dispatchToElement(h,"mouseover",r)},t.prototype.mouseout=function(r){var n=r.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",r),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:r})},t.prototype.resize=function(){this._hovered=new e_(0,0)},t.prototype.dispatch=function(r,n){var i=this[r];i&&i.call(this,n)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(r){var n=this.proxy;n.setCursor&&n.setCursor(r)},t.prototype.dispatchToElement=function(r,n,i){r=r||{};var o=r.target;if(!(o&&o.silent)){for(var s="on"+n,a=GTe(n,r,i);o&&(o[s]&&(a.cancelBubble=!!o[s].call(o,a)),o.trigger(n,a),o=o.__hostTarget?o.__hostTarget:o.parent,!a.cancelBubble););a.cancelBubble||(this.trigger(n,a),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(h){typeof h[s]=="function"&&h[s].call(h,a),h.trigger&&h.trigger(n,a)}))}},t.prototype.findHover=function(r,n,i){var o=this.storage.getDisplayList(),s=new e_(r,n);if(c4(o,s,r,n,i),this._pointerSize&&!s.target){for(var a=[],h=this._pointerSize,p=h/2,m=new ln(r-p,n-p,h,h),v=o.length-1;v>=0;v--){var b=o[v];b!==i&&!b.ignore&&!b.ignoreCoarsePointer&&(!b.parent||!b.parent.ignoreCoarsePointer)&&(LM.copy(b.getBoundingRect()),b.transform&&LM.applyTransform(b.transform),LM.intersect(m)&&a.push(b))}if(a.length)for(var x=4,C=Math.PI/12,I=Math.PI*2,A=0;A<p;A+=x)for(var R=0;R<I;R+=C){var k=r+A*Math.cos(R),$=n+A*Math.sin(R);if(c4(a,s,k,$,i),s.target)return s}}return s},t.prototype.processGesture=function(r,n){this._gestureMgr||(this._gestureMgr=new NTe);var i=this._gestureMgr;n==="start"&&i.clear();var o=i.recognize(r,this.findHover(r.zrX,r.zrY,null).target,this.proxy.dom);if(n==="end"&&i.clear(),o){var s=o.type;r.gestureEvent=s;var a=new e_;a.target=o.target,this.dispatchToElement(a,s,o.event)}},t})(El);Ve(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){vW.prototype[e]=function(t){var r=t.zrX,n=t.zrY,i=yW(this,r,n),o,s;if((e!=="mouseup"||!i)&&(o=this.findHover(r,n),s=o.target),e==="mousedown")this._downEl=s,this._downPoint=[t.zrX,t.zrY],this._upEl=s;else if(e==="mouseup")this._upEl=s;else if(e==="click"){if(this._downEl!==this._upEl||!this._downPoint||ng(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(o,e,t)}});function ZTe(e,t,r){if(e[e.rectHover?"rectContain":"contain"](t,r)){for(var n=e,i=void 0,o=!1;n;){if(n.ignoreClip&&(o=!0),!o){var s=n.getClipPath();if(s&&!s.contain(t,r))return!1}n.silent&&(i=!0);var a=n.__hostTarget;n=a||n.parent}return i?gW:!0}return!1}function c4(e,t,r,n,i){for(var o=e.length-1;o>=0;o--){var s=e[o],a=void 0;if(s!==i&&!s.ignore&&(a=ZTe(s,r,n))&&(!t.topTarget&&(t.topTarget=s),a!==gW)){t.target=s;break}}}function yW(e,t,r){var n=e.painter;return t<0||t>n.getWidth()||r<0||r>n.getHeight()}var _W=32,t_=7;function XTe(e){for(var t=0;e>=_W;)t|=e&1,e>>=1;return e+t}function h4(e,t,r,n){var i=t+1;if(i===r)return 1;if(n(e[i++],e[t])<0){for(;i<r&&n(e[i],e[i-1])<0;)i++;KTe(e,t,i)}else for(;i<r&&n(e[i],e[i-1])>=0;)i++;return i-t}function KTe(e,t,r){for(r--;t<r;){var n=e[t];e[t++]=e[r],e[r--]=n}}function d4(e,t,r,n,i){for(n===t&&n++;n<r;n++){for(var o=e[n],s=t,a=n,h;s<a;)h=s+a>>>1,i(o,e[h])<0?a=h:s=h+1;var p=n-s;switch(p){case 3:e[s+3]=e[s+2];case 2:e[s+2]=e[s+1];case 1:e[s+1]=e[s];break;default:for(;p>0;)e[s+p]=e[s+p-1],p--}e[s]=o}}function RM(e,t,r,n,i,o){var s=0,a=0,h=1;if(o(e,t[r+i])>0){for(a=n-i;h<a&&o(e,t[r+i+h])>0;)s=h,h=(h<<1)+1,h<=0&&(h=a);h>a&&(h=a),s+=i,h+=i}else{for(a=i+1;h<a&&o(e,t[r+i-h])<=0;)s=h,h=(h<<1)+1,h<=0&&(h=a);h>a&&(h=a);var p=s;s=i-h,h=i-p}for(s++;s<h;){var m=s+(h-s>>>1);o(e,t[r+m])>0?s=m+1:h=m}return h}function OM(e,t,r,n,i,o){var s=0,a=0,h=1;if(o(e,t[r+i])<0){for(a=i+1;h<a&&o(e,t[r+i-h])<0;)s=h,h=(h<<1)+1,h<=0&&(h=a);h>a&&(h=a);var p=s;s=i-h,h=i-p}else{for(a=n-i;h<a&&o(e,t[r+i+h])>=0;)s=h,h=(h<<1)+1,h<=0&&(h=a);h>a&&(h=a),s+=i,h+=i}for(s++;s<h;){var m=s+(h-s>>>1);o(e,t[r+m])<0?h=m:s=m+1}return h}function YTe(e,t){var r=t_,n,i,o=0,s=[];n=[],i=[];function a(x,C){n[o]=x,i[o]=C,o+=1}function h(){for(;o>1;){var x=o-2;if(x>=1&&i[x-1]<=i[x]+i[x+1]||x>=2&&i[x-2]<=i[x]+i[x-1])i[x-1]<i[x+1]&&x--;else if(i[x]>i[x+1])break;m(x)}}function p(){for(;o>1;){var x=o-2;x>0&&i[x-1]<i[x+1]&&x--,m(x)}}function m(x){var C=n[x],I=i[x],A=n[x+1],R=i[x+1];i[x]=I+R,x===o-3&&(n[x+1]=n[x+2],i[x+1]=i[x+2]),o--;var k=OM(e[A],e,C,I,0,t);C+=k,I-=k,I!==0&&(R=RM(e[C+I-1],e,A,R,R-1,t),R!==0&&(I<=R?v(C,I,A,R):b(C,I,A,R)))}function v(x,C,I,A){var R=0;for(R=0;R<C;R++)s[R]=e[x+R];var k=0,$=I,N=x;if(e[N++]=e[$++],--A===0){for(R=0;R<C;R++)e[N+R]=s[k+R];return}if(C===1){for(R=0;R<A;R++)e[N+R]=e[$+R];e[N+A]=s[k];return}for(var H=r,W,j,X;;){W=0,j=0,X=!1;do if(t(e[$],s[k])<0){if(e[N++]=e[$++],j++,W=0,--A===0){X=!0;break}}else if(e[N++]=s[k++],W++,j=0,--C===1){X=!0;break}while((W|j)<H);if(X)break;do{if(W=OM(e[$],s,k,C,0,t),W!==0){for(R=0;R<W;R++)e[N+R]=s[k+R];if(N+=W,k+=W,C-=W,C<=1){X=!0;break}}if(e[N++]=e[$++],--A===0){X=!0;break}if(j=RM(s[k],e,$,A,0,t),j!==0){for(R=0;R<j;R++)e[N+R]=e[$+R];if(N+=j,$+=j,A-=j,A===0){X=!0;break}}if(e[N++]=s[k++],--C===1){X=!0;break}H--}while(W>=t_||j>=t_);if(X)break;H<0&&(H=0),H+=2}if(r=H,r<1&&(r=1),C===1){for(R=0;R<A;R++)e[N+R]=e[$+R];e[N+A]=s[k]}else{if(C===0)throw new Error;for(R=0;R<C;R++)e[N+R]=s[k+R]}}function b(x,C,I,A){var R=0;for(R=0;R<A;R++)s[R]=e[I+R];var k=x+C-1,$=A-1,N=I+A-1,H=0,W=0;if(e[N--]=e[k--],--C===0){for(H=N-(A-1),R=0;R<A;R++)e[H+R]=s[R];return}if(A===1){for(N-=C,k-=C,W=N+1,H=k+1,R=C-1;R>=0;R--)e[W+R]=e[H+R];e[N]=s[$];return}for(var j=r;;){var X=0,K=0,Q=!1;do if(t(s[$],e[k])<0){if(e[N--]=e[k--],X++,K=0,--C===0){Q=!0;break}}else if(e[N--]=s[$--],K++,X=0,--A===1){Q=!0;break}while((X|K)<j);if(Q)break;do{if(X=C-OM(s[$],e,x,C,C-1,t),X!==0){for(N-=X,k-=X,C-=X,W=N+1,H=k+1,R=X-1;R>=0;R--)e[W+R]=e[H+R];if(C===0){Q=!0;break}}if(e[N--]=s[$--],--A===1){Q=!0;break}if(K=A-RM(e[k],s,0,A,A-1,t),K!==0){for(N-=K,$-=K,A-=K,W=N+1,H=$+1,R=0;R<K;R++)e[W+R]=s[H+R];if(A<=1){Q=!0;break}}if(e[N--]=e[k--],--C===0){Q=!0;break}j--}while(X>=t_||K>=t_);if(Q)break;j<0&&(j=0),j+=2}if(r=j,r<1&&(r=1),A===1){for(N-=C,k-=C,W=N+1,H=k+1,R=C-1;R>=0;R--)e[W+R]=e[H+R];e[N]=s[$]}else{if(A===0)throw new Error;for(H=N-(A-1),R=0;R<A;R++)e[H+R]=s[R]}}return{mergeRuns:h,forceMergeRuns:p,pushRun:a}}function Qw(e,t,r,n){r||(r=0),n||(n=e.length);var i=n-r;if(!(i<2)){var o=0;if(i<_W){o=h4(e,r,n,t),d4(e,r,n,r+o,t);return}var s=YTe(e,t),a=XTe(i);do{if(o=h4(e,r,n,t),o<a){var h=i;h>a&&(h=a),d4(e,r,r+h,r+o,t),o=h}s.pushRun(r,o),s.mergeRuns(),i-=o,r+=o}while(i!==0);s.forceMergeRuns()}}var ns=1,P_=2,Zm=4,f4=!1;function kM(){f4||(f4=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function p4(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var JTe=(function(){function e(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=p4}return e.prototype.traverse=function(t,r){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,r)},e.prototype.getDisplayList=function(t,r){r=r||!1;var n=this._displayList;return(t||!n.length)&&this.updateDisplayList(r),n},e.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var r=this._roots,n=this._displayList,i=0,o=r.length;i<o;i++)this._updateAndAddDisplayable(r[i],null,t);n.length=this._displayListLen,Qw(n,p4)},e.prototype._updateAndAddDisplayable=function(t,r,n){if(!(t.ignore&&!n)){t.beforeUpdate(),t.update(),t.afterUpdate();var i=t.getClipPath();if(t.ignoreClip)r=null;else if(i){r?r=r.slice():r=[];for(var o=i,s=t;o;)o.parent=s,o.updateTransform(),r.push(o),s=o,o=o.getClipPath()}if(t.childrenRef){for(var a=t.childrenRef(),h=0;h<a.length;h++){var p=a[h];t.__dirty&&(p.__dirty|=ns),this._updateAndAddDisplayable(p,r,n)}t.__dirty=0}else{var m=t;r&&r.length?m.__clipPaths=r:m.__clipPaths&&m.__clipPaths.length>0&&(m.__clipPaths=[]),isNaN(m.z)&&(kM(),m.z=0),isNaN(m.z2)&&(kM(),m.z2=0),isNaN(m.zlevel)&&(kM(),m.zlevel=0),this._displayList[this._displayListLen++]=m}var v=t.getDecalElement&&t.getDecalElement();v&&this._updateAndAddDisplayable(v,r,n);var b=t.getTextGuideLine();b&&this._updateAndAddDisplayable(b,r,n);var x=t.getTextContent();x&&this._updateAndAddDisplayable(x,r,n)}},e.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},e.prototype.delRoot=function(t){if(t instanceof Array){for(var r=0,n=t.length;r<n;r++)this.delRoot(t[r]);return}var i=sn(this._roots,t);i>=0&&this._roots.splice(i,1)},e.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},e.prototype.getRoots=function(){return this._roots},e.prototype.dispose=function(){this._displayList=null,this._roots=null},e})(),ZS;ZS=Rr.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){return setTimeout(e,16)};var e0={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return .5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return e===0?0:Math.pow(1024,e-1)},exponentialOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)))},elasticOut:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},elasticInOut:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),(e*=2)<1?-.5*(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)):r*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-e0.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?e0.bounceIn(e*2)*.5:e0.bounceOut(e*2-1)*.5+.5}},Ux=Math.pow,Fh=Math.sqrt,XS=1e-8,bW=1e-4,m4=Fh(3),Wx=1/3,ou=fv(),ks=fv(),Mg=fv();function Dh(e){return e>-XS&&e<XS}function xW(e){return e>XS||e<-XS}function Ao(e,t,r,n,i){var o=1-i;return o*o*(o*e+3*i*t)+i*i*(i*n+3*o*r)}function g4(e,t,r,n,i){var o=1-i;return 3*(((t-e)*o+2*(r-t)*i)*o+(n-r)*i*i)}function KS(e,t,r,n,i,o){var s=n+3*(t-r)-e,a=3*(r-t*2+e),h=3*(t-e),p=e-i,m=a*a-3*s*h,v=a*h-9*s*p,b=h*h-3*a*p,x=0;if(Dh(m)&&Dh(v))if(Dh(a))o[0]=0;else{var C=-h/a;C>=0&&C<=1&&(o[x++]=C)}else{var I=v*v-4*m*b;if(Dh(I)){var A=v/m,C=-a/s+A,R=-A/2;C>=0&&C<=1&&(o[x++]=C),R>=0&&R<=1&&(o[x++]=R)}else if(I>0){var k=Fh(I),$=m*a+1.5*s*(-v+k),N=m*a+1.5*s*(-v-k);$<0?$=-Ux(-$,Wx):$=Ux($,Wx),N<0?N=-Ux(-N,Wx):N=Ux(N,Wx);var C=(-a-($+N))/(3*s);C>=0&&C<=1&&(o[x++]=C)}else{var H=(2*m*a-3*s*v)/(2*Fh(m*m*m)),W=Math.acos(H)/3,j=Fh(m),X=Math.cos(W),C=(-a-2*j*X)/(3*s),R=(-a+j*(X+m4*Math.sin(W)))/(3*s),K=(-a+j*(X-m4*Math.sin(W)))/(3*s);C>=0&&C<=1&&(o[x++]=C),R>=0&&R<=1&&(o[x++]=R),K>=0&&K<=1&&(o[x++]=K)}}return x}function wW(e,t,r,n,i){var o=6*r-12*t+6*e,s=9*t+3*n-3*e-9*r,a=3*t-3*e,h=0;if(Dh(s)){if(xW(o)){var p=-a/o;p>=0&&p<=1&&(i[h++]=p)}}else{var m=o*o-4*s*a;if(Dh(m))i[0]=-o/(2*s);else if(m>0){var v=Fh(m),p=(-o+v)/(2*s),b=(-o-v)/(2*s);p>=0&&p<=1&&(i[h++]=p),b>=0&&b<=1&&(i[h++]=b)}}return h}function YS(e,t,r,n,i,o){var s=(t-e)*i+e,a=(r-t)*i+t,h=(n-r)*i+r,p=(a-s)*i+s,m=(h-a)*i+a,v=(m-p)*i+p;o[0]=e,o[1]=s,o[2]=p,o[3]=v,o[4]=v,o[5]=m,o[6]=h,o[7]=n}function QTe(e,t,r,n,i,o,s,a,h,p,m){var v,b=.005,x=1/0,C,I,A,R;ou[0]=h,ou[1]=p;for(var k=0;k<1;k+=.05)ks[0]=Ao(e,r,i,s,k),ks[1]=Ao(t,n,o,a,k),A=Tg(ou,ks),A<x&&(v=k,x=A);x=1/0;for(var $=0;$<32&&!(b<bW);$++)C=v-b,I=v+b,ks[0]=Ao(e,r,i,s,C),ks[1]=Ao(t,n,o,a,C),A=Tg(ks,ou),C>=0&&A<x?(v=C,x=A):(Mg[0]=Ao(e,r,i,s,I),Mg[1]=Ao(t,n,o,a,I),R=Tg(Mg,ou),I<=1&&R<x?(v=I,x=R):b*=.5);return Fh(x)}function eCe(e,t,r,n,i,o,s,a,h){for(var p=e,m=t,v=0,b=1/h,x=1;x<=h;x++){var C=x*b,I=Ao(e,r,i,s,C),A=Ao(t,n,o,a,C),R=I-p,k=A-m;v+=Math.sqrt(R*R+k*k),p=I,m=A}return v}function pa(e,t,r,n){var i=1-n;return i*(i*e+2*n*t)+n*n*r}function IA(e,t,r,n){return 2*((1-n)*(t-e)+n*(r-t))}function tCe(e,t,r,n,i){var o=e-2*t+r,s=2*(t-e),a=e-n,h=0;if(Dh(o)){if(xW(s)){var p=-a/s;p>=0&&p<=1&&(i[h++]=p)}}else{var m=s*s-4*o*a;if(Dh(m)){var p=-s/(2*o);p>=0&&p<=1&&(i[h++]=p)}else if(m>0){var v=Fh(m),p=(-s+v)/(2*o),b=(-s-v)/(2*o);p>=0&&p<=1&&(i[h++]=p),b>=0&&b<=1&&(i[h++]=b)}}return h}function SW(e,t,r){var n=e+r-2*t;return n===0?.5:(e-t)/n}function JS(e,t,r,n,i){var o=(t-e)*n+e,s=(r-t)*n+t,a=(s-o)*n+o;i[0]=e,i[1]=o,i[2]=a,i[3]=a,i[4]=s,i[5]=r}function rCe(e,t,r,n,i,o,s,a,h){var p,m=.005,v=1/0;ou[0]=s,ou[1]=a;for(var b=0;b<1;b+=.05){ks[0]=pa(e,r,i,b),ks[1]=pa(t,n,o,b);var x=Tg(ou,ks);x<v&&(p=b,v=x)}v=1/0;for(var C=0;C<32&&!(m<bW);C++){var I=p-m,A=p+m;ks[0]=pa(e,r,i,I),ks[1]=pa(t,n,o,I);var x=Tg(ks,ou);if(I>=0&&x<v)p=I,v=x;else{Mg[0]=pa(e,r,i,A),Mg[1]=pa(t,n,o,A);var R=Tg(Mg,ou);A<=1&&R<v?(p=A,v=R):m*=.5}}return Fh(v)}function nCe(e,t,r,n,i,o,s){for(var a=e,h=t,p=0,m=1/s,v=1;v<=s;v++){var b=v*m,x=pa(e,r,i,b),C=pa(t,n,o,b),I=x-a,A=C-h;p+=Math.sqrt(I*I+A*A),a=x,h=C}return p}var iCe=/cubic-bezier\(([0-9,\.e ]+)\)/;function YR(e){var t=e&&iCe.exec(e);if(t){var r=t[1].split(","),n=+lu(r[0]),i=+lu(r[1]),o=+lu(r[2]),s=+lu(r[3]);if(isNaN(n+i+o+s))return;var a=[];return function(h){return h<=0?0:h>=1?1:KS(0,n,o,1,h,a)&&Ao(0,i,s,1,a[0])}}}var oCe=(function(){function e(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||Qo,this.ondestroy=t.ondestroy||Qo,this.onrestart=t.onrestart||Qo,t.easing&&this.setEasing(t.easing)}return e.prototype.step=function(t,r){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=r;return}var n=this._life,i=t-this._startTime-this._pausedTime,o=i/n;o<0&&(o=0),o=Math.min(o,1);var s=this.easingFunc,a=s?s(o):o;if(this.onframe(a),o===1)if(this.loop){var h=i%n;this._startTime=t-h,this._pausedTime=0,this.onrestart()}else return!0;return!1},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1},e.prototype.setEasing=function(t){this.easing=t,this.easingFunc=br(t)?t:e0[t]||YR(t)},e})(),TW=(function(){function e(t){this.value=t}return e})(),aCe=(function(){function e(){this._len=0}return e.prototype.insert=function(t){var r=new TW(t);return this.insertEntry(r),r},e.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},e.prototype.remove=function(t){var r=t.prev,n=t.next;r?r.next=n:this.head=n,n?n.prev=r:this.tail=r,t.next=t.prev=null,this._len--},e.prototype.len=function(){return this._len},e.prototype.clear=function(){this.head=this.tail=null,this._len=0},e})(),Pb=(function(){function e(t){this._list=new aCe,this._maxSize=10,this._map={},this._maxSize=t}return e.prototype.put=function(t,r){var n=this._list,i=this._map,o=null;if(i[t]==null){var s=n.len(),a=this._lastRemovedEntry;if(s>=this._maxSize&&s>0){var h=n.head;n.remove(h),delete i[h.key],o=h.value,this._lastRemovedEntry=h}a?a.value=r:a=new TW(r),a.key=t,n.insertEntry(a),i[t]=a}return o},e.prototype.get=function(t){var r=this._map[t],n=this._list;if(r!=null)return r!==n.tail&&(n.remove(r),n.insertEntry(r)),r.value},e.prototype.clear=function(){this._list.clear(),this._map={}},e.prototype.len=function(){return this._list.len()},e})(),v4={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Nh(e){return e=Math.round(e),e<0?0:e>255?255:e}function EA(e){return e<0?0:e>1?1:e}function $M(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?Nh(parseFloat(t)/100*255):Nh(parseInt(t,10))}function t0(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?EA(parseFloat(t)/100):EA(parseFloat(t))}function zM(e,t,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?e+(t-e)*r*6:r*2<1?t:r*3<2?e+(t-e)*(2/3-r)*6:e}function qx(e,t,r){return e+(t-e)*r}function Es(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function AA(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var CW=new Pb(20),Zx=null;function Em(e,t){Zx&&AA(Zx,t),Zx=CW.put(e,Zx||t.slice())}function du(e,t){if(e){t=t||[];var r=CW.get(e);if(r)return AA(t,r);e=e+"";var n=e.replace(/ /g,"").toLowerCase();if(n in v4)return AA(t,v4[n]),Em(e,t),t;var i=n.length;if(n.charAt(0)==="#"){if(i===4||i===5){var o=parseInt(n.slice(1,4),16);if(!(o>=0&&o<=4095)){Es(t,0,0,0,1);return}return Es(t,(o&3840)>>4|(o&3840)>>8,o&240|(o&240)>>4,o&15|(o&15)<<4,i===5?parseInt(n.slice(4),16)/15:1),Em(e,t),t}else if(i===7||i===9){var o=parseInt(n.slice(1,7),16);if(!(o>=0&&o<=16777215)){Es(t,0,0,0,1);return}return Es(t,(o&16711680)>>16,(o&65280)>>8,o&255,i===9?parseInt(n.slice(7),16)/255:1),Em(e,t),t}return}var s=n.indexOf("("),a=n.indexOf(")");if(s!==-1&&a+1===i){var h=n.substr(0,s),p=n.substr(s+1,a-(s+1)).split(","),m=1;switch(h){case"rgba":if(p.length!==4)return p.length===3?Es(t,+p[0],+p[1],+p[2],1):Es(t,0,0,0,1);m=t0(p.pop());case"rgb":if(p.length>=3)return Es(t,$M(p[0]),$M(p[1]),$M(p[2]),p.length===3?m:t0(p[3])),Em(e,t),t;Es(t,0,0,0,1);return;case"hsla":if(p.length!==4){Es(t,0,0,0,1);return}return p[3]=t0(p[3]),y4(p,t),Em(e,t),t;case"hsl":if(p.length!==3){Es(t,0,0,0,1);return}return y4(p,t),Em(e,t),t;default:return}}Es(t,0,0,0,1)}}function y4(e,t){var r=(parseFloat(e[0])%360+360)%360/360,n=t0(e[1]),i=t0(e[2]),o=i<=.5?i*(n+1):i+n-i*n,s=i*2-o;return t=t||[],Es(t,Nh(zM(s,o,r+1/3)*255),Nh(zM(s,o,r)*255),Nh(zM(s,o,r-1/3)*255),1),e.length===4&&(t[3]=e[3]),t}function _4(e,t){var r=du(e);if(r){for(var n=0;n<3;n++)r[n]=r[n]*(1-t)|0,r[n]>255?r[n]=255:r[n]<0&&(r[n]=0);return yT(r,r.length===4?"rgba":"rgb")}}function sCe(e,t,r){if(!(!(t&&t.length)||!(e>=0&&e<=1))){var n=e*(t.length-1),i=Math.floor(n),o=Math.ceil(n),s=du(t[i]),a=du(t[o]),h=n-i,p=yT([Nh(qx(s[0],a[0],h)),Nh(qx(s[1],a[1],h)),Nh(qx(s[2],a[2],h)),EA(qx(s[3],a[3],h))],"rgba");return r?{color:p,leftIndex:i,rightIndex:o,value:n}:p}}function yT(e,t){if(!(!e||!e.length)){var r=e[0]+","+e[1]+","+e[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(r+=","+e[3]),t+"("+r+")"}}function QS(e,t){var r=du(e);return r?(.299*r[0]+.587*r[1]+.114*r[2])*r[3]/255+(1-r[3])*t:0}var b4=new Pb(100);function DA(e){if(cr(e)){var t=b4.get(e);return t||(t=_4(e,-.1),b4.put(e,t)),t}else if(gT(e)){var r=Kt({},e);return r.colorStops=fr(e.colorStops,function(n){return{offset:n.offset,color:_4(n.color,-.1)}}),r}return e}var e2=Math.round;function z0(e){var t;if(!e||e==="transparent")e="none";else if(typeof e=="string"&&e.indexOf("rgba")>-1){var r=du(e);r&&(e="rgb("+r[0]+","+r[1]+","+r[2]+")",t=r[3])}return{color:e,opacity:t??1}}var x4=1e-4;function Lh(e){return e<x4&&e>-x4}function Xx(e){return e2(e*1e3)/1e3}function LA(e){return e2(e*1e4)/1e4}function lCe(e){return"matrix("+Xx(e[0])+","+Xx(e[1])+","+Xx(e[2])+","+Xx(e[3])+","+LA(e[4])+","+LA(e[5])+")"}var uCe={left:"start",right:"end",center:"middle",middle:"middle"};function cCe(e,t,r){return r==="top"?e+=t/2:r==="bottom"&&(e-=t/2),e}function hCe(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY)}function dCe(e){var t=e.style,r=e.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),r[0],r[1]].join(",")}function PW(e){return e&&!!e.image}function fCe(e){return e&&!!e.svgElement}function JR(e){return PW(e)||fCe(e)}function MW(e){return e.type==="linear"}function IW(e){return e.type==="radial"}function EW(e){return e&&(e.type==="linear"||e.type==="radial")}function _T(e){return"url(#"+e+")"}function AW(e){var t=e.getGlobalScale(),r=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(r)/Math.log(10)),1)}function DW(e){var t=e.x||0,r=e.y||0,n=(e.rotation||0)*Jw,i=$r(e.scaleX,1),o=$r(e.scaleY,1),s=e.skewX||0,a=e.skewY||0,h=[];return(t||r)&&h.push("translate("+t+"px,"+r+"px)"),n&&h.push("rotate("+n+")"),(i!==1||o!==1)&&h.push("scale("+i+","+o+")"),(s||a)&&h.push("skew("+e2(s*Jw)+"deg, "+e2(a*Jw)+"deg)"),h.join(" ")}var pCe=(function(){return Rr.hasGlobalWindow&&br(window.btoa)?function(e){return window.btoa(unescape(encodeURIComponent(e)))}:typeof Buffer<"u"?function(e){return Buffer.from(e).toString("base64")}:function(e){return null}})(),RA=Array.prototype.slice;function rc(e,t,r){return(t-e)*r+e}function BM(e,t,r,n){for(var i=t.length,o=0;o<i;o++)e[o]=rc(t[o],r[o],n);return e}function mCe(e,t,r,n){for(var i=t.length,o=i&&t[0].length,s=0;s<i;s++){e[s]||(e[s]=[]);for(var a=0;a<o;a++)e[s][a]=rc(t[s][a],r[s][a],n)}return e}function Kx(e,t,r,n){for(var i=t.length,o=0;o<i;o++)e[o]=t[o]+r[o]*n;return e}function w4(e,t,r,n){for(var i=t.length,o=i&&t[0].length,s=0;s<i;s++){e[s]||(e[s]=[]);for(var a=0;a<o;a++)e[s][a]=t[s][a]+r[s][a]*n}return e}function gCe(e,t){for(var r=e.length,n=t.length,i=r>n?t:e,o=Math.min(r,n),s=i[o-1]||{color:[0,0,0,0],offset:0},a=o;a<Math.max(r,n);a++)i.push({offset:s.offset,color:s.color.slice()})}function vCe(e,t,r){var n=e,i=t;if(!(!n.push||!i.push)){var o=n.length,s=i.length;if(o!==s){var a=o>s;if(a)n.length=s;else for(var h=o;h<s;h++)n.push(r===1?i[h]:RA.call(i[h]))}for(var p=n[0]&&n[0].length,h=0;h<n.length;h++)if(r===1)isNaN(n[h])&&(n[h]=i[h]);else for(var m=0;m<p;m++)isNaN(n[h][m])&&(n[h][m]=i[h][m])}}function eS(e){if($a(e)){var t=e.length;if($a(e[0])){for(var r=[],n=0;n<t;n++)r.push(RA.call(e[n]));return r}return RA.call(e)}return e}function tS(e){return e[0]=Math.floor(e[0])||0,e[1]=Math.floor(e[1])||0,e[2]=Math.floor(e[2])||0,e[3]=e[3]==null?1:e[3],"rgba("+e.join(",")+")"}function yCe(e){return $a(e&&e[0])?2:1}var Yx=0,rS=1,LW=2,M_=3,OA=4,kA=5,S4=6;function T4(e){return e===OA||e===kA}function Jx(e){return e===rS||e===LW}var r_=[0,0,0,0],_Ce=(function(){function e(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return e.prototype.isFinished=function(){return this._finished},e.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},e.prototype.needsAnimate=function(){return this.keyframes.length>=1},e.prototype.getAdditiveTrack=function(){return this._additiveTrack},e.prototype.addKeyframe=function(t,r,n){this._needsSort=!0;var i=this.keyframes,o=i.length,s=!1,a=S4,h=r;if($a(r)){var p=yCe(r);a=p,(p===1&&!ni(r[0])||p===2&&!ni(r[0][0]))&&(s=!0)}else if(ni(r)&&!qS(r))a=Yx;else if(cr(r))if(!isNaN(+r))a=Yx;else{var m=du(r);m&&(h=m,a=M_)}else if(gT(r)){var v=Kt({},h);v.colorStops=fr(r.colorStops,function(x){return{offset:x.offset,color:du(x.color)}}),MW(r)?a=OA:IW(r)&&(a=kA),h=v}o===0?this.valType=a:(a!==this.valType||a===S4)&&(s=!0),this.discrete=this.discrete||s;var b={time:t,value:h,rawValue:r,percent:0};return n&&(b.easing=n,b.easingFunc=br(n)?n:e0[n]||YR(n)),i.push(b),b},e.prototype.prepare=function(t,r){var n=this.keyframes;this._needsSort&&n.sort(function(I,A){return I.time-A.time});for(var i=this.valType,o=n.length,s=n[o-1],a=this.discrete,h=Jx(i),p=T4(i),m=0;m<o;m++){var v=n[m],b=v.value,x=s.value;v.percent=v.time/t,a||(h&&m!==o-1?vCe(b,x,i):p&&gCe(b.colorStops,x.colorStops))}if(!a&&i!==kA&&r&&this.needsAnimate()&&r.needsAnimate()&&i===r.valType&&!r._finished){this._additiveTrack=r;for(var C=n[0].value,m=0;m<o;m++)i===Yx?n[m].additiveValue=n[m].value-C:i===M_?n[m].additiveValue=Kx([],n[m].value,C,-1):Jx(i)&&(n[m].additiveValue=i===rS?Kx([],n[m].value,C,-1):w4([],n[m].value,C,-1))}},e.prototype.step=function(t,r){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,i=n?"additiveValue":"value",o=this.valType,s=this.keyframes,a=s.length,h=this.propName,p=o===M_,m,v=this._lastFr,b=Math.min,x,C;if(a===1)x=C=s[0];else{if(r<0)m=0;else if(r<this._lastFrP){var I=b(v+1,a-1);for(m=I;m>=0&&!(s[m].percent<=r);m--);m=b(m,a-2)}else{for(m=v;m<a&&!(s[m].percent>r);m++);m=b(m-1,a-2)}C=s[m+1],x=s[m]}if(x&&C){this._lastFr=m,this._lastFrP=r;var A=C.percent-x.percent,R=A===0?1:b((r-x.percent)/A,1);C.easingFunc&&(R=C.easingFunc(R));var k=n?this._additiveValue:p?r_:t[h];if((Jx(o)||p)&&!k&&(k=this._additiveValue=[]),this.discrete)t[h]=R<1?x.rawValue:C.rawValue;else if(Jx(o))o===rS?BM(k,x[i],C[i],R):mCe(k,x[i],C[i],R);else if(T4(o)){var $=x[i],N=C[i],H=o===OA;t[h]={type:H?"linear":"radial",x:rc($.x,N.x,R),y:rc($.y,N.y,R),colorStops:fr($.colorStops,function(j,X){var K=N.colorStops[X];return{offset:rc(j.offset,K.offset,R),color:tS(BM([],j.color,K.color,R))}}),global:N.global},H?(t[h].x2=rc($.x2,N.x2,R),t[h].y2=rc($.y2,N.y2,R)):t[h].r=rc($.r,N.r,R)}else if(p)BM(k,x[i],C[i],R),n||(t[h]=tS(k));else{var W=rc(x[i],C[i],R);n?this._additiveValue=W:t[h]=W}n&&this._addToTarget(t)}}},e.prototype._addToTarget=function(t){var r=this.valType,n=this.propName,i=this._additiveValue;r===Yx?t[n]=t[n]+i:r===M_?(du(t[n],r_),Kx(r_,r_,i,1),t[n]=tS(r_)):r===rS?Kx(t[n],t[n],i,1):r===LW&&w4(t[n],t[n],i,1)},e})(),QR=(function(){function e(t,r,n,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=r,r&&i){GR("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=n}return e.prototype.getMaxTime=function(){return this._maxTime},e.prototype.getDelay=function(){return this._delay},e.prototype.getLoop=function(){return this._loop},e.prototype.getTarget=function(){return this._target},e.prototype.changeTarget=function(t){this._target=t},e.prototype.when=function(t,r,n){return this.whenWithKeys(t,r,on(r),n)},e.prototype.whenWithKeys=function(t,r,n,i){for(var o=this._tracks,s=0;s<n.length;s++){var a=n[s],h=o[a];if(!h){h=o[a]=new _Ce(a);var p=void 0,m=this._getAdditiveTrack(a);if(m){var v=m.keyframes,b=v[v.length-1];p=b&&b.value,m.valType===M_&&p&&(p=tS(p))}else p=this._target[a];if(p==null)continue;t>0&&h.addKeyframe(0,eS(p),i),this._trackKeys.push(a)}h.addKeyframe(t,eS(r[a]),i)}return this._maxTime=Math.max(this._maxTime,t),this},e.prototype.pause=function(){this._clip.pause(),this._paused=!0},e.prototype.resume=function(){this._clip.resume(),this._paused=!1},e.prototype.isPaused=function(){return!!this._paused},e.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},e.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var r=t.length,n=0;n<r;n++)t[n].call(this)},e.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,r=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,r)for(var n=0;n<r.length;n++)r[n].call(this)},e.prototype._setTracksFinished=function(){for(var t=this._tracks,r=this._trackKeys,n=0;n<r.length;n++)t[r[n]].setFinished()},e.prototype._getAdditiveTrack=function(t){var r,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var o=n[i].getTrack(t);o&&(r=o)}return r},e.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var r=this,n=[],i=this._maxTime||0,o=0;o<this._trackKeys.length;o++){var s=this._trackKeys[o],a=this._tracks[s],h=this._getAdditiveTrack(s),p=a.keyframes,m=p.length;if(a.prepare(i,h),a.needsAnimate())if(!this._allowDiscrete&&a.discrete){var v=p[m-1];v&&(r._target[a.propName]=v.rawValue),a.setFinished()}else n.push(a)}if(n.length||this._force){var b=new oCe({life:i,loop:this._loop,delay:this._delay||0,onframe:function(x){r._started=2;var C=r._additiveAnimators;if(C){for(var I=!1,A=0;A<C.length;A++)if(C[A]._clip){I=!0;break}I||(r._additiveAnimators=null)}for(var A=0;A<n.length;A++)n[A].step(r._target,x);var R=r._onframeCbs;if(R)for(var A=0;A<R.length;A++)R[A](r._target,x)},ondestroy:function(){r._doneCallback()}});this._clip=b,this.animation&&this.animation.addClip(b),t&&b.setEasing(t)}else this._doneCallback();return this}},e.prototype.stop=function(t){if(this._clip){var r=this._clip;t&&r.onframe(1),this._abortedCallback()}},e.prototype.delay=function(t){return this._delay=t,this},e.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},e.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},e.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},e.prototype.getClip=function(){return this._clip},e.prototype.getTrack=function(t){return this._tracks[t]},e.prototype.getTracks=function(){var t=this;return fr(this._trackKeys,function(r){return t._tracks[r]})},e.prototype.stopTracks=function(t,r){if(!t.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,o=0;o<t.length;o++){var s=n[t[o]];s&&!s.isFinished()&&(r?s.step(this._target,1):this._started===1&&s.step(this._target,0),s.setFinished())}for(var a=!0,o=0;o<i.length;o++)if(!n[i[o]].isFinished()){a=!1;break}return a&&this._abortedCallback(),a},e.prototype.saveTo=function(t,r,n){if(t){r=r||this._trackKeys;for(var i=0;i<r.length;i++){var o=r[i],s=this._tracks[o];if(!(!s||s.isFinished())){var a=s.keyframes,h=a[n?0:a.length-1];h&&(t[o]=eS(h.rawValue))}}}},e.prototype.__changeFinalValue=function(t,r){r=r||on(t);for(var n=0;n<r.length;n++){var i=r[n],o=this._tracks[i];if(o){var s=o.keyframes;if(s.length>1){var a=s.pop();o.addKeyframe(a.time,t[i]),o.prepare(this._maxTime,o.getAdditiveTrack())}}}},e})();function ag(){return new Date().getTime()}var bCe=(function(e){qt(t,e);function t(r){var n=e.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,r=r||{},n.stage=r.stage||{},n}return t.prototype.addClip=function(r){r.animation&&this.removeClip(r),this._head?(this._tail.next=r,r.prev=this._tail,r.next=null,this._tail=r):this._head=this._tail=r,r.animation=this},t.prototype.addAnimator=function(r){r.animation=this;var n=r.getClip();n&&this.addClip(n)},t.prototype.removeClip=function(r){if(r.animation){var n=r.prev,i=r.next;n?n.next=i:this._head=i,i?i.prev=n:this._tail=n,r.next=r.prev=r.animation=null}},t.prototype.removeAnimator=function(r){var n=r.getClip();n&&this.removeClip(n),r.animation=null},t.prototype.update=function(r){for(var n=ag()-this._pausedTime,i=n-this._time,o=this._head;o;){var s=o.next,a=o.step(n,i);a&&(o.ondestroy(),this.removeClip(o)),o=s}this._time=n,r||(this.trigger("frame",i),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var r=this;this._running=!0;function n(){r._running&&(ZS(n),!r._paused&&r.update())}ZS(n)},t.prototype.start=function(){this._running||(this._time=ag(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=ag(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=ag()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var r=this._head;r;){var n=r.next;r.prev=r.next=r.animation=null,r=n}this._head=this._tail=null},t.prototype.isFinished=function(){return this._head==null},t.prototype.animate=function(r,n){n=n||{},this.start();var i=new QR(r,n.loop);return this.addAnimator(i),i},t})(El),xCe=300,FM=Rr.domSupported,NM=(function(){var e=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=fr(e,function(i){var o=i.replace("mouse","pointer");return r.hasOwnProperty(o)?o:i});return{mouse:e,touch:t,pointer:n}})(),C4={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},P4=!1;function $A(e){var t=e.pointerType;return t==="pen"||t==="touch"}function wCe(e){e.touching=!0,e.touchTimer!=null&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)}function VM(e){e&&(e.zrByTouch=!0)}function SCe(e,t){return Ds(e.dom,new TCe(e,t),!0)}function RW(e,t){for(var r=t,n=!1;r&&r.nodeType!==9&&!(n=r.domBelongToZr||r!==t&&r===e.painterRoot);)r=r.parentNode;return n}var TCe=(function(){function e(t,r){this.stopPropagation=Qo,this.stopImmediatePropagation=Qo,this.preventDefault=Qo,this.type=r.type,this.target=this.currentTarget=t.dom,this.pointerType=r.pointerType,this.clientX=r.clientX,this.clientY=r.clientY}return e})(),dl={mousedown:function(e){e=Ds(this.dom,e),this.__mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=Ds(this.dom,e);var t=this.__mayPointerCapture;t&&(e.zrX!==t[0]||e.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",e)},mouseup:function(e){e=Ds(this.dom,e),this.__togglePointerCapture(!1),this.trigger("mouseup",e)},mouseout:function(e){e=Ds(this.dom,e);var t=e.toElement||e.relatedTarget;RW(this,t)||(this.__pointerCapturing&&(e.zrEventControl="no_globalout"),this.trigger("mouseout",e))},wheel:function(e){P4=!0,e=Ds(this.dom,e),this.trigger("mousewheel",e)},mousewheel:function(e){P4||(e=Ds(this.dom,e),this.trigger("mousewheel",e))},touchstart:function(e){e=Ds(this.dom,e),VM(e),this.__lastTouchMoment=new Date,this.handler.processGesture(e,"start"),dl.mousemove.call(this,e),dl.mousedown.call(this,e)},touchmove:function(e){e=Ds(this.dom,e),VM(e),this.handler.processGesture(e,"change"),dl.mousemove.call(this,e)},touchend:function(e){e=Ds(this.dom,e),VM(e),this.handler.processGesture(e,"end"),dl.mouseup.call(this,e),+new Date-+this.__lastTouchMoment<xCe&&dl.click.call(this,e)},pointerdown:function(e){dl.mousedown.call(this,e)},pointermove:function(e){$A(e)||dl.mousemove.call(this,e)},pointerup:function(e){dl.mouseup.call(this,e)},pointerout:function(e){$A(e)||dl.mouseout.call(this,e)}};Ve(["click","dblclick","contextmenu"],function(e){dl[e]=function(t){t=Ds(this.dom,t),this.trigger(e,t)}});var zA={pointermove:function(e){$A(e)||zA.mousemove.call(this,e)},pointerup:function(e){zA.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function CCe(e,t){var r=t.domHandlers;Rr.pointerEventsSupported?Ve(NM.pointer,function(n){nS(t,n,function(i){r[n].call(e,i)})}):(Rr.touchEventsSupported&&Ve(NM.touch,function(n){nS(t,n,function(i){r[n].call(e,i),wCe(t)})}),Ve(NM.mouse,function(n){nS(t,n,function(i){i=qR(i),t.touching||r[n].call(e,i)})}))}function PCe(e,t){Rr.pointerEventsSupported?Ve(C4.pointer,r):Rr.touchEventsSupported||Ve(C4.mouse,r);function r(n){function i(o){o=qR(o),RW(e,o.target)||(o=SCe(e,o),t.domHandlers[n].call(e,o))}nS(t,n,i,{capture:!0})}}function nS(e,t,r,n){e.mounted[t]=r,e.listenerOpts[t]=n,BTe(e.domTarget,t,r,n)}function jM(e){var t=e.mounted;for(var r in t)t.hasOwnProperty(r)&&FTe(e.domTarget,r,t[r],e.listenerOpts[r]);e.mounted={}}var M4=(function(){function e(t,r){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=r}return e})(),MCe=(function(e){qt(t,e);function t(r,n){var i=e.call(this)||this;return i.__pointerCapturing=!1,i.dom=r,i.painterRoot=n,i._localHandlerScope=new M4(r,dl),FM&&(i._globalHandlerScope=new M4(document,zA)),CCe(i,i._localHandlerScope),i}return t.prototype.dispose=function(){jM(this._localHandlerScope),FM&&jM(this._globalHandlerScope)},t.prototype.setCursor=function(r){this.dom.style&&(this.dom.style.cursor=r||"default")},t.prototype.__togglePointerCapture=function(r){if(this.__mayPointerCapture=null,FM&&+this.__pointerCapturing^+r){this.__pointerCapturing=r;var n=this._globalHandlerScope;r?PCe(this,n):jM(n)}},t})(El),OW=1;Rr.hasGlobalWindow&&(OW=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var t2=OW,BA=.4,FA="#333",NA="#ccc",ICe="#eee",I4=ZR,E4=5e-5;function ef(e){return e>E4||e<-E4}var tf=[],Am=[],HM=Cg(),GM=Math.abs,eO=(function(){function e(){}return e.prototype.getLocalTransform=function(t){return e.getLocalTransform(this,t)},e.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},e.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},e.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},e.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},e.prototype.needLocalTransform=function(){return ef(this.rotation)||ef(this.x)||ef(this.y)||ef(this.scaleX-1)||ef(this.scaleY-1)||ef(this.skewX)||ef(this.skewY)},e.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,r=this.needLocalTransform(),n=this.transform;if(!(r||t)){n&&(I4(n),this.invTransform=null);return}n=n||Cg(),r?this.getLocalTransform(n):I4(n),t&&(r?Pg(n,t,n):jTe(n,t)),this.transform=n,this._resolveGlobalScaleRatio(n)},e.prototype._resolveGlobalScaleRatio=function(t){var r=this.globalScaleRatio;if(r!=null&&r!==1){this.getGlobalScale(tf);var n=tf[0]<0?-1:1,i=tf[1]<0?-1:1,o=((tf[0]-n)*r+n)/tf[0]||0,s=((tf[1]-i)*r+i)/tf[1]||0;t[0]*=o,t[1]*=o,t[2]*=s,t[3]*=s}this.invTransform=this.invTransform||Cg(),KR(this.invTransform,t)},e.prototype.getComputedTransform=function(){for(var t=this,r=[];t;)r.push(t),t=t.parent;for(;t=r.pop();)t.updateTransform();return this.transform},e.prototype.setLocalTransform=function(t){if(t){var r=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],i=Math.atan2(t[1],t[0]),o=Math.PI/2+i-Math.atan2(t[3],t[2]);n=Math.sqrt(n)*Math.cos(o),r=Math.sqrt(r),this.skewX=o,this.skewY=0,this.rotation=-i,this.x=+t[4],this.y=+t[5],this.scaleX=r,this.scaleY=n,this.originX=0,this.originY=0}},e.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,r=this.transform;t&&t.transform&&(t.invTransform=t.invTransform||Cg(),Pg(Am,t.invTransform,r),r=Am);var n=this.originX,i=this.originY;(n||i)&&(HM[4]=n,HM[5]=i,Pg(Am,r,HM),Am[4]-=n,Am[5]-=i,r=Am),this.setLocalTransform(r)}},e.prototype.getGlobalScale=function(t){var r=this.transform;return t=t||[],r?(t[0]=Math.sqrt(r[0]*r[0]+r[1]*r[1]),t[1]=Math.sqrt(r[2]*r[2]+r[3]*r[3]),r[0]<0&&(t[0]=-t[0]),r[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},e.prototype.transformCoordToLocal=function(t,r){var n=[t,r],i=this.invTransform;return i&&Vs(n,n,i),n},e.prototype.transformCoordToGlobal=function(t,r){var n=[t,r],i=this.transform;return i&&Vs(n,n,i),n},e.prototype.getLineScale=function(){var t=this.transform;return t&&GM(t[0]-1)>1e-10&&GM(t[3]-1)>1e-10?Math.sqrt(GM(t[0]*t[3]-t[2]*t[1])):1},e.prototype.copyTransform=function(t){kW(this,t)},e.getLocalTransform=function(t,r){r=r||[];var n=t.originX||0,i=t.originY||0,o=t.scaleX,s=t.scaleY,a=t.anchorX,h=t.anchorY,p=t.rotation||0,m=t.x,v=t.y,b=t.skewX?Math.tan(t.skewX):0,x=t.skewY?Math.tan(-t.skewY):0;if(n||i||a||h){var C=n+a,I=i+h;r[4]=-C*o-b*I*s,r[5]=-I*s-x*C*o}else r[4]=r[5]=0;return r[0]=o,r[3]=s,r[1]=x*o,r[2]=b*s,p&&XR(r,r,p),r[4]+=n+m,r[5]+=i+v,r},e.initDefaultProps=(function(){var t=e.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0})(),e})(),B0=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function kW(e,t){for(var r=0;r<B0.length;r++){var n=B0[r];e[n]=t[n]}}var A4={};function ss(e,t){t=t||qh;var r=A4[t];r||(r=A4[t]=new Pb(500));var n=r.get(e);return n==null&&(n=hv.measureText(e,t).width,r.put(e,n)),n}function D4(e,t,r,n){var i=ss(e,t),o=bT(t),s=I_(0,i,r),a=Xm(0,o,n),h=new ln(s,a,i,o);return h}function tO(e,t,r,n){var i=((e||"")+"").split(`
`),o=i.length;if(o===1)return D4(i[0],t,r,n);for(var s=new ln(0,0,0,0),a=0;a<i.length;a++){var h=D4(i[a],t,r,n);a===0?s.copy(h):s.union(h)}return s}function I_(e,t,r){return r==="right"?e-=t:r==="center"&&(e-=t/2),e}function Xm(e,t,r){return r==="middle"?e-=t/2:r==="bottom"&&(e-=t),e}function bT(e){return ss("",e)}function np(e,t){return typeof e=="string"?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function $W(e,t,r){var n=t.position||"inside",i=t.distance!=null?t.distance:5,o=r.height,s=r.width,a=o/2,h=r.x,p=r.y,m="left",v="top";if(n instanceof Array)h+=np(n[0],r.width),p+=np(n[1],r.height),m=null,v=null;else switch(n){case"left":h-=i,p+=a,m="right",v="middle";break;case"right":h+=i+s,p+=a,v="middle";break;case"top":h+=s/2,p-=i,m="center",v="bottom";break;case"bottom":h+=s/2,p+=o+i,m="center";break;case"inside":h+=s/2,p+=a,m="center",v="middle";break;case"insideLeft":h+=i,p+=a,v="middle";break;case"insideRight":h+=s-i,p+=a,m="right",v="middle";break;case"insideTop":h+=s/2,p+=i,m="center";break;case"insideBottom":h+=s/2,p+=o-i,m="center",v="bottom";break;case"insideTopLeft":h+=i,p+=i;break;case"insideTopRight":h+=s-i,p+=i,m="right";break;case"insideBottomLeft":h+=i,p+=o-i,v="bottom";break;case"insideBottomRight":h+=s-i,p+=o-i,m="right",v="bottom";break}return e=e||{},e.x=h,e.y=p,e.align=m,e.verticalAlign=v,e}var UM="__zr_normal__",WM=B0.concat(["ignore"]),ECe=dv(B0,function(e,t){return e[t]=!0,e},{ignore:!1}),Dm={},ACe=new ln(0,0,0,0),xT=(function(){function e(t){this.id=uW(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return e.prototype._init=function(t){this.attr(t)},e.prototype.drift=function(t,r,n){switch(this.draggable){case"horizontal":r=0;break;case"vertical":t=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=r,this.decomposeTransform(),this.markRedraw()},e.prototype.beforeUpdate=function(){},e.prototype.afterUpdate=function(){},e.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},e.prototype.updateInnerText=function(t){var r=this._textContent;if(r&&(!r.ignore||t)){this.textConfig||(this.textConfig={});var n=this.textConfig,i=n.local,o=r.innerTransformable,s=void 0,a=void 0,h=!1;o.parent=i?this:null;var p=!1;if(o.copyTransform(r),n.position!=null){var m=ACe;n.layoutRect?m.copy(n.layoutRect):m.copy(this.getBoundingRect()),i||m.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Dm,n,m):$W(Dm,n,m),o.x=Dm.x,o.y=Dm.y,s=Dm.align,a=Dm.verticalAlign;var v=n.origin;if(v&&n.rotation!=null){var b=void 0,x=void 0;v==="center"?(b=m.width*.5,x=m.height*.5):(b=np(v[0],m.width),x=np(v[1],m.height)),p=!0,o.originX=-o.x+b+(i?0:m.x),o.originY=-o.y+x+(i?0:m.y)}}n.rotation!=null&&(o.rotation=n.rotation);var C=n.offset;C&&(o.x+=C[0],o.y+=C[1],p||(o.originX=-C[0],o.originY=-C[1]));var I=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,A=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),R=void 0,k=void 0,$=void 0;I&&this.canBeInsideText()?(R=n.insideFill,k=n.insideStroke,(R==null||R==="auto")&&(R=this.getInsideTextFill()),(k==null||k==="auto")&&(k=this.getInsideTextStroke(R),$=!0)):(R=n.outsideFill,k=n.outsideStroke,(R==null||R==="auto")&&(R=this.getOutsideFill()),(k==null||k==="auto")&&(k=this.getOutsideStroke(R),$=!0)),R=R||"#000",(R!==A.fill||k!==A.stroke||$!==A.autoStroke||s!==A.align||a!==A.verticalAlign)&&(h=!0,A.fill=R,A.stroke=k,A.autoStroke=$,A.align=s,A.verticalAlign=a,r.setDefaultTextStyle(A)),r.__dirty|=ns,h&&r.dirtyStyle(!0)}},e.prototype.canBeInsideText=function(){return!0},e.prototype.getInsideTextFill=function(){return"#fff"},e.prototype.getInsideTextStroke=function(t){return"#000"},e.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?NA:FA},e.prototype.getOutsideStroke=function(t){var r=this.__zr&&this.__zr.getBackgroundColor(),n=typeof r=="string"&&du(r);n||(n=[255,255,255,1]);for(var i=n[3],o=this.__zr.isDarkMode(),s=0;s<3;s++)n[s]=n[s]*i+(o?0:255)*(1-i);return n[3]=1,yT(n,"rgba")},e.prototype.traverse=function(t,r){},e.prototype.attrKV=function(t,r){t==="textConfig"?this.setTextConfig(r):t==="textContent"?this.setTextContent(r):t==="clipPath"?this.setClipPath(r):t==="extra"?(this.extra=this.extra||{},Kt(this.extra,r)):this[t]=r},e.prototype.hide=function(){this.ignore=!0,this.markRedraw()},e.prototype.show=function(){this.ignore=!1,this.markRedraw()},e.prototype.attr=function(t,r){if(typeof t=="string")this.attrKV(t,r);else if(Sr(t))for(var n=t,i=on(n),o=0;o<i.length;o++){var s=i[o];this.attrKV(s,t[s])}return this.markRedraw(),this},e.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var r=this._normalState,n=0;n<this.animators.length;n++){var i=this.animators[n],o=i.__fromStateTransition;if(!(i.getLoop()||o&&o!==UM)){var s=i.targetName,a=s?r[s]:r;i.saveTo(a)}}},e.prototype._innerSaveToNormal=function(t){var r=this._normalState;r||(r=this._normalState={}),t.textConfig&&!r.textConfig&&(r.textConfig=this.textConfig),this._savePrimaryToNormal(t,r,WM)},e.prototype._savePrimaryToNormal=function(t,r,n){for(var i=0;i<n.length;i++){var o=n[i];t[o]!=null&&!(o in r)&&(r[o]=this[o])}},e.prototype.hasState=function(){return this.currentStates.length>0},e.prototype.getState=function(t){return this.states[t]},e.prototype.ensureState=function(t){var r=this.states;return r[t]||(r[t]={}),r[t]},e.prototype.clearStates=function(t){this.useState(UM,!1,t)},e.prototype.useState=function(t,r,n,i){var o=t===UM,s=this.hasState();if(!(!s&&o)){var a=this.currentStates,h=this.stateTransition;if(!(sn(a,t)>=0&&(r||a.length===1))){var p;if(this.stateProxy&&!o&&(p=this.stateProxy(t)),p||(p=this.states&&this.states[t]),!p&&!o){GR("State "+t+" not exists.");return}o||this.saveCurrentToNormalState(p);var m=!!(p&&p.hoverLayer||i);m&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,p,this._normalState,r,!n&&!this.__inHover&&h&&h.duration>0,h);var v=this._textContent,b=this._textGuide;return v&&v.useState(t,r,n,m),b&&b.useState(t,r,n,m),o?(this.currentStates=[],this._normalState={}):r?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!m&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~ns),p}}},e.prototype.useStates=function(t,r,n){if(!t.length)this.clearStates();else{var i=[],o=this.currentStates,s=t.length,a=s===o.length;if(a){for(var h=0;h<s;h++)if(t[h]!==o[h]){a=!1;break}}if(a)return;for(var h=0;h<s;h++){var p=t[h],m=void 0;this.stateProxy&&(m=this.stateProxy(p,t)),m||(m=this.states[p]),m&&i.push(m)}var v=i[s-1],b=!!(v&&v.hoverLayer||n);b&&this._toggleHoverLayerFlag(!0);var x=this._mergeStates(i),C=this.stateTransition;this.saveCurrentToNormalState(x),this._applyStateObj(t.join(","),x,this._normalState,!1,!r&&!this.__inHover&&C&&C.duration>0,C);var I=this._textContent,A=this._textGuide;I&&I.useStates(t,r,b),A&&A.useStates(t,r,b),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!b&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~ns)}},e.prototype.isSilent=function(){for(var t=this.silent,r=this.parent;!t&&r;){if(r.silent){t=!0;break}r=r.parent}return t},e.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var r=this.animators[t];r.targetName&&r.changeTarget(this[r.targetName])}},e.prototype.removeState=function(t){var r=sn(this.currentStates,t);if(r>=0){var n=this.currentStates.slice();n.splice(r,1),this.useStates(n)}},e.prototype.replaceState=function(t,r,n){var i=this.currentStates.slice(),o=sn(i,t),s=sn(i,r)>=0;o>=0?s?i.splice(o,1):i[o]=r:n&&!s&&i.push(r),this.useStates(i)},e.prototype.toggleState=function(t,r){r?this.useState(t,!0):this.removeState(t)},e.prototype._mergeStates=function(t){for(var r={},n,i=0;i<t.length;i++){var o=t[i];Kt(r,o),o.textConfig&&(n=n||{},Kt(n,o.textConfig))}return n&&(r.textConfig=n),r},e.prototype._applyStateObj=function(t,r,n,i,o,s){var a=!(r&&i);r&&r.textConfig?(this.textConfig=Kt({},i?this.textConfig:n.textConfig),Kt(this.textConfig,r.textConfig)):a&&n.textConfig&&(this.textConfig=n.textConfig);for(var h={},p=!1,m=0;m<WM.length;m++){var v=WM[m],b=o&&ECe[v];r&&r[v]!=null?b?(p=!0,h[v]=r[v]):this[v]=r[v]:a&&n[v]!=null&&(b?(p=!0,h[v]=n[v]):this[v]=n[v])}if(!o)for(var m=0;m<this.animators.length;m++){var x=this.animators[m],C=x.targetName;x.getLoop()||x.__changeFinalValue(C?(r||n)[C]:r||n)}p&&this._transitionState(t,h,s)},e.prototype._attachComponent=function(t){if(!(t.__zr&&!t.__hostTarget)&&t!==this){var r=this.__zr;r&&t.addSelfToZr(r),t.__zr=r,t.__hostTarget=this}},e.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},e.prototype.getClipPath=function(){return this._clipPath},e.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},e.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},e.prototype.getTextContent=function(){return this._textContent},e.prototype.setTextContent=function(t){var r=this._textContent;r!==t&&(r&&r!==t&&this.removeTextContent(),t.innerTransformable=new eO,this._attachComponent(t),this._textContent=t,this.markRedraw())},e.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),Kt(this.textConfig,t),this.markRedraw()},e.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},e.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},e.prototype.getTextGuideLine=function(){return this._textGuide},e.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},e.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},e.prototype.markRedraw=function(){this.__dirty|=ns;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},e.prototype.dirty=function(){this.markRedraw()},e.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var r=this._textContent,n=this._textGuide;r&&(r.__inHover=t),n&&(n.__inHover=t)},e.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var r=this.animators;if(r)for(var n=0;n<r.length;n++)t.animation.addAnimator(r[n]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var r=this.animators;if(r)for(var n=0;n<r.length;n++)t.animation.removeAnimator(r[n]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},e.prototype.animate=function(t,r,n){var i=t?this[t]:this,o=new QR(i,r,n);return t&&(o.targetName=t),this.addAnimator(o,t),o},e.prototype.addAnimator=function(t,r){var n=this.__zr,i=this;t.during(function(){i.updateDuringAnimation(r)}).done(function(){var o=i.animators,s=sn(o,t);s>=0&&o.splice(s,1)}),this.animators.push(t),n&&n.animation.addAnimator(t),n&&n.wakeUp()},e.prototype.updateDuringAnimation=function(t){this.markRedraw()},e.prototype.stopAnimation=function(t,r){for(var n=this.animators,i=n.length,o=[],s=0;s<i;s++){var a=n[s];!t||t===a.scope?a.stop(r):o.push(a)}return this.animators=o,this},e.prototype.animateTo=function(t,r,n){qM(this,t,r,n)},e.prototype.animateFrom=function(t,r,n){qM(this,t,r,n,!0)},e.prototype._transitionState=function(t,r,n,i){for(var o=qM(this,r,n,i),s=0;s<o.length;s++)o[s].__fromStateTransition=t},e.prototype.getBoundingRect=function(){return null},e.prototype.getPaintRect=function(){return null},e.initDefaultProps=(function(){var t=e.prototype;t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=ns;function r(n,i,o,s){Object.defineProperty(t,n,{get:function(){if(!this[i]){var h=this[i]=[];a(this,h)}return this[i]},set:function(h){this[o]=h[0],this[s]=h[1],this[i]=h,a(this,h)}});function a(h,p){Object.defineProperty(p,0,{get:function(){return h[o]},set:function(m){h[o]=m}}),Object.defineProperty(p,1,{get:function(){return h[s]},set:function(m){h[s]=m}})}}Object.defineProperty&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))})(),e})();Il(xT,El);Il(xT,eO);function qM(e,t,r,n,i){r=r||{};var o=[];zW(e,"",e,t,r,n,o,i);var s=o.length,a=!1,h=r.done,p=r.aborted,m=function(){a=!0,s--,s<=0&&(a?h&&h():p&&p())},v=function(){s--,s<=0&&(a?h&&h():p&&p())};s||h&&h(),o.length>0&&r.during&&o[0].during(function(C,I){r.during(I)});for(var b=0;b<o.length;b++){var x=o[b];m&&x.done(m),v&&x.aborted(v),r.force&&x.duration(r.duration),x.start(r.easing)}return o}function ZM(e,t,r){for(var n=0;n<r;n++)e[n]=t[n]}function DCe(e){return $a(e[0])}function LCe(e,t,r){if($a(t[r]))if($a(e[r])||(e[r]=[]),za(t[r])){var n=t[r].length;e[r].length!==n&&(e[r]=new t[r].constructor(n),ZM(e[r],t[r],n))}else{var i=t[r],o=e[r],s=i.length;if(DCe(i))for(var a=i[0].length,h=0;h<s;h++)o[h]?ZM(o[h],i[h],a):o[h]=Array.prototype.slice.call(i[h]);else ZM(o,i,s);o.length=i.length}else e[r]=t[r]}function RCe(e,t){return e===t||$a(e)&&$a(t)&&OCe(e,t)}function OCe(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function zW(e,t,r,n,i,o,s,a){for(var h=on(n),p=i.duration,m=i.delay,v=i.additive,b=i.setToFinal,x=!Sr(o),C=e.animators,I=[],A=0;A<h.length;A++){var R=h[A],k=n[R];if(k!=null&&r[R]!=null&&(x||o[R]))if(Sr(k)&&!$a(k)&&!gT(k)){if(t){a||(r[R]=k,e.updateDuringAnimation(t));continue}zW(e,R,r[R],k,i,o&&o[R],s,a)}else I.push(R);else a||(r[R]=k,e.updateDuringAnimation(t),I.push(R))}var $=I.length;if(!v&&$)for(var N=0;N<C.length;N++){var H=C[N];if(H.targetName===t){var W=H.stopTracks(I);if(W){var j=sn(C,H);C.splice(j,1)}}}if(i.force||(I=ao(I,function(oe){return!RCe(n[oe],r[oe])}),$=I.length),$>0||i.force&&!s.length){var X=void 0,K=void 0,Q=void 0;if(a){K={},b&&(X={});for(var N=0;N<$;N++){var R=I[N];K[R]=r[R],b?X[R]=n[R]:r[R]=n[R]}}else if(b){Q={};for(var N=0;N<$;N++){var R=I[N];Q[R]=eS(r[R]),LCe(r,n,R)}}var H=new QR(r,!1,!1,v?ao(C,function(he){return he.targetName===t}):null);H.targetName=t,i.scope&&(H.scope=i.scope),b&&X&&H.whenWithKeys(0,X,I),Q&&H.whenWithKeys(0,Q,I),H.whenWithKeys(p??500,a?K:n,I).delay(m||0),e.addAnimator(H,t),s.push(H)}}var mi=(function(e){qt(t,e);function t(r){var n=e.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(r),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(r){return this._children[r]},t.prototype.childOfName=function(r){for(var n=this._children,i=0;i<n.length;i++)if(n[i].name===r)return n[i]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(r){return r&&r!==this&&r.parent!==this&&(this._children.push(r),this._doAdd(r)),this},t.prototype.addBefore=function(r,n){if(r&&r!==this&&r.parent!==this&&n&&n.parent===this){var i=this._children,o=i.indexOf(n);o>=0&&(i.splice(o,0,r),this._doAdd(r))}return this},t.prototype.replace=function(r,n){var i=sn(this._children,r);return i>=0&&this.replaceAt(n,i),this},t.prototype.replaceAt=function(r,n){var i=this._children,o=i[n];if(r&&r!==this&&r.parent!==this&&r!==o){i[n]=r,o.parent=null;var s=this.__zr;s&&o.removeSelfFromZr(s),this._doAdd(r)}return this},t.prototype._doAdd=function(r){r.parent&&r.parent.remove(r),r.parent=this;var n=this.__zr;n&&n!==r.__zr&&r.addSelfToZr(n),n&&n.refresh()},t.prototype.remove=function(r){var n=this.__zr,i=this._children,o=sn(i,r);return o<0?this:(i.splice(o,1),r.parent=null,n&&r.removeSelfFromZr(n),n&&n.refresh(),this)},t.prototype.removeAll=function(){for(var r=this._children,n=this.__zr,i=0;i<r.length;i++){var o=r[i];n&&o.removeSelfFromZr(n),o.parent=null}return r.length=0,this},t.prototype.eachChild=function(r,n){for(var i=this._children,o=0;o<i.length;o++){var s=i[o];r.call(n,s,o)}return this},t.prototype.traverse=function(r,n){for(var i=0;i<this._children.length;i++){var o=this._children[i],s=r.call(n,o);o.isGroup&&!s&&o.traverse(r,n)}return this},t.prototype.addSelfToZr=function(r){e.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.addSelfToZr(r)}},t.prototype.removeSelfFromZr=function(r){e.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.removeSelfFromZr(r)}},t.prototype.getBoundingRect=function(r){for(var n=new ln(0,0,0,0),i=r||this._children,o=[],s=null,a=0;a<i.length;a++){var h=i[a];if(!(h.ignore||h.invisible)){var p=h.getBoundingRect(),m=h.getLocalTransform(o);m?(ln.applyTransform(n,p,m),s=s||n.clone(),s.union(n)):(s=s||p.clone(),s.union(p))}}return s||n},t})(xT);mi.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var iS={},BW={};function kCe(e){delete BW[e]}function $Ce(e){if(!e)return!1;if(typeof e=="string")return QS(e,1)<BA;if(e.colorStops){for(var t=e.colorStops,r=0,n=t.length,i=0;i<n;i++)r+=QS(t[i].color,1);return r/=n,r<BA}return!1}var zCe=(function(){function e(t,r,n){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=r,this.id=t;var o=new JTe,s=n.renderer||"canvas";iS[s]||(s=on(iS)[0]),n.useDirtyRect=n.useDirtyRect==null?!1:n.useDirtyRect;var a=new iS[s](r,o,n,t),h=n.ssr||a.ssrOnly;this.storage=o,this.painter=a;var p=!Rr.node&&!Rr.worker&&!h?new MCe(a.getViewportRoot(),a.root):null,m=n.useCoarsePointer,v=m==null||m==="auto"?Rr.touchEventsSupported:!!m,b=44,x;v&&(x=$r(n.pointerSize,b)),this.handler=new vW(o,a,p,a.root,x),this.animation=new bCe({stage:{update:h?null:function(){return i._flush(!0)}}}),h||this.animation.start()}return e.prototype.add=function(t){this._disposed||!t||(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},e.prototype.remove=function(t){this._disposed||!t||(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},e.prototype.configLayer=function(t,r){this._disposed||(this.painter.configLayer&&this.painter.configLayer(t,r),this.refresh())},e.prototype.setBackgroundColor=function(t){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=$Ce(t))},e.prototype.getBackgroundColor=function(){return this._backgroundColor},e.prototype.setDarkMode=function(t){this._darkMode=t},e.prototype.isDarkMode=function(){return this._darkMode},e.prototype.refreshImmediately=function(t){this._disposed||(t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},e.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},e.prototype.flush=function(){this._disposed||this._flush(!1)},e.prototype._flush=function(t){var r,n=ag();this._needsRefresh&&(r=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(r=!0,this.refreshHoverImmediately());var i=ag();r?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},e.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},e.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},e.prototype.refreshHover=function(){this._needsRefreshHover=!0},e.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},e.prototype.resize=function(t){this._disposed||(t=t||{},this.painter.resize(t.width,t.height),this.handler.resize())},e.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},e.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},e.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},e.prototype.setCursorStyle=function(t){this._disposed||this.handler.setCursorStyle(t)},e.prototype.findHover=function(t,r){if(!this._disposed)return this.handler.findHover(t,r)},e.prototype.on=function(t,r,n){return this._disposed||this.handler.on(t,r,n),this},e.prototype.off=function(t,r){this._disposed||this.handler.off(t,r)},e.prototype.trigger=function(t,r){this._disposed||this.handler.trigger(t,r)},e.prototype.clear=function(){if(!this._disposed){for(var t=this.storage.getRoots(),r=0;r<t.length;r++)t[r]instanceof mi&&t[r].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},e.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,kCe(this.id))},e})();function L4(e,t){var r=new zCe(uW(),e,t);return BW[r.id]=r,r}function BCe(e,t){iS[e]=t}var VA;function FCe(e){if(typeof VA=="function")return VA(e)}function NCe(e){VA=e}var R4=1e-4,FW=20;function VCe(e){return e.replace(/^\s+|\s+$/g,"")}function Xo(e,t,r,n){var i=t[0],o=t[1],s=r[0],a=r[1],h=o-i,p=a-s;if(h===0)return p===0?s:(s+a)/2;if(n)if(h>0){if(e<=i)return s;if(e>=o)return a}else{if(e>=i)return s;if(e<=o)return a}else{if(e===i)return s;if(e===o)return a}return(e-i)/h*p+s}function so(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%";break}return cr(e)?VCe(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):e==null?NaN:+e}function Hi(e,t,r){return t==null&&(t=10),t=Math.min(Math.max(0,t),FW),e=(+e).toFixed(t),r?e:+e}function E_(e){return e.sort(function(t,r){return t-r}),e}function uu(e){if(e=+e,isNaN(e))return 0;if(e>1e-14){for(var t=1,r=0;r<15;r++,t*=10)if(Math.round(e*t)/t===e)return r}return jCe(e)}function jCe(e){var t=e.toString().toLowerCase(),r=t.indexOf("e"),n=r>0?+t.slice(r+1):0,i=r>0?r:t.length,o=t.indexOf("."),s=o<0?0:i-1-o;return Math.max(0,s-n)}function NW(e,t){var r=Math.log,n=Math.LN10,i=Math.floor(r(e[1]-e[0])/n),o=Math.round(r(Math.abs(t[1]-t[0]))/n),s=Math.min(Math.max(-i+o,0),20);return isFinite(s)?s:20}function HCe(e,t){var r=Math.max(uu(e),uu(t)),n=e+t;return r>FW?n:Hi(n,r)}function VW(e){var t=Math.PI*2;return(e%t+t)%t}function r2(e){return e>-R4&&e<R4}var GCe=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Tc(e){if(e instanceof Date)return e;if(cr(e)){var t=GCe.exec(e);if(!t)return new Date(NaN);if(t[8]){var r=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(r-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,r,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}else return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else if(e==null)return new Date(NaN);return new Date(Math.round(e))}function UCe(e){return Math.pow(10,rO(e))}function rO(e){if(e===0)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,t)>=10&&t++,t}function jW(e,t){var r=rO(e),n=Math.pow(10,r),i=e/n,o;return i<1.5?o=1:i<2.5?o=2:i<4?o=3:i<7?o=5:o=10,e=o*n,r>=-20?+e.toFixed(r<0?-r:0):e}function n2(e){var t=parseFloat(e);return t==e&&(t!==0||!cr(e)||e.indexOf("x")<=0)?t:NaN}function WCe(e){return!isNaN(n2(e))}function HW(){return Math.round(Math.random()*9)}function GW(e,t){return t===0?e:GW(t,e%t)}function O4(e,t){return e==null?t:t==null?e:e*t/GW(e,t)}function Ea(e){throw new Error(e)}function k4(e,t,r){return(t-e)*r+e}var UW="series\0",qCe="\0_ec_\0";function ya(e){return e instanceof Array?e:e==null?[]:[e]}function jA(e,t,r){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var n=0,i=r.length;n<i;n++){var o=r[n];!e.emphasis[t].hasOwnProperty(o)&&e[t].hasOwnProperty(o)&&(e.emphasis[t][o]=e[t][o])}}}var $4=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Mb(e){return Sr(e)&&!nr(e)&&!(e instanceof Date)?e.value:e}function ZCe(e){return Sr(e)&&!(e instanceof Array)}function XCe(e,t,r){var n=r==="normalMerge",i=r==="replaceMerge",o=r==="replaceAll";e=e||[],t=(t||[]).slice();var s=Ar();Ve(t,function(h,p){if(!Sr(h)){t[p]=null;return}});var a=KCe(e,s,r);return(n||i)&&YCe(a,e,s,t),n&&JCe(a,t),n||i?QCe(a,t,i):o&&ePe(a,t),tPe(a),a}function KCe(e,t,r){var n=[];if(r==="replaceAll")return n;for(var i=0;i<e.length;i++){var o=e[i];o&&o.id!=null&&t.set(o.id,i),n.push({existing:r==="replaceMerge"||F0(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return n}function YCe(e,t,r,n){Ve(n,function(i,o){if(!(!i||i.id==null)){var s=r0(i.id),a=r.get(s);if(a!=null){var h=e[a];Tl(!h.newOption,'Duplicated option on id "'+s+'".'),h.newOption=i,h.existing=t[a],n[o]=null}}})}function JCe(e,t){Ve(t,function(r,n){if(!(!r||r.name==null))for(var i=0;i<e.length;i++){var o=e[i].existing;if(!e[i].newOption&&o&&(o.id==null||r.id==null)&&!F0(r)&&!F0(o)&&WW("name",o,r)){e[i].newOption=r,t[n]=null;return}}})}function QCe(e,t,r){Ve(t,function(n){if(n){for(var i,o=0;(i=e[o])&&(i.newOption||F0(i.existing)||i.existing&&n.id!=null&&!WW("id",n,i.existing));)o++;i?(i.newOption=n,i.brandNew=r):e.push({newOption:n,brandNew:r,existing:null,keyInfo:null}),o++}})}function ePe(e,t){Ve(t,function(r){e.push({newOption:r,brandNew:!0,existing:null,keyInfo:null})})}function tPe(e){var t=Ar();Ve(e,function(r){var n=r.existing;n&&t.set(n.id,r)}),Ve(e,function(r){var n=r.newOption;Tl(!n||n.id==null||!t.get(n.id)||t.get(n.id)===r,"id duplicates: "+(n&&n.id)),n&&n.id!=null&&t.set(n.id,r),!r.keyInfo&&(r.keyInfo={})}),Ve(e,function(r,n){var i=r.existing,o=r.newOption,s=r.keyInfo;if(Sr(o)){if(s.name=o.name!=null?r0(o.name):i?i.name:UW+n,i)s.id=r0(i.id);else if(o.id!=null)s.id=r0(o.id);else{var a=0;do s.id="\0"+s.name+"\0"+a++;while(t.get(s.id))}t.set(s.id,r)}})}function WW(e,t,r){var n=fu(t[e],null),i=fu(r[e],null);return n!=null&&i!=null&&n===i}function r0(e){return fu(e,"")}function fu(e,t){return e==null?t:cr(e)?e:ni(e)||bA(e)?e+"":t}function nO(e){var t=e.name;return!!(t&&t.indexOf(UW))}function F0(e){return e&&e.id!=null&&r0(e.id).indexOf(qCe)===0}function rPe(e,t,r){Ve(e,function(n){var i=n.newOption;Sr(i)&&(n.keyInfo.mainType=t,n.keyInfo.subType=nPe(t,i,n.existing,r))})}function nPe(e,t,r,n){var i=t.type?t.type:r?r.subType:n.determineSubType(e,t);return i}function ip(e,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return nr(t.dataIndex)?fr(t.dataIndex,function(r){return e.indexOfRawIndex(r)}):e.indexOfRawIndex(t.dataIndex);if(t.name!=null)return nr(t.name)?fr(t.name,function(r){return e.indexOfName(r)}):e.indexOfName(t.name)}function Bi(){var e="__ec_inner_"+iPe++;return function(t){return t[e]||(t[e]={})}}var iPe=HW();function XM(e,t,r){var n=iO(t,r),i=n.mainTypeSpecified,o=n.queryOptionMap,s=n.others,a=s,h=r?r.defaultMainType:null;return!i&&h&&o.set(h,{}),o.each(function(p,m){var v=Ib(e,m,p,{useDefault:h===m,enableAll:r&&r.enableAll!=null?r.enableAll:!0,enableNone:r&&r.enableNone!=null?r.enableNone:!0});a[m+"Models"]=v.models,a[m+"Model"]=v.models[0]}),a}function iO(e,t){var r;if(cr(e)){var n={};n[e+"Index"]=0,r=n}else r=e;var i=Ar(),o={},s=!1;return Ve(r,function(a,h){if(h==="dataIndex"||h==="dataIndexInside"){o[h]=a;return}var p=h.match(/^(\w+)(Index|Id|Name)$/)||[],m=p[1],v=(p[2]||"").toLowerCase();if(!(!m||!v||t&&t.includeMainTypes&&sn(t.includeMainTypes,m)<0)){s=s||!!m;var b=i.get(m)||i.set(m,{});b[v]=a}}),{mainTypeSpecified:s,queryOptionMap:i,others:o}}var Da={useDefault:!0,enableAll:!1,enableNone:!1},oPe={useDefault:!1,enableAll:!0,enableNone:!0};function Ib(e,t,r,n){n=n||Da;var i=r.index,o=r.id,s=r.name,a={models:null,specified:i!=null||o!=null||s!=null};if(!a.specified){var h=void 0;return a.models=n.useDefault&&(h=e.getComponent(t))?[h]:[],a}return i==="none"||i===!1?(Tl(n.enableNone,'`"none"` or `false` is not a valid value on index option.'),a.models=[],a):(i==="all"&&(Tl(n.enableAll,'`"all"` is not a valid value on index option.'),i=o=s=null),a.models=e.queryComponents({mainType:t,index:i,id:o,name:s}),a)}function qW(e,t,r){e.setAttribute?e.setAttribute(t,r):e[t]=r}function aPe(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function sPe(e){return e==="auto"?Rr.domSupported?"html":"richText":e||"html"}function lPe(e,t,r,n,i){var o=t==null||t==="auto";if(n==null)return n;if(ni(n)){var s=k4(r||0,n,i);return Hi(s,o?Math.max(uu(r||0),uu(n)):t)}else{if(cr(n))return i<1?r:n;for(var a=[],h=r,p=n,m=Math.max(h?h.length:0,p.length),v=0;v<m;++v){var b=e.getDimensionInfo(v);if(b&&b.type==="ordinal")a[v]=(i<1&&h?h:p)[v];else{var x=h&&h[v]?h[v]:0,C=p[v],s=k4(x,C,i);a[v]=Hi(s,o?Math.max(uu(x),uu(C)):t)}}return a}}var uPe=".",rf="___EC__COMPONENT__CONTAINER___",ZW="___EC__EXTENDED_CLASS___";function cu(e){var t={main:"",sub:""};if(e){var r=e.split(uPe);t.main=r[0]||"",t.sub=r[1]||""}return t}function cPe(e){Tl(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function hPe(e){return!!(e&&e[ZW])}function oO(e,t){e.$constructor=e,e.extend=function(r){var n=this,i;return dPe(n)?i=(function(o){qt(s,o);function s(){return o.apply(this,arguments)||this}return s})(n):(i=function(){(r.$constructor||n).apply(this,arguments)},yTe(i,this)),Kt(i.prototype,r),i[ZW]=!0,i.extend=this.extend,i.superCall=mPe,i.superApply=gPe,i.superClass=n,i}}function dPe(e){return br(e)&&/^class\s/.test(Function.prototype.toString.call(e))}function XW(e,t){e.extend=t.extend}var fPe=Math.round(Math.random()*10);function pPe(e){var t=["__\0is_clz",fPe++].join("_");e.prototype[t]=!0,e.isInstance=function(r){return!!(r&&r[t])}}function mPe(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return this.superClass.prototype[t].apply(e,r)}function gPe(e,t,r){return this.superClass.prototype[t].apply(e,r)}function wT(e){var t={};e.registerClass=function(n){var i=n.type||n.prototype.type;if(i){cPe(i),n.prototype.type=i;var o=cu(i);if(!o.sub)t[o.main]=n;else if(o.sub!==rf){var s=r(o);s[o.sub]=n}}return n},e.getClass=function(n,i,o){var s=t[n];if(s&&s[rf]&&(s=i?s[i]:null),o&&!s)throw new Error(i?"Component "+n+"."+(i||"")+" is used but not imported.":n+".type should be specified.");return s},e.getClassesByMainType=function(n){var i=cu(n),o=[],s=t[i.main];return s&&s[rf]?Ve(s,function(a,h){h!==rf&&o.push(a)}):o.push(s),o},e.hasClass=function(n){var i=cu(n);return!!t[i.main]},e.getAllClassMainTypes=function(){var n=[];return Ve(t,function(i,o){n.push(o)}),n},e.hasSubTypes=function(n){var i=cu(n),o=t[i.main];return o&&o[rf]};function r(n){var i=t[n.main];return(!i||!i[rf])&&(i=t[n.main]={},i[rf]=!0),i}}function N0(e,t){for(var r=0;r<e.length;r++)e[r][1]||(e[r][1]=e[r][0]);return t=t||!1,function(n,i,o){for(var s={},a=0;a<e.length;a++){var h=e[a][1];if(!(i&&sn(i,h)>=0||o&&sn(o,h)<0)){var p=n.getShallow(h,t);p!=null&&(s[e[a][0]]=p)}}return s}}var vPe=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],yPe=N0(vPe),_Pe=(function(){function e(){}return e.prototype.getAreaStyle=function(t,r){return yPe(this,t,r)},e})(),HA=new Pb(50);function bPe(e){if(typeof e=="string"){var t=HA.get(e);return t&&t.image}else return e}function aO(e,t,r,n,i){if(e)if(typeof e=="string"){if(t&&t.__zrImageSrc===e||!r)return t;var o=HA.get(e),s={hostEl:r,cb:n,cbPayload:i};return o?(t=o.image,!ST(t)&&o.pending.push(s)):(t=hv.loadImage(e,z4,z4),t.__zrImageSrc=e,HA.put(e,t.__cachedImgObj={image:t,pending:[s]})),t}else return e;else return t}function z4(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var r=e.pending[t],n=r.cb;n&&n(this,r.cbPayload),r.hostEl.dirty()}e.pending.length=0}function ST(e){return e&&e.width&&e.height}var KM=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function xPe(e,t,r,n,i,o){if(!r){e.text="",e.isTruncated=!1;return}var s=(t+"").split(`
`);o=KW(r,n,i,o);for(var a=!1,h={},p=0,m=s.length;p<m;p++)YW(h,s[p],o),s[p]=h.textLine,a=a||h.isTruncated;e.text=s.join(`
`),e.isTruncated=a}function KW(e,t,r,n){n=n||{};var i=Kt({},n);i.font=t,r=$r(r,"..."),i.maxIterations=$r(n.maxIterations,2);var o=i.minChar=$r(n.minChar,0);i.cnCharWidth=ss("",t);var s=i.ascCharWidth=ss("a",t);i.placeholder=$r(n.placeholder,"");for(var a=e=Math.max(0,e-1),h=0;h<o&&a>=s;h++)a-=s;var p=ss(r,t);return p>a&&(r="",p=0),a=e-p,i.ellipsis=r,i.ellipsisWidth=p,i.contentWidth=a,i.containerWidth=e,i}function YW(e,t,r){var n=r.containerWidth,i=r.font,o=r.contentWidth;if(!n){e.textLine="",e.isTruncated=!1;return}var s=ss(t,i);if(s<=n){e.textLine=t,e.isTruncated=!1;return}for(var a=0;;a++){if(s<=o||a>=r.maxIterations){t+=r.ellipsis;break}var h=a===0?wPe(t,o,r.ascCharWidth,r.cnCharWidth):s>0?Math.floor(t.length*o/s):0;t=t.substr(0,h),s=ss(t,i)}t===""&&(t=r.placeholder),e.textLine=t,e.isTruncated=!0}function wPe(e,t,r,n){for(var i=0,o=0,s=e.length;o<s&&i<t;o++){var a=e.charCodeAt(o);i+=0<=a&&a<=127?r:n}return o}function SPe(e,t){e!=null&&(e+="");var r=t.overflow,n=t.padding,i=t.font,o=r==="truncate",s=bT(i),a=$r(t.lineHeight,s),h=!!t.backgroundColor,p=t.lineOverflow==="truncate",m=!1,v=t.width,b;v!=null&&(r==="break"||r==="breakAll")?b=e?JW(e,t.font,v,r==="breakAll",0).lines:[]:b=e?e.split(`
`):[];var x=b.length*a,C=$r(t.height,x);if(x>C&&p){var I=Math.floor(C/a);m=m||b.length>I,b=b.slice(0,I)}if(e&&o&&v!=null)for(var A=KW(v,i,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),R={},k=0;k<b.length;k++)YW(R,b[k],A),b[k]=R.textLine,m=m||R.isTruncated;for(var $=C,N=0,k=0;k<b.length;k++)N=Math.max(ss(b[k],i),N);v==null&&(v=N);var H=N;return n&&($+=n[0]+n[2],H+=n[1]+n[3],v+=n[1]+n[3]),h&&(H=v),{lines:b,height:C,outerWidth:H,outerHeight:$,lineHeight:a,calculatedLineHeight:s,contentWidth:N,contentHeight:x,width:v,isTruncated:m}}var TPe=(function(){function e(){}return e})(),B4=(function(){function e(t){this.tokens=[],t&&(this.tokens=t)}return e})(),CPe=(function(){function e(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return e})();function PPe(e,t){var r=new CPe;if(e!=null&&(e+=""),!e)return r;for(var n=t.width,i=t.height,o=t.overflow,s=(o==="break"||o==="breakAll")&&n!=null?{width:n,accumWidth:0,breakAll:o==="breakAll"}:null,a=KM.lastIndex=0,h;(h=KM.exec(e))!=null;){var p=h.index;p>a&&YM(r,e.substring(a,p),t,s),YM(r,h[2],t,s,h[1]),a=KM.lastIndex}a<e.length&&YM(r,e.substring(a,e.length),t,s);var m=[],v=0,b=0,x=t.padding,C=o==="truncate",I=t.lineOverflow==="truncate",A={};function R(ct,Ke,gt){ct.width=Ke,ct.lineHeight=gt,v+=gt,b=Math.max(b,Ke)}e:for(var k=0;k<r.lines.length;k++){for(var $=r.lines[k],N=0,H=0,W=0;W<$.tokens.length;W++){var j=$.tokens[W],X=j.styleName&&t.rich[j.styleName]||{},K=j.textPadding=X.padding,Q=K?K[1]+K[3]:0,oe=j.font=X.font||t.font;j.contentHeight=bT(oe);var he=$r(X.height,j.contentHeight);if(j.innerHeight=he,K&&(he+=K[0]+K[2]),j.height=he,j.lineHeight=Yw(X.lineHeight,t.lineHeight,he),j.align=X&&X.align||t.align,j.verticalAlign=X&&X.verticalAlign||"middle",I&&i!=null&&v+j.lineHeight>i){var ye=r.lines.length;W>0?($.tokens=$.tokens.slice(0,W),R($,H,N),r.lines=r.lines.slice(0,k+1)):r.lines=r.lines.slice(0,k),r.isTruncated=r.isTruncated||r.lines.length<ye;break e}var be=X.width,ce=be==null||be==="auto";if(typeof be=="string"&&be.charAt(be.length-1)==="%")j.percentWidth=be,m.push(j),j.contentWidth=ss(j.text,oe);else{if(ce){var de=X.backgroundColor,Oe=de&&de.image;Oe&&(Oe=bPe(Oe),ST(Oe)&&(j.width=Math.max(j.width,Oe.width*he/Oe.height)))}var ze=C&&n!=null?n-H:null;ze!=null&&ze<j.width?!ce||ze<Q?(j.text="",j.width=j.contentWidth=0):(xPe(A,j.text,ze-Q,oe,t.ellipsis,{minChar:t.truncateMinChar}),j.text=A.text,r.isTruncated=r.isTruncated||A.isTruncated,j.width=j.contentWidth=ss(j.text,oe)):j.contentWidth=ss(j.text,oe)}j.width+=Q,H+=j.width,X&&(N=Math.max(N,j.lineHeight))}R($,H,N)}r.outerWidth=r.width=$r(n,b),r.outerHeight=r.height=$r(i,v),r.contentHeight=v,r.contentWidth=b,x&&(r.outerWidth+=x[1]+x[3],r.outerHeight+=x[0]+x[2]);for(var k=0;k<m.length;k++){var j=m[k],De=j.percentWidth;j.width=parseInt(De,10)/100*r.width}return r}function YM(e,t,r,n,i){var o=t==="",s=i&&r.rich[i]||{},a=e.lines,h=s.font||r.font,p=!1,m,v;if(n){var b=s.padding,x=b?b[1]+b[3]:0;if(s.width!=null&&s.width!=="auto"){var C=np(s.width,n.width)+x;a.length>0&&C+n.accumWidth>n.width&&(m=t.split(`
`),p=!0),n.accumWidth=C}else{var I=JW(t,h,n.width,n.breakAll,n.accumWidth);n.accumWidth=I.accumWidth+x,v=I.linesWidths,m=I.lines}}else m=t.split(`
`);for(var A=0;A<m.length;A++){var R=m[A],k=new TPe;if(k.styleName=i,k.text=R,k.isLineHolder=!R&&!o,typeof s.width=="number"?k.width=s.width:k.width=v?v[A]:ss(R,h),!A&&!p){var $=(a[a.length-1]||(a[0]=new B4)).tokens,N=$.length;N===1&&$[0].isLineHolder?$[0]=k:(R||!N||o)&&$.push(k)}else a.push(new B4([k]))}}function MPe(e){var t=e.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}var IPe=dv(",&?/;] ".split(""),function(e,t){return e[t]=!0,e},{});function EPe(e){return MPe(e)?!!IPe[e]:!0}function JW(e,t,r,n,i){for(var o=[],s=[],a="",h="",p=0,m=0,v=0;v<e.length;v++){var b=e.charAt(v);if(b===`
`){h&&(a+=h,m+=p),o.push(a),s.push(m),a="",h="",p=0,m=0;continue}var x=ss(b,t),C=n?!1:!EPe(b);if(o.length?m+x>r:i+m+x>r){m?(a||h)&&(C?(a||(a=h,h="",p=0,m=p),o.push(a),s.push(m-p),h+=b,p+=x,a="",m=p):(h&&(a+=h,h="",p=0),o.push(a),s.push(m),a=b,m=x)):C?(o.push(h),s.push(p),h=b,p=x):(o.push(b),s.push(x));continue}m+=x,C?(h+=b,p+=x):(h&&(a+=h,h="",p=0),a+=b)}return!o.length&&!a&&(a=e,h="",p=0),h&&(a+=h),a&&(o.push(a),s.push(m)),o.length===1&&(m+=i),{accumWidth:m,lines:o,linesWidths:s}}var GA="__zr_style_"+Math.round(Math.random()*10),Gf={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},TT={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Gf[GA]=!0;var F4=["z","z2","invisible"],APe=["invisible"],Eb=(function(e){qt(t,e);function t(r){return e.call(this,r)||this}return t.prototype._init=function(r){for(var n=on(r),i=0;i<n.length;i++){var o=n[i];o==="style"?this.useStyle(r[o]):e.prototype.attrKV.call(this,o,r[o])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(r,n,i,o){var s=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&DPe(this,r,n)||s&&!s[0]&&!s[3])return!1;if(i&&this.__clipPaths){for(var a=0;a<this.__clipPaths.length;++a)if(this.__clipPaths[a].isZeroArea())return!1}if(o&&this.parent)for(var h=this.parent;h;){if(h.ignore)return!1;h=h.parent}return!0},t.prototype.contain=function(r,n){return this.rectContain(r,n)},t.prototype.traverse=function(r,n){r.call(n,this)},t.prototype.rectContain=function(r,n){var i=this.transformCoordToLocal(r,n),o=this.getBoundingRect();return o.contain(i[0],i[1])},t.prototype.getPaintRect=function(){var r=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,i=this.getBoundingRect(),o=this.style,s=o.shadowBlur||0,a=o.shadowOffsetX||0,h=o.shadowOffsetY||0;r=this._paintRect||(this._paintRect=new ln(0,0,0,0)),n?ln.applyTransform(r,i,n):r.copy(i),(s||a||h)&&(r.width+=s*2+Math.abs(a),r.height+=s*2+Math.abs(h),r.x=Math.min(r.x,r.x+a-s),r.y=Math.min(r.y,r.y+h-s));var p=this.dirtyRectTolerance;r.isZero()||(r.x=Math.floor(r.x-p),r.y=Math.floor(r.y-p),r.width=Math.ceil(r.width+1+p*2),r.height=Math.ceil(r.height+1+p*2))}return r},t.prototype.setPrevPaintRect=function(r){r?(this._prevPaintRect=this._prevPaintRect||new ln(0,0,0,0),this._prevPaintRect.copy(r)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(r){return this.animate("style",r)},t.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(r,n){r!=="style"?e.prototype.attrKV.call(this,r,n):this.style?this.setStyle(n):this.useStyle(n)},t.prototype.setStyle=function(r,n){return typeof r=="string"?this.style[r]=n:Kt(this.style,r),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(r){r||this.markRedraw(),this.__dirty|=P_,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&P_)},t.prototype.styleUpdated=function(){this.__dirty&=~P_},t.prototype.createStyle=function(r){return vT(Gf,r)},t.prototype.useStyle=function(r){r[GA]||(r=this.createStyle(r)),this.__inHover?this.__hoverStyle=r:this.style=r,this.dirtyStyle()},t.prototype.isStyleObject=function(r){return r[GA]},t.prototype._innerSaveToNormal=function(r){e.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(r,n,F4)},t.prototype._applyStateObj=function(r,n,i,o,s,a){e.prototype._applyStateObj.call(this,r,n,i,o,s,a);var h=!(n&&o),p;if(n&&n.style?s?o?p=n.style:(p=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(p,n.style)):(p=this._mergeStyle(this.createStyle(),o?this.style:i.style),this._mergeStyle(p,n.style)):h&&(p=i.style),p)if(s){var m=this.style;if(this.style=this.createStyle(h?{}:m),h)for(var v=on(m),b=0;b<v.length;b++){var x=v[b];x in p&&(p[x]=p[x],this.style[x]=m[x])}for(var C=on(p),b=0;b<C.length;b++){var x=C[b];this.style[x]=this.style[x]}this._transitionState(r,{style:p},a,this.getAnimationStyleProps())}else this.useStyle(p);for(var I=this.__inHover?APe:F4,b=0;b<I.length;b++){var x=I[b];n&&n[x]!=null?this[x]=n[x]:h&&i[x]!=null&&(this[x]=i[x])}},t.prototype._mergeStates=function(r){for(var n=e.prototype._mergeStates.call(this,r),i,o=0;o<r.length;o++){var s=r[o];s.style&&(i=i||{},this._mergeStyle(i,s.style))}return i&&(n.style=i),n},t.prototype._mergeStyle=function(r,n){return Kt(r,n),r},t.prototype.getAnimationStyleProps=function(){return TT},t.initDefaultProps=(function(){var r=t.prototype;r.type="displayable",r.invisible=!1,r.z=0,r.z2=0,r.zlevel=0,r.culling=!1,r.cursor="pointer",r.rectHover=!1,r.incremental=!1,r._rect=null,r.dirtyRectTolerance=0,r.__dirty=ns|P_})(),t})(xT),JM=new ln(0,0,0,0),QM=new ln(0,0,0,0);function DPe(e,t,r){return JM.copy(e.getBoundingRect()),e.transform&&JM.applyTransform(e.transform),QM.width=t,QM.height=r,!JM.intersect(QM)}var $s=Math.min,zs=Math.max,eI=Math.sin,tI=Math.cos,nf=Math.PI*2,Qx=fv(),ew=fv(),tw=fv();function N4(e,t,r,n,i,o){i[0]=$s(e,r),i[1]=$s(t,n),o[0]=zs(e,r),o[1]=zs(t,n)}var V4=[],j4=[];function LPe(e,t,r,n,i,o,s,a,h,p){var m=wW,v=Ao,b=m(e,r,i,s,V4);h[0]=1/0,h[1]=1/0,p[0]=-1/0,p[1]=-1/0;for(var x=0;x<b;x++){var C=v(e,r,i,s,V4[x]);h[0]=$s(C,h[0]),p[0]=zs(C,p[0])}b=m(t,n,o,a,j4);for(var x=0;x<b;x++){var I=v(t,n,o,a,j4[x]);h[1]=$s(I,h[1]),p[1]=zs(I,p[1])}h[0]=$s(e,h[0]),p[0]=zs(e,p[0]),h[0]=$s(s,h[0]),p[0]=zs(s,p[0]),h[1]=$s(t,h[1]),p[1]=zs(t,p[1]),h[1]=$s(a,h[1]),p[1]=zs(a,p[1])}function RPe(e,t,r,n,i,o,s,a){var h=SW,p=pa,m=zs($s(h(e,r,i),1),0),v=zs($s(h(t,n,o),1),0),b=p(e,r,i,m),x=p(t,n,o,v);s[0]=$s(e,i,b),s[1]=$s(t,o,x),a[0]=zs(e,i,b),a[1]=zs(t,o,x)}function OPe(e,t,r,n,i,o,s,a,h){var p=ig,m=og,v=Math.abs(i-o);if(v%nf<1e-4&&v>1e-4){a[0]=e-r,a[1]=t-n,h[0]=e+r,h[1]=t+n;return}if(Qx[0]=tI(i)*r+e,Qx[1]=eI(i)*n+t,ew[0]=tI(o)*r+e,ew[1]=eI(o)*n+t,p(a,Qx,ew),m(h,Qx,ew),i=i%nf,i<0&&(i=i+nf),o=o%nf,o<0&&(o=o+nf),i>o&&!s?o+=nf:i<o&&s&&(i+=nf),s){var b=o;o=i,i=b}for(var x=0;x<o;x+=Math.PI/2)x>i&&(tw[0]=tI(x)*r+e,tw[1]=eI(x)*n+t,p(a,tw,a),m(h,tw,h))}var wn={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},of=[],af=[],ql=[],ch=[],Zl=[],Xl=[],rI=Math.min,nI=Math.max,sf=Math.cos,lf=Math.sin,Ju=Math.abs,UA=Math.PI,bh=UA*2,iI=typeof Float32Array<"u",n_=[];function oI(e){var t=Math.round(e/UA*1e8)/1e8;return t%2*UA}function kPe(e,t){var r=oI(e[0]);r<0&&(r+=bh);var n=r-e[0],i=e[1];i+=n,!t&&i-r>=bh?i=r+bh:t&&r-i>=bh?i=r-bh:!t&&r>i?i=r+(bh-oI(r-i)):t&&r<i&&(i=r-(bh-oI(i-r))),e[0]=r,e[1]=i}var Zh=(function(){function e(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return e.prototype.increaseVersion=function(){this._version++},e.prototype.getVersion=function(){return this._version},e.prototype.setScale=function(t,r,n){n=n||0,n>0&&(this._ux=Ju(n/t2/t)||0,this._uy=Ju(n/t2/r)||0)},e.prototype.setDPR=function(t){this.dpr=t},e.prototype.setContext=function(t){this._ctx=t},e.prototype.getContext=function(){return this._ctx},e.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},e.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},e.prototype.moveTo=function(t,r){return this._drawPendingPt(),this.addData(wn.M,t,r),this._ctx&&this._ctx.moveTo(t,r),this._x0=t,this._y0=r,this._xi=t,this._yi=r,this},e.prototype.lineTo=function(t,r){var n=Ju(t-this._xi),i=Ju(r-this._yi),o=n>this._ux||i>this._uy;if(this.addData(wn.L,t,r),this._ctx&&o&&this._ctx.lineTo(t,r),o)this._xi=t,this._yi=r,this._pendingPtDist=0;else{var s=n*n+i*i;s>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=r,this._pendingPtDist=s)}return this},e.prototype.bezierCurveTo=function(t,r,n,i,o,s){return this._drawPendingPt(),this.addData(wn.C,t,r,n,i,o,s),this._ctx&&this._ctx.bezierCurveTo(t,r,n,i,o,s),this._xi=o,this._yi=s,this},e.prototype.quadraticCurveTo=function(t,r,n,i){return this._drawPendingPt(),this.addData(wn.Q,t,r,n,i),this._ctx&&this._ctx.quadraticCurveTo(t,r,n,i),this._xi=n,this._yi=i,this},e.prototype.arc=function(t,r,n,i,o,s){this._drawPendingPt(),n_[0]=i,n_[1]=o,kPe(n_,s),i=n_[0],o=n_[1];var a=o-i;return this.addData(wn.A,t,r,n,n,i,a,0,s?0:1),this._ctx&&this._ctx.arc(t,r,n,i,o,s),this._xi=sf(o)*n+t,this._yi=lf(o)*n+r,this},e.prototype.arcTo=function(t,r,n,i,o){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,r,n,i,o),this},e.prototype.rect=function(t,r,n,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,r,n,i),this.addData(wn.R,t,r,n,i),this},e.prototype.closePath=function(){this._drawPendingPt(),this.addData(wn.Z);var t=this._ctx,r=this._x0,n=this._y0;return t&&t.closePath(),this._xi=r,this._yi=n,this},e.prototype.fill=function(t){t&&t.fill(),this.toStatic()},e.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},e.prototype.len=function(){return this._len},e.prototype.setData=function(t){var r=t.length;!(this.data&&this.data.length===r)&&iI&&(this.data=new Float32Array(r));for(var n=0;n<r;n++)this.data[n]=t[n];this._len=r},e.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var r=t.length,n=0,i=this._len,o=0;o<r;o++)n+=t[o].len();iI&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(var o=0;o<r;o++)for(var s=t[o].data,a=0;a<s.length;a++)this.data[i++]=s[a];this._len=i},e.prototype.addData=function(t,r,n,i,o,s,a,h,p){if(this._saveData){var m=this.data;this._len+arguments.length>m.length&&(this._expandData(),m=this.data);for(var v=0;v<arguments.length;v++)m[this._len++]=arguments[v]}},e.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},e.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],r=0;r<this._len;r++)t[r]=this.data[r];this.data=t}},e.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,iI&&this._len>11&&(this.data=new Float32Array(t)))}},e.prototype.getBoundingRect=function(){ql[0]=ql[1]=Zl[0]=Zl[1]=Number.MAX_VALUE,ch[0]=ch[1]=Xl[0]=Xl[1]=-Number.MAX_VALUE;var t=this.data,r=0,n=0,i=0,o=0,s;for(s=0;s<this._len;){var a=t[s++],h=s===1;switch(h&&(r=t[s],n=t[s+1],i=r,o=n),a){case wn.M:r=i=t[s++],n=o=t[s++],Zl[0]=i,Zl[1]=o,Xl[0]=i,Xl[1]=o;break;case wn.L:N4(r,n,t[s],t[s+1],Zl,Xl),r=t[s++],n=t[s++];break;case wn.C:LPe(r,n,t[s++],t[s++],t[s++],t[s++],t[s],t[s+1],Zl,Xl),r=t[s++],n=t[s++];break;case wn.Q:RPe(r,n,t[s++],t[s++],t[s],t[s+1],Zl,Xl),r=t[s++],n=t[s++];break;case wn.A:var p=t[s++],m=t[s++],v=t[s++],b=t[s++],x=t[s++],C=t[s++]+x;s+=1;var I=!t[s++];h&&(i=sf(x)*v+p,o=lf(x)*b+m),OPe(p,m,v,b,x,C,I,Zl,Xl),r=sf(C)*v+p,n=lf(C)*b+m;break;case wn.R:i=r=t[s++],o=n=t[s++];var A=t[s++],R=t[s++];N4(i,o,i+A,o+R,Zl,Xl);break;case wn.Z:r=i,n=o;break}ig(ql,ql,Zl),og(ch,ch,Xl)}return s===0&&(ql[0]=ql[1]=ch[0]=ch[1]=0),new ln(ql[0],ql[1],ch[0]-ql[0],ch[1]-ql[1])},e.prototype._calculateLength=function(){var t=this.data,r=this._len,n=this._ux,i=this._uy,o=0,s=0,a=0,h=0;this._pathSegLen||(this._pathSegLen=[]);for(var p=this._pathSegLen,m=0,v=0,b=0;b<r;){var x=t[b++],C=b===1;C&&(o=t[b],s=t[b+1],a=o,h=s);var I=-1;switch(x){case wn.M:o=a=t[b++],s=h=t[b++];break;case wn.L:{var A=t[b++],R=t[b++],k=A-o,$=R-s;(Ju(k)>n||Ju($)>i||b===r-1)&&(I=Math.sqrt(k*k+$*$),o=A,s=R);break}case wn.C:{var N=t[b++],H=t[b++],A=t[b++],R=t[b++],W=t[b++],j=t[b++];I=eCe(o,s,N,H,A,R,W,j,10),o=W,s=j;break}case wn.Q:{var N=t[b++],H=t[b++],A=t[b++],R=t[b++];I=nCe(o,s,N,H,A,R,10),o=A,s=R;break}case wn.A:var X=t[b++],K=t[b++],Q=t[b++],oe=t[b++],he=t[b++],ye=t[b++],be=ye+he;b+=1,C&&(a=sf(he)*Q+X,h=lf(he)*oe+K),I=nI(Q,oe)*rI(bh,Math.abs(ye)),o=sf(be)*Q+X,s=lf(be)*oe+K;break;case wn.R:{a=o=t[b++],h=s=t[b++];var ce=t[b++],de=t[b++];I=ce*2+de*2;break}case wn.Z:{var k=a-o,$=h-s;I=Math.sqrt(k*k+$*$),o=a,s=h;break}}I>=0&&(p[v++]=I,m+=I)}return this._pathLen=m,m},e.prototype.rebuildPath=function(t,r){var n=this.data,i=this._ux,o=this._uy,s=this._len,a,h,p,m,v,b,x=r<1,C,I,A=0,R=0,k,$=0,N,H;if(!(x&&(this._pathSegLen||this._calculateLength(),C=this._pathSegLen,I=this._pathLen,k=r*I,!k)))e:for(var W=0;W<s;){var j=n[W++],X=W===1;switch(X&&(p=n[W],m=n[W+1],a=p,h=m),j!==wn.L&&$>0&&(t.lineTo(N,H),$=0),j){case wn.M:a=p=n[W++],h=m=n[W++],t.moveTo(p,m);break;case wn.L:{v=n[W++],b=n[W++];var K=Ju(v-p),Q=Ju(b-m);if(K>i||Q>o){if(x){var oe=C[R++];if(A+oe>k){var he=(k-A)/oe;t.lineTo(p*(1-he)+v*he,m*(1-he)+b*he);break e}A+=oe}t.lineTo(v,b),p=v,m=b,$=0}else{var ye=K*K+Q*Q;ye>$&&(N=v,H=b,$=ye)}break}case wn.C:{var be=n[W++],ce=n[W++],de=n[W++],Oe=n[W++],ze=n[W++],De=n[W++];if(x){var oe=C[R++];if(A+oe>k){var he=(k-A)/oe;YS(p,be,de,ze,he,of),YS(m,ce,Oe,De,he,af),t.bezierCurveTo(of[1],af[1],of[2],af[2],of[3],af[3]);break e}A+=oe}t.bezierCurveTo(be,ce,de,Oe,ze,De),p=ze,m=De;break}case wn.Q:{var be=n[W++],ce=n[W++],de=n[W++],Oe=n[W++];if(x){var oe=C[R++];if(A+oe>k){var he=(k-A)/oe;JS(p,be,de,he,of),JS(m,ce,Oe,he,af),t.quadraticCurveTo(of[1],af[1],of[2],af[2]);break e}A+=oe}t.quadraticCurveTo(be,ce,de,Oe),p=de,m=Oe;break}case wn.A:var ct=n[W++],Ke=n[W++],gt=n[W++],Lt=n[W++],Nt=n[W++],zt=n[W++],Ft=n[W++],Be=!n[W++],it=gt>Lt?gt:Lt,je=Ju(gt-Lt)>.001,He=Nt+zt,Fe=!1;if(x){var oe=C[R++];A+oe>k&&(He=Nt+zt*(k-A)/oe,Fe=!0),A+=oe}if(je&&t.ellipse?t.ellipse(ct,Ke,gt,Lt,Ft,Nt,He,Be):t.arc(ct,Ke,it,Nt,He,Be),Fe)break e;X&&(a=sf(Nt)*gt+ct,h=lf(Nt)*Lt+Ke),p=sf(He)*gt+ct,m=lf(He)*Lt+Ke;break;case wn.R:a=p=n[W],h=m=n[W+1],v=n[W++],b=n[W++];var tt=n[W++],me=n[W++];if(x){var oe=C[R++];if(A+oe>k){var _e=k-A;t.moveTo(v,b),t.lineTo(v+rI(_e,tt),b),_e-=tt,_e>0&&t.lineTo(v+tt,b+rI(_e,me)),_e-=me,_e>0&&t.lineTo(v+nI(tt-_e,0),b+me),_e-=tt,_e>0&&t.lineTo(v,b+nI(me-_e,0));break e}A+=oe}t.rect(v,b,tt,me);break;case wn.Z:if(x){var oe=C[R++];if(A+oe>k){var he=(k-A)/oe;t.lineTo(p*(1-he)+a*he,m*(1-he)+h*he);break e}A+=oe}t.closePath(),p=a,m=h}}},e.prototype.clone=function(){var t=new e,r=this.data;return t.data=r.slice?r.slice():Array.prototype.slice.call(r),t._len=this._len,t},e.CMD=wn,e.initDefaultProps=(function(){var t=e.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0})(),e})();function Ph(e,t,r,n,i,o,s){if(i===0)return!1;var a=i,h=0,p=e;if(s>t+a&&s>n+a||s<t-a&&s<n-a||o>e+a&&o>r+a||o<e-a&&o<r-a)return!1;if(e!==r)h=(t-n)/(e-r),p=(e*n-r*t)/(e-r);else return Math.abs(o-e)<=a/2;var m=h*o-s+p,v=m*m/(h*h+1);return v<=a/2*a/2}function $Pe(e,t,r,n,i,o,s,a,h,p,m){if(h===0)return!1;var v=h;if(m>t+v&&m>n+v&&m>o+v&&m>a+v||m<t-v&&m<n-v&&m<o-v&&m<a-v||p>e+v&&p>r+v&&p>i+v&&p>s+v||p<e-v&&p<r-v&&p<i-v&&p<s-v)return!1;var b=QTe(e,t,r,n,i,o,s,a,p,m);return b<=v/2}function QW(e,t,r,n,i,o,s,a,h){if(s===0)return!1;var p=s;if(h>t+p&&h>n+p&&h>o+p||h<t-p&&h<n-p&&h<o-p||a>e+p&&a>r+p&&a>i+p||a<e-p&&a<r-p&&a<i-p)return!1;var m=rCe(e,t,r,n,i,o,a,h);return m<=p/2}var H4=Math.PI*2;function rw(e){return e%=H4,e<0&&(e+=H4),e}var i_=Math.PI*2;function zPe(e,t,r,n,i,o,s,a,h){if(s===0)return!1;var p=s;a-=e,h-=t;var m=Math.sqrt(a*a+h*h);if(m-p>r||m+p<r)return!1;if(Math.abs(n-i)%i_<1e-4)return!0;if(o){var v=n;n=rw(i),i=rw(v)}else n=rw(n),i=rw(i);n>i&&(i+=i_);var b=Math.atan2(h,a);return b<0&&(b+=i_),b>=n&&b<=i||b+i_>=n&&b+i_<=i}function uf(e,t,r,n,i,o){if(o>t&&o>n||o<t&&o<n||n===t)return 0;var s=(o-t)/(n-t),a=n<t?1:-1;(s===1||s===0)&&(a=n<t?.5:-.5);var h=s*(r-e)+e;return h===i?1/0:h>i?a:0}var hh=Zh.CMD,cf=Math.PI*2,BPe=1e-4;function FPe(e,t){return Math.abs(e-t)<BPe}var ca=[-1,-1,-1],Rs=[-1,-1];function NPe(){var e=Rs[0];Rs[0]=Rs[1],Rs[1]=e}function VPe(e,t,r,n,i,o,s,a,h,p){if(p>t&&p>n&&p>o&&p>a||p<t&&p<n&&p<o&&p<a)return 0;var m=KS(t,n,o,a,p,ca);if(m===0)return 0;for(var v=0,b=-1,x=void 0,C=void 0,I=0;I<m;I++){var A=ca[I],R=A===0||A===1?.5:1,k=Ao(e,r,i,s,A);k<h||(b<0&&(b=wW(t,n,o,a,Rs),Rs[1]<Rs[0]&&b>1&&NPe(),x=Ao(t,n,o,a,Rs[0]),b>1&&(C=Ao(t,n,o,a,Rs[1]))),b===2?A<Rs[0]?v+=x<t?R:-R:A<Rs[1]?v+=C<x?R:-R:v+=a<C?R:-R:A<Rs[0]?v+=x<t?R:-R:v+=a<x?R:-R)}return v}function jPe(e,t,r,n,i,o,s,a){if(a>t&&a>n&&a>o||a<t&&a<n&&a<o)return 0;var h=tCe(t,n,o,a,ca);if(h===0)return 0;var p=SW(t,n,o);if(p>=0&&p<=1){for(var m=0,v=pa(t,n,o,p),b=0;b<h;b++){var x=ca[b]===0||ca[b]===1?.5:1,C=pa(e,r,i,ca[b]);C<s||(ca[b]<p?m+=v<t?x:-x:m+=o<v?x:-x)}return m}else{var x=ca[0]===0||ca[0]===1?.5:1,C=pa(e,r,i,ca[0]);return C<s?0:o<t?x:-x}}function HPe(e,t,r,n,i,o,s,a){if(a-=t,a>r||a<-r)return 0;var h=Math.sqrt(r*r-a*a);ca[0]=-h,ca[1]=h;var p=Math.abs(n-i);if(p<1e-4)return 0;if(p>=cf-1e-4){n=0,i=cf;var m=o?1:-1;return s>=ca[0]+e&&s<=ca[1]+e?m:0}if(n>i){var v=n;n=i,i=v}n<0&&(n+=cf,i+=cf);for(var b=0,x=0;x<2;x++){var C=ca[x];if(C+e>s){var I=Math.atan2(a,C),m=o?1:-1;I<0&&(I=cf+I),(I>=n&&I<=i||I+cf>=n&&I+cf<=i)&&(I>Math.PI/2&&I<Math.PI*1.5&&(m=-m),b+=m)}}return b}function eq(e,t,r,n,i){for(var o=e.data,s=e.len(),a=0,h=0,p=0,m=0,v=0,b,x,C=0;C<s;){var I=o[C++],A=C===1;switch(I===hh.M&&C>1&&(r||(a+=uf(h,p,m,v,n,i))),A&&(h=o[C],p=o[C+1],m=h,v=p),I){case hh.M:m=o[C++],v=o[C++],h=m,p=v;break;case hh.L:if(r){if(Ph(h,p,o[C],o[C+1],t,n,i))return!0}else a+=uf(h,p,o[C],o[C+1],n,i)||0;h=o[C++],p=o[C++];break;case hh.C:if(r){if($Pe(h,p,o[C++],o[C++],o[C++],o[C++],o[C],o[C+1],t,n,i))return!0}else a+=VPe(h,p,o[C++],o[C++],o[C++],o[C++],o[C],o[C+1],n,i)||0;h=o[C++],p=o[C++];break;case hh.Q:if(r){if(QW(h,p,o[C++],o[C++],o[C],o[C+1],t,n,i))return!0}else a+=jPe(h,p,o[C++],o[C++],o[C],o[C+1],n,i)||0;h=o[C++],p=o[C++];break;case hh.A:var R=o[C++],k=o[C++],$=o[C++],N=o[C++],H=o[C++],W=o[C++];C+=1;var j=!!(1-o[C++]);b=Math.cos(H)*$+R,x=Math.sin(H)*N+k,A?(m=b,v=x):a+=uf(h,p,b,x,n,i);var X=(n-R)*N/$+R;if(r){if(zPe(R,k,N,H,H+W,j,t,X,i))return!0}else a+=HPe(R,k,N,H,H+W,j,X,i);h=Math.cos(H+W)*$+R,p=Math.sin(H+W)*N+k;break;case hh.R:m=h=o[C++],v=p=o[C++];var K=o[C++],Q=o[C++];if(b=m+K,x=v+Q,r){if(Ph(m,v,b,v,t,n,i)||Ph(b,v,b,x,t,n,i)||Ph(b,x,m,x,t,n,i)||Ph(m,x,m,v,t,n,i))return!0}else a+=uf(b,v,b,x,n,i),a+=uf(m,x,m,v,n,i);break;case hh.Z:if(r){if(Ph(h,p,m,v,t,n,i))return!0}else a+=uf(h,p,m,v,n,i);h=m,p=v;break}}return!r&&!FPe(p,v)&&(a+=uf(h,p,m,v,n,i)||0),a!==0}function GPe(e,t,r){return eq(e,0,!1,t,r)}function UPe(e,t,r,n){return eq(e,t,!0,r,n)}var i2=Mn({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Gf),WPe={style:Mn({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},TT.style)},aI=B0.concat(["invisible","culling","z","z2","zlevel","parent"]),vn=(function(e){qt(t,e);function t(r){return e.call(this,r)||this}return t.prototype.update=function(){var r=this;e.prototype.update.call(this);var n=this.style;if(n.decal){var i=this._decalEl=this._decalEl||new t;i.buildPath===t.prototype.buildPath&&(i.buildPath=function(h){r.buildPath(h,r.shape)}),i.silent=!0;var o=i.style;for(var s in n)o[s]!==n[s]&&(o[s]=n[s]);o.fill=n.fill?n.decal:null,o.decal=null,o.shadowColor=null,n.strokeFirst&&(o.stroke=null);for(var a=0;a<aI.length;++a)i[aI[a]]=this[aI[a]];i.__dirty|=ns}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(r){var n=on(r);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var o=0;o<n.length;o++){var s=n[o],a=r[s];s==="style"?this.style?Kt(this.style,a):this.useStyle(a):s==="shape"?Kt(this.shape,a):e.prototype.attrKV.call(this,s,a)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var r=this.style.fill;if(r!=="none"){if(cr(r)){var n=QS(r,0);return n>.5?FA:n>.2?ICe:NA}else if(r)return NA}return FA},t.prototype.getInsideTextStroke=function(r){var n=this.style.fill;if(cr(n)){var i=this.__zr,o=!!(i&&i.isDarkMode()),s=QS(r,0)<BA;if(o===s)return n}},t.prototype.buildPath=function(r,n,i){},t.prototype.pathUpdated=function(){this.__dirty&=~Zm},t.prototype.getUpdatedPathProxy=function(r){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,r),this.path},t.prototype.createPathProxy=function(){this.path=new Zh(!1)},t.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return!(n==null||n==="none"||!(r.lineWidth>0))},t.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},t.prototype.getBoundingRect=function(){var r=this._rect,n=this.style,i=!r;if(i){var o=!1;this.path||(o=!0,this.createPathProxy());var s=this.path;(o||this.__dirty&Zm)&&(s.beginPath(),this.buildPath(s,this.shape,!1),this.pathUpdated()),r=s.getBoundingRect()}if(this._rect=r,this.hasStroke()&&this.path&&this.path.len()>0){var a=this._rectStroke||(this._rectStroke=r.clone());if(this.__dirty||i){a.copy(r);var h=n.strokeNoScale?this.getLineScale():1,p=n.lineWidth;if(!this.hasFill()){var m=this.strokeContainThreshold;p=Math.max(p,m??4)}h>1e-10&&(a.width+=p/h,a.height+=p/h,a.x-=p/h/2,a.y-=p/h/2)}return a}return r},t.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),o=this.getBoundingRect(),s=this.style;if(r=i[0],n=i[1],o.contain(r,n)){var a=this.path;if(this.hasStroke()){var h=s.lineWidth,p=s.strokeNoScale?this.getLineScale():1;if(p>1e-10&&(this.hasFill()||(h=Math.max(h,this.strokeContainThreshold)),UPe(a,h/p,r,n)))return!0}if(this.hasFill())return GPe(a,r,n)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=Zm,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(r){return this.animate("shape",r)},t.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():r==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(r,n){r==="shape"?this.setShape(n):e.prototype.attrKV.call(this,r,n)},t.prototype.setShape=function(r,n){var i=this.shape;return i||(i=this.shape={}),typeof r=="string"?i[r]=n:Kt(i,r),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&Zm)},t.prototype.createStyle=function(r){return vT(i2,r)},t.prototype._innerSaveToNormal=function(r){e.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.shape&&!n.shape&&(n.shape=Kt({},this.shape))},t.prototype._applyStateObj=function(r,n,i,o,s,a){e.prototype._applyStateObj.call(this,r,n,i,o,s,a);var h=!(n&&o),p;if(n&&n.shape?s?o?p=n.shape:(p=Kt({},i.shape),Kt(p,n.shape)):(p=Kt({},o?this.shape:i.shape),Kt(p,n.shape)):h&&(p=i.shape),p)if(s){this.shape=Kt({},this.shape);for(var m={},v=on(p),b=0;b<v.length;b++){var x=v[b];typeof p[x]=="object"?this.shape[x]=p[x]:m[x]=p[x]}this._transitionState(r,{shape:m},a)}else this.shape=p,this.dirtyShape()},t.prototype._mergeStates=function(r){for(var n=e.prototype._mergeStates.call(this,r),i,o=0;o<r.length;o++){var s=r[o];s.shape&&(i=i||{},this._mergeStyle(i,s.shape))}return i&&(n.shape=i),n},t.prototype.getAnimationStyleProps=function(){return WPe},t.prototype.isZeroArea=function(){return!1},t.extend=function(r){var n=(function(o){qt(s,o);function s(a){var h=o.call(this,a)||this;return r.init&&r.init.call(h,a),h}return s.prototype.getDefaultStyle=function(){return Xr(r.style)},s.prototype.getDefaultShape=function(){return Xr(r.shape)},s})(t);for(var i in r)typeof r[i]=="function"&&(n.prototype[i]=r[i]);return n},t.initDefaultProps=(function(){var r=t.prototype;r.type="path",r.strokeContainThreshold=5,r.segmentIgnoreThreshold=0,r.subPixelOptimize=!1,r.autoBatch=!1,r.__dirty=ns|P_|Zm})(),t})(Eb),qPe=Mn({strokeFirst:!0,font:qh,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},i2),V0=(function(e){qt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return n!=null&&n!=="none"&&r.lineWidth>0},t.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},t.prototype.createStyle=function(r){return vT(qPe,r)},t.prototype.setBoundingRect=function(r){this._rect=r},t.prototype.getBoundingRect=function(){var r=this.style;if(!this._rect){var n=r.text;n!=null?n+="":n="";var i=tO(n,r.font,r.textAlign,r.textBaseline);if(i.x+=r.x||0,i.y+=r.y||0,this.hasStroke()){var o=r.lineWidth;i.x-=o/2,i.y-=o/2,i.width+=o,i.height+=o}this._rect=i}return this._rect},t.initDefaultProps=(function(){var r=t.prototype;r.dirtyRectTolerance=10})(),t})(Eb);V0.prototype.type="tspan";var ZPe=Mn({x:0,y:0},Gf),XPe={style:Mn({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},TT.style)};function KPe(e){return!!(e&&typeof e!="string"&&e.width&&e.height)}var xu=(function(e){qt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.createStyle=function(r){return vT(ZPe,r)},t.prototype._getSize=function(r){var n=this.style,i=n[r];if(i!=null)return i;var o=KPe(n.image)?n.image:this.__image;if(!o)return 0;var s=r==="width"?"height":"width",a=n[s];return a==null?o[r]:o[r]/o[s]*a},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return XPe},t.prototype.getBoundingRect=function(){var r=this.style;return this._rect||(this._rect=new ln(r.x||0,r.y||0,this.getWidth(),this.getHeight())),this._rect},t})(Eb);xu.prototype.type="image";function YPe(e,t){var r=t.x,n=t.y,i=t.width,o=t.height,s=t.r,a,h,p,m;i<0&&(r=r+i,i=-i),o<0&&(n=n+o,o=-o),typeof s=="number"?a=h=p=m=s:s instanceof Array?s.length===1?a=h=p=m=s[0]:s.length===2?(a=p=s[0],h=m=s[1]):s.length===3?(a=s[0],h=m=s[1],p=s[2]):(a=s[0],h=s[1],p=s[2],m=s[3]):a=h=p=m=0;var v;a+h>i&&(v=a+h,a*=i/v,h*=i/v),p+m>i&&(v=p+m,p*=i/v,m*=i/v),h+p>o&&(v=h+p,h*=o/v,p*=o/v),a+m>o&&(v=a+m,a*=o/v,m*=o/v),e.moveTo(r+a,n),e.lineTo(r+i-h,n),h!==0&&e.arc(r+i-h,n+h,h,-Math.PI/2,0),e.lineTo(r+i,n+o-p),p!==0&&e.arc(r+i-p,n+o-p,p,0,Math.PI/2),e.lineTo(r+m,n+o),m!==0&&e.arc(r+m,n+o-m,m,Math.PI/2,Math.PI),e.lineTo(r,n+a),a!==0&&e.arc(r+a,n+a,a,Math.PI,Math.PI*1.5)}var sg=Math.round;function tq(e,t,r){if(t){var n=t.x1,i=t.x2,o=t.y1,s=t.y2;e.x1=n,e.x2=i,e.y1=o,e.y2=s;var a=r&&r.lineWidth;return a&&(sg(n*2)===sg(i*2)&&(e.x1=e.x2=Lf(n,a,!0)),sg(o*2)===sg(s*2)&&(e.y1=e.y2=Lf(o,a,!0))),e}}function rq(e,t,r){if(t){var n=t.x,i=t.y,o=t.width,s=t.height;e.x=n,e.y=i,e.width=o,e.height=s;var a=r&&r.lineWidth;return a&&(e.x=Lf(n,a,!0),e.y=Lf(i,a,!0),e.width=Math.max(Lf(n+o,a,!1)-e.x,o===0?0:1),e.height=Math.max(Lf(i+s,a,!1)-e.y,s===0?0:1)),e}}function Lf(e,t,r){if(!t)return e;var n=sg(e*2);return(n+sg(t))%2===0?n/2:(n+(r?1:-1))/2}var JPe=(function(){function e(){this.x=0,this.y=0,this.width=0,this.height=0}return e})(),QPe={},Oi=(function(e){qt(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new JPe},t.prototype.buildPath=function(r,n){var i,o,s,a;if(this.subPixelOptimize){var h=rq(QPe,n,this.style);i=h.x,o=h.y,s=h.width,a=h.height,h.r=n.r,n=h}else i=n.x,o=n.y,s=n.width,a=n.height;n.r?YPe(r,n):r.rect(i,o,s,a)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t})(vn);Oi.prototype.type="rect";var G4={fill:"#000"},U4=2,eMe={style:Mn({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},TT.style)},$o=(function(e){qt(t,e);function t(r){var n=e.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=G4,n.attr(r),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){e.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var r=0;r<this._children.length;r++){var n=this._children[r];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},t.prototype.updateTransform=function(){var r=this.innerTransformable;r?(r.updateTransform(),r.transform&&(this.transform=r.transform)):e.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(r){var n=this.innerTransformable;return n?n.getLocalTransform(r):e.prototype.getLocalTransform.call(this,r)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),e.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,nMe(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(r){e.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=r},t.prototype.removeSelfFromZr=function(r){e.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var r=new ln(0,0,0,0),n=this._children,i=[],o=null,s=0;s<n.length;s++){var a=n[s],h=a.getBoundingRect(),p=a.getLocalTransform(i);p?(r.copy(h),r.applyTransform(p),o=o||r.clone(),o.union(r)):(o=o||h.clone(),o.union(h))}this._rect=o||r}return this._rect},t.prototype.setDefaultTextStyle=function(r){this._defaultStyle=r||G4},t.prototype.setTextContent=function(r){},t.prototype._mergeStyle=function(r,n){if(!n)return r;var i=n.rich,o=r.rich||i&&{};return Kt(r,n),i&&o?(this._mergeRich(o,i),r.rich=o):o&&(r.rich=o),r},t.prototype._mergeRich=function(r,n){for(var i=on(n),o=0;o<i.length;o++){var s=i[o];r[s]=r[s]||{},Kt(r[s],n[s])}},t.prototype.getAnimationStyleProps=function(){return eMe},t.prototype._getOrCreateChild=function(r){var n=this._children[this._childCursor];return(!n||!(n instanceof r))&&(n=new r),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},t.prototype._updatePlainTexts=function(){var r=this.style,n=r.font||qh,i=r.padding,o=J4(r),s=SPe(o,r),a=sI(r),h=!!r.backgroundColor,p=s.outerHeight,m=s.outerWidth,v=s.contentWidth,b=s.lines,x=s.lineHeight,C=this._defaultStyle;this.isTruncated=!!s.isTruncated;var I=r.x||0,A=r.y||0,R=r.align||C.align||"left",k=r.verticalAlign||C.verticalAlign||"top",$=I,N=Xm(A,s.contentHeight,k);if(a||i){var H=I_(I,m,R),W=Xm(A,p,k);a&&this._renderBackground(r,r,H,W,m,p)}N+=x/2,i&&($=Y4(I,R,i),k==="top"?N+=i[0]:k==="bottom"&&(N-=i[2]));for(var j=0,X=!1,K=K4("fill"in r?r.fill:(X=!0,C.fill)),Q=X4("stroke"in r?r.stroke:!h&&(!C.autoStroke||X)?(j=U4,C.stroke):null),oe=r.textShadowBlur>0,he=r.width!=null&&(r.overflow==="truncate"||r.overflow==="break"||r.overflow==="breakAll"),ye=s.calculatedLineHeight,be=0;be<b.length;be++){var ce=this._getOrCreateChild(V0),de=ce.createStyle();ce.useStyle(de),de.text=b[be],de.x=$,de.y=N,de.textAlign=R,de.textBaseline="middle",de.opacity=r.opacity,de.strokeFirst=!0,oe&&(de.shadowBlur=r.textShadowBlur||0,de.shadowColor=r.textShadowColor||"transparent",de.shadowOffsetX=r.textShadowOffsetX||0,de.shadowOffsetY=r.textShadowOffsetY||0),de.stroke=Q,de.fill=K,Q&&(de.lineWidth=r.lineWidth||j,de.lineDash=r.lineDash,de.lineDashOffset=r.lineDashOffset||0),de.font=n,q4(de,r),N+=x,he&&ce.setBoundingRect(new ln(I_(de.x,v,de.textAlign),Xm(de.y,ye,de.textBaseline),v,ye))}},t.prototype._updateRichTexts=function(){var r=this.style,n=J4(r),i=PPe(n,r),o=i.width,s=i.outerWidth,a=i.outerHeight,h=r.padding,p=r.x||0,m=r.y||0,v=this._defaultStyle,b=r.align||v.align,x=r.verticalAlign||v.verticalAlign;this.isTruncated=!!i.isTruncated;var C=I_(p,s,b),I=Xm(m,a,x),A=C,R=I;h&&(A+=h[3],R+=h[0]);var k=A+o;sI(r)&&this._renderBackground(r,r,C,I,s,a);for(var $=!!r.backgroundColor,N=0;N<i.lines.length;N++){for(var H=i.lines[N],W=H.tokens,j=W.length,X=H.lineHeight,K=H.width,Q=0,oe=A,he=k,ye=j-1,be=void 0;Q<j&&(be=W[Q],!be.align||be.align==="left");)this._placeToken(be,r,X,R,oe,"left",$),K-=be.width,oe+=be.width,Q++;for(;ye>=0&&(be=W[ye],be.align==="right");)this._placeToken(be,r,X,R,he,"right",$),K-=be.width,he-=be.width,ye--;for(oe+=(o-(oe-A)-(k-he)-K)/2;Q<=ye;)be=W[Q],this._placeToken(be,r,X,R,oe+be.width/2,"center",$),oe+=be.width,Q++;R+=X}},t.prototype._placeToken=function(r,n,i,o,s,a,h){var p=n.rich[r.styleName]||{};p.text=r.text;var m=r.verticalAlign,v=o+i/2;m==="top"?v=o+r.height/2:m==="bottom"&&(v=o+i-r.height/2);var b=!r.isLineHolder&&sI(p);b&&this._renderBackground(p,n,a==="right"?s-r.width:a==="center"?s-r.width/2:s,v-r.height/2,r.width,r.height);var x=!!p.backgroundColor,C=r.textPadding;C&&(s=Y4(s,a,C),v-=r.height/2-C[0]-r.innerHeight/2);var I=this._getOrCreateChild(V0),A=I.createStyle();I.useStyle(A);var R=this._defaultStyle,k=!1,$=0,N=K4("fill"in p?p.fill:"fill"in n?n.fill:(k=!0,R.fill)),H=X4("stroke"in p?p.stroke:"stroke"in n?n.stroke:!x&&!h&&(!R.autoStroke||k)?($=U4,R.stroke):null),W=p.textShadowBlur>0||n.textShadowBlur>0;A.text=r.text,A.x=s,A.y=v,W&&(A.shadowBlur=p.textShadowBlur||n.textShadowBlur||0,A.shadowColor=p.textShadowColor||n.textShadowColor||"transparent",A.shadowOffsetX=p.textShadowOffsetX||n.textShadowOffsetX||0,A.shadowOffsetY=p.textShadowOffsetY||n.textShadowOffsetY||0),A.textAlign=a,A.textBaseline="middle",A.font=r.font||qh,A.opacity=Yw(p.opacity,n.opacity,1),q4(A,p),H&&(A.lineWidth=Yw(p.lineWidth,n.lineWidth,$),A.lineDash=$r(p.lineDash,n.lineDash),A.lineDashOffset=n.lineDashOffset||0,A.stroke=H),N&&(A.fill=N);var j=r.contentWidth,X=r.contentHeight;I.setBoundingRect(new ln(I_(A.x,j,A.textAlign),Xm(A.y,X,A.textBaseline),j,X))},t.prototype._renderBackground=function(r,n,i,o,s,a){var h=r.backgroundColor,p=r.borderWidth,m=r.borderColor,v=h&&h.image,b=h&&!v,x=r.borderRadius,C=this,I,A;if(b||r.lineHeight||p&&m){I=this._getOrCreateChild(Oi),I.useStyle(I.createStyle()),I.style.fill=null;var R=I.shape;R.x=i,R.y=o,R.width=s,R.height=a,R.r=x,I.dirtyShape()}if(b){var k=I.style;k.fill=h||null,k.fillOpacity=$r(r.fillOpacity,1)}else if(v){A=this._getOrCreateChild(xu),A.onload=function(){C.dirtyStyle()};var $=A.style;$.image=h.image,$.x=i,$.y=o,$.width=s,$.height=a}if(p&&m){var k=I.style;k.lineWidth=p,k.stroke=m,k.strokeOpacity=$r(r.strokeOpacity,1),k.lineDash=r.borderDash,k.lineDashOffset=r.borderDashOffset||0,I.strokeContainThreshold=0,I.hasFill()&&I.hasStroke()&&(k.strokeFirst=!0,k.lineWidth*=2)}var N=(I||A).style;N.shadowBlur=r.shadowBlur||0,N.shadowColor=r.shadowColor||"transparent",N.shadowOffsetX=r.shadowOffsetX||0,N.shadowOffsetY=r.shadowOffsetY||0,N.opacity=Yw(r.opacity,n.opacity,1)},t.makeFont=function(r){var n="";return iq(r)&&(n=[r.fontStyle,r.fontWeight,nq(r.fontSize),r.fontFamily||"sans-serif"].join(" ")),n&&lu(n)||r.textFont||r.font},t})(Eb),tMe={left:!0,right:1,center:1},rMe={top:1,bottom:1,middle:1},W4=["fontStyle","fontWeight","fontSize","fontFamily"];function nq(e){return typeof e=="string"&&(e.indexOf("px")!==-1||e.indexOf("rem")!==-1||e.indexOf("em")!==-1)?e:isNaN(+e)?VR+"px":e+"px"}function q4(e,t){for(var r=0;r<W4.length;r++){var n=W4[r],i=t[n];i!=null&&(e[n]=i)}}function iq(e){return e.fontSize!=null||e.fontFamily||e.fontWeight}function nMe(e){return Z4(e),Ve(e.rich,Z4),e}function Z4(e){if(e){e.font=$o.makeFont(e);var t=e.align;t==="middle"&&(t="center"),e.align=t==null||tMe[t]?t:"left";var r=e.verticalAlign;r==="center"&&(r="middle"),e.verticalAlign=r==null||rMe[r]?r:"top";var n=e.padding;n&&(e.padding=cW(e.padding))}}function X4(e,t){return e==null||t<=0||e==="transparent"||e==="none"?null:e.image||e.colorStops?"#000":e}function K4(e){return e==null||e==="none"?null:e.image||e.colorStops?"#000":e}function Y4(e,t,r){return t==="right"?e-r[1]:t==="center"?e+r[3]/2-r[1]/2:e+r[3]}function J4(e){var t=e.text;return t!=null&&(t+=""),t}function sI(e){return!!(e.backgroundColor||e.lineHeight||e.borderWidth&&e.borderColor)}var nn=Bi(),iMe=function(e,t,r,n){if(n){var i=nn(n);i.dataIndex=r,i.dataType=t,i.seriesIndex=e,i.ssrType="chart",n.type==="group"&&n.traverse(function(o){var s=nn(o);s.seriesIndex=e,s.dataIndex=r,s.dataType=t,s.ssrType="chart"})}},Q4=1,e6={},oq=Bi(),sO=Bi(),lO=0,CT=1,PT=2,Gs=["emphasis","blur","select"],t6=["normal","emphasis","blur","select"],oMe=10,aMe=9,Uf="highlight",oS="downplay",n0="select",aS="unselect",i0="toggleSelect";function Lm(e){return e!=null&&e!=="none"}function MT(e,t,r){e.onHoverStateChange&&(e.hoverState||0)!==r&&e.onHoverStateChange(t),e.hoverState=r}function aq(e){MT(e,"emphasis",PT)}function sq(e){e.hoverState===PT&&MT(e,"normal",lO)}function uO(e){MT(e,"blur",CT)}function lq(e){e.hoverState===CT&&MT(e,"normal",lO)}function sMe(e){e.selected=!0}function lMe(e){e.selected=!1}function r6(e,t,r){t(e,r)}function Rc(e,t,r){r6(e,t,r),e.isGroup&&e.traverse(function(n){r6(n,t,r)})}function n6(e,t){switch(t){case"emphasis":e.hoverState=PT;break;case"normal":e.hoverState=lO;break;case"blur":e.hoverState=CT;break;case"select":e.selected=!0}}function uMe(e,t,r,n){for(var i=e.style,o={},s=0;s<t.length;s++){var a=t[s],h=i[a];o[a]=h??(n&&n[a])}for(var s=0;s<e.animators.length;s++){var p=e.animators[s];p.__fromStateTransition&&p.__fromStateTransition.indexOf(r)<0&&p.targetName==="style"&&p.saveTo(o,t)}return o}function cMe(e,t,r,n){var i=r&&sn(r,"select")>=0,o=!1;if(e instanceof vn){var s=oq(e),a=i&&s.selectFill||s.normalFill,h=i&&s.selectStroke||s.normalStroke;if(Lm(a)||Lm(h)){n=n||{};var p=n.style||{};p.fill==="inherit"?(o=!0,n=Kt({},n),p=Kt({},p),p.fill=a):!Lm(p.fill)&&Lm(a)?(o=!0,n=Kt({},n),p=Kt({},p),p.fill=DA(a)):!Lm(p.stroke)&&Lm(h)&&(o||(n=Kt({},n),p=Kt({},p)),p.stroke=DA(h)),n.style=p}}if(n&&n.z2==null){o||(n=Kt({},n));var m=e.z2EmphasisLift;n.z2=e.z2+(m??oMe)}return n}function hMe(e,t,r){if(r&&r.z2==null){r=Kt({},r);var n=e.z2SelectLift;r.z2=e.z2+(n??aMe)}return r}function dMe(e,t,r){var n=sn(e.currentStates,t)>=0,i=e.style.opacity,o=n?null:uMe(e,["opacity"],t,{opacity:1});r=r||{};var s=r.style||{};return s.opacity==null&&(r=Kt({},r),s=Kt({opacity:n?i:o.opacity*.1},s),r.style=s),r}function lI(e,t){var r=this.states[e];if(this.style){if(e==="emphasis")return cMe(this,e,t,r);if(e==="blur")return dMe(this,e,r);if(e==="select")return hMe(this,e,r)}return r}function fMe(e){e.stateProxy=lI;var t=e.getTextContent(),r=e.getTextGuideLine();t&&(t.stateProxy=lI),r&&(r.stateProxy=lI)}function i6(e,t){!dq(e,t)&&!e.__highByOuter&&Rc(e,aq)}function o6(e,t){!dq(e,t)&&!e.__highByOuter&&Rc(e,sq)}function j0(e,t){e.__highByOuter|=1<<(t||0),Rc(e,aq)}function H0(e,t){!(e.__highByOuter&=~(1<<(t||0)))&&Rc(e,sq)}function uq(e){Rc(e,uO)}function cO(e){Rc(e,lq)}function cq(e){Rc(e,sMe)}function hq(e){Rc(e,lMe)}function dq(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function fq(e){var t=e.getModel(),r=[],n=[];t.eachComponent(function(i,o){var s=sO(o),a=i==="series",h=a?e.getViewOfSeriesModel(o):e.getViewOfComponentModel(o);!a&&n.push(h),s.isBlured&&(h.group.traverse(function(p){lq(p)}),a&&r.push(o)),s.isBlured=!1}),Ve(n,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(r,!1,t)})}function WA(e,t,r,n){var i=n.getModel();r=r||"coordinateSystem";function o(p,m){for(var v=0;v<m.length;v++){var b=p.getItemGraphicEl(m[v]);b&&cO(b)}}if(e!=null&&!(!t||t==="none")){var s=i.getSeriesByIndex(e),a=s.coordinateSystem;a&&a.master&&(a=a.master);var h=[];i.eachSeries(function(p){var m=s===p,v=p.coordinateSystem;v&&v.master&&(v=v.master);var b=v&&a?v===a:m;if(!(r==="series"&&!m||r==="coordinateSystem"&&!b||t==="series"&&m)){var x=n.getViewOfSeriesModel(p);if(x.group.traverse(function(A){A.__highByOuter&&m&&t==="self"||uO(A)}),$a(t))o(p.getData(),t);else if(Sr(t))for(var C=on(t),I=0;I<C.length;I++)o(p.getData(C[I]),t[C[I]]);h.push(p),sO(p).isBlured=!0}}),i.eachComponent(function(p,m){if(p!=="series"){var v=n.getViewOfComponentModel(m);v&&v.toggleBlurSeries&&v.toggleBlurSeries(h,!0,i)}})}}function qA(e,t,r){if(!(e==null||t==null)){var n=r.getModel().getComponent(e,t);if(n){sO(n).isBlured=!0;var i=r.getViewOfComponentModel(n);!i||!i.focusBlurEnabled||i.group.traverse(function(o){uO(o)})}}}function pMe(e,t,r){var n=e.seriesIndex,i=e.getData(t.dataType);if(i){var o=ip(i,t);o=(nr(o)?o[0]:o)||0;var s=i.getItemGraphicEl(o);if(!s)for(var a=i.count(),h=0;!s&&h<a;)s=i.getItemGraphicEl(h++);if(s){var p=nn(s);WA(n,p.focus,p.blurScope,r)}else{var m=e.get(["emphasis","focus"]),v=e.get(["emphasis","blurScope"]);m!=null&&WA(n,m,v,r)}}}function hO(e,t,r,n){var i={focusSelf:!1,dispatchers:null};if(e==null||e==="series"||t==null||r==null)return i;var o=n.getModel().getComponent(e,t);if(!o)return i;var s=n.getViewOfComponentModel(o);if(!s||!s.findHighDownDispatchers)return i;for(var a=s.findHighDownDispatchers(r),h,p=0;p<a.length;p++)if(nn(a[p]).focus==="self"){h=!0;break}return{focusSelf:h,dispatchers:a}}function mMe(e,t,r){var n=nn(e),i=hO(n.componentMainType,n.componentIndex,n.componentHighDownName,r),o=i.dispatchers,s=i.focusSelf;o?(s&&qA(n.componentMainType,n.componentIndex,r),Ve(o,function(a){return i6(a,t)})):(WA(n.seriesIndex,n.focus,n.blurScope,r),n.focus==="self"&&qA(n.componentMainType,n.componentIndex,r),i6(e,t))}function gMe(e,t,r){fq(r);var n=nn(e),i=hO(n.componentMainType,n.componentIndex,n.componentHighDownName,r).dispatchers;i?Ve(i,function(o){return o6(o,t)}):o6(e,t)}function vMe(e,t,r){if(XA(t)){var n=t.dataType,i=e.getData(n),o=ip(i,t);nr(o)||(o=[o]),e[t.type===i0?"toggleSelect":t.type===n0?"select":"unselect"](o,n)}}function a6(e){var t=e.getAllData();Ve(t,function(r){var n=r.data,i=r.type;n.eachItemGraphicEl(function(o,s){e.isSelected(s,i)?cq(o):hq(o)})})}function yMe(e){var t=[];return e.eachSeries(function(r){var n=r.getAllData();Ve(n,function(i){i.data;var o=i.type,s=r.getSelectedDataIndices();if(s.length>0){var a={dataIndex:s,seriesIndex:r.seriesIndex};o!=null&&(a.dataType=o),t.push(a)}})}),t}function o2(e,t,r){pq(e,!0),Rc(e,fMe),bMe(e,t,r)}function _Me(e){pq(e,!1)}function G0(e,t,r,n){n?_Me(e):o2(e,t,r)}function bMe(e,t,r){var n=nn(e);t!=null?(n.focus=t,n.blurScope=r):n.focus&&(n.focus=null)}var s6=["emphasis","blur","select"],xMe={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function l6(e,t,r,n){r=r||"itemStyle";for(var i=0;i<s6.length;i++){var o=s6[i],s=t.getModel([o,r]),a=e.ensureState(o);a.style=s[xMe[r]]()}}function pq(e,t){var r=t===!1,n=e;e.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=e.highDownSilentOnTouch),(!r||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!r)}function ZA(e){return!!(e&&e.__highDownDispatcher)}function wMe(e){var t=e6[e];return t==null&&Q4<=32&&(t=e6[e]=Q4++),t}function XA(e){var t=e.type;return t===n0||t===aS||t===i0}function u6(e){var t=e.type;return t===Uf||t===oS}function SMe(e){var t=oq(e);t.normalFill=e.style.fill,t.normalStroke=e.style.stroke;var r=e.states.select||{};t.selectFill=r.style&&r.style.fill||null,t.selectStroke=r.style&&r.style.stroke||null}var Rm=Zh.CMD,TMe=[[],[],[]],c6=Math.sqrt,CMe=Math.atan2;function PMe(e,t){if(t){var r=e.data,n=e.len(),i,o,s,a,h,p,m=Rm.M,v=Rm.C,b=Rm.L,x=Rm.R,C=Rm.A,I=Rm.Q;for(s=0,a=0;s<n;){switch(i=r[s++],a=s,o=0,i){case m:o=1;break;case b:o=1;break;case v:o=3;break;case I:o=2;break;case C:var A=t[4],R=t[5],k=c6(t[0]*t[0]+t[1]*t[1]),$=c6(t[2]*t[2]+t[3]*t[3]),N=CMe(-t[1]/$,t[0]/k);r[s]*=k,r[s++]+=A,r[s]*=$,r[s++]+=R,r[s++]*=k,r[s++]*=$,r[s++]+=N,r[s++]+=N,s+=2,a=s;break;case x:p[0]=r[s++],p[1]=r[s++],Vs(p,p,t),r[a++]=p[0],r[a++]=p[1],p[0]+=r[s++],p[1]+=r[s++],Vs(p,p,t),r[a++]=p[0],r[a++]=p[1]}for(h=0;h<o;h++){var H=TMe[h];H[0]=r[s++],H[1]=r[s++],Vs(H,H,t),r[a++]=H[0],r[a++]=H[1]}}e.increaseVersion()}}var uI=Math.sqrt,nw=Math.sin,iw=Math.cos,o_=Math.PI;function h6(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function KA(e,t){return(e[0]*t[0]+e[1]*t[1])/(h6(e)*h6(t))}function d6(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(KA(e,t))}function f6(e,t,r,n,i,o,s,a,h,p,m){var v=h*(o_/180),b=iw(v)*(e-r)/2+nw(v)*(t-n)/2,x=-1*nw(v)*(e-r)/2+iw(v)*(t-n)/2,C=b*b/(s*s)+x*x/(a*a);C>1&&(s*=uI(C),a*=uI(C));var I=(i===o?-1:1)*uI((s*s*(a*a)-s*s*(x*x)-a*a*(b*b))/(s*s*(x*x)+a*a*(b*b)))||0,A=I*s*x/a,R=I*-a*b/s,k=(e+r)/2+iw(v)*A-nw(v)*R,$=(t+n)/2+nw(v)*A+iw(v)*R,N=d6([1,0],[(b-A)/s,(x-R)/a]),H=[(b-A)/s,(x-R)/a],W=[(-1*b-A)/s,(-1*x-R)/a],j=d6(H,W);if(KA(H,W)<=-1&&(j=o_),KA(H,W)>=1&&(j=0),j<0){var X=Math.round(j/o_*1e6)/1e6;j=o_*2+X%2*o_}m.addData(p,k,$,s,a,N,j,v,o)}var MMe=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,IMe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function EMe(e){var t=new Zh;if(!e)return t;var r=0,n=0,i=r,o=n,s,a=Zh.CMD,h=e.match(MMe);if(!h)return t;for(var p=0;p<h.length;p++){for(var m=h[p],v=m.charAt(0),b=void 0,x=m.match(IMe)||[],C=x.length,I=0;I<C;I++)x[I]=parseFloat(x[I]);for(var A=0;A<C;){var R=void 0,k=void 0,$=void 0,N=void 0,H=void 0,W=void 0,j=void 0,X=r,K=n,Q=void 0,oe=void 0;switch(v){case"l":r+=x[A++],n+=x[A++],b=a.L,t.addData(b,r,n);break;case"L":r=x[A++],n=x[A++],b=a.L,t.addData(b,r,n);break;case"m":r+=x[A++],n+=x[A++],b=a.M,t.addData(b,r,n),i=r,o=n,v="l";break;case"M":r=x[A++],n=x[A++],b=a.M,t.addData(b,r,n),i=r,o=n,v="L";break;case"h":r+=x[A++],b=a.L,t.addData(b,r,n);break;case"H":r=x[A++],b=a.L,t.addData(b,r,n);break;case"v":n+=x[A++],b=a.L,t.addData(b,r,n);break;case"V":n=x[A++],b=a.L,t.addData(b,r,n);break;case"C":b=a.C,t.addData(b,x[A++],x[A++],x[A++],x[A++],x[A++],x[A++]),r=x[A-2],n=x[A-1];break;case"c":b=a.C,t.addData(b,x[A++]+r,x[A++]+n,x[A++]+r,x[A++]+n,x[A++]+r,x[A++]+n),r+=x[A-2],n+=x[A-1];break;case"S":R=r,k=n,Q=t.len(),oe=t.data,s===a.C&&(R+=r-oe[Q-4],k+=n-oe[Q-3]),b=a.C,X=x[A++],K=x[A++],r=x[A++],n=x[A++],t.addData(b,R,k,X,K,r,n);break;case"s":R=r,k=n,Q=t.len(),oe=t.data,s===a.C&&(R+=r-oe[Q-4],k+=n-oe[Q-3]),b=a.C,X=r+x[A++],K=n+x[A++],r+=x[A++],n+=x[A++],t.addData(b,R,k,X,K,r,n);break;case"Q":X=x[A++],K=x[A++],r=x[A++],n=x[A++],b=a.Q,t.addData(b,X,K,r,n);break;case"q":X=x[A++]+r,K=x[A++]+n,r+=x[A++],n+=x[A++],b=a.Q,t.addData(b,X,K,r,n);break;case"T":R=r,k=n,Q=t.len(),oe=t.data,s===a.Q&&(R+=r-oe[Q-4],k+=n-oe[Q-3]),r=x[A++],n=x[A++],b=a.Q,t.addData(b,R,k,r,n);break;case"t":R=r,k=n,Q=t.len(),oe=t.data,s===a.Q&&(R+=r-oe[Q-4],k+=n-oe[Q-3]),r+=x[A++],n+=x[A++],b=a.Q,t.addData(b,R,k,r,n);break;case"A":$=x[A++],N=x[A++],H=x[A++],W=x[A++],j=x[A++],X=r,K=n,r=x[A++],n=x[A++],b=a.A,f6(X,K,r,n,W,j,$,N,H,b,t);break;case"a":$=x[A++],N=x[A++],H=x[A++],W=x[A++],j=x[A++],X=r,K=n,r+=x[A++],n+=x[A++],b=a.A,f6(X,K,r,n,W,j,$,N,H,b,t);break}}(v==="z"||v==="Z")&&(b=a.Z,t.addData(b),r=i,n=o),s=b}return t.toStatic(),t}var mq=(function(e){qt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.applyTransform=function(r){},t})(vn);function gq(e){return e.setData!=null}function vq(e,t){var r=EMe(e),n=Kt({},t);return n.buildPath=function(i){if(gq(i)){i.setData(r.data);var o=i.getContext();o&&i.rebuildPath(o,1)}else{var o=i;r.rebuildPath(o,1)}},n.applyTransform=function(i){PMe(r,i),this.dirtyShape()},n}function AMe(e,t){return new mq(vq(e,t))}function DMe(e,t){var r=vq(e,t),n=(function(i){qt(o,i);function o(s){var a=i.call(this,s)||this;return a.applyTransform=r.applyTransform,a.buildPath=r.buildPath,a}return o})(mq);return n}function LMe(e,t){for(var r=[],n=e.length,i=0;i<n;i++){var o=e[i];r.push(o.getUpdatedPathProxy(!0))}var s=new vn(t);return s.createPathProxy(),s.buildPath=function(a){if(gq(a)){a.appendPath(r);var h=a.getContext();h&&a.rebuildPath(h,1)}},s}var RMe=(function(){function e(){this.cx=0,this.cy=0,this.r=0}return e})(),IT=(function(e){qt(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new RMe},t.prototype.buildPath=function(r,n){r.moveTo(n.cx+n.r,n.cy),r.arc(n.cx,n.cy,n.r,0,Math.PI*2)},t})(vn);IT.prototype.type="circle";var OMe=(function(){function e(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return e})(),dO=(function(e){qt(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new OMe},t.prototype.buildPath=function(r,n){var i=.5522848,o=n.cx,s=n.cy,a=n.rx,h=n.ry,p=a*i,m=h*i;r.moveTo(o-a,s),r.bezierCurveTo(o-a,s-m,o-p,s-h,o,s-h),r.bezierCurveTo(o+p,s-h,o+a,s-m,o+a,s),r.bezierCurveTo(o+a,s+m,o+p,s+h,o,s+h),r.bezierCurveTo(o-p,s+h,o-a,s+m,o-a,s),r.closePath()},t})(vn);dO.prototype.type="ellipse";var yq=Math.PI,cI=yq*2,hf=Math.sin,Om=Math.cos,kMe=Math.acos,Go=Math.atan2,p6=Math.abs,o0=Math.sqrt,A_=Math.max,Kl=Math.min,hl=1e-4;function $Me(e,t,r,n,i,o,s,a){var h=r-e,p=n-t,m=s-i,v=a-o,b=v*h-m*p;if(!(b*b<hl))return b=(m*(t-o)-v*(e-i))/b,[e+b*h,t+b*p]}function ow(e,t,r,n,i,o,s){var a=e-r,h=t-n,p=(s?o:-o)/o0(a*a+h*h),m=p*h,v=-p*a,b=e+m,x=t+v,C=r+m,I=n+v,A=(b+C)/2,R=(x+I)/2,k=C-b,$=I-x,N=k*k+$*$,H=i-o,W=b*I-C*x,j=($<0?-1:1)*o0(A_(0,H*H*N-W*W)),X=(W*$-k*j)/N,K=(-W*k-$*j)/N,Q=(W*$+k*j)/N,oe=(-W*k+$*j)/N,he=X-A,ye=K-R,be=Q-A,ce=oe-R;return he*he+ye*ye>be*be+ce*ce&&(X=Q,K=oe),{cx:X,cy:K,x0:-m,y0:-v,x1:X*(i/H-1),y1:K*(i/H-1)}}function zMe(e){var t;if(nr(e)){var r=e.length;if(!r)return e;r===1?t=[e[0],e[0],0,0]:r===2?t=[e[0],e[0],e[1],e[1]]:r===3?t=e.concat(e[2]):t=e}else t=[e,e,e,e];return t}function BMe(e,t){var r,n=A_(t.r,0),i=A_(t.r0||0,0),o=n>0,s=i>0;if(!(!o&&!s)){if(o||(n=i,i=0),i>n){var a=n;n=i,i=a}var h=t.startAngle,p=t.endAngle;if(!(isNaN(h)||isNaN(p))){var m=t.cx,v=t.cy,b=!!t.clockwise,x=p6(p-h),C=x>cI&&x%cI;if(C>hl&&(x=C),!(n>hl))e.moveTo(m,v);else if(x>cI-hl)e.moveTo(m+n*Om(h),v+n*hf(h)),e.arc(m,v,n,h,p,!b),i>hl&&(e.moveTo(m+i*Om(p),v+i*hf(p)),e.arc(m,v,i,p,h,b));else{var I=void 0,A=void 0,R=void 0,k=void 0,$=void 0,N=void 0,H=void 0,W=void 0,j=void 0,X=void 0,K=void 0,Q=void 0,oe=void 0,he=void 0,ye=void 0,be=void 0,ce=n*Om(h),de=n*hf(h),Oe=i*Om(p),ze=i*hf(p),De=x>hl;if(De){var ct=t.cornerRadius;ct&&(r=zMe(ct),I=r[0],A=r[1],R=r[2],k=r[3]);var Ke=p6(n-i)/2;if($=Kl(Ke,R),N=Kl(Ke,k),H=Kl(Ke,I),W=Kl(Ke,A),K=j=A_($,N),Q=X=A_(H,W),(j>hl||X>hl)&&(oe=n*Om(p),he=n*hf(p),ye=i*Om(h),be=i*hf(h),x<yq)){var gt=$Me(ce,de,ye,be,oe,he,Oe,ze);if(gt){var Lt=ce-gt[0],Nt=de-gt[1],zt=oe-gt[0],Ft=he-gt[1],Be=1/hf(kMe((Lt*zt+Nt*Ft)/(o0(Lt*Lt+Nt*Nt)*o0(zt*zt+Ft*Ft)))/2),it=o0(gt[0]*gt[0]+gt[1]*gt[1]);K=Kl(j,(n-it)/(Be+1)),Q=Kl(X,(i-it)/(Be-1))}}}if(!De)e.moveTo(m+ce,v+de);else if(K>hl){var je=Kl(R,K),He=Kl(k,K),Fe=ow(ye,be,ce,de,n,je,b),tt=ow(oe,he,Oe,ze,n,He,b);e.moveTo(m+Fe.cx+Fe.x0,v+Fe.cy+Fe.y0),K<j&&je===He?e.arc(m+Fe.cx,v+Fe.cy,K,Go(Fe.y0,Fe.x0),Go(tt.y0,tt.x0),!b):(je>0&&e.arc(m+Fe.cx,v+Fe.cy,je,Go(Fe.y0,Fe.x0),Go(Fe.y1,Fe.x1),!b),e.arc(m,v,n,Go(Fe.cy+Fe.y1,Fe.cx+Fe.x1),Go(tt.cy+tt.y1,tt.cx+tt.x1),!b),He>0&&e.arc(m+tt.cx,v+tt.cy,He,Go(tt.y1,tt.x1),Go(tt.y0,tt.x0),!b))}else e.moveTo(m+ce,v+de),e.arc(m,v,n,h,p,!b);if(!(i>hl)||!De)e.lineTo(m+Oe,v+ze);else if(Q>hl){var je=Kl(I,Q),He=Kl(A,Q),Fe=ow(Oe,ze,oe,he,i,-He,b),tt=ow(ce,de,ye,be,i,-je,b);e.lineTo(m+Fe.cx+Fe.x0,v+Fe.cy+Fe.y0),Q<X&&je===He?e.arc(m+Fe.cx,v+Fe.cy,Q,Go(Fe.y0,Fe.x0),Go(tt.y0,tt.x0),!b):(He>0&&e.arc(m+Fe.cx,v+Fe.cy,He,Go(Fe.y0,Fe.x0),Go(Fe.y1,Fe.x1),!b),e.arc(m,v,i,Go(Fe.cy+Fe.y1,Fe.cx+Fe.x1),Go(tt.cy+tt.y1,tt.cx+tt.x1),b),je>0&&e.arc(m+tt.cx,v+tt.cy,je,Go(tt.y1,tt.x1),Go(tt.y0,tt.x0),!b))}else e.lineTo(m+Oe,v+ze),e.arc(m,v,i,p,h,b)}e.closePath()}}}var FMe=(function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return e})(),ET=(function(e){qt(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new FMe},t.prototype.buildPath=function(r,n){BMe(r,n)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t})(vn);ET.prototype.type="sector";var NMe=(function(){function e(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return e})(),fO=(function(e){qt(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new NMe},t.prototype.buildPath=function(r,n){var i=n.cx,o=n.cy,s=Math.PI*2;r.moveTo(i+n.r,o),r.arc(i,o,n.r,0,s,!1),r.moveTo(i+n.r0,o),r.arc(i,o,n.r0,0,s,!0)},t})(vn);fO.prototype.type="ring";function VMe(e,t,r,n){var i=[],o=[],s=[],a=[],h,p,m,v;if(n){m=[1/0,1/0],v=[-1/0,-1/0];for(var b=0,x=e.length;b<x;b++)ig(m,m,e[b]),og(v,v,e[b]);ig(m,m,n[0]),og(v,v,n[1])}for(var b=0,x=e.length;b<x;b++){var C=e[b];if(r)h=e[b?b-1:x-1],p=e[(b+1)%x];else if(b===0||b===x-1){i.push(TTe(e[b]));continue}else h=e[b-1],p=e[b+1];pW(o,p,h),IM(o,o,t);var I=SA(C,h),A=SA(C,p),R=I+A;R!==0&&(I/=R,A/=R),IM(s,o,-I),IM(a,o,A);var k=i4([],C,s),$=i4([],C,a);n&&(og(k,k,m),ig(k,k,v),og($,$,m),ig($,$,v)),i.push(k),i.push($)}return r&&i.push(i.shift()),i}function _q(e,t,r){var n=t.smooth,i=t.points;if(i&&i.length>=2){if(n){var o=VMe(i,n,r,t.smoothConstraint);e.moveTo(i[0][0],i[0][1]);for(var s=i.length,a=0;a<(r?s:s-1);a++){var h=o[a*2],p=o[a*2+1],m=i[(a+1)%s];e.bezierCurveTo(h[0],h[1],p[0],p[1],m[0],m[1])}}else{e.moveTo(i[0][0],i[0][1]);for(var a=1,v=i.length;a<v;a++)e.lineTo(i[a][0],i[a][1])}r&&e.closePath()}}var jMe=(function(){function e(){this.points=null,this.smooth=0,this.smoothConstraint=null}return e})(),AT=(function(e){qt(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new jMe},t.prototype.buildPath=function(r,n){_q(r,n,!0)},t})(vn);AT.prototype.type="polygon";var HMe=(function(){function e(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return e})(),Ab=(function(e){qt(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new HMe},t.prototype.buildPath=function(r,n){_q(r,n,!1)},t})(vn);Ab.prototype.type="polyline";var GMe={},UMe=(function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e})(),Cc=(function(e){qt(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new UMe},t.prototype.buildPath=function(r,n){var i,o,s,a;if(this.subPixelOptimize){var h=tq(GMe,n,this.style);i=h.x1,o=h.y1,s=h.x2,a=h.y2}else i=n.x1,o=n.y1,s=n.x2,a=n.y2;var p=n.percent;p!==0&&(r.moveTo(i,o),p<1&&(s=i*(1-p)+s*p,a=o*(1-p)+a*p),r.lineTo(s,a))},t.prototype.pointAt=function(r){var n=this.shape;return[n.x1*(1-r)+n.x2*r,n.y1*(1-r)+n.y2*r]},t})(vn);Cc.prototype.type="line";var Pa=[],WMe=(function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return e})();function m6(e,t,r){var n=e.cpx2,i=e.cpy2;return n!=null||i!=null?[(r?g4:Ao)(e.x1,e.cpx1,e.cpx2,e.x2,t),(r?g4:Ao)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(r?IA:pa)(e.x1,e.cpx1,e.x2,t),(r?IA:pa)(e.y1,e.cpy1,e.y2,t)]}var DT=(function(e){qt(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new WMe},t.prototype.buildPath=function(r,n){var i=n.x1,o=n.y1,s=n.x2,a=n.y2,h=n.cpx1,p=n.cpy1,m=n.cpx2,v=n.cpy2,b=n.percent;b!==0&&(r.moveTo(i,o),m==null||v==null?(b<1&&(JS(i,h,s,b,Pa),h=Pa[1],s=Pa[2],JS(o,p,a,b,Pa),p=Pa[1],a=Pa[2]),r.quadraticCurveTo(h,p,s,a)):(b<1&&(YS(i,h,m,s,b,Pa),h=Pa[1],m=Pa[2],s=Pa[3],YS(o,p,v,a,b,Pa),p=Pa[1],v=Pa[2],a=Pa[3]),r.bezierCurveTo(h,p,m,v,s,a)))},t.prototype.pointAt=function(r){return m6(this.shape,r,!1)},t.prototype.tangentAt=function(r){var n=m6(this.shape,r,!0);return WR(n,n)},t})(vn);DT.prototype.type="bezier-curve";var qMe=(function(){function e(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return e})(),LT=(function(e){qt(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new qMe},t.prototype.buildPath=function(r,n){var i=n.cx,o=n.cy,s=Math.max(n.r,0),a=n.startAngle,h=n.endAngle,p=n.clockwise,m=Math.cos(a),v=Math.sin(a);r.moveTo(m*s+i,v*s+o),r.arc(i,o,s,a,h,!p)},t})(vn);LT.prototype.type="arc";var bq=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="compound",r}return t.prototype._updatePathDirty=function(){for(var r=this.shape.paths,n=this.shapeChanged(),i=0;i<r.length;i++)n=n||r[i].shapeChanged();n&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var r=this.shape.paths||[],n=this.getGlobalScale(),i=0;i<r.length;i++)r[i].path||r[i].createPathProxy(),r[i].path.setScale(n[0],n[1],r[i].segmentIgnoreThreshold)},t.prototype.buildPath=function(r,n){for(var i=n.paths||[],o=0;o<i.length;o++)i[o].buildPath(r,i[o].shape,!0)},t.prototype.afterBrush=function(){for(var r=this.shape.paths||[],n=0;n<r.length;n++)r[n].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),vn.prototype.getBoundingRect.call(this)},t})(vn),xq=(function(){function e(t){this.colorStops=t||[]}return e.prototype.addColorStop=function(t,r){this.colorStops.push({offset:t,color:r})},e})(),wq=(function(e){qt(t,e);function t(r,n,i,o,s,a){var h=e.call(this,s)||this;return h.x=r??0,h.y=n??0,h.x2=i??1,h.y2=o??0,h.type="linear",h.global=a||!1,h}return t})(xq),ZMe=(function(e){qt(t,e);function t(r,n,i,o,s){var a=e.call(this,o)||this;return a.x=r??.5,a.y=n??.5,a.r=i??.5,a.type="radial",a.global=s||!1,a}return t})(xq),df=[0,0],ff=[0,0],aw=new $n,sw=new $n,a2=(function(){function e(t,r){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new $n;for(var n=0;n<2;n++)this._axes[n]=new $n;t&&this.fromBoundingRect(t,r)}return e.prototype.fromBoundingRect=function(t,r){var n=this._corners,i=this._axes,o=t.x,s=t.y,a=o+t.width,h=s+t.height;if(n[0].set(o,s),n[1].set(a,s),n[2].set(a,h),n[3].set(o,h),r)for(var p=0;p<4;p++)n[p].transform(r);$n.sub(i[0],n[1],n[0]),$n.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(var p=0;p<2;p++)this._origin[p]=i[p].dot(n[0])},e.prototype.intersect=function(t,r){var n=!0,i=!r;return aw.set(1/0,1/0),sw.set(0,0),!this._intersectCheckOneSide(this,t,aw,sw,i,1)&&(n=!1,i)||!this._intersectCheckOneSide(t,this,aw,sw,i,-1)&&(n=!1,i)||i||$n.copy(r,n?aw:sw),n},e.prototype._intersectCheckOneSide=function(t,r,n,i,o,s){for(var a=!0,h=0;h<2;h++){var p=this._axes[h];if(this._getProjMinMaxOnAxis(h,t._corners,df),this._getProjMinMaxOnAxis(h,r._corners,ff),df[1]<ff[0]||df[0]>ff[1]){if(a=!1,o)return a;var m=Math.abs(ff[0]-df[1]),v=Math.abs(df[0]-ff[1]);Math.min(m,v)>i.len()&&(m<v?$n.scale(i,p,-m*s):$n.scale(i,p,v*s))}else if(n){var m=Math.abs(ff[0]-df[1]),v=Math.abs(df[0]-ff[1]);Math.min(m,v)<n.len()&&(m<v?$n.scale(n,p,m*s):$n.scale(n,p,-v*s))}}return a},e.prototype._getProjMinMaxOnAxis=function(t,r,n){for(var i=this._axes[t],o=this._origin,s=r[0].dot(i)+o[t],a=s,h=s,p=1;p<r.length;p++){var m=r[p].dot(i)+o[t];a=Math.min(m,a),h=Math.max(m,h)}n[0]=a,n[1]=h},e})(),XMe=[],KMe=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.notClear=!0,r.incremental=!0,r._displayables=[],r._temporaryDisplayables=[],r._cursor=0,r}return t.prototype.traverse=function(r,n){r.call(n,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(r,n){n?this._temporaryDisplayables.push(r):this._displayables.push(r),this.markRedraw()},t.prototype.addDisplayables=function(r,n){n=n||!1;for(var i=0;i<r.length;i++)this.addDisplayable(r[i],n)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(r){for(var n=this._cursor;n<this._displayables.length;n++)r&&r(this._displayables[n]);for(var n=0;n<this._temporaryDisplayables.length;n++)r&&r(this._temporaryDisplayables[n])},t.prototype.update=function(){this.updateTransform();for(var r=this._cursor;r<this._displayables.length;r++){var n=this._displayables[r];n.parent=this,n.update(),n.parent=null}for(var r=0;r<this._temporaryDisplayables.length;r++){var n=this._temporaryDisplayables[r];n.parent=this,n.update(),n.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var r=new ln(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var i=this._displayables[n],o=i.getBoundingRect().clone();i.needLocalTransform()&&o.applyTransform(i.getLocalTransform(XMe)),r.union(o)}this._rect=r}return this._rect},t.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),o=this.getBoundingRect();if(o.contain(i[0],i[1]))for(var s=0;s<this._displayables.length;s++){var a=this._displayables[s];if(a.contain(r,n))return!0}return!1},t})(Eb),YMe=Bi();function JMe(e,t,r,n,i){var o;if(t&&t.ecModel){var s=t.ecModel.getUpdatePayload();o=s&&s.animation}var a=t&&t.isAnimationEnabled(),h=e==="update";if(a){var p=void 0,m=void 0,v=void 0;n?(p=$r(n.duration,200),m=$r(n.easing,"cubicOut"),v=0):(p=t.getShallow(h?"animationDurationUpdate":"animationDuration"),m=t.getShallow(h?"animationEasingUpdate":"animationEasing"),v=t.getShallow(h?"animationDelayUpdate":"animationDelay")),o&&(o.duration!=null&&(p=o.duration),o.easing!=null&&(m=o.easing),o.delay!=null&&(v=o.delay)),br(v)&&(v=v(r,i)),br(p)&&(p=p(r));var b={duration:p||0,delay:v,easing:m};return b}else return null}function pO(e,t,r,n,i,o,s){var a=!1,h;br(i)?(s=o,o=i,i=null):Sr(i)&&(o=i.cb,s=i.during,a=i.isFrom,h=i.removeOpt,i=i.dataIndex);var p=e==="leave";p||t.stopAnimation("leave");var m=JMe(e,n,i,p?h||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(t,i):null);if(m&&m.duration>0){var v=m.duration,b=m.delay,x=m.easing,C={duration:v,delay:b||0,easing:x,done:o,force:!!o||!!s,setToFinal:!p,scope:e,during:s};a?t.animateFrom(r,C):t.animateTo(r,C)}else t.stopAnimation(),!a&&t.attr(r),s&&s(1),o&&o()}function vu(e,t,r,n,i,o){pO("update",e,t,r,n,i,o)}function pv(e,t,r,n,i,o){pO("enter",e,t,r,n,i,o)}function a0(e){if(!e.__zr)return!0;for(var t=0;t<e.animators.length;t++){var r=e.animators[t];if(r.scope==="leave")return!0}return!1}function s2(e,t,r,n,i,o){a0(e)||pO("leave",e,t,r,n,i,o)}function g6(e,t,r,n){e.removeTextContent(),e.removeTextGuideLine(),s2(e,{style:{opacity:0}},t,r,n)}function QMe(e,t,r){function n(){e.parent&&e.parent.remove(e)}e.isGroup?e.traverse(function(i){i.isGroup||g6(i,t,r,n)}):g6(e,t,r,n)}function eIe(e){YMe(e).oldStyle=e.style}var l2=Math.max,u2=Math.min,YA={};function tIe(e){return vn.extend(e)}var rIe=DMe;function nIe(e,t){return rIe(e,t)}function Al(e,t){YA[e]=t}function iIe(e){if(YA.hasOwnProperty(e))return YA[e]}function mO(e,t,r,n){var i=AMe(e,t);return r&&(n==="center"&&(r=Tq(r,i.getBoundingRect())),Cq(i,r)),i}function Sq(e,t,r){var n=new xu({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(i){if(r==="center"){var o={width:i.width,height:i.height};n.setStyle(Tq(t,o))}}});return n}function Tq(e,t){var r=t.width/t.height,n=e.height*r,i;n<=e.width?i=e.height:(n=e.width,i=n/r);var o=e.x+e.width/2,s=e.y+e.height/2;return{x:o-n/2,y:s-i/2,width:n,height:i}}var oIe=LMe;function Cq(e,t){if(e.applyTransform){var r=e.getBoundingRect(),n=r.calculateTransform(t);e.applyTransform(n)}}function U0(e,t){return tq(e,e,{lineWidth:t}),e}function aIe(e){return rq(e.shape,e.shape,e.style),e}var sIe=Lf;function Pq(e,t){for(var r=ZR([]);e&&e!==t;)Pg(r,e.getLocalTransform(),r),e=e.parent;return r}function W0(e,t,r){return t&&!$a(t)&&(t=eO.getLocalTransform(t)),r&&(t=KR([],t)),Vs([],e,t)}function Mq(e,t,r){var n=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),i=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),o=[e==="left"?-n:e==="right"?n:0,e==="top"?-i:e==="bottom"?i:0];return o=W0(o,t,r),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function v6(e){return!e.isGroup}function lIe(e){return e.shape!=null}function Iq(e,t,r){if(!e||!t)return;function n(s){var a={};return s.traverse(function(h){v6(h)&&h.anid&&(a[h.anid]=h)}),a}function i(s){var a={x:s.x,y:s.y,rotation:s.rotation};return lIe(s)&&(a.shape=Kt({},s.shape)),a}var o=n(e);t.traverse(function(s){if(v6(s)&&s.anid){var a=o[s.anid];if(a){var h=i(s);s.attr(i(a)),vu(s,h,r,nn(s).dataIndex)}}})}function uIe(e,t){return fr(e,function(r){var n=r[0];n=l2(n,t.x),n=u2(n,t.x+t.width);var i=r[1];return i=l2(i,t.y),i=u2(i,t.y+t.height),[n,i]})}function cIe(e,t){var r=l2(e.x,t.x),n=u2(e.x+e.width,t.x+t.width),i=l2(e.y,t.y),o=u2(e.y+e.height,t.y+t.height);if(n>=r&&o>=i)return{x:r,y:i,width:n-r,height:o-i}}function gO(e,t,r){var n=Kt({rectHover:!0},t),i=n.style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},e)return e.indexOf("image://")===0?(i.image=e.slice(8),Mn(i,r),new xu(n)):mO(e.replace("path://",""),n,r,"center")}function hIe(e,t,r,n,i){for(var o=0,s=i[i.length-1];o<i.length;o++){var a=i[o];if(Eq(e,t,r,n,a[0],a[1],s[0],s[1]))return!0;s=a}}function Eq(e,t,r,n,i,o,s,a){var h=r-e,p=n-t,m=s-i,v=a-o,b=hI(m,v,h,p);if(dIe(b))return!1;var x=e-i,C=t-o,I=hI(x,C,h,p)/b;if(I<0||I>1)return!1;var A=hI(x,C,m,v)/b;return!(A<0||A>1)}function hI(e,t,r,n){return e*n-r*t}function dIe(e){return e<=1e-6&&e>=-1e-6}function RT(e){var t=e.itemTooltipOption,r=e.componentModel,n=e.itemName,i=cr(t)?{formatter:t}:t,o=r.mainType,s=r.componentIndex,a={componentType:o,name:n,$vars:["name"]};a[o+"Index"]=s;var h=e.formatterParamsExtra;h&&Ve(on(h),function(m){rp(a,m)||(a[m]=h[m],a.$vars.push(m))});var p=nn(e.el);p.componentMainType=o,p.componentIndex=s,p.tooltipConfig={name:n,option:Mn({content:n,encodeHTMLContent:!0,formatterParams:a},i)}}function y6(e,t){var r;e.isGroup&&(r=t(e)),r||e.traverse(t)}function OT(e,t){if(e)if(nr(e))for(var r=0;r<e.length;r++)y6(e[r],t);else y6(e,t)}Al("circle",IT);Al("ellipse",dO);Al("sector",ET);Al("ring",fO);Al("polygon",AT);Al("polyline",Ab);Al("rect",Oi);Al("line",Cc);Al("bezierCurve",DT);Al("arc",LT);const fIe=Object.freeze(Object.defineProperty({__proto__:null,Arc:LT,BezierCurve:DT,BoundingRect:ln,Circle:IT,CompoundPath:bq,Ellipse:dO,Group:mi,Image:xu,IncrementalDisplayable:KMe,Line:Cc,LinearGradient:wq,OrientedBoundingRect:a2,Path:vn,Point:$n,Polygon:AT,Polyline:Ab,RadialGradient:ZMe,Rect:Oi,Ring:fO,Sector:ET,Text:$o,applyTransform:W0,clipPointsByRect:uIe,clipRectByRect:cIe,createIcon:gO,extendPath:nIe,extendShape:tIe,getShapeClass:iIe,getTransform:Pq,groupTransition:Iq,initProps:pv,isElementRemoved:a0,lineLineIntersect:Eq,linePolygonIntersect:hIe,makeImage:Sq,makePath:mO,mergePath:oIe,registerShape:Al,removeElement:s2,removeElementWithFadeOut:QMe,resizePath:Cq,setTooltipConfig:RT,subPixelOptimize:sIe,subPixelOptimizeLine:U0,subPixelOptimizeRect:aIe,transformDirection:Mq,traverseElements:OT,updateProps:vu},Symbol.toStringTag,{value:"Module"}));var kT={};function pIe(e,t){for(var r=0;r<Gs.length;r++){var n=Gs[r],i=t[n],o=e.ensureState(n);o.style=o.style||{},o.style.text=i}var s=e.currentStates.slice();e.clearStates(!0),e.setStyle({text:t.normal}),e.useStates(s,!0)}function _6(e,t,r){var n=e.labelFetcher,i=e.labelDataIndex,o=e.labelDimIndex,s=t.normal,a;n&&(a=n.getFormattedLabel(i,"normal",null,o,s&&s.get("formatter"),r!=null?{interpolatedValue:r}:null)),a==null&&(a=br(e.defaultText)?e.defaultText(i,e,r):e.defaultText);for(var h={normal:a},p=0;p<Gs.length;p++){var m=Gs[p],v=t[m];h[m]=$r(n?n.getFormattedLabel(i,m,null,o,v&&v.get("formatter")):null,a)}return h}function $T(e,t,r,n){r=r||kT;for(var i=e instanceof $o,o=!1,s=0;s<t6.length;s++){var a=t[t6[s]];if(a&&a.getShallow("show")){o=!0;break}}var h=i?e:e.getTextContent();if(o){i||(h||(h=new $o,e.setTextContent(h)),e.stateProxy&&(h.stateProxy=e.stateProxy));var p=_6(r,t),m=t.normal,v=!!m.getShallow("show"),b=Pc(m,n&&n.normal,r,!1,!i);b.text=p.normal,i||e.setTextConfig(b6(m,r,!1));for(var s=0;s<Gs.length;s++){var x=Gs[s],a=t[x];if(a){var C=h.ensureState(x),I=!!$r(a.getShallow("show"),v);if(I!==v&&(C.ignore=!I),C.style=Pc(a,n&&n[x],r,!0,!i),C.style.text=p[x],!i){var A=e.ensureState(x);A.textConfig=b6(a,r,!0)}}}h.silent=!!m.getShallow("silent"),h.style.x!=null&&(b.x=h.style.x),h.style.y!=null&&(b.y=h.style.y),h.ignore=!v,h.useStyle(b),h.dirty(),r.enableTextSetter&&(Aq(h).setLabelText=function(R){var k=_6(r,t,R);pIe(h,k)})}else h&&(h.ignore=!0);e.dirty()}function Db(e,t){t=t||"label";for(var r={normal:e.getModel(t)},n=0;n<Gs.length;n++){var i=Gs[n];r[i]=e.getModel([i,t])}return r}function Pc(e,t,r,n,i){var o={};return mIe(o,e,r,n,i),t&&Kt(o,t),o}function b6(e,t,r){t=t||{};var n={},i,o=e.getShallow("rotate"),s=$r(e.getShallow("distance"),r?null:5),a=e.getShallow("offset");return i=e.getShallow("position")||(r?null:"inside"),i==="outside"&&(i=t.defaultOutsidePosition||"top"),i!=null&&(n.position=i),a!=null&&(n.offset=a),o!=null&&(o*=Math.PI/180,n.rotation=o),s!=null&&(n.distance=s),n.outsideFill=e.get("color")==="inherit"?t.inheritColor||null:"auto",n}function mIe(e,t,r,n,i){r=r||kT;var o=t.ecModel,s=o&&o.option.textStyle,a=gIe(t),h;if(a){h={};for(var p in a)if(a.hasOwnProperty(p)){var m=t.getModel(["rich",p]);T6(h[p]={},m,s,r,n,i,!1,!0)}}h&&(e.rich=h);var v=t.get("overflow");v&&(e.overflow=v);var b=t.get("minMargin");b!=null&&(e.margin=b),T6(e,t,s,r,n,i,!0,!1)}function gIe(e){for(var t;e&&e!==e.ecModel;){var r=(e.option||kT).rich;if(r){t=t||{};for(var n=on(r),i=0;i<n.length;i++){var o=n[i];t[o]=1}}e=e.parentModel}return t}var x6=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],w6=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],S6=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function T6(e,t,r,n,i,o,s,a){r=!i&&r||kT;var h=n&&n.inheritColor,p=t.getShallow("color"),m=t.getShallow("textBorderColor"),v=$r(t.getShallow("opacity"),r.opacity);(p==="inherit"||p==="auto")&&(h?p=h:p=null),(m==="inherit"||m==="auto")&&(h?m=h:m=null),o||(p=p||r.color,m=m||r.textBorderColor),p!=null&&(e.fill=p),m!=null&&(e.stroke=m);var b=$r(t.getShallow("textBorderWidth"),r.textBorderWidth);b!=null&&(e.lineWidth=b);var x=$r(t.getShallow("textBorderType"),r.textBorderType);x!=null&&(e.lineDash=x);var C=$r(t.getShallow("textBorderDashOffset"),r.textBorderDashOffset);C!=null&&(e.lineDashOffset=C),!i&&v==null&&!a&&(v=n&&n.defaultOpacity),v!=null&&(e.opacity=v),!i&&!o&&e.fill==null&&n.inheritColor&&(e.fill=n.inheritColor);for(var I=0;I<x6.length;I++){var A=x6[I],R=$r(t.getShallow(A),r[A]);R!=null&&(e[A]=R)}for(var I=0;I<w6.length;I++){var A=w6[I],R=t.getShallow(A);R!=null&&(e[A]=R)}if(e.verticalAlign==null){var k=t.getShallow("baseline");k!=null&&(e.verticalAlign=k)}if(!s||!n.disableBox){for(var I=0;I<S6.length;I++){var A=S6[I],R=t.getShallow(A);R!=null&&(e[A]=R)}var $=t.getShallow("borderType");$!=null&&(e.borderDash=$),(e.backgroundColor==="auto"||e.backgroundColor==="inherit")&&h&&(e.backgroundColor=h),(e.borderColor==="auto"||e.borderColor==="inherit")&&h&&(e.borderColor=h)}}function vIe(e,t){var r=t&&t.getModel("textStyle");return lu([e.fontStyle||r&&r.getShallow("fontStyle")||"",e.fontWeight||r&&r.getShallow("fontWeight")||"",(e.fontSize||r&&r.getShallow("fontSize")||12)+"px",e.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}var Aq=Bi(),yIe=["textStyle","color"],dI=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],fI=new $o,_Ie=(function(){function e(){}return e.prototype.getTextColor=function(t){var r=this.ecModel;return this.getShallow("color")||(!t&&r?r.get(yIe):null)},e.prototype.getFont=function(){return vIe({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},e.prototype.getTextRect=function(t){for(var r={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<dI.length;n++)r[dI[n]]=this.getShallow(dI[n]);return fI.useStyle(r),fI.update(),fI.getBoundingRect()},e})(),Dq=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],bIe=N0(Dq),xIe=(function(){function e(){}return e.prototype.getLineStyle=function(t){return bIe(this,t)},e})(),Lq=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],wIe=N0(Lq),SIe=(function(){function e(){}return e.prototype.getItemStyle=function(t,r){return wIe(this,t,r)},e})(),Li=(function(){function e(t,r,n){this.parentModel=r,this.ecModel=n,this.option=t}return e.prototype.init=function(t,r,n){},e.prototype.mergeOption=function(t,r){an(this.option,t,!0)},e.prototype.get=function(t,r){return t==null?this.option:this._doGet(this.parsePath(t),!r&&this.parentModel)},e.prototype.getShallow=function(t,r){var n=this.option,i=n==null?n:n[t];if(i==null&&!r){var o=this.parentModel;o&&(i=o.getShallow(t))}return i},e.prototype.getModel=function(t,r){var n=t!=null,i=n?this.parsePath(t):null,o=n?this._doGet(i):this.option;return r=r||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new e(o,r,this.ecModel)},e.prototype.isEmpty=function(){return this.option==null},e.prototype.restoreData=function(){},e.prototype.clone=function(){var t=this.constructor;return new t(Xr(this.option))},e.prototype.parsePath=function(t){return typeof t=="string"?t.split("."):t},e.prototype.resolveParentPath=function(t){return t},e.prototype.isAnimationEnabled=function(){if(!Rr.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},e.prototype._doGet=function(t,r){var n=this.option;if(!t)return n;for(var i=0;i<t.length&&!(t[i]&&(n=n&&typeof n=="object"?n[t[i]]:null,n==null));i++);return n==null&&r&&(n=r._doGet(this.resolveParentPath(t),r.parentModel)),n},e})();oO(Li);pPe(Li);Il(Li,xIe);Il(Li,SIe);Il(Li,_Pe);Il(Li,_Ie);var TIe=Math.round(Math.random()*10);function zT(e){return[e||"",TIe++].join("_")}function CIe(e){var t={};e.registerSubTypeDefaulter=function(r,n){var i=cu(r);t[i.main]=n},e.determineSubType=function(r,n){var i=n.type;if(!i){var o=cu(r).main;e.hasSubTypes(r)&&t[o]&&(i=t[o](n))}return i}}function PIe(e,t){e.topologicalTravel=function(o,s,a,h){if(!o.length)return;var p=r(s),m=p.graph,v=p.noEntryList,b={};for(Ve(o,function(k){b[k]=!0});v.length;){var x=v.pop(),C=m[x],I=!!b[x];I&&(a.call(h,x,C.originalDeps.slice()),delete b[x]),Ve(C.successor,I?R:A)}Ve(b,function(){var k="";throw new Error(k)});function A(k){m[k].entryCount--,m[k].entryCount===0&&v.push(k)}function R(k){b[k]=!0,A(k)}};function r(o){var s={},a=[];return Ve(o,function(h){var p=n(s,h),m=p.originalDeps=t(h),v=i(m,o);p.entryCount=v.length,p.entryCount===0&&a.push(h),Ve(v,function(b){sn(p.predecessor,b)<0&&p.predecessor.push(b);var x=n(s,b);sn(x.successor,b)<0&&x.successor.push(h)})}),{graph:s,noEntryList:a}}function n(o,s){return o[s]||(o[s]={predecessor:[],successor:[]}),o[s]}function i(o,s){var a=[];return Ve(o,function(h){sn(s,h)>=0&&a.push(h)}),a}}function vO(e,t){return an(an({},e,!0),t,!0)}const MIe={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},IIe={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var c2="ZH",yO="EN",Ig=yO,sS={},_O={},Rq=Rr.domSupported?(function(){var e=(document.documentElement.lang||navigator.language||navigator.browserLanguage||Ig).toUpperCase();return e.indexOf(c2)>-1?c2:Ig})():Ig;function Oq(e,t){e=e.toUpperCase(),_O[e]=new Li(t),sS[e]=t}function EIe(e){if(cr(e)){var t=sS[e.toUpperCase()]||{};return e===c2||e===yO?Xr(t):an(Xr(t),Xr(sS[Ig]),!1)}else return an(Xr(e),Xr(sS[Ig]),!1)}function AIe(e){return _O[e]}function DIe(){return _O[Ig]}Oq(yO,MIe);Oq(c2,IIe);var bO=1e3,xO=bO*60,s0=xO*60,Bs=s0*24,C6=Bs*365,D_={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},lw="{yyyy}-{MM}-{dd}",P6={year:"{yyyy}",month:"{yyyy}-{MM}",day:lw,hour:lw+" "+D_.hour,minute:lw+" "+D_.minute,second:lw+" "+D_.second,millisecond:D_.none},pI=["year","month","day","hour","minute","second","millisecond"],kq=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function dh(e,t){return e+="","0000".substr(0,t-e.length)+e}function Eg(e){switch(e){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return e}}function LIe(e){return e===Eg(e)}function RIe(e){switch(e){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function BT(e,t,r,n){var i=Tc(e),o=i[wO(r)](),s=i[Ag(r)]()+1,a=Math.floor((s-1)/3)+1,h=i[FT(r)](),p=i["get"+(r?"UTC":"")+"Day"](),m=i[q0(r)](),v=(m-1)%12+1,b=i[NT(r)](),x=i[VT(r)](),C=i[jT(r)](),I=m>=12?"pm":"am",A=I.toUpperCase(),R=n instanceof Li?n:AIe(n||Rq)||DIe(),k=R.getModel("time"),$=k.get("month"),N=k.get("monthAbbr"),H=k.get("dayOfWeek"),W=k.get("dayOfWeekAbbr");return(t||"").replace(/{a}/g,I+"").replace(/{A}/g,A+"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,dh(o%100+"",2)).replace(/{Q}/g,a+"").replace(/{MMMM}/g,$[s-1]).replace(/{MMM}/g,N[s-1]).replace(/{MM}/g,dh(s,2)).replace(/{M}/g,s+"").replace(/{dd}/g,dh(h,2)).replace(/{d}/g,h+"").replace(/{eeee}/g,H[p]).replace(/{ee}/g,W[p]).replace(/{e}/g,p+"").replace(/{HH}/g,dh(m,2)).replace(/{H}/g,m+"").replace(/{hh}/g,dh(v+"",2)).replace(/{h}/g,v+"").replace(/{mm}/g,dh(b,2)).replace(/{m}/g,b+"").replace(/{ss}/g,dh(x,2)).replace(/{s}/g,x+"").replace(/{SSS}/g,dh(C,3)).replace(/{S}/g,C+"")}function OIe(e,t,r,n,i){var o=null;if(cr(r))o=r;else if(br(r))o=r(e.value,t,{level:e.level});else{var s=Kt({},D_);if(e.level>0)for(var a=0;a<pI.length;++a)s[pI[a]]="{primary|"+s[pI[a]]+"}";var h=r?r.inherit===!1?r:Mn(r,s):s,p=$q(e.value,i);if(h[p])o=h[p];else if(h.inherit){for(var m=kq.indexOf(p),a=m-1;a>=0;--a)if(h[p]){o=h[p];break}o=o||s.none}if(nr(o)){var v=e.level==null?0:e.level>=0?e.level:o.length+e.level;v=Math.min(v,o.length-1),o=o[v]}}return BT(new Date(e.value),o,i,n)}function $q(e,t){var r=Tc(e),n=r[Ag(t)]()+1,i=r[FT(t)](),o=r[q0(t)](),s=r[NT(t)](),a=r[VT(t)](),h=r[jT(t)](),p=h===0,m=p&&a===0,v=m&&s===0,b=v&&o===0,x=b&&i===1,C=x&&n===1;return C?"year":x?"month":b?"day":v?"hour":m?"minute":p?"second":"millisecond"}function M6(e,t,r){var n=ni(e)?Tc(e):e;switch(t=t||$q(e,r),t){case"year":return n[wO(r)]();case"half-year":return n[Ag(r)]()>=6?1:0;case"quarter":return Math.floor((n[Ag(r)]()+1)/4);case"month":return n[Ag(r)]();case"day":return n[FT(r)]();case"half-day":return n[q0(r)]()/24;case"hour":return n[q0(r)]();case"minute":return n[NT(r)]();case"second":return n[VT(r)]();case"millisecond":return n[jT(r)]()}}function wO(e){return e?"getUTCFullYear":"getFullYear"}function Ag(e){return e?"getUTCMonth":"getMonth"}function FT(e){return e?"getUTCDate":"getDate"}function q0(e){return e?"getUTCHours":"getHours"}function NT(e){return e?"getUTCMinutes":"getMinutes"}function VT(e){return e?"getUTCSeconds":"getSeconds"}function jT(e){return e?"getUTCMilliseconds":"getMilliseconds"}function kIe(e){return e?"setUTCFullYear":"setFullYear"}function zq(e){return e?"setUTCMonth":"setMonth"}function Bq(e){return e?"setUTCDate":"setDate"}function Fq(e){return e?"setUTCHours":"setHours"}function Nq(e){return e?"setUTCMinutes":"setMinutes"}function Vq(e){return e?"setUTCSeconds":"setSeconds"}function jq(e){return e?"setUTCMilliseconds":"setMilliseconds"}function Hq(e){if(!WCe(e))return cr(e)?e:"-";var t=(e+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function Gq(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,function(r,n){return n.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var HT=cW;function JA(e,t,r){var n="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(m){return m&&lu(m)?m:"-"}function o(m){return!!(m!=null&&!isNaN(m)&&isFinite(m))}var s=t==="time",a=e instanceof Date;if(s||a){var h=s?Tc(e):e;if(isNaN(+h)){if(a)return"-"}else return BT(h,n,r)}if(t==="ordinal")return bA(e)?i(e):ni(e)&&o(e)?e+"":"-";var p=n2(e);return o(p)?Hq(p):bA(e)?i(e):typeof e=="boolean"?e+"":"-"}var I6=["a","b","c","d","e","f","g"],mI=function(e,t){return"{"+e+(t??"")+"}"};function Uq(e,t,r){nr(t)||(t=[t]);var n=t.length;if(!n)return"";for(var i=t[0].$vars||[],o=0;o<i.length;o++){var s=I6[o];e=e.replace(mI(s),mI(s,0))}for(var a=0;a<n;a++)for(var h=0;h<i.length;h++){var p=t[a][i[h]];e=e.replace(mI(I6[h],a),r?fa(p):p)}return e}function $Ie(e,t){var r=cr(e)?{color:e,extraCssText:t}:e||{},n=r.color,i=r.type;t=r.extraCssText;var o=r.renderMode||"html";if(!n)return"";if(o==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+fa(n)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+fa(n)+";"+(t||"")+'"></span>';var s=r.markerId||"markerX";return{renderMode:o,content:"{"+s+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}}function op(e,t){return t=t||"transparent",cr(e)?e:Sr(e)&&e.colorStops&&(e.colorStops[0]||{}).color||t}function E6(e,t){if(t==="_blank"||t==="blank"){var r=window.open();r.opener=null,r.location.href=e}else window.open(e,t)}var lS=Ve,zIe=["left","right","top","bottom","width","height"],uw=[["width","left","right"],["height","top","bottom"]];function SO(e,t,r,n,i){var o=0,s=0;n==null&&(n=1/0),i==null&&(i=1/0);var a=0;t.eachChild(function(h,p){var m=h.getBoundingRect(),v=t.childAt(p+1),b=v&&v.getBoundingRect(),x,C;if(e==="horizontal"){var I=m.width+(b?-b.x+m.x:0);x=o+I,x>n||h.newline?(o=0,x=I,s+=a+r,a=m.height):a=Math.max(a,m.height)}else{var A=m.height+(b?-b.y+m.y:0);C=s+A,C>i||h.newline?(o+=a+r,s=0,C=A,a=m.width):a=Math.max(a,m.width)}h.newline||(h.x=o,h.y=s,h.markRedraw(),e==="horizontal"?o=x+r:s=C+r)})}var l0=SO;ri(SO,"vertical");ri(SO,"horizontal");function Jg(e,t,r){r=HT(r||0);var n=t.width,i=t.height,o=so(e.left,n),s=so(e.top,i),a=so(e.right,n),h=so(e.bottom,i),p=so(e.width,n),m=so(e.height,i),v=r[2]+r[0],b=r[1]+r[3],x=e.aspect;switch(isNaN(p)&&(p=n-a-b-o),isNaN(m)&&(m=i-h-v-s),x!=null&&(isNaN(p)&&isNaN(m)&&(x>n/i?p=n*.8:m=i*.8),isNaN(p)&&(p=x*m),isNaN(m)&&(m=p/x)),isNaN(o)&&(o=n-a-p-b),isNaN(s)&&(s=i-h-m-v),e.left||e.right){case"center":o=n/2-p/2-r[3];break;case"right":o=n-p-b;break}switch(e.top||e.bottom){case"middle":case"center":s=i/2-m/2-r[0];break;case"bottom":s=i-m-v;break}o=o||0,s=s||0,isNaN(p)&&(p=n-b-o-(a||0)),isNaN(m)&&(m=i-v-s-(h||0));var C=new ln(o+r[3],s+r[0],p,m);return C.margin=r,C}function Z0(e){var t=e.layoutMode||e.constructor.layoutMode;return Sr(t)?t:t?{type:t}:null}function Qg(e,t,r){var n=r&&r.ignoreSize;!nr(n)&&(n=[n,n]);var i=s(uw[0],0),o=s(uw[1],1);p(uw[0],e,i),p(uw[1],e,o);function s(m,v){var b={},x=0,C={},I=0,A=2;if(lS(m,function($){C[$]=e[$]}),lS(m,function($){a(t,$)&&(b[$]=C[$]=t[$]),h(b,$)&&x++,h(C,$)&&I++}),n[v])return h(t,m[1])?C[m[2]]=null:h(t,m[2])&&(C[m[1]]=null),C;if(I===A||!x)return C;if(x>=A)return b;for(var R=0;R<m.length;R++){var k=m[R];if(!a(b,k)&&a(e,k)){b[k]=e[k];break}}return b}function a(m,v){return m.hasOwnProperty(v)}function h(m,v){return m[v]!=null&&m[v]!=="auto"}function p(m,v,b){lS(m,function(x){v[x]=b[x]})}}function Lb(e){return BIe({},e)}function BIe(e,t){return t&&e&&lS(zIe,function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e}var FIe=Bi(),mn=(function(e){qt(t,e);function t(r,n,i){var o=e.call(this,r,n,i)||this;return o.uid=zT("ec_cpt_model"),o}return t.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i)},t.prototype.mergeDefaultAndTheme=function(r,n){var i=Z0(this),o=i?Lb(r):{},s=n.getTheme();an(r,s.get(this.mainType)),an(r,this.getDefaultOption()),i&&Qg(r,o,i)},t.prototype.mergeOption=function(r,n){an(this.option,r,!0);var i=Z0(this);i&&Qg(this.option,r,i)},t.prototype.optionUpdated=function(r,n){},t.prototype.getDefaultOption=function(){var r=this.constructor;if(!hPe(r))return r.defaultOption;var n=FIe(this);if(!n.defaultOption){for(var i=[],o=r;o;){var s=o.prototype.defaultOption;s&&i.push(s),o=o.superClass}for(var a={},h=i.length-1;h>=0;h--)a=an(a,i[h],!0);n.defaultOption=a}return n.defaultOption},t.prototype.getReferringComponents=function(r,n){var i=r+"Index",o=r+"Id";return Ib(this.ecModel,r,{index:this.get(i,!0),id:this.get(o,!0)},n)},t.prototype.getBoxLayoutParams=function(){var r=this;return{left:r.get("left"),top:r.get("top"),right:r.get("right"),bottom:r.get("bottom"),width:r.get("width"),height:r.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(r){this.option.zlevel=r},t.protoInitialize=(function(){var r=t.prototype;r.type="component",r.id="",r.name="",r.mainType="",r.subType="",r.componentIndex=0})(),t})(Li);XW(mn,Li);wT(mn);CIe(mn);PIe(mn,NIe);function NIe(e){var t=[];return Ve(mn.getClassesByMainType(e),function(r){t=t.concat(r.dependencies||r.prototype.dependencies||[])}),t=fr(t,function(r){return cu(r).main}),e!=="dataset"&&sn(t,"dataset")<=0&&t.unshift("dataset"),t}var Wq="";typeof navigator<"u"&&(Wq=navigator.platform||"");var km="rgba(0, 0, 0, 0.2)";const VIe={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:km,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:km,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:km,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:km,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:km,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:km,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Wq.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var qq=Ar(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),Ws="original",Ba="arrayRows",wu="objectRows",Oc="keyedColumns",Vh="typedArray",Zq="unknown",vc="column",mv="row",Qa={Must:1,Might:2,Not:3},Xq=Bi();function jIe(e){Xq(e).datasetMap=Ar()}function HIe(e,t,r){var n={},i=Kq(t);if(!i||!e)return n;var o=[],s=[],a=t.ecModel,h=Xq(a).datasetMap,p=i.uid+"_"+r.seriesLayoutBy,m,v;e=e.slice(),Ve(e,function(I,A){var R=Sr(I)?I:e[A]={name:I};R.type==="ordinal"&&m==null&&(m=A,v=C(R)),n[R.name]=[]});var b=h.get(p)||h.set(p,{categoryWayDim:v,valueWayDim:0});Ve(e,function(I,A){var R=I.name,k=C(I);if(m==null){var $=b.valueWayDim;x(n[R],$,k),x(s,$,k),b.valueWayDim+=k}else if(m===A)x(n[R],0,k),x(o,0,k);else{var $=b.categoryWayDim;x(n[R],$,k),x(s,$,k),b.categoryWayDim+=k}});function x(I,A,R){for(var k=0;k<R;k++)I.push(A+k)}function C(I){var A=I.dimsDef;return A?A.length:1}return o.length&&(n.itemName=o),s.length&&(n.seriesName=s),n}function Kq(e){var t=e.get("data",!0);if(!t)return Ib(e.ecModel,"dataset",{index:e.get("datasetIndex",!0),id:e.get("datasetId",!0)},Da).models[0]}function GIe(e){return!e.get("transform",!0)&&!e.get("fromTransformResult",!0)?[]:Ib(e.ecModel,"dataset",{index:e.get("fromDatasetIndex",!0),id:e.get("fromDatasetId",!0)},Da).models}function Yq(e,t){return UIe(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function UIe(e,t,r,n,i,o){var s,a=5;if(za(e))return Qa.Not;var h,p;if(n){var m=n[o];Sr(m)?(h=m.name,p=m.type):cr(m)&&(h=m)}if(p!=null)return p==="ordinal"?Qa.Must:Qa.Not;if(t===Ba){var v=e;if(r===mv){for(var b=v[o],x=0;x<(b||[]).length&&x<a;x++)if((s=N(b[i+x]))!=null)return s}else for(var x=0;x<v.length&&x<a;x++){var C=v[i+x];if(C&&(s=N(C[o]))!=null)return s}}else if(t===wu){var I=e;if(!h)return Qa.Not;for(var x=0;x<I.length&&x<a;x++){var A=I[x];if(A&&(s=N(A[h]))!=null)return s}}else if(t===Oc){var R=e;if(!h)return Qa.Not;var b=R[h];if(!b||za(b))return Qa.Not;for(var x=0;x<b.length&&x<a;x++)if((s=N(b[x]))!=null)return s}else if(t===Ws)for(var k=e,x=0;x<k.length&&x<a;x++){var A=k[x],$=Mb(A);if(!nr($))return Qa.Not;if((s=N($[o]))!=null)return s}function N(H){var W=cr(H);if(H!=null&&Number.isFinite(Number(H))&&H!=="")return W?Qa.Might:Qa.Not;if(W&&H!=="-")return Qa.Must}return Qa.Not}var WIe=Ar();function qIe(e,t,r){var n=WIe.get(t);if(!n)return r;var i=n(e);return i?r.concat(i):r}var A6=Bi();Bi();var TO=(function(){function e(){}return e.prototype.getColorFromPalette=function(t,r,n){var i=ya(this.get("color",!0)),o=this.get("colorLayer",!0);return XIe(this,A6,i,o,t,r,n)},e.prototype.clearColorPalette=function(){KIe(this,A6)},e})();function ZIe(e,t){for(var r=e.length,n=0;n<r;n++)if(e[n].length>t)return e[n];return e[r-1]}function XIe(e,t,r,n,i,o,s){o=o||e;var a=t(o),h=a.paletteIdx||0,p=a.paletteNameMap=a.paletteNameMap||{};if(p.hasOwnProperty(i))return p[i];var m=s==null||!n?r:ZIe(n,s);if(m=m||r,!(!m||!m.length)){var v=m[h];return i&&(p[i]=v),a.paletteIdx=(h+1)%m.length,v}}function KIe(e,t){t(e).paletteIdx=0,t(e).paletteNameMap={}}var cw,a_,D6,L6="\0_ec_inner",YIe=1,CO=(function(e){qt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(r,n,i,o,s,a){o=o||{},this.option=null,this._theme=new Li(o),this._locale=new Li(s),this._optionManager=a},t.prototype.setOption=function(r,n,i){var o=k6(n);this._optionManager.setOption(r,i,o),this._resetOption(null,o)},t.prototype.resetOption=function(r,n){return this._resetOption(r,k6(n))},t.prototype._resetOption=function(r,n){var i=!1,o=this._optionManager;if(!r||r==="recreate"){var s=o.mountOption(r==="recreate");!this.option||r==="recreate"?D6(this,s):(this.restoreData(),this._mergeOption(s,n)),i=!0}if((r==="timeline"||r==="media")&&this.restoreData(),!r||r==="recreate"||r==="timeline"){var a=o.getTimelineOption(this);a&&(i=!0,this._mergeOption(a,n))}if(!r||r==="recreate"||r==="media"){var h=o.getMediaOption(this);h.length&&Ve(h,function(p){i=!0,this._mergeOption(p,n)},this)}return i},t.prototype.mergeOption=function(r){this._mergeOption(r,null)},t.prototype._mergeOption=function(r,n){var i=this.option,o=this._componentsMap,s=this._componentsCount,a=[],h=Ar(),p=n&&n.replaceMergeMainTypeMap;jIe(this),Ve(r,function(v,b){v!=null&&(mn.hasClass(b)?b&&(a.push(b),h.set(b,!0)):i[b]=i[b]==null?Xr(v):an(i[b],v,!0))}),p&&p.each(function(v,b){mn.hasClass(b)&&!h.get(b)&&(a.push(b),h.set(b,!0))}),mn.topologicalTravel(a,mn.getAllClassMainTypes(),m,this);function m(v){var b=qIe(this,v,ya(r[v])),x=o.get(v),C=x?p&&p.get(v)?"replaceMerge":"normalMerge":"replaceAll",I=XCe(x,b,C);rPe(I,v,mn),i[v]=null,o.set(v,null),s.set(v,0);var A=[],R=[],k=0,$;Ve(I,function(N,H){var W=N.existing,j=N.newOption;if(!j)W&&(W.mergeOption({},this),W.optionUpdated({},!1));else{var X=v==="series",K=mn.getClass(v,N.keyInfo.subType,!X);if(!K)return;if(v==="tooltip"){if($)return;$=!0}if(W&&W.constructor===K)W.name=N.keyInfo.name,W.mergeOption(j,this),W.optionUpdated(j,!1);else{var Q=Kt({componentIndex:H},N.keyInfo);W=new K(j,this,this,Q),Kt(W,Q),N.brandNew&&(W.__requireNewView=!0),W.init(j,this,this),W.optionUpdated(null,!0)}}W?(A.push(W.option),R.push(W),k++):(A.push(void 0),R.push(void 0))},this),i[v]=A,o.set(v,R),s.set(v,k),v==="series"&&cw(this)}this._seriesIndices||cw(this)},t.prototype.getOption=function(){var r=Xr(this.option);return Ve(r,function(n,i){if(mn.hasClass(i)){for(var o=ya(n),s=o.length,a=!1,h=s-1;h>=0;h--)o[h]&&!F0(o[h])?a=!0:(o[h]=null,!a&&s--);o.length=s,r[i]=o}}),delete r[L6],r},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(r){this._payload=r},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(r,n){var i=this._componentsMap.get(r);if(i){var o=i[n||0];if(o)return o;if(n==null){for(var s=0;s<i.length;s++)if(i[s])return i[s]}}},t.prototype.queryComponents=function(r){var n=r.mainType;if(!n)return[];var i=r.index,o=r.id,s=r.name,a=this._componentsMap.get(n);if(!a||!a.length)return[];var h;return i!=null?(h=[],Ve(ya(i),function(p){a[p]&&h.push(a[p])})):o!=null?h=R6("id",o,a):s!=null?h=R6("name",s,a):h=ao(a,function(p){return!!p}),O6(h,r)},t.prototype.findComponents=function(r){var n=r.query,i=r.mainType,o=a(n),s=o?this.queryComponents(o):ao(this._componentsMap.get(i),function(p){return!!p});return h(O6(s,r));function a(p){var m=i+"Index",v=i+"Id",b=i+"Name";return p&&(p[m]!=null||p[v]!=null||p[b]!=null)?{mainType:i,index:p[m],id:p[v],name:p[b]}:null}function h(p){return r.filter?ao(p,r.filter):p}},t.prototype.eachComponent=function(r,n,i){var o=this._componentsMap;if(br(r)){var s=n,a=r;o.each(function(v,b){for(var x=0;v&&x<v.length;x++){var C=v[x];C&&a.call(s,b,C,C.componentIndex)}})}else for(var h=cr(r)?o.get(r):Sr(r)?this.findComponents(r):null,p=0;h&&p<h.length;p++){var m=h[p];m&&n.call(i,m,m.componentIndex)}},t.prototype.getSeriesByName=function(r){var n=fu(r,null);return ao(this._componentsMap.get("series"),function(i){return!!i&&n!=null&&i.name===n})},t.prototype.getSeriesByIndex=function(r){return this._componentsMap.get("series")[r]},t.prototype.getSeriesByType=function(r){return ao(this._componentsMap.get("series"),function(n){return!!n&&n.subType===r})},t.prototype.getSeries=function(){return ao(this._componentsMap.get("series"),function(r){return!!r})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(r,n){a_(this),Ve(this._seriesIndices,function(i){var o=this._componentsMap.get("series")[i];r.call(n,o,i)},this)},t.prototype.eachRawSeries=function(r,n){Ve(this._componentsMap.get("series"),function(i){i&&r.call(n,i,i.componentIndex)})},t.prototype.eachSeriesByType=function(r,n,i){a_(this),Ve(this._seriesIndices,function(o){var s=this._componentsMap.get("series")[o];s.subType===r&&n.call(i,s,o)},this)},t.prototype.eachRawSeriesByType=function(r,n,i){return Ve(this.getSeriesByType(r),n,i)},t.prototype.isSeriesFiltered=function(r){return a_(this),this._seriesIndicesMap.get(r.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(r,n){a_(this);var i=[];Ve(this._seriesIndices,function(o){var s=this._componentsMap.get("series")[o];r.call(n,s,o)&&i.push(o)},this),this._seriesIndices=i,this._seriesIndicesMap=Ar(i)},t.prototype.restoreData=function(r){cw(this);var n=this._componentsMap,i=[];n.each(function(o,s){mn.hasClass(s)&&i.push(s)}),mn.topologicalTravel(i,mn.getAllClassMainTypes(),function(o){Ve(n.get(o),function(s){s&&(o!=="series"||!JIe(s,r))&&s.restoreData()})})},t.internalField=(function(){cw=function(r){var n=r._seriesIndices=[];Ve(r._componentsMap.get("series"),function(i){i&&n.push(i.componentIndex)}),r._seriesIndicesMap=Ar(n)},a_=function(r){},D6=function(r,n){r.option={},r.option[L6]=YIe,r._componentsMap=Ar({series:[]}),r._componentsCount=Ar();var i=n.aria;Sr(i)&&i.enabled==null&&(i.enabled=!0),QIe(n,r._theme.option),an(n,VIe,!1),r._mergeOption(n,null)}})(),t})(Li);function JIe(e,t){if(t){var r=t.seriesIndex,n=t.seriesId,i=t.seriesName;return r!=null&&e.componentIndex!==r||n!=null&&e.id!==n||i!=null&&e.name!==i}}function QIe(e,t){var r=e.color&&!e.colorLayer;Ve(t,function(n,i){i==="colorLayer"&&r||mn.hasClass(i)||(typeof n=="object"?e[i]=e[i]?an(e[i],n,!1):Xr(n):e[i]==null&&(e[i]=n))})}function R6(e,t,r){if(nr(t)){var n=Ar();return Ve(t,function(o){if(o!=null){var s=fu(o,null);s!=null&&n.set(o,!0)}}),ao(r,function(o){return o&&n.get(o[e])})}else{var i=fu(t,null);return ao(r,function(o){return o&&i!=null&&o[e]===i})}}function O6(e,t){return t.hasOwnProperty("subType")?ao(e,function(r){return r&&r.subType===t.subType}):e}function k6(e){var t=Ar();return e&&Ve(ya(e.replaceMerge),function(r){t.set(r,!0)}),{replaceMergeMainTypeMap:t}}Il(CO,TO);var eEe=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],Jq=(function(){function e(t){Ve(eEe,function(r){this[r]=kr(t[r],t)},this)}return e})(),gI={},PO=(function(){function e(){this._coordinateSystems=[]}return e.prototype.create=function(t,r){var n=[];Ve(gI,function(i,o){var s=i.create(t,r);n=n.concat(s||[])}),this._coordinateSystems=n},e.prototype.update=function(t,r){Ve(this._coordinateSystems,function(n){n.update&&n.update(t,r)})},e.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},e.register=function(t,r){gI[t]=r},e.get=function(t){return gI[t]},e})(),tEe=/^(min|max)?(.+)$/,rEe=(function(){function e(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return e.prototype.setOption=function(t,r,n){t&&(Ve(ya(t.series),function(s){s&&s.data&&za(s.data)&&xA(s.data)}),Ve(ya(t.dataset),function(s){s&&s.source&&za(s.source)&&xA(s.source)})),t=Xr(t);var i=this._optionBackup,o=nEe(t,r,!i);this._newBaseOption=o.baseOption,i?(o.timelineOptions.length&&(i.timelineOptions=o.timelineOptions),o.mediaList.length&&(i.mediaList=o.mediaList),o.mediaDefault&&(i.mediaDefault=o.mediaDefault)):this._optionBackup=o},e.prototype.mountOption=function(t){var r=this._optionBackup;return this._timelineOptions=r.timelineOptions,this._mediaList=r.mediaList,this._mediaDefault=r.mediaDefault,this._currentMediaIndices=[],Xr(t?r.baseOption:this._newBaseOption)},e.prototype.getTimelineOption=function(t){var r,n=this._timelineOptions;if(n.length){var i=t.getComponent("timeline");i&&(r=Xr(n[i.getCurrentIndex()]))}return r},e.prototype.getMediaOption=function(t){var r=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,o=this._mediaDefault,s=[],a=[];if(!i.length&&!o)return a;for(var h=0,p=i.length;h<p;h++)iEe(i[h].query,r,n)&&s.push(h);return!s.length&&o&&(s=[-1]),s.length&&!aEe(s,this._currentMediaIndices)&&(a=fr(s,function(m){return Xr(m===-1?o.option:i[m].option)})),this._currentMediaIndices=s,a},e})();function nEe(e,t,r){var n=[],i,o,s=e.baseOption,a=e.timeline,h=e.options,p=e.media,m=!!e.media,v=!!(h||a||s&&s.timeline);s?(o=s,o.timeline||(o.timeline=a)):((v||m)&&(e.options=e.media=null),o=e),m&&nr(p)&&Ve(p,function(x){x&&x.option&&(x.query?n.push(x):i||(i=x))}),b(o),Ve(h,function(x){return b(x)}),Ve(n,function(x){return b(x.option)});function b(x){Ve(t,function(C){C(x,r)})}return{baseOption:o,timelineOptions:h||[],mediaDefault:i,mediaList:n}}function iEe(e,t,r){var n={width:t,height:r,aspectratio:t/r},i=!0;return Ve(e,function(o,s){var a=s.match(tEe);if(!(!a||!a[1]||!a[2])){var h=a[1],p=a[2].toLowerCase();oEe(n[p],o,h)||(i=!1)}}),i}function oEe(e,t,r){return r==="min"?e>=t:r==="max"?e<=t:e===t}function aEe(e,t){return e.join(",")===t.join(",")}var ll=Ve,X0=Sr,$6=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function vI(e){var t=e&&e.itemStyle;if(t)for(var r=0,n=$6.length;r<n;r++){var i=$6[r],o=t.normal,s=t.emphasis;o&&o[i]&&(e[i]=e[i]||{},e[i].normal?an(e[i].normal,o[i]):e[i].normal=o[i],o[i]=null),s&&s[i]&&(e[i]=e[i]||{},e[i].emphasis?an(e[i].emphasis,s[i]):e[i].emphasis=s[i],s[i]=null)}}function Ko(e,t,r){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var n=e[t].normal,i=e[t].emphasis;n&&(r?(e[t].normal=e[t].emphasis=null,Mn(e[t],n)):e[t]=n),i&&(e.emphasis=e.emphasis||{},e.emphasis[t]=i,i.focus&&(e.emphasis.focus=i.focus),i.blurScope&&(e.emphasis.blurScope=i.blurScope))}}function L_(e){Ko(e,"itemStyle"),Ko(e,"lineStyle"),Ko(e,"areaStyle"),Ko(e,"label"),Ko(e,"labelLine"),Ko(e,"upperLabel"),Ko(e,"edgeLabel")}function ji(e,t){var r=X0(e)&&e[t],n=X0(r)&&r.textStyle;if(n)for(var i=0,o=$4.length;i<o;i++){var s=$4[i];n.hasOwnProperty(s)&&(r[s]=n[s])}}function Ls(e){e&&(L_(e),ji(e,"label"),e.emphasis&&ji(e.emphasis,"label"))}function sEe(e){if(X0(e)){vI(e),L_(e),ji(e,"label"),ji(e,"upperLabel"),ji(e,"edgeLabel"),e.emphasis&&(ji(e.emphasis,"label"),ji(e.emphasis,"upperLabel"),ji(e.emphasis,"edgeLabel"));var t=e.markPoint;t&&(vI(t),Ls(t));var r=e.markLine;r&&(vI(r),Ls(r));var n=e.markArea;n&&Ls(n);var i=e.data;if(e.type==="graph"){i=i||e.nodes;var o=e.links||e.edges;if(o&&!za(o))for(var s=0;s<o.length;s++)Ls(o[s]);Ve(e.categories,function(p){L_(p)})}if(i&&!za(i))for(var s=0;s<i.length;s++)Ls(i[s]);if(t=e.markPoint,t&&t.data)for(var a=t.data,s=0;s<a.length;s++)Ls(a[s]);if(r=e.markLine,r&&r.data)for(var h=r.data,s=0;s<h.length;s++)nr(h[s])?(Ls(h[s][0]),Ls(h[s][1])):Ls(h[s]);e.type==="gauge"?(ji(e,"axisLabel"),ji(e,"title"),ji(e,"detail")):e.type==="treemap"?(Ko(e.breadcrumb,"itemStyle"),Ve(e.levels,function(p){L_(p)})):e.type==="tree"&&L_(e.leaves)}}function Qu(e){return nr(e)?e:e?[e]:[]}function z6(e){return(nr(e)?e[0]:e)||{}}function lEe(e,t){ll(Qu(e.series),function(n){X0(n)&&sEe(n)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),ll(r,function(n){ll(Qu(e[n]),function(i){i&&(ji(i,"axisLabel"),ji(i.axisPointer,"label"))})}),ll(Qu(e.parallel),function(n){var i=n&&n.parallelAxisDefault;ji(i,"axisLabel"),ji(i&&i.axisPointer,"label")}),ll(Qu(e.calendar),function(n){Ko(n,"itemStyle"),ji(n,"dayLabel"),ji(n,"monthLabel"),ji(n,"yearLabel")}),ll(Qu(e.radar),function(n){ji(n,"name"),n.name&&n.axisName==null&&(n.axisName=n.name,delete n.name),n.nameGap!=null&&n.axisNameGap==null&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),ll(Qu(e.geo),function(n){X0(n)&&(Ls(n),ll(Qu(n.regions),function(i){Ls(i)}))}),ll(Qu(e.timeline),function(n){Ls(n),Ko(n,"label"),Ko(n,"itemStyle"),Ko(n,"controlStyle",!0);var i=n.data;nr(i)&&Ve(i,function(o){Sr(o)&&(Ko(o,"label"),Ko(o,"itemStyle"))})}),ll(Qu(e.toolbox),function(n){Ko(n,"iconStyle"),ll(n.feature,function(i){Ko(i,"iconStyle")})}),ji(z6(e.axisPointer),"label"),ji(z6(e.tooltip).axisPointer,"label")}function uEe(e,t){for(var r=t.split(","),n=e,i=0;i<r.length&&(n=n&&n[r[i]],n!=null);i++);return n}function cEe(e,t,r,n){for(var i=t.split(","),o=e,s,a=0;a<i.length-1;a++)s=i[a],o[s]==null&&(o[s]={}),o=o[s];o[i[a]]==null&&(o[i[a]]=r)}function B6(e){e&&Ve(hEe,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var hEe=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],dEe=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],yI=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function s_(e){var t=e&&e.itemStyle;if(t)for(var r=0;r<yI.length;r++){var n=yI[r][1],i=yI[r][0];t[n]!=null&&(t[i]=t[n])}}function F6(e){e&&e.alignTo==="edge"&&e.margin!=null&&e.edgeDistance==null&&(e.edgeDistance=e.margin)}function N6(e){e&&e.downplay&&!e.blur&&(e.blur=e.downplay)}function fEe(e){e&&e.focusNodeAdjacency!=null&&(e.emphasis=e.emphasis||{},e.emphasis.focus==null&&(e.emphasis.focus="adjacency"))}function Qq(e,t){if(e)for(var r=0;r<e.length;r++)t(e[r]),e[r]&&Qq(e[r].children,t)}function eZ(e,t){lEe(e,t),e.series=ya(e.series),Ve(e.series,function(r){if(Sr(r)){var n=r.type;if(n==="line")r.clipOverflow!=null&&(r.clip=r.clipOverflow);else if(n==="pie"||n==="gauge"){r.clockWise!=null&&(r.clockwise=r.clockWise),F6(r.label);var i=r.data;if(i&&!za(i))for(var o=0;o<i.length;o++)F6(i[o]);r.hoverOffset!=null&&(r.emphasis=r.emphasis||{},(r.emphasis.scaleSize=null)&&(r.emphasis.scaleSize=r.hoverOffset))}else if(n==="gauge"){var s=uEe(r,"pointer.color");s!=null&&cEe(r,"itemStyle.color",s)}else if(n==="bar"){s_(r),s_(r.backgroundStyle),s_(r.emphasis);var i=r.data;if(i&&!za(i))for(var o=0;o<i.length;o++)typeof i[o]=="object"&&(s_(i[o]),s_(i[o]&&i[o].emphasis))}else if(n==="sunburst"){var a=r.highlightPolicy;a&&(r.emphasis=r.emphasis||{},r.emphasis.focus||(r.emphasis.focus=a)),N6(r),Qq(r.data,N6)}else n==="graph"||n==="sankey"?fEe(r):n==="map"&&(r.mapType&&!r.map&&(r.map=r.mapType),r.mapLocation&&Mn(r,r.mapLocation));r.hoverAnimation!=null&&(r.emphasis=r.emphasis||{},r.emphasis&&r.emphasis.scale==null&&(r.emphasis.scale=r.hoverAnimation)),B6(r)}}),e.dataRange&&(e.visualMap=e.dataRange),Ve(dEe,function(r){var n=e[r];n&&(nr(n)||(n=[n]),Ve(n,function(i){B6(i)}))})}function pEe(e){var t=Ar();e.eachSeries(function(r){var n=r.get("stack");if(n){var i=t.get(n)||t.set(n,[]),o=r.getData(),s={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:r};if(!s.stackedDimension||!(s.isStackedByIndex||s.stackedByDimension))return;i.length&&o.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(s)}}),t.each(mEe)}function mEe(e){Ve(e,function(t,r){var n=[],i=[NaN,NaN],o=[t.stackResultDimension,t.stackedOverDimension],s=t.data,a=t.isStackedByIndex,h=t.seriesModel.get("stackStrategy")||"samesign";s.modify(o,function(p,m,v){var b=s.get(t.stackedDimension,v);if(isNaN(b))return i;var x,C;a?C=s.getRawIndex(v):x=s.get(t.stackedByDimension,v);for(var I=NaN,A=r-1;A>=0;A--){var R=e[A];if(a||(C=R.data.rawIndexOf(R.stackedByDimension,x)),C>=0){var k=R.data.getByRawIndex(R.stackResultDimension,C);if(h==="all"||h==="positive"&&k>0||h==="negative"&&k<0||h==="samesign"&&b>=0&&k>0||h==="samesign"&&b<=0&&k<0){b=HCe(b,k),I=k;break}}}return n[0]=b,n[1]=I,n})})}var GT=(function(){function e(t){this.data=t.data||(t.sourceFormat===Oc?{}:[]),this.sourceFormat=t.sourceFormat||Zq,this.seriesLayoutBy=t.seriesLayoutBy||vc,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var r=this.dimensionsDefine=t.dimensionsDefine;if(r)for(var n=0;n<r.length;n++){var i=r[n];i.type==null&&Yq(this,n)===Qa.Must&&(i.type="ordinal")}}return e})();function MO(e){return e instanceof GT}function QA(e,t,r){r=r||rZ(e);var n=t.seriesLayoutBy,i=vEe(e,r,n,t.sourceHeader,t.dimensions),o=new GT({data:e,sourceFormat:r,seriesLayoutBy:n,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:Xr(t)});return o}function tZ(e){return new GT({data:e,sourceFormat:za(e)?Vh:Ws})}function gEe(e){return new GT({data:e.data,sourceFormat:e.sourceFormat,seriesLayoutBy:e.seriesLayoutBy,dimensionsDefine:Xr(e.dimensionsDefine),startIndex:e.startIndex,dimensionsDetectedCount:e.dimensionsDetectedCount})}function rZ(e){var t=Zq;if(za(e))t=Vh;else if(nr(e)){e.length===0&&(t=Ba);for(var r=0,n=e.length;r<n;r++){var i=e[r];if(i!=null){if(nr(i)||za(i)){t=Ba;break}else if(Sr(i)){t=wu;break}}}}else if(Sr(e)){for(var o in e)if(rp(e,o)&&$a(e[o])){t=Oc;break}}return t}function vEe(e,t,r,n,i){var o,s;if(!e)return{dimensionsDefine:V6(i),startIndex:s,dimensionsDetectedCount:o};if(t===Ba){var a=e;n==="auto"||n==null?j6(function(p){p!=null&&p!=="-"&&(cr(p)?s==null&&(s=1):s=0)},r,a,10):s=ni(n)?n:n?1:0,!i&&s===1&&(i=[],j6(function(p,m){i[m]=p!=null?p+"":""},r,a,1/0)),o=i?i.length:r===mv?a.length:a[0]?a[0].length:null}else if(t===wu)i||(i=yEe(e));else if(t===Oc)i||(i=[],Ve(e,function(p,m){i.push(m)}));else if(t===Ws){var h=Mb(e[0]);o=nr(h)&&h.length||1}return{startIndex:s,dimensionsDefine:V6(i),dimensionsDetectedCount:o}}function yEe(e){for(var t=0,r;t<e.length&&!(r=e[t++]););if(r)return on(r)}function V6(e){if(e){var t=Ar();return fr(e,function(r,n){r=Sr(r)?r:{name:r};var i={name:r.name,displayName:r.displayName,type:r.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var o=t.get(i.name);return o?i.name+="-"+o.count++:t.set(i.name,{count:1}),i})}}function j6(e,t,r,n){if(t===mv)for(var i=0;i<r.length&&i<n;i++)e(r[i]?r[i][0]:null,i);else for(var o=r[0]||[],i=0;i<o.length&&i<n;i++)e(o[i],i)}function nZ(e){var t=e.sourceFormat;return t===wu||t===Oc}var pf,mf,gf,H6,G6,iZ=(function(){function e(t,r){var n=MO(t)?t:tZ(t);this._source=n;var i=this._data=n.data;n.sourceFormat===Vh&&(this._offset=0,this._dimSize=r,this._data=i),G6(this,i,n)}return e.prototype.getSource=function(){return this._source},e.prototype.count=function(){return 0},e.prototype.getItem=function(t,r){},e.prototype.appendData=function(t){},e.prototype.clean=function(){},e.protoInitialize=(function(){var t=e.prototype;t.pure=!1,t.persistent=!0})(),e.internalField=(function(){var t;G6=function(s,a,h){var p=h.sourceFormat,m=h.seriesLayoutBy,v=h.startIndex,b=h.dimensionsDefine,x=H6[IO(p,m)];if(Kt(s,x),p===Vh)s.getItem=r,s.count=i,s.fillStorage=n;else{var C=oZ(p,m);s.getItem=kr(C,null,a,v,b);var I=aZ(p,m);s.count=kr(I,null,a,v,b)}};var r=function(s,a){s=s-this._offset,a=a||[];for(var h=this._data,p=this._dimSize,m=p*s,v=0;v<p;v++)a[v]=h[m+v];return a},n=function(s,a,h,p){for(var m=this._data,v=this._dimSize,b=0;b<v;b++){for(var x=p[b],C=x[0]==null?1/0:x[0],I=x[1]==null?-1/0:x[1],A=a-s,R=h[b],k=0;k<A;k++){var $=m[k*v+b];R[s+k]=$,$<C&&(C=$),$>I&&(I=$)}x[0]=C,x[1]=I}},i=function(){return this._data?this._data.length/this._dimSize:0};H6=(t={},t[Ba+"_"+vc]={pure:!0,appendData:o},t[Ba+"_"+mv]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[wu]={pure:!0,appendData:o},t[Oc]={pure:!0,appendData:function(s){var a=this._data;Ve(s,function(h,p){for(var m=a[p]||(a[p]=[]),v=0;v<(h||[]).length;v++)m.push(h[v])})}},t[Ws]={appendData:o},t[Vh]={persistent:!1,pure:!0,appendData:function(s){this._data=s},clean:function(){this._offset+=this.count(),this._data=null}},t);function o(s){for(var a=0;a<s.length;a++)this._data.push(s[a])}})(),e})(),U6=function(e,t,r,n){return e[n]},_Ee=(pf={},pf[Ba+"_"+vc]=function(e,t,r,n){return e[n+t]},pf[Ba+"_"+mv]=function(e,t,r,n,i){n+=t;for(var o=i||[],s=e,a=0;a<s.length;a++){var h=s[a];o[a]=h?h[n]:null}return o},pf[wu]=U6,pf[Oc]=function(e,t,r,n,i){for(var o=i||[],s=0;s<r.length;s++){var a=r[s].name,h=e[a];o[s]=h?h[n]:null}return o},pf[Ws]=U6,pf);function oZ(e,t){var r=_Ee[IO(e,t)];return r}var W6=function(e,t,r){return e.length},bEe=(mf={},mf[Ba+"_"+vc]=function(e,t,r){return Math.max(0,e.length-t)},mf[Ba+"_"+mv]=function(e,t,r){var n=e[0];return n?Math.max(0,n.length-t):0},mf[wu]=W6,mf[Oc]=function(e,t,r){var n=r[0].name,i=e[n];return i?i.length:0},mf[Ws]=W6,mf);function aZ(e,t){var r=bEe[IO(e,t)];return r}var _I=function(e,t,r){return e[t]},xEe=(gf={},gf[Ba]=_I,gf[wu]=function(e,t,r){return e[r]},gf[Oc]=_I,gf[Ws]=function(e,t,r){var n=Mb(e);return n instanceof Array?n[t]:n},gf[Vh]=_I,gf);function sZ(e){var t=xEe[e];return t}function IO(e,t){return e===Ba?e+"_"+t:e}function ev(e,t,r){if(e){var n=e.getRawDataItem(t);if(n!=null){var i=e.getStore(),o=i.getSource().sourceFormat;if(r!=null){var s=e.getDimensionIndex(r),a=i.getDimensionProperty(s);return sZ(o)(n,s,a)}else{var h=n;return o===Ws&&(h=Mb(n)),h}}}}var wEe=/\{@(.+?)\}/g,EO=(function(){function e(){}return e.prototype.getDataParams=function(t,r){var n=this.getData(r),i=this.getRawValue(t,r),o=n.getRawIndex(t),s=n.getName(t),a=n.getRawDataItem(t),h=n.getItemVisual(t,"style"),p=h&&h[n.getItemVisual(t,"drawType")||"fill"],m=h&&h.stroke,v=this.mainType,b=v==="series",x=n.userOutput&&n.userOutput.get();return{componentType:v,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:b?this.subType:null,seriesIndex:this.seriesIndex,seriesId:b?this.id:null,seriesName:b?this.name:null,name:s,dataIndex:o,data:a,dataType:r,value:i,color:p,borderColor:m,dimensionNames:x?x.fullDimensions:null,encode:x?x.encode:null,$vars:["seriesName","name","value"]}},e.prototype.getFormattedLabel=function(t,r,n,i,o,s){r=r||"normal";var a=this.getData(n),h=this.getDataParams(t,n);if(s&&(h.value=s.interpolatedValue),i!=null&&nr(h.value)&&(h.value=h.value[i]),!o){var p=a.getItemModel(t);o=p.get(r==="normal"?["label","formatter"]:[r,"label","formatter"])}if(br(o))return h.status=r,h.dimensionIndex=i,o(h);if(cr(o)){var m=Uq(o,h);return m.replace(wEe,function(v,b){var x=b.length,C=b;C.charAt(0)==="["&&C.charAt(x-1)==="]"&&(C=+C.slice(1,x-1));var I=ev(a,t,C);if(s&&nr(s.interpolatedValue)){var A=a.getDimensionIndex(C);A>=0&&(I=s.interpolatedValue[A])}return I!=null?I+"":""})}},e.prototype.getRawValue=function(t,r){return ev(this.getData(r),t)},e.prototype.formatTooltip=function(t,r,n){},e})();function q6(e){var t,r;return Sr(e)?e.type&&(r=e):t=e,{text:t,frag:r}}function u0(e){return new SEe(e)}var SEe=(function(){function e(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return e.prototype.perform=function(t){var r=this._upstream,n=t&&t.skip;if(this._dirty&&r){var i=this.context;i.data=i.outputData=r.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var o;this._plan&&!n&&(o=this._plan(this.context));var s=m(this._modBy),a=this._modDataCount||0,h=m(t&&t.modBy),p=t&&t.modDataCount||0;(s!==h||a!==p)&&(o="reset");function m(k){return!(k>=1)&&(k=1),k}var v;(this._dirty||o==="reset")&&(this._dirty=!1,v=this._doReset(n)),this._modBy=h,this._modDataCount=p;var b=t&&t.step;if(r?this._dueEnd=r._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var x=this._dueIndex,C=Math.min(b!=null?this._dueIndex+b:1/0,this._dueEnd);if(!n&&(v||x<C)){var I=this._progress;if(nr(I))for(var A=0;A<I.length;A++)this._doProgress(I[A],x,C,h,p);else this._doProgress(I,x,C,h,p)}this._dueIndex=C;var R=this._settedOutputEnd!=null?this._settedOutputEnd:C;this._outputDueEnd=R}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},e.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},e.prototype._doProgress=function(t,r,n,i,o){Z6.reset(r,n,i,o),this._callingProgress=t,this._callingProgress({start:r,end:n,count:n-r,next:Z6.next},this.context)},e.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var r,n;!t&&this._reset&&(r=this._reset(this.context),r&&r.progress&&(n=r.forceFirstProgress,r=r.progress),nr(r)&&!r.length&&(r=null)),this._progress=r,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),n},e.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},e.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},e.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},e.prototype.getUpstream=function(){return this._upstream},e.prototype.getDownstream=function(){return this._downstream},e.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},e})(),Z6=(function(){var e,t,r,n,i,o={reset:function(h,p,m,v){t=h,e=p,r=m,n=v,i=Math.ceil(n/r),o.next=r>1&&n>0?a:s}};return o;function s(){return t<e?t++:null}function a(){var h=t%i*r+Math.ceil(t/i),p=t>=e?null:h<n?h:t;return t++,p}})();function Dg(e,t){var r=t&&t.type;return r==="ordinal"?e:(r==="time"&&!ni(e)&&e!=null&&e!=="-"&&(e=+Tc(e)),e==null||e===""?NaN:Number(e))}Ar({number:function(e){return parseFloat(e)},time:function(e){return+Tc(e)},trim:function(e){return cr(e)?lu(e):e}});var TEe=(function(){function e(t,r){var n=t==="desc";this._resultLT=n?1:-1,r==null&&(r=n?"min":"max"),this._incomparable=r==="min"?-1/0:1/0}return e.prototype.evaluate=function(t,r){var n=ni(t)?t:n2(t),i=ni(r)?r:n2(r),o=isNaN(n),s=isNaN(i);if(o&&(n=this._incomparable),s&&(i=this._incomparable),o&&s){var a=cr(t),h=cr(r);a&&(n=h?t:0),h&&(i=a?r:0)}return n<i?this._resultLT:n>i?-this._resultLT:0},e})(),CEe=(function(){function e(){}return e.prototype.getRawData=function(){throw new Error("not supported")},e.prototype.getRawDataItem=function(t){throw new Error("not supported")},e.prototype.cloneRawData=function(){},e.prototype.getDimensionInfo=function(t){},e.prototype.cloneAllDimensionInfo=function(){},e.prototype.count=function(){},e.prototype.retrieveValue=function(t,r){},e.prototype.retrieveValueFromItem=function(t,r){},e.prototype.convertValue=function(t,r){return Dg(t,r)},e})();function PEe(e,t){var r=new CEe,n=e.data,i=r.sourceFormat=e.sourceFormat,o=e.startIndex,s="";e.seriesLayoutBy!==vc&&Ea(s);var a=[],h={},p=e.dimensionsDefine;if(p)Ve(p,function(I,A){var R=I.name,k={index:A,name:R,displayName:I.displayName};if(a.push(k),R!=null){var $="";rp(h,R)&&Ea($),h[R]=k}});else for(var m=0;m<e.dimensionsDetectedCount;m++)a.push({index:m});var v=oZ(i,vc);t.__isBuiltIn&&(r.getRawDataItem=function(I){return v(n,o,a,I)},r.getRawData=kr(MEe,null,e)),r.cloneRawData=kr(IEe,null,e);var b=aZ(i,vc);r.count=kr(b,null,n,o,a);var x=sZ(i);r.retrieveValue=function(I,A){var R=v(n,o,a,I);return C(R,A)};var C=r.retrieveValueFromItem=function(I,A){if(I!=null){var R=a[A];if(R)return x(I,A,R.name)}};return r.getDimensionInfo=kr(EEe,null,a,h),r.cloneAllDimensionInfo=kr(AEe,null,a),r}function MEe(e){var t=e.sourceFormat;if(!AO(t)){var r="";Ea(r)}return e.data}function IEe(e){var t=e.sourceFormat,r=e.data;if(!AO(t)){var n="";Ea(n)}if(t===Ba){for(var i=[],o=0,s=r.length;o<s;o++)i.push(r[o].slice());return i}else if(t===wu){for(var i=[],o=0,s=r.length;o<s;o++)i.push(Kt({},r[o]));return i}}function EEe(e,t,r){if(r!=null){if(ni(r)||!isNaN(r)&&!rp(t,r))return e[r];if(rp(t,r))return t[r]}}function AEe(e){return Xr(e)}var lZ=Ar();function DEe(e){e=Xr(e);var t=e.type,r="";t||Ea(r);var n=t.split(":");n.length!==2&&Ea(r);var i=!1;n[0]==="echarts"&&(t=n[1],i=!0),e.__isBuiltIn=i,lZ.set(t,e)}function LEe(e,t,r){var n=ya(e),i=n.length,o="";i||Ea(o);for(var s=0,a=i;s<a;s++){var h=n[s];t=REe(h,t),s!==a-1&&(t.length=Math.max(t.length,1))}return t}function REe(e,t,r,n){var i="";t.length||Ea(i),Sr(e)||Ea(i);var o=e.type,s=lZ.get(o);s||Ea(i);var a=fr(t,function(p){return PEe(p,s)}),h=ya(s.transform({upstream:a[0],upstreamList:a,config:Xr(e.config)}));return fr(h,function(p,m){var v="";Sr(p)||Ea(v),p.data||Ea(v);var b=rZ(p.data);AO(b)||Ea(v);var x,C=t[0];if(C&&m===0&&!p.dimensions){var I=C.startIndex;I&&(p.data=C.data.slice(0,I).concat(p.data)),x={seriesLayoutBy:vc,sourceHeader:I,dimensions:C.metaRawOption.dimensions}}else x={seriesLayoutBy:vc,sourceHeader:0,dimensions:p.dimensions};return QA(p.data,x,null)})}function AO(e){return e===Ba||e===wu}var UT="undefined",OEe=typeof Uint32Array===UT?Array:Uint32Array,kEe=typeof Uint16Array===UT?Array:Uint16Array,uZ=typeof Int32Array===UT?Array:Int32Array,X6=typeof Float64Array===UT?Array:Float64Array,cZ={float:X6,int:uZ,ordinal:Array,number:Array,time:X6},bI;function $m(e){return e>65535?OEe:kEe}function zm(){return[1/0,-1/0]}function $Ee(e){var t=e.constructor;return t===Array?e.slice():new t(e)}function K6(e,t,r,n,i){var o=cZ[r||"float"];if(i){var s=e[t],a=s&&s.length;if(a!==n){for(var h=new o(n),p=0;p<a;p++)h[p]=s[p];e[t]=h}}else e[t]=new o(n)}var eD=(function(){function e(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Ar()}return e.prototype.initData=function(t,r,n){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=t.getSource(),o=this.defaultDimValueGetter=bI[i.sourceFormat];this._dimValueGetter=n||o,this._rawExtent=[],nZ(i),this._dimensions=fr(r,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,t.count())},e.prototype.getProvider=function(){return this._provider},e.prototype.getSource=function(){return this._provider.getSource()},e.prototype.ensureCalculationDimension=function(t,r){var n=this._calcDimNameToIdx,i=this._dimensions,o=n.get(t);if(o!=null){if(i[o].type===r)return o}else o=i.length;return i[o]={type:r},n.set(t,o),this._chunks[o]=new cZ[r||"float"](this._rawCount),this._rawExtent[o]=zm(),o},e.prototype.collectOrdinalMeta=function(t,r){var n=this._chunks[t],i=this._dimensions[t],o=this._rawExtent,s=i.ordinalOffset||0,a=n.length;s===0&&(o[t]=zm());for(var h=o[t],p=s;p<a;p++){var m=n[p]=r.parseAndCollect(n[p]);isNaN(m)||(h[0]=Math.min(m,h[0]),h[1]=Math.max(m,h[1]))}i.ordinalMeta=r,i.ordinalOffset=a,i.type="ordinal"},e.prototype.getOrdinalMeta=function(t){var r=this._dimensions[t],n=r.ordinalMeta;return n},e.prototype.getDimensionProperty=function(t){var r=this._dimensions[t];return r&&r.property},e.prototype.appendData=function(t){var r=this._provider,n=this.count();r.appendData(t);var i=r.count();return r.persistent||(i+=n),n<i&&this._initDataFromProvider(n,i,!0),[n,i]},e.prototype.appendValues=function(t,r){for(var n=this._chunks,i=this._dimensions,o=i.length,s=this._rawExtent,a=this.count(),h=a+Math.max(t.length,r||0),p=0;p<o;p++){var m=i[p];K6(n,p,m.type,h,!0)}for(var v=[],b=a;b<h;b++)for(var x=b-a,C=0;C<o;C++){var m=i[C],I=bI.arrayRows.call(this,t[x]||v,m.property,x,C);n[C][b]=I;var A=s[C];I<A[0]&&(A[0]=I),I>A[1]&&(A[1]=I)}return this._rawCount=this._count=h,{start:a,end:h}},e.prototype._initDataFromProvider=function(t,r,n){for(var i=this._provider,o=this._chunks,s=this._dimensions,a=s.length,h=this._rawExtent,p=fr(s,function(k){return k.property}),m=0;m<a;m++){var v=s[m];h[m]||(h[m]=zm()),K6(o,m,v.type,r,n)}if(i.fillStorage)i.fillStorage(t,r,o,h);else for(var b=[],x=t;x<r;x++){b=i.getItem(x,b);for(var C=0;C<a;C++){var I=o[C],A=this._dimValueGetter(b,p[C],x,C);I[x]=A;var R=h[C];A<R[0]&&(R[0]=A),A>R[1]&&(R[1]=A)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=r,this._extent=[]},e.prototype.count=function(){return this._count},e.prototype.get=function(t,r){if(!(r>=0&&r<this._count))return NaN;var n=this._chunks[t];return n?n[this.getRawIndex(r)]:NaN},e.prototype.getValues=function(t,r){var n=[],i=[];if(r==null){r=t,t=[];for(var o=0;o<this._dimensions.length;o++)i.push(o)}else i=t;for(var o=0,s=i.length;o<s;o++)n.push(this.get(i[o],r));return n},e.prototype.getByRawIndex=function(t,r){if(!(r>=0&&r<this._rawCount))return NaN;var n=this._chunks[t];return n?n[r]:NaN},e.prototype.getSum=function(t){var r=this._chunks[t],n=0;if(r)for(var i=0,o=this.count();i<o;i++){var s=this.get(t,i);isNaN(s)||(n+=s)}return n},e.prototype.getMedian=function(t){var r=[];this.each([t],function(o){isNaN(o)||r.push(o)});var n=r.sort(function(o,s){return o-s}),i=this.count();return i===0?0:i%2===1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},e.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var r=this._indices,n=r[t];if(n!=null&&n<this._count&&n===t)return t;for(var i=0,o=this._count-1;i<=o;){var s=(i+o)/2|0;if(r[s]<t)i=s+1;else if(r[s]>t)o=s-1;else return s}return-1},e.prototype.indicesOfNearest=function(t,r,n){var i=this._chunks,o=i[t],s=[];if(!o)return s;n==null&&(n=1/0);for(var a=1/0,h=-1,p=0,m=0,v=this.count();m<v;m++){var b=this.getRawIndex(m),x=r-o[b],C=Math.abs(x);C<=n&&((C<a||C===a&&x>=0&&h<0)&&(a=C,h=x,p=0),x===h&&(s[p++]=m))}return s.length=p,s},e.prototype.getIndices=function(){var t,r=this._indices;if(r){var n=r.constructor,i=this._count;if(n===Array){t=new n(i);for(var o=0;o<i;o++)t[o]=r[o]}else t=new n(r.buffer,0,i)}else{var n=$m(this._rawCount);t=new n(this.count());for(var o=0;o<t.length;o++)t[o]=o}return t},e.prototype.filter=function(t,r){if(!this._count)return this;for(var n=this.clone(),i=n.count(),o=$m(n._rawCount),s=new o(i),a=[],h=t.length,p=0,m=t[0],v=n._chunks,b=0;b<i;b++){var x=void 0,C=n.getRawIndex(b);if(h===0)x=r(b);else if(h===1){var I=v[m][C];x=r(I,b)}else{for(var A=0;A<h;A++)a[A]=v[t[A]][C];a[A]=b,x=r.apply(null,a)}x&&(s[p++]=C)}return p<i&&(n._indices=s),n._count=p,n._extent=[],n._updateGetRawIdx(),n},e.prototype.selectRange=function(t){var r=this.clone(),n=r._count;if(!n)return this;var i=on(t),o=i.length;if(!o)return this;var s=r.count(),a=$m(r._rawCount),h=new a(s),p=0,m=i[0],v=t[m][0],b=t[m][1],x=r._chunks,C=!1;if(!r._indices){var I=0;if(o===1){for(var A=x[i[0]],R=0;R<n;R++){var k=A[R];(k>=v&&k<=b||isNaN(k))&&(h[p++]=I),I++}C=!0}else if(o===2){for(var A=x[i[0]],$=x[i[1]],N=t[i[1]][0],H=t[i[1]][1],R=0;R<n;R++){var k=A[R],W=$[R];(k>=v&&k<=b||isNaN(k))&&(W>=N&&W<=H||isNaN(W))&&(h[p++]=I),I++}C=!0}}if(!C)if(o===1)for(var R=0;R<s;R++){var j=r.getRawIndex(R),k=x[i[0]][j];(k>=v&&k<=b||isNaN(k))&&(h[p++]=j)}else for(var R=0;R<s;R++){for(var X=!0,j=r.getRawIndex(R),K=0;K<o;K++){var Q=i[K],k=x[Q][j];(k<t[Q][0]||k>t[Q][1])&&(X=!1)}X&&(h[p++]=r.getRawIndex(R))}return p<s&&(r._indices=h),r._count=p,r._extent=[],r._updateGetRawIdx(),r},e.prototype.map=function(t,r){var n=this.clone(t);return this._updateDims(n,t,r),n},e.prototype.modify=function(t,r){this._updateDims(this,t,r)},e.prototype._updateDims=function(t,r,n){for(var i=t._chunks,o=[],s=r.length,a=t.count(),h=[],p=t._rawExtent,m=0;m<r.length;m++)p[r[m]]=zm();for(var v=0;v<a;v++){for(var b=t.getRawIndex(v),x=0;x<s;x++)h[x]=i[r[x]][b];h[s]=v;var C=n&&n.apply(null,h);if(C!=null){typeof C!="object"&&(o[0]=C,C=o);for(var m=0;m<C.length;m++){var I=r[m],A=C[m],R=p[I],k=i[I];k&&(k[b]=A),A<R[0]&&(R[0]=A),A>R[1]&&(R[1]=A)}}}},e.prototype.lttbDownSample=function(t,r){var n=this.clone([t],!0),i=n._chunks,o=i[t],s=this.count(),a=0,h=Math.floor(1/r),p=this.getRawIndex(0),m,v,b,x=new($m(this._rawCount))(Math.min((Math.ceil(s/h)+2)*2,s));x[a++]=p;for(var C=1;C<s-1;C+=h){for(var I=Math.min(C+h,s-1),A=Math.min(C+h*2,s),R=(A+I)/2,k=0,$=I;$<A;$++){var N=this.getRawIndex($),H=o[N];isNaN(H)||(k+=H)}k/=A-I;var W=C,j=Math.min(C+h,s),X=C-1,K=o[p];m=-1,b=W;for(var Q=-1,oe=0,$=W;$<j;$++){var N=this.getRawIndex($),H=o[N];if(isNaN(H)){oe++,Q<0&&(Q=N);continue}v=Math.abs((X-R)*(H-K)-(X-$)*(k-K)),v>m&&(m=v,b=N)}oe>0&&oe<j-W&&(x[a++]=Math.min(Q,b),b=Math.max(Q,b)),x[a++]=b,p=b}return x[a++]=this.getRawIndex(s-1),n._count=a,n._indices=x,n.getRawIndex=this._getRawIdx,n},e.prototype.minmaxDownSample=function(t,r){for(var n=this.clone([t],!0),i=n._chunks,o=Math.floor(1/r),s=i[t],a=this.count(),h=new($m(this._rawCount))(Math.ceil(a/o)*2),p=0,m=0;m<a;m+=o){var v=m,b=s[this.getRawIndex(v)],x=m,C=s[this.getRawIndex(x)],I=o;m+o>a&&(I=a-m);for(var A=0;A<I;A++){var R=this.getRawIndex(m+A),k=s[R];k<b&&(b=k,v=m+A),k>C&&(C=k,x=m+A)}var $=this.getRawIndex(v),N=this.getRawIndex(x);v<x?(h[p++]=$,h[p++]=N):(h[p++]=N,h[p++]=$)}return n._count=p,n._indices=h,n._updateGetRawIdx(),n},e.prototype.downSample=function(t,r,n,i){for(var o=this.clone([t],!0),s=o._chunks,a=[],h=Math.floor(1/r),p=s[t],m=this.count(),v=o._rawExtent[t]=zm(),b=new($m(this._rawCount))(Math.ceil(m/h)),x=0,C=0;C<m;C+=h){h>m-C&&(h=m-C,a.length=h);for(var I=0;I<h;I++){var A=this.getRawIndex(C+I);a[I]=p[A]}var R=n(a),k=this.getRawIndex(Math.min(C+i(a,R)||0,m-1));p[k]=R,R<v[0]&&(v[0]=R),R>v[1]&&(v[1]=R),b[x++]=k}return o._count=x,o._indices=b,o._updateGetRawIdx(),o},e.prototype.each=function(t,r){if(this._count)for(var n=t.length,i=this._chunks,o=0,s=this.count();o<s;o++){var a=this.getRawIndex(o);switch(n){case 0:r(o);break;case 1:r(i[t[0]][a],o);break;case 2:r(i[t[0]][a],i[t[1]][a],o);break;default:for(var h=0,p=[];h<n;h++)p[h]=i[t[h]][a];p[h]=o,r.apply(null,p)}}},e.prototype.getDataExtent=function(t){var r=this._chunks[t],n=zm();if(!r)return n;var i=this.count(),o=!this._indices,s;if(o)return this._rawExtent[t].slice();if(s=this._extent[t],s)return s.slice();s=n;for(var a=s[0],h=s[1],p=0;p<i;p++){var m=this.getRawIndex(p),v=r[m];v<a&&(a=v),v>h&&(h=v)}return s=[a,h],this._extent[t]=s,s},e.prototype.getRawDataItem=function(t){var r=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(r);for(var n=[],i=this._chunks,o=0;o<i.length;o++)n.push(i[o][r]);return n},e.prototype.clone=function(t,r){var n=new e,i=this._chunks,o=t&&dv(t,function(a,h){return a[h]=!0,a},{});if(o)for(var s=0;s<i.length;s++)n._chunks[s]=o[s]?$Ee(i[s]):i[s];else n._chunks=i;return this._copyCommonProps(n),r||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},e.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=Xr(this._extent),t._rawExtent=Xr(this._rawExtent)},e.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,r=void 0;if(t===Array){var n=this._indices.length;r=new t(n);for(var i=0;i<n;i++)r[i]=this._indices[i]}else r=new t(this._indices);return r}return null},e.prototype._getRawIdxIdentity=function(t){return t},e.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},e.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},e.internalField=(function(){function t(r,n,i,o){return Dg(r[o],this._dimensions[o])}bI={arrayRows:t,objectRows:function(r,n,i,o){return Dg(r[n],this._dimensions[o])},keyedColumns:t,original:function(r,n,i,o){var s=r&&(r.value==null?r:r.value);return Dg(s instanceof Array?s[o]:s,this._dimensions[o])},typedArray:function(r,n,i,o){return r[o]}}})(),e})(),zEe=(function(){function e(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return e.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},e.prototype._setLocalSource=function(t,r){this._sourceList=t,this._upstreamSignList=r,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},e.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},e.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},e.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost,r=this._getUpstreamSourceManagers(),n=!!r.length,i,o;if(hw(t)){var s=t,a=void 0,h=void 0,p=void 0;if(n){var m=r[0];m.prepareSource(),p=m.getSource(),a=p.data,h=p.sourceFormat,o=[m._getVersionSign()]}else a=s.get("data",!0),h=za(a)?Vh:Ws,o=[];var v=this._getSourceMetaRawOption()||{},b=p&&p.metaRawOption||{},x=$r(v.seriesLayoutBy,b.seriesLayoutBy)||null,C=$r(v.sourceHeader,b.sourceHeader),I=$r(v.dimensions,b.dimensions),A=x!==b.seriesLayoutBy||!!C!=!!b.sourceHeader||I;i=A?[QA(a,{seriesLayoutBy:x,sourceHeader:C,dimensions:I},h)]:[]}else{var R=t;if(n){var k=this._applyTransform(r);i=k.sourceList,o=k.upstreamSignList}else{var $=R.get("source",!0);i=[QA($,this._getSourceMetaRawOption(),null)],o=[]}}this._setLocalSource(i,o)},e.prototype._applyTransform=function(t){var r=this._sourceHost,n=r.get("transform",!0),i=r.get("fromTransformResult",!0);if(i!=null){var o="";t.length!==1&&Y6(o)}var s,a=[],h=[];return Ve(t,function(p){p.prepareSource();var m=p.getSource(i||0),v="";i!=null&&!m&&Y6(v),a.push(m),h.push(p._getVersionSign())}),n?s=LEe(n,a,{datasetIndex:r.componentIndex}):i!=null&&(s=[gEe(a[0])]),{sourceList:s,upstreamSignList:h}},e.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),r=0;r<t.length;r++){var n=t[r];if(n._isDirty()||this._upstreamSignList[r]!==n._getVersionSign())return!0}},e.prototype.getSource=function(t){t=t||0;var r=this._sourceList[t];if(!r){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(t)}return r},e.prototype.getSharedDataStore=function(t){var r=t.makeStoreSchema();return this._innerGetDataStore(r.dimensions,t.source,r.hash)},e.prototype._innerGetDataStore=function(t,r,n){var i=0,o=this._storeList,s=o[i];s||(s=o[i]={});var a=s[n];if(!a){var h=this._getUpstreamSourceManagers()[0];hw(this._sourceHost)&&h?a=h._innerGetDataStore(t,r,n):(a=new eD,a.initData(new iZ(r,t.length),t)),s[n]=a}return a},e.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(hw(t)){var r=Kq(t);return r?[r.getSourceManager()]:[]}else return fr(GIe(t),function(n){return n.getSourceManager()})},e.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost,r,n,i;if(hw(t))r=t.get("seriesLayoutBy",!0),n=t.get("sourceHeader",!0),i=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var o=t;r=o.get("seriesLayoutBy",!0),n=o.get("sourceHeader",!0),i=o.get("dimensions",!0)}return{seriesLayoutBy:r,sourceHeader:n,dimensions:i}},e})();function hw(e){return e.mainType==="series"}function Y6(e){throw new Error(e)}var BEe="line-height:1";function hZ(e){var t=e.lineHeight;return t==null?BEe:"line-height:"+fa(t+"")+"px"}function dZ(e,t){var r=e.color||"#6e7079",n=e.fontSize||12,i=e.fontWeight||"400",o=e.color||"#464646",s=e.fontSize||14,a=e.fontWeight||"900";return t==="html"?{nameStyle:"font-size:"+fa(n+"")+"px;color:"+fa(r)+";font-weight:"+fa(i+""),valueStyle:"font-size:"+fa(s+"")+"px;color:"+fa(o)+";font-weight:"+fa(a+"")}:{nameStyle:{fontSize:n,fill:r,fontWeight:i},valueStyle:{fontSize:s,fill:o,fontWeight:a}}}var FEe=[0,10,20,30],NEe=["",`
`,`

`,`


`];function Xh(e,t){return t.type=e,t}function tD(e){return e.type==="section"}function fZ(e){return tD(e)?VEe:jEe}function pZ(e){if(tD(e)){var t=0,r=e.blocks.length,n=r>1||r>0&&!e.noHeader;return Ve(e.blocks,function(i){var o=pZ(i);o>=t&&(t=o+ +(n&&(!o||tD(i)&&!i.noHeader)))}),t}return 0}function VEe(e,t,r,n){var i=t.noHeader,o=HEe(pZ(t)),s=[],a=t.blocks||[];Tl(!a||nr(a)),a=a||[];var h=e.orderMode;if(t.sortBlocks&&h){a=a.slice();var p={valueAsc:"asc",valueDesc:"desc"};if(rp(p,h)){var m=new TEe(p[h],null);a.sort(function(I,A){return m.evaluate(I.sortParam,A.sortParam)})}else h==="seriesDesc"&&a.reverse()}Ve(a,function(I,A){var R=t.valueFormatter,k=fZ(I)(R?Kt(Kt({},e),{valueFormatter:R}):e,I,A>0?o.html:0,n);k!=null&&s.push(k)});var v=e.renderMode==="richText"?s.join(o.richText):rD(n,s.join(""),i?r:o.html);if(i)return v;var b=JA(t.header,"ordinal",e.useUTC),x=dZ(n,e.renderMode).nameStyle,C=hZ(n);return e.renderMode==="richText"?mZ(e,b,x)+o.richText+v:rD(n,'<div style="'+x+";"+C+';">'+fa(b)+"</div>"+v,r)}function jEe(e,t,r,n){var i=e.renderMode,o=t.noName,s=t.noValue,a=!t.markerType,h=t.name,p=e.useUTC,m=t.valueFormatter||e.valueFormatter||function(N){return N=nr(N)?N:[N],fr(N,function(H,W){return JA(H,nr(x)?x[W]:x,p)})};if(!(o&&s)){var v=a?"":e.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",i),b=o?"":JA(h,"ordinal",p),x=t.valueType,C=s?[]:m(t.value,t.dataIndex),I=!a||!o,A=!a&&o,R=dZ(n,i),k=R.nameStyle,$=R.valueStyle;return i==="richText"?(a?"":v)+(o?"":mZ(e,b,k))+(s?"":WEe(e,C,I,A,$)):rD(n,(a?"":v)+(o?"":GEe(b,!a,k))+(s?"":UEe(C,I,A,$)),r)}}function J6(e,t,r,n,i,o){if(e){var s=fZ(e),a={useUTC:i,renderMode:r,orderMode:n,markupStyleCreator:t,valueFormatter:e.valueFormatter};return s(a,e,0,o)}}function HEe(e){return{html:FEe[e],richText:NEe[e]}}function rD(e,t,r){var n='<div style="clear:both"></div>',i="margin: "+r+"px 0 0",o=hZ(e);return'<div style="'+i+";"+o+';">'+t+n+"</div>"}function GEe(e,t,r){var n=t?"margin-left:2px":"";return'<span style="'+r+";"+n+'">'+fa(e)+"</span>"}function UEe(e,t,r,n){var i=r?"10px":"20px",o=t?"float:right;margin-left:"+i:"";return e=nr(e)?e:[e],'<span style="'+o+";"+n+'">'+fr(e,function(s){return fa(s)}).join("&nbsp;&nbsp;")+"</span>"}function mZ(e,t,r){return e.markupStyleCreator.wrapRichTextStyle(t,r)}function WEe(e,t,r,n,i){var o=[i],s=n?10:20;return r&&o.push({padding:[0,0,0,s],align:"right"}),e.markupStyleCreator.wrapRichTextStyle(nr(t)?t.join("  "):t,o)}function qEe(e,t){var r=e.getData().getItemVisual(t,"style"),n=r[e.visualDrawType];return op(n)}function gZ(e,t){var r=e.get("padding");return r??(t==="richText"?[8,10]:10)}var xI=(function(){function e(){this.richTextStyles={},this._nextStyleNameId=HW()}return e.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},e.prototype.makeTooltipMarker=function(t,r,n){var i=n==="richText"?this._generateStyleName():null,o=$Ie({color:r,type:t,renderMode:n,markerId:i});return cr(o)?o:(this.richTextStyles[i]=o.style,o.content)},e.prototype.wrapRichTextStyle=function(t,r){var n={};nr(r)?Ve(r,function(o){return Kt(n,o)}):Kt(n,r);var i=this._generateStyleName();return this.richTextStyles[i]=n,"{"+i+"|"+t+"}"},e})();function ZEe(e){var t=e.series,r=e.dataIndex,n=e.multipleSeries,i=t.getData(),o=i.mapDimensionsAll("defaultedTooltip"),s=o.length,a=t.getRawValue(r),h=nr(a),p=qEe(t,r),m,v,b,x;if(s>1||h&&!s){var C=XEe(a,t,r,o,p);m=C.inlineValues,v=C.inlineValueTypes,b=C.blocks,x=C.inlineValues[0]}else if(s){var I=i.getDimensionInfo(o[0]);x=m=ev(i,r,o[0]),v=I.type}else x=m=h?a[0]:a;var A=nO(t),R=A&&t.name||"",k=i.getName(r),$=n?R:k;return Xh("section",{header:R,noHeader:n||!A,sortParam:x,blocks:[Xh("nameValue",{markerType:"item",markerColor:p,name:$,noName:!lu($),value:m,valueType:v,dataIndex:r})].concat(b||[])})}function XEe(e,t,r,n,i){var o=t.getData(),s=dv(e,function(v,b,x){var C=o.getDimensionInfo(x);return v=v||C&&C.tooltip!==!1&&C.displayName!=null},!1),a=[],h=[],p=[];n.length?Ve(n,function(v){m(ev(o,r,v),v)}):Ve(e,m);function m(v,b){var x=o.getDimensionInfo(b);!x||x.otherDims.tooltip===!1||(s?p.push(Xh("nameValue",{markerType:"subItem",markerColor:i,name:x.displayName,value:v,valueType:x.type})):(a.push(v),h.push(x.type)))}return{inlineValues:a,inlineValueTypes:h,blocks:p}}var fh=Bi();function dw(e,t){return e.getName(t)||e.getId(t)}var KEe="__universalTransitionEnabled",yu=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._selectedDataIndicesMap={},r}return t.prototype.init=function(r,n,i){this.seriesIndex=this.componentIndex,this.dataTask=u0({count:JEe,reset:QEe}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(r,i);var o=fh(this).sourceManager=new zEe(this);o.prepareSource();var s=this.getInitialData(r,i);eN(s,this),this.dataTask.context.data=s,fh(this).dataBeforeProcessed=s,Q6(this),this._initSelectedMapFromData(s)},t.prototype.mergeDefaultAndTheme=function(r,n){var i=Z0(this),o=i?Lb(r):{},s=this.subType;mn.hasClass(s)&&(s+="Series"),an(r,n.getTheme().get(this.subType)),an(r,this.getDefaultOption()),jA(r,"label",["show"]),this.fillDataTextStyle(r.data),i&&Qg(r,o,i)},t.prototype.mergeOption=function(r,n){r=an(this.option,r,!0),this.fillDataTextStyle(r.data);var i=Z0(this);i&&Qg(this.option,r,i);var o=fh(this).sourceManager;o.dirty(),o.prepareSource();var s=this.getInitialData(r,n);eN(s,this),this.dataTask.dirty(),this.dataTask.context.data=s,fh(this).dataBeforeProcessed=s,Q6(this),this._initSelectedMapFromData(s)},t.prototype.fillDataTextStyle=function(r){if(r&&!za(r))for(var n=["show"],i=0;i<r.length;i++)r[i]&&r[i].label&&jA(r[i],"label",n)},t.prototype.getInitialData=function(r,n){},t.prototype.appendData=function(r){var n=this.getRawData();n.appendData(r.data)},t.prototype.getData=function(r){var n=nD(this);if(n){var i=n.context.data;return r==null||!i.getLinkedData?i:i.getLinkedData(r)}else return fh(this).data},t.prototype.getAllData=function(){var r=this.getData();return r&&r.getLinkedDataAll?r.getLinkedDataAll():[{data:r}]},t.prototype.setData=function(r){var n=nD(this);if(n){var i=n.context;i.outputData=r,n!==this.dataTask&&(i.data=r)}fh(this).data=r},t.prototype.getEncode=function(){var r=this.get("encode",!0);if(r)return Ar(r)},t.prototype.getSourceManager=function(){return fh(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return fh(this).dataBeforeProcessed},t.prototype.getColorBy=function(){var r=this.get("colorBy");return r||"series"},t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},t.prototype.getBaseAxis=function(){var r=this.coordinateSystem;return r&&r.getBaseAxis&&r.getBaseAxis()},t.prototype.formatTooltip=function(r,n,i){return ZEe({series:this,dataIndex:r,multipleSeries:n})},t.prototype.isAnimationEnabled=function(){var r=this.ecModel;if(Rr.node&&!(r&&r.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(r,n,i){var o=this.ecModel,s=TO.prototype.getColorFromPalette.call(this,r,n,i);return s||(s=o.getColorFromPalette(r,n,i)),s},t.prototype.coordDimToDataDim=function(r){return this.getRawData().mapDimensionsAll(r)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(r,n){this._innerSelect(this.getData(n),r)},t.prototype.unselect=function(r,n){var i=this.option.selectedMap;if(i){var o=this.option.selectedMode,s=this.getData(n);if(o==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var a=0;a<r.length;a++){var h=r[a],p=dw(s,h);i[p]=!1,this._selectedDataIndicesMap[p]=-1}}},t.prototype.toggleSelect=function(r,n){for(var i=[],o=0;o<r.length;o++)i[0]=r[o],this.isSelected(r[o],n)?this.unselect(i,n):this.select(i,n)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var r=this._selectedDataIndicesMap,n=on(r),i=[],o=0;o<n.length;o++){var s=r[n[o]];s>=0&&i.push(s)}return i},t.prototype.isSelected=function(r,n){var i=this.option.selectedMap;if(!i)return!1;var o=this.getData(n);return(i==="all"||i[dw(o,r)])&&!o.getItemModel(r).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[KEe])return!0;var r=this.option.universalTransition;return r?r===!0?!0:r&&r.enabled:!1},t.prototype._innerSelect=function(r,n){var i,o,s=this.option,a=s.selectedMode,h=n.length;if(!(!a||!h)){if(a==="series")s.selectedMap="all";else if(a==="multiple"){Sr(s.selectedMap)||(s.selectedMap={});for(var p=s.selectedMap,m=0;m<h;m++){var v=n[m],b=dw(r,v);p[b]=!0,this._selectedDataIndicesMap[b]=r.getRawIndex(v)}}else if(a==="single"||a===!0){var x=n[h-1],b=dw(r,x);s.selectedMap=(i={},i[b]=!0,i),this._selectedDataIndicesMap=(o={},o[b]=r.getRawIndex(x),o)}}},t.prototype._initSelectedMapFromData=function(r){if(!this.option.selectedMap){var n=[];r.hasItemOption&&r.each(function(i){var o=r.getRawDataItem(i);o&&o.selected&&n.push(i)}),n.length>0&&this._innerSelect(r,n)}},t.registerClass=function(r){return mn.registerClass(r)},t.protoInitialize=(function(){var r=t.prototype;r.type="series.__base__",r.seriesIndex=0,r.ignoreStyleOnData=!1,r.hasSymbolVisual=!1,r.defaultSymbol="circle",r.visualStyleAccessPath="itemStyle",r.visualDrawType="fill"})(),t})(mn);Il(yu,EO);Il(yu,TO);XW(yu,mn);function Q6(e){var t=e.name;nO(e)||(e.name=YEe(e)||t)}function YEe(e){var t=e.getRawData(),r=t.mapDimensionsAll("seriesName"),n=[];return Ve(r,function(i){var o=t.getDimensionInfo(i);o.displayName&&n.push(o.displayName)}),n.join(" ")}function JEe(e){return e.model.getRawData().count()}function QEe(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),eAe}function eAe(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function eN(e,t){Ve(wA(e.CHANGABLE_METHODS,e.DOWNSAMPLE_METHODS),function(r){e.wrapMethod(r,ri(tAe,t))})}function tAe(e,t){var r=nD(e);return r&&r.setOutputEnd((t||this).count()),t}function nD(e){var t=(e.ecModel||{}).scheduler,r=t&&t.getPipeline(e.uid);if(r){var n=r.currentTask;if(n){var i=n.agentStubMap;i&&(n=i.get(e.uid))}return n}}var cs=(function(){function e(){this.group=new mi,this.uid=zT("viewComponent")}return e.prototype.init=function(t,r){},e.prototype.render=function(t,r,n,i){},e.prototype.dispose=function(t,r){},e.prototype.updateView=function(t,r,n,i){},e.prototype.updateLayout=function(t,r,n,i){},e.prototype.updateVisual=function(t,r,n,i){},e.prototype.toggleBlurSeries=function(t,r,n){},e.prototype.eachRendered=function(t){var r=this.group;r&&r.traverse(t)},e})();oO(cs);wT(cs);function DO(){var e=Bi();return function(t){var r=e(t),n=t.pipelineContext,i=!!r.large,o=!!r.progressiveRender,s=r.large=!!(n&&n.large),a=r.progressiveRender=!!(n&&n.progressiveRender);return(i!==s||o!==a)&&"reset"}}var vZ=Bi(),rAe=DO(),js=(function(){function e(){this.group=new mi,this.uid=zT("viewChart"),this.renderTask=u0({plan:nAe,reset:iAe}),this.renderTask.context={view:this}}return e.prototype.init=function(t,r){},e.prototype.render=function(t,r,n,i){},e.prototype.highlight=function(t,r,n,i){var o=t.getData(i&&i.dataType);o&&rN(o,i,"emphasis")},e.prototype.downplay=function(t,r,n,i){var o=t.getData(i&&i.dataType);o&&rN(o,i,"normal")},e.prototype.remove=function(t,r){this.group.removeAll()},e.prototype.dispose=function(t,r){},e.prototype.updateView=function(t,r,n,i){this.render(t,r,n,i)},e.prototype.updateLayout=function(t,r,n,i){this.render(t,r,n,i)},e.prototype.updateVisual=function(t,r,n,i){this.render(t,r,n,i)},e.prototype.eachRendered=function(t){OT(this.group,t)},e.markUpdateMethod=function(t,r){vZ(t).updateMethod=r},e.protoInitialize=(function(){var t=e.prototype;t.type="chart"})(),e})();function tN(e,t,r){e&&ZA(e)&&(t==="emphasis"?j0:H0)(e,r)}function rN(e,t,r){var n=ip(e,t),i=t&&t.highlightKey!=null?wMe(t.highlightKey):null;n!=null?Ve(ya(n),function(o){tN(e.getItemGraphicEl(o),r,i)}):e.eachItemGraphicEl(function(o){tN(o,r,i)})}oO(js);wT(js);function nAe(e){return rAe(e.model)}function iAe(e){var t=e.model,r=e.ecModel,n=e.api,i=e.payload,o=t.pipelineContext.progressiveRender,s=e.view,a=i&&vZ(i).updateMethod,h=o?"incrementalPrepareRender":a&&s[a]?a:"render";return h!=="render"&&s[h](t,r,n,i),oAe[h]}var oAe={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},h2="\0__throttleOriginMethod",nN="\0__throttleRate",iN="\0__throttleType";function LO(e,t,r){var n,i=0,o=0,s=null,a,h,p,m;t=t||0;function v(){o=new Date().getTime(),s=null,e.apply(h,p||[])}var b=function(){for(var x=[],C=0;C<arguments.length;C++)x[C]=arguments[C];n=new Date().getTime(),h=this,p=x;var I=m||t,A=m||r;m=null,a=n-(A?i:o)-I,clearTimeout(s),A?s=setTimeout(v,I):a>=0?v():s=setTimeout(v,-a),i=n};return b.clear=function(){s&&(clearTimeout(s),s=null)},b.debounceNextCall=function(x){m=x},b}function WT(e,t,r,n){var i=e[t];if(i){var o=i[h2]||i,s=i[iN],a=i[nN];if(a!==r||s!==n){if(r==null||!n)return e[t]=o;i=e[t]=LO(o,r,n==="debounce"),i[h2]=o,i[iN]=n,i[nN]=r}return i}}function d2(e,t){var r=e[t];r&&r[h2]&&(r.clear&&r.clear(),e[t]=r[h2])}var oN=Bi(),aN={itemStyle:N0(Lq,!0),lineStyle:N0(Dq,!0)},aAe={lineStyle:"stroke",itemStyle:"fill"};function yZ(e,t){var r=e.visualStyleMapper||aN[t];return r||(console.warn("Unknown style type '"+t+"'."),aN.itemStyle)}function _Z(e,t){var r=e.visualDrawType||aAe[t];return r||(console.warn("Unknown style type '"+t+"'."),"fill")}var sAe={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var r=e.getData(),n=e.visualStyleAccessPath||"itemStyle",i=e.getModel(n),o=yZ(e,n),s=o(i),a=i.getShallow("decal");a&&(r.setVisual("decal",a),a.dirty=!0);var h=_Z(e,n),p=s[h],m=br(p)?p:null,v=s.fill==="auto"||s.stroke==="auto";if(!s[h]||m||v){var b=e.getColorFromPalette(e.name,null,t.getSeriesCount());s[h]||(s[h]=b,r.setVisual("colorFromPalette",!0)),s.fill=s.fill==="auto"||br(s.fill)?b:s.fill,s.stroke=s.stroke==="auto"||br(s.stroke)?b:s.stroke}if(r.setVisual("style",s),r.setVisual("drawType",h),!t.isSeriesFiltered(e)&&m)return r.setVisual("colorFromPalette",!1),{dataEach:function(x,C){var I=e.getDataParams(C),A=Kt({},s);A[h]=m(I),x.setItemVisual(C,"style",A)}}}},l_=new Li,lAe={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!(e.ignoreStyleOnData||t.isSeriesFiltered(e))){var r=e.getData(),n=e.visualStyleAccessPath||"itemStyle",i=yZ(e,n),o=r.getVisual("drawType");return{dataEach:r.hasItemOption?function(s,a){var h=s.getRawDataItem(a);if(h&&h[n]){l_.option=h[n];var p=i(l_),m=s.ensureUniqueItemVisual(a,"style");Kt(m,p),l_.option.decal&&(s.setItemVisual(a,"decal",l_.option.decal),l_.option.decal.dirty=!0),o in p&&s.setItemVisual(a,"colorFromPalette",!1)}}:null}}}},uAe={performRawSeries:!0,overallReset:function(e){var t=Ar();e.eachSeries(function(r){var n=r.getColorBy();if(!r.isColorBySeries()){var i=r.type+"-"+n,o=t.get(i);o||(o={},t.set(i,o)),oN(r).scope=o}}),e.eachSeries(function(r){if(!(r.isColorBySeries()||e.isSeriesFiltered(r))){var n=r.getRawData(),i={},o=r.getData(),s=oN(r).scope,a=r.visualStyleAccessPath||"itemStyle",h=_Z(r,a);o.each(function(p){var m=o.getRawIndex(p);i[m]=p}),n.each(function(p){var m=i[p],v=o.getItemVisual(m,"colorFromPalette");if(v){var b=o.ensureUniqueItemVisual(m,"style"),x=n.getName(p)||p+"",C=n.count();b[h]=r.getColorFromPalette(x,s,C)}})}})}},fw=Math.PI;function cAe(e,t){t=t||{},Mn(t,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var r=new mi,n=new Oi({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});r.add(n);var i=new $o({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),o=new Oi({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});r.add(o);var s;return t.showSpinner&&(s=new LT({shape:{startAngle:-fw/2,endAngle:-fw/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),s.animateShape(!0).when(1e3,{endAngle:fw*3/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:fw*3/2}).delay(300).start("circularInOut"),r.add(s)),r.resize=function(){var a=i.getBoundingRect().width,h=t.showSpinner?t.spinnerRadius:0,p=(e.getWidth()-h*2-(t.showSpinner&&a?10:0)-a)/2-(t.showSpinner&&a?0:5+a/2)+(t.showSpinner?0:a/2)+(a?0:h),m=e.getHeight()/2;t.showSpinner&&s.setShape({cx:p,cy:m}),o.setShape({x:p-h,y:m-h,width:h*2,height:h*2}),n.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},r.resize(),r}var bZ=(function(){function e(t,r,n,i){this._stageTaskMap=Ar(),this.ecInstance=t,this.api=r,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i)}return e.prototype.restoreData=function(t,r){t.restoreData(r),this._stageTaskMap.each(function(n){var i=n.overallTask;i&&i.dirty()})},e.prototype.getPerformArgs=function(t,r){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),i=n.context,o=!r&&n.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>n.blockIndex,s=o?n.step:null,a=i&&i.modDataCount,h=a!=null?Math.ceil(a/s):null;return{step:s,modBy:h,modDataCount:a}}},e.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},e.prototype.updateStreamModes=function(t,r){var n=this._pipelineMap.get(t.uid),i=t.getData(),o=i.count(),s=n.progressiveEnabled&&r.incrementalPrepareRender&&o>=n.threshold,a=t.get("large")&&o>=t.get("largeThreshold"),h=t.get("progressiveChunkMode")==="mod"?o:null;t.pipelineContext=n.context={progressiveRender:s,modDataCount:h,large:a}},e.prototype.restorePipelines=function(t){var r=this,n=r._pipelineMap=Ar();t.eachSeries(function(i){var o=i.getProgressive(),s=i.uid;n.set(s,{id:s,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:o&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(o||700),count:0}),r._pipe(i,i.dataTask)})},e.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,r=this.api.getModel(),n=this.api;Ve(this._allHandlers,function(i){var o=t.get(i.uid)||t.set(i.uid,{}),s="";Tl(!(i.reset&&i.overallReset),s),i.reset&&this._createSeriesStageTask(i,o,r,n),i.overallReset&&this._createOverallStageTask(i,o,r,n)},this)},e.prototype.prepareView=function(t,r,n,i){var o=t.renderTask,s=o.context;s.model=r,s.ecModel=n,s.api=i,o.__block=!t.incrementalPrepareRender,this._pipe(r,o)},e.prototype.performDataProcessorTasks=function(t,r){this._performStageTasks(this._dataProcessorHandlers,t,r,{block:!0})},e.prototype.performVisualTasks=function(t,r,n){this._performStageTasks(this._visualHandlers,t,r,n)},e.prototype._performStageTasks=function(t,r,n,i){i=i||{};var o=!1,s=this;Ve(t,function(h,p){if(!(i.visualType&&i.visualType!==h.visualType)){var m=s._stageTaskMap.get(h.uid),v=m.seriesTaskMap,b=m.overallTask;if(b){var x,C=b.agentStubMap;C.each(function(A){a(i,A)&&(A.dirty(),x=!0)}),x&&b.dirty(),s.updatePayload(b,n);var I=s.getPerformArgs(b,i.block);C.each(function(A){A.perform(I)}),b.perform(I)&&(o=!0)}else v&&v.each(function(A,R){a(i,A)&&A.dirty();var k=s.getPerformArgs(A,i.block);k.skip=!h.performRawSeries&&r.isSeriesFiltered(A.context.model),s.updatePayload(A,n),A.perform(k)&&(o=!0)})}});function a(h,p){return h.setDirty&&(!h.dirtyMap||h.dirtyMap.get(p.__pipeline.id))}this.unfinished=o||this.unfinished},e.prototype.performSeriesTasks=function(t){var r;t.eachSeries(function(n){r=n.dataTask.perform()||r}),this.unfinished=r||this.unfinished},e.prototype.plan=function(){this._pipelineMap.each(function(t){var r=t.tail;do{if(r.__block){t.blockIndex=r.__idxInPipeline;break}r=r.getUpstream()}while(r)})},e.prototype.updatePayload=function(t,r){r!=="remain"&&(t.context.payload=r)},e.prototype._createSeriesStageTask=function(t,r,n,i){var o=this,s=r.seriesTaskMap,a=r.seriesTaskMap=Ar(),h=t.seriesType,p=t.getTargetSeries;t.createOnAllSeries?n.eachRawSeries(m):h?n.eachRawSeriesByType(h,m):p&&p(n,i).each(m);function m(v){var b=v.uid,x=a.set(b,s&&s.get(b)||u0({plan:mAe,reset:gAe,count:yAe}));x.context={model:v,ecModel:n,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:o},o._pipe(v,x)}},e.prototype._createOverallStageTask=function(t,r,n,i){var o=this,s=r.overallTask=r.overallTask||u0({reset:hAe});s.context={ecModel:n,api:i,overallReset:t.overallReset,scheduler:o};var a=s.agentStubMap,h=s.agentStubMap=Ar(),p=t.seriesType,m=t.getTargetSeries,v=!0,b=!1,x="";Tl(!t.createOnAllSeries,x),p?n.eachRawSeriesByType(p,C):m?m(n,i).each(C):(v=!1,Ve(n.getSeries(),C));function C(I){var A=I.uid,R=h.set(A,a&&a.get(A)||(b=!0,u0({reset:dAe,onDirty:pAe})));R.context={model:I,overallProgress:v},R.agent=s,R.__block=v,o._pipe(I,R)}b&&s.dirty()},e.prototype._pipe=function(t,r){var n=t.uid,i=this._pipelineMap.get(n);!i.head&&(i.head=r),i.tail&&i.tail.pipe(r),i.tail=r,r.__idxInPipeline=i.count++,r.__pipeline=i},e.wrapStageHandler=function(t,r){return br(t)&&(t={overallReset:t,seriesType:_Ae(t)}),t.uid=zT("stageHandler"),r&&(t.visualType=r),t},e})();function hAe(e){e.overallReset(e.ecModel,e.api,e.payload)}function dAe(e){return e.overallProgress&&fAe}function fAe(){this.agent.dirty(),this.getDownstream().dirty()}function pAe(){this.agent&&this.agent.dirty()}function mAe(e){return e.plan?e.plan(e.model,e.ecModel,e.api,e.payload):null}function gAe(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=ya(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?fr(t,function(r,n){return xZ(n)}):vAe}var vAe=xZ(0);function xZ(e){return function(t,r){var n=r.data,i=r.resetDefines[e];if(i&&i.dataEach)for(var o=t.start;o<t.end;o++)i.dataEach(n,o);else i&&i.progress&&i.progress(t,n)}}function yAe(e){return e.data.count()}function _Ae(e){f2=null;try{e(K0,wZ)}catch{}return f2}var K0={},wZ={},f2;SZ(K0,CO);SZ(wZ,Jq);K0.eachSeriesByType=K0.eachRawSeriesByType=function(e){f2=e};K0.eachComponent=function(e){e.mainType==="series"&&e.subType&&(f2=e.subType)};function SZ(e,t){for(var r in t.prototype)e[r]=Qo}var sN=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const bAe={color:sN,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],sN]};var Wo="#B9B8CE",lN="#100C2A",pw=function(){return{axisLine:{lineStyle:{color:Wo}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},uN=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],TZ={darkMode:!0,color:uN,backgroundColor:lN,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Wo},pageTextStyle:{color:Wo}},textStyle:{color:Wo},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Wo}},dataZoom:{borderColor:"#71708A",textStyle:{color:Wo},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Wo}},timeline:{lineStyle:{color:Wo},label:{color:Wo},controlStyle:{color:Wo,borderColor:Wo}},calendar:{itemStyle:{color:lN},dayLabel:{color:Wo},monthLabel:{color:Wo},yearLabel:{color:Wo}},timeAxis:pw(),logAxis:pw(),valueAxis:pw(),categoryAxis:pw(),line:{symbol:"circle"},graph:{color:uN},gauge:{title:{color:Wo},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Wo},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};TZ.categoryAxis.splitLine.show=!1;var xAe=(function(){function e(){}return e.prototype.normalizeQuery=function(t){var r={},n={},i={};if(cr(t)){var o=cu(t);r.mainType=o.main||null,r.subType=o.sub||null}else{var s=["Index","Name","Id"],a={name:1,dataIndex:1,dataType:1};Ve(t,function(h,p){for(var m=!1,v=0;v<s.length;v++){var b=s[v],x=p.lastIndexOf(b);if(x>0&&x===p.length-b.length){var C=p.slice(0,x);C!=="data"&&(r.mainType=C,r[b.toLowerCase()]=h,m=!0)}}a.hasOwnProperty(p)&&(n[p]=h,m=!0),m||(i[p]=h)})}return{cptQuery:r,dataQuery:n,otherQuery:i}},e.prototype.filter=function(t,r){var n=this.eventInfo;if(!n)return!0;var i=n.targetEl,o=n.packedEvent,s=n.model,a=n.view;if(!s||!a)return!0;var h=r.cptQuery,p=r.dataQuery;return m(h,s,"mainType")&&m(h,s,"subType")&&m(h,s,"index","componentIndex")&&m(h,s,"name")&&m(h,s,"id")&&m(p,o,"name")&&m(p,o,"dataIndex")&&m(p,o,"dataType")&&(!a.filterForExposedEvent||a.filterForExposedEvent(t,r.otherQuery,i,o));function m(v,b,x,C){return v[x]==null||b[C||x]===v[x]}},e.prototype.afterTrigger=function(){this.eventInfo=null},e})(),iD=["symbol","symbolSize","symbolRotate","symbolOffset"],cN=iD.concat(["symbolKeepAspect"]),wAe={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var r=e.getData();if(e.legendIcon&&r.setVisual("legendIcon",e.legendIcon),!e.hasSymbolVisual)return;for(var n={},i={},o=!1,s=0;s<iD.length;s++){var a=iD[s],h=e.get(a);br(h)?(o=!0,i[a]=h):n[a]=h}if(n.symbol=n.symbol||e.defaultSymbol,r.setVisual(Kt({legendIcon:e.legendIcon||n.symbol,symbolKeepAspect:e.get("symbolKeepAspect")},n)),t.isSeriesFiltered(e))return;var p=on(i);function m(v,b){for(var x=e.getRawValue(b),C=e.getDataParams(b),I=0;I<p.length;I++){var A=p[I];v.setItemVisual(b,A,i[A](x,C))}}return{dataEach:o?m:null}}},SAe={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!e.hasSymbolVisual||t.isSeriesFiltered(e))return;var r=e.getData();function n(i,o){for(var s=i.getItemModel(o),a=0;a<cN.length;a++){var h=cN[a],p=s.getShallow(h,!0);p!=null&&i.setItemVisual(o,h,p)}}return{dataEach:r.hasItemOption?n:null}}};function TAe(e,t,r){switch(r){case"color":var n=e.getItemVisual(t,"style");return n[e.getVisual("drawType")];case"opacity":return e.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getItemVisual(t,r)}}function CZ(e,t){switch(t){case"color":var r=e.getVisual("style");return r[e.getVisual("drawType")];case"opacity":return e.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getVisual(t)}}function Bm(e,t,r,n,i){var o=e+t;r.isSilent(o)||n.eachComponent({mainType:"series",subType:"pie"},function(s){for(var a=s.seriesIndex,h=s.option.selectedMap,p=i.selected,m=0;m<p.length;m++)if(p[m].seriesIndex===a){var v=s.getData(),b=ip(v,i.fromActionPayload);r.trigger(o,{type:o,seriesId:s.id,name:nr(b)?v.getName(b[0]):v.getName(b),selected:cr(h)?h:Kt({},h)})}})}function CAe(e,t,r){e.on("selectchanged",function(n){var i=r.getModel();n.isFromClick?(Bm("map","selectchanged",t,i,n),Bm("pie","selectchanged",t,i,n)):n.fromAction==="select"?(Bm("map","selected",t,i,n),Bm("pie","selected",t,i,n)):n.fromAction==="unselect"&&(Bm("map","unselected",t,i,n),Bm("pie","unselected",t,i,n))})}function R_(e,t,r){for(var n;e&&!(t(e)&&(n=e,r));)e=e.__hostTarget||e.parent;return n}var PAe=Math.round(Math.random()*9),MAe=typeof Object.defineProperty=="function",IAe=(function(){function e(){this._id="__ec_inner_"+PAe++}return e.prototype.get=function(t){return this._guard(t)[this._id]},e.prototype.set=function(t,r){var n=this._guard(t);return MAe?Object.defineProperty(n,this._id,{value:r,enumerable:!1,configurable:!0}):n[this._id]=r,this},e.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},e.prototype.has=function(t){return!!this._guard(t)[this._id]},e.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},e})(),EAe=vn.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var r=t.cx,n=t.cy,i=t.width/2,o=t.height/2;e.moveTo(r,n-o),e.lineTo(r+i,n+o),e.lineTo(r-i,n+o),e.closePath()}}),AAe=vn.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var r=t.cx,n=t.cy,i=t.width/2,o=t.height/2;e.moveTo(r,n-o),e.lineTo(r+i,n),e.lineTo(r,n+o),e.lineTo(r-i,n),e.closePath()}}),DAe=vn.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var r=t.x,n=t.y,i=t.width/5*3,o=Math.max(i,t.height),s=i/2,a=s*s/(o-s),h=n-o+s+a,p=Math.asin(a/s),m=Math.cos(p)*s,v=Math.sin(p),b=Math.cos(p),x=s*.6,C=s*.7;e.moveTo(r-m,h+a),e.arc(r,h,s,Math.PI-p,Math.PI*2+p),e.bezierCurveTo(r+m-v*x,h+a+b*x,r,n-C,r,n),e.bezierCurveTo(r,n-C,r-m+v*x,h+a+b*x,r-m,h+a),e.closePath()}}),LAe=vn.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var r=t.height,n=t.width,i=t.x,o=t.y,s=n/3*2;e.moveTo(i,o),e.lineTo(i+s,o+r),e.lineTo(i,o+r/4*3),e.lineTo(i-s,o+r),e.lineTo(i,o),e.closePath()}}),RAe={line:Cc,rect:Oi,roundRect:Oi,square:Oi,circle:IT,diamond:AAe,pin:DAe,arrow:LAe,triangle:EAe},OAe={line:function(e,t,r,n,i){i.x1=e,i.y1=t+n/2,i.x2=e+r,i.y2=t+n/2},rect:function(e,t,r,n,i){i.x=e,i.y=t,i.width=r,i.height=n},roundRect:function(e,t,r,n,i){i.x=e,i.y=t,i.width=r,i.height=n,i.r=Math.min(r,n)/4},square:function(e,t,r,n,i){var o=Math.min(r,n);i.x=e,i.y=t,i.width=o,i.height=o},circle:function(e,t,r,n,i){i.cx=e+r/2,i.cy=t+n/2,i.r=Math.min(r,n)/2},diamond:function(e,t,r,n,i){i.cx=e+r/2,i.cy=t+n/2,i.width=r,i.height=n},pin:function(e,t,r,n,i){i.x=e+r/2,i.y=t+n/2,i.width=r,i.height=n},arrow:function(e,t,r,n,i){i.x=e+r/2,i.y=t+n/2,i.width=r,i.height=n},triangle:function(e,t,r,n,i){i.cx=e+r/2,i.cy=t+n/2,i.width=r,i.height=n}},p2={};Ve(RAe,function(e,t){p2[t]=new e});var kAe=vn.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,r){var n=$W(e,t,r),i=this.shape;return i&&i.symbolType==="pin"&&t.position==="inside"&&(n.y=r.y+r.height*.4),n},buildPath:function(e,t,r){var n=t.symbolType;if(n!=="none"){var i=p2[n];i||(n="rect",i=p2[n]),OAe[n](t.x,t.y,t.width,t.height,i.shape),i.buildPath(e,i.shape,r)}}});function $Ae(e,t){if(this.type!=="image"){var r=this.style;this.__isEmptyBrush?(r.stroke=e,r.fill=t||"#fff",r.lineWidth=2):this.shape.symbolType==="line"?r.stroke=e:r.fill=e,this.markRedraw()}}function Cl(e,t,r,n,i,o,s){var a=e.indexOf("empty")===0;a&&(e=e.substr(5,1).toLowerCase()+e.substr(6));var h;return e.indexOf("image://")===0?h=Sq(e.slice(8),new ln(t,r,n,i),s?"center":"cover"):e.indexOf("path://")===0?h=mO(e.slice(7),{},new ln(t,r,n,i),s?"center":"cover"):h=new kAe({shape:{symbolType:e,x:t,y:r,width:n,height:i}}),h.__isEmptyBrush=a,h.setColor=$Ae,o&&h.setColor(o),h}function RO(e){return nr(e)||(e=[+e,+e]),[e[0]||0,e[1]||0]}function qT(e,t){if(e!=null)return nr(e)||(e=[e,e]),[so(e[0],t[0])||0,so($r(e[1],e[0]),t[1])||0]}function Rf(e){return isFinite(e)}function zAe(e,t,r){var n=t.x==null?0:t.x,i=t.x2==null?1:t.x2,o=t.y==null?0:t.y,s=t.y2==null?0:t.y2;t.global||(n=n*r.width+r.x,i=i*r.width+r.x,o=o*r.height+r.y,s=s*r.height+r.y),n=Rf(n)?n:0,i=Rf(i)?i:1,o=Rf(o)?o:0,s=Rf(s)?s:0;var a=e.createLinearGradient(n,o,i,s);return a}function BAe(e,t,r){var n=r.width,i=r.height,o=Math.min(n,i),s=t.x==null?.5:t.x,a=t.y==null?.5:t.y,h=t.r==null?.5:t.r;t.global||(s=s*n+r.x,a=a*i+r.y,h=h*o),s=Rf(s)?s:.5,a=Rf(a)?a:.5,h=h>=0&&Rf(h)?h:.5;var p=e.createRadialGradient(s,a,0,s,a,h);return p}function oD(e,t,r){for(var n=t.type==="radial"?BAe(e,t,r):zAe(e,t,r),i=t.colorStops,o=0;o<i.length;o++)n.addColorStop(i[o].offset,i[o].color);return n}function FAe(e,t){if(e===t||!e&&!t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!0;return!1}function mw(e){return parseInt(e,10)}function lg(e,t,r){var n=["width","height"][t],i=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],s=["paddingRight","paddingBottom"][t];if(r[n]!=null&&r[n]!=="auto")return parseFloat(r[n]);var a=document.defaultView.getComputedStyle(e);return(e[i]||mw(a[n])||mw(e.style[n]))-(mw(a[o])||0)-(mw(a[s])||0)|0}function NAe(e,t){return!e||e==="solid"||!(t>0)?null:e==="dashed"?[4*t,2*t]:e==="dotted"?[t]:ni(e)?[e]:nr(e)?e:null}function OO(e){var t=e.style,r=t.lineDash&&t.lineWidth>0&&NAe(t.lineDash,t.lineWidth),n=t.lineDashOffset;if(r){var i=t.strokeNoScale&&e.getLineScale?e.getLineScale():1;i&&i!==1&&(r=fr(r,function(o){return o/i}),n/=i)}return[r,n]}var VAe=new Zh(!0);function m2(e){var t=e.stroke;return!(t==null||t==="none"||!(e.lineWidth>0))}function hN(e){return typeof e=="string"&&e!=="none"}function g2(e){var t=e.fill;return t!=null&&t!=="none"}function dN(e,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var r=e.globalAlpha;e.globalAlpha=t.fillOpacity*t.opacity,e.fill(),e.globalAlpha=r}else e.fill()}function fN(e,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var r=e.globalAlpha;e.globalAlpha=t.strokeOpacity*t.opacity,e.stroke(),e.globalAlpha=r}else e.stroke()}function aD(e,t,r){var n=aO(t.image,t.__image,r);if(ST(n)){var i=e.createPattern(n,t.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var o=new DOMMatrix;o.translateSelf(t.x||0,t.y||0),o.rotateSelf(0,0,(t.rotation||0)*Jw),o.scaleSelf(t.scaleX||1,t.scaleY||1),i.setTransform(o)}return i}}function jAe(e,t,r,n){var i,o=m2(r),s=g2(r),a=r.strokePercent,h=a<1,p=!t.path;(!t.silent||h)&&p&&t.createPathProxy();var m=t.path||VAe,v=t.__dirty;if(!n){var b=r.fill,x=r.stroke,C=s&&!!b.colorStops,I=o&&!!x.colorStops,A=s&&!!b.image,R=o&&!!x.image,k=void 0,$=void 0,N=void 0,H=void 0,W=void 0;(C||I)&&(W=t.getBoundingRect()),C&&(k=v?oD(e,b,W):t.__canvasFillGradient,t.__canvasFillGradient=k),I&&($=v?oD(e,x,W):t.__canvasStrokeGradient,t.__canvasStrokeGradient=$),A&&(N=v||!t.__canvasFillPattern?aD(e,b,t):t.__canvasFillPattern,t.__canvasFillPattern=N),R&&(H=v||!t.__canvasStrokePattern?aD(e,x,t):t.__canvasStrokePattern,t.__canvasStrokePattern=N),C?e.fillStyle=k:A&&(N?e.fillStyle=N:s=!1),I?e.strokeStyle=$:R&&(H?e.strokeStyle=H:o=!1)}var j=t.getGlobalScale();m.setScale(j[0],j[1],t.segmentIgnoreThreshold);var X,K;e.setLineDash&&r.lineDash&&(i=OO(t),X=i[0],K=i[1]);var Q=!0;(p||v&Zm)&&(m.setDPR(e.dpr),h?m.setContext(null):(m.setContext(e),Q=!1),m.reset(),t.buildPath(m,t.shape,n),m.toStatic(),t.pathUpdated()),Q&&m.rebuildPath(e,h?a:1),X&&(e.setLineDash(X),e.lineDashOffset=K),n||(r.strokeFirst?(o&&fN(e,r),s&&dN(e,r)):(s&&dN(e,r),o&&fN(e,r))),X&&e.setLineDash([])}function HAe(e,t,r){var n=t.__image=aO(r.image,t.__image,t,t.onload);if(!(!n||!ST(n))){var i=r.x||0,o=r.y||0,s=t.getWidth(),a=t.getHeight(),h=n.width/n.height;if(s==null&&a!=null?s=a*h:a==null&&s!=null?a=s/h:s==null&&a==null&&(s=n.width,a=n.height),r.sWidth&&r.sHeight){var p=r.sx||0,m=r.sy||0;e.drawImage(n,p,m,r.sWidth,r.sHeight,i,o,s,a)}else if(r.sx&&r.sy){var p=r.sx,m=r.sy,v=s-p,b=a-m;e.drawImage(n,p,m,v,b,i,o,s,a)}else e.drawImage(n,i,o,s,a)}}function GAe(e,t,r){var n,i=r.text;if(i!=null&&(i+=""),i){e.font=r.font||qh,e.textAlign=r.textAlign,e.textBaseline=r.textBaseline;var o=void 0,s=void 0;e.setLineDash&&r.lineDash&&(n=OO(t),o=n[0],s=n[1]),o&&(e.setLineDash(o),e.lineDashOffset=s),r.strokeFirst?(m2(r)&&e.strokeText(i,r.x,r.y),g2(r)&&e.fillText(i,r.x,r.y)):(g2(r)&&e.fillText(i,r.x,r.y),m2(r)&&e.strokeText(i,r.x,r.y)),o&&e.setLineDash([])}}var pN=["shadowBlur","shadowOffsetX","shadowOffsetY"],mN=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function PZ(e,t,r,n,i){var o=!1;if(!n&&(r=r||{},t===r))return!1;if(n||t.opacity!==r.opacity){Aa(e,i),o=!0;var s=Math.max(Math.min(t.opacity,1),0);e.globalAlpha=isNaN(s)?Gf.opacity:s}(n||t.blend!==r.blend)&&(o||(Aa(e,i),o=!0),e.globalCompositeOperation=t.blend||Gf.blend);for(var a=0;a<pN.length;a++){var h=pN[a];(n||t[h]!==r[h])&&(o||(Aa(e,i),o=!0),e[h]=e.dpr*(t[h]||0))}return(n||t.shadowColor!==r.shadowColor)&&(o||(Aa(e,i),o=!0),e.shadowColor=t.shadowColor||Gf.shadowColor),o}function gN(e,t,r,n,i){var o=Y0(t,i.inHover),s=n?null:r&&Y0(r,i.inHover)||{};if(o===s)return!1;var a=PZ(e,o,s,n,i);if((n||o.fill!==s.fill)&&(a||(Aa(e,i),a=!0),hN(o.fill)&&(e.fillStyle=o.fill)),(n||o.stroke!==s.stroke)&&(a||(Aa(e,i),a=!0),hN(o.stroke)&&(e.strokeStyle=o.stroke)),(n||o.opacity!==s.opacity)&&(a||(Aa(e,i),a=!0),e.globalAlpha=o.opacity==null?1:o.opacity),t.hasStroke()){var h=o.lineWidth,p=h/(o.strokeNoScale&&t.getLineScale?t.getLineScale():1);e.lineWidth!==p&&(a||(Aa(e,i),a=!0),e.lineWidth=p)}for(var m=0;m<mN.length;m++){var v=mN[m],b=v[0];(n||o[b]!==s[b])&&(a||(Aa(e,i),a=!0),e[b]=o[b]||v[1])}return a}function UAe(e,t,r,n,i){return PZ(e,Y0(t,i.inHover),r&&Y0(r,i.inHover),n,i)}function MZ(e,t){var r=t.transform,n=e.dpr||1;r?e.setTransform(n*r[0],n*r[1],n*r[2],n*r[3],n*r[4],n*r[5]):e.setTransform(n,0,0,n,0,0)}function WAe(e,t,r){for(var n=!1,i=0;i<e.length;i++){var o=e[i];n=n||o.isZeroArea(),MZ(t,o),t.beginPath(),o.buildPath(t,o.shape),t.clip()}r.allClipped=n}function qAe(e,t){return e&&t?e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||e[4]!==t[4]||e[5]!==t[5]:!(!e&&!t)}var vN=1,yN=2,_N=3,bN=4;function ZAe(e){var t=g2(e),r=m2(e);return!(e.lineDash||!(+t^+r)||t&&typeof e.fill!="string"||r&&typeof e.stroke!="string"||e.strokePercent<1||e.strokeOpacity<1||e.fillOpacity<1)}function Aa(e,t){t.batchFill&&e.fill(),t.batchStroke&&e.stroke(),t.batchFill="",t.batchStroke=""}function Y0(e,t){return t&&e.__hoverStyle||e.style}function IZ(e,t){Of(e,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Of(e,t,r,n){var i=t.transform;if(!t.shouldBePainted(r.viewWidth,r.viewHeight,!1,!1)){t.__dirty&=~ns,t.__isRendered=!1;return}var o=t.__clipPaths,s=r.prevElClipPaths,a=!1,h=!1;if((!s||FAe(o,s))&&(s&&s.length&&(Aa(e,r),e.restore(),h=a=!0,r.prevElClipPaths=null,r.allClipped=!1,r.prevEl=null),o&&o.length&&(Aa(e,r),e.save(),WAe(o,e,r),a=!0),r.prevElClipPaths=o),r.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var p=r.prevEl;p||(h=a=!0);var m=t instanceof vn&&t.autoBatch&&ZAe(t.style);a||qAe(i,p.transform)?(Aa(e,r),MZ(e,t)):m||Aa(e,r);var v=Y0(t,r.inHover);t instanceof vn?(r.lastDrawType!==vN&&(h=!0,r.lastDrawType=vN),gN(e,t,p,h,r),(!m||!r.batchFill&&!r.batchStroke)&&e.beginPath(),jAe(e,t,v,m),m&&(r.batchFill=v.fill||"",r.batchStroke=v.stroke||"")):t instanceof V0?(r.lastDrawType!==_N&&(h=!0,r.lastDrawType=_N),gN(e,t,p,h,r),GAe(e,t,v)):t instanceof xu?(r.lastDrawType!==yN&&(h=!0,r.lastDrawType=yN),UAe(e,t,p,h,r),HAe(e,t,v)):t.getTemporalDisplayables&&(r.lastDrawType!==bN&&(h=!0,r.lastDrawType=bN),XAe(e,t,r)),m&&n&&Aa(e,r),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),r.prevEl=t,t.__dirty=0,t.__isRendered=!0}function XAe(e,t,r){var n=t.getDisplayables(),i=t.getTemporalDisplayables();e.save();var o={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:r.viewWidth,viewHeight:r.viewHeight,inHover:r.inHover},s,a;for(s=t.getCursor(),a=n.length;s<a;s++){var h=n[s];h.beforeBrush&&h.beforeBrush(),h.innerBeforeBrush(),Of(e,h,o,s===a-1),h.innerAfterBrush(),h.afterBrush&&h.afterBrush(),o.prevEl=h}for(var p=0,m=i.length;p<m;p++){var h=i[p];h.beforeBrush&&h.beforeBrush(),h.innerBeforeBrush(),Of(e,h,o,p===m-1),h.innerAfterBrush(),h.afterBrush&&h.afterBrush(),o.prevEl=h}t.clearTemporalDisplayables(),t.notClear=!0,e.restore()}var wI=new IAe,xN=new Pb(100),wN=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function sD(e,t){if(e==="none")return null;var r=t.getDevicePixelRatio(),n=t.getZr(),i=n.painter.type==="svg";e.dirty&&wI.delete(e);var o=wI.get(e);if(o)return o;var s=Mn(e,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});s.backgroundColor==="none"&&(s.backgroundColor=null);var a={repeat:"repeat"};return h(a),a.rotation=s.rotation,a.scaleX=a.scaleY=i?1:1/r,wI.set(e,a),e.dirty=!1,a;function h(p){for(var m=[r],v=!0,b=0;b<wN.length;++b){var x=s[wN[b]];if(x!=null&&!nr(x)&&!cr(x)&&!ni(x)&&typeof x!="boolean"){v=!1;break}m.push(x)}var C;if(v){C=m.join(",")+(i?"-svg":"");var I=xN.get(C);I&&(i?p.svgElement=I:p.image=I)}var A=AZ(s.dashArrayX),R=KAe(s.dashArrayY),k=EZ(s.symbol),$=YAe(A),N=DZ(R),H=!i&&hv.createCanvas(),W=i&&{tag:"g",attrs:{},key:"dcl",children:[]},j=K(),X;H&&(H.width=j.width*r,H.height=j.height*r,X=H.getContext("2d")),Q(),v&&xN.put(C,H||W),p.image=H,p.svgElement=W,p.svgWidth=j.width,p.svgHeight=j.height;function K(){for(var oe=1,he=0,ye=$.length;he<ye;++he)oe=O4(oe,$[he]);for(var be=1,he=0,ye=k.length;he<ye;++he)be=O4(be,k[he].length);oe*=be;var ce=N*$.length*k.length;return{width:Math.max(1,Math.min(oe,s.maxTileWidth)),height:Math.max(1,Math.min(ce,s.maxTileHeight))}}function Q(){X&&(X.clearRect(0,0,H.width,H.height),s.backgroundColor&&(X.fillStyle=s.backgroundColor,X.fillRect(0,0,H.width,H.height)));for(var oe=0,he=0;he<R.length;++he)oe+=R[he];if(oe<=0)return;for(var ye=-N,be=0,ce=0,de=0;ye<j.height;){if(be%2===0){for(var Oe=ce/2%k.length,ze=0,De=0,ct=0;ze<j.width*2;){for(var Ke=0,he=0;he<A[de].length;++he)Ke+=A[de][he];if(Ke<=0)break;if(De%2===0){var gt=(1-s.symbolSize)*.5,Lt=ze+A[de][De]*gt,Nt=ye+R[be]*gt,zt=A[de][De]*s.symbolSize,Ft=R[be]*s.symbolSize,Be=ct/2%k[Oe].length;it(Lt,Nt,zt,Ft,k[Oe][Be])}ze+=A[de][De],++ct,++De,De===A[de].length&&(De=0)}++de,de===A.length&&(de=0)}ye+=R[be],++ce,++be,be===R.length&&(be=0)}function it(je,He,Fe,tt,me){var _e=i?1:r,qe=Cl(me,je*_e,He*_e,Fe*_e,tt*_e,s.color,s.symbolKeepAspect);if(i){var ht=n.painter.renderOneToVNode(qe);ht&&W.children.push(ht)}else IZ(X,qe)}}}}function EZ(e){if(!e||e.length===0)return[["rect"]];if(cr(e))return[[e]];for(var t=!0,r=0;r<e.length;++r)if(!cr(e[r])){t=!1;break}if(t)return EZ([e]);for(var n=[],r=0;r<e.length;++r)cr(e[r])?n.push([e[r]]):n.push(e[r]);return n}function AZ(e){if(!e||e.length===0)return[[0,0]];if(ni(e)){var t=Math.ceil(e);return[[t,t]]}for(var r=!0,n=0;n<e.length;++n)if(!ni(e[n])){r=!1;break}if(r)return AZ([e]);for(var i=[],n=0;n<e.length;++n)if(ni(e[n])){var t=Math.ceil(e[n]);i.push([t,t])}else{var t=fr(e[n],function(a){return Math.ceil(a)});t.length%2===1?i.push(t.concat(t)):i.push(t)}return i}function KAe(e){if(!e||typeof e=="object"&&e.length===0)return[0,0];if(ni(e)){var t=Math.ceil(e);return[t,t]}var r=fr(e,function(n){return Math.ceil(n)});return e.length%2?r.concat(r):r}function YAe(e){return fr(e,function(t){return DZ(t)})}function DZ(e){for(var t=0,r=0;r<e.length;++r)t+=e[r];return e.length%2===1?t*2:t}function JAe(e,t){e.eachRawSeries(function(r){if(!e.isSeriesFiltered(r)){var n=r.getData();n.hasItemVisual()&&n.each(function(s){var a=n.getItemVisual(s,"decal");if(a){var h=n.ensureUniqueItemVisual(s,"style");h.decal=sD(a,t)}});var i=n.getVisual("decal");if(i){var o=n.getVisual("style");o.decal=sD(i,t)}}})}var fl=new El,LZ={};function QAe(e,t){LZ[e]=t}function eDe(e){return LZ[e]}var tDe=1,rDe=800,nDe=900,iDe=1e3,oDe=2e3,aDe=5e3,RZ=1e3,sDe=1100,kO=2e3,OZ=3e3,lDe=4e3,ZT=4500,uDe=4600,cDe=5e3,hDe=6e3,kZ=7e3,dDe={PROCESSOR:{FILTER:iDe,SERIES_FILTER:rDe,STATISTIC:aDe},VISUAL:{LAYOUT:RZ,PROGRESSIVE_LAYOUT:sDe,GLOBAL:kO,CHART:OZ,POST_CHART_LAYOUT:uDe,COMPONENT:lDe,BRUSH:cDe,CHART_ITEM:ZT,ARIA:hDe,DECAL:kZ}},Uo="__flagInMainProcess",Ma="__pendingUpdate",SI="__needsUpdateStatus",SN=/^[a-zA-Z0-9_]+$/,TI="__connectUpdateStatus",TN=0,fDe=1,pDe=2;function $Z(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(this.isDisposed()){this.id;return}return BZ(this,e,t)}}function zZ(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return BZ(this,e,t)}}function BZ(e,t,r){return r[0]=r[0]&&r[0].toLowerCase(),El.prototype[t].apply(e,r)}var FZ=(function(e){qt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(El),NZ=FZ.prototype;NZ.on=zZ("on");NZ.off=zZ("off");var Fm,CI,gw,ph,PI,MI,II,u_,c_,CN,PN,EI,MN,vw,IN,VZ,Ps,EN,jZ=(function(e){qt(t,e);function t(r,n,i){var o=e.call(this,new xAe)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},o._pendingActions=[],i=i||{},cr(n)&&(n=HZ[n]),o._dom=r;var s="canvas",a="auto",h=!1;i.ssr&&NCe(function(b){var x=nn(b),C=x.dataIndex;if(C!=null){var I=Ar();return I.set("series_index",x.seriesIndex),I.set("data_index",C),x.ssrType&&I.set("ssr_type",x.ssrType),I}});var p=o._zr=L4(r,{renderer:i.renderer||s,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:$r(i.useDirtyRect,h),useCoarsePointer:$r(i.useCoarsePointer,a),pointerSize:i.pointerSize});o._ssr=i.ssr,o._throttledZrFlush=LO(kr(p.flush,p),17),n=Xr(n),n&&eZ(n,!0),o._theme=n,o._locale=EIe(i.locale||Rq),o._coordSysMgr=new PO;var m=o._api=IN(o);function v(b,x){return b.__prio-x.__prio}return Qw(y2,v),Qw(lD,v),o._scheduler=new bZ(o,m,lD,y2),o._messageCenter=new FZ,o._initEvents(),o.resize=kr(o.resize,o),p.animation.on("frame",o._onframe,o),CN(p,o),PN(p,o),xA(o),o}return t.prototype._onframe=function(){if(!this._disposed){EN(this);var r=this._scheduler;if(this[Ma]){var n=this[Ma].silent;this[Uo]=!0;try{Fm(this),ph.update.call(this,null,this[Ma].updateParams)}catch(h){throw this[Uo]=!1,this[Ma]=null,h}this._zr.flush(),this[Uo]=!1,this[Ma]=null,u_.call(this,n),c_.call(this,n)}else if(r.unfinished){var i=tDe,o=this._model,s=this._api;r.unfinished=!1;do{var a=+new Date;r.performSeriesTasks(o),r.performDataProcessorTasks(o),MI(this,o),r.performVisualTasks(o),vw(this,this._model,s,"remain",{}),i-=+new Date-a}while(i>0&&r.unfinished);r.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(r,n,i){if(!this[Uo]){if(this._disposed){this.id;return}var o,s,a;if(Sr(n)&&(i=n.lazyUpdate,o=n.silent,s=n.replaceMerge,a=n.transition,n=n.notMerge),this[Uo]=!0,!this._model||n){var h=new rEe(this._api),p=this._theme,m=this._model=new CO;m.scheduler=this._scheduler,m.ssr=this._ssr,m.init(null,null,null,p,this._locale,h)}this._model.setOption(r,{replaceMerge:s},uD);var v={seriesTransition:a,optionChanged:!0};if(i)this[Ma]={silent:o,updateParams:v},this[Uo]=!1,this.getZr().wakeUp();else{try{Fm(this),ph.update.call(this,null,v)}catch(b){throw this[Ma]=null,this[Uo]=!1,b}this._ssr||this._zr.flush(),this[Ma]=null,this[Uo]=!1,u_.call(this,o),c_.call(this,o)}}},t.prototype.setTheme=function(){},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Rr.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(r){return this.renderToCanvas(r)},t.prototype.renderToCanvas=function(r){r=r||{};var n=this._zr.painter;return n.getRenderedCanvas({backgroundColor:r.backgroundColor||this._model.get("backgroundColor"),pixelRatio:r.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(r){r=r||{};var n=this._zr.painter;return n.renderToString({useViewBox:r.useViewBox})},t.prototype.getSvgDataURL=function(){if(Rr.svgSupported){var r=this._zr,n=r.storage.getDisplayList();return Ve(n,function(i){i.stopAnimation(null,!0)}),r.painter.toDataURL()}},t.prototype.getDataURL=function(r){if(this._disposed){this.id;return}r=r||{};var n=r.excludeComponents,i=this._model,o=[],s=this;Ve(n,function(h){i.eachComponent({mainType:h},function(p){var m=s._componentsMap[p.__viewId];m.group.ignore||(o.push(m),m.group.ignore=!0)})});var a=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(r).toDataURL("image/"+(r&&r.type||"png"));return Ve(o,function(h){h.group.ignore=!1}),a},t.prototype.getConnectedDataURL=function(r){if(this._disposed){this.id;return}var n=r.type==="svg",i=this.group,o=Math.min,s=Math.max,a=1/0;if(AN[i]){var h=a,p=a,m=-a,v=-a,b=[],x=r&&r.pixelRatio||this.getDevicePixelRatio();Ve(h0,function($,N){if($.group===i){var H=n?$.getZr().painter.getSvgDom().innerHTML:$.renderToCanvas(Xr(r)),W=$.getDom().getBoundingClientRect();h=o(W.left,h),p=o(W.top,p),m=s(W.right,m),v=s(W.bottom,v),b.push({dom:H,left:W.left,top:W.top})}}),h*=x,p*=x,m*=x,v*=x;var C=m-h,I=v-p,A=hv.createCanvas(),R=L4(A,{renderer:n?"svg":"canvas"});if(R.resize({width:C,height:I}),n){var k="";return Ve(b,function($){var N=$.left-h,H=$.top-p;k+='<g transform="translate('+N+","+H+')">'+$.dom+"</g>"}),R.painter.getSvgRoot().innerHTML=k,r.connectedBackgroundColor&&R.painter.setBackgroundColor(r.connectedBackgroundColor),R.refreshImmediately(),R.painter.toDataURL()}else return r.connectedBackgroundColor&&R.add(new Oi({shape:{x:0,y:0,width:C,height:I},style:{fill:r.connectedBackgroundColor}})),Ve(b,function($){var N=new xu({style:{x:$.left*x-h,y:$.top*x-p,image:$.dom}});R.add(N)}),R.refreshImmediately(),A.toDataURL("image/"+(r&&r.type||"png"))}else return this.getDataURL(r)},t.prototype.convertToPixel=function(r,n){return PI(this,"convertToPixel",r,n)},t.prototype.convertFromPixel=function(r,n){return PI(this,"convertFromPixel",r,n)},t.prototype.containPixel=function(r,n){if(this._disposed){this.id;return}var i=this._model,o,s=XM(i,r);return Ve(s,function(a,h){h.indexOf("Models")>=0&&Ve(a,function(p){var m=p.coordinateSystem;if(m&&m.containPoint)o=o||!!m.containPoint(n);else if(h==="seriesModels"){var v=this._chartsMap[p.__viewId];v&&v.containPoint&&(o=o||v.containPoint(n,p))}},this)},this),!!o},t.prototype.getVisual=function(r,n){var i=this._model,o=XM(i,r,{defaultMainType:"series"}),s=o.seriesModel,a=s.getData(),h=o.hasOwnProperty("dataIndexInside")?o.dataIndexInside:o.hasOwnProperty("dataIndex")?a.indexOfRawIndex(o.dataIndex):null;return h!=null?TAe(a,h,n):CZ(a,n)},t.prototype.getViewOfComponentModel=function(r){return this._componentsMap[r.__viewId]},t.prototype.getViewOfSeriesModel=function(r){return this._chartsMap[r.__viewId]},t.prototype._initEvents=function(){var r=this;Ve(mDe,function(n){var i=function(o){var s=r.getModel(),a=o.target,h,p=n==="globalout";if(p?h={}:a&&R_(a,function(C){var I=nn(C);if(I&&I.dataIndex!=null){var A=I.dataModel||s.getSeriesByIndex(I.seriesIndex);return h=A&&A.getDataParams(I.dataIndex,I.dataType,a)||{},!0}else if(I.eventData)return h=Kt({},I.eventData),!0},!0),h){var m=h.componentType,v=h.componentIndex;(m==="markLine"||m==="markPoint"||m==="markArea")&&(m="series",v=h.seriesIndex);var b=m&&v!=null&&s.getComponent(m,v),x=b&&r[b.mainType==="series"?"_chartsMap":"_componentsMap"][b.__viewId];h.event=o,h.type=n,r._$eventProcessor.eventInfo={targetEl:a,packedEvent:h,model:b,view:x},r.trigger(n,h)}};i.zrEventfulCallAtLast=!0,r._zr.on(n,i,r)}),Ve(c0,function(n,i){r._messageCenter.on(i,function(o){this.trigger(i,o)},r)}),Ve(["selectchanged"],function(n){r._messageCenter.on(n,function(i){this.trigger(n,i)},r)}),CAe(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var r=this.getDom();r&&qW(this.getDom(),zO,"");var n=this,i=n._api,o=n._model;Ve(n._componentsViews,function(s){s.dispose(o,i)}),Ve(n._chartsViews,function(s){s.dispose(o,i)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete h0[n.id]},t.prototype.resize=function(r){if(!this[Uo]){if(this._disposed){this.id;return}this._zr.resize(r);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!n){var i=n.resetOption("media"),o=r&&r.silent;this[Ma]&&(o==null&&(o=this[Ma].silent),i=!0,this[Ma]=null),this[Uo]=!0;try{i&&Fm(this),ph.update.call(this,{type:"resize",animation:Kt({duration:0},r&&r.animation)})}catch(s){throw this[Uo]=!1,s}this[Uo]=!1,u_.call(this,o),c_.call(this,o)}}},t.prototype.showLoading=function(r,n){if(this._disposed){this.id;return}if(Sr(r)&&(n=r,r=""),r=r||"default",this.hideLoading(),!!cD[r]){var i=cD[r](this._api,n),o=this._zr;this._loadingFX=i,o.add(i)}},t.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},t.prototype.makeActionFromEvent=function(r){var n=Kt({},r);return n.type=c0[r.type],n},t.prototype.dispatchAction=function(r,n){if(this._disposed){this.id;return}if(Sr(n)||(n={silent:!!n}),!!v2[r.type]&&this._model){if(this[Uo]){this._pendingActions.push(r);return}var i=n.silent;II.call(this,r,i);var o=n.flush;o?this._zr.flush():o!==!1&&Rr.browser.weChat&&this._throttledZrFlush(),u_.call(this,i),c_.call(this,i)}},t.prototype.updateLabelLayout=function(){fl.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(r){if(this._disposed){this.id;return}var n=r.seriesIndex,i=this.getModel(),o=i.getSeriesByIndex(n);o.appendData(r),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=(function(){Fm=function(v){var b=v._scheduler;b.restorePipelines(v._model),b.prepareStageTasks(),CI(v,!0),CI(v,!1),b.plan()},CI=function(v,b){for(var x=v._model,C=v._scheduler,I=b?v._componentsViews:v._chartsViews,A=b?v._componentsMap:v._chartsMap,R=v._zr,k=v._api,$=0;$<I.length;$++)I[$].__alive=!1;b?x.eachComponent(function(W,j){W!=="series"&&N(j)}):x.eachSeries(N);function N(W){var j=W.__requireNewView;W.__requireNewView=!1;var X="_ec_"+W.id+"_"+W.type,K=!j&&A[X];if(!K){var Q=cu(W.type),oe=b?cs.getClass(Q.main,Q.sub):js.getClass(Q.sub);K=new oe,K.init(x,k),A[X]=K,I.push(K),R.add(K.group)}W.__viewId=K.__id=X,K.__alive=!0,K.__model=W,K.group.__ecComponentInfo={mainType:W.mainType,index:W.componentIndex},!b&&C.prepareView(K,W,x,k)}for(var $=0;$<I.length;){var H=I[$];H.__alive?$++:(!b&&H.renderTask.dispose(),R.remove(H.group),H.dispose(x,k),I.splice($,1),A[H.__id]===H&&delete A[H.__id],H.__id=H.group.__ecComponentInfo=null)}},gw=function(v,b,x,C,I){var A=v._model;if(A.setUpdatePayload(x),!C){Ve([].concat(v._componentsViews).concat(v._chartsViews),H);return}var R={};R[C+"Id"]=x[C+"Id"],R[C+"Index"]=x[C+"Index"],R[C+"Name"]=x[C+"Name"];var k={mainType:C,query:R};I&&(k.subType=I);var $=x.excludeSeriesId,N;$!=null&&(N=Ar(),Ve(ya($),function(W){var j=fu(W,null);j!=null&&N.set(j,!0)})),A&&A.eachComponent(k,function(W){var j=N&&N.get(W.id)!=null;if(!j)if(u6(x))if(W instanceof yu)x.type===Uf&&!x.notBlur&&!W.get(["emphasis","disabled"])&&pMe(W,x,v._api);else{var X=hO(W.mainType,W.componentIndex,x.name,v._api),K=X.focusSelf,Q=X.dispatchers;x.type===Uf&&K&&!x.notBlur&&qA(W.mainType,W.componentIndex,v._api),Q&&Ve(Q,function(oe){x.type===Uf?j0(oe):H0(oe)})}else XA(x)&&W instanceof yu&&(vMe(W,x,v._api),a6(W),Ps(v))},v),A&&A.eachComponent(k,function(W){var j=N&&N.get(W.id)!=null;j||H(v[C==="series"?"_chartsMap":"_componentsMap"][W.__viewId])},v);function H(W){W&&W.__alive&&W[b]&&W[b](W.__model,A,v._api,x)}},ph={prepareAndUpdate:function(v){Fm(this),ph.update.call(this,v,{optionChanged:v.newOption!=null})},update:function(v,b){var x=this._model,C=this._api,I=this._zr,A=this._coordSysMgr,R=this._scheduler;if(x){x.setUpdatePayload(v),R.restoreData(x,v),R.performSeriesTasks(x),A.create(x,C),R.performDataProcessorTasks(x,v),MI(this,x),A.update(x,C),r(x),R.performVisualTasks(x,v),EI(this,x,C,v,b);var k=x.get("backgroundColor")||"transparent",$=x.get("darkMode");I.setBackgroundColor(k),$!=null&&$!=="auto"&&I.setDarkMode($),fl.trigger("afterupdate",x,C)}},updateTransform:function(v){var b=this,x=this._model,C=this._api;if(x){x.setUpdatePayload(v);var I=[];x.eachComponent(function(R,k){if(R!=="series"){var $=b.getViewOfComponentModel(k);if($&&$.__alive)if($.updateTransform){var N=$.updateTransform(k,x,C,v);N&&N.update&&I.push($)}else I.push($)}});var A=Ar();x.eachSeries(function(R){var k=b._chartsMap[R.__viewId];if(k.updateTransform){var $=k.updateTransform(R,x,C,v);$&&$.update&&A.set(R.uid,1)}else A.set(R.uid,1)}),r(x),this._scheduler.performVisualTasks(x,v,{setDirty:!0,dirtyMap:A}),vw(this,x,C,v,{},A),fl.trigger("afterupdate",x,C)}},updateView:function(v){var b=this._model;b&&(b.setUpdatePayload(v),js.markUpdateMethod(v,"updateView"),r(b),this._scheduler.performVisualTasks(b,v,{setDirty:!0}),EI(this,b,this._api,v,{}),fl.trigger("afterupdate",b,this._api))},updateVisual:function(v){var b=this,x=this._model;x&&(x.setUpdatePayload(v),x.eachSeries(function(C){C.getData().clearAllVisual()}),js.markUpdateMethod(v,"updateVisual"),r(x),this._scheduler.performVisualTasks(x,v,{visualType:"visual",setDirty:!0}),x.eachComponent(function(C,I){if(C!=="series"){var A=b.getViewOfComponentModel(I);A&&A.__alive&&A.updateVisual(I,x,b._api,v)}}),x.eachSeries(function(C){var I=b._chartsMap[C.__viewId];I.updateVisual(C,x,b._api,v)}),fl.trigger("afterupdate",x,this._api))},updateLayout:function(v){ph.update.call(this,v)}},PI=function(v,b,x,C){if(v._disposed){v.id;return}for(var I=v._model,A=v._coordSysMgr.getCoordinateSystems(),R,k=XM(I,x),$=0;$<A.length;$++){var N=A[$];if(N[b]&&(R=N[b](I,k,C))!=null)return R}},MI=function(v,b){var x=v._chartsMap,C=v._scheduler;b.eachSeries(function(I){C.updateStreamModes(I,x[I.__viewId])})},II=function(v,b){var x=this,C=this.getModel(),I=v.type,A=v.escapeConnect,R=v2[I],k=R.actionInfo,$=(k.update||"update").split(":"),N=$.pop(),H=$[0]!=null&&cu($[0]);this[Uo]=!0;var W=[v],j=!1;v.batch&&(j=!0,W=fr(v.batch,function(be){return be=Mn(Kt({},be),v),be.batch=null,be}));var X=[],K,Q=XA(v),oe=u6(v);if(oe&&fq(this._api),Ve(W,function(be){if(K=R.action(be,x._model,x._api),K=K||Kt({},be),K.type=k.event||K.type,X.push(K),oe){var ce=iO(v),de=ce.queryOptionMap,Oe=ce.mainTypeSpecified,ze=Oe?de.keys()[0]:"series";gw(x,N,be,ze),Ps(x)}else Q?(gw(x,N,be,"series"),Ps(x)):H&&gw(x,N,be,H.main,H.sub)}),N!=="none"&&!oe&&!Q&&!H)try{this[Ma]?(Fm(this),ph.update.call(this,v),this[Ma]=null):ph[N].call(this,v)}catch(be){throw this[Uo]=!1,be}if(j?K={type:k.event||I,escapeConnect:A,batch:X}:K=X[0],this[Uo]=!1,!b){var he=this._messageCenter;if(he.trigger(K.type,K),Q){var ye={type:"selectchanged",escapeConnect:A,selected:yMe(C),isFromClick:v.isFromClick||!1,fromAction:v.type,fromActionPayload:v};he.trigger(ye.type,ye)}}},u_=function(v){for(var b=this._pendingActions;b.length;){var x=b.shift();II.call(this,x,v)}},c_=function(v){!v&&this.trigger("updated")},CN=function(v,b){v.on("rendered",function(x){b.trigger("rendered",x),v.animation.isFinished()&&!b[Ma]&&!b._scheduler.unfinished&&!b._pendingActions.length&&b.trigger("finished")})},PN=function(v,b){v.on("mouseover",function(x){var C=x.target,I=R_(C,ZA);I&&(mMe(I,x,b._api),Ps(b))}).on("mouseout",function(x){var C=x.target,I=R_(C,ZA);I&&(gMe(I,x,b._api),Ps(b))}).on("click",function(x){var C=x.target,I=R_(C,function(k){return nn(k).dataIndex!=null},!0);if(I){var A=I.selected?"unselect":"select",R=nn(I);b._api.dispatchAction({type:A,dataType:R.dataType,dataIndexInside:R.dataIndex,seriesIndex:R.seriesIndex,isFromClick:!0})}})};function r(v){v.clearColorPalette(),v.eachSeries(function(b){b.clearColorPalette()})}function n(v){var b=[],x=[],C=!1;if(v.eachComponent(function(k,$){var N=$.get("zlevel")||0,H=$.get("z")||0,W=$.getZLevelKey();C=C||!!W,(k==="series"?x:b).push({zlevel:N,z:H,idx:$.componentIndex,type:k,key:W})}),C){var I=b.concat(x),A,R;Qw(I,function(k,$){return k.zlevel===$.zlevel?k.z-$.z:k.zlevel-$.zlevel}),Ve(I,function(k){var $=v.getComponent(k.type,k.idx),N=k.zlevel,H=k.key;A!=null&&(N=Math.max(A,N)),H?(N===A&&H!==R&&N++,R=H):R&&(N===A&&N++,R=""),A=N,$.setZLevel(N)})}}EI=function(v,b,x,C,I){n(b),MN(v,b,x,C,I),Ve(v._chartsViews,function(A){A.__alive=!1}),vw(v,b,x,C,I),Ve(v._chartsViews,function(A){A.__alive||A.remove(b,x)})},MN=function(v,b,x,C,I,A){Ve(A||v._componentsViews,function(R){var k=R.__model;p(k,R),R.render(k,b,x,C),a(k,R),m(k,R)})},vw=function(v,b,x,C,I,A){var R=v._scheduler;I=Kt(I||{},{updatedSeries:b.getSeries()}),fl.trigger("series:beforeupdate",b,x,I);var k=!1;b.eachSeries(function($){var N=v._chartsMap[$.__viewId];N.__alive=!0;var H=N.renderTask;R.updatePayload(H,C),p($,N),A&&A.get($.uid)&&H.dirty(),H.perform(R.getPerformArgs(H))&&(k=!0),N.group.silent=!!$.get("silent"),s($,N),a6($)}),R.unfinished=k||R.unfinished,fl.trigger("series:layoutlabels",b,x,I),fl.trigger("series:transition",b,x,I),b.eachSeries(function($){var N=v._chartsMap[$.__viewId];a($,N),m($,N)}),o(v,b),fl.trigger("series:afterupdate",b,x,I)},Ps=function(v){v[SI]=!0,v.getZr().wakeUp()},EN=function(v){v[SI]&&(v.getZr().storage.traverse(function(b){a0(b)||i(b)}),v[SI]=!1)};function i(v){for(var b=[],x=v.currentStates,C=0;C<x.length;C++){var I=x[C];I==="emphasis"||I==="blur"||I==="select"||b.push(I)}v.selected&&v.states.select&&b.push("select"),v.hoverState===PT&&v.states.emphasis?b.push("emphasis"):v.hoverState===CT&&v.states.blur&&b.push("blur"),v.useStates(b)}function o(v,b){var x=v._zr,C=x.storage,I=0;C.traverse(function(A){A.isGroup||I++}),I>b.get("hoverLayerThreshold")&&!Rr.node&&!Rr.worker&&b.eachSeries(function(A){if(!A.preventUsingHoverLayer){var R=v._chartsMap[A.__viewId];R.__alive&&R.eachRendered(function(k){k.states.emphasis&&(k.states.emphasis.hoverLayer=!0)})}})}function s(v,b){var x=v.get("blendMode")||null;b.eachRendered(function(C){C.isGroup||(C.style.blend=x)})}function a(v,b){if(!v.preventAutoZ){var x=v.get("z")||0,C=v.get("zlevel")||0;b.eachRendered(function(I){return h(I,x,C,-1/0),!0})}}function h(v,b,x,C){var I=v.getTextContent(),A=v.getTextGuideLine(),R=v.isGroup;if(R)for(var k=v.childrenRef(),$=0;$<k.length;$++)C=Math.max(h(k[$],b,x,C),C);else v.z=b,v.zlevel=x,C=Math.max(v.z2,C);if(I&&(I.z=b,I.zlevel=x,isFinite(C)&&(I.z2=C+2)),A){var N=v.textGuideLineConfig;A.z=b,A.zlevel=x,isFinite(C)&&(A.z2=C+(N&&N.showAbove?1:-1))}return C}function p(v,b){b.eachRendered(function(x){if(!a0(x)){var C=x.getTextContent(),I=x.getTextGuideLine();x.stateTransition&&(x.stateTransition=null),C&&C.stateTransition&&(C.stateTransition=null),I&&I.stateTransition&&(I.stateTransition=null),x.hasState()?(x.prevStates=x.currentStates,x.clearStates()):x.prevStates&&(x.prevStates=null)}})}function m(v,b){var x=v.getModel("stateAnimation"),C=v.isAnimationEnabled(),I=x.get("duration"),A=I>0?{duration:I,delay:x.get("delay"),easing:x.get("easing")}:null;b.eachRendered(function(R){if(R.states&&R.states.emphasis){if(a0(R))return;if(R instanceof vn&&SMe(R),R.__dirty){var k=R.prevStates;k&&R.useStates(k)}if(C){R.stateTransition=A;var $=R.getTextContent(),N=R.getTextGuideLine();$&&($.stateTransition=A),N&&(N.stateTransition=A)}R.__dirty&&i(R)}})}IN=function(v){return new((function(b){qt(x,b);function x(){return b!==null&&b.apply(this,arguments)||this}return x.prototype.getCoordinateSystems=function(){return v._coordSysMgr.getCoordinateSystems()},x.prototype.getComponentByElement=function(C){for(;C;){var I=C.__ecComponentInfo;if(I!=null)return v._model.getComponent(I.mainType,I.index);C=C.parent}},x.prototype.enterEmphasis=function(C,I){j0(C,I),Ps(v)},x.prototype.leaveEmphasis=function(C,I){H0(C,I),Ps(v)},x.prototype.enterBlur=function(C){uq(C),Ps(v)},x.prototype.leaveBlur=function(C){cO(C),Ps(v)},x.prototype.enterSelect=function(C){cq(C),Ps(v)},x.prototype.leaveSelect=function(C){hq(C),Ps(v)},x.prototype.getModel=function(){return v.getModel()},x.prototype.getViewOfComponentModel=function(C){return v.getViewOfComponentModel(C)},x.prototype.getViewOfSeriesModel=function(C){return v.getViewOfSeriesModel(C)},x})(Jq))(v)},VZ=function(v){function b(x,C){for(var I=0;I<x.length;I++){var A=x[I];A[TI]=C}}Ve(c0,function(x,C){v._messageCenter.on(C,function(I){if(AN[v.group]&&v[TI]!==TN){if(I&&I.escapeConnect)return;var A=v.makeActionFromEvent(I),R=[];Ve(h0,function(k){k!==v&&k.group===v.group&&R.push(k)}),b(R,TN),Ve(R,function(k){k[TI]!==fDe&&k.dispatchAction(A)}),b(R,pDe)}})})}})(),t})(El),$O=jZ.prototype;$O.on=$Z("on");$O.off=$Z("off");$O.one=function(e,t,r){var n=this;function i(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];t&&t.apply&&t.apply(this,o),n.off(e,i)}this.on.call(this,e,i,r)};var mDe=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var v2={},c0={},lD=[],uD=[],y2=[],HZ={},cD={},h0={},AN={},gDe=+new Date-0,zO="_echarts_instance_";function vDe(e,t,r){var n=!(r&&r.ssr);if(n){var i=yDe(e);if(i)return i}var o=new jZ(e,t,r);return o.id="ec_"+gDe++,h0[o.id]=o,n&&qW(e,zO,o.id),VZ(o),fl.trigger("afterinit",o),o}function yDe(e){return h0[aPe(e,zO)]}function GZ(e,t){HZ[e]=t}function UZ(e){sn(uD,e)<0&&uD.push(e)}function WZ(e,t){FO(lD,e,t,oDe)}function _De(e){BO("afterinit",e)}function bDe(e){BO("afterupdate",e)}function BO(e,t){fl.on(e,t)}function mp(e,t,r){br(t)&&(r=t,t="");var n=Sr(e)?e.type:[e,e={event:t}][0];e.event=(e.event||n).toLowerCase(),t=e.event,!c0[t]&&(Tl(SN.test(n)&&SN.test(t)),v2[n]||(v2[n]={action:r,actionInfo:e}),c0[t]=n)}function xDe(e,t){PO.register(e,t)}function wDe(e,t){FO(y2,e,t,RZ,"layout")}function gp(e,t){FO(y2,e,t,OZ,"visual")}var DN=[];function FO(e,t,r,n,i){if((br(t)||Sr(t))&&(r=t,t=n),!(sn(DN,r)>=0)){DN.push(r);var o=bZ.wrapStageHandler(r,i);o.__prio=t,o.__raw=r,e.push(o)}}function qZ(e,t){cD[e]=t}function SDe(e,t,r){var n=eDe("registerMap");n&&n(e,t,r)}var TDe=DEe;gp(kO,sAe);gp(ZT,lAe);gp(ZT,uAe);gp(kO,wAe);gp(ZT,SAe);gp(kZ,JAe);UZ(eZ);WZ(nDe,pEe);qZ("default",cAe);mp({type:Uf,event:Uf,update:Uf},Qo);mp({type:oS,event:oS,update:oS},Qo);mp({type:n0,event:n0,update:n0},Qo);mp({type:aS,event:aS,update:aS},Qo);mp({type:i0,event:i0,update:i0},Qo);GZ("light",bAe);GZ("dark",TZ);function h_(e){return e==null?0:e.length||1}function LN(e){return e}var CDe=(function(){function e(t,r,n,i,o,s){this._old=t,this._new=r,this._oldKeyGetter=n||LN,this._newKeyGetter=i||LN,this.context=o,this._diffModeMultiple=s==="multiple"}return e.prototype.add=function(t){return this._add=t,this},e.prototype.update=function(t){return this._update=t,this},e.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},e.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},e.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},e.prototype.remove=function(t){return this._remove=t,this},e.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},e.prototype._executeOneToOne=function(){var t=this._old,r=this._new,n={},i=new Array(t.length),o=new Array(r.length);this._initIndexMap(t,null,i,"_oldKeyGetter"),this._initIndexMap(r,n,o,"_newKeyGetter");for(var s=0;s<t.length;s++){var a=i[s],h=n[a],p=h_(h);if(p>1){var m=h.shift();h.length===1&&(n[a]=h[0]),this._update&&this._update(m,s)}else p===1?(n[a]=null,this._update&&this._update(h,s)):this._remove&&this._remove(s)}this._performRestAdd(o,n)},e.prototype._executeMultiple=function(){var t=this._old,r=this._new,n={},i={},o=[],s=[];this._initIndexMap(t,n,o,"_oldKeyGetter"),this._initIndexMap(r,i,s,"_newKeyGetter");for(var a=0;a<o.length;a++){var h=o[a],p=n[h],m=i[h],v=h_(p),b=h_(m);if(v>1&&b===1)this._updateManyToOne&&this._updateManyToOne(m,p),i[h]=null;else if(v===1&&b>1)this._updateOneToMany&&this._updateOneToMany(m,p),i[h]=null;else if(v===1&&b===1)this._update&&this._update(m,p),i[h]=null;else if(v>1&&b>1)this._updateManyToMany&&this._updateManyToMany(m,p),i[h]=null;else if(v>1)for(var x=0;x<v;x++)this._remove&&this._remove(p[x]);else this._remove&&this._remove(p)}this._performRestAdd(s,i)},e.prototype._performRestAdd=function(t,r){for(var n=0;n<t.length;n++){var i=t[n],o=r[i],s=h_(o);if(s>1)for(var a=0;a<s;a++)this._add&&this._add(o[a]);else s===1&&this._add&&this._add(o);r[i]=null}},e.prototype._initIndexMap=function(t,r,n,i){for(var o=this._diffModeMultiple,s=0;s<t.length;s++){var a="_ec_"+this[i](t[s],s);if(o||(n[s]=a),!!r){var h=r[a],p=h_(h);p===0?(r[a]=s,o&&n.push(a)):p===1?r[a]=[h,s]:h.push(s)}}},e})(),PDe=(function(){function e(t,r){this._encode=t,this._schema=r}return e.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},e.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},e})();function MDe(e,t){var r={},n=r.encode={},i=Ar(),o=[],s=[],a={};Ve(e.dimensions,function(b){var x=e.getDimensionInfo(b),C=x.coordDim;if(C){var I=x.coordDimIndex;AI(n,C)[I]=b,x.isExtraCoord||(i.set(C,1),EDe(x.type)&&(o[0]=b),AI(a,C)[I]=e.getDimensionIndex(x.name)),x.defaultTooltip&&s.push(b)}qq.each(function(A,R){var k=AI(n,R),$=x.otherDims[R];$!=null&&$!==!1&&(k[$]=x.name)})});var h=[],p={};i.each(function(b,x){var C=n[x];p[x]=C[0],h=h.concat(C)}),r.dataDimsOnCoord=h,r.dataDimIndicesOnCoord=fr(h,function(b){return e.getDimensionInfo(b).storeDimIndex}),r.encodeFirstDimNotExtra=p;var m=n.label;m&&m.length&&(o=m.slice());var v=n.tooltip;return v&&v.length?s=v.slice():s.length||(s=o.slice()),n.defaultedLabel=o,n.defaultedTooltip=s,r.userOutput=new PDe(a,t),r}function AI(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function IDe(e){return e==="category"?"ordinal":e==="time"?"time":"float"}function EDe(e){return!(e==="ordinal"||e==="time")}var uS=(function(){function e(t){this.otherDims={},t!=null&&Kt(this,t)}return e})(),ADe=Bi(),DDe={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},ZZ=(function(){function e(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return e.prototype.isDimensionOmitted=function(){return this._dimOmitted},e.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=YZ(this.source)))},e.prototype.getSourceDimensionIndex=function(t){return $r(this._dimNameMap.get(t),-1)},e.prototype.getSourceDimension=function(t){var r=this.source.dimensionsDefine;if(r)return r[t]},e.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,r=nZ(this.source),n=!JZ(t),i="",o=[],s=0,a=0;s<t;s++){var h=void 0,p=void 0,m=void 0,v=this.dimensions[a];if(v&&v.storeDimIndex===s)h=r?v.name:null,p=v.type,m=v.ordinalMeta,a++;else{var b=this.getSourceDimension(s);b&&(h=r?b.name:null,p=b.type)}o.push({property:h,type:p,ordinalMeta:m}),r&&h!=null&&(!v||!v.isCalculationCoord)&&(i+=n?h.replace(/\`/g,"`1").replace(/\$/g,"`2"):h),i+="$",i+=DDe[p]||"f",m&&(i+=m.uid),i+="$"}var x=this.source,C=[x.seriesLayoutBy,x.startIndex,i].join("$$");return{dimensions:o,hash:C}},e.prototype.makeOutputDimensionNames=function(){for(var t=[],r=0,n=0;r<this._fullDimCount;r++){var i=void 0,o=this.dimensions[n];if(o&&o.storeDimIndex===r)o.isCalculationCoord||(i=o.name),n++;else{var s=this.getSourceDimension(r);s&&(i=s.name)}t.push(i)}return t},e.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},e})();function XZ(e){return e instanceof ZZ}function KZ(e){for(var t=Ar(),r=0;r<(e||[]).length;r++){var n=e[r],i=Sr(n)?n.name:n;i!=null&&t.get(i)==null&&t.set(i,r)}return t}function YZ(e){var t=ADe(e);return t.dimNameMap||(t.dimNameMap=KZ(e.dimensionsDefine))}function JZ(e){return e>30}var d_=Sr,mh=fr,LDe=typeof Int32Array>"u"?Array:Int32Array,RDe="e\0\0",RN=-1,ODe=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],kDe=["_approximateExtent"],ON,yw,f_,p_,DI,m_,LI,NO=(function(){function e(t,r){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var n,i=!1;XZ(t)?(n=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(i=!0,n=t),n=n||["x","y"];for(var o={},s=[],a={},h=!1,p={},m=0;m<n.length;m++){var v=n[m],b=cr(v)?new uS({name:v}):v instanceof uS?v:new uS(v),x=b.name;b.type=b.type||"float",b.coordDim||(b.coordDim=x,b.coordDimIndex=0);var C=b.otherDims=b.otherDims||{};s.push(x),o[x]=b,p[x]!=null&&(h=!0),b.createInvertedIndices&&(a[x]=[]),C.itemName===0&&(this._nameDimIdx=m),C.itemId===0&&(this._idDimIdx=m),i&&(b.storeDimIndex=m)}if(this.dimensions=s,this._dimInfos=o,this._initGetDimensionInfo(h),this.hostModel=r,this._invertedIndicesMap=a,this._dimOmitted){var I=this._dimIdxToName=Ar();Ve(s,function(A){I.set(o[A].storeDimIndex,A)})}}return e.prototype.getDimension=function(t){var r=this._recognizeDimIndex(t);if(r==null)return t;if(r=t,!this._dimOmitted)return this.dimensions[r];var n=this._dimIdxToName.get(r);if(n!=null)return n;var i=this._schema.getSourceDimension(r);if(i)return i.name},e.prototype.getDimensionIndex=function(t){var r=this._recognizeDimIndex(t);if(r!=null)return r;if(t==null)return-1;var n=this._getDimInfo(t);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},e.prototype._recognizeDimIndex=function(t){if(ni(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},e.prototype._getStoreDimIndex=function(t){var r=this.getDimensionIndex(t);return r},e.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},e.prototype._initGetDimensionInfo=function(t){var r=this._dimInfos;this._getDimInfo=t?function(n){return r.hasOwnProperty(n)?r[n]:void 0}:function(n){return r[n]}},e.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},e.prototype.mapDimension=function(t,r){var n=this._dimSummary;if(r==null)return n.encodeFirstDimNotExtra[t];var i=n.encode[t];return i?i[r]:null},e.prototype.mapDimensionsAll=function(t){var r=this._dimSummary,n=r.encode[t];return(n||[]).slice()},e.prototype.getStore=function(){return this._store},e.prototype.initData=function(t,r,n){var i=this,o;if(t instanceof eD&&(o=t),!o){var s=this.dimensions,a=MO(t)||$a(t)?new iZ(t,s.length):t;o=new eD;var h=mh(s,function(p){return{type:i._dimInfos[p].type,property:p}});o.initData(a,h,n)}this._store=o,this._nameList=(r||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,o.count()),this._dimSummary=MDe(this,this._schema),this.userOutput=this._dimSummary.userOutput},e.prototype.appendData=function(t){var r=this._store.appendData(t);this._doInit(r[0],r[1])},e.prototype.appendValues=function(t,r){var n=this._store.appendValues(t,r&&r.length),i=n.start,o=n.end,s=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),r)for(var a=i;a<o;a++){var h=a-i;this._nameList[a]=r[h],s&&LI(this,a)}},e.prototype._updateOrdinalMeta=function(){for(var t=this._store,r=this.dimensions,n=0;n<r.length;n++){var i=this._dimInfos[r[n]];i.ordinalMeta&&t.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},e.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==Vh&&!t.fillStorage},e.prototype._doInit=function(t,r){if(!(t>=r)){var n=this._store,i=n.getProvider();this._updateOrdinalMeta();var o=this._nameList,s=this._idList,a=i.getSource().sourceFormat,h=a===Ws;if(h&&!i.pure)for(var p=[],m=t;m<r;m++){var v=i.getItem(m,p);if(!this.hasItemOption&&ZCe(v)&&(this.hasItemOption=!0),v){var b=v.name;o[m]==null&&b!=null&&(o[m]=fu(b,null));var x=v.id;s[m]==null&&x!=null&&(s[m]=fu(x,null))}}if(this._shouldMakeIdFromName())for(var m=t;m<r;m++)LI(this,m);ON(this)}},e.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},e.prototype.setApproximateExtent=function(t,r){r=this.getDimension(r),this._approximateExtent[r]=t.slice()},e.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},e.prototype.setCalculationInfo=function(t,r){d_(t)?Kt(this._calculationInfo,t):this._calculationInfo[t]=r},e.prototype.getName=function(t){var r=this.getRawIndex(t),n=this._nameList[r];return n==null&&this._nameDimIdx!=null&&(n=f_(this,this._nameDimIdx,r)),n==null&&(n=""),n},e.prototype._getCategory=function(t,r){var n=this._store.get(t,r),i=this._store.getOrdinalMeta(t);return i?i.categories[n]:n},e.prototype.getId=function(t){return yw(this,this.getRawIndex(t))},e.prototype.count=function(){return this._store.count()},e.prototype.get=function(t,r){var n=this._store,i=this._dimInfos[t];if(i)return n.get(i.storeDimIndex,r)},e.prototype.getByRawIndex=function(t,r){var n=this._store,i=this._dimInfos[t];if(i)return n.getByRawIndex(i.storeDimIndex,r)},e.prototype.getIndices=function(){return this._store.getIndices()},e.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},e.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},e.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},e.prototype.getValues=function(t,r){var n=this,i=this._store;return nr(t)?i.getValues(mh(t,function(o){return n._getStoreDimIndex(o)}),r):i.getValues(t)},e.prototype.hasValue=function(t){for(var r=this._dimSummary.dataDimIndicesOnCoord,n=0,i=r.length;n<i;n++)if(isNaN(this._store.get(r[n],t)))return!1;return!0},e.prototype.indexOfName=function(t){for(var r=0,n=this._store.count();r<n;r++)if(this.getName(r)===t)return r;return-1},e.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},e.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},e.prototype.rawIndexOf=function(t,r){var n=t&&this._invertedIndicesMap[t],i=n&&n[r];return i==null||isNaN(i)?RN:i},e.prototype.indicesOfNearest=function(t,r,n){return this._store.indicesOfNearest(this._getStoreDimIndex(t),r,n)},e.prototype.each=function(t,r,n){br(t)&&(n=r,r=t,t=[]);var i=n||this,o=mh(p_(t),this._getStoreDimIndex,this);this._store.each(o,i?kr(r,i):r)},e.prototype.filterSelf=function(t,r,n){br(t)&&(n=r,r=t,t=[]);var i=n||this,o=mh(p_(t),this._getStoreDimIndex,this);return this._store=this._store.filter(o,i?kr(r,i):r),this},e.prototype.selectRange=function(t){var r=this,n={},i=on(t);return Ve(i,function(o){var s=r._getStoreDimIndex(o);n[s]=t[o]}),this._store=this._store.selectRange(n),this},e.prototype.mapArray=function(t,r,n){br(t)&&(n=r,r=t,t=[]),n=n||this;var i=[];return this.each(t,function(){i.push(r&&r.apply(this,arguments))},n),i},e.prototype.map=function(t,r,n,i){var o=n||i||this,s=mh(p_(t),this._getStoreDimIndex,this),a=m_(this);return a._store=this._store.map(s,o?kr(r,o):r),a},e.prototype.modify=function(t,r,n,i){var o=n||i||this,s=mh(p_(t),this._getStoreDimIndex,this);this._store.modify(s,o?kr(r,o):r)},e.prototype.downSample=function(t,r,n,i){var o=m_(this);return o._store=this._store.downSample(this._getStoreDimIndex(t),r,n,i),o},e.prototype.minmaxDownSample=function(t,r){var n=m_(this);return n._store=this._store.minmaxDownSample(this._getStoreDimIndex(t),r),n},e.prototype.lttbDownSample=function(t,r){var n=m_(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(t),r),n},e.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},e.prototype.getItemModel=function(t){var r=this.hostModel,n=this.getRawDataItem(t);return new Li(n,r,r&&r.ecModel)},e.prototype.diff=function(t){var r=this;return new CDe(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(n){return yw(t,n)},function(n){return yw(r,n)})},e.prototype.getVisual=function(t){var r=this._visual;return r&&r[t]},e.prototype.setVisual=function(t,r){this._visual=this._visual||{},d_(t)?Kt(this._visual,t):this._visual[t]=r},e.prototype.getItemVisual=function(t,r){var n=this._itemVisuals[t],i=n&&n[r];return i??this.getVisual(r)},e.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},e.prototype.ensureUniqueItemVisual=function(t,r){var n=this._itemVisuals,i=n[t];i||(i=n[t]={});var o=i[r];return o==null&&(o=this.getVisual(r),nr(o)?o=o.slice():d_(o)&&(o=Kt({},o)),i[r]=o),o},e.prototype.setItemVisual=function(t,r,n){var i=this._itemVisuals[t]||{};this._itemVisuals[t]=i,d_(r)?Kt(i,r):i[r]=n},e.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},e.prototype.setLayout=function(t,r){d_(t)?Kt(this._layout,t):this._layout[t]=r},e.prototype.getLayout=function(t){return this._layout[t]},e.prototype.getItemLayout=function(t){return this._itemLayouts[t]},e.prototype.setItemLayout=function(t,r,n){this._itemLayouts[t]=n?Kt(this._itemLayouts[t]||{},r):r},e.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},e.prototype.setItemGraphicEl=function(t,r){var n=this.hostModel&&this.hostModel.seriesIndex;iMe(n,this.dataType,t,r),this._graphicEls[t]=r},e.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},e.prototype.eachItemGraphicEl=function(t,r){Ve(this._graphicEls,function(n,i){n&&t&&t.call(r,n,i)})},e.prototype.cloneShallow=function(t){return t||(t=new e(this._schema?this._schema:mh(this.dimensions,this._getDimInfo,this),this.hostModel)),DI(t,this),t._store=this._store,t},e.prototype.wrapMethod=function(t,r){var n=this[t];br(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var i=n.apply(this,arguments);return r.apply(this,[i].concat(UR(arguments)))})},e.internalField=(function(){ON=function(t){var r=t._invertedIndicesMap;Ve(r,function(n,i){var o=t._dimInfos[i],s=o.ordinalMeta,a=t._store;if(s){n=r[i]=new LDe(s.categories.length);for(var h=0;h<n.length;h++)n[h]=RN;for(var h=0;h<a.count();h++)n[a.get(o.storeDimIndex,h)]=h}})},f_=function(t,r,n){return fu(t._getCategory(r,n),null)},yw=function(t,r){var n=t._idList[r];return n==null&&t._idDimIdx!=null&&(n=f_(t,t._idDimIdx,r)),n==null&&(n=RDe+r),n},p_=function(t){return nr(t)||(t=t!=null?[t]:[]),t},m_=function(t){var r=new e(t._schema?t._schema:mh(t.dimensions,t._getDimInfo,t),t.hostModel);return DI(r,t),r},DI=function(t,r){Ve(ODe.concat(r.__wrappedMethods||[]),function(n){r.hasOwnProperty(n)&&(t[n]=r[n])}),t.__wrappedMethods=r.__wrappedMethods,Ve(kDe,function(n){t[n]=Xr(r[n])}),t._calculationInfo=Kt({},r._calculationInfo)},LI=function(t,r){var n=t._nameList,i=t._idList,o=t._nameDimIdx,s=t._idDimIdx,a=n[r],h=i[r];if(a==null&&o!=null&&(n[r]=a=f_(t,o,r)),h==null&&s!=null&&(i[r]=h=f_(t,s,r)),h==null&&a!=null){var p=t._nameRepeatCount,m=p[a]=(p[a]||0)+1;h=a,m>1&&(h+="__ec__"+m),i[r]=h}}})(),e})();function $De(e,t){MO(e)||(e=tZ(e)),t=t||{};var r=t.coordDimensions||[],n=t.dimensionsDefine||e.dimensionsDefine||[],i=Ar(),o=[],s=BDe(e,r,n,t.dimensionsCount),a=t.canOmitUnusedDimensions&&JZ(s),h=n===e.dimensionsDefine,p=h?YZ(e):KZ(n),m=t.encodeDefine;!m&&t.encodeDefaulter&&(m=t.encodeDefaulter(e,s));for(var v=Ar(m),b=new uZ(s),x=0;x<b.length;x++)b[x]=-1;function C(K){var Q=b[K];if(Q<0){var oe=n[K],he=Sr(oe)?oe:{name:oe},ye=new uS,be=he.name;be!=null&&p.get(be)!=null&&(ye.name=ye.displayName=be),he.type!=null&&(ye.type=he.type),he.displayName!=null&&(ye.displayName=he.displayName);var ce=o.length;return b[K]=ce,ye.storeDimIndex=K,o.push(ye),ye}return o[Q]}if(!a)for(var x=0;x<s;x++)C(x);v.each(function(K,Q){var oe=ya(K).slice();if(oe.length===1&&!cr(oe[0])&&oe[0]<0){v.set(Q,!1);return}var he=v.set(Q,[]);Ve(oe,function(ye,be){var ce=cr(ye)?p.get(ye):ye;ce!=null&&ce<s&&(he[be]=ce,A(C(ce),Q,be))})});var I=0;Ve(r,function(K){var Q,oe,he,ye;if(cr(K))Q=K,ye={};else{ye=K,Q=ye.name;var be=ye.ordinalMeta;ye.ordinalMeta=null,ye=Kt({},ye),ye.ordinalMeta=be,oe=ye.dimsDef,he=ye.otherDims,ye.name=ye.coordDim=ye.coordDimIndex=ye.dimsDef=ye.otherDims=null}var ce=v.get(Q);if(ce!==!1){if(ce=ya(ce),!ce.length)for(var de=0;de<(oe&&oe.length||1);de++){for(;I<s&&C(I).coordDim!=null;)I++;I<s&&ce.push(I++)}Ve(ce,function(Oe,ze){var De=C(Oe);if(h&&ye.type!=null&&(De.type=ye.type),A(Mn(De,ye),Q,ze),De.name==null&&oe){var ct=oe[ze];!Sr(ct)&&(ct={name:ct}),De.name=De.displayName=ct.name,De.defaultTooltip=ct.defaultTooltip}he&&Mn(De.otherDims,he)})}});function A(K,Q,oe){qq.get(Q)!=null?K.otherDims[Q]=oe:(K.coordDim=Q,K.coordDimIndex=oe,i.set(Q,!0))}var R=t.generateCoord,k=t.generateCoordCount,$=k!=null;k=R?k||1:0;var N=R||"value";function H(K){K.name==null&&(K.name=K.coordDim)}if(a)Ve(o,function(K){H(K)}),o.sort(function(K,Q){return K.storeDimIndex-Q.storeDimIndex});else for(var W=0;W<s;W++){var j=C(W),X=j.coordDim;X==null&&(j.coordDim=FDe(N,i,$),j.coordDimIndex=0,(!R||k<=0)&&(j.isExtraCoord=!0),k--),H(j),j.type==null&&(Yq(e,W)===Qa.Must||j.isExtraCoord&&(j.otherDims.itemName!=null||j.otherDims.seriesName!=null))&&(j.type="ordinal")}return zDe(o),new ZZ({source:e,dimensions:o,fullDimensionCount:s,dimensionOmitted:a})}function zDe(e){for(var t=Ar(),r=0;r<e.length;r++){var n=e[r],i=n.name,o=t.get(i)||0;o>0&&(n.name=i+(o-1)),o++,t.set(i,o)}}function BDe(e,t,r,n){var i=Math.max(e.dimensionsDetectedCount||1,t.length,r.length,n||0);return Ve(t,function(o){var s;Sr(o)&&(s=o.dimsDef)&&(i=Math.max(i,s.length))}),i}function FDe(e,t,r){if(r||t.hasKey(e)){for(var n=0;t.hasKey(e+n);)n++;e+=n}return t.set(e,!0),e}var NDe=(function(){function e(t){this.coordSysDims=[],this.axisMap=Ar(),this.categoryAxisMap=Ar(),this.coordSysName=t}return e})();function VDe(e){var t=e.get("coordinateSystem"),r=new NDe(t),n=jDe[t];if(n)return n(e,r,r.axisMap,r.categoryAxisMap),r}var jDe={cartesian2d:function(e,t,r,n){var i=e.getReferringComponents("xAxis",Da).models[0],o=e.getReferringComponents("yAxis",Da).models[0];t.coordSysDims=["x","y"],r.set("x",i),r.set("y",o),Nm(i)&&(n.set("x",i),t.firstCategoryDimIndex=0),Nm(o)&&(n.set("y",o),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,r,n){var i=e.getReferringComponents("singleAxis",Da).models[0];t.coordSysDims=["single"],r.set("single",i),Nm(i)&&(n.set("single",i),t.firstCategoryDimIndex=0)},polar:function(e,t,r,n){var i=e.getReferringComponents("polar",Da).models[0],o=i.findAxisModel("radiusAxis"),s=i.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],r.set("radius",o),r.set("angle",s),Nm(o)&&(n.set("radius",o),t.firstCategoryDimIndex=0),Nm(s)&&(n.set("angle",s),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(e,t,r,n){t.coordSysDims=["lng","lat"]},parallel:function(e,t,r,n){var i=e.ecModel,o=i.getComponent("parallel",e.get("parallelIndex")),s=t.coordSysDims=o.dimensions.slice();Ve(o.parallelAxisIndex,function(a,h){var p=i.getComponent("parallelAxis",a),m=s[h];r.set(m,p),Nm(p)&&(n.set(m,p),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=h))})}};function Nm(e){return e.get("type")==="category"}function HDe(e,t,r){r=r||{};var n=r.byIndex,i=r.stackedCoordDimension,o,s,a;GDe(t)?o=t:(s=t.schema,o=s.dimensions,a=t.store);var h=!!(e&&e.get("stack")),p,m,v,b;if(Ve(o,function(k,$){cr(k)&&(o[$]=k={name:k}),h&&!k.isExtraCoord&&(!n&&!p&&k.ordinalMeta&&(p=k),!m&&k.type!=="ordinal"&&k.type!=="time"&&(!i||i===k.coordDim)&&(m=k))}),m&&!n&&!p&&(n=!0),m){v="__\0ecstackresult_"+e.id,b="__\0ecstackedover_"+e.id,p&&(p.createInvertedIndices=!0);var x=m.coordDim,C=m.type,I=0;Ve(o,function(k){k.coordDim===x&&I++});var A={name:v,coordDim:x,coordDimIndex:I,type:C,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length},R={name:b,coordDim:b,coordDimIndex:I+1,type:C,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length+1};s?(a&&(A.storeDimIndex=a.ensureCalculationDimension(b,C),R.storeDimIndex=a.ensureCalculationDimension(v,C)),s.appendCalculationDimension(A),s.appendCalculationDimension(R)):(o.push(A),o.push(R))}return{stackedDimension:m&&m.name,stackedByDimension:p&&p.name,isStackedByIndex:n,stackedOverDimension:b,stackResultDimension:v}}function GDe(e){return!XZ(e.schema)}function tv(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function UDe(e,t){return tv(e,t)?e.getCalculationInfo("stackResultDimension"):t}function WDe(e,t){var r=e.get("coordinateSystem"),n=PO.get(r),i;return t&&t.coordSysDims&&(i=fr(t.coordSysDims,function(o){var s={name:o},a=t.axisMap.get(o);if(a){var h=a.get("type");s.type=IDe(h)}return s})),i||(i=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),i}function qDe(e,t,r){var n,i;return r&&Ve(e,function(o,s){var a=o.coordDim,h=r.categoryAxisMap.get(a);h&&(n==null&&(n=s),o.ordinalMeta=h.getOrdinalMeta(),t&&(o.createInvertedIndices=!0)),o.otherDims.itemName!=null&&(i=!0)}),!i&&n!=null&&(e[n].otherDims.itemName=0),n}function QZ(e,t,r){r=r||{};var n=t.getSourceManager(),i,o=!1;i=n.getSource(),o=i.sourceFormat===Ws;var s=VDe(t),a=WDe(t,s),h=r.useEncodeDefaulter,p=br(h)?h:h?ri(HIe,a,t):null,m={coordDimensions:a,generateCoord:r.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:p,canOmitUnusedDimensions:!o},v=$De(i,m),b=qDe(v.dimensions,r.createInvertedIndices,s),x=o?null:n.getSharedDataStore(v),C=HDe(t,{schema:v,store:x}),I=new NO(v,t);I.setCalculationInfo(C);var A=b!=null&&ZDe(i)?function(R,k,$,N){return N===b?$:this.defaultDimValueGetter(R,k,$,N)}:null;return I.hasItemOption=!1,I.initData(o?i:x,null,A),I}function ZDe(e){if(e.sourceFormat===Ws){var t=XDe(e.data||[]);return!nr(Mb(t))}}function XDe(e){for(var t=0;t<e.length&&e[t]==null;)t++;return e[t]}var Su=(function(){function e(t){this._setting=t||{},this._extent=[1/0,-1/0]}return e.prototype.getSetting=function(t){return this._setting[t]},e.prototype.unionExtent=function(t){var r=this._extent;t[0]<r[0]&&(r[0]=t[0]),t[1]>r[1]&&(r[1]=t[1])},e.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.setExtent=function(t,r){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(r)||(n[1]=r)},e.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},e.prototype.isBlank=function(){return this._isBlank},e.prototype.setBlank=function(t){this._isBlank=t},e})();wT(Su);var KDe=0,hD=(function(){function e(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++KDe}return e.createByAxisModel=function(t){var r=t.option,n=r.data,i=n&&fr(n,YDe);return new e({categories:i,needCollect:!i,deduplication:r.dedplication!==!1})},e.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},e.prototype.parseAndCollect=function(t){var r,n=this._needCollect;if(!cr(t)&&!n)return t;if(n&&!this._deduplication)return r=this.categories.length,this.categories[r]=t,r;var i=this._getOrCreateMap();return r=i.get(t),r==null&&(n?(r=this.categories.length,this.categories[r]=t,i.set(t,r)):r=NaN),r},e.prototype._getOrCreateMap=function(){return this._map||(this._map=Ar(this.categories))},e})();function YDe(e){return Sr(e)&&e.value!=null?e.value:e+""}function dD(e){return e.type==="interval"||e.type==="log"}function JDe(e,t,r,n){var i={},o=e[1]-e[0],s=i.interval=jW(o/t);r!=null&&s<r&&(s=i.interval=r),n!=null&&s>n&&(s=i.interval=n);var a=i.intervalPrecision=eX(s),h=i.niceTickExtent=[Hi(Math.ceil(e[0]/s)*s,a),Hi(Math.floor(e[1]/s)*s,a)];return QDe(h,e),i}function RI(e){var t=Math.pow(10,rO(e)),r=e/t;return r?r===2?r=3:r===3?r=5:r*=2:r=1,Hi(r*t)}function eX(e){return uu(e)+2}function kN(e,t,r){e[t]=Math.max(Math.min(e[t],r[1]),r[0])}function QDe(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),kN(e,0,t),kN(e,1,t),e[0]>e[1]&&(e[0]=e[1])}function XT(e,t){return e>=t[0]&&e<=t[1]}function KT(e,t){return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])}function YT(e,t){return e*(t[1]-t[0])+t[0]}var VO=(function(e){qt(t,e);function t(r){var n=e.call(this,r)||this;n.type="ordinal";var i=n.getSetting("ordinalMeta");return i||(i=new hD({})),nr(i)&&(i=new hD({categories:fr(i,function(o){return Sr(o)?o.value:o})})),n._ordinalMeta=i,n._extent=n.getSetting("extent")||[0,i.categories.length-1],n}return t.prototype.parse=function(r){return r==null?NaN:cr(r)?this._ordinalMeta.getOrdinal(r):Math.round(r)},t.prototype.contain=function(r){return r=this.parse(r),XT(r,this._extent)&&this._ordinalMeta.categories[r]!=null},t.prototype.normalize=function(r){return r=this._getTickNumber(this.parse(r)),KT(r,this._extent)},t.prototype.scale=function(r){return r=Math.round(YT(r,this._extent)),this.getRawOrdinalNumber(r)},t.prototype.getTicks=function(){for(var r=[],n=this._extent,i=n[0];i<=n[1];)r.push({value:i}),i++;return r},t.prototype.getMinorTicks=function(r){},t.prototype.setSortInfo=function(r){if(r==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var n=r.ordinalNumbers,i=this._ordinalNumbersByTick=[],o=this._ticksByOrdinalNumber=[],s=0,a=this._ordinalMeta.categories.length,h=Math.min(a,n.length);s<h;++s){var p=n[s];i[s]=p,o[p]=s}for(var m=0;s<a;++s){for(;o[m]!=null;)m++;i.push(m),o[m]=s}},t.prototype._getTickNumber=function(r){var n=this._ticksByOrdinalNumber;return n&&r>=0&&r<n.length?n[r]:r},t.prototype.getRawOrdinalNumber=function(r){var n=this._ordinalNumbersByTick;return n&&r>=0&&r<n.length?n[r]:r},t.prototype.getLabel=function(r){if(!this.isBlank()){var n=this.getRawOrdinalNumber(r.value),i=this._ordinalMeta.categories[n];return i==null?"":i+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(r,n){this.unionExtent(r.getApproximateExtent(n))},t.prototype.isInExtentRange=function(r){return r=this._getTickNumber(r),this._extent[0]<=r&&this._extent[1]>=r},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t})(Su);Su.registerClass(VO);var vf=Hi,gv=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="interval",r._interval=0,r._intervalPrecision=2,r}return t.prototype.parse=function(r){return r},t.prototype.contain=function(r){return XT(r,this._extent)},t.prototype.normalize=function(r){return KT(r,this._extent)},t.prototype.scale=function(r){return YT(r,this._extent)},t.prototype.setExtent=function(r,n){var i=this._extent;isNaN(r)||(i[0]=parseFloat(r)),isNaN(n)||(i[1]=parseFloat(n))},t.prototype.unionExtent=function(r){var n=this._extent;r[0]<n[0]&&(n[0]=r[0]),r[1]>n[1]&&(n[1]=r[1]),this.setExtent(n[0],n[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(r){this._interval=r,this._niceExtent=this._extent.slice(),this._intervalPrecision=eX(r)},t.prototype.getTicks=function(r){var n=this._interval,i=this._extent,o=this._niceExtent,s=this._intervalPrecision,a=[];if(!n)return a;var h=1e4;i[0]<o[0]&&(r?a.push({value:vf(o[0]-n,s)}):a.push({value:i[0]}));for(var p=o[0];p<=o[1]&&(a.push({value:p}),p=vf(p+n,s),p!==a[a.length-1].value);)if(a.length>h)return[];var m=a.length?a[a.length-1].value:o[1];return i[1]>m&&(r?a.push({value:vf(m+n,s)}):a.push({value:i[1]})),a},t.prototype.getMinorTicks=function(r){for(var n=this.getTicks(!0),i=[],o=this.getExtent(),s=1;s<n.length;s++){for(var a=n[s],h=n[s-1],p=0,m=[],v=a.value-h.value,b=v/r;p<r-1;){var x=vf(h.value+(p+1)*b);x>o[0]&&x<o[1]&&m.push(x),p++}i.push(m)}return i},t.prototype.getLabel=function(r,n){if(r==null)return"";var i=n&&n.precision;i==null?i=uu(r.value)||0:i==="auto"&&(i=this._intervalPrecision);var o=vf(r.value,i,!0);return Hq(o)},t.prototype.calcNiceTicks=function(r,n,i){r=r||5;var o=this._extent,s=o[1]-o[0];if(isFinite(s)){s<0&&(s=-s,o.reverse());var a=JDe(o,r,n,i);this._intervalPrecision=a.intervalPrecision,this._interval=a.interval,this._niceExtent=a.niceTickExtent}},t.prototype.calcNiceExtent=function(r){var n=this._extent;if(n[0]===n[1])if(n[0]!==0){var i=Math.abs(n[0]);r.fixMax||(n[1]+=i/2),n[0]-=i/2}else n[1]=1;var o=n[1]-n[0];isFinite(o)||(n[0]=0,n[1]=1),this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval);var s=this._interval;r.fixMin||(n[0]=vf(Math.floor(n[0]/s)*s)),r.fixMax||(n[1]=vf(Math.ceil(n[1]/s)*s))},t.prototype.setNiceExtent=function(r,n){this._niceExtent=[r,n]},t.type="interval",t})(Su);Su.registerClass(gv);var tX=typeof Float32Array<"u",eLe=tX?Float32Array:Array;function ug(e){return nr(e)?tX?new Float32Array(e):e:new eLe(e)}var tLe="__ec_stack_";function rLe(e){return e.get("stack")||tLe+e.seriesIndex}function rX(e){return e.dim+e.index}function nLe(e,t){var r=[];return t.eachSeriesByType(e,function(n){lLe(n)&&r.push(n)}),r}function iLe(e){var t={};Ve(e,function(h){var p=h.coordinateSystem,m=p.getBaseAxis();if(!(m.type!=="time"&&m.type!=="value"))for(var v=h.getData(),b=m.dim+"_"+m.index,x=v.getDimensionIndex(v.mapDimension(m.dim)),C=v.getStore(),I=0,A=C.count();I<A;++I){var R=C.get(x,I);t[b]?t[b].push(R):t[b]=[R]}});var r={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if(i){i.sort(function(h,p){return h-p});for(var o=null,s=1;s<i.length;++s){var a=i[s]-i[s-1];a>0&&(o=o===null?a:Math.min(o,a))}r[n]=o}}return r}function oLe(e){var t=iLe(e),r=[];return Ve(e,function(n){var i=n.coordinateSystem,o=i.getBaseAxis(),s=o.getExtent(),a;if(o.type==="category")a=o.getBandWidth();else if(o.type==="value"||o.type==="time"){var h=o.dim+"_"+o.index,p=t[h],m=Math.abs(s[1]-s[0]),v=o.scale.getExtent(),b=Math.abs(v[1]-v[0]);a=p?m/b*p:m}else{var x=n.getData();a=Math.abs(s[1]-s[0])/x.count()}var C=so(n.get("barWidth"),a),I=so(n.get("barMaxWidth"),a),A=so(n.get("barMinWidth")||(uLe(n)?.5:1),a),R=n.get("barGap"),k=n.get("barCategoryGap");r.push({bandWidth:a,barWidth:C,barMaxWidth:I,barMinWidth:A,barGap:R,barCategoryGap:k,axisKey:rX(o),stackId:rLe(n)})}),aLe(r)}function aLe(e){var t={};Ve(e,function(n,i){var o=n.axisKey,s=n.bandWidth,a=t[o]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},h=a.stacks;t[o]=a;var p=n.stackId;h[p]||a.autoWidthCount++,h[p]=h[p]||{width:0,maxWidth:0};var m=n.barWidth;m&&!h[p].width&&(h[p].width=m,m=Math.min(a.remainedWidth,m),a.remainedWidth-=m);var v=n.barMaxWidth;v&&(h[p].maxWidth=v);var b=n.barMinWidth;b&&(h[p].minWidth=b);var x=n.barGap;x!=null&&(a.gap=x);var C=n.barCategoryGap;C!=null&&(a.categoryGap=C)});var r={};return Ve(t,function(n,i){r[i]={};var o=n.stacks,s=n.bandWidth,a=n.categoryGap;if(a==null){var h=on(o).length;a=Math.max(35-h*4,15)+"%"}var p=so(a,s),m=so(n.gap,1),v=n.remainedWidth,b=n.autoWidthCount,x=(v-p)/(b+(b-1)*m);x=Math.max(x,0),Ve(o,function(R){var k=R.maxWidth,$=R.minWidth;if(R.width){var N=R.width;k&&(N=Math.min(N,k)),$&&(N=Math.max(N,$)),R.width=N,v-=N+m*N,b--}else{var N=x;k&&k<N&&(N=Math.min(k,v)),$&&$>N&&(N=$),N!==x&&(R.width=N,v-=N+m*N,b--)}}),x=(v-p)/(b+(b-1)*m),x=Math.max(x,0);var C=0,I;Ve(o,function(R,k){R.width||(R.width=x),I=R,C+=R.width*(1+m)}),I&&(C-=I.width*m);var A=-C/2;Ve(o,function(R,k){r[i][k]=r[i][k]||{bandWidth:s,offset:A,width:R.width},A+=R.width*(1+m)})}),r}function sLe(e,t,r){if(e&&t){var n=e[rX(t)];return n}}function lLe(e){return e.coordinateSystem&&e.coordinateSystem.type==="cartesian2d"}function uLe(e){return e.pipelineContext&&e.pipelineContext.large}var cLe=function(e,t,r,n){for(;r<n;){var i=r+n>>>1;e[i][1]<t?r=i+1:n=i}return r},nX=(function(e){qt(t,e);function t(r){var n=e.call(this,r)||this;return n.type="time",n}return t.prototype.getLabel=function(r){var n=this.getSetting("useUTC");return BT(r.value,P6[RIe(Eg(this._minLevelUnit))]||P6.second,n,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(r,n,i){var o=this.getSetting("useUTC"),s=this.getSetting("locale");return OIe(r,n,i,s,o)},t.prototype.getTicks=function(){var r=this._interval,n=this._extent,i=[];if(!r)return i;i.push({value:n[0],level:0});var o=this.getSetting("useUTC"),s=vLe(this._minLevelUnit,this._approxInterval,o,n);return i=i.concat(s),i.push({value:n[1],level:0}),i},t.prototype.calcNiceExtent=function(r){var n=this._extent;if(n[0]===n[1]&&(n[0]-=Bs,n[1]+=Bs),n[1]===-1/0&&n[0]===1/0){var i=new Date;n[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),n[0]=n[1]-Bs}this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval)},t.prototype.calcNiceTicks=function(r,n,i){r=r||10;var o=this._extent,s=o[1]-o[0];this._approxInterval=s/r,n!=null&&this._approxInterval<n&&(this._approxInterval=n),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var a=_w.length,h=Math.min(cLe(_w,this._approxInterval,0,a),a-1);this._interval=_w[h][1],this._minLevelUnit=_w[Math.max(h-1,0)][0]},t.prototype.parse=function(r){return ni(r)?r:+Tc(r)},t.prototype.contain=function(r){return XT(this.parse(r),this._extent)},t.prototype.normalize=function(r){return KT(this.parse(r),this._extent)},t.prototype.scale=function(r){return YT(r,this._extent)},t.type="time",t})(gv),_w=[["second",bO],["minute",xO],["hour",s0],["quarter-day",s0*6],["half-day",s0*12],["day",Bs*1.2],["half-week",Bs*3.5],["week",Bs*7],["month",Bs*31],["quarter",Bs*95],["half-year",C6/2],["year",C6]];function hLe(e,t,r,n){var i=Tc(t),o=Tc(r),s=function(C){return M6(i,C,n)===M6(o,C,n)},a=function(){return s("year")},h=function(){return a()&&s("month")},p=function(){return h()&&s("day")},m=function(){return p()&&s("hour")},v=function(){return m()&&s("minute")},b=function(){return v()&&s("second")},x=function(){return b()&&s("millisecond")};switch(e){case"year":return a();case"month":return h();case"day":return p();case"hour":return m();case"minute":return v();case"second":return b();case"millisecond":return x()}}function dLe(e,t){return e/=Bs,e>16?16:e>7.5?7:e>3.5?4:e>1.5?2:1}function fLe(e){var t=30*Bs;return e/=t,e>6?6:e>3?3:e>2?2:1}function pLe(e){return e/=s0,e>12?12:e>6?6:e>3.5?4:e>2?2:1}function $N(e,t){return e/=t?xO:bO,e>30?30:e>20?20:e>15?15:e>10?10:e>5?5:e>2?2:1}function mLe(e){return jW(e)}function gLe(e,t,r){var n=new Date(e);switch(Eg(t)){case"year":case"month":n[zq(r)](0);case"day":n[Bq(r)](1);case"hour":n[Fq(r)](0);case"minute":n[Nq(r)](0);case"second":n[Vq(r)](0),n[jq(r)](0)}return n.getTime()}function vLe(e,t,r,n){var i=1e4,o=kq,s=0;function a(Q,oe,he,ye,be,ce,de){for(var Oe=new Date(oe),ze=oe,De=Oe[ye]();ze<he&&ze<=n[1];)de.push({value:ze}),De+=Q,Oe[be](De),ze=Oe.getTime();de.push({value:ze,notAdd:!0})}function h(Q,oe,he){var ye=[],be=!oe.length;if(!hLe(Eg(Q),n[0],n[1],r)){be&&(oe=[{value:gLe(new Date(n[0]),Q,r)},{value:n[1]}]);for(var ce=0;ce<oe.length-1;ce++){var de=oe[ce].value,Oe=oe[ce+1].value;if(de!==Oe){var ze=void 0,De=void 0,ct=void 0,Ke=!1;switch(Q){case"year":ze=Math.max(1,Math.round(t/Bs/365)),De=wO(r),ct=kIe(r);break;case"half-year":case"quarter":case"month":ze=fLe(t),De=Ag(r),ct=zq(r);break;case"week":case"half-week":case"day":ze=dLe(t),De=FT(r),ct=Bq(r),Ke=!0;break;case"half-day":case"quarter-day":case"hour":ze=pLe(t),De=q0(r),ct=Fq(r);break;case"minute":ze=$N(t,!0),De=NT(r),ct=Nq(r);break;case"second":ze=$N(t,!1),De=VT(r),ct=Vq(r);break;case"millisecond":ze=mLe(t),De=jT(r),ct=jq(r);break}a(ze,de,Oe,De,ct,Ke,ye),Q==="year"&&he.length>1&&ce===0&&he.unshift({value:he[0].value-ze})}}for(var ce=0;ce<ye.length;ce++)he.push(ye[ce]);return ye}}for(var p=[],m=[],v=0,b=0,x=0;x<o.length&&s++<i;++x){var C=Eg(o[x]);if(LIe(o[x])){h(o[x],p[p.length-1]||[],m);var I=o[x+1]?Eg(o[x+1]):null;if(C!==I){if(m.length){b=v,m.sort(function(Q,oe){return Q.value-oe.value});for(var A=[],R=0;R<m.length;++R){var k=m[R].value;(R===0||m[R-1].value!==k)&&(A.push(m[R]),k>=n[0]&&k<=n[1]&&v++)}var $=(n[1]-n[0])/t;if(v>$*1.5&&b>$/1.5||(p.push(A),v>$||e===o[x]))break}m=[]}}}for(var N=ao(fr(p,function(Q){return ao(Q,function(oe){return oe.value>=n[0]&&oe.value<=n[1]&&!oe.notAdd})}),function(Q){return Q.length>0}),H=[],W=N.length-1,x=0;x<N.length;++x)for(var j=N[x],X=0;X<j.length;++X)H.push({value:j[X].value,level:W-x});H.sort(function(Q,oe){return Q.value-oe.value});for(var K=[],x=0;x<H.length;++x)(x===0||H[x].value!==H[x-1].value)&&K.push(H[x]);return K}Su.registerClass(nX);var zN=Su.prototype,d0=gv.prototype,yLe=Hi,_Le=Math.floor,bLe=Math.ceil,bw=Math.pow,ul=Math.log,jO=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="log",r.base=10,r._originalScale=new gv,r._interval=0,r}return t.prototype.getTicks=function(r){var n=this._originalScale,i=this._extent,o=n.getExtent(),s=d0.getTicks.call(this,r);return fr(s,function(a){var h=a.value,p=Hi(bw(this.base,h));return p=h===i[0]&&this._fixMin?xw(p,o[0]):p,p=h===i[1]&&this._fixMax?xw(p,o[1]):p,{value:p}},this)},t.prototype.setExtent=function(r,n){var i=ul(this.base);r=ul(Math.max(0,r))/i,n=ul(Math.max(0,n))/i,d0.setExtent.call(this,r,n)},t.prototype.getExtent=function(){var r=this.base,n=zN.getExtent.call(this);n[0]=bw(r,n[0]),n[1]=bw(r,n[1]);var i=this._originalScale,o=i.getExtent();return this._fixMin&&(n[0]=xw(n[0],o[0])),this._fixMax&&(n[1]=xw(n[1],o[1])),n},t.prototype.unionExtent=function(r){this._originalScale.unionExtent(r);var n=this.base;r[0]=ul(r[0])/ul(n),r[1]=ul(r[1])/ul(n),zN.unionExtent.call(this,r)},t.prototype.unionExtentFromData=function(r,n){this.unionExtent(r.getApproximateExtent(n))},t.prototype.calcNiceTicks=function(r){r=r||10;var n=this._extent,i=n[1]-n[0];if(!(i===1/0||i<=0)){var o=UCe(i),s=r/i*o;for(s<=.5&&(o*=10);!isNaN(o)&&Math.abs(o)<1&&Math.abs(o)>0;)o*=10;var a=[Hi(bLe(n[0]/o)*o),Hi(_Le(n[1]/o)*o)];this._interval=o,this._niceExtent=a}},t.prototype.calcNiceExtent=function(r){d0.calcNiceExtent.call(this,r),this._fixMin=r.fixMin,this._fixMax=r.fixMax},t.prototype.parse=function(r){return r},t.prototype.contain=function(r){return r=ul(r)/ul(this.base),XT(r,this._extent)},t.prototype.normalize=function(r){return r=ul(r)/ul(this.base),KT(r,this._extent)},t.prototype.scale=function(r){return r=YT(r,this._extent),bw(this.base,r)},t.type="log",t})(Su),iX=jO.prototype;iX.getMinorTicks=d0.getMinorTicks;iX.getLabel=d0.getLabel;function xw(e,t){return yLe(e,uu(t))}Su.registerClass(jO);var xLe=(function(){function e(t,r,n){this._prepareParams(t,r,n)}return e.prototype._prepareParams=function(t,r,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var i=this._isOrdinal=t.type==="ordinal";this._needCrossZero=t.type==="interval"&&r.getNeedCrossZero&&r.getNeedCrossZero();var o=r.get("min",!0);o==null&&(o=r.get("startValue",!0));var s=this._modelMinRaw=o;br(s)?this._modelMinNum=ww(t,s({min:n[0],max:n[1]})):s!=="dataMin"&&(this._modelMinNum=ww(t,s));var a=this._modelMaxRaw=r.get("max",!0);if(br(a)?this._modelMaxNum=ww(t,a({min:n[0],max:n[1]})):a!=="dataMax"&&(this._modelMaxNum=ww(t,a)),i)this._axisDataLen=r.getCategories().length;else{var h=r.get("boundaryGap"),p=nr(h)?h:[h||0,h||0];typeof p[0]=="boolean"||typeof p[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[np(p[0],1),np(p[1],1)]}},e.prototype.calculate=function(){var t=this._isOrdinal,r=this._dataMin,n=this._dataMax,i=this._axisDataLen,o=this._boundaryGapInner,s=t?null:n-r||Math.abs(r),a=this._modelMinRaw==="dataMin"?r:this._modelMinNum,h=this._modelMaxRaw==="dataMax"?n:this._modelMaxNum,p=a!=null,m=h!=null;a==null&&(a=t?i?0:NaN:r-o[0]*s),h==null&&(h=t?i?i-1:NaN:n+o[1]*s),(a==null||!isFinite(a))&&(a=NaN),(h==null||!isFinite(h))&&(h=NaN);var v=qS(a)||qS(h)||t&&!i;this._needCrossZero&&(a>0&&h>0&&!p&&(a=0),a<0&&h<0&&!m&&(h=0));var b=this._determinedMin,x=this._determinedMax;return b!=null&&(a=b,p=!0),x!=null&&(h=x,m=!0),{min:a,max:h,minFixed:p,maxFixed:m,isBlank:v}},e.prototype.modifyDataMinMax=function(t,r){this[SLe[t]]=r},e.prototype.setDeterminedMinMax=function(t,r){var n=wLe[t];this[n]=r},e.prototype.freeze=function(){this.frozen=!0},e})(),wLe={min:"_determinedMin",max:"_determinedMax"},SLe={min:"_dataMin",max:"_dataMax"};function oX(e,t,r){var n=e.rawExtentInfo;return n||(n=new xLe(e,t,r),e.rawExtentInfo=n,n)}function ww(e,t){return t==null?null:qS(t)?NaN:e.parse(t)}function aX(e,t){var r=e.type,n=oX(e,t,e.getExtent()).calculate();e.setBlank(n.isBlank);var i=n.min,o=n.max,s=t.ecModel;if(s&&r==="time"){var a=nLe("bar",s),h=!1;if(Ve(a,function(v){h=h||v.getBaseAxis()===t.axis}),h){var p=oLe(a),m=TLe(i,o,t,p);i=m.min,o=m.max}}return{extent:[i,o],fixMin:n.minFixed,fixMax:n.maxFixed}}function TLe(e,t,r,n){var i=r.axis.getExtent(),o=Math.abs(i[1]-i[0]),s=sLe(n,r.axis);if(s===void 0)return{min:e,max:t};var a=1/0;Ve(s,function(x){a=Math.min(x.offset,a)});var h=-1/0;Ve(s,function(x){h=Math.max(x.offset+x.width,h)}),a=Math.abs(a),h=Math.abs(h);var p=a+h,m=t-e,v=1-(a+h)/o,b=m/v-m;return t+=b*(h/p),e-=b*(a/p),{min:e,max:t}}function BN(e,t){var r=t,n=aX(e,r),i=n.extent,o=r.get("splitNumber");e instanceof jO&&(e.base=r.get("logBase"));var s=e.type,a=r.get("interval"),h=s==="interval"||s==="time";e.setExtent(i[0],i[1]),e.calcNiceExtent({splitNumber:o,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:h?r.get("minInterval"):null,maxInterval:h?r.get("maxInterval"):null}),a!=null&&e.setInterval&&e.setInterval(a)}function CLe(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new VO({ordinalMeta:e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),extent:[1/0,-1/0]});case"time":return new nX({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new(Su.getClass(t)||gv)}}function PLe(e){var t=e.scale.getExtent(),r=t[0],n=t[1];return!(r>0&&n>0||r<0&&n<0)}function vv(e){var t=e.getLabelModel().get("formatter"),r=e.type==="category"?e.scale.getExtent()[0]:null;return e.scale.type==="time"?(function(n){return function(i,o){return e.scale.getFormattedLabel(i,o,n)}})(t):cr(t)?(function(n){return function(i){var o=e.scale.getLabel(i),s=n.replace("{value}",o??"");return s}})(t):br(t)?(function(n){return function(i,o){return r!=null&&(o=i.value-r),n(HO(e,i),o,i.level!=null?{level:i.level}:null)}})(t):function(n){return e.scale.getLabel(n)}}function HO(e,t){return e.type==="category"?e.scale.getLabel(t):t.value}function MLe(e){var t=e.model,r=e.scale;if(!(!t.get(["axisLabel","show"])||r.isBlank())){var n,i,o=r.getExtent();r instanceof VO?i=r.count():(n=r.getTicks(),i=n.length);var s=e.getLabelModel(),a=vv(e),h,p=1;i>40&&(p=Math.ceil(i/40));for(var m=0;m<i;m+=p){var v=n?n[m]:{value:o[0]+m},b=a(v,m),x=s.getTextRect(b),C=ILe(x,s.get("rotate")||0);h?h.union(C):h=C}return h}}function ILe(e,t){var r=t*Math.PI/180,n=e.width,i=e.height,o=n*Math.abs(Math.cos(r))+Math.abs(i*Math.sin(r)),s=n*Math.abs(Math.sin(r))+Math.abs(i*Math.cos(r)),a=new ln(e.x,e.y,o,s);return a}function GO(e){var t=e.get("interval");return t??"auto"}function sX(e){return e.type==="category"&&GO(e.getLabelModel())===0}function lX(e,t){var r={};return Ve(e.mapDimensionsAll(t),function(n){r[UDe(e,n)]=!0}),on(r)}function ELe(e,t,r){t&&Ve(lX(t,r),function(n){var i=t.getApproximateExtent(n);i[0]<e[0]&&(e[0]=i[0]),i[1]>e[1]&&(e[1]=i[1])})}var ALe=(function(){function e(){}return e.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},e.prototype.getCoordSysModel=function(){},e})(),FN=[],DLe={registerPreprocessor:UZ,registerProcessor:WZ,registerPostInit:_De,registerPostUpdate:bDe,registerUpdateLifecycle:BO,registerAction:mp,registerCoordinateSystem:xDe,registerLayout:wDe,registerVisual:gp,registerTransform:TDe,registerLoading:qZ,registerMap:SDe,registerImpl:QAe,PRIORITY:dDe,ComponentModel:mn,ComponentView:cs,SeriesModel:yu,ChartView:js,registerComponentModel:function(e){mn.registerClass(e)},registerComponentView:function(e){cs.registerClass(e)},registerSeriesModel:function(e){yu.registerClass(e)},registerChartView:function(e){js.registerClass(e)},registerSubTypeDefaulter:function(e,t){mn.registerSubTypeDefaulter(e,t)},registerPainter:function(e,t){BCe(e,t)}};function Us(e){if(nr(e)){Ve(e,function(t){Us(t)});return}sn(FN,e)>=0||(FN.push(e),br(e)&&(e={install:e}),e.install(DLe))}var J0=Bi();function uX(e,t){var r=fr(t,function(n){return e.scale.parse(n)});return e.type==="time"&&r.length>0&&(r.sort(),r.unshift(r[0]),r.push(r[r.length-1])),r}function LLe(e){var t=e.getLabelModel().get("customValues");if(t){var r=vv(e),n=e.scale.getExtent(),i=uX(e,t),o=ao(i,function(s){return s>=n[0]&&s<=n[1]});return{labels:fr(o,function(s){var a={value:s};return{formattedLabel:r(a),rawLabel:e.scale.getLabel(a),tickValue:s}})}}return e.type==="category"?OLe(e):$Le(e)}function RLe(e,t){var r=e.getTickModel().get("customValues");if(r){var n=e.scale.getExtent(),i=uX(e,r);return{ticks:ao(i,function(o){return o>=n[0]&&o<=n[1]})}}return e.type==="category"?kLe(e,t):{ticks:fr(e.scale.getTicks(),function(o){return o.value})}}function OLe(e){var t=e.getLabelModel(),r=cX(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r}function cX(e,t){var r=hX(e,"labels"),n=GO(t),i=dX(r,n);if(i)return i;var o,s;return br(n)?o=mX(e,n):(s=n==="auto"?zLe(e):n,o=pX(e,s)),fX(r,n,{labels:o,labelCategoryInterval:s})}function kLe(e,t){var r=hX(e,"ticks"),n=GO(t),i=dX(r,n);if(i)return i;var o,s;if((!t.get("show")||e.scale.isBlank())&&(o=[]),br(n))o=mX(e,n,!0);else if(n==="auto"){var a=cX(e,e.getLabelModel());s=a.labelCategoryInterval,o=fr(a.labels,function(h){return h.tickValue})}else s=n,o=pX(e,s,!0);return fX(r,n,{ticks:o,tickCategoryInterval:s})}function $Le(e){var t=e.scale.getTicks(),r=vv(e);return{labels:fr(t,function(n,i){return{level:n.level,formattedLabel:r(n,i),rawLabel:e.scale.getLabel(n),tickValue:n.value}})}}function hX(e,t){return J0(e)[t]||(J0(e)[t]=[])}function dX(e,t){for(var r=0;r<e.length;r++)if(e[r].key===t)return e[r].value}function fX(e,t,r){return e.push({key:t,value:r}),r}function zLe(e){var t=J0(e).autoInterval;return t??(J0(e).autoInterval=e.calculateCategoryInterval())}function BLe(e){var t=FLe(e),r=vv(e),n=(t.axisRotate-t.labelRotate)/180*Math.PI,i=e.scale,o=i.getExtent(),s=i.count();if(o[1]-o[0]<1)return 0;var a=1;s>40&&(a=Math.max(1,Math.floor(s/40)));for(var h=o[0],p=e.dataToCoord(h+1)-e.dataToCoord(h),m=Math.abs(p*Math.cos(n)),v=Math.abs(p*Math.sin(n)),b=0,x=0;h<=o[1];h+=a){var C=0,I=0,A=tO(r({value:h}),t.font,"center","top");C=A.width*1.3,I=A.height*1.3,b=Math.max(b,C,7),x=Math.max(x,I,7)}var R=b/m,k=x/v;isNaN(R)&&(R=1/0),isNaN(k)&&(k=1/0);var $=Math.max(0,Math.floor(Math.min(R,k))),N=J0(e.model),H=e.getExtent(),W=N.lastAutoInterval,j=N.lastTickCount;return W!=null&&j!=null&&Math.abs(W-$)<=1&&Math.abs(j-s)<=1&&W>$&&N.axisExtent0===H[0]&&N.axisExtent1===H[1]?$=W:(N.lastTickCount=s,N.lastAutoInterval=$,N.axisExtent0=H[0],N.axisExtent1=H[1]),$}function FLe(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function pX(e,t,r){var n=vv(e),i=e.scale,o=i.getExtent(),s=e.getLabelModel(),a=[],h=Math.max((t||0)+1,1),p=o[0],m=i.count();p!==0&&h>1&&m/h>2&&(p=Math.round(Math.ceil(p/h)*h));var v=sX(e),b=s.get("showMinLabel")||v,x=s.get("showMaxLabel")||v;b&&p!==o[0]&&I(o[0]);for(var C=p;C<=o[1];C+=h)I(C);x&&C-h!==o[1]&&I(o[1]);function I(A){var R={value:A};a.push(r?A:{formattedLabel:n(R),rawLabel:i.getLabel(R),tickValue:A})}return a}function mX(e,t,r){var n=e.scale,i=vv(e),o=[];return Ve(n.getTicks(),function(s){var a=n.getLabel(s),h=s.value;t(s.value,a)&&o.push(r?h:{formattedLabel:i(s),rawLabel:a,tickValue:h})}),o}var NN=[0,1],NLe=(function(){function e(t,r,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=r,this._extent=n||[0,0]}return e.prototype.contain=function(t){var r=this._extent,n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return t>=n&&t<=i},e.prototype.containData=function(t){return this.scale.contain(t)},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(t){return NW(t||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(t,r){var n=this._extent;n[0]=t,n[1]=r},e.prototype.dataToCoord=function(t,r){var n=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&i.type==="ordinal"&&(n=n.slice(),VN(n,i.count())),Xo(t,NN,n,r)},e.prototype.coordToData=function(t,r){var n=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(n=n.slice(),VN(n,i.count()));var o=Xo(t,n,NN,r);return this.scale.scale(o)},e.prototype.pointToData=function(t,r){},e.prototype.getTicksCoords=function(t){t=t||{};var r=t.tickModel||this.getTickModel(),n=RLe(this,r),i=n.ticks,o=fr(i,function(a){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(a):a),tickValue:a}},this),s=r.get("alignWithLabel");return VLe(this,o,s,t.clamp),o},e.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),r=t.get("splitNumber");r>0&&r<100||(r=5);var n=this.scale.getMinorTicks(r),i=fr(n,function(o){return fr(o,function(s){return{coord:this.dataToCoord(s),tickValue:s}},this)},this);return i},e.prototype.getViewLabels=function(){return LLe(this).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var t=this._extent,r=this.scale.getExtent(),n=r[1]-r[0]+(this.onBand?1:0);n===0&&(n=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/n},e.prototype.calculateCategoryInterval=function(){return BLe(this)},e})();function VN(e,t){var r=e[1]-e[0],n=t,i=r/n/2;e[0]+=i,e[1]-=i}function VLe(e,t,r,n){var i=t.length;if(!e.onBand||r||!i)return;var o=e.getExtent(),s,a;if(i===1)t[0].coord=o[0],s=t[1]={coord:o[1],tickValue:t[0].tickValue};else{var h=t[i-1].tickValue-t[0].tickValue,p=(t[i-1].coord-t[0].coord)/h;Ve(t,function(x){x.coord-=p/2});var m=e.scale.getExtent();a=1+m[1]-t[i-1].tickValue,s={coord:t[i-1].coord+p*a,tickValue:m[1]+1},t.push(s)}var v=o[0]>o[1];b(t[0].coord,o[0])&&(n?t[0].coord=o[0]:t.shift()),n&&b(o[0],t[0].coord)&&t.unshift({coord:o[0]}),b(o[1],s.coord)&&(n?s.coord=o[1]:t.pop()),n&&b(s.coord,o[1])&&t.push({coord:o[1]});function b(x,C){return x=Hi(x),C=Hi(C),v?x>C:x<C}}function jLe(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];if(!n.defaultAttr.ignore){var i=n.label,o=i.getComputedTransform(),s=i.getBoundingRect(),a=!o||o[1]<1e-5&&o[2]<1e-5,h=i.style.margin||0,p=s.clone();p.applyTransform(o),p.x-=h/2,p.y-=h/2,p.width+=h,p.height+=h;var m=a?new a2(s,o):null;t.push({label:i,labelLine:n.labelLine,rect:p,localRect:s,obb:m,priority:n.priority,defaultAttr:n.defaultAttr,layoutOption:n.computedLayoutOption,axisAligned:a,transform:o})}}return t}function HLe(e){var t=[];e.sort(function(I,A){return A.priority-I.priority});var r=new ln(0,0,0,0);function n(I){if(!I.ignore){var A=I.ensureState("emphasis");A.ignore==null&&(A.ignore=!1)}I.ignore=!0}for(var i=0;i<e.length;i++){var o=e[i],s=o.axisAligned,a=o.localRect,h=o.transform,p=o.label,m=o.labelLine;r.copy(o.rect),r.width-=.1,r.height-=.1,r.x+=.05,r.y+=.05;for(var v=o.obb,b=!1,x=0;x<t.length;x++){var C=t[x];if(r.intersect(C.rect)){if(s&&C.axisAligned){b=!0;break}if(C.obb||(C.obb=new a2(C.localRect,C.transform)),v||(v=new a2(a,h)),v.intersect(C.obb)){b=!0;break}}}b?(n(p),m&&n(m)):(p.attr("ignore",o.defaultAttr.ignore),m&&m.attr("ignore",o.defaultAttr.labelGuideIgnore),t.push(o))}}var OI=null;function GLe(e){return OI||(OI=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return setTimeout(t,16)}).bind(window)),OI(e)}var kI=null;function ULe(e){kI||(kI=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){clearTimeout(t)}).bind(window)),kI(e)}function WLe(e){var t=document.createElement("style");return t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),(document.querySelector("head")||document.body).appendChild(t),t}function Sw(e,t){t===void 0&&(t={});var r=document.createElement(e);return Object.keys(t).forEach(function(n){r[n]=t[n]}),r}function gX(e,t,r){var n=window.getComputedStyle(e,null)||{display:"none"};return n[t]}function fD(e){if(!document.documentElement.contains(e))return{detached:!0,rendered:!1};for(var t=e;t!==document;){if(gX(t,"display")==="none")return{detached:!1,rendered:!1};t=t.parentNode}return{detached:!1,rendered:!0}}var qLe='.resize-triggers{visibility:hidden;opacity:0;pointer-events:none}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}',pD=0,cS=null;function ZLe(e,t){e.__resize_mutation_handler__||(e.__resize_mutation_handler__=YLe.bind(e));var r=e.__resize_listeners__;if(!r){if(e.__resize_listeners__=[],window.ResizeObserver){var n=e.offsetWidth,i=e.offsetHeight,o=new ResizeObserver(function(){!e.__resize_observer_triggered__&&(e.__resize_observer_triggered__=!0,e.offsetWidth===n&&e.offsetHeight===i)||_2(e)}),s=fD(e),a=s.detached,h=s.rendered;e.__resize_observer_triggered__=a===!1&&h===!1,e.__resize_observer__=o,o.observe(e)}else if(e.attachEvent&&e.addEventListener)e.__resize_legacy_resize_handler__=function(){_2(e)},e.attachEvent("onresize",e.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);else if(pD||(cS=WLe(qLe)),JLe(e),e.__resize_rendered__=fD(e).rendered,window.MutationObserver){var p=new MutationObserver(e.__resize_mutation_handler__);p.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),e.__resize_mutation_observer__=p}}e.__resize_listeners__.push(t),pD++}function XLe(e,t){var r=e.__resize_listeners__;if(r){if(t&&r.splice(r.indexOf(t),1),!r.length||!t){if(e.detachEvent&&e.removeEventListener){e.detachEvent("onresize",e.__resize_legacy_resize_handler__),document.removeEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);return}e.__resize_observer__?(e.__resize_observer__.unobserve(e),e.__resize_observer__.disconnect(),e.__resize_observer__=null):(e.__resize_mutation_observer__&&(e.__resize_mutation_observer__.disconnect(),e.__resize_mutation_observer__=null),e.removeEventListener("scroll",UO),e.removeChild(e.__resize_triggers__.triggers),e.__resize_triggers__=null),e.__resize_listeners__=null}!--pD&&cS&&cS.parentNode.removeChild(cS)}}function KLe(e){var t=e.__resize_last__,r=t.width,n=t.height,i=e.offsetWidth,o=e.offsetHeight;return i!==r||o!==n?{width:i,height:o}:null}function YLe(){var e=fD(this),t=e.rendered,r=e.detached;t!==this.__resize_rendered__&&(!r&&this.__resize_triggers__&&(WO(this),this.addEventListener("scroll",UO,!0)),this.__resize_rendered__=t,_2(this))}function UO(){var e=this;WO(this),this.__resize_raf__&&ULe(this.__resize_raf__),this.__resize_raf__=GLe(function(){var t=KLe(e);t&&(e.__resize_last__=t,_2(e))})}function _2(e){!e||!e.__resize_listeners__||e.__resize_listeners__.forEach(function(t){t.call(e,e)})}function JLe(e){var t=gX(e,"position");(!t||t==="static")&&(e.style.position="relative"),e.__resize_old_position__=t,e.__resize_last__={};var r=Sw("div",{className:"resize-triggers"}),n=Sw("div",{className:"resize-expand-trigger"}),i=Sw("div"),o=Sw("div",{className:"resize-contract-trigger"});n.appendChild(i),r.appendChild(n),r.appendChild(o),e.appendChild(r),e.__resize_triggers__={triggers:r,expand:n,expandChild:i,contract:o},WO(e),e.addEventListener("scroll",UO,!0),e.__resize_last__={width:e.offsetWidth,height:e.offsetHeight}}function WO(e){var t=e.__resize_triggers__,r=t.expand,n=t.expandChild,i=t.contract,o=i.scrollWidth,s=i.scrollHeight,a=r.offsetWidth,h=r.offsetHeight,p=r.scrollWidth,m=r.scrollHeight;i.scrollLeft=o,i.scrollTop=s,n.style.width=a+1+"px",n.style.height=h+1+"px",r.scrollLeft=p,r.scrollTop=m}var nc=function(){return nc=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},nc.apply(this,arguments)},QLe=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function eRe(e){return t=Object.create(null),QLe.forEach((function(r){t[r]=(function(n){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(!e.value)throw new Error("ECharts is not initialized yet.");return e.value[n].apply(e.value,i)}})(r)})),t;var t}var tRe={autoresize:Boolean},rRe={loading:Boolean,loadingOptions:Object},nRe=/^on[^a-z]/,iRe=function(e){return nRe.test(e)},jN=[],g_=[];(function(e,t){if(e&&typeof document<"u"){var r,n=t.prepend===!0?"prepend":"append",i=t.singleTag===!0,o=typeof t.container=="string"?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(i){var s=jN.indexOf(o);s===-1&&(s=jN.push(o)-1,g_[s]={}),r=g_[s]&&g_[s][n]?g_[s][n]:g_[s][n]=a()}else r=a();e.charCodeAt(0)===65279&&(e=e.substring(1)),r.styleSheet?r.styleSheet.cssText+=e:r.appendChild(document.createTextNode(e))}function a(){var h=document.createElement("style");if(h.setAttribute("type","text/css"),t.attributes)for(var p=Object.keys(t.attributes),m=0;m<p.length;m++)h.setAttribute(p[m],t.attributes[p[m]]);var v=n==="prepend"?"afterbegin":"beforeend";return o.insertAdjacentElement(v,h),h}})(`x-vue-echarts{display:block;width:100%;height:100%}
`,{});var vX=St({name:"echarts",props:nc(nc({option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean},tRe),rRe),inheritAttrs:!1,setup:function(e,t){var r=t.attrs,n=vt(),i=vt(),o=vt(),s=Ir("ecTheme",null),a=Ir("ecInitOptions",null),h=Ir("ecUpdateOptions",null),p=$D(e),m=p.autoresize,v=p.manualUpdate,b=p.loading,x=p.loadingOptions,C=ve((function(){return o.value||e.option||null})),I=ve((function(){return e.theme||rr(s)||{}})),A=ve((function(){return e.initOptions||rr(a)||{}})),R=ve((function(){return e.updateOptions||rr(h)||{}})),k=ve((function(){return(function(X){var K={};for(var Q in X)iRe(Q)||(K[Q]=X[Q]);return K})(r)})),$=Yi().proxy.$listeners;function N(X){if(n.value){var K=i.value=vDe(n.value,I.value,A.value);e.group&&(K.group=e.group);var Q=$;Q||(Q={},Object.keys(r).filter((function(he){return he.indexOf("on")===0&&he.length>2})).forEach((function(he){var ye=he.charAt(2).toLowerCase()+he.slice(3);ye.substring(ye.length-4)==="Once"&&(ye="~".concat(ye.substring(0,ye.length-4))),Q[ye]=r[he]}))),Object.keys(Q).forEach((function(he){var ye=Q[he];if(ye){var be=he.toLowerCase();be.charAt(0)==="~"&&(be=be.substring(1),ye.__once__=!0);var ce=K;if(be.indexOf("zr:")===0&&(ce=K.getZr(),be=be.substring(3)),ye.__once__){delete ye.__once__;var de=ye;ye=function(){for(var Oe=[],ze=0;ze<arguments.length;ze++)Oe[ze]=arguments[ze];de.apply(void 0,Oe),ce.off(be,ye)}}ce.on(be,ye)}})),m.value?_i((function(){K&&!K.isDisposed()&&K.resize(),oe()})):oe()}function oe(){var he=X||C.value;he&&K.setOption(he,R.value)}}function H(){i.value&&(i.value.dispose(),i.value=void 0)}var W=null;Zt(v,(function(X){typeof W=="function"&&(W(),W=null),X||(W=Zt((function(){return e.option}),(function(K,Q){K&&(i.value?i.value.setOption(K,nc({notMerge:K.value!==Q?.value},R.value)):N())}),{deep:!0}))}),{immediate:!0}),Zt([I,A],(function(){H(),N()}),{deep:!0}),Gn((function(){e.group&&i.value&&(i.value.group=e.group)}));var j=eRe(i);return(function(X,K,Q){var oe=Ir("ecLoadingOptions",{}),he=ve((function(){return nc(nc({},rr(oe)),Q?.value)}));Gn((function(){var ye=X.value;ye&&(K.value?ye.showLoading(he.value):ye.hideLoading())}))})(i,b,x),(function(X,K,Q){var oe=null;Zt([Q,X,K],(function(he,ye,be){var ce=he[0],de=he[1],Oe=he[2];ce&&de&&Oe&&(oe=LO((function(){de.resize()}),100),ZLe(ce,oe)),be((function(){oe&&ce&&XLe(ce,oe)}))}))})(i,m,n),Nr((function(){N()})),_u(H),nc({chart:i,root:n,setOption:function(X,K){e.manualUpdate&&(o.value=X),i.value?i.value.setOption(X,K||{}):N(X)},nonEventAttrs:k},j)},render:function(){var e=nc({},this.nonEventAttrs);return e.ref="root",e.class=e.class?["echarts"].concat(e.class):"echarts",Wt("x-vue-echarts",e)}}),$I=Math.sin,zI=Math.cos,yX=Math.PI,yf=Math.PI*2,oRe=180/yX,_X=(function(){function e(){}return e.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},e.prototype.moveTo=function(t,r){this._add("M",t,r)},e.prototype.lineTo=function(t,r){this._add("L",t,r)},e.prototype.bezierCurveTo=function(t,r,n,i,o,s){this._add("C",t,r,n,i,o,s)},e.prototype.quadraticCurveTo=function(t,r,n,i){this._add("Q",t,r,n,i)},e.prototype.arc=function(t,r,n,i,o,s){this.ellipse(t,r,n,n,0,i,o,s)},e.prototype.ellipse=function(t,r,n,i,o,s,a,h){var p=a-s,m=!h,v=Math.abs(p),b=Lh(v-yf)||(m?p>=yf:-p>=yf),x=p>0?p%yf:p%yf+yf,C=!1;b?C=!0:Lh(v)?C=!1:C=x>=yX==!!m;var I=t+n*zI(s),A=r+i*$I(s);this._start&&this._add("M",I,A);var R=Math.round(o*oRe);if(b){var k=1/this._p,$=(m?1:-1)*(yf-k);this._add("A",n,i,R,1,+m,t+n*zI(s+$),r+i*$I(s+$)),k>.01&&this._add("A",n,i,R,0,+m,I,A)}else{var N=t+n*zI(a),H=r+i*$I(a);this._add("A",n,i,R,+C,+m,N,H)}},e.prototype.rect=function(t,r,n,i){this._add("M",t,r),this._add("l",n,0),this._add("l",0,i),this._add("l",-n,0),this._add("Z")},e.prototype.closePath=function(){this._d.length>0&&this._add("Z")},e.prototype._add=function(t,r,n,i,o,s,a,h,p){for(var m=[],v=this._p,b=1;b<arguments.length;b++){var x=arguments[b];if(isNaN(x)){this._invalid=!0;return}m.push(Math.round(x*v)/v)}this._d.push(t+m.join(" ")),this._start=t==="Z"},e.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},e.prototype.getStr=function(){return this._str},e})(),qO="none",aRe=Math.round;function sRe(e){var t=e.fill;return t!=null&&t!==qO}function lRe(e){var t=e.stroke;return t!=null&&t!==qO}var mD=["lineCap","miterLimit","lineJoin"],uRe=fr(mD,function(e){return"stroke-"+e.toLowerCase()});function cRe(e,t,r,n){var i=t.opacity==null?1:t.opacity;if(r instanceof xu){e("opacity",i);return}if(sRe(t)){var o=z0(t.fill);e("fill",o.color);var s=t.fillOpacity!=null?t.fillOpacity*o.opacity*i:o.opacity*i;s<1&&e("fill-opacity",s)}else e("fill",qO);if(lRe(t)){var a=z0(t.stroke);e("stroke",a.color);var h=t.strokeNoScale?r.getLineScale():1,p=h?(t.lineWidth||0)/h:0,m=t.strokeOpacity!=null?t.strokeOpacity*a.opacity*i:a.opacity*i,v=t.strokeFirst;if(p!==1&&e("stroke-width",p),v&&e("paint-order",v?"stroke":"fill"),m<1&&e("stroke-opacity",m),t.lineDash){var b=OO(r),x=b[0],C=b[1];x&&(C=aRe(C||0),e("stroke-dasharray",x.join(",")),(C||n)&&e("stroke-dashoffset",C))}for(var I=0;I<mD.length;I++){var A=mD[I];if(t[A]!==i2[A]){var R=t[A]||i2[A];R&&e(uRe[I],R)}}}}var bX="http://www.w3.org/2000/svg",xX="http://www.w3.org/1999/xlink",hRe="http://www.w3.org/2000/xmlns/",dRe="http://www.w3.org/XML/1998/namespace",HN="ecmeta_";function wX(e){return document.createElementNS(bX,e)}function uo(e,t,r,n,i){return{tag:e,attrs:r||{},children:n,text:i,key:t}}function fRe(e,t){var r=[];if(t)for(var n in t){var i=t[n],o=n;i!==!1&&(i!==!0&&i!=null&&(o+='="'+i+'"'),r.push(o))}return"<"+e+" "+r.join(" ")+">"}function pRe(e){return"</"+e+">"}function ZO(e,t){t=t||{};var r=t.newline?`
`:"";function n(i){var o=i.children,s=i.tag,a=i.attrs,h=i.text;return fRe(s,a)+(s!=="style"?fa(h):h||"")+(o?""+r+fr(o,function(p){return n(p)}).join(r)+r:"")+pRe(s)}return n(e)}function mRe(e,t,r){r=r||{};var n=r.newline?`
`:"",i=" {"+n,o=n+"}",s=fr(on(e),function(h){return h+i+fr(on(e[h]),function(p){return p+":"+e[h][p]+";"}).join(n)+o}).join(n),a=fr(on(t),function(h){return"@keyframes "+h+i+fr(on(t[h]),function(p){return p+i+fr(on(t[h][p]),function(m){var v=t[h][p][m];return m==="d"&&(v='path("'+v+'")'),m+":"+v+";"}).join(n)+o}).join(n)+o}).join(n);return!s&&!a?"":["<![CDATA[",s,a,"]]>"].join(n)}function gD(e){return{zrId:e,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function GN(e,t,r,n){return uo("svg","root",{width:e,height:t,xmlns:bX,"xmlns:xlink":xX,version:"1.1",baseProfile:"full",viewBox:n?"0 0 "+e+" "+t:!1},r)}var gRe=0;function SX(){return gRe++}var UN={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},wf="transform-origin";function vRe(e,t,r){var n=Kt({},e.shape);Kt(n,t),e.buildPath(r,n);var i=new _X;return i.reset(AW(e)),r.rebuildPath(i,1),i.generateStr(),i.getStr()}function yRe(e,t){var r=t.originX,n=t.originY;(r||n)&&(e[wf]=r+"px "+n+"px")}var _Re={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function TX(e,t){var r=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[r]=e,r}function bRe(e,t,r){var n=e.shape.paths,i={},o,s;if(Ve(n,function(h){var p=gD(r.zrId);p.animation=!0,JT(h,{},p,!0);var m=p.cssAnims,v=p.cssNodes,b=on(m),x=b.length;if(x){s=b[x-1];var C=m[s];for(var I in C){var A=C[I];i[I]=i[I]||{d:""},i[I].d+=A.d||""}for(var R in v){var k=v[R].animation;k.indexOf(s)>=0&&(o=k)}}}),!!o){t.d=!1;var a=TX(i,r);return o.replace(s,a)}}function WN(e){return cr(e)?UN[e]?"cubic-bezier("+UN[e]+")":YR(e)?e:"":""}function JT(e,t,r,n){var i=e.animators,o=i.length,s=[];if(e instanceof bq){var a=bRe(e,t,r);if(a)s.push(a);else if(!o)return}else if(!o)return;for(var h={},p=0;p<o;p++){var m=i[p],v=[m.getMaxTime()/1e3+"s"],b=WN(m.getClip().easing),x=m.getDelay();b?v.push(b):v.push("linear"),x&&v.push(x/1e3+"s"),m.getLoop()&&v.push("infinite");var C=v.join(" ");h[C]=h[C]||[C,[]],h[C][1].push(m)}function I(k){var $=k[1],N=$.length,H={},W={},j={},X="animation-timing-function";function K(it,je,He){for(var Fe=it.getTracks(),tt=it.getMaxTime(),me=0;me<Fe.length;me++){var _e=Fe[me];if(_e.needsAnimate()){var qe=_e.keyframes,ht=_e.propName;if(He&&(ht=He(ht)),ht)for(var et=0;et<qe.length;et++){var Je=qe[et],Qe=Math.round(Je.time/tt*100)+"%",dt=WN(Je.easing),xt=Je.rawValue;(cr(xt)||ni(xt))&&(je[Qe]=je[Qe]||{},je[Qe][ht]=Je.rawValue,dt&&(je[Qe][X]=dt))}}}}for(var Q=0;Q<N;Q++){var oe=$[Q],he=oe.targetName;he?he==="shape"&&K(oe,W):!n&&K(oe,H)}for(var ye in H){var be={};kW(be,e),Kt(be,H[ye]);var ce=DW(be),de=H[ye][X];j[ye]=ce?{transform:ce}:{},yRe(j[ye],be),de&&(j[ye][X]=de)}var Oe,ze=!0;for(var ye in W){j[ye]=j[ye]||{};var De=!Oe,de=W[ye][X];De&&(Oe=new Zh);var ct=Oe.len();Oe.reset(),j[ye].d=vRe(e,W[ye],Oe);var Ke=Oe.len();if(!De&&ct!==Ke){ze=!1;break}de&&(j[ye][X]=de)}if(!ze)for(var ye in j)delete j[ye].d;if(!n)for(var Q=0;Q<N;Q++){var oe=$[Q],he=oe.targetName;he==="style"&&K(oe,j,function(Fe){return _Re[Fe]})}for(var gt=on(j),Lt=!0,Nt,Q=1;Q<gt.length;Q++){var zt=gt[Q-1],Ft=gt[Q];if(j[zt][wf]!==j[Ft][wf]){Lt=!1;break}Nt=j[zt][wf]}if(Lt&&Nt){for(var ye in j)j[ye][wf]&&delete j[ye][wf];t[wf]=Nt}if(ao(gt,function(it){return on(j[it]).length>0}).length){var Be=TX(j,r);return Be+" "+k[0]+" both"}}for(var A in h){var a=I(h[A]);a&&s.push(a)}if(s.length){var R=r.zrId+"-cls-"+SX();r.cssNodes["."+R]={animation:s.join(",")},t.class=R}}function xRe(e,t,r){if(!e.ignore)if(e.isSilent()){var n={"pointer-events":"none"};qN(n,t,r)}else{var i=e.states.emphasis&&e.states.emphasis.style?e.states.emphasis.style:{},o=i.fill;if(!o){var s=e.style&&e.style.fill,a=e.states.select&&e.states.select.style&&e.states.select.style.fill,h=e.currentStates.indexOf("select")>=0&&a||s;h&&(o=DA(h))}var p=i.lineWidth;if(p){var m=!i.strokeNoScale&&e.transform?e.transform[0]:1;p=p/m}var n={cursor:"pointer"};o&&(n.fill=o),i.stroke&&(n.stroke=i.stroke),p&&(n["stroke-width"]=p),qN(n,t,r)}}function qN(e,t,r,n){var i=JSON.stringify(e),o=r.cssStyleCache[i];o||(o=r.zrId+"-cls-"+SX(),r.cssStyleCache[i]=o,r.cssNodes["."+o+":hover"]=e),t.class=t.class?t.class+" "+o:o}var Q0=Math.round;function CX(e){return e&&cr(e.src)}function PX(e){return e&&br(e.toDataURL)}function XO(e,t,r,n){cRe(function(i,o){var s=i==="fill"||i==="stroke";s&&EW(o)?IX(t,e,i,n):s&&JR(o)?EX(r,e,i,n):e[i]=o,s&&n.ssr&&o==="none"&&(e["pointer-events"]="visible")},t,r,!1),IRe(r,e,n)}function KO(e,t){var r=FCe(t);r&&(r.each(function(n,i){n!=null&&(e[(HN+i).toLowerCase()]=n+"")}),t.isSilent()&&(e[HN+"silent"]="true"))}function ZN(e){return Lh(e[0]-1)&&Lh(e[1])&&Lh(e[2])&&Lh(e[3]-1)}function wRe(e){return Lh(e[4])&&Lh(e[5])}function YO(e,t,r){if(t&&!(wRe(t)&&ZN(t))){var n=1e4;e.transform=ZN(t)?"translate("+Q0(t[4]*n)/n+" "+Q0(t[5]*n)/n+")":lCe(t)}}function XN(e,t,r){for(var n=e.points,i=[],o=0;o<n.length;o++)i.push(Q0(n[o][0]*r)/r),i.push(Q0(n[o][1]*r)/r);t.points=i.join(" ")}function KN(e){return!e.smooth}function SRe(e){var t=fr(e,function(r){return typeof r=="string"?[r,r]:r});return function(r,n,i){for(var o=0;o<t.length;o++){var s=t[o],a=r[s[0]];a!=null&&(n[s[1]]=Q0(a*i)/i)}}}var TRe={circle:[SRe(["cx","cy","r"])],polyline:[XN,KN],polygon:[XN,KN]};function CRe(e){for(var t=e.animators,r=0;r<t.length;r++)if(t[r].targetName==="shape")return!0;return!1}function MX(e,t){var r=e.style,n=e.shape,i=TRe[e.type],o={},s=t.animation,a="path",h=e.style.strokePercent,p=t.compress&&AW(e)||4;if(i&&!t.willUpdate&&!(i[1]&&!i[1](n))&&!(s&&CRe(e))&&!(h<1)){a=e.type;var m=Math.pow(10,p);i[0](n,o,m)}else{var v=!e.path||e.shapeChanged();e.path||e.createPathProxy();var b=e.path;v&&(b.beginPath(),e.buildPath(b,e.shape),e.pathUpdated());var x=b.getVersion(),C=e,I=C.__svgPathBuilder;(C.__svgPathVersion!==x||!I||h!==C.__svgPathStrokePercent)&&(I||(I=C.__svgPathBuilder=new _X),I.reset(p),b.rebuildPath(I,h),I.generateStr(),C.__svgPathVersion=x,C.__svgPathStrokePercent=h),o.d=I.getStr()}return YO(o,e.transform),XO(o,r,e,t),KO(o,e),t.animation&&JT(e,o,t),t.emphasis&&xRe(e,o,t),uo(a,e.id+"",o)}function PRe(e,t){var r=e.style,n=r.image;if(n&&!cr(n)&&(CX(n)?n=n.src:PX(n)&&(n=n.toDataURL())),!!n){var i=r.x||0,o=r.y||0,s=r.width,a=r.height,h={href:n,width:s,height:a};return i&&(h.x=i),o&&(h.y=o),YO(h,e.transform),XO(h,r,e,t),KO(h,e),t.animation&&JT(e,h,t),uo("image",e.id+"",h)}}function MRe(e,t){var r=e.style,n=r.text;if(n!=null&&(n+=""),!(!n||isNaN(r.x)||isNaN(r.y))){var i=r.font||qh,o=r.x||0,s=cCe(r.y||0,bT(i),r.textBaseline),a=uCe[r.textAlign]||r.textAlign,h={"dominant-baseline":"central","text-anchor":a};if(iq(r)){var p="",m=r.fontStyle,v=nq(r.fontSize);if(!parseFloat(v))return;var b=r.fontFamily||aW,x=r.fontWeight;p+="font-size:"+v+";font-family:"+b+";",m&&m!=="normal"&&(p+="font-style:"+m+";"),x&&x!=="normal"&&(p+="font-weight:"+x+";"),h.style=p}else h.style="font: "+i;return n.match(/\s/)&&(h["xml:space"]="preserve"),o&&(h.x=o),s&&(h.y=s),YO(h,e.transform),XO(h,r,e,t),KO(h,e),t.animation&&JT(e,h,t),uo("text",e.id+"",h,void 0,n)}}function YN(e,t){if(e instanceof vn)return MX(e,t);if(e instanceof xu)return PRe(e,t);if(e instanceof V0)return MRe(e,t)}function IRe(e,t,r){var n=e.style;if(hCe(n)){var i=dCe(e),o=r.shadowCache,s=o[i];if(!s){var a=e.getGlobalScale(),h=a[0],p=a[1];if(!h||!p)return;var m=n.shadowOffsetX||0,v=n.shadowOffsetY||0,b=n.shadowBlur,x=z0(n.shadowColor),C=x.opacity,I=x.color,A=b/2/h,R=b/2/p,k=A+" "+R;s=r.zrId+"-s"+r.shadowIdx++,r.defs[s]=uo("filter",s,{id:s,x:"-100%",y:"-100%",width:"300%",height:"300%"},[uo("feDropShadow","",{dx:m/h,dy:v/p,stdDeviation:k,"flood-color":I,"flood-opacity":C})]),o[i]=s}t.filter=_T(s)}}function IX(e,t,r,n){var i=e[r],o,s={gradientUnits:i.global?"userSpaceOnUse":"objectBoundingBox"};if(MW(i))o="linearGradient",s.x1=i.x,s.y1=i.y,s.x2=i.x2,s.y2=i.y2;else if(IW(i))o="radialGradient",s.cx=$r(i.x,.5),s.cy=$r(i.y,.5),s.r=$r(i.r,.5);else return;for(var a=i.colorStops,h=[],p=0,m=a.length;p<m;++p){var v=LA(a[p].offset)*100+"%",b=a[p].color,x=z0(b),C=x.color,I=x.opacity,A={offset:v};A["stop-color"]=C,I<1&&(A["stop-opacity"]=I),h.push(uo("stop",p+"",A))}var R=uo(o,"",s,h),k=ZO(R),$=n.gradientCache,N=$[k];N||(N=n.zrId+"-g"+n.gradientIdx++,$[k]=N,s.id=N,n.defs[N]=uo(o,N,s,h)),t[r]=_T(N)}function EX(e,t,r,n){var i=e.style[r],o=e.getBoundingRect(),s={},a=i.repeat,h=a==="no-repeat",p=a==="repeat-x",m=a==="repeat-y",v;if(PW(i)){var b=i.imageWidth,x=i.imageHeight,C=void 0,I=i.image;if(cr(I)?C=I:CX(I)?C=I.src:PX(I)&&(C=I.toDataURL()),typeof Image>"u"){var A="Image width/height must been given explictly in svg-ssr renderer.";Tl(b,A),Tl(x,A)}else if(b==null||x==null){var R=function(Q,oe){if(Q){var he=Q.elm,ye=b||oe.width,be=x||oe.height;Q.tag==="pattern"&&(p?(be=1,ye/=o.width):m&&(ye=1,be/=o.height)),Q.attrs.width=ye,Q.attrs.height=be,he&&(he.setAttribute("width",ye),he.setAttribute("height",be))}},k=aO(C,null,e,function(Q){h||R(W,Q),R(v,Q)});k&&k.width&&k.height&&(b=b||k.width,x=x||k.height)}v=uo("image","img",{href:C,width:b,height:x}),s.width=b,s.height=x}else i.svgElement&&(v=Xr(i.svgElement),s.width=i.svgWidth,s.height=i.svgHeight);if(v){var $,N;h?$=N=1:p?(N=1,$=s.width/o.width):m?($=1,N=s.height/o.height):s.patternUnits="userSpaceOnUse",$!=null&&!isNaN($)&&(s.width=$),N!=null&&!isNaN(N)&&(s.height=N);var H=DW(i);H&&(s.patternTransform=H);var W=uo("pattern","",s,[v]),j=ZO(W),X=n.patternCache,K=X[j];K||(K=n.zrId+"-p"+n.patternIdx++,X[j]=K,s.id=K,W=n.defs[K]=uo("pattern",K,s,[v])),t[r]=_T(K)}}function ERe(e,t,r){var n=r.clipPathCache,i=r.defs,o=n[e.id];if(!o){o=r.zrId+"-c"+r.clipPathIdx++;var s={id:o};n[e.id]=o,i[o]=uo("clipPath",o,s,[MX(e,r)])}t["clip-path"]=_T(o)}function JN(e){return document.createTextNode(e)}function Mf(e,t,r){e.insertBefore(t,r)}function QN(e,t){e.removeChild(t)}function e8(e,t){e.appendChild(t)}function AX(e){return e.parentNode}function DX(e){return e.nextSibling}function BI(e,t){e.textContent=t}var t8=58,ARe=120,DRe=uo("","");function vD(e){return e===void 0}function iu(e){return e!==void 0}function LRe(e,t,r){for(var n={},i=t;i<=r;++i){var o=e[i].key;o!==void 0&&(n[o]=i)}return n}function O_(e,t){var r=e.key===t.key,n=e.tag===t.tag;return n&&r}function eb(e){var t,r=e.children,n=e.tag;if(iu(n)){var i=e.elm=wX(n);if(JO(DRe,e),nr(r))for(t=0;t<r.length;++t){var o=r[t];o!=null&&e8(i,eb(o))}else iu(e.text)&&!Sr(e.text)&&e8(i,JN(e.text))}else e.elm=JN(e.text);return e.elm}function LX(e,t,r,n,i){for(;n<=i;++n){var o=r[n];o!=null&&Mf(e,eb(o),t)}}function b2(e,t,r,n){for(;r<=n;++r){var i=t[r];if(i!=null)if(iu(i.tag)){var o=AX(i.elm);QN(o,i.elm)}else QN(e,i.elm)}}function JO(e,t){var r,n=t.elm,i=e&&e.attrs||{},o=t.attrs||{};if(i!==o){for(r in o){var s=o[r],a=i[r];a!==s&&(s===!0?n.setAttribute(r,""):s===!1?n.removeAttribute(r):r==="style"?n.style.cssText=s:r.charCodeAt(0)!==ARe?n.setAttribute(r,s):r==="xmlns:xlink"||r==="xmlns"?n.setAttributeNS(hRe,r,s):r.charCodeAt(3)===t8?n.setAttributeNS(dRe,r,s):r.charCodeAt(5)===t8?n.setAttributeNS(xX,r,s):n.setAttribute(r,s))}for(r in i)r in o||n.removeAttribute(r)}}function RRe(e,t,r){for(var n=0,i=0,o=t.length-1,s=t[0],a=t[o],h=r.length-1,p=r[0],m=r[h],v,b,x,C;n<=o&&i<=h;)s==null?s=t[++n]:a==null?a=t[--o]:p==null?p=r[++i]:m==null?m=r[--h]:O_(s,p)?(Km(s,p),s=t[++n],p=r[++i]):O_(a,m)?(Km(a,m),a=t[--o],m=r[--h]):O_(s,m)?(Km(s,m),Mf(e,s.elm,DX(a.elm)),s=t[++n],m=r[--h]):O_(a,p)?(Km(a,p),Mf(e,a.elm,s.elm),a=t[--o],p=r[++i]):(vD(v)&&(v=LRe(t,n,o)),b=v[p.key],vD(b)?Mf(e,eb(p),s.elm):(x=t[b],x.tag!==p.tag?Mf(e,eb(p),s.elm):(Km(x,p),t[b]=void 0,Mf(e,x.elm,s.elm))),p=r[++i]);(n<=o||i<=h)&&(n>o?(C=r[h+1]==null?null:r[h+1].elm,LX(e,C,r,i,h)):b2(e,t,n,o))}function Km(e,t){var r=t.elm=e.elm,n=e.children,i=t.children;e!==t&&(JO(e,t),vD(t.text)?iu(n)&&iu(i)?n!==i&&RRe(r,n,i):iu(i)?(iu(e.text)&&BI(r,""),LX(r,null,i,0,i.length-1)):iu(n)?b2(r,n,0,n.length-1):iu(e.text)&&BI(r,""):e.text!==t.text&&(iu(n)&&b2(r,n,0,n.length-1),BI(r,t.text)))}function ORe(e,t){if(O_(e,t))Km(e,t);else{var r=e.elm,n=AX(r);eb(t),n!==null&&(Mf(n,t.elm,DX(r)),b2(n,[e],0,0))}return t}var kRe=0,$Re=(function(){function e(t,r,n){if(this.type="svg",this.refreshHover=r8(),this.configLayer=r8(),this.storage=r,this._opts=n=Kt({},n),this.root=t,this._id="zr"+kRe++,this._oldVNode=GN(n.width,n.height),t&&!n.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var o=this._svgDom=this._oldVNode.elm=wX("svg");JO(null,this._oldVNode),i.appendChild(o),t.appendChild(i)}this.resize(n.width,n.height)}return e.prototype.getType=function(){return this.type},e.prototype.getViewportRoot=function(){return this._viewport},e.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},e.prototype.getSvgDom=function(){return this._svgDom},e.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",ORe(this._oldVNode,t),this._oldVNode=t}},e.prototype.renderOneToVNode=function(t){return YN(t,gD(this._id))},e.prototype.renderToVNode=function(t){t=t||{};var r=this.storage.getDisplayList(!0),n=this._width,i=this._height,o=gD(this._id);o.animation=t.animation,o.willUpdate=t.willUpdate,o.compress=t.compress,o.emphasis=t.emphasis,o.ssr=this._opts.ssr;var s=[],a=this._bgVNode=zRe(n,i,this._backgroundColor,o);a&&s.push(a);var h=t.compress?null:this._mainVNode=uo("g","main",{},[]);this._paintList(r,o,h?h.children:s),h&&s.push(h);var p=fr(on(o.defs),function(b){return o.defs[b]});if(p.length&&s.push(uo("defs","defs",{},p)),t.animation){var m=mRe(o.cssNodes,o.cssAnims,{newline:!0});if(m){var v=uo("style","stl",{},[],m);s.push(v)}}return GN(n,i,s,t.useViewBox)},e.prototype.renderToString=function(t){return t=t||{},ZO(this.renderToVNode({animation:$r(t.cssAnimation,!0),emphasis:$r(t.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:$r(t.useViewBox,!0)}),{newline:!0})},e.prototype.setBackgroundColor=function(t){this._backgroundColor=t},e.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},e.prototype._paintList=function(t,r,n){for(var i=t.length,o=[],s=0,a,h,p=0,m=0;m<i;m++){var v=t[m];if(!v.invisible){var b=v.__clipPaths,x=b&&b.length||0,C=h&&h.length||0,I=void 0;for(I=Math.max(x-1,C-1);I>=0&&!(b&&h&&b[I]===h[I]);I--);for(var A=C-1;A>I;A--)s--,a=o[s-1];for(var R=I+1;R<x;R++){var k={};ERe(b[R],k,r);var $=uo("g","clip-g-"+p++,k,[]);(a?a.children:n).push($),o[s++]=$,a=$}h=b;var N=YN(v,r);N&&(a?a.children:n).push(N)}}},e.prototype.resize=function(t,r){var n=this._opts,i=this.root,o=this._viewport;if(t!=null&&(n.width=t),r!=null&&(n.height=r),i&&o&&(o.style.display="none",t=lg(i,0,n),r=lg(i,1,n),o.style.display=""),this._width!==t||this._height!==r){if(this._width=t,this._height=r,o){var s=o.style;s.width=t+"px",s.height=r+"px"}if(JR(this._backgroundColor))this.refresh();else{var a=this._svgDom;a&&(a.setAttribute("width",t),a.setAttribute("height",r));var h=this._bgVNode&&this._bgVNode.elm;h&&(h.setAttribute("width",t),h.setAttribute("height",r))}}},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},e.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},e.prototype.toDataURL=function(t){var r=this.renderToString(),n="data:image/svg+xml;";return t?(r=pCe(r),r&&n+"base64,"+r):n+"charset=UTF-8,"+encodeURIComponent(r)},e})();function r8(e){return function(){}}function zRe(e,t,r,n){var i;if(r&&r!=="none")if(i=uo("rect","bg",{width:e,height:t,x:"0",y:"0"}),EW(r))IX({fill:r},i.attrs,"fill",n);else if(JR(r))EX({style:{fill:r},dirty:Qo,getBoundingRect:function(){return{width:e,height:t}}},i.attrs,"fill",n);else{var o=z0(r),s=o.color,a=o.opacity;i.attrs.fill=s,a<1&&(i.attrs["fill-opacity"]=a)}return i}function BRe(e){e.registerPainter("svg",$Re)}function n8(e,t,r){var n=hv.createCanvas(),i=t.getWidth(),o=t.getHeight(),s=n.style;return s&&(s.position="absolute",s.left="0",s.top="0",s.width=i+"px",s.height=o+"px",n.setAttribute("data-zr-dom-id",e)),n.width=i*r,n.height=o*r,n}var FI=(function(e){qt(t,e);function t(r,n,i){var o=e.call(this)||this;o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.maxRepaintRectCount=5,o.__dirty=!0,o.__firstTimePaint=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,o.__prevStartIndex=null,o.__prevEndIndex=null;var s;i=i||t2,typeof r=="string"?s=n8(r,n,i):Sr(r)&&(s=r,r=s.id),o.id=r,o.dom=s;var a=s.style;return a&&(fW(s),s.onselectstart=function(){return!1},a.padding="0",a.margin="0",a.borderWidth="0"),o.painter=n,o.dpr=i,o}return t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var r=this.dpr;this.domBack=n8("back-"+this.id,this.painter,r),this.ctxBack=this.domBack.getContext("2d"),r!==1&&this.ctxBack.scale(r,r)},t.prototype.createRepaintRects=function(r,n,i,o){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var s=[],a=this.maxRepaintRectCount,h=!1,p=new ln(0,0,0,0);function m(k){if(!(!k.isFinite()||k.isZero()))if(s.length===0){var $=new ln(0,0,0,0);$.copy(k),s.push($)}else{for(var N=!1,H=1/0,W=0,j=0;j<s.length;++j){var X=s[j];if(X.intersect(k)){var K=new ln(0,0,0,0);K.copy(X),K.union(k),s[j]=K,N=!0;break}else if(h){p.copy(k),p.union(X);var Q=k.width*k.height,oe=X.width*X.height,he=p.width*p.height,ye=he-Q-oe;ye<H&&(H=ye,W=j)}}if(h&&(s[W].union(k),N=!0),!N){var $=new ln(0,0,0,0);$.copy(k),s.push($)}h||(h=s.length>=a)}}for(var v=this.__startIndex;v<this.__endIndex;++v){var b=r[v];if(b){var x=b.shouldBePainted(i,o,!0,!0),C=b.__isRendered&&(b.__dirty&ns||!x)?b.getPrevPaintRect():null;C&&m(C);var I=x&&(b.__dirty&ns||!b.__isRendered)?b.getPaintRect():null;I&&m(I)}}for(var v=this.__prevStartIndex;v<this.__prevEndIndex;++v){var b=n[v],x=b&&b.shouldBePainted(i,o,!0,!0);if(b&&(!x||!b.__zr)&&b.__isRendered){var C=b.getPrevPaintRect();C&&m(C)}}var A;do{A=!1;for(var v=0;v<s.length;){if(s[v].isZero()){s.splice(v,1);continue}for(var R=v+1;R<s.length;)s[v].intersect(s[R])?(A=!0,s[v].union(s[R]),s.splice(R,1)):R++;v++}}while(A);return this._paintRects=s,s},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(r,n){var i=this.dpr,o=this.dom,s=o.style,a=this.domBack;s&&(s.width=r+"px",s.height=n+"px"),o.width=r*i,o.height=n*i,a&&(a.width=r*i,a.height=n*i,i!==1&&this.ctxBack.scale(i,i))},t.prototype.clear=function(r,n,i){var o=this.dom,s=this.ctx,a=o.width,h=o.height;n=n||this.clearColor;var p=this.motionBlur&&!r,m=this.lastFrameAlpha,v=this.dpr,b=this;p&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(o,0,0,a/v,h/v));var x=this.domBack;function C(I,A,R,k){if(s.clearRect(I,A,R,k),n&&n!=="transparent"){var $=void 0;if(gT(n)){var N=n.global||n.__width===R&&n.__height===k;$=N&&n.__canvasGradient||oD(s,n,{x:0,y:0,width:R,height:k}),n.__canvasGradient=$,n.__width=R,n.__height=k}else bTe(n)&&(n.scaleX=n.scaleX||v,n.scaleY=n.scaleY||v,$=aD(s,n,{dirty:function(){b.setUnpainted(),b.painter.refresh()}}));s.save(),s.fillStyle=$||n,s.fillRect(I,A,R,k),s.restore()}p&&(s.save(),s.globalAlpha=m,s.drawImage(x,I,A,R,k),s.restore())}!i||p?C(0,0,a,h):i.length&&Ve(i,function(I){C(I.x*v,I.y*v,I.width*v,I.height*v)})},t})(El),i8=1e5,_f=314159,Tw=.01,FRe=.001;function NRe(e){return e?e.__builtin__?!0:!(typeof e.resize!="function"||typeof e.refresh!="function"):!1}function VRe(e,t){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var jRe=(function(){function e(t,r,n,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=n=Kt({},n||{}),this.dpr=n.devicePixelRatio||t2,this._singleCanvas=o,this.root=t;var s=t.style;s&&(fW(t),t.innerHTML=""),this.storage=r;var a=this._zlevelList;this._prevDisplayList=[];var h=this._layers;if(o){var m=t,v=m.width,b=m.height;n.width!=null&&(v=n.width),n.height!=null&&(b=n.height),this.dpr=n.devicePixelRatio||1,m.width=v*this.dpr,m.height=b*this.dpr,this._width=v,this._height=b;var x=new FI(m,this,this.dpr);x.__builtin__=!0,x.initContext(),h[_f]=x,x.zlevel=_f,a.push(_f),this._domRoot=t}else{this._width=lg(t,0,n),this._height=lg(t,1,n);var p=this._domRoot=VRe(this._width,this._height);t.appendChild(p)}}return e.prototype.getType=function(){return"canvas"},e.prototype.isSingleCanvas=function(){return this._singleCanvas},e.prototype.getViewportRoot=function(){return this._domRoot},e.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},e.prototype.refresh=function(t){var r=this.storage.getDisplayList(!0),n=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(r,n,t,this._redrawId);for(var o=0;o<i.length;o++){var s=i[o],a=this._layers[s];if(!a.__builtin__&&a.refresh){var h=o===0?this._backgroundColor:null;a.refresh(h)}}return this._opts.useDirtyRect&&(this._prevDisplayList=r.slice()),this},e.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},e.prototype._paintHoverList=function(t){var r=t.length,n=this._hoverlayer;if(n&&n.clear(),!!r){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},o,s=0;s<r;s++){var a=t[s];a.__inHover&&(n||(n=this._hoverlayer=this.getLayer(i8)),o||(o=n.ctx,o.save()),Of(o,a,i,s===r-1))}o&&o.restore()}},e.prototype.getHoverLayer=function(){return this.getLayer(i8)},e.prototype.paintOne=function(t,r){IZ(t,r)},e.prototype._paintList=function(t,r,n,i){if(this._redrawId===i){n=n||!1,this._updateLayerStatus(t);var o=this._doPaintList(t,r,n),s=o.finished,a=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),a&&this._paintHoverList(t),s)this.eachLayer(function(p){p.afterBrush&&p.afterBrush()});else{var h=this;ZS(function(){h._paintList(t,r,n,i)})}}},e.prototype._compositeManually=function(){var t=this.getLayer(_f).ctx,r=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,r,n),this.eachBuiltinLayer(function(i){i.virtual&&t.drawImage(i.dom,0,0,r,n)})},e.prototype._doPaintList=function(t,r,n){for(var i=this,o=[],s=this._opts.useDirtyRect,a=0;a<this._zlevelList.length;a++){var h=this._zlevelList[a],p=this._layers[h];p.__builtin__&&p!==this._hoverlayer&&(p.__dirty||n)&&o.push(p)}for(var m=!0,v=!1,b=function(I){var A=o[I],R=A.ctx,k=s&&A.createRepaintRects(t,r,x._width,x._height),$=n?A.__startIndex:A.__drawIndex,N=!n&&A.incremental&&Date.now,H=N&&Date.now(),W=A.zlevel===x._zlevelList[0]?x._backgroundColor:null;if(A.__startIndex===A.__endIndex)A.clear(!1,W,k);else if($===A.__startIndex){var j=t[$];(!j.incremental||!j.notClear||n)&&A.clear(!1,W,k)}$===-1&&(console.error("For some unknown reason. drawIndex is -1"),$=A.__startIndex);var X,K=function(ye){var be={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(X=$;X<A.__endIndex;X++){var ce=t[X];if(ce.__inHover&&(v=!0),i._doPaintEl(ce,A,s,ye,be,X===A.__endIndex-1),N){var de=Date.now()-H;if(de>15)break}}be.prevElClipPaths&&R.restore()};if(k)if(k.length===0)X=A.__endIndex;else for(var Q=x.dpr,oe=0;oe<k.length;++oe){var he=k[oe];R.save(),R.beginPath(),R.rect(he.x*Q,he.y*Q,he.width*Q,he.height*Q),R.clip(),K(he),R.restore()}else R.save(),K(),R.restore();A.__drawIndex=X,A.__drawIndex<A.__endIndex&&(m=!1)},x=this,C=0;C<o.length;C++)b(C);return Rr.wxa&&Ve(this._layers,function(I){I&&I.ctx&&I.ctx.draw&&I.ctx.draw()}),{finished:m,needsRefreshHover:v}},e.prototype._doPaintEl=function(t,r,n,i,o,s){var a=r.ctx;if(n){var h=t.getPaintRect();(!i||h&&h.intersect(i))&&(Of(a,t,o,s),t.setPrevPaintRect(h))}else Of(a,t,o,s)},e.prototype.getLayer=function(t,r){this._singleCanvas&&!this._needsManuallyCompositing&&(t=_f);var n=this._layers[t];return n||(n=new FI("zr_"+t,this,this.dpr),n.zlevel=t,n.__builtin__=!0,this._layerConfig[t]?an(n,this._layerConfig[t],!0):this._layerConfig[t-Tw]&&an(n,this._layerConfig[t-Tw],!0),r&&(n.virtual=r),this.insertLayer(t,n),n.initContext()),n},e.prototype.insertLayer=function(t,r){var n=this._layers,i=this._zlevelList,o=i.length,s=this._domRoot,a=null,h=-1;if(!n[t]&&NRe(r)){if(o>0&&t>i[0]){for(h=0;h<o-1&&!(i[h]<t&&i[h+1]>t);h++);a=n[i[h]]}if(i.splice(h+1,0,t),n[t]=r,!r.virtual)if(a){var p=a.dom;p.nextSibling?s.insertBefore(r.dom,p.nextSibling):s.appendChild(r.dom)}else s.firstChild?s.insertBefore(r.dom,s.firstChild):s.appendChild(r.dom);r.painter||(r.painter=this)}},e.prototype.eachLayer=function(t,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var o=n[i];t.call(r,this._layers[o],o)}},e.prototype.eachBuiltinLayer=function(t,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var o=n[i],s=this._layers[o];s.__builtin__&&t.call(r,s,o)}},e.prototype.eachOtherLayer=function(t,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var o=n[i],s=this._layers[o];s.__builtin__||t.call(r,s,o)}},e.prototype.getLayers=function(){return this._layers},e.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(v,b){v.__dirty=v.__used=!1});function r(v){o&&(o.__endIndex!==v&&(o.__dirty=!0),o.__endIndex=v)}if(this._singleCanvas)for(var n=1;n<t.length;n++){var i=t[n];if(i.zlevel!==t[n-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var o=null,s=0,a,h;for(h=0;h<t.length;h++){var i=t[h],p=i.zlevel,m=void 0;a!==p&&(a=p,s=0),i.incremental?(m=this.getLayer(p+FRe,this._needsManuallyCompositing),m.incremental=!0,s=1):m=this.getLayer(p+(s>0?Tw:0),this._needsManuallyCompositing),m.__builtin__||GR("ZLevel "+p+" has been used by unkown layer "+m.id),m!==o&&(m.__used=!0,m.__startIndex!==h&&(m.__dirty=!0),m.__startIndex=h,m.incremental?m.__drawIndex=-1:m.__drawIndex=h,r(h),o=m),i.__dirty&ns&&!i.__inHover&&(m.__dirty=!0,m.incremental&&m.__drawIndex<0&&(m.__drawIndex=h))}r(h),this.eachBuiltinLayer(function(v,b){!v.__used&&v.getElementCount()>0&&(v.__dirty=!0,v.__startIndex=v.__endIndex=v.__drawIndex=0),v.__dirty&&v.__drawIndex<0&&(v.__drawIndex=v.__startIndex)})},e.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},e.prototype._clearLayer=function(t){t.clear()},e.prototype.setBackgroundColor=function(t){this._backgroundColor=t,Ve(this._layers,function(r){r.setUnpainted()})},e.prototype.configLayer=function(t,r){if(r){var n=this._layerConfig;n[t]?an(n[t],r,!0):n[t]=r;for(var i=0;i<this._zlevelList.length;i++){var o=this._zlevelList[i];if(o===t||o===t+Tw){var s=this._layers[o];an(s,n[t],!0)}}}},e.prototype.delLayer=function(t){var r=this._layers,n=this._zlevelList,i=r[t];i&&(i.dom.parentNode.removeChild(i.dom),delete r[t],n.splice(sn(n,t),1))},e.prototype.resize=function(t,r){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts,o=this.root;if(t!=null&&(i.width=t),r!=null&&(i.height=r),t=lg(o,0,i),r=lg(o,1,i),n.style.display="",this._width!==t||r!==this._height){n.style.width=t+"px",n.style.height=r+"px";for(var s in this._layers)this._layers.hasOwnProperty(s)&&this._layers[s].resize(t,r);this.refresh(!0)}this._width=t,this._height=r}else{if(t==null||r==null)return;this._width=t,this._height=r,this.getLayer(_f).resize(t,r)}return this},e.prototype.clearLayer=function(t){var r=this._layers[t];r&&r.clear()},e.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},e.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[_f].dom;var r=new FI("image",this,t.pixelRatio||this.dpr);r.initContext(),r.clear(!1,t.backgroundColor||this._backgroundColor);var n=r.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var i=r.dom.width,o=r.dom.height;this.eachLayer(function(v){v.__builtin__?n.drawImage(v.dom,0,0,i,o):v.renderToCanvas&&(n.save(),v.renderToCanvas(n),n.restore())})}else for(var s={inHover:!1,viewWidth:this._width,viewHeight:this._height},a=this.storage.getDisplayList(!0),h=0,p=a.length;h<p;h++){var m=a[h];Of(n,m,s,h===p-1)}return r.dom},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e})();function HRe(e){e.registerPainter("canvas",jRe)}var GRe=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r}return t.prototype.getInitialData=function(r){return QZ(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(r){var n=new mi,i=Cl("line",0,r.itemHeight/2,r.itemWidth,0,r.lineStyle.stroke,!1);n.add(i),i.setStyle(r.lineStyle);var o=this.getData().getVisual("symbol"),s=this.getData().getVisual("symbolRotate"),a=o==="none"?"circle":o,h=r.itemHeight*.8,p=Cl(a,(r.itemWidth-h)/2,(r.itemHeight-h)/2,h,h,r.itemStyle.fill);n.add(p),p.setStyle(r.itemStyle);var m=r.iconRotate==="inherit"?s:r.iconRotate||0;return p.rotation=m*Math.PI/180,p.setOrigin([r.itemWidth/2,r.itemHeight/2]),a.indexOf("empty")>-1&&(p.style.stroke=p.style.fill,p.style.fill="#fff",p.style.lineWidth=2),n},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t})(yu);function RX(e,t){var r=e.mapDimensionsAll("defaultedLabel"),n=r.length;if(n===1){var i=ev(e,t,r[0]);return i!=null?i+"":null}else if(n){for(var o=[],s=0;s<r.length;s++)o.push(ev(e,t,r[s]));return o.join(" ")}}function URe(e,t){var r=e.mapDimensionsAll("defaultedLabel");if(!nr(t))return t+"";for(var n=[],i=0;i<r.length;i++){var o=e.getDimensionIndex(r[i]);o>=0&&n.push(t[o])}return n.join(" ")}var QO=(function(e){qt(t,e);function t(r,n,i,o){var s=e.call(this)||this;return s.updateData(r,n,i,o),s}return t.prototype._createSymbol=function(r,n,i,o,s){this.removeAll();var a=Cl(r,-1,-1,2,2,null,s);a.attr({z2:100,culling:!0,scaleX:o[0]/2,scaleY:o[1]/2}),a.drift=WRe,this._symbolType=r,this.add(a)},t.prototype.stopSymbolAnimation=function(r){this.childAt(0).stopAnimation(null,r)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){j0(this.childAt(0))},t.prototype.downplay=function(){H0(this.childAt(0))},t.prototype.setZ=function(r,n){var i=this.childAt(0);i.zlevel=r,i.z=n},t.prototype.setDraggable=function(r,n){var i=this.childAt(0);i.draggable=r,i.cursor=!n&&r?"move":i.cursor},t.prototype.updateData=function(r,n,i,o){this.silent=!1;var s=r.getItemVisual(n,"symbol")||"circle",a=r.hostModel,h=t.getSymbolSize(r,n),p=s!==this._symbolType,m=o&&o.disableAnimation;if(p){var v=r.getItemVisual(n,"symbolKeepAspect");this._createSymbol(s,r,n,h,v)}else{var b=this.childAt(0);b.silent=!1;var x={scaleX:h[0]/2,scaleY:h[1]/2};m?b.attr(x):vu(b,x,a,n),eIe(b)}if(this._updateCommon(r,n,h,i,o),p){var b=this.childAt(0);if(!m){var x={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:b.style.opacity}};b.scaleX=b.scaleY=0,b.style.opacity=0,pv(b,x,a,n)}}m&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(r,n,i,o,s){var a=this.childAt(0),h=r.hostModel,p,m,v,b,x,C,I,A,R;if(o&&(p=o.emphasisItemStyle,m=o.blurItemStyle,v=o.selectItemStyle,b=o.focus,x=o.blurScope,I=o.labelStatesModels,A=o.hoverScale,R=o.cursorStyle,C=o.emphasisDisabled),!o||r.hasItemOption){var k=o&&o.itemModel?o.itemModel:r.getItemModel(n),$=k.getModel("emphasis");p=$.getModel("itemStyle").getItemStyle(),v=k.getModel(["select","itemStyle"]).getItemStyle(),m=k.getModel(["blur","itemStyle"]).getItemStyle(),b=$.get("focus"),x=$.get("blurScope"),C=$.get("disabled"),I=Db(k),A=$.getShallow("scale"),R=k.getShallow("cursor")}var N=r.getItemVisual(n,"symbolRotate");a.attr("rotation",(N||0)*Math.PI/180||0);var H=qT(r.getItemVisual(n,"symbolOffset"),i);H&&(a.x=H[0],a.y=H[1]),R&&a.attr("cursor",R);var W=r.getItemVisual(n,"style"),j=W.fill;if(a instanceof xu){var X=a.style;a.useStyle(Kt({image:X.image,x:X.x,y:X.y,width:X.width,height:X.height},W))}else a.__isEmptyBrush?a.useStyle(Kt({},W)):a.useStyle(W),a.style.decal=null,a.setColor(j,s&&s.symbolInnerColor),a.style.strokeNoScale=!0;var K=r.getItemVisual(n,"liftZ"),Q=this._z2;K!=null?Q==null&&(this._z2=a.z2,a.z2+=K):Q!=null&&(a.z2=Q,this._z2=null);var oe=s&&s.useNameLabel;$T(a,I,{labelFetcher:h,labelDataIndex:n,defaultText:he,inheritColor:j,defaultOpacity:W.opacity});function he(ce){return oe?r.getName(ce):RX(r,ce)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var ye=a.ensureState("emphasis");ye.style=p,a.ensureState("select").style=v,a.ensureState("blur").style=m;var be=A==null||A===!0?Math.max(1.1,3/this._sizeY):isFinite(A)&&A>0?+A:1;ye.scaleX=this._sizeX*be,ye.scaleY=this._sizeY*be,this.setSymbolScale(1),G0(this,b,x,C)},t.prototype.setSymbolScale=function(r){this.scaleX=this.scaleY=r},t.prototype.fadeOut=function(r,n,i){var o=this.childAt(0),s=nn(this).dataIndex,a=i&&i.animation;if(this.silent=o.silent=!0,i&&i.fadeLabel){var h=o.getTextContent();h&&s2(h,{style:{opacity:0}},n,{dataIndex:s,removeOpt:a,cb:function(){o.removeTextContent()}})}else o.removeTextContent();s2(o,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:s,cb:r,removeOpt:a})},t.getSymbolSize=function(r,n){return RO(r.getItemVisual(n,"symbolSize"))},t})(mi);function WRe(e,t){this.parent.drift(e,t)}function NI(e,t,r,n){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(n.isIgnore&&n.isIgnore(r))&&!(n.clipShape&&!n.clipShape.contain(t[0],t[1]))&&e.getItemVisual(r,"symbol")!=="none"}function o8(e){return e!=null&&!Sr(e)&&(e={isIgnore:e}),e||{}}function a8(e){var t=e.hostModel,r=t.getModel("emphasis");return{emphasisItemStyle:r.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:r.get("focus"),blurScope:r.get("blurScope"),emphasisDisabled:r.get("disabled"),hoverScale:r.get("scale"),labelStatesModels:Db(t),cursorStyle:t.get("cursor")}}var ek=(function(){function e(t){this.group=new mi,this._SymbolCtor=t||QO}return e.prototype.updateData=function(t,r){this._progressiveEls=null,r=o8(r);var n=this.group,i=t.hostModel,o=this._data,s=this._SymbolCtor,a=r.disableAnimation,h=a8(t),p={disableAnimation:a},m=r.getSymbolPoint||function(v){return t.getItemLayout(v)};o||n.removeAll(),t.diff(o).add(function(v){var b=m(v);if(NI(t,b,v,r)){var x=new s(t,v,h,p);x.setPosition(b),t.setItemGraphicEl(v,x),n.add(x)}}).update(function(v,b){var x=o.getItemGraphicEl(b),C=m(v);if(!NI(t,C,v,r)){n.remove(x);return}var I=t.getItemVisual(v,"symbol")||"circle",A=x&&x.getSymbolType&&x.getSymbolType();if(!x||A&&A!==I)n.remove(x),x=new s(t,v,h,p),x.setPosition(C);else{x.updateData(t,v,h,p);var R={x:C[0],y:C[1]};a?x.attr(R):vu(x,R,i)}n.add(x),t.setItemGraphicEl(v,x)}).remove(function(v){var b=o.getItemGraphicEl(v);b&&b.fadeOut(function(){n.remove(b)},i)}).execute(),this._getSymbolPoint=m,this._data=t},e.prototype.updateLayout=function(){var t=this,r=this._data;r&&r.eachItemGraphicEl(function(n,i){var o=t._getSymbolPoint(i);n.setPosition(o),n.markRedraw()})},e.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=a8(t),this._data=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(t,r,n){this._progressiveEls=[],n=o8(n);function i(h){h.isGroup||(h.incremental=!0,h.ensureState("emphasis").hoverLayer=!0)}for(var o=t.start;o<t.end;o++){var s=r.getItemLayout(o);if(NI(r,s,o,n)){var a=new this._SymbolCtor(r,o,this._seriesScope);a.traverse(i),a.setPosition(s),this.group.add(a),r.setItemGraphicEl(o,a),this._progressiveEls.push(a)}}},e.prototype.eachRendered=function(t){OT(this._progressiveEls||this.group,t)},e.prototype.remove=function(t){var r=this.group,n=this._data;n&&t?n.eachItemGraphicEl(function(i){i.fadeOut(function(){r.remove(i)},n.hostModel)}):r.removeAll()},e})();function OX(e,t,r){var n=e.getBaseAxis(),i=e.getOtherAxis(n),o=qRe(i,r),s=n.dim,a=i.dim,h=t.mapDimension(a),p=t.mapDimension(s),m=a==="x"||a==="radius"?1:0,v=fr(e.dimensions,function(C){return t.mapDimension(C)}),b=!1,x=t.getCalculationInfo("stackResultDimension");return tv(t,v[0])&&(b=!0,v[0]=x),tv(t,v[1])&&(b=!0,v[1]=x),{dataDimsForPoint:v,valueStart:o,valueAxisDim:a,baseAxisDim:s,stacked:!!b,valueDim:h,baseDim:p,baseDataOffset:m,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function qRe(e,t){var r=0,n=e.scale.getExtent();return t==="start"?r=n[0]:t==="end"?r=n[1]:ni(t)&&!isNaN(t)?r=t:n[0]>0?r=n[0]:n[1]<0&&(r=n[1]),r}function kX(e,t,r,n){var i=NaN;e.stacked&&(i=r.get(r.getCalculationInfo("stackedOverDimension"),n)),isNaN(i)&&(i=e.valueStart);var o=e.baseDataOffset,s=[];return s[o]=r.get(e.baseDim,n),s[1-o]=i,t.dataToPoint(s)}function ZRe(e,t){var r=[];return t.diff(e).add(function(n){r.push({cmd:"+",idx:n})}).update(function(n,i){r.push({cmd:"=",idx:i,idx1:n})}).remove(function(n){r.push({cmd:"-",idx:n})}).execute(),r}function XRe(e,t,r,n,i,o,s,a){for(var h=ZRe(e,t),p=[],m=[],v=[],b=[],x=[],C=[],I=[],A=OX(i,t,s),R=e.getLayout("points")||[],k=t.getLayout("points")||[],$=0;$<h.length;$++){var N=h[$],H=!0,W=void 0,j=void 0;switch(N.cmd){case"=":W=N.idx*2,j=N.idx1*2;var X=R[W],K=R[W+1],Q=k[j],oe=k[j+1];(isNaN(X)||isNaN(K))&&(X=Q,K=oe),p.push(X,K),m.push(Q,oe),v.push(r[W],r[W+1]),b.push(n[j],n[j+1]),I.push(t.getRawIndex(N.idx1));break;case"+":var he=N.idx,ye=A.dataDimsForPoint,be=i.dataToPoint([t.get(ye[0],he),t.get(ye[1],he)]);j=he*2,p.push(be[0],be[1]),m.push(k[j],k[j+1]);var ce=kX(A,i,t,he);v.push(ce[0],ce[1]),b.push(n[j],n[j+1]),I.push(t.getRawIndex(he));break;case"-":H=!1}H&&(x.push(N),C.push(C.length))}C.sort(function(zt,Ft){return I[zt]-I[Ft]});for(var de=p.length,Oe=ug(de),ze=ug(de),De=ug(de),ct=ug(de),Ke=[],$=0;$<C.length;$++){var gt=C[$],Lt=$*2,Nt=gt*2;Oe[Lt]=p[Nt],Oe[Lt+1]=p[Nt+1],ze[Lt]=m[Nt],ze[Lt+1]=m[Nt+1],De[Lt]=v[Nt],De[Lt+1]=v[Nt+1],ct[Lt]=b[Nt],ct[Lt+1]=b[Nt+1],Ke[$]=x[gt]}return{current:Oe,next:ze,stackedOnCurrent:De,stackedOnNext:ct,status:Ke}}var gh=Math.min,vh=Math.max;function Wf(e,t){return isNaN(e)||isNaN(t)}function yD(e,t,r,n,i,o,s,a,h){for(var p,m,v,b,x,C,I=r,A=0;A<n;A++){var R=t[I*2],k=t[I*2+1];if(I>=i||I<0)break;if(Wf(R,k)){if(h){I+=o;continue}break}if(I===r)e[o>0?"moveTo":"lineTo"](R,k),v=R,b=k;else{var $=R-p,N=k-m;if($*$+N*N<.5){I+=o;continue}if(s>0){for(var H=I+o,W=t[H*2],j=t[H*2+1];W===R&&j===k&&A<n;)A++,H+=o,I+=o,W=t[H*2],j=t[H*2+1],R=t[I*2],k=t[I*2+1],$=R-p,N=k-m;var X=A+1;if(h)for(;Wf(W,j)&&X<n;)X++,H+=o,W=t[H*2],j=t[H*2+1];var K=.5,Q=0,oe=0,he=void 0,ye=void 0;if(X>=n||Wf(W,j))x=R,C=k;else{Q=W-p,oe=j-m;var be=R-p,ce=W-R,de=k-m,Oe=j-k,ze=void 0,De=void 0;if(a==="x"){ze=Math.abs(be),De=Math.abs(ce);var ct=Q>0?1:-1;x=R-ct*ze*s,C=k,he=R+ct*De*s,ye=k}else if(a==="y"){ze=Math.abs(de),De=Math.abs(Oe);var Ke=oe>0?1:-1;x=R,C=k-Ke*ze*s,he=R,ye=k+Ke*De*s}else ze=Math.sqrt(be*be+de*de),De=Math.sqrt(ce*ce+Oe*Oe),K=De/(De+ze),x=R-Q*s*(1-K),C=k-oe*s*(1-K),he=R+Q*s*K,ye=k+oe*s*K,he=gh(he,vh(W,R)),ye=gh(ye,vh(j,k)),he=vh(he,gh(W,R)),ye=vh(ye,gh(j,k)),Q=he-R,oe=ye-k,x=R-Q*ze/De,C=k-oe*ze/De,x=gh(x,vh(p,R)),C=gh(C,vh(m,k)),x=vh(x,gh(p,R)),C=vh(C,gh(m,k)),Q=R-x,oe=k-C,he=R+Q*De/ze,ye=k+oe*De/ze}e.bezierCurveTo(v,b,x,C,R,k),v=he,b=ye}else e.lineTo(R,k)}p=R,m=k,I+=o}return A}var $X=(function(){function e(){this.smooth=0,this.smoothConstraint=!0}return e})(),KRe=(function(e){qt(t,e);function t(r){var n=e.call(this,r)||this;return n.type="ec-polyline",n}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new $X},t.prototype.buildPath=function(r,n){var i=n.points,o=0,s=i.length/2;if(n.connectNulls){for(;s>0&&Wf(i[s*2-2],i[s*2-1]);s--);for(;o<s&&Wf(i[o*2],i[o*2+1]);o++);}for(;o<s;)o+=yD(r,i,o,s,s,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},t.prototype.getPointOn=function(r,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,o=i.data,s=Zh.CMD,a,h,p=n==="x",m=[],v=0;v<o.length;){var b=o[v++],x=void 0,C=void 0,I=void 0,A=void 0,R=void 0,k=void 0,$=void 0;switch(b){case s.M:a=o[v++],h=o[v++];break;case s.L:if(x=o[v++],C=o[v++],$=p?(r-a)/(x-a):(r-h)/(C-h),$<=1&&$>=0){var N=p?(C-h)*$+h:(x-a)*$+a;return p?[r,N]:[N,r]}a=x,h=C;break;case s.C:x=o[v++],C=o[v++],I=o[v++],A=o[v++],R=o[v++],k=o[v++];var H=p?KS(a,x,I,R,r,m):KS(h,C,A,k,r,m);if(H>0)for(var W=0;W<H;W++){var j=m[W];if(j<=1&&j>=0){var N=p?Ao(h,C,A,k,j):Ao(a,x,I,R,j);return p?[r,N]:[N,r]}}a=R,h=k;break}}},t})(vn),YRe=(function(e){qt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})($X),JRe=(function(e){qt(t,e);function t(r){var n=e.call(this,r)||this;return n.type="ec-polygon",n}return t.prototype.getDefaultShape=function(){return new YRe},t.prototype.buildPath=function(r,n){var i=n.points,o=n.stackedOnPoints,s=0,a=i.length/2,h=n.smoothMonotone;if(n.connectNulls){for(;a>0&&Wf(i[a*2-2],i[a*2-1]);a--);for(;s<a&&Wf(i[s*2],i[s*2+1]);s++);}for(;s<a;){var p=yD(r,i,s,a,a,1,n.smooth,h,n.connectNulls);yD(r,o,s+p-1,p,a,-1,n.stackedOnSmooth,h,n.connectNulls),s+=p+1,r.closePath()}},t})(vn);function zX(e,t,r,n,i){var o=e.getArea(),s=o.x,a=o.y,h=o.width,p=o.height,m=r.get(["lineStyle","width"])||0;s-=m/2,a-=m/2,h+=m,p+=m,h=Math.ceil(h),s!==Math.floor(s)&&(s=Math.floor(s),h++);var v=new Oi({shape:{x:s,y:a,width:h,height:p}});if(t){var b=e.getBaseAxis(),x=b.isHorizontal(),C=b.inverse;x?(C&&(v.shape.x+=h),v.shape.width=0):(C||(v.shape.y+=p),v.shape.height=0);var I=br(i)?function(A){i(A,v)}:null;pv(v,{shape:{width:h,height:p,x:s,y:a}},r,null,n,I)}return v}function BX(e,t,r){var n=e.getArea(),i=Hi(n.r0,1),o=Hi(n.r,1),s=new ET({shape:{cx:Hi(e.cx,1),cy:Hi(e.cy,1),r0:i,r:o,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(t){var a=e.getBaseAxis().dim==="angle";a?s.shape.endAngle=n.startAngle:s.shape.r=i,pv(s,{shape:{endAngle:n.endAngle,r:o}},r)}return s}function QRe(e,t,r,n,i){if(e){if(e.type==="polar")return BX(e,t,r);if(e.type==="cartesian2d")return zX(e,t,r,n,i)}else return null;return null}function eOe(e,t){return e.type===t}function s8(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return;return!0}}function l8(e){for(var t=1/0,r=1/0,n=-1/0,i=-1/0,o=0;o<e.length;){var s=e[o++],a=e[o++];isNaN(s)||(t=Math.min(s,t),n=Math.max(s,n)),isNaN(a)||(r=Math.min(a,r),i=Math.max(a,i))}return[[t,r],[n,i]]}function u8(e,t){var r=l8(e),n=r[0],i=r[1],o=l8(t),s=o[0],a=o[1];return Math.max(Math.abs(n[0]-s[0]),Math.abs(n[1]-s[1]),Math.abs(i[0]-a[0]),Math.abs(i[1]-a[1]))}function c8(e){return ni(e)?e:e?.5:0}function tOe(e,t,r){if(!r.valueDim)return[];for(var n=t.count(),i=ug(n*2),o=0;o<n;o++){var s=kX(r,e,t,o);i[o*2]=s[0],i[o*2+1]=s[1]}return i}function yh(e,t,r,n,i){var o=r.getBaseAxis(),s=o.dim==="x"||o.dim==="radius"?0:1,a=[],h=0,p=[],m=[],v=[],b=[];if(i){for(h=0;h<e.length;h+=2){var x=t||e;!isNaN(x[h])&&!isNaN(x[h+1])&&b.push(e[h],e[h+1])}e=b}for(h=0;h<e.length-2;h+=2)switch(v[0]=e[h+2],v[1]=e[h+3],m[0]=e[h],m[1]=e[h+1],a.push(m[0],m[1]),n){case"end":p[s]=v[s],p[1-s]=m[1-s],a.push(p[0],p[1]);break;case"middle":var C=(m[s]+v[s])/2,I=[];p[s]=I[s]=C,p[1-s]=m[1-s],I[1-s]=v[1-s],a.push(p[0],p[1]),a.push(I[0],I[1]);break;default:p[s]=m[s],p[1-s]=v[1-s],a.push(p[0],p[1])}return a.push(e[h++],e[h++]),a}function rOe(e,t){var r=[],n=e.length,i,o;function s(m,v,b){var x=m.coord,C=(b-x)/(v.coord-x),I=sCe(C,[m.color,v.color]);return{coord:b,color:I}}for(var a=0;a<n;a++){var h=e[a],p=h.coord;if(p<0)i=h;else if(p>t){o?r.push(s(o,h,t)):i&&r.push(s(i,h,0),s(i,h,t));break}else i&&(r.push(s(i,h,0)),i=null),r.push(h),o=h}return r}function nOe(e,t,r){var n=e.getVisual("visualMeta");if(!(!n||!n.length||!e.count())&&t.type==="cartesian2d"){for(var i,o,s=n.length-1;s>=0;s--){var a=e.getDimensionInfo(n[s].dimension);if(i=a&&a.coordDim,i==="x"||i==="y"){o=n[s];break}}if(o){var h=t.getAxis(i),p=fr(o.stops,function($){return{coord:h.toGlobalCoord(h.dataToCoord($.value)),color:$.color}}),m=p.length,v=o.outerColors.slice();m&&p[0].coord>p[m-1].coord&&(p.reverse(),v.reverse());var b=rOe(p,i==="x"?r.getWidth():r.getHeight()),x=b.length;if(!x&&m)return p[0].coord<0?v[1]?v[1]:p[m-1].color:v[0]?v[0]:p[0].color;var C=10,I=b[0].coord-C,A=b[x-1].coord+C,R=A-I;if(R<.001)return"transparent";Ve(b,function($){$.offset=($.coord-I)/R}),b.push({offset:x?b[x-1].offset:.5,color:v[1]||"transparent"}),b.unshift({offset:x?b[0].offset:.5,color:v[0]||"transparent"});var k=new wq(0,0,0,0,b,!0);return k[i]=I,k[i+"2"]=A,k}}}function iOe(e,t,r){var n=e.get("showAllSymbol"),i=n==="auto";if(!(n&&!i)){var o=r.getAxesByScale("ordinal")[0];if(o&&!(i&&oOe(o,t))){var s=t.mapDimension(o.dim),a={};return Ve(o.getViewLabels(),function(h){var p=o.scale.getRawOrdinalNumber(h.tickValue);a[p]=1}),function(h){return!a.hasOwnProperty(t.get(s,h))}}}}function oOe(e,t){var r=e.getExtent(),n=Math.abs(r[1]-r[0])/e.scale.count();isNaN(n)&&(n=0);for(var i=t.count(),o=Math.max(1,Math.round(i/5)),s=0;s<i;s+=o)if(QO.getSymbolSize(t,s)[e.isHorizontal()?1:0]*1.5>n)return!1;return!0}function aOe(e,t){return isNaN(e)||isNaN(t)}function sOe(e){for(var t=e.length/2;t>0&&aOe(e[t*2-2],e[t*2-1]);t--);return t-1}function h8(e,t){return[e[t*2],e[t*2+1]]}function lOe(e,t,r){for(var n=e.length/2,i=r==="x"?0:1,o,s,a=0,h=-1,p=0;p<n;p++)if(s=e[p*2+i],!(isNaN(s)||isNaN(e[p*2+1-i]))){if(p===0){o=s;continue}if(o<=t&&s>=t||o>=t&&s<=t){h=p;break}a=p,o=s}return{range:[a,h],t:(t-o)/(s-o)}}function FX(e){if(e.get(["endLabel","show"]))return!0;for(var t=0;t<Gs.length;t++)if(e.get([Gs[t],"endLabel","show"]))return!0;return!1}function VI(e,t,r,n){if(eOe(t,"cartesian2d")){var i=n.getModel("endLabel"),o=i.get("valueAnimation"),s=n.getData(),a={lastFrameIndex:0},h=FX(n)?function(x,C){e._endLabelOnDuring(x,C,s,a,o,i,t)}:null,p=t.getBaseAxis().isHorizontal(),m=zX(t,r,n,function(){var x=e._endLabel;x&&r&&a.originalX!=null&&x.attr({x:a.originalX,y:a.originalY})},h);if(!n.get("clip",!0)){var v=m.shape,b=Math.max(v.width,v.height);p?(v.y-=b,v.height+=b*2):(v.x-=b,v.width+=b*2)}return h&&h(1,m),m}else return BX(t,r,n)}function uOe(e,t){var r=t.getBaseAxis(),n=r.isHorizontal(),i=r.inverse,o=n?i?"right":"left":"center",s=n?"middle":i?"top":"bottom";return{normal:{align:e.get("align")||o,verticalAlign:e.get("verticalAlign")||s}}}var cOe=(function(e){qt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(){var r=new mi,n=new ek;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=r,this._changePolyState=kr(this._changePolyState,this)},t.prototype.render=function(r,n,i){var o=r.coordinateSystem,s=this.group,a=r.getData(),h=r.getModel("lineStyle"),p=r.getModel("areaStyle"),m=a.getLayout("points")||[],v=o.type==="polar",b=this._coordSys,x=this._symbolDraw,C=this._polyline,I=this._polygon,A=this._lineGroup,R=!n.ssr&&r.get("animation"),k=!p.isEmpty(),$=p.get("origin"),N=OX(o,a,$),H=k&&tOe(o,a,N),W=r.get("showSymbol"),j=r.get("connectNulls"),X=W&&!v&&iOe(r,a,o),K=this._data;K&&K.eachItemGraphicEl(function(zt,Ft){zt.__temp&&(s.remove(zt),K.setItemGraphicEl(Ft,null))}),W||x.remove(),s.add(A);var Q=v?!1:r.get("step"),oe;o&&o.getArea&&r.get("clip",!0)&&(oe=o.getArea(),oe.width!=null?(oe.x-=.1,oe.y-=.1,oe.width+=.2,oe.height+=.2):oe.r0&&(oe.r0-=.5,oe.r+=.5)),this._clipShapeForSymbol=oe;var he=nOe(a,o,i)||a.getVisual("style")[a.getVisual("drawType")];if(!(C&&b.type===o.type&&Q===this._step))W&&x.updateData(a,{isIgnore:X,clipShape:oe,disableAnimation:!0,getSymbolPoint:function(zt){return[m[zt*2],m[zt*2+1]]}}),R&&this._initSymbolLabelAnimation(a,o,oe),Q&&(H&&(H=yh(H,m,o,Q,j)),m=yh(m,null,o,Q,j)),C=this._newPolyline(m),k?I=this._newPolygon(m,H):I&&(A.remove(I),I=this._polygon=null),v||this._initOrUpdateEndLabel(r,o,op(he)),A.setClipPath(VI(this,o,!0,r));else{k&&!I?I=this._newPolygon(m,H):I&&!k&&(A.remove(I),I=this._polygon=null),v||this._initOrUpdateEndLabel(r,o,op(he));var ye=A.getClipPath();if(ye){var be=VI(this,o,!1,r);pv(ye,{shape:be.shape},r)}else A.setClipPath(VI(this,o,!0,r));W&&x.updateData(a,{isIgnore:X,clipShape:oe,disableAnimation:!0,getSymbolPoint:function(zt){return[m[zt*2],m[zt*2+1]]}}),(!s8(this._stackedOnPoints,H)||!s8(this._points,m))&&(R?this._doUpdateAnimation(a,H,o,i,Q,$,j):(Q&&(H&&(H=yh(H,m,o,Q,j)),m=yh(m,null,o,Q,j)),C.setShape({points:m}),I&&I.setShape({points:m,stackedOnPoints:H})))}var ce=r.getModel("emphasis"),de=ce.get("focus"),Oe=ce.get("blurScope"),ze=ce.get("disabled");if(C.useStyle(Mn(h.getLineStyle(),{fill:"none",stroke:he,lineJoin:"bevel"})),l6(C,r,"lineStyle"),C.style.lineWidth>0&&r.get(["emphasis","lineStyle","width"])==="bolder"){var De=C.getState("emphasis").style;De.lineWidth=+C.style.lineWidth+1}nn(C).seriesIndex=r.seriesIndex,G0(C,de,Oe,ze);var ct=c8(r.get("smooth")),Ke=r.get("smoothMonotone");if(C.setShape({smooth:ct,smoothMonotone:Ke,connectNulls:j}),I){var gt=a.getCalculationInfo("stackedOnSeries"),Lt=0;I.useStyle(Mn(p.getAreaStyle(),{fill:he,opacity:.7,lineJoin:"bevel",decal:a.getVisual("style").decal})),gt&&(Lt=c8(gt.get("smooth"))),I.setShape({smooth:ct,stackedOnSmooth:Lt,smoothMonotone:Ke,connectNulls:j}),l6(I,r,"areaStyle"),nn(I).seriesIndex=r.seriesIndex,G0(I,de,Oe,ze)}var Nt=this._changePolyState;a.eachItemGraphicEl(function(zt){zt&&(zt.onHoverStateChange=Nt)}),this._polyline.onHoverStateChange=Nt,this._data=a,this._coordSys=o,this._stackedOnPoints=H,this._points=m,this._step=Q,this._valueOrigin=$,r.get("triggerLineEvent")&&(this.packEventData(r,C),I&&this.packEventData(r,I))},t.prototype.packEventData=function(r,n){nn(n).eventData={componentType:"series",componentSubType:"line",componentIndex:r.componentIndex,seriesIndex:r.seriesIndex,seriesName:r.name,seriesType:"line"}},t.prototype.highlight=function(r,n,i,o){var s=r.getData(),a=ip(s,o);if(this._changePolyState("emphasis"),!(a instanceof Array)&&a!=null&&a>=0){var h=s.getLayout("points"),p=s.getItemGraphicEl(a);if(!p){var m=h[a*2],v=h[a*2+1];if(isNaN(m)||isNaN(v)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(m,v))return;var b=r.get("zlevel")||0,x=r.get("z")||0;p=new QO(s,a),p.x=m,p.y=v,p.setZ(b,x);var C=p.getSymbolPath().getTextContent();C&&(C.zlevel=b,C.z=x,C.z2=this._polyline.z2+1),p.__temp=!0,s.setItemGraphicEl(a,p),p.stopSymbolAnimation(!0),this.group.add(p)}p.highlight()}else js.prototype.highlight.call(this,r,n,i,o)},t.prototype.downplay=function(r,n,i,o){var s=r.getData(),a=ip(s,o);if(this._changePolyState("normal"),a!=null&&a>=0){var h=s.getItemGraphicEl(a);h&&(h.__temp?(s.setItemGraphicEl(a,null),this.group.remove(h)):h.downplay())}else js.prototype.downplay.call(this,r,n,i,o)},t.prototype._changePolyState=function(r){var n=this._polygon;n6(this._polyline,r),n&&n6(n,r)},t.prototype._newPolyline=function(r){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new KRe({shape:{points:r},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},t.prototype._newPolygon=function(r,n){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new JRe({shape:{points:r,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},t.prototype._initSymbolLabelAnimation=function(r,n,i){var o,s,a=n.getBaseAxis(),h=a.inverse;n.type==="cartesian2d"?(o=a.isHorizontal(),s=!1):n.type==="polar"&&(o=a.dim==="angle",s=!0);var p=r.hostModel,m=p.get("animationDuration");br(m)&&(m=m(null));var v=p.get("animationDelay")||0,b=br(v)?v(null):v;r.eachItemGraphicEl(function(x,C){var I=x;if(I){var A=[x.x,x.y],R=void 0,k=void 0,$=void 0;if(i)if(s){var N=i,H=n.pointToCoord(A);o?(R=N.startAngle,k=N.endAngle,$=-H[1]/180*Math.PI):(R=N.r0,k=N.r,$=H[0])}else{var W=i;o?(R=W.x,k=W.x+W.width,$=x.x):(R=W.y+W.height,k=W.y,$=x.y)}var j=k===R?0:($-R)/(k-R);h&&(j=1-j);var X=br(v)?v(C):m*j+b,K=I.getSymbolPath(),Q=K.getTextContent();I.attr({scaleX:0,scaleY:0}),I.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:X}),Q&&Q.animateFrom({style:{opacity:0}},{duration:300,delay:X}),K.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(r,n,i){var o=r.getModel("endLabel");if(FX(r)){var s=r.getData(),a=this._polyline,h=s.getLayout("points");if(!h){a.removeTextContent(),this._endLabel=null;return}var p=this._endLabel;p||(p=this._endLabel=new $o({z2:200}),p.ignoreClip=!0,a.setTextContent(this._endLabel),a.disableLabelAnimation=!0);var m=sOe(h);m>=0&&($T(a,Db(r,"endLabel"),{inheritColor:i,labelFetcher:r,labelDataIndex:m,defaultText:function(v,b,x){return x!=null?URe(s,x):RX(s,v)},enableTextSetter:!0},uOe(o,n)),a.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(r,n,i,o,s,a,h){var p=this._endLabel,m=this._polyline;if(p){r<1&&o.originalX==null&&(o.originalX=p.x,o.originalY=p.y);var v=i.getLayout("points"),b=i.hostModel,x=b.get("connectNulls"),C=a.get("precision"),I=a.get("distance")||0,A=h.getBaseAxis(),R=A.isHorizontal(),k=A.inverse,$=n.shape,N=k?R?$.x:$.y+$.height:R?$.x+$.width:$.y,H=(R?I:0)*(k?-1:1),W=(R?0:-I)*(k?-1:1),j=R?"x":"y",X=lOe(v,N,j),K=X.range,Q=K[1]-K[0],oe=void 0;if(Q>=1){if(Q>1&&!x){var he=h8(v,K[0]);p.attr({x:he[0]+H,y:he[1]+W}),s&&(oe=b.getRawValue(K[0]))}else{var he=m.getPointOn(N,j);he&&p.attr({x:he[0]+H,y:he[1]+W});var ye=b.getRawValue(K[0]),be=b.getRawValue(K[1]);s&&(oe=lPe(i,C,ye,be,X.t))}o.lastFrameIndex=K[0]}else{var ce=r===1||o.lastFrameIndex>0?K[0]:0,he=h8(v,ce);s&&(oe=b.getRawValue(ce)),p.attr({x:he[0]+H,y:he[1]+W})}if(s){var de=Aq(p);typeof de.setLabelText=="function"&&de.setLabelText(oe)}}},t.prototype._doUpdateAnimation=function(r,n,i,o,s,a,h){var p=this._polyline,m=this._polygon,v=r.hostModel,b=XRe(this._data,r,this._stackedOnPoints,n,this._coordSys,i,this._valueOrigin),x=b.current,C=b.stackedOnCurrent,I=b.next,A=b.stackedOnNext;if(s&&(C=yh(b.stackedOnCurrent,b.current,i,s,h),x=yh(b.current,null,i,s,h),A=yh(b.stackedOnNext,b.next,i,s,h),I=yh(b.next,null,i,s,h)),u8(x,I)>3e3||m&&u8(C,A)>3e3){p.stopAnimation(),p.setShape({points:I}),m&&(m.stopAnimation(),m.setShape({points:I,stackedOnPoints:A}));return}p.shape.__points=b.current,p.shape.points=x;var R={shape:{points:I}};b.current!==x&&(R.shape.__points=b.next),p.stopAnimation(),vu(p,R,v),m&&(m.setShape({points:x,stackedOnPoints:C}),m.stopAnimation(),vu(m,{shape:{stackedOnPoints:A}},v),p.shape.points!==m.shape.points&&(m.shape.points=p.shape.points));for(var k=[],$=b.status,N=0;N<$.length;N++){var H=$[N].cmd;if(H==="="){var W=r.getItemGraphicEl($[N].idx1);W&&k.push({el:W,ptIdx:N})}}p.animators&&p.animators.length&&p.animators[0].during(function(){m&&m.dirtyShape();for(var j=p.shape.__points,X=0;X<k.length;X++){var K=k[X].el,Q=k[X].ptIdx*2;K.x=j[Q],K.y=j[Q+1],K.markRedraw()}})},t.prototype.remove=function(r){var n=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(o,s){o.__temp&&(n.remove(o),i.setItemGraphicEl(s,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t})(js);function tk(e,t){return{seriesType:e,plan:DO(),reset:function(r){var n=r.getData(),i=r.coordinateSystem,o=r.pipelineContext,s=t||o.large;if(i){var a=fr(i.dimensions,function(x){return n.mapDimension(x)}).slice(0,2),h=a.length,p=n.getCalculationInfo("stackResultDimension");tv(n,a[0])&&(a[0]=p),tv(n,a[1])&&(a[1]=p);var m=n.getStore(),v=n.getDimensionIndex(a[0]),b=n.getDimensionIndex(a[1]);return h&&{progress:function(x,C){for(var I=x.end-x.start,A=s&&ug(I*h),R=[],k=[],$=x.start,N=0;$<x.end;$++){var H=void 0;if(h===1){var W=m.get(v,$);H=i.dataToPoint(W,null,k)}else R[0]=m.get(v,$),R[1]=m.get(b,$),H=i.dataToPoint(R,null,k);s?(A[N++]=H[0],A[N++]=H[1]):C.setItemLayout($,H.slice())}s&&C.setLayout("points",A)}}}}}}var hOe={average:function(e){for(var t=0,r=0,n=0;n<e.length;n++)isNaN(e[n])||(t+=e[n],r++);return r===0?NaN:t/r},sum:function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r]||0;return t},max:function(e){for(var t=-1/0,r=0;r<e.length;r++)e[r]>t&&(t=e[r]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,r=0;r<e.length;r++)e[r]<t&&(t=e[r]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}},dOe=function(e){return Math.round(e.length/2)};function fOe(e){return{seriesType:e,reset:function(t,r,n){var i=t.getData(),o=t.get("sampling"),s=t.coordinateSystem,a=i.count();if(a>10&&s.type==="cartesian2d"&&o){var h=s.getBaseAxis(),p=s.getOtherAxis(h),m=h.getExtent(),v=n.getDevicePixelRatio(),b=Math.abs(m[1]-m[0])*(v||1),x=Math.round(a/b);if(isFinite(x)&&x>1){o==="lttb"?t.setData(i.lttbDownSample(i.mapDimension(p.dim),1/x)):o==="minmax"&&t.setData(i.minmaxDownSample(i.mapDimension(p.dim),1/x));var C=void 0;cr(o)?C=hOe[o]:br(o)&&(C=o),C&&t.setData(i.downSample(i.mapDimension(p.dim),1/x,C,dOe))}}}}}function pOe(e){e.registerChartView(cOe),e.registerSeriesModel(GRe),e.registerLayout(tk("line",!0)),e.registerVisual({seriesType:"line",reset:function(t){var r=t.getData(),n=t.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=r.getVisual("style").fill),r.setVisual("legendLineStyle",n)}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,fOe("line"))}var mOe=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r}return t.prototype.getInitialData=function(r,n){return QZ(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var r=this.option.progressive;return r??(this.option.large?5e3:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;return r??(this.option.large?1e4:this.get("progressiveThreshold"))},t.prototype.brushSelector=function(r,n,i){return i.point(n.getItemLayout(r))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t})(yu),NX=4,gOe=(function(){function e(){}return e})(),vOe=(function(e){qt(t,e);function t(r){var n=e.call(this,r)||this;return n._off=0,n.hoverDataIdx=-1,n}return t.prototype.getDefaultShape=function(){return new gOe},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(r,n){var i=n.points,o=n.size,s=this.symbolProxy,a=s.shape,h=r.getContext?r.getContext():r,p=h&&o[0]<NX,m=this.softClipShape,v;if(p){this._ctx=h;return}for(this._ctx=null,v=this._off;v<i.length;){var b=i[v++],x=i[v++];isNaN(b)||isNaN(x)||m&&!m.contain(b,x)||(a.x=b-o[0]/2,a.y=x-o[1]/2,a.width=o[0],a.height=o[1],s.buildPath(r,a,!0))}this.incremental&&(this._off=v,this.notClear=!0)},t.prototype.afterBrush=function(){var r=this.shape,n=r.points,i=r.size,o=this._ctx,s=this.softClipShape,a;if(o){for(a=this._off;a<n.length;){var h=n[a++],p=n[a++];isNaN(h)||isNaN(p)||s&&!s.contain(h,p)||o.fillRect(h-i[0]/2,p-i[1]/2,i[0],i[1])}this.incremental&&(this._off=a,this.notClear=!0)}},t.prototype.findDataIndex=function(r,n){for(var i=this.shape,o=i.points,s=i.size,a=Math.max(s[0],4),h=Math.max(s[1],4),p=o.length/2-1;p>=0;p--){var m=p*2,v=o[m]-a/2,b=o[m+1]-h/2;if(r>=v&&n>=b&&r<=v+a&&n<=b+h)return p}return-1},t.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),o=this.getBoundingRect();if(r=i[0],n=i[1],o.contain(r,n)){var s=this.hoverDataIdx=this.findDataIndex(r,n);return s>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var r=this._rect;if(!r){for(var n=this.shape,i=n.points,o=n.size,s=o[0],a=o[1],h=1/0,p=1/0,m=-1/0,v=-1/0,b=0;b<i.length;){var x=i[b++],C=i[b++];h=Math.min(x,h),m=Math.max(x,m),p=Math.min(C,p),v=Math.max(C,v)}r=this._rect=new ln(h-s/2,p-a/2,m-h+s,v-p+a)}return r},t})(vn),yOe=(function(){function e(){this.group=new mi}return e.prototype.updateData=function(t,r){this._clear();var n=this._create();n.setShape({points:t.getLayout("points")}),this._setCommon(n,t,r)},e.prototype.updateLayout=function(t){var r=t.getLayout("points");this.group.eachChild(function(n){if(n.startIndex!=null){var i=(n.endIndex-n.startIndex)*2,o=n.startIndex*4*2;r=new Float32Array(r.buffer,o,i)}n.setShape("points",r),n.reset()})},e.prototype.incrementalPrepareUpdate=function(t){this._clear()},e.prototype.incrementalUpdate=function(t,r,n){var i=this._newAdded[0],o=r.getLayout("points"),s=i&&i.shape.points;if(s&&s.length<2e4){var a=s.length,h=new Float32Array(a+o.length);h.set(s),h.set(o,a),i.endIndex=t.end,i.setShape({points:h})}else{this._newAdded=[];var p=this._create();p.startIndex=t.start,p.endIndex=t.end,p.incremental=!0,p.setShape({points:o}),this._setCommon(p,r,n)}},e.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},e.prototype._create=function(){var t=new vOe({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},e.prototype._setCommon=function(t,r,n){var i=r.hostModel;n=n||{};var o=r.getVisual("symbolSize");t.setShape("size",o instanceof Array?o:[o,o]),t.softClipShape=n.clipShape||null,t.symbolProxy=Cl(r.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var s=t.shape.size[0]<NX;t.useStyle(i.getModel("itemStyle").getItemStyle(s?["color","shadowBlur","shadowColor"]:["color"]));var a=r.getVisual("style"),h=a&&a.fill;h&&t.setColor(h);var p=nn(t);p.seriesIndex=i.seriesIndex,t.on("mousemove",function(m){p.dataIndex=null;var v=t.hoverDataIdx;v>=0&&(p.dataIndex=v+(t.startIndex||0))})},e.prototype.remove=function(){this._clear()},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e})(),_Oe=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var o=r.getData(),s=this._updateSymbolDraw(o,r);s.updateData(o,{clipShape:this._getClipShape(r)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(r,n,i){var o=r.getData(),s=this._updateSymbolDraw(o,r);s.incrementalPrepareUpdate(o),this._finished=!1},t.prototype.incrementalRender=function(r,n,i){this._symbolDraw.incrementalUpdate(r,n.getData(),{clipShape:this._getClipShape(n)}),this._finished=r.end===n.getData().count()},t.prototype.updateTransform=function(r,n,i){var o=r.getData();if(this.group.dirty(),!this._finished||o.count()>1e4)return{update:!0};var s=tk("").reset(r,n,i);s.progress&&s.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout(o)},t.prototype.eachRendered=function(r){this._symbolDraw&&this._symbolDraw.eachRendered(r)},t.prototype._getClipShape=function(r){if(r.get("clip",!0)){var n=r.coordinateSystem;return n&&n.getArea&&n.getArea(.1)}},t.prototype._updateSymbolDraw=function(r,n){var i=this._symbolDraw,o=n.pipelineContext,s=o.large;return(!i||s!==this._isLargeDraw)&&(i&&i.remove(),i=this._symbolDraw=s?new yOe:new ek,this._isLargeDraw=s,this.group.removeAll()),this.group.add(i.group),i},t.prototype.remove=function(r,n){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t})(js),bOe=(function(e){qt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t})(mn),_D=(function(e){qt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Da).models[0]},t.type="cartesian2dAxis",t})(mn);Il(_D,ALe);var VX={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},xOe=an({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},VX),rk=an({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},VX),wOe=an({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},rk),SOe=Mn({logBase:10},rk);const TOe={category:xOe,value:rk,time:wOe,log:SOe};var COe={value:1,category:1,time:1,log:1};function d8(e,t,r,n){Ve(COe,function(i,o){var s=an(an({},TOe[o],!0),n,!0),a=(function(h){qt(p,h);function p(){var m=h!==null&&h.apply(this,arguments)||this;return m.type=t+"Axis."+o,m}return p.prototype.mergeDefaultAndTheme=function(m,v){var b=Z0(this),x=b?Lb(m):{},C=v.getTheme();an(m,C.get(o+"Axis")),an(m,this.getDefaultOption()),m.type=f8(m),b&&Qg(m,x,b)},p.prototype.optionUpdated=function(){var m=this.option;m.type==="category"&&(this.__ordinalMeta=hD.createByAxisModel(this))},p.prototype.getCategories=function(m){var v=this.option;if(v.type==="category")return m?v.data:this.__ordinalMeta.categories},p.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},p.type=t+"Axis."+o,p.defaultOption=s,p})(r);e.registerComponentModel(a)}),e.registerSubTypeDefaulter(t+"Axis",f8)}function f8(e){return e.type||(e.data?"category":"value")}var POe=(function(){function e(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return e.prototype.getAxis=function(t){return this._axes[t]},e.prototype.getAxes=function(){return fr(this._dimList,function(t){return this._axes[t]},this)},e.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),ao(this.getAxes(),function(r){return r.scale.type===t})},e.prototype.addAxis=function(t){var r=t.dim;this._axes[r]=t,this._dimList.push(r)},e})(),bD=["x","y"];function p8(e){return e.type==="interval"||e.type==="time"}var MOe=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="cartesian2d",r.dimensions=bD,r}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var r=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!p8(r)||!p8(n))){var i=r.getExtent(),o=n.getExtent(),s=this.dataToPoint([i[0],o[0]]),a=this.dataToPoint([i[1],o[1]]),h=i[1]-i[0],p=o[1]-o[0];if(!(!h||!p)){var m=(a[0]-s[0])/h,v=(a[1]-s[1])/p,b=s[0]-i[0]*m,x=s[1]-o[0]*v,C=this._transform=[m,0,0,v,b,x];this._invTransform=KR([],C)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(r){var n=this.getAxis("x"),i=this.getAxis("y");return n.contain(n.toLocalCoord(r[0]))&&i.contain(i.toLocalCoord(r[1]))},t.prototype.containData=function(r){return this.getAxis("x").containData(r[0])&&this.getAxis("y").containData(r[1])},t.prototype.containZone=function(r,n){var i=this.dataToPoint(r),o=this.dataToPoint(n),s=this.getArea(),a=new ln(i[0],i[1],o[0]-i[0],o[1]-i[1]);return s.intersect(a)},t.prototype.dataToPoint=function(r,n,i){i=i||[];var o=r[0],s=r[1];if(this._transform&&o!=null&&isFinite(o)&&s!=null&&isFinite(s))return Vs(i,r,this._transform);var a=this.getAxis("x"),h=this.getAxis("y");return i[0]=a.toGlobalCoord(a.dataToCoord(o,n)),i[1]=h.toGlobalCoord(h.dataToCoord(s,n)),i},t.prototype.clampData=function(r,n){var i=this.getAxis("x").scale,o=this.getAxis("y").scale,s=i.getExtent(),a=o.getExtent(),h=i.parse(r[0]),p=o.parse(r[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(s[0],s[1]),h),Math.max(s[0],s[1])),n[1]=Math.min(Math.max(Math.min(a[0],a[1]),p),Math.max(a[0],a[1])),n},t.prototype.pointToData=function(r,n){var i=[];if(this._invTransform)return Vs(i,r,this._invTransform);var o=this.getAxis("x"),s=this.getAxis("y");return i[0]=o.coordToData(o.toLocalCoord(r[0]),n),i[1]=s.coordToData(s.toLocalCoord(r[1]),n),i},t.prototype.getOtherAxis=function(r){return this.getAxis(r.dim==="x"?"y":"x")},t.prototype.getArea=function(r){r=r||0;var n=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),o=Math.min(n[0],n[1])-r,s=Math.min(i[0],i[1])-r,a=Math.max(n[0],n[1])-o+r,h=Math.max(i[0],i[1])-s+r;return new ln(o,s,a,h)},t})(POe),IOe=(function(e){qt(t,e);function t(r,n,i,o,s){var a=e.call(this,r,n,i)||this;return a.index=0,a.type=o||"value",a.position=s||"bottom",a}return t.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},t.prototype.getGlobalExtent=function(r){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),r&&n[0]>n[1]&&n.reverse(),n},t.prototype.pointToData=function(r,n){return this.coordToData(this.toLocalCoord(r[this.dim==="x"?0:1]),n)},t.prototype.setCategorySortInfo=function(r){if(this.type!=="category")return!1;this.model.option.categorySortInfo=r,this.scale.setSortInfo(r)},t})(NLe);function xD(e,t,r){r=r||{};var n=e.coordinateSystem,i=t.axis,o={},s=i.getAxesOnZeroOf()[0],a=i.position,h=s?"onZero":a,p=i.dim,m=n.getRect(),v=[m.x,m.x+m.width,m.y,m.y+m.height],b={left:0,right:1,top:0,bottom:1,onZero:2},x=t.get("offset")||0,C=p==="x"?[v[2]-x,v[3]+x]:[v[0]-x,v[1]+x];if(s){var I=s.toGlobalCoord(s.dataToCoord(0));C[b.onZero]=Math.max(Math.min(I,C[1]),C[0])}o.position=[p==="y"?C[b[h]]:v[0],p==="x"?C[b[h]]:v[3]],o.rotation=Math.PI/2*(p==="x"?0:1);var A={top:-1,bottom:1,left:-1,right:1};o.labelDirection=o.tickDirection=o.nameDirection=A[a],o.labelOffset=s?C[b[a]]-C[b.onZero]:0,t.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),Kg(r.labelInside,t.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var R=t.get(["axisLabel","rotate"]);return o.labelRotate=h==="top"?-R:R,o.z2=1,o}function m8(e){return e.get("coordinateSystem")==="cartesian2d"}function g8(e){var t={xAxisModel:null,yAxisModel:null};return Ve(t,function(r,n){var i=n.replace(/Model$/,""),o=e.getReferringComponents(i,Da).models[0];t[n]=o}),t}var jI=Math.log;function EOe(e,t,r){var n=gv.prototype,i=n.getTicks.call(r),o=n.getTicks.call(r,!0),s=i.length-1,a=n.getInterval.call(r),h=aX(e,t),p=h.extent,m=h.fixMin,v=h.fixMax;if(e.type==="log"){var b=jI(e.base);p=[jI(p[0])/b,jI(p[1])/b]}e.setExtent(p[0],p[1]),e.calcNiceExtent({splitNumber:s,fixMin:m,fixMax:v});var x=n.getExtent.call(e);m&&(p[0]=x[0]),v&&(p[1]=x[1]);var C=n.getInterval.call(e),I=p[0],A=p[1];if(m&&v)C=(A-I)/s;else if(m)for(A=p[0]+C*s;A<p[1]&&isFinite(A)&&isFinite(p[1]);)C=RI(C),A=p[0]+C*s;else if(v)for(I=p[1]-C*s;I>p[0]&&isFinite(I)&&isFinite(p[0]);)C=RI(C),I=p[1]-C*s;else{var R=e.getTicks().length-1;R>s&&(C=RI(C));var k=C*s;A=Math.ceil(p[1]/C)*C,I=Hi(A-k),I<0&&p[0]>=0?(I=0,A=Hi(k)):A>0&&p[1]<=0&&(A=0,I=-Hi(k))}var $=(i[0].value-o[0].value)/a,N=(i[s].value-o[s].value)/a;n.setExtent.call(e,I+C*$,A+C*N),n.setInterval.call(e,C),($||N)&&n.setNiceExtent.call(e,I+C,A-C)}var AOe=(function(){function e(t,r,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=bD,this._initCartesian(t,r,n),this.model=t}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(t,r){var n=this._axesMap;this._updateScale(t,this.model);function i(s){var a,h=on(s),p=h.length;if(p){for(var m=[],v=p-1;v>=0;v--){var b=+h[v],x=s[b],C=x.model,I=x.scale;dD(I)&&C.get("alignTicks")&&C.get("interval")==null?m.push(x):(BN(I,C),dD(I)&&(a=x))}m.length&&(a||(a=m.pop(),BN(a.scale,a.model)),Ve(m,function(A){EOe(A.scale,A.model,a.scale)}))}}i(n.x),i(n.y);var o={};Ve(n.x,function(s){v8(n,"y",s,o)}),Ve(n.y,function(s){v8(n,"x",s,o)}),this.resize(this.model,r)},e.prototype.resize=function(t,r,n){var i=t.getBoxLayoutParams(),o=!n&&t.get("containLabel"),s=Jg(i,{width:r.getWidth(),height:r.getHeight()});this._rect=s;var a=this._axesList;h(),o&&(Ve(a,function(p){if(!p.model.get(["axisLabel","inside"])){var m=MLe(p);if(m){var v=p.isHorizontal()?"height":"width",b=p.model.get(["axisLabel","margin"]);s[v]-=m[v]+b,p.position==="top"?s.y+=m.height+b:p.position==="left"&&(s.x+=m.width+b)}}}),h()),Ve(this._coordsList,function(p){p.calcAffineTransform()});function h(){Ve(a,function(p){var m=p.isHorizontal(),v=m?[0,s.width]:[0,s.height],b=p.inverse?1:0;p.setExtent(v[b],v[1-b]),DOe(p,m?s.x:s.y)})}},e.prototype.getAxis=function(t,r){var n=this._axesMap[t];if(n!=null)return n[r||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(t,r){if(t!=null&&r!=null){var n="x"+t+"y"+r;return this._coordsMap[n]}Sr(t)&&(r=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,o=this._coordsList;i<o.length;i++)if(o[i].getAxis("x").index===t||o[i].getAxis("y").index===r)return o[i]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(t,r,n){var i=this._findConvertTarget(r);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},e.prototype.convertFromPixel=function(t,r,n){var i=this._findConvertTarget(r);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},e.prototype._findConvertTarget=function(t){var r=t.seriesModel,n=t.xAxisModel||r&&r.getReferringComponents("xAxis",Da).models[0],i=t.yAxisModel||r&&r.getReferringComponents("yAxis",Da).models[0],o=t.gridModel,s=this._coordsList,a,h;if(r)a=r.coordinateSystem,sn(s,a)<0&&(a=null);else if(n&&i)a=this.getCartesian(n.componentIndex,i.componentIndex);else if(n)h=this.getAxis("x",n.componentIndex);else if(i)h=this.getAxis("y",i.componentIndex);else if(o){var p=o.coordinateSystem;p===this&&(a=this._coordsList[0])}return{cartesian:a,axis:h}},e.prototype.containPoint=function(t){var r=this._coordsList[0];if(r)return r.containPoint(t)},e.prototype._initCartesian=function(t,r,n){var i=this,o=this,s={left:!1,right:!1,top:!1,bottom:!1},a={x:{},y:{}},h={x:0,y:0};if(r.eachComponent("xAxis",p("x"),this),r.eachComponent("yAxis",p("y"),this),!h.x||!h.y){this._axesMap={},this._axesList=[];return}this._axesMap=a,Ve(a.x,function(m,v){Ve(a.y,function(b,x){var C="x"+v+"y"+x,I=new MOe(C);I.master=i,I.model=t,i._coordsMap[C]=I,i._coordsList.push(I),I.addAxis(m),I.addAxis(b)})});function p(m){return function(v,b){if(HI(v,t)){var x=v.get("position");m==="x"?x!=="top"&&x!=="bottom"&&(x=s.bottom?"top":"bottom"):x!=="left"&&x!=="right"&&(x=s.left?"right":"left"),s[x]=!0;var C=new IOe(m,CLe(v),[0,0],v.get("type"),x),I=C.type==="category";C.onBand=I&&v.get("boundaryGap"),C.inverse=v.get("inverse"),v.axis=C,C.model=v,C.grid=o,C.index=b,o._axesList.push(C),a[m][b]=C,h[m]++}}}},e.prototype._updateScale=function(t,r){Ve(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var o=i.model.get("categorySortInfo");i.scale.setSortInfo(o)}}),t.eachSeries(function(i){if(m8(i)){var o=g8(i),s=o.xAxisModel,a=o.yAxisModel;if(!HI(s,r)||!HI(a,r))return;var h=this.getCartesian(s.componentIndex,a.componentIndex),p=i.getData(),m=h.getAxis("x"),v=h.getAxis("y");n(p,m),n(p,v)}},this);function n(i,o){Ve(lX(i,o.dim),function(s){o.scale.unionExtentFromData(i,s)})}},e.prototype.getTooltipAxes=function(t){var r=[],n=[];return Ve(this.getCartesians(),function(i){var o=t!=null&&t!=="auto"?i.getAxis(t):i.getBaseAxis(),s=i.getOtherAxis(o);sn(r,o)<0&&r.push(o),sn(n,s)<0&&n.push(s)}),{baseAxes:r,otherAxes:n}},e.create=function(t,r){var n=[];return t.eachComponent("grid",function(i,o){var s=new e(i,t,r);s.name="grid_"+o,s.resize(i,r,!0),i.coordinateSystem=s,n.push(s)}),t.eachSeries(function(i){if(m8(i)){var o=g8(i),s=o.xAxisModel,a=o.yAxisModel,h=s.getCoordSysModel(),p=h.coordinateSystem;i.coordinateSystem=p.getCartesian(s.componentIndex,a.componentIndex)}}),n},e.dimensions=bD,e})();function HI(e,t){return e.getCoordSysModel()===t}function v8(e,t,r,n){r.getAxesOnZeroOf=function(){return o?[o]:[]};var i=e[t],o,s=r.model,a=s.get(["axisLine","onZero"]),h=s.get(["axisLine","onZeroAxisIndex"]);if(!a)return;if(h!=null)y8(i[h])&&(o=i[h]);else for(var p in i)if(i.hasOwnProperty(p)&&y8(i[p])&&!n[m(i[p])]){o=i[p];break}o&&(n[m(o)]=!0);function m(v){return v.dim+"_"+v.index}}function y8(e){return e&&e.type!=="category"&&e.type!=="time"&&PLe(e)}function DOe(e,t){var r=e.getExtent(),n=r[0]+r[1];e.toGlobalCoord=e.dim==="x"?function(i){return i+t}:function(i){return n-i+t},e.toLocalCoord=e.dim==="x"?function(i){return i-t}:function(i){return n-i+t}}var Rh=Math.PI,jh=(function(){function e(t,r){this.group=new mi,this.opt=r,this.axisModel=t,Mn(r,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new mi({x:r.position[0],y:r.position[1],rotation:r.rotation});n.updateTransform(),this._transformGroup=n}return e.prototype.hasBuilder=function(t){return!!_8[t]},e.prototype.add=function(t){_8[t](this.opt,this.axisModel,this.group,this._transformGroup)},e.prototype.getGroup=function(){return this.group},e.innerTextLayout=function(t,r,n){var i=VW(r-t),o,s;return r2(i)?(s=n>0?"top":"bottom",o="center"):r2(i-Rh)?(s=n>0?"bottom":"top",o="center"):(s="middle",i>0&&i<Rh?o=n>0?"right":"left":o=n>0?"left":"right"),{rotation:i,textAlign:o,textVerticalAlign:s}},e.makeAxisEventDataBase=function(t){var r={componentType:t.mainType,componentIndex:t.componentIndex};return r[t.mainType+"Index"]=t.componentIndex,r},e.isLabelSilent=function(t){var r=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||r&&r.show)},e})(),_8={axisLine:function(e,t,r,n){var i=t.get(["axisLine","show"]);if(i==="auto"&&e.handleAutoShown&&(i=e.handleAutoShown("axisLine")),!!i){var o=t.axis.getExtent(),s=n.transform,a=[o[0],0],h=[o[1],0],p=a[0]>h[0];s&&(Vs(a,a,s),Vs(h,h,s));var m=Kt({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),v=new Cc({shape:{x1:a[0],y1:a[1],x2:h[0],y2:h[1]},style:m,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1});U0(v.shape,v.style.lineWidth),v.anid="line",r.add(v);var b=t.get(["axisLine","symbol"]);if(b!=null){var x=t.get(["axisLine","symbolSize"]);cr(b)&&(b=[b,b]),(cr(x)||ni(x))&&(x=[x,x]);var C=qT(t.get(["axisLine","symbolOffset"])||0,x),I=x[0],A=x[1];Ve([{rotate:e.rotation+Math.PI/2,offset:C[0],r:0},{rotate:e.rotation-Math.PI/2,offset:C[1],r:Math.sqrt((a[0]-h[0])*(a[0]-h[0])+(a[1]-h[1])*(a[1]-h[1]))}],function(R,k){if(b[k]!=="none"&&b[k]!=null){var $=Cl(b[k],-I/2,-A/2,I,A,m.stroke,!0),N=R.r+R.offset,H=p?h:a;$.attr({rotation:R.rotate,x:H[0]+N*Math.cos(e.rotation),y:H[1]-N*Math.sin(e.rotation),silent:!0,z2:11}),r.add($)}})}}},axisTickLabel:function(e,t,r,n){var i=OOe(r,n,t,e),o=$Oe(r,n,t,e);if(ROe(t,o,i),kOe(r,n,t,e.tickDirection),t.get(["axisLabel","hideOverlap"])){var s=jLe(fr(o,function(a){return{label:a,priority:a.z2,defaultAttr:{ignore:a.ignore}}}));HLe(s)}},axisName:function(e,t,r,n){var i=Kg(e.axisName,t.get("name"));if(i){var o=t.get("nameLocation"),s=e.nameDirection,a=t.getModel("nameTextStyle"),h=t.get("nameGap")||0,p=t.axis.getExtent(),m=p[0]>p[1]?-1:1,v=[o==="start"?p[0]-m*h:o==="end"?p[1]+m*h:(p[0]+p[1])/2,x8(o)?e.labelOffset+s*h:0],b,x=t.get("nameRotate");x!=null&&(x=x*Rh/180);var C;x8(o)?b=jh.innerTextLayout(e.rotation,x??e.rotation,s):(b=LOe(e.rotation,o,x||0,p),C=e.axisNameAvailableWidth,C!=null&&(C=Math.abs(C/Math.sin(b.rotation)),!isFinite(C)&&(C=null)));var I=a.getFont(),A=t.get("nameTruncate",!0)||{},R=A.ellipsis,k=Kg(e.nameTruncateMaxWidth,A.maxWidth,C),$=new $o({x:v[0],y:v[1],rotation:b.rotation,silent:jh.isLabelSilent(t),style:Pc(a,{text:i,font:I,overflow:"truncate",width:k,ellipsis:R,fill:a.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:a.get("align")||b.textAlign,verticalAlign:a.get("verticalAlign")||b.textVerticalAlign}),z2:1});if(RT({el:$,componentModel:t,itemName:i}),$.__fullText=i,$.anid="name",t.get("triggerEvent")){var N=jh.makeAxisEventDataBase(t);N.targetType="axisName",N.name=i,nn($).eventData=N}n.add($),$.updateTransform(),r.add($),$.decomposeTransform()}}};function LOe(e,t,r,n){var i=VW(r-e),o,s,a=n[0]>n[1],h=t==="start"&&!a||t!=="start"&&a;return r2(i-Rh/2)?(s=h?"bottom":"top",o="center"):r2(i-Rh*1.5)?(s=h?"top":"bottom",o="center"):(s="middle",i<Rh*1.5&&i>Rh/2?o=h?"left":"right":o=h?"right":"left"),{rotation:i,textAlign:o,textVerticalAlign:s}}function ROe(e,t,r){if(!sX(e.axis)){var n=e.get(["axisLabel","showMinLabel"]),i=e.get(["axisLabel","showMaxLabel"]);t=t||[],r=r||[];var o=t[0],s=t[1],a=t[t.length-1],h=t[t.length-2],p=r[0],m=r[1],v=r[r.length-1],b=r[r.length-2];n===!1?(Ms(o),Ms(p)):b8(o,s)&&(n?(Ms(s),Ms(m)):(Ms(o),Ms(p))),i===!1?(Ms(a),Ms(v)):b8(h,a)&&(i?(Ms(h),Ms(b)):(Ms(a),Ms(v)))}}function Ms(e){e&&(e.ignore=!0)}function b8(e,t){var r=e&&e.getBoundingRect().clone(),n=t&&t.getBoundingRect().clone();if(!(!r||!n)){var i=ZR([]);return XR(i,i,-e.rotation),r.applyTransform(Pg([],i,e.getLocalTransform())),n.applyTransform(Pg([],i,t.getLocalTransform())),r.intersect(n)}}function x8(e){return e==="middle"||e==="center"}function jX(e,t,r,n,i){for(var o=[],s=[],a=[],h=0;h<e.length;h++){var p=e[h].coord;s[0]=p,s[1]=0,a[0]=p,a[1]=r,t&&(Vs(s,s,t),Vs(a,a,t));var m=new Cc({shape:{x1:s[0],y1:s[1],x2:a[0],y2:a[1]},style:n,z2:2,autoBatch:!0,silent:!0});U0(m.shape,m.style.lineWidth),m.anid=i+"_"+e[h].tickValue,o.push(m)}return o}function OOe(e,t,r,n){var i=r.axis,o=r.getModel("axisTick"),s=o.get("show");if(s==="auto"&&n.handleAutoShown&&(s=n.handleAutoShown("axisTick")),!(!s||i.scale.isBlank())){for(var a=o.getModel("lineStyle"),h=n.tickDirection*o.get("length"),p=i.getTicksCoords(),m=jX(p,t.transform,h,Mn(a.getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}),"ticks"),v=0;v<m.length;v++)e.add(m[v]);return m}}function kOe(e,t,r,n){var i=r.axis,o=r.getModel("minorTick");if(!(!o.get("show")||i.scale.isBlank())){var s=i.getMinorTicksCoords();if(s.length)for(var a=o.getModel("lineStyle"),h=n*o.get("length"),p=Mn(a.getLineStyle(),Mn(r.getModel("axisTick").getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])})),m=0;m<s.length;m++)for(var v=jX(s[m],t.transform,h,p,"minorticks_"+m),b=0;b<v.length;b++)e.add(v[b])}}function $Oe(e,t,r,n){var i=r.axis,o=Kg(n.axisLabelShow,r.get(["axisLabel","show"]));if(!(!o||i.scale.isBlank())){var s=r.getModel("axisLabel"),a=s.get("margin"),h=i.getViewLabels(),p=(Kg(n.labelRotate,s.get("rotate"))||0)*Rh/180,m=jh.innerTextLayout(n.rotation,p,n.labelDirection),v=r.getCategories&&r.getCategories(!0),b=[],x=jh.isLabelSilent(r),C=r.get("triggerEvent");return Ve(h,function(I,A){var R=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(I.tickValue):I.tickValue,k=I.formattedLabel,$=I.rawLabel,N=s;if(v&&v[R]){var H=v[R];Sr(H)&&H.textStyle&&(N=new Li(H.textStyle,s,r.ecModel))}var W=N.getTextColor()||r.get(["axisLine","lineStyle","color"]),j=i.dataToCoord(R),X=N.getShallow("align",!0)||m.textAlign,K=$r(N.getShallow("alignMinLabel",!0),X),Q=$r(N.getShallow("alignMaxLabel",!0),X),oe=N.getShallow("verticalAlign",!0)||N.getShallow("baseline",!0)||m.textVerticalAlign,he=$r(N.getShallow("verticalAlignMinLabel",!0),oe),ye=$r(N.getShallow("verticalAlignMaxLabel",!0),oe),be=new $o({x:j,y:n.labelOffset+n.labelDirection*a,rotation:m.rotation,silent:x,z2:10+(I.level||0),style:Pc(N,{text:k,align:A===0?K:A===h.length-1?Q:X,verticalAlign:A===0?he:A===h.length-1?ye:oe,fill:br(W)?W(i.type==="category"?$:i.type==="value"?R+"":R,A):W})});if(be.anid="label_"+R,RT({el:be,componentModel:r,itemName:k,formatterParamsExtra:{isTruncated:function(){return be.isTruncated},value:$,tickIndex:A}}),C){var ce=jh.makeAxisEventDataBase(r);ce.targetType="axisLabel",ce.value=$,ce.tickIndex=A,i.type==="category"&&(ce.dataIndex=R),nn(be).eventData=ce}t.add(be),be.updateTransform(),b.push(be),e.add(be),be.decomposeTransform()}),b}}function zOe(e,t){var r={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return BOe(r,e,t),r.seriesInvolved&&NOe(r,e),r}function BOe(e,t,r){var n=t.getComponent("tooltip"),i=t.getComponent("axisPointer"),o=i.get("link",!0)||[],s=[];Ve(r.getCoordinateSystems(),function(a){if(!a.axisPointerEnabled)return;var h=tb(a.model),p=e.coordSysAxesInfo[h]={};e.coordSysMap[h]=a;var m=a.model,v=m.getModel("tooltip",n);if(Ve(a.getAxes(),ri(I,!1,null)),a.getTooltipAxes&&n&&v.get("show")){var b=v.get("trigger")==="axis",x=v.get(["axisPointer","type"])==="cross",C=a.getTooltipAxes(v.get(["axisPointer","axis"]));(b||x)&&Ve(C.baseAxes,ri(I,x?"cross":!0,b)),x&&Ve(C.otherAxes,ri(I,"cross",!1))}function I(A,R,k){var $=k.model.getModel("axisPointer",i),N=$.get("show");if(!(!N||N==="auto"&&!A&&!wD($))){R==null&&(R=$.get("triggerTooltip")),$=A?FOe(k,v,i,t,A,R):$;var H=$.get("snap"),W=$.get("triggerEmphasis"),j=tb(k.model),X=R||H||k.type==="category",K=e.axesInfo[j]={key:j,axis:k,coordSys:a,axisPointerModel:$,triggerTooltip:R,triggerEmphasis:W,involveSeries:X,snap:H,useHandle:wD($),seriesModels:[],linkGroup:null};p[j]=K,e.seriesInvolved=e.seriesInvolved||X;var Q=VOe(o,k);if(Q!=null){var oe=s[Q]||(s[Q]={axesInfo:{}});oe.axesInfo[j]=K,oe.mapper=o[Q].mapper,K.linkGroup=oe}}}})}function FOe(e,t,r,n,i,o){var s=t.getModel("axisPointer"),a=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],h={};Ve(a,function(b){h[b]=Xr(s.get(b))}),h.snap=e.type!=="category"&&!!o,s.get("type")==="cross"&&(h.type="line");var p=h.label||(h.label={});if(p.show==null&&(p.show=!1),i==="cross"){var m=s.get(["label","show"]);if(p.show=m??!0,!o){var v=h.lineStyle=s.get("crossStyle");v&&Mn(p,v.textStyle)}}return e.model.getModel("axisPointer",new Li(h,r,n))}function NOe(e,t){t.eachSeries(function(r){var n=r.coordinateSystem,i=r.get(["tooltip","trigger"],!0),o=r.get(["tooltip","show"],!0);!n||i==="none"||i===!1||i==="item"||o===!1||r.get(["axisPointer","show"],!0)===!1||Ve(e.coordSysAxesInfo[tb(n.model)],function(s){var a=s.axis;n.getAxis(a.dim)===a&&(s.seriesModels.push(r),s.seriesDataCount==null&&(s.seriesDataCount=0),s.seriesDataCount+=r.getData().count())})})}function VOe(e,t){for(var r=t.model,n=t.dim,i=0;i<e.length;i++){var o=e[i]||{};if(GI(o[n+"AxisId"],r.id)||GI(o[n+"AxisIndex"],r.componentIndex)||GI(o[n+"AxisName"],r.name))return i}}function GI(e,t){return e==="all"||nr(e)&&sn(e,t)>=0||e===t}function jOe(e){var t=nk(e);if(t){var r=t.axisPointerModel,n=t.axis.scale,i=r.option,o=r.get("status"),s=r.get("value");s!=null&&(s=n.parse(s));var a=wD(r);o==null&&(i.status=a?"show":"hide");var h=n.getExtent().slice();h[0]>h[1]&&h.reverse(),(s==null||s>h[1])&&(s=h[1]),s<h[0]&&(s=h[0]),i.value=s,a&&(i.status=t.axis.scale.isBlank()?"hide":"show")}}function nk(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[tb(e)]}function HOe(e){var t=nk(e);return t&&t.axisPointerModel}function wD(e){return!!e.get(["handle","show"])}function tb(e){return e.type+"||"+e.id}var w8={},HX=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i,o){this.axisPointerClass&&jOe(r),e.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(r,i,!0)},t.prototype.updateAxisPointer=function(r,n,i,o){this._doUpdateAxisPointerClass(r,i,!1)},t.prototype.remove=function(r,n){var i=this._axisPointer;i&&i.remove(n)},t.prototype.dispose=function(r,n){this._disposeAxisPointer(n),e.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(r,n,i){var o=t.getAxisPointerClass(this.axisPointerClass);if(o){var s=HOe(r);s?(this._axisPointer||(this._axisPointer=new o)).render(r,s,n,i):this._disposeAxisPointer(n)}},t.prototype._disposeAxisPointer=function(r){this._axisPointer&&this._axisPointer.dispose(r),this._axisPointer=null},t.registerAxisPointerClass=function(r,n){w8[r]=n},t.getAxisPointerClass=function(r){return r&&w8[r]},t.type="axis",t})(cs),SD=Bi();function GOe(e,t,r,n){var i=r.axis;if(!i.scale.isBlank()){var o=r.getModel("splitArea"),s=o.getModel("areaStyle"),a=s.get("color"),h=n.coordinateSystem.getRect(),p=i.getTicksCoords({tickModel:o,clamp:!0});if(p.length){var m=a.length,v=SD(e).splitAreaColors,b=Ar(),x=0;if(v)for(var C=0;C<p.length;C++){var I=v.get(p[C].tickValue);if(I!=null){x=(I+(m-1)*C)%m;break}}var A=i.toGlobalCoord(p[0].coord),R=s.getAreaStyle();a=nr(a)?a:[a];for(var C=1;C<p.length;C++){var k=i.toGlobalCoord(p[C].coord),$=void 0,N=void 0,H=void 0,W=void 0;i.isHorizontal()?($=A,N=h.y,H=k-$,W=h.height,A=$+H):($=h.x,N=A,H=h.width,W=k-N,A=N+W);var j=p[C-1].tickValue;j!=null&&b.set(j,x),t.add(new Oi({anid:j!=null?"area_"+j:null,shape:{x:$,y:N,width:H,height:W},style:Mn({fill:a[x]},R),autoBatch:!0,silent:!0})),x=(x+1)%m}SD(e).splitAreaColors=b}}}function UOe(e){SD(e).splitAreaColors=null}var WOe=["axisLine","axisTickLabel","axisName"],qOe=["splitArea","splitLine","minorSplitLine"],GX=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.axisPointerClass="CartesianAxisPointer",r}return t.prototype.render=function(r,n,i,o){this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new mi,this.group.add(this._axisGroup),!!r.get("show")){var a=r.getCoordSysModel(),h=xD(a,r),p=new jh(r,Kt({handleAutoShown:function(v){for(var b=a.coordinateSystem.getCartesians(),x=0;x<b.length;x++)if(dD(b[x].getOtherAxis(r.axis).scale))return!0;return!1}},h));Ve(WOe,p.add,p),this._axisGroup.add(p.getGroup()),Ve(qOe,function(v){r.get([v,"show"])&&ZOe[v](this,this._axisGroup,r,a)},this);var m=o&&o.type==="changeAxisOrder"&&o.isInitSort;m||Iq(s,this._axisGroup,r),e.prototype.render.call(this,r,n,i,o)}},t.prototype.remove=function(){UOe(this)},t.type="cartesianAxis",t})(HX),ZOe={splitLine:function(e,t,r,n){var i=r.axis;if(!i.scale.isBlank()){var o=r.getModel("splitLine"),s=o.getModel("lineStyle"),a=s.get("color"),h=o.get("showMinLine")!==!1,p=o.get("showMaxLine")!==!1;a=nr(a)?a:[a];for(var m=n.coordinateSystem.getRect(),v=i.isHorizontal(),b=0,x=i.getTicksCoords({tickModel:o}),C=[],I=[],A=s.getLineStyle(),R=0;R<x.length;R++){var k=i.toGlobalCoord(x[R].coord);if(!(R===0&&!h||R===x.length-1&&!p)){var $=x[R].tickValue;v?(C[0]=k,C[1]=m.y,I[0]=k,I[1]=m.y+m.height):(C[0]=m.x,C[1]=k,I[0]=m.x+m.width,I[1]=k);var N=b++%a.length,H=new Cc({anid:$!=null?"line_"+$:null,autoBatch:!0,shape:{x1:C[0],y1:C[1],x2:I[0],y2:I[1]},style:Mn({stroke:a[N]},A),silent:!0});U0(H.shape,A.lineWidth),t.add(H)}}}},minorSplitLine:function(e,t,r,n){var i=r.axis,o=r.getModel("minorSplitLine"),s=o.getModel("lineStyle"),a=n.coordinateSystem.getRect(),h=i.isHorizontal(),p=i.getMinorTicksCoords();if(p.length)for(var m=[],v=[],b=s.getLineStyle(),x=0;x<p.length;x++)for(var C=0;C<p[x].length;C++){var I=i.toGlobalCoord(p[x][C].coord);h?(m[0]=I,m[1]=a.y,v[0]=I,v[1]=a.y+a.height):(m[0]=a.x,m[1]=I,v[0]=a.x+a.width,v[1]=I);var A=new Cc({anid:"minor_line_"+p[x][C].tickValue,autoBatch:!0,shape:{x1:m[0],y1:m[1],x2:v[0],y2:v[1]},style:b,silent:!0});U0(A.shape,b.lineWidth),t.add(A)}},splitArea:function(e,t,r,n){GOe(e,t,r,n)}},UX=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="xAxis",t})(GX),XOe=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=UX.type,r}return t.type="yAxis",t})(GX),KOe=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="grid",r}return t.prototype.render=function(r,n){this.group.removeAll(),r.get("show")&&this.group.add(new Oi({shape:r.coordinateSystem.getRect(),style:Mn({fill:r.get("backgroundColor")},r.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t})(cs),S8={offset:0};function WX(e){e.registerComponentView(KOe),e.registerComponentModel(bOe),e.registerCoordinateSystem("cartesian2d",AOe),d8(e,"x",_D,S8),d8(e,"y",_D,S8),e.registerComponentView(UX),e.registerComponentView(XOe),e.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function YOe(e){Us(WX),e.registerSeriesModel(mOe),e.registerChartView(_Oe),e.registerLayout(tk("scatter"))}var T8="\0_ec_interaction_mutex";function C8(e,t){return!!JOe(e)[t]}function JOe(e){return e[T8]||(e[T8]={})}mp({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Qo);var QOe=(function(e){qt(t,e);function t(r){var n=e.call(this)||this;n._zr=r;var i=kr(n._mousedownHandler,n),o=kr(n._mousemoveHandler,n),s=kr(n._mouseupHandler,n),a=kr(n._mousewheelHandler,n),h=kr(n._pinchHandler,n);return n.enable=function(p,m){this.disable(),this._opt=Mn(Xr(m)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),p==null&&(p=!0),(p===!0||p==="move"||p==="pan")&&(r.on("mousedown",i),r.on("mousemove",o),r.on("mouseup",s)),(p===!0||p==="scale"||p==="zoom")&&(r.on("mousewheel",a),r.on("pinch",h))},n.disable=function(){r.off("mousedown",i),r.off("mousemove",o),r.off("mouseup",s),r.off("mousewheel",a),r.off("pinch",h)},n}return t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(r){this.pointerChecker=r},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(r){if(!l4(r)){for(var n=r.target;n;){if(n.draggable)return;n=n.__hostTarget||n.parent}var i=r.offsetX,o=r.offsetY;this.pointerChecker&&this.pointerChecker(r,i,o)&&(this._x=i,this._y=o,this._dragging=!0)}},t.prototype._mousemoveHandler=function(r){if(!(!this._dragging||!hS("moveOnMouseMove",r,this._opt)||r.gestureEvent==="pinch"||C8(this._zr,"globalPan"))){var n=r.offsetX,i=r.offsetY,o=this._x,s=this._y,a=n-o,h=i-s;this._x=n,this._y=i,this._opt.preventDefaultMouseMove&&Yg(r.event),qX(this,"pan","moveOnMouseMove",r,{dx:a,dy:h,oldX:o,oldY:s,newX:n,newY:i,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(r){l4(r)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(r){var n=hS("zoomOnMouseWheel",r,this._opt),i=hS("moveOnMouseWheel",r,this._opt),o=r.wheelDelta,s=Math.abs(o),a=r.offsetX,h=r.offsetY;if(!(o===0||!n&&!i)){if(n){var p=s>3?1.4:s>1?1.2:1.1,m=o>0?p:1/p;UI(this,"zoom","zoomOnMouseWheel",r,{scale:m,originX:a,originY:h,isAvailableBehavior:null})}if(i){var v=Math.abs(o),b=(o>0?1:-1)*(v>3?.4:v>1?.15:.05);UI(this,"scrollMove","moveOnMouseWheel",r,{scrollDelta:b,originX:a,originY:h,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(r){if(!C8(this._zr,"globalPan")){var n=r.pinchScale>1?1.1:1/1.1;UI(this,"zoom",null,r,{scale:n,originX:r.pinchX,originY:r.pinchY,isAvailableBehavior:null})}},t})(El);function UI(e,t,r,n,i){e.pointerChecker&&e.pointerChecker(n,i.originX,i.originY)&&(Yg(n.event),qX(e,t,r,n,i))}function qX(e,t,r,n,i){i.isAvailableBehavior=kr(hS,null,r,n),e.trigger(t,i)}function hS(e,t,r){var n=r[e];return!e||n&&(!cr(n)||t.event[n+"Key"])}var P8=Cc.prototype,WI=DT.prototype,ZX=(function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e})();(function(e){qt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(ZX);function qI(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var eke=(function(e){qt(t,e);function t(r){var n=e.call(this,r)||this;return n.type="ec-line",n}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new ZX},t.prototype.buildPath=function(r,n){qI(n)?P8.buildPath.call(this,r,n):WI.buildPath.call(this,r,n)},t.prototype.pointAt=function(r){return qI(this.shape)?P8.pointAt.call(this,r):WI.pointAt.call(this,r)},t.prototype.tangentAt=function(r){var n=this.shape,i=qI(n)?[n.x2-n.x1,n.y2-n.y1]:WI.tangentAt.call(this,r);return WR(i,i)},t})(vn),ZI=["fromSymbol","toSymbol"];function M8(e){return"_"+e+"Type"}function I8(e,t,r){var n=t.getItemVisual(r,e);if(!n||n==="none")return n;var i=t.getItemVisual(r,e+"Size"),o=t.getItemVisual(r,e+"Rotate"),s=t.getItemVisual(r,e+"Offset"),a=t.getItemVisual(r,e+"KeepAspect"),h=RO(i),p=qT(s||0,h);return n+h+p+(o||"")+(a||"")}function E8(e,t,r){var n=t.getItemVisual(r,e);if(!(!n||n==="none")){var i=t.getItemVisual(r,e+"Size"),o=t.getItemVisual(r,e+"Rotate"),s=t.getItemVisual(r,e+"Offset"),a=t.getItemVisual(r,e+"KeepAspect"),h=RO(i),p=qT(s||0,h),m=Cl(n,-h[0]/2+p[0],-h[1]/2+p[1],h[0],h[1],null,a);return m.__specifiedRotation=o==null||isNaN(o)?void 0:+o*Math.PI/180||0,m.name=e,m}}function tke(e){var t=new eke({name:"line",subPixelOptimize:!0});return TD(t.shape,e),t}function TD(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var r=t[2];r?(e.cpx1=r[0],e.cpy1=r[1]):(e.cpx1=NaN,e.cpy1=NaN)}var ik=(function(e){qt(t,e);function t(r,n,i){var o=e.call(this)||this;return o._createLine(r,n,i),o}return t.prototype._createLine=function(r,n,i){var o=r.hostModel,s=r.getItemLayout(n),a=tke(s);a.shape.percent=0,pv(a,{shape:{percent:1}},o,n),this.add(a),Ve(ZI,function(h){var p=E8(h,r,n);this.add(p),this[M8(h)]=I8(h,r,n)},this),this._updateCommonStl(r,n,i)},t.prototype.updateData=function(r,n,i){var o=r.hostModel,s=this.childOfName("line"),a=r.getItemLayout(n),h={shape:{}};TD(h.shape,a),vu(s,h,o,n),Ve(ZI,function(p){var m=I8(p,r,n),v=M8(p);if(this[v]!==m){this.remove(this.childOfName(p));var b=E8(p,r,n);this.add(b)}this[v]=m},this),this._updateCommonStl(r,n,i)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(r,n,i){var o=r.hostModel,s=this.childOfName("line"),a=i&&i.emphasisLineStyle,h=i&&i.blurLineStyle,p=i&&i.selectLineStyle,m=i&&i.labelStatesModels,v=i&&i.emphasisDisabled,b=i&&i.focus,x=i&&i.blurScope;if(!i||r.hasItemOption){var C=r.getItemModel(n),I=C.getModel("emphasis");a=I.getModel("lineStyle").getLineStyle(),h=C.getModel(["blur","lineStyle"]).getLineStyle(),p=C.getModel(["select","lineStyle"]).getLineStyle(),v=I.get("disabled"),b=I.get("focus"),x=I.get("blurScope"),m=Db(C)}var A=r.getItemVisual(n,"style"),R=A.stroke;s.useStyle(A),s.style.fill=null,s.style.strokeNoScale=!0,s.ensureState("emphasis").style=a,s.ensureState("blur").style=h,s.ensureState("select").style=p,Ve(ZI,function(W){var j=this.childOfName(W);if(j){j.setColor(R),j.style.opacity=A.opacity;for(var X=0;X<Gs.length;X++){var K=Gs[X],Q=s.getState(K);if(Q){var oe=Q.style||{},he=j.ensureState(K),ye=he.style||(he.style={});oe.stroke!=null&&(ye[j.__isEmptyBrush?"stroke":"fill"]=oe.stroke),oe.opacity!=null&&(ye.opacity=oe.opacity)}}j.markRedraw()}},this);var k=o.getRawValue(n);$T(this,m,{labelDataIndex:n,labelFetcher:{getFormattedLabel:function(W,j){return o.getFormattedLabel(W,j,r.dataType)}},inheritColor:R||"#000",defaultOpacity:A.opacity,defaultText:(k==null?r.getName(n):isFinite(k)?Hi(k):k)+""});var $=this.getTextContent();if($){var N=m.normal;$.__align=$.style.align,$.__verticalAlign=$.style.verticalAlign,$.__position=N.get("position")||"middle";var H=N.get("distance");nr(H)||(H=[H,H]),$.__labelDistance=H}this.setTextConfig({position:null,local:!0,inside:!1}),G0(this,b,x,v)},t.prototype.highlight=function(){j0(this)},t.prototype.downplay=function(){H0(this)},t.prototype.updateLayout=function(r,n){this.setLinePoints(r.getItemLayout(n))},t.prototype.setLinePoints=function(r){var n=this.childOfName("line");TD(n.shape,r),n.dirty()},t.prototype.beforeUpdate=function(){var r=this,n=r.childOfName("fromSymbol"),i=r.childOfName("toSymbol"),o=r.getTextContent();if(!n&&!i&&(!o||o.ignore))return;for(var s=1,a=this.parent;a;)a.scaleX&&(s/=a.scaleX),a=a.parent;var h=r.childOfName("line");if(!this.__dirty&&!h.__dirty)return;var p=h.shape.percent,m=h.pointAt(0),v=h.pointAt(p),b=pW([],v,m);WR(b,b);function x(Q,oe){var he=Q.__specifiedRotation;if(he==null){var ye=h.tangentAt(oe);Q.attr("rotation",(oe===1?-1:1)*Math.PI/2-Math.atan2(ye[1],ye[0]))}else Q.attr("rotation",he)}if(n&&(n.setPosition(m),x(n,0),n.scaleX=n.scaleY=s*p,n.markRedraw()),i&&(i.setPosition(v),x(i,1),i.scaleX=i.scaleY=s*p,i.markRedraw()),o&&!o.ignore){o.x=o.y=0,o.originX=o.originY=0;var C=void 0,I=void 0,A=o.__labelDistance,R=A[0]*s,k=A[1]*s,$=p/2,N=h.tangentAt($),H=[N[1],-N[0]],W=h.pointAt($);H[1]>0&&(H[0]=-H[0],H[1]=-H[1]);var j=N[0]<0?-1:1;if(o.__position!=="start"&&o.__position!=="end"){var X=-Math.atan2(N[1],N[0]);v[0]<m[0]&&(X=Math.PI+X),o.rotation=X}var K=void 0;switch(o.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":K=-k,I="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":K=k,I="top";break;default:K=0,I="middle"}switch(o.__position){case"end":o.x=b[0]*R+v[0],o.y=b[1]*k+v[1],C=b[0]>.8?"left":b[0]<-.8?"right":"center",I=b[1]>.8?"top":b[1]<-.8?"bottom":"middle";break;case"start":o.x=-b[0]*R+m[0],o.y=-b[1]*k+m[1],C=b[0]>.8?"right":b[0]<-.8?"left":"center",I=b[1]>.8?"bottom":b[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":o.x=R*j+m[0],o.y=m[1]+K,C=N[0]<0?"right":"left",o.originX=-R*j,o.originY=-K;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":o.x=W[0],o.y=W[1]+K,C="center",o.originY=-K;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":o.x=-R*j+v[0],o.y=v[1]+K,C=N[0]>=0?"right":"left",o.originX=R*j,o.originY=-K;break}o.scaleX=o.scaleY=s,o.setStyle({verticalAlign:o.__verticalAlign||I,align:o.__align||C})}},t})(mi),rke=(function(){function e(t){this.group=new mi,this._LineCtor=t||ik}return e.prototype.updateData=function(t){var r=this;this._progressiveEls=null;var n=this,i=n.group,o=n._lineData;n._lineData=t,o||i.removeAll();var s=A8(t);t.diff(o).add(function(a){r._doAdd(t,a,s)}).update(function(a,h){r._doUpdate(o,t,h,a,s)}).remove(function(a){i.remove(o.getItemGraphicEl(a))}).execute()},e.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(r,n){r.updateLayout(t,n)},this)},e.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=A8(t),this._lineData=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(t,r){this._progressiveEls=[];function n(a){!a.isGroup&&!nke(a)&&(a.incremental=!0,a.ensureState("emphasis").hoverLayer=!0)}for(var i=t.start;i<t.end;i++){var o=r.getItemLayout(i);if(XI(o)){var s=new this._LineCtor(r,i,this._seriesScope);s.traverse(n),this.group.add(s),r.setItemGraphicEl(i,s),this._progressiveEls.push(s)}}},e.prototype.remove=function(){this.group.removeAll()},e.prototype.eachRendered=function(t){OT(this._progressiveEls||this.group,t)},e.prototype._doAdd=function(t,r,n){var i=t.getItemLayout(r);if(XI(i)){var o=new this._LineCtor(t,r,n);t.setItemGraphicEl(r,o),this.group.add(o)}},e.prototype._doUpdate=function(t,r,n,i,o){var s=t.getItemGraphicEl(n);if(!XI(r.getItemLayout(i))){this.group.remove(s);return}s?s.updateData(r,i,o):s=new this._LineCtor(r,i,o),r.setItemGraphicEl(i,s),this.group.add(s)},e})();function nke(e){return e.animators&&e.animators.length>0}function A8(e){var t=e.hostModel,r=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:r.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:r.get("disabled"),blurScope:r.get("blurScope"),focus:r.get("focus"),labelStatesModels:Db(t)}}function D8(e){return isNaN(e[0])||isNaN(e[1])}function XI(e){return e&&!D8(e[0])&&!D8(e[1])}function QT(e,t,r,n,i,o){e=e||0;var s=r[1]-r[0];if(i!=null&&(i=Vm(i,[0,s])),o!=null&&(o=Math.max(o,i??0)),n==="all"){var a=Math.abs(t[1]-t[0]);a=Vm(a,[0,s]),i=o=Vm(a,[i,o]),n=0}t[0]=Vm(t[0],r),t[1]=Vm(t[1],r);var h=KI(t,n);t[n]+=e;var p=i||0,m=r.slice();h.sign<0?m[0]+=p:m[1]-=p,t[n]=Vm(t[n],m);var v;return v=KI(t,n),i!=null&&(v.sign!==h.sign||v.span<i)&&(t[1-n]=t[n]+h.sign*i),v=KI(t,n),o!=null&&v.span>o&&(t[1-n]=t[n]+v.sign*o),t}function KI(e,t){var r=e[t]-e[1-t];return{span:Math.abs(r),sign:r>0?-1:r<0?1:t?-1:1}}function Vm(e,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,e))}var XX=(function(e){qt(t,e);function t(r,n,i){var o=e.call(this)||this;return o.add(o.createLine(r,n,i)),o._updateEffectSymbol(r,n),o}return t.prototype.createLine=function(r,n,i){return new ik(r,n,i)},t.prototype._updateEffectSymbol=function(r,n){var i=r.getItemModel(n),o=i.getModel("effect"),s=o.get("symbolSize"),a=o.get("symbol");nr(s)||(s=[s,s]);var h=r.getItemVisual(n,"style"),p=o.get("color")||h&&h.stroke,m=this.childAt(1);this._symbolType!==a&&(this.remove(m),m=Cl(a,-.5,-.5,1,1,p),m.z2=100,m.culling=!0,this.add(m)),m&&(m.setStyle("shadowColor",p),m.setStyle(o.getItemStyle(["color"])),m.scaleX=s[0],m.scaleY=s[1],m.setColor(p),this._symbolType=a,this._symbolScale=s,this._updateEffectAnimation(r,o,n))},t.prototype._updateEffectAnimation=function(r,n,i){var o=this.childAt(1);if(o){var s=r.getItemLayout(i),a=n.get("period")*1e3,h=n.get("loop"),p=n.get("roundTrip"),m=n.get("constantSpeed"),v=Kg(n.get("delay"),function(x){return x/r.count()*a/3});if(o.ignore=!0,this._updateAnimationPoints(o,s),m>0&&(a=this._getLineLength(o)/m*1e3),a!==this._period||h!==this._loop||p!==this._roundTrip){o.stopAnimation();var b=void 0;br(v)?b=v(i):b=v,o.__t>0&&(b=-a*o.__t),this._animateSymbol(o,a,b,h,p)}this._period=a,this._loop=h,this._roundTrip=p}},t.prototype._animateSymbol=function(r,n,i,o,s){if(n>0){r.__t=0;var a=this,h=r.animate("",o).when(s?n*2:n,{__t:s?2:1}).delay(i).during(function(){a._updateSymbolPosition(r)});o||h.done(function(){a.remove(r)}),h.start()}},t.prototype._getLineLength=function(r){return ng(r.__p1,r.__cp1)+ng(r.__cp1,r.__p2)},t.prototype._updateAnimationPoints=function(r,n){r.__p1=n[0],r.__p2=n[1],r.__cp1=n[2]||[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]},t.prototype.updateData=function(r,n,i){this.childAt(0).updateData(r,n,i),this._updateEffectSymbol(r,n)},t.prototype._updateSymbolPosition=function(r){var n=r.__p1,i=r.__p2,o=r.__cp1,s=r.__t<1?r.__t:2-r.__t,a=[r.x,r.y],h=a.slice(),p=pa,m=IA;a[0]=p(n[0],o[0],i[0],s),a[1]=p(n[1],o[1],i[1],s);var v=r.__t<1?m(n[0],o[0],i[0],s):m(i[0],o[0],n[0],1-s),b=r.__t<1?m(n[1],o[1],i[1],s):m(i[1],o[1],n[1],1-s);r.rotation=-Math.atan2(b,v)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(r.__lastT!==void 0&&r.__lastT<r.__t?(r.scaleY=ng(h,a)*1.05,s===1&&(a[0]=h[0]+(a[0]-h[0])/2,a[1]=h[1]+(a[1]-h[1])/2)):r.__lastT===1?r.scaleY=2*ng(n,a):r.scaleY=this._symbolScale[1]),r.__lastT=r.__t,r.ignore=!1,r.x=a[0],r.y=a[1]},t.prototype.updateLayout=function(r,n){this.childAt(0).updateLayout(r,n);var i=r.getItemModel(n).getModel("effect");this._updateEffectAnimation(r,i,n)},t})(mi),KX=(function(e){qt(t,e);function t(r,n,i){var o=e.call(this)||this;return o._createPolyline(r,n,i),o}return t.prototype._createPolyline=function(r,n,i){var o=r.getItemLayout(n),s=new Ab({shape:{points:o}});this.add(s),this._updateCommonStl(r,n,i)},t.prototype.updateData=function(r,n,i){var o=r.hostModel,s=this.childAt(0),a={shape:{points:r.getItemLayout(n)}};vu(s,a,o,n),this._updateCommonStl(r,n,i)},t.prototype._updateCommonStl=function(r,n,i){var o=this.childAt(0),s=r.getItemModel(n),a=i&&i.emphasisLineStyle,h=i&&i.focus,p=i&&i.blurScope,m=i&&i.emphasisDisabled;if(!i||r.hasItemOption){var v=s.getModel("emphasis");a=v.getModel("lineStyle").getLineStyle(),m=v.get("disabled"),h=v.get("focus"),p=v.get("blurScope")}o.useStyle(r.getItemVisual(n,"style")),o.style.fill=null,o.style.strokeNoScale=!0;var b=o.ensureState("emphasis");b.style=a,G0(this,h,p,m)},t.prototype.updateLayout=function(r,n){var i=this.childAt(0);i.setShape("points",r.getItemLayout(n))},t})(mi),ike=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._lastFrame=0,r._lastFramePercent=0,r}return t.prototype.createLine=function(r,n,i){return new KX(r,n,i)},t.prototype._updateAnimationPoints=function(r,n){this._points=n;for(var i=[0],o=0,s=1;s<n.length;s++){var a=n[s-1],h=n[s];o+=ng(a,h),i.push(o)}if(o===0){this._length=0;return}for(var s=0;s<i.length;s++)i[s]/=o;this._offsets=i,this._length=o},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(r){var n=r.__t<1?r.__t:2-r.__t,i=this._points,o=this._offsets,s=i.length;if(o){var a=this._lastFrame,h;if(n<this._lastFramePercent){var p=Math.min(a+1,s-1);for(h=p;h>=0&&!(o[h]<=n);h--);h=Math.min(h,s-2)}else{for(h=a;h<s&&!(o[h]>n);h++);h=Math.min(h-1,s-2)}var m=(n-o[h])/(o[h+1]-o[h]),v=i[h],b=i[h+1];r.x=v[0]*(1-m)+m*b[0],r.y=v[1]*(1-m)+m*b[1];var x=r.__t<1?b[0]-v[0]:v[0]-b[0],C=r.__t<1?b[1]-v[1]:v[1]-b[1];r.rotation=-Math.atan2(C,x)-Math.PI/2,this._lastFrame=h,this._lastFramePercent=n,r.ignore=!1}},t})(XX),oke=(function(){function e(){this.polyline=!1,this.curveness=0,this.segs=[]}return e})(),ake=(function(e){qt(t,e);function t(r){var n=e.call(this,r)||this;return n._off=0,n.hoverDataIdx=-1,n}return t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new oke},t.prototype.buildPath=function(r,n){var i=n.segs,o=n.curveness,s;if(n.polyline)for(s=this._off;s<i.length;){var a=i[s++];if(a>0){r.moveTo(i[s++],i[s++]);for(var h=1;h<a;h++)r.lineTo(i[s++],i[s++])}}else for(s=this._off;s<i.length;){var p=i[s++],m=i[s++],v=i[s++],b=i[s++];if(r.moveTo(p,m),o>0){var x=(p+v)/2-(m-b)*o,C=(m+b)/2-(v-p)*o;r.quadraticCurveTo(x,C,v,b)}else r.lineTo(v,b)}this.incremental&&(this._off=s,this.notClear=!0)},t.prototype.findDataIndex=function(r,n){var i=this.shape,o=i.segs,s=i.curveness,a=this.style.lineWidth;if(i.polyline)for(var h=0,p=0;p<o.length;){var m=o[p++];if(m>0)for(var v=o[p++],b=o[p++],x=1;x<m;x++){var C=o[p++],I=o[p++];if(Ph(v,b,C,I,a,r,n))return h}h++}else for(var h=0,p=0;p<o.length;){var v=o[p++],b=o[p++],C=o[p++],I=o[p++];if(s>0){var A=(v+C)/2-(b-I)*s,R=(b+I)/2-(C-v)*s;if(QW(v,b,A,R,C,I,a,r,n))return h}else if(Ph(v,b,C,I,a,r,n))return h;h++}return-1},t.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),o=this.getBoundingRect();if(r=i[0],n=i[1],o.contain(r,n)){var s=this.hoverDataIdx=this.findDataIndex(r,n);return s>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var r=this._rect;if(!r){for(var n=this.shape,i=n.segs,o=1/0,s=1/0,a=-1/0,h=-1/0,p=0;p<i.length;){var m=i[p++],v=i[p++];o=Math.min(m,o),a=Math.max(m,a),s=Math.min(v,s),h=Math.max(v,h)}r=this._rect=new ln(o,s,a,h)}return r},t})(vn),ske=(function(){function e(){this.group=new mi}return e.prototype.updateData=function(t){this._clear();var r=this._create();r.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(r,t)},e.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},e.prototype.incrementalUpdate=function(t,r){var n=this._newAdded[0],i=r.getLayout("linesPoints"),o=n&&n.shape.segs;if(o&&o.length<2e4){var s=o.length,a=new Float32Array(s+i.length);a.set(o),a.set(i,s),n.setShape({segs:a})}else{this._newAdded=[];var h=this._create();h.incremental=!0,h.setShape({segs:i}),this._setCommon(h,r),h.__startIndex=t.start}},e.prototype.remove=function(){this._clear()},e.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},e.prototype._create=function(){var t=new ake({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},e.prototype._setCommon=function(t,r,n){var i=r.hostModel;t.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),t.useStyle(i.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var o=r.getVisual("style");o&&o.stroke&&t.setStyle("stroke",o.stroke),t.setStyle("fill",null);var s=nn(t);s.seriesIndex=i.seriesIndex,t.on("mousemove",function(a){s.dataIndex=null;var h=t.hoverDataIdx;h>0&&(s.dataIndex=h+t.__startIndex)})},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e})(),YX={seriesType:"lines",plan:DO(),reset:function(e){var t=e.coordinateSystem;if(t){var r=e.get("polyline"),n=e.pipelineContext.large;return{progress:function(i,o){var s=[];if(n){var a=void 0,h=i.end-i.start;if(r){for(var p=0,m=i.start;m<i.end;m++)p+=e.getLineCoordsCount(m);a=new Float32Array(h+p*2)}else a=new Float32Array(h*4);for(var v=0,b=[],m=i.start;m<i.end;m++){var x=e.getLineCoords(m,s);r&&(a[v++]=x);for(var C=0;C<x;C++)b=t.dataToPoint(s[C],!1,b),a[v++]=b[0],a[v++]=b[1]}o.setLayout("linesPoints",a)}else for(var m=i.start;m<i.end;m++){var I=o.getItemModel(m),x=e.getLineCoords(m,s),A=[];if(r)for(var R=0;R<x;R++)A.push(t.dataToPoint(s[R]));else{A[0]=t.dataToPoint(s[0]),A[1]=t.dataToPoint(s[1]);var k=I.get(["lineStyle","curveness"]);+k&&(A[2]=[(A[0][0]+A[1][0])/2-(A[0][1]-A[1][1])*k,(A[0][1]+A[1][1])/2-(A[1][0]-A[0][0])*k])}o.setItemLayout(m,A)}}}}}},lke=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var o=r.getData(),s=this._updateLineDraw(o,r),a=r.get("zlevel"),h=r.get(["effect","trailLength"]),p=i.getZr(),m=p.painter.getType()==="svg";m||p.painter.getLayer(a).clear(!0),this._lastZlevel!=null&&!m&&p.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(r)&&h>0&&(m||p.configLayer(a,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(h/10+.9,1),0)})),s.updateData(o);var v=r.get("clip",!0)&&QRe(r.coordinateSystem,!1,r);v?this.group.setClipPath(v):this.group.removeClipPath(),this._lastZlevel=a,this._finished=!0},t.prototype.incrementalPrepareRender=function(r,n,i){var o=r.getData(),s=this._updateLineDraw(o,r);s.incrementalPrepareUpdate(o),this._clearLayer(i),this._finished=!1},t.prototype.incrementalRender=function(r,n,i){this._lineDraw.incrementalUpdate(r,n.getData()),this._finished=r.end===n.getData().count()},t.prototype.eachRendered=function(r){this._lineDraw&&this._lineDraw.eachRendered(r)},t.prototype.updateTransform=function(r,n,i){var o=r.getData(),s=r.pipelineContext;if(!this._finished||s.large||s.progressiveRender)return{update:!0};var a=YX.reset(r,n,i);a.progress&&a.progress({start:0,end:o.count(),count:o.count()},o),this._lineDraw.updateLayout(),this._clearLayer(i)},t.prototype._updateLineDraw=function(r,n){var i=this._lineDraw,o=this._showEffect(n),s=!!n.get("polyline"),a=n.pipelineContext,h=a.large;return(!i||o!==this._hasEffet||s!==this._isPolyline||h!==this._isLargeDraw)&&(i&&i.remove(),i=this._lineDraw=h?new ske:new rke(s?o?ike:KX:o?XX:ik),this._hasEffet=o,this._isPolyline=s,this._isLargeDraw=h),this.group.add(i.group),i},t.prototype._showEffect=function(r){return!!r.get(["effect","show"])},t.prototype._clearLayer=function(r){var n=r.getZr(),i=n.painter.getType()==="svg";!i&&this._lastZlevel!=null&&n.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(r,n){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(n)},t.prototype.dispose=function(r,n){this.remove(r,n)},t.type="lines",t})(js),uke=typeof Uint32Array>"u"?Array:Uint32Array,cke=typeof Float64Array>"u"?Array:Float64Array;function L8(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=fr(t,function(r){var n=[r[0].coord,r[1].coord],i={coords:n};return r[0].name&&(i.fromName=r[0].name),r[1].name&&(i.toName=r[1].name),vTe([i,r[0],r[1]])}))}var hke=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.visualStyleAccessPath="lineStyle",r.visualDrawType="stroke",r}return t.prototype.init=function(r){r.data=r.data||[],L8(r);var n=this._processFlatCoordsArray(r.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(r.data=new Float32Array(n.count)),e.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(r){if(L8(r),r.data){var n=this._processFlatCoordsArray(r.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(r.data=new Float32Array(n.count))}e.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(r){var n=this._processFlatCoordsArray(r.data);n.flatCoords&&(this._flatCoords?(this._flatCoords=wA(this._flatCoords,n.flatCoords),this._flatCoordsOffset=wA(this._flatCoordsOffset,n.flatCoordsOffset)):(this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset),r.data=new Float32Array(n.count)),this.getRawData().appendData(r.data)},t.prototype._getCoordsFromItemModel=function(r){var n=this.getData().getItemModel(r),i=n.option instanceof Array?n.option:n.getShallow("coords");return i},t.prototype.getLineCoordsCount=function(r){return this._flatCoordsOffset?this._flatCoordsOffset[r*2+1]:this._getCoordsFromItemModel(r).length},t.prototype.getLineCoords=function(r,n){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[r*2],o=this._flatCoordsOffset[r*2+1],s=0;s<o;s++)n[s]=n[s]||[],n[s][0]=this._flatCoords[i+s*2],n[s][1]=this._flatCoords[i+s*2+1];return o}else{for(var a=this._getCoordsFromItemModel(r),s=0;s<a.length;s++)n[s]=n[s]||[],n[s][0]=a[s][0],n[s][1]=a[s][1];return a.length}},t.prototype._processFlatCoordsArray=function(r){var n=0;if(this._flatCoords&&(n=this._flatCoords.length),ni(r[0])){for(var i=r.length,o=new uke(i),s=new cke(i),a=0,h=0,p=0,m=0;m<i;){p++;var v=r[m++];o[h++]=a+n,o[h++]=v;for(var b=0;b<v;b++){var x=r[m++],C=r[m++];s[a++]=x,s[a++]=C}}return{flatCoordsOffset:new Uint32Array(o.buffer,0,h),flatCoords:s,count:p}}return{flatCoordsOffset:null,flatCoords:null,count:r.length}},t.prototype.getInitialData=function(r,n){var i=new NO(["value"],this);return i.hasItemOption=!1,i.initData(r.data,[],function(o,s,a,h){if(o instanceof Array)return NaN;i.hasItemOption=!0;var p=o.value;if(p!=null)return p instanceof Array?p[h]:p}),i},t.prototype.formatTooltip=function(r,n,i){var o=this.getData(),s=o.getItemModel(r),a=s.get("name");if(a)return a;var h=s.get("fromName"),p=s.get("toName"),m=[];return h!=null&&m.push(h),p!=null&&m.push(p),Xh("nameValue",{name:m.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var r=this.option.progressive;return r??(this.option.large?1e4:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;return r??(this.option.large?2e4:this.get("progressiveThreshold"))},t.prototype.getZLevelKey=function(){var r=this.getModel("effect"),n=r.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:r.get("show")&&n>0?n+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t})(yu);function Cw(e){return e instanceof Array||(e=[e,e]),e}var dke={seriesType:"lines",reset:function(e){var t=Cw(e.get("symbol")),r=Cw(e.get("symbolSize")),n=e.getData();n.setVisual("fromSymbol",t&&t[0]),n.setVisual("toSymbol",t&&t[1]),n.setVisual("fromSymbolSize",r&&r[0]),n.setVisual("toSymbolSize",r&&r[1]);function i(o,s){var a=o.getItemModel(s),h=Cw(a.getShallow("symbol",!0)),p=Cw(a.getShallow("symbolSize",!0));h[0]&&o.setItemVisual(s,"fromSymbol",h[0]),h[1]&&o.setItemVisual(s,"toSymbol",h[1]),p[0]&&o.setItemVisual(s,"fromSymbolSize",p[0]),p[1]&&o.setItemVisual(s,"toSymbolSize",p[1])}return{dataEach:n.hasItemOption?i:null}}};function fke(e){e.registerChartView(lke),e.registerSeriesModel(hke),e.registerLayout(YX),e.registerVisual(dke)}var If=Bi(),R8=Xr,YI=kr,pke=(function(){function e(){this._dragging=!1,this.animationThreshold=15}return e.prototype.render=function(t,r,n,i){var o=r.get("value"),s=r.get("status");if(this._axisModel=t,this._axisPointerModel=r,this._api=n,!(!i&&this._lastValue===o&&this._lastStatus===s)){this._lastValue=o,this._lastStatus=s;var a=this._group,h=this._handle;if(!s||s==="hide"){a&&a.hide(),h&&h.hide();return}a&&a.show(),h&&h.show();var p={};this.makeElOption(p,o,t,r,n);var m=p.graphicKey;m!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=m;var v=this._moveAnimation=this.determineAnimation(t,r);if(!a)a=this._group=new mi,this.createPointerEl(a,p,t,r),this.createLabelEl(a,p,t,r),n.getZr().add(a);else{var b=ri(O8,r,v);this.updatePointerEl(a,p,b),this.updateLabelEl(a,p,b,r)}$8(a,r,!0),this._renderHandle(o)}},e.prototype.remove=function(t){this.clear(t)},e.prototype.dispose=function(t){this.clear(t)},e.prototype.determineAnimation=function(t,r){var n=r.get("animation"),i=t.axis,o=i.type==="category",s=r.get("snap");if(!s&&!o)return!1;if(n==="auto"||n==null){var a=this.animationThreshold;if(o&&i.getBandWidth()>a)return!0;if(s){var h=nk(t).seriesDataCount,p=i.getExtent();return Math.abs(p[0]-p[1])/h>a}return!1}return n===!0},e.prototype.makeElOption=function(t,r,n,i,o){},e.prototype.createPointerEl=function(t,r,n,i){var o=r.pointer;if(o){var s=If(t).pointerEl=new fIe[o.type](R8(r.pointer));t.add(s)}},e.prototype.createLabelEl=function(t,r,n,i){if(r.label){var o=If(t).labelEl=new $o(R8(r.label));t.add(o),k8(o,i)}},e.prototype.updatePointerEl=function(t,r,n){var i=If(t).pointerEl;i&&r.pointer&&(i.setStyle(r.pointer.style),n(i,{shape:r.pointer.shape}))},e.prototype.updateLabelEl=function(t,r,n,i){var o=If(t).labelEl;o&&(o.setStyle(r.label.style),n(o,{x:r.label.x,y:r.label.y}),k8(o,i))},e.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var r=this._axisPointerModel,n=this._api.getZr(),i=this._handle,o=r.getModel("handle"),s=r.get("status");if(!o.get("show")||!s||s==="hide"){i&&n.remove(i),this._handle=null;return}var a;this._handle||(a=!0,i=this._handle=gO(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(p){Yg(p.event)},onmousedown:YI(this._onHandleDragMove,this,0,0),drift:YI(this._onHandleDragMove,this),ondragend:YI(this._onHandleDragEnd,this)}),n.add(i)),$8(i,r,!1),i.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var h=o.get("size");nr(h)||(h=[h,h]),i.scaleX=h[0]/2,i.scaleY=h[1]/2,WT(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,a)}},e.prototype._moveHandleToValue=function(t,r){O8(this._axisPointerModel,!r&&this._moveAnimation,this._handle,JI(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},e.prototype._onHandleDragMove=function(t,r){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(JI(n),[t,r],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(JI(i)),If(n).lastProp=null,this._doDispatchAxisPointer()}},e.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var r=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:r.cursorPoint[0],y:r.cursorPoint[1],tooltipOption:r.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},e.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var r=this._axisPointerModel.get("value");this._moveHandleToValue(r),this._api.dispatchAction({type:"hideTip"})}},e.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var r=t.getZr(),n=this._group,i=this._handle;r&&n&&(this._lastGraphicKey=null,n&&r.remove(n),i&&r.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),d2(this,"_doDispatchAxisPointer")},e.prototype.doClear=function(){},e.prototype.buildLabel=function(t,r,n){return n=n||0,{x:t[n],y:t[1-n],width:r[n],height:r[1-n]}},e})();function O8(e,t,r,n){JX(If(r).lastProp,n)||(If(r).lastProp=n,t?vu(r,n,e):(r.stopAnimation(),r.attr(n)))}function JX(e,t){if(Sr(e)&&Sr(t)){var r=!0;return Ve(t,function(n,i){r=r&&JX(e[i],n)}),!!r}else return e===t}function k8(e,t){e[t.get(["label","show"])?"show":"hide"]()}function JI(e){return{x:e.x||0,y:e.y||0,rotation:e.rotation||0}}function $8(e,t,r){var n=t.get("z"),i=t.get("zlevel");e&&e.traverse(function(o){o.type!=="group"&&(n!=null&&(o.z=n),i!=null&&(o.zlevel=i),o.silent=r)})}function mke(e){var t=e.get("type"),r=e.getModel(t+"Style"),n;return t==="line"?(n=r.getLineStyle(),n.fill=null):t==="shadow"&&(n=r.getAreaStyle(),n.stroke=null),n}function gke(e,t,r,n,i){var o=r.get("value"),s=QX(o,t.axis,t.ecModel,r.get("seriesDataIndices"),{precision:r.get(["label","precision"]),formatter:r.get(["label","formatter"])}),a=r.getModel("label"),h=HT(a.get("padding")||0),p=a.getFont(),m=tO(s,p),v=i.position,b=m.width+h[1]+h[3],x=m.height+h[0]+h[2],C=i.align;C==="right"&&(v[0]-=b),C==="center"&&(v[0]-=b/2);var I=i.verticalAlign;I==="bottom"&&(v[1]-=x),I==="middle"&&(v[1]-=x/2),vke(v,b,x,n);var A=a.get("backgroundColor");(!A||A==="auto")&&(A=t.get(["axisLine","lineStyle","color"])),e.label={x:v[0],y:v[1],style:Pc(a,{text:s,font:p,fill:a.getTextColor(),padding:h,backgroundColor:A}),z2:10}}function vke(e,t,r,n){var i=n.getWidth(),o=n.getHeight();e[0]=Math.min(e[0]+t,i)-t,e[1]=Math.min(e[1]+r,o)-r,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}function QX(e,t,r,n,i){e=t.scale.parse(e);var o=t.scale.getLabel({value:e},{precision:i.precision}),s=i.formatter;if(s){var a={value:HO(t,{value:e}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};Ve(n,function(h){var p=r.getSeriesByIndex(h.seriesIndex),m=h.dataIndexInside,v=p&&p.getDataParams(m);v&&a.seriesData.push(v)}),cr(s)?o=s.replace("{value}",o):br(s)&&(o=s(a))}return o}function eK(e,t,r){var n=Cg();return XR(n,n,r.rotation),MA(n,n,r.position),W0([e.dataToCoord(t),(r.labelOffset||0)+(r.labelDirection||1)*(r.labelMargin||0)],n)}function yke(e,t,r,n,i,o){var s=jh.innerTextLayout(r.rotation,0,r.labelDirection);r.labelMargin=i.get(["label","margin"]),gke(t,n,i,o,{position:eK(n.axis,e,r),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function _ke(e,t,r){return r=r||0,{x1:e[r],y1:e[1-r],x2:t[r],y2:t[1-r]}}function bke(e,t,r){return r=r||0,{x:e[r],y:e[1-r],width:t[r],height:t[1-r]}}var xke=(function(e){qt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(r,n,i,o,s){var a=i.axis,h=a.grid,p=o.get("type"),m=z8(h,a).getOtherAxis(a).getGlobalExtent(),v=a.toGlobalCoord(a.dataToCoord(n,!0));if(p&&p!=="none"){var b=mke(o),x=wke[p](a,v,m);x.style=b,r.graphicKey=x.type,r.pointer=x}var C=xD(h.model,i);yke(n,r,C,i,o,s)},t.prototype.getHandleTransform=function(r,n,i){var o=xD(n.axis.grid.model,n,{labelInside:!1});o.labelMargin=i.get(["handle","margin"]);var s=eK(n.axis,r,o);return{x:s[0],y:s[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(r,n,i,o){var s=i.axis,a=s.grid,h=s.getGlobalExtent(!0),p=z8(a,s).getOtherAxis(s).getGlobalExtent(),m=s.dim==="x"?0:1,v=[r.x,r.y];v[m]+=n[m],v[m]=Math.min(h[1],v[m]),v[m]=Math.max(h[0],v[m]);var b=(p[1]+p[0])/2,x=[b,b];x[m]=v[m];var C=[{verticalAlign:"middle"},{align:"center"}];return{x:v[0],y:v[1],rotation:r.rotation,cursorPoint:x,tooltipOption:C[m]}},t})(pke);function z8(e,t){var r={};return r[t.dim+"AxisIndex"]=t.index,e.getCartesian(r)}var wke={line:function(e,t,r){var n=_ke([t,r[0]],[t,r[1]],B8(e));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(e,t,r){var n=Math.max(1,e.getBandWidth()),i=r[1]-r[0];return{type:"Rect",shape:bke([t-n/2,r[0]],[n,i],B8(e))}}};function B8(e){return e.dim==="x"?0:1}var Ske=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t})(mn),hc=Bi(),Tke=Ve;function tK(e,t,r){if(!Rr.node){var n=t.getZr();hc(n).records||(hc(n).records={}),Cke(n,t);var i=hc(n).records[e]||(hc(n).records[e]={});i.handler=r}}function Cke(e,t){if(hc(e).initialized)return;hc(e).initialized=!0,r("click",ri(F8,"click")),r("mousemove",ri(F8,"mousemove")),r("globalout",Mke);function r(n,i){e.on(n,function(o){var s=Ike(t);Tke(hc(e).records,function(a){a&&i(a,o,s.dispatchAction)}),Pke(s.pendings,t)})}}function Pke(e,t){var r=e.showTip.length,n=e.hideTip.length,i;r?i=e.showTip[r-1]:n&&(i=e.hideTip[n-1]),i&&(i.dispatchAction=null,t.dispatchAction(i))}function Mke(e,t,r){e.handler("leave",null,r)}function F8(e,t,r,n){t.handler(e,r,n)}function Ike(e){var t={showTip:[],hideTip:[]},r=function(n){var i=t[n.type];i?i.push(n):(n.dispatchAction=r,e.dispatchAction(n))};return{dispatchAction:r,pendings:t}}function CD(e,t){if(!Rr.node){var r=t.getZr(),n=(hc(r).records||{})[e];n&&(hc(r).records[e]=null)}}var Eke=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var o=n.getComponent("tooltip"),s=r.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";tK("axisPointer",i,function(a,h,p){s!=="none"&&(a==="leave"||s.indexOf(a)>=0)&&p({type:"updateAxisPointer",currTrigger:a,x:h&&h.offsetX,y:h&&h.offsetY})})},t.prototype.remove=function(r,n){CD("axisPointer",n)},t.prototype.dispose=function(r,n){CD("axisPointer",n)},t.type="axisPointer",t})(cs);function rK(e,t){var r=[],n=e.seriesIndex,i;if(n==null||!(i=t.getSeriesByIndex(n)))return{point:[]};var o=i.getData(),s=ip(o,e);if(s==null||s<0||nr(s))return{point:[]};var a=o.getItemGraphicEl(s),h=i.coordinateSystem;if(i.getTooltipPosition)r=i.getTooltipPosition(s)||[];else if(h&&h.dataToPoint)if(e.isStacked){var p=h.getBaseAxis(),m=h.getOtherAxis(p),v=m.dim,b=p.dim,x=v==="x"||v==="radius"?1:0,C=o.mapDimension(b),I=[];I[x]=o.get(C,s),I[1-x]=o.get(o.getCalculationInfo("stackResultDimension"),s),r=h.dataToPoint(I)||[]}else r=h.dataToPoint(o.getValues(fr(h.dimensions,function(R){return o.mapDimension(R)}),s))||[];else if(a){var A=a.getBoundingRect().clone();A.applyTransform(a.transform),r=[A.x+A.width/2,A.y+A.height/2]}return{point:r,el:a}}var N8=Bi();function Ake(e,t,r){var n=e.currTrigger,i=[e.x,e.y],o=e,s=e.dispatchAction||kr(r.dispatchAction,r),a=t.getComponent("axisPointer").coordSysAxesInfo;if(a){dS(i)&&(i=rK({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},t).point);var h=dS(i),p=o.axesInfo,m=a.axesInfo,v=n==="leave"||dS(i),b={},x={},C={list:[],map:{}},I={showPointer:ri(Lke,x),showTooltip:ri(Rke,C)};Ve(a.coordSysMap,function(R,k){var $=h||R.containPoint(i);Ve(a.coordSysAxesInfo[k],function(N,H){var W=N.axis,j=zke(p,N);if(!v&&$&&(!p||j)){var X=j&&j.value;X==null&&!h&&(X=W.pointToData(i)),X!=null&&V8(N,X,I,!1,b)}})});var A={};return Ve(m,function(R,k){var $=R.linkGroup;$&&!x[k]&&Ve($.axesInfo,function(N,H){var W=x[H];if(N!==R&&W){var j=W.value;$.mapper&&(j=R.axis.scale.parse($.mapper(j,j8(N),j8(R)))),A[R.key]=j}})}),Ve(A,function(R,k){V8(m[k],R,I,!0,b)}),Oke(x,m,b),kke(C,i,e,s),$ke(m,s,r),b}}function V8(e,t,r,n,i){var o=e.axis;if(!(o.scale.isBlank()||!o.containData(t))){if(!e.involveSeries){r.showPointer(e,t);return}var s=Dke(t,e),a=s.payloadBatch,h=s.snapToValue;a[0]&&i.seriesIndex==null&&Kt(i,a[0]),!n&&e.snap&&o.containData(h)&&h!=null&&(t=h),r.showPointer(e,t,a),r.showTooltip(e,s,h)}}function Dke(e,t){var r=t.axis,n=r.dim,i=e,o=[],s=Number.MAX_VALUE,a=-1;return Ve(t.seriesModels,function(h,p){var m=h.getData().mapDimensionsAll(n),v,b;if(h.getAxisTooltipData){var x=h.getAxisTooltipData(m,e,r);b=x.dataIndices,v=x.nestestValue}else{if(b=h.getData().indicesOfNearest(m[0],e,r.type==="category"?.5:null),!b.length)return;v=h.getData().get(m[0],b[0])}if(!(v==null||!isFinite(v))){var C=e-v,I=Math.abs(C);I<=s&&((I<s||C>=0&&a<0)&&(s=I,a=C,i=v,o.length=0),Ve(b,function(A){o.push({seriesIndex:h.seriesIndex,dataIndexInside:A,dataIndex:h.getData().getRawIndex(A)})}))}}),{payloadBatch:o,snapToValue:i}}function Lke(e,t,r,n){e[t.key]={value:r,payloadBatch:n}}function Rke(e,t,r,n){var i=r.payloadBatch,o=t.axis,s=o.model,a=t.axisPointerModel;if(!(!t.triggerTooltip||!i.length)){var h=t.coordSys.model,p=tb(h),m=e.map[p];m||(m=e.map[p]={coordSysId:h.id,coordSysIndex:h.componentIndex,coordSysType:h.type,coordSysMainType:h.mainType,dataByAxis:[]},e.list.push(m)),m.dataByAxis.push({axisDim:o.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:n,valueLabelOpt:{precision:a.get(["label","precision"]),formatter:a.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function Oke(e,t,r){var n=r.axesInfo=[];Ve(t,function(i,o){var s=i.axisPointerModel.option,a=e[o];a?(!i.useHandle&&(s.status="show"),s.value=a.value,s.seriesDataIndices=(a.payloadBatch||[]).slice()):!i.useHandle&&(s.status="hide"),s.status==="show"&&n.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:s.value})})}function kke(e,t,r,n){if(dS(t)||!e.list.length){n({type:"hideTip"});return}var i=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:r.tooltipOption,position:r.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:e.list})}function $ke(e,t,r){var n=r.getZr(),i="axisPointerLastHighlights",o=N8(n)[i]||{},s=N8(n)[i]={};Ve(e,function(p,m){var v=p.axisPointerModel.option;v.status==="show"&&p.triggerEmphasis&&Ve(v.seriesDataIndices,function(b){var x=b.seriesIndex+" | "+b.dataIndex;s[x]=b})});var a=[],h=[];Ve(o,function(p,m){!s[m]&&h.push(p)}),Ve(s,function(p,m){!o[m]&&a.push(p)}),h.length&&r.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:h}),a.length&&r.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:a})}function zke(e,t){for(var r=0;r<(e||[]).length;r++){var n=e[r];if(t.axis.dim===n.axisDim&&t.axis.model.componentIndex===n.axisIndex)return n}}function j8(e){var t=e.axis.model,r={},n=r.axisDim=e.axis.dim;return r.axisIndex=r[n+"AxisIndex"]=t.componentIndex,r.axisName=r[n+"AxisName"]=t.name,r.axisId=r[n+"AxisId"]=t.id,r}function dS(e){return!e||e[0]==null||isNaN(e[0])||e[1]==null||isNaN(e[1])}function nK(e){HX.registerAxisPointerClass("CartesianAxisPointer",xke),e.registerComponentModel(Ske),e.registerComponentView(Eke),e.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var r=t.axisPointer.link;r&&!nr(r)&&(t.axisPointer.link=[r])}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(t,r){t.getComponent("axisPointer").coordSysAxesInfo=zOe(t,r)}),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Ake)}function iK(e){Us(WX),Us(nK)}var H8=["x","y","radius","angle","single"],Bke=["cartesian2d","polar","singleAxis"];function Fke(e){var t=e.get("coordinateSystem");return sn(Bke,t)>=0}function Oh(e){return e+"Axis"}function Nke(e,t){var r=Ar(),n=[],i=Ar();e.eachComponent({mainType:"dataZoom",query:t},function(m){i.get(m.uid)||a(m)});var o;do o=!1,e.eachComponent("dataZoom",s);while(o);function s(m){!i.get(m.uid)&&h(m)&&(a(m),o=!0)}function a(m){i.set(m.uid,!0),n.push(m),p(m)}function h(m){var v=!1;return m.eachTargetAxis(function(b,x){var C=r.get(b);C&&C[x]&&(v=!0)}),v}function p(m){m.eachTargetAxis(function(v,b){(r.get(v)||r.set(v,[]))[b]=!0})}return n}function oK(e){var t=e.ecModel,r={infoList:[],infoMap:Ar()};return e.eachTargetAxis(function(n,i){var o=t.getComponent(Oh(n),i);if(o){var s=o.getCoordSysModel();if(s){var a=s.uid,h=r.infoMap.get(a);h||(h={model:s,axisModels:[]},r.infoList.push(h),r.infoMap.set(a,h)),h.axisModels.push(o)}}}),r}var QI=(function(){function e(){this.indexList=[],this.indexMap=[]}return e.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},e})(),x2=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._autoThrottle=!0,r._noTarget=!0,r._rangePropMode=["percent","percent"],r}return t.prototype.init=function(r,n,i){var o=G8(r);this.settledOption=o,this.mergeDefaultAndTheme(r,i),this._doInit(o)},t.prototype.mergeOption=function(r){var n=G8(r);an(this.option,r,!0),an(this.settledOption,n,!0),this._doInit(n)},t.prototype._doInit=function(r){var n=this.option;this._setDefaultThrottle(r),this._updateRangeUse(r);var i=this.settledOption;Ve([["start","startValue"],["end","endValue"]],function(o,s){this._rangePropMode[s]==="value"&&(n[o[0]]=i[o[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var r=this.get("orient",!0),n=this._targetAxisInfoMap=Ar(),i=this._fillSpecifiedTargetAxis(n);i?this._orient=r||this._makeAutoOrientByTargetAxis():(this._orient=r||"horizontal",this._fillAutoTargetAxisByOrient(n,this._orient)),this._noTarget=!0,n.each(function(o){o.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(r){var n=!1;return Ve(H8,function(i){var o=this.getReferringComponents(Oh(i),oPe);if(o.specified){n=!0;var s=new QI;Ve(o.models,function(a){s.add(a.componentIndex)}),r.set(i,s)}},this),n},t.prototype._fillAutoTargetAxisByOrient=function(r,n){var i=this.ecModel,o=!0;if(o){var s=n==="vertical"?"y":"x",a=i.findComponents({mainType:s+"Axis"});h(a,s)}if(o){var a=i.findComponents({mainType:"singleAxis",filter:function(m){return m.get("orient",!0)===n}});h(a,"single")}function h(p,m){var v=p[0];if(v){var b=new QI;if(b.add(v.componentIndex),r.set(m,b),o=!1,m==="x"||m==="y"){var x=v.getReferringComponents("grid",Da).models[0];x&&Ve(p,function(C){v.componentIndex!==C.componentIndex&&x===C.getReferringComponents("grid",Da).models[0]&&b.add(C.componentIndex)})}}}o&&Ve(H8,function(p){if(o){var m=i.findComponents({mainType:Oh(p),filter:function(b){return b.get("type",!0)==="category"}});if(m[0]){var v=new QI;v.add(m[0].componentIndex),r.set(p,v),o=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var r;return this.eachTargetAxis(function(n){!r&&(r=n)},this),r==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(r){if(r.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var n=this.ecModel.option;this.option.throttle=n.animation&&n.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(r){var n=this._rangePropMode,i=this.get("rangeMode");Ve([["start","startValue"],["end","endValue"]],function(o,s){var a=r[o[0]]!=null,h=r[o[1]]!=null;a&&!h?n[s]="percent":!a&&h?n[s]="value":i?n[s]=i[s]:a&&(n[s]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var r;return this.eachTargetAxis(function(n,i){r==null&&(r=this.ecModel.getComponent(Oh(n),i))},this),r},t.prototype.eachTargetAxis=function(r,n){this._targetAxisInfoMap.each(function(i,o){Ve(i.indexList,function(s){r.call(n,o,s)})})},t.prototype.getAxisProxy=function(r,n){var i=this.getAxisModel(r,n);if(i)return i.__dzAxisProxy},t.prototype.getAxisModel=function(r,n){var i=this._targetAxisInfoMap.get(r);if(i&&i.indexMap[n])return this.ecModel.getComponent(Oh(r),n)},t.prototype.setRawRange=function(r){var n=this.option,i=this.settledOption;Ve([["start","startValue"],["end","endValue"]],function(o){(r[o[0]]!=null||r[o[1]]!=null)&&(n[o[0]]=i[o[0]]=r[o[0]],n[o[1]]=i[o[1]]=r[o[1]])},this),this._updateRangeUse(r)},t.prototype.setCalculatedRange=function(r){var n=this.option;Ve(["start","startValue","end","endValue"],function(i){n[i]=r[i]})},t.prototype.getPercentRange=function(){var r=this.findRepresentativeAxisProxy();if(r)return r.getDataPercentWindow()},t.prototype.getValueRange=function(r,n){if(r==null&&n==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(r,n).getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(r){if(r)return r.__dzAxisProxy;for(var n,i=this._targetAxisInfoMap.keys(),o=0;o<i.length;o++)for(var s=i[o],a=this._targetAxisInfoMap.get(s),h=0;h<a.indexList.length;h++){var p=this.getAxisProxy(s,a.indexList[h]);if(p.hostedBy(this))return p;n||(n=p)}return n},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t})(mn);function G8(e){var t={};return Ve(["start","end","startValue","endValue","throttle"],function(r){e.hasOwnProperty(r)&&(t[r]=e[r])}),t}var aK=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i,o){this.dataZoomModel=r,this.ecModel=n,this.api=i},t.type="dataZoom",t})(cs),Ym=Ve,U8=E_,Vke=(function(){function e(t,r,n,i){this._dimName=t,this._axisIndex=r,this.ecModel=i,this._dataZoomModel=n}return e.prototype.hostedBy=function(t){return this._dataZoomModel===t},e.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},e.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},e.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(r){if(Fke(r)){var n=Oh(this._dimName),i=r.getReferringComponents(n,Da).models[0];i&&this._axisIndex===i.componentIndex&&t.push(r)}},this),t},e.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},e.prototype.getMinMaxSpan=function(){return Xr(this._minMaxSpan)},e.prototype.calculateDataWindow=function(t){var r=this._dataExtent,n=this.getAxisModel(),i=n.axis.scale,o=this._dataZoomModel.getRangePropMode(),s=[0,100],a=[],h=[],p;Ym(["start","end"],function(b,x){var C=t[b],I=t[b+"Value"];o[x]==="percent"?(C==null&&(C=s[x]),I=i.parse(Xo(C,s,r))):(p=!0,I=I==null?r[x]:i.parse(I),C=Xo(I,r,s)),h[x]=I==null||isNaN(I)?r[x]:I,a[x]=C==null||isNaN(C)?s[x]:C}),U8(h),U8(a);var m=this._minMaxSpan;p?v(h,a,r,s,!1):v(a,h,s,r,!0);function v(b,x,C,I,A){var R=A?"Span":"ValueSpan";QT(0,b,C,"all",m["min"+R],m["max"+R]);for(var k=0;k<2;k++)x[k]=Xo(b[k],C,I,!0),A&&(x[k]=i.parse(x[k]))}return{valueWindow:h,percentWindow:a}},e.prototype.reset=function(t){if(t===this._dataZoomModel){var r=this.getTargetSeriesModels();this._dataExtent=jke(this,this._dimName,r),this._updateMinMaxSpan();var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},e.prototype.filterData=function(t,r){if(t!==this._dataZoomModel)return;var n=this._dimName,i=this.getTargetSeriesModels(),o=t.get("filterMode"),s=this._valueWindow;if(o==="none")return;Ym(i,function(h){var p=h.getData(),m=p.mapDimensionsAll(n);if(m.length){if(o==="weakFilter"){var v=p.getStore(),b=fr(m,function(x){return p.getDimensionIndex(x)},p);p.filterSelf(function(x){for(var C,I,A,R=0;R<m.length;R++){var k=v.get(b[R],x),$=!isNaN(k),N=k<s[0],H=k>s[1];if($&&!N&&!H)return!0;$&&(A=!0),N&&(C=!0),H&&(I=!0)}return A&&C&&I})}else Ym(m,function(x){if(o==="empty")h.setData(p=p.map(x,function(I){return a(I)?I:NaN}));else{var C={};C[x]=s,p.selectRange(C)}});Ym(m,function(x){p.setApproximateExtent(s,x)})}});function a(h){return h>=s[0]&&h<=s[1]}},e.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},r=this._dataZoomModel,n=this._dataExtent;Ym(["min","max"],function(i){var o=r.get(i+"Span"),s=r.get(i+"ValueSpan");s!=null&&(s=this.getAxisModel().axis.scale.parse(s)),s!=null?o=Xo(n[0]+s,n,[0,100],!0):o!=null&&(s=Xo(o,[0,100],n,!0)-n[0]),t[i+"Span"]=o,t[i+"ValueSpan"]=s},this)},e.prototype._setAxisModel=function(){var t=this.getAxisModel(),r=this._percentWindow,n=this._valueWindow;if(r){var i=NW(n,[0,500]);i=Math.min(i,20);var o=t.axis.scale.rawExtentInfo;r[0]!==0&&o.setDeterminedMinMax("min",+n[0].toFixed(i)),r[1]!==100&&o.setDeterminedMinMax("max",+n[1].toFixed(i)),o.freeze()}},e})();function jke(e,t,r){var n=[1/0,-1/0];Ym(r,function(s){ELe(n,s.getData(),t)});var i=e.getAxisModel(),o=oX(i.axis.scale,i,n).calculate();return[o.min,o.max]}var Hke={getTargetSeries:function(e){function t(i){e.eachComponent("dataZoom",function(o){o.eachTargetAxis(function(s,a){var h=e.getComponent(Oh(s),a);i(s,a,h,o)})})}t(function(i,o,s,a){s.__dzAxisProxy=null});var r=[];t(function(i,o,s,a){s.__dzAxisProxy||(s.__dzAxisProxy=new Vke(i,o,a,e),r.push(s.__dzAxisProxy))});var n=Ar();return Ve(r,function(i){Ve(i.getTargetSeriesModels(),function(o){n.set(o.uid,o)})}),n},overallReset:function(e,t){e.eachComponent("dataZoom",function(r){r.eachTargetAxis(function(n,i){r.getAxisProxy(n,i).reset(r)}),r.eachTargetAxis(function(n,i){r.getAxisProxy(n,i).filterData(r,t)})}),e.eachComponent("dataZoom",function(r){var n=r.findRepresentativeAxisProxy();if(n){var i=n.getDataPercentWindow(),o=n.getDataValueWindow();r.setCalculatedRange({start:i[0],end:i[1],startValue:o[0],endValue:o[1]})}})}};function Gke(e){e.registerAction("dataZoom",function(t,r){var n=Nke(r,t);Ve(n,function(i){i.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var W8=!1;function sK(e){W8||(W8=!0,e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,Hke),Gke(e),e.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function Uke(e,t){var r=HT(t.get("padding")),n=t.getItemStyle(["color","opacity"]);return n.fill=t.get("backgroundColor"),e=new Oi({shape:{x:e.x-r[3],y:e.y-r[0],width:e.width+r[1]+r[3],height:e.height+r[0]+r[2],r:t.get("borderRadius")},style:n,silent:!0,z2:-1}),e}var Wke=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t})(mn);function lK(e){var t=e.get("confine");return t!=null?!!t:e.get("renderMode")==="richText"}function uK(e){if(Rr.domSupported){for(var t=document.documentElement.style,r=0,n=e.length;r<n;r++)if(e[r]in t)return e[r]}}var cK=uK(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),qke=uK(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function hK(e,t){if(!e)return t;t=Gq(t,!0);var r=e.indexOf(t);return e=r===-1?t:"-"+e.slice(0,r)+"-"+t,e.toLowerCase()}function Zke(e,t){var r=e.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e);return r?r[t]:null}var Xke=hK(qke,"transition"),ok=hK(cK,"transform"),Kke="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Rr.transform3dSupported?"will-change:transform;":"");function Yke(e){return e=e==="left"?"right":e==="right"?"left":e==="top"?"bottom":"top",e}function Jke(e,t,r){if(!cr(r)||r==="inside")return"";var n=e.get("backgroundColor"),i=e.get("borderWidth");t=op(t);var o=Yke(r),s=Math.max(Math.round(i)*1.5,6),a="",h=ok+":",p;sn(["left","right"],o)>-1?(a+="top:50%",h+="translateY(-50%) rotate("+(p=o==="left"?-225:-45)+"deg)"):(a+="left:50%",h+="translateX(-50%) rotate("+(p=o==="top"?225:45)+"deg)");var m=p*Math.PI/180,v=s+i,b=v*Math.abs(Math.cos(m))+v*Math.abs(Math.sin(m)),x=Math.round(((b-Math.SQRT2*i)/2+Math.SQRT2*i-(b-v)/2)*100)/100;a+=";"+o+":-"+x+"px";var C=t+" solid "+i+"px;",I=["position:absolute;width:"+s+"px;height:"+s+"px;z-index:-1;",a+";"+h+";","border-bottom:"+C,"border-right:"+C,"background-color:"+n+";"];return'<div style="'+I.join("")+'"></div>'}function Qke(e,t){var r="cubic-bezier(0.23,1,0.32,1)",n=" "+e/2+"s "+r,i="opacity"+n+",visibility"+n;return t||(n=" "+e+"s "+r,i+=Rr.transformSupported?","+ok+n:",left"+n+",top"+n),Xke+":"+i}function q8(e,t,r){var n=e.toFixed(0)+"px",i=t.toFixed(0)+"px";if(!Rr.transformSupported)return r?"top:"+i+";left:"+n+";":[["top",i],["left",n]];var o=Rr.transform3dSupported,s="translate"+(o?"3d":"")+"("+n+","+i+(o?",0":"")+")";return r?"top:0;left:0;"+ok+":"+s+";":[["top",0],["left",0],[cK,s]]}function e$e(e){var t=[],r=e.get("fontSize"),n=e.getTextColor();n&&t.push("color:"+n),t.push("font:"+e.getFont());var i=$r(e.get("lineHeight"),Math.round(r*3/2));r&&t.push("line-height:"+i+"px");var o=e.get("textShadowColor"),s=e.get("textShadowBlur")||0,a=e.get("textShadowOffsetX")||0,h=e.get("textShadowOffsetY")||0;return o&&s&&t.push("text-shadow:"+a+"px "+h+"px "+s+"px "+o),Ve(["decoration","align"],function(p){var m=e.get(p);m&&t.push("text-"+p+":"+m)}),t.join(";")}function t$e(e,t,r){var n=[],i=e.get("transitionDuration"),o=e.get("backgroundColor"),s=e.get("shadowBlur"),a=e.get("shadowColor"),h=e.get("shadowOffsetX"),p=e.get("shadowOffsetY"),m=e.getModel("textStyle"),v=gZ(e,"html"),b=h+"px "+p+"px "+s+"px "+a;return n.push("box-shadow:"+b),t&&i&&n.push(Qke(i,r)),o&&n.push("background-color:"+o),Ve(["width","color","radius"],function(x){var C="border-"+x,I=Gq(C),A=e.get(I);A!=null&&n.push(C+":"+A+(x==="color"?"":"px"))}),n.push(e$e(m)),v!=null&&n.push("padding:"+HT(v).join("px ")+"px"),n.join(";")+";"}function Z8(e,t,r,n,i){var o=t&&t.painter;if(r){var s=o&&o.getViewportRoot();s&&ATe(e,s,r,n,i)}else{e[0]=n,e[1]=i;var a=o&&o.getViewportRootOffset();a&&(e[0]+=a.offsetLeft,e[1]+=a.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var r$e=(function(){function e(t,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Rr.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var i=this._zr=t.getZr(),o=r.appendTo,s=o&&(cr(o)?document.querySelector(o):$0(o)?o:br(o)&&o(t.getDom()));Z8(this._styleCoord,i,s,t.getWidth()/2,t.getHeight()/2),(s||t.getDom()).appendChild(n),this._api=t,this._container=s;var a=this;n.onmouseenter=function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0},n.onmousemove=function(h){if(h=h||window.event,!a._enterable){var p=i.handler,m=i.painter.getViewportRoot();Ds(m,h,!0),p.dispatch("mousemove",h)}},n.onmouseleave=function(){a._inContent=!1,a._enterable&&a._show&&a.hideLater(a._hideDelay)}}return e.prototype.update=function(t){if(!this._container){var r=this._api.getDom(),n=Zke(r,"position"),i=r.style;i.position!=="absolute"&&n!=="absolute"&&(i.position="relative")}var o=t.get("alwaysShowContent");o&&this._moveIfResized(),this._alwaysShowContent=o,this.el.className=t.get("className")||""},e.prototype.show=function(t,r){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,i=n.style,o=this._styleCoord;n.innerHTML?i.cssText=Kke+t$e(t,!this._firstShow,this._longHide)+q8(o[0],o[1],!0)+("border-color:"+op(r)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},e.prototype.setContent=function(t,r,n,i,o){var s=this.el;if(t==null){s.innerHTML="";return}var a="";if(cr(o)&&n.get("trigger")==="item"&&!lK(n)&&(a=Jke(n,i,o)),cr(t))s.innerHTML=t+a;else if(t){s.innerHTML="",nr(t)||(t=[t]);for(var h=0;h<t.length;h++)$0(t[h])&&t[h].parentNode!==s&&s.appendChild(t[h]);if(a&&s.childNodes.length){var p=document.createElement("div");p.innerHTML=a,s.appendChild(p)}}},e.prototype.setEnterable=function(t){this._enterable=t},e.prototype.getSize=function(){var t=this.el;return t?[t.offsetWidth,t.offsetHeight]:[0,0]},e.prototype.moveTo=function(t,r){if(this.el){var n=this._styleCoord;if(Z8(n,this._zr,this._container,t,r),n[0]!=null&&n[1]!=null){var i=this.el.style,o=q8(n[0],n[1]);Ve(o,function(s){i[s[0]]=s[1]})}}},e.prototype._moveIfResized=function(){var t=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),r*this._zr.getHeight())},e.prototype.hide=function(){var t=this,r=this.el.style;r.visibility="hidden",r.opacity="0",Rr.transform3dSupported&&(r.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},e.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(kr(this.hide,this),t)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this.el.parentNode;t&&t.removeChild(this.el),this.el=this._container=null},e})(),n$e=(function(){function e(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),K8(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return e.prototype.update=function(t){var r=t.get("alwaysShowContent");r&&this._moveIfResized(),this._alwaysShowContent=r},e.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},e.prototype.setContent=function(t,r,n,i,o){var s=this;Sr(t)&&Ea(""),this.el&&this._zr.remove(this.el);var a=n.getModel("textStyle");this.el=new $o({style:{rich:r.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:a.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:gZ(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),Ve(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(p){s.el.style[p]=n.get(p)}),Ve(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(p){s.el.style[p]=a.get(p)||0}),this._zr.add(this.el);var h=this;this.el.on("mouseover",function(){h._enterable&&(clearTimeout(h._hideTimeout),h._show=!0),h._inContent=!0}),this.el.on("mouseout",function(){h._enterable&&h._show&&h.hideLater(h._hideDelay),h._inContent=!1})},e.prototype.setEnterable=function(t){this._enterable=t},e.prototype.getSize=function(){var t=this.el,r=this.el.getBoundingRect(),n=X8(t.style);return[r.width+n.left+n.right,r.height+n.top+n.bottom]},e.prototype.moveTo=function(t,r){var n=this.el;if(n){var i=this._styleCoord;K8(i,this._zr,t,r),t=i[0],r=i[1];var o=n.style,s=xh(o.borderWidth||0),a=X8(o);n.x=t+s+a.left,n.y=r+s+a.top,n.markRedraw()}},e.prototype._moveIfResized=function(){var t=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),r*this._zr.getHeight())},e.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},e.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(kr(this.hide,this),t)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this._zr.remove(this.el)},e})();function xh(e){return Math.max(0,e)}function X8(e){var t=xh(e.shadowBlur||0),r=xh(e.shadowOffsetX||0),n=xh(e.shadowOffsetY||0);return{left:xh(t-r),right:xh(t+r),top:xh(t-n),bottom:xh(t+n)}}function K8(e,t,r,n){e[0]=r,e[1]=n,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var i$e=new Oi({shape:{x:-1,y:-1,width:2,height:2}}),o$e=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n){if(!(Rr.node||!n.getDom())){var i=r.getComponent("tooltip"),o=this._renderMode=sPe(i.get("renderMode"));this._tooltipContent=o==="richText"?new n$e(n):new r$e(n,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},t.prototype.render=function(r,n,i){if(!(Rr.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=r,this._ecModel=n,this._api=i;var o=this._tooltipContent;o.update(r),o.setEnterable(r.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&r.get("transitionDuration")?WT(this,"_updatePosition",50,"fixRate"):d2(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var r=this._tooltipModel,n=r.get("triggerOn");tK("itemTooltip",this._api,kr(function(i,o,s){n!=="none"&&(n.indexOf(i)>=0?this._tryShow(o,s):i==="leave"&&this._hide(s))},this))},t.prototype._keepShow=function(){var r=this._tooltipModel,n=this._ecModel,i=this._api,o=r.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&o!=="none"&&o!=="click"){var s=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&s.manuallyShowTip(r,n,i,{x:s._lastX,y:s._lastY,dataByCoordSys:s._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(r,n,i,o){if(!(o.from===this.uid||Rr.node||!i.getDom())){var s=Y8(o,i);this._ticket="";var a=o.dataByCoordSys,h=u$e(o,n,i);if(h){var p=h.el.getBoundingRect().clone();p.applyTransform(h.el.transform),this._tryShow({offsetX:p.x+p.width/2,offsetY:p.y+p.height/2,target:h.el,position:o.position,positionDefault:"bottom"},s)}else if(o.tooltip&&o.x!=null&&o.y!=null){var m=i$e;m.x=o.x,m.y=o.y,m.update(),nn(m).tooltipConfig={name:null,option:o.tooltip},this._tryShow({offsetX:o.x,offsetY:o.y,target:m},s)}else if(a)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,dataByCoordSys:a,tooltipOption:o.tooltipOption},s);else if(o.seriesIndex!=null){if(this._manuallyAxisShowTip(r,n,i,o))return;var v=rK(o,n),b=v.point[0],x=v.point[1];b!=null&&x!=null&&this._tryShow({offsetX:b,offsetY:x,target:v.el,position:o.position,positionDefault:"bottom"},s)}else o.x!=null&&o.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:i.getZr().findHover(o.x,o.y).target},s))}},t.prototype.manuallyHideTip=function(r,n,i,o){var s=this._tooltipContent;this._tooltipModel&&s.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,o.from!==this.uid&&this._hide(Y8(o,i))},t.prototype._manuallyAxisShowTip=function(r,n,i,o){var s=o.seriesIndex,a=o.dataIndex,h=n.getComponent("axisPointer").coordSysAxesInfo;if(!(s==null||a==null||h==null)){var p=n.getSeriesByIndex(s);if(p){var m=p.getData(),v=v_([m.getItemModel(a),p,(p.coordinateSystem||{}).model],this._tooltipModel);if(v.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:s,dataIndex:a,position:o.position}),!0}}},t.prototype._tryShow=function(r,n){var i=r.target,o=this._tooltipModel;if(o){this._lastX=r.offsetX,this._lastY=r.offsetY;var s=r.dataByCoordSys;if(s&&s.length)this._showAxisTooltip(s,r);else if(i){var a=nn(i);if(a.ssrType==="legend")return;this._lastDataByCoordSys=null;var h,p;R_(i,function(m){if(nn(m).dataIndex!=null)return h=m,!0;if(nn(m).tooltipConfig!=null)return p=m,!0},!0),h?this._showSeriesItemTooltip(r,h,n):p?this._showComponentItemTooltip(r,p,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},t.prototype._showOrMove=function(r,n){var i=r.get("showDelay");n=kr(n,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(n,i):n()},t.prototype._showAxisTooltip=function(r,n){var i=this._ecModel,o=this._tooltipModel,s=[n.offsetX,n.offsetY],a=v_([n.tooltipOption],o),h=this._renderMode,p=[],m=Xh("section",{blocks:[],noHeader:!0}),v=[],b=new xI;Ve(r,function(k){Ve(k.dataByAxis,function($){var N=i.getComponent($.axisDim+"Axis",$.axisIndex),H=$.value;if(!(!N||H==null)){var W=QX(H,N.axis,i,$.seriesDataIndices,$.valueLabelOpt),j=Xh("section",{header:W,noHeader:!lu(W),sortBlocks:!0,blocks:[]});m.blocks.push(j),Ve($.seriesDataIndices,function(X){var K=i.getSeriesByIndex(X.seriesIndex),Q=X.dataIndexInside,oe=K.getDataParams(Q);if(!(oe.dataIndex<0)){oe.axisDim=$.axisDim,oe.axisIndex=$.axisIndex,oe.axisType=$.axisType,oe.axisId=$.axisId,oe.axisValue=HO(N.axis,{value:H}),oe.axisValueLabel=W,oe.marker=b.makeTooltipMarker("item",op(oe.color),h);var he=q6(K.formatTooltip(Q,!0,null)),ye=he.frag;if(ye){var be=v_([K],o).get("valueFormatter");j.blocks.push(be?Kt({valueFormatter:be},ye):ye)}he.text&&v.push(he.text),p.push(oe)}})}})}),m.blocks.reverse(),v.reverse();var x=n.position,C=a.get("order"),I=J6(m,b,h,C,i.get("useUTC"),a.get("textStyle"));I&&v.unshift(I);var A=h==="richText"?`

`:"<br/>",R=v.join(A);this._showOrMove(a,function(){this._updateContentNotChangedOnAxis(r,p)?this._updatePosition(a,x,s[0],s[1],this._tooltipContent,p):this._showTooltipContent(a,R,p,Math.random()+"",s[0],s[1],x,null,b)})},t.prototype._showSeriesItemTooltip=function(r,n,i){var o=this._ecModel,s=nn(n),a=s.seriesIndex,h=o.getSeriesByIndex(a),p=s.dataModel||h,m=s.dataIndex,v=s.dataType,b=p.getData(v),x=this._renderMode,C=r.positionDefault,I=v_([b.getItemModel(m),p,h&&(h.coordinateSystem||{}).model],this._tooltipModel,C?{position:C}:null),A=I.get("trigger");if(!(A!=null&&A!=="item")){var R=p.getDataParams(m,v),k=new xI;R.marker=k.makeTooltipMarker("item",op(R.color),x);var $=q6(p.formatTooltip(m,!1,v)),N=I.get("order"),H=I.get("valueFormatter"),W=$.frag,j=W?J6(H?Kt({valueFormatter:H},W):W,k,x,N,o.get("useUTC"),I.get("textStyle")):$.text,X="item_"+p.name+"_"+m;this._showOrMove(I,function(){this._showTooltipContent(I,j,R,X,r.offsetX,r.offsetY,r.position,r.target,k)}),i({type:"showTip",dataIndexInside:m,dataIndex:b.getRawIndex(m),seriesIndex:a,from:this.uid})}},t.prototype._showComponentItemTooltip=function(r,n,i){var o=this._renderMode==="html",s=nn(n),a=s.tooltipConfig,h=a.option||{},p=h.encodeHTMLContent;if(cr(h)){var m=h;h={content:m,formatter:m},p=!0}p&&o&&h.content&&(h=Xr(h),h.content=fa(h.content));var v=[h],b=this._ecModel.getComponent(s.componentMainType,s.componentIndex);b&&v.push(b),v.push({formatter:h.content});var x=r.positionDefault,C=v_(v,this._tooltipModel,x?{position:x}:null),I=C.get("content"),A=Math.random()+"",R=new xI;this._showOrMove(C,function(){var k=Xr(C.get("formatterParams")||{});this._showTooltipContent(C,I,k,A,r.offsetX,r.offsetY,r.position,n,R)}),i({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(r,n,i,o,s,a,h,p,m){if(this._ticket="",!(!r.get("showContent")||!r.get("show"))){var v=this._tooltipContent;v.setEnterable(r.get("enterable"));var b=r.get("formatter");h=h||r.get("position");var x=n,C=this._getNearestPoint([s,a],i,r.get("trigger"),r.get("borderColor")),I=C.color;if(b)if(cr(b)){var A=r.ecModel.get("useUTC"),R=nr(i)?i[0]:i,k=R&&R.axisType&&R.axisType.indexOf("time")>=0;x=b,k&&(x=BT(R.axisValue,x,A)),x=Uq(x,i,!0)}else if(br(b)){var $=kr(function(N,H){N===this._ticket&&(v.setContent(H,m,r,I,h),this._updatePosition(r,h,s,a,v,i,p))},this);this._ticket=o,x=b(i,o,$)}else x=b;v.setContent(x,m,r,I,h),v.show(r,I),this._updatePosition(r,h,s,a,v,i,p)}},t.prototype._getNearestPoint=function(r,n,i,o){if(i==="axis"||nr(n))return{color:o||(this._renderMode==="html"?"#fff":"none")};if(!nr(n))return{color:o||n.color||n.borderColor}},t.prototype._updatePosition=function(r,n,i,o,s,a,h){var p=this._api.getWidth(),m=this._api.getHeight();n=n||r.get("position");var v=s.getSize(),b=r.get("align"),x=r.get("verticalAlign"),C=h&&h.getBoundingRect().clone();if(h&&C.applyTransform(h.transform),br(n)&&(n=n([i,o],a,s.el,C,{viewSize:[p,m],contentSize:v.slice()})),nr(n))i=so(n[0],p),o=so(n[1],m);else if(Sr(n)){var I=n;I.width=v[0],I.height=v[1];var A=Jg(I,{width:p,height:m});i=A.x,o=A.y,b=null,x=null}else if(cr(n)&&h){var R=l$e(n,C,v,r.get("borderWidth"));i=R[0],o=R[1]}else{var R=a$e(i,o,s,p,m,b?null:20,x?null:20);i=R[0],o=R[1]}if(b&&(i-=J8(b)?v[0]/2:b==="right"?v[0]:0),x&&(o-=J8(x)?v[1]/2:x==="bottom"?v[1]:0),lK(r)){var R=s$e(i,o,s,p,m);i=R[0],o=R[1]}s.moveTo(i,o)},t.prototype._updateContentNotChangedOnAxis=function(r,n){var i=this._lastDataByCoordSys,o=this._cbParamsList,s=!!i&&i.length===r.length;return s&&Ve(i,function(a,h){var p=a.dataByAxis||[],m=r[h]||{},v=m.dataByAxis||[];s=s&&p.length===v.length,s&&Ve(p,function(b,x){var C=v[x]||{},I=b.seriesDataIndices||[],A=C.seriesDataIndices||[];s=s&&b.value===C.value&&b.axisType===C.axisType&&b.axisId===C.axisId&&I.length===A.length,s&&Ve(I,function(R,k){var $=A[k];s=s&&R.seriesIndex===$.seriesIndex&&R.dataIndex===$.dataIndex}),o&&Ve(b.seriesDataIndices,function(R){var k=R.seriesIndex,$=n[k],N=o[k];$&&N&&N.data!==$.data&&(s=!1)})})}),this._lastDataByCoordSys=r,this._cbParamsList=n,!!s},t.prototype._hide=function(r){this._lastDataByCoordSys=null,r({type:"hideTip",from:this.uid})},t.prototype.dispose=function(r,n){Rr.node||!n.getDom()||(d2(this,"_updatePosition"),this._tooltipContent.dispose(),CD("itemTooltip",n))},t.type="tooltip",t})(cs);function v_(e,t,r){var n=t.ecModel,i;r?(i=new Li(r,n,n),i=new Li(t.option,i,n)):i=t;for(var o=e.length-1;o>=0;o--){var s=e[o];s&&(s instanceof Li&&(s=s.get("tooltip",!0)),cr(s)&&(s={formatter:s}),s&&(i=new Li(s,i,n)))}return i}function Y8(e,t){return e.dispatchAction||kr(t.dispatchAction,t)}function a$e(e,t,r,n,i,o,s){var a=r.getSize(),h=a[0],p=a[1];return o!=null&&(e+h+o+2>n?e-=h+o:e+=o),s!=null&&(t+p+s>i?t-=p+s:t+=s),[e,t]}function s$e(e,t,r,n,i){var o=r.getSize(),s=o[0],a=o[1];return e=Math.min(e+s,n)-s,t=Math.min(t+a,i)-a,e=Math.max(e,0),t=Math.max(t,0),[e,t]}function l$e(e,t,r,n){var i=r[0],o=r[1],s=Math.ceil(Math.SQRT2*n)+8,a=0,h=0,p=t.width,m=t.height;switch(e){case"inside":a=t.x+p/2-i/2,h=t.y+m/2-o/2;break;case"top":a=t.x+p/2-i/2,h=t.y-o-s;break;case"bottom":a=t.x+p/2-i/2,h=t.y+m+s;break;case"left":a=t.x-i-s,h=t.y+m/2-o/2;break;case"right":a=t.x+p+s,h=t.y+m/2-o/2}return[a,h]}function J8(e){return e==="center"||e==="middle"}function u$e(e,t,r){var n=iO(e).queryOptionMap,i=n.keys()[0];if(!(!i||i==="series")){var o=Ib(t,i,n.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),s=o.models[0];if(s){var a=r.getViewOfComponentModel(s),h;if(a.group.traverse(function(p){var m=nn(p).tooltipConfig;if(m&&m.name===e.name)return h=p,!0}),h)return{componentMainType:i,componentIndex:s.componentIndex,el:h}}}}function dK(e){Us(nK),e.registerComponentModel(Wke),e.registerComponentView(o$e),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Qo),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Qo)}var c$e=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.layoutMode={type:"box",ignoreSize:!0},r}return t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t})(mn),h$e=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){if(this.group.removeAll(),!!r.get("show")){var o=this.group,s=r.getModel("textStyle"),a=r.getModel("subtextStyle"),h=r.get("textAlign"),p=$r(r.get("textBaseline"),r.get("textVerticalAlign")),m=new $o({style:Pc(s,{text:r.get("text"),fill:s.getTextColor()},{disableBox:!0}),z2:10}),v=m.getBoundingRect(),b=r.get("subtext"),x=new $o({style:Pc(a,{text:b,fill:a.getTextColor(),y:v.height+r.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),C=r.get("link"),I=r.get("sublink"),A=r.get("triggerEvent",!0);m.silent=!C&&!A,x.silent=!I&&!A,C&&m.on("click",function(){E6(C,"_"+r.get("target"))}),I&&x.on("click",function(){E6(I,"_"+r.get("subtarget"))}),nn(m).eventData=nn(x).eventData=A?{componentType:"title",componentIndex:r.componentIndex}:null,o.add(m),b&&o.add(x);var R=o.getBoundingRect(),k=r.getBoxLayoutParams();k.width=R.width,k.height=R.height;var $=Jg(k,{width:i.getWidth(),height:i.getHeight()},r.get("padding"));h||(h=r.get("left")||r.get("right"),h==="middle"&&(h="center"),h==="right"?$.x+=$.width:h==="center"&&($.x+=$.width/2)),p||(p=r.get("top")||r.get("bottom"),p==="center"&&(p="middle"),p==="bottom"?$.y+=$.height:p==="middle"&&($.y+=$.height/2),p=p||"top"),o.x=$.x,o.y=$.y,o.markRedraw();var N={align:h,verticalAlign:p};m.setStyle(N),x.setStyle(N),R=o.getBoundingRect();var H=$.margin,W=r.getItemStyle(["color","opacity"]);W.fill=r.get("backgroundColor");var j=new Oi({shape:{x:R.x-H[3],y:R.y-H[0],width:R.width+H[1]+H[3],height:R.height+H[0]+H[2],r:r.get("borderRadius")},style:W,subPixelOptimize:!0,silent:!0});o.add(j)}},t.type="title",t})(cs);function fK(e){e.registerComponentModel(c$e),e.registerComponentView(h$e)}function d$e(e,t){if(!e)return!1;for(var r=nr(e)?e:[e],n=0;n<r.length;n++)if(r[n]&&r[n][t])return!0;return!1}function Pw(e){jA(e,"label",["show"])}var Mw=Bi(),rb=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.createdBySelf=!1,r}return t.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i),this._mergeOption(r,i,!1,!0)},t.prototype.isAnimationEnabled=function(){if(Rr.node)return!1;var r=this.__hostSeries;return this.getShallow("animation")&&r&&r.isAnimationEnabled()},t.prototype.mergeOption=function(r,n){this._mergeOption(r,n,!1,!1)},t.prototype._mergeOption=function(r,n,i,o){var s=this.mainType;i||n.eachSeries(function(a){var h=a.get(this.mainType,!0),p=Mw(a)[s];if(!h||!h.data){Mw(a)[s]=null;return}p?p._mergeOption(h,n,!0):(o&&Pw(h),Ve(h.data,function(m){m instanceof Array?(Pw(m[0]),Pw(m[1])):Pw(m)}),p=this.createMarkerModelFromSeries(h,this,n),Kt(p,{mainType:this.mainType,seriesIndex:a.seriesIndex,name:a.name,createdBySelf:!0}),p.__hostSeries=a),Mw(a)[s]=p},this)},t.prototype.formatTooltip=function(r,n,i){var o=this.getData(),s=this.getRawValue(r),a=o.getName(r);return Xh("section",{header:this.name,blocks:[Xh("nameValue",{name:a,value:s,noName:!a,noValue:s==null})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(r){this._data=r},t.prototype.getDataParams=function(r,n){var i=EO.prototype.getDataParams.call(this,r,n),o=this.__hostSeries;return o&&(i.seriesId=o.id,i.seriesName=o.name,i.seriesType=o.subType),i},t.getMarkerModelFromSeries=function(r,n){return Mw(r)[n]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t})(mn);Il(rb,EO.prototype);var f$e=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.createMarkerModelFromSeries=function(r,n,i){return new t(r,n,i)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t})(rb);function p$e(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}function m$e(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}function Iw(e,t,r,n,i,o){var s=[],a=tv(t,n),h=a?t.getCalculationInfo("stackResultDimension"):n,p=pK(t,h,e),m=t.indicesOfNearest(h,p)[0];s[i]=t.get(r,m),s[o]=t.get(h,m);var v=t.get(n,m),b=uu(t.get(n,m));return b=Math.min(b,20),b>=0&&(s[o]=+s[o].toFixed(b)),[s,v]}var eE={min:ri(Iw,"min"),max:ri(Iw,"max"),average:ri(Iw,"average"),median:ri(Iw,"median")};function g$e(e,t){if(t){var r=e.getData(),n=e.coordinateSystem,i=n&&n.dimensions;if(!m$e(t)&&!nr(t.coord)&&nr(i)){var o=v$e(t,r,n,e);if(t=Xr(t),t.type&&eE[t.type]&&o.baseAxis&&o.valueAxis){var s=sn(i,o.baseAxis.dim),a=sn(i,o.valueAxis.dim),h=eE[t.type](r,o.baseDataDim,o.valueDataDim,s,a);t.coord=h[0],t.value=h[1]}else t.coord=[t.xAxis!=null?t.xAxis:t.radiusAxis,t.yAxis!=null?t.yAxis:t.angleAxis]}if(t.coord==null||!nr(i))t.coord=[];else for(var p=t.coord,m=0;m<2;m++)eE[p[m]]&&(p[m]=pK(r,r.mapDimension(i[m]),p[m]));return t}}function v$e(e,t,r,n){var i={};return e.valueIndex!=null||e.valueDim!=null?(i.valueDataDim=e.valueIndex!=null?t.getDimension(e.valueIndex):e.valueDim,i.valueAxis=r.getAxis(y$e(n,i.valueDataDim)),i.baseAxis=r.getOtherAxis(i.valueAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim)):(i.baseAxis=n.getBaseAxis(),i.valueAxis=r.getOtherAxis(i.baseAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim),i.valueDataDim=t.mapDimension(i.valueAxis.dim)),i}function y$e(e,t){var r=e.getData().getDimensionInfo(t);return r&&r.coordDim}function _$e(e,t){return e&&e.containData&&t.coord&&!p$e(t)?e.containData(t.coord):!0}function b$e(e,t){return e?function(r,n,i,o){var s=o<2?r.coord&&r.coord[o]:r.value;return Dg(s,t[o])}:function(r,n,i,o){return Dg(r.value,t[o])}}function pK(e,t,r){if(r==="average"){var n=0,i=0;return e.each(t,function(o,s){isNaN(o)||(n+=o,i++)}),n/i}else return r==="median"?e.getMedian(t):e.getDataExtent(t)[r==="max"?1:0]}var tE=Bi(),x$e=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(){this.markerGroupMap=Ar()},t.prototype.render=function(r,n,i){var o=this,s=this.markerGroupMap;s.each(function(a){tE(a).keep=!1}),n.eachSeries(function(a){var h=rb.getMarkerModelFromSeries(a,o.type);h&&o.renderSeries(a,h,n,i)}),s.each(function(a){!tE(a).keep&&o.group.remove(a.group)})},t.prototype.markKeep=function(r){tE(r).keep=!0},t.prototype.toggleBlurSeries=function(r,n){var i=this;Ve(r,function(o){var s=rb.getMarkerModelFromSeries(o,i.type);if(s){var a=s.getData();a.eachItemGraphicEl(function(h){h&&(n?uq(h):cO(h))})}})},t.type="marker",t})(cs);function Q8(e,t,r){var n=t.coordinateSystem;e.each(function(i){var o=e.getItemModel(i),s,a=so(o.get("x"),r.getWidth()),h=so(o.get("y"),r.getHeight());if(!isNaN(a)&&!isNaN(h))s=[a,h];else if(t.getMarkerPosition)s=t.getMarkerPosition(e.getValues(e.dimensions,i));else if(n){var p=e.get(n.dimensions[0],i),m=e.get(n.dimensions[1],i);s=n.dataToPoint([p,m])}isNaN(a)||(s[0]=a),isNaN(h)||(s[1]=h),e.setItemLayout(i,s)})}var w$e=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.updateTransform=function(r,n,i){n.eachSeries(function(o){var s=rb.getMarkerModelFromSeries(o,"markPoint");s&&(Q8(s.getData(),o,i),this.markerGroupMap.get(o.id).updateLayout())},this)},t.prototype.renderSeries=function(r,n,i,o){var s=r.coordinateSystem,a=r.id,h=r.getData(),p=this.markerGroupMap,m=p.get(a)||p.set(a,new ek),v=S$e(s,r,n);n.setData(v),Q8(n.getData(),r,o),v.each(function(b){var x=v.getItemModel(b),C=x.getShallow("symbol"),I=x.getShallow("symbolSize"),A=x.getShallow("symbolRotate"),R=x.getShallow("symbolOffset"),k=x.getShallow("symbolKeepAspect");if(br(C)||br(I)||br(A)||br(R)){var $=n.getRawValue(b),N=n.getDataParams(b);br(C)&&(C=C($,N)),br(I)&&(I=I($,N)),br(A)&&(A=A($,N)),br(R)&&(R=R($,N))}var H=x.getModel("itemStyle").getItemStyle(),W=CZ(h,"color");H.fill||(H.fill=W),v.setItemVisual(b,{symbol:C,symbolSize:I,symbolRotate:A,symbolOffset:R,symbolKeepAspect:k,style:H})}),m.updateData(v),this.group.add(m.group),v.eachItemGraphicEl(function(b){b.traverse(function(x){nn(x).dataModel=n})}),this.markKeep(m),m.group.silent=n.get("silent")||r.get("silent")},t.type="markPoint",t})(x$e);function S$e(e,t,r){var n;e?n=fr(e&&e.dimensions,function(a){var h=t.getData().getDimensionInfo(t.getData().mapDimension(a))||{};return Kt(Kt({},h),{name:a,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var i=new NO(n,r),o=fr(r.get("data"),ri(g$e,t));e&&(o=ao(o,ri(_$e,e)));var s=b$e(!!e,n);return i.initData(o,null,s),i}function T$e(e){e.registerComponentModel(f$e),e.registerComponentView(w$e),e.registerPreprocessor(function(t){d$e(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}var C$e=function(e,t){if(t==="all")return{type:"all",title:e.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:e.getLocaleModel().get(["legend","selector","inverse"])}},PD=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.layoutMode={type:"box",ignoreSize:!0},r}return t.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i),r.selected=r.selected||{},this._updateSelector(r)},t.prototype.mergeOption=function(r,n){e.prototype.mergeOption.call(this,r,n),this._updateSelector(r)},t.prototype._updateSelector=function(r){var n=r.selector,i=this.ecModel;n===!0&&(n=r.selector=["all","inverse"]),nr(n)&&Ve(n,function(o,s){cr(o)&&(o={type:o}),n[s]=an(o,C$e(i,o.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var r=this._data;if(r[0]&&this.get("selectedMode")==="single"){for(var n=!1,i=0;i<r.length;i++){var o=r[i].get("name");if(this.isSelected(o)){this.select(o),n=!0;break}}!n&&this.select(r[0].get("name"))}},t.prototype._updateData=function(r){var n=[],i=[];r.eachRawSeries(function(h){var p=h.name;i.push(p);var m;if(h.legendVisualProvider){var v=h.legendVisualProvider,b=v.getAllNames();r.isSeriesFiltered(h)||(i=i.concat(b)),b.length?n=n.concat(b):m=!0}else m=!0;m&&nO(h)&&n.push(h.name)}),this._availableNames=i;var o=this.get("data")||n,s=Ar(),a=fr(o,function(h){return(cr(h)||ni(h))&&(h={name:h}),s.get(h.name)?null:(s.set(h.name,!0),new Li(h,this,this.ecModel))},this);this._data=ao(a,function(h){return!!h})},t.prototype.getData=function(){return this._data},t.prototype.select=function(r){var n=this.option.selected,i=this.get("selectedMode");if(i==="single"){var o=this._data;Ve(o,function(s){n[s.get("name")]=!1})}n[r]=!0},t.prototype.unSelect=function(r){this.get("selectedMode")!=="single"&&(this.option.selected[r]=!1)},t.prototype.toggleSelected=function(r){var n=this.option.selected;n.hasOwnProperty(r)||(n[r]=!0),this[n[r]?"unSelect":"select"](r)},t.prototype.allSelect=function(){var r=this._data,n=this.option.selected;Ve(r,function(i){n[i.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var r=this._data,n=this.option.selected;Ve(r,function(i){var o=i.get("name",!0);n.hasOwnProperty(o)||(n[o]=!0),n[o]=!n[o]})},t.prototype.isSelected=function(r){var n=this.option.selected;return!(n.hasOwnProperty(r)&&!n[r])&&sn(this._availableNames,r)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t})(mn),jm=ri,MD=Ve,Ew=mi,mK=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.newlineDisabled=!1,r}return t.prototype.init=function(){this.group.add(this._contentGroup=new Ew),this.group.add(this._selectorGroup=new Ew),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(r,n,i){var o=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!r.get("show",!0)){var s=r.get("align"),a=r.get("orient");(!s||s==="auto")&&(s=r.get("left")==="right"&&a==="vertical"?"right":"left");var h=r.get("selector",!0),p=r.get("selectorPosition",!0);h&&(!p||p==="auto")&&(p=a==="horizontal"?"end":"start"),this.renderInner(s,r,n,i,h,a,p);var m=r.getBoxLayoutParams(),v={width:i.getWidth(),height:i.getHeight()},b=r.get("padding"),x=Jg(m,v,b),C=this.layoutInner(r,s,x,o,h,p),I=Jg(Mn({width:C.width,height:C.height},m),v,b);this.group.x=I.x-C.x,this.group.y=I.y-C.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Uke(C,r))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(r,n,i,o,s,a,h){var p=this.getContentGroup(),m=Ar(),v=n.get("selectedMode"),b=[];i.eachRawSeries(function(x){!x.get("legendHoverLink")&&b.push(x.id)}),MD(n.getData(),function(x,C){var I=x.get("name");if(!this.newlineDisabled&&(I===""||I===`
`)){var A=new Ew;A.newline=!0,p.add(A);return}var R=i.getSeriesByName(I)[0];if(!m.get(I))if(R){var k=R.getData(),$=k.getVisual("legendLineStyle")||{},N=k.getVisual("legendIcon"),H=k.getVisual("style"),W=this._createItem(R,I,C,x,n,r,$,H,N,v,o);W.on("click",jm(e9,I,null,o,b)).on("mouseover",jm(ID,R.name,null,o,b)).on("mouseout",jm(ED,R.name,null,o,b)),i.ssr&&W.eachChild(function(j){var X=nn(j);X.seriesIndex=R.seriesIndex,X.dataIndex=C,X.ssrType="legend"}),m.set(I,!0)}else i.eachRawSeries(function(j){if(!m.get(I)&&j.legendVisualProvider){var X=j.legendVisualProvider;if(!X.containName(I))return;var K=X.indexOfName(I),Q=X.getItemVisual(K,"style"),oe=X.getItemVisual(K,"legendIcon"),he=du(Q.fill);he&&he[3]===0&&(he[3]=.2,Q=Kt(Kt({},Q),{fill:yT(he,"rgba")}));var ye=this._createItem(j,I,C,x,n,r,{},Q,oe,v,o);ye.on("click",jm(e9,null,I,o,b)).on("mouseover",jm(ID,null,I,o,b)).on("mouseout",jm(ED,null,I,o,b)),i.ssr&&ye.eachChild(function(be){var ce=nn(be);ce.seriesIndex=j.seriesIndex,ce.dataIndex=C,ce.ssrType="legend"}),m.set(I,!0)}},this)},this),s&&this._createSelector(s,n,o,a,h)},t.prototype._createSelector=function(r,n,i,o,s){var a=this.getSelectorGroup();MD(r,function(p){var m=p.type,v=new $o({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:m==="all"?"legendAllSelect":"legendInverseSelect",legendId:n.id})}});a.add(v);var b=n.getModel("selectorLabel"),x=n.getModel(["emphasis","selectorLabel"]);$T(v,{normal:b,emphasis:x},{defaultText:p.title}),o2(v)})},t.prototype._createItem=function(r,n,i,o,s,a,h,p,m,v,b){var x=r.visualDrawType,C=s.get("itemWidth"),I=s.get("itemHeight"),A=s.isSelected(n),R=o.get("symbolRotate"),k=o.get("symbolKeepAspect"),$=o.get("icon");m=$||m||"roundRect";var N=P$e(m,o,h,p,x,A,b),H=new Ew,W=o.getModel("textStyle");if(br(r.getLegendIcon)&&(!$||$==="inherit"))H.add(r.getLegendIcon({itemWidth:C,itemHeight:I,icon:m,iconRotate:R,itemStyle:N.itemStyle,lineStyle:N.lineStyle,symbolKeepAspect:k}));else{var j=$==="inherit"&&r.getData().getVisual("symbol")?R==="inherit"?r.getData().getVisual("symbolRotate"):R:0;H.add(M$e({itemWidth:C,itemHeight:I,icon:m,iconRotate:j,itemStyle:N.itemStyle,symbolKeepAspect:k}))}var X=a==="left"?C+5:-5,K=a,Q=s.get("formatter"),oe=n;cr(Q)&&Q?oe=Q.replace("{name}",n??""):br(Q)&&(oe=Q(n));var he=A?W.getTextColor():o.get("inactiveColor");H.add(new $o({style:Pc(W,{text:oe,x:X,y:I/2,fill:he,align:K,verticalAlign:"middle"},{inheritColor:he})}));var ye=new Oi({shape:H.getBoundingRect(),style:{fill:"transparent"}}),be=o.getModel("tooltip");return be.get("show")&&RT({el:ye,componentModel:s,itemName:n,itemTooltipOption:be.option}),H.add(ye),H.eachChild(function(ce){ce.silent=!0}),ye.silent=!v,this.getContentGroup().add(H),o2(H),H.__legendDataIndex=i,H},t.prototype.layoutInner=function(r,n,i,o,s,a){var h=this.getContentGroup(),p=this.getSelectorGroup();l0(r.get("orient"),h,r.get("itemGap"),i.width,i.height);var m=h.getBoundingRect(),v=[-m.x,-m.y];if(p.markRedraw(),h.markRedraw(),s){l0("horizontal",p,r.get("selectorItemGap",!0));var b=p.getBoundingRect(),x=[-b.x,-b.y],C=r.get("selectorButtonGap",!0),I=r.getOrient().index,A=I===0?"width":"height",R=I===0?"height":"width",k=I===0?"y":"x";a==="end"?x[I]+=m[A]+C:v[I]+=b[A]+C,x[1-I]+=m[R]/2-b[R]/2,p.x=x[0],p.y=x[1],h.x=v[0],h.y=v[1];var $={x:0,y:0};return $[A]=m[A]+C+b[A],$[R]=Math.max(m[R],b[R]),$[k]=Math.min(0,b[k]+x[1-I]),$}else return h.x=v[0],h.y=v[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t})(cs);function P$e(e,t,r,n,i,o,s){function a(A,R){A.lineWidth==="auto"&&(A.lineWidth=R.lineWidth>0?2:0),MD(A,function(k,$){A[$]==="inherit"&&(A[$]=R[$])})}var h=t.getModel("itemStyle"),p=h.getItemStyle(),m=e.lastIndexOf("empty",0)===0?"fill":"stroke",v=h.getShallow("decal");p.decal=!v||v==="inherit"?n.decal:sD(v,s),p.fill==="inherit"&&(p.fill=n[i]),p.stroke==="inherit"&&(p.stroke=n[m]),p.opacity==="inherit"&&(p.opacity=(i==="fill"?n:r).opacity),a(p,n);var b=t.getModel("lineStyle"),x=b.getLineStyle();if(a(x,r),p.fill==="auto"&&(p.fill=n.fill),p.stroke==="auto"&&(p.stroke=n.fill),x.stroke==="auto"&&(x.stroke=n.fill),!o){var C=t.get("inactiveBorderWidth"),I=p[m];p.lineWidth=C==="auto"?n.lineWidth>0&&I?2:0:p.lineWidth,p.fill=t.get("inactiveColor"),p.stroke=t.get("inactiveBorderColor"),x.stroke=b.get("inactiveColor"),x.lineWidth=b.get("inactiveWidth")}return{itemStyle:p,lineStyle:x}}function M$e(e){var t=e.icon||"roundRect",r=Cl(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill,e.symbolKeepAspect);return r.setStyle(e.itemStyle),r.rotation=(e.iconRotate||0)*Math.PI/180,r.setOrigin([e.itemWidth/2,e.itemHeight/2]),t.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),r}function e9(e,t,r,n){ED(e,t,r,n),r.dispatchAction({type:"legendToggleSelect",name:e??t}),ID(e,t,r,n)}function gK(e){for(var t=e.getZr().storage.getDisplayList(),r,n=0,i=t.length;n<i&&!(r=t[n].states.emphasis);)n++;return r&&r.hoverLayer}function ID(e,t,r,n){gK(r)||r.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:n})}function ED(e,t,r,n){gK(r)||r.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:n})}function I$e(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries(function(r){for(var n=0;n<t.length;n++)if(!t[n].isSelected(r.name))return!1;return!0})}function y_(e,t,r){var n=e==="allSelect"||e==="inverseSelect",i={},o=[];r.eachComponent({mainType:"legend",query:t},function(a){n?a[e]():a[e](t.name),t9(a,i),o.push(a.componentIndex)});var s={};return r.eachComponent("legend",function(a){Ve(i,function(h,p){a[h?"select":"unSelect"](p)}),t9(a,s)}),n?{selected:s,legendIndex:o}:{name:t.name,selected:s}}function t9(e,t){var r=t||{};return Ve(e.getData(),function(n){var i=n.get("name");if(!(i===`
`||i==="")){var o=e.isSelected(i);rp(r,i)?r[i]=r[i]&&o:r[i]=o}}),r}function E$e(e){e.registerAction("legendToggleSelect","legendselectchanged",ri(y_,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",ri(y_,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",ri(y_,"inverseSelect")),e.registerAction("legendSelect","legendselected",ri(y_,"select")),e.registerAction("legendUnSelect","legendunselected",ri(y_,"unSelect"))}function vK(e){e.registerComponentModel(PD),e.registerComponentView(mK),e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,I$e),e.registerSubTypeDefaulter("legend",function(){return"plain"}),E$e(e)}var A$e=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.setScrollDataIndex=function(r){this.option.scrollDataIndex=r},t.prototype.init=function(r,n,i){var o=Lb(r);e.prototype.init.call(this,r,n,i),r9(this,r,o)},t.prototype.mergeOption=function(r,n){e.prototype.mergeOption.call(this,r,n),r9(this,this.option,r)},t.type="legend.scroll",t.defaultOption=vO(PD.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t})(PD);function r9(e,t,r){var n=e.getOrient(),i=[1,1];i[n.index]=0,Qg(t,r,{type:"box",ignoreSize:!!i})}var n9=mi,rE=["width","height"],nE=["x","y"],D$e=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.newlineDisabled=!0,r._currentIndex=0,r}return t.prototype.init=function(){e.prototype.init.call(this),this.group.add(this._containerGroup=new n9),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new n9)},t.prototype.resetInner=function(){e.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(r,n,i,o,s,a,h){var p=this;e.prototype.renderInner.call(this,r,n,i,o,s,a,h);var m=this._controllerGroup,v=n.get("pageIconSize",!0),b=nr(v)?v:[v,v];C("pagePrev",0);var x=n.getModel("pageTextStyle");m.add(new $o({name:"pageText",style:{text:"xx/xx",fill:x.getTextColor(),font:x.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),C("pageNext",1);function C(I,A){var R=I+"DataIndex",k=gO(n.get("pageIcons",!0)[n.getOrient().name][A],{onclick:kr(p._pageGo,p,R,n,o)},{x:-b[0]/2,y:-b[1]/2,width:b[0],height:b[1]});k.name=I,m.add(k)}},t.prototype.layoutInner=function(r,n,i,o,s,a){var h=this.getSelectorGroup(),p=r.getOrient().index,m=rE[p],v=nE[p],b=rE[1-p],x=nE[1-p];s&&l0("horizontal",h,r.get("selectorItemGap",!0));var C=r.get("selectorButtonGap",!0),I=h.getBoundingRect(),A=[-I.x,-I.y],R=Xr(i);s&&(R[m]=i[m]-I[m]-C);var k=this._layoutContentAndController(r,o,R,p,m,b,x,v);if(s){if(a==="end")A[p]+=k[m]+C;else{var $=I[m]+C;A[p]-=$,k[v]-=$}k[m]+=I[m]+C,A[1-p]+=k[x]+k[b]/2-I[b]/2,k[b]=Math.max(k[b],I[b]),k[x]=Math.min(k[x],I[x]+A[1-p]),h.x=A[0],h.y=A[1],h.markRedraw()}return k},t.prototype._layoutContentAndController=function(r,n,i,o,s,a,h,p){var m=this.getContentGroup(),v=this._containerGroup,b=this._controllerGroup;l0(r.get("orient"),m,r.get("itemGap"),o?i.width:null,o?null:i.height),l0("horizontal",b,r.get("pageButtonItemGap",!0));var x=m.getBoundingRect(),C=b.getBoundingRect(),I=this._showController=x[s]>i[s],A=[-x.x,-x.y];n||(A[o]=m[p]);var R=[0,0],k=[-C.x,-C.y],$=$r(r.get("pageButtonGap",!0),r.get("itemGap",!0));if(I){var N=r.get("pageButtonPosition",!0);N==="end"?k[o]+=i[s]-C[s]:R[o]+=C[s]+$}k[1-o]+=x[a]/2-C[a]/2,m.setPosition(A),v.setPosition(R),b.setPosition(k);var H={x:0,y:0};if(H[s]=I?i[s]:x[s],H[a]=Math.max(x[a],C[a]),H[h]=Math.min(0,C[h]+k[1-o]),v.__rectSize=i[s],I){var W={x:0,y:0};W[s]=Math.max(i[s]-C[s]-$,0),W[a]=H[a],v.setClipPath(new Oi({shape:W})),v.__rectSize=W[s]}else b.eachChild(function(X){X.attr({invisible:!0,silent:!0})});var j=this._getPageInfo(r);return j.pageIndex!=null&&vu(m,{x:j.contentPosition[0],y:j.contentPosition[1]},I?r:null),this._updatePageInfoView(r,j),H},t.prototype._pageGo=function(r,n,i){var o=this._getPageInfo(n)[r];o!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:n.id})},t.prototype._updatePageInfoView=function(r,n){var i=this._controllerGroup;Ve(["pagePrev","pageNext"],function(m){var v=m+"DataIndex",b=n[v]!=null,x=i.childOfName(m);x&&(x.setStyle("fill",b?r.get("pageIconColor",!0):r.get("pageIconInactiveColor",!0)),x.cursor=b?"pointer":"default")});var o=i.childOfName("pageText"),s=r.get("pageFormatter"),a=n.pageIndex,h=a!=null?a+1:0,p=n.pageCount;o&&s&&o.setStyle("text",cr(s)?s.replace("{current}",h==null?"":h+"").replace("{total}",p==null?"":p+""):s({current:h,total:p}))},t.prototype._getPageInfo=function(r){var n=r.get("scrollDataIndex",!0),i=this.getContentGroup(),o=this._containerGroup.__rectSize,s=r.getOrient().index,a=rE[s],h=nE[s],p=this._findTargetItemIndex(n),m=i.children(),v=m[p],b=m.length,x=b?1:0,C={contentPosition:[i.x,i.y],pageCount:x,pageIndex:x-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!v)return C;var I=N(v);C.contentPosition[s]=-I.s;for(var A=p+1,R=I,k=I,$=null;A<=b;++A)$=N(m[A]),(!$&&k.e>R.s+o||$&&!H($,R.s))&&(k.i>R.i?R=k:R=$,R&&(C.pageNextDataIndex==null&&(C.pageNextDataIndex=R.i),++C.pageCount)),k=$;for(var A=p-1,R=I,k=I,$=null;A>=-1;--A)$=N(m[A]),(!$||!H(k,$.s))&&R.i<k.i&&(k=R,C.pagePrevDataIndex==null&&(C.pagePrevDataIndex=R.i),++C.pageCount,++C.pageIndex),R=$;return C;function N(W){if(W){var j=W.getBoundingRect(),X=j[h]+W[h];return{s:X,e:X+j[a],i:W.__legendDataIndex}}}function H(W,j){return W.e>=j&&W.s<=j+o}},t.prototype._findTargetItemIndex=function(r){if(!this._showController)return 0;var n,i=this.getContentGroup(),o;return i.eachChild(function(s,a){var h=s.__legendDataIndex;o==null&&h!=null&&(o=a),h===r&&(n=a)}),n??o},t.type="legend.scroll",t})(mK);function L$e(e){e.registerAction("legendScroll","legendscroll",function(t,r){var n=t.scrollDataIndex;n!=null&&r.eachComponent({mainType:"legend",subType:"scroll",query:t},function(i){i.setScrollDataIndex(n)})})}function R$e(e){Us(vK),e.registerComponentModel(A$e),e.registerComponentView(D$e),L$e(e)}function O$e(e){Us(vK),Us(R$e)}var k$e=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="dataZoom.inside",t.defaultOption=vO(x2.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t})(x2),ak=Bi();function $$e(e,t,r){ak(e).coordSysRecordMap.each(function(n){var i=n.dataZoomInfoMap.get(t.uid);i&&(i.getRange=r)})}function z$e(e,t){for(var r=ak(e).coordSysRecordMap,n=r.keys(),i=0;i<n.length;i++){var o=n[i],s=r.get(o),a=s.dataZoomInfoMap;if(a){var h=t.uid,p=a.get(h);p&&(a.removeKey(h),a.keys().length||yK(r,s))}}}function yK(e,t){if(t){e.removeKey(t.model.uid);var r=t.controller;r&&r.dispose()}}function B$e(e,t){var r={model:t,containsPoint:ri(N$e,t),dispatchAction:ri(F$e,e),dataZoomInfoMap:null,controller:null},n=r.controller=new QOe(e.getZr());return Ve(["pan","zoom","scrollMove"],function(i){n.on(i,function(o){var s=[];r.dataZoomInfoMap.each(function(a){if(o.isAvailableBehavior(a.model.option)){var h=(a.getRange||{})[i],p=h&&h(a.dzReferCoordSysInfo,r.model.mainType,r.controller,o);!a.model.get("disabled",!0)&&p&&s.push({dataZoomId:a.model.id,start:p[0],end:p[1]})}}),s.length&&r.dispatchAction(s)})}),r}function F$e(e,t){e.isDisposed()||e.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function N$e(e,t,r,n){return e.coordinateSystem.containPoint([r,n])}function V$e(e){var t,r="type_",n={type_true:2,type_move:1,type_false:0,type_undefined:-1},i=!0;return e.each(function(o){var s=o.model,a=s.get("disabled",!0)?!1:s.get("zoomLock",!0)?"move":!0;n[r+a]>n[r+t]&&(t=a),i=i&&s.get("preventDefaultMouseMove",!0)}),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!i}}}function j$e(e){e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,function(t,r){var n=ak(r),i=n.coordSysRecordMap||(n.coordSysRecordMap=Ar());i.each(function(o){o.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(o){var s=oK(o);Ve(s.infoList,function(a){var h=a.model.uid,p=i.get(h)||i.set(h,B$e(r,a.model)),m=p.dataZoomInfoMap||(p.dataZoomInfoMap=Ar());m.set(o.uid,{dzReferCoordSysInfo:a,model:o,getRange:null})})}),i.each(function(o){var s=o.controller,a,h=o.dataZoomInfoMap;if(h){var p=h.keys()[0];p!=null&&(a=h.get(p))}if(!a){yK(i,o);return}var m=V$e(h);s.enable(m.controlType,m.opt),s.setPointerChecker(o.containsPoint),WT(o,"dispatchAction",a.model.get("throttle",!0),"fixRate")})})}var H$e=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="dataZoom.inside",r}return t.prototype.render=function(r,n,i){if(e.prototype.render.apply(this,arguments),r.noTarget()){this._clear();return}this.range=r.getPercentRange(),$$e(i,r,{pan:kr(iE.pan,this),zoom:kr(iE.zoom,this),scrollMove:kr(iE.scrollMove,this)})},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){z$e(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t})(aK),iE={zoom:function(e,t,r,n){var i=this.range,o=i.slice(),s=e.axisModels[0];if(s){var a=oE[t](null,[n.originX,n.originY],s,r,e),h=(a.signal>0?a.pixelStart+a.pixelLength-a.pixel:a.pixel-a.pixelStart)/a.pixelLength*(o[1]-o[0])+o[0],p=Math.max(1/n.scale,0);o[0]=(o[0]-h)*p+h,o[1]=(o[1]-h)*p+h;var m=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(QT(0,o,[0,100],0,m.minSpan,m.maxSpan),this.range=o,i[0]!==o[0]||i[1]!==o[1])return o}},pan:i9(function(e,t,r,n,i,o){var s=oE[n]([o.oldX,o.oldY],[o.newX,o.newY],t,i,r);return s.signal*(e[1]-e[0])*s.pixel/s.pixelLength}),scrollMove:i9(function(e,t,r,n,i,o){var s=oE[n]([0,0],[o.scrollDelta,o.scrollDelta],t,i,r);return s.signal*(e[1]-e[0])*o.scrollDelta})};function i9(e){return function(t,r,n,i){var o=this.range,s=o.slice(),a=t.axisModels[0];if(a){var h=e(s,a,t,r,n,i);if(QT(h,s,[0,100],"all"),this.range=s,o[0]!==s[0]||o[1]!==s[1])return s}}}var oE={grid:function(e,t,r,n,i){var o=r.axis,s={},a=i.model.coordinateSystem.getRect();return e=e||[0,0],o.dim==="x"?(s.pixel=t[0]-e[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=o.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=o.inverse?-1:1),s},polar:function(e,t,r,n,i){var o=r.axis,s={},a=i.model.coordinateSystem,h=a.getRadiusAxis().getExtent(),p=a.getAngleAxis().getExtent();return e=e?a.pointToCoord(e):[0,0],t=a.pointToCoord(t),r.mainType==="radiusAxis"?(s.pixel=t[0]-e[0],s.pixelLength=h[1]-h[0],s.pixelStart=h[0],s.signal=o.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=p[1]-p[0],s.pixelStart=p[0],s.signal=o.inverse?-1:1),s},singleAxis:function(e,t,r,n,i){var o=r.axis,s=i.model.coordinateSystem.getRect(),a={};return e=e||[0,0],o.orient==="horizontal"?(a.pixel=t[0]-e[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=o.inverse?1:-1):(a.pixel=t[1]-e[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=o.inverse?-1:1),a}};function G$e(e){sK(e),e.registerComponentModel(k$e),e.registerComponentView(H$e),j$e(e)}var U$e=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=vO(x2.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t})(x2),__=Oi,o9=7,W$e=1,aE=30,q$e=7,b_="horizontal",a9="vertical",Z$e=5,X$e=["line","bar","candlestick","scatter"],K$e={easing:"cubicOut",duration:100,delay:0},Y$e=(function(e){qt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._displayables={},r}return t.prototype.init=function(r,n){this.api=n,this._onBrush=kr(this._onBrush,this),this._onBrushEnd=kr(this._onBrushEnd,this)},t.prototype.render=function(r,n,i,o){if(e.prototype.render.apply(this,arguments),WT(this,"_dispatchZoomAction",r.get("throttle"),"fixRate"),this._orient=r.getOrient(),r.get("show")===!1){this.group.removeAll();return}if(r.noTarget()){this._clear(),this.group.removeAll();return}(!o||o.type!=="dataZoom"||o.from!==this.uid)&&this._buildView(),this._updateView()},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){d2(this,"_dispatchZoomAction");var r=this.api.getZr();r.off("mousemove",this._onBrush),r.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var r=this.group;r.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var n=this._displayables.sliderGroup=new mi;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),r.add(n),this._positionGroup()},t.prototype._resetLocation=function(){var r=this.dataZoomModel,n=this.api,i=r.get("brushSelect"),o=i?q$e:0,s=this._findCoordRect(),a={width:n.getWidth(),height:n.getHeight()},h=this._orient===b_?{right:a.width-s.x-s.width,top:a.height-aE-o9-o,width:s.width,height:aE}:{right:o9,top:s.y,width:aE,height:s.height},p=Lb(r.option);Ve(["right","top","width","height"],function(v){p[v]==="ph"&&(p[v]=h[v])});var m=Jg(p,a);this._location={x:m.x,y:m.y},this._size=[m.width,m.height],this._orient===a9&&this._size.reverse()},t.prototype._positionGroup=function(){var r=this.group,n=this._location,i=this._orient,o=this.dataZoomModel.getFirstTargetAxisModel(),s=o&&o.get("inverse"),a=this._displayables.sliderGroup,h=(this._dataShadowInfo||{}).otherAxisInverse;a.attr(i===b_&&!s?{scaleY:h?1:-1,scaleX:1}:i===b_&&s?{scaleY:h?1:-1,scaleX:-1}:i===a9&&!s?{scaleY:h?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:h?-1:1,scaleX:-1,rotation:Math.PI/2});var p=r.getBoundingRect([a]);r.x=n.x-p.x,r.y=n.y-p.y,r.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var r=this.dataZoomModel,n=this._size,i=this._displayables.sliderGroup,o=r.get("brushSelect");i.add(new __({silent:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:r.get("backgroundColor")},z2:-40}));var s=new __({shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:"transparent"},z2:0,onclick:kr(this._onClickPanel,this)}),a=this.api.getZr();o?(s.on("mousedown",this._onBrushStart,this),s.cursor="crosshair",a.on("mousemove",this._onBrush),a.on("mouseup",this._onBrushEnd)):(a.off("mousemove",this._onBrush),a.off("mouseup",this._onBrushEnd)),i.add(s)},t.prototype._renderDataShadow=function(){var r=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!r)return;var n=this._size,i=this._shadowSize||[],o=r.series,s=o.getRawData(),a=o.getShadowDim&&o.getShadowDim(),h=a&&s.getDimensionInfo(a)?o.getShadowDim():r.otherDim;if(h==null)return;var p=this._shadowPolygonPts,m=this._shadowPolylinePts;if(s!==this._shadowData||h!==this._shadowDim||n[0]!==i[0]||n[1]!==i[1]){var v=s.getDataExtent(h),b=(v[1]-v[0])*.3;v=[v[0]-b,v[1]+b];var x=[0,n[1]],C=[0,n[0]],I=[[n[0],0],[0,0]],A=[],R=C[1]/(s.count()-1),k=0,$=Math.round(s.count()/n[0]),N;s.each([h],function(K,Q){if($>0&&Q%$){k+=R;return}var oe=K==null||isNaN(K)||K==="",he=oe?0:Xo(K,v,x,!0);oe&&!N&&Q?(I.push([I[I.length-1][0],0]),A.push([A[A.length-1][0],0])):!oe&&N&&(I.push([k,0]),A.push([k,0])),I.push([k,he]),A.push([k,he]),k+=R,N=oe}),p=this._shadowPolygonPts=I,m=this._shadowPolylinePts=A}this._shadowData=s,this._shadowDim=h,this._shadowSize=[n[0],n[1]];var H=this.dataZoomModel;function W(K){var Q=H.getModel(K?"selectedDataBackground":"dataBackground"),oe=new mi,he=new AT({shape:{points:p},segmentIgnoreThreshold:1,style:Q.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),ye=new Ab({shape:{points:m},segmentIgnoreThreshold:1,style:Q.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return oe.add(he),oe.add(ye),oe}for(var j=0;j<3;j++){var X=W(j===1);this._displayables.sliderGroup.add(X),this._displayables.dataShadowSegs.push(X)}},t.prototype._prepareDataShadowInfo=function(){var r=this.dataZoomModel,n=r.get("showDataShadow");if(n!==!1){var i,o=this.ecModel;return r.eachTargetAxis(function(s,a){var h=r.getAxisProxy(s,a).getTargetSeriesModels();Ve(h,function(p){if(!i&&!(n!==!0&&sn(X$e,p.get("type"))<0)){var m=o.getComponent(Oh(s),a).axis,v=J$e(s),b,x=p.coordinateSystem;v!=null&&x.getOtherAxis&&(b=x.getOtherAxis(m).inverse),v=p.getData().mapDimension(v),i={thisAxis:m,series:p,thisDim:s,otherDim:v,otherAxisInverse:b}}},this)},this),i}},t.prototype._renderHandle=function(){var r=this.group,n=this._displayables,i=n.handles=[null,null],o=n.handleLabels=[null,null],s=this._displayables.sliderGroup,a=this._size,h=this.dataZoomModel,p=this.api,m=h.get("borderRadius")||0,v=h.get("brushSelect"),b=n.filler=new __({silent:v,style:{fill:h.get("fillerColor")},textConfig:{position:"inside"}});s.add(b),s.add(new __({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:a[0],height:a[1],r:m},style:{stroke:h.get("dataBackgroundColor")||h.get("borderColor"),lineWidth:W$e,fill:"rgba(0,0,0,0)"}})),Ve([0,1],function($){var N=h.get("handleIcon");!p2[N]&&N.indexOf("path://")<0&&N.indexOf("image://")<0&&(N="path://"+N);var H=Cl(N,-1,0,2,2,null,!0);H.attr({cursor:s9(this._orient),draggable:!0,drift:kr(this._onDragMove,this,$),ondragend:kr(this._onDragEnd,this),onmouseover:kr(this._showDataInfo,this,!0),onmouseout:kr(this._showDataInfo,this,!1),z2:5});var W=H.getBoundingRect(),j=h.get("handleSize");this._handleHeight=so(j,this._size[1]),this._handleWidth=W.width/W.height*this._handleHeight,H.setStyle(h.getModel("handleStyle").getItemStyle()),H.style.strokeNoScale=!0,H.rectHover=!0,H.ensureState("emphasis").style=h.getModel(["emphasis","handleStyle"]).getItemStyle(),o2(H);var X=h.get("handleColor");X!=null&&(H.style.fill=X),s.add(i[$]=H);var K=h.getModel("textStyle"),Q=h.get("handleLabel")||{},oe=Q.show||!1;r.add(o[$]=new $o({silent:!0,invisible:!oe,style:Pc(K,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:K.getTextColor(),font:K.getFont()}),z2:10}))},this);var x=b;if(v){var C=so(h.get("moveHandleSize"),a[1]),I=n.moveHandle=new Oi({style:h.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:a[1]-.5,height:C}}),A=C*.8,R=n.moveHandleIcon=Cl(h.get("moveHandleIcon"),-A/2,-A/2,A,A,"#fff",!0);R.silent=!0,R.y=a[1]+C/2-.5,I.ensureState("emphasis").style=h.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var k=Math.min(a[1]/2,Math.max(C,10));x=n.moveZone=new Oi({invisible:!0,shape:{y:a[1]-k,height:C+k}}),x.on("mouseover",function(){p.enterEmphasis(I)}).on("mouseout",function(){p.leaveEmphasis(I)}),s.add(I),s.add(R),s.add(x)}x.attr({draggable:!0,cursor:s9(this._orient),drift:kr(this._onDragMove,this,"all"),ondragstart:kr(this._showDataInfo,this,!0),ondragend:kr(this._onDragEnd,this),onmouseover:kr(this._showDataInfo,this,!0),onmouseout:kr(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var r=this._range=this.dataZoomModel.getPercentRange(),n=this._getViewExtent();this._handleEnds=[Xo(r[0],[0,100],n,!0),Xo(r[1],[0,100],n,!0)]},t.prototype._updateInterval=function(r,n){var i=this.dataZoomModel,o=this._handleEnds,s=this._getViewExtent(),a=i.findRepresentativeAxisProxy().getMinMaxSpan(),h=[0,100];QT(n,o,s,i.get("zoomLock")?"all":r,a.minSpan!=null?Xo(a.minSpan,h,s,!0):null,a.maxSpan!=null?Xo(a.maxSpan,h,s,!0):null);var p=this._range,m=this._range=E_([Xo(o[0],s,h,!0),Xo(o[1],s,h,!0)]);return!p||p[0]!==m[0]||p[1]!==m[1]},t.prototype._updateView=function(r){var n=this._displayables,i=this._handleEnds,o=E_(i.slice()),s=this._size;Ve([0,1],function(x){var C=n.handles[x],I=this._handleHeight;C.attr({scaleX:I/2,scaleY:I/2,x:i[x]+(x?-1:1),y:s[1]/2-I/2})},this),n.filler.setShape({x:o[0],y:0,width:o[1]-o[0],height:s[1]});var a={x:o[0],width:o[1]-o[0]};n.moveHandle&&(n.moveHandle.setShape(a),n.moveZone.setShape(a),n.moveZone.getBoundingRect(),n.moveHandleIcon&&n.moveHandleIcon.attr("x",a.x+a.width/2));for(var h=n.dataShadowSegs,p=[0,o[0],o[1],s[0]],m=0;m<h.length;m++){var v=h[m],b=v.getClipPath();b||(b=new Oi,v.setClipPath(b)),b.setShape({x:p[m],y:0,width:p[m+1]-p[m],height:s[1]})}this._updateDataInfo(r)},t.prototype._updateDataInfo=function(r){var n=this.dataZoomModel,i=this._displayables,o=i.handleLabels,s=this._orient,a=["",""];if(n.get("showDetail")){var h=n.findRepresentativeAxisProxy();if(h){var p=h.getAxisModel().axis,m=this._range,v=r?h.calculateDataWindow({start:m[0],end:m[1]}).valueWindow:h.getDataValueWindow();a=[this._formatLabel(v[0],p),this._formatLabel(v[1],p)]}}var b=E_(this._handleEnds.slice());x.call(this,0),x.call(this,1);function x(C){var I=Pq(i.handles[C].parent,this.group),A=Mq(C===0?"right":"left",I),R=this._handleWidth/2+Z$e,k=W0([b[C]+(C===0?-R:R),this._size[1]/2],I);o[C].setStyle({x:k[0],y:k[1],verticalAlign:s===b_?"middle":A,align:s===b_?A:"center",text:a[C]})}},t.prototype._formatLabel=function(r,n){var i=this.dataZoomModel,o=i.get("labelFormatter"),s=i.get("labelPrecision");(s==null||s==="auto")&&(s=n.getPixelPrecision());var a=r==null||isNaN(r)?"":n.type==="category"||n.type==="time"?n.scale.getLabel({value:Math.round(r)}):r.toFixed(Math.min(s,20));return br(o)?o(r,a):cr(o)?o.replace("{value}",a):a},t.prototype._showDataInfo=function(r){var n=this.dataZoomModel.get("handleLabel")||{},i=n.show||!1,o=this.dataZoomModel.getModel(["emphasis","handleLabel"]),s=o.get("show")||!1,a=r||this._dragging?s:i,h=this._displayables,p=h.handleLabels;p[0].attr("invisible",!a),p[1].attr("invisible",!a),h.moveHandle&&this.api[a?"enterEmphasis":"leaveEmphasis"](h.moveHandle,1)},t.prototype._onDragMove=function(r,n,i,o){this._dragging=!0,Yg(o.event);var s=this._displayables.sliderGroup.getLocalTransform(),a=W0([n,i],s,!0),h=this._updateInterval(r,a[0]),p=this.dataZoomModel.get("realtime");this._updateView(!p),h&&p&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var r=this.dataZoomModel.get("realtime");!r&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(r){var n=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(r.offsetX,r.offsetY);if(!(i[0]<0||i[0]>n[0]||i[1]<0||i[1]>n[1])){var o=this._handleEnds,s=(o[0]+o[1])/2,a=this._updateInterval("all",i[0]-s);this._updateView(),a&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(r){var n=r.offsetX,i=r.offsetY;this._brushStart=new $n(n,i),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(r){if(this._brushing){var n=this._displayables.brushRect;if(this._brushing=!1,!!n){n.attr("ignore",!0);var i=n.shape,o=+new Date;if(!(o-this._brushStartTime<200&&Math.abs(i.width)<5)){var s=this._getViewExtent(),a=[0,100];this._range=E_([Xo(i.x,s,a,!0),Xo(i.x+i.width,s,a,!0)]),this._handleEnds=[i.x,i.x+i.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(r){this._brushing&&(Yg(r.event),this._updateBrushRect(r.offsetX,r.offsetY))},t.prototype._updateBrushRect=function(r,n){var i=this._displayables,o=this.dataZoomModel,s=i.brushRect;s||(s=i.brushRect=new __({silent:!0,style:o.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(s)),s.attr("ignore",!1);var a=this._brushStart,h=this._displayables.sliderGroup,p=h.transformCoordToLocal(r,n),m=h.transformCoordToLocal(a.x,a.y),v=this._size;p[0]=Math.max(Math.min(v[0],p[0]),0),s.setShape({x:m[0],y:0,width:p[0]-m[0],height:v[1]})},t.prototype._dispatchZoomAction=function(r){var n=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:r?K$e:null,start:n[0],end:n[1]})},t.prototype._findCoordRect=function(){var r,n=oK(this.dataZoomModel).infoList;if(!r&&n.length){var i=n[0].model.coordinateSystem;r=i.getRect&&i.getRect()}if(!r){var o=this.api.getWidth(),s=this.api.getHeight();r={x:o*.2,y:s*.2,width:o*.6,height:s*.6}}return r},t.type="dataZoom.slider",t})(aK);function J$e(e){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[e]}function s9(e){return e==="vertical"?"ns-resize":"ew-resize"}function Q$e(e){e.registerComponentModel(U$e),e.registerComponentView(Y$e),sK(e)}function e3e(e){Us(G$e),Us(Q$e)}Us([BRe,fK,dK,T$e,iK,YOe,fke]);const t3e={name:"BusChartVue",components:{"v-chart":vX},data:()=>({lines:[],stops1:[],stops2:[],historyBusData:[],themeColor:"#212529",themeColor_rev:"#DEE2E6",echartsOption:{tooltip:{show:!1},title:[{subtext:`By bilibili@
GitHub@ni1o1`,sublink:"https://github.com/ni1o1/nikebus",textAlign:"right",bottom:"2%",left:"98%"}],grid:[{top:"10%",bottom:"0%",left:"26px",right:"14px"}],yAxis:[{inverse:!0,min:-100,max:4500,type:"value",boundaryGap:!1,show:!1,splitLine:{show:!1}}],xAxis:[{position:"top",verticalAlign:"top",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{interval:0},type:"category",data:[`L1

COE`,`L1

JHL`,`L2

RSB`,`L2

JHL`],splitLine:{show:!1}}],series:[{type:"scatter",label:{fontSize:8,show:!0,color:"#212529",position:"right",formatter:"{b}"},data:[]},{type:"lines",coordinateSystem:"cartesian2d",data:[]},{type:"scatter",name:"bus",label:{fontSize:11,show:!0,color:"#212529",textBorderColor:"#DEE2E6",textBorderWidth:2.5,fontWeight:"bold",position:"right",distance:-5,formatter:"{b}"},data:[]}],stateAnimation:{duration:500}},timer:{},second:0}),methods:{setEchartsOption(e){this.echartsOption=e},checkTheme(){window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?(this.themeColor="#DEE2E6",this.themeColor_rev="#212529"):(this.themeColor="#212529",this.themeColor_rev="#DEE2E6"),this.updateSeriesColor()},updateSeriesColor(){this.echartsOption.series=this.echartsOption.series.map(e=>(e.label&&(e.label.color=this.themeColor,e.label.textBorderColor=this.themeColor_rev),e))},load_data(){_r.all([_r.get("/bus_echart/line1.json"),_r.get("/bus_echart/line2.json"),_r.get("/bus_echart/stop1.json"),_r.get("/bus_echart/stop2.json")]).then(_r.spread((e,t,r,n)=>{const i=e.data,o=t.data,s=r.data,a=n.data;this.lines=[i,o],this.stops1=s,this.stops2=a;const h=s.features.map(x=>({value:[1,Ku(i.features[0],x).properties.location*1e3],name:x.properties.name,symbolSize:8,itemStyle:{color:"#ff881b",opacity:1}})),p=s.features.map(x=>({value:[0,Yu(i.features[0])*1e3-Ku(i.features[0],x).properties.location*1e3],name:x.properties.name,symbolSize:8,itemStyle:{color:"#ff881b",opacity:1}})),m=a.features.map(x=>({value:[3,Ku(o.features[0],x).properties.location*1e3],name:x.properties.name,symbolSize:8,itemStyle:{color:"#379ff4",opacity:1}})),v=a.features.map(x=>({value:[2,Yu(o.features[0])*1e3-Ku(o.features[0],x).properties.location*1e3],name:x.properties.name,symbolSize:8,itemStyle:{color:"#379ff4",opacity:1}})),b={series:[{data:[...h,...p,...m,...v]},{data:[{coords:[[0,0],[0,Yu(i.features[0])*1e3]],lineStyle:{color:"#ff881b",width:2,opacity:1}},{coords:[[1,0],[1,Yu(i.features[0])*1e3]],lineStyle:{color:"#ff881b",width:2,opacity:1}},{coords:[[2,0],[2,Yu(o.features[0])*1e3]],lineStyle:{color:"#379ff4",width:2,opacity:1}},{coords:[[3,0],[3,Yu(o.features[0])*1e3]],lineStyle:{color:"#379ff4",width:2,opacity:1}}]}]};this.setEchartsOption(b)}))},updateBusPos(){this.lines.length>0&&_r.get("https://bus.sustcra.com/api/v2/monitor_osm/").then(e=>{const r=e.data.filter(i=>i.is_operating==1).map(i=>{let o=0;i.route_code=="XYBS2"?o=1:i.route_code=="XYBS1"&&(o=0);const s=su([i.lng,i.lat]);let a=this.lines[o].features[0],h=Ku(a,s),p=h.properties.location,m=p*1e3;return i.route_dir>0&&(m=Yu(a)*1e3-p*1e3),h.properties.dist*1e3>100|m<100?{value:[-1,0],name:"B"+i.id.slice(2),itemStyle:{color:"#222",show:!1},symbol:"image://https://bus.sustcra.com/bus-top-view.png",symbolSize:30,symbolRotate:180,speed:i.speed}:{value:[1-i.route_dir+o*2,m],name:"B"+i.id.slice(2),itemStyle:{color:"#222"},symbol:"image://https://bus.sustcra.com/bus-top-view.png",symbolSize:30,symbolRotate:180,speed:i.speed}});this.historyBusData=r.filter(i=>typeof i<"u");const n={series:[{},{},{data:r}]};this.setEchartsOption(n)})},refresh(){this.second+=1,this.second%10===0?this.updateBusPos():navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>{let t=e.coords.latitude,r=e.coords.longitude;const n=su([r,t]),i=e4(n,this.stops1),o=Ku(this.lines[0].features[0],i).properties.location*1e3,s=Yu(this.lines[0].features[0])*1e3-Ku(this.lines[0].features[0],i).properties.location*1e3,a=e4(n,this.stops2),h=Ku(this.lines[1].features[0],a).properties.location*1e3,p=Yu(this.lines[1].features[0])*1e3-Ku(this.lines[1].features[0],a).properties.location*1e3,m=this.historyBusData.filter(N=>N.value[0]===0&&N.value[1]<=s).map(N=>parseInt((s-N.value[1])/250)),v=this.historyBusData.filter(N=>N.value[0]===1&&N.value[1]<=o).map(N=>parseInt((o-N.value[1])/250)),b=this.historyBusData.filter(N=>N.value[0]===2&&N.value[1]<=p).map(N=>parseInt((p-N.value[1])/250)),x=this.historyBusData.filter(N=>N.value[0]===3&&N.value[1]<=h).map(N=>parseInt((h-N.value[1])/250)),C=m.length>0?`
 ~`+Math.min(...m)+"min.":"",I=v.length>0?`
  ~`+Math.min(...v)+"min.":"",A=b.length>0?`
   ~`+Math.min(...b)+"min.":"",R=x.length>0?`
    ~`+Math.min(...x)+"min.":"";let k=[],$=[];k=[{name:""+I,itemStyle:{color:"#ff881b"},coord:[1,o]},{name:""+C,itemStyle:{color:"#ff881b"},coord:[0,s]}],$=[{name:""+R,itemStyle:{color:"#379ff4"},coord:[3,h]},{name:""+A,itemStyle:{color:"#379ff4"},coord:[2,p]}],this.setEchartsOption({series:[{markPoint:{symbol:"arrow",symbolRotate:-90,symbolOffset:["-50%",0],symbolSize:10,label:{fontSize:10,show:!0,color:"#666",position:"left",formatter:"{b}"},data:[...k,...$]}},{},{}]})})}},watch:{lines:"updateBusPos"},created(){this.checkTheme(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",this.checkTheme)},mounted(){this.load_data(),this.updateBusPos(),this.timer=setInterval(()=>{this.refresh()},500)},unmounted(){clearInterval(this.timer)}};function r3e(e,t,r,n,i,o){const s=Cn("v-chart");return Pt(),Bt(pr,null,[ie(s,{class:"chart",option:e.echartsOption,autoresize:!0},null,8,["option"]),t[0]||(t[0]=Dt("img",{src:"https://visitor-badge.laobi.icu/badge?page_id=nikebus",alt:"visitor badge",class:"visitor-badge"},null,-1))],64)}const n3e=$i(t3e,[["render",r3e],["__scopeId","data-v-38e5a648"]]),i3e={name:"RealtimeTraffic",data(){return{baseUrl:"https://susteen.itbill.cn/api/v1/traffic",trafficList:[],formatter:new Intl.DateTimeFormat("zh-CN",{hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}},mounted(){this.getTrafficList()},methods:{async getTrafficList(){try{const e=await _r.get(this.baseUrl+"/canteens");this.trafficList=e.data.data;const t=this.trafficList.map(n=>_r.get(`${this.baseUrl}/canteens/${n.canteen_id}`)),r=await Promise.all(t);this.trafficList=this.trafficList.map((n,i)=>({...n,booth_traffic:r[i].data.data}))}catch(e){console.error("Error fetching traffic data:",e)}},timeFormat(e){const t=new Date(e);return this.formatter.format(t)}}},o3e={class:"container mt-3"},a3e={class:"card-header"},s3e={class:"card-title"},l3e={class:"card-subtitle"},u3e={class:"card-subtitle"},c3e={class:"list-group"};function h3e(e,t,r,n,i,o){return Pt(),Bn(Fa,{name:"fade",mode:"out-in",appear:""},{default:Lr(()=>[Dt("div",o3e,[(Pt(!0),Bt(pr,null,Oo(i.trafficList,s=>(Pt(),Bt("div",{class:"card mb-3",key:s.canteen_id},[Dt("div",a3e,[Dt("h5",s3e,Cr(s.canteen_name)+" "+Cr(s.canteen_en_name),1),Dt("p",l3e," Avg Number: "+Cr(s.avg_number.toFixed(2)),1),Dt("p",u3e," Last Updated: "+Cr(o.timeFormat(s.time)),1)]),Dt("ul",c3e,[(Pt(!0),Bt(pr,null,Oo(s.booth_traffic,a=>(Pt(),Bt("li",{class:"list-group-item",key:a.booth_id},[Dt("strong",null,Cr(a.booth_name)+" "+Cr(a.booth_en_name),1),Ai(" - : "+Cr(a.avg_number)+"  ",1)]))),128))])]))),128))])]),_:1})}const d3e=$i(i3e,[["render",h3e],["__scopeId","data-v-425ddfaf"]]),f3e={components:{AButton:Z_},data(){return{keySelected:null}},props:{objs:{},initPos:{type:Number,default:0}},mounted(){this.select(Object.keys(this.objs)[this.initPos])},watch:{objs(e){for(let t in this.objs){this.keySelected=t;break}}},computed:{},methods:{select:function(e){this.keySelected=e}}};function p3e(e,t,r,n,i,o){const s=Cn("a-button");return Pt(),Bt(pr,null,[(Pt(!0),Bt(pr,null,Oo(r.objs,(a,h,p)=>(Pt(),Bn(s,{key:p,onClick:m=>o.select(h),class:Lo(h==i.keySelected?"selected":"unselected"),type:h==i.keySelected?"primary":"default",size:"large"},{default:Lr(()=>[Ai(Cr(h),1)]),_:2},1032,["onClick","class","type"]))),128)),Hn(e.$slots,"default",{selected:r.objs[i.keySelected]})],64)}const m3e=$i(f3e,[["render",p3e]]),g3e={data(){return{data:null}},props:{path:{type:String}},watch:{path(e){if(e)return _r.get(e).then(t=>{this.data=t.data})}}};function v3e(e,t,r,n,i,o){return Hn(e.$slots,"default",{data:i.data})}const y3e=$i(g3e,[["render",v3e]]);Us([HRe,pOe,iK,dK,fK,O$e,e3e]);const _3e={name:"TrendChart",components:{"a-config-provider":gc,"data-request":y3e,"object-selector":m3e,"v-chart":vX},data(){return{}},setup(){},methods:{getUrl(e,t){const r=new Date,n=r.getFullYear(),i=String(r.getMonth()+1).padStart(2,"0"),o=String(r.getDate()).padStart(2,"0"),s=`${n}${i}${o}`;return`https://susteen.itbill.cn/api/v1/traffic/booths/${e}?date=${s}&meal=${t}`},getChartData(e,t){if(e)return e=e.data,{title:{text:[" Breakfast"," Lunch"," Dinner"][t]},xAxis:{type:"category",data:e.map(n=>n.time.slice(11,16))},yAxis:{type:"value",name:" Number"},series:[{data:e.map(n=>n.number),type:"line",lineStyle:{color:"rgb(90,120,200)"}}],dataZoom:[{type:"slider",xAxisIndex:0,start:50,end:100}]}}}},b3e={id:"bustable"};function x3e(e,t,r,n,i,o){const s=Cn("v-chart"),a=Cn("data-request"),h=Cn("object-selector"),p=Cn("a-config-provider");return Pt(),Bt("div",b3e,[ie(p,{theme:{token:{colorPrimary:"#ED6D00"}}},{default:Lr(()=>[ie(h,{objs:{" | Center Cafeteria":!0," | Building 10 No.2 Cafeteria":!1}},{default:Lr(m=>[t[0]||(t[0]=Dt("br",null,null,-1)),ie(p,{theme:{token:{colorPrimary:"#49BF7C"}}},{default:Lr(()=>[ie(h,{objs:m.selected?{" | Spicy Hot Pot":11," | Popular Dishes":12," | Popular Dishes":13," | Noodles":14," | Chiu Chow-style Brino Meat":15," | Rice with Mixed Vegetables":16}:{" | Popular Dishes":21," | Popular Dishes":22}},{default:Lr(v=>[(Pt(),Bt(pr,null,Oo([0,1,2],b=>Dt("div",{key:b},[ie(a,{path:o.getUrl(v.selected,b)},{default:Lr(({data:x})=>[ie(s,{class:"echarts",option:o.getChartData(x,b)},null,8,["option"])]),_:2},1032,["path"])])),64))]),_:1},8,["objs"])]),_:2},1024)]),_:1})]),_:1})])}const w3e=$i(_3e,[["render",x3e]]),S3e={name:"Menu",setup(){const e=Vt([]),t=()=>{const r=new Date,n=r.getFullYear(),i=String(r.getMonth()+1).padStart(2,"0"),o=String(r.getDate()).padStart(2,"0");_r.get(`https://susteen.itbill.cn/api/v1/menu/${n}/${i}/${o}`).then(s=>{e.value=s.data.data}).catch(s=>console.log("Error in Menu: "+s))};return Nr(()=>{t()}),{dailyMenus:e}}},T3e=["src","alt"];function C3e(e,t,r,n,i,o){return Pt(!0),Bt(pr,null,Oo(n.dailyMenus,s=>(Pt(),Bt("div",{key:s.canteen_id},[Dt("img",{class:"menu-img",src:s.url,alt:s.canteen_id,sizes:"width=200px"},null,8,T3e)]))),128)}const P3e=$i(S3e,[["render",C3e],["__scopeId","data-v-276f5f03"]]),M3e={name:"Canteen",components:{ASegmented:CR,RealtimeTraffic:d3e,TrendChart:w3e,Menu:P3e},data(){return{}},setup(){const e=Vt("realtime-queue-length"),t=Vt("realtime-queue-length"),r=Vt([{value:"realtime-queue-length",payload:{title:"",subTitle:"Queue Length"}},{value:"queue-trend-chart",payload:{title:"",subTitle:"Queue Trend"}},{value:"daily-menus",payload:{title:"",subTitle:"Daily Menus"}}]);return{initSelect:e,currentSelect:t,tabOptions:r,switchTab:i=>{t.value=i}}}},I3e={style:{padding:"4px 0px"}},E3e={class:"tab-container"},A3e={key:0},D3e={key:1},L3e={key:2};function R3e(e,t,r,n,i,o){const s=Cn("a-segmented"),a=Cn("RealtimeTraffic"),h=Cn("TrendChart"),p=Cn("Menu");return Pt(),Bt("div",null,[ie(s,{value:n.initSelect,"onUpdate:value":t[0]||(t[0]=m=>n.initSelect=m),options:n.tabOptions,onChange:n.switchTab},{label:Lr(({payload:m})=>[Dt("div",I3e,[Dt("div",null,Cr(m.title),1),Dt("div",null,Cr(m.subTitle),1)])]),_:1},8,["value","options","onChange"]),Dt("div",E3e,[n.currentSelect==="realtime-queue-length"?(Pt(),Bt("div",A3e,[ie(a)])):gn("",!0),n.currentSelect==="queue-trend-chart"?(Pt(),Bt("div",D3e,[ie(h)])):gn("",!0),n.currentSelect==="daily-menus"?(Pt(),Bt("div",L3e,[ie(p)])):gn("",!0)])])}const O3e=$i(M3e,[["render",R3e]]),k3e={name:"adsense-inline",mounted(){this.adsenseAddLoad()},methods:{adsenseAddLoad(){let e=document.createElement("script");e.type="text/javascript",e.text="(adsbygoogle = window.adsbygoogle || []).push({});",document.getElementsByTagName("body")[0].appendChild(e)}}},$3e={class:"container"};function z3e(e,t,r,n,i,o){return Pt(),Bt("div",$3e,[...t[0]||(t[0]=[Dt("ins",{class:"adsbygoogle",style:{display:"block"},"data-ad-client":"ca-pub-9039393129169217","data-ad-slot":"6679712662","data-ad-format":"auto","data-full-width-responsive":"true"},null,-1)])])}const B3e=$i(k3e,[["render",z3e]]),F3e={name:"adsense-displayad",mounted(){this.adsenseAddLoad()},methods:{adsenseAddLoad(){let e=document.createElement("script");e.type="text/javascript",e.text="(adsbygoogle = window.adsbygoogle || []).push({});",document.getElementsByTagName("body")[0].appendChild(e)}}},N3e={class:"container"};function V3e(e,t,r,n,i,o){return Pt(),Bt("div",N3e,[...t[0]||(t[0]=[Dt("ins",{class:"adsbygoogle",style:{display:"block","min-width":"300px","max-width":"970px",width:"100%",height:"103px"},"data-ad-client":"ca-pub-9039393129169217","data-ad-slot":"6679712662"},null,-1)])])}const j3e=$i(F3e,[["render",V3e]]),H3e=Pl({enhance({app:e}){e.component("BusTable",Vwe),e.component("BusTable_img",Uwe),e.component("BusAnnouncement",$Se),e.component("BusETAdemo",ZSe),e.component("TabView",r2e),e.component("RealtimeMap",H2e),e.component("RealtimeMapv2",X2e),e.component("CampusMap",Q2e),e.component("WeatherSpan",iTe),e.component("AdSenseInline",B3e),e.component("AdSenseDisplayAD",j3e),e.component("BusChartVue",n3e),e.component("Canteen",O3e)}}),G3e=Object.freeze(Object.defineProperty({__proto__:null,default:H3e},Symbol.toStringTag,{value:"Module"})),Aw=[Fne,bie,Cie,Mie,$ie,Zie,eoe,toe,soe,foe,use,Tse,$se,jse,G3e].map(e=>e.default).filter(Boolean),U3e=JSON.parse(`{"base":"/","lang":"en-US","title":"","description":"","head":[["link",{"rel":"icon","href":"/logo-assets/touch/homescreen192.png"}],["meta",{"name":"theme-color","content":"#49BF7C"}],["link",{"rel":"manifest","href":"/manifest.webmanifest"}],["meta",{"prefix":"og: http://ogp.me/ns#","property":"og:type","content":"article"}],["meta",{"prefix":"og: http://ogp.me/ns#","property":"og:image","content":"https://mirrors.sustech.edu.cn/git/sustech-online/sustech-online-ng/-/raw/master/docs/assets/og-image.png"}],["meta",{"prefix":"og: http://ogp.me/ns#","property":"og:article:author","content":"sustech.online"}],["meta",{"name":"apple-mobile-web-app-capable","content":"yes"}],["meta",{"name":"apple-mobile-web-app-status-bar-style","content":"black"}],["link",{"rel":"apple-touch-icon","href":"/logo-assets/touch/homescreen168.png"}],["meta",{"name":"msapplication-TileImage","content":"/logo-assets/touch/homescreen144.png"}],["meta",{"name":"msapplication-TileColor","content":"#49BF7C"}],["meta",{"name":"google-site-verification","content":"Av-srANCmFA_yZ8Iasa1yQsIPJCF_zlP5AoD35m6_Ww"}],["script",{"async":true,"src":"https://googletagmanager.com/gtag/js?id=G-1BQBXDGY3R"}],["script",{},"\\n                        window.dataLayer = window.dataLayer || [];\\n                        function gtag(){dataLayer.push(arguments);}\\n                        gtag('js', new Date());\\n                        gtag('config', 'G-1BQBXDGY3R');\\n                        "],["script",{"src":"/wx_helper.js"}],["script",{"src":"https://res.wx.qq.com/open/js/jweixin-1.6.0.js"}],["script",{"src":"https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/jquery/3.6.0/jquery.min.js"}],["script",{"src":"https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"}],["link",{"rel":"stylesheet","type":"text/css","href":"https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css"}],["script",{"src":"https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/datatables/1.10.21/js/jquery.dataTables.min.js"}],["link",{"rel":"stylesheet","type":"text/css","href":"https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/datatables/1.10.21/css/jquery.dataTables.min.css"}],["meta",{"name":"mobile-web-app-capable","content":"yes"}]],"locales":{"/":{"title":"","lang":"zh-CN","description":"Online manual for sustecher"}}}`);var Jm=vt(U3e),W3e=mre,q3e=()=>{const e=$re({history:W3e(zV("/")),routes:[{name:"vuepress-route",path:"/:catchAll(.*)",components:{}}],scrollBehavior:(t,r,n)=>n||(t.hash?{el:t.hash}:{top:0})});return e.beforeResolve(async(t,r)=>{if(t.path!==r.path||r===ec){const n=b0(t.fullPath);if(n.path!==t.fullPath)return n.path;const i=await n.loader();t.meta={...n.meta,_pageChunk:i}}else t.path===r.path&&(t.meta=r.meta)}),e},Z3e=e=>{e.component("ClientOnly",eL),e.component("Content",tL),e.component("RouteLink",hb)},X3e=(e,t,r)=>{const n=ve(()=>t.currentRoute.value.path),i=$9((A,R)=>({get(){return A(),t.currentRoute.value.meta._pageChunk},set(k){t.currentRoute.value.meta._pageChunk=k,R()}})),o=ve(()=>Wd.resolveLayouts(r)),s=ve(()=>Wd.resolveRouteLocale(Jm.value.locales,n.value)),a=ve(()=>Wd.resolveSiteLocaleData(Jm.value,s.value)),h=ve(()=>i.value.comp),p=ve(()=>i.value.data),m=ve(()=>p.value.frontmatter),v=ve(()=>Wd.resolvePageHeadTitle(p.value,a.value)),b=ve(()=>Wd.resolvePageHead(v.value,m.value,a.value)),x=ve(()=>Wd.resolvePageLang(p.value,a.value)),C=ve(()=>Wd.resolvePageLayout(p.value,o.value)),I={layouts:o,pageData:p,pageComponent:h,pageFrontmatter:m,pageHead:b,pageHeadTitle:v,pageLang:x,pageLayout:C,redirects:SE,routeLocale:s,routePath:n,routes:mg,siteData:Jm,siteLocaleData:a,frontmatter:m,head:b,headTitle:v,lang:x,page:p,site:Jm,siteLocale:a};return e.provide(JD,I),Object.defineProperties(e.config.globalProperties,{$pageFrontmatter:{get:()=>m.value},$pageHead:{get:()=>b.value},$pageHeadTitle:{get:()=>v.value},$pageLang:{get:()=>x.value},$pageData:{get:()=>p.value},$routeLocale:{get:()=>s.value},$withBase:{get:()=>B2},$frontmatter:{get:()=>m.value},$head:{get:()=>b.value},$headTitle:{get:()=>v.value},$lang:{get:()=>x.value},$page:{get:()=>p.value},$site:{get:()=>Jm.value},$siteLocale:{get:()=>a.value}}),I},K3e=([e,t,r=""])=>{const n=Object.entries(t).map(([a,h])=>Ns(h)?`[${a}=${JSON.stringify(h)}]`:h?`[${a}]`:"").join(""),i=`head > ${e}${n}`;return Array.from(document.querySelectorAll(i)).find(a=>a.innerText===r)??null},Y3e=([e,t,r])=>{if(!Ns(e))return null;const n=document.createElement(e);return XD(t)&&Object.entries(t).forEach(([i,o])=>{Ns(o)?n.setAttribute(i,o):o&&n.setAttribute(i,"")}),Ns(r)&&n.appendChild(document.createTextNode(r)),n},J3e=()=>{const e=Bre(),t=JV();let r=[];const n=()=>{e.value.forEach(s=>{const a=K3e(s);a&&r.push(a)})},i=()=>{const s=[];return e.value.forEach(a=>{const h=Y3e(a);h&&s.push(h)}),s},o=()=>{document.documentElement.lang=t.value;const s=i();r.forEach((a,h)=>{const p=s.findIndex(m=>a.isEqualNode(m));p===-1?(a.remove(),delete r[h]):s.splice(p,1)}),s.forEach(a=>document.head.appendChild(a)),r=[...r.filter(a=>!!a),...s]};un(Hre,o),Nr(()=>{n(),Zt(e,o,{immediate:!1})})},Q3e=fte,eze=async()=>{const e=Q3e({name:"Vuepress",setup(){J3e();for(const i of Aw)i.setup?.();const r=Aw.flatMap(({rootComponents:i=[]})=>i.map(o=>Wt(o))),n=Fre();return()=>[Wt(n.value),r]}}),t=q3e();Z3e(e),X3e(e,t,Aw);for(const r of Aw)await r.enhance?.({app:e,router:t,siteData:Jm});return e.use(t),{app:e,router:t}};eze().then(({app:e,router:t})=>{t.isReady().then(()=>{e.mount("#app")})});export{$i as _,Dt as a,ie as b,Bt as c,eze as createVueApp,wee as d,Ai as e,Pt as o,Cn as r,Lr as w};
