# ğŸšŒæ ¡å›­å·´å£« - å·¥ä½œæ—¥ (2020å¹´5æœˆ15æ—¥æ›´æ–°)

## æ¬£å›­ â†’ ç§‘ç ”æ¥¼ï¼ˆå…±132ç­ï¼‰

**æ¬£å›­**â‡‹**æ…§å›­**â‡‹ï¼ˆè”å›­â†ï¼‰ã€åˆ›å›­â‡‹ã€‘ï¼ˆæ…§å›­â†ï¼‰**è”å›­**â‡‹**å­¦ç”Ÿå®¿èˆ**â‡‹ã€ç¤¾åº·ä¸­å¿ƒâ‡‹ã€‘**æ•™å·¥é¤å…**â‡‹ã€ä¸“å®¶å…¬å¯“â‡‹ä¸‰å·é—¨â‡‹ä¸€å·é—¨â‡‹è¡Œæ”¿æ¥¼â‡‹ã€‘**ä¸ƒå·é—¨**â‡‹**ç§‘ç ”æ¥¼**

* ï¼ˆæ­¤åŒºé—´ï¼Œå•å‘åœé ï¼‰
* ã€æ­¤åŒºé—´ï¼Œé«˜å³°çº¿è¶Šç«™ã€‘

<ClientOnly>
<div id="bus-table-hl2rb">
    <table class="dataTable" id="work-bus-hl2rb">
    </table>
</div>
</ClientOnly>

## ç§‘ç ”æ¥¼ â†’ æ¬£å›­ï¼ˆå…±126ç­ï¼‰

<ClientOnly>
<div id="bus-table-rb2hl">
    <table class="dataTable" id="work-bus-rb2hl">
    </table>
</div>
</ClientOnly>


## æ™ºå›­ â†’ æ•™å·¥é£Ÿå ‚ â†’ è”å›­ï¼ˆå…±2ç­ï¼‰

<ClientOnly>
<div id="bus-table-ip2lh">
    <table class="dataTable" id="work-bus-ip2lh">
    </table>
</div>
</ClientOnly>

## å‚è€ƒæ–‡çŒ®

* 2020å¹´5æœˆ15æ—¥ `æ ¡å›­æœåŠ¡åŠå…¬å®¤ <ocs@sustech.edu.cn>` é‚®ä»¶ã€Šã€å·¥ä½œé€šçŸ¥ã€‘å…³äºè°ƒæ•´æ ¡å›­å·´å£«è¿è¡Œæ—¶åˆ»çš„é€šçŸ¥ Notice on Adjustment of Campus Bus Scheduleã€2020ã€‘22å·ã€‹
    * [ä¸‹è½½é“¾æ¥](https://cdn.jsdelivr.net/gh/sustc/sustech-online-ng@master/docs/transport/Campus_Bus_Schedule_2020.pdf)ï¼ˆå³é”® / é•¿æŒ‰ä¿å­˜ï¼‰

* 2019å¹´9æœˆ29æ—¥ `æ ¡å›­æœåŠ¡åŠå…¬å®¤ <ocs@sustech.edu.cn>` é‚®ä»¶ã€Šå…³äºè°ƒæ•´æ ¡å›­å·´å£«è¿è¡Œæ—¶åˆ»åŠè·¯çº¿çš„é€šçŸ¥ Notice on Adjustment of Campus Bus Schedule and Routesã€2019ã€‘39å·ã€‹
    * [ä¸‹è½½é“¾æ¥](https://cdn.jsdelivr.net/gh/sustc/sustech-online-ng@master/docs/transport/Campus_Bus_Schedule_1939.pdf)ï¼ˆå³é”® / é•¿æŒ‰ä¿å­˜ï¼‰

* 2019å¹´8æœˆ30æ—¥ `æ ¡å›­æœåŠ¡åŠå…¬å®¤ <ocs@sustech.edu.cn>` é‚®ä»¶ã€Šå…³äºè°ƒæ•´æ ¡å›­å·´å£«è¿è¡Œæ—¶åˆ»åŠè·¯çº¿çš„é€šçŸ¥ Notice on Adjustment of Campus Bus Schedule and Routesã€2019ã€‘30å·ã€‹
    * [ä¸‹è½½é“¾æ¥](https://cdn.jsdelivr.net/gh/sustc/sustech-online-ng@master/docs/transport/Campus_Bus_Schedule_1930.pdf)ï¼ˆå³é”® / é•¿æŒ‰ä¿å­˜ï¼‰

* 2019å¹´5æœˆ16æ—¥ `æ ¡å›­æœåŠ¡åŠå…¬å®¤ <ocs@sustech.edu.cn>` é‚®ä»¶ã€Šå…³äºè°ƒæ•´æ ¡å›­å·´å£«è¿è¡Œæ—¶åˆ»çš„é€šçŸ¥ Notification about Adjustments of the Campus Bus Scheduleã€2019ã€‘12å·ã€‹
    * [ä¸‹è½½é“¾æ¥](https://cdn.jsdelivr.net/gh/sustc/sustech-online-ng@master/docs/transport/Campus_Bus_Schedule_1912.pdf)ï¼ˆå³é”® / é•¿æŒ‰ä¿å­˜ï¼‰

* 2018å¹´12æœˆ29æ—¥ `æ ¡å›­æœåŠ¡åŠå…¬å®¤ <ocs@sustc.edu.cn>` é‚®ä»¶ã€Šå…³äºè°ƒæ•´æ ¡å›­å·´å£«è¿è¡Œæ—¶åˆ»çš„é€šçŸ¥ Notification about Adjustments of the Campus Bus Scheduleã€2018ã€‘50å·ã€‹
    * [ä¸‹è½½é“¾æ¥](https://cdn.jsdelivr.net/gh/sustc/sustech-online-ng@master/docs/transport/Campus_Bus_Schedule_1850.pdf)ï¼ˆå³é”® / é•¿æŒ‰ä¿å­˜ï¼‰

* 2018å¹´9æœˆ29æ—¥ `æ ¡å›­æœåŠ¡åŠå…¬å®¤ <ocs@sustc.edu.cn>` é‚®ä»¶ã€Šé€šçŸ¥ï¼šè°ƒæ•´æ ¡å›­å·´å£«è¿è¡Œæ—¶åˆ» Notification: Adjustments of the Campus Bus Scheduleã€2018ã€‘31å·ã€‹
    * [ä¸‹è½½é“¾æ¥](https://cdn.jsdelivr.net/gh/sustc/sustech-online-ng@master/docs/transport/Campus_Bus_Schedule_1831.pdf)ï¼ˆå³é”® / é•¿æŒ‰ä¿å­˜ï¼‰

<script>
  export default {
    mounted () {
function getTime(MinBefore) {
    // è·å–xåˆ†é’Ÿå‰çš„æ—¶é—´
    var date = new Date();
    date.setMinutes(date.getMinutes() - MinBefore);
    var h = date.getHours();
    var hour = (h < 10) ? "0" + h : h;
    var m = date.getMinutes();
    var min = (m < 10) ? "0" + m : m;
    return hour + ":" + min;
}

function update_bus_status(bus_time_table) {
    var now_20 = getTime(20);
    var now = getTime(0);
    var now_row_index = 0;
    for (var i = 0, len = bus_time_table.length; i < len; i++) {
        if (bus_time_table[i][0] < now_20) {
            bus_time_table[i][2] = "å·²åˆ°è¾¾";
            now_row_index = i;
        } else if (bus_time_table[i][0] < now) {
            bus_time_table[i][2] = "åœ¨é€”ä¸­";
        } else {
            bus_time_table[i][2] = "æœªå‘è½¦";
        }
    }
    return { "row": now_row_index, "now_table": bus_time_table }
}

// æ¬£å›­ â†’ ç§‘ç ”æ¥¼
var busdata_hl2rb = [
    ['07:00', '', ''],
    ['07:05', '', ''],
    ['07:10', '', ''],
    ['07:15', 'é«˜å³°', ''],
    ['07:20', '', ''],
    ['07:23', 'é«˜å³°', ''],
    ['07:26', 'é«˜å³°', ''],
    ['07:29', '', ''],
    ['07:32', 'é«˜å³°', ''],
    ['07:36', 'é«˜å³°', ''],
    ['07:41', 'é«˜å³°', ''],
    ['07:44', 'é«˜å³°', ''],
    ['07:47', 'é«˜å³°', ''],
    ['07:50', 'é«˜å³°', ''],
    ['07:55', '', ''],
    ['08:00', '', ''],
    ['08:05', '', ''],
    ['08:08', '', ''],
    ['08:10', '', ''],
    ['08:15', '', ''],
    ['08:20', '', ''],
    ['08:23', '', ''],
    ['08:25', '', ''],
    ['08:30', '', ''],
    ['08:35', '', ''],
    ['08:37', '', ''],
    ['08:40', '', ''],
    ['08:45', '', ''],
    ['08:50', '', ''],
    ['08:55', '', ''],
    ['08:57', '', ''],
    ['09:00', '', ''],
    ['09:05', '', ''],
    ['09:15', '', ''],
    ['09:20', '', ''],
    ['09:25', '', ''],
    ['09:30', '', ''],
    ['09:35', '', ''],
    ['09:40', '', ''],
    ['09:43', 'é«˜å³°', ''],
    ['09:46', 'é«˜å³°', ''],
    ['09:50', '', ''],
    ['09:53', 'é«˜å³°', ''],
    ['09:56', 'é«˜å³°', ''],
    ['10:00', '', ''],
    ['10:10', '', ''],
    ['10:20', '', ''],
    ['10:25', '', ''],
    ['10:30', '', ''],
    ['10:40', '', ''],
    ['10:50', '', ''],
    ['11:00', '', ''],
    ['11:10', '', ''],
    ['11:15', '', ''],
    ['11:30', '', ''],
    ['11:45', '', ''],
    ['11:50', '', ''],
    ['11:55', '', ''],
    ['12:00', '', ''],
    ['12:05', 'é«˜å³°', ''],
    ['12:10', '', ''],
    ['12:16', 'é«˜å³°', ''],
    ['12:20', '', ''],
    ['12:23', 'é«˜å³°', ''],
    ['12:26', 'é«˜å³°', ''],
    ['12:30', '', ''],
    ['12:35', 'é«˜å³°', ''],
    ['12:40', '', ''],
    ['12:50', '', ''],
    ['13:00', '', ''],
    ['13:15', '', ''],
    ['13:20', '', ''],
    ['13:25', 'é«˜å³°', ''],
    ['13:30', '', ''],
    ['13:36', 'é«˜å³°', ''],
    ['13:40', 'é«˜å³°', ''],
    ['13:40', '', ''],
    ['13:45', 'é«˜å³°', ''],
    ['13:50', '', ''],
    ['13:55', 'é«˜å³°', ''],
    ['14:00', '', ''],
    ['14:15', '', ''],
    ['14:30', '', ''],
    ['14:40', '', ''],
    ['14:50', '', ''],
    ['15:00', '', ''],
    ['15:15', '', ''],
    ['15:30', '', ''],
    ['15:40', 'é«˜å³°', ''],
    ['15:50', '', ''],
    ['15:53', 'é«˜å³°', ''],
    ['16:00', 'é«˜å³°', ''],
    ['16:05', 'é«˜å³°', ''],
    ['16:10', '', ''],
    ['16:20', '', ''],
    ['16:40', '', ''],
    ['16:50', '', ''],
    ['17:00', '', ''],
    ['17:15', '', ''],
    ['17:20', '', ''],
    ['17:30', '', ''],
    ['17:35', '', ''],
    ['17:40', '', ''],
    ['17:42', '', ''],
    ['17:45', '', ''],
    ['17:50', '', ''],
    ['17:55', '', ''],
    ['18:00', '', ''],
    ['18:05', '', ''],
    ['18:10', '', ''],
    ['18:15', '', ''],
    ['18:20', '', ''],
    ['18:25', 'é«˜å³°', ''],
    ['18:25', '', ''],
    ['18:30', '', ''],
    ['18:35', '', ''],
    ['18:40', '', ''],
    ['18:45', '', ''],
    ['18:50', '', ''],
    ['19:00', '', ''],
    ['19:10', '', ''],
    ['19:20', '', ''],
    ['19:30', '', ''],
    ['19:45', '', ''],
    ['20:00', '', ''],
    ['20:20', '', ''],
    ['20:30', '', ''],
    ['20:40', '', ''],
    ['21:00', '', ''],
    ['21:20', '', ''],
    ['21:30', '', ''],
    ['21:40', '', ''],
];

// ç§‘ç ”æ¥¼ â†’ æ¬£å›­
var busdata_rb2hl = [
    ['07:20', '', ''],
    ['07:25', '', ''],
    ['07:30', '', ''],
    ['07:35', 'é«˜å³°', ''],
    ['07:40', '', ''],
    ['07:43', 'é«˜å³°', ''],
    ['07:46', '', ''],
    ['07:50', '', ''],
    ['07:55', 'é«˜å³°', ''],
    ['08:00', '', ''],
    ['08:03', '', ''],
    ['08:06', '', ''],
    ['08:10', '', ''],
    ['08:15', '', ''],
    ['18:19', '', ''],
    ['08:22', '', ''],
    ['08:25', '', ''],
    ['08:28', '', ''],
    ['08:34', '', ''],
    ['08:38', '', ''],
    ['08:42', '', ''],
    ['08:45', '', ''],
    ['08:48', '', ''],
    ['08:52', '', ''],
    ['08:55', '', ''],
    ['08:58', '', ''],
    ['09:02', '', ''],
    ['09:05', '', ''],
    ['09:10', '', ''],
    ['09:15', '', ''],
    ['09:20', '', ''],
    ['09:25', '', ''],
    ['09:30', '', ''],
    ['09:40', '', ''],
    ['09:45', '', ''],
    ['09:50', '', ''],
    ['09:55', 'é«˜å³°', ''],
    ['09:55', 'é«˜å³°', ''],
    ['10:00', 'é«˜å³°', ''],
    ['10:05', 'é«˜å³°', ''],
    ['10:05', '', ''],
    ['10:10', '', ''],
    ['10:20', '', ''],
    ['10:25', '', ''],
    ['10:30', '', ''],
    ['10:40', '', ''],
    ['10:45', '', ''],
    ['10:50', '', ''],
    ['11:00', '', ''],
    ['11:15', '', ''],
    ['11:30', '', ''],
    ['11:40', '', ''],
    ['11:45', '', ''],
    ['11:50', '', ''],
    ['12:00', '', ''],
    ['12:05', 'é«˜å³°', ''],
    ['12:10', '', ''],
    ['12:16', 'é«˜å³°', ''],
    ['12:19', 'é«˜å³°', ''],
    ['12:20', '', ''],
    ['12:25', 'é«˜å³°', ''],
    ['12:30', '', ''],
    ['12:36', 'é«˜å³°', ''],
    ['12:40', 'é«˜å³°', ''],
    ['12:45', '', ''],
    ['12:50', 'é«˜å³°', ''],
    ['12:55', '', ''],
    ['13:00', '', ''],
    ['13:15', '', ''],
    ['13:30', '', ''],
    ['13:40', '', ''],
    ['13:45', 'é«˜å³°', ''],
    ['13:50', '', ''],
    ['13:56', 'é«˜å³°', ''],
    ['13:59', 'é«˜å³°', ''],
    ['14:00', '', ''],
    ['14:10', '', ''],
    ['14:15', 'é«˜å³°', ''],
    ['14:20', '', ''],
    ['14:30', '', ''],
    ['14:40', '', ''],
    ['14:50', '', ''],
    ['15:00', '', ''],
    ['15:10', '', ''],
    ['15:20', '', ''],
    ['15:40', '', ''],
    ['15:50', 'é«˜å³°', ''],
    ['16:00', '', ''],
    ['16:06', 'é«˜å³°', ''],
    ['16:10', 'é«˜å³°', ''],
    ['16:20', '', ''],
    ['16:30', '', ''],
    ['16:45', '', ''],
    ['17:00', '', ''],
    ['17:10', '', ''],
    ['17:20', '', ''],
    ['17:30', '', ''],
    ['17:40', '', ''],
    ['17:50', '', ''],
    ['18:00', '', ''],
    ['18:06', 'é«˜å³°', ''],
    ['18:10', '', ''],
    ['18:16', 'é«˜å³°', ''],
    ['18:20', 'é«˜å³°', ''],
    ['18:20', '', ''],
    ['18:25', 'é«˜å³°', ''],
    ['18:30', '', ''],
    ['18:40', '', ''],
    ['18:45', 'é«˜å³°', ''],
    ['18:50', '', ''],
    ['19:00', '', ''],
    ['19:20', '', ''],
    ['19:40', '', ''],
    ['19:50', '', ''],
    ['20:00', '', ''],
    ['20:20', '', ''],
    ['20:40', '', ''],
    ['20:55', 'é«˜å³°', ''],
    ['21:00', '', ''],
    ['21:03', 'é«˜å³°', ''],
    ['21:20', '', ''],
    ['21:58', 'é«˜å³°', ''],
    ['22:00', 'é«˜å³°', ''],
    ['22:00', '', ''],
    ['22:10', 'é«˜å³°', ''],
    ['22:30', '', '']
];

// æ™ºå›­ â†’ æ•™å·¥é£Ÿå ‚
var busdata_ip2lh = [
    ["11:50", "", ""],
    ["17:45", "", ""],
];


function build_all_table() {
    if ($.fn.DataTable.isDataTable('#hl2rb')) {
        return;
    }

    var dtb_config = {
        scrollY: 300,
        paging: false,
        searching: false,
        bFilter: false,
        info: false,
        columns: [
            { title: "å‘è½¦æ—¶é—´" },
            { title: "å¹³æ—¶/é«˜å³°", "orderable": false },
            { title: "çŠ¶æ€", "orderable": false },
        ],
        rowCallback: function (row, data, index) {
            if (data[2] == "å·²åˆ°è¾¾") {
                $('td', row).css('background-color', '#003f43'); // SUSTech dark green
                $('td', row).css('color', '#FFFFFF');
            }
            else if (data[2] == "åœ¨é€”ä¸­") {
                $('td', row).css('background-color', '#ed6c00'); // SUSTech orange
                $('td', row).each(function () {
                    $(this).html('<b>' + $(this).text() + '</b>');
                });
            }
        }
    }

    // high land - research building
    var tmp = update_bus_status(busdata_hl2rb);
    busdata_hl2rb = tmp.now_table;
    var now_bus_row_hl2rb = tmp.row;
    var ins_table_hl2rb = $('#work-bus-hl2rb').DataTable($.extend(true, { data: busdata_hl2rb }, dtb_config));
    var now_bus_offset = $(ins_table_hl2rb.row(Math.min(now_bus_row_hl2rb, busdata_hl2rb.length)).node()).offset().top - $(ins_table_hl2rb.row(0).node()).offset().top;
    $("#bus-table-hl2rb .dataTables_scrollBody").scrollTop(now_bus_offset);

    // research building - high land
    var tmp = update_bus_status(busdata_rb2hl);
    busdata_rb2hl = tmp.now_table;
    var now_bus_row_rb2hl = tmp.row;
    var ins_table_rb2hl = $('#work-bus-rb2hl').DataTable($.extend(true, { data: busdata_rb2hl }, dtb_config));
    var now_bus_offset = $(ins_table_rb2hl.row(Math.min(now_bus_row_rb2hl, busdata_rb2hl.length)).node()).offset().top - $(ins_table_rb2hl.row(0).node()).offset().top;
    $("#bus-table-rb2hl .dataTables_scrollBody").scrollTop(now_bus_offset);

    // i park - lychee hill
    var tmp = update_bus_status(busdata_ip2lh);
    busdata_ip2lh = tmp.now_table;
    var now_bus_row_ip2lh = tmp.row;
    var ins_table_ip2lh = $('#work-bus-ip2lh').DataTable($.extend(true, { data: busdata_ip2lh }, dtb_config));
    var now_bus_offset = $(ins_table_ip2lh.row(Math.min(now_bus_row_ip2lh, busdata_ip2lh.length)).node()).offset().top - $(ins_table_ip2lh.row(0).node()).offset().top;
    $("#bus-table-ip2lh .dataTables_scrollBody").scrollTop(now_bus_offset);
}

document.addEventListener('DOMContentLoaded', build_all_table, false);

$(document).ready(function () {
    build_all_table();
});
    }
  }
</script>
